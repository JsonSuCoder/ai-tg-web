"use strict";(self.webpackChunkTeleGPT=self.webpackChunkTeleGPT||[]).push([[5278],{25404:(e,t,n)=>{n.d(t,{A:()=>u});var o=n(84051),a=n(13439),i=n(31481),r=n(85982),s=n(17663),c=n(80140),l=n(39351),d=n(17712),m=n(59030),A=n(24433);const u=(0,o.ph)(({peerId:e,canManage:t,gift:n,currentUserEmojiStatus:u,collectibleEmojiStatuses:g})=>{const{showNotification:p,openChatWithDraft:y,openGiftTransferModal:f,openGiftResalePriceComposerModal:h,openGiftStatusInfoModal:v,setEmojiStatus:E,toggleSavedGiftPinned:C,changeGiftVisibility:I,updateStarGiftPrice:b,closeGiftInfoModal:k}=(0,a.ko)(),P=(0,l.A)(),S=(0,m.A)(),N=n&&"gift"in n,T=N?n:void 0,F=N?n.gift:n,w="starGiftUnique"===F?.type?F.slug:void 0,G=(0,o.Kr)(()=>{if(w)return`${i.jsp}nft/${w}`},[w]),M=(0,o.Kr)(()=>{if(w)return g?.find(e=>"collectible"===e.type&&e.slug===w)},[w,g]),x="collectible"===u?.type?u.slug:void 0,B=F&&"starGiftUnique"===F.type,U=B&&x===F.slug,R=M&&!U,L=B?F.resellPrice:void 0,V=t&&T&&!T.isUnsaved&&B,j=(0,d.A)(()=>{const{inputGift:e,isUnsaved:t}=T;I({gift:e,shouldUnsave:!t})}),D=(0,d.A)(()=>{G&&((0,r.eM)(G),p({message:P("LinkCopied")}))}),O=(0,d.A)(()=>{G&&y({text:{text:G}})}),W=(0,d.A)(()=>{T&&"starGiftUnique"===T?.gift.type&&(T.canTransferAt&&T.canTransferAt>(0,c.Fm)()?p({message:{key:"NotificationGiftCanTransferAt",variables:{date:(0,s.U)(S,1e3*T.canTransferAt)}}}):f({gift:T}))}),K=(0,d.A)(()=>{T&&(T.canResellAt&&T.canResellAt>(0,c.Fm)()?p({message:{key:"NotificationGiftCanResellAt",variables:{date:(0,s.U)(S,1e3*T.canResellAt)}}}):h({peerId:e,gift:T}))}),z=(0,d.A)(()=>{T&&"starGiftUnique"===T.gift.type&&T.inputGift&&(k(),b({gift:T.inputGift,price:{currency:"XTR",amount:0,nanos:0}}),p({icon:"unlist-outline",message:{key:"NotificationGiftIsUnlist",variables:{gift:P("GiftUnique",{title:T.gift.title,number:T.gift.number})}}}))}),J=(0,d.A)(()=>{"starGiftUnique"===F?.type&&M&&v({emojiStatus:M})}),q=(0,d.A)(()=>{U&&E({emojiStatus:{type:"regular",documentId:i.zNY}})}),Q=(0,d.A)(()=>{C({peerId:e,gift:T})});return o.Ay.createElement(o.Ay.Fragment,null,V&&o.Ay.createElement(A.A,{icon:T.isPinned?"unpin":"pin",onClick:Q},P(T.isPinned?"ChatListUnpinFromTop":"ChatListPinToTop")),o.Ay.createElement(A.A,{icon:"link-badge",onClick:D},P("CopyLink")),o.Ay.createElement(A.A,{icon:"forward",onClick:O},P("Share")),t&&B&&o.Ay.createElement(A.A,{icon:"diamond",onClick:W},P("GiftInfoTransfer")),t&&B&&!L&&o.Ay.createElement(A.A,{icon:"sell-outline",onClick:K},P("Sell")),t&&B&&Boolean(L)&&o.Ay.createElement(A.A,{icon:"unlist-outline",onClick:z},P("GiftInfoUnlist")),t&&T&&o.Ay.createElement(A.A,{icon:T.isUnsaved?"eye-outline":"eye-crossed-outline",onClick:j},P(T.isUnsaved?"GiftActionShow":"GiftActionHide")),R&&o.Ay.createElement(A.A,{icon:"crown-wear-outline",onClick:J},P("GiftInfoWear")),U&&o.Ay.createElement(A.A,{icon:"crown-take-off-outline",onClick:q},P("GiftInfoTakeOff")))})},36143:(e,t,n)=>{n.d(t,{A:()=>we});var o=n(84051),a=n(13439),i=n(23174),r=n(89925),s=n(31481),c=n(90709),l=n(26129),d=n(60919),m=n(96454),A=n(87357),u=n(60343),g=n(41512),p=n(54464),y=n(43874),f=n(10722),h=n(49746),v=n(37661),E=n(5912),C=n(17712),I=n(14622),b=n(34201),k=n(48196),P=n(79519),S=n(96773),N=n(76023),T=n(21849),F=n(50805);const w=15*N.$,G=(0,o.ph)(({action:e,onClick:t,observeIntersection:n})=>o.Ay.createElement(T.A,{className:F.A.channelPhoto,photo:e.photo,loopIndefinitely:!0,withVideo:!0,observeIntersection:n,onClick:t,size:w}));var M=n(17142),x=n(18501),B=n(39351),U=n(85118),R=n(82855);const L=(0,o.ph)((0,a.EK)((e,{action:t})=>({sticker:"giftPremium"===t.type?(0,d.t0O)(e,t.months):"giftStars"===t.type?(0,d.WLj)(e,t.stars):(0,d.OD9)(e,t.cryptoAmount),canPlayAnimatedEmojis:(0,d.BWX)(e)}))(({action:e,sticker:t,canPlayAnimatedEmojis:n,onClick:a,observeIntersectionForLoading:i,observeIntersectionForPlaying:r})=>{const s=(0,o.li)(),c=(0,B.A)(),l="giftPremium"===e.type?e.message:void 0;return o.Ay.createElement("div",{className:F.A.contentBox,tabIndex:0,role:"button",onClick:a},o.Ay.createElement("div",{ref:s,className:F.A.stickerWrapper,style:"width: 150px; height: 150px"},t&&o.Ay.createElement(R.A,{containerRef:s,sticker:t,size:150,observeIntersectionForLoading:i,observeIntersectionForPlaying:r,noLoad:!n})),o.Ay.createElement("div",{className:F.A.info},o.Ay.createElement("h3",{className:F.A.title},"giftPremium"===e.type?c("ActionGiftPremiumTitle",{months:e.months},{pluralValue:e.months}):"giftStars"===e.type?c("ActionGiftStarsTitle",{amount:e.stars},{pluralValue:e.stars}):(()=>{const{cryptoAmount:t,cryptoCurrency:n}=e;return t?(0,M.vv)(c,t,n,{asFontIcon:!0}):void 0})()),o.Ay.createElement("div",null,l&&(0,x.fd)(l),!l&&c("giftTon"===e.type?"DescriptionAboutTon":"giftPremium"===e.type?"ActionGiftPremiumText":"ActionGiftStarsText"))),o.Ay.createElement("div",{className:F.A.actionButton},o.Ay.createElement(U.A,{preset:"button"}),c("ActionViewButton")))}));var V=n(70636),j=n(4262);const D=(0,o.ph)((0,a.EK)((e,{action:t})=>({currentUserId:e.currentUserId,sticker:"giftCode"===t.type?(0,d.t0O)(e,t.months):(0,d.WLj)(e,t.stars),canPlayAnimatedEmojis:(0,d.BWX)(e),channel:t.boostPeerId?(0,d.hds)(e,t.boostPeerId):void 0}))(({currentUserId:e,action:t,sender:n,sticker:a,canPlayAnimatedEmojis:i,channel:r,onClick:s,observeIntersectionForLoading:c,observeIntersectionForPlaying:l})=>{const d=(0,o.li)(),m=(0,B.A)(),A=(0,o.Kr)(()=>{const e=r&&(0,V.F9)(m,r),t=m("ActionFallbackChannel");return(0,j.Nm)(r?.id,e||t)},[r,m]),u=(0,o.Kr)(()=>{const e=r||n,t=e&&(0,V.F9)(m,e),o=m("ActionFallbackChat");return(0,j.Nm)(e?.id,t||o)},[r,n,m]);return o.Ay.createElement("div",{className:F.A.contentBox,tabIndex:0,role:"button",onClick:s},o.Ay.createElement("div",{ref:d,className:F.A.stickerWrapper,style:"width: 150px; height: 150px"},a&&o.Ay.createElement(R.A,{containerRef:d,sticker:a,size:150,observeIntersectionForLoading:c,observeIntersectionForPlaying:l,noLoad:!i})),o.Ay.createElement("div",null,o.Ay.createElement("h3",{className:F.A.title},m("giftCode"!==t.type||t.isViaGiveaway?"ActionGiveawayResultTitle":"GiftInfoTitle")),o.Ay.createElement("div",null,"giftCode"===t.type&&(t.isViaGiveaway?m("ActionGiveawayResultPremiumText",{channel:A,months:t.months},{withNodes:!0,withMarkdown:!0,pluralValue:t.months,renderTextFilters:["br"]}):(0,j.AD)(m,"ActionGiftCodeSubscriptionText",n?.id===e,{peer:u,months:t.months},{pluralValue:t.months,renderTextFilters:["br"]})),"prizeStars"===t.type&&m("ActionGiveawayResultStarsText",{amount:t.stars,channel:A},{withNodes:!0,withMarkdown:!0,pluralValue:t.stars,renderTextFilters:["br"]}))),o.Ay.createElement("div",{className:F.A.actionButton},o.Ay.createElement(U.A,{preset:"button"}),m("giftCode"===t.type?"ActionOpenGiftButton":"ActionViewButton")))}));var O=n(48775),W=n(80140),K=n(14242),z=n(66833),J=n(87094),q=n(87049);const Q=(0,o.ph)((0,a.EK)((e,{message:t,action:n})=>{const o=(0,d.mBe)(e,e.currentUserId),a=(0,d.BWX)(e),i=(0,d.Y7C)(e,t),r=n.fromId?(0,d.PVB)(e,n.fromId):void 0,s=t.isOutgoing?(0,d.PVB)(e,t.chatId):o;return{canPlayAnimatedEmojis:a,sender:r||i,recipient:(n.peerId?(0,d.PVB)(e,n.peerId):void 0)||s,starGiftMaxConvertPeriod:e.appConfig?.starGiftMaxConvertPeriod}})(({action:e,message:t,canPlayAnimatedEmojis:n,sender:a,recipient:i,starGiftMaxConvertPeriod:r,onClick:s,observeIntersectionForLoading:l,observeIntersectionForPlaying:d})=>{const u=(0,o.li)(),g=(0,o.li)(),p=(0,B.A)(),[y,f,h]=(0,v.A)(),{isOutgoing:E}=t,C=(0,z.yQ)(e.gift),I=E?i:a,b=I&&(0,V.vj)(I)&&(0,c.WX)(I),k=(0,J.A)(u,"background-color",!e.gift.availabilityTotal),P=p("ActionFallbackSomeone"),S=I&&(0,V.F9)(p,I),N=a?.id===i?.id,T=(0,o.Kr)(()=>{const n=(0,j.Nm)(I?.id,S||P),o=void 0!==e.starsToConvert?(0,O.Kk)(p,e.starsToConvert):void 0;return e.isUpgraded?p("ActionStarGiftUpgraded"):e.alreadyPaidUpgradeStars?(0,j.AD)(p,"ActionStarGiftUpgradeText",!E||N,{peer:n}):e.isConverted?(0,j.AD)(p,"ActionStarGiftConvertedText",!E||N,{peer:n,amount:o}):r&&(0,W.Fm)()<t.date+r?(0,j.AD)(p,"ActionStarGiftConvertText",!E||N,{peer:n,amount:o}):b?p("ActionStarGiftChannelText",{amount:o},{withNodes:!0}):(0,j.AD)(p,"ActionStarGiftNoConvertText",!E||N,{peer:n})},[e,P,b,E,p,t.date,I?.id,S,r,N]);return o.Ay.createElement("div",{ref:u,className:(0,A.A)("interactive-gift",F.A.contentBox,F.A.starGift),tabIndex:0,role:"button",onClick:s,onMouseEnter:m.TF?void 0:f,onMouseLeave:m.TF?void 0:h},o.Ay.createElement("div",{ref:g,className:F.A.stickerWrapper,style:"width: 120px; height: 120px"},C&&o.Ay.createElement(R.A,{containerRef:g,sticker:C,size:120,shouldLoop:y,observeIntersectionForLoading:l,observeIntersectionForPlaying:d,noLoad:!n})),Boolean(e.gift.availabilityTotal)&&o.Ay.createElement(q.A,{color:k||"blue",text:p("ActionStarGiftLimitedRibbon",{total:(0,K.Vw)(p,e.gift.availabilityTotal)})}),o.Ay.createElement("div",{className:F.A.info},o.Ay.createElement("h3",{className:F.A.title},N?p("ActionStarGiftSelf"):p(E?"ActionStarGiftTo":"ActionStarGiftFrom",{peer:(0,j.Nm)(I?.id,S||P)},{withNodes:!0})),o.Ay.createElement("div",{className:F.A.subtitle},e.message&&(0,x.fd)(e.message),!e.message&&T)),o.Ay.createElement("div",{className:F.A.actionButton},o.Ay.createElement(U.A,{preset:"button"}),!e.alreadyPaidUpgradeStars||e.isUpgraded||E?p("ActionViewButton"):p("ActionStarGiftUnpack")))}));var H=n(95807),$=n(92108),X=n(40558);const Y=(0,o.ph)((0,a.EK)((e,{message:t,action:n})=>{const o=(0,d.mBe)(e,e.currentUserId),a=(0,d.BWX)(e),i=(0,d.Y7C)(e,t),r=n.fromId?(0,d.PVB)(e,n.fromId):void 0,s=t.isOutgoing?(0,d.PVB)(e,t.chatId):o;return{canPlayAnimatedEmojis:a,sender:r||i,recipient:(n.peerId?(0,d.PVB)(e,n.peerId):void 0)||s}})(({action:e,message:t,canPlayAnimatedEmojis:n,sender:a,recipient:i,onClick:r,observeIntersectionForLoading:s,observeIntersectionForPlaying:c})=>{const l=(0,o.li)(),d=(0,B.A)(),[u,g,p]=(0,v.A)(),{isOutgoing:y}=t,f=(0,z.yQ)(e.gift),h=(0,z.uc)(e.gift),E=h.model,C=h.pattern,I=h.backdrop,b=[I.centerColor,I.edgeColor],k=`${I.patternColor.slice(0,7)}55`,P=(0,o.Kr)(()=>[[d("ActionStarGiftUniqueModel"),E.name],[d("ActionStarGiftUniqueBackdrop"),I.name],[d("ActionStarGiftUniqueSymbol"),C.name]],[d,E,C,I]),S=!y||e.isUpgrade,N=S&&!e.isUpgrade?a:i,T=d("ActionFallbackSomeone"),w=N&&(0,V.F9)(d,N),G=a?.id===i?.id;return o.Ay.createElement("div",{className:(0,A.A)("interactive-gift",F.A.contentBox,F.A.starGift,F.A.uniqueGift),tabIndex:0,role:"button",onClick:r,onMouseEnter:m.TF?void 0:g,onMouseLeave:m.TF?void 0:p},o.Ay.createElement("div",{className:F.A.uniqueBackgroundWrapper},o.Ay.createElement(X.A,{className:F.A.uniqueBackground,backgroundColors:b,patternColor:I.patternColor,patternIcon:C.sticker,clearBottomSector:!0})),o.Ay.createElement("div",{ref:l,className:F.A.stickerWrapper,style:"width: 120px; height: 120px"},f&&o.Ay.createElement(R.A,{containerRef:l,sticker:f,size:120,shouldLoop:u,observeIntersectionForLoading:s,observeIntersectionForPlaying:c,noLoad:!n})),o.Ay.createElement(q.A,{color:k,text:d("ActionStarGiftUniqueRibbon")}),o.Ay.createElement("div",{className:F.A.info},o.Ay.createElement("h3",{className:F.A.title},G?d("ActionStarGiftSelf"):d(S?"ActionStarGiftFrom":"ActionStarGiftTo",{peer:(0,j.Nm)(N?.id,w||T)},{withNodes:!0})),o.Ay.createElement("div",{className:F.A.subtitle,style:`color: ${I.textColor}`},d("GiftUnique",{title:e.gift.title,number:e.gift.number})),o.Ay.createElement($.A,{data:P,style:`color: ${I.textColor}`,valueClassName:F.A.uniqueValue})),o.Ay.createElement("div",{className:F.A.actionButton,style:(0,H.A)(k&&`background-color: ${k}`)},o.Ay.createElement(U.A,{preset:"button"}),d("ActionViewButton")))}));var Z=n(87679),_=n(62587),ee=n(94189),te=n(90751);const ne=(0,o.ph)((0,a.EK)((e,{message:t})=>({peer:(0,d.PVB)(e,t.chatId)}))(({message:e,action:t,peer:n,observeIntersection:s})=>{const{openMediaViewer:l,uploadProfilePhoto:d,showNotification:m}=(0,a.ko)(),{isOutgoing:A}=e,u=t.photo,g=(0,B.A)(),[p,y]=(0,o.J0)(),[f,h,E]=(0,v.A)(!1),I=(0,_.A)((0,c.rI)(u,"full")),b=(0,_.A)((0,c.Pg)(u)),k=u.isVideo,P=(0,o.Kr)(()=>{const e=n&&(0,V.F9)(g,n)||g("ActionFallbackUser"),t=(0,j.Nm)(n?.id,e);return g(A?"ActionSuggestedPhotoYou":"ActionSuggestedPhoto",{user:t},{withNodes:!0})},[g,A,n]),S=(0,C.A)(()=>{m({title:g("ActionSuggestedPhotoUpdatedTitle"),message:g("ActionSuggestedPhotoUpdatedDescription"),action:{action:"openSettingsScreen",payload:{screen:r.VS.Main}},actionText:g("Open")})}),N=(0,C.A)(e=>{y(void 0),d({file:e}),S()}),w=(0,C.A)(()=>{y(void 0)}),G=(0,C.A)(async()=>{if(!b)return;E(),S();const e=await(0,Z.sZ)(b);d({file:new File([e],"avatar.mp4"),isVideo:!0,videoTs:u.videoSizes?.find(e=>void 0!==e.videoStartTs)?.videoStartTs})});return o.Ay.createElement("div",{className:F.A.contentBox,tabIndex:0,role:"button",onClick:async()=>{!A&&I?k?h():y(await(0,Z.sZ)(I)):l({chatId:e.chatId,messageId:e.id,threadId:i.l3,origin:r.TQ.SuggestedAvatar})}},o.Ay.createElement(T.A,{className:F.A.suggestedAvatar,photo:t.photo,loopIndefinitely:!0,withVideo:!0,observeIntersection:s,size:"jumbo"}),o.Ay.createElement("div",{className:F.A.suggestedText},P),o.Ay.createElement("div",{className:F.A.actionButton},g("ActionSuggestedPhotoButton")),o.Ay.createElement(te.A,{file:p,onClose:w,onChange:N}),o.Ay.createElement(ee.A,{isOpen:f,title:g("ActionSuggestedVideoTitle"),confirmHandler:G,onClose:E,text:g("ActionSuggestedVideoText")}))}));var oe=n(17663),ae=n(4961),ie=n(59030);const re=(0,o.ph)((0,a.EK)((e,{message:t})=>{const n=(0,d.Y7C)(e,t),o=(0,d.k2W)(e,t.chatId),a=(0,l.Q)(t);let i;if("message"===a?.type&&a.replyToMsgId){const n=(0,d.gMr)(e,t);n&&(i=(0,d.Y7C)(e,n))}const{appConfig:r}=e;return{sender:n,chat:o,originalSender:i,ageMinSeconds:r?.starsSuggestedPostAgeMin||s.Qep,isAdmin:!!o&&Boolean((0,d.ODG)(e,t.chatId))}})(({message:e,action:t,sender:n,chat:a,originalSender:i,ageMinSeconds:r,isAdmin:c,onClick:l})=>{const d=(0,B.A)(),m=(0,ie.A)(),{scheduleDate:u,amount:g}=t,p=a&&(0,V.em)(d,a),y=()=>(0,j.Nm)(a?.id,p||d("ActionFallbackChat")),f=i&&(0,V.em)(d,i),h=(0,j.Nm)(i?.id,f||d("ActionFallbackUser")),v=u?(0,oe.e0)(u,d,m):d("SuggestMessageAnytime"),E=!!u&&u<=(0,W.Fm)(),C=g?.currency,I=g?.amount||0,b=I>0?C===s.ykW?(0,O.QH)(d,(0,M.wD)(I)):(0,O.Kk)(d,I):void 0,k=(0,oe.A$)(d,r,!0);return o.Ay.createElement("div",{className:(0,A.A)(F.A.contentBox,F.A.suggestedPostContentBox),onClick:l},o.Ay.createElement("div",{className:F.A.suggestedPostApprovalTitle},(0,ae.A)(d("SuggestedPostAgreementReached"))),o.Ay.createElement("div",{className:F.A.suggestedPostApprovalSection},(0,j.AD)(d,E?"SuggestedPostPublished":"SuggestedPostPublishSchedule",!c,{peer:y(),date:v},{withMarkdown:!0})),b&&o.Ay.createElement("div",{className:F.A.suggestedPostApprovalSection},(0,j.AD)(d,"SuggestedPostCharged",!c,{user:h,amount:b},{withMarkdown:!0})),E&&b&&o.Ay.createElement(o.Ay.Fragment,null,o.Ay.createElement("div",{className:F.A.suggestedPostApprovalSection},(0,j.AD)(d,"SuggestedPostReceiveAmount",!c,{peer:y(),duration:k,currency:C===s.ykW?d("CurrencyTon"):d("CurrencyStars")},{withMarkdown:!0})),o.Ay.createElement("div",{className:F.A.suggestedPostApprovalSection},(0,j.AD)(d,"SuggestedPostRefund",!c,{peer:y(),duration:k,currency:C===s.ykW?d("CurrencyTon"):d("CurrencyStars")},{withMarkdown:!0}))))})),se=(0,o.ph)((0,a.EK)((e,{message:t})=>{const n=(0,d.Y7C)(e,t),o="message"===t.replyInfo?.type&&t.replyInfo.replyToMsgId?(0,d.O5q)(e,t.chatId,t.replyInfo.replyToMsgId):void 0;return{sender:n,replyMessageSender:o?(0,d.Y7C)(e,o):void 0,replyMessage:o}})(({onClick:e,message:t,sender:n,replyMessageSender:i,replyMessage:r})=>{const{openStarsBalanceModal:c}=(0,a.ko)(),l=(0,B.A)(),d=(0,C.A)(e=>{e.preventDefault(),e.stopPropagation(),c({})}),m=i||n,u=m&&(0,V.em)(l,m),g=(0,j.Nm)(m?.id,u||l("ActionFallbackUser")),p=r?.suggestedPostInfo?.price?.currency||s.OUy,y=p===s.ykW?l("CurrencyTon"):l("CurrencyStars"),f=p===s.ykW?l("ButtonTopUpViaFragment"):l("ButtonBuyStars");return o.Ay.createElement("div",{className:(0,A.A)(F.A.contentBox,F.A.suggestedPostBalanceTooLowBox),onClick:e},o.Ay.createElement("div",{className:F.A.suggestedPostBalanceTooLowTitle},l("SuggestedPostBalanceTooLow",{peer:g,currency:y},{withNodes:!0,withMarkdown:!0})),!t.isOutgoing&&o.Ay.createElement("div",{className:F.A.actionButton,onClick:d},o.Ay.createElement(U.A,{preset:"button"}),f))}));var ce=n(54746);const le=(0,o.ph)((0,a.EK)((e,{message:t})=>({sender:(0,d.Y7C)(e,t)}))(({message:e,action:t,sender:n,onClick:a})=>{const i=(0,B.A)(),{isOutgoing:r}=e,{rejectComment:s}=t,c=n&&(0,V.F9)(i,n),l=(0,j.Nm)(n?.id,c||i("ActionFallbackUser"));return o.Ay.createElement("div",{className:(0,A.A)(F.A.contentBox,F.A.suggestedPostRejectedContentBox),onClick:a},o.Ay.createElement("div",{className:F.A.suggestedPostRejectedTitle},o.Ay.createElement(ce.A,{className:F.A.rejectedIcon,name:"close"}),(0,j.AD)(i,s?"SuggestedPostRejectedWithReason":"SuggestedPostRejected",r,{peer:l},{withMarkdown:!0})),s&&o.Ay.createElement("div",{className:F.A.suggestedPostRejectedComment},i("SuggestedPostRejectedComment",{comment:s})))}));var de=n(99515),me=n(43581),Ae=n(14737),ue=n(48894);var ge=n(36838),pe=n(64493),ye=n(55158);const fe="d8axZxyN",he="glDpC2av",ve="gqCs9fSo",Ee="gnYhwnvf",Ce="HWgwnKui",Ie="BTNQ4KBH",be="Xl9MVMTn",ke="Qizai7yv";function Pe({channel:e}){const{openChat:t}=(0,a.ko)(),n=function(e,t="#00000000"){const[n,a]=(0,o.J0)(t),r=(0,_.A)((0,c.cP)(e),!1,i.qZ.BlobUrl);return(0,o.vJ)(()=>{(async()=>{if(!r)return;const e=await(0,ue.rX)(r);a(`#${(0,ue.v2)(e)}`)})()},[r]),n}(e,"#3C3C4399"),r=(0,B.A)();return o.Ay.createElement("div",{className:he,onClick:()=>t({id:e.id})},o.Ay.createElement(T.A,{className:ve,key:e.id,size:"large",peer:e}),o.Ay.createElement("div",{style:`background: ${n}`,className:Ee},o.Ay.createElement(ce.A,{name:"user-filled",className:fe}),o.Ay.createElement("span",{className:Ce},(0,K.Vw)(r,e?.membersCount||0))),o.Ay.createElement("span",{className:Ie},e.title))}function Se({channel:e,chatId:t,channelsCount:n,isCurrentUserPremium:i}){const{openPremiumModal:r,openChatWithInfo:s}=(0,a.ko)(),c=(0,ie.A)();return o.Ay.createElement("div",{className:(0,A.A)(he,"MBChXyXk"),onClick:()=>{i?s({id:t,shouldReplaceHistory:!0,profileTab:"similarChannels",forceScrollProfileTab:!0}):r()}},o.Ay.createElement(T.A,{className:ve,key:e.id,size:"large",peer:e}),o.Ay.createElement("div",{className:be},o.Ay.createElement("div",{className:ke})),o.Ay.createElement("div",{className:(0,A.A)(be,"JxSmtOFi")},o.Ay.createElement("div",{className:ke})),o.Ay.createElement("div",{className:Ee},o.Ay.createElement("span",{className:Ce},`+${n}`),!i&&o.Ay.createElement(ce.A,{name:"lock-badge",className:fe})),o.Ay.createElement("span",{className:Ie},c("MoreSimilar")))}const Ne=(0,o.ph)((0,a.EK)((e,{chatId:t})=>{const{similarChannelIds:n,isExpanded:o,count:a}=(0,d.dg4)(e,t)||{},i=(0,d.g29)(e),r=(0,d.AWZ)(e,t);return{similarChannelIds:n,isExpanded:o,count:a,isCurrentUserPremium:i,channelJoinInfo:r?.joinInfo}})(({chatId:e,similarChannelIds:t,isExpanded:n,count:i,isCurrentUserPremium:r,channelJoinInfo:s})=>{const{toggleChannelRecommendations:c,loadChannelRecommendations:l}=(0,a.ko)(),m=(0,ie.A)(),[u,g,p]=(0,v.A)(!1),[y,f,h]=(0,v.A)(!1),E=(0,o.li)(),I=(0,o.li)(!1),b=(0,o.Kr)(()=>{if(!t)return;const e=(0,a.mS)();return t.map(t=>(0,d.hds)(e,t)).filter(Boolean)},[t]),[k,P]=(0,o.J0)(!1),S=(0,o.Kr)(()=>b?.slice(0,10),[b]),N=Boolean(S?.length),T=Boolean(!k&&(n||y||u)&&N);(0,ge.A)(E,!T,!0),(0,o.vJ)(()=>{t||l({chatId:e})},[e,t]),(0,Ae.A)(()=>P(!1),2e3),(0,o.vJ)(()=>{if(k&&b&&n){const e=setTimeout(()=>{P(!1)},300);return()=>clearTimeout(e)}},[b,n,k]),(0,o.vJ)(()=>{n?(g(),h(),P(!t),I.current||setTimeout(()=>{E.current?.scrollIntoView({behavior:"smooth"})},150)):(p(),f())},[n,t]);const F=(0,C.A)(()=>{c({chatId:e})});if((0,o.vJ)(()=>{s?.joinedDate&&!n&&(0,W.Fm)()-s.joinedDate<=10&&(F(),I.current=!0)},[s,n]),T||k)return o.Ay.createElement("div",{className:(0,A.A)("V3RHiOJR")},k&&o.Ay.createElement(ye.A,{className:"xKVZv7KE"}),T&&o.Ay.createElement("div",{className:(0,A.A)(u&&"eb8rX09E",y&&"XR6_qLCc")},o.Ay.createElement("div",{className:"tfG_BSDt"},o.Ay.createElement("svg",{width:"19",height:"7",viewBox:"0 0 19 7",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o.Ay.createElement("path",{className:"HVbeGv4t","fill-rule":"evenodd","clip-rule":"evenodd",d:"M19 7C16.8992 7 13.59 3.88897 11.5003 1.67424C10.7648 0.894688 10.397 0.50491 10.0434 0.385149C9.70568 0.270811 9.4225 0.270474 9.08456 0.38401C8.73059 0.50293 8.36133 0.892443 7.62279 1.67147C5.52303 3.88637 2.18302 7 0 7L19 7Z",fill:"white"}))),o.Ay.createElement("div",{className:"njAC8dR9"},o.Ay.createElement("div",{className:"s7QOi22Q"},o.Ay.createElement("span",{className:"JstcOhAN"},m("SimilarChannels")),o.Ay.createElement(pe.A,{className:"meewH7t_",color:"translucent",onClick:F},o.Ay.createElement(ce.A,{name:"close"}))),o.Ay.createElement("div",{ref:E,className:(0,A.A)("h4gWlNen","no-scrollbar")},S?.map((t,n)=>9===n?o.Ay.createElement(Se,{channel:t,chatId:e,channelsCount:i-10+1,isCurrentUserPremium:r}):o.Ay.createElement(Pe,{channel:t}))))))})),Te=new Set(["pinMessage","chatEditPhoto","chatDeletePhoto","todoCompletions","todoAppendTasks","unsupported"]),Fe=new Set(["giftCode","prizeStars","suggestProfilePhoto","suggestedPostApproval"]),we=(0,o.ph)((0,a.EK)((e,{message:t,threadId:n})=>{const o=(0,d.nTw)(e),{themes:a}=e.settings,r=(0,d.hds)(e,t.chatId),s=(0,d.Y7C)(e,t),c=r?.isForum&&n!==i.l3,{replyToMsgId:m,replyToPeerId:A}=(0,l.Q)(t)||{},u=m?(0,d.O5q)(e,A||t.chatId,m):void 0,g=!!n&&(0,d.nJv)(e,t,n),{direction:p,noHighlight:y,isResizingContainer:f,scrollTargetPosition:h}=g&&o.focusedMessage||{},v=(0,d.g29)(e),E=r?.unreadReactions?.includes(t.id),C=(0,d.trm)(e);return{sender:s,currentUserId:e.currentUserId,isCurrentUserPremium:v,isFocused:g,focusDirection:p,noFocusHighlight:y,isInsideTopic:c,replyMessage:u,isInSelectMode:(0,d.rTV)(e),patternColor:a[(0,d.SJA)(e)]?.patternColor,hasUnreadReaction:E,isResizingContainer:f,scrollTargetPosition:h,isAccountFrozen:C}})(({message:e,threadId:t,sender:n,currentUserId:i,appearanceOrder:d,isJustAdded:N,isLastInList:T,memoFirstUnreadIdRef:w,getIsMessageListReady:M,isInsideTopic:x,isFocused:B,focusDirection:U,noFocusHighlight:R,replyMessage:V,patternColor:j,isCurrentUserPremium:O,isInSelectMode:W,hasUnreadReaction:K,isResizingContainer:z,scrollTargetPosition:J,onIntersectPinnedMessage:q,observeIntersectionForBottom:H,observeIntersectionForLoading:$,observeIntersectionForPlaying:X,isAccountFrozen:Z})=>{const{requestConfetti:_,openMediaViewer:ee,getReceipt:te,checkGiftCode:oe,openPrizeStarsTransactionFromGiveaway:ae,openPremiumModal:ie,openStarsTransactionFromGift:ce,openGiftInfoModalFromMessage:Ae,toggleChannelRecommendations:ue,animateUnreadReaction:ge,markMentionsRead:pe,focusMessage:ye}=(0,a.ko)(),fe=(0,o.li)(),{id:he,chatId:ve}=e,Ee=e.content.action,Ce=(0,u.iL)(he),Ie=Fe.has(Ee.type),be=Te.has(Ee.type),ke=m.uH&&!be,Pe="suggestedPostSuccess"===Ee.type,Se=(0,l.Q)(e),{replyToMsgId:we,replyToPeerId:Ge}=Se||{},Me=Boolean(e.areReactionsPossible&&e?.reactions?.results?.length),xe=x&&"topicCreate"===Ee.type,{isTouchScreen:Be}=(0,y.Ay)();(0,E.mv)(fe,xe?void 0:H),(0,I.A)(fe,!xe&&T&&"channelJoined"!==Ee.type),(0,h.A)(Ge||ve,we,V,he),(0,P.A)({elementRef:fe,chatId:ve,isFocused:B,focusDirection:U,noFocusHighlight:R,isResizingContainer:z,isJustAdded:N,scrollTargetPosition:J}),(0,o._W)(()=>{e.isPinned&&q?.({viewportPinnedIdsToRemove:[e.id]})});const{isContextMenuOpen:Ue,contextMenuAnchor:Re,handleBeforeContextMenu:Le,handleContextMenu:Ve,handleContextMenuClose:je,handleContextMenuHide:De}=(0,f.A)(fe,Be&&W||Z,!m.cp,m.Ni,M),Oe=void 0!==Re,We=d<=0,[Ke,ze]=(0,v.A)(We);(0,o.vJ)(()=>{We||setTimeout(ze,d*s.zq7)},[d,ze,We]);const{ref:Je}=(0,b.A)({isOpen:Ke,noOpenTransition:We,noCloseTransition:!0,className:!1,ref:fe});(0,o.vJ)(()=>{const t=fe.current;t&&(0,g.Y)(t)&&(K&&ge({messageIds:[he]}),e.hasUnreadMention&&pe({chatId:ve,messageIds:[he]}))},[K,ve,he,ge,e.hasUnreadMention]),(0,o.vJ)(()=>{"giftPremium"===Ee.type&&(w?.current&&he>=w.current||Ce)&&_({})},[Ee.type,he,Ce,w]);const qe=(0,k.A)(ke?j:void 0),Qe=(0,C.A)(()=>{switch(Ee.type){case"paymentSent":case"paymentRefunded":te({chatId:e.chatId,messageId:e.id});break;case"chatEditPhoto":ee({chatId:e.chatId,messageId:e.id,threadId:t,origin:r.TQ.ChannelAvatar});break;case"giftCode":oe({slug:Ee.slug,message:{chatId:e.chatId,messageId:e.id}});break;case"prizeStars":ae({chatId:e.chatId,messageId:e.id});break;case"giftPremium":ie({isGift:!0,fromUserId:n?.id,toUserId:n&&n.id===i?ve:i,monthsAmount:Ee.months});break;case"giftTon":case"giftStars":ce({chatId:e.chatId,messageId:e.id});break;case"starGift":case"starGiftUnique":Ae({chatId:e.chatId,messageId:e.id});break;case"channelJoined":ue({chatId:ve});break;case"suggestedPostApproval":{const n=(0,l.Q)(e);"message"===n?.type&&n.replyToMsgId&&ye({chatId:e.chatId,threadId:t,messageId:n.replyToMsgId});break}case"suggestedPostSuccess":{const n=(0,l.Q)(e);"message"===n?.type&&n.replyToMsgId&&ye({chatId:e.chatId,threadId:t,messageId:n.replyToMsgId});break}}}),He=(0,o.Kr)(()=>{switch(Ee.type){case"chatEditPhoto":if(!Ee.photo)return;return o.Ay.createElement(G,{action:Ee,observeIntersection:$,onClick:Qe});case"suggestProfilePhoto":return o.Ay.createElement(ne,{message:e,action:Ee,observeIntersection:$});case"prizeStars":case"giftCode":return o.Ay.createElement(D,{action:Ee,sender:n,observeIntersectionForLoading:$,observeIntersectionForPlaying:X,onClick:Qe});case"giftPremium":case"giftTon":case"giftStars":return o.Ay.createElement(L,{action:Ee,observeIntersectionForLoading:$,observeIntersectionForPlaying:X,onClick:Qe});case"starGift":return o.Ay.createElement(Q,{action:Ee,message:e,observeIntersectionForLoading:$,observeIntersectionForPlaying:X,onClick:Qe});case"starGiftUnique":return o.Ay.createElement(Y,{action:Ee,message:e,observeIntersectionForLoading:$,observeIntersectionForPlaying:X,onClick:Qe});case"channelJoined":return o.Ay.createElement(Ne,{chatId:e.chatId});case"suggestedPostApproval":return Ee.isBalanceTooLow?o.Ay.createElement(se,{message:e,action:Ee,onClick:Qe}):Ee.isRejected?o.Ay.createElement(le,{message:e,action:Ee,onClick:Qe}):o.Ay.createElement(re,{message:e,action:Ee,onClick:Qe});default:return}},[Ee,e,$,n,X]);if(!(x&&"topicCreate"===Ee.type||"phoneCall"===Ee.type))return o.Ay.createElement("div",{ref:Je,id:(0,c.GZ)(he),className:(0,A.A)("ActionMessage","message-list-item",F.A.root,be&&F.A.singleLine,ke&&F.A.fluidMultiline,He&&F.A.hasFullContent,B&&!R&&"focused",Oe&&"has-menu-open",T&&"last-in-list"),"data-message-id":e.id,"data-is-pinned":e.isPinned||void 0,"data-has-unread-mention":e.hasUnreadMention||void 0,"data-has-unread-reaction":K||void 0,onMouseDown:e=>{(0,p.l)(e),Le(e)},onContextMenu:Ve},!Ie&&o.Ay.createElement(o.Ay.Fragment,null,ke&&o.Ay.createElement("div",{className:(0,A.A)(F.A.inlineWrapper,Pe&&F.A.hoverable)},o.Ay.createElement("span",{className:F.A.fluidBackground,style:qe},o.Ay.createElement(S.A,{message:e,isInsideTopic:x}))),o.Ay.createElement("div",{className:(0,A.A)(F.A.inlineWrapper,Pe&&F.A.hoverable)},o.Ay.createElement("span",{className:F.A.textContent,onClick:Qe},o.Ay.createElement(S.A,{message:e,isInsideTopic:x})))),He,Re&&o.Ay.createElement(de.A,{isOpen:Ue,anchor:Re,message:e,messageListType:"thread",className:F.A.contextContainer,onClose:je,onCloseAnimationEnd:De}),Me&&o.Ay.createElement(me.A,{isOutside:!0,message:e,threadId:t,observeIntersection:X,isCurrentUserPremium:O,isAccountFrozen:Z}))}))},48196:(e,t,n)=>{n.d(t,{A:()=>l});var o=n(84051),a=n(31481),i=n(28470);function r(e,t,n){return(t=function(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const s=new Map;class c{constructor(e){this.color=e,r(this,"filterId",void 0),r(this,"referenceCount",0),this.filterId=`fluid-background-filter-${e.slice(1)}`,(0,i.z)(o.Ay.createElement("filter",{"color-interpolation-filters":"sRGB",xmlns:a.jNX},o.Ay.createElement("feGaussianBlur",{in:"SourceAlpha",stdDeviation:"4",result:"blur"}),o.Ay.createElement("feColorMatrix",{in:"blur",mode:"matrix",values:"1 0 0 0 0  0 1 0 0 0  0 0 1 0 0  0 0 0 30 -15",result:"goo"}),o.Ay.createElement("feComposite",{in:"SourceAlpha",in2:"goo",operator:"over",result:"outline"}),o.Ay.createElement("feFlood",{"flood-color":e,result:"color"}),o.Ay.createElement("feComposite",{in:"color",in2:"outline",operator:"in"})),this.filterId)}getFilterId(){return this.referenceCount+=1,this.filterId}removeReference(){this.referenceCount-=1,0===this.referenceCount&&(0,i.e)(this.filterId)}isUsed(){return this.referenceCount>0}}function l(e,t){if((0,o.vJ)(()=>{if(e)return()=>{const t=s.get(e);t&&(t.removeReference(),t.isUsed()||s.delete(t.color))}},[e]),!e)return;if(s.has(e))return d(s.get(e).getFilterId(),t);const n=new c(e);return s.set(e,n),d(n.getFilterId(),t)}function d(e,t){return t?`url(#${e})`:`filter: url(#${e});`}},87049:(e,t,n)=>{n.d(t,{A:()=>m});var o=n(84051),a=n(13439),i=n(60919),r=n(87357),s=n(14745);const c={root:"AmQSvxpZ",text:"pQW7dcwr"},l={red:[["#FF5B54","#ED1C26"],["#653633","#532224"]],blue:[["#6ED2FF","#34A4FC"],["#344F5A","#152E42"]],purple:[["#E367D7","#757BF6"],["#E367D7","#757BF6"]],green:[["#52D553","#4BB121"],["#52D553","#4BB121"]],orange:[["#D48F23","#BE7E15"],["#D48F23","#BE7E15"]]},d=new Set(Object.keys(l)),m=(0,o.ph)((0,a.EK)(e=>({theme:(0,i.SJA)(e)}))(({text:e,color:t,className:n,theme:a})=>{const i=`svg-${(0,s.A)()}`,m=d.has(t)?t:void 0,A="dark"===a,u=Array.isArray(t)?t:m?l[m][A?1:0]:void 0,g=u?u[0]:t,p=u?u[1]:t;return o.Ay.createElement("div",{className:(0,r.A)(c.root,n)},o.Ay.createElement("svg",{className:c.ribbon,width:"56",height:"56",viewBox:"0 0 56 56",fill:"none"},o.Ay.createElement("path",{d:"M52.4851 26.4853L29.5145 3.51472C27.2641 1.26428 24.2119 0 21.0293 0H2.82824C1.04643 0 0.154103 2.15429 1.41403 3.41422L52.5856 54.5858C53.8455 55.8457 55.9998 54.9534 55.9998 53.1716V34.9706C55.9998 31.788 54.7355 28.7357 52.4851 26.4853Z",fill:`url(#${i})`}),o.Ay.createElement("defs",null,o.Ay.createElement("linearGradient",{id:i,x1:"27.9998",y1:"1",x2:"27.9998",y2:"55",gradientUnits:"userSpaceOnUse"},o.Ay.createElement("stop",{"stop-color":g}),o.Ay.createElement("stop",{offset:"1","stop-color":p})))),o.Ay.createElement("div",{className:c.text},e))}))},92108:(e,t,n)=>{n.d(t,{A:()=>i});var o=n(84051),a=n(87357);const i=(0,o.ph)(({data:e,style:t,className:n,valueClassName:i,keyClassName:r})=>o.Ay.createElement("div",{className:(0,a.A)("cKr8J5k_",n),style:t},e.map(([e,t])=>o.Ay.createElement(o.Ay.Fragment,null,o.Ay.createElement("div",{className:(0,a.A)("c9RLLvfs",r)},e),o.Ay.createElement("div",{className:(0,a.A)("QEuGpzIc",i)},t)))))}}]);
//# sourceMappingURL=5278.c52c74afc3b77503d80a.js.map