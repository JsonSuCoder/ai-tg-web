"use strict";(self.webpackChunkTeleGPT=self.webpackChunkTeleGPT||[]).push([[9451],{1:(e,t,a)=>{a.d(t,{A:()=>n});const n={root:"OAKzmAva",withImage:"BQ6HUOqN",imageContainer:"TmJvv2A6",image:"U96CW2I7",round:"yxjDeIct",circle:"cdfiLmXo",withStoryCircle:"BOfHPv20",summary:"vXi2JQlj",title:"bi3fL59p",info:"GUK4ajPK",meta:"YH6jeZIh",metaWithIcon:"q1LnuIUn",metaIcon:"PJZzyVLK",date:"C7NpG5Y9"}},47:(e,t,a)=>{a.d(t,{A:()=>n});const n={description:"dl10exNi","picker-wrapper":"gxWY5c6x",pickerWrapper:"gxWY5c6x","picker-header":"h8N7eyob",pickerHeader:"h8N7eyob","picker-header-info":"Rth2Qu07",pickerHeaderInfo:"Rth2Qu07","selection-toggle":"B6eAugx8",selectionToggle:"B6eAugx8",foldersWrapper:"mwcvgD2S",folders:"LKavx8ww",folder:"qglLx5Dn","button-text":"bgaRuEMs",buttonText:"bgaRuEMs","button-badge":"rTe14Z22",buttonBadge:"rTe14Z22"}},354:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.d(t,{A:()=>b});var s=a(84051),o=a(13439),r=a(89925),i=a(90709),l=a(60919),c=a(87894),d=a(26072),m=a(17712),u=a(59030),A=a(54746),h=a(17751),y=a(19806),p=a(12933),v=a(22720),g=e([u,h,y,p,v]);[u,h,y,p,v]=g.then?(await g)():g;const E=({isActive:e,chat:t,isChannel:a,currentUserId:n,adminMembersById:l,onScreenSelect:g,onChatMemberSelect:E,onClose:b})=>{const{toggleSignatures:f}=(0,o.ko)(),C=(0,u.A)();(0,d.A)({isActive:e,onBack:b});const S=Boolean(t?.areSignaturesShown),w=Boolean(t?.areProfilesShown),k=Boolean(t?.isCreator||t&&(0,i.ub)(t,"addAdmins")),N=a&&(0,i.ub)(t,"postMessages"),I=(0,s.Kr)(()=>{if(!l)return[];const[e,t]=(0,c.jB)(Object.values(l),e=>e.isOwner);return[...e,...t]},[l]),P=(0,m.A)(e=>{E(e.userId,e.promotedByUserId===n),g(r.je.ChatAdminRights)}),M=(0,m.A)(()=>{f({chatId:t.id,areProfilesEnabled:w,areSignaturesEnabled:!S})}),T=(0,m.A)(()=>{f({chatId:t.id,areProfilesEnabled:!w,areSignaturesEnabled:S})}),B=(0,m.A)(()=>{g(r.je.GroupAddAdmins)}),x=(0,m.A)(e=>{if(e.isOwner)return C("ChannelCreator");const t=(0,o.mS)().users.byId,a=e.promotedByUserId?t[e.promotedByUserId]:void 0;return a?C("EditAdminPromotedBy",(0,i.Yg)(a)):C("ChannelAdmin")});return s.Ay.createElement("div",{className:"Management"},s.Ay.createElement("div",{className:"panel-content custom-scroll"},s.Ay.createElement("div",{className:"section"},s.Ay.createElement(v.A,{icon:"recent",multiline:!0,disabled:!0},s.Ay.createElement("span",{className:"title"},C("EventLog")),s.Ay.createElement("span",{className:"subtitle"},C(a?"EventLogInfoDetailChannel":"EventLogInfoDetail")))),s.Ay.createElement("div",{className:"section",dir:C.isRtl?"rtl":void 0},s.Ay.createElement("p",{className:"section-help",dir:"auto"},C(a?"Channel.Management.AddModeratorHelp":"Group.Management.AddModeratorHelp")),I.map(e=>s.Ay.createElement(v.A,{key:e.userId,className:"chat-item-clickable",onClick:()=>P(e)},s.Ay.createElement(h.A,{userId:e.userId,status:x(e),forceShowSelf:!0}))),s.Ay.createElement(p.A,{isShown:k,onClick:B,ariaLabel:C("Channel.Management.AddModerator")},s.Ay.createElement(A.A,{name:"add-user-filled"}))),N&&s.Ay.createElement("div",{className:"section"},s.Ay.createElement("div",{className:"ListItem narrow"},s.Ay.createElement(y.A,{checked:S,label:C("ChannelSignMessages"),onChange:M})),S&&s.Ay.createElement(s.Ay.Fragment,null,s.Ay.createElement("div",{className:"ListItem narrow"},s.Ay.createElement(y.A,{checked:w,label:C("ChannelSignMessagesWithProfile"),onChange:T})),s.Ay.createElement("p",{className:"section-info section-info_push"},C("ChannelSignProfilesInfo"))))))},b=(0,s.ph)((0,o.EK)((e,{chatId:t})=>{const a=(0,l.hds)(e,t);return{chat:a,currentUserId:e.currentUserId,isChannel:a&&(0,i.WX)(a),adminMembersById:(0,l.AWZ)(e,t)?.adminMembersById}})(E));n()}catch(e){n(e)}})},369:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.d(t,{A:()=>v});var s=a(84051),o=a(13439),r=a(23174),i=(a(90709),a(70636)),l=a(60919),c=a(37661),d=a(17712),m=a(59030),u=a(20247),A=a(93053),h=a(92543),y=e([i,m,A,h]);[i,m,A,h]=y.then?(await y)():y;const p=({modal:e,isPaymentMessageConfirmDialogOpen:t,isStarsBalanceModalOpen:a,starsBalance:n})=>{const{closeSharePreparedMessageModal:y,sendInlineBotResult:p,sendWebAppEvent:v,showNotification:g,updateSharePreparedMessageModalSendArgs:E}=(0,o.ko)(),b=(0,m.A)(),f=Boolean(e),[C,S,w]=(0,c.A)();(0,s.vJ)(()=>{f&&S()},[f,S]);const{message:k,filter:N,webAppKey:I,pendingSendArgs:P}=e||{},{starsForSendMessage:M}=P||{},{closeConfirmDialog:T,dialogHandler:B,shouldAutoApprove:x,setAutoApprove:L,handleWithConfirmation:R}=(0,u.A)(M||0,a,n),F=(0,d.A)(()=>{y(),I&&v({webAppKey:I,event:{eventType:"prepared_message_failed",eventData:{error:"USER_DECLINED"}}})}),D=(0,d.A)((e,t)=>{if(k&&I){const a=(0,o.mS)(),n=(0,l.PVB)(a,e);p({chatId:e,threadId:t||r.l3,id:k.result.id,queryId:k.result.queryId}),M||g({message:b("BotSharedToOne",(0,i.F9)(b,n))}),v({webAppKey:I,event:{eventType:"prepared_message_sent"}}),y(),E({args:void 0})}}),V=(0,d.A)((e,t)=>{E({args:{peerId:e,threadId:t}})}),_=(0,d.A)(()=>{P&&R(D,P.peerId,P.threadId)}),U=(0,d.A)(()=>{T(),E({args:void 0})});(0,s.vJ)(()=>{P&&_()},[P]);const O=(0,o.mS)(),J=P?(0,l.PVB)(O,P.peerId):void 0,K=J?(0,i.F9)(b,J):void 0;if(f||C)return s.Ay.createElement(s.Ay.Fragment,null,s.Ay.createElement(h.A,{isOpen:f,searchPlaceholder:b("Search"),filter:N,onSelectRecipient:V,onClose:F,onCloseAnimationEnd:w,isLowStackPriority:!0}),s.Ay.createElement(A.A,{isOpen:t,onClose:U,userName:K,messagePriceInStars:M||0,messagesCount:1,shouldAutoApprove:x,setAutoApprove:L,confirmHandler:B}))},v=(0,s.ph)((0,o.EK)(e=>{const t=(0,l.nTw)(e),{isPaymentMessageConfirmDialogOpen:a}=t;return{isPaymentMessageConfirmDialogOpen:a,starsBalance:e.stars?.balance.amount||0,isStarsBalanceModalOpen:Boolean(t.starsBalanceModal)}})(p));n()}catch(e){n(e)}})},762:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.d(t,{A:()=>p});var s=a(84051),o=a(17965),r=a.n(o),i=a(13439),l=a(54746),c=a(64493),d=a(70548),m=e([c]),u=m.then?(await m)():m;c=u[0];const A=({onAdd:e})=>s.Ay.createElement("div",{className:"flex flex-col justify-center items-center px-[30px] pt-[120px]"},s.Ay.createElement("img",{src:d,alt:"AIKnowledge",className:"w-[125px] h-[125px] mb-[12px]"}),s.Ay.createElement("span",{className:"text-[14px] text-[#676B74]"},"Store your frequently used personal info, company details, and business materials here.During chats, AI will reference this content to deliver more relevant and intelligent responses."),s.Ay.createElement(c.A,{round:!0,color:"translucent",className:"!bg-[#8C42F0] flex flex-row items-center gap-[8px] !w-[148px] !h-[42px] !p-0 !rounded-[21px] mt-[20px]",onClick:e},s.Ay.createElement(l.A,{className:"text-white text-[14px]",name:"add"}),s.Ay.createElement("span",{className:"text-white"},"Add"))),h=({knowledgeList:e,onEdit:t,onDelete:a})=>{const{showNotification:n}=(0,i.ko)(),o=(0,s.hb)(e=>{r()(e.plainText),n({message:"TextCopied"})},[]),d=(0,s.hb)(e=>{t(e)},[t]),m=(0,s.hb)(e=>{a(e.id)},[a]);return s.Ay.createElement("div",{className:"px-[20px]"},e.map(e=>s.Ay.createElement("div",{key:e.id,className:"bg-[#F7F7F7] rounded-[12px] px-[16px] py-[15px] mb-[12px]"},s.Ay.createElement("div",{className:"white-space-pre-wrap line-clamp-3 overflow-hidden text-ellipsis"},e?.question||""),s.Ay.createElement("div",{className:"white-space-pre-wrap line-clamp-3 overflow-hidden text-ellipsis"},e.plainText.replace(/\\n/g,"")),s.Ay.createElement("div",{className:"flex justify-end gap-[8px] items-center"},s.Ay.createElement(c.A,{round:!0,size:"smaller",color:"translucent",onClick:()=>o(e)},s.Ay.createElement(l.A,{name:"copy",className:"text-[14px]"})),s.Ay.createElement(c.A,{round:!0,size:"smaller",color:"translucent",onClick:()=>d(e)},s.Ay.createElement(l.A,{name:"edit",className:"text-[14px]"})),s.Ay.createElement(c.A,{round:!0,size:"smaller",color:"translucent",onClick:()=>m(e)},s.Ay.createElement(l.A,{name:"delete",className:"text-[14px]"}))))))},y=({knowledgeList:e,onShowAddModal:t,onEdit:a,onDelete:n})=>{const o=(0,s.hb)(()=>{t("add")},[t]);return s.Ay.createElement("div",{className:"pt-[20px] h-full box-border"},0===e.length?s.Ay.createElement(A,{onAdd:o}):s.Ay.createElement(h,{knowledgeList:e,onEdit:a,onDelete:n}))},p=(0,s.ph)(y);n()}catch(e){n(e)}})},979:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.d(t,{A:()=>b});var s=a(84051),o=a(61433),r=a(66644),i=a(87357),l=a(91800),c=a(14),d=a(59030),m=a(23565),u=a(50680),A=a(17593),h=a(74936),y=a(32819),p=e([d,A,h]);[d,A,h]=p.then?(await p)():p;const v=400,g=3;function E({story:e,isExpanded:t,className:a,onExpand:n,onFold:p}){const E=(0,d.A)(),b=(0,s.li)(),f=(0,s.li)(),C=(0,s.li)(),S=(0,s.li)(),w=(0,c.A)(e,!0),k=w?.content.text,[N,I]=(0,s.J0)(!1),P=(0,m.A)(t||void 0,v),M=t||P;(0,s.vJ)(()=>{(0,r.RK)(()=>{f.current&&(t?(0,o.YM)(f.current,y.A.animate):(0,o.HW)(f.current,y.A.animate))})},[t]);const T=N&&!M,{shouldRender:B,transitionClassNames:x}=(0,u.A)(T,void 0,!0,"slow",!0);(0,s.Nf)(()=>{(0,r.YS)(()=>{const e=f.current,t=S.current;if(!e||!t)return;const{offsetWidth:a}=t;(0,r.RK)(()=>{e.style.setProperty("--expand-button-width",`${a}px`)})})},[B,E]),(0,s.Nf)(()=>{(0,r.gm)(()=>{if(!f.current||!C.current)return;const e=f.current,t=C.current,a=t.offsetTop,{lineHeight:n,totalLines:s}=(0,l.A)(t),r=s>g,i=a+n*g;return()=>{r&&((0,o.YM)(e,y.A.hasOverflow),I(!0)),e.style.setProperty("--_overflow-shift",`${i}px`)}})},[k]),(0,s.vJ)(()=>{t||b.current?.scrollTo({top:0})},[t]);const L=(0,i.A)(y.A.captionContent,M&&y.A.expanded,B&&y.A.withShowMore);return s.Ay.createElement("div",{className:(0,i.A)(y.A.caption,a)},s.Ay.createElement("div",{ref:f,className:L,role:T?"button":void 0,onClick:T?n:p},s.Ay.createElement("div",{ref:b,className:(0,i.A)(y.A.captionInner,"allow-selection","custom-scroll")},w?.forwardInfo&&s.Ay.createElement(A.A,{forwardInfo:w.forwardInfo,className:y.A.forwardInfo}),w&&k&&s.Ay.createElement("div",{ref:C,className:y.A.captionText},s.Ay.createElement(h.A,{messageOrStory:w,withTranslucentThumbs:!0,forcePlayback:!0})))),B&&s.Ay.createElement("div",{ref:S,className:(0,i.A)(y.A.captionShowMore,x),onClick:n},E("Story.CaptionShowMore")))}const b=(0,s.ph)(E);n()}catch(f){n(f)}})},996:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.d(t,{A:()=>g});var s=a(84051),o=a(13439),r=a(90709),i=a(87357),l=a(17663),c=a(17712),d=a(62587),m=a(59030),u=a(21849),A=a(61213),h=a(1),y=e([d,m,u,A]);function p({chat:e,story:t,postStatistic:a}){const n=(0,m.A)(),{toggleStoryStatistics:u}=(0,o.ko)(),y=t&&"content"in t,p=y?t.content.video:void 0,g=y?(0,r.EN)(t):void 0,E=(0,d.A)(g),b=E||p?.thumbnail?.dataUri,f=(0,c.A)(()=>{u({storyId:a.storyId})});return s.Ay.createElement("div",{className:(0,i.A)(h.A.root,h.A.withImage),onClick:f},s.Ay.createElement("div",{className:h.A.title},s.Ay.createElement("div",{className:h.A.summary},v(n,e,E||b)),s.Ay.createElement("div",{className:h.A.meta},n("ChannelStats.ViewsCount",a.viewsCount,"i"))),s.Ay.createElement("div",{className:h.A.info},s.Ay.createElement("div",{className:h.A.date},y&&Boolean(t.date)&&(0,l.L2)(1e3*t.date,n.code)),s.Ay.createElement(A.A,{postStatistic:a})))}function v(e,t,a){return s.Ay.createElement("span",null,a?s.Ay.createElement("span",{className:h.A.imageContainer},s.Ay.createElement("img",{src:a,alt:"",draggable:!1,className:(0,i.A)(h.A.image,h.A.circle,h.A.withStoryCircle)})):s.Ay.createElement(u.A,{peer:t,size:"small",className:h.A.image,withStorySolid:!0,forceUnreadStorySolid:!0}),e("Story"))}[d,m,u,A]=y.then?(await y)():y;const g=(0,s.ph)(p);n()}catch(E){n(E)}})},1507:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.d(t,{A:()=>P});var s=a(84051),o=a(13439),r=a(89925),i=a(31481),l=a(90709),c=a(17663),d=a(57309),m=a(79824),u=a(37836),A=a(74975),h=a(55429),y=a(5912),p=a(59030),v=a(93809),g=a(44589),E=a(42827),b=a(46222),f=a(52745),C=a(41036),S=e([h,p,g,E]);[h,p,g,E]=S.then?(await S)():S;const w="documents",k=500,N=(0,u.nF)(e=>e(),500,!0),I=({searchQuery:e,isLoading:t,chatsById:a,usersById:n,globalMessagesByChatId:u,foundIds:A,activeDownloads:S,shouldWarnAboutSvg:I})=>{const{searchMessagesGlobal:P,focusMessage:M}=(0,o.ko)(),T=(0,s.li)(),B=(0,p.A)(),{observe:x}=(0,y.BL)({rootRef:T,throttleMs:k}),L=(0,s.hb)(({direction:e})=>{e===r.TN.Backwards&&N(()=>{P({type:w})})},[e]),R=(0,s.Kr)(()=>A&&u?A.map(e=>{const[t,a]=(0,d.a)(e),n=u[t]?.byId[a];return n&&(0,l.zC)(n)?n:void 0}).filter(Boolean):m.p,[u,A]),F=(0,s.hb)(e=>{M({chatId:e.chatId,messageId:e.id})},[M]),D=(0,v.A)([e],i.jhd)&&!t;return s.Ay.createElement(C.Ay,{ref:T,slideClassName:"LeftSearch--content",name:"fade",activeKey:D?1:0,shouldCleanup:!0},s.Ay.createElement(b.A,{className:"search-content documents-list custom-scroll",items:D?R:void 0,onLoadMore:L,noFastList:!0},!D&&s.Ay.createElement(f.A,null),D&&(!A||0===A.length)&&s.Ay.createElement(E.A,{withSticker:!0,text:B("ChatList.Search.NoResults"),description:B("ChatList.Search.NoResultsDescription")}),D&&A&&A.length>0&&R.map((e,t)=>{const o=0===t||(0,c.$$)(e.date)!==(0,c.$$)(R[t-1].date);return s.Ay.createElement(s.Ay.Fragment,null,o&&s.Ay.createElement("p",{className:"section-heading",dir:B.isRtl?"rtl":void 0,key:e.date},(0,c.i6)(B,new Date(1e3*e.date))),s.Ay.createElement("div",{className:"ListItem small-icon",key:e.id},s.Ay.createElement(g.A,{document:(0,l.zC)(e),message:e,withDate:!0,datetime:e.date,smaller:!0,sender:(0,h.N)(B,e,a,n),className:"scroll-item",isDownloading:(0,l.$r)(S,e.content.document),shouldWarnAboutSvg:I,observeIntersection:x,onDateClick:F})))})))},P=(0,s.ph)((0,o.EK)((0,A.t)(w))(I));n()}catch(e){n(e)}})},1791:(e,t,a)=>{e.exports=a.p+"PremiumEffects.4eab9caad8e9c276842d.svg"},2153:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.d(t,{A:()=>v});var s=a(84051),o=a(13439),r=a(87357),i=a(17712),l=a(59030),c=a(73767),d=a(64493),m=a(8410),u=a(54746),A=a(22109),h=a(35517),y=e([l,d,m,A]);[l,d,m,A]=y.then?(await y)():y;const p=({isOpen:e,onClose:t,onSubmit:a,countryList:n,selectionLimit:y})=>{const{showNotification:p}=(0,o.ko)(),v=(0,l.A)(),[g,E]=(0,s.J0)([]),b=(0,c.A)(g)===g,f=(0,s.Kr)(()=>n?n.filter(e=>!e.isHidden&&"FT"!==e.iso2).map(({iso2:e,defaultName:t})=>({value:e,label:t})):[],[n]),C=(0,i.A)(e=>{y&&e.length>y?p({message:v("BoostingSelectUpToWarningCountries",y)}):E(e)}),S=(0,i.A)(()=>{a(g),t()});return s.Ay.createElement(m.A,{className:h.A.root,isOpen:e,onClose:t,onEnter:S},s.Ay.createElement("div",{className:h.A.container},s.Ay.createElement("div",{className:h.A.pickerSelector},s.Ay.createElement(d.A,{round:!0,size:"smaller",color:"translucent",onClick:t},s.Ay.createElement(u.A,{name:"close"})),s.Ay.createElement("h4",{className:h.A.pickerTitle},v("BoostingSelectCountry")))),s.Ay.createElement("div",{className:(0,r.A)(h.A.main,"custom-scroll")},s.Ay.createElement(A.A,{className:h.A.picker,items:f,selectedValues:g,onSelectedValuesChange:C,noScrollRestore:b,allowMultiple:!0,itemInputType:"checkbox"})),s.Ay.createElement("div",{className:h.A.footer},s.Ay.createElement(d.A,{size:"smaller",onClick:S},v("SelectCountries.OK"))))},v=(0,s.ph)(p);n()}catch(e){n(e)}})},2918:(e,t,a)=>{e.exports=a.p+"mir.e3a390b90e2e3e292621.svg"},2936:(e,t,a)=>{e.exports=a.p+"PremiumBadge.1c630afcfd1112ad16d0.svg"},2976:(e,t,a)=>{e.exports=a.p+"PremiumSpeed.d0a43b6780c411c2f84a.svg"},3178:(e,t,a)=>{a.d(t,{A:()=>A});var n=a(84051),s=a(31481),o=a(58443),r=a(14737),i=a(43874),l=a(37661),c=a(18104);const d=[0,50],m=[0,20],u=[20,0],A=(0,n.ph)(({isPasswordVisible:e,isBig:t})=>{const[a,A]=(0,l.A)(!1),[h,y]=(0,l.A)(!1),{isMobile:p}=(0,i.Ay)(),v=p?s.UyP:s.H6l;(0,r.A)(y,2e3);const g=(0,n.hb)(A,[A]);return n.Ay.createElement("div",{id:"monkey",className:t?"big":""},!a&&n.Ay.createElement("div",{className:"monkey-preview"}),n.Ay.createElement(c.A,{size:t?s.r2x:v,className:h?"hidden":"shown",tgsUrl:o.w.MonkeyClose,playSegment:d,noLoop:!0,onLoad:g}),n.Ay.createElement(c.A,{size:t?s.r2x:v,className:h?"shown":"hidden",tgsUrl:o.w.MonkeyPeek,playSegment:e?m:u,noLoop:!0}))})},3465:(e,t,a)=>{a.d(t,{A:()=>n});const n={root:"X6K5oA8U"}},3476:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.d(t,{A:()=>h});var s=a(84051),o=a(13439),r=a(31481),i=a(59030),l=a(64493),c=a(8410),d=a(1087),m=e([i,l,c,d]);[i,l,c,d]=m.then?(await m)():m;var u=function(e){return e.OneHour="3600",e.FourHours="14400",e.EightHours="28800",e.OneDay="86400",e.ThreeDays="259200",e.Forever="-1",e}(u||{});const A=({isOpen:e,chatId:t,topicId:a,onClose:n,onCloseAnimationEnd:m})=>{const[A,h]=(0,s.J0)(u.Forever),{updateChatMutedState:y,updateTopicMutedState:p}=(0,o.ko)(),v=(0,i.A)(),g=(0,s.Kr)(()=>[{label:v("MuteFor.Hours",1),value:u.OneHour},{label:v("MuteFor.Hours",4),value:u.FourHours},{label:v("MuteFor.Hours",8),value:u.EightHours},{label:v("MuteFor.Days",1),value:u.OneDay},{label:v("MuteFor.Days",3),value:u.ThreeDays},{label:v("MuteFor.Forever"),value:u.Forever}],[v]),E=(0,s.hb)(()=>{let e;e=A===u.Forever?r.fRl:Math.floor(Date.now()/1e3)+Number(A),a?p({chatId:t,topicId:a,mutedUntil:e}):y({chatId:t,mutedUntil:e}),n()},[t,A,n,a]);return s.Ay.createElement(c.A,{isOpen:e,onClose:n,onCloseAnimationEnd:m,onEnter:E,className:"delete",title:v("Notifications")},s.Ay.createElement(d.A,{className:"dialog-checkbox-group",name:"muteFor",options:g,selected:A,onChange:h}),s.Ay.createElement("div",{className:"dialog-buttons"},s.Ay.createElement(l.A,{color:"primary",className:"confirm-dialog-button",isText:!0,onClick:E},v("Common.Done")),s.Ay.createElement(l.A,{className:"confirm-dialog-button",isText:!0,onClick:n},v("Cancel"))))},h=(0,s.ph)(A);n()}catch(e){n(e)}})},3554:(e,t,a)=>{a.d(t,{A:()=>n});const n={container:"PaO1MMi5",header:"wSswdVkR",description:"oiJc22Aj",sortableContainer:"lAeeBh9K",item:"l04OwRBg"}},3734:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.d(t,{A:()=>d});var s=a(84051),o=a(59030),r=a(64493),i=a(8410),l=e([o,r,i]);[o,r,i]=l.then?(await l)():l;const c=({isOpen:e,pinnedMessagesCount:t=0,onClose:a,onUnpin:n})=>{const l=(0,o.A)();return s.Ay.createElement(i.A,{isOpen:e,onClose:a,className:"unpin-all",title:l("Chat.PanelUnpinAllMessages")},s.Ay.createElement("p",null,l("Chat.UnpinAllMessagesConfirmation",t,"i")),s.Ay.createElement("div",{className:"dialog-buttons mt-2"},s.Ay.createElement(r.A,{className:"confirm-dialog-button",isText:!0,onClick:n},l("DialogUnpin")),s.Ay.createElement(r.A,{className:"confirm-dialog-button",isText:!0,onClick:a},l("Cancel"))))},d=(0,s.ph)(c);n()}catch(e){n(e)}})},3830:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.d(t,{A:()=>v});var s=a(84051),o=a(13439),r=a(60919),i=a(37836),l=a(26072),c=a(5912),d=a(59030),m=a(52745),u=a(97603),A=e([d,u]);[d,u]=A.then?(await A)():A;const h=200,y=(0,i.nF)(e=>e(),6e4,!0),p=({isActive:e,query:t,featuredIds:a,resultIds:n,isModalOpen:r,onClose:i})=>{const{loadFeaturedStickers:A}=(0,o.ko)(),p=(0,s.li)(),v=(0,d.A)(),{observe:g}=(0,c.BL)({rootRef:p,throttleMs:h});return(0,s.vJ)(()=>{y(()=>{A()})}),(0,l.A)({isActive:e,onBack:i}),s.Ay.createElement("div",{ref:p,className:"StickerSearch custom-scroll",dir:v.isRtl?"rtl":void 0},function(){if(void 0!==t)return!t&&a?a.map(e=>s.Ay.createElement(u.A,{key:e,stickerSetId:e,observeIntersection:g,isModalOpen:r})):n?n.length?n.map(e=>s.Ay.createElement(u.A,{key:e,stickerSetId:e,observeIntersection:g,isModalOpen:r})):s.Ay.createElement("p",{className:"helper-text",dir:"auto"},"Nothing found."):s.Ay.createElement(m.A,null)}())},v=(0,s.ph)((0,o.EK)(e=>{const t=(0,r.BmE)(e),{query:a,resultIds:n}=t||{},{featured:s}=e.stickers;return{query:a,featuredIds:s.setIds,resultIds:n,isModalOpen:Boolean((0,r.nTw)(e).openedStickerSetShortName)}})(p));n()}catch(e){n(e)}})},4116:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.d(t,{A:()=>L});var s=a(84051),o=a(13439),r=a(66644),i=a(60919),l=a(30708),c=a(96454),d=a(87357),m=a(31460),u=a(43874),A=a(17712),h=a(36680),y=a(59030),p=a(50680),v=a(34895),g=a(54746),E=a(64493),b=a(71429),f=a(3325),C=a(41036),S=a(27997),w=a(11757),k=a(49626),N=a(31761),I=e([y,v,E,S,w,k,N]);function P(){return P=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},P.apply(null,arguments)}[y,v,E,S,w,k,N]=I.then?(await I)():I;const M=350,T=2;let B=!1;const x=({chatId:e,threadId:t,isOpen:a,canSendStickers:n,canSendGifs:o,isMessageComposer:i,idPrefix:l,isAttachmentModal:I,canSendPlainText:x,className:L,onLoad:R,onClose:F,onEmojiSelect:D,onCustomEmojiSelect:V,onStickerSelect:_,onGifSelect:U,onRemoveSymbol:O,onSearchOpen:J,addRecentEmoji:K,addRecentCustomEmoji:G,isLeftColumnShown:j,isBackgroundTranslucent:z,animationLevel:H,...$})=>{const[q,W]=(0,s.J0)(N.EC.Emoji),[Y,Q]=(0,s.J0)([]),[Z,X]=(0,s.J0)([]),{isMobile:ee}=(0,u.Ay)(),[te,ae]=(0,h.A)(a,F,void 0,ee),{shouldRender:ne,transitionClassNames:se}=(0,p.A)(a,F,!1,!1),oe=(0,y.A)();!B&&a&&(B=!0),(0,s.vJ)(()=>{R()},[R]),(0,s.vJ)(()=>{x||W(T)},[x]),(0,s.Nf)(()=>{if(ee&&a&&!I)return document.body.classList.add("enable-symbol-menu-transforms"),document.body.classList.add("is-symbol-menu-open"),()=>{document.body.classList.remove("is-symbol-menu-open"),setTimeout(()=>{(0,r.RK)(()=>{document.body.classList.remove("enable-symbol-menu-transforms")})},M)}},[I,ee,a]);const re=(0,s.li)(Y);re.current=Y,(0,s.vJ)(()=>{re.current.length&&!a&&(re.current.forEach(e=>{K({emoji:e})}),Q([]))},[a,K]);const ie=(0,A.A)((e,t)=>{Q(e=>[...e,t]),D(e)}),le=(0,s.li)(Z);le.current=Z,(0,s.vJ)(()=>{le.current.length&&!a&&(le.current.forEach(e=>{G({documentId:e})}),Q([]))},[a,G]);const ce=(0,A.A)(e=>{X(t=>[...t,e.id]),V(e)}),de=(0,A.A)(e=>{F(),J(e)}),me=(0,A.A)((e,t,a,n)=>{_?.(e,t,a,!0,n)});function ue(r,c){switch(q){case N.EC.Emoji:return s.Ay.createElement(S.A,{className:"picker-tab",onEmojiSelect:ie});case N.EC.CustomEmoji:return s.Ay.createElement(v.A,{className:"picker-tab",isHidden:!a||!r,idPrefix:l,loadAndPlay:a&&(r||c),chatId:e,isTranslucent:!ee&&z,onCustomEmojiSelect:ce});case N.EC.Stickers:return s.Ay.createElement(k.A,{className:"picker-tab",isHidden:!a||!r,loadAndPlay:!!n&&a&&(r||c),idPrefix:l,canSendStickers:n,noContextMenus:!i,chatId:e,threadId:t,isTranslucent:!ee&&z,onStickerSelect:me});case N.EC.GIFs:return s.Ay.createElement(w.A,{className:"picker-tab",loadAndPlay:!!o&&a&&(r||c),canSendGifs:o,onGifSelect:U})}}const Ae=s.Ay.createElement(s.Ay.Fragment,null,s.Ay.createElement("div",{className:"SymbolMenu-main",onClick:function(e){e.stopPropagation()}},B&&s.Ay.createElement(C.Ay,{name:(0,m.P)("slide",H),activeKey:q,renderCount:Object.values(N.dG).length},ue)),ee&&s.Ay.createElement(E.A,{round:!0,faded:!0,color:"translucent",ariaLabel:oe("Close"),className:"symbol-close-button",size:"tiny",onClick:F},s.Ay.createElement(g.A,{name:"close"})),s.Ay.createElement(N.Ay,{activeTab:q,onSwitchTab:W,onRemoveSymbol:O,canSearch:i,onSearchOpen:de,isAttachmentModal:I,canSendPlainText:x}));if(ee){if(!ne)return;const e=(0,d.A)("SymbolMenu mobile-menu",se,j&&"left-column-open",I&&"in-attachment-modal",i&&"in-middle-column");return I?s.Ay.createElement("div",{className:e},Ae):s.Ay.createElement(f.A,null,s.Ay.createElement("div",{className:e},Ae))}return s.Ay.createElement(b.A,P({isOpen:a,onClose:F,withPortal:I,className:(0,d.A)("SymbolMenu",L),onCloseAnimationEnd:F,onMouseEnter:c.TF?void 0:te,onMouseLeave:c.TF?void 0:ae,noCloseOnBackdrop:!c.TF,noCompact:!0},I?$:{positionX:"left",positionY:"bottom"}),Ae)},L=(0,s.ph)((0,o.EK)(e=>({isLeftColumnShown:(0,i.nTw)(e).isLeftColumnShown,isBackgroundTranslucent:(0,i.cwE)(e),animationLevel:(0,l.l)(e).animationLevel}))(x));n()}catch(R){n(R)}})},4451:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.d(t,{A:()=>B});var s=a(84051),o=a(13439),r=a(89925),i=a(90709),l=a(60919),c=a(87357),d=a(17663),m=a(87894),u=a(14242),A=a(37661),h=a(96374),y=a(39351),p=a(17712),v=a(59030),g=a(21849),E=a(35384),b=a(54746),f=a(17751),C=a(17794),S=a(64493),w=a(46222),k=a(22720),N=a(52745),I=a(8410),P=e([y,v,g,E,f,C,S,k,I]);[y,v,g,E,f,C,S,k,I]=P.then?(await P)():P;const M=10,T=({isOpen:e,reactors:t,reactions:a,chatId:n,messageId:l,seenByDates:P,availableReactions:T})=>{const{loadReactors:B,closeReactorListModal:x,openChat:L}=(0,o.ko)(),R=(0,o.mS)().chats.byId,F=(0,o.mS)().users.byId,D=(0,v.A)(),V=(0,y.A)(),[_,U,O]=(0,A.A)(!1),[J,K]=(0,s.J0)(void 0),G=t&&a&&t.count>=M&&a.results.length>1,j=(0,s.li)();(0,s.vJ)(()=>{e&&!_&&(j.current=void 0),_&&!e&&(O(),K(void 0))},[_,e,O]);const z=(0,p.A)(()=>{j.current&&L({id:j.current}),x()}),H=(0,p.A)(()=>{U()}),$=(0,p.A)(e=>{j.current=e,H()}),q=(0,p.A)(()=>{B({chatId:n,messageId:l})}),W=(0,s.Kr)(()=>{const e=[];return t?.reactions?.forEach(({reaction:t})=>{e.some(e=>(0,i.a0)(e,t))||e.push(t)}),e},[t]),Y=(0,s.Kr)(()=>{if(J)return t?.reactions.filter(({reaction:e})=>(0,i.a0)(e,J)).map(({peerId:e})=>e);const e=Object.keys(P||{});return(0,m.Am)(t?.reactions.map(({peerId:e})=>e).concat(e||[])||[])},[J,t,P]),[Q,Z]=(0,h.A)(q,Y,t&&void 0===t.nextOffset);return(0,s.vJ)(()=>{Z?.({direction:r.TN.Backwards})},[Z]),s.Ay.createElement(I.A,{isOpen:e&&!_,onClose:H,className:"ReactorListModal narrow",title:D("Reactions"),onCloseAnimationEnd:z},G&&s.Ay.createElement("div",{className:"Reactions",dir:D.isRtl?"rtl":void 0},s.Ay.createElement(S.A,{className:(0,c.A)(!J&&"chosen"),size:"tiny",ripple:!0,onClick:()=>K(void 0)},s.Ay.createElement(b.A,{name:"heart"}),Boolean(t?.count)&&(0,u.Vw)(V,t.count)),W.map(e=>{const t=a?.results.find(t=>(0,i.a0)(t.reaction,e))?.count;return s.Ay.createElement(S.A,{key:(0,i.Jj)(e),className:(0,c.A)((0,i.a0)(J,e)&&"chosen"),size:"tiny",ripple:!0,onClick:()=>K(e)},s.Ay.createElement(C.A,{reaction:e,className:"reaction-filter-emoji",availableReactions:T}),Boolean(t)&&(0,u.Vw)(V,t))})),s.Ay.createElement("div",{dir:D.isRtl?"rtl":void 0,className:"reactor-list-wrapper"},Q?.length?s.Ay.createElement(w.A,{className:"reactor-list custom-scroll",items:Q,onLoadMore:Z},Q?.flatMap(e=>{const a=F[e]||R[e],n=t?.reactions.filter(t=>t.peerId===e),o=[],r=P?.[e];return n?.forEach(t=>{J&&!(0,i.a0)(t.reaction,J)||o.push(s.Ay.createElement(k.A,{key:`${e}-${(0,i.Jj)(t.reaction)}`,className:"chat-item-clickable reactors-list-item",onClick:()=>$(e)},s.Ay.createElement(g.A,{peer:a,size:"medium"}),s.Ay.createElement("div",{className:"info"},s.Ay.createElement(E.A,{peer:a,withEmojiStatus:!0}),s.Ay.createElement("span",{className:"status",dir:"auto"},s.Ay.createElement(b.A,{name:"heart-outline",className:"status-icon"}),(0,d.U)(D,1e3*t.addedDate))),t.reaction&&s.Ay.createElement(C.A,{className:"reactors-list-emoji",reaction:t.reaction,availableReactions:T})))}),J||n?.length||o.push(s.Ay.createElement(k.A,{key:`${e}-seen-by`,className:"chat-item-clickable scroll-item small-icon",onClick:()=>$(e)},s.Ay.createElement(f.A,{userId:e,noStatusOrTyping:!0,avatarSize:"medium",status:r?(0,d.U)(D,1e3*r):void 0,statusIcon:"message-read"}))),o})):s.Ay.createElement(N.A,null)),s.Ay.createElement(S.A,{className:"confirm-dialog-button",isText:!0,onClick:H},D("Close")))},B=(0,s.ph)((0,o.EK)(e=>{const{chatId:t,messageId:a}=(0,l.nTw)(e).reactorModal||{},n=t&&a?(0,l.O5q)(e,t,a):void 0;return{chatId:t,messageId:a,reactions:n?.reactions,reactors:n?.reactors,seenByDates:n?.seenByDates,availableReactions:e.reactions.availableReactions}})(T));n()}catch(e){n(e)}})},4479:(e,t,a)=>{a.d(t,{A:()=>n});const n={container:"RFg0Ey2I","user-count-badge":"UZtJ6ZXb",userCountBadge:"UZtJ6ZXb","user-badge-icon":"pTiZFhsG",userBadgeIcon:"pTiZFhsG",name:"TzA5nqCC"}},5349:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.d(t,{A:()=>w});var s=a(84051),o=a(34573),r=a(19822),i=a(96454),l=a(87357),c=a(50442),d=a(17663),m=a(15640),u=a(43336),A=a(63988),h=a(32899),y=a(17712),p=a(18851),v=a(26607),g=a(28727),E=e([o]),b=E.then?(await E)():E;o=b[0];const f=250;let C;const S=({duration:e,bufferedRanges:t,isReady:a,posterSize:n,playbackRate:E,url:b,isActive:S,isPlaying:w,isPreviewDisabled:k,onSeek:N,onSeekStart:I})=>{const P=(0,s.li)(),[M]=(0,h.Ay)(),[T]=(0,p.Ay)(),B=(0,A.aG)(M,f),[x,L]=(0,s.Ul)(B()),[R,F]=(0,s.Ul)(0),[D,V]=(0,s.Ul)(0),_=(0,s.li)(!1),[U,O]=(0,s.J0)(!1),[J,K]=(0,s.J0)(!1),G=(0,s.li)(),j=(0,s.li)(),z=(0,s.li)(),H=(0,s.li)(),$=(0,s.Kr)(()=>(0,o.oX)(n?.width||0,n?.height||0),[n]),q=(0,y.A)(e=>{e=Math.floor(e),V(e),(0,o.Yn)(e)});return(0,s.vJ)(()=>{if(!k&&b&&a)return(0,o.Hp)(b,G.current)},[b,a,k]),(0,s.vJ)(()=>{O(!1)},[S]),(0,s.vJ)(()=>{if(C&&C(),C=void 0,!_.current&&!J){const t=B(),a=e-t;C=(0,r.Hd)({from:t,to:e,duration:1e3*a/E,onUpdate:L})}},[B,J,L,E,e]),(0,s.vJ)(()=>{w&&!T()||(C&&C(),C=void 0)},[w,x,T]),(0,s.vJ)(()=>{if(w){C&&C(),C=void 0;const t=B(),a=e-t;C=(0,r.Hd)({from:t,to:e,duration:1e3*a/E,onUpdate:L})}},[w,E,e]),(0,s.Nf)(()=>{if(!z.current)return;const t=(0,u.LI)(x()/e*100,2);z.current.style.width=`${t}%`},[x,e]),(0,s.Nf)(()=>{j.current&&(j.current.style.left=`${R()}px`)},[R]),(0,s.Nf)(()=>{H.current&&(H.current.innerText=(0,d.QO)(D()))},[D]),(0,s.vJ)(()=>{if(!P.current||!S)return;const t=P.current;let a=t.getBoundingClientRect(),n=0,s=0;const o=n=>{const s=(0,m.A)(n).x,o=(0,u.qE)(e*((s-a.left)/a.width),0,e);if(k)return[o,0];a.width||(a=t.getBoundingClientRect());const r=j.current;return[o,(0,u.qE)(s-a.left-r.clientWidth/2,-4,a.width-r.clientWidth+4)]},r=()=>{C&&C(),C=void 0},l=()=>{r(),_.current=!0,O(!1),K(!1),L(n),N(n),setTimeout(()=>{_.current=!1},f)},d=(0,c.wJ)(t,{onCapture:()=>{r(),O(!0),K(!0),I()},onRelease:l,onClick:l,onDrag:e=>{r(),O(!0),[n,s]=o(e),q(n),F(s),L(n)}});if(i.TF||k)return d;const A=e=>{O(!0),[n,s]=o(e),F(s),q(n)},h=()=>{O(!1)};return t.addEventListener("mousemove",A),t.addEventListener("mouseenter",A),t.addEventListener("mouseleave",h),()=>{d(),t.removeEventListener("mousemove",A),t.removeEventListener("mouseenter",A),t.removeEventListener("mouseleave",h)}},[e,q,S,N,I,F,L,K,k,E]),s.Ay.createElement("div",{className:g.A.container,ref:P},!k&&s.Ay.createElement(v.A,{isOpen:!0,isHidden:!U,className:g.A.preview,style:`width: ${$.width}px; height: ${$.height}px`,ref:j},s.Ay.createElement("canvas",{className:g.A.previewCanvas,ref:G}),s.Ay.createElement("div",{className:g.A.previewTime},s.Ay.createElement("span",{className:g.A.previewTimeText,ref:H}))),s.Ay.createElement("div",{className:g.A.track},t.map(({start:e,end:t})=>s.Ay.createElement("div",{key:`${e}-${t}`,className:g.A.buffered,style:`left: ${100*e}%; right: ${100-100*t}%`}))),s.Ay.createElement("div",{className:g.A.track},s.Ay.createElement("div",{ref:z,className:(0,l.A)(g.A.played,J&&g.A.seeking)})))},w=(0,s.ph)(S);n()}catch(e){n(e)}})},5599:(e,t,a)=>{a.d(t,{r:()=>o});var n=a(80539);const s=document.createElement("div");function o(e){return s.innerHTML=e,(0,n.g4)(s),s.querySelectorAll("br").forEach(e=>{e.replaceWith("\n")}),s.textContent?.trim().length||0}},5786:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.d(t,{A:()=>S});var s=a(84051),o=a(13439),r=a(89925),i=a(31481),l=a(86046),c=a(60919),d=a(17142),m=a(37661),u=a(26072),A=a(39351),h=a(17712),y=a(54746),p=a(9267),v=a(38678),g=a(47491),E=a(94189),b=a(22720),f=e([A,v,g,E,b]);[A,v,g,E,b]=f.then?(await f)():f;const C=({isActive:e,currentUserId:t,sessionCount:a,canBuyPremium:n,isGiveawayAvailable:c,starsBalance:f,tonBalance:C,onReset:S})=>{const{loadMoreProfilePhotos:w,openPremiumModal:k,openSupportChat:N,openUrl:I,openGiftRecipientPicker:P,openStarsBalanceModal:M,openSettingsScreen:T}=(0,o.ko)(),[B,x,L]=(0,m.A)(!1),R=(0,A.A)();(0,s.vJ)(()=>{t&&w({peerId:t,isPreload:!0})},[t]),(0,u.A)({isActive:e,onBack:S});const F=(0,h.A)(()=>{N(),L()});return s.Ay.createElement("div",{className:"settings-content custom-scroll"},s.Ay.createElement("div",{className:"settings-main-menu self-profile"},t&&s.Ay.createElement(g.A,{peerId:t,canPlayVideo:Boolean(e),forceShowSelf:!0}),t&&s.Ay.createElement(v.A,{chatOrUserId:t,isInSettings:!0})),s.Ay.createElement("div",{className:"settings-main-menu"},s.Ay.createElement(b.A,{icon:"settings",narrow:!0,onClick:()=>T({screen:r.VS.General})},R("TelegramGeneralSettingsViewController")),s.Ay.createElement(b.A,{icon:"animations",narrow:!0,onClick:()=>T({screen:r.VS.Performance})},R("MenuAnimations")),s.Ay.createElement(b.A,{icon:"unmute",narrow:!0,onClick:()=>T({screen:r.VS.Notifications})},R("Notifications")),s.Ay.createElement(b.A,{icon:"data",narrow:!0,onClick:()=>T({screen:r.VS.DataStorage})},R("DataSettings")),s.Ay.createElement(b.A,{icon:"lock",narrow:!0,onClick:()=>T({screen:r.VS.Privacy})},R("PrivacySettings")),s.Ay.createElement(b.A,{icon:"folder",narrow:!0,onClick:()=>T({screen:r.VS.Folders})},R("Filters")),s.Ay.createElement(b.A,{icon:"active-sessions",narrow:!0,onClick:()=>T({screen:r.VS.ActiveSessions})},R("SessionsTitle"),a>0&&s.Ay.createElement("span",{className:"settings-item__current-value"},a)),s.Ay.createElement(b.A,{icon:"language",narrow:!0,onClick:()=>T({screen:r.VS.Language})},R("Language"),s.Ay.createElement("span",{className:"settings-item__current-value"},R.languageInfo.nativeName)),s.Ay.createElement(b.A,{icon:"stickers",narrow:!0,onClick:()=>T({screen:r.VS.Stickers})},R("MenuStickers"))),s.Ay.createElement("div",{className:"settings-main-menu"},n&&s.Ay.createElement(b.A,{leftElement:s.Ay.createElement(p.A,{className:"icon ListItem-main-icon",type:"premium",size:"big"}),narrow:!0,onClick:()=>k()},R("TelegramPremium")),s.Ay.createElement(b.A,{leftElement:s.Ay.createElement(p.A,{className:"icon ListItem-main-icon",type:"gold",size:"big"}),narrow:!0,onClick:()=>M({})},R("MenuStars"),Boolean(f)&&s.Ay.createElement("span",{className:"settings-item__current-value"},(0,l.ZF)(R,f))),s.Ay.createElement(b.A,{leftElement:s.Ay.createElement(y.A,{className:"icon ListItem-main-icon",name:"toncoin"}),narrow:!0,onClick:()=>M({currency:i.ykW})},R("MenuTon"),Boolean(C)&&s.Ay.createElement("span",{className:"settings-item__current-value"},(0,d.UL)(C.amount,C.currency))),c&&s.Ay.createElement(b.A,{icon:"gift",narrow:!0,onClick:()=>P()},R("MenuSendGift"))),s.Ay.createElement("div",{className:"settings-main-menu"},s.Ay.createElement(b.A,{icon:"ask-support",narrow:!0,onClick:x},R("AskAQuestion")),s.Ay.createElement(b.A,{icon:"help",narrow:!0,onClick:()=>I({url:i.r9K})},R("MenuTelegramFaq")),s.Ay.createElement(b.A,{icon:"privacy-policy",narrow:!0,onClick:()=>I({url:i.pkx})},R("MenuPrivacyPolicy"))),s.Ay.createElement(E.A,{isOpen:B,confirmLabel:R("OK"),title:R("AskAQuestion"),textParts:R("MenuAskText",void 0,{withNodes:!0,renderTextFilters:["br"]}),confirmHandler:F,onClose:L}))},S=(0,s.ph)((0,o.EK)(e=>{const{currentUserId:t}=e,a=(0,c.hc)(e),n=e.stars?.balance,s=e.ton?.balance;return{sessionCount:e.activeSessions.orderedHashes.length,currentUserId:t,canBuyPremium:!(0,c.n_C)(e),isGiveawayAvailable:a,starsBalance:n,tonBalance:s}})(C));n()}catch(e){n(e)}})},5802:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.d(t,{A:()=>C});var s=a(84051),o=a(13439),r=a(89925),i=a(9716),l=a(10722),c=a(11217),d=a(5912),m=a(39351),u=a(17712),A=a(92033),h=a(81949),y=a(51083),p=a(54746),v=a(17751),g=a(13352),E=a(22720),b=e([m,y,v,g,E]);[m,y,v,g,E]=b.then?(await b)():b;const f=({sponsoredPeer:e,observeIntersection:t})=>{const a=(0,s.li)(),{clickSponsored:n,viewSponsored:b,openChat:f}=(0,o.ko)(),C=(0,m.A)(),{peerId:S,randomId:w,additionalInfo:k,sponsorInfo:N}=e;(0,d.mv)(a,t,e=>{1===e.intersectionRatio&&b({randomId:w})});const I=(0,u.A)(()=>{n({randomId:w}),f({id:S})}),{isContextMenuOpen:P,contextMenuAnchor:M,handleBeforeContextMenu:T,handleContextMenu:B,handleContextMenuClose:x,handleContextMenuHide:L}=(0,l.A)(a),{handleClick:R,handleMouseDown:F}=(0,c.Q)(e=>{e.stopPropagation(),B(e)}),D=(0,A.A)(I);return s.Ay.createElement(E.A,{ref:a,className:"chat-item-clickable search-result",onClick:I,onMouseDown:T,onContextMenu:B,buttonRef:D},(0,i.L8)(S)?s.Ay.createElement(v.A,{userId:S,withUsername:!0,withStory:!0,avatarSize:"medium",storyViewerOrigin:r.G9.SearchResult}):s.Ay.createElement(y.A,{chatId:S,withUsername:!0,avatarSize:"medium",withStory:!0,storyViewerOrigin:r.G9.SearchResult}),s.Ay.createElement(h.A,{className:"search-sponsored-badge",onMouseDown:F,onClick:R},C("SponsoredPeerBadge"),s.Ay.createElement(p.A,{name:"more"})),M&&s.Ay.createElement(g.A,{isOpen:P,anchor:M,triggerRef:a,randomId:w,additionalInfo:k,canReport:!0,sponsorInfo:N,onClose:x,onCloseAnimationEnd:L}))},C=(0,s.ph)(f);n()}catch(e){n(e)}})},5812:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.d(t,{A:()=>u});var s=a(84051),o=a(87357),r=a(4961),i=a(17712),l=a(21849),c=a(22720),d=e([l,c]);[l,c]=d.then?(await d)():d;const m=({withAvatar:e,focus:t,command:a,description:n,peer:d,clickArg:m,onClick:u})=>{const A=(0,i.A)(()=>{u(m)});return s.Ay.createElement(c.A,{key:a,className:(0,o.A)("BotCommand chat-item-clickable scroll-item",e&&"with-avatar"),multiline:!0,onClick:A,focus:t},e&&s.Ay.createElement(l.A,{size:"small",peer:d}),s.Ay.createElement("div",{className:"content-inner"},s.Ay.createElement("span",{className:"title"},"/",a),s.Ay.createElement("span",{className:"subtitle"},(0,r.A)(n))))},u=(0,s.ph)(m);n()}catch(e){n(e)}})},6181:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.d(t,{A:()=>S});var s=a(84051),o=a(13439),r=a(89925),i=a(31481),l=a(60919),c=a(48894),d=a(87679),m=a(37836),u=a(52844),A=a(26072),h=a(59030),y=a(19806),p=a(22720),v=a(52745),g=a(99354),E=e([h,y,p,g]);[h,y,p,g]=E.then?(await E)():E;const b="image/jpeg",f=(0,m.nF)(e=>e(),6e4,!0),C=({isActive:e,onReset:t,background:a,isBlurred:n,loadedWallpapers:l,theme:m})=>{const{loadWallpapers:E,uploadWallpaper:C,setThemeSettings:S,openSettingsScreen:w}=(0,o.ko)(),k=(0,s.li)();k.current=m,(0,s.vJ)(()=>{f(()=>{E()})},[E]);const N=(0,s.hb)(e=>{const{files:t}=e.target,a=(0,d.kc)(t);a?.length&&C(a[0])},[C]),I=(0,s.hb)(()=>{(0,u.p)(b,N,!0)},[N]),P=(0,s.hb)(()=>{w({screen:r.VS.GeneralChatBackgroundColor})},[]),M=(0,s.hb)(()=>{S({theme:m,background:void 0,backgroundColor:void 0,isBlurred:!0,patternColor:"dark"===m?i.MkD:i.be8})},[S,m]),T=(0,s.hb)(e=>{S({theme:k.current,background:e});const t=l&&l.find(t=>t.slug===e);t?.document.thumbnail&&(0,c.rX)(t.document.thumbnail.dataUri).then(e=>{const t=(0,c.Yi)(e),a=`#${(0,c.v2)(e)}`;S({theme:k.current,backgroundColor:a,patternColor:t})})},[l,S]),B=(0,s.hb)(e=>{S({theme:k.current,isBlurred:e.target.checked})},[S]),x=(0,h.A)();(0,A.A)({isActive:e,onBack:t});const L=l?.[0]&&l[0].slug===r.Vw;return s.Ay.createElement("div",{className:"SettingsGeneralBackground settings-content custom-scroll"},s.Ay.createElement("div",{className:"settings-item"},s.Ay.createElement(p.A,{icon:"camera-add",className:"mb-0",disabled:L,onClick:I},x("UploadImage")),s.Ay.createElement(p.A,{icon:"colorize",className:"mb-0",onClick:P},x("SetColor")),s.Ay.createElement(p.A,{icon:"favorite",onClick:M},x("ThemeResetToDefaults")),s.Ay.createElement(y.A,{label:x("BackgroundBlurred"),checked:Boolean(n),onChange:B})),l?s.Ay.createElement("div",{className:"settings-wallpapers"},l.map(e=>s.Ay.createElement(g.A,{key:e.slug,wallpaper:e,theme:m,isSelected:a===e.slug,onClick:T}))):s.Ay.createElement(v.A,null))},S=(0,s.ph)((0,o.EK)(e=>{const t=(0,l.SJA)(e),{background:a,isBlurred:n}=(0,l.Gyz)(e,t)||{},{loadedWallpapers:s}=e.settings;return{background:a,isBlurred:n,loadedWallpapers:s,theme:t}})(C));n()}catch(e){n(e)}})},6249:(e,t,a)=>{a.d(t,{A:()=>n});const n={root:"vv5ppXel",active:"FVgqrSSK",info:"DboxqiZd",topRow:"Ymu2m1PR",meta:"A2rsvUBm",subtitle:"qUzmwaIn"}},6468:(e,t,a)=>{a.d(t,{A:()=>n});const n={root:"oXLpD4Y4",title:"paQ2VBe_",views:"WvFuOAIf"}},6516:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.d(t,{A:()=>m});var s=a(84051),o=a(86629),r=a(59030),i=a(40664),l=e([r,i]);[r,i]=l.then?(await l)():l;const c=5,d=({value:e,error:t,onChange:a})=>{const n=(0,r.A)(),l=(0,s.hb)(t=>{const n=t.target.value;e.endsWith("/")&&e.length>n.length?a(n):a((0,o.z)(t.target.value))},[a,e]);return s.Ay.createElement(i.A,{label:n("PaymentCardExpireDate"),onChange:l,value:e,error:t,inputMode:"numeric",tabIndex:0,maxLength:c,teactExperimentControlled:!0})},m=(0,s.ph)(d);n()}catch(e){n(e)}})},6520:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.d(t,{A:()=>y});var s=a(84051),o=a(13439),r=a(60919),i=a(87894),l=a(15384),c=a(26072),d=a(59030),m=a(52745),u=a(80622),A=e([l,d,u]);[l,d,u]=A.then?(await A)():A;const h=({isActive:e,chat:t,message:a,poll:n,onClose:o})=>{const r=(0,d.A)();if((0,c.A)({isActive:e,onBack:o}),!a||!n||!t)return s.Ay.createElement(m.A,null);const{summary:A,results:h}=n;if(!h.results)return;const y=(0,i.dU)(h.results,"option");return s.Ay.createElement("div",{className:"PollResults",dir:r.isRtl?"rtl":void 0},s.Ay.createElement("h3",{className:"poll-question",dir:"auto"},(0,l.fd)({text:A.question.text,entities:A.question.entities})),s.Ay.createElement("div",{className:"poll-results-list custom-scroll"},A.answers.map(e=>s.Ay.createElement(u.A,{key:`${n.id}-${e.option}`,chat:t,message:a,answer:e,answerVote:y[e.option],totalVoters:h.totalVoters}))))},y=(0,s.ph)((0,o.EK)(e=>{const{pollResults:{chatId:t,messageId:a}}=(0,r.nTw)(e);if(!t||!a)return{};const n=(0,r.hds)(e,t),s=(0,r.O5q)(e,t,a);return{chat:n,message:s,poll:s&&(0,r.zcZ)(e,s)}})(h));n()}catch(e){n(e)}})},6807:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.d(t,{h:()=>b});var s=a(96540),o=a(66049),r=a(25279),i=a(13439),l=a(31481),c=a(60919),d=a(75304),m=a(57291),u=a(77787),A=a(95815),h=a(81120),y=a(80878),p=a(48211),v=e([m]),g=v.then?(await v)():v;m=g[0];const E="777889",b=()=>{const e=(0,i.mS)(),{userId:t,userName:a}=(0,h.pD)(),[n,v]=(0,s.useState)({lastTime:void 0,hasMore:!0}),{scrollToBottom:g,scrollLocked:b,isScrollLock:f}=(0,d.R)(),{messages:C,setMessages:S,append:w,status:k,stop:N}=(0,o.Y_)({id:E,api:`${l.Vjs}/chat?userId=${t}&userName=${a}&platform=web`,sendExtraMessageFields:!0});(0,s.useEffect)(()=>{f||g()},[f,C,g]),(0,s.useEffect)(()=>(u.zs.message?.getMessages(E,void 0,20)?.then(e=>{if(e.messages.length>0){const t=(0,A.Lf)(e.messages);S(e=>[...t,...e])}else{const e={role:"assistant",id:(0,r.A)(),createdAt:new Date,content:"",annotations:[{type:"ai-search-sugesstion"}]};S([e])}v({lastTime:e.lastTime,hasMore:e.hasMore})}),()=>{S([])}),[]),(0,s.useEffect)(()=>{if(C.length>0&&"ready"===k){const e=(0,A.Jr)(E,C);u.zs.message?.storeMessages([...e])}},[k,C]);const I=(0,s.useCallback)(()=>(b(),new Promise(e=>{u.zs.message?.getMessages(E,n?.lastTime,20)?.then(t=>{if(t.messages){const e=(0,A.Lf)(t.messages);S(t=>[...e,...t])}v({lastTime:t.lastTime,hasMore:t.hasMore}),e()})})),[n?.lastTime,b,S]),P=(0,s.useCallback)(async e=>{const t=(await y.Ag.similaritySearch({query:e,k:100,filterOptions:{include:{metadata:{chatType:"group"}}}})).similarItems;let a=null;if(t.length>0){const e=Array.from(new Set(t.map(e=>{if(e.score>.7)return e?.metadata?.chatId}).filter(Boolean)));e.length>0&&(a=JSON.stringify(e))}if(a){const e={id:(0,r.A)(),role:"assistant",content:a,createdAt:new Date,parts:[],annotations:[{type:"group-search"}]};S(t=>[...t,e])}else{const e={id:(0,r.A)(),role:"assistant",content:"No relevant group was found",createdAt:new Date,parts:[]};S(t=>[...t,e])}},[S]),M=(0,s.useCallback)(async e=>{const t=(await y.Ag.similaritySearch({query:e,k:100,filterOptions:{include:{metadata:{chatType:"private"}}}})).similarItems;let a=null;if(t.length>0){const e=Array.from(new Set(t.map(e=>{if(e.score>.7)return e?.metadata?.senderId}).filter(Boolean)));e.length>0&&(a=JSON.stringify(e))}if(a){const e={id:(0,r.A)(),role:"assistant",content:a,createdAt:new Date,parts:[],annotations:[{type:"user-search"}]};S(t=>[...t,e])}else{const e={id:(0,r.A)(),role:"assistant",content:"No relevant users was found",createdAt:new Date,parts:[]};S(t=>[...t,e])}},[S]),T=(0,s.useCallback)(async t=>{const a=(await y.Ag.similaritySearch({query:t,k:100})).similarItems;if(a.length>0){const n=a.map(t=>{const{chatId:a,senderId:n}=t.metadata,s=(0,c.hds)(e,a);if(s){const o=n?(0,c.mBe)(e,n):void 0;return{chatId:a,chatTitle:s?.title??"Unknown",senderName:o?`${o.firstName||""} ${o.lastName||""}`:"",content:t.text}}return null});w({role:"user",content:`你是一个专业的聊天记录分析师,用户输入的关键词是${t},下面是根据关键词检索出来的相关的聊天记录,请对此加以总结:\n          # 总结消息偏好:\n              ## 根据消息的内容选择合适的语种进行总结\n              ## 过滤所有的无意义消息；\n              ## 尽量提取关键信息(如任务、问题、请求等),并简要总结。\n              ## 为保证输出内容的完整性,尽量精简总结内容；\n              ## 主话题不超过5个,子话题总数不超过15个\n          # 消息内容\n          ${JSON.stringify(n)}\n        `,id:Math.random().toString(),annotations:[{isAuxiliary:!0}]}),g()}},[w,e,g]),B=(0,s.useCallback)(e=>{fetch(`${l.Vjs}/tool-check`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({messages:[{id:(0,r.A)(),content:e,role:"user"}]})}).then(e=>e.json()).then(t=>{t&&t.length>0&&t.forEach(t=>{"checkIsSearchGroup"===t.toolName?P(t.result.keyword):"checkIsSearchUser"===t.toolName?M(t.result.keyword):"nullTool"===t.toolName&&(console.log("没有命中工具"),T(e))})})},[P,T,M]),x=(0,s.useCallback)(e=>{S(t=>[...t,{role:"user",content:e,id:Math.random().toString(),createdAt:new Date}]),B(e)},[S,B]);return s.createElement("div",{className:"pb-[28px] flex-1 flex flex-col h-full gap-[8px] overflow-hidden"},s.createElement(m.B,{className:"chat-ai-output-wrapper flex-1",status:k,messages:C,loadMore:I,hasMore:n.hasMore,chatId:E}),s.createElement("form",{className:"flex mx-auto gap-2 w-full"},s.createElement(p.N,{status:k,stop:N,setMessages:S,handleSearch:x})))};n()}catch(e){n(e)}})},6888:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.d(t,{A:()=>T});var s=a(84051),o=a(13439),r=a(89925),i=a(60919),l=a(30708),c=a(17663),d=a(31460),m=a(26072),u=a(10328),A=a(39351),h=a(17712),y=a(24680),p=a(41036),v=a(99476),g=a(8991),E=a(85413),b=a(50768),f=a(7027),C=a(1507),S=a(9553),w=a(50677),k=a(53897),N=e([A,y,v,g,E,b,f,C,S,w,k]);[A,y,v,g,E,b,f,C,S,w,k]=N.then?(await N)():N;const I=[{type:r.$C.ChatList,key:"SearchTabChats"},{type:r.$C.ChannelList,key:"SearchTabChannels"},{type:r.$C.BotApps,key:"SearchTabApps"},{type:r.$C.PublicPosts,key:"SearchTabPublicPosts"},{type:r.$C.Media,key:"SearchTabMedia"},{type:r.$C.Links,key:"SearchTabLinks"},{type:r.$C.Files,key:"SearchTabFiles"},{type:r.$C.Music,key:"SearchTabMusic"},{type:r.$C.Voice,key:"SearchTabVoice"}],P=[{type:r.$C.ChatList,key:"SearchTabMessages"},...I.slice(3)],M=({searchQuery:e,searchDate:t,isActive:a,currentContent:n=r.$C.ChatList,chatId:i,animationLevel:l,onReset:N})=>{const{setGlobalSearchContent:M,setGlobalSearchDate:T,checkSearchPostsFlood:B}=(0,o.ko)(),x=(0,A.A)(),[L,R]=(0,s.J0)(n),F=(0,s.Kr)(()=>(0,c.Rm)(e),[e]);(0,s.vJ)(()=>{a&&B({})},[a]);const D=(0,s.Kr)(()=>(i?P:I).map(e=>({...e,title:x(e.key)})),[i,x]),V=(0,h.A)(e=>{const t=D[e];M({content:t.type}),R(e)}),_=(0,h.A)(e=>{T({date:e.getTime()/1e3})});(0,m.A)({isActive:a,onBack:N});const U=(0,s.li)(),O=(0,u.A)(U,a,void 0,".ListItem-button",!0);return s.Ay.createElement("div",{className:"LeftSearch",ref:U,onKeyDown:O},s.Ay.createElement(y.A,{activeTab:L,tabs:D,onSwitchTab:V}),s.Ay.createElement(p.Ay,{name:(0,d.P)("slideOptimized",l,void 0,x.isRtl),renderCount:D.length,activeKey:n},(()=>{switch(n){case r.$C.ChatList:case r.$C.ChannelList:return i?s.Ay.createElement(b.A,{searchQuery:e,dateSearchQuery:F,onReset:N,onSearchDateSelect:_}):s.Ay.createElement(f.A,{isChannelList:n===r.$C.ChannelList,searchQuery:e,searchDate:t,dateSearchQuery:F,onReset:N,onSearchDateSelect:_});case r.$C.Media:return s.Ay.createElement(w.A,{searchQuery:e});case r.$C.Links:return s.Ay.createElement(S.A,{searchQuery:e});case r.$C.Files:return s.Ay.createElement(C.A,{searchQuery:e});case r.$C.Music:return s.Ay.createElement(g.A,{key:"audio",searchQuery:e});case r.$C.Voice:return s.Ay.createElement(g.A,{key:"voice",isVoice:!0,searchQuery:e});case r.$C.BotApps:return s.Ay.createElement(E.A,{key:"botApps",searchQuery:e});case r.$C.AI:return s.Ay.createElement(v.A,null);case r.$C.PublicPosts:return s.Ay.createElement(k.A,{key:"publicPosts",searchQuery:e});default:return}})()))},T=(0,s.ph)((0,o.EK)(e=>{const{currentContent:t,chatId:a}=(0,i.nTw)(e).globalSearch,{animationLevel:n}=(0,l.l)(e);return{currentContent:t,chatId:a,animationLevel:n}})(M));n()}catch(e){n(e)}})},7027:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.d(t,{A:()=>$});var s=a(84051),o=a(13439),r=a(89925),i=a(31481),l=a(90709),c=a(70636),d=a(60919),m=a(87357),u=a(49763),A=a(87894),h=a(57309),y=a(79824),p=a(37836),v=a(49086),g=a(79582),E=a(43874),b=a(10722),f=a(15283),C=a(36838),S=a(5912),w=a(39351),k=a(17712),N=a(59030),I=a(54746),P=a(42827),M=a(99952),T=a(46222),B=a(96530),x=a(52745),L=a(71429),R=a(24433),F=a(41036),D=a(78568),V=a(87089),_=a(75021),U=a(5802),O=a(84221),J=e([c,v,w,N,P,M,R,D,_,U,O]);[c,v,w,N,P,M,R,D,_,U,O]=J.then?(await J)():J;const K=4,G=5,j=200,z=(0,p.nF)(e=>e(),500,!1),H=({isChannelList:e,searchQuery:t,searchDate:a,dateSearchQuery:n,currentUserId:d,contactIds:p,accountPeerIds:J,globalPeerIds:H,foundIds:$,globalMessagesByChatId:q,fetchingStatus:W,suggestedChannelIds:Y,sponsoredPeer:Q,onReset:Z,onSearchDateSelect:X})=>{const{openChat:ee,addRecentlyFoundChatId:te,searchMessagesGlobal:ae,setGlobalSearchChatId:ne,loadChannelRecommendations:se}=(0,o.ko)(),oe=(0,s.li)(),re=(0,s.li)(),ie=(0,N.A)(),le=(0,w.A)(),{isMobile:ce}=(0,E.Ay)(),[de,me]=(0,s.J0)(!1),[ue,Ae]=(0,s.J0)(!1),[he,ye]=(0,s.J0)("all"),pe=(0,s.li)();(0,f.A)(()=>{e&&se({})});const ve=(0,s.hb)(({direction:t})=>{t===r.TN.Backwards&&z(()=>{ae({type:e?"channels":"text",context:he})})},[t,he]),ge=(0,s.hb)(e=>{ee({id:e,shouldReplaceHistory:!0}),e!==d&&te({id:e}),ce||Z()},[ee,d,ce,te,Z]),Ee=(0,s.hb)(e=>{ne({id:e})},[ne]);function be(e){return le("users"===e?"PrivateChatsSearchContext":"groups"===e?"GroupChatsSearchContext":"channels"===e?"ChannelsSearchContext":"AllChatsSearchContext")}const{isContextMenuOpen:fe,contextMenuAnchor:Ce,handleContextMenu:Se,handleContextMenuClose:we,handleContextMenuHide:ke}=(0,b.A)(pe),Ne=(0,k.A)(()=>pe.current),Ie=(0,k.A)(()=>pe.current.querySelector(".chatResultsContextMenu .bubble")),Pe=(0,k.A)(()=>pe.current.querySelector(".menuTrigger")),Me=(0,k.A)(e=>{Se(e)}),Te=(0,m.A)("icon","iconPlaceholder"),Be=(0,s.Kr)(()=>{if(!e&&(!t||t.startsWith("@")&&t.length<2))return y.p;const a=(0,o.mS)().chats.byId,n=((0,u.YA)(i.DSF)??[]).filter(t=>{if(!e)return!0;const n=a[t];return n&&(0,l.WX)(n)}),s=(0,c.PU)({ids:n,query:t,type:"chat"});if(e)return s;const r=[...d?[d]:[],...p||[]],m=[...(0,c.PU)({ids:r,query:t,type:"user"}),...s];return(0,A.Am)([...(0,g.A)(m,void 0,d?[d]:void 0),...(0,g.A)(J||[])])},[t,d,p,J,e]);(0,C.A)(re,!Be.length||e,!0);const xe=(0,s.Kr)(()=>{if(!t||t.length<K||!H)return y.p;const a=(0,o.mS)().chats.byId,n=H.filter(t=>{if(!e)return!0;const n=a[t];return n&&(0,l.WX)(n)});return(0,g.A)(n,!0)},[H,e,t]),Le=(0,s.Kr)(()=>{if(!t&&!a||!$||0===$.length)return y.p;const n=(0,o.mS)().chats.byId;return $.map(t=>{const[a,s]=(0,h.a)(t),o=n[a];if(o&&(!e||(0,l.WX)(o)))return q?.[a]?.byId[s]}).filter(Boolean)},[t,a,$,e,q]);(0,s.vJ)(()=>{t&&ae({type:e?"channels":"text",context:he,shouldResetResultsByType:!0,shouldCheckFetchingMessagesStatus:!0})},[he]);const Re=(0,s.hb)(()=>{me(!de)},[de]),Fe=(0,s.hb)(()=>{Ae(!ue)},[ue]),De=Le,Ve="all"===he&&W&&!W.chats&&!W.messages&&!Be.length&&!xe.length&&!De.length,_e=W?.messages,Ue=!t&&!a&&!e,{observe:Oe}=(0,S.BL)({rootRef:oe,throttleMs:j,isDisabled:!Ue});if(Ue)return s.Ay.createElement(O.A,{onReset:Z});const Je="all"!==he||Boolean(De.length);return s.Ay.createElement(T.A,{ref:oe,className:"LeftSearch--content custom-scroll",items:De,onLoadMore:ve,noScrollRestoreOnTop:!0,noFastList:!0},n&&s.Ay.createElement("div",{className:"chat-selection no-scrollbar"},s.Ay.createElement(V.A,{searchDate:n,onSelect:X})),Ve&&s.Ay.createElement(P.A,{withSticker:!0,text:ie("ChatList.Search.NoResults"),description:ie("ChatList.Search.NoResultsDescription")}),Boolean(Be.length)&&!e&&s.Ay.createElement("div",{className:"chat-selection no-scrollbar",dir:ie.isRtl?"rtl":void 0,ref:re},Be.map(e=>s.Ay.createElement(M.A,{peerId:e,className:"left-search-local-suggestion",onClick:Ee,clickArg:e}))),Boolean(Be.length)&&s.Ay.createElement("div",{className:"search-section"},s.Ay.createElement("h3",{className:"section-heading",dir:ie.isRtl?"auto":void 0},Be.length>G&&s.Ay.createElement(B.A,{className:"Link",onClick:Re},ie(de?"ChatList.Search.ShowLess":"ChatList.Search.ShowMore")),ie(e?"SearchMyChannels":"DialogList.SearchSectionDialogs")),Be.map((e,t)=>{if(de||!(t>=G))return s.Ay.createElement(_.A,{withOpenAppButton:!0,chatId:e,onClick:ge})})),Boolean(xe.length)&&s.Ay.createElement("div",{className:"search-section"},s.Ay.createElement("h3",{className:"section-heading",dir:ie.isRtl?"auto":void 0},xe.length>G&&s.Ay.createElement(B.A,{className:"Link",onClick:Fe},ie(ue?"ChatList.Search.ShowLess":"ChatList.Search.ShowMore")),ie("DialogList.SearchSectionGlobal")),Q&&s.Ay.createElement(U.A,{sponsoredPeer:Q,observeIntersection:Oe}),xe.map((e,t)=>{if(ue||!(t>=G))return s.Ay.createElement(_.A,{chatId:e,withUsername:!0,onClick:ge})})),Boolean(Y?.length)&&!t&&s.Ay.createElement("div",{className:"search-section"},s.Ay.createElement("h3",{className:"section-heading",dir:ie.isRtl?"auto":void 0},ie("SearchRecommendedChannels")),Y.map(e=>s.Ay.createElement(_.A,{chatId:e,withUsername:!0,onClick:ge}))),s.Ay.createElement("div",{className:"menuOwner",ref:pe},s.Ay.createElement(L.A,{isOpen:fe,anchor:Ce,getTriggerElement:Pe,getRootElement:Ne,getMenuElement:Ie,className:"chatResultsContextMenu",onClose:we,onCloseAnimationEnd:ke,autoClose:!0},s.Ay.createElement(s.Ay.Fragment,null,s.Ay.createElement(R.A,{icon:"all"===he?"check":void 0,customIcon:"all"!==he?s.Ay.createElement("i",{className:Te}):void 0,onClick:()=>ye("all")},be("all")),s.Ay.createElement(R.A,{icon:"users"===he?"check":void 0,customIcon:"users"!==he?s.Ay.createElement("i",{className:Te}):void 0,onClick:()=>ye("users")},be("users")),s.Ay.createElement(R.A,{icon:"groups"===he?"check":void 0,customIcon:"groups"!==he?s.Ay.createElement("i",{className:Te}):void 0,onClick:()=>ye("groups")},be("groups")),s.Ay.createElement(R.A,{icon:"channels"===he?"check":void 0,customIcon:"channels"!==he?s.Ay.createElement("i",{className:Te}):void 0,onClick:()=>ye("channels")},be("channels")))),Je&&s.Ay.createElement("div",{className:"search-section"},s.Ay.createElement("h3",{className:"section-heading",dir:ie.isRtl?"auto":void 0},!e&&s.Ay.createElement(B.A,{className:"Link menuTrigger dropDownLink",onClick:Me},le("SearchContextCaption",{type:be(he)},{withNodes:!0}),s.Ay.createElement(F.Ay,{name:"fade",shouldCleanup:!0,activeKey:Number(_e),className:"iconContainer",slideClassName:"iconContainerSlide"},_e&&s.Ay.createElement(x.A,null),!_e&&s.Ay.createElement(I.A,{name:"down"}))),ie("SearchMessages")),De.map(function(e){const a=(0,o.mS)().chats.byId,n=(0,v.C)(ie,e),r=a[e.chatId];if(n&&r)return s.Ay.createElement(D.A,{chatId:e.chatId,message:e,searchQuery:t})}))))},$=(0,s.ph)((0,o.EK)((e,{isChannelList:t})=>{const{userIds:a}=e.contactList||{},{currentUserId:n,messages:s}=e;if(!a)return{};const{fetchingStatus:o,globalResults:r,localResults:l,resultsByType:c,sponsoredPeer:m}=(0,d.nTw)(e).globalSearch,{peerIds:u}=r||{},{peerIds:A}=l||{},{byChatId:h}=s,y=c?.[t?"channels":"text"]?.foundIds,{similarChannelIds:p}=(0,d.dg4)(e,i.rBM)||{};return{currentUserId:n,contactIds:a,accountPeerIds:A,globalPeerIds:u,foundIds:y,globalMessagesByChatId:h,fetchingStatus:o,sponsoredPeer:m,suggestedChannelIds:p}})(H));n()}catch(e){n(e)}})},7101:(e,t,a)=>{function n(e,t){return e.reduce((e,a)=>Math.abs(a-t)<Math.abs(e-t)?a:e)}a.d(t,{_:()=>n})},7289:(e,t,a)=>{a.d(t,{A:()=>n});const n={content:"C9sWDINB",topEmoji:"gdG3oY21",description:"p7S4AH8A",title:"KVpsce1g"}},8233:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.d(t,{A:()=>E});var s=a(84051),o=a(13439),r=a(87357),i=a(17663),l=a(37661),c=a(26072),d=a(59030),m=a(21849),u=a(35384),A=a(94189),h=a(22720),y=a(94492),p=a(14775),v=e([d,m,u,A,h,y]);[d,m,u,A,h,y]=v.then?(await v)():v;const g=({isActive:e,byHash:t,orderedHashes:a,onReset:n})=>{const{terminateWebAuthorization:v,terminateAllWebAuthorizations:g}=(0,o.ko)(),E=(0,d.A)(),[b,f,C]=(0,l.A)(),[S,w]=(0,s.J0)(),[k,N,I]=(0,l.A)(),P=(0,s.hb)(e=>{v({hash:e})},[v]),M=(0,s.hb)(()=>{C(),g()},[C,g]),T=(0,s.hb)(e=>{w(e),N()},[N]),B=(0,s.hb)(()=>{w(void 0),I()},[I]);var x;if((0,s.vJ)(()=>{a.length||n()},[n,a]),(0,c.A)({isActive:e,onBack:n}),a.length)return s.Ay.createElement("div",{className:"settings-content custom-scroll"},s.Ay.createElement("div",{className:"settings-item"},s.Ay.createElement(h.A,{className:"destructive mb-0 no-icon",icon:"stop",ripple:!0,narrow:!0,onClick:f},E("AuthSessions.LogOutApplications")),s.Ay.createElement("p",{className:(0,r.A)("settings-item-description",p.A.clearHelp)},E("ClearOtherWebSessionsHelp"))),(x=a,s.Ay.createElement("div",{className:"settings-item"},s.Ay.createElement("h4",{className:"settings-item-header",dir:E.isRtl?"rtl":void 0},E("WebSessionsTitle")),x.map(function(e){const a=t[e],n=(0,o.mS)().users.byId[a.botId];return s.Ay.createElement(h.A,{key:a.hash,ripple:!0,narrow:!0,contextActions:[{title:"Terminate",icon:"stop",destructive:!0,handler:()=>{P(a.hash)}}],onClick:()=>T(a.hash)},s.Ay.createElement(m.A,{className:p.A.avatar,peer:n,size:"tiny"}),s.Ay.createElement("div",{className:"multiline-item full-size",dir:"auto"},s.Ay.createElement("span",{className:"date"},(0,i.be)(E,1e3*a.dateActive)),n&&s.Ay.createElement(u.A,{className:p.A.title,peer:n}),s.Ay.createElement("span",{className:(0,r.A)("subtitle","black","tight",p.A.platform)},a.domain,",",a.browser,",",a.platform),s.Ay.createElement("span",{className:(0,r.A)("subtitle",p.A.subtitle)},a.ip," ",a.region)))}))),s.Ay.createElement(A.A,{isOpen:b,onClose:C,title:E("AuthSessions.LogOutApplications"),text:E("AreYouSureWebSessions"),confirmHandler:M,confirmIsDestructive:!0}),s.Ay.createElement(y.A,{isOpen:k,hash:S,onClose:B}))},E=(0,s.ph)((0,o.EK)(e=>{const{byHash:t,orderedHashes:a}=e.activeWebSessions;return{byHash:t,orderedHashes:a}})(g));n()}catch(e){n(e)}})},8491:(e,t,a)=>{a.d(t,{A:()=>n});const n={modal:"slqA9gR2"}},8661:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.d(t,{A:()=>J});var s=a(84051),o=a(13439),r=a(31481),i=a(20179),l=a(60919),c=a(30708),d=a(87357),m=a(95807),u=a(48894),A=a(71322),h=a(43503),y=a(32625),p=a(43874),v=a(10722),g=a(76664),E=a(36838),b=a(39351),f=a(17712),C=a(59030),S=a(21849),w=a(54746),k=a(64493),N=a(22699),I=a(71429),P=a(24433),M=a(8410),T=a(51633),B=a(95020),x=a(46073),L=a(69929),R=e([b,C,S,k,N,P,M,T,B,x]);[b,C,S,k,N,P,M,T,B,x]=R.then?(await R)():R;const F=45e3,D=128,V={width:300,height:40},_={width:420,height:730},U={width:300,height:300},O=({modal:e,chat:t,bot:a,attachBot:n,theme:l,cachedSize:c,cachedPosition:R})=>{const{closeActiveWebApp:O,closeWebAppModal:J,prolongWebView:K,toggleAttachBot:G,openChat:j,changeWebAppModalState:z,openWebAppTab:H,updateWebApp:$,openMoreAppsTab:q,closeMoreAppsTab:W,updateMiniAppCachedPosition:Y,updateMiniAppCachedSize:Q}=(0,o.ko)(),[Z,X]=(0,s.Ul)(c||_);function ee(){return"fullScreen"===e?.modalState?h.A.get():"maximized"===e?.modalState?Z():V}const{openedWebApps:te,activeWebAppKey:ae,openedOrderedKeys:ne,sessionKeys:se,isMoreAppsTabActive:oe}=e||{},re=ae?te?.[ae]:void 0,{isBackButtonVisible:ie,headerColor:le,backgroundColor:ce,isSettingsButtonVisible:de}=re||{},me=(0,s.Kr)(()=>ne?.map(e=>{const t=te[e];return{bot:(0,o.mS)().users.byId[t.botId],webApp:t,isOpen:Boolean(re&&e===(0,i.rp)(re))}}),[ne,te,re]),{isMobile:ue}=(0,p.Ay)(),Ae=e?.isModalOpen||!1,he="maximized"===e?.modalState,ye="minimized"===e?.modalState,pe="fullScreen"===e?.modalState,ve=!ue,ge=(0,s.li)(),Ee=(0,s.li)(),be=(0,s.li)(),fe=(0,f.A)(()=>ge.current),Ce=(0,f.A)(()=>ge.current),Se=(0,f.A)(()=>be.current),{isContextMenuOpen:we,contextMenuAnchor:ke,handleContextMenu:Ne,handleContextMenuClose:Ie,handleContextMenuHide:Pe}=(0,v.A)(ge),[Me,Te]=(0,s.J0)(!1),Be=Ee.current,xe=ge.current;(0,s.vJ)(()=>{Te(Boolean(ve&&Be&&xe&&!pe))},[ve,Be,xe,pe]),(0,s.vJ)(()=>{z({state:"maximized"})},[ve]);const{isDragging:Le,isResizing:Re,style:Fe,size:De,position:Ve}=(0,g.A)(ge,Ee,Me,ee(),pe,function(){if("maximized"===e?.modalState)return U}(),R),_e=Ve?.x,Ue=Ve?.y;(0,s.vJ)(()=>{Le||void 0===_e||void 0===Ue||Y({position:{x:_e,y:Ue}})},[Le,_e,Ue]),(0,s.vJ)(()=>{!Le&&De&&he&&Q({size:De})},[Le,he,De]);const Oe=De||ee(),Je=Oe.width,Ke=Oe.height;(0,s.vJ)(()=>{Re&&X({width:Je,height:Ke})},[Ke,Je,Re,X]);const Ge=(0,C.A)(),je=(0,b.A)(),{queryId:ze}=re||{},He=te?Object.values(te).length:0;(0,y.A)(()=>{te&&Object.keys(te).forEach(e=>{const a=te[e];a.queryId&&K({botId:a.botId,queryId:a.queryId,peerId:a.peerId||t.id,replyInfo:a.replyInfo})})},ze?F:void 0,!0);const $e=(0,s.li)(null),qe=(0,s.li)(null),We=(0,f.A)(e=>{$e.current=e}),Ye=(0,f.A)(e=>{$e.current&&$e.current(e)}),Qe=(0,f.A)(e=>{qe.current=e}),Ze=(0,f.A)(e=>{qe.current&&qe.current(e)}),Xe=(0,f.A)(()=>{Ye({eventType:"settings_button_pressed"})}),et=(0,f.A)(()=>{Ze(re.url)}),tt=(0,f.A)(()=>{J()}),at=(0,f.A)(()=>{W()}),nt=(0,f.A)(()=>{He>1?O():J()}),st=(0,f.A)(()=>{if(n){const e=(0,i.rp)(re);return void $({key:e,update:{isRemoveModalOpen:!0}})}G({botId:a.id,isEnabled:!0})}),ot=(0,f.A)(()=>{ie?Ye({eventType:"back_button_pressed"}):tt()}),rt=(0,f.A)(()=>{z({state:"minimized"})}),it=(0,f.A)(()=>{z({state:"fullScreen"})}),lt=(0,f.A)(()=>{q()}),ct=(0,f.A)(e=>{H({webApp:e.webApp})}),dt=(0,f.A)(()=>{j({id:a.id})}),mt=(0,s.Kr)(()=>({onTrigger:e,isOpen:t})=>s.Ay.createElement(k.A,{className:(0,d.A)(ve?L.A.tabMoreButton:L.A.moreButton,t&&"active"),round:!0,ripple:!ue,size:ve?"tiny":"smaller",color:"translucent",onClick:e,ariaLabel:"More actions"},s.Ay.createElement(w.A,{name:"more"})),[ue,ve]);function ut(){return s.Ay.createElement(s.Ay.Fragment,null,t&&a&&t.id!==a.id&&s.Ay.createElement(P.A,{icon:"bots",onClick:dt},Ge("BotWebViewOpenBot")),s.Ay.createElement(P.A,{icon:"reload",onClick:et},Ge("WebApp.ReloadPage")),de&&s.Ay.createElement(P.A,{icon:"settings",onClick:Xe},Ge("Settings")),a?.isAttachBot&&s.Ay.createElement(P.A,{icon:n?"stop":"install",onClick:st,destructive:Boolean(n)},Ge(n?"WebApp.RemoveBot":"WebApp.AddToAttachmentAdd")))}function At(){return s.Ay.createElement(I.A,{isOpen:we,anchor:ke,ref:be,className:(0,d.A)(ve?L.A.webAppTabMoreMenu:"web-app-more-menu","with-menu-transitions"),getTriggerElement:fe,getMenuElement:Se,getRootElement:Ce,autoClose:!0,onClose:Ie,onCloseAnimationEnd:Pe},ut())}const ht=(0,d.A)(L.A.closeIcon,ie&&L.A.stateBack),yt=(0,s.Kr)(()=>{if(oe)return"color-text";if(!le)return;const{r:e,g:t,b:a}=(0,A.E2)(le),n=(0,u.LS)([e,t,a]);return("dark"===l?255-n:n)>D?"color-text":"color-background"},[le,l,oe]);function pt(e){return s.Ay.createElement("svg",{className:e,width:"16",height:"16",viewBox:"0 0 16 16",fill:"none"},s.Ay.createElement("path",{className:L.A.tabButtonCurvePath,"fill-rule":"evenodd","clip-rule":"evenodd",d:"M16 16V0C16 12 12 16 0 16H16Z"}))}const vt=(0,s.li)();function gt(e){return(0,d.A)(r.jQ1,e)}return(0,E.A)(vt,!Ae||ye||!vt.current),s.Ay.createElement(M.A,{dialogRef:ge,className:(0,d.A)(L.A.root,ve&&L.A.multiTab,ye&&L.A.minimized,pe&&L.A.fullScreen),dialogStyle:ve?Fe:void 0,dialogContent:Me&&!ye?s.Ay.createElement(s.Ay.Fragment,null,s.Ay.createElement("div",{className:gt("top")}),s.Ay.createElement("div",{className:gt("bottom")}),s.Ay.createElement("div",{className:gt("left")}),s.Ay.createElement("div",{className:gt("right")}),s.Ay.createElement("div",{className:gt("topLeft")}),s.Ay.createElement("div",{className:gt("topRight")}),s.Ay.createElement("div",{className:gt("bottomLeft")}),s.Ay.createElement("div",{className:gt("bottomRight")})):void 0,isOpen:Ae,isLowStackPriority:!0,onClose:tt,header:s.Ay.createElement("div",{ref:Ee},ve?he?s.Ay.createElement("div",{className:(0,d.A)("modal-header","multiTab"),style:(0,m.A)(yt&&`--color-header-text: var(--${yt})`)},s.Ay.createElement(k.A,{className:L.A.headerButton,round:!0,color:"translucent",size:"tiny",ariaLabel:Ge(ie?"Back":"Close"),onClick:ot},s.Ay.createElement("div",{className:ht})),s.Ay.createElement("div",{className:L.A.tabs,ref:vt},me?.map(e=>e.isOpen?function(){const e=(0,m.A)(yt&&`--color-header-text: var(--${yt})`,le&&`--active-tab-background: ${le}`);return s.Ay.createElement("div",{className:L.A.tabButtonWrapper,style:e},pt(L.A.tabButtonLeftCurve),s.Ay.createElement("div",{className:L.A.tabButton},s.Ay.createElement("div",{className:L.A.avatarContainer},s.Ay.createElement(S.A,{size:"mini",peer:a}),s.Ay.createElement(mt,{onTrigger:Ne,isOpen:we})),n?.shortName??a?.firstName,s.Ay.createElement("div",{className:L.A.tabRightMask}),s.Ay.createElement(k.A,{className:L.A.tabCloseButton,round:!0,color:"translucent",size:"tiny",ariaLabel:Ge("Close"),onClick:nt},s.Ay.createElement(w.A,{className:L.A.tabCloseIcon,name:"close"}))),pt(L.A.tabButtonRightCurve))}():s.Ay.createElement(S.A,{className:L.A.tabAvatar,size:"mini",peer:e.bot,onClick:()=>ct(e)})),oe&&s.Ay.createElement("div",{className:L.A.tabButtonWrapper},pt(L.A.tabButtonLeftCurve),s.Ay.createElement("div",{className:L.A.tabButton},s.Ay.createElement("div",{className:L.A.moreAppsTabIcon},s.Ay.createElement(w.A,{className:L.A.icon,name:"add"})),je("OpenApp"),s.Ay.createElement("div",{className:L.A.tabRightMask}),s.Ay.createElement(k.A,{className:L.A.tabCloseButton,round:!0,color:"translucent",size:"tiny",ariaLabel:Ge("Close"),onClick:at},s.Ay.createElement(w.A,{className:L.A.tabCloseIcon,name:"close"}))),pt(L.A.tabButtonRightCurve))),At(),s.Ay.createElement("div",{className:L.A.toolBar},!oe&&s.Ay.createElement(k.A,{className:(0,d.A)(L.A.moreAppsButton,"no-drag"),round:!0,color:"translucent",size:"tiny",onClick:lt},s.Ay.createElement(w.A,{className:L.A.icon,name:"add"})),!oe&&s.Ay.createElement(k.A,{className:(0,d.A)(L.A.windowStateButton,L.A.fullscreenButton,"no-drag"),round:!0,color:"translucent",size:"tiny",onClick:it},s.Ay.createElement(w.A,{className:L.A.stateIcon,name:"expand-modal"})),s.Ay.createElement(k.A,{className:(0,d.A)(L.A.windowStateButton,"no-drag"),round:!0,color:"translucent",size:"tiny",onClick:rt},s.Ay.createElement(w.A,{className:L.A.stateIcon,name:"collapse-modal"})))):s.Ay.createElement(T.A,null):s.Ay.createElement("div",{className:"modal-header",style:(0,m.A)(le&&`background-color: ${le}`,yt&&`--color-header-text: var(--${yt})`)},s.Ay.createElement(k.A,{round:!0,color:"translucent",size:"smaller",ariaLabel:Ge(ie?"Back":"Close"),onClick:ot},s.Ay.createElement("div",{className:ht})),s.Ay.createElement("div",{className:"modal-title"},n?.shortName??a?.firstName),!oe&&s.Ay.createElement(N.A,{className:(0,d.A)(ve?L.A.webAppTabMoreMenu:"web-app-more-menu","with-menu-transitions"),trigger:mt,positionX:ve?"left":"right"},ut()))),style:`background-color: ${ce||"var(--color-background)"}`,noBackdrop:!0,noBackdropClose:!0},pe&&At(),te&&se?.map(t=>s.Ay.createElement(x.A,{key:t,modal:e,registerSendEventCallback:We,registerReloadFrameCallback:Qe,webApp:te[t],isTransforming:Le||Re,onContextMenuButtonClick:Ne,isMultiTabSupported:ve,modalHeight:Ke})),oe&&s.Ay.createElement(B.A,null))},J=(0,s.ph)((0,o.EK)((e,{modal:t})=>{const a=t?.activeWebAppKey?(0,l.wtp)(e,t.activeWebAppKey):void 0,{botId:n}=a||{},s=n?e.attachMenu.bots[n]:void 0,o=n?(0,l.mBe)(e,n):void 0,r=(0,l.meB)(e),i=(0,l.SJA)(e),{miniAppsCachedPosition:d,miniAppsCachedSize:m}=(0,c.l)(e);return{attachBot:s,bot:o,chat:r,theme:i,cachedPosition:d,cachedSize:m}})(O));n()}catch(e){n(e)}})},8865:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.d(t,{A:()=>h});var s=a(84051),o=a(13439),r=a(5560),i=a(26072),l=a(39351),c=a(56133),d=a(19806),m=a(82497),u=e([r,l,d,m]);[r,l,d,m]=u.then?(await u)():u;const A=({isActive:e,onReset:t,notifyDefaults:a,hasContactJoinedNotifications:n,hasPushNotifications:u,hasWebNotifications:A,notificationSoundVolume:h})=>{const{loadNotificationSettings:y,updateContactSignUpNotification:p,updateNotificationSettings:v,updateWebNotificationSettings:g}=(0,o.ko)();(0,s.vJ)(()=>{y()},[y]);const E=(0,c.A)(500,!0),b=(0,r.M2)(),f=b&&!(0,r.Ac)(),C=(0,s.hb)((e,t,n)=>{const s=Boolean(a?.[t]?.mutedUntil),o=Boolean(a?.[t]?.shouldShowPreviews);v({peerType:t,isMuted:"mute"===n?!e.target.checked:s,shouldShowPreviews:"showPreviews"===n?e.target.checked:o})},[a]),S=(0,s.hb)(e=>{const t=e.target.checked;g({hasWebNotifications:t,...!t&&{hasPushNotifications:!1}})},[g]),w=(0,s.hb)(e=>{g({hasPushNotifications:e.target.checked})},[g]),k=(0,s.hb)(e=>{C(e,"users","mute")},[C]),N=(0,s.hb)(e=>{C(e,"users","showPreviews")},[C]),I=(0,s.hb)(e=>{C(e,"groups","mute")},[C]),P=(0,s.hb)(e=>{C(e,"groups","showPreviews")},[C]),M=(0,s.hb)(e=>{C(e,"channels","mute")},[C]),T=(0,s.hb)(e=>{C(e,"channels","showPreviews")},[C]),B=(0,s.hb)(e=>{p({isSilent:!e.target.checked})},[p]),x=(0,s.hb)(e=>{g({notificationSoundVolume:e}),E(()=>(0,r.BA)(void 0,e))},[E,g]),L=(0,l.A)();return(0,i.A)({isActive:e,onBack:t}),s.Ay.createElement("div",{className:"settings-content custom-scroll"},s.Ay.createElement("div",{className:"settings-item"},s.Ay.createElement("h4",{className:"settings-item-header",dir:L.isRtl?"rtl":void 0},L("NotificationsWeb")),s.Ay.createElement(d.A,{label:L("NotificationsWeb"),subLabel:L(A?"UserInfoNotificationsEnabled":"UserInfoNotificationsDisabled"),checked:A,disabled:!b,onChange:S}),s.Ay.createElement(d.A,{label:L("NotificationsOffline"),disabled:!A||!f,subLabel:L(f?u?"UserInfoNotificationsEnabled":"UserInfoNotificationsDisabled":"SettingsOfflineNotificationUnsupported"),checked:u,onChange:w}),s.Ay.createElement("div",{className:"settings-item-slider"},s.Ay.createElement(m.A,{label:L("NotificationsSound"),min:0,max:10,disabled:!b,value:h,onChange:x}))),s.Ay.createElement("div",{className:"settings-item"},s.Ay.createElement("h4",{className:"settings-item-header",dir:L.isRtl?"rtl":void 0},L("AutodownloadPrivateChats")),s.Ay.createElement(d.A,{label:L("NotificationsForPrivateChats"),subLabel:L(a?.users?.mutedUntil?"UserInfoNotificationsEnabled":"UserInfoNotificationsDisabled"),checked:Boolean(a?.users?.mutedUntil),onChange:k}),s.Ay.createElement(d.A,{label:L("MessagePreview"),disabled:!a?.users?.mutedUntil,subLabel:L(a?.users?.shouldShowPreviews?"UserInfoNotificationsEnabled":"UserInfoNotificationsDisabled"),checked:Boolean(a?.users?.shouldShowPreviews),onChange:N})),s.Ay.createElement("div",{className:"settings-item"},s.Ay.createElement("h4",{className:"settings-item-header",dir:L.isRtl?"rtl":void 0},L("FilterGroups")),s.Ay.createElement(d.A,{label:L("NotificationsForGroups"),subLabel:L(a?.groups?.mutedUntil?"UserInfoNotificationsEnabled":"UserInfoNotificationsDisabled"),checked:Boolean(a?.groups?.mutedUntil),onChange:I}),s.Ay.createElement(d.A,{label:L("MessagePreview"),disabled:!a?.groups?.mutedUntil,subLabel:L(a?.groups?.shouldShowPreviews?"UserInfoNotificationsEnabled":"UserInfoNotificationsDisabled"),checked:Boolean(a?.groups?.shouldShowPreviews),onChange:P})),s.Ay.createElement("div",{className:"settings-item"},s.Ay.createElement("h4",{className:"settings-item-header",dir:L.isRtl?"rtl":void 0},L("FilterChannels")),s.Ay.createElement(d.A,{label:L("NotificationsForChannels"),subLabel:L(a?.channels?.mutedUntil?"UserInfoNotificationsEnabled":"UserInfoNotificationsDisabled"),checked:Boolean(a?.channels?.mutedUntil),onChange:M}),s.Ay.createElement(d.A,{label:L("MessagePreview"),disabled:!a?.channels?.mutedUntil,subLabel:L(a?.channels?.shouldShowPreviews?"UserInfoNotificationsEnabled":"UserInfoNotificationsDisabled"),checked:Boolean(a?.channels?.shouldShowPreviews),onChange:T})),s.Ay.createElement("div",{className:"settings-item"},s.Ay.createElement("h4",{className:"settings-item-header",dir:L.isRtl?"rtl":void 0},L("PhoneOther")),s.Ay.createElement(d.A,{label:L("ContactJoined"),checked:n,onChange:B})))},h=(0,s.ph)((0,o.EK)(e=>({hasContactJoinedNotifications:Boolean(e.settings.byKey.hasContactJoinedNotifications),hasWebNotifications:e.settings.byKey.hasWebNotifications,hasPushNotifications:e.settings.byKey.hasPushNotifications,notificationSoundVolume:e.settings.byKey.notificationSoundVolume}))(A));n()}catch(e){n(e)}})},8991:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.d(t,{A:()=>N});var s=a(84051),o=a(13439),r=a(89925),i=a(31481),l=a(90709),c=a(56494),d=a(17663),m=a(57309),u=a(79824),A=a(37836),h=a(74975),y=a(55429),p=a(59030),v=a(93809),g=a(55378),E=a(42827),b=a(46222),f=a(52745),C=a(41036),S=e([y,p,g,E]);[y,p,g,E]=S.then?(await S)():S;const w=(0,A.nF)(e=>e(),500,!0),k=({theme:e,isVoice:t,searchQuery:a,isLoading:n,chatsById:A,usersById:h,globalMessagesByChatId:S,foundIds:k,activeDownloads:N})=>{const{searchMessagesGlobal:I,focusMessage:P,openAudioPlayer:M}=(0,o.ko)(),T=(0,p.A)(),B=t?"voice":"audio",x=(0,s.hb)(({direction:e})=>{e===r.TN.Backwards&&w(()=>{I({type:B})})},[B,I,a]),L=(0,s.Kr)(()=>k&&S?k.map(e=>{const[t,a]=(0,m.a)(e);return S[t]?.byId[a]}).filter(Boolean):u.p,[S,k]),R=(0,s.hb)(e=>{P({chatId:e.chatId,messageId:e.id})},[P]),F=(0,s.hb)((e,t)=>{M({chatId:t,messageId:e})},[M]),D=(0,v.A)([a],i.jhd)&&!n;return s.Ay.createElement(C.Ay,{slideClassName:"LeftSearch--content",name:"fade",activeKey:D?1:0,shouldCleanup:!0},s.Ay.createElement(b.A,{className:"search-content documents-list custom-scroll",items:D?L:void 0,onLoadMore:x,noFastList:!0},!D&&s.Ay.createElement(f.A,null),D&&(!k||0===k.length)&&s.Ay.createElement(E.A,{withSticker:!0,text:T("ChatList.Search.NoResults"),description:T("ChatList.Search.NoResultsDescription")}),D&&k&&k.length>0&&L.map((t,a)=>{const n=(0,o.mS)(),i=0===a||(0,d.$$)(t.date)!==(0,d.$$)(L[a-1].date),m=(0,c.iS)(n,t);return s.Ay.createElement(s.Ay.Fragment,null,i&&s.Ay.createElement("p",{className:"section-heading",key:t.date,dir:T.isRtl?"rtl":void 0},(0,d.i6)(T,new Date(1e3*t.date))),s.Ay.createElement("div",{className:"ListItem small-icon",key:t.id},s.Ay.createElement(g.Ay,{key:t.id,theme:e,message:t,origin:r.d9.Search,senderTitle:(0,y.N)(T,t,A,h),date:t.date,className:"scroll-item",onPlay:F,onDateClick:R,canDownload:!A[t.chatId]?.isProtected&&!t.isProtected,isDownloading:(0,l.$r)(N,m)})))})))},N=(0,s.ph)((0,o.EK)((0,h.t)("audio"))(k));n()}catch(e){n(e)}})},9021:(e,t,a)=>{e.exports=a.p+"PremiumStatus.c42f9c4b68f9c2c4537a.svg"},9076:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.d(t,{A:()=>g});var s=a(84051),o=a(13439),r=a(17663),i=a(51369),l=a(37661),c=a(26072),d=a(59030),m=a(94189),u=a(22720),A=a(1087),h=a(11679),y=e([d,m,u,A,h]);[d,m,u,A,h]=y.then?(await y)():y;const p=({isActive:e,onReset:t,byHash:a,orderedHashes:n,ttlDays:y})=>{const{terminateAuthorization:p,terminateAllAuthorizations:g,changeSessionTtl:E}=(0,o.ko)(),b=(0,d.A)(),[f,C,S]=(0,l.A)(),[w,k]=(0,s.J0)(),[N,I,P]=(0,l.A)(),M=(0,s.Kr)(()=>{if(void 0!==y)return y<=7?"7":y<=30?"30":y<=93?"90":y<=183?"183":y>183?"365":void 0},[y]),T=(0,s.Kr)(()=>{const e=[{label:b("Weeks",1,"i"),value:"7"},{label:b("Months",1,"i"),value:"30"},{label:b("Months",3,"i"),value:"90"},{label:b("Months",6,"i"),value:"183"}];return y&&y>=365&&e.push({label:b("Years",1,"i"),value:"365"}),e},[b,y]),B=(0,s.hb)(e=>{p({hash:e})},[p]),x=(0,s.hb)(()=>{S(),g()},[S,g]),L=(0,s.hb)(e=>{k(e),I()},[I]),R=(0,s.hb)(()=>{k(void 0),P()},[P]),F=(0,s.hb)(e=>{E({days:Number(e)})},[E]),D=(0,s.Kr)(()=>{const e=n.find(e=>a[e].isCurrent);return e?a[e]:void 0},[a,n]),V=(0,s.Kr)(()=>n.filter(e=>!a[e].isCurrent),[a,n]),_=Boolean(V.length);return(0,c.A)({isActive:e,onBack:t}),s.Ay.createElement("div",{className:"settings-content custom-scroll SettingsActiveSessions"},D&&(O=D,s.Ay.createElement("div",{className:"settings-item"},s.Ay.createElement("h4",{className:"settings-item-header",dir:b.isRtl?"rtl":void 0},b("AuthSessions.CurrentSession")),s.Ay.createElement(u.A,{narrow:!0,inactive:!0,icon:`device-${(0,i.A)(O)}`,iconClassName:"icon-device"},s.Ay.createElement("div",{className:"multiline-item full-size",dir:"auto"},s.Ay.createElement("span",{className:"title",dir:"auto"},O.deviceModel),s.Ay.createElement("span",{className:"subtitle black tight"},O.appName," ",O.appVersion,","," ",O.platform," ",O.systemVersion),s.Ay.createElement("span",{className:"subtitle"},O.ip," ","-"," ",v(O)))),_&&s.Ay.createElement(u.A,{className:"destructive mb-0 no-icon",icon:"stop",ripple:!0,narrow:!0,onClick:C},b("TerminateAllSessions")))),_&&(U=V,s.Ay.createElement("div",{className:"settings-item"},s.Ay.createElement("h4",{className:"settings-item-header",dir:b.isRtl?"rtl":void 0},b("OtherSessions")),U.map(function(e){const t=a[e];return s.Ay.createElement(u.A,{key:t.hash,ripple:!0,narrow:!0,contextActions:[{title:"Terminate",icon:"stop",destructive:!0,handler:()=>{B(t.hash)}}],icon:`device-${(0,i.A)(t)}`,iconClassName:"icon-device",onClick:()=>{L(t.hash)}},s.Ay.createElement("div",{className:"multiline-item full-size",dir:"auto"},s.Ay.createElement("span",{className:"date"},(0,r.be)(b,1e3*t.dateActive)),s.Ay.createElement("span",{className:"title"},t.deviceModel),s.Ay.createElement("span",{className:"subtitle black tight"},t.appName," ",t.appVersion,","," ",t.platform," ",t.systemVersion),s.Ay.createElement("span",{className:"subtitle"},t.ip," ",v(t))))}))),s.Ay.createElement("div",{className:"settings-item"},s.Ay.createElement("h4",{className:"settings-item-header",dir:b.isRtl?"rtl":void 0},b("TerminateOldSessionHeader")),s.Ay.createElement("p",{className:"settings-item-description-larger"},b("IfInactiveFor")),s.Ay.createElement(A.A,{name:"session_ttl",options:T,selected:M,onChange:F})),_&&s.Ay.createElement(m.A,{isOpen:f,onClose:S,text:b("AreYouSureSessions"),confirmLabel:b("TerminateAllSessions"),confirmHandler:x,confirmIsDestructive:!0,areButtonsInColumn:!0}),s.Ay.createElement(h.A,{isOpen:N,hash:w,onClose:R}));var U,O};function v(e){return[e.region,e.country].filter(Boolean).join(", ")}const g=(0,s.ph)((0,o.EK)(e=>e.activeSessions)(p));n()}catch(E){n(E)}})},9384:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.d(t,{A:()=>p});var s=a(84051),o=a(13439),r=a(90709),i=a(60919),l=a(87357),c=a(17663),d=a(80140),m=a(59030),u=a(21849),A=a(64493),h=e([m,u,A]);[m,u,A]=h.then?(await h)():h;const y=({userId:e,chatId:t,about:a,date:n,isChannel:i,user:h})=>{const{openChat:y,hideChatJoinRequest:p}=(0,o.ko)(),v=(0,l.x)("JoinRequest"),g=(0,m.A)(),E=(0,r.Yg)(h),b=1e3*(n-(0,d.Fm)())+Date.now(),f=(0,c.cK)(new Date(b))?(0,c.fU)(g,b):(0,c.F5)(g,b,!0,!1,!0),C=(0,s.hb)(()=>{p({chatId:t,userId:e,isApproved:!0})},[t,p,e]),S=(0,s.hb)(()=>{p({chatId:t,userId:e,isApproved:!1})},[t,p,e]);return s.Ay.createElement("div",{className:v("&")},s.Ay.createElement("div",{className:v("top")},s.Ay.createElement("div",{className:v("user"),onClick:()=>{y({id:e})}},s.Ay.createElement(u.A,{key:e,size:"medium",peer:h}),s.Ay.createElement("div",{className:v("user-info")},s.Ay.createElement("div",{className:v("user-name")},E),s.Ay.createElement("div",{className:v("user-subtitle")},a))),s.Ay.createElement("div",{className:v("date")},f)),s.Ay.createElement("div",{className:v("buttons")},s.Ay.createElement(A.A,{className:v("button"),onClick:C},g(i?"ChannelAddToChannel":"ChannelAddToGroup")),s.Ay.createElement(A.A,{className:v("button"),isText:!0,onClick:S},g("DismissRequest"))))},p=(0,s.ph)((0,o.EK)((e,{userId:t})=>({user:(0,i.mBe)(e,t)}))(y));n()}catch(e){n(e)}})},9553:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.d(t,{A:()=>I});var s=a(84051),o=a(13439),r=a(89925),i=a(31481),l=a(17663),c=a(57309),d=a(79824),m=a(37836),u=a(74975),A=a(55429),h=a(5912),y=a(59030),p=a(93809),v=a(42827),g=a(37378),E=a(46222),b=a(52745),f=a(41036),C=e([A,y,v,g]);[A,y,v,g]=C.then?(await C)():C;const S="links",w=500,k=(0,m.nF)(e=>e(),500,!0),N=({searchQuery:e,isLoading:t,chatsById:a,usersById:n,globalMessagesByChatId:m,foundIds:u,isChatProtected:C})=>{const{searchMessagesGlobal:N,focusMessage:I}=(0,o.ko)(),P=(0,s.li)(),M=(0,y.A)(),{observe:T}=(0,h.BL)({rootRef:P,throttleMs:w}),B=(0,s.hb)(({direction:e})=>{e===r.TN.Backwards&&k(()=>{N({type:S})})},[e]),x=(0,s.Kr)(()=>u&&m?u.map(e=>{const[t,a]=(0,c.a)(e);return m[t]?.byId[a]}).filter(Boolean):d.p,[m,u]),L=(0,s.hb)(e=>{I({chatId:e.chatId,messageId:e.id})},[I]),R=(0,p.A)([e],i.jhd)&&!t;return s.Ay.createElement(f.Ay,{ref:P,slideClassName:"LeftSearch--content",name:"fade",activeKey:R?1:0,shouldCleanup:!0},s.Ay.createElement(E.A,{className:"search-content documents-list custom-scroll",items:R?x:void 0,onLoadMore:B,noFastList:!0},!R&&s.Ay.createElement(b.A,null),R&&(!u||0===u.length)&&s.Ay.createElement(v.A,{withSticker:!0,text:M("ChatList.Search.NoResults"),description:M("ChatList.Search.NoResultsDescription")}),R&&u&&u.length>0&&x.map((e,t)=>{const o=0===t||(0,l.$$)(e.date)!==(0,l.$$)(x[t-1].date);return s.Ay.createElement(s.Ay.Fragment,null,o&&s.Ay.createElement("p",{className:"section-heading",key:e.date,dir:M.isRtl?"rtl":void 0},(0,l.i6)(M,new Date(1e3*e.date))),s.Ay.createElement("div",{className:"ListItem small-icon",dir:M.isRtl?"rtl":void 0,key:e.id},s.Ay.createElement(g.A,{key:e.id,message:e,senderTitle:(0,A.N)(M,e,a,n),isProtected:C||e.isProtected,observeIntersection:T,onMessageClick:L})))})))},I=(0,s.ph)((0,o.EK)((0,u.t)(S))(N));n()}catch(e){n(e)}})},9692:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.d(t,{A:()=>E});var s=a(84051),o=a(31481),r=a(90709),i=a(87357),l=a(58443),c=a(10722),d=a(94519),m=a(17712),u=a(62587),A=a(83057),h=a(64489),y=a(46402),p=a(24405),v=e([u,y]);[u,y]=v.then?(await v)():v;const g=({reaction:e,availableReactions:t,isSelected:a,loadAndPlay:n,observeIntersection:v,sharedCanvasRef:g,sharedCanvasHqRef:E,forcePlayback:b,onClick:f,onContextMenu:C})=>{const S=(0,s.li)(),w="custom"===e.type,k=(0,s.Kr)(()=>t?.find(t=>(0,r.a0)(t.reaction,e)),[t,e]),N=k?.staticIcon?.thumbnail?.dataUri,I=k?.selectAnimation?.id,P=(0,d.A)(S,g),M=(0,u.A)(k?.selectAnimation?(0,r.mr)(k.selectAnimation,"full"):void 0,!I),{isContextMenuOpen:T,handleBeforeContextMenu:B,handleContextMenu:x,handleContextMenuClose:L,handleContextMenuHide:R}=(0,c.A)(S,"paid"!==e.type,void 0,void 0,void 0,!0);(0,s.vJ)(()=>{T&&(C?.(e),L(),R())},[L,C,R,T,e]);const F="paid"===e.type?l.w.StarReaction:M,D=(0,m.A)(()=>{f(e)}),V=(0,A.A)(M),_=(0,i.A)(p.A.root,a&&p.A.selected,!w&&"sticker-reaction");return s.Ay.createElement("div",{ref:S,className:_,onClick:D,title:k?.title,"data-sticker-id":w?e.documentId:void 0,onMouseDown:B,onContextMenu:x},w?s.Ay.createElement(y.A,{ref:S,documentId:e.documentId,size:o.g0Q,noPlay:!n,observeIntersectionForPlaying:v,sharedCanvasRef:g,sharedCanvasHqRef:E,withTranslucentThumb:!0,forceAlways:b}):s.Ay.createElement(h.A,{tgsUrl:F,thumbDataUri:N,play:n,noLoop:!1,size:o.g0Q,isLowPriority:!0,className:V,sharedCanvas:g.current||void 0,sharedCanvasCoords:P,forceAlways:b}))},E=(0,s.ph)(g);n()}catch(e){n(e)}})},11184:(e,t,a)=>{a.d(t,{A:()=>o});var n=a(84051),s=a(17712);function o(e,t){const[a,o]=(0,n.J0)(0),r=(0,n.li)(0),i=(0,n.li)(0),l=(0,s.A)(()=>{const a=Date.now();a-i.current>t&&(r.current=0),r.current+=1,r.current>=e&&o(a+t)}),c=(0,s.A)(()=>{a<Date.now()&&(i.current=Date.now())});return{unlockPopupsAt:a,handlePopupOpened:l,handlePopupClosed:c}}},11339:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.d(t,{A:()=>h});var s=a(84051),o=a(13439),r=a(90709),i=a(70636),l=a(60919),c=a(87894),d=a(59030),m=a(46652),u=e([i,d,m]);[i,d,m]=u.then?(await u)():u;const A=({usersById:e,blockedIds:t,contactIds:a,localContactIds:n,currentUserId:l,isOpen:u,onClose:A})=>{const{setUserSearchQuery:h,blockUser:y}=(0,o.ko)(),p=(0,d.A)(),[v,g]=(0,s.J0)("");(0,s.vJ)(()=>{h({query:v})},[v,h]);const E=(0,s.Kr)(()=>{const s=(0,c.Am)([...a||[],...n||[]].filter(e=>e!==l&&!t.includes(e)));return(0,i.PU)({ids:s,query:v,type:"user"}).sort((t,a)=>{const n=(0,r.Yg)(e[t])||"",s=(0,r.Yg)(e[a])||"";return n.localeCompare(s)})},[t,a,l,v,n,e]),b=(0,s.hb)(e=>{y({userId:e}),A()},[A]);return s.Ay.createElement(m.A,{isOpen:u,chatOrUserIds:E,searchPlaceholder:p("BlockedUsers.BlockUser"),search:v,onSearchChange:g,onSelectChatOrUser:b,onClose:A})},h=(0,s.ph)((0,o.EK)(e=>{const{users:{byId:t},blocked:{ids:a},contactList:n,currentUserId:s}=e;return{usersById:t,blockedIds:a,contactIds:n?.userIds,localContactIds:(0,l.nTw)(e).userSearch.localUserIds,currentUserId:s}})(A));n()}catch(e){n(e)}})},11393:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.d(t,{A:()=>C});var s=a(84051),o=a(13439),r=a(90709),i=a(60919),l=a(17663),c=a(80140),d=a(76023),m=a(14),u=a(39351),A=a(17712),h=a(46402),y=a(99952),p=a(64493),v=a(8410),g=a(7289),E=e([u,h,y,p,v]);[u,h,y,p,v]=E.then?(await E)():E;const b=6*d.$,f=({modal:e,currentUser:t,bot:a})=>{const{setEmojiStatus:n,closeSuggestedStatusModal:i,sendWebAppEvent:d}=(0,o.ko)(),E=(0,u.A)(),f=Boolean(e),C=(0,m.A)(e),S=(0,s.Kr)(()=>{if(t&&C)return{...t,emojiStatus:{type:"regular",documentId:C.customEmojiId}}},[t,C]),w=(0,s.Kr)(()=>{if(!C||!a)return;const e=(0,r.Yg)(a);return C.duration?E("BotSuggestedStatusFor",{bot:e,duration:(0,l.A$)(E,C.duration)},{withNodes:!0,withMarkdown:!0}):E("BotSuggestedStatus",{bot:e},{withNodes:!0,withMarkdown:!0})},[a,E,C]),k=(0,A.A)(()=>{const e=C?.webAppKey;e&&d({webAppKey:e,event:{eventType:"emoji_status_failed",eventData:{error:"USER_DECLINED"}}}),i()}),N=(0,A.A)(()=>{if(!C)return;const e=C.duration?(0,c.Fm)()+C.duration:void 0;n({referrerWebAppKey:C.webAppKey,emojiStatus:{type:"regular",documentId:C.customEmojiId,until:e}}),i()});return s.Ay.createElement(v.A,{isOpen:f,contentClassName:g.A.content,hasAbsoluteCloseButton:!0,isSlim:!0,onClose:k},C&&s.Ay.createElement(h.A,{className:g.A.topEmoji,documentId:C.customEmojiId,size:b,loopLimit:1,forceAlways:!0}),s.Ay.createElement("div",null,s.Ay.createElement("h3",{className:g.A.title},E("BotSuggestedStatusTitle")),s.Ay.createElement("p",{className:g.A.description},w)),S&&s.Ay.createElement(y.A,{mockPeer:S,withEmojiStatus:!0}),s.Ay.createElement(p.A,{size:"smaller",onClick:N},E("GeneralConfirm")))},C=(0,s.ph)((0,o.EK)((e,{modal:t})=>({currentUser:(0,i.mBe)(e,e.currentUserId),bot:t?.botId?(0,i.mBe)(e,t.botId):void 0}))(f));n()}catch(e){n(e)}})},11527:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.d(t,{A:()=>N});var s=a(84051),o=a(13439),r=a(89925),i=a(60919),l=a(87357),c=a(24021),d=a(75319),m=a(30857),u=a(17712),A=a(59030),h=a(46222),y=a(52745),p=a(64971),v=a(15895),g=a(77566),E=e([c,A,p,v]);let b,f;async function C(){return b||(b=a.e(1184).then(a.bind(a,31184)),f=await b),b}[c,A,p,v]=E.then?(await E)():E;const S={viewsGraph:"Stats.MessageInteractionsTitle",reactionsGraph:"ReactionsByEmotionChartTitle"},w=Object.keys(S);function k({chatId:e,isActive:t,statistics:a,dcId:n,messageId:i}){const E=(0,A.A)(),b=(0,s.li)(),[k,N]=(0,s.J0)(!1),I=(0,s.li)(new Set),P=(0,s.li)(new Set),{loadMessageStatistics:M,loadMessagePublicForwards:T,loadStatisticsAsyncGraph:B}=(0,o.ko)(),x=(0,m.A)();(0,s.vJ)(()=>{i&&M({chatId:e,messageId:i})},[e,M,i]),(0,s.vJ)(()=>{t&&!i||(I.current.clear(),P.current.clear(),N(!1))},[t,i]),(0,s.vJ)(()=>{a&&w.forEach(t=>{const n=a[t];(0,d.R)(n)&&"async"===n.graphType&&B({name:t,chatId:e,token:n.token})})},[e,a,B]),(0,s.vJ)(()=>{(async()=>{await C(),k?a&&b.current&&(w.forEach((e,t)=>{const s=a[e];if(!(0,d.R)(s))return;const o="async"===s.graphType,r="error"===s.graphType;if(o||I.current.has(e))return;if(r)return I.current.add(e),void P.current.add(e);const{zoomToken:i}=s;f.create(b.current.children[t],{title:E(S[e]),...i?{onZoom:e=>(0,c.px)("fetchStatisticsAsyncGraph",{token:i,x:e,dcId:n}),zoomOutLabel:E("Graph.ZoomOut")}:{},...s}),I.current.add(e)}),x()):N(!0)})()},[k,a,E,e,i,B,n,x]);const L=(0,u.A)(({direction:t})=>{t===r.TN.Backwards&&i&&T({chatId:e,messageId:i})});return k&&a&&i?s.Ay.createElement("div",{key:`${e}-${i}`,className:(0,l.A)(g.A.root,"custom-scroll",k&&g.A.ready)},s.Ay.createElement(v.A,{statistics:a,type:"message",title:E("StatisticOverview")}),(!I.current.size||!a.publicForwardsData)&&s.Ay.createElement(y.A,null),s.Ay.createElement("div",{ref:b},w.map(e=>{const t=I.current.has(e)&&!P.current.has(e);return s.Ay.createElement("div",{className:(0,l.A)(g.A.graph,!t&&g.A.hidden)})})),Boolean(a.publicForwards)&&s.Ay.createElement("div",{className:g.A.publicForwards},s.Ay.createElement("h2",{className:g.A.publicForwardsTitle},E("Stats.Message.PublicShares")),s.Ay.createElement(h.A,{items:a.publicForwardsData,itemSelector:".statistic-public-forward",onLoadMore:L,noFastList:!0},a.publicForwardsData.map(e=>s.Ay.createElement(p.A,{key:e.messageId,data:e}))))):s.Ay.createElement(y.A,null)}const N=(0,s.ph)((0,o.EK)((e,{chatId:t})=>{const a=(0,i.AWZ)(e,t)?.statisticsDcId,n=(0,i.nTw)(e);return{statistics:n.statistics.currentMessage,dcId:a,messageId:n.statistics.currentMessageId}})(k));n()}catch(I){n(I)}})},11679:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.d(t,{A:()=>b});var s=a(84051),o=a(13439),r=a(87357),i=a(17663),l=a(51369),c=a(14),d=a(59030),m=a(54746),u=a(64493),A=a(22720),h=a(8410),y=a(63152),p=a(97136),v=e([d,u,A,h]);[d,u,A,h]=v.then?(await v)():v;const g=({isOpen:e,session:t,onClose:a})=>{const{changeSessionSettings:n,terminateAuthorization:v}=(0,o.ko)(),g=(0,d.A)(),b=(0,c.A)(t,!0),f=(0,s.hb)(()=>{n({hash:t.hash,areSecretChatsEnabled:!t.areSecretChatsEnabled})},[n,t]),C=(0,s.hb)(()=>{n({hash:t.hash,areCallsEnabled:!t.areCallsEnabled})},[n,t]),S=(0,s.hb)(()=>{v({hash:t.hash}),a()},[a,t,v]);if(b)return s.Ay.createElement(h.A,{header:s.Ay.createElement("div",{className:"modal-header-condensed",dir:g.isRtl?"rtl":void 0},s.Ay.createElement(u.A,{round:!0,color:"translucent",size:"smaller",ariaLabel:g("Close"),onClick:a},s.Ay.createElement(m.A,{name:"close"})),s.Ay.createElement("div",{className:"modal-title"},g("SessionPreview.Title")),s.Ay.createElement(u.A,{color:"danger",onClick:S,className:(0,r.A)("modal-action-button",p.A.headerButton)},g("SessionPreview.TerminateSession"))),isOpen:e,hasCloseButton:!0,onClose:a,className:p.A.SettingsActiveSession},s.Ay.createElement("div",{className:(0,r.A)(p.A.iconDevice,b&&p.A[`iconDevice__${(0,l.A)(b)}`])}),s.Ay.createElement("h3",{className:p.A.title,dir:"auto"},b?.deviceModel),s.Ay.createElement("div",{className:p.A.date,"aria-label":g("PrivacySettings.LastSeen")},(0,i.L2)(1e3*b.dateActive,g.code)),s.Ay.createElement("dl",{className:p.A.box},s.Ay.createElement("dt",null,g("SessionPreview.App")),s.Ay.createElement("dd",null,b?.appName," ",b?.appVersion,","," ",b?.platform," ",b?.systemVersion),s.Ay.createElement("dt",null,g("SessionPreview.Ip")),s.Ay.createElement("dd",null,b?.ip),s.Ay.createElement("dt",null,g("SessionPreview.Location")),s.Ay.createElement("dd",null,b&&E(b))),s.Ay.createElement("p",{className:p.A.note},g("SessionPreview.IpDesc")),s.Ay.createElement("h4",{className:p.A.actionHeader},g("AuthSessions.View.AcceptTitle")),s.Ay.createElement(A.A,{onClick:f},s.Ay.createElement("span",{className:p.A.actionName},g("SessionPreview.Accept.Secret")),s.Ay.createElement(y.A,{id:"accept_secrets",label:"On",checked:b.areSecretChatsEnabled})),s.Ay.createElement(A.A,{onClick:C},s.Ay.createElement("span",{className:p.A.actionName},g("SessionPreview.Accept.Calls")),s.Ay.createElement(y.A,{id:"accept_calls",label:"On",checked:b.areCallsEnabled})))};function E(e){return[e.region,e.country].filter(Boolean).join(", ")}const b=(0,s.ph)((0,o.EK)((e,{hash:t})=>({session:t?e.activeSessions.byHash[t]:void 0}))(g));n()}catch(f){n(f)}})},11757:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.d(t,{A:()=>b});var s=a(84051),o=a(13439),r=a(31481),i=a(60919),l=a(96454),c=a(87357),d=a(5912),m=a(17712),u=a(93809),A=a(93966),h=a(52745),y=a(41036),p=e([A]),v=p.then?(await p)():p;A=v[0];const g=300,E=({className:e,loadAndPlay:t,canSendGifs:a,savedGifs:n,isSavedMessages:i,onGifSelect:p})=>{const{loadSavedGifs:v,saveGif:E}=(0,o.ko)(),b=(0,s.li)(),{observe:f}=(0,d.BL)({rootRef:b,debounceMs:g});(0,s.vJ)(()=>{t&&v()},[t,v]);const C=(0,m.A)(e=>{E({gif:e,shouldUnsave:!0})}),S=(0,u.A)([],r.jhd),w=a&&(!S||!n);return s.Ay.createElement(y.Ay,{ref:b,className:(0,c.A)("GifPicker",e,l.TF?"no-scrollbar":"custom-scroll"),slideClassName:"GifPickerGrid",activeKey:w?0:1,name:"fade",shouldCleanup:!0},a?S&&n&&n.length?n.map(e=>s.Ay.createElement(A.A,{key:e.id,gif:e,observeIntersection:f,isDisabled:!t,onClick:a?p:void 0,onUnsaveClick:C,isSavedMessages:i})):S&&n?s.Ay.createElement("div",{className:"picker-disabled"},"No saved GIFs."):s.Ay.createElement(h.A,{color:"yellow"}):s.Ay.createElement("div",{className:"picker-disabled"},"Sending GIFs is not allowed in this chat."))},b=(0,s.ph)((0,o.EK)(e=>{const{chatId:t}=(0,i.Xf0)(e)||{},a=Boolean(t)&&(0,i.nZ4)(e,t);return{savedGifs:e.gifs.saved.gifs,isSavedMessages:a}})(E));n()}catch(e){n(e)}})},12106:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.d(t,{A:()=>A});var s=a(84051),o=a(43336),r=a(47968),i=a(73778),l=e([r]),c=l.then?(await l)():l;r=c[0];const d=[91,160,255],m=[197,100,243],u=({title:e,description:t,leftValue:a,rightValue:n,colorStepProgress:l})=>{const c=(0,s.Kr)(()=>d.map((e,t)=>(0,o.Cc)(e,m[t],l)),[l]);return s.Ay.createElement("div",{className:i.A.root},s.Ay.createElement("div",{className:i.A.title},e),s.Ay.createElement("div",{className:i.A.description},t),s.Ay.createElement(r.A,{leftValue:a,rightValue:n,rightStyle:`background: rgb(${c.join(",")})`}))},A=(0,s.ph)(u);n()}catch(e){n(e)}})},12178:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.d(t,{A:()=>y});var s=a(84051),o=a(13439),r=a(89925),i=a(90709),l=a(60919),c=a(26072),d=a(42827),m=a(17751),u=a(22720),A=e([d,m,u]);[d,m,u]=A.then?(await A)():A;const h=({usersById:e,userStatusesById:t,members:a,isChannel:n,onScreenSelect:o,onChatMemberSelect:l,onClose:A,isActive:h})=>{(0,c.A)({isActive:h,onBack:A});const y=(0,s.Kr)(()=>{if(a&&e)return(0,i.UB)(a.filter(e=>!e.isOwner).map(({userId:e})=>e),e,t)},[a,e,t]),p=(0,s.hb)(e=>{l(e),o(r.je.GroupUserPermissions)},[l,o]);return s.Ay.createElement("div",{className:"Management"},s.Ay.createElement("div",{className:"custom-scroll"},s.Ay.createElement("div",{className:"section",teactFastList:!0},y?y.map((e,t)=>s.Ay.createElement(u.A,{key:e,teactOrderKey:t,className:"chat-item-clickable scroll-item",onClick:()=>p(e)},s.Ay.createElement(m.A,{userId:e,forceShowSelf:!0}))):s.Ay.createElement(d.A,{teactOrderKey:0,key:"nothing-found",text:n?"No subscribers found":"No members found"}))))},y=(0,s.ph)((0,o.EK)((e,{chatId:t})=>{const a=(0,l.hds)(e,t),{byId:n,statusesById:s}=e.users,o=(0,l.AWZ)(e,t)?.members;return{members:o,usersById:n,userStatusesById:s,isChannel:a&&(0,i.WX)(a)}})(h));n()}catch(e){n(e)}})},12429:(e,t,a)=>{e.exports=a.p+"DeviceFrame.79271ee0fa60a7b6a1aa.svg"},12586:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.d(t,{A:()=>A});var s=a(84051),o=a(77787),r=a(17712),i=a(41036),l=a(47693),c=a(762),d=a(21866),m=e([l,c,d]);[l,c,d]=m.then?(await m)():m;const u=({onReset:e})=>{const[t,a]=(0,s.J0)([]),[n,m]=(0,s.J0)(!1),[u,A]=(0,s.J0)("add"),[h,y]=(0,s.J0)(null);(0,s.vJ)(()=>{o.zs.knowledge?.getAllKnowledge().then(e=>{a(e||[])})},[]);const p=(0,r.A)(()=>{e(!0)}),v=(0,s.hb)(()=>{m(!1)},[]),g=(0,s.hb)(e=>{m(!0),A(e)},[]),E=(0,s.hb)(e=>{A("edit"),y(e),m(!0)},[]),b=(0,s.hb)(()=>{y(null),o.zs.knowledge?.getAllKnowledge().then(e=>{a(e||[])})},[]),f=(0,s.hb)(e=>{o.zs.knowledge?.deleteKnowledge(e).then(()=>{a(t=>t.filter(t=>t.id!==e))})},[]);function C(){return s.Ay.createElement(s.Ay.Fragment,null,s.Ay.createElement(d.A,{onReset:p,showAddButton:t.length>0,onShowAddModal:g}),s.Ay.createElement(c.A,{knowledgeList:t,onShowAddModal:g,onEdit:E,onDelete:f}),n&&s.Ay.createElement(l.A,{type:u,isOpen:n,onClose:v,knowledge:h,onUpdate:b}))}return s.Ay.createElement(i.Ay,{id:"AiKnowledge",name:"fade",activeKey:0,renderCount:1,shouldWrap:!0,withSwipeControl:!0},C)},A=(0,s.ph)(u);n()}catch(e){n(e)}})},12600:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.d(t,{A:()=>w});var s=a(84051),o=a(13439),r=a(60919),i=a(87357),l=a(50442),c=a(48894),d=a(87894),m=a(37661),u=a(26072),A=a(40664),h=e([A]),y=h.then?(await h)():h;A=y[0];const p=(0,c.bM)((0,c.xp)("e6ebee")),v=["#e6ebee","#b2cee1","#008dd0","#c6e7cb","#c4e1a6","#60b16e","#ccd0af","#a6a997","#7a7072","#fdd7af","#fdb76e","#dd8851"],g=({isActive:e,onReset:t,theme:a,backgroundColor:n})=>{const{setThemeSettings:r}=(0,o.ko)(),h=(0,s.li)();h.current=a;const y=(0,s.li)(),p=(0,s.li)(),g=(0,s.li)(),w=(0,s.li)(!0),[k,N]=(0,s.J0)(E(n)),I=(0,s.li)(k);(0,s.vJ)(()=>{I.current=k},[k]);const[P,M,T]=(0,m.A)(),[B,x]=(0,s.J0)(""),[L,R]=(0,s.J0)(""),F=(0,s.li)(),D=(0,s.li)();(0,s.vJ)(()=>{const e={offsetLeft:p.current.offsetLeft,...(0,d.Up)(p.current.getBoundingClientRect(),["top","width","height"])},t={offsetLeft:g.current.offsetLeft,...(0,d.Up)(g.current.getBoundingClientRect(),["width"])};function a(t){const a=[Math.min(Math.max(0,t.pageX-e.offsetLeft),e.width-1),Math.min(Math.max(0,t.pageY-e.top+y.current.scrollTop),e.height-1)],{huePosition:n}=b(I.current,F.current);return N(f({colorPosition:a,huePosition:n},F.current)),M(),!0}function n(e){const{colorPosition:a}=b(I.current,F.current),n=Math.min(Math.max(0,e.pageX-t.offsetLeft),t.width-1);return N(f({colorPosition:a,huePosition:n},F.current)),M(),!0}F.current={colorRect:e,hueRect:t},(0,l.wJ)(p.current,{onCapture:a,onDrag:a,onRelease:T,onClick:T,selectorToPreventScroll:".SettingsGeneralBackgroundColor",withCursor:!0}),(0,l.wJ)(g.current,{onCapture:n,onDrag:n,onRelease:T,onClick:T,selectorToPreventScroll:".SettingsGeneralBackgroundColor",withCursor:!0})},[M,T]);const{colorPosition:V=[0,0],huePosition:_=0}=F.current?b(k,F.current):{},U=(0,c.v2)((0,c.Zf)(k)),O=k[0],J=(0,c.v2)((0,c.Zf)([O,1,1]));(0,s.vJ)(()=>{const e=(0,c.Zf)(k),t=`#${(0,c.v2)(e)}`;if(x(e.join(", ")),R(t),!w.current){const a=(0,c.Yi)(e);r({theme:h.current,background:void 0,backgroundColor:t,patternColor:a})}w.current=!1},[k,r]),(0,s.vJ)(()=>{C(p.current.firstChild,O,D,F)},[O]),(0,s.vJ)(()=>{S(g.current.firstChild)},[]);const K=(0,s.hb)(e=>{const t=e.currentTarget.value.replace(/[^\d, ]/g,"").slice(0,13);if(t.match(/^\d{1,3},\s?\d{1,3},\s?\d{1,3}$/)){const e=t.split(",").map(e=>Number(e.trim()));N((0,c.bM)(e))}e.currentTarget.value=t},[]),G=(0,s.hb)(e=>{const t=e.currentTarget.value.replace(/[^0-9a-fA-F]/g,"").slice(0,6);t.match(/^#?[0-9a-fA-F]{6}$/)&&N((0,c.bM)((0,c.xp)(t.replace("#","")))),e.currentTarget.value=t},[]),j=(0,s.hb)(e=>{N((0,c.bM)((0,c.xp)(e.currentTarget.dataset.color.replace("#",""))))},[]),z=(0,i.A)("SettingsGeneralBackgroundColor settings-content custom-scroll",P&&"is-dragging");return(0,u.A)({isActive:e,onBack:t}),s.Ay.createElement("div",{ref:y,className:z},s.Ay.createElement("div",{className:"settings-item pt-3"},s.Ay.createElement("div",{ref:p,className:"color-picker"},s.Ay.createElement("canvas",null),s.Ay.createElement("div",{className:"handle",style:`transform: translate(${V[0]}px, ${V[1]}px); background-color: #${U};`})),s.Ay.createElement("div",{ref:g,className:"hue-picker"},s.Ay.createElement("canvas",null),s.Ay.createElement("div",{className:"handle",style:`transform: translateX(${_}px); background-color: #${J};`})),s.Ay.createElement("div",{className:"tools"},s.Ay.createElement(A.A,{value:L,label:"HEX",onChange:G}),s.Ay.createElement(A.A,{value:B,label:"RGB",onChange:K}))),s.Ay.createElement("div",{className:"predefined-colors"},v.map(e=>s.Ay.createElement("div",{className:(0,i.A)("predefined-color",e===`#${U}`?"active":void 0),"data-color":e,style:`background-color: ${e};`,onClick:j}))))};function E(e){return e&&e.startsWith("#")?(0,c.bM)((0,c.xp)(e.replace("#",""))):p}function b(e,t){return{colorPosition:[Math.round(e[1]*(t.colorRect.width-1)),Math.round((1-e[2])*(t.colorRect.height-1))],huePosition:Math.round(e[0]*(t.hueRect.width-1))}}function f({colorPosition:e,huePosition:t},a){return[t/(a.hueRect.width-1),e[0]/(a.colorRect.width-1),1-e[1]/(a.colorRect.height-1)]}function C(e,t,a,n){let s,o,r;a.current&&n.current?(s=n.current.colorRect.width,o=n.current.colorRect.height,r=a.current):(s=e.offsetWidth,o=e.offsetHeight,r=e.getContext("2d"),e.width=s,e.height=o,a.current=r);const i=r.createImageData(s,o),l=i.data,d=(0,c.Zf)([t,1,1]);let m=0;for(let e=0;e<o;e++){const t=1-e/(o-1),a=[255*t,255*t,255*t],n=[d[0]*t,d[1]*t,d[2]*t];for(let e=0;e<s;e++){const t=e/(s-1);l[m++]=a[0]+(n[0]-a[0])*t,l[m++]=a[1]+(n[1]-a[1])*t,l[m++]=a[2]+(n[2]-a[2])*t,l[m++]=255}}r.putImageData(i,0,0)}function S(e){const t=e.offsetWidth;e.width=t,e.height=1;const a=e.getContext("2d"),n=a.createImageData(t,1),s=n.data;let o=0;for(let e=0;e<t;e++){const a=e/(t-1),n=(0,c.Zf)([a,1,1]);s[o++]=n[0],s[o++]=n[1],s[o++]=n[2],s[o++]=255}a.putImageData(n,0,0)}const w=(0,s.ph)((0,o.EK)(e=>{const t=(0,r.SJA)(e),{backgroundColor:a}=(0,r.Gyz)(e,t)||{};return{backgroundColor:a,theme:t}})(g));n()}catch(k){n(k)}})},12758:(e,t,a)=>{a.d(t,{Ay:()=>d,NI:()=>c,mB:()=>u});var n=a(84051),s=a(31481),o=a(96454),r=a(41733);const i=(0,a(22237).n5)(!1),l=i[1];function c(){return i}function d(e,t,a){const[i,c]=(0,n.J0)(!1),[d,A]=(0,n.J0)(!1);(0,n.Nf)(()=>{if(o.pz&&o._7||!e.current)return;const n=e.current,s=m(n);if((!document.pictureInPictureEnabled||e.current?.disablePictureInPicture)&&void 0===s)return;n.autoPictureInPicture=!0,c(!0);const r=()=>{t(),A(!0),l(!0)},i=()=>{l(!1),A(!1),a()};return n.addEventListener("enterpictureinpicture",r),n.addEventListener("leavepictureinpicture",i),()=>{n.removeEventListener("enterpictureinpicture",r),n.removeEventListener("leavepictureinpicture",i)}},[e,t,a]);const h=(0,n.hb)(()=>{if(!e.current)return;const t=m(e.current);t?t("inline"):u()},[e]),y=(0,n.hb)(()=>{if(!e.current)return;h();const t=e.current,a=(0,r.e)(t),n=m(t);n?n("picture-in-picture"):function(e){if(e.requestPictureInPicture)try{e.requestPictureInPicture()}catch(e){s.Oig&&console.log("[MV] PictureInPicture Error",e)}}(t),a&&(0,r.A)(t)},[e,h]);return i?[i,y,d]:[!1]}function m(e){if(e.webkitSupportsPresentationMode&&"function"==typeof e.webkitSetPresentationMode)return e.webkitSetPresentationMode.bind(e)}function u(){if(document.pictureInPictureElement)try{document.exitPictureInPicture()}catch(e){s.Oig&&console.log("[MV] PictureInPicture Error",e)}}},13083:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.d(t,{A:()=>g});var s=a(84051),o=a(70636),r=a(87357),i=a(4961),l=a(17712),c=a(59030),d=a(21849),m=a(35384),u=a(81642),A=a(18653),h=a(6249),y=e([o,c,d,m,u,A]);[o,c,d,m,u,A]=y.then?(await y)():y;const p=200,v=({isActive:e,message:t,senderPeer:a,messageChat:n,shouldShowChat:y,query:v,className:g,onClick:E})=>{const b=(0,c.A)(),f=t.forwardInfo?.hiddenUserName,C=y?n:a,S=y&&a?(0,o.Q5)(b,t.chatId,a):void 0,w=(0,l.A)(()=>{E(t)});return s.Ay.createElement("div",{role:"button",tabIndex:0,className:(0,r.A)(h.A.root,e&&h.A.active,g),onClick:w},s.Ay.createElement(d.A,{className:h.A.avatar,peer:C,text:f,size:"medium"}),s.Ay.createElement("div",{className:h.A.info},s.Ay.createElement("div",{className:h.A.topRow},C&&s.Ay.createElement(m.A,{peer:C,withEmojiStatus:!0})||f,s.Ay.createElement(u.A,{className:h.A.meta,message:t})),s.Ay.createElement("div",{className:h.A.subtitle,dir:"auto"},S&&s.Ay.createElement(s.Ay.Fragment,null,s.Ay.createElement("span",{className:"sender-name"},(0,i.A)(S)),s.Ay.createElement("span",{className:"colon"},":")),s.Ay.createElement(A.A,{message:t,highlight:v,truncateLength:p}))))},g=(0,s.ph)(v);n()}catch(e){n(e)}})},13805:(e,t,a)=>{a.d(t,{A:()=>n});const n={root:"Qk9PEGRE",activated:"WYeuJNQx"}},13824:(e,t,a)=>{e.exports=a.p+"PremiumTags.3b187054cc90f8e16cb7.svg"},13849:(e,t,a)=>{a.d(t,{A:()=>n});const n={root:"_8sFuAomM",emojiButton:"crWzZ2jr"}},13957:(e,t,a)=>{a.d(t,{A:()=>n});const n={title:"t9iZUzOj",description:"mjveZmdr",toncoin:"ATkOSqJ7"}},14775:(e,t,a)=>{a.d(t,{A:()=>n});const n={avatar:"v0wP46TR","clear-help":"WnnxcARX",clearHelp:"WnnxcARX",subtitle:"uEUfjByC"}},15156:(e,t,a)=>{a.d(t,{A:()=>r});var n=a(84051),s=a(13439),o=a(2178);const r=e=>{function t(e){e.preventDefault(),(0,s.ko)().copySelectedMessages()}(0,o.v)((0,n.Kr)(()=>e?{"Mod+C":t}:void 0,[e]))}},15232:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.d(t,{A:()=>p});var s=a(84051),o=a(13439),r=a(90709),i=a(60919),l=a(87357),c=a(83868),d=a(17712),m=a(59030),u=a(19806),A=e([m,u]);[m,u]=A.then?(await A)():A;const h=["sendPhotos","sendVideos","sendStickers","sendAudios","sendDocs","sendVoices","sendRoundvideos","embedLinks","sendPolls"],y=({chat:e,isMediaDropdownOpen:t,setIsMediaDropdownOpen:a,hasLinkedChat:n,permissions:i,handlePermissionChange:A,className:y,shiftedClassName:p,dropdownClassName:v,withCheckbox:g,getControlIsDisabled:E,permissionGroup:b})=>{const{showNotification:f}=(0,o.ko)(),{isForum:C}=e||{},S=(0,m.A)(),w=(0,s.Kr)(()=>e&&(0,r.gA)(e),[e]),k=n||w,N=(0,s.Kr)(()=>h.reduce((e,t)=>(i[t]||(e+=1),e),0),[i]),I=(0,d.A)(e=>{(0,c.A)(e),a(!t)}),P=(0,d.A)(()=>{f({message:S("lng_rights_permission_unavailable")})});return s.Ay.createElement(s.Ay.Fragment,null,s.Ay.createElement("div",{className:(0,l.A)("ListItem",g&&"with-checkbox")},s.Ay.createElement(u.A,{name:"sendPlain",checked:!i.sendPlain,label:S("UserRestrictionsSend"),blocking:!0,permissionGroup:b,onChange:A,disabled:E&&E("sendPlain")})),s.Ay.createElement("div",{className:(0,l.A)("ListItem",g&&"with-checkbox")},s.Ay.createElement(u.A,{name:"sendMedia",checked:!i.sendMedia,label:S("UserRestrictionsSendMedia"),labelText:`${N}/${h.length}`,blocking:!0,permissionGroup:b,rightIcon:t?"up":"down",onChange:A,onClickLabel:I,disabled:E&&E("sendMedia")})),s.Ay.createElement("div",{className:v},s.Ay.createElement("div",{className:y},s.Ay.createElement("div",{className:(0,l.A)("ListItem",g&&"with-checkbox")},s.Ay.createElement(u.A,{name:"sendPhotos",checked:!i.sendPhotos,label:S("UserRestrictionsSendPhotos"),blocking:!0,permissionGroup:b,onChange:A,disabled:E&&E("sendPhotos")})),s.Ay.createElement("div",{className:(0,l.A)("ListItem",g&&"with-checkbox")},s.Ay.createElement(u.A,{name:"sendVideos",checked:!i.sendVideos,label:S("UserRestrictionsSendVideos"),blocking:!0,permissionGroup:b,onChange:A,disabled:E&&E("sendVideos")})),s.Ay.createElement("div",{className:(0,l.A)("ListItem",g&&"with-checkbox")},s.Ay.createElement(u.A,{name:"sendStickers",checked:!i.sendStickers&&!i.sendGifs,label:S("UserRestrictionsSendStickers"),blocking:!0,permissionGroup:b,onChange:A,disabled:E&&E("sendStickers")})),s.Ay.createElement("div",{className:(0,l.A)("ListItem",g&&"with-checkbox")},s.Ay.createElement(u.A,{name:"sendAudios",checked:!i.sendAudios,label:S("UserRestrictionsSendMusic"),blocking:!0,permissionGroup:b,onChange:A,disabled:E&&E("sendAudios")})),s.Ay.createElement("div",{className:(0,l.A)("ListItem",g&&"with-checkbox")},s.Ay.createElement(u.A,{name:"sendDocs",checked:!i.sendDocs,label:S("UserRestrictionsSendFiles"),blocking:!0,permissionGroup:b,onChange:A,disabled:E&&E("sendDocs")})),s.Ay.createElement("div",{className:(0,l.A)("ListItem",g&&"with-checkbox")},s.Ay.createElement(u.A,{name:"sendVoices",checked:!i.sendVoices,label:S("UserRestrictionsSendVoices"),blocking:!0,permissionGroup:b,onChange:A,disabled:E&&E("sendVoices")})),s.Ay.createElement("div",{className:(0,l.A)("ListItem",g&&"with-checkbox")},s.Ay.createElement(u.A,{name:"sendRoundvideos",checked:!i.sendRoundvideos,label:S("UserRestrictionsSendRound"),blocking:!0,permissionGroup:b,onChange:A,disabled:E&&E("sendRoundvideos")})),s.Ay.createElement("div",{className:(0,l.A)("ListItem",g&&"with-checkbox")},s.Ay.createElement(u.A,{name:"embedLinks",checked:!i.embedLinks,label:S("UserRestrictionsEmbedLinks"),blocking:!0,permissionGroup:b,onChange:A,disabled:E&&E("embedLinks")})),s.Ay.createElement("div",{className:(0,l.A)("ListItem",g&&"with-checkbox")},s.Ay.createElement(u.A,{name:"sendPolls",checked:!i.sendPolls,label:S("UserRestrictionsSendPolls"),blocking:!0,permissionGroup:b,onChange:A,disabled:E&&E("sendPolls")})))),s.Ay.createElement("div",{className:p},s.Ay.createElement("div",{className:(0,l.A)("ListItem",g&&"with-checkbox")},s.Ay.createElement(u.A,{name:"inviteUsers",checked:!i.inviteUsers,label:S("UserRestrictionsInviteUsers"),blocking:!0,permissionGroup:b,onChange:A,disabled:E&&E("inviteUsers")})),s.Ay.createElement("div",{className:(0,l.A)("ListItem",g&&"with-checkbox"),onClick:k?P:void 0},s.Ay.createElement(u.A,{name:"pinMessages",checked:!i.pinMessages,label:S("UserRestrictionsPinMessages"),disabled:E?E("pinMessages"):k,blocking:!0,permissionGroup:b,onChange:A})),s.Ay.createElement("div",{className:(0,l.A)("ListItem",g&&"with-checkbox"),onClick:k?P:void 0},s.Ay.createElement(u.A,{name:"changeInfo",checked:!i.changeInfo,label:S("UserRestrictionsChangeInfo"),blocking:!0,permissionGroup:b,disabled:E?E("changeInfo"):k,onChange:A})),C&&s.Ay.createElement("div",{className:(0,l.A)("ListItem",g&&"with-checkbox")},s.Ay.createElement(u.A,{name:"manageTopics",checked:!i.manageTopics,label:S("CreateTopicsPermission"),blocking:!0,permissionGroup:b,onChange:A,disabled:E&&E("manageTopics")}))))},p=(0,s.ph)((0,o.EK)((e,{chatId:t})=>{const a=t?(0,i.hds)(e,t):void 0,n=a&&(0,i.AWZ)(e,a.id);return{chat:a,hasLinkedChat:Boolean(n?.linkedChatId)}})(y));n()}catch(e){n(e)}})},15281:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.d(t,{A:()=>A});var s=a(84051),o=a(13439),r=a(31481),i=a(4961),l=a(59030),c=a(19806),d=a(94189),m=e([l,c,d]);[l,c,d]=m.then?(await m)():m;const u=({modal:e})=>{const{confirmAttachBotInstall:t,cancelAttachBotInstall:a}=(0,o.ko)(),n=e?.bot,[m,u]=(0,s.J0)(!1),A=(0,l.A)(),h=(0,s.hb)(()=>{t({isWriteAllowed:Boolean(n?.shouldRequestWriteAccess)})},[t,n]);(0,s.vJ)(()=>{n&&u(!1)},[n]);const y=(0,s.Kr)(()=>{const e=A("lng_mini_apps_disclaimer_button").split("{link}"),t=A("lng_mini_apps_disclaimer_link");return[e[0],s.Ay.createElement("a",{href:r.Pje,target:"_blank",rel:"noopener noreferrer"},t),e[1]]},[A]);return s.Ay.createElement(d.A,{isOpen:Boolean(n),onClose:a,title:A("lng_mini_apps_disclaimer_title"),confirmHandler:h,isConfirmDisabled:!m},(0,i.A)(A("lng_mini_apps_disclaimer_text",n?.shortName),["simple_markdown"]),s.Ay.createElement(c.A,{className:"dialog-checkbox",checked:m,label:y,onCheck:u}),(0,i.A)(A("WebBot.Account.Desclaimer.Desc",n?.shortName),["simple_markdown"]))},A=(0,s.ph)(u);n()}catch(e){n(e)}})},15480:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.d(t,{A:()=>A});var s=a(84051),o=a(13439),r=a(60919),i=a(39351),l=a(17712),c=a(22720),d=a(63152),m=e([i,c]);[i,c]=m.then?(await m)():m;const u=({disallowedGifts:e,isCurrentUserPremium:t})=>{const{showNotification:a,updateGlobalPrivacySettings:n}=(0,o.ko)(),r=(0,i.A)(),m=(0,l.A)(()=>{a({message:r("PrivacySubscribeToTelegramPremium"),action:{action:"openPremiumModal",payload:{}},actionText:{key:"Open"},icon:"star"})}),u=(0,l.A)(()=>{t?n({disallowedGifts:{...e,shouldDisallowLimitedStarGifts:!e?.shouldDisallowLimitedStarGifts||void 0}}):m()}),A=(0,l.A)(()=>{t?n({disallowedGifts:{...e,shouldDisallowUnlimitedStarGifts:!e?.shouldDisallowUnlimitedStarGifts||void 0}}):m()}),h=(0,l.A)(()=>{t?n({disallowedGifts:{...e,shouldDisallowUniqueStarGifts:!e?.shouldDisallowUniqueStarGifts||void 0}}):m()}),y=(0,l.A)(()=>{t?n({disallowedGifts:{...e,shouldDisallowPremiumGifts:!e?.shouldDisallowPremiumGifts||void 0}}):m()});return s.Ay.createElement("div",{className:"settings-item"},s.Ay.createElement("h4",{className:"settings-item-header",dir:r.isRtl?"rtl":void 0},r("PrivacyAcceptedGiftTitle")),s.Ay.createElement(c.A,{onClick:u},s.Ay.createElement("span",null,r("PrivacyGiftLimitedEdition")),s.Ay.createElement(d.A,{id:"limited_edition",label:r(e?.shouldDisallowLimitedStarGifts?"PrivacyDisableLimitedEditionStarGifts":"PrivacyEnableLimitedEditionStarGifts"),disabled:!t,checked:!t||!e?.shouldDisallowLimitedStarGifts})),s.Ay.createElement(c.A,{onClick:A},s.Ay.createElement("span",null,r("PrivacyGiftUnlimited")),s.Ay.createElement(d.A,{id:"unlimited",label:r(e?.shouldDisallowUnlimitedStarGifts?"PrivacyDisableUnlimitedStarGifts":"PrivacyEnableUnlimitedStarGifts"),disabled:!t,checked:!t||!e?.shouldDisallowUnlimitedStarGifts})),s.Ay.createElement(c.A,{onClick:h},s.Ay.createElement("span",null,r("PrivacyGiftUnique")),s.Ay.createElement(d.A,{id:"unique",label:r(e?.shouldDisallowUniqueStarGifts?"PrivacyDisableUniqueStarGifts":"PrivacyEnableUniqueStarGifts"),disabled:!t,checked:!t||!e?.shouldDisallowUniqueStarGifts})),s.Ay.createElement(c.A,{onClick:y},s.Ay.createElement("span",null,r("PrivacyGiftPremiumSubscription")),s.Ay.createElement(d.A,{id:"premium_subscription",label:r(e?.shouldDisallowPremiumGifts?"PrivacyDisablePremiumGifts":"PrivacyEnablePremiumGifts"),disabled:!t,checked:!t||!e?.shouldDisallowPremiumGifts})),s.Ay.createElement("p",{className:"settings-item-description-larger",dir:r.isRtl?"rtl":void 0},r("PrivacyAcceptedGiftInfo")))},A=(0,s.ph)((0,o.EK)(e=>{const{settings:{byKey:{disallowedGifts:t}}}=e;return{disallowedGifts:t,isCurrentUserPremium:(0,r.g29)(e)}})(u));n()}catch(e){n(e)}})},15896:(e,t,a)=>{a.d(t,{A:()=>n});const n={root:"P0kLOw15",button:"ILuhBsJG",main:"SqiN63Ef",logo:"Me2hCsMs","header-text":"UVDnB0Wq",headerText:"UVDnB0Wq",description:"v5yGzV6v",header:"U6XNIToQ","hidden-header":"tDZc21ZC",hiddenHeader:"tDZc21ZC","close-button":"OX6_HqAd",closeButton:"OX6_HqAd","premium-header-text":"v6hiGpEn",premiumHeaderText:"v6hiGpEn","primary-footer-text":"YGbiSd3e",primaryFooterText:"YGbiSd3e",section:"rZRDMqUL",types:"sQ5PkKEs",footer:"hD_AEzjd",options:"JjDLNrKG",giveawayTitle:"p5Hn4Q6E",subscription:"rniPcuiP",starSubscription:"bzRAETfR",subscriptionOption:"ggZrgZnv",status:"q1y2qUTn",info:"IsT38nlq",titleInfo:"nmsfBLut",month:"TsGuei3B",quantity:"G9H3tm6D",floatingBadge:"xKl2UeV8",floatingBadgeColor:"HLx3wTBD",floatingBadgeButtonColor:"JLH0MExt",floatingBadgeIcon:"Ftr7zf2v",floatingBadgeValue:"Ce0Ob2tg",subscriptionFooter:"rDFQAfTt",premiumFeatures:"eNQ_nrKr",dateButton:"GeKqKRgP",title:"LZ3vPzak",checkboxSection:"Z9QJQ6IS",prizesSection:"eQVP0Nx8",prizesInput:"qMYNwiUZ",subLabelClassName:"txXJxVFu",prepaidImg:"ldn4mh2T",addButton:"sOXvh85b",addChannel:"aGbyR60s",removeChannel:"UZdErfVI",starOptions:"cLhNkYPB",transition:"vEI2Wewt"}},16284:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.d(t,{A:()=>b});var s=a(84051),o=a(13439),r=a(90709),i=a(70636),l=a(60919),c=a(17663),d=a(9716),m=a(4961),u=a(43874),A=a(17712),h=a(59030),y=a(21849),p=e([i,h,y]);[i,h,y]=p.then?(await p)():p;const v="•",g=350,E=({owner:e,item:t})=>{const{closeMediaViewer:a,focusMessage:n,toggleChatInfo:l}=(0,o.ko)(),{isMobile:p}=(0,u.Ay)(),E=(0,A.A)(()=>{if(a(),"message"!==t?.type)return;const e=t.message;p?setTimeout(()=>{l({force:!1},{forceSyncOnIOs:!0}),n({chatId:e.chatId,messageId:e.id})},g):n({chatId:e.chatId,messageId:e.id})}),b=(0,h.A)(),f=(0,s.Kr)(()=>{if(!t||"standalone"===t.type)return;const e="avatar"===t.type?t.avatarOwner:void 0,a="avatar"===t.type?t.profilePhotos:void 0,n=a?.photos[t.mediaIndex],s=n?.id===a?.fallbackPhoto?.id,o=n?.id===a?.personalPhoto?.id,i="message"===t.type?t.message.date:n?.date;if(!i)return;const l=(0,c.fS)(b,1e3*i,!0),m=a?.count&&a.count+(a?.fallbackPhoto?1:0),u=t.mediaIndex+1+(a?.personalPhoto?-1:0),A=m&&b("Of",[u,m]),h=[];if(n){const t=(0,d.L8)(e.id)?void 0:e,a=t&&(0,r.WX)(t),n=t&&(0,r.YE)(t);h.push(b(o?"lng_mediaview_profile_photo_by_you":s?"lng_mediaview_profile_public_photo":a?"lng_mediaview_channel_photo":n?"lng_mediaview_group_photo":"lng_mediaview_profile_photo"))}return!A||o||s||h.push(A),h.push(l),h.join(` ${v} `)},[t,b]);if(!e)return;const C=(0,i.F9)(b,e);return s.Ay.createElement("div",{className:"SenderInfo",onClick:E},s.Ay.createElement(y.A,{key:e.id,size:"medium",peer:e}),s.Ay.createElement("div",{className:"meta"},s.Ay.createElement("div",{className:"title",dir:"auto"},C&&(0,m.A)(C)),s.Ay.createElement("div",{className:"date",dir:"auto"},f)))},b=(0,o.EK)((e,{item:t})=>{const a="message"===t?.type?t.message:void 0,n=a&&(0,l.Y7C)(e,a);return{owner:"avatar"===t?.type?t.avatarOwner:n}})(E);n()}catch(e){n(e)}})},16801:(e,t,a)=>{a.d(t,{A:()=>n});const n={"views-list":"gpDY8bos",viewsList:"gpDY8bos","views-list-loading":"vuRAfQ5v",viewsListLoading:"vuRAfQ5v",info:"AOSUIChK",centeredInfo:"oGLhkkS7","view-reaction":"MLaabS6n",viewReaction:"MLaabS6n",header:"d3N2bktu",content:"QmRA3HZK","top-button":"Dkv8GAxf",topButton:"Dkv8GAxf","contact-filter":"YpB_9VxE",contactFilter:"YpB_9VxE",selected:"DoUlpdZJ",sort:"axDpgq9G","sort-button":"Bm5VA66f",sortButton:"Bm5VA66f","icon-sort":"YVQiH93R",iconSort:"YVQiH93R","icon-down":"NXP9aMD0",iconDown:"NXP9aMD0",search:"QQQqBLK6","bottom-info":"_CSv6suH",bottomInfo:"_CSv6suH",scrolled:"RYQ0liYe",footer:"dUK7rP37",closeButton:"abPzLiCH","opacity-fade-in":"cX8oY3zb",opacityFadeIn:"cX8oY3zb",fadeIn:"Sx_aeh1o",blocked:"L82sciL8",check:"UqGBKwjg",menuBubble:"dRqemuTA","with-colored-status":"GQ96fta9",withColoredStatus:"GQ96fta9"}},17001:(e,t,a)=>{a.d(t,{A:()=>n});const n={buttonHolder:"BDK_pgpt",active:"N8ujSwlC"}},17317:(e,t,a)=>{a.d(t,{A:()=>n});const n={root:"VJDwJpsF",buttons:"aYO2C2Hx"}},17593:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.d(t,{A:()=>f});var s=a(84051),o=a(13439),r=a(70636),i=a(60919),l=a(87357),c=a(9716),d=a(35049),m=a(4961),u=a(15384),A=a(11217),h=a(17712),y=a(59030),p=a(54746),v=a(93700),g=a(29404),E=e([r,u,y,v,g]);[r,u,y,v,g]=E.then?(await E)():E;const b=({className:e,forwardInfo:t,sender:a,story:n})=>{const{openStoryViewer:i,loadPeerStoriesByIds:E,openChat:b}=(0,o.ko)(),f=(0,s.li)(),C=(0,y.A)();(0,s.vJ)(()=>{!n&&t.fromPeerId&&t.storyId&&E({peerId:t.fromPeerId,storyIds:[t.storyId]})},[t,n]);const S=a?(0,r.F9)(C,a):t.fromName,w=(0,h.A)(()=>{const{fromPeerId:e,storyId:a}=t;e&&(!n||"isDeleted"in n&&n.isDeleted?b({id:e}):i({peerId:e,storyId:a,isSingleStory:!0}))}),{handleClick:k,handleMouseDown:N}=(0,A.Q)(w);return s.Ay.createElement(v.A,{ref:f,className:(0,l.A)("EmbeddedMessage",e,(0,d.y)(a,!0,!0)),dir:C.isRtl?"rtl":void 0,onClick:k,onMouseDown:N},a?.color?.backgroundEmojiId&&s.Ay.createElement(g.A,{emojiDocumentId:a.color.backgroundEmojiId,className:"EmbeddedMessage--background-icons"}),s.Ay.createElement("div",{className:"message-text"},function(){if(n&&"content"in n&&n.content.text)return s.Ay.createElement("p",{className:"embedded-text-wrapper"},(0,u.fd)(n.content.text))}(),s.Ay.createElement("div",{className:"message-title"},function(){if(!a||!S)return;const e=(0,c.L8)(a.id)?"user-filled":"channel-filled";return s.Ay.createElement(s.Ay.Fragment,null,e&&s.Ay.createElement(p.A,{name:e,className:"embedded-chat-icon"}),S&&(0,m.A)(S))}())))},f=(0,s.ph)((0,o.EK)((e,{forwardInfo:t})=>({sender:t.fromPeerId?(0,i.PVB)(e,t.fromPeerId):void 0,story:t.storyId&&t.fromPeerId?(0,i.Msb)(e,t.fromPeerId,t.storyId):void 0}))(b));n()}catch(e){n(e)}})},17979:(e,t,a)=>{a.d(t,{A:()=>c});var n=a(84051),s=a(31481),o=a(96454),r=a(87357),i=a(52491),l=a(17712);const c=(0,n.ph)(({emoji:e,focus:t,onClick:a})=>{const c=(0,l.A)(t=>{t.preventDefault(),a(e.native,e.id)}),d=(0,r.A)("EmojiButton",t&&"focus"),m=`${s.jht?s.C1b:"."}/img-apple-64/${e.image}.png`,u=i.On.has(m);return n.Ay.createElement("div",{className:d,onMouseDown:c,title:`:${e.names[0]}:`},o.TL?e.native:n.Ay.createElement("img",{src:m,className:u?void 0:"opacity-transition shown",alt:e.native,loading:"lazy","data-path":m,onLoad:u?void 0:i.P_,draggable:!1}))})},18057:(e,t,a)=>{a.d(t,{A:()=>n});const n={content:"aZyt0u4J",table:"d76opBrW"}},18128:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.d(t,{A:()=>j});var s=a(84051),o=a(13439),r=a(31481),i=a(66644),l=a(90709),c=a(60919),d=a(96454),m=a(87357),u=a(11778),A=a(17663),h=a(36353),y=a(57309),p=a(79824),v=a(37836),g=a(49870),E=a(43874),b=a(82117),f=a(37661),C=a(26072),S=a(96374),w=a(10328),k=a(39351),N=a(17712),I=a(59030),P=a(21849),M=a(54746),T=a(99952),B=a(64493),x=a(46222),L=a(36393),R=a(73066),F=a(13083),D=a(75574),V=e([k,I,P,T,B,L,R,F]);[k,I,P,T,B,L,R,F]=V.then?(await V)():V;const _={isCustomPeer:!0,avatarIcon:"channel-filled",titleKey:"SearchPublicPosts"},U=5,O=200,J="MiddleSearchResult",K=(0,v.sg)(e=>e(),200,!1),G=({isActive:e,chat:t,monoforumChat:a,threadId:n,requestedQuery:V,savedTags:G,savedTag:j,totalCount:z,lastSearchQuery:H,foundIds:$,isHistoryCalendarOpen:q,isCurrentUserPremium:W,isSavedMessages:Y,fetchingQuery:Q,isHashtagQuery:Z,searchType:X="chat",currentUserId:ee})=>{const{updateMiddleSearch:te,resetMiddleSearch:ae,performMiddleSearch:ne,focusMessage:se,closeMiddleSearch:oe,openHistoryCalendar:re,openPremiumModal:ie,loadSavedReactionTags:le}=(0,o.ko)(),ce=(0,s.li)(),de=(0,s.li)(),me=(0,s.li)(),ue=(0,s.li)(!1),{isMobile:Ae}=(0,E.Ay)(),he=(0,I.A)(),ye=(0,k.A)(),[pe,ve]=(0,s.J0)(V||""),[ge,Ee]=(0,s.J0)(0),be=$&&ge>0,fe=$&&ge<$.length-1,[Ce,Se]=(0,s.J0)(!e),we=(0,s.li)(),ke=(0,s.li)(!0),[Ne,Ie,Pe]=(0,f.A)(),[Me,Te]=(0,s.J0)(!0),[Be,xe]=(0,s.J0)(!1),Le=(0,N.A)(e=>{ke.current||e.target.closest(".Modal")||Pe()});(0,g.L)([ce],Le);const Re=Boolean(pe&&$||Z),Fe=Z&&!pe,De=Boolean(pe&&$&&!$.length&&!Be&&!Fe),Ve=e&&(Me||!Ae)&&(Ne||"myChats"===X||"channels"===X)&&Boolean(Re||De||Fe||G),_e=Boolean(pe&&!Fe||j),Ue="chat"===X&&Boolean($?.length),Oe=(0,N.A)(()=>{oe()}),Je=(0,N.A)(()=>{(0,i.YS)(()=>{de.current?.focus()})}),Ke=(0,N.A)(()=>{de.current?.blur()});(0,s.vJ)(()=>{const{visualViewport:e}=window;if(!e)return;const t=document.getElementById("Main"),a=()=>{const{activeElement:a}=document;if(a&&a===de.current){const{pageTop:a,height:n}=e;(0,i.RK)(()=>{t.style.transform=`translateY(${a}px)`,t.style.height=`${n}px`,document.documentElement.scrollTop=a})}else(0,i.RK)(()=>{t.style.transform="",t.style.height=""})};return e.addEventListener("resize",a),()=>{e.removeEventListener("resize",a)}},[]),(0,s.vJ)(()=>{Ee(-1)},[H]),(0,s.Nf)(()=>{d.pz&&Array.from(document.querySelectorAll("input")).forEach(t=>{t.disabled=Boolean(e&&t!==de.current)})},[e]),(0,s.vJ)(()=>{e?(Se(!1),clearTimeout(we.current)):(de.current.blur(),Te(!0),Ee(0),ve(""),we.current=window.setTimeout(()=>Se(!0),O))},[e]),(0,s.vJ)(()=>{V&&t?.id&&(ve(V),te({chatId:t.id,threadId:n,update:{requestedQuery:void 0}}),xe(!0),(0,i.Uz)(()=>{const e=de.current;e&&((0,h.A)(e,!0,!0),Ie())}))},[t?.id,V,n]),(0,b.A)(([t])=>{e!==t&&!pe&&H&&ve(H)},[e,H,pe]),(0,b.A)(([t])=>{e&&t!==q&&(q?(Ke(),Pe()):Je())},[q,e]);const Ge=(0,N.A)(()=>{pe?.length||j?(ve(""),xe(!1),ae(),Je()):Oe()});(0,s.vJ)(()=>e?(0,u.A)(Ge):void 0,[e,Oe]);const je=(0,s.Kr)(()=>{if(G)return Object.values(G)},[G]),ze=Boolean(je?.length),He=ze&&!W;(0,s.vJ)(()=>{Y&&e&&le()},[Y,e]);const $e=(0,N.A)(()=>{const e=t?.id;e&&K(()=>{ue.current||ne({chatId:e,threadId:n,query:pe})})}),qe=(0,N.A)(e=>{if(ue.current=!1,e.startsWith("#")&&!Z)return te({chatId:t.id,threadId:n,update:{isHashtag:!0}}),ve(e.slice(1)),void $e();ve(e),e||(xe(!1),ae(),ue.current=!0)});(0,s.vJ)(()=>{pe&&$e()},[pe]),(0,s.vJ)(()=>{xe(Boolean(Q))},[Q]),(0,s.vJ)(()=>{$?.length&&$.length-ge<U&&$e()},[ge,$?.length]),(0,s.vJ)(()=>{if(e)return ke.current=!0,window.addEventListener("touchend",t),window.addEventListener("mouseup",t),window.addEventListener("touchstart",a),window.addEventListener("mousedown",a),()=>{a(),window.removeEventListener("touchstart",a),window.removeEventListener("mousedown",a)};function t(){de.current?.focus(),Ie(),(0,v.IJ)(()=>{ke.current=!1})}function a(){window.removeEventListener("touchend",t),window.removeEventListener("mouseup",t),(0,v.IJ)(()=>{ke.current=!1})}},[e]),(0,C.A)({isActive:e,onBack:Oe});const[We,Ye,Qe=0]=(0,S.A)($e,$),Ze=(0,s.Kr)(()=>{if(!pe&&!j||!We?.length)return p.p;const e=(0,o.mS)();return We.map(t=>{const[a,n]=(0,y.a)(t),s=(0,c.O5q)(e,a,n);if(!s)return;const o=Y||(0,l.DX)(a)||a===r.Ckz?(0,c.Szq)(e,s):void 0,i=(0,c.Y7C)(e,s);return{searchResultKey:t,message:s,messageChat:(0,c.hds)(e,s.chatId),senderPeer:o||i}}).filter(Boolean)},[pe,j,We,Y]),Xe=(0,N.A)(e=>{const t=(0,y.D)(e),a=$?.indexOf(t)||0;Ee(a+Qe),"chat"===X&&Te(!1),se({chatId:e.chatId,messageId:e.id,threadId:Z?void 0:n}),Pe()}),et=(0,N.A)(()=>{Te(e=>!e),Ie()}),tt=(0,w.A)(me,Re,e=>{const t=Ze?.[-1===e?0:e];t&&(Xe(t.message),Ee(e+Qe))},`.${J}`,!0),at=(0,N.A)(e=>{te({chatId:t.id,threadId:n,update:e}),$e()}),nt=(0,N.A)(e=>{He?ie({initialSection:"saved_tags"}):at({savedTag:e})}),st=(0,N.A)(()=>{at({savedTag:void 0})}),ot=(0,N.A)(()=>{Z?at({isHashtag:!1}):j&&st()}),rt=(0,N.A)(e=>{at({type:e}),Te(!0)}),it=(0,N.A)(()=>{if("chat"===X&&(Pe(),Ke(),$)){const e=ge+1,[t,a]=(0,y.a)($[e]);se({chatId:t,messageId:a,threadId:n}),Ee(e)}}),lt=(0,N.A)(()=>{if("chat"===X&&(Pe(),Ke(),$)){const e=ge-1,[t,a]=(0,y.a)($[e]);se({chatId:t,messageId:a,threadId:n}),Ee(e)}});function ct(e,a){const n=!a&&X===e;switch(e){case"chat":return s.Ay.createElement(T.A,{className:(0,m.A)(D.A.searchType,n&&D.A.selectedType),peerId:t?.id,title:he("SearchThisChat"),clickArg:"chat",onClick:a?ot:rt});case"myChats":return s.Ay.createElement(T.A,{className:(0,m.A)(D.A.searchType,n&&D.A.selectedType),peerId:ee,forceShowSelf:!0,title:he("SearchMyMessages"),clickArg:"myChats",onClick:a?ot:rt});case"channels":return s.Ay.createElement(T.A,{className:(0,m.A)(D.A.searchType,n&&D.A.selectedType),customPeer:_,title:he("SearchPublicPosts"),clickArg:"channels",onClick:a?ot:rt})}}function dt(){return s.Ay.createElement("div",{className:(0,m.A)(D.A.dropdown,!Ve&&D.A.dropdownHidden)},!Ae&&s.Ay.createElement("div",{className:D.A.separator}),ze&&!Z&&s.Ay.createElement("div",{className:(0,m.A)(D.A.savedTags,!Ae&&D.A.wrap,"no-scrollbar")},je.map(e=>{const t=(0,l.a0)(e.reaction,j);return s.Ay.createElement(R.A,{containerId:"local-search",key:(0,l.Jj)(e.reaction),reaction:e.reaction,tag:e,withCount:!0,isDisabled:He,isChosen:t,onClick:t?st:nt})})),Z&&s.Ay.createElement("div",{className:(0,m.A)(D.A.searchTypes,"no-scrollbar")},ct("chat"),ct("myChats"),ct("channels")),Re&&s.Ay.createElement(x.A,{ref:me,className:(0,m.A)(D.A.results,"custom-scroll"),items:Ze,itemSelector:`.${J}`,preloadBackwards:0,onLoadMore:Ye,onKeyDown:tt},De&&s.Ay.createElement("span",{key:"nothing",className:D.A.placeholder},he("NoResultFoundFor",pe)),Fe&&s.Ay.createElement("span",{key:"enterhash",className:D.A.placeholder},he("HashtagSearchPlaceholder")),Ze?.map(({message:e,senderPeer:t,messageChat:a,searchResultKey:n},o)=>s.Ay.createElement(F.A,{key:n,teactOrderKey:-e.date,className:J,query:pe,message:e,senderPeer:t,messageChat:a,shouldShowChat:Z,isActive:ge-Qe===o,onClick:Xe}))))}return s.Ay.createElement("div",{id:"MiddleSearch",className:(0,m.A)(D.A.root,e&&D.A.active,!e&&Ce&&"visually-hidden",Ne&&D.A.focused,Ae&&D.A.mobile),ref:ce},s.Ay.createElement("div",{className:D.A.header},!Ae&&s.Ay.createElement(P.A,{className:D.A.avatar,peer:a||t,size:"medium",isSavedMessages:Y}),s.Ay.createElement(L.A,{ref:de,value:pe,className:(0,m.A)(D.A.input,Ve&&D.A.withDropdown,Ve&&!Ae&&D.A.adaptSearchBorders),canClose:!Ae,isLoading:Be,resultsItemSelector:`.${D.A.results} .${J}`,hasUpButton:Ue&&!Ae,hasDownButton:Ue&&!Ae,placeholder:he(Z?"SearchHashtagsHint":"Search"),teactExperimentControlled:!0,onChange:qe,onStartBackspace:ot,onReset:Ge,withBackIcon:Ae,onFocus:Ie,focused:Ne,onUpClick:fe?it:void 0,onDownClick:be?lt:void 0},s.Ay.createElement("div",{className:D.A.searchTags},j&&s.Ay.createElement(R.A,{containerId:"local-search-tags",className:D.A.savedSearchTag,reaction:j,tag:G[(0,l.Jj)(j)],onClick:st}),Z&&s.Ay.createElement("div",{className:D.A.hash},"#")),!Ae&&dt()),!Ae&&s.Ay.createElement("div",{className:D.A.icons},s.Ay.createElement(B.A,{round:!0,size:"smaller",color:"translucent",onClick:()=>re({selectedAt:(0,A.CS)(Date.now())}),ariaLabel:he("JumpToDate")},s.Ay.createElement(M.A,{name:"calendar"})))),Ae&&dt(),Ae&&s.Ay.createElement("div",{className:D.A.footer},s.Ay.createElement(B.A,{round:!0,size:"smaller",color:"translucent",onClick:()=>re({selectedAt:(0,A.CS)(Date.now())}),ariaLabel:he("JumpToDate")},s.Ay.createElement(M.A,{name:"calendar"})),s.Ay.createElement("div",{className:D.A.counter},_e&&($?.length?he("Of",[Math.max(ge+1,1),z]):$&&!$.length&&he("NoResult"))),"chat"===X&&Boolean($?.length)&&s.Ay.createElement(B.A,{className:D.A.viewStyle,size:"smaller",isText:!0,fluid:!0,noForcedUpperCase:!0,onClick:et},he(Me?"SearchAsChat":"SearchAsList")),Ue&&!Ve&&s.Ay.createElement("div",{className:D.A.mobileNavigation},s.Ay.createElement(B.A,{className:(0,m.A)(D.A.navigationButton,!fe&&D.A.navigationDisabled),round:!0,size:"smaller",color:"secondary",onClick:it,nonInteractive:!fe,ariaLabel:ye("AriaSearchOlderResult")},s.Ay.createElement(M.A,{name:"up"})),s.Ay.createElement(B.A,{className:(0,m.A)(D.A.navigationButton,!be&&D.A.navigationDisabled),round:!0,size:"smaller",color:"secondary",onClick:lt,nonInteractive:!be,ariaLabel:ye("AriaSearchNewerResult")},s.Ay.createElement(M.A,{name:"down"})))))},j=(0,s.ph)((0,o.EK)(e=>{const t=(0,c.Xf0)(e);if(!t)return{};const{chatId:a,threadId:n}=t,s=(0,c.hds)(e,a);if(!s)return{};const{requestedQuery:o,savedTag:r,results:i,fetchingQuery:d,isHashtag:m,type:u}=(0,c.TCk)(e)||{},{totalCount:A,foundIds:h,query:y}=i||{},p=e.currentUserId,v=(0,c.nZ4)(e,a),g=(0,l.cG)(a,n,p),E=v&&!g?e.savedReactionTags?.byKey:void 0;return{chat:s,monoforumChat:(0,c.k2W)(e,a),requestedQuery:o,totalCount:A,threadId:n,foundIds:h,isHistoryCalendarOpen:Boolean((0,c.nTw)(e).historyCalendarSelectedAt),savedTags:E,savedTag:r,isCurrentUserPremium:(0,c.g29)(e),isSavedMessages:v,fetchingQuery:d,isHashtagQuery:m,currentUserId:p,searchType:u,lastSearchQuery:y}})(G));n()}catch(e){n(e)}})},18327:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.d(t,{A:()=>y});var s=a(84051),o=a(13439),r=a(90709),i=a(60919),l=a(9716),c=a(37661),d=a(59030),m=a(73767),u=a(92543),A=e([d,u]);[d,u]=A.then?(await A)():A;const h=({isOpen:e,currentUserId:t,isManyMessages:a,isStory:n,isForwarding:A})=>{const{openChatOrTopicWithReplyInDraft:h,setForwardChatOrTopic:y,exitForwardMode:p,forwardToSavedMessages:v,forwardStory:g,showNotification:E}=(0,o.ko)(),b=(0,d.A)(),f=(0,m.A)(n,!0),[C,S,w]=(0,c.A)();(0,s.vJ)(()=>{e&&S()},[e,S]);const k=(0,s.hb)((e,s)=>{const c=e===t;if(n){g({toChatId:e});const t=(0,o.mS)();if((0,l.L8)(e))E({message:c?b("Conversation.StoryForwardTooltip.SavedMessages.One"):b("StorySharedTo",(0,r.u0)((0,i.mBe)(t,e)))});else{const a=(0,i.hds)(t,e);if(!a)return;E({message:b("StorySharedTo",(0,r.Js)(b,a))})}return}if(c){const e=b(a?"Conversation.ForwardTooltip.SavedMessages.Many":"Conversation.ForwardTooltip.SavedMessages.One");v(),E({message:e})}else{const t=e,a=s?Number(s):void 0;A?y({chatId:t,topicId:a}):h({chatId:t,topicId:a})}},[t,a,n,b,A]),N=(0,s.hb)(()=>{p()},[p]);if(e||C)return s.Ay.createElement(u.A,{isOpen:e,className:f?"component-theme-dark":void 0,searchPlaceholder:b(A?"ForwardTo":"ReplyToDialog"),onSelectRecipient:k,onClose:N,onCloseAnimationEnd:w,isForwarding:A})},y=(0,s.ph)((0,o.EK)(e=>{const{messageIds:t,storyId:a}=(0,i.nTw)(e).forwardMessages,n=t&&t.length>0;return{currentUserId:e.currentUserId,isManyMessages:(t?.length||0)>1,isStory:Boolean(a),isForwarding:n}})(h));n()}catch(e){n(e)}})},18851:(e,t,a)=>{a.d(t,{Ay:()=>i});var n=a(84051),s=a(22237);const[o,r]=(0,s.n5)(!1);function i(){return(0,n._W)(()=>{r(!1)}),[o,r]}},19096:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.d(t,{A:()=>u});var s=a(84051),o=a(26072),r=a(59030),i=a(15535),l=a(3178),c=e([r,i]);[r,i]=c.then?(await c)():c;const d="Passwords Should Be Equal",m=({isActive:e,onReset:t,error:a,isLoading:n,shouldDisablePasswordManager:c,expectedPassword:m,placeholder:u="Current Password",hint:A,submitLabel:h,clearError:y,onSubmit:p})=>{const[v,g]=(0,s.J0)(""),[E,b]=(0,s.J0)(!1),f=(0,s.hb)(e=>{m&&e!==m?g(d):p(e)},[p,m]),C=(0,s.hb)(()=>{y&&y(),g("")},[y]),S=(0,r.A)();return(0,o.A)({isActive:e,onBack:t}),s.Ay.createElement("div",{className:"settings-content password-form custom-scroll"},s.Ay.createElement("div",{className:"settings-content-header no-border"},s.Ay.createElement(l.A,{isBig:!0,isPasswordVisible:E})),s.Ay.createElement("div",{className:"settings-item settings-group"},s.Ay.createElement(i.A,{error:v||a,hint:A,placeholder:u,shouldDisablePasswordManager:c,submitLabel:h||S("Next"),clearError:C,isLoading:n,isPasswordVisible:E,shouldResetValue:e,onChangePasswordVisibility:b,onSubmit:f})))},u=(0,s.ph)(m);n()}catch(e){n(e)}})},19117:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.d(t,{A:()=>m});var s=a(84051),o=a(13439),r=a(26072),i=a(17794),l=a(1087),c=e([i,l]);[i,l]=c.then?(await c)():c;const d=({isActive:e,availableReactions:t,selectedReaction:a,onReset:n})=>{const{setDefaultReaction:c}=(0,o.ko)();(0,r.A)({isActive:e,onBack:n});const d=(0,s.Kr)(()=>(t||[]).filter(e=>!e.isInactive).map(e=>({label:s.Ay.createElement(s.Ay.Fragment,null,s.Ay.createElement(i.A,{reaction:e.reaction,availableReactions:t}),e.title),value:e.reaction.emoticon})),[t]),m=(0,s.hb)(e=>{c({reaction:{type:"emoji",emoticon:e}})},[c]);return s.Ay.createElement("div",{className:"settings-content settings-item custom-scroll settings-quick-reaction"},s.Ay.createElement(l.A,{name:"quick-reaction-settings",options:d,selected:a,onChange:m,withIcon:!0}))},m=(0,s.ph)((0,o.EK)(e=>{const{config:t,reactions:a}=e;return{availableReactions:a.availableReactions,selectedReaction:t?.defaultReaction}})(d));n()}catch(e){n(e)}})},19147:(e,t,a)=>{a.d(t,{A:()=>r});var n=a(84051),s=a(36235),o=a(39751);function r(){const{width:e,height:t}=(0,o.A)();return(0,n.Kr)(()=>(0,s.ef)(e,t),[e,t])}},19345:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.d(t,{A:()=>b});var s=a(84051),o=a(13439),r=a(31481),i=a(60919),l=a(87357),c=a(17663),d=a(4961),m=a(17712),u=a(59030),A=a(12928),h=a(29772),y=a(39229),p=a(99243),v=e([u,A,h]);[u,A,h]=v.then?(await v)():v;const g="giftcode",E=({currentUserId:e,modal:t,messageSender:a})=>{const{closeGiftCodeModal:n,applyGiftCode:i,focusMessage:v}=(0,o.ko)(),E=(0,u.A)(),b=Boolean(t),f=!(t?.info.toId&&t?.info.toId!==e||t?.info.usedAt),C=(0,m.A)(()=>{t&&t.info.giveawayMessageId&&(v({chatId:t.info.fromId,messageId:t.info.giveawayMessageId}),n())}),S=(0,m.A)(()=>{f?i({slug:t.slug}):n()}),w=(0,s.Kr)(()=>{if(!t)return;const{slug:e,info:n}=t,o=n.fromId||a?.id,i=s.Ay.createElement(s.Ay.Fragment,null,s.Ay.createElement("img",{src:p,alt:"",className:y.A.logo}),s.Ay.createElement("p",{className:y.A.centered},(0,d.A)(E("lng_gift_link_about"),["simple_markdown"])),s.Ay.createElement(A.A,{title:"BoostingGiftLink",link:`${r.jsp}/${g}/${e}`})),m=[[E("BoostingFrom"),o?{chatId:o}:E("BoostingNoRecipient")],[E("BoostingTo"),n.toId?{chatId:n.toId}:E("BoostingNoRecipient")],[E("BoostingGift"),E("BoostingTelegramPremiumFor",E("Months",n.months,"i"))]];return n.isFromGiveaway&&m.push([E("BoostingReason"),s.Ay.createElement("span",{className:(0,l.A)(n.giveawayMessageId&&y.A.clickable),onClick:C},n.isFromGiveaway&&!n.toId?E("BoostingIncompleteGiveaway"):E("BoostingGiveaway"))]),m.push([E("BoostingDate"),(0,c.L2)(1e3*n.date,E.code,!0)]),{header:i,tableData:m,footer:s.Ay.createElement("span",{className:y.A.centered},(0,d.A)(n.usedAt?E("BoostingUsedLinkDate",(0,c.L2)(1e3*n.usedAt,E.code,!0)):E("BoostingSendLinkToAnyone"),["simple_markdown"]))}},[E,a?.id,t]);if(w)return s.Ay.createElement(h.A,{isOpen:b,title:E("lng_gift_link_title"),tableData:w.tableData,header:w.header,footer:w.footer,buttonText:E(f?"BoostingUseLink":"Close"),onButtonClick:S,onClose:n})},b=(0,s.ph)((0,o.EK)((e,{modal:t})=>{const{message:a}=t||{},n=a&&(0,i.O5q)(e,a.chatId,a.messageId),s=n&&(0,i.Y7C)(e,n);return{currentUserId:e.currentUserId,messageSender:s}})(E));n()}catch(e){n(e)}})},19357:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.d(t,{A:()=>A});var s=a(84051),o=a(13439),r=a(87357),i=a(59030),l=a(54746),c=a(71149),d=e([i]),m=d.then?(await d)():d;function u({label:e,isChecked:t}){const a=(0,i.A)(),{showNotification:n}=(0,o.ko)();return s.Ay.createElement("div",{className:(0,r.A)(c.A.root,t&&c.A.checked),onClick:()=>n({message:a("OptionPremiumRequiredMessage")})},s.Ay.createElement("span",null,e),s.Ay.createElement(l.A,{name:"lock-badge",className:c.A.lockIcon}))}i=m[0];const A=(0,s.ph)(u);n()}catch(h){n(h)}})},19682:(e,t,a)=>{a.d(t,{A:()=>n});const n={root:"mFElmm7a",header:"Jjbochk6",circle:"ChteQ9C3",title:"d2ayix6L",features:"ensyCeMe",mobile:"DFbZJafh",scrolled:"iN1T0a2Y"}},19723:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.d(t,{A:()=>b});var s=a(84051),o=a(13439),r=a(67054),i=a(37661),l=a(17712),c=a(62587),d=a(18104),m=a(75471),u=e([c]),A=u.then?(await u)():u;c=A[0];const h=.6,y=.8,p=15,v=150,g=({size:e,realIndex:t,canPlay:a,sticker:n,index:o,maxLength:r,onClick:u,onEnded:A})=>{const p=(0,c.A)(`sticker${n.id}`),v=(0,c.A)(`sticker${n.id}?size=f`),g=0===o,[E,b,f]=(0,i.A)(g),C=e-e*h,S=3*C,w=3.2*C,k=o/r*(2*Math.PI),N=g?1:.66,I=Math.cos(k)*S-2.8*C,P=Math.sin(k)*w,M=(0,l.A)(()=>{u(t)}),T=(0,l.A)(()=>{f(),A(t)});return(0,s.vJ)(()=>{g&&b()},[g,b]),s.Ay.createElement(s.Ay.Fragment,null,g&&s.Ay.createElement(d.A,{className:m.A.effectSticker,tgsUrl:v,play:a,isLowPriority:!0,noLoop:!0,size:y*e,style:`--x: calc(${I}px - 10%); --y: ${P}px;`}),s.Ay.createElement(d.A,{className:m.A.sticker,tgsUrl:p,play:a&&E,noLoop:!0,size:h*e,style:`--x: ${I}px; --y: ${P}px; --opacity: ${N}`,onClick:M,onEnded:T}))},E=({stickers:e,isActive:t})=>{const a=(0,s.li)(),[n,o]=(0,s.J0)(0),[i,c]=(0,s.J0)(0),d=e?.slice(0,p),u=(0,l.A)(e=>{o(-e)}),A=(0,l.A)(e=>{0===(0,r.A)(d.length,e+n)&&setTimeout(()=>{o(e=>(0,r.A)(d.length,e+1))},v)});return(0,s.vJ)(()=>{const e=a.current;e&&c(e.closest(".modal-dialog").clientWidth)},[]),s.Ay.createElement("div",{className:m.A.root,ref:a},Boolean(i)&&d?.map((e,a)=>s.Ay.createElement(g,{size:i,sticker:e,realIndex:a,index:(a+n+d.length)%d.length,maxLength:d.length,onClick:u,onEnded:A,canPlay:t})))},b=(0,s.ph)((0,o.EK)(e=>({stickers:e.stickers.premium.stickers}))(E));n()}catch(e){n(e)}})},19735:(e,t,a)=>{e.exports=a.p+"PremiumStickers.7b5a8531a41b43d0da12.svg"},19871:(e,t,a)=>{e.exports=a.p+"PremiumLimits.08701cb6df3cf756c5f7.svg"},20020:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.d(t,{A:()=>u});var s=a(84051),o=a(13439),r=a(60919),i=a(87894),l=a(21052),c=e([l]),d=c.then?(await c)():c;l=d[0];const m=({notifications:e})=>{if(e.length)return s.Ay.createElement("div",{id:"Notifications"},e.map(e=>s.Ay.createElement(l.A,{key:e.localId,notification:e})))},u=(0,s.ph)((0,o.EK)(e=>(0,i.Up)((0,r.nTw)(e),["notifications"]))(m));n()}catch(e){n(e)}})},20417:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.d(t,{A:()=>m});var s=a(84051),o=a(13439),r=a(31481),i=a(59030),l=e([i]),c=l.then?(await l)():l;i=c[0];const d=({url:e,noRedirect:t,onClose:a,onPaymentFormSubmit:n})=>{const{openTelegramLink:l}=(0,o.ko)(),c=(0,i.A)(),d=(0,s.hb)(e=>{try{const s=JSON.parse(e.data),{eventType:o,eventData:i}=s;switch(o){case"web_app_open_tg_link":if(!t){const e=r.jsp+i.path_full;l({url:e})}a();break;case"payment_form_submit":n&&n(i);break;default:a()}}catch(e){}},[a,t,l,n]);return(0,s.vJ)(()=>(window.addEventListener("message",d),()=>window.removeEventListener("message",d)),[d]),s.Ay.createElement("div",{className:"ConfirmPayment"},s.Ay.createElement("iframe",{src:e,title:c("Checkout.WebConfirmation.Title"),allow:"payment",sandbox:"allow-modals allow-forms allow-scripts allow-same-origin allow-top-navigation",className:"ConfirmPayment__content"}))},m=(0,s.ph)(d);n()}catch(e){n(e)}})},20594:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.d(t,{A:()=>P});var s=a(84051),o=a(13439),r=a(23174),i=a(90709),l=a(60919),c=a(87357),d=a(9716),m=a(80539),u=a(76023),A=a(58734),h=a(43874),y=a(14),p=a(17712),v=a(59030),g=a(34895),E=a(71429),b=a(49626),f=a(94662),C=a(91202),S=e([A,v,g,b,f]);[A,v,g,b,f]=S.then?(await S)():S;const w={x:-23,y:-64},k={x:-21,y:-10},N=16.375*u.$,I=({isOpen:e,message:t,story:a,position:n,isTranslucent:l,isCurrentUserPremium:d,shouldUseFullPicker:u,sendAsMessage:S,chatId:I,isForEffects:P,availableEffectById:B})=>{const{toggleReaction:x,closeReactionPicker:L,sendMessage:R,showNotification:F,sendStoryReaction:D,saveEffectInDraft:V,requestEffectInComposer:_,addLocalPaidReaction:U,openPaidReactionModal:O}=(0,o.ko)(),J=(0,v.A)(),K=(0,y.A)(t?.id,!0),G=(0,y.A)(t?.chatId,!0),j=(0,y.A)(a?.peerId,!0),z=(0,y.A)(a?.id),H=(0,y.A)(n,!0),$=(0,s.li)(),q=(0,s.Kr)(()=>{if(H)return z?H:{x:H.x+(u?w.x:k.x),y:H.y+(u?w.y:k.y)}},[z,H,u]),W=(0,p.A)(()=>$.current),Y=(0,p.A)(()=>({withPortal:!0,isDense:!j,deltaX:!(0,h.Ny)()&&$.current?-($.current.offsetWidth-N)/2-w.x/2:0})),Q=(0,p.A)(e=>{if(!G||!K)return;const t=e.isCustomEmoji?{type:"custom",documentId:e.id}:{type:"emoji",emoticon:e.emoji};x({chatId:G,messageId:K,reaction:t,shouldAddToRecent:!0}),L()}),Z=(0,p.A)(e=>{G&&K&&("paid"===e.type?U({chatId:G,messageId:K,count:1}):x({chatId:G,messageId:K,reaction:e,shouldAddToRecent:!0}),L())}),X=(0,p.A)(e=>{"paid"===e.type&&(O({chatId:G,messageId:K}),L())}),ee=(0,p.A)(e=>{if("type"in e&&"paid"===e.type)return;const t="id"in e?{type:"custom",documentId:e.id}:e,a="type"in e&&"custom"===e.type?(0,o.mS)().customEmojis.byId[e.documentId]:"id"in e?e:void 0;if(a&&!a.isFree&&!d)return F({message:J("UnlockPremiumEmojiHint"),action:{action:"openPremiumModal",payload:{initialSection:"animated_emoji"}},actionText:J("PremiumMore")}),void L();if(!S)return D({peerId:j,storyId:z,containerId:(0,i.$_)(j,z),reaction:t,shouldAddToRecent:!0}),void L();let n,s;if("type"in e&&"emoji"===e.type)n=e.emoticon;else{const e=(0,m.Ay)((0,A.hB)(a));n=e.text,s=e.entities}R({text:n,entities:s,isReaction:!0}),L()}),te=(0,p.A)(e=>{const t=Object.values(B),a=t.find(t=>t.effectStickerId===e.id)?.id;I&&V({chatId:I,threadId:r.l3,effectId:a}),a&&_({}),L()}),ae=(0,s.Kr)(()=>(t?.reactions?.results||[]).reduce((e,{chosenOrder:t,reaction:a})=>(void 0!==t&&e.push((0,i.Jj)(a)),e),[]),[t?.reactions?.results]);return s.Ay.createElement(E.A,{isOpen:e,ref:$,className:(0,c.A)(C.A.menu,"ReactionPicker"),bubbleClassName:(0,c.A)(C.A.menuContent,!u&&!z&&C.A.onlyReactions,z&&C.A.storyMenu),withPortal:!0,noCompact:!0,anchor:q,positionY:a&&"bottom",getTriggerElement:M,getRootElement:T,getMenuElement:W,getLayout:Y,backdropExcludedSelector:".Modal.confirm",onClose:L},P&&I?s.Ay.createElement(b.A,{className:"",isHidden:!e,loadAndPlay:Boolean(e&&u),idPrefix:"message-effect",canSendStickers:!1,noContextMenus:!1,chatId:I,isTranslucent:l,onStickerSelect:te,isForEffects:P}):s.Ay.createElement(s.Ay.Fragment,null,s.Ay.createElement(g.A,{chatId:G,idPrefix:"message-emoji-set-",isHidden:!e||!(u||z),loadAndPlay:Boolean(e&&u),isReactionPicker:!0,className:u||z?void 0:C.A.hidden,selectedReactionIds:ae,isTranslucent:l,onCustomEmojiSelect:z?ee:Q,onReactionSelect:z?ee:Z,onReactionContext:X}),!u&&Boolean(G)&&s.Ay.createElement(f.A,{chatId:G,loadAndPlay:e,onReactionSelect:z?ee:Z,onReactionContext:X,selectedReactionIds:ae,message:t})))},P=(0,s.ph)((0,o.EK)(e=>{const t=(0,l.nTw)(e),a=e.availableEffectById,{chatId:n,messageId:s,storyPeerId:o,storyId:r,position:i,sendAsMessage:c,isForEffects:m}=t.reactionPicker||{},u=o&&r?(0,l.Msb)(e,o,r):void 0,A=n?(0,l.hds)(e,n):void 0,h=n?(0,l.AWZ)(e,n):void 0,y=n&&s?(0,l.O5q)(e,n,s):void 0,p=(0,d.L8)(n||o||""),v="some"===h?.enabledReactions?.type,{maxUniqueReactions:g}=e.appConfig||{},E="all"===h?.enabledReactions?.type&&h?.enabledReactions?.areCustomAllowed,b=y?.reactions?.results,f=Boolean(g&&b&&b.length>=g);return{message:y,story:u,position:i,shouldUseFullPicker:!(A?.isForbidden||v||f)&&(E||p),isTranslucent:(0,l.cwE)(e),isCurrentUserPremium:(0,l.g29)(e),sendAsMessage:c,isForEffects:m,chatId:n,availableEffectById:a}})(I));function M(){return document.querySelector("body")}function T(){return document.querySelector("body")}n()}catch(B){n(B)}})},20629:(e,t,a)=>{a.d(t,{A:()=>n});const n={root:"GrE47IXS",closeButton:"NlWSF1pA",stealthIcon:"qKi5jsGM",title:"BFctFGoT",description:"fZIJH4IG",listItem:"RGD70uBt",icon:"HCYfPccW",button:"AM_sxoXP",subtitle:"L8oRQyKb"}},20662:(e,t,a)=>{a.d(t,{A:()=>n});const n={slide:"kq9LwNTZ",root:"E1bGWeON",content:"tNysQgHL",modalTitle:"Lj_ezEWU",header:"AlMDkK7c",optionText:"FU8m6NUU",option:"RoxwMzvA",optionButton:"Z6skYdvb",sectionTitle:"GSfUuTet",description:"zwfjNhF9",title:"QawchdxB",hasDepth:"CV7kzv9H",titleMultiline:"OYFbu8fQ",subtitle:"OUFckTb7",transition:"n2VxPirU",block:"KpptZ3Mk",optionInfo:"yc3szGcx",reportIcon:"kO8JC4gK"}},20752:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.d(t,{A:()=>y});var s=a(84051),o=a(13439),r=a(60919),i=a(4961),l=a(17712),c=a(59030),d=a(9267),m=a(19806),u=a(22720),A=e([c,m,u]);[c,m,u]=A.then?(await A)():A;const h=({isCurrentUserPremium:e,shouldHideReadMarks:t,visibility:a})=>{const{updateGlobalPrivacySettings:n,openPremiumModal:r}=(0,o.ko)(),A=(0,c.A)(),h="nobody"===a||"contacts"===a,y=(0,l.A)(e=>n({shouldHideReadMarks:e})),p=(0,l.A)(()=>{r({initialSection:"last_seen"})});return s.Ay.createElement(s.Ay.Fragment,null,h&&s.Ay.createElement("div",{className:"settings-item"},s.Ay.createElement(m.A,{label:A("HideReadTime"),checked:t,onCheck:y}),s.Ay.createElement("p",{className:"settings-item-description-larger",dir:A.isRtl?"rtl":void 0},(0,i.A)(A("HideReadTimeInfo"),["br"]))),s.Ay.createElement("div",{className:"settings-item"},s.Ay.createElement(u.A,{leftElement:s.Ay.createElement(d.A,{className:"icon ListItem-main-icon",type:"premium",size:"big"}),onClick:p},A(e?"PrivacyLastSeenPremiumForPremium":"PrivacyLastSeenPremium")),s.Ay.createElement("p",{className:"settings-item-description-larger premium-info",dir:A.isRtl?"rtl":void 0},A(e?"PrivacyLastSeenPremiumInfoForPremium":"PrivacyLastSeenPremiumInfo"))))},y=(0,s.ph)((0,o.EK)(e=>({isCurrentUserPremium:(0,r.g29)(e),shouldHideReadMarks:Boolean((0,r.KIM)(e))}))(h));n()}catch(e){n(e)}})},21131:(e,t,a)=>{a.d(t,{A:()=>n});const n={modalContent:"EG5lPWY1",root:"_fJBBCCE",main:"heYMHiUt",footer:"_jtqAaUU"}},21454:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.d(t,{A:()=>y});var s=a(84051),o=a(71322),r=a(4961),i=a(17712),l=a(54746),c=a(22720),d=a(40210),m=e([c]),u=m.then?(await m)():m;c=u[0];const A=["#F2862D","#EB7B4D","#E46D72","#DD6091","#CC5FBA","#B464E7","#9873FF","#768DFF","#55A5FC","#52B0C9","#4FBC93","#4CC663"].map(o.E2),h=({icon:e,isFontIcon:t,title:a,text:n,index:m,count:u,section:h,onClick:y})=>{const p=m/u*A.length,v=A[Math.floor(p)],g=A[Math.ceil(p)]??v,{r:E,g:b,b:f}=(0,o.dD)(v,g,.5),C=(0,i.A)(()=>{y?.(h)});return s.Ay.createElement(c.A,{buttonClassName:d.A.root,onClick:C,inactive:!y},t?s.Ay.createElement(l.A,{name:e,className:d.A.fontIcon,style:`--item-color: rgb(${E},${b},${f})`}):s.Ay.createElement("img",{src:e,className:d.A.icon,alt:"",style:`--item-color: rgb(${E},${b},${f})`,draggable:!1}),s.Ay.createElement("div",{className:d.A.text},s.Ay.createElement("div",{className:d.A.title},(0,r.A)(a,["br"])),s.Ay.createElement("div",{className:d.A.description},n)))},y=(0,s.ph)(h);n()}catch(e){n(e)}})},21576:(e,t,a)=>{a.d(t,{A:()=>r,o:()=>o});var n=a(90709),s=a(60919);function o({message:e,avatarOwner:t,profilePhotos:a,standaloneMedia:n,mediaIndex:s,sponsoredMessage:o}){return t&&a?{type:"avatar",avatarOwner:t,profilePhotos:a,mediaIndex:s}:n?{type:"standalone",media:n,mediaIndex:s}:e?{type:"message",message:e,mediaIndex:s}:o?{type:"sponsoredMessage",message:o,mediaIndex:s}:void 0}function r(e,t){if(!t)return;if("standalone"===t.type)return{media:t.media[t.mediaIndex],isSingle:1===t.media.length};if("avatar"===t.type){const e=t.profilePhotos?.photos[t.mediaIndex];return e?{media:e}:void 0}const{action:a,document:o,photo:r,video:i,paidMedia:l}=(0,n.r_)(t.message);if("chatEditPhoto"===a?.type||"suggestProfilePhoto"===a?.type)return{media:a.photo,isSingle:!0};if(o&&((0,n.Ml)(o)||(0,n.hr)(o)))return{media:o};const c=(0,s.Pn$)(e,t.message);if("full"===c?.webpageType){const{photo:e,video:t,document:a}=c,s=a&&((0,n.Ml)(a)||(0,n.hr)(a)),o=t||(s?a:void 0)||e;if(o)return{media:o,isSingle:!0}}if(l){const e=l.extendedMedia[t.mediaIndex||0];if(!("mediaType"in e)){const{photo:t,video:a}=e;return{media:t||a}}}const d=i||r;return d?{media:d,isSingle:i?.isGif}:void 0}},21703:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.d(t,{A:()=>w});var s=a(84051),o=a(66644),r=a(11778),i=a(80539),l=a(17712),c=a(59030),d=a(54746),m=a(64493),u=a(19806),A=a(40664),h=a(8410),y=a(1087),p=a(94079),v=e([c,m,u,A,h,y,p]);[c,m,u,A,h,y,p]=v.then?(await v)():v;const g=320,E=12,b=100,f=255,C=200,S=({isOpen:e,isQuiz:t,shouldBeAnonymous:a,maxOptionsCount:n=E,onSend:v,onClear:S})=>{const w=(0,s.li)(),k=(0,s.li)(),[N,I]=(0,s.J0)(""),[P,M]=(0,s.J0)([""]),[T,B]=(0,s.J0)(!0),[x,L]=(0,s.J0)(!1),[R,F]=(0,s.J0)(t||!1),[D,V]=(0,s.J0)(""),[_,U]=(0,s.J0)(),[O,J]=(0,s.J0)(!1),K=(0,c.A)(),G=(0,l.A)(e=>{V(e.target.value)}),j=(0,l.A)(t=>{e&&t.current&&t.current.focus()});(0,s.vJ)(()=>e?(0,r.A)(S):void 0,[e,S]),(0,s.vJ)(()=>{e||(I(""),M([""]),B(!0),L(!1),F(t||!1),V(""),U(void 0),J(!1))},[t,e]),(0,s.vJ)(()=>j(w),[j,e]);const z=(0,l.A)((e=[])=>{M([...e,""]),(0,o.Uz)(()=>{const e=k.current;e&&(0,o.YS)(()=>{e.scrollTo({top:e.scrollHeight,behavior:"smooth"})})})}),H=(0,l.A)(()=>{if(J(!1),!e)return;const t=R&&(void 0===_||!P[_].trim()),a=P.map((e,t)=>{if(e=e.trim())return{text:{text:e},option:String(t),...t===_&&{correct:!0}}}).filter(Boolean),n=N.trim().substring(0,f);if(!n||a.length<2){if(I(n),a.length){const e=P.map(e=>e.trim().substring(0,b)).filter(Boolean);e.length<2?z(e):M(e)}else z();return void J(!0)}if(t)return void J(!0);const s={summary:{question:{text:n},answers:a,...!T&&{isPublic:!0},...x&&{multipleChoice:!0},...R&&{quiz:!0}}};if(R){const{text:e,entities:t}=D&&(0,i.Ay)(D.substring(0,C))||{};s.quiz={correctAnswers:[String(_)],...e&&{solution:e},...t&&{solutionEntities:t}}}v(s)}),$=(0,l.A)((e,t)=>{const a=[...P];a[e]=t,a[a.length-1].trim().length&&a.length<n?z(a):M(a)}),q=(0,l.A)(e=>{const t=[...P];t.splice(e,1),M(t),void 0!==_&&(_===e?U(void 0):e<_&&U(_-1)),(0,o.Uz)(()=>{k.current&&k.current.classList.toggle("overflown",k.current.scrollHeight>g)})}),W=(0,l.A)(e=>{U(Number(e))}),Y=(0,l.A)(e=>{B(e.target.checked)}),Q=(0,l.A)(e=>{L(e.target.checked)}),Z=(0,l.A)(e=>{F(e.target.checked)}),X=(0,l.A)(e=>{13===e.keyCode&&H()}),ee=(0,l.A)(e=>{I(e.target.value)}),te=(0,l.A)(()=>{if(O&&!N.trim().length)return K("lng_polls_choose_question")}),ae=(0,l.A)(e=>{const t=P.map(e=>e.trim()).filter(e=>e.length);if(O&&t.length<2&&!P[e].trim().length)return K("lng_polls_choose_answers")});function ne(){return P.map((e,t)=>s.Ay.createElement("div",{className:"option-wrapper"},s.Ay.createElement(A.A,{maxLength:b,label:t!==P.length-1||P.length===n?K("OptionHint"):K("CreatePoll.AddOption"),error:ae(t),value:e,onChange:e=>$(t,e.currentTarget.value),onKeyPress:X}),t!==P.length-1&&s.Ay.createElement(m.A,{className:"option-remove-button",round:!0,color:"translucent",size:"smaller",ariaLabel:K("Delete"),onClick:()=>q(t)},s.Ay.createElement(d.A,{name:"close"}))))}return s.Ay.createElement(h.A,{isOpen:e,onClose:S,header:s.Ay.createElement("div",{className:"modal-header-condensed"},s.Ay.createElement(m.A,{round:!0,color:"translucent",size:"smaller",ariaLabel:"Cancel poll creation",onClick:S},s.Ay.createElement(d.A,{name:"close"})),s.Ay.createElement("div",{className:"modal-title"},K("NewPoll")),s.Ay.createElement(m.A,{color:"primary",size:"smaller",className:"modal-action-button",onClick:H},K("Create"))),className:"PollModal"},s.Ay.createElement(A.A,{ref:w,label:K("AskAQuestion"),value:N,error:te(),onChange:ee,onKeyPress:X}),s.Ay.createElement("div",{className:"options-divider"}),s.Ay.createElement("div",{className:"options-list custom-scroll",ref:k},s.Ay.createElement("h3",{className:"options-header"},K("PollOptions")),O&&function(){const e=P.map(e=>e.trim()).filter(e=>e.length);return R&&(void 0===_||!e[_])&&s.Ay.createElement("p",{className:"poll-error"},K("lng_polls_choose_correct"))}(),R?s.Ay.createElement(y.A,{name:"correctOption",options:ne().map((e,t)=>({value:String(t),label:e,hidden:!P[t].trim()})),selected:String(_),onChange:W}):ne()),s.Ay.createElement("div",{className:"options-divider"}),s.Ay.createElement("div",{className:"quiz-mode"},s.Ay.createElement("div",{className:"dialog-checkbox-group"},!a&&s.Ay.createElement(u.A,{label:K("PollAnonymous"),checked:T,onChange:Y}),s.Ay.createElement(u.A,{label:K("PollMultiple"),checked:x,disabled:R,onChange:Q}),s.Ay.createElement(u.A,{label:K("PollQuiz"),checked:R,disabled:x||void 0!==t,onChange:Z})),R&&s.Ay.createElement(s.Ay.Fragment,null,s.Ay.createElement("h3",{className:"options-header"},K("lng_polls_solution_title")),s.Ay.createElement(p.A,{value:D,onChange:G,noReplaceNewlines:!0}),s.Ay.createElement("div",{className:"note"},K("CreatePoll.ExplanationInfo")))))},w=(0,s.ph)(S);n()}catch(e){n(e)}})},21866:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.d(t,{A:()=>d});var s=a(84051),o=a(59030),r=a(54746),i=a(64493),l=e([o,i]);[o,i]=l.then?(await l)():l;const c=({onReset:e,showAddButton:t,onShowAddModal:a})=>{const n=(0,o.A)(),l=(0,s.hb)(()=>{a("add")},[a]);return s.Ay.createElement("div",{className:"left-header"},s.Ay.createElement(i.A,{round:!0,size:"smaller",color:"translucent",onClick:e,ariaLabel:n("AccDescrGoBack")},s.Ay.createElement(r.A,{name:"arrow-left"})),s.Ay.createElement("h3",null,n("Quick Replies")),t&&s.Ay.createElement(i.A,{round:!0,color:"translucent",className:"!bg-[#8C42F0] flex flex-row items-center gap-[8px] !w-[92px] !h-[30px] !p-0 !rounded-[21px] !text-[14px]",onClick:l},s.Ay.createElement(r.A,{className:"text-white text-[14px]",name:"add"}),s.Ay.createElement("span",{className:"text-white"},"Add")))},d=(0,s.ph)(c);n()}catch(e){n(e)}})},22109:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.d(t,{A:()=>S});var s=a(84051),o=a(66644),r=a(87357),i=a(79824),l=a(96374),c=a(17712),d=a(59030),m=a(19806),u=a(46222),A=a(40664),h=a(52745),y=a(24956),p=a(54746),v=a(66273),g=a(31722),E=e([d,m,A,y,v]);[d,m,A,y,v]=E.then?(await E)():E;const b=500,f="ItemPickerItem",C=({className:e,isSearchable:t,searchInputId:a,items:n,filterValue:E,notFoundText:C,isLoading:S,noScrollRestore:w,filterPlaceholder:k,isViewOnly:N,itemInputType:I,itemClassName:P,withDefaultPadding:M,forceRenderAllItems:T,onFilterChange:B,onDisabledClick:x,onLoadMore:L,...R})=>{const F=(0,d.A)(),D=(0,s.li)(),V=R.allowMultiple,_=V?R.lockedSelectedValues:void 0,U=V?R.lockedUnselectedValues:void 0;(0,s.vJ)(()=>{if(!t)return;const e=window.setTimeout(()=>{(0,o.YS)(()=>{D.current?.focus()})},b);return()=>{window.clearTimeout(e)}},[t]);const O=(0,s.Kr)(()=>V?R.selectedValues:R.selectedValue?[R.selectedValue]:i.p,[V,R.selectedValue,R.selectedValues]),J=(0,s.Kr)(()=>new Set(_),[_]),K=(0,s.Kr)(()=>new Set(U),[U]),G=(0,s.Kr)(()=>{if(E)return n.map(e=>e.value);const e=[],t=[],a=[];return n.forEach(n=>{J.has(n.value)?e.push(n):K.has(n.value)?a.push(n):t.push(n)}),e.concat(t,a).map(e=>e.value)},[E,n,J,K]),j=(0,c.A)(e=>{if(V){const t=O.slice(),a=t.indexOf(e);return a>=0?t.splice(a,1):t.push(e),void R.onSelectedValuesChange?.(t)}R.onSelectedValueChange?.(e)}),[z,H]=(0,l.A)(L,G,Boolean(T||E)),$=(0,c.A)(e=>{const{value:t}=e.currentTarget;B?.(t)}),q=(0,s.hb)(e=>{const t=n.find(t=>t.value===e);if(!t)return;const{label:a,subLabel:o,isLoading:i}=t,l=K.has(e),c=J.has(e),d=l||c,u=O.includes(e);return s.Ay.createElement(v.A,{key:e,className:(0,r.A)(f,P),title:a,subtitle:o,disabled:d,inactive:N,ripple:!0,inputElement:d?s.Ay.createElement(p.A,{name:"lock-badge"}):"radio"===I?s.Ay.createElement(y.A,{checked:u,disabled:d,isLoading:i,onlyInput:!0}):"checkbox"===I?s.Ay.createElement(m.A,{checked:u,disabled:d,isLoading:i,onlyInput:!0}):void 0,onClick:()=>j(e),onDisabledClick:x&&(()=>x(e,c))})},[n,K,J,O,N,x,I,P]);return s.Ay.createElement("div",{className:(0,r.A)(g.A.container,e)},t&&s.Ay.createElement("div",{className:(0,r.A)(g.A.header,"custom-scroll"),dir:F.isRtl?"rtl":void 0},s.Ay.createElement(A.A,{id:a,ref:D,value:E,onChange:$,placeholder:k||F("Search")})),z?.length?s.Ay.createElement(u.A,{className:(0,r.A)(g.A.pickerList,M&&g.A.padded,"custom-scroll"),items:z,itemSelector:`.${f}`,onLoadMore:H,noScrollRestore:w},z.map(e=>q(e))):S||!z||z.length?s.Ay.createElement(h.A,null):s.Ay.createElement("p",{className:g.A.noResults},C||F("SearchEmptyViewTitle")))},S=(0,s.ph)(C);n()}catch(e){n(e)}})},22496:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.d(t,{A:()=>S});var s=a(84051),o=a(13439),r=a(66644),i=a(87357),l=a(58443),c=a(17712),d=a(59030),m=a(64489),u=a(54746),A=a(64493),h=a(22720),y=a(8410),p=a(94079),v=a(41036),g=a(20662),E=e([d,A,h,y,p]);[d,A,h,y,p]=E.then?(await E)():E;const b=512,f=20,C=({modal:e})=>{const{reportMessages:t,reportStory:a,closeReportModal:n,openPreviousReportModal:E}=(0,o.ko)(),C=(0,d.A)(),S=Boolean(e),w=(0,s.li)(),[k,N]=(0,s.J0)(""),I=(0,c.A)((n,s)=>{const{messageIds:o,subject:r,peerId:i,chatId:l}=e;if(o)switch(r){case"message":t({chatId:l,messageIds:o,option:s});break;case"story":a({storyId:o[0],peerId:i,option:s})}}),[P,M]=(0,s.Kr)(()=>{if(!e)return[void 0,0];const t=e.sections.length-1;return[e?.sections[t],t]},[e]),T=(0,c.A)(()=>{E()}),B=(0,c.A)(()=>{n()}),x=(0,s.Kr)(()=>{if(!e)return;const t=Boolean(P?.subtitle);return s.Ay.createElement("div",{className:"modal-header-condensed"},M?s.Ay.createElement(A.A,{round:!0,color:"translucent",size:"smaller",ariaLabel:C("Back"),onClick:T},s.Ay.createElement(u.A,{name:"arrow-left"})):s.Ay.createElement(A.A,{round:!0,color:"translucent",size:"smaller",ariaLabel:C("Close"),onClick:B},s.Ay.createElement(u.A,{name:"close"})),s.Ay.createElement("div",{className:(0,i.A)("modal-title",g.A.modalTitle,t&&g.A.titleMultiline)},s.Ay.createElement("h3",{className:(0,i.A)(g.A.title,M&&g.A.hasDepth)},P?.options?C("story"===e?.subject?"ReportStory":"Report"):P?.title),t&&s.Ay.createElement("span",{className:g.A.subtitle},P.subtitle)))},[C,e,M,P?.options,P?.subtitle,P?.title]),L=(0,c.A)(e=>{N(e.target.value)});(0,s.vJ)(()=>{if(!e)return;const t=document.querySelector(`.${v.uo} > .${g.A.slide}`);if(!t)return;const a=t.scrollHeight;(0,r.RK)(()=>{w.current.style.height=`${a}px`})},[e]);const R=(0,c.A)(()=>{const e=document.querySelector(`.${v.VY} > .${g.A.slide}`);(0,r.YS)(()=>{const t=e.scrollHeight;(0,r.RK)(()=>{w.current.style.height=`${t+f}px`})})}),F=(0,c.A)(()=>{N(""),n()}),D=(0,c.A)(()=>{const{messageIds:n,subject:s,peerId:o,chatId:r}=e;switch(s){case"message":t({chatId:r,messageIds:n,option:P?.option,description:k});break;case"story":a({storyId:n?.[0],peerId:o,option:P?.option,description:k})}F()});return s.Ay.createElement(y.A,{isOpen:S,header:x,onClose:F,contentClassName:g.A.content,className:(0,i.A)(g.A.root,"story"===e?.subject&&"component-theme-dark")},s.Ay.createElement(v.Ay,{name:"slide",className:g.A.transition,ref:w,activeKey:M,onStart:R},s.Ay.createElement("div",{className:g.A.slide},P?.options?s.Ay.createElement("h3",{className:g.A.sectionTitle},P?.title):void 0,P?.options?.map(e=>s.Ay.createElement(h.A,{narrow:!0,nonInteractive:!0,secondaryIcon:"next",className:g.A.option,buttonClassName:g.A.optionButton,clickArg:e.option,onClick:I},s.Ay.createElement("div",{className:g.A.optionText},e.text))),P?.option?s.Ay.createElement("div",{className:g.A.block},s.Ay.createElement(m.A,{tgsUrl:l.w.Report,size:100,className:g.A.reportIcon,nonInteractive:!0,forceAlways:!0,noLoop:!1}),s.Ay.createElement(p.A,{id:"option",className:g.A.optionInfo,label:P.isOptional?C("Report2CommentOptional"):C("Report2Comment"),onChange:L,value:k,maxLength:b,maxLengthIndicator:(b-k.length).toString(),noReplaceNewlines:!0}),s.Ay.createElement(A.A,{size:"smaller",onClick:D,disabled:P.isOptional?void 0:!k.length},C("ReportSend"))):void 0)))},S=(0,s.ph)(C);n()}catch(e){n(e)}})},22602:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.d(t,{A:()=>I});var s=a(84051),o=a(57446),r=a(87357),i=a(73728),l=a(54936),c=a(82117),d=a(36838),m=a(5912),u=a(17712),A=a(23565),h=a(50680),y=a(56676),p=a(52745),v=a(48772),g=a(17979),E=e([v]),b=E.then?(await E)():E;v=b[0];const f=8,C=44,S=350;function w(e,t){const a=t.current;if(!a)return;const{visibleIndexes:n,allElements:s}=(0,i.A)(a,".EmojiButton",f,!0,!0,!0);if(!s.length||!s[e])return;const r=n[0];if(!n.includes(e)||e===r&&!(0,l.A)(a,s[r],!0)){const t="start"==(e>n[n.length-1]?"start":"end")?e*C:0;(0,o.A)(a,t)}}const k=200,N=({isOpen:e,emojis:t,customEmojis:a,onClose:n,onEmojiSelect:o,onCustomEmojiSelect:i,addRecentEmoji:l,addRecentCustomEmoji:E})=>{const b=(0,s.li)(),{shouldRender:f,transitionClassNames:C}=(0,h.A)(e,void 0,void 0,!1),N=(0,A.A)(t.length?[...a,...t]:void 0,S)||[];(0,d.A)(b);const{observe:I}=(0,m.BL)({rootRef:b,throttleMs:k,isDisabled:!e}),P=(0,u.A)(e=>{o(e.native),l({emoji:e.id})}),M=(0,u.A)(e=>{i(e),E({documentId:e.id})}),T=(0,u.A)(e=>{"native"in e?P(e):M(e)}),B=(0,u.A)((e,t)=>{o(e),l({emoji:t})}),x=(0,u.A)(e=>{i(e),E({documentId:e.id})}),L=(0,y.J)({isActive:e,isHorizontal:!0,items:N,shouldRemoveSelectionOnReset:!0,onSelect:T,onClose:n});(0,c.A)(([e])=>{void 0!==e&&-1!==e&&w(L,b)},[L]);const R=(0,r.A)("EmojiTooltip composer-tooltip custom-scroll-x",C);return s.Ay.createElement("div",{ref:b,className:R},f&&N?N.map((e,t)=>"native"in e?s.Ay.createElement(g.A,{key:e.id,emoji:e,focus:L===t,onClick:B}):s.Ay.createElement(v.A,{key:e.id,emoji:e,focus:L===t,onClick:x,observeIntersection:I})):f?s.Ay.createElement(p.A,null):void 0)},I=(0,s.ph)(N);n()}catch(P){n(P)}})},23061:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.d(t,{A:()=>y});var s=a(84051),o=a(13439),r=a(87357),i=a(14),l=a(39351),c=a(17712),d=a(8410),m=a(15535),u=a(43971),A=e([l,d,m]);[l,d,m]=A.then?(await A)():A;const h=({modal:e,passwordHint:t})=>{const{closeMonetizationVerificationModal:a,clearMonetizationVerificationError:n,processMonetizationRevenueWithdrawalUrl:A}=(0,o.ko)(),h=Boolean(e),y=(0,i.A)(e),p=(0,l.A)(),[v,g]=(0,s.J0)(!1),E=(0,c.A)(e=>{y&&A({peerId:y.chatId,currentPassword:e})}),b=(0,c.A)(()=>{n()}),f=(0,c.A)(()=>{a()});return s.Ay.createElement(d.A,{isOpen:h,hasCloseButton:!0,title:p("CheckPasswordTitle"),className:u.A.root,contentClassName:u.A.content,onClose:f},s.Ay.createElement("div",{className:(0,r.A)(u.A.content,"settings-content password-form custom-scroll")},s.Ay.createElement("div",{className:"settings-item pt-0"},s.Ay.createElement(m.A,{shouldShowSubmit:!0,placeholder:p("CheckPasswordPlaceholder"),error:y?.errorKey&&p.withRegular(y.errorKey),description:p("CheckPasswordDescription"),clearError:b,isLoading:y?.isLoading,hint:t,isPasswordVisible:v,shouldResetValue:h,onChangePasswordVisibility:g,onSubmit:E}))))},y=(0,s.ph)((0,o.EK)(e=>{const{twoFaSettings:{hint:t}}=e;return{passwordHint:t}})(h));n()}catch(e){n(e)}})},23066:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.d(t,{A:()=>P});var s=a(84051),o=a(13439),r=a(89925),i=a(60919),l=a(87357),c=a(37661),d=a(26072),m=a(39351),u=a(59030),A=a(84292),h=a(54746),y=a(17751),p=a(15232),v=a(94189),g=a(12933),E=a(22720),b=a(57474),f=e([m,u,y,p,v,g,E]);[m,u,y,p,v,g,E]=f.then?(await f)():f;const C=48,S=1,w=2,k=96,N=9,I=({chat:e,selectedChatMemberId:t,hasFullInfo:a,members:n,onScreenSelect:i,isFormFullyDisabled:f,onClose:I,isActive:P})=>{const{updateChatMemberBannedRights:M}=(0,o.ko)(),T=(0,s.Kr)(()=>{if(n)return n.find(({userId:e})=>e===t)},[n,t]),{permissions:B,havePermissionChanged:x,isLoading:L,handlePermissionChange:R,setIsLoading:F}=(0,A.A)(T?.bannedRights||e?.defaultBannedRights),[D,V,_]=(0,c.A)(),U=(0,m.A)(),O=(0,u.A)();(0,d.A)({isActive:P,onBack:I}),(0,s.vJ)(()=>{a&&t&&!T&&i(r.je.GroupPermissions)},[e,a,i,T,t]);const J=(0,s.hb)(()=>{e&&t&&(F(!0),M({chatId:e.id,userId:t,bannedRights:B}))},[e,t,F,M,B]),K=(0,s.hb)(()=>{e&&t&&M({chatId:e.id,userId:t,bannedRights:{viewMessages:!0}})},[e,t,M]),G=(0,s.hb)(t=>!!f||!(!e||!e.defaultBannedRights)&&e.defaultBannedRights[t],[e,f]),[j,z]=(0,s.J0)(!1);if(T)return s.Ay.createElement("div",{className:"Management with-shifted-dropdown",style:`--shift-height: ${N*C-S}px;--before-shift-height: ${w*C+k}px;`},s.Ay.createElement("div",{className:"custom-scroll"},s.Ay.createElement("div",{className:"section without-bottom-shadow"},s.Ay.createElement(E.A,{inactive:!0,className:"chat-item-clickable"},s.Ay.createElement(y.A,{userId:T.userId,forceShowSelf:!0})),s.Ay.createElement("h3",{className:"section-heading mt-4",dir:"auto"},O("UserRestrictionsCanDo")),s.Ay.createElement(p.A,{chatId:e?.id,isMediaDropdownOpen:j,setIsMediaDropdownOpen:z,handlePermissionChange:R,permissions:B,className:(0,l.A)("DropdownList",j&&"DropdownList--open"),dropdownClassName:"DropdownListTrap",shiftedClassName:(0,l.A)("part",j&&"shifted"),getControlIsDisabled:G})),!f&&s.Ay.createElement("div",{className:(0,l.A)("section",j&&"shifted")},s.Ay.createElement(E.A,{icon:"delete-user",ripple:!0,destructive:!0,onClick:V},O("UserRestrictionsBlock")))),s.Ay.createElement(g.A,{isShown:x,onClick:J,ariaLabel:O("Save"),disabled:L},L?s.Ay.createElement(b.A,{color:"white"}):s.Ay.createElement(h.A,{name:"check"})),s.Ay.createElement(v.A,{isOpen:D,onClose:_,text:U("GroupManagementBanUserConfirm"),confirmLabel:"Remove",confirmHandler:K,confirmIsDestructive:!0}))},P=(0,s.ph)((0,o.EK)((e,{chatId:t,isPromotedByCurrentUser:a})=>{const n=(0,i.hds)(e,t),s=(0,i.AWZ)(e,t);return{chat:n,isFormFullyDisabled:!(n.isCreator||a),hasFullInfo:Boolean(s),members:s?.members}},(e,{chatId:t})=>Boolean((0,i.hds)(e,t)))(I));n()}catch(e){n(e)}})},23157:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.d(t,{A:()=>y});var s=a(84051),o=a(13439),r=a(96454),i=a(47526),l=a(17712),c=a(59030),d=a(64493),m=a(8410),u=a(17317),A=e([c,d,m]);[c,d,m]=A.then?(await A)():A;const h=({modal:e})=>{const{closeMapModal:t}=(0,o.ko)(),{point:a,zoom:n}=e||{},A=(0,c.A)(),h=Boolean(a),y=(0,l.A)(()=>{t()}),[p,v,g,E]=(0,s.Kr)(()=>{if(!a)return[];const e=(0,i.zS)("google",a,n),t=(0,i.zS)("bing",a,n),s=(0,i.zS)("osm",a,n);return[e,t,(0,i.zS)("apple",a,n),s]},[a,n]),b=(0,l.A)(e=>{t(),window.open(e,"_blank","noopener")}),f=(0,l.A)(()=>{b(p)}),C=(0,l.A)(()=>{b(v)}),S=(0,l.A)(()=>{b(g)}),w=(0,l.A)(()=>{b(E)});return s.Ay.createElement(m.A,{contentClassName:u.A.root,title:A("OpenMapWith"),isOpen:h,onClose:y,isSlim:!0},s.Ay.createElement("div",{className:u.A.buttons},(r.pz||r.MP)&&s.Ay.createElement(d.A,{fluid:!0,size:"smaller",onClick:S},"Apple Maps"),s.Ay.createElement(d.A,{fluid:!0,size:"smaller",onClick:f},"Google Maps"),s.Ay.createElement(d.A,{fluid:!0,size:"smaller",onClick:C},"Bing Maps"),s.Ay.createElement(d.A,{fluid:!0,size:"smaller",onClick:w},"OpenStreetMap")),s.Ay.createElement("div",{className:"dialog-buttons mt-2"},s.Ay.createElement(d.A,{className:"confirm-dialog-button",isText:!0,onClick:y},A("Cancel"))))},y=(0,s.ph)(h);n()}catch(e){n(e)}})},23461:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.d(t,{A:()=>p});var s=a(84051),o=a(23789),r=a(86629),i=a(66915),l=a(59030),c=a(40664),d=a(48922),m=a(2918),u=a(50045),A=e([l,c]);[l,c]=A.then?(await A)():A;const h=19,y=({value:e,error:t,onChange:a})=>{const n=(0,l.A)(),d=(0,s.li)();(0,i.A)(d);const[m,u]=(0,s.J0)(o.bU.Default);(0,s.vJ)(()=>{const t=(0,o.El)(e);u(t)},[]);const A=(0,s.hb)(e=>{const t=(0,r.j)(e.target.value),n=(0,o.El)(e.target.value);u(n),a(t)},[a]),y=v(m);return s.Ay.createElement("div",{className:"CardInput"},s.Ay.createElement(c.A,{ref:d,label:n("PaymentCardNumber"),onChange:A,value:e,inputMode:"numeric",className:m?"has-right-addon":"",error:t,tabIndex:0,maxLength:h,teactExperimentControlled:!0}),s.Ay.createElement("span",{className:"right-addon"},y))},p=(0,s.ph)(y);function v(e){switch(e){case o.bU.Mastercard:return s.Ay.createElement("img",{src:d,draggable:!1,alt:""});case o.bU.Visa:return s.Ay.createElement("img",{src:u,draggable:!1,alt:""});case o.bU.Mir:return s.Ay.createElement("img",{src:m,draggable:!1,alt:""});default:return}}n()}catch(g){n(g)}})},23789:(e,t,a)=>{a.d(t,{D8:()=>d,El:()=>c,bU:()=>i});const n=/^4\d/,s=/^5[1-5]/,o=/^2[2-7]\d{2}/,r=/^220[0-4]/;let i=function(e){return e[e.Default=0]="Default",e[e.Visa=1]="Visa",e[e.Mastercard=2]="Mastercard",e[e.Mir=3]="Mir",e}({});const l={[i.Default]:"",[i.Visa]:"visa",[i.Mastercard]:"mastercard",[i.Mir]:"mir"};function c(e){return e=e.replace(/\s/g,""),n.test(e)?i.Visa:r.test(e)?i.Mir:s.test(e)||o.test(e)?i.Mastercard:i.Default}function d(e){const t=c(e);return l[t]||""}},24201:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.d(t,{A:()=>P});var s=a(84051),o=a(13439),r=a(90709),i=a(60919),l=a(87357),c=a(17663),d=a(80140),m=a(55317),u=a(4961),A=a(37661),h=a(39351),y=a(17712),p=a(59030),v=a(21849),g=a(54746),E=a(74066),b=a(64493),f=a(94189),C=a(52745),S=a(8410),w=a(58313),k=e([h,p,v,E,b,f,S]);[h,p,v,E,b,f,S]=k.then?(await k)():k;const N=({modal:e,chat:t,chatFullInfo:a,prevBoostedChat:n,isCurrentUserPremium:i})=>{const{applyBoost:k,closeBoostModal:N,requestConfetti:P,openPremiumModal:M,loadFullChat:T}=(0,o.ko)(),[B,x,L]=(0,A.A)(),[R,F,D]=(0,A.A)(),[V,_,U]=(0,A.A)(),O=t&&(0,r.WX)(t),J=Boolean(e),K=(0,p.A)(),G=(0,h.A)();(0,s.vJ)(()=>{t&&!a&&T({chatId:t.id})},[t,a]);const j=(0,s.Kr)(()=>{if(t)return(0,r.Js)(K,t)},[t,K]),z=(0,s.Kr)(()=>{if(n)return(0,r.Js)(K,n)},[n,K]),{isStatusLoaded:H,isBoosted:$,boost:q,title:W,leftText:Y,rightText:Q,value:Z,progress:X,descriptionText:ee,canBoostMore:te}=(0,s.Kr)(()=>{if(!e?.boostStatus||!t)return{isStatusLoaded:!1,title:K("Loading")};const{hasMyBoost:n}=e.boostStatus,s=e?.myBoosts&&I(e.myBoosts,t.id),o=e?.myBoosts&&(i=e.myBoosts,l=t.id,!i.every(e=>e.chatId===l));var i,l;const{boosts:c,currentLevel:d,hasNextLevel:u,levelProgress:A,remainingBoosts:h,isMaxLevel:y}=(0,m.z)(e.boostStatus,!0),p=n,v=K("BoostsLevel",d),g=u?K("BoostsLevel",d+1):void 0,E=K("ChannelBoost.MoreBoosts",h),b=K(O?"BoostChannel":"BoostGroup"),f=(a?.boostsToUnrestrict||0)-(a?.boostsApplied||0);let C;if(y)C=K("BoostsMaxLevelReached");else if(f>0&&!(0,r.SJ)(t)){const e=K("GroupBoost.BoostToUnrestrict.Times",f);C=K("GroupBoost.BoostToUnrestrict",[e,j])}else C=K("ChannelBoost.MoreBoostsNeeded.Text",[j,E]);return{isStatusLoaded:!0,title:b,leftText:v,rightText:g,value:c.toString(),progress:A,remainingBoosts:h,descriptionText:C,boost:s,isBoosted:p,canBoostMore:o&&!y}},[t,j,e,K,a,O]),ae=!e?.myBoosts?.length&&i,ne=q?.chatId&&q.chatId!==e?.chatId,se=(0,y.A)(()=>{L(),k({chatId:t.id,slots:[q.slot]}),P({})}),oe=(0,y.A)(()=>{M(),U(),N()}),re=(0,y.A)(()=>{if(!q)return i?void N():void _();te?q.cooldownUntil?F():ne?x():se():N()}),ie=(0,y.A)(()=>{N()});return s.Ay.createElement(S.A,{isOpen:J,title:W,className:w.A.modal,contentClassName:w.A.content,onClose:N},H?s.Ay.createElement(s.Ay.Fragment,null,s.Ay.createElement(E.A,{leftText:Y,rightText:Q,progress:X,floatingBadgeText:Z,floatingBadgeIcon:"boost"}),$&&s.Ay.createElement("div",{className:(0,l.A)(w.A.description,w.A.bold)},K("ChannelBoost.YouBoostedChannelText",j)),s.Ay.createElement("div",{className:w.A.description},(0,u.A)(ee,["simple_markdown","emoji"])),s.Ay.createElement("div",{className:"dialog-buttons"},s.Ay.createElement(b.A,{isText:!0,className:"confirm-dialog-button",disabled:ae,onClick:re},te?s.Ay.createElement(s.Ay.Fragment,null,s.Ay.createElement(g.A,{name:"boost"}),K(O?"ChannelBoost.BoostChannel":"GroupBoost.BoostGroup")):K("OK")),s.Ay.createElement(b.A,{isText:!0,className:"confirm-dialog-button",onClick:ie},K("Cancel")))):s.Ay.createElement(C.A,{className:w.A.loading}),ne&&z&&s.Ay.createElement(S.A,{isOpen:B,className:w.A.replaceModal,contentClassName:w.A.replaceModalContent,onClose:L},s.Ay.createElement("div",{className:w.A.avatarContainer},s.Ay.createElement("div",{className:w.A.boostedWrapper},s.Ay.createElement(v.A,{peer:n,size:"large"}),s.Ay.createElement(g.A,{name:"boostcircle",className:w.A.boostedMark})),s.Ay.createElement(g.A,{name:"next",className:w.A.arrow}),s.Ay.createElement(v.A,{peer:t,size:"large"})),s.Ay.createElement("div",null,(0,u.A)(K("ChannelBoost.ReplaceBoost",[z,j]),["simple_markdown","emoji"])),s.Ay.createElement("div",{className:"dialog-buttons"},s.Ay.createElement(b.A,{isText:!0,className:"confirm-dialog-button",onClick:se},K("Replace")),s.Ay.createElement(b.A,{isText:!0,className:"confirm-dialog-button",onClick:L},K("Cancel")))),Boolean(q?.cooldownUntil)&&s.Ay.createElement(f.A,{isOpen:R,isOnlyConfirm:!0,confirmLabel:K("OK"),title:K("ChannelBoost.Error.BoostTooOftenTitle"),onClose:D,confirmHandler:D},(0,u.A)(K("ChannelBoost.Error.BoostTooOftenText",(0,c.A$)(G,q.cooldownUntil-(0,d.Fm)())),["simple_markdown","emoji"])),!i&&s.Ay.createElement(f.A,{isOpen:V,confirmLabel:K("Common.Yes"),title:K("PremiumNeeded"),onClose:U,confirmHandler:oe},(0,u.A)(K("PremiumNeededForBoosting"),["simple_markdown","emoji"])))};function I(e,t){return e.find(e=>!e.chatId)||e.filter(e=>t&&e.chatId!==t).sort((e,t)=>e.date-t.date)[0]}const P=(0,s.ph)((0,o.EK)((e,{modal:t})=>{const a=t&&(0,i.hds)(e,t?.chatId),n=a&&(0,i.AWZ)(e,a.id),s=t?.myBoosts&&I(t.myBoosts,t.chatId);return{chat:a,chatFullInfo:n,prevBoostedChat:s?.chatId?(0,i.hds)(e,s?.chatId):void 0,isCurrentUserPremium:(0,i.g29)(e)}})(N));n()}catch(M){n(M)}})},24405:(e,t,a)=>{a.d(t,{A:()=>n});const n={root:"AVrrYEbM",selected:"QkdO_lz1"}},24713:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.d(t,{A:()=>S});var s=a(84051),o=a(13439),r=a(89925),i=a(90709),l=a(60919),c=a(37661),d=a(26072),m=a(59030),u=a(54746),A=a(17751),h=a(19806),y=a(94189),p=a(12933),v=a(40664),g=a(22720),E=a(57474),b=e([m,A,h,y,p,v,g]);[m,A,h,y,p,v,g]=b.then?(await b)():b;const f=16,C=({isActive:e,isNewAdmin:t,selectedUserId:a,defaultRights:n,chat:l,usersById:b,currentUserId:C,adminMembersById:S,hasFullInfo:w,isChannel:k,isForum:N,isFormFullyDisabled:I,onClose:P,onScreenSelect:M})=>{const{updateChatAdmin:T}=(0,o.ko)(),[B,x]=(0,s.J0)({}),[L,R]=(0,s.J0)(Boolean(t)),[F,D]=(0,s.J0)(!1),[V,_,U]=(0,c.A)(),[O,J]=(0,s.J0)(""),K=(0,m.A)();(0,d.A)({isActive:e,onBack:P});const G=(0,s.Kr)(()=>{const e=a?S?.[a]:void 0;if(!t||!e&&a){if(t){const e=(0,o.mS)().users.byId[a];return e?{userId:e.id,adminRights:n,customTitle:K("ChannelAdmin"),isOwner:!1,promotedByUserId:void 0}:void 0}return e}},[S,n,t,K,a]);(0,s.vJ)(()=>{w&&a&&!G&&M(r.je.ChatAdministrators)},[l,w,M,G,a]),(0,s.vJ)(()=>{x(G?.adminRights||{}),J((G?.customTitle||"").substr(0,f)),R(Boolean(t)),D(!1)},[n,t,G]);const j=(0,s.hb)(e=>{const{name:t}=e.target;x(e=>{return{...e,[t]:(a=e[t],!a||void 0)};var a}),R(!0)},[]),z=(0,s.hb)(()=>{a&&(D(!0),T({chatId:l.id,userId:a,adminRights:B,customTitle:O}))},[a,T,l.id,B,O]),H=(0,s.hb)(()=>{a&&(T({chatId:l.id,userId:a,adminRights:{}}),U())},[l.id,U,a,T]),$=(0,s.hb)(e=>!((0,i.yn)(l)||!I&&l.adminRights&&(l.isCreator||l.adminRights[e])),[l,I]),q=(0,s.Kr)(()=>{if(t||!G)return;if(G.isOwner)return K("ChannelCreator");const e=G.promotedByUserId?b[G.promotedByUserId]:void 0;return e?K("EditAdminPromotedBy",(0,i.Yg)(e)):K("ChannelAdmin")},[t,G,b,K]),W=(0,s.hb)(e=>{const{value:t}=e.target;J(t),R(!0)},[]);if(G)return s.Ay.createElement("div",{className:"Management"},s.Ay.createElement("div",{className:"panel-content custom-scroll"},s.Ay.createElement("div",{className:"section"},s.Ay.createElement(g.A,{inactive:!0,className:"chat-item-clickable"},s.Ay.createElement(A.A,{userId:G.userId,status:q,forceShowSelf:!0})),s.Ay.createElement("h3",{className:"section-heading mt-4",dir:"auto"},K("EditAdminWhatCanDo")),s.Ay.createElement("div",{className:"ListItem"},s.Ay.createElement(h.A,{name:"changeInfo",checked:Boolean(B.changeInfo),label:K(k?"EditAdminChangeChannelInfo":"EditAdminChangeGroupInfo"),blocking:!0,disabled:$("changeInfo"),onChange:j})),k&&s.Ay.createElement("div",{className:"ListItem"},s.Ay.createElement(h.A,{name:"postMessages",checked:Boolean(B.postMessages),label:K("EditAdminPostMessages"),blocking:!0,disabled:$("postMessages"),onChange:j})),k&&s.Ay.createElement("div",{className:"ListItem"},s.Ay.createElement(h.A,{name:"editMessages",checked:Boolean(B.editMessages),label:K("EditAdminEditMessages"),blocking:!0,disabled:$("editMessages"),onChange:j})),s.Ay.createElement("div",{className:"ListItem"},s.Ay.createElement(h.A,{name:"deleteMessages",checked:Boolean(B.deleteMessages),label:K(k?"EditAdminDeleteMessages":"EditAdminGroupDeleteMessages"),blocking:!0,disabled:$("deleteMessages"),onChange:j})),s.Ay.createElement("div",{className:"ListItem"},s.Ay.createElement(h.A,{name:"postStories",checked:Boolean(B.postStories),label:K("EditAdminPostStories"),blocking:!0,disabled:$("postStories"),onChange:j})),s.Ay.createElement("div",{className:"ListItem"},s.Ay.createElement(h.A,{name:"editStories",checked:Boolean(B.editStories),label:K("EditAdminEditStories"),blocking:!0,disabled:$("editStories"),onChange:j})),s.Ay.createElement("div",{className:"ListItem"},s.Ay.createElement(h.A,{name:"deleteStories",checked:Boolean(B.deleteStories),label:K("EditAdminDeleteStories"),blocking:!0,disabled:$("deleteStories"),onChange:j})),!k&&s.Ay.createElement("div",{className:"ListItem"},s.Ay.createElement(h.A,{name:"banUsers",checked:Boolean(B.banUsers),label:K("EditAdminBanUsers"),blocking:!0,disabled:$("banUsers"),onChange:j})),s.Ay.createElement("div",{className:"ListItem"},s.Ay.createElement(h.A,{name:"inviteUsers",checked:Boolean(B.inviteUsers),label:K("EditAdminAddUsers"),blocking:!0,disabled:$("inviteUsers"),onChange:j})),!k&&s.Ay.createElement("div",{className:"ListItem"},s.Ay.createElement(h.A,{name:"pinMessages",checked:Boolean(B.pinMessages),label:K("EditAdminPinMessages"),blocking:!0,disabled:$("pinMessages"),onChange:j})),s.Ay.createElement("div",{className:"ListItem"},s.Ay.createElement(h.A,{name:"addAdmins",checked:Boolean(B.addAdmins),label:K("EditAdminAddAdmins"),blocking:!0,disabled:$("addAdmins"),onChange:j})),s.Ay.createElement("div",{className:"ListItem"},s.Ay.createElement(h.A,{name:"manageCall",checked:Boolean(B.manageCall),label:K("StartVoipChatPermission"),blocking:!0,disabled:$("manageCall"),onChange:j})),N&&s.Ay.createElement("div",{className:"ListItem"},s.Ay.createElement(h.A,{name:"manageTopics",checked:Boolean(B.manageTopics),label:K("ManageTopicsPermission"),blocking:!0,disabled:$("manageTopics"),onChange:j})),!k&&s.Ay.createElement("div",{className:"ListItem"},s.Ay.createElement(h.A,{name:"anonymous",checked:Boolean(B.anonymous),label:K("EditAdminSendAnonymously"),blocking:!0,disabled:$("anonymous"),onChange:j})),I&&s.Ay.createElement("p",{className:"section-info mb-4",dir:"auto"},K("Channel.EditAdmin.CannotEdit")),!k&&s.Ay.createElement(v.A,{id:"admin-title",label:K("EditAdminRank"),onChange:W,value:O,disabled:I,maxLength:f}),C!==a&&!I&&!t&&s.Ay.createElement(g.A,{icon:"delete",ripple:!0,destructive:!0,onClick:_},K("EditAdminRemoveAdmin")))),s.Ay.createElement(p.A,{isShown:L,onClick:z,ariaLabel:K("Save"),disabled:F},F?s.Ay.createElement(E.A,{color:"white"}):s.Ay.createElement(u.A,{name:"check"})),!t&&s.Ay.createElement(y.A,{isOpen:V,onClose:U,text:"Are you sure you want to dismiss this admin?",confirmLabel:K("Channel.Admin.Dismiss"),confirmHandler:H,confirmIsDestructive:!0}))},S=(0,s.ph)((0,o.EK)((e,{chatId:t,isPromotedByCurrentUser:a})=>{const n=(0,l.hds)(e,t),s=(0,l.AWZ)(e,t),{byId:o}=e.users,{currentUserId:r}=e,c=(0,i.WX)(n),d=!(n.isCreator||a);return{chat:n,usersById:o,currentUserId:r,isChannel:c,isForum:n.isForum,isFormFullyDisabled:d,defaultRights:n.adminRights,hasFullInfo:Boolean(s),adminMembersById:s?.adminMembersById}},(e,{chatId:t})=>Boolean((0,l.hds)(e,t)))(C));n()}catch(e){n(e)}})},24824:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.d(t,{A:()=>w});var s=a(84051),o=a(23174),r=a(31481),i=a(93578),l=a(87357),c=a(11778),d=a(65625),m=a(83868),u=a(58734),A=a(37661),h=a(17712),y=a(59030),p=a(50680),v=a(22802),g=a(54746),E=a(64493),b=e([u,y,E]);[u,y,E]=b.then?(await b)():b;const f={B:"bold",STRONG:"bold",I:"italic",EM:"italic",U:"underline",DEL:"strikethrough",CODE:"monospace",SPAN:"spoiler"},C=document.createElement("div"),S=({isOpen:e,anchorPosition:t,selectedRange:a,setSelectedRange:n,onClose:b})=>{const S=(0,s.li)(),w=(0,s.li)(),{shouldRender:k,transitionClassNames:N}=(0,p.A)(e),[I,P,M]=(0,A.A)(),[T,B]=(0,s.J0)(""),[x,L]=(0,s.J0)(!1),[R,F]=(0,s.J0)(),[D,V]=(0,s.J0)({});(0,s.vJ)(()=>e?(0,c.A)(b):void 0,[e,b]),(0,v.A)(e,S,b,!0),(0,s.vJ)(()=>{I?w.current.focus():(B(""),L(!1))},[I]),(0,s.vJ)(()=>{k||(M(),V({}),F(void 0))},[M,k]),(0,s.vJ)(()=>{if(!e||!a)return;const t={};let{parentElement:n}=a.commonAncestorContainer;for(;n&&n.id!==r.CfG;){const e=f[n.tagName];e&&(t[e]=!0),n=n.parentElement}V(t)},[e,a,P]);const _=(0,h.A)(()=>{if(!a)return;const e=window.getSelection();e&&(e.removeAllRanges(),e.addRange(a))}),U=(0,h.A)(()=>{const e=window.getSelection();e&&n(e.getRangeAt(0))}),O=(0,h.A)(e=>{if(a)return C.replaceChildren(a.cloneContents()),e&&C.querySelectorAll(u._p).forEach(e=>{e.replaceWith(e.getAttribute("alt"))}),C.innerHTML}),J=(0,h.A)(()=>{if(a)return a.commonAncestorContainer.parentElement});function K(){const e=w.current;if(!e)return;const{offsetWidth:t,scrollWidth:a,scrollLeft:n}=e;if(a<=t)return void F(void 0);let s="";n<a-t&&(s="mask-right"),n>0&&(s+=" mask-left"),F(s)}function G(e){if(D[e])return"active";if("monospace"===e||"strikethrough"===e){if(Object.keys(D).some(t=>t!==e&&Boolean(D[t])))return"disabled"}else if(D.monospace||D.strikethrough)return"disabled"}const j=(0,h.A)(()=>{if(D.spoiler){const e=J();if(!a||!e||e.dataset.entityType!==o.C7.Spoiler||!e.textContent)return;return e.replaceWith(e.textContent),void V(e=>({...e,spoiler:!1}))}const e=O();document.execCommand("insertHTML",!1,`<span class="spoiler" data-entity-type="${o.C7.Spoiler}">${e}</span>`),b()}),z=(0,h.A)(()=>{V(e=>(document.execCommand(e.bold?"removeFormat":"bold"),Object.keys(e).forEach(t=>{"italic"!==t&&"underline"!==t||!Boolean(e[t])||document.execCommand(t)}),U(),{...e,bold:!e.bold}))}),H=(0,h.A)(()=>{document.execCommand("italic"),U(),V(e=>({...e,italic:!e.italic}))}),$=(0,h.A)(()=>{document.execCommand("underline"),U(),V(e=>({...e,underline:!e.underline}))}),q=(0,h.A)(()=>{if(D.strikethrough){const e=J();if(!a||!e||"DEL"!==e.tagName||!e.textContent)return;return e.replaceWith(e.textContent),void V(e=>({...e,strikethrough:!1}))}const e=O();document.execCommand("insertHTML",!1,`<del>${e}</del>`),b()}),W=(0,h.A)(()=>{if(D.monospace){const e=J();if(!a||!e||"CODE"!==e.tagName||!e.textContent)return;return e.replaceWith(e.textContent),void V(e=>({...e,monospace:!1}))}const e=O(!0);document.execCommand("insertHTML",!1,`<code class="text-entity-code" dir="auto">${e}</code>`),b()}),Y=(0,h.A)(()=>{const e=((0,i.Tc)(T)||"").split("%").map(encodeURI).join("%");if(x){const t=J();if(!t||"A"!==t.tagName)return;return t.href=e,void b()}const t=O(!0);_(),document.execCommand("insertHTML",!1,`<a href=${e} class="text-entity-link" dir="auto">${t}</a>`),b()}),Q=(0,h.A)(e=>{const t={k:P,b:z,u:$,i:H,m:W,s:q,p:j}[(0,d.A)(e)];!e.altKey&&(e.ctrlKey||e.metaKey)&&t&&(e.preventDefault(),e.stopPropagation(),t())});(0,s.vJ)(()=>(e&&document.addEventListener("keydown",Q),()=>document.removeEventListener("keydown",Q)),[e,Q]);const Z=(0,y.A)();if(!k)return;const X=(0,l.A)("TextFormatter",N,I&&"link-control-shown"),ee=(0,l.A)("TextFormatter-link-url-confirm",Boolean(T.length)&&"shown"),te=t?`left: ${t.x}px; top: ${t.y}px;--text-formatter-left: ${t.x}px;`:"";return s.Ay.createElement("div",{ref:S,className:X,style:te,onKeyDown:function(e){"Enter"===e.key&&I&&(Y(),e.preventDefault())},onMouseDown:m.A},s.Ay.createElement("div",{className:"TextFormatter-buttons"},s.Ay.createElement(E.A,{color:"translucent",ariaLabel:"Spoiler text",className:G("spoiler"),onClick:j},s.Ay.createElement(g.A,{name:"eye-crossed"})),s.Ay.createElement("div",{className:"TextFormatter-divider"}),s.Ay.createElement(E.A,{color:"translucent",ariaLabel:"Bold text",className:G("bold"),onClick:z},s.Ay.createElement(g.A,{name:"bold"})),s.Ay.createElement(E.A,{color:"translucent",ariaLabel:"Italic text",className:G("italic"),onClick:H},s.Ay.createElement(g.A,{name:"italic"})),s.Ay.createElement(E.A,{color:"translucent",ariaLabel:"Underlined text",className:G("underline"),onClick:$},s.Ay.createElement(g.A,{name:"underlined"})),s.Ay.createElement(E.A,{color:"translucent",ariaLabel:"Strikethrough text",className:G("strikethrough"),onClick:q},s.Ay.createElement(g.A,{name:"strikethrough"})),s.Ay.createElement(E.A,{color:"translucent",ariaLabel:"Monospace text",className:G("monospace"),onClick:W},s.Ay.createElement(g.A,{name:"monospace"})),s.Ay.createElement("div",{className:"TextFormatter-divider"}),s.Ay.createElement(E.A,{color:"translucent",ariaLabel:Z("TextFormat.AddLinkTitle"),onClick:P},s.Ay.createElement(g.A,{name:"link"}))),s.Ay.createElement("div",{className:"TextFormatter-link-control"},s.Ay.createElement("div",{className:"TextFormatter-buttons"},s.Ay.createElement(E.A,{color:"translucent",ariaLabel:Z("Cancel"),onClick:M},s.Ay.createElement(g.A,{name:"arrow-left"})),s.Ay.createElement("div",{className:"TextFormatter-divider"}),s.Ay.createElement("div",{className:(0,l.A)("TextFormatter-link-url-input-wrapper",R)},s.Ay.createElement("input",{ref:w,className:"TextFormatter-link-url-input",type:"text",value:T,placeholder:"Enter URL...",autoComplete:"off",inputMode:"url",dir:"auto",onChange:function(e){B(e.target.value),K()},onScroll:K})),s.Ay.createElement("div",{className:ee},s.Ay.createElement("div",{className:"TextFormatter-divider"}),s.Ay.createElement(E.A,{color:"translucent",ariaLabel:Z("Save"),className:"color-primary",onClick:Y},s.Ay.createElement(g.A,{name:"check"}))))))},w=(0,s.ph)(S);n()}catch(e){n(e)}})},24861:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.d(t,{A:()=>se});var s=a(84051),o=a(13439),r=a(23174),i=a(31481),l=a(90709),c=a(70636),d=a(60919),m=a(96454),u=a(87357),A=a(52674),h=a(17663),y=a(95362),p=a(9716),v=a(48775),g=a(43336),E=a(80140),b=a(4961),f=a(36235),C=a(46051),S=a(84313),w=a(43874),k=a(45470),N=a(14),I=a(82117),P=a(37661),M=a(39351),T=a(17712),B=a(38218),x=a(83057),L=a(59030),R=a(50680),F=a(66991),D=a(61157),V=a(92111),_=a(63039),U=a(21849),O=a(42444),J=a(54746),K=a(64493),G=a(22699),j=a(24433),z=a(65843),H=a(55158),$=a(41036),q=a(5331),W=a(979),Y=a(62472),Q=a(70630),Z=a(32819),X=e([c,S,M,L,F,V,_,U,O,K,G,j,q,W,Y]);[c,S,M,L,F,V,_,U,O,K,G,j,q,W,Y]=X.then?(await X)():X;const ee=m.Yw?4:3,te=32,ae=4e3;function ne({peerId:e,storyId:t,peer:a,forwardSender:n,fromPeer:d,isMuted:m,isArchivedStories:X,isPrivateStories:ne,story:se,orderedIds:oe,isSingleStory:re,dimensions:ie,shouldForcePause:le,storyChangelogUserId:ce,viewersExpirePeriod:de,isChatExist:me,arePeerSettingsLoaded:ue,getIsAnimating:Ae,isCurrentUserPremium:he,stealthMode:ye,withHeaderAnimation:pe,onDelete:ve,onClose:ge,onReport:Ee,paidMessagesStars:be,isAccountFrozen:fe}){const{viewStory:Ce,setStoryViewerMuted:Se,openPreviousStory:we,openNextStory:ke,loadPeerSkippedStories:Ne,openForwardMenu:Ie,copyStoryLink:Pe,toggleStoryInProfile:Me,openChat:Te,showNotification:Be,openStoryPrivacyEditor:xe,loadPeerSettings:Le,fetchChat:Re,loadStoryViews:Fe,toggleStealthModal:De}=(0,o.ko)(),Ve=(0,E.Fm)(),_e=(0,L.A)(),Ue=(0,M.A)(),{isMobile:Oe}=(0,w.Ay)(),[Je,Ke,Ge]=(0,P.A)(!1),[je,ze,He]=(0,P.A)(!1),[$e,qe,We]=(0,P.A)(!1),[Ye,Qe,Ze]=(0,P.A)(!0),[Xe,et,tt]=(0,P.A)(!1),[at,nt]=(0,s.J0)(!1),[st,ot,rt]=(0,P.A)(!1),[it,lt,ct]=(0,P.A)(!1),dt=(0,s.li)(),{isDeletedStory:mt,hasText:ut,hasForwardInfo:At,thumbnail:ht,previewBlobUrl:yt,isVideo:pt,noSound:vt,fullMediaData:gt,altMediaHash:Et,altMediaData:bt,hasFullData:ft,hasThumb:Ct,canDownload:St,downloadMediaData:wt}=(0,_.A)(se,he,it),kt=se&&"content"in se,Nt=e===ce,It=(0,p.L8)(e),Pt=!It,Mt=Pt&&(0,l.WX)(a),Tt=kt&&se.isOut,Bt=(0,N.A)(Tt?!se.isInProfile:void 0,!0),xt=(0,N.A)(Tt?se.isInProfile:void 0,!0),Lt=Boolean(Tt&&se.date+de<(0,E.Fm)()),Rt=n?(0,c.F9)(_e,n):kt&&se.forwardInfo?.fromName,Ft=Boolean(kt&&se.isPublic&&!Nt&&a?.hasUsername),Dt=Boolean(kt&&se.isPublic&&!se.noForwards&&!Nt&&!Xe),Vt=Boolean(ft&&!le&&Ye&&!Je&&!Xe&&!at&&!st),_t=kt&&se.content.video?.duration?se.content.video.duration:void 0,Ut=!(Tt&&It||Nt||Mt||fe),Ot=kt&&!Ut&&(Tt||Mt),Jt=Oe&&pe?"slideFade":"none",{shouldRender:Kt,transitionClassNames:Gt}=(0,R.A)(!ft),{transitionClassNames:jt}=(0,R.A)(Boolean(gt)),zt=(0,k.A)(ht,!Ct),Ht=(0,x.A)(yt),{shouldRender:$t,transitionClassNames:qt}=(0,R.A)(Ut),{shouldRender:Wt,transitionClassNames:Yt}=(0,R.A)(ut&&Xe),{transitionClassNames:Qt}=(0,R.A)(!0),{shouldRender:Zt,transitionClassNames:Xt}=(0,R.A)(ut||At),ea=(0,F.Y)(dt,gt,C.G);(0,V.A)(e,t),(0,s.vJ)(()=>{t&&Ce({peerId:e,storyId:t})},[t,e]),(0,s.vJ)(()=>{Ne({peerId:e})},[e]),(0,s.vJ)(()=>{const t=(0,p.L8)(e);!me&&t&&Re({chatId:e})},[me,e]),(0,s.vJ)(()=>{me&&!ue&&Le({peerId:e})},[ue,me,e]);const ta=(0,T.A)(()=>{pt&&dt.current?.pause(),We(),He()}),aa=(0,T.A)(()=>{Vt&&(ze(),pt||qe())}),na=(0,T.A)(()=>{ot()}),sa=(0,T.A)(()=>{rt()}),oa=(0,T.A)(()=>{lt(),ta()}),ra=(0,T.A)(()=>{ct(),aa()}),{onMouseDown:ia,onMouseUp:la,onMouseLeave:ca,onTouchStart:da,onTouchEnd:ma}=(0,B.A)({onStart:na,onEnd:sa}),ua=(0,S.A)(dt,void 0,!pt||!gt||ea),Aa=gt&&(!Et||bt);(0,s.vJ)(()=>{Aa&&!ua&&aa()},[Aa,ua]),(0,D.Ay)(Ze,Qe),(0,s.vJ)(()=>{Aa&&dt.current?.load()},[Aa]),(0,s.vJ)(()=>{!kt||mt||Lt||(Tt||Mt)&&Fe({peerId:e,storyId:t})},[mt,Lt,kt,e,t,Tt,Mt]),(0,s.vJ)(()=>{le||!Ye||Je||Xe||at||st?ta():aa()},[aa,Ye,Xe,Je,le,at,st]),(0,s.vJ)(()=>{if(!(Je||le||Xe))return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)};function e(e){e.keyCode===te&&(e.preventDefault(),nt(!at))}},[Xe,Je,at,le]),(0,I.A)(([e,t,a,n,s])=>{!at||Xe||Je||le||!Ye||st||t===Xe&&e===Je&&a===le&&n===Ye&&s===st||nt(!1)},[Je,Xe,le,Ye,st,at]);const ha=(0,T.A)(()=>{ge(),Te({id:e})}),ya=(0,T.A)(()=>{ge(),Te({id:n.id})}),pa=(0,T.A)(()=>{ge(),Te({id:d.id})}),va=(0,T.A)(()=>{we()}),ga=(0,T.A)(()=>{ke()}),Ea=(0,T.A)(e=>{const t=e.currentTarget;t.readyState>=ee?qe():We(),_t&&(0,g.LI)(t.currentTime,2)>=(0,g.LI)(_t,2)&&ga()});(0,s.vJ)(()=>Ae()||Je?void 0:(0,A.A)({onRight:ga,onLeft:va}),[Ae,Je]);const ba=(0,T.A)(()=>{Pe({peerId:e,storyId:t})}),fa=(0,T.A)(()=>{Me({peerId:e,storyId:t,isInProfile:!0})}),Ca=(0,T.A)(()=>{Me({peerId:e,storyId:t,isInProfile:!1})}),Sa=(0,T.A)(()=>{ve(se)}),wa=(0,T.A)(()=>{Ee()}),ka=(0,T.A)(()=>{Ie({fromChatId:e,storyId:t})}),Na=(0,T.A)(()=>{xe()}),Ia=(0,T.A)(()=>{const e=!kt||se.isPublic?void 0:se.isForContacts?"contacts":se.isForCloseFriends?"closeFriends":"nobody";let t;const n=(0,c.F9)(_e,a);switch(e){case"nobody":t=_e("StorySelectedContactsHint",n);break;case"contacts":t=_e("StoryContactsHint",n);break;case"closeFriends":t=_e("StoryCloseFriendsHint",n);break;default:return}Be({message:t})}),Pa=(0,T.A)(()=>{vt?Be({message:_e("Story.TooltipVideoHasNoSound")}):(dt.current.muted=!dt.current.muted,Se({isMuted:!m}))}),Ma=(0,T.A)(()=>{if(ye.activeUntil&&(0,E.Fm)()<ye.activeUntil){const e=ye.activeUntil-(0,E.Fm)();return void Be({title:_e("StealthModeOn"),message:_e("Story.ToastStealthModeActiveText",(0,h.QO)(e)),duration:ae})}De({isOpen:!0})}),Ta=(0,T.A)(()=>{wt&&(0,y.A)(wt,`story-${e}-${t}.${pt?"mp4":"jpg"}`)});(0,s.vJ)(()=>{mt&&Be({message:_e("StoryNotFound")})},[_e,mt]);const Ba=(0,s.Kr)(()=>({onTrigger:e,isOpen:t})=>s.Ay.createElement(K.A,{round:!0,ripple:!Oe,size:"tiny",color:"translucent-white",onClick:e,className:(0,u.A)(Z.A.button,t&&"active"),ariaLabel:_e("AccDescrOpenMenu2")},s.Ay.createElement(J.A,{name:"more"})),[Oe,_e]),xa=be?Ue("ComposerPlaceholderPaidReply",{amount:(0,v.U2)(Ue,be,{asFont:!0,className:"placeholder-star-icon"})},{withNodes:!0}):_e(Pt?"ReplyToGroupStory":"ReplyPrivately");return s.Ay.createElement("div",{className:(0,u.A)(Z.A.slideInner,"component-theme-dark"),onMouseDown:ia,onMouseUp:la,onMouseLeave:ca,onTouchStart:da,onTouchEnd:ma},s.Ay.createElement("div",{className:(0,u.A)(Z.A.storyHeader,Qt)},s.Ay.createElement("div",{className:Z.A.storyIndicators},(re?[t]:oe??[]).map(e=>s.Ay.createElement(Q.A,{key:`progress-${e}`,isActive:e===se?.id,isVideo:pt,isViewed:Boolean(se?.id&&(ne||X?e>se?.id:e<se?.id)),isPaused:!$e,duration:_t,onImageComplete:ga}))),s.Ay.createElement("div",{className:Z.A.sender},s.Ay.createElement($.Ay,{activeKey:Number(e),name:Jt,className:Z.A.senderInfoTransition},s.Ay.createElement("div",{className:Z.A.senderInfo},s.Ay.createElement(U.A,{peer:a,size:"tiny",onClick:ha}),s.Ay.createElement("div",{className:Z.A.senderMeta},s.Ay.createElement("span",{onClick:ha,className:Z.A.senderName},(0,b.A)((0,c.F9)(_e,a)||"")),s.Ay.createElement("div",{className:Z.A.storyMetaRow},Rt&&s.Ay.createElement("span",{className:(0,u.A)(Z.A.storyMeta,Z.A.forwardHeader,n&&Z.A.clickable),onClick:n?ya:void 0},s.Ay.createElement(J.A,{name:"loop"}),s.Ay.createElement("span",{className:Z.A.headerTitle},(0,b.A)(Rt))),d&&s.Ay.createElement("span",{className:(0,u.A)(Z.A.storyMeta,Z.A.fromPeer),onClick:pa},s.Ay.createElement(U.A,{peer:d,size:"micro"}),s.Ay.createElement("span",{className:Z.A.headerTitle},(0,b.A)((0,c.F9)(_e,d)||""))),se&&"date"in se&&s.Ay.createElement("span",{className:Z.A.storyMeta},(0,h.jy)(_e,Ve,se.date)),kt&&se.isEdited&&s.Ay.createElement("span",{className:Z.A.storyMeta},_e("Story.HeaderEdited")))))),s.Ay.createElement("div",{className:Z.A.actions},function(){if(!It)return;let e="channel-filled";const t={"channel-filled":["#50ABFF","#007AFF"],"user-filled":["#C36EFF","#8B60FA"],"favorite-filled":["#88D93A","#30B73B"],"group-filled":["#FFB743","#F69A36"]};if(Tt){const{visibility:t}=se&&"visibility"in se&&se.visibility||{};switch(t){case"everybody":e="channel-filled";break;case"contacts":e="user-filled";break;case"closeFriends":e="favorite-filled";break;case"nobody":e="group-filled"}}else{if(!se||!("content"in se)||se.isPublic)return;e=se.isForCloseFriends?"favorite-filled":se.isForContacts?"user-filled":"group-filled"}return s.Ay.createElement("div",{className:(0,u.A)(Z.A.visibilityButton,Tt&&Z.A.visibilityButtonSelf),onClick:Tt?Na:Ia,style:`--color-from: ${t[e][0]}; --color-to: ${t[e][1]}`},s.Ay.createElement(J.A,{name:e}),Tt&&s.Ay.createElement(J.A,{name:"next"}))}(),pt&&s.Ay.createElement(K.A,{className:Z.A.button,round:!0,ripple:!Oe,size:"tiny",color:"translucent-white",disabled:!ft,onClick:Pa,ariaLabel:_e("Volume")},s.Ay.createElement(J.A,{name:m||vt?"speaker-muted-story":"speaker-story"})),s.Ay.createElement(G.A,{className:Z.A.buttonMenu,trigger:Ba,positionX:"right",onOpen:oa,onClose:ra},Ft&&s.Ay.createElement(j.A,{icon:"copy",onClick:ba},_e("CopyLink")),Bt&&s.Ay.createElement(j.A,{icon:"save-story",onClick:fa},_e(It?"StorySave":"SaveToPosts")),xt&&s.Ay.createElement(j.A,{icon:"delete",onClick:Ca},_e(It?"ArchiveStory":"RemoveFromPosts")),St&&s.Ay.createElement(j.A,{icon:"download",disabled:!wt,onClick:Ta},_e("lng_media_download")),!Tt&&It&&s.Ay.createElement(j.A,{icon:"eye-crossed-outline",onClick:Ma},_e("StealthMode")),!Tt&&s.Ay.createElement(j.A,{icon:"flag",onClick:wa},_e("lng_report_story")),Tt&&s.Ay.createElement(j.A,{icon:"delete",destructive:!0,onClick:Sa},_e("Delete"))),s.Ay.createElement(K.A,{className:(0,u.A)(Z.A.button,Z.A.closeButton),round:!0,size:"tiny",color:"translucent-white",ariaLabel:_e("Close"),onClick:ge},s.Ay.createElement(J.A,{name:"close"}))))),s.Ay.createElement("div",{className:Z.A.mediaWrapper,style:`width: ${ie.width}px; height: ${ie.height}px`},s.Ay.createElement("canvas",{ref:zt,className:Z.A.thumbnail}),yt&&s.Ay.createElement("img",{key:`preview-${t}`,src:yt,draggable:!1,alt:"",className:(0,u.A)(Z.A.media,Z.A.mediaPreview,Ht)}),Kt&&s.Ay.createElement(H.A,{className:(0,u.A)(Gt,Z.A.fullSize)}),!pt&&gt&&s.Ay.createElement("img",{src:gt,alt:"",className:(0,u.A)(Z.A.media,jt),draggable:!1}),pt&&gt&&s.Ay.createElement(z.A,{ref:dt,key:`video-${t}`,className:(0,u.A)(Z.A.media,jt),canPlay:je,muted:m,width:f.fz,height:f.gZ,draggable:!1,playsInline:!0,disablePictureInPicture:!0,isPriority:!0,onPause:We,onWaiting:We,disableRemotePlayback:!0,onTimeUpdate:Ea},s.Ay.createElement("source",{src:gt,type:C.G,width:"720"}),bt&&s.Ay.createElement("source",{src:bt,type:C.w,width:"480"})),!st&&!Je&&s.Ay.createElement(s.Ay.Fragment,null,s.Ay.createElement("button",{type:"button",className:(0,u.A)(Z.A.navigate,Z.A.prev),onClick:va,"aria-label":_e("Previous")}),s.Ay.createElement("button",{type:"button",className:(0,u.A)(Z.A.navigate,Z.A.next),onClick:ga,"aria-label":_e("Next")})),kt&&gt&&s.Ay.createElement(q.A,{key:`area-overlay-${t}-${e}`,story:se,isActive:!0,isStoryPlaying:it}),!Oe&&s.Ay.createElement("div",{className:Z.A.content},s.Ay.createElement("div",{className:Z.A.contentInner},s.Ay.createElement(U.A,{peer:a,withStory:!0,storyViewerMode:"disabled"}),s.Ay.createElement("div",{className:Z.A.name},(0,b.A)((0,c.F9)(_e,a)||""))))),Ot&&s.Ay.createElement(Y.A,{story:se,className:Qt}),Wt&&s.Ay.createElement("div",{tabIndex:0,role:"button",className:(0,u.A)(Z.A.captionBackdrop,Yt),onClick:()=>tt(),"aria-label":_e("Close")}),ut&&s.Ay.createElement("div",{className:(0,u.A)(Z.A.captionGradient,Xt)}),Zt&&s.Ay.createElement(W.A,{key:`caption-${t}-${e}`,story:se,isExpanded:Xe,onExpand:et,onFold:tt,className:Xt}),$t&&s.Ay.createElement(O.A,{type:"story",chatId:e,threadId:r.l3,storyId:t,isReady:!Tt,messageListType:"thread",isMobile:(0,w.Ny)(),editableInputCssSelector:i.iKt,editableInputId:i.YVZ,inputId:"story-input-text",className:(0,u.A)(Z.A.composer,qt),inputPlaceholder:xa,onForward:Dt?ka:void 0,onFocus:Ke,onBlur:Ge}))}const se=(0,s.ph)((0,o.EK)((e,{peerId:t,storyId:a,isDeleteModalOpen:n})=>{const{appConfig:s}=e,o=(0,d.mBe)(e,t),r=(0,d.hds)(e,t),i=(0,d.vGo)(e,t),l=(0,d.nTw)(e),{storyViewer:{isMuted:c,viewModal:m,isPrivacyModalOpen:u,isStealthModalOpen:A,storyList:h},forwardMessages:{storyId:y},premiumModal:p,safeLinkModalUrl:v,mapModal:g,reportModal:E,giftInfoModal:b,isPaymentMessageConfirmDialogOpen:f}=l,{isOpen:C}=p||{},S=(0,d.Msb)(e,t,a),w=S&&"content"in S,k=Boolean(f||m||y||l.reactionPicker?.storyId||E||u||C||n||v||A||g||b),N=w?S.forwardInfo:void 0,I=w?S.mediaAreas:void 0,P=N?.fromPeerId||I?.find(e=>"channelPost"===e.type)?.channelId,M=P?(0,d.PVB)(e,P):void 0,T=(0,d.xYJ)(e,"mediaViewerAnimations"),B=w&&S.fromId?(0,d.PVB)(e,S.fromId):void 0,x=(0,d.WA9)(e,t),L=(0,d.trm)(e);return{peer:o||r,forwardSender:M,fromPeer:B,story:S,orderedIds:h?.storyIdsByPeerId[t],isMuted:c,isCurrentUserPremium:(0,d.g29)(e),shouldForcePause:k,storyChangelogUserId:s.storyChangelogUserId,viewersExpirePeriod:s.storyExpirePeriod+s.storyViewersExpirePeriod,isChatExist:Boolean(r),arePeerSettingsLoaded:Boolean(i?.settings),stealthMode:e.stories.stealthMode,withHeaderAnimation:T,paidMessagesStars:x,isAccountFrozen:L}})(ne));n()}catch(oe){n(oe)}})},24942:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.d(t,{A:()=>m});var s=a(84051),o=a(79824),r=a(59030),i=a(64493),l=a(1087),c=e([r,i,l]);[r,i,l]=c.then?(await c)():c;const d=({state:e,savedCredentials:t,dispatch:a,onNewCardClick:n})=>{const c=(0,r.A)(),d=(0,s.Kr)(()=>t?.length?t.map(({id:e,title:t})=>({label:t,value:e})):o.p,[t]),m=(0,s.hb)(e=>{a({type:"changeSavedCredentialId",payload:e})},[a]);return s.Ay.createElement("div",{className:"PaymentInfo"},s.Ay.createElement("form",null,s.Ay.createElement("h5",null,c("PaymentCardTitle")),s.Ay.createElement(l.A,{name:"saved-credentials",options:d,selected:e.savedCredentialId,onChange:m}),s.Ay.createElement(i.A,{isText:!0,onClick:n},c("PaymentCheckoutMethodNewCard"))))},m=(0,s.ph)(d);n()}catch(e){n(e)}})},25065:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.d(t,{A:()=>p});var s=a(84051),o=a(13439),r=a(60919),i=a(87357),l=a(14242),c=a(59852),d=a(39351),m=a(17712),u=a(38705),A=a(4479),h=e([d,u]);function y({user:e,isPopularApp:t}){const{requestMainWebView:a}=(0,o.ko)(),n=(0,d.A)(),r=(0,m.A)(()=>{if(!e)return;const t=e?.id;if(!t)return;const n=(0,c.A)();a({botId:t,peerId:t,theme:n})});if(!e)return;const h=e?.firstName,y=e?.botActiveUsers,p=y&&t?(0,l.Vw)(n,y):void 0;return s.Ay.createElement("div",{className:A.A.container,onClick:r},s.Ay.createElement(u.A,{className:(0,i.A)(A.A.avatarContainer,t&&"PopularAppGridItem"),textClassName:A.A.name,badgeClassName:A.A.userCountBadge,badgeIconClassName:A.A.userBadgeIcon,peer:e,text:h,badgeText:p,badgeIcon:"user-filled"}))}[d,u]=h.then?(await h)():h;const p=(0,s.ph)((0,o.EK)((e,{chatId:t})=>({user:(0,r.mBe)(e,t)}))(y));n()}catch(v){n(v)}})},26087:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.d(t,{A:()=>p});var s=a(84051),o=a(13439),r=a(60919),i=a(99375),l=a(4961),c=a(37661),d=a(59030),m=a(64493),u=a(8410),A=e([d,m,u]);[d,m,u]=A.then?(await A)():A;const h=({dialogs:e,currentMessageList:t})=>{const{dismissDialog:a,sendMessage:n}=(0,o.ko)(),[r,A,h]=(0,c.A)(),p=(0,d.A)();var v,g,E;if((0,s.vJ)(()=>{e.length>0&&A()},[e,A]),e.length)return Boolean(e.length)&&("phoneNumber"in(v=e[e.length-1])?(g=v,s.Ay.createElement(u.A,{isOpen:r,onClose:h,className:"confirm",title:p("ShareYouPhoneNumberTitle"),onCloseAnimationEnd:a},p("AreYouSureShareMyContactInfoBot"),s.Ay.createElement("div",{className:"dialog-buttons mt-2"},s.Ay.createElement(m.A,{className:"confirm-dialog-button",isText:!0,onClick:()=>{t&&(n({contact:g,messageList:t}),h())}},p("OK")),s.Ay.createElement(m.A,{className:"confirm-dialog-button",isText:!0,onClick:h},p("Cancel"))))):(E=v,s.Ay.createElement(u.A,{isOpen:r,onClose:h,onCloseAnimationEnd:a,className:"error",title:y(E)},E.hasErrorKey?(0,i.Ay)(E):(0,l.A)(E.message,["simple_markdown","emoji","br"]),s.Ay.createElement("div",{className:"dialog-buttons mt-2"},s.Ay.createElement(m.A,{isText:!0,onClick:h},p("OK"))))))};function y(e){return e.isSlowMode?"Slowmode enabled":e.hasErrorKey?"Something went wrong":"Telegram"}const p=(0,s.ph)((0,o.EK)(e=>({dialogs:(0,r.nTw)(e).dialogs,currentMessageList:(0,r.Xf0)(e)}))(h));n()}catch(v){n(v)}})},26275:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.d(t,{A:()=>g});var s=a(84051),o=a(13439),r=a(90709),i=a(87357),l=a(91034),c=a(52234),d=a(17712),m=a(50680),u=a(56676),A=a(5812),h=a(71049),y=e([A]),p=y.then?(await y)():y;A=p[0];const v=({isOpen:e,chatId:t,withUsername:a,botCommands:n,quickReplies:l,quickReplyMessages:y,self:p,getHtml:v,onClick:g,onClose:E})=>{const{sendBotCommand:b,sendQuickReply:f}=(0,o.ko)(),C=(0,s.li)(),{shouldRender:S,transitionClassNames:w}=(0,m.A)(e,void 0,void 0,!1),k=(0,d.A)(({botId:e,command:t})=>{const n=(0,o.mS)().users.byId[e];b({command:`/${t}${a&&n?`@${(0,r.Kl)(n)}`:""}`}),g()}),N=(0,d.A)(e=>{f({chatId:t,quickReplyId:e}),g()}),I=(0,s.Kr)(()=>{if(l?.length&&y)return l.map(e=>{const t=y[e.topMessageId];return{id:e.id,command:e.shortcut,description:t?.content.text?.text||""}})},[l,y]),P=(0,d.A)(e=>!!e.command.startsWith(v().slice(1))&&("id"in e?N(e.id):k(e),!0)),M=(0,s.Kr)(()=>{if(n||I)return[].concat(I||[],n||[])},[n,I]),T=(0,u.J)({isActive:e,items:M,onSelect:P,onClose:E}),B=n&&!n.length||l&&!l.length;if((0,s.vJ)(()=>{B&&E()},[B,E]),(0,s.vJ)(()=>{(0,c.A)(".chat-item-clickable",T,C)},[T]),!S||B)return;const x=(0,i.A)(h.A.root,"composer-tooltip custom-scroll",w);return s.Ay.createElement("div",{className:x,ref:C},I?.map((e,t)=>s.Ay.createElement(A.A,{key:`quickReply_${e.id}`,command:e.command,description:e.description,peer:p,withAvatar:!0,clickArg:e.id,onClick:N,focus:T===t})),n?.map((e,t)=>s.Ay.createElement(A.A,{key:`${e.botId}_${e.command}`,command:e.command,description:e.description,peer:(0,o.mS)().users.byId[e.botId],withAvatar:!0,clickArg:e,onClick:k,focus:T+(I?.length||0)===t})))},g=(0,s.ph)((0,l.A)(v));n()}catch(e){n(e)}})},27367:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.d(t,{A:()=>P});var s=a(84051),o=a(13439),r=a(23174),i=a(89925),l=a(90709),c=a(60919),d=a(64520),m=a(4961),u=a(37661),A=a(26072),h=a(17712),y=a(62587),p=a(59030),v=a(54746),g=a(43434),E=a(12933),b=a(40664),f=a(22720),C=a(45426),S=a(57474),w=a(94079),k=e([y,p,g,E,b,f,C,w]);[y,p,g,E,b,f,C,w]=k.then?(await k)():k;const N="Please provide name",I=({userId:e,user:t,progress:a,onClose:n,currentBio:c,isActive:d,maxBioLength:k})=>{const{setBotInfo:I,uploadProfilePhoto:P,uploadContactProfilePhoto:M,startBotFatherConversation:T}=(0,o.ko)(),[B,x,L]=(0,u.A)(!1),[R,F,D]=(0,u.A)(!1),[V,_]=(0,s.J0)(),U=(0,p.A)(),O=(0,s.Kr)(()=>t?(0,l.Kl)(t):void 0,[t]);(0,A.A)({isActive:d,onBack:n});const J=t?(0,l.u0)(t):"",[K,G]=(0,s.J0)(),[j,z]=(0,s.J0)(J||""),[H,$]=(0,s.J0)(c||""),q=t&&(0,l.cP)(t),W=(0,y.A)(q,!1,r.qZ.BlobUrl);(0,s.vJ)(()=>{L(),D()},[e]),(0,s.vJ)(()=>{z(J||""),$(c||"")},[J,c,t]),(0,s.vJ)(()=>{G(void 0)},[W]),(0,s.vJ)(()=>{a===i.TD.Complete&&(L(),D(),_(void 0))},[a]);const Y=(0,h.A)(e=>{z(e.target.value),x(),V===N&&_(void 0)}),Q=(0,h.A)(e=>{$(e.target.value),x()}),Z=(0,h.A)(e=>{G(e),F()}),X=(0,h.A)(()=>{const e=j.trim(),a=H.trim();e.length?(I({...B&&{bot:t,name:e,description:a}}),K&&P({file:K,...R&&{bot:t}})):_(N)}),ee=(0,h.A)(()=>{T({param:`${O}-intro`})}),te=(0,h.A)(()=>{T({param:`${O}-commands`})}),ae=(0,h.A)(()=>{T({param:O})}),ne=(0,s.li)(),se=(0,s.li)(!1),oe=(0,h.A)(t=>{F(),M({userId:e,file:t,isSuggest:se.current})});if(!t)return;const re=a===i.TD.InProgress;return s.Ay.createElement("div",{className:"Management"},s.Ay.createElement("div",{className:"custom-scroll"},s.Ay.createElement("div",{className:"section"},s.Ay.createElement(g.A,{currentAvatarBlobUrl:W,onChange:Z,title:U("ChatSetPhotoOrVideo"),disabled:re}),s.Ay.createElement(b.A,{id:"user-name",label:U("PaymentCheckoutName"),onChange:Y,value:j,error:V===N?V:void 0,teactExperimentControlled:!0}),s.Ay.createElement(w.A,{value:H,onChange:Q,label:U("DescriptionPlaceholder"),disabled:re,maxLength:k,maxLengthIndicator:k?(k-H.length).toString():void 0})),s.Ay.createElement("div",{className:"section"},s.Ay.createElement("div",{className:"dialog-buttons"},s.Ay.createElement(f.A,{icon:"bot-commands-filled",ripple:!0,onClick:ee},s.Ay.createElement("span",null,U("BotEditIntro"))),s.Ay.createElement(f.A,{icon:"bot-command",ripple:!0,onClick:te},s.Ay.createElement("span",null,U("BotEditCommands"))),s.Ay.createElement(f.A,{icon:"bots",ripple:!0,onClick:ae},s.Ay.createElement("span",null,U("BotChangeSettings"))),s.Ay.createElement("div",{className:"section-info section-info_push"},(0,m.A)(U("BotManageInfo"),["links"]))))),s.Ay.createElement(E.A,{isShown:B||R,onClick:X,disabled:re,ariaLabel:U("Save")},re?s.Ay.createElement(S.A,{color:"white"}):s.Ay.createElement(v.A,{name:"check"})),s.Ay.createElement(C.A,{onChange:oe,inputRef:ne}))},P=(0,s.ph)((0,o.EK)((e,{userId:t})=>{const a=(0,c.yps)(e,t),n=(0,c.vGo)(e,t),{progress:s}=(0,c.nTw)(e).management,o=(0,d.d)(e,"aboutLength");return{userId:t,user:a,progress:s,currentBio:n?.bio,maxBioLength:o}})(I));n()}catch(e){n(e)}})},27997:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.d(t,{A:()=>O});var s=a(84051),o=a(13439),r=a(31481),i=a(57446),l=a(81954),c=a(96454),d=a(87357),m=a(52491),u=a(87894),A=a(79824),h=a(76023),y=a(43874),p=a(36838),v=a(5912),g=a(17712),E=a(59030),b=a(47366),f=a(93809),C=a(54746),S=a(64493),w=a(52745),k=a(41036),N=a(60927),I=e([E,S,N]);[E,S,N]=I.then?(await I)():I;const P={recent:"recent",people:"smile",nature:"animals",foods:"eats",activity:"sport",places:"car",objects:"lamp",symbols:"language",flags:"flag"},M=200,T=100,B=3.25*h.$,x=2.625*h.$,L=200,R=[];let F,D,V;const _=({className:e,recentEmojis:t,onEmojiSelect:a})=>{const n=(0,s.li)(),o=(0,s.li)(),[m,u]=(0,s.J0)(),[h,I]=(0,s.J0)(),[F,D]=(0,s.J0)(0),{isMobile:_}=(0,y.Ay)(),{handleScroll:O,isAtBeginning:J}=(0,b.A)(),{observe:K}=(0,v.BL)({rootRef:n,throttleMs:L},e=>{e.forEach(e=>{const{id:t}=e.target;if(!t||!t.startsWith("emoji-category-"))return;const a=Number(t.replace("emoji-category-",""));R[a]=e.isIntersecting});const t=R.reduce((e,t,a)=>t&&a<e?a:e,1/0);t!==1/0&&D(t)}),G=(0,f.A)([],r.vVF),j=h&&G;(0,p.A)(o,!(_&&j)),(0,s.vJ)(()=>{if(!m)return;const e=o.current;if(!e)return;const t=F*x-e.offsetWidth/2+x/2;(0,i.A)(e,t)},[m,F]);const z=(0,E.A)(),H=(0,s.Kr)(()=>{if(!m)return A.p;const e=[...m];return t?.length&&e.unshift({id:r.sR2,name:z("RecentStickers"),emojis:t}),e},[m,z,t]);(0,s.vJ)(()=>{setTimeout(()=>{const e=()=>{u(V.categories),I(V.emojis)};V?e():U().then(e)},M)},[]);const $=(0,g.A)(e=>{D(e);const t=n.current.closest(".SymbolMenu-main").querySelector(`#emoji-category-${e}`);(0,l.Ay)({container:n.current,element:t,position:"start",margin:B,maxDistance:T})}),q=(0,g.A)((e,t)=>{a(e,t)}),W=(0,d.A)("EmojiPicker",e),Y=(0,d.A)("EmojiPicker-header",!J&&"with-top-border");return s.Ay.createElement(k.Ay,{className:W,activeKey:j?1:0,name:"fade",shouldCleanup:!0},j?s.Ay.createElement(s.Ay.Fragment,null,s.Ay.createElement("div",{ref:o,className:Y,dir:z.isRtl?"rtl":void 0},H.map(function(e,t){const a=P[e.id];return a&&s.Ay.createElement(S.A,{className:"symbol-set-button "+(t===F?"activated":""),round:!0,faded:!0,color:"translucent",onClick:()=>$(t),ariaLabel:e.name},s.Ay.createElement(C.A,{name:a}))})),s.Ay.createElement("div",{ref:n,onScroll:O,className:(0,d.A)("EmojiPicker-main",c.TF?"no-scrollbar":"custom-scroll")},H.map((e,t)=>s.Ay.createElement(N.A,{category:e,index:t,allEmojis:h,observeIntersection:K,shouldRender:F>=t-1&&F<=t+1,onEmojiSelect:q})))):s.Ay.createElement(w.A,null))};async function U(){return F||(F=a.e(996).then(a.t.bind(a,20996,19)),D=(await F).default,V=(0,m.cp)(D)),F}const O=(0,s.ph)((0,o.EK)(e=>(0,u.Up)(e,["recentEmojis"]))(_));n()}catch(J){n(J)}})},28135:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.d(t,{A:()=>b});var s=a(84051),o=a(13439),r=a(96454),i=a(87357),l=a(82117),c=a(37661),d=a(39351),m=a(17712),u=a(36680),A=a(59030),h=a(71429),y=a(24433),p=a(81879),v=e([d,A,y,p]);[d,A,y,p]=v.then?(await v)():v;const g=200,E=({isOpen:e,isOpenToBottom:t=!1,isSavedMessages:a,canSchedule:n,canScheduleUntilOnline:v,onSendSilent:E,onSendSchedule:b,onSendWhenOnline:f,onRemoveEffect:C,onClose:S,onCloseAnimationEnd:w,chatId:k,withEffects:N,hasCurrentEffect:I,effectReactions:P,allAvailableReactions:M,onToggleReaction:T,canBuyPremium:B,isCurrentUserPremium:x,isInSavedMessages:L,isInStoryViewer:R,canPlayAnimatedEmojis:F})=>{const{openEffectPicker:D}=(0,o.ko)(),[V,_]=(0,u.A)(e,S),[U,O]=(0,s.J0)(!1),J=(0,A.A)(),K=(0,d.A)(),[G,j,z]=(0,c.A)();(0,l.A)(([t])=>{e&&!t&&(z(),O(Boolean(v)))},[e,v]);const[H,$,q]=(0,c.A)(),W=(0,m.A)(e=>{j(),k&&D({chatId:k,position:e})});return(0,s.vJ)(()=>{e?setTimeout(()=>{$()},g):q()},[e,$,q]),s.Ay.createElement(h.A,{isOpen:e,autoClose:!0,positionX:"right",positionY:t?"top":"bottom",className:(0,i.A)("CustomSendMenu","fluid","with-menu-transitions",N&&"with-effects"),onClose:S,onCloseAnimationEnd:w,onMouseEnter:r.TF?void 0:V,onMouseLeave:r.TF?void 0:_,noCloseOnBackdrop:!r.TF},N&&!R&&s.Ay.createElement(p.A,{allAvailableReactions:M,effectReactions:P,currentReactions:void 0,onToggleReaction:T,isPrivate:!0,isReady:H,canBuyPremium:B,isCurrentUserPremium:x,isInSavedMessages:L,isForEffects:!0,canPlayAnimatedEmojis:F,onShowMore:W,onClose:S,className:(0,i.A)(G&&"ReactionSelector-hidden")}),s.Ay.createElement("div",{className:(0,i.A)("CustomSendMenu_items",G&&"CustomSendMenu_items-hidden"),dir:J.isRtl?"rtl":void 0},E&&s.Ay.createElement(y.A,{icon:"mute",onClick:E},J("SendWithoutSound")),n&&b&&s.Ay.createElement(y.A,{icon:"schedule",onClick:b},J(a?"SetReminder":"ScheduleMessage")),n&&b&&U&&s.Ay.createElement(y.A,{icon:"user-online",onClick:f},J("SendWhenOnline")),N&&I&&s.Ay.createElement(y.A,{icon:"delete",onClick:C},K("RemoveEffect"))))},b=(0,s.ph)(E);n()}catch(e){n(e)}})},28727:(e,t,a)=>{a.d(t,{A:()=>n});const n={container:"ingarEvU",preview:"TqpEWfl3",previewCanvas:"fKVz2lln",previewTime:"bGiNvx5D",previewTimeText:"mnkqvOMR",track:"Od9ZSc1U",buffered:"ANe2DKfp",played:"igaGLblf",seeking:"beUP6SqY"}},28926:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.d(t,{A:()=>h});var s=a(84051),o=a(13439),r=a(48862),i=a(26072),l=a(17712),c=a(59030),d=a(19806),m=a(91634),u=e([c,d,m]);[c,d,m]=u.then?(await u)():u;const A=({autoTranslate:e,isActive:t,onReset:a})=>{const{setSettingOption:n}=(0,o.ko)(),u=(0,c.A)(),[A,h]=(0,s.J0)(e),y=(0,l.A)(e=>{h(e),n({autoTranslate:e}),r.Hk.setSettingOption({autotranslate:e})});return(0,i.A)({isActive:t,onBack:a}),s.Ay.createElement("div",{className:"settings-content settings-language custom-scroll"},s.Ay.createElement("div",{className:"settings-item"},s.Ay.createElement(d.A,{label:u("Auto Translate"),checked:A,onCheck:y})),s.Ay.createElement("div",{className:"settings-item settings-item-picker"},s.Ay.createElement("h4",{className:"settings-item-header"},u("Language")),s.Ay.createElement(m.A,null)))},h=(0,s.ph)((0,o.EK)(e=>{const{autoTranslate:t}=e.settings.byKey;return{autoTranslate:t}})(A));n()}catch(e){n(e)}})},29031:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.d(t,{A:()=>C});var s=a(84051),o=a(13439),r=a(31481),i=a(60919),l=a(87357),c=a(11778),d=a(36838),m=a(5912),u=a(17712),A=a(73767),h=a(50680),y=a(76453),p=a(52745),v=a(13849),g=e([y]),E=g.then?(await g)():g;y=E[0];const b=200,f=({isOpen:e,addRecentCustomEmoji:t,onCustomEmojiSelect:a,onClose:n,customEmoji:i,isSavedMessages:g,isCurrentUserPremium:E,noPlay:f})=>{const{clearCustomEmojiForEmoji:C}=(0,o.ko)(),S=(0,s.li)(),{shouldRender:w,transitionClassNames:k}=(0,h.A)(e,void 0,void 0,!1),N=(0,A.A)(i,!0),I=i||N;(0,d.A)(S);const{observe:P}=(0,m.BL)({rootRef:S,throttleMs:b,isDisabled:!e});(0,s.vJ)(()=>e?(0,c.A)(n):void 0,[e,n]);const M=(0,u.A)(n=>{e&&(a(n),t({documentId:n.id}),C())}),T=(0,l.A)(v.A.root,"composer-tooltip custom-scroll-x",k,!I?.length&&v.A.hidden);return s.Ay.createElement("div",{ref:S,className:T},w&&I?I.map(e=>s.Ay.createElement(y.A,{key:e.id,sticker:e,className:v.A.emojiButton,size:r.x6_,observeIntersection:P,onClick:M,clickArg:e,isSavedMessages:g,canViewSet:!0,isCurrentUserPremium:E,noPlay:f})):w?s.Ay.createElement(p.A,null):void 0)},C=(0,s.ph)((0,o.EK)((e,{chatId:t})=>{const{stickers:a}=e.customEmojis.forEmoji;return{customEmoji:a,isSavedMessages:(0,i.nZ4)(e,t),isCurrentUserPremium:(0,i.g29)(e)}})(f));n()}catch(e){n(e)}})},29881:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.d(t,{A:()=>v});var s=a(84051),o=a(13439),r=a(60919),i=a(96454),l=a(43874),c=a(26072),d=a(59030),m=a(79577),u=a(40664),A=a(52745),h=e([d,m,u]);[d,m,u]=h.then?(await h)():h;const y=160,p=({animatedEmoji:e,codeLength:t,isLoading:a,error:n,clearError:o,onSubmit:r,isActive:h,onReset:p,recoveryEmail:v})=>{const g=(0,s.li)(),{isMobile:E}=(0,l.Ay)(),b=E?550:400,[f,C]=(0,s.J0)("");(0,s.vJ)(()=>{i.TF||setTimeout(()=>{g.current.focus()},b)},[b]);const S=(0,d.A)();(0,c.A)({isActive:h,onBack:p});const w=(0,s.hb)(e=>{n&&o&&o();const a=e.target.value.slice(0,t);a.length===t&&r(a),C(a),e.target.value=a},[o,t,n,r]);return s.Ay.createElement("div",{className:"settings-content two-fa custom-scroll"},s.Ay.createElement("div",{className:"settings-content-header no-border"},s.Ay.createElement(m.A,{sticker:e,size:y,className:"settings-content-icon"}),v&&s.Ay.createElement("p",{className:"settings-item-description mb-3",dir:"auto"},S("TwoStepAuth.ConfirmEmailDescription",v))),s.Ay.createElement("div",{className:"settings-item settings-group"},s.Ay.createElement(u.A,{value:f,ref:g,inputMode:"decimal",label:S("YourEmailCode"),error:n,onChange:w}),a&&s.Ay.createElement(A.A,null)))},v=(0,s.ph)((0,o.EK)(e=>{const t=(0,r.nTw)(e).recoveryEmail;return{animatedEmoji:(0,r.oei)(e,"💌"),codeLength:e.twoFaSettings.waitingEmailCodeLength,recoveryEmail:t}})(p));n()}catch(e){n(e)}})},30280:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.d(t,{A:()=>y});var s=a(84051),o=a(13439),r=a(89925),i=a(70934),l=a(59030),c=a(19096),d=a(77203),m=a(37321),u=a(61166),A=e([l,c,d,m,u]);[l,c,d,m,u]=A.then?(await A)():A;const h=({passcode:e,currentScreen:t,shownScreen:a,error:n,isActive:A,isLoading:h,onSetPasscode:y,onReset:p})=>{const{setPasscode:v,clearPasscode:g,setPasscodeError:E,clearPasscodeError:b,openSettingsScreen:f}=(0,o.ko)(),C=(0,l.A)(),S=(0,s.hb)(()=>{y(""),f({screen:r.VS.PasscodeNewPasscode})},[y]),w=(0,s.hb)(e=>{y(e),f({screen:r.VS.PasscodeNewPasscodeConfirm})},[y]),k=(0,s.hb)(()=>{v({passcode:e}),y(""),f({screen:r.VS.PasscodeCongratulations})},[y,e]),N=(0,s.hb)(e=>{y(""),(0,i.UQ)(e).then(()=>{f({screen:r.VS.PasscodeChangePasscodeNew})},()=>{E({error:C("PasscodeController.Error.Current")})})},[C,y]),I=(0,s.hb)(e=>{y(e),f({screen:r.VS.PasscodeChangePasscodeConfirm})},[y]),P=(0,s.hb)(e=>{(0,i.UQ)(e).then(()=>{g(),f({screen:r.VS.Privacy})},()=>{E({error:C("PasscodeController.Error.Current")})})},[C]);switch(t){case r.VS.PasscodeDisabled:return s.Ay.createElement(u.A,{onStart:S,isActive:A||[r.VS.PasscodeNewPasscode,r.VS.PasscodeNewPasscodeConfirm,r.VS.PasscodeCongratulations].includes(a),onReset:p});case r.VS.PasscodeNewPasscode:return s.Ay.createElement(c.A,{shouldDisablePasswordManager:!0,placeholder:C("EnterNewPasscode"),submitLabel:C("Continue"),onSubmit:w,isActive:A||[r.VS.PasscodeNewPasscodeConfirm,r.VS.PasscodeCongratulations].includes(a),onReset:p});case r.VS.PasscodeNewPasscodeConfirm:return s.Ay.createElement(c.A,{shouldDisablePasswordManager:!0,expectedPassword:e,placeholder:C("ReEnterYourPasscode"),submitLabel:C("Continue"),isLoading:h,onSubmit:k,isActive:A||[r.VS.PasscodeCongratulations].includes(a),onReset:p});case r.VS.PasscodeCongratulations:return s.Ay.createElement(d.A,{isActive:A,onReset:p});case r.VS.PasscodeEnabled:return s.Ay.createElement(m.A,{isActive:A||[r.VS.PasscodeChangePasscodeCurrent,r.VS.PasscodeChangePasscodeNew,r.VS.PasscodeChangePasscodeConfirm,r.VS.PasscodeCongratulations,r.VS.PasscodeTurnOff].includes(a),onReset:p});case r.VS.PasscodeChangePasscodeCurrent:return s.Ay.createElement(c.A,{shouldDisablePasswordManager:!0,error:n,clearError:b,placeholder:C("PasscodeController.Current.Placeholder"),onSubmit:N,isActive:A||[r.VS.PasscodeChangePasscodeNew,r.VS.PasscodeChangePasscodeConfirm,r.VS.PasscodeCongratulations].includes(a),onReset:p});case r.VS.PasscodeChangePasscodeNew:return s.Ay.createElement(c.A,{shouldDisablePasswordManager:!0,placeholder:C("PleaseEnterNewFirstPassword"),onSubmit:I,isActive:A||[r.VS.PasscodeChangePasscodeConfirm,r.VS.PasscodeCongratulations].includes(a),onReset:p});case r.VS.PasscodeChangePasscodeConfirm:return s.Ay.createElement(c.A,{shouldDisablePasswordManager:!0,expectedPassword:e,placeholder:C("PasscodeController.ReEnterPasscode.Placeholder"),isLoading:h,onSubmit:k,isActive:A||[r.VS.PasscodeCongratulations].includes(a),onReset:p});case r.VS.PasscodeTurnOff:return s.Ay.createElement(c.A,{shouldDisablePasswordManager:!0,error:n?C(n):void 0,clearError:b,placeholder:C("PasscodeController.Current.Placeholder"),onSubmit:P,isActive:A,onReset:p});default:return}},y=(0,s.ph)((0,o.EK)(e=>({...e.passcode}))(h));n()}catch(e){n(e)}})},30617:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.d(t,{A:()=>p});var s=a(84051),o=a(13439),r=a(89925),i=a(58443),l=a(4961),c=a(26072),d=a(59030),m=a(64489),u=a(22720),A=a(89704),h=e([d,u]);[d,u]=h.then?(await h)():h;const y=({isActive:e,onReset:t})=>{const{openSettingsScreen:a}=(0,o.ko)(),n=(0,d.A)();return(0,c.A)({isActive:e,onBack:t}),s.Ay.createElement("div",{className:"settings-content two-fa custom-scroll"},s.Ay.createElement("div",{className:"settings-content-header no-border"},s.Ay.createElement(m.A,{tgsUrl:i.w.Lock,previewUrl:A,size:160,className:"settings-content-icon"}),s.Ay.createElement("p",{className:"settings-item-description mb-3",dir:"auto"},(0,l.A)(n("EnabledPasswordText"),["br"]))),s.Ay.createElement("div",{className:"settings-item"},s.Ay.createElement(u.A,{icon:"edit",onClick:()=>a({screen:r.VS.TwoFaChangePasswordCurrent})},n("ChangePassword")),s.Ay.createElement(u.A,{icon:"password-off",onClick:()=>a({screen:r.VS.TwoFaTurnOff})},n("TurnPasswordOff")),s.Ay.createElement(u.A,{icon:"email",onClick:()=>a({screen:r.VS.TwoFaRecoveryEmailCurrentPassword})},n("SetRecoveryEmail"))))},p=(0,s.ph)(y);n()}catch(e){n(e)}})},30888:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.d(t,{A:()=>p});var s=a(84051),o=a(13439),r=a(60919),i=a(37661),l=a(39351),c=a(29886),d=a(54746),m=a(64493),u=a(8410),A=a(87891),h=e([l,m,u,A]);[l,m,u,A]=h.then?(await h)():h;const y=({isOpen:e,onClose:t,receipt:a})=>{const n=(0,l.A)(),[o,r,h]=(0,i.A)();(0,s.vJ)(()=>{e&&r()},[e,r]);const y=(0,c.A)(a),p=a||y,g=(0,s.Kr)(()=>{if(p)return v(p.credentialsTitle,p.info,p.shippingMethod)},[p]);return s.Ay.createElement(u.A,{className:"PaymentModal PaymentModal-receipt",isOpen:o,onClose:h,onCloseAnimationEnd:t},p&&s.Ay.createElement(s.Ay.Fragment,null,s.Ay.createElement("div",{className:"header",dir:n.isRtl?"rtl":void 0},s.Ay.createElement(m.A,{className:"close-button",color:"translucent",round:!0,size:"smaller",onClick:h,ariaLabel:"Close"},s.Ay.createElement(d.A,{name:"close"})),s.Ay.createElement("h3",null," ",n("PaymentReceipt")," ")),s.Ay.createElement("div",{className:"receipt-content custom-scroll"},s.Ay.createElement(A.A,{shippingPrices:p.shippingPrices,totalPrice:p.totalAmount,tipAmount:p.tipAmount,invoice:p.invoice,checkoutInfo:g,title:p.title,description:p.description,photo:p.photo}))))},p=(0,s.ph)((0,o.EK)(e=>{const{receipt:t}=(0,r.nTw)(e).payment;return{receipt:t}})(y));function v(e,t,a){if(!t)return{paymentMethod:e};const{shippingAddress:n}=t,s=n?.streetLine1?`${n.streetLine1}, ${n.city}, ${n.countryIso2}`:void 0,{phone:o,name:r}=t;return{paymentMethod:e,shippingAddress:s,name:r,phone:o,shippingMethod:a}}n()}catch(g){n(g)}})},31118:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.d(t,{A:()=>T});var s=a(84051),o=a(13439),r=a(89925),i=a(31481),l=a(90709),c=a(60919),d=a(85982),m=a(17663),u=a(80140),A=a(58443),h=a(32625),y=a(37661),p=a(30857),v=a(26072),g=a(39351),E=a(59030),b=a(64489),f=a(54746),C=a(12928),S=a(42827),w=a(94189),k=a(22720),N=e([g,E,C,S,w,k]);[g,E,C,S,w,k]=N.then?(await N)():N;const I="•";function P(e,t){const{isPermanent:a,usage:n=0,date:s}=e,{isPermanent:o,usage:r=0,date:i}=t;return a||o?Number(a)-Number(o):n||r?r-n:i-s}const M=({chatId:e,chat:t,exportedInvites:a,revokedExportedInvites:n,isActive:c,isChannel:N,onClose:M,onScreenSelect:T})=>{const{setEditingExportedInvite:B,showNotification:x,editExportedChatInvite:L,deleteExportedChatInvite:R,deleteRevokedExportedChatInvites:F,setOpenedInviteInfo:D}=(0,o.ko)(),V=(0,g.A)(),_=(0,E.A)(),[U,O,J]=(0,y.A)(),[K,G,j]=(0,y.A)(),[z,H]=(0,s.J0)(),[$,q,W]=(0,y.A)(),[Y,Q]=(0,s.J0)();(0,v.A)({isActive:c,onBack:M});const Z=(0,s.Kr)(()=>{if(a)return a.some(({expireDate:e})=>e&&e-(0,u.Fm)()<m.il/1e3)},[a]),X=(0,p.A)();(0,h.A)(X,Z?1e3:void 0);const ee=(0,s.Kr)(()=>t&&(0,l.Kl)(t),[t]),te=a?.find(({isPermanent:e})=>e),ae=ee?`${i.jsp}${ee}`:te?.link,ne=(0,s.Kr)(()=>{const e=t?.hasUsername?a:a?.filter(({isPermanent:e})=>!e);return e?.sort(P)},[t?.hasUsername,a]),se=(0,s.hb)(t=>{const{link:a,title:n,isRequestNeeded:s,expireDate:o,usageLimit:r}=t;L({chatId:e,link:a,title:n,isRequestNeeded:s,expireDate:o,usageLimit:r,isRevoked:!0})},[e,L]),oe=(0,s.hb)(e=>{H(e),G()},[G]),re=(0,s.hb)(()=>{z&&(se(z),H(void 0),j())},[j,se,z]),ie=(0,s.hb)(()=>{T(r.je.EditInvite)},[T]),le=(0,s.hb)(()=>{te&&oe(te)},[oe,te]),ce=(0,s.hb)(()=>{F({chatId:e}),J()},[e,J,F]),de=(0,s.hb)(t=>{D({chatId:e,invite:t}),T(r.je.InviteInfo)},[e,T,D]),me=(0,s.hb)(t=>{R({chatId:e,link:t.link})},[e,R]),ue=(0,s.hb)(e=>{Q(e),q()},[q]),Ae=(0,s.hb)(()=>{Y&&(me(Y),Q(void 0),W())},[W,me,Y]),he=(0,s.hb)(e=>{(0,d.eM)(e),x({message:_("LinkCopied")})},[_,x]),ye=e=>{const{usage:t=0,usageLimit:a,expireDate:n,isPermanent:s,requested:o,isRevoked:r}=e;let i="";if(i=!r&&a&&t<a?_("CanJoin",a-t):t?_("PeopleJoined",t):_("NoOneJoined"),r)return i+=` ${I} ${_("Revoked")}`,i;if(o&&(i+=` ${I} ${_("JoinRequests",o)}`),void 0!==a&&t===a)i+=` ${I} ${_("LinkLimitReached")}`;else if(n){const e=n-(0,u.Fm)();i+=` ${I} `,i+=e>0?_("InviteLink.ExpiresIn",(0,m.zt)(V,e)):_("InviteLink.Expired")}else s&&(i+=` ${I} ${_("Permanent")}`);return i},pe=e=>{const{usage:t=0,usageLimit:a,isRevoked:n,expireDate:s}=e;return n?"link-status-icon-gray":a&&t<a?"link-status-icon-green":s&&1e3*(s-(0,u.Fm)())<=0?"link-status-icon-red":"link-status-icon-blue"},ve=t=>{const a=[];return a.push({title:_("Copy"),icon:"copy",handler:()=>he(t.link)}),t.isPermanent||t.isRevoked||a.push({title:_("Edit"),icon:"edit",handler:()=>(t=>{B({chatId:e,invite:t}),T(r.je.EditInvite)})(t)}),t.isRevoked?a.push({title:_("DeleteLink"),icon:"delete",handler:()=>ue(t),destructive:!0}):a.push({title:_("RevokeButton"),icon:"delete",handler:()=>oe(t),destructive:!0}),a};return s.Ay.createElement("div",{className:"Management ManageInvites"},s.Ay.createElement("div",{className:"panel-content custom-scroll"},s.Ay.createElement("div",{className:"section"},s.Ay.createElement(b.A,{tgsUrl:A.w.Invite,size:i.xMZ,className:"section-icon"}),s.Ay.createElement("p",{className:"section-help"},_(N?"PrimaryLinkHelpChannel":"PrimaryLinkHelp"))),ae&&s.Ay.createElement("div",{className:"section"},s.Ay.createElement(C.A,{className:"settings-input",link:ae,withShare:!0,onRevoke:t?.usernames?void 0:le,title:_(t?.usernames?"PublicLink":"lng_create_permanent_link_title")})),s.Ay.createElement("div",{className:"section",teactFastList:!0},s.Ay.createElement(k.A,{icon:"add",withPrimaryColor:!0,key:"create",className:"create-item",onClick:ie},_("CreateNewLink")),(!ne||!ne.length)&&s.Ay.createElement(S.A,{text:"No links found",key:"nothing"}),ne?.map(e=>s.Ay.createElement(k.A,{leftElement:s.Ay.createElement(f.A,{name:"link",className:`link-status-icon ${pe(e)}`}),secondaryIcon:"more",multiline:!0,onClick:()=>de(e),contextActions:ve(e),key:e.link},s.Ay.createElement("span",{className:"title invite-title"},e.title||e.link),s.Ay.createElement("span",{className:"subtitle",dir:"auto"},ye(e)))),s.Ay.createElement("p",{className:"section-help hint",key:"links-hint"},_("ManageLinksInfoHelp"))),n&&Boolean(n.length)&&s.Ay.createElement("div",{className:"section",teactFastList:!0},s.Ay.createElement("p",{className:"section-help",key:"title"},_("RevokedLinks")),s.Ay.createElement(k.A,{icon:"delete",destructive:!0,key:"delete",onClick:O},s.Ay.createElement("span",{className:"title"},_("DeleteAllRevokedLinks"))),n?.map(e=>s.Ay.createElement(k.A,{leftElement:s.Ay.createElement(f.A,{name:"link",className:`link-status-icon ${pe(e)}`}),secondaryIcon:"more",multiline:!0,onClick:()=>de(e),contextActions:ve(e),key:e.link},s.Ay.createElement("span",{className:"title"},e.title||e.link),s.Ay.createElement("span",{className:"subtitle",dir:"auto"},ye(e)))))),s.Ay.createElement(w.A,{isOpen:U,onClose:J,title:_("DeleteAllRevokedLinks"),text:_("DeleteAllRevokedLinkHelp"),confirmIsDestructive:!0,confirmLabel:_("DeleteAll"),confirmHandler:ce}),s.Ay.createElement(w.A,{isOpen:K,onClose:j,title:_("RevokeLink"),text:_("RevokeAlert"),confirmIsDestructive:!0,confirmLabel:_("RevokeButton"),confirmHandler:re}),s.Ay.createElement(w.A,{isOpen:$,onClose:W,title:_("DeleteLink"),text:_("DeleteLinkHelp"),confirmIsDestructive:!0,confirmLabel:_("Delete"),confirmHandler:Ae}))},T=(0,s.ph)((0,o.EK)((e,{chatId:t})=>{const{invites:a,revokedInvites:n}=(0,c.nTw)(e).management.byChatId[t]||{},s=(0,c.hds)(e,t);return{exportedInvites:a,revokedExportedInvites:n,chat:s,isChannel:s&&(0,l.WX)(s)}})(M));n()}catch(B){n(B)}})},31120:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.d(t,{A:()=>g});var s=a(84051),o=a(89925),r=a(13439),i=a(60919),l=a(26072),c=a(39351),d=a(17712),m=a(54746),u=a(43434),A=a(12933),h=a(40664),y=a(57474),p=e([c,u,A,h]);[c,u,A,h]=p.then?(await p)():p;const v=({chat:e,onClose:t,isActive:a,creationProgress:n,creationError:i})=>{const{createChannel:p}=(0,r.ko)(),v=(0,c.A)();(0,l.A)({isActive:a,onBack:t});const[g,E]=(0,s.J0)(v("NewDiscussionChatTitle",{name:e?.title})),[b,f]=(0,s.J0)(),[C,S]=(0,s.J0)(),w=n===o.n7.InProgress,k=(0,d.A)(e=>{const{value:t}=e.currentTarget,a=t.trimStart();E(a),a!==t&&(e.currentTarget.value=a)}),N=i&&v("NewChatTitleEmptyError")||(C!==v("NewChatTitleEmptyError")&&C!==v("NewChannelTitleEmptyError")?C:void 0),I=(0,d.A)(()=>{g.length?e&&p({discussionChannelId:e.id,title:g,photo:b,isSuperGroup:!0}):S(v("NewChatTitleEmptyError"))});return s.Ay.createElement("div",{className:"Management"},s.Ay.createElement("div",{className:"panel-content custom-scroll"},s.Ay.createElement("div",{className:"NewChat"},s.Ay.createElement("div",{className:"NewChat-inner step-2"},s.Ay.createElement(u.A,{onChange:f,title:v("AddPhoto")}),s.Ay.createElement(h.A,{value:g,onChange:k,label:v("GroupName"),error:C===v("NewChatTitleEmptyError")||C===v("NewChannelTitleEmptyError")?C:void 0}),N&&s.Ay.createElement("p",{className:"error"},N)),s.Ay.createElement(A.A,{isShown:0!==g.length,onClick:I,disabled:w,ariaLabel:v("DiscussionCreateGroup")},w?s.Ay.createElement(y.A,{color:"white"}):s.Ay.createElement(m.A,{name:"arrow-right"})))))},g=(0,s.ph)((0,r.EK)((e,{chatId:t})=>{const{progress:a,error:n}=(0,i.nTw)(e).chatCreation||{};return{chat:(0,i.hds)(e,t),creationProgress:a,creationError:n}})(v));n()}catch(e){n(e)}})},31202:(e,t,a)=>{a.d(t,{A:()=>n});const n={wrapper:"w3OGYFKn",input:"xy4AclZa",content:"TTgSI7Xh",notChecked:"JDcXsByU",giveaway:"sEt7TF59",title:"u4NzVBBi",link:"y7XfPOoG",optionImg:"lGhZJbMF",contentText:"kt2ZKZ6j"}},31490:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.d(t,{A:()=>P});var s=a(84051),o=a(13439),r=a(89925),i=a(96454),l=a(87357),c=a(37836),d=a(52234),m=a(59852),u=a(14),A=a(5912),h=a(17712),y=a(73767),p=a(50680),v=a(56676),g=a(46222),E=a(22720),b=a(58686),f=a(45266),C=a(71580),S=a(51525),w=e([E,b,f,C,S]);[E,b,f,C,S]=w.then?(await w)():w;const k=200,N=(0,c.nF)(e=>e(),500,!0),I=({isOpen:e,botId:t,isGallery:a,inlineBotResults:n,switchPm:c,switchWebview:w,isSavedMessages:I,canSendGifs:P,loadMore:M,onClose:T,onSelectResult:B,isCurrentUserPremium:x})=>{const{openChat:L,startBot:R,requestSimpleWebView:F}=(0,o.ko)(),D=(0,s.li)(),{shouldRender:V,transitionClassNames:_}=(0,p.A)(e,void 0,void 0,!1),U=(0,u.A)(a,V),{observe:O}=(0,A.BL)({rootRef:D,debounceMs:k,isDisabled:!e}),J=(0,h.A)(({direction:e})=>{e===r.TN.Backwards&&N(M)}),K=(0,v.J)({isActive:e,shouldRemoveSelectionOnReset:U,noArrowNavigation:U,items:n,onSelect:B,onClose:T});(0,s.vJ)(()=>{(0,d.A)(".chat-item-clickable",K,D)},[K]);const G=(0,h.A)(()=>{L({id:t}),R({botId:t,param:c.startParam})}),j=(0,h.A)(()=>{const e=(0,m.A)();F({botId:t,url:w.url,buttonText:w.text,theme:e,isFromSwitchWebView:!0})}),z=(0,y.A)(n?.length?n:void 0,V),H=n?.length?n:z;if(!V||!H?.length&&!c)return;const $=(0,l.A)("InlineBotTooltip composer-tooltip",i.TF?"no-scrollbar":"custom-scroll",U&&"gallery",_);return s.Ay.createElement(g.A,{ref:D,className:$,items:H,itemSelector:".chat-item-clickable",noFastList:!0,onLoadMore:J,sensitiveArea:160},c&&s.Ay.createElement(E.A,{ripple:!0,className:"switch-pm scroll-item",onClick:G},s.Ay.createElement("span",{className:"title"},c.text)),w&&s.Ay.createElement(E.A,{ripple:!0,className:"switch-pm scroll-item",onClick:j},s.Ay.createElement("span",{className:"title"},w.text)),Boolean(H?.length)&&H.map((e,t)=>{switch(e.type){case"gif":return s.Ay.createElement(f.A,{key:e.id,inlineResult:e,observeIntersection:O,onClick:B,isSavedMessages:I,canSendGifs:P});case"photo":return s.Ay.createElement(C.A,{key:e.id,isForGallery:U,inlineResult:e,onClick:B});case"sticker":return s.Ay.createElement(S.A,{key:e.id,inlineResult:e,observeIntersection:O,onClick:B,isSavedMessages:I,isCurrentUserPremium:x});case"video":case"file":case"game":return s.Ay.createElement(C.A,{key:e.id,focus:K===t,inlineResult:e,onClick:B});case"article":case"audio":case"voice":return s.Ay.createElement(b.A,{key:e.id,focus:K===t,inlineResult:e,onClick:B});default:return}}))},P=(0,s.ph)(I);n()}catch(e){n(e)}})},31761:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.d(t,{Ay:()=>y,EC:()=>m,dG:()=>u});var s=a(84051),o=a(87357),r=a(17712),i=a(59030),l=a(54746),c=a(64493),d=e([i,c]);[i,c]=d.then?(await d)():d;let m=function(e){return e[e.Emoji=0]="Emoji",e[e.CustomEmoji=1]="CustomEmoji",e[e.Stickers=2]="Stickers",e[e.GIFs=3]="GIFs",e}({});const u={[m.Emoji]:"Emoji",[m.CustomEmoji]:"StickersList.EmojiItem",[m.Stickers]:"AccDescrStickers",[m.GIFs]:"GifsTab"},A={[m.Emoji]:"icon-smile",[m.CustomEmoji]:"icon-favorite",[m.Stickers]:"icon-stickers",[m.GIFs]:"icon-gifs"},h=({activeTab:e,onSwitchTab:t,onRemoveSymbol:a,onSearchOpen:n,isAttachmentModal:d,canSendPlainText:h,canSearch:y})=>{const p=(0,i.A)();function v(a){return s.Ay.createElement(c.A,{className:"symbol-tab-button "+(e===a?"activated":""),onClick:()=>t(a),ariaLabel:p(u[a]),round:!0,faded:!0,color:"translucent"},s.Ay.createElement("i",{className:(0,o.A)("icon",A[a])}))}const g=(0,r.A)(()=>{n(e===m.Stickers?"stickers":"gifs")});return s.Ay.createElement("div",{className:"SymbolMenu-footer",onClick:function(e){e.stopPropagation()},dir:p.isRtl?"rtl":void 0},e!==m.Emoji&&e!==m.CustomEmoji&&y&&s.Ay.createElement(c.A,{className:"symbol-search-button",ariaLabel:e===m.Stickers?"Search Stickers":"Search GIFs",round:!0,faded:!0,color:"translucent",onClick:g},s.Ay.createElement(l.A,{name:"search"})),h&&v(m.Emoji),h&&v(m.CustomEmoji),!d&&v(m.Stickers),!d&&v(m.GIFs),(e===m.Emoji||e===m.CustomEmoji)&&s.Ay.createElement(c.A,{className:"symbol-delete-button",onClick:a,ariaLabel:"Remove Symbol",round:!0,faded:!0,color:"translucent"},s.Ay.createElement(l.A,{name:"delete-left"})))},y=(0,s.ph)(h);n()}catch(e){n(e)}})},32743:(e,t,a)=>{a.d(t,{A:()=>n});const n={root:"sfbpMFHM",transition:"ELNkgPve",button:"c1tMxuFH",main:"ZpOIPrhp","status-emoji":"mQwvY9LA",statusEmoji:"mQwvY9LA","sticker-wrapper":"sNJHQkwe",stickerWrapper:"sNJHQkwe","header-text":"y71v6ECL",headerText:"y71v6ECL",description:"cUcKXV3j",list:"c3Ee2oSo","no-button":"yWEHoJOL",noButton:"yWEHoJOL",header:"Bc_F0RKb","hidden-header":"ltXo0Xi7",hiddenHeader:"ltXo0Xi7","close-button":"XyN3eWog",closeButton:"XyN3eWog","premium-header-text":"xysPdANX",premiumHeaderText:"xysPdANX","footer-text":"yKm9hKQP",footerText:"yKm9hKQP","primary-footer-text":"l1WlNpmu",primaryFooterText:"l1WlNpmu",footer:"nCnlO9UZ",stickerSetText:"xw_GbDj7",stickerSetLink:"FLzl2ng5",stickerSetLinkIcon:"Y0jTcadE",subscriptionOptions:"xZC_Oajr",subscriptionOption:"gygsbDbE",starParticlesHeader:"z0zfJObh",giftParticlesHeader:"lzalivui"}},32819:(e,t,a)=>{a.d(t,{A:()=>n});const n={root:"bu_hGbaa",fullSize:"W9A8SEMl",backdrop:"OFh6u50Q",captionBackdrop:"Jd1DYS6Y",backdropNonInteractive:"xe67dhtF",close:"Mye8Dwxa",wrapper:"gLHHo5k8",slideAnimation:"GJVwqV9e",slideAnimationToActive:"_Yn4SWUB",content:"hGCH03qc",slideAnimationFromActive:"ZecqXqKy",storyHeader:"e7HHuS1g",composer:"FXineBYO",caption:"RKedwa0I",captionGradient:"sHNAfxzf",media:"PVZ8TOWS",mediaPreview:"lQfkulvp",contentInner:"Wi0DXPH2",name:"Ka1CGfzq",slide:"urTtSsk9",mobileSlide:"AjXOHOgE",slidePreview:"Sef28wEh",activeSlide:"uAlXNXJN",slideInner:"g8ypsnnC",mediaWrapper:"YiuvOPgT",forward:"pGKsAszF",storyIndicators:"jGDd2sza",sender:"eMYhXF_X",senderInfoTransition:"PXnfXZur",senderInfo:"WpyVfrsc",senderMeta:"jmKI_lhC",senderName:"H1uod43o",storyMetaRow:"zimpR8Hz",storyMeta:"hGTnZuar",closeButton:"WlLsjJ2Z",actions:"GrsJNw3y",active:"q756IpZB",visibilityButton:"prxptFFf",visibilityButtonSelf:"_MVsZpgB",button:"TkphaPyQ",buttonMenu:"K0_xAdzf",captionInner:"D_5mWNmi",captionContent:"ilyTRZtw",captionText:"hmFA5qb1",hasOverflow:"e1gyTmKe",expanded:"HIMnUViv",animate:"CvnxnCxN",withShowMore:"Vq8pl_kQ",captionShowMore:"bM5rlQtM",navigate:"nZ30pf4g",prev:"SXpRZiax",next:"twOBFwUE",modal:"nLPOogqS",thumbnail:"MnNC7VHS",ghost:"fME2l_yv",ghost2:"TYicp2_K",ghostImage:"HjoURJRK",forwardHeader:"JJFtefb9",clickable:"BsqMBS2I",headerTitle:"G8OgmMDJ",forwardInfo:"_M8CgT7s",fromPeer:"nJr8QgYX"}},32899:(e,t,a)=>{a.d(t,{Ay:()=>i});var n=a(84051),s=a(22237);const[o,r]=(0,s.n5)(0);function i(){return(0,n._W)(()=>{r(0)}),[o,r]}},33065:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.d(t,{A:()=>N});var s=a(84051),o=a(13439),r=a(31481),i=a(60919),l=a(87357),c=a(14242),d=a(4961),m=a(37661),u=a(59030),A=a(54746),h=a(64493),y=a(8410),p=a(47968),v=a(66511),g=e([u,h,y,p]);[u,h,y,p]=g.then?(await g)():g;const E={dialogFiltersChats:"LimitReachedChatInFolders",uploadMaxFileparts:"LimitReachedFileSize",dialogFilters:"LimitReachedFolders",dialogFolderPinned:"LimitReachedPinDialogs",channelsPublic:"LimitReachedPublicLinks",channels:"LimitReachedCommunities",chatlistInvites:"LimitReachedFolderLinks",chatlistJoined:"LimitReachedSharedFolders",savedDialogsPinned:"LimitReachedPinSavedDialogs"},b={dialogFiltersChats:"LimitReachedChatInFoldersLocked",uploadMaxFileparts:"LimitReachedFileSizeLocked",dialogFilters:"LimitReachedFoldersLocked",dialogFolderPinned:"LimitReachedPinDialogsLocked",channelsPublic:"LimitReachedPublicLinksLocked",channels:"LimitReachedCommunitiesLocked",chatlistInvites:"LimitReachedFolderLinksLocked",chatlistJoined:"LimitReachedSharedFoldersLocked",savedDialogsPinned:"LimitReachedPinSavedDialogsLocked"},f={dialogFiltersChats:"LimitReachedChatInFoldersPremium",uploadMaxFileparts:"LimitReachedFileSizePremium",dialogFilters:"LimitReachedFoldersPremium",dialogFolderPinned:"LimitReachedPinDialogsPremium",channelsPublic:"LimitReachedPublicLinksPremium",channels:"LimitReachedCommunitiesPremium",chatlistInvites:"LimitReachedFolderLinksPremium",chatlistJoined:"LimitReachedSharedFoldersPremium",savedDialogsPinned:"LimitReachedPinSavedDialogsPremium"},C={dialogFiltersChats:"chat-badge",uploadMaxFileparts:"file-badge",dialogFilters:"folder-badge",dialogFolderPinned:"pin-badge",channelsPublic:"link-badge",channels:"chats-badge",chatlistInvites:"link-badge",chatlistJoined:"folder-badge",savedDialogsPinned:"pin-badge"},S={uploadMaxFileparts:(e,t)=>8e3===t?e("FileSize.GB","4"):4e3===t?e("FileSize.GB","2"):(0,c.v7)(e,t*r.dK5)};function w({lang:e,limitType:t,isPremium:a,canBuyPremium:n,defaultValue:s,premiumValue:o,valueFormatter:r}){if(!t)return;const i=r?r(e,s):s,l=r?r(e,o):o;return a?e(f[t],l):n?e(E[t],"channelsPublic"===t?l:[i,l]):e(b[t],i)}const k=({defaultValue:e,premiumValue:t,limit:a,isPremium:n,canBuyPremium:r})=>{const{closeLimitReachedModal:i,openPremiumModal:c}=(0,o.ko)(),g=(0,u.A)(),[E,b,f]=(0,m.A)(),k=(0,s.hb)(()=>{c(),b()},[c,b]);(0,s.vJ)(()=>{!a&&E&&f()},[E,a,f]);const N=g("LimitReached"),I=a&&S[a],P=w({lang:g,limitType:a,isPremium:n,canBuyPremium:r,defaultValue:e,premiumValue:t,valueFormatter:I}),M=a&&C[a],T=r&&!n;return s.Ay.createElement(y.A,{onClose:b,onCloseAnimationEnd:i,isOpen:Boolean(a)&&!E,title:N,className:v.A.root},!T&&s.Ay.createElement("div",{className:v.A.limitBadge},s.Ay.createElement("i",{className:(0,l.A)(v.A.limitIcon,M,"icon")}),s.Ay.createElement("div",{className:v.A.limitValue},I?.(g,n?t:e)||(n?t:e))),T&&s.Ay.createElement(p.A,{className:v.A.limitCompare,leftValue:I?.(g,e)||e?.toString(),rightValue:I?.(g,t)||t?.toString(),floatingBadgeIcon:M}),s.Ay.createElement("div",null,(0,d.A)(P||"",["simple_markdown","br"])),s.Ay.createElement("div",{className:v.A.dialogButtons},s.Ay.createElement(h.A,{className:"confirm-dialog-button",isText:!0,onClick:b,color:"primary"},g(T?"Cancel":"OK")),T&&s.Ay.createElement(h.A,{className:"confirm-dialog-button",isText:!0,onClick:k,color:"primary"},g("IncreaseLimit"),s.Ay.createElement(A.A,{name:"double-badge",className:v.A.x2}))))},N=(0,s.ph)((0,o.EK)((e,{limit:t})=>{const{limits:a}=e.appConfig||{},n=(0,i.g29)(e);return{defaultValue:t?a?.[t][0]:void 0,premiumValue:t?a?.[t][1]:void 0,canBuyPremium:!(0,i.n_C)(e),isPremium:n}})(k));n()}catch(I){n(I)}})},33092:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.d(t,{A:()=>E});var s=a(84051),o=a(13439),r=a(90709),i=a(60919),l=a(79824),c=a(37661),d=a(26072),m=a(59030),u=a(54746),A=a(17751),h=a(12933),y=a(22720),p=a(60760),v=e([m,A,h,y,p]);[m,A,h,y,p]=v.then?(await v)():v;const g=({chat:e,usersById:t,canDeleteMembers:a,removedMembers:n,isChannel:i,onClose:l,isActive:v})=>{const{updateChatMemberBannedRights:g}=(0,o.ko)(),E=(0,m.A)(),[b,f,C]=(0,c.A)();(0,d.A)({isActive:v,onBack:l});const S=(0,s.hb)(e=>{if(!e.kickedByUserId)return;const a=t[e.kickedByUserId];return a?E("UserRemovedBy",(0,r.Yg)(a)):void 0},[E,t]),w=(0,s.hb)(t=>{if(e)return[{title:E("Unblock"),icon:"delete",destructive:!0,handler:()=>g({chatId:e.id,userId:t.userId,bannedRights:{}})}]},[E,e,g]);return s.Ay.createElement("div",{className:"Management"},s.Ay.createElement("div",{className:"panel-content custom-scroll"},s.Ay.createElement("div",{className:"section",dir:E.isRtl?"rtl":void 0},s.Ay.createElement("p",{className:"section-help"},E(i?"NoBlockedChannel2":"NoBlockedGroup2")),n.map(e=>s.Ay.createElement(y.A,{key:e.userId,className:"chat-item-clickable",ripple:!0,contextActions:w(e)},s.Ay.createElement(A.A,{userId:e.userId,status:S(e),forceShowSelf:!0}))),a&&s.Ay.createElement(h.A,{isShown:!0,onClick:f,ariaLabel:E("Channel.EditAdmin.Permission.BanUsers")},s.Ay.createElement(u.A,{name:"add-user-filled"})),e&&a&&s.Ay.createElement(p.A,{chat:e,isOpen:b,onClose:C}))))},E=(0,s.ph)((0,o.EK)((e,{chatId:t})=>{const a=(0,i.hds)(e,t),{byId:n}=e.users;return{chat:a,usersById:n,canDeleteMembers:a&&((0,r.ub)(a,"banUsers")||a.isCreator),removedMembers:(0,i.AWZ)(e,t)?.kickedMembers||l.p,isChannel:a&&(0,r.WX)(a)}})(g));n()}catch(e){n(e)}})},33273:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.d(t,{A:()=>v});var s=a(84051),o=a(13439),r=a(90709),i=a(70636),l=a(60919),c=a(4961),d=a(62587),m=a(59030),u=a(21849),A=a(5331),h=a(32819),y=e([i,d,m,u,A]);function p({peer:e,peerStories:t,lastViewedId:a,storyIdsForViewer:n,origin:l}){const{openStoryViewer:y,loadPeerSkippedStories:p}=(0,o.ko)(),v=(0,m.A)(),g=(0,s.Kr)(()=>{if(!t)return;const{orderedIds:e,lastReadId:s,byId:o}=t,r=e[e.length-1]!==s,i=a&&n?.includes(a)?a??(r?s??-1:-1):-1;return o[o[i]?.id||n?.[0]||e[0]]},[a,t,n]),E=g&&"content"in g;(0,s.vJ)(()=>{g&&!E&&p({peerId:g.peerId})},[g,E]);const b=E?g.content.video:void 0,f=E?(0,r.EN)(g):void 0,C=(0,d.A)(f)||b?.thumbnail?.dataUri;if(e&&g&&!("isDeleted"in g))return s.Ay.createElement("div",{className:h.A.slideInner,onClick:()=>{y({peerId:g.peerId,storyId:g.id,origin:l})}},C&&s.Ay.createElement("img",{src:C,alt:"",className:h.A.media,draggable:!1}),E&&s.Ay.createElement(A.A,{story:g}),s.Ay.createElement("div",{className:h.A.content},s.Ay.createElement("div",{className:h.A.contentInner},s.Ay.createElement(u.A,{peer:e,withStory:!0,storyViewerMode:"disabled"}),s.Ay.createElement("div",{className:h.A.name},(0,c.A)((0,i.F9)(v,e)||"")))))}[i,d,m,u,A]=y.then?(await y)():y;const v=(0,s.ph)((0,o.EK)((e,{peer:t})=>{const{storyViewer:{lastViewedByPeerId:a,origin:n,storyList:s}}=(0,l.nTw)(e);return{lastViewedId:t?.id?a?.[t.id]:void 0,origin:n,storyIdsForViewer:t?.id?s?.storyIdsByPeerId[t.id]:void 0}})(p));n()}catch(g){n(g)}})},33336:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.d(t,{A:()=>p});var s=a(84051),o=a(13439),r=a(31481),i=a(11116),l=a(37836),c=a(59030),d=a(73767),m=a(40664),u=e([c,m]);[c,m]=u.then?(await u)():u;const A=/https:\/\/t\.me\/?/i,h=(0,l.sg)(e=>e(),250,!1),y=({currentUsername:e,asLink:t,isLoading:a,isUsernameAvailable:n,checkedUsername:l,onChange:u})=>{const{checkUsername:y,checkPublicLink:p}=(0,o.ko)(),[v,g]=(0,s.J0)(e||""),E=(0,c.A)(),b=t?"SetUrl":"Username",f=E(t?"SetUrlPlaceholder":"Username"),C=(0,d.A)(n),S=e!==v?n??C:void 0,w=v&&e!==v&&l!==v,[k,N]=(0,s.Kr)(()=>v.length?v.length<i.tX?[void 0,E(`${b}InvalidShort`)]:v.length>i.Tk?[void 0,E(`${b}InvalidLong`)]:i.Ny.test(v)?void 0===S||w?[]:[S?E(`${b}Available`,f):void 0,!1===S?E(`${b}InUse`):void 0]:[void 0,E(`${b}Invalid`)]:[],[v,S,w,E,b,f]);(0,s.vJ)(()=>{g(e||"")},[t,e]);const I=(0,s.hb)(a=>{const n=a.target.value.trim();if(t&&!n.match(A))return void(n.length||(g(""),u?.("")));const s=n.replace(A,"");g(s),(""===s||(0,i.BU)(s,!0))&&(u?.(s),h(()=>{s!==e&&(t?p:y)({username:s})}))},[t,p,y,e,u]);return s.Ay.createElement(m.A,{value:`${t?r.jsp:""}${v}`,onChange:I,label:w?E("Checking"):f,error:N,success:k,readOnly:a,teactExperimentControlled:!0})},p=(0,s.ph)(y);n()}catch(e){n(e)}})},33833:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.d(t,{A:()=>f});var s=a(84051),o=a(13439),r=a(90709),i=a(60919),l=a(96454),c=a(87357),d=a(26072),m=a(5912),u=a(59030),A=a(11186),h=a(93966),y=a(46222),p=a(52745),v=e([u,A,h]);[u,A,h]=v.then?(await v)():v;const g=96,E=300,b=({isActive:e,query:t,results:a,chat:n,chatFullInfo:i,isChatWithBot:v,canScheduleUntilOnline:b,isSavedMessages:f,canPostInChat:C,currentMessageList:S,onClose:w})=>{const{searchMoreGifs:k,sendMessage:N,setGifSearchQuery:I}=(0,o.ko)(),P=(0,s.li)(),[M,T]=(0,A.A)(b),{observe:B}=(0,m.BL)({rootRef:P,debounceMs:E}),x=C&&(0,r.Q_)(n,i,v,f).canSendGifs,L=(0,s.hb)((e,t,a)=>{if(x){if(!S)return;a?M(a=>{N({messageList:S,gif:e,scheduledAt:a,isSilent:t})}):N({messageList:S,gif:e,isSilent:t})}l.TF&&I({query:void 0})},[x,S,M]),R=(0,s.hb)(()=>{k()},[k]),F=(0,u.A)();(0,d.A)({isActive:e,onBack:w});const D=Boolean(void 0!==t&&a&&a.length);return s.Ay.createElement("div",{className:"GifSearch",dir:F.isRtl?"rtl":void 0},s.Ay.createElement(y.A,{ref:P,className:(0,c.A)("gif-container custom-scroll",D&&"grid"),items:a,itemSelector:".GifButton",preloadBackwards:g,noFastList:!0,onLoadMore:R},function(){if(void 0!==t)return a?a.length?a.map(e=>s.Ay.createElement(h.A,{key:e.id,gif:e,observeIntersection:B,onClick:x?L:void 0,isSavedMessages:f})):s.Ay.createElement("p",{className:"helper-text",dir:"auto"},F("NoGIFsFound")):s.Ay.createElement(p.A,null)}()),T)},f=(0,s.ph)((0,o.EK)(e=>{const t=(0,i.Wy7)(e),{query:a,results:n}=t||{},{chatId:s,threadId:o}=(0,i.Xf0)(e)||{},l=s?(0,i.hds)(e,s):void 0,c=s?(0,i.AWZ)(e,s):void 0,d=l?(0,i.ALW)(e,l):void 0,m=Boolean(s)&&(0,i.nZ4)(e,s),u=s&&o?(0,i.Vw0)(e,s,o):void 0,A=Boolean(!u?.isCommentsInfo&&u?.fromChannelId),h=s&&o?(0,i.S0q)(e,s,o):void 0;return{query:a,results:n,chat:l,isChatWithBot:d,isSavedMessages:m,canPostInChat:Boolean(l)&&Boolean(o)&&(0,r.__)(l,h,A,c),canScheduleUntilOnline:Boolean(s)&&(0,i.RBq)(e,s),currentMessageList:(0,i.Xf0)(e)}})(b));n()}catch(e){n(e)}})},34005:(e,t,a)=>{a.d(t,{A:()=>n});const n={root:"aMjNU9gm","list-item":"T3An6Hoz",listItem:"T3An6Hoz",title:"dQ9wwFu1",subtitle:"m_J41YYl",languages:"r3YNWDQr"}},34157:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.d(t,{A:()=>f});var s=a(84051),o=a(13439),r=a(23174),i=a(90709),l=a(60919),c=a(87357),d=a(95807),m=a(65632),u=a(39351),A=a(17712),h=a(54746),y=a(84793),p=a(64493),v=a(8410),g=a(88125),E=e([u,y,p,v]);[u,y,p,v]=E.then?(await E)():E;const b=({modal:e,theme:t,isBackgroundBlurred:a,patternColor:n,customBackground:l,backgroundColor:E,bot:b})=>{const{closePreparedInlineMessageModal:f,sendWebAppEvent:C,openSharePreparedMessageModal:S}=(0,o.ko)(),w=(0,u.A)(),k=Boolean(e),{webAppKey:N,message:I,botId:P}=e||{},M=(0,s.li)(),T=(0,m.A)(t,l),B=(0,A.A)(()=>{N&&P&&I&&(S({webAppKey:N,message:I}),f())}),x=(0,A.A)(()=>{f(),N&&C({webAppKey:N,event:{eventType:"prepared_message_failed",eventData:{error:"USER_DECLINED"}}})}),L=(0,s.Kr)(()=>{if(e)return s.Ay.createElement("div",{className:g.A.header},s.Ay.createElement(p.A,{round:!0,color:"translucent",size:"smaller",ariaLabel:w("Close"),onClick:x},s.Ay.createElement(h.A,{name:"close"})),s.Ay.createElement("h3",{className:(0,c.A)("modal-title",g.A.modalTitle)},w("BotShareMessage")))},[w,e]),R=(0,s.Kr)(()=>{if(P&&I&&N)return(0,i.i7)(P,I)},[P,I,N]),F=(0,c.A)(g.A.background,g.A.withTransition,l&&g.A.customBgImage,E&&g.A.customBgColor,l&&a&&g.A.blurred);return s.Ay.createElement(v.A,{dialogRef:M,isOpen:k,header:L,onClose:x,className:g.A.root,contentClassName:g.A.content},s.Ay.createElement("div",{className:(0,c.A)(g.A.actionMessageView,"MessageList"),inert:!0,style:(0,d.A)(`--pattern-color: ${n}`,E&&`--theme-background-color: ${E}`)},s.Ay.createElement("div",{className:F,style:T?`--custom-background: ${T}`:void 0}),R&&s.Ay.createElement(y.A,{key:P,message:R,threadId:r.l3,messageListType:"thread",noComments:!0,noReplies:!0,appearanceOrder:0,isJustAdded:!1,isFirstInGroup:!0,isLastInGroup:!0,isLastInList:!1,isFirstInDocumentGroup:!1,isLastInDocumentGroup:!1})),s.Ay.createElement("div",{className:g.A.container},s.Ay.createElement("p",{className:g.A.info},w("WebAppShareMessageInfo",{user:(0,i.Yg)(b)})),s.Ay.createElement(p.A,{size:"smaller",onClick:B},w("BotShareMessageShare"))))},f=(0,s.ph)((0,o.EK)((e,{modal:t})=>{const a=(0,l.SJA)(e),{isBlurred:n,patternColor:s,background:o,backgroundColor:r}=(0,l.Gyz)(e,a)||{};return{theme:a,isBackgroundBlurred:n,patternColor:s,customBackground:o,backgroundColor:r,bot:t?(0,l.mBe)(e,t?.botId):void 0,currentUserId:e.currentUserId}})(b));n()}catch(e){n(e)}})},34573:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.d(t,{Hp:()=>C,Yn:()=>S,oX:()=>f});var s=a(23174),o=a(96454),r=a(41074),i=a(24021),l=a(66644),c=e([i]),d=c.then?(await c)():c;function m(e,t,a){return(t=u(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function u(e){var t=A(e,"string");return"symbol"==typeof t?t:t+""}function A(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}i=d[0];const h=o.Ni||o.pz,y=o.Ni||o.pz?.3:.25,p=h?40:80,v=200,g=(0,r.Ay)();let E;class b{constructor(e,t){m(this,"frames",new Map),m(this,"currentTime",0),m(this,"canvas",void 0),this.canvas=t,g.forEach(({connector:t},a)=>{t.request({name:"video-preview:init",args:[e,p,a,r.bP,this.onFrame.bind(this)]})})}onFrame(e,t){this.frames.set(e,t),e===this.currentTime&&this.render(e)}clearCache(){this.frames.forEach(e=>{e.close()}),this.frames.clear()}render(e){this.currentTime=e;const t=this.frames.get(e);return!!t&&((0,l.RK)(()=>{this.canvas.width=t.width,this.canvas.height=t.height,this.canvas.getContext("2d").drawImage(t,0,0,this.canvas.width,this.canvas.height)}),!0)}destroy(){this.clearCache(),g.forEach(({connector:e})=>{e.request({name:"video-preview:destroy",args:[]})})}}function f(e,t){const a=(e=Math.round(e*y))/(t=Math.round(t*y));return e>v&&(e=v,t=Math.round(e/a)),t>v&&(t=v,e=Math.round(t*a)),{width:e,height:t}}function C(e,t){return E&&E.destroy(),E=new b(e,t),()=>{E?.destroy(),E=void 0}}function S(e){return!!E&&E.render(e)}g.forEach(({worker:e})=>{e.addEventListener("message",async t=>{const{type:a,messageId:n,params:o}=t.data;if("requestPart"!==a)return;const r=await(0,i.px)("downloadMedia",{mediaFormat:s.qZ.Progressive,...o});if(!r)return;const{arrayBuffer:l}=r;e.postMessage({type:"partResponse",messageId:n,result:l},[l])})}),n()}catch(w){n(w)}})},34828:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.d(t,{A:()=>u});var s=a(84051),o=a(13439),r=a(17712),i=a(59030),l=a(9267),c=a(22720),d=e([i,c]);function m({premiumSection:e}){const{openPremiumModal:t}=(0,o.ko)(),a=(0,i.A)(),n=(0,r.A)(()=>t({initialSection:e}));return s.Ay.createElement("div",{className:"settings-item"},s.Ay.createElement(c.A,{leftElement:s.Ay.createElement(l.A,{className:"icon ListItem-main-icon",type:"premium",size:"big"}),onClick:n},a("PrivacyLastSeenPremium")),s.Ay.createElement("p",{className:"settings-item-description-larger premium-info",dir:a.isRtl?"rtl":void 0},a("lng_messages_privacy_premium_about")))}[i,c]=d.then?(await d)():d;const u=(0,s.ph)(m);n()}catch(A){n(A)}})},34895:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.d(t,{A:()=>J});var s=a(84051),o=a(13439),r=a(31481),i=a(90709),l=a(60919),c=a(57446),d=a(96454),m=a(87357),u=a(87894),A=a(76023),h=a(43874),y=a(36838),p=a(39351),v=a(17712),g=a(59030),E=a(23565),b=a(47366),f=a(93809),C=a(90884),S=a(97457),w=a(64493),k=a(52745),N=a(41036),I=a(54746),P=a(76453),M=a(35629),T=a(41866),B=a(13805),x=e([p,g,S,w,P,M]);[p,g,S,w,P,M]=x.then?(await x)():x;const L=2.5*A.$,R="custom-emoji-set",F=16,D=32,V=7,_=new Set([r.sR2,r.tRH,r.EPW]),U=new Set([r.sR2,r.tRH,r.EPW]),O=({className:e,pickerListClassName:t,isHidden:a,loadAndPlay:n,addedCustomEmojiIds:A,customEmojisById:x,recentCustomEmojiIds:O,selectedReactionIds:J,recentStatusEmojis:K,collectibleStatuses:G,stickerSetsById:j,chatEmojiSetId:z,topReactions:H,recentReactions:$,availableReactions:q,idPrefix:W=R,customEmojiFeaturedIds:Y,canAnimate:Q,isReactionPicker:Z,isStatusPicker:X,isTranslucent:ee,isSavedMessages:te,isCurrentUserPremium:ae,withDefaultTopicIcons:ne,defaultTopicIconsId:se,defaultStatusIconsId:oe,defaultTagReactions:re,isWithPaidReaction:ie,onCustomEmojiSelect:le,onReactionSelect:ce,onReactionContext:de,onContextMenuOpen:me,onContextMenuClose:ue,onContextMenuClick:Ae})=>{const he=(0,s.li)(),ye=(0,s.li)(),pe=(0,s.li)(),ve=(0,s.li)(),{isMobile:ge}=(0,h.Ay)(),{handleScroll:Ee,isAtBeginning:be}=(0,b.A)(),fe=(0,s.Kr)(()=>X?K:Object.values((0,u._E)(x,O)),[x,X,O,K]),Ce=(0,s.Kr)(()=>{const e=G?.map(e=>e.documentId);return x&&e?.map(e=>x[e]).filter(Boolean)},[x,G]),Se=`${W}-custom-emoji`,{activeSetIndex:we,observeIntersectionForSet:ke,observeIntersectionForPlayingItems:Ne,observeIntersectionForShowingItems:Ie,observeIntersectionForCovers:Pe,selectStickerSet:Me}=(0,C.m)(he,ye,Se,a),Te=(0,E.A)(n||void 0,r.jhd),Be=(0,g.A)(),xe=(0,p.A)(),Le=Boolean(A),Re=(0,s.Kr)(()=>{const e=[];if(Z&&te&&re?.length&&e.push({id:r.G3A,accessHash:"",title:Be("PremiumPreviewTags"),reactions:re,count:re.length,isEmoji:!0}),Z&&!te){const t=H?.slice(0,F)||[];ie&&t.unshift({type:"paid"}),t?.length&&e.push({id:r.G3A,accessHash:"",title:Be("Reactions"),reactions:t,count:t.length,isEmoji:!0});const a=($||[]).filter(e=>!t.some(t=>(0,i.a0)(t,e))).slice(0,D),n=(q||[]).filter(({isInactive:e})=>!e).map(({reaction:e})=>e).filter(e=>!t.some(t=>(0,i.a0)(t,e))&&!a.some(t=>(0,i.a0)(t,e)));if(n?.length||a?.length){const t=!a?.length,s=a.concat(n);e.push({id:t?r.EPW:r.sR2,accessHash:"",title:Be(t?"PopularReactions":"RecentStickers"),reactions:s,count:s.length,isEmoji:!0})}}else if(X){const t=j[oe];if(t?.stickers?.length){const a=(0,u.Xd)(t.stickers.slice(0,V).concat(fe||[]),"id");e.push({...t,stickers:a,count:a.length,id:r.sR2,title:Be("RecentStickers"),isEmoji:!0})}Ce?.length&&e.push({id:r.j1l,accessHash:"",count:Ce.length,stickers:Ce,title:xe("CollectibleStatusesCategory"),isEmoji:!0})}else if(ne){const t=j[se];t.stickers?.length&&e.push({...t,id:r.sR2,title:Be("RecentStickers")})}else fe?.length&&e.push({id:r.sR2,accessHash:"0",title:Be("RecentStickers"),stickers:fe,count:fe.length,isEmoji:!0});const t=[...A||[]];z&&t.unshift(z);const a=(0,u.Am)(t.concat(Y||[])),n=Object.values((0,u._E)(j,a));return[...e,...n]},[A,Z,X,ne,fe,Y,j,H,q,Be,$,oe,se,te,re,z,ie,Ce,xe]),Fe=(0,s.Kr)(()=>Le&&0===Re.filter(e=>e.stickers?.length).length,[Re,Le]),De=(0,f.A)([],r.jhd),Ve=Le&&De&&!Fe;(0,y.A)(ye,ge||!Ve),(0,s.vJ)(()=>{if(!Le)return;const e=ye.current;if(!e)return;const t=we*L-(e.offsetWidth/2-L/2);(0,c.A)(e,t)},[Le,we]);const _e=(0,v.A)(e=>{le(e)}),Ue=(0,m.A)("StickerPicker",B.A.root,e),Oe=(0,m.A)(T.A.header,"no-scrollbar",!be&&T.A.headerWithBorder),Je=(0,m.A)(T.A.main,T.A.main_customEmoji,d.TF?"no-scrollbar":"custom-scroll",t,T.A.hasHeader),Ke=!Ve&&!Fe;return s.Ay.createElement(N.Ay,{className:Ue,name:"fade",activeKey:Ke?0:1,shouldCleanup:!0},Ve||Fe?!Ve&&Fe?s.Ay.createElement("div",{className:T.A.pickerDisabled},Be("NoStickers")):s.Ay.createElement(s.Ay.Fragment,null,s.Ay.createElement("div",{ref:ye,className:Oe},s.Ay.createElement("div",{className:"shared-canvas-container"},s.Ay.createElement("canvas",{ref:pe,className:"shared-canvas"}),s.Ay.createElement("canvas",{ref:ve,className:"shared-canvas"}),Re.map(function(e,t){const a=e.stickers?.[0],n=(0,m.A)(T.A.stickerCover,t===we&&B.A.activated),i=t<r.j41,c=(0,l.CzR)((0,o.mS)(),e);if(e.id!==r.G3A){if(U.has(e.id)||e.hasThumbnail||!a){const a=e.id===r.sR2||e.id===r.EPW,o=_.has(e.id);return s.Ay.createElement(w.A,{key:e.id,className:n,ariaLabel:e.title,round:!0,faded:o,color:"translucent",onClick:()=>Me(a?0:t)},a?s.Ay.createElement(I.A,{name:"recent"}):s.Ay.createElement(S.A,{stickerSet:e,noPlay:!Q||!Te,forcePlayback:!0,observeIntersection:Pe,sharedCanvasRef:i?c?ve:pe:void 0}))}return s.Ay.createElement(P.A,{key:e.id,sticker:a,size:r.TBj,title:e.title,className:n,noPlay:!Q||!Te,observeIntersection:Pe,noContextMenu:!0,isCurrentUserPremium:!0,sharedCanvasRef:i?c?ve:pe:void 0,withTranslucentThumb:ee,onClick:Me,clickArg:t,forcePlayback:!0})}}))),s.Ay.createElement("div",{ref:he,onScroll:Ee,className:Je},Re.map((e,t)=>{const a=e.id===r.G3A||e.id===r.sR2&&(ne||X),n=e.id===z;return s.Ay.createElement(M.A,{key:e.id,stickerSet:e,loadAndPlay:Boolean(Q&&Te),index:t,idPrefix:Se,observeIntersection:ke,observeIntersectionForPlayingItems:Ne,observeIntersectionForShowingItems:Ie,isNearActive:we>=t-1&&we<=t+1,isSavedMessages:te,isStatusPicker:X,isReactionPicker:Z,shouldHideHeader:a,withDefaultTopicIcon:ne&&e.id===r.sR2,withDefaultStatusIcon:X&&e.id===r.sR2,isChatEmojiSet:n,isCurrentUserPremium:ae,selectedReactionIds:J,availableReactions:q,isTranslucent:ee,onReactionSelect:ce,onReactionContext:de,onStickerSelect:_e,onContextMenuOpen:me,onContextMenuClose:ue,onContextMenuClick:Ae,forcePlayback:!0})}))):s.Ay.createElement(k.A,null))},J=(0,s.ph)((0,o.EK)((e,{chatId:t,isStatusPicker:a,isReactionPicker:n})=>{const{stickers:{setsById:s},customEmojis:{byId:o,featuredIds:r,statusRecent:{emojis:i}},recentCustomEmojis:c,reactions:{availableReactions:d,recentReactions:m,topReactions:u,defaultTags:A}}=e,h=Boolean(t&&(0,l.nZ4)(e,t)),y=t?(0,l.AWZ)(e,t):void 0,p=e.collectibleEmojiStatuses?.statuses;return{customEmojisById:o,recentCustomEmojiIds:a?void 0:c,recentStatusEmojis:a?i:void 0,collectibleStatuses:a?p:void 0,stickerSetsById:s,addedCustomEmojiIds:e.customEmojis.added.setIds,canAnimate:(0,l.BWX)(e),isSavedMessages:h,isCurrentUserPremium:(0,l.g29)(e),customEmojiFeaturedIds:r,defaultTopicIconsId:e.defaultTopicIconsId,defaultStatusIconsId:e.defaultStatusIconsId,topReactions:n?u:void 0,recentReactions:n?m:void 0,chatEmojiSetId:y?.emojiSet?.id,isWithPaidReaction:n&&y?.isPaidReactionAvailable,availableReactions:n?d:void 0,defaultTagReactions:n?A:void 0}})(O));n()}catch(e){n(e)}})},35517:(e,t,a)=>{a.d(t,{A:()=>n});const n={root:"wzzA3MFh",pickerSelector:"xhujrq9i",pickerTitle:"YuRK4e7S",picker:"YF9nLkCK",footer:"ATCZ2Q5G"}},35629:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.d(t,{A:()=>B});var s=a(84051),o=a(13439),r=a(31481),i=a(90709),l=a(60919),c=a(87357),d=a(43874),m=a(37661),u=a(5912),A=a(17712),h=a(83057),y=a(59030),p=a(93545),v=a(39751),g=a(64493),E=a(94189),b=a(54746),f=a(9692),C=a(76453),S=a(38027),w=e([y,g,E,f,C]);[y,g,E,f,C]=w.then?(await w)():w;const k=8,N=7,I=6,P=440,M=362,T=({stickerSet:e,loadAndPlay:t,index:a,idPrefix:n,isNearActive:w,favoriteStickers:k,availableReactions:N,isSavedMessages:I,isStatusPicker:P,isReactionPicker:M,isCurrentUserPremium:T,shouldHideHeader:B,withDefaultTopicIcon:L,selectedReactionIds:R,withDefaultStatusIcon:F,isChatEmojiSet:D,isChatStickerSet:V,isTranslucent:_,noContextMenus:U,forcePlayback:O,observeIntersection:J,observeIntersectionForPlayingItems:K,observeIntersectionForShowingItems:G,onReactionSelect:j,onReactionContext:z,onStickerSelect:H,onStickerUnfave:$,onStickerFave:q,onStickerRemoveRecent:W,onContextMenuOpen:Y,onContextMenuClose:Q,onContextMenuClick:Z,collectibleStatuses:X})=>{const{clearRecentStickers:ee,clearRecentCustomEmoji:te,clearRecentReactions:ae,openPremiumModal:ne,toggleStickerSet:se,loadStickers:oe}=(0,o.ko)(),re=(0,s.li)(),ie=(0,s.li)(),le=(0,s.li)(),ce=(0,y.A)(),{width:de}=(0,v.A)(),[me,ue,Ae]=(0,m.A)(),{isMobile:he}=(0,d.Ay)(),[ye,pe]=(0,s.J0)(x(de)),ve=(0,u.Vz)(re,J??G),ge=(0,h.A)(ve),Ee=w||ve,be=he?8:4,fe=he?8:10,Ce=he?8:4,Se=e.id===r.sR2,we=e.id===r.j1l,ke=e.id===r.tRH,Ne=e.id===r.EPW,Ie=e.isEmoji,Pe=!Se&&(0,l.Q31)(e),Me=(0,A.A)(()=>{M?ae():Ie?te():ee(),Ae()}),Te=(0,A.A)(()=>{Pe&&!T?ne({initialSection:"animated_emoji"}):se({stickerSetId:e.id})}),Be=(0,A.A)(()=>{H?.({mediaType:"sticker",id:r.MyF,isLottie:!1,isVideo:!1,stickerSetInfo:{shortName:"dummy"}})}),xe=(0,A.A)(()=>{H?.({mediaType:"sticker",id:r.zNY,isLottie:!1,isVideo:!1,stickerSetInfo:{shortName:"dummy"}})}),Le=Ie?r.g0Q:r.bkT,Re=Ie?fe:be,Fe=Ie?Ce:be,De=(0,A.A)(e=>e?Math.floor((e+Re)/(Le+Re)):x(de)),Ve=(0,A.A)(e=>{pe(De(e.contentRect.width))});(0,p.A)(re,Ve),(0,s.vJ)(()=>{re.current&&pe(De(re.current.clientWidth))},[De]),(0,s.vJ)(()=>{Ee&&!e.stickers?.length&&!e.reactions?.length&&e.accessHash&&oe({stickerSetInfo:{id:e.id,accessHash:e.accessHash}})},[Ee,oe,e]);const _e=!I&&!T&&Pe&&!D,Ue=e.installedDate&&!e.isArchived,Oe=!Ue&&e.id!==r.sR2&&e.id!==r.EPW&&e.id!==r.hfH&&e.id!==r.Kp3&&!D&&!V,[Je,,Ke]=(0,m.A)(Oe),Ge=3*ye-1,je=L||F?e.count+1:e.count,ze=Le+Fe,He=Math.ceil(Math.min(Ge,je)/ye)*ze-Fe,$e=Je?He:Math.ceil(je/ye)*ze-Fe,qe=(0,s.Kr)(()=>k?new Set(k.map(({id:e})=>e)):void 0,[k]),We=(0,s.Kr)(()=>X?new Set(X.map(({documentId:e})=>e)):void 0,[X]),Ye=!B&&!Se&&!we&&Ie&&!Ne&&!D&&(!Ue||!T&&!I),Qe=(0,s.Kr)(()=>ce(_e?Ue?"lng_emoji_premium_restore":"Unlock":"Add"),[_e,ce,Ue]);return s.Ay.createElement("div",{ref:re,key:e.id,id:`${n}-${a}`,className:(0,c.A)("symbol-set",_e&&"symbol-set-locked")},!B&&s.Ay.createElement("div",{className:"symbol-set-header"},s.Ay.createElement("p",{className:(0,c.A)("symbol-set-title",Ye&&"symbol-set-title-external")},_e&&s.Ay.createElement(b.A,{name:"lock-badge",className:"symbol-set-locked-icon"}),s.Ay.createElement("span",{className:"symbol-set-name"},e.title),(D||V)&&s.Ay.createElement("span",{className:"symbol-set-chat"},ce(D?"GroupEmoji":"GroupStickers")),Ye&&Boolean(e.stickers)&&s.Ay.createElement("span",{className:"symbol-set-amount"},ce(Ie?"EmojiCount":"Stickers",e.stickers.length,"i"))),Se&&s.Ay.createElement(b.A,{className:"symbol-set-remove",name:"close",onClick:ue}),Ye&&s.Ay.createElement(g.A,{className:"symbol-set-add-button",withPremiumGradient:Pe&&!T,onClick:Te,pill:!0,size:"tiny",fluid:!0},Qe)),s.Ay.createElement("div",{className:(0,c.A)("symbol-set-container shared-canvas-container",ge,e.id===r.hfH&&"effect-emojis"),style:`height: ${$e}px;`},s.Ay.createElement("canvas",{ref:ie,className:"shared-canvas",style:Oe?`height: ${He}px;`:void 0}),(Se||ke||Oe)&&s.Ay.createElement("canvas",{ref:le,className:"shared-canvas"}),L&&s.Ay.createElement(g.A,{className:"StickerButton custom-emoji",color:"translucent",onClick:Be,key:"default-topic-icon"},s.Ay.createElement("img",{src:S,alt:"Reset",className:"sticker-media",draggable:!1})),F&&s.Ay.createElement(g.A,{className:"StickerButton custom-emoji status-default",color:"translucent",onClick:xe,key:"default-status-icon"},s.Ay.createElement(b.A,{name:"star"})),Ee&&e.reactions?.map(a=>{const n=(0,i.Jj)(a),o=n?R?.includes(n):void 0;return s.Ay.createElement(f.A,{key:`${e.id}_${n}`,reaction:a,isSelected:o,loadAndPlay:t,availableReactions:N,observeIntersection:K,onClick:j,onContextMenu:z,sharedCanvasRef:ie,sharedCanvasHqRef:le,forcePlayback:O})}),Ee&&e.stickers?.slice(0,Je?Ge:e.stickers.length).map((a,n)=>{const i=(Se||ke)&&(0,l.CzR)((0,o.mS)(),a.stickerSetInfo),c=Oe&&n>=Ge||i?le:ie,d=a.isCustomEmoji?a.id:a.emoji,m=d?R?.includes(d):void 0,u=a.id===r.j1l||We?.has(a.id);return s.Ay.createElement(C.A,{key:a.id,sticker:a,size:Le,observeIntersection:K,observeIntersectionForShowing:G,noPlay:!t,isSavedMessages:I,isStatusPicker:P,canViewSet:!0,noContextMenu:U,isCurrentUserPremium:T,shouldIgnorePremium:D,sharedCanvasRef:c,withTranslucentThumb:_,onClick:H,clickArg:a,isSelected:m,onUnfaveClick:ke&&qe?.has(a.id)?$:void 0,onFaveClick:qe?.has(a.id)?void 0:q,onRemoveRecentClick:Se?W:void 0,onContextMenuOpen:Y,onContextMenuClose:Q,onContextMenuClick:Z,forcePlayback:O,isEffectEmoji:e.id===r.hfH,noShowPremium:T&&(e.id===r.Kp3||e.id===r.hfH),withSparkles:u})}),Je&&je>Ge&&s.Ay.createElement(g.A,{className:"StickerButton custom-emoji set-expand",round:!0,color:"translucent",onClick:Ke,key:"more"},"+",je-Ge)),Se&&s.Ay.createElement(E.A,{text:ce(M?"ClearRecentReactionsAlertMessage":"ClearRecentStickersAlertMessage"),isOpen:me,onClose:Ae,confirmHandler:Me,confirmIsDestructive:!0}))},B=(0,s.ph)((0,o.EK)(e=>{const t=e.collectibleEmojiStatuses?.statuses;return{collectibleStatuses:t}})(T));function x(e){return e>P?k:e<M?I:N}n()}catch(L){n(L)}})},36235:(e,t,a)=>{a.d(t,{Sy:()=>h,ef:()=>A,fz:()=>s,gZ:()=>o});var n=a(43336);const s=720,o=1280,r=1200,i=800,l=405,c=720,d=135,m=240,u=40;function A(e,t){const a=function(e,t,a,n){const s=a/e,o=n/t;return Math.min(s,o)}(r,i,e,t),s=(0,n.Ki)(l*a),o=(0,n.Ki)(d*a);return{activeSlide:{width:s,height:(0,n.Ki)(c*a)},slide:{width:o,height:(0,n.Ki)(m*a)},scale:a,toActiveScale:s/o,fromActiveScale:o/s}}function h({scale:e,slideAmount:t,isActiveSlideSize:a,isMoveThroughActiveSlide:s,isBackward:o}){const r=u+(a?l:d),i=(Math.abs(t)-1)*((s?l:d)+u),c=(0,n.Ki)((r+i)*e);return o?-c:c}},36867:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.d(t,{A:()=>B});var s=a(84051),o=a(13439),r=a(90709),i=a(70636),l=a(60919),c=a(87357),d=a(9716),m=a(87894),u=a(79824),A=a(4961),h=a(39351),y=a(17712),p=a(59030),v=a(73767),g=a(84292),E=a(15232),b=a(64493),f=a(19806),C=a(77561),S=a(22720),w=a(8410),k=a(21849),N=a(67693),I=a(54746),P=a(77047),M=e([i,h,p,E,b,f,C,S,w,k,N]);[i,h,p,E,b,f,C,S,w,k,N]=M.then?(await M)():M;const T=({isOpen:e,chat:t,isChannel:a,isSuperGroup:n,isSchedule:r,currentUserId:d,messageIds:M,isCreator:T,canDeleteForAll:B,contactName:x,willDeleteForCurrentUserOnly:L,willDeleteForAll:R,chatBot:F,adminMembersById:D,canBanUsers:V,linkedChatId:_,onConfirm:U})=>{const{closeDeleteMessageModal:O,deleteMessages:J,reportChannelSpam:K,deleteChatMember:G,deleteScheduledMessages:j,exitMessageSelectMode:z,updateChatMemberBannedRights:H,deleteParticipantHistory:$}=(0,o.ko)(),q=(0,v.A)(e),W=(0,p.A)(),Y=(0,h.A)(),{permissions:Q,havePermissionChanged:Z,handlePermissionChange:X,resetPermissions:ee}=(0,g.A)(t?.defaultBannedRights),[te,ae]=(0,s.J0)([]),[ne,se]=(0,s.J0)([]),[oe,re]=(0,s.J0)([]),[ie,le]=(0,s.J0)(!1),[ce,de]=(0,s.J0)(!1),[me,ue]=(0,s.J0)(!0),Ae=(0,s.Kr)(()=>{if(a||!M||!t)return u.p;const e=(0,o.mS)(),n=(0,l.SpN)(e,t.id,M);return n?(0,m.Am)(n).filter(e=>e?.id!==t?.id&&e?.id!==_&&e?.id!==t?.linkedMonoforumId):u.p},[t,a,_,M]),he=(0,y.A)(()=>Ae.map(e=>({value:e.id,label:(0,i.F9)(Y,e)||"",leftElement:s.Ay.createElement(k.A,{size:"small",peer:e})}))),ye=(0,s.Kr)(()=>Ae.filter(e=>e.id!==_&&e.id!==t?.linkedMonoforumId&&e.id!==d),[Ae,d,_,t?.linkedMonoforumId]),pe=(0,s.Kr)(()=>Ae.filter(e=>e.id!==d&&e.id!==_&&e.id!==t?.linkedMonoforumId),[Ae,d,_,t?.linkedMonoforumId]),ve=(0,s.Kr)(()=>{const e=Ae.some(e=>e.id===d);return!V||e||t?.isMonoforum?u.p:Ae.filter(e=>{const t=D?.[e.id];return T||!t})},[Ae,T,d,V,D,t?.isMonoforum]),ge=(0,s.Kr)(()=>Boolean(ye.length||pe.length||ve.length),[ye,pe,ve])&&!B&&!r&&n,Ee=(0,s.Kr)(()=>!Ae||r?{}:(0,m.pA)(Ae,e=>[e.id,(0,i.F9)(Y,e)]),[r,Y,Ae]),be=(0,s.Kr)(()=>[{value:M&&Ae.length>=2?"spam":Ae?.[0]?.id,label:W("ReportSpamTitle"),nestedOptions:M&&Ae.length>=2?[...he().filter(e=>e.value!==_&&e.value!==t?.linkedMonoforumId&&e.value!==d)]:void 0}],[M,Ae,W,_,t?.linkedMonoforumId,d]),fe=(0,s.Kr)(()=>[{value:M&&Ae.length>=2?"delete_all":Ae?.[0]?.id,label:M&&Ae.length>=2?W("DeleteAllFromUsers"):W("DeleteAllFrom",Object.values(Ee)[0]),nestedOptions:M&&Ae.length>=2?[...he().filter(e=>e.value!==_&&e.value!==t?.linkedMonoforumId&&e.value!==d)]:void 0}],[M,Ae,W,Ee,_,t?.linkedMonoforumId,d]),Ce=(0,s.Kr)(()=>[{value:M&&Ae.length>=2?"ban":Ae?.[0]?.id,label:M&&Ae.length>=2?W(ce?"DeleteRestrictUsers":"DeleteBanUsers"):ce?W("KickFromSupergroup"):W("DeleteBan",Object.values(Ee)[0]),nestedOptions:M&&Ae.length>=2?[...he()]:void 0}],[ce,W,M,Ae,Ee]),Se=(0,y.A)(()=>{de(e=>!e)}),we=(0,y.A)((e,a)=>{if(!t)return u.p;const n=(0,o.mS)();return a.filter(a=>{const s=(0,l.LM$)(n,t.id,a);return s&&e.includes(s.id)})}),ke=(0,y.A)(e=>{Object.entries(e).forEach(([e,a])=>{a.length&&K({participantId:e,chatId:t.id,messageIds:a})})}),Ne=(0,y.A)(e=>{J({messageIds:e,shouldDeleteForAll:!0})}),Ie=(0,y.A)(e=>{t&&e.forEach(e=>{$({peerId:e,chatId:t.id})})}),Pe=(0,y.A)(e=>{e.forEach(e=>{G({chatId:t.id,userId:e})})}),Me=(0,y.A)(e=>{e.forEach(e=>{H({chatId:t.id,userId:e,bannedRights:Q})})}),Te=(0,y.A)(()=>{if(t&&M){if(U?.(),r)j({messageIds:M});else if(ge){if(oe?.length){const e=(0,o.mS)(),a=oe.filter(e=>!Number.isNaN(Number(e))),n=M.reduce((n,s)=>{const o=(0,l.LM$)(e,t.id,s);return o&&a.includes(o.id)&&(n[o.id]||(n[o.id]=[]),n[o.id].push(Number(s))),n},{});ke(n)}if(te?.length){const e=te.filter(e=>!Number.isNaN(Number(e)));Ie(e)}if(ne?.length&&!Z){const e=ne.filter(e=>!Number.isNaN(Number(e)));Pe(e);const t=we(e,M);Ne(t)}if(ne?.length&&Z){const e=ne.filter(e=>!Number.isNaN(Number(e)));Me(e)}oe?.length&&te?.length&&ne?.length||J({messageIds:M,shouldDeleteForAll:me})}else J({messageIds:M,shouldDeleteForAll:me});O(),z()}}),Be=(0,y.A)(()=>{O()});return(0,s.vJ)(()=>{!e&&q&&(re([]),ae([]),se([]),ue(!0),le(!1),de(!1),ee())},[e,q,ee]),s.Ay.createElement(w.A,{isOpen:e,onClose:Be,onEnter:B?void 0:Te,className:P.A.root},s.Ay.createElement("div",{className:P.A.main},s.Ay.createElement("div",{className:ge&&P.A.container,dir:W.isRtl?"rtl":void 0},ge&&s.Ay.createElement(N.A,{size:"small",peers:Ae}),s.Ay.createElement("h3",{className:(0,c.A)(ge?P.A.title:P.A.singleTitle)},W("Chat.DeleteMessagesConfirmation",M?.length))),ge&&s.Ay.createElement(s.Ay.Fragment,null,s.Ay.createElement("p",{className:P.A.actionTitle},W("DeleteAdditionalActions")),s.Ay.createElement("div",{className:P.A.options},s.Ay.createElement(C.A,{options:be,onChange:re,selected:oe,nestedCheckbox:M&&Ae.length>=2}),ye?.length>0&&s.Ay.createElement(C.A,{options:fe,onChange:ae,selected:te,nestedCheckbox:M&&Ae.length>=2}),ve?.length>0&&s.Ay.createElement(C.A,{options:Ce,onChange:se,selected:ne,nestedCheckbox:M&&Ae.length>=2})),s.Ay.createElement("div",{className:(0,c.A)(P.A.restrictionContainer,ce&&P.A.restrictionContainerOpen)},s.Ay.createElement("h3",{className:(0,c.A)(P.A.actionTitle,P.A.restrictionTitle)},W("UserRestrictionsCanDoUsers",Ae.length)),s.Ay.createElement(E.A,{withCheckbox:!0,chatId:t?.id,isMediaDropdownOpen:ie,setIsMediaDropdownOpen:le,handlePermissionChange:X,permissions:Q,className:(0,c.A)(P.A.dropdownList,ie&&P.A.dropdownListOpen)})),ne?.length&&V?s.Ay.createElement(S.A,{narrow:!0,buttonClassName:P.A.button,onClick:Se},W(ce?"DeleteToggleBanUsers":"DeleteToggleRestrictUsers"),s.Ay.createElement(I.A,{name:ce?"up":"down",className:(0,c.A)(P.A.button,"ml-2")})):de(!1)),(B||F||!ge)&&s.Ay.createElement(s.Ay.Fragment,null,s.Ay.createElement("p",null,M&&M.length>1?Y("AreYouSureDeleteFewMessages"):Y("AreYouSureDeleteSingleMessage")),L&&s.Ay.createElement("p",null,W("lng_delete_for_me_chat_hint",1,"i")),R&&s.Ay.createElement("p",null,W("lng_delete_for_everyone_hint",1,"i"))),B&&s.Ay.createElement(f.A,{className:"dialog-checkbox",label:x?(0,A.A)(W("DeleteMessagesOptionAlso",x)):W("Conversation.DeleteMessagesForEveryone"),checked:me,onCheck:ue}),s.Ay.createElement("div",{className:(0,c.A)("dialog-buttons",ie?P.A.dialogButtons:P.A.proceedButtons)},s.Ay.createElement(b.A,{color:"danger",className:"confirm-dialog-button",isText:!0,onClick:Te},ge?W("DeleteProceedBtn"):Y("Delete")),s.Ay.createElement(b.A,{className:"confirm-dialog-button",isText:!0,onClick:Be},W("Cancel")))))},B=(0,s.ph)((0,o.EK)(e=>{const{deleteMessageModal:t}=(0,l.nTw)(e),a=t?.messageIds,n=t?.chatId,{canDeleteForAll:s}=(0,l.jyG)(e,a),o=n?(0,l.hds)(e,n):void 0,i=o&&(0,l.AWZ)(e,o.id),c=i?.linkedChatId,m=Boolean(o)&&(0,r.WX)(o),u=Boolean(o)&&(0,r.Vs)(o),A=t?.isSchedule,h=t?.onConfirm,y=o&&(0,d.L8)(o.id)?(0,r.u0)((0,l.mBe)(e,(0,r.e7)(o))):void 0,p=Boolean(o&&!(0,r.DX)(o.id)&&(0,l.yps)(e,o.id)),v=i?.adminMembersById,g=o&&(0,r.ub)(o,"banUsers"),E=o?.isCreator,b=o?(0,l.ALW)(e,o):void 0,f=o&&(0,r.yn)(o)&&!s||b,C=o&&((0,r.Vs)(o)||m);return{chat:o,isChannel:m,isSuperGroup:u,messageIds:a,currentUserId:e.currentUserId,canDeleteForAll:!A&&s,contactName:y,willDeleteForCurrentUserOnly:f,willDeleteForAll:C,adminMembersById:v,chatBot:p,canBanUsers:g,linkedChatId:c,isSchedule:A,isCreator:E,onConfirm:h}})(T));n()}catch(e){n(e)}})},36973:(e,t,a)=>{a.d(t,{A:()=>n});const n={root:"HmY1pYD9",arrow:"cqNhvdib",right:"hIgQCprt","arrow-hidden":"wDzTWXzO",arrowHidden:"wDzTWXzO",dot:"Ac0pMX9w",medium:"yDo_8Y7X",small:"bhODNwmU",invisible:"O9pyrgj0",active:"NYDxCNdz"}},37037:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.d(t,{A:()=>C});var s=a(84051),o=a(13439),r=a(31481),i=a(70636),l=a(64520),c=a(87894),d=a(58968),m=a(31880),u=a(74984),A=a(26072),h=a(17712),y=a(59030),p=a(54746),v=a(54960),g=a(12933),E=a(52745),b=e([i,u,y,v,g]);[i,u,y,v,g]=b.then?(await b)():b;const f=({mode:e,state:t,dispatch:a,isActive:n,onReset:l,onSaveFilter:b,maxChats:f})=>{const C=(0,y.A)(),{openLimitReachedModal:S}=(0,o.ko)(),{chatFilter:w}=t,{selectedChatIds:k,selectedChatTypes:N}=(0,s.Kr)(()=>(0,m.a)(t,e,!0),[e,t]),I="included"===e?d.V2:d.LS,[P,M]=(0,s.J0)(!1),T=(0,u.Rh)(r.DSF),B=(0,u.Rh)(r._E9),x=t.folder.isChatList;(0,s.vJ)(()=>{n||M(!1)},[n]);const L=(0,s.Kr)(()=>{const e=[...T||[],...B||[]];return(0,c.Am)([...(0,i.PU)({ids:e,query:w,type:"chat"})])},[T,B,w]),R=(0,h.A)(e=>{a({type:"setChatFilter",payload:e}),M(!0)}),F=(0,h.A)(n=>{if("included"===e){if(n.length>=f)return void S({limit:"dialogFiltersChats"});a({type:"setIncludeFilters",payload:{...t.includeFilters,includedChatIds:n}})}else a({type:"setExcludeFilters",payload:{...t.excludeFilters,excludedChatIds:n}});M(!0)}),D=(0,h.A)(t=>{const n={};t.forEach(e=>{n[e]=!0}),a("included"===e?{type:"setIncludeFilters",payload:{includedChatIds:k,...n}}:{type:"setExcludeFilters",payload:{excludedChatIds:k,...n}}),M(!0)});return(0,A.A)({isActive:n,onBack:l}),L?s.Ay.createElement("div",{className:"Picker settings-folders-chat-list"},s.Ay.createElement(v.A,{categories:x?void 0:I,itemIds:L,selectedIds:k,selectedCategories:N,filterValue:w,filterPlaceholder:C("Search"),categoryPlaceholderKey:"FilterChatTypes",searchInputId:"new-group-picker-search",isSearchable:!0,withDefaultPadding:!0,withPeerTypes:!0,allowMultiple:!0,itemInputType:"checkbox",onSelectedIdsChange:F,onSelectedCategoriesChange:D,onFilterChange:R}),s.Ay.createElement(g.A,{isShown:P,onClick:b,ariaLabel:C("Save")},s.Ay.createElement(p.A,{name:"check"}))):s.Ay.createElement(E.A,null)},C=(0,s.ph)((0,o.EK)(e=>({maxChats:(0,l.d)(e,"dialogFiltersChats")}))(f));n()}catch(e){n(e)}})},37321:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.d(t,{A:()=>y});var s=a(84051),o=a(13439),r=a(89925),i=a(58443),l=a(26072),c=a(59030),d=a(64489),m=a(22720),u=a(89704),A=e([c,m]);[c,m]=A.then?(await A)():A;const h=({isActive:e,onReset:t})=>{const{openSettingsScreen:a}=(0,o.ko)(),n=(0,c.A)();return(0,l.A)({isActive:e,onBack:t}),s.Ay.createElement("div",{className:"settings-content local-passcode custom-scroll"},s.Ay.createElement("div",{className:"settings-content-header no-border"},s.Ay.createElement(d.A,{tgsUrl:i.w.Lock,previewUrl:u,size:160,className:"settings-content-icon"}),s.Ay.createElement("p",{className:"settings-item-description mb-3",dir:"auto"},"Local passcode is enabled.")),s.Ay.createElement("div",{className:"settings-item"},s.Ay.createElement(m.A,{icon:"edit",onClick:()=>a({screen:r.VS.PasscodeChangePasscodeCurrent})},n("Passcode.Change")),s.Ay.createElement(m.A,{icon:"password-off",onClick:()=>a({screen:r.VS.PasscodeTurnOff})},n("Passcode.TurnOff"))))},y=(0,s.ph)(h);n()}catch(e){n(e)}})},37359:(e,t,a)=>{a.d(t,{A:()=>n});const n={container:"fHc6WtIe",content:"N8GlyYo0",loadingScreen:"l7JTscdP",searchButtonContent:"dqfofU9e",sticker:"bhaEA7Az",title:"HkiOz0kI",description:"B5FR0TSV",searchButton:"Ii0w2ObZ",remainingSearches:"fYxU7PVl",searchIcon:"NMdA935k",searchIconWithNext:"NqAG2PXY",searchQuery:"eRsI0lkH",limitTitle:"uAggPEqN",limitDescription:"oirV9yqd",paidSearchButton:"LMu5PMXS",freeSearchUnlock:"IdgXsecy",premiumTitle:"SBmNHjsL",premiumDescription:"KoW3G8Sv",subscribePremiumButton:"tGWjYFeK",premiumSubtitle:"o2V6uF3Y"}},37487:(e,t,a)=>{a.d(t,{A:()=>c});var n=a(22237),s=a(83414);const[o,r]=(0,n.n5)(!1),[i,l]=(0,n.n5)(!1);function c(){return[(0,s.A)(()=>o()&&!i(),[o,i]),r,l]}},37669:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.d(t,{A:()=>se});var s=a(84051),o=a(13439),r=a(89925),i=a(60919),l=a(31460),c=a(57006),d=a(17712),m=a(60406),u=a(41036),A=a(45248),h=a(30280),y=a(71388),p=a(9076),v=a(8233),g=a(45708),E=a(55350),b=a(57353),f=a(77266),C=a(65279),S=a(82077),w=a(6181),k=a(12600),N=a(93122),I=a(55255),P=a(5786),M=a(8865),T=a(60155),B=a(52781),x=a(46449),L=a(49949),R=a(46330),F=a(19117),D=a(98813),V=a(43448),_=e([A,h,y,p,v,g,E,b,f,C,S,w,k,N,I,P,M,T,B,x,L,R,F,D,V]);[A,h,y,p,v,g,E,b,f,C,S,w,k,N,I,P,M,T,B,x,L,R,F,D,V]=_.then?(await _)():_;const U=Object.keys(r.VS).length/2,O=200,J=[r.VS.TwoFaDisabled,r.VS.TwoFaNewPassword,r.VS.TwoFaNewPasswordConfirm,r.VS.TwoFaNewPasswordHint,r.VS.TwoFaNewPasswordEmail,r.VS.TwoFaNewPasswordEmailCode,r.VS.TwoFaCongratulations,r.VS.TwoFaEnabled,r.VS.TwoFaChangePasswordCurrent,r.VS.TwoFaChangePasswordNew,r.VS.TwoFaChangePasswordConfirm,r.VS.TwoFaChangePasswordHint,r.VS.TwoFaTurnOff,r.VS.TwoFaRecoveryEmailCurrentPassword,r.VS.TwoFaRecoveryEmail,r.VS.TwoFaRecoveryEmailCode],K=[r.VS.PasscodeDisabled,r.VS.PasscodeEnabled],G=[r.VS.Folders,r.VS.FoldersCreateFolder,r.VS.FoldersEditFolder,r.VS.FoldersEditFolderFromChatList,r.VS.FoldersEditFolderInvites,r.VS.FoldersIncludedChats,r.VS.FoldersIncludedChatsFromChatList,r.VS.FoldersExcludedChats,r.VS.FoldersExcludedChatsFromChatList,r.VS.FoldersShare],j=[r.VS.PrivacyBlockedUsers,r.VS.ActiveWebsites],z=[r.VS.PrivacyPhoneNumberAllowedContacts,r.VS.PrivacyPhoneNumberDeniedContacts],H=[r.VS.PrivacyLastSeenAllowedContacts,r.VS.PrivacyLastSeenDeniedContacts],$=[r.VS.PrivacyProfilePhotoAllowedContacts,r.VS.PrivacyProfilePhotoDeniedContacts],q=[r.VS.PrivacyBioAllowedContacts,r.VS.PrivacyBioDeniedContacts],W=[r.VS.PrivacyBirthdayAllowedContacts,r.VS.PrivacyBirthdayDeniedContacts],Y=[r.VS.PrivacyGiftsAllowedContacts,r.VS.PrivacyGiftsDeniedContacts],Q=[r.VS.PrivacyPhoneCallAllowedContacts,r.VS.PrivacyPhoneCallDeniedContacts],Z=[r.VS.PrivacyPhoneP2PAllowedContacts,r.VS.PrivacyPhoneP2PDeniedContacts],X=[r.VS.PrivacyForwardingAllowedContacts,r.VS.PrivacyForwardingDeniedContacts],ee=[r.VS.PrivacyVoiceMessagesAllowedContacts,r.VS.PrivacyVoiceMessagesDeniedContacts],te=[r.VS.PrivacyGroupChatsAllowedContacts,r.VS.PrivacyGroupChatsDeniedContacts],ae=[r.VS.PrivacyNoPaidMessages],ne=({isActive:e,currentScreen:t,foldersState:a,foldersDispatch:n,onReset:_,animationLevel:ne,shouldSkipTransition:se})=>{const{closeShareChatFolderModal:oe,openSettingsScreen:re}=(0,o.ko)(),ie=(0,s.li)(),[le,ce]=(0,c.A)(),[de,me]=(0,s.J0)("");(0,m.A)({containerRef:ie,selector:".settings-content"},[t]);const ue=(0,d.A)(e=>{const s=(0,i.nTw)((0,o.mS)()).shareFolderScreen?.isFromSettings;t===r.VS.FoldersShare&&oe(),!0===e||void 0!==s&&!s?_(!0):(t!==r.VS.FoldersCreateFolder&&t!==r.VS.FoldersEditFolder&&t!==r.VS.FoldersEditFolderFromChatList&&t!==r.VS.FoldersEditFolderInvites||setTimeout(()=>{n({type:"reset"})},O),t!==r.VS.FoldersIncludedChats&&t!==r.VS.FoldersExcludedChats?_():"create"===a.mode?re({screen:r.VS.FoldersCreateFolder}):re({screen:r.VS.FoldersEditFolder}))});function Ae(o,i,l,c){return s.Ay.createElement(s.Ay.Fragment,null,s.Ay.createElement(N.A,{currentScreen:t,onReset:ue,editedFolderId:a.folderId}),function(o,i){const l={[r.VS.PrivacyPhoneNumber]:z.includes(i),[r.VS.PrivacyLastSeen]:H.includes(i),[r.VS.PrivacyProfilePhoto]:$.includes(i),[r.VS.PrivacyBio]:q.includes(i),[r.VS.PrivacyBirthday]:W.includes(i),[r.VS.PrivacyGifts]:Y.includes(i),[r.VS.PrivacyPhoneCall]:Q.includes(i),[r.VS.PrivacyPhoneP2P]:Z.includes(i),[r.VS.PrivacyForwarding]:X.includes(i),[r.VS.PrivacyVoiceMessages]:ee.includes(i),[r.VS.PrivacyGroupChats]:te.includes(i),[r.VS.PrivacyMessages]:ae.includes(i)},c=J.includes(i),d=K.includes(i),m=G.includes(i),u=j.includes(i)||c||d||Object.keys(l).map(Number).includes(i)||Object.values(l).includes(!0);switch(t){case r.VS.Main:return s.Ay.createElement(P.A,{isActive:e,onReset:ue});case r.VS.EditProfile:return s.Ay.createElement(f.A,{isActive:e&&o,onReset:ue});case r.VS.General:return s.Ay.createElement(S.A,{isActive:o||i===r.VS.GeneralChatBackgroundColor||i===r.VS.GeneralChatBackground||i===r.VS.QuickReaction||i===r.VS.CustomEmoji||u||m,onReset:ue});case r.VS.QuickReaction:return s.Ay.createElement(F.A,{isActive:o,onReset:ue});case r.VS.CustomEmoji:return s.Ay.createElement(g.A,{isActive:o,onReset:ue});case r.VS.Notifications:return s.Ay.createElement(M.A,{isActive:o,onReset:ue});case r.VS.DataStorage:return s.Ay.createElement(E.A,{isActive:o,onReset:ue});case r.VS.Privacy:return s.Ay.createElement(B.A,{isActive:o||u,onReset:ue});case r.VS.Language:return s.Ay.createElement(I.A,{isActive:o||i===r.VS.DoNotTranslate,onReset:ue});case r.VS.DoNotTranslate:return s.Ay.createElement(b.A,{isActive:o,onReset:ue});case r.VS.Stickers:return s.Ay.createElement(D.A,{isActive:o,onReset:ue});case r.VS.Experimental:return s.Ay.createElement(C.A,{isActive:o,onReset:ue});case r.VS.GeneralChatBackground:return s.Ay.createElement(w.A,{isActive:o||i===r.VS.GeneralChatBackgroundColor,onReset:ue});case r.VS.GeneralChatBackgroundColor:return s.Ay.createElement(k.A,{isActive:o,onReset:ue});case r.VS.ActiveSessions:return s.Ay.createElement(p.A,{isActive:o,onReset:ue});case r.VS.ActiveWebsites:return s.Ay.createElement(v.A,{isActive:o,onReset:ue});case r.VS.PrivacyBlockedUsers:return s.Ay.createElement(x.A,{isActive:o,onReset:ue});case r.VS.PrivacyPhoneNumber:case r.VS.PrivacyLastSeen:case r.VS.PrivacyProfilePhoto:case r.VS.PrivacyBio:case r.VS.PrivacyBirthday:case r.VS.PrivacyGifts:case r.VS.PrivacyPhoneCall:case r.VS.PrivacyForwarding:case r.VS.PrivacyVoiceMessages:case r.VS.PrivacyGroupChats:return s.Ay.createElement(L.A,{screen:t,isActive:o||l[t],onReset:ue});case r.VS.PrivacyPhoneNumberAllowedContacts:case r.VS.PrivacyLastSeenAllowedContacts:case r.VS.PrivacyProfilePhotoAllowedContacts:case r.VS.PrivacyBioAllowedContacts:case r.VS.PrivacyBirthdayAllowedContacts:case r.VS.PrivacyGiftsAllowedContacts:case r.VS.PrivacyPhoneCallAllowedContacts:case r.VS.PrivacyPhoneP2PAllowedContacts:case r.VS.PrivacyForwardingAllowedContacts:case r.VS.PrivacyVoiceMessagesAllowedContacts:case r.VS.PrivacyGroupChatsAllowedContacts:case r.VS.PrivacyNoPaidMessages:return s.Ay.createElement(R.A,{isAllowList:!0,usersOnly:t===r.VS.PrivacyNoPaidMessages,withPremiumCategory:t===r.VS.PrivacyGroupChatsAllowedContacts,withMiniAppsCategory:t===r.VS.PrivacyGiftsAllowedContacts,screen:t,isActive:o||l[t],onReset:ue});case r.VS.PrivacyPhoneNumberDeniedContacts:case r.VS.PrivacyLastSeenDeniedContacts:case r.VS.PrivacyProfilePhotoDeniedContacts:case r.VS.PrivacyBioDeniedContacts:case r.VS.PrivacyBirthdayDeniedContacts:case r.VS.PrivacyGiftsDeniedContacts:case r.VS.PrivacyPhoneCallDeniedContacts:case r.VS.PrivacyPhoneP2PDeniedContacts:case r.VS.PrivacyForwardingDeniedContacts:case r.VS.PrivacyVoiceMessagesDeniedContacts:case r.VS.PrivacyGroupChatsDeniedContacts:return s.Ay.createElement(R.A,{screen:t,isActive:o,onReset:ue});case r.VS.PrivacyMessages:return s.Ay.createElement(y.A,{isActive:o,onReset:ue});case r.VS.Folders:case r.VS.FoldersCreateFolder:case r.VS.FoldersEditFolder:case r.VS.FoldersEditFolderFromChatList:case r.VS.FoldersEditFolderInvites:case r.VS.FoldersIncludedChats:case r.VS.FoldersIncludedChatsFromChatList:case r.VS.FoldersExcludedChats:case r.VS.FoldersExcludedChatsFromChatList:case r.VS.FoldersShare:return s.Ay.createElement(A.A,{currentScreen:t,shownScreen:i,state:a,dispatch:n,isActive:o,onReset:ue});case r.VS.TwoFaDisabled:case r.VS.TwoFaNewPassword:case r.VS.TwoFaNewPasswordConfirm:case r.VS.TwoFaNewPasswordHint:case r.VS.TwoFaNewPasswordEmail:case r.VS.TwoFaNewPasswordEmailCode:case r.VS.TwoFaCongratulations:case r.VS.TwoFaEnabled:case r.VS.TwoFaChangePasswordCurrent:case r.VS.TwoFaChangePasswordNew:case r.VS.TwoFaChangePasswordConfirm:case r.VS.TwoFaChangePasswordHint:case r.VS.TwoFaTurnOff:case r.VS.TwoFaRecoveryEmailCurrentPassword:case r.VS.TwoFaRecoveryEmail:case r.VS.TwoFaRecoveryEmailCode:return s.Ay.createElement(V.A,{currentScreen:t,state:le,dispatch:ce,shownScreen:i,isActive:o,onReset:ue});case r.VS.PasscodeDisabled:case r.VS.PasscodeNewPasscode:case r.VS.PasscodeNewPasscodeConfirm:case r.VS.PasscodeChangePasscodeCurrent:case r.VS.PasscodeChangePasscodeNew:case r.VS.PasscodeChangePasscodeConfirm:case r.VS.PasscodeCongratulations:case r.VS.PasscodeEnabled:case r.VS.PasscodeTurnOff:return s.Ay.createElement(h.A,{currentScreen:t,passcode:de,onSetPasscode:me,shownScreen:i,isActive:o,onReset:ue});case r.VS.Performance:return s.Ay.createElement(T.A,{isActive:o,onReset:ue});default:return}}(o,c))}return s.Ay.createElement(u.Ay,{ref:ie,id:"Settings",name:(0,l.P)("layers",ne,se),activeKey:t,renderCount:U,shouldWrap:!0,withSwipeControl:!0},Ae)},se=(0,s.ph)(ne);n()}catch(e){n(e)}})},38162:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.d(t,{A:()=>A});var s=a(84051),o=a(13439),r=a(60919),i=a(39351),l=a(59030),c=a(15535),d=a(3178),m=e([i,l,c]);[i,l,c]=m.then?(await m)():m;const u=({isActive:e,errorKey:t,state:a,savedCredentials:n,passwordHint:r,onPasswordChange:m})=>{const{clearPaymentError:u}=(0,o.ko)(),A=(0,l.A)(),h=(0,i.A)(),[y,p]=(0,s.J0)(!1),v=(0,s.Kr)(()=>n?.length&&a.savedCredentialId?n.find(({id:e})=>e===a.savedCredentialId)?.title:void 0,[n,a.savedCredentialId]);return s.Ay.createElement("div",{className:"PaymentInfo"},s.Ay.createElement(d.A,{isBig:!0,isPasswordVisible:y}),s.Ay.createElement(c.A,{error:t&&h.withRegular(t),hint:r,description:A("PaymentConfirmationMessage",v),placeholder:A("Password"),clearError:u,shouldShowSubmit:!1,shouldResetValue:e,isPasswordVisible:y,onChangePasswordVisibility:p,onInputChange:m}))},A=(0,s.ph)((0,o.EK)(e=>{const{payment:t}=(0,r.nTw)(e);return{errorKey:t.error?.messageKey,passwordHint:e.twoFaSettings.hint,savedCredentials:"regular"===t.form?.type?t.form.savedCredentials:void 0}})(u));n()}catch(e){n(e)}})},38400:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.d(t,{A:()=>g});var s=a(84051),o=a(13439),r=a(70636),i=a(87357),l=a(87894),c=a(82117),d=a(17712),m=a(59030),u=a(54746),A=a(54960),h=a(12933),y=a(17001),p=e([r,m,A,h]);function v({isActive:e,contactListIds:t,usersById:a,currentUserId:n,onClose:p}){const{saveCloseFriends:v}=(0,o.ko)(),g=(0,m.A)(),[E,b]=(0,s.J0)(""),[f,C]=(0,s.J0)(!1),[S,w]=(0,s.J0)([]),k=(0,s.Kr)(()=>(t||[]).filter(e=>a[e]?.isCloseFriend),[t,a]),N=(0,s.Kr)(()=>{const e=(t||[]).filter(e=>e!==n);return(0,l.Am)((0,r.PU)({ids:[...k,...e],query:E,type:"user"}))},[k,t,n,E]);(0,c.A)(([t])=>{!t&&e&&(C(!1),w(k))},[e,k]);const I=(0,s.hb)(e=>{w(e),C(!0)},[]),P=(0,d.A)(()=>{v({userIds:S}),p()});return s.Ay.createElement(s.Ay.Fragment,null,s.Ay.createElement(A.A,{itemIds:N||[],selectedIds:S,filterValue:E,filterPlaceholder:g("Search"),searchInputId:"close-friends-picker-search",isSearchable:!0,withDefaultPadding:!0,onSelectedIdsChange:I,onFilterChange:b,allowMultiple:!0,withStatus:!0,itemInputType:"checkbox"}),s.Ay.createElement("div",{className:(0,i.A)(y.A.buttonHolder,f&&y.A.active)},s.Ay.createElement(h.A,{isShown:f,onClick:P,ariaLabel:g("Save")},s.Ay.createElement(u.A,{name:"check"}))))}[r,m,A,h]=p.then?(await p)():p;const g=(0,s.ph)(v);n()}catch(E){n(E)}})},38692:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.d(t,{A:()=>g});var s=a(84051),o=a(13439),r=a(87357),i=a(85982),l=a(43336),c=a(59030),d=a(73767),m=a(94189),u=a(75300),A=a(22720),h=a(3554),y=e([c,m,u,A]);[c,m,u,A]=y.then?(await y)():y;const p=56,v=({chatId:e,usernames:t,onEditUsername:a})=>{const{showNotification:n,toggleUsername:y,toggleChatUsername:v,sortUsernames:g,sortChatUsernames:E}=(0,o.ko)(),b=(0,c.A)(),[f,C]=(0,s.J0)(),S=(0,s.Kr)(()=>t.map(({username:e})=>e),[t]),w=(0,d.A)(S),[k,N]=(0,s.J0)({orderedUsernames:S,dragOrderUsernames:S,draggedIndex:void 0});(0,s.vJ)(()=>{w!==S&&N({orderedUsernames:S,dragOrderUsernames:S,draggedIndex:void 0})},[w,S]);const I=(0,s.hb)(e=>{(0,i.eM)(`@${e}`),n({message:b("UsernameCopied")})},[b,n]),P=(0,s.hb)(e=>{e.isEditable?a(e.username):C(e)},[a]),M=(0,s.hb)(()=>{C(void 0)},[]),T=(0,s.hb)(()=>{f&&(e?v({chatId:e,username:f.username,isActive:!f.isActive}):y({username:f.username,isActive:!f.isActive}),M())},[e,M,v,y,f]),B=(0,s.hb)((e,t)=>{const a=Math.round(e.y/p),n=k.orderedUsernames?.indexOf(t)||0,s=k.orderedUsernames?.filter(e=>e!==t);s&&(0,l.Bt)(n+a,0,S.length)&&(s.splice(n+a,0,t),N(e=>({...e,draggedIndex:n,dragOrderUsernames:s})))},[k.orderedUsernames,S.length]),x=(0,s.hb)(()=>{N(t=>(e?E({chatId:e,usernames:t.dragOrderUsernames}):g({usernames:t.dragOrderUsernames}),{...t,orderedUsernames:t.dragOrderUsernames,draggedIndex:void 0}))},[e,E,g]);return s.Ay.createElement(s.Ay.Fragment,null,s.Ay.createElement("div",{className:h.A.container},s.Ay.createElement("h4",{className:h.A.header,dir:b.isRtl?"rtl":void 0},b("lng_usernames_subtitle")),s.Ay.createElement("div",{className:h.A.sortableContainer,style:`height: ${t.length*p}px`},t.map((e,t)=>{const a=k.draggedIndex===t,n=(k.orderedUsernames?.indexOf(e.username)??0)*p,o=(k.dragOrderUsernames?.indexOf(e.username)??0)*p,i=e.isEditable?"lng_usernames_edit":e.isActive?"lng_usernames_active":"lng_usernames_non_active";return s.Ay.createElement(u.A,{key:e.username,id:e.username,onDrag:B,onDragEnd:x,style:`top: ${a?n:o}px;`,knobStyle:(b.isRtl?"left":"right")+": 3rem;",isDisabled:!e.isActive},s.Ay.createElement(A.A,{key:e.username,className:(0,r.A)("drag-item no-icon",h.A.item),narrow:!0,secondaryIcon:"more",icon:e.isActive?"link":"link-broken",multiline:!0,contextActions:[{handler:()=>{I(e.username)},title:b("Copy"),icon:"copy"}],onClick:()=>{P(e)}},s.Ay.createElement("span",{className:"title"},"@",e.username),s.Ay.createElement("span",{className:"subtitle"},b(i))))})),s.Ay.createElement("p",{className:h.A.description,dir:b.isRtl?"rtl":void 0},b("lng_usernames_description"))),s.Ay.createElement(m.A,{isOpen:Boolean(f),onClose:M,title:b(f?.isActive?"Username.DeactivateAlertTitle":"Username.ActivateAlertTitle"),text:b(f?.isActive?"Username.DeactivateAlertText":"Username.ActivateAlertText"),confirmLabel:b(f?.isActive?"Username.DeactivateAlertHide":"Username.ActivateAlertShow"),confirmHandler:T,confirmIsDestructive:!f?.isActive}))},g=(0,s.ph)(v);n()}catch(e){n(e)}})},38707:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.d(t,{A:()=>B});var s=a(84051),o=a(13439),r=a(31481),i=a(60919),l=a(87357),c=a(80140),d=a(4961),m=a(16581),u=a(37661),A=a(17712),h=a(59030),y=a(47366),p=a(54746),v=a(64493),g=a(22699),E=a(46222),b=a(22720),f=a(24433),C=a(8410),S=a(283),w=a(36393),k=a(58234),N=a(16801),I=e([h,v,g,b,f,C,w,k]);[h,v,g,b,f,C,w,k]=I.then?(await I)():I;const P=250;function M({story:e,viewersExpirePeriod:t,views:a,nextOffset:n,isLoading:i,isCurrentUserPremium:I}){const{loadStoryViewList:M,closeStoryViewModal:B,clearStoryViews:x}=(0,o.ko)(),[L,R,F]=(0,u.A)(!1),[D,V,_]=(0,u.A)(!0),[U,O]=(0,s.J0)(""),J=(0,h.A)(),K=Boolean(e),G=Boolean(e?.date)&&e.date+t<(0,c.Fm)(),{viewsCount:j=0,reactionsCount:z=0}=e?.views||{},H=e?.isPublic&&j>r.XQO,$=z>r.$4F,q=j>r.frj,W=H||$||q;(0,s.vJ)(()=>{K||(O(""),F(),V())},[K]);const Y=(0,m.A)(()=>{x({isLoading:!0})},[],P,!0);(0,s.vJ)(()=>{Y()},[L,D,U,Y]);const Q=(0,s.Kr)(()=>a?.sort(T(D)),[D,a]),Z=Q?.length?1:Math.min(j,8),X=Boolean(Q?.length)&&Q.length<j&&G,ee=(0,A.A)(()=>{e?.id&&void 0!==n&&M({peerId:e.peerId,storyId:e.id,offset:n,areReactionsFirst:D||void 0,areJustContacts:L||void 0,query:U})}),{handleScroll:te,isAtBeginning:ae}=(0,y.A)(),ne=(0,A.A)(()=>{B()}),se=(0,s.Kr)(()=>({onTrigger:e,isOpen:t})=>s.Ay.createElement(v.A,{fluid:!0,size:"tiny",color:"translucent",className:(0,l.A)(!t&&"active",N.A.sortButton,N.A.topButton),faded:t,onClick:e,ariaLabel:J("SortBy")},s.Ay.createElement(p.A,{name:D?"heart-outline":"recent",className:N.A.iconSort}),s.Ay.createElement(p.A,{name:"down",className:N.A.iconDown})),[D,J]);return s.Ay.createElement(C.A,{isOpen:K,onClose:ne,className:"component-theme-dark",contentClassName:N.A.viewsList,isSlim:!0},W&&s.Ay.createElement("div",{className:N.A.header},H&&s.Ay.createElement("div",{className:N.A.contactFilter},s.Ay.createElement(v.A,{className:(0,l.A)(!L&&N.A.selected,N.A.topButton),size:"tiny",color:"translucent-white",fluid:!0,onClick:F},J("AllViewers")),s.Ay.createElement(v.A,{className:(0,l.A)(L&&N.A.selected,N.A.topButton),size:"tiny",color:"translucent-white",fluid:!0,onClick:R},J("Contacts"))),$&&s.Ay.createElement(g.A,{className:N.A.sort,trigger:se,positionX:"right"},s.Ay.createElement(f.A,{icon:"heart-outline",onClick:V},J("SortByReactions"),D&&s.Ay.createElement(p.A,{name:"check",className:N.A.check})),s.Ay.createElement(f.A,{icon:"recent",onClick:_},J("SortByTime"),!D&&s.Ay.createElement(p.A,{name:"check",className:N.A.check}))),q&&s.Ay.createElement(w.A,{className:N.A.search,value:U,onChange:O})),s.Ay.createElement("div",{className:(0,l.A)(N.A.content,!ae&&N.A.topScrolled,"custom-scroll"),onScroll:te},G&&!i&&!U&&Boolean(!Q?.length)&&s.Ay.createElement("div",{className:(0,l.A)(N.A.info,N.A.centeredInfo)},(0,d.A)(J(I?"ServerErrorViewers":"ExpiredViewsStub"),["simple_markdown","emoji"])),!i&&Boolean(U.length)&&!Q?.length&&s.Ay.createElement("div",{className:N.A.info},J("Story.ViewList.EmptyTextSearch")),s.Ay.createElement(E.A,{items:Q,onLoadMore:ee},Q?.map(e=>{const t="forward"===e.type?e.messageId:"repost"===e.type?e.storyId:"user";return s.Ay.createElement(k.A,{key:`${e.peerId}-${e.date}-${t}`,storyView:e})}),i&&Array.from({length:Z}).map((e,t)=>s.Ay.createElement(b.A,{key:`placeholder-${t}`,className:"chat-item-clickable contact-list-item scroll-item small-icon",disabled:!0},s.Ay.createElement(S.A,null))),X&&s.Ay.createElement("div",{key:"not-all-available",className:(0,l.A)(N.A.info,N.A.bottomInfo)},J("Story.ViewList.NotFullyRecorded")))),s.Ay.createElement("div",{className:(0,l.A)(N.A.footer,"dialog-buttons")},s.Ay.createElement(v.A,{className:(0,l.A)("confirm-dialog-button",N.A.close),isText:!0,onClick:ne},J("Close"))))}function T(e){return(t,a)=>{if(e){const e="user"===t.type&&t.reaction,n="user"===a.type&&a.reaction;if(e&&!n)return-1;if(!e&&n)return 1}return a.date-t.date}}const B=(0,s.ph)((0,o.EK)(e=>{const{appConfig:t}=e,{storyViewer:{viewModal:a}}=(0,i.nTw)(e),{storyId:n,views:s,nextOffset:o,isLoading:r}=a||{},l=n?(0,i.Msb)(e,e.currentUserId,n):void 0;return{storyId:n,views:s,viewersExpirePeriod:t.storyExpirePeriod+t.storyViewersExpirePeriod,story:l&&"content"in l?l:void 0,nextOffset:o,isLoading:r,availableReactions:e.reactions.availableReactions,isCurrentUserPremium:(0,i.g29)(e)}})(M));n()}catch(x){n(x)}})},38940:(e,t,a)=>{a.d(t,{A:()=>n});const n={root:"Wd0fmiSY",avatar:"OhZHdRsP",title:"EQ7__xGn",note:"YRYk96ki",box:"kmCTIfvf","action-header":"qkq5Fa0V",actionHeader:"qkq5Fa0V","action-name":"zFYUiy13",actionName:"zFYUiy13","header-button":"lUf0RJ2h",headerButton:"lUf0RJ2h"}},39045:(e,t,a)=>{a.d(t,{A:()=>n});const n={menuContent:"hRzvfaRb"}},39229:(e,t,a)=>{a.d(t,{A:()=>n});const n={clickable:"IzcASdzD",centered:"xVLGjLub",logo:"Mtx4SWww"}},39952:(e,t,a)=>{a.d(t,{A:()=>n});const n={root:"MhpiTAwi",wrapper:"NIaqmosK"}},40210:(e,t,a)=>{a.d(t,{A:()=>n});const n={root:"Wn7D2H1e",text:"IQ1U2TrZ",header:"F6qqXRvD",description:"ILLaH6qQ",icon:"DzGwbpu5","font-icon":"Pa9h5mh3",fontIcon:"Pa9h5mh3"}},41314:(e,t,a)=>{e.exports=a.p+"PremiumLastSeen.9575a548770d23785846.svg"},41776:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.d(t,{A:()=>g});var s=a(84051),o=a(13439),r=a(31481),i=a(60919),l=a(87357),c=a(4961),d=a(17712),m=a(59030),u=a(40664),A=a(22720),h=a(8410),y=a(34005),p=e([m,u,A,h]);[m,u,A,h]=p.then?(await p)():p;const v=({isOpen:e,chatId:t,messageId:a,activeTranslationLanguage:n,currentLanguageCode:i})=>{const{requestMessageTranslation:p,closeChatLanguageModal:v,setSettingOption:g,requestChatTranslation:E}=(0,o.ko)(),[b,f]=(0,s.J0)(""),C=(0,m.A)(),S=(0,d.A)(e=>{t&&(a?p({chatId:t,id:a,toLanguageCode:e}):(g({translationLanguage:e}),E({chatId:t,toLanguageCode:e})),v())}),w=(0,d.A)(e=>{f(e.target.value)}),k=(0,s.Kr)(()=>r.N89.map(e=>({langCode:e,translatedName:new Intl.DisplayNames([i],{type:"language"}).of(e),originalName:new Intl.DisplayNames([e],{type:"language"}).of(e)})),[i]);(0,s.vJ)(()=>{e||f("")},[e]);const N=(0,s.Kr)(()=>b.trim()?k.filter(({langCode:e,translatedName:t,originalName:a})=>t.toLowerCase().includes(b.toLowerCase())||a.toLowerCase().includes(b.toLowerCase())||e.toLowerCase().includes(b.toLowerCase())):k,[k,b]);return s.Ay.createElement(h.A,{className:y.A.root,isSlim:!0,isOpen:e,hasCloseButton:!0,title:C("Language"),onClose:v},s.Ay.createElement(u.A,{key:"search",value:b,onChange:w,placeholder:C("Search"),teactExperimentControlled:!0}),s.Ay.createElement("div",{className:(0,l.A)(y.A.languages,"custom-scroll")},N.map(({langCode:e,originalName:t,translatedName:a})=>s.Ay.createElement(A.A,{key:e,className:(0,l.A)(y.A.listItem,"no-icon"),secondaryIcon:n===e?"check":void 0,disabled:n===e,multiline:!0,narrow:!0,onClick:()=>S(e)},s.Ay.createElement("span",{className:(0,l.A)("title",y.A.title)},(0,c.A)(t,["highlight"],{highlight:b})),s.Ay.createElement("span",{className:(0,l.A)("subtitle",y.A.subtitle)},(0,c.A)(a,["highlight"],{highlight:b}))))))},g=(0,s.ph)((0,o.EK)(e=>{const{chatId:t,messageId:a}=(0,i.nTw)(e).chatLanguageModal||{},n=(0,i.wmb)(e);return{chatId:t,messageId:a,activeTranslationLanguage:t?a?(0,i.Rny)(e,t,a):(0,i.qZq)(e,t):void 0,currentLanguageCode:n}})(v));n()}catch(e){n(e)}})},41866:(e,t,a)=>{a.d(t,{A:()=>n});const n={root:"lq8BD6Hc",main:"p7c8y0LH",hasHeader:"zTGriBHY",main_customEmoji:"U0BL1VvK",mainCustomEmoji:"U0BL1VvK",header:"Qn3lBUNs",headerWithBorder:"HMspKpNp",stickerCover:"YKO0Obwy",activated:"y02WwQk6",pickerDisabled:"BZfaP1GD"}},42073:(e,t,a)=>{a.d(t,{A:()=>r});var n=a(42215);const s={streetLine1:"",streetLine2:"",city:"",state:"",countryIso2:"",postCode:"",fullName:"",email:"",phone:"",shipping:"",cardNumber:"",cardholder:"",expiry:"",cvv:"",billingCountry:"",billingZip:"",saveInfo:!0,saveCredentials:!1,formErrors:{},tipAmount:0,savedCredentialId:""},o=(e,t)=>{switch(t.type){case"changeAddress1":return{...e,streetLine1:t.payload,formErrors:{...e.formErrors,streetLine1:void 0}};case"changeAddress2":return{...e,streetLine2:t.payload,formErrors:{...e.formErrors,streetLine2:void 0}};case"changeCity":return{...e,city:t.payload,formErrors:{...e.formErrors,city:void 0}};case"changeState":return{...e,state:t.payload,formErrors:{...e.formErrors,state:void 0}};case"changeCountry":return{...e,countryIso2:t.payload.iso2,billingCountry:t.payload.defaultName,formErrors:{...e.formErrors,countryIso2:void 0}};case"changePostCode":return{...e,postCode:t.payload,formErrors:{...e.formErrors,postCode:void 0}};case"changeFullName":return{...e,fullName:t.payload,formErrors:{...e.formErrors,fullName:void 0}};case"changeEmail":return{...e,email:t.payload,formErrors:{...e.formErrors,email:void 0}};case"changePhone":return{...e,phone:t.payload,formErrors:{...e.formErrors,phone:void 0}};case"changeShipping":return{...e,shipping:t.payload};case"changeCardNumber":return{...e,cardNumber:t.payload,formErrors:{...e.formErrors,cardNumber:void 0}};case"changeCardholder":return{...e,cardholder:t.payload,formErrors:{...e.formErrors,cardholder:void 0}};case"changeExpiryDate":return{...e,expiry:t.payload,formErrors:{...e.formErrors,expiry:void 0}};case"changeCvvCode":return{...e,cvv:t.payload,formErrors:{...e.formErrors,cvv:void 0}};case"changeBillingCountry":return{...e,billingCountry:t.payload,formErrors:{...e.formErrors,billingCountry:void 0}};case"changeBillingZip":return{...e,billingZip:t.payload,formErrors:{...e.formErrors,billingZip:void 0}};case"changeSaveInfo":return{...e,saveInfo:t.payload};case"changeSaveCredentials":return{...e,saveCredentials:t.payload};case"updateUserInfo":return t.payload.country?{...e,...t.payload,billingCountry:t.payload.country}:{...e,...t.payload};case"setFormErrors":return{...e,formErrors:{...e.formErrors,...t.payload}};case"setTipAmount":return{...e,tipAmount:t.payload};case"changeSavedCredentialId":return{...e,savedCredentialId:t.payload};case"resetState":return{...s};default:return e}},r=()=>(0,n.A)(o,s)},42298:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.d(t,{A:()=>b});var s=a(84051),o=a(13439),r=a(90709),i=a(87357),l=a(17663),c=a(49086),d=a(35749),m=a(2338),u=a(62587),A=a(59030),h=a(54746),y=a(61213),p=a(1),v=e([c,u,A,y]);[c,u,A,y]=v.then?(await v)():v;const g=({postStatistic:e,message:t})=>{const a=(0,A.A)(),{toggleMessageStatistics:n}=(0,o.ko)(),c=(0,m.A)(t),h=(0,d.A)(t,"micro"),v=(0,u.A)(h),g=Boolean((0,r.lk)(t)),b=(0,s.hb)(()=>{n({messageId:t.id})},[n,t.id]);return s.Ay.createElement("div",{className:(0,i.A)(p.A.root,Boolean(v||c)&&p.A.withImage),onClick:b},s.Ay.createElement("div",{className:p.A.title},s.Ay.createElement("div",{className:p.A.summary},E(a,t,v||c,g)),s.Ay.createElement("div",{className:p.A.meta},a("ChannelStats.ViewsCount",e.viewsCount,"i"))),s.Ay.createElement("div",{className:p.A.info},s.Ay.createElement("div",{className:p.A.date},(0,l.L2)(1e3*t.date,a.code)),s.Ay.createElement(y.A,{postStatistic:e})))};function E(e,t,a,n){return a?s.Ay.createElement("span",null,s.Ay.createElement("img",{src:a,alt:"",draggable:!1,className:(0,i.A)(p.A.image,n&&p.A.round)}),(0,r.zX)(t)&&s.Ay.createElement(h.A,{name:"play"}),(0,c.C)(e,t,!0)):(0,c.C)(e,t)}const b=(0,s.ph)(g);n()}catch(f){n(f)}})},42381:(e,t,a)=>{a.d(t,{A:()=>n});const n={content:"MKdSUg2P",chatItem:"qEIwBtp0"}},42846:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.d(t,{A:()=>p});var s=a(84051),o=a(13439),r=a(31481),i=a(17142),l=a(14242),c=a(39351),d=a(17712),m=a(64493),u=a(54746),A=a(92418),h=e([c,m,A]);function y({starsUsdWithdrawRate:e,starsPaidMessageAmountMax:t,starsPaidMessageCommissionPermille:a,canChangeChargeForMessages:n,isGroupChat:h,chargeForMessages:y,onChange:p}){const{openPremiumModal:v}=(0,o.ko)(),g=(0,c.A)(),E=(0,d.A)(e=>{p?.(e)}),b=(0,d.A)(()=>{v({initialSection:"message_privacy"})});return s.Ay.createElement(s.Ay.Fragment,null,s.Ay.createElement("h4",{className:"settings-item-header",dir:g.isRtl?"rtl":void 0},g("SectionTitleStarsForForMessages")),s.Ay.createElement(A.A,{defaultValue:y,min:r.BSg,max:t,value:y,onChange:E,canChangeChargeForMessages:n,readOnly:!n}),!n&&s.Ay.createElement(m.A,{color:"primary",fluid:!0,size:"smaller",noForcedUpperCase:!0,className:"settings-unlock-button",onClick:b},s.Ay.createElement("span",{className:"settings-unlock-button-title"},g("UnlockButtonTitle"),s.Ay.createElement(u.A,{name:"lock-badge",className:"settings-unlock-button-icon"}))),n&&s.Ay.createElement("p",{className:"settings-item-description-larger",dir:g.isRtl?"rtl":void 0},g(h?"SetPriceGroupDescription":"SectionDescriptionStarsForForMessages",{percent:(0,l.l9)(100*a),amount:(0,i.Ad)(y*e*a,"USD",g.code)},{withNodes:!0})))}[c,m,A]=h.then?(await h)():h;const p=(0,s.ph)((0,o.EK)(e=>{const t=e.appConfig?.starsUsdWithdrawRateX1000,a=t?t/1e3:1,n=e.appConfig?.starsPaidMessageCommissionPermille;return{starsPaidMessageCommissionPermille:n?n/1e3:100,starsUsdWithdrawRate:a,starsPaidMessageAmountMax:e.appConfig?.starsPaidMessageAmountMax||r.$$v}})(y));n()}catch(v){n(v)}})},43147:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.d(t,{A:()=>v});var s=a(84051),o=a(13439),r=a(90709),i=a(70636),l=a(60919),c=a(87894),d=a(79582),m=a(17712),u=a(59030),A=a(54960),h=a(63401),y=e([i,u,A,h]);[i,u,A,h]=y.then?(await y)():y;const p=({isOpen:e,selectionLimit:t,members:a,adminMembersById:n,initialSelectedIds:l,onSelectedIdsConfirmed:y,onClose:p})=>{const{showNotification:v}=(0,o.ko)(),g=(0,u.A)(),[E,b]=(0,s.J0)(""),[f,C]=(0,s.J0)(l);(0,s.vJ)(()=>{C(l)},[l]);const S=(0,s.Kr)(()=>{const e=(0,o.mS)(),{byId:t,statusesById:s}=e.users;if(!a?.length)return[];const i=n&&new Set(Object.keys(n)),l=(0,r.UB)(a.map(({userId:e})=>e),t,s);return i?l.filter(e=>!i.has(e)):l},[n,a]),w=(0,s.Kr)(()=>{const e=(0,o.mS)().users.byId,t=S?(0,i.PU)({ids:S,query:E,type:"user"}):[];return(0,d.A)((0,c.Am)(t).filter(t=>{const a=e[t];return!a||!(0,r.tv)(a)}))},[S,E]),k=(0,m.A)(e=>{e.length>t?v({message:g("BoostingSelectUpToWarningUsers",t)}):C(e)}),N=(0,m.A)(()=>{y(f),p()});return s.Ay.createElement(h.A,{isOpen:e,onClose:p,title:g("BoostingAwardSpecificUsers"),hasCloseButton:!0,shouldAdaptToSearch:!0,withFixedHeight:!0,confirmButtonText:g("Save"),onConfirm:N,onEnter:N},s.Ay.createElement(A.A,{itemIds:w,selectedIds:f,filterValue:E,filterPlaceholder:g("Search"),onSelectedIdsChange:k,onFilterChange:b,isSearchable:!0,withDefaultPadding:!0,withStatus:!0,allowMultiple:!0,itemInputType:"checkbox"}))},v=(0,s.ph)((0,o.EK)((e,{giveawayChatId:t})=>{const a=t?(0,l.AWZ)(e,t):void 0;return a?{members:a.members,adminMembersById:a.adminMembersById}:{}})(p));n()}catch(e){n(e)}})},43341:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.d(t,{A:()=>C});var s=a(84051),o=a(13439),r=a(90709),i=a(60919),l=a(96454),c=a(64713),d=a(4961),m=a(14),u=a(37661),A=a(59030),h=a(21849),y=a(64493),p=a(19806),v=a(40664),g=a(8410),E=e([A,h,y,p,v,g]);[A,h,y,p,v,g]=E.then?(await E)():E;const b=200,f=({isOpen:e,userId:t,isByPhoneNumber:a,user:n,userStatus:i,phoneCodeList:E})=>{const{updateContact:f,importContact:C,closeNewContactDialog:S}=(0,o.ko)(),w=(0,A.A)(),k=(0,m.A)(n),N=(0,m.A)(a),I=(0,s.li)(),[P,M,T]=(0,u.A)(),[B,x]=(0,s.J0)(k?.firstName??""),[L,R]=(0,s.J0)(k?.lastName??""),[F,D]=(0,s.J0)(k?.phoneNumber??""),[V,_]=(0,s.J0)(!0),U=Boolean(B&&(!a||F));(0,s.vJ)(()=>{e&&(M(),x(k?.firstName??""),R(k?.lastName??""),D(k?.phoneNumber??""),_(!0))},[e,M,k?.firstName,k?.lastName,k?.phoneNumber]),(0,s.vJ)(()=>{!l.TF&&P&&setTimeout(()=>{I.current?.focus()},b)},[P]);const O=(0,s.hb)(e=>{x(e.target.value)},[]),J=(0,s.hb)(e=>{D((0,c.Ox)(E,e.target.value))},[E]),K=(0,s.hb)(e=>{R(e.target.value)},[]),G=(0,s.hb)(()=>{S(),x(""),R(""),D("")},[S]),j=(0,s.hb)(()=>{a||!t?C({firstName:B,lastName:L,phoneNumber:F}):f({userId:t,firstName:B,lastName:L,shouldSharePhoneNumber:V})},[B,C,a,L,F,V,f,t]);if(e||P)return s.Ay.createElement(g.A,{className:"NewContactModal",title:w("NewContact"),isOpen:e,onClose:G,onCloseAnimationEnd:T},k&&s.Ay.createElement(s.Ay.Fragment,null,s.Ay.createElement("div",{className:"NewContactModal__profile",dir:w.isRtl?"rtl":void 0},s.Ay.createElement(h.A,{size:"jumbo",peer:k,text:`${B} ${L}`}),s.Ay.createElement("div",{className:"NewContactModal__profile-info"},s.Ay.createElement("p",{className:"NewContactModal__phone-number"},k?.phoneNumber?(0,c.Ox)(E,k.phoneNumber):w("MobileHidden")),s.Ay.createElement("span",{className:"NewContactModal__user-status",dir:"auto"},(0,r.CD)(w,k,i)))),s.Ay.createElement(v.A,{ref:I,value:B,label:w("FirstName"),tabIndex:0,onChange:O}),s.Ay.createElement(v.A,{value:L,label:w("LastName"),tabIndex:0,onChange:K}),s.Ay.createElement("p",{className:"NewContactModal__help-text"},(0,d.A)(w("NewContact.Phone.Hidden.Text",k?.firstName||""),["emoji","simple_markdown"])),s.Ay.createElement(p.A,{className:"dialog-checkbox",checked:V,tabIndex:0,onCheck:_,label:w("lng_new_contact_share")}),s.Ay.createElement("p",{className:"NewContactModal__help-text NewContactModal__help-text__negative"},(0,d.A)(w("AddContact.SharedContactExceptionInfo",k?.firstName)))),N&&s.Ay.createElement("div",{className:"NewContactModal__new-contact",dir:w.isRtl?"rtl":void 0},s.Ay.createElement(h.A,{size:"jumbo",text:`${B} ${L}`}),s.Ay.createElement("div",{className:"NewContactModal__new-contact-fieldset"},s.Ay.createElement(v.A,{ref:I,value:F,inputMode:"tel",label:w("lng_contact_phone"),tabIndex:0,onChange:J}),s.Ay.createElement(v.A,{value:B,label:w("FirstName"),tabIndex:0,onChange:O}),s.Ay.createElement(v.A,{value:L,label:w("LastName"),tabIndex:0,onChange:K}))),s.Ay.createElement("div",{className:"dialog-buttons"},s.Ay.createElement(y.A,{isText:!0,className:"confirm-dialog-button",disabled:!U,onClick:j},w("Done")),s.Ay.createElement(y.A,{isText:!0,className:"confirm-dialog-button",onClick:G},w("Cancel"))))},C=(0,s.ph)((0,o.EK)((e,{userId:t})=>({user:t?(0,i.mBe)(e,t):void 0,userStatus:t?(0,i.K0y)(e,t):void 0,phoneCodeList:e.countryList.phoneCodes}))(f));n()}catch(e){n(e)}})},43448:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.d(t,{A:()=>v});var s=a(84051),o=a(13439),r=a(89925),i=a(39351),l=a(59030),c=a(19096),d=a(65475),m=a(29881),u=a(30617),A=a(54155),h=a(77758),y=e([i,l,c,d,m,u,A,h]);[i,l,c,d,m,u,A,h]=y.then?(await y)():y;const p=({currentScreen:e,shownScreen:t,state:a,hint:n,isLoading:y,errorKey:p,waitingEmailCodeLength:v,dispatch:g,isActive:E,onReset:b})=>{const{updatePassword:f,checkPassword:C,clearTwoFaError:S,updateRecoveryEmail:w,provideTwoFaEmailCode:k,clearPassword:N,openSettingsScreen:I}=(0,o.ko)(),P=(0,i.A)(),M=(0,l.A)();(0,s.vJ)(()=>{v&&(e===r.VS.TwoFaNewPasswordEmail?I({screen:r.VS.TwoFaNewPasswordEmailCode}):e===r.VS.TwoFaRecoveryEmail&&I({screen:r.VS.TwoFaRecoveryEmailCode}))},[e,v,I]);const T=(0,s.hb)(()=>{g({type:"reset"}),I({screen:r.VS.TwoFaNewPassword})},[g,I]),B=(0,s.hb)(e=>{g({type:"setPassword",payload:e}),I({screen:r.VS.TwoFaNewPasswordConfirm})},[g,I]),x=(0,s.hb)(()=>{I({screen:r.VS.TwoFaNewPasswordHint})},[I]),L=(0,s.hb)(e=>{g({type:"setHint",payload:e}),I({screen:r.VS.TwoFaNewPasswordEmail})},[g,I]),R=(0,s.hb)(e=>{g({type:"setEmail",payload:e}),f({...a,email:e,onSuccess:()=>{I({screen:r.VS.TwoFaCongratulations})}})},[g,a,f,I]),F=(0,s.hb)(e=>{g({type:"setCurrentPassword",payload:e}),C({currentPassword:e,onSuccess:()=>{I({screen:r.VS.TwoFaChangePasswordNew})}})},[C,g,I]),D=(0,s.hb)(e=>{g({type:"setPassword",payload:e}),I({screen:r.VS.TwoFaChangePasswordConfirm})},[g,I]),V=(0,s.hb)(()=>{I({screen:r.VS.TwoFaChangePasswordHint})},[I]),_=(0,s.hb)(e=>{g({type:"setHint",payload:e}),f({...a,hint:e,onSuccess:()=>{I({screen:r.VS.TwoFaCongratulations})}})},[g,a,f,I]),U=(0,s.hb)(e=>{N({currentPassword:e,onSuccess:()=>{I({screen:r.VS.Privacy})}})},[N,I]),O=(0,s.hb)(e=>{g({type:"setCurrentPassword",payload:e}),C({currentPassword:e,onSuccess:()=>{I({screen:r.VS.TwoFaRecoveryEmail})}})},[C,g,I]),J=(0,s.hb)(e=>{g({type:"setEmail",payload:e}),w({...a,email:e,onSuccess:()=>{I({screen:r.VS.TwoFaCongratulations})}})},[g,a,w,I]),K=(0,s.hb)(e=>{k({code:e})},[k]);switch(e){case r.VS.TwoFaDisabled:return s.Ay.createElement(h.A,{onStart:T,isActive:E||[r.VS.TwoFaNewPassword,r.VS.TwoFaNewPasswordConfirm,r.VS.TwoFaNewPasswordHint,r.VS.TwoFaNewPasswordEmail,r.VS.TwoFaNewPasswordEmailCode,r.VS.TwoFaCongratulations].includes(t),onReset:b});case r.VS.TwoFaNewPassword:return s.Ay.createElement(c.A,{placeholder:M("PleaseEnterPassword"),submitLabel:M("Continue"),onSubmit:B,isActive:E||[r.VS.TwoFaNewPasswordConfirm,r.VS.TwoFaNewPasswordHint,r.VS.TwoFaNewPasswordEmail,r.VS.TwoFaNewPasswordEmailCode,r.VS.TwoFaCongratulations].includes(t),onReset:b});case r.VS.TwoFaNewPasswordConfirm:return s.Ay.createElement(c.A,{expectedPassword:a.password,placeholder:M("PleaseReEnterPassword"),submitLabel:M("Continue"),onSubmit:x,isActive:E||[r.VS.TwoFaNewPasswordHint,r.VS.TwoFaNewPasswordEmail,r.VS.TwoFaNewPasswordEmailCode,r.VS.TwoFaCongratulations].includes(t),onReset:b});case r.VS.TwoFaNewPasswordHint:return s.Ay.createElement(A.A,{icon:"hint",placeholder:M("PasswordHintPlaceholder"),onSubmit:L,isActive:E||[r.VS.TwoFaNewPasswordEmail,r.VS.TwoFaNewPasswordEmailCode,r.VS.TwoFaCongratulations].includes(t),onReset:b});case r.VS.TwoFaNewPasswordEmail:return s.Ay.createElement(A.A,{icon:"email",type:"email",isLoading:y,error:p&&P.withRegular(p),clearError:S,placeholder:M("RecoveryEmailTitle"),shouldConfirm:!0,onSubmit:R,isActive:E||[r.VS.TwoFaNewPasswordEmailCode,r.VS.TwoFaCongratulations].includes(t),onReset:b});case r.VS.TwoFaNewPasswordEmailCode:return s.Ay.createElement(m.A,{isLoading:y,error:p&&P.withRegular(p),clearError:S,onSubmit:K,isActive:E||t===r.VS.TwoFaCongratulations,onReset:b});case r.VS.TwoFaCongratulations:return s.Ay.createElement(d.A,{isActive:E,onReset:b});case r.VS.TwoFaEnabled:return s.Ay.createElement(u.A,{isActive:E||[r.VS.TwoFaChangePasswordCurrent,r.VS.TwoFaChangePasswordNew,r.VS.TwoFaChangePasswordConfirm,r.VS.TwoFaChangePasswordHint,r.VS.TwoFaTurnOff,r.VS.TwoFaRecoveryEmailCurrentPassword,r.VS.TwoFaRecoveryEmail,r.VS.TwoFaRecoveryEmailCode,r.VS.TwoFaCongratulations].includes(t),onReset:b});case r.VS.TwoFaChangePasswordCurrent:return s.Ay.createElement(c.A,{isLoading:y,error:p&&P.withRegular(p),clearError:S,hint:n,onSubmit:F,isActive:E||[r.VS.TwoFaChangePasswordNew,r.VS.TwoFaChangePasswordConfirm,r.VS.TwoFaChangePasswordHint,r.VS.TwoFaCongratulations].includes(t),onReset:b});case r.VS.TwoFaChangePasswordNew:return s.Ay.createElement(c.A,{placeholder:M("PleaseEnterNewFirstPassword"),onSubmit:D,isActive:E||[r.VS.TwoFaChangePasswordConfirm,r.VS.TwoFaChangePasswordHint,r.VS.TwoFaCongratulations].includes(t),onReset:b});case r.VS.TwoFaChangePasswordConfirm:return s.Ay.createElement(c.A,{expectedPassword:a.password,placeholder:M("PleaseReEnterPassword"),onSubmit:V,isActive:E||[r.VS.TwoFaChangePasswordHint,r.VS.TwoFaCongratulations].includes(t),onReset:b});case r.VS.TwoFaChangePasswordHint:return s.Ay.createElement(A.A,{isLoading:y,error:p&&P.withRegular(p),clearError:S,icon:"hint",placeholder:M("PasswordHintPlaceholder"),onSubmit:_,isActive:E||t===r.VS.TwoFaCongratulations,onReset:b});case r.VS.TwoFaTurnOff:return s.Ay.createElement(c.A,{isLoading:y,error:p&&P.withRegular(p),clearError:S,hint:n,onSubmit:U,isActive:E,onReset:b});case r.VS.TwoFaRecoveryEmailCurrentPassword:return s.Ay.createElement(c.A,{isLoading:y,error:p&&P.withRegular(p),clearError:S,hint:n,onSubmit:O,isActive:E||[r.VS.TwoFaRecoveryEmail,r.VS.TwoFaRecoveryEmailCode,r.VS.TwoFaCongratulations].includes(t),onReset:b});case r.VS.TwoFaRecoveryEmail:return s.Ay.createElement(A.A,{icon:"email",type:"email",placeholder:M("RecoveryEmailTitle"),onSubmit:J,isActive:E||[r.VS.TwoFaRecoveryEmailCode,r.VS.TwoFaCongratulations].includes(t),onReset:b});case r.VS.TwoFaRecoveryEmailCode:return s.Ay.createElement(m.A,{isLoading:y,error:p&&P.withRegular(p),clearError:S,onSubmit:K,isActive:E||t===r.VS.TwoFaCongratulations,onReset:b});default:return}},v=(0,s.ph)((0,o.EK)(e=>({...e.twoFaSettings}))(p));n()}catch(e){n(e)}})},43509:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.d(t,{A:()=>F});var s=a(84051),o=a(13439),r=a(23174),i=a(89925),l=a(90709),c=a(60919),d=a(37836),m=a(14242),u=a(4961),A=a(37661),h=a(26072),y=a(17712),p=a(62587),v=a(59030),g=a(54746),E=a(43434),b=a(19806),f=a(94189),C=a(12933),S=a(40664),w=a(22720),k=a(57474),N=a(63152),I=a(94079),P=e([p,v,E,b,f,C,S,w,I]);[p,v,E,b,f,C,S,w,I]=P.then?(await P)():P;const M="Group title can't be empty",T=255,B=["sendMessages","embedLinks","sendPolls","changeInfo","inviteUsers","pinMessages","manageTopics","sendPhotos","sendVideos","sendRoundvideos","sendVoices","sendAudios","sendDocs"],x=B.length+1,L=(0,d.sg)(e=>e(),500,!1),R=({chatId:e,chat:t,chatFullInfo:a,progress:n,isBasicGroup:d,hasLinkedChannel:P,canChangeInfo:R,canBanUsers:F,canInvite:D,canEditForum:V,isActive:_,exportedInvites:U,isChannelsPremiumLimitReached:O,availableReactions:J,onScreenSelect:K,onClose:G})=>{const{togglePreHistoryHidden:j,updateChat:z,deleteChat:H,leaveChannel:$,deleteChannel:q,closeManagement:W,openChat:Y,loadExportedChatInvites:Q,loadChatJoinRequests:Z,toggleForum:X}=(0,o.ko)(),[ee,te,ae]=(0,A.A)(),ne=t.title,se=a?.about||"",[oe,re]=(0,s.J0)(!1),[ie,le]=(0,s.J0)(ne),[ce,de]=(0,s.J0)(se),[me,ue]=(0,s.J0)(),[Ae,he]=(0,s.J0)(),[ye,pe]=(0,s.J0)(t.isForum),ve=(0,l.cP)(t),ge=(0,p.A)(ve,!1,r.qZ.BlobUrl),Ee=(0,s.Kr)(()=>(0,l.gA)(t),[t]),be=(0,v.A)(),fe=(0,s.li)();(0,h.A)({isActive:_,onBack:G}),(0,s.vJ)(()=>{D&&(Q({chatId:e}),Q({chatId:e,isRevoked:!0}),Z({chatId:e}))},[e,D]),(0,s.vJ)(()=>{pe(Boolean(t.isForum))},[t.isForum]),(0,s.vJ)(()=>{n===i.TD.Complete&&(re(!1),he(void 0))},[n]);const Ce=(0,y.A)(()=>{K(i.je.ChatPrivacyType)}),Se=(0,y.A)(()=>{K(i.je.Discussion)}),we=(0,y.A)(()=>{K(i.je.Reactions)}),ke=(0,y.A)(()=>{K(i.je.GroupPermissions)}),Ne=(0,y.A)(()=>{K(i.je.ChatAdministrators)}),Ie=(0,y.A)(()=>{K(i.je.Invites)}),Pe=(0,y.A)(()=>{K(i.je.JoinRequests)}),Me=(0,y.A)(e=>{ue(e),re(!0)}),Te=(0,y.A)(e=>{le(e.target.value),re(!0)}),Be=(0,y.A)(e=>{de(e.target.value),re(!0)}),xe=(0,y.A)(()=>{const t=ie.trim(),a=ce.trim();t.length?z({chatId:e,title:t,about:a,photo:me}):he(M)}),Le=(0,y.A)(()=>{K(i.je.GroupMembers)}),Re=(0,y.A)(()=>{if(!a)return;const{isPreHistoryHidden:e}=a;j({chatId:t.id,isEnabled:!e})}),Fe=(0,y.A)(()=>{pe(t=>{const a=!t;return L(()=>{X({chatId:e,isEnabled:a})}),a})});(0,s.vJ)(()=>{if(!O)return;const e=fe.current?.querySelector("input");e.checked=!a?.isPreHistoryHidden},[O,a?.isPreHistoryHidden]);const De=(0,s.Kr)(()=>{if(!a?.enabledReactions)return be("ReactionsOff");if("all"===a.enabledReactions.type)return be("ReactionsAll");const e=a.enabledReactions.allowed.length,t=J?.filter(e=>!e.isInactive).length||0;return t?`${e} / ${t}`:e.toString()},[J,a?.enabledReactions,be]),Ve=(0,s.Kr)(()=>{if(!t.defaultBannedRights)return 0;let e=B.filter(e=>!("manageTopics"===e&&!ye||t.defaultBannedRights[e])).length;const{sendStickers:a,sendGifs:n}=t.defaultBannedRights;return a||n||(e+=1),e},[t.defaultBannedRights,ye]),_e=(0,s.Kr)(()=>Object.keys(a?.adminMembersById||{}).length,[a?.adminMembersById]),Ue=(0,y.A)(()=>{d?H({chatId:t.id}):t.isCreator?q({chatId:t.id}):$({chatId:t.id}),ae(),W(),Y({id:void 0})});if((0,c._ls)((0,o.mS)(),e)||t.isForbidden)return;const Oe=n===i.TD.InProgress;return s.Ay.createElement("div",{className:"Management"},s.Ay.createElement("div",{className:"panel-content custom-scroll"},s.Ay.createElement("div",{className:"section"},s.Ay.createElement(E.A,{isForForum:ye,currentAvatarBlobUrl:ge,onChange:Me,disabled:!R}),s.Ay.createElement("div",{className:"settings-edit"},s.Ay.createElement(S.A,{id:"group-title",label:be("GroupName"),onChange:Te,value:ie,error:Ae===M?Ae:void 0,disabled:!R}),s.Ay.createElement(I.A,{id:"group-about",label:be("DescriptionPlaceholder"),maxLength:T,maxLengthIndicator:(T-ce.length).toString(),onChange:Be,value:ce,disabled:!R,noReplaceNewlines:!0})),t.isCreator&&s.Ay.createElement(w.A,{icon:"lock",multiline:!0,onClick:Ce},s.Ay.createElement("span",{className:"title"},be("GroupType")),s.Ay.createElement("span",{className:"subtitle"},be(Ee?"TypePublic":"TypePrivate"))),P&&s.Ay.createElement(w.A,{icon:"message",multiline:!0,onClick:Se},s.Ay.createElement("span",{className:"title"},be("LinkedChannel")),s.Ay.createElement("span",{className:"subtitle"},be("DiscussionUnlink"))),s.Ay.createElement(w.A,{icon:"permissions",multiline:!0,onClick:ke,disabled:!F},s.Ay.createElement("span",{className:"title"},be("ChannelPermissions")),s.Ay.createElement("span",{className:"subtitle",dir:"auto"},Ve,"/",x-(ye?0:1))),s.Ay.createElement(w.A,{icon:"heart-outline",multiline:!0,onClick:we,disabled:!R},s.Ay.createElement("span",{className:"title"},be("Reactions")),s.Ay.createElement("span",{className:"subtitle",dir:"auto"},De)),s.Ay.createElement(w.A,{icon:"admin",multiline:!0,onClick:Ne},s.Ay.createElement("span",{className:"title"},be("ChannelAdministrators")),s.Ay.createElement("span",{className:"subtitle"},(0,m.Sm)(_e))),D&&s.Ay.createElement(w.A,{icon:"link",onClick:Ie,multiline:!0,disabled:!U},s.Ay.createElement("span",{className:"title"},be("GroupInfo.InviteLinks")),s.Ay.createElement("span",{className:"subtitle"},U?(0,m.Sm)(U.length):be("Loading"))),Boolean(t.joinRequests?.length)&&s.Ay.createElement(w.A,{icon:"add-user-filled",onClick:Pe,multiline:!0},s.Ay.createElement("span",{className:"title"},be("MemberRequests")),s.Ay.createElement("span",{className:"subtitle"},(0,m.Sm)(t.joinRequests.length))),V&&s.Ay.createElement(s.Ay.Fragment,null,s.Ay.createElement(w.A,{icon:"forums",ripple:!0,onClick:Fe},s.Ay.createElement("span",null,be("ChannelTopics")),s.Ay.createElement(N.A,{id:"group-notifications",label:be("ChannelTopics"),checked:ye,inactive:!0})),s.Ay.createElement("div",{className:"section-info section-info_push"},be("ForumToggleDescription")))),s.Ay.createElement("div",{className:"section"},s.Ay.createElement(w.A,{icon:"group",multiline:!0,onClick:Le},s.Ay.createElement("span",{className:"title"},be("GroupMembers")),s.Ay.createElement("span",{className:"subtitle"},(0,m.Sm)(t.membersCount??0))),!Ee&&!P&&Boolean(a)&&s.Ay.createElement("div",{className:"ListItem narrow",ref:fe},s.Ay.createElement(b.A,{checked:!a.isPreHistoryHidden,label:be("ChatHistory"),onChange:Re,subLabel:a.isPreHistoryHidden?be("ChatHistoryHiddenInfo2"):be("ChatHistoryVisibleInfo"),disabled:!F}))),s.Ay.createElement("div",{className:"section"},s.Ay.createElement(w.A,{icon:"delete",ripple:!0,destructive:!0,onClick:te},be("DeleteMega")))),s.Ay.createElement(C.A,{isShown:oe,onClick:xe,disabled:Oe,ariaLabel:be("Save")},Oe?s.Ay.createElement(k.A,{color:"white"}):s.Ay.createElement(g.A,{name:"check"})),s.Ay.createElement(f.A,{isOpen:ee,onClose:ae,textParts:(0,u.A)(d||!t.isCreator?be("AreYouSureDeleteAndExit"):be("AreYouSureDeleteThisChatWithGroup",t.title),["br","simple_markdown"]),confirmLabel:d||!t.isCreator?be("DeleteMega"):be("DeleteGroupForAll"),confirmHandler:Ue,confirmIsDestructive:!0}))},F=(0,s.ph)((0,o.EK)((e,{chatId:t})=>{const a=(0,c.hds)(e,t),n=(0,c.AWZ)(e,t),{management:s,limitReachedModal:o}=(0,c.nTw)(e),{progress:r}=s,i=Boolean(n?.linkedChatId),d=(0,l.yn)(a),{invites:m}=s.byChatId[t]||{},u=!i&&((0,l.ub)(a,"changeInfo")||a.isCreator);return{chat:a,chatFullInfo:n,progress:r,isBasicGroup:d,hasLinkedChannel:i,canChangeInfo:a.isCreator||(0,l.ub)(a,"changeInfo"),canBanUsers:a.isCreator||(0,l.ub)(a,"banUsers"),canInvite:a.isCreator||(0,l.ub)(a,"inviteUsers"),exportedInvites:m,isChannelsPremiumLimitReached:"channels"===o?.limit,availableReactions:e.reactions.availableReactions,canEditForum:u}},(e,{chatId:t})=>Boolean((0,c.hds)(e,t)))(R));n()}catch(e){n(e)}})},43631:(e,t,a)=>{a.d(t,{A:()=>n});const n={root:"Ys1i4ssl",item:"skaVPMTF"}},43645:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.d(t,{A:()=>m});var s=a(84051),o=a(17142),r=a(39351),i=a(59030),l=a(1087),c=e([r,i,l]);[r,i,l]=c.then?(await c)():c;const d=({state:e,shippingOptions:t,currency:a,dispatch:n})=>{const c=(0,i.A)(),d=(0,r.A)();(0,s.vJ)(()=>{t&&t.length&&!e.shipping&&n({type:"changeShipping",payload:t[0].id})},[t,e.shipping,n]);const m=(0,s.hb)(e=>{n({type:"changeShipping",payload:e})},[n]),u=(0,s.Kr)(()=>t.map(({id:e,title:t,amount:n})=>({label:t,subLabel:(0,o.vv)(d,n,a),value:e})),[t,a,d]);return s.Ay.createElement("div",{className:"Shipping"},s.Ay.createElement("form",null,s.Ay.createElement("p",null,c("PaymentShippingMethod")),s.Ay.createElement(l.A,{name:"shipping-options",options:u,onChange:m,selected:e.shipping})))},m=(0,s.ph)(d);n()}catch(e){n(e)}})},43971:(e,t,a)=>{a.d(t,{A:()=>n});const n={root:"WqeWhMAS",content:"oofoCYlu"}},44759:(e,t,a)=>{a.d(t,{A:()=>n});const n={modal:"tHOvsXvB",container:"aE_tTreD",header:"pvOW79XD",title:"QQrZjQwa",subtitle:"mNshS0kL",content:"VPxgzl1P",input:"AAMVR_VT",error:"hHHsDtnR",footer:"qoqDTwEz",submitButton:"PoDbRDyr"}},44830:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.d(t,{A:()=>N});var s=a(84051),o=a(13439),r=a(60919),i=a(87357),l=a(24021),c=a(75319),d=a(30857),m=a(59030),u=a(52745),A=a(15895),h=a(42298),y=a(996),p=a(77566),v=e([l,m,A,h,y]);let g,E;async function b(){return g||(g=a.e(1184).then(a.bind(a,31184)),E=await g),g}[l,m,A,h,y]=v.then?(await v)():v;const f={growthGraph:"ChannelStats.Graph.Growth",followersGraph:"ChannelStats.Graph.Followers",muteGraph:"ChannelStats.Graph.Notifications",topHoursGraph:"ChannelStats.Graph.ViewsByHours",viewsBySourceGraph:"ChannelStats.Graph.ViewsBySource",newFollowersBySourceGraph:"ChannelStats.Graph.NewFollowersBySource",languagesGraph:"ChannelStats.Graph.Language",interactionsGraph:"ChannelStats.Graph.Interactions",reactionsByEmotionGraph:"ChannelStats.Graph.Reactions",storyInteractionsGraph:"ChannelStats.Graph.Stories",storyReactionsByEmotionGraph:"ChannelStats.Graph.StoriesReactions"},C=Object.keys(f),S={growthGraph:"Stats.GroupGrowthTitle",membersGraph:"Stats.GroupMembersTitle",languagesGraph:"Stats.GroupLanguagesTitle",messagesGraph:"Stats.GroupMessagesTitle",actionsGraph:"Stats.GroupActionsTitle",topHoursGraph:"Stats.GroupTopHoursTitle"},w=Object.keys(S),k=({chatId:e,chat:t,statistics:a,dcId:n,isGroup:r,messagesById:v,storiesById:g})=>{const k=(0,m.A)(),N=(0,s.li)(),[I,P]=(0,s.J0)(!1),M=(0,s.li)(new Set),T=(0,s.li)(new Set),{loadStatistics:B,loadStatisticsAsyncGraph:x}=(0,o.ko)(),L=(0,d.A)();(0,s.vJ)(()=>{B({chatId:e,isGroup:r})},[e,B,r]);const R=(0,s.Kr)(()=>r?w:C,[r]),F=(0,s.Kr)(()=>r?S:f,[r]);return(0,s.vJ)(()=>{a&&R.forEach(t=>{const n=a[t];(0,c.R)(n)&&"async"===n.graphType&&x({name:t,chatId:e,token:n.token,isPercentage:"languagesGraph"===t})})},[R,e,a,x]),(0,s.vJ)(()=>{(async()=>{await b(),I?a&&N.current&&(R.forEach((e,t)=>{const s=a[e];if(!(0,c.R)(s))return;const o="async"===s.graphType,r="error"===s.graphType;if(o||M.current.has(e))return;if(r)return M.current.add(e),void T.current.add(e);const{zoomToken:i}=s;E.create(N.current.children[t],{title:k(F[e]),...i?{onZoom:e=>(0,l.px)("fetchStatisticsAsyncGraph",{token:i,x:e,dcId:n}),zoomOutLabel:k("Graph.ZoomOut")}:{},...s}),M.current.add(e),N.current.children[t].classList.remove(p.A.hidden)}),L()):P(!0)})()},[R,F,I,a,k,e,x,n,L]),s.Ay.createElement("div",{className:(0,i.A)(p.A.root,"panel-content custom-scroll",I&&p.A.ready)},a&&s.Ay.createElement(A.A,{statistics:a,type:r?"group":"channel",title:k("StatisticOverview")}),!M.current.size&&s.Ay.createElement(u.A,null),s.Ay.createElement("div",{ref:N},R.map(e=>{const t=M.current.has(e)&&!T.current.has(e);return s.Ay.createElement("div",{className:(0,i.A)(p.A.graph,!t&&p.A.hidden)})})),Boolean(a?.recentPosts?.length)&&s.Ay.createElement("div",{className:p.A.messages},s.Ay.createElement("h2",{className:p.A.messagesTitle},k("ChannelStats.Recent.Header")),a.recentPosts.map(e=>{if("msgId"in e){const t=v[e.msgId];if(!t||!("content"in t))return;return s.Ay.createElement(h.A,{key:`statistic_message_${e.msgId}`,message:t,postStatistic:e})}if("storyId"in e&&t){const a=g?.[e.storyId];return s.Ay.createElement(y.A,{key:`statistic_story_${e.storyId}`,chat:t,story:a,postStatistic:e})}})))},N=(0,s.ph)((0,o.EK)((e,{chatId:t})=>{const a=(0,r.gqw)(e,t),n=(0,r.hds)(e,t),s=(0,r.AWZ)(e,t)?.statisticsDcId,o="chatTypeSuperGroup"===n?.type,i=(0,r.zeq)(e,t),l=(0,r._bp)(e,t)?.byId;return{statistics:a,dcId:s,isGroup:o,chat:n,messagesById:i,storiesById:l}})(k));n()}catch(I){n(I)}})},45218:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.d(t,{A:()=>k});var s=a(84051),o=a(13439),r=a(31481),i=a(60919),l=a(87357),c=a(67054),d=a(90603),m=a(76023),u=a(26072),A=a(59030),h=a(34895),y=a(54746),p=a(38102),v=a(12933),g=a(40664),E=a(57474),b=a(41036),f=a(72729),C=e([A,h,p,v,g]);[A,h,p,v,g]=C.then?(await C)():C;const S=5*m.$,w=({isActive:e,chat:t,createTopicPanel:a,isCurrentUserPremium:n,onClose:i})=>{const{createTopic:m,openPremiumModal:C}=(0,o.ko)(),[w,k]=(0,s.J0)(""),[N,I]=(0,s.J0)(0),[P,M]=(0,s.J0)(void 0),T=(0,A.A)(),B=Boolean(w),x=Boolean(a?.isLoading);(0,u.A)({isActive:e,onBack:i}),(0,s.vJ)(()=>{e||(k(""),M(void 0))},[e]);const L=(0,s.hb)(e=>{k(e.target.value)},[]),R=(0,s.hb)(()=>{I(e=>(0,c.A)((0,d.e$)().length,e+1))},[]),F=(0,s.hb)(()=>{m({chatId:t.id,title:w,iconColor:(0,d.e$)()[N],iconEmojiId:P})},[t,m,N,P,w]),D=(0,s.hb)(e=>{e.isFree||n||e.id===r.MyF?e.id!==r.MyF?M(e.id):M(void 0):C({initialSection:"animated_emoji"})},[n,C]),V=(0,s.Kr)(()=>({id:0,title:w,iconColor:(0,d.e$)()[N],iconEmojiId:P}),[N,P,w]);if(t?.isForum)return s.Ay.createElement("div",{className:f.A.root},s.Ay.createElement("div",{className:(0,l.A)(f.A.content,"custom-scroll")},s.Ay.createElement("div",{className:(0,l.A)(f.A.section,f.A.top)},s.Ay.createElement("span",{className:f.A.heading},T("CreateTopicTitle")),s.Ay.createElement(b.Ay,{name:"zoomFade",activeKey:Number(V.iconEmojiId)||0,shouldCleanup:!0,direction:1,className:f.A.iconWrapper},s.Ay.createElement(p.A,{topic:V,className:(0,l.A)(f.A.icon,f.A.clickable),onClick:R,size:S,noLoopLimit:!0})),s.Ay.createElement(g.A,{value:w,onChange:L,label:T("lng_forum_topic_title"),disabled:x,teactExperimentControlled:!0})),s.Ay.createElement("div",{className:(0,l.A)(f.A.section,f.A.bottom)},s.Ay.createElement(h.A,{idPrefix:"create-topic-icons-set-",isHidden:!e,loadAndPlay:e,onCustomEmojiSelect:D,className:f.A.iconPicker,pickerListClassName:"fab-padding-bottom",withDefaultTopicIcons:!0}))),s.Ay.createElement(v.A,{isShown:B,disabled:x,onClick:F,ariaLabel:T("Save")},x?s.Ay.createElement(E.A,{color:"white"}):s.Ay.createElement(y.A,{name:"check"})))},k=(0,s.ph)((0,o.EK)(e=>{const{createTopicPanel:t}=(0,i.nTw)(e);return{chat:t?.chatId?(0,i.hds)(e,t.chatId):void 0,createTopicPanel:t,isCurrentUserPremium:(0,i.g29)(e)}})(w));n()}catch(e){n(e)}})},45248:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.d(t,{A:()=>y});var s=a(84051),o=a(13439),r=a(89925),i=a(31880),l=a(37037),c=a(80284),d=a(64247),m=a(72284),u=e([l,c,d,m]);[l,c,d,m]=u.then?(await u)():u;const A=200,h=({currentScreen:e,shownScreen:t,state:a,dispatch:n,isActive:u,onReset:h})=>{const{openShareChatFolderModal:y,editChatFolder:p,addChatFolder:v,openSettingsScreen:g}=(0,o.ko)(),E=(0,s.hb)(()=>{e!==r.VS.FoldersCreateFolder&&e!==r.VS.FoldersEditFolder&&e!==r.VS.FoldersEditFolderFromChatList&&e!==r.VS.FoldersEditFolderInvites||setTimeout(()=>{n({type:"reset"})},A),e!==r.VS.FoldersIncludedChats&&e!==r.VS.FoldersExcludedChats?h():"create"===a.mode?g({screen:r.VS.FoldersCreateFolder}):g({screen:r.VS.FoldersEditFolder})},[a.mode,n,e,h]),b="create"===a.mode,f=(0,s.hb)(e=>{const{title:t}=e.folder;if(!t)return n({type:"setError",payload:c.IV}),!1;const{selectedChatIds:a,selectedChatTypes:s}=(0,i.a)(e,"included");return a.length||Object.keys(s).length?(b?v({folder:e.folder}):p({id:e.folderId,folderUpdate:e.folder}),n({type:"setError",payload:void 0}),n({type:"setIsTouched",payload:!1}),!0):(n({type:"setError",payload:c.z1}),!1)},[n,b]),C=(0,s.hb)(e=>{f(a)&&e?.()},[f,a]),S=(0,s.hb)(()=>{const e=n({type:"saveFilters"});E(),f(e)},[n,E,f]),w=(0,s.hb)(()=>{n({type:"reset"}),g({screen:r.VS.FoldersCreateFolder})},[n]),k=(0,s.hb)(e=>{n({type:"editFolder",payload:e}),g({screen:r.VS.FoldersEditFolder})},[n]),N=(0,s.hb)(()=>{n({type:"editIncludeFilters"}),g({screen:e===r.VS.FoldersEditFolderFromChatList?r.VS.FoldersIncludedChatsFromChatList:r.VS.FoldersIncludedChats})},[e,n]),I=(0,s.hb)(()=>{n({type:"editExcludeFilters"}),g({screen:e===r.VS.FoldersEditFolderFromChatList?r.VS.FoldersExcludedChatsFromChatList:r.VS.FoldersExcludedChats})},[e,n]),P=(0,s.hb)(()=>{y({folderId:a.folderId,noRequestNextScreen:!0}),n({type:"setIsChatlist",payload:!0}),g({screen:r.VS.FoldersShare})},[n,a.folderId]),M=(0,s.hb)(e=>{y({folderId:a.folderId,url:e,noRequestNextScreen:!0}),g({screen:r.VS.FoldersShare})},[a.folderId]);switch(e){case r.VS.Folders:return s.Ay.createElement(d.A,{onCreateFolder:w,onEditFolder:k,isActive:u||[r.VS.FoldersCreateFolder,r.VS.FoldersEditFolder,r.VS.FoldersIncludedChats,r.VS.FoldersExcludedChats].includes(t),onReset:h});case r.VS.FoldersCreateFolder:case r.VS.FoldersEditFolder:case r.VS.FoldersEditFolderFromChatList:case r.VS.FoldersEditFolderInvites:return s.Ay.createElement(c.Ay,{state:a,dispatch:n,onAddIncludedChats:N,onAddExcludedChats:I,onShareFolder:P,onOpenInvite:M,onReset:E,isActive:u||[r.VS.FoldersIncludedChats,r.VS.FoldersExcludedChats].includes(t),isOnlyInvites:e===r.VS.FoldersEditFolderInvites,onBack:h,onSaveFolder:C});case r.VS.FoldersIncludedChats:case r.VS.FoldersIncludedChatsFromChatList:return s.Ay.createElement(l.A,{mode:"included",state:a,dispatch:n,onReset:E,onSaveFilter:S,isActive:u});case r.VS.FoldersExcludedChats:case r.VS.FoldersExcludedChatsFromChatList:return s.Ay.createElement(l.A,{mode:"excluded",state:a,dispatch:n,onReset:E,onSaveFilter:S,isActive:u});case r.VS.FoldersShare:return s.Ay.createElement(m.A,{isActive:u,onReset:E});default:return}},y=(0,s.ph)(h);n()}catch(e){n(e)}})},45266:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.d(t,{A:()=>d});var s=a(84051),o=a(17712),r=a(93966),i=e([r]),l=i.then?(await i)():i;r=l[0];const c=({inlineResult:e,isSavedMessages:t,canSendGifs:a,observeIntersection:n,onClick:i})=>{const{gif:l}=e,c=(0,o.A)((t,a,n)=>{i(e,a,n)});if(l)return s.Ay.createElement(r.A,{gif:l,observeIntersection:n,className:"chat-item-clickable",onClick:a?c:void 0,isSavedMessages:t})},d=(0,s.ph)(c);n()}catch(e){n(e)}})},45585:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.d(t,{A:()=>v});var s=a(84051),o=a(13439),r=a(90709),i=a(60919),l=a(9716),c=a(4961),d=a(17712),m=a(59030),u=a(64493),A=a(19806),h=a(8410),y=e([m,u,A,h]);[m,u,A,h]=y.then?(await y)():y;const p=({isOpen:e,chatId:t,messageId:a,isChannel:n,isGroup:r,isSuperGroup:i,canPinForAll:l,contactName:y,onClose:p})=>{const{pinMessage:v}=(0,o.ko)(),[g,E]=(0,s.J0)(!0),b=(0,d.A)(()=>{v({chatId:t,messageId:a,isUnpin:!1,isOneSide:!g,isSilent:!g}),p()}),f=(0,m.A)();return s.Ay.createElement(h.A,{isOpen:e,onClose:p,className:"pin",title:f("PinMessageAlertTitle")},s.Ay.createElement("p",null,f(n?"PinMessageAlertChannel":r||i?"PinMessageAlert":"PinMessageAlertChat")),l&&s.Ay.createElement(A.A,{className:"dialog-checkbox",label:y?(0,c.A)(f("Conversation.PinMessagesFor",y)):f("Conversation.PinMessageAlert.PinAndNotifyMembers"),checked:g,onCheck:E}),s.Ay.createElement("div",{className:"dialog-buttons"},s.Ay.createElement(u.A,{className:"confirm-dialog-button",isText:!0,onClick:b},f("DialogPin")),s.Ay.createElement(u.A,{className:"confirm-dialog-button",isText:!0,onClick:p},f("Cancel"))))},v=(0,s.ph)((0,o.EK)((e,{chatId:t})=>{const a=(0,l.L8)(t),n=(0,i.nZ4)(e,t),s=(0,i.hds)(e,t),o=Boolean(s)&&(0,r.WX)(s),c=Boolean(s)&&(0,r.yn)(s),d=Boolean(s)&&(0,r.Vs)(s);return{isPrivateChat:a,isChatWithSelf:n,isChannel:o,isGroup:c,isSuperGroup:d,canPinForAll:a&&!n||d||c,contactName:s&&(0,l.L8)(s.id)?(0,r.u0)((0,i.mBe)(e,(0,r.e7)(s))):void 0}})(p));n()}catch(e){n(e)}})},45708:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.d(t,{A:()=>p});var s=a(84051),o=a(13439),r=a(60919),i=a(87894),l=a(4961),c=a(26072),d=a(5912),m=a(59030),u=a(85839),A=a(19806),h=e([m,u,A]);[m,u,A]=h.then?(await h)():h;const y=({isActive:e,customEmojiSetIds:t,stickerSetsById:a,shouldSuggestCustomEmoji:n,canPlayAnimatedEmojis:r,onReset:h})=>{const{openStickerSet:y,setSettingOption:p}=(0,o.ko)(),v=(0,m.A)(),g=(0,s.li)(),{observe:E}=(0,d.BL)({rootRef:g});(0,c.A)({isActive:e,onBack:h});const b=(0,s.hb)(e=>{y({stickerSetInfo:e.stickerSetInfo})},[y]),f=(0,s.hb)(e=>{p({shouldSuggestCustomEmoji:e})},[p]),C=(0,s.Kr)(()=>t&&Object.values((0,i.Up)(a,t)),[t,a]);return s.Ay.createElement("div",{className:"settings-content custom-scroll"},C&&s.Ay.createElement("div",{className:"settings-item"},s.Ay.createElement(A.A,{label:v("SuggestAnimatedEmoji"),checked:n,onCheck:f}),s.Ay.createElement("div",{className:"mt-4",ref:g},C.map(e=>s.Ay.createElement(u.A,{key:e.id,stickerSet:e,observeIntersection:E,onClick:b,noPlay:!r}))),s.Ay.createElement("p",{className:"settings-item-description mt-3",dir:"auto"},(0,l.A)(v("EmojiBotInfo"),["links"]))))},p=(0,s.ph)((0,o.EK)(e=>({...(0,i.Up)(e.settings.byKey,["shouldSuggestCustomEmoji"]),customEmojiSetIds:e.customEmojis.added.setIds,stickerSetsById:e.stickers.setsById,canPlayAnimatedEmojis:(0,r.BWX)(e)}))(y));n()}catch(e){n(e)}})},46073:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.d(t,{A:()=>H});var s=a(84051),o=a(13439),r=a(31481),i=a(90709),l=a(20179),c=a(60919),d=a(96454),m=a(87357),u=a(95807),A=a(95362),h=a(59852),y=a(24021),p=a(4961),v=a(43874),g=a(14),E=a(82117),b=a(37661),f=a(39351),C=a(17712),S=a(59030),w=a(35297),k=a(90423),N=a(11184),I=a(98159),P=a(54746),M=a(64493),T=a(94189),B=a(8410),x=a(57474),L=a(41036),R=a(85353),F=e([y,f,S,M,T,B]);[y,f,S,M,T,B]=F.then?(await F)():F;const D=" ",V=250,_=400,U=350,O=3,J=2e3,K=3800,G=["allow-scripts","allow-same-origin","allow-popups","allow-forms","allow-modals","allow-storage-access-by-user-activation"].join(" "),j={ok:"OK",cancel:"Cancel",close:"Close"},z=({modal:e,webApp:t,bot:a,theme:n,isPaymentModalOpen:c,paymentStatus:F,registerSendEventCallback:z,registerReloadFrameCallback:H,isTransforming:$,modalState:q,isMultiTabSupported:W,onContextMenuButtonClick:Y,botAppPermissions:Q,botAppSettings:Z,modalHeight:X})=>{const{closeActiveWebApp:ee,sendWebViewData:te,toggleAttachBot:ae,openTelegramLink:ne,setWebAppPaymentSlug:se,switchBotInline:oe,sharePhoneWithBot:re,updateWebApp:ie,resetPaymentStatus:le,openChatWithInfo:ce,showNotification:de,openEmojiStatusAccessModal:me,openLocationAccessModal:ue,changeWebAppModalState:Ae,closeWebAppModal:he,openPreparedInlineMessageModal:ye}=(0,o.ko)(),[pe,ve]=(0,s.J0)(),[ge,Ee]=(0,s.J0)(),[be,fe,Ce]=(0,b.A)(!1),[Se,we]=(0,s.J0)(),[ke,Ne]=(0,s.J0)(!1),[Ie,Pe]=(0,s.J0)(!1),[Me,Te]=(0,s.J0)(),[Be,xe]=(0,s.J0)(),{unlockPopupsAt:Le,handlePopupOpened:Re,handlePopupClosed:Fe}=(0,N.A)(O,J),De=(0,s.li)(),Ve=(0,s.li)(),_e=(0,s.li)(),Ue="fullScreen"===q,Oe="minimized"===q,Je=(0,C.A)(()=>{setTimeout(()=>{Ae({state:"maximized"})},U)}),Ke=(0,s.li)();(0,s.vJ)(()=>{Ke.current=document.querySelector("#portals")},[]);const[,Ge,je]=(0,k.Ay)(Ke,Je),ze=e?.activeWebAppKey?e.openedWebApps[e.activeWebAppKey]:void 0,{appName:He,backgroundColor:$e}=ze||{},{url:qe,buttonText:We,isBackButtonVisible:Ye}=t||{},{placeholderPath:Qe}=Z||{},Ze=Boolean(t?.isCloseModalOpen),Xe=Boolean(t?.isRemoveModalOpen),et=t&&(0,l.rp)(t),tt=ze&&(0,l.rp)(ze),at=ze&&t&&tt===et,nt=d.H$,st=void 0!==Q?.geolocation,ot=Boolean(Q?.geolocation),rt=(0,C.A)(e=>{et&&ie({key:et,update:e})}),it=(0,s.Kr)(()=>(0,h.A)(),[n]);(0,s.vJ)(()=>{xe(it.secondary_bg_color)},[it]);const lt=it.bg_color,[ct,dt]=(0,s.J0)(),mt="light"===n?Z?.backgroundColor:Z?.backgroundDarkColor;(0,s.vJ)(()=>{rt({backgroundColor:ct||mt||lt})},[lt,ct,mt]);const ut=it.bg_color,[At,ht]=(0,s.J0)(),yt="light"===n?Z?.headerColor:Z?.headerDarkColor;(0,s.vJ)(()=>{rt({headerColor:At||yt||ut})},[ut,At,yt]);const pt=(0,s.li)(),vt=(0,S.A)(),gt=(0,f.A)(),Et=e?.isModalOpen||!1,bt=Boolean(We),{reloadFrame:ft,sendEvent:Ct,sendFullScreenChanged:St,sendViewport:wt,sendSafeArea:kt,sendTheme:Nt}=(0,I.A)(pt,Et,Ue,bt,function(e){const{eventType:t,eventData:n}=e;if("web_app_request_fullscreen"===t&&((0,v.cB)()?Ae({state:"fullScreen"}):Ct({eventType:"fullscreen_failed",eventData:{error:"UNSUPPORTED"}})),"web_app_exit_fullscreen"===t&&_t(),"web_app_open_tg_link"===t){const e=r.jsp+n.path_full;ne({url:e,shouldIgnoreCache:n.force_request}),ee()}if("web_app_setup_back_button"===t&&rt({isBackButtonVisible:n.is_visible}),"web_app_setup_settings_button"===t&&rt({isSettingsButtonVisible:n.is_visible}),"web_app_set_background_color"===t&&dt((0,h.To)(n.color)?n.color:void 0),"web_app_set_header_color"===t){const e=n.color_key;ht(n.color||(e?it[e]:void 0))}if("web_app_set_bottom_bar_color"===t&&xe(n.color),"web_app_data_send"===t&&(ee(),te({bot:a,buttonText:We,data:n.data})),"web_app_setup_main_button"===t){const e=n.color,t=n.text_color;ve({isVisible:n.is_visible&&Boolean(n.text?.trim().length),isActive:n.is_active,text:n.text,color:e,textColor:t,isProgressVisible:n.is_progress_visible})}if("web_app_setup_secondary_button"===t){const e=n.color,t=n.text_color;Ee({isVisible:n.is_visible&&Boolean(n.text?.trim().length),isActive:n.is_active,text:n.text,color:e,textColor:t,isProgressVisible:n.is_progress_visible,position:n.position})}if("web_app_setup_closing_behavior"===t&&rt({shouldConfirmClosing:!0}),"web_app_open_popup"===t){if(Se||!n.message.trim().length||!n.buttons?.length||n.buttons.length>3||ke||Ie||Le>Date.now())return void Rt(void 0);we(n),Re()}if("web_app_switch_inline_query"===t){const e=n.chat_types?.map(i.Xj).filter(Boolean),t=!e?.length;oe({botId:a.id,query:n.query,filter:e,isSamePeer:t}),ee()}if("web_app_request_phone"===t){if(Se||Ie||Le>Date.now())return void Kt();Ne(!0),Re()}if("web_app_request_write_access"===t){if(Se||ke||Le>Date.now())return void zt();!async function(){if(!a)return;const e=await(0,y.px)("fetchBotCanSendMessage",{bot:a});e&&Ct({eventType:"write_access_requested",eventData:{status:"allowed"}}),Pe(!e)}(),Re()}if("web_app_invoke_custom_method"===t){const{method:e,params:t,req_id:s}=n;!async function(e,t,n){const s=await(0,y.px)("invokeWebViewCustomMethod",{bot:a,customMethod:t,parameters:n});Ct({eventType:"custom_method_invoked",eventData:{req_id:e,...s}})}(s,e,JSON.stringify(t))}if("web_app_request_file_download"===t){if(Me||Le>Date.now())return void jt();!async function(e,t){await(0,y.px)("checkBotDownloadFileParams",{bot:a,url:e,fileName:t})?(Te({url:e,fileName:t}),Re()):Ct({eventType:"file_download_requested",eventData:{status:"cancelled"}})}(n.url,n.file_name)}if("web_app_send_prepared_message"===t){if(!a||!et)return;const{id:e}=n;ye({botId:a.id,messageId:e,webAppKey:et})}if("web_app_request_emoji_status_access"===t){if(!a)return;me({bot:a,webAppKey:et})}"web_app_check_location"===t&&Ct({eventType:"location_checked",eventData:{available:nt,access_requested:st,access_granted:ot}}),"web_app_request_location"===t&&(async()=>{const e=await(0,d.Bu)(),{accessRequested:t,accessGranted:n,geolocation:s}=e;if(!n||!t)return Ct({eventType:"location_requested",eventData:{available:!1}}),de({message:vt("PermissionNoLocationPosition")}),void Rt(void 0);nt?st?Ct({eventType:"location_requested",eventData:{available:Boolean(Q?.geolocation),latitude:s?.latitude,longitude:s?.longitude,altitude:s?.altitude,course:s?.heading,speed:s?.speed,horizontal_accuracy:s?.accuracy,vertical_accuracy:s?.altitudeAccuracy}}):ue({bot:a,webAppKey:et}):(de({message:vt("PermissionNoLocationPosition")}),Rt(void 0))})(),"web_app_open_location_settings"===t&&qt()},t,fe);(0,s.vJ)(()=>{at&&z(Ct)},[Ct,z,at]),(0,s.vJ)(()=>{at&&H(ft)},[ft,H,at]);const It=be&&pe?.isVisible&&pe.text.trim().length>0,Pt=be&&ge?.isVisible&&ge.text.trim().length>0,Mt=(0,C.A)(()=>{rt({isCloseModalOpen:!1})}),Tt=(0,C.A)(()=>{rt({shouldConfirmClosing:!1,isCloseModalOpen:!1}),setTimeout(()=>{ee()},_)}),Bt=(0,C.A)(()=>{rt({isRemoveModalOpen:!1})}),xt=(0,C.A)(()=>{Ct({eventType:"main_button_pressed"})}),Lt=(0,C.A)(()=>{Ct({eventType:"secondary_button_pressed"})}),Rt=(0,C.A)(e=>{we(void 0),Fe(),Ct({eventType:"popup_closed",eventData:{button_id:e}})}),Ft=(0,C.A)(()=>{Rt()}),Dt=(0,C.A)(()=>{Nt()});(0,w.A)(()=>{setTimeout(()=>{Dt()},_)},[n]);const Vt=(0,C.A)(()=>{!(0,k.j9)()&&at&&Ge?.()}),_t=(0,C.A)(()=>{(0,k.j9)()&&at&&je?.()}),Ut=(0,C.A)(e=>{at&&St(e)});(0,s.vJ)(()=>{Ue?(Vt(),Ut(!0)):(_t(),Ut(!1))},[Ue]);const Ot=(0,C.A)(e=>{Ct({eventType:"visibility_changed",eventData:{is_visible:e}})});(0,s.vJ)(()=>{be&&Ot(Boolean(at))},[at,be]),(0,E.A)(([e])=>{"minimized"===q&&Ot(!1),q&&"minimized"===e&&Ot(!0)},[q]),(0,w.A)(([e])=>{c!==e&&t?.slug&&!c&&F&&(Ct({eventType:"invoice_closed",eventData:{slug:t.slug,status:F}}),se({slug:void 0}),le())},[c,F,Ct,t?.slug]);const Jt=(0,C.A)(()=>{ae({botId:a.id,isEnabled:!1}),ee()}),Kt=(0,C.A)(()=>{Ne(!1),Fe(),Ct({eventType:"phone_requested",eventData:{status:"cancelled"}})}),Gt=(0,C.A)(()=>{re({botId:a.id}),Ne(!1),Fe(),Ct({eventType:"phone_requested",eventData:{status:"sent"}})}),jt=(0,C.A)(e=>{e&&(Te(void 0),Fe()),Ct({eventType:"file_download_requested",eventData:{status:"cancelled"}})}),zt=(0,C.A)(()=>{Ct({eventType:"write_access_requested",eventData:{status:"cancelled"}}),Pe(!1),Fe()}),Ht=(0,C.A)(async()=>{a&&(await(0,y.px)("allowBotSendMessages",{bot:a})?(Ct({eventType:"write_access_requested",eventData:{status:"allowed"}}),Pe(!1),Fe()):zt())}),$t=(0,C.A)(()=>{Me&&(Te(void 0),Fe(),(0,A.A)(Me.url,Me.fileName),Ct({eventType:"file_download_requested",eventData:{status:"downloading"}}))});(0,s.vJ)(()=>{Et||(we(void 0),Ne(!1),Pe(!1),ve(void 0),Ee(void 0),rt({isSettingsButtonVisible:!1,shouldConfirmClosing:!1,isBackButtonVisible:!1,isCloseModalOpen:!1,isRemoveModalOpen:!1}),Ce())},[Et]);const qt=(0,C.A)(()=>{ce({id:a.id})}),Wt=(0,g.A)(pe?.color,!0),Yt=(0,g.A)(pe?.textColor,!0),Qt=(0,g.A)(pe&&Boolean(pe.isActive),!0),Zt=(0,g.A)(pe?.text,!0),Xt=(0,g.A)(ge?.position,!0),ea=(0,g.A)(ge?.color,!0),ta=(0,g.A)(ge?.textColor,!0),aa=(0,g.A)(ge&&Boolean(ge.isActive),!0),na=(0,g.A)(ge?.text,!0),[sa,oa]=(0,s.J0)(!1),[ra,ia]=(0,s.J0)(!0),[la,ca]=(0,s.J0)(!0),[da,ma]=(0,s.J0)(!1),[ua,Aa]=(0,s.J0)(!1),[ha,ya]=(0,s.J0)(!1),[pa,va]=(0,s.J0)(0);(0,w.A)(()=>{setTimeout(()=>{wt(),kt()},$?0:_)},[ua,la,da,da,ge?.position,wt,$,X,kt]);const ga="top"===Xt||"bottom"===Xt,Ea=ga&&da&&ua?2:da||ua?1:0,ba=ga||ra||la?"vertical":"horizontal",fa=(0,s.li)(),Ca=(0,s.li)(),Sa=(0,s.li)(),wa=(0,s.li)(),ka=(0,s.li)();(0,s.vJ)(()=>(Ue&&Et&&Boolean(He)?(ya(!0),ka.current&&clearTimeout(ka.current),ka.current=setTimeout(()=>{ya(!1),ka.current=void 0},K)):(ya(!1),ka.current&&(clearTimeout(ka.current),ka.current=void 0)),()=>{ka.current&&clearTimeout(ka.current)}),[Ue,Et,He]),(0,s.vJ)(()=>{fa.current&&clearTimeout(fa.current),Ca.current&&clearTimeout(Ca.current),It&&(Ca.current=setTimeout(()=>{ma(!0)},35),ia(!1),fa.current=setTimeout(()=>{oa(!0)},V)),It||(ma(!1),fa.current=setTimeout(()=>{ia(!0)},V))},[It]),(0,s.vJ)(()=>{Sa.current&&clearTimeout(Sa.current),wa.current&&clearTimeout(wa.current),Pt&&(wa.current=setTimeout(()=>{Aa(!0)},35),ca(!1),Sa.current=setTimeout(()=>{oa(!0)},V)),Pt||(Aa(!1),Sa.current=setTimeout(()=>{ca(!0)},V))},[Pt]),(0,s.vJ)(()=>{ua||da||oa(!1)},[oa,ua,da]);const Na=(0,u.A)(`background-color: ${$e||"var(--color-background)"}`,$&&"pointer-events: none;"),Ia=(0,C.A)(()=>{Ye?Ct({eventType:"back_button_pressed"}):(_t(),St(!1),Ae({state:"maximized"}),he())}),Pa=(0,C.A)(()=>{_t()}),Ma=(0,C.A)(e=>{Y(e)}),Ta=(0,m.A)(R.A.closeIcon,Ye&&R.A.stateBack),Ba=ha?He:vt(Ye?"Back":"Close"),xa=_e?.current;return(0,s.vJ)(()=>{va(_e?.current?.clientWidth||0)},[Ba,xa]),s.Ay.createElement("div",{ref:De,className:(0,m.A)(R.A.root,!at&&R.A.hidden,W&&R.A.multiTab)},Ue&&(0,v.cB)()&&s.Ay.createElement("div",{className:R.A.headerPanel},s.Ay.createElement("div",{ref:Ve,className:R.A.headerButton,onClick:Ia},s.Ay.createElement("div",{className:R.A.backIconContainer},s.Ay.createElement("div",{className:Ta})),s.Ay.createElement("span",{className:R.A.buttonCaptionContainer,style:`width: ${pa}px;`},s.Ay.createElement(L.Ay,{activeKey:ha?0:Ye?1:2,name:"slideFade"},s.Ay.createElement("div",{ref:_e,className:R.A.backButtonCaption},Ba)))),s.Ay.createElement("div",{className:R.A.headerSplitButton},s.Ay.createElement("div",{className:(0,m.A)(R.A.headerButton,R.A.left),tabIndex:0,role:"button","aria-label":gt("WebAppCollapse"),onClick:Pa},s.Ay.createElement(P.A,{name:"down",className:R.A.icon})),s.Ay.createElement("div",{className:(0,m.A)(R.A.headerButton,R.A.right),tabIndex:0,role:"button","aria-haspopup":"menu","aria-label":gt("AriaMoreButton"),onClick:Ma},s.Ay.createElement(P.A,{name:"more",className:(0,m.A)(R.A.icon,R.A.moreIcon)})))),!Oe&&(Qe?s.Ay.createElement("svg",{className:(0,m.A)(R.A.loadingPlaceholder,be&&R.A.hide),viewBox:"0 0 512 512"},s.Ay.createElement("path",{className:R.A.placeholderPath,d:Qe})):function(){const e=(0,m.A)(R.A.loadingPlaceholder,R.A.defaultPlaceholderGrid,be&&R.A.hide);return s.Ay.createElement("div",{className:e},s.Ay.createElement("div",{className:R.A.placeholderSquare}),s.Ay.createElement("div",{className:R.A.placeholderSquare}),s.Ay.createElement("div",{className:R.A.placeholderSquare}),s.Ay.createElement("div",{className:R.A.placeholderSquare}))}()),s.Ay.createElement("iframe",{className:(0,m.A)(R.A.frame,sa&&R.A.withButton,!be&&R.A.hide),style:Na,src:qe,title:`${a?.firstName} Web App`,sandbox:G,allow:"camera; microphone; geolocation; clipboard-write;",allowFullScreen:!0,ref:pt}),!Oe&&s.Ay.createElement("div",{style:`background-color: ${Be};`,className:(0,m.A)(R.A.buttonsContainer,"left"===Xt&&R.A.leftToRight,"right"===Xt&&R.A.rightToLeft,"top"===Xt&&R.A.topToBottom,"bottom"===Xt&&R.A.bottomToTop,"horizontal"===ba&&R.A.hideHorizontal,1===Ea&&R.A.oneRow,2===Ea&&R.A.twoRows)},s.Ay.createElement(M.A,{className:(0,m.A)(R.A.secondaryButton,ua&&!la&&R.A.visible,la&&R.A.hidden),fluid:!0,style:`background-color: ${ea}; color: ${ta}`,disabled:!aa&&!ge?.isProgressVisible,nonInteractive:ge?.isProgressVisible,onClick:Lt,size:"smaller"},!ge?.isProgressVisible&&na,ge?.isProgressVisible&&s.Ay.createElement(x.A,{className:R.A.mainButtonSpinner,color:"blue"})),s.Ay.createElement(M.A,{className:(0,m.A)(R.A.mainButton,da&&!ra&&R.A.visible,ra&&R.A.hidden),fluid:!0,style:`background-color: ${Wt}; color: ${Yt}`,disabled:!Qt&&!pe?.isProgressVisible,nonInteractive:pe?.isProgressVisible,onClick:xt,size:"smaller"},!pe?.isProgressVisible&&Zt,pe?.isProgressVisible&&s.Ay.createElement(x.A,{className:R.A.mainButtonSpinner,color:"white"}))),Se&&s.Ay.createElement(B.A,{isOpen:Boolean(Se),title:Se.title||D,onClose:Ft,hasCloseButton:!0,className:(0,m.A)(R.A.webAppPopup,!Se.title?.trim().length&&R.A.withoutTitle)},Se.message,s.Ay.createElement("div",{className:"dialog-buttons mt-2"},Se.buttons.map(e=>s.Ay.createElement(M.A,{key:e.id||e.type,className:"confirm-dialog-button",color:"destructive"===e.type?"danger":"primary",isText:!0,size:"smaller",onClick:()=>Rt(e.id)},e.text||vt(j[e.type]))))),s.Ay.createElement(T.A,{isOpen:ke,onClose:Kt,title:vt("ShareYouPhoneNumberTitle"),text:vt("AreYouSureShareMyContactInfoBot"),confirmHandler:Gt,confirmLabel:vt("ContactShare")}),s.Ay.createElement(T.A,{isOpen:Ie,onClose:zt,title:vt("lng_bot_allow_write_title"),text:vt("lng_bot_allow_write"),confirmHandler:Ht,confirmLabel:vt("lng_bot_allow_write_confirm")}),s.Ay.createElement(T.A,{isOpen:Boolean(Me),title:vt("BotDownloadFileTitle"),textParts:gt("BotDownloadFileDescription",{bot:a?.firstName,filename:Me?.fileName},{withNodes:!0,withMarkdown:!0}),confirmLabel:vt("BotDownloadFileButton"),onClose:jt,confirmHandler:$t}),s.Ay.createElement(T.A,{isOpen:Ze,onClose:Mt,title:vt("lng_bot_close_warning_title"),text:vt("lng_bot_close_warning"),confirmHandler:Tt,confirmIsDestructive:!0,confirmLabel:vt("lng_bot_close_warning_sure")}),s.Ay.createElement(T.A,{isOpen:Xe,onClose:Bt,title:vt("BotRemoveFromMenuTitle"),textParts:(0,p.A)(vt("BotRemoveFromMenu",a?.firstName),["simple_markdown"]),confirmHandler:Jt,confirmIsDestructive:!0}))},H=(0,s.ph)((0,o.EK)((e,{modal:t})=>{const a=t?.activeWebAppKey?(0,c.wtp)(e,t.activeWebAppKey):void 0,{botId:n}=a||{},s=t?.modalState,o=n?e.attachMenu.bots[n]:void 0,r=n?(0,c.mBe)(e,n):void 0,i=n?(0,c.vGo)(e,n):void 0,l=i?.botInfo?.appSettings,d=e.currentUserId?(0,c.mBe)(e,e.currentUserId):void 0,m=(0,c.SJA)(e),{isPaymentModalOpen:u,status:A}=(0,c.nTw)(e).payment,{status:h,inputInvoice:y}=(0,c.nTw)(e).starsPayment,p=r?(0,c.XOs)(e,r.id):void 0,v=h||A;return{attachBot:o,bot:r,currentUser:d,theme:m,isPaymentModalOpen:u||Boolean(y),paymentStatus:v,modalState:s,botAppPermissions:p,botAppSettings:l}})(z));n()}catch(e){n(e)}})},46113:(e,t,a)=>{e.exports=a.p+"PremiumFile.884dd3865acfe594fc61.svg"},46186:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.d(t,{A:()=>y});var s=a(84051),o=a(13439),r=a(87357),i=a(39351),l=a(59030),c=a(54960),d=a(5228),m=a(64493),u=a(47),A=e([i,l,c,d,m]);[i,l,c,d,m]=A.then?(await A)():A;const h=({invite:e})=>{const{closeChatlistModal:t,joinChatlistInvite:a}=(0,o.ko)(),n=(0,i.A)(),A=(0,l.A)(),[h,y]=(0,s.J0)(e.peerIds),p=(0,s.Kr)(()=>{const t=(0,o.mS)().chats.byId;return e.peerIds.filter(e=>!t[e].isNotJoined)},[e.peerIds]),v=h.length-p.length,g=v?v.toString():void 0,E=(0,s.hb)(()=>{t(),a({invite:e,peerIds:h})},[e,h]),b=(0,s.hb)(()=>{const t=h.length===e.peerIds.length;y(t?p:e.peerIds)},[e.peerIds,p,h.length]);return s.Ay.createElement("div",{className:u.A.content},s.Ay.createElement("div",{className:u.A.description},n("FolderLinkSubtitleNew")),s.Ay.createElement("div",{className:(0,r.A)(u.A.pickerWrapper,"custom-scroll")},s.Ay.createElement("div",{className:u.A.pickerHeader},s.Ay.createElement("div",{className:u.A.pickerHeaderInfo},A("FolderLinkHeaderChatsJoin",v,"i")),s.Ay.createElement("div",{className:u.A.selectionToggle,role:"button",tabIndex:0,onClick:b},h.length===e.peerIds.length?A("DeselectAll"):A("SelectAll"))),s.Ay.createElement(c.A,{itemIds:e.peerIds,lockedSelectedIds:p,onSelectedIdsChange:y,selectedIds:h,allowMultiple:!0,withStatus:!0,itemInputType:"checkbox"})),s.Ay.createElement(m.A,{onClick:E,size:"smaller",disabled:!h.length},s.Ay.createElement("div",{className:u.A.buttonText},n("FolderLinkAddFolder"),s.Ay.createElement(d.A,{className:u.A.buttonBadge,text:g,isAlternateColor:!0}))))},y=(0,s.ph)(h);n()}catch(e){n(e)}})},46330:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.d(t,{A:()=>w});var s=a(84051),o=a(13439),r=a(89925),i=a(31481),l=a(90709),c=a(70636),d=a(87894),m=a(58968),u=a(93898),A=a(74984),h=a(26072),y=a(39351),p=a(59030),v=a(54746),g=a(54960),E=a(12933),b=e([c,A,y,p,g,E]);[c,A,y,p,g,E]=b.then?(await b)():b;const f=[m.lw],C=({isAllowList:e,withPremiumCategory:t,withMiniAppsCategory:a,screen:n,isActive:r,currentUserId:b,settings:C,usersOnly:S=!1,onReset:w})=>{const{setPrivacySettings:k}=(0,o.ko)(),N=(0,p.A)(),I=(0,y.A)(),P=(0,s.Kr)(()=>({isCustomPeer:!0,type:"bots",title:I("PrivacyValueBots"),avatarIcon:"bots",isAvatarSquare:!0,peerColorId:6}),[I]),M=(0,s.Kr)(()=>[P],[P]),T=(0,s.Kr)(()=>C?e?[...C.allowUserIds,...C.allowChatIds]:[...C.blockUserIds,...C.blockChatIds]:[],[e,C]),B=(0,s.Kr)(()=>C?C.shouldAllowPremium?[m.lw.type]:"allow"===C.botsPrivacy&&e?[P.type]:[]:[],[C,e,P]),[x,L]=(0,s.J0)(""),[R,F]=(0,s.J0)(!1),[D,V]=(0,s.J0)(T),[_,U]=(0,s.J0)(B);(0,s.vJ)(()=>{r||(V(T),U(B))},[r,B,T]);const O=(0,A.Rh)(i.DSF),J=(0,A.Rh)(i._E9),K=(0,s.Kr)(()=>{const e=(0,o.mS)().chats.byId,t=(0,o.mS)().users.byId,a=(0,d.Am)([...O||[],...J||[]]).filter(a=>{const n=e[a],s=t[a],o=s&&(0,l.PL)(s),r=n&&(0,l.WX)(n);return(!S||s)&&a!==b&&a!==i.zv8&&!r&&!o}),n=(0,c.PU)({ids:a,query:x});return x?n:(0,d.Am)([...T,...a])},[O,J,T,x,b,S]),G=(0,s.hb)(e=>{U(e),F(!0)},[]),j=(0,s.hb)(e=>{V(e),F(!0)},[]),z=(0,s.hb)(()=>{k({privacyKey:(0,u.Q)(n),isAllowList:Boolean(e),updatedIds:D,isPremiumAllowed:_.includes(m.lw.type)||void 0,botsPrivacy:a?_.includes(P.type)?"allow":"disallow":"none"}),w()},[e,a,_,D,w,n,P]);return(0,h.A)({isActive:r,onBack:w}),s.Ay.createElement("div",{className:"NewChat-inner step-1"},s.Ay.createElement(g.A,{categories:t?f:a&&e?M:void 0,itemIds:K||[],selectedIds:D,selectedCategories:_,filterValue:x,filterPlaceholder:N(e?"AlwaysAllowPlaceholder":"NeverAllowPlaceholder"),categoryPlaceholderKey:"PrivacyUserTypes",searchInputId:"new-group-picker-search",isSearchable:!0,onSelectedIdsChange:j,onSelectedCategoriesChange:G,onFilterChange:L,allowMultiple:!0,itemInputType:"checkbox",withDefaultPadding:!0,withStatus:!0}),s.Ay.createElement(E.A,{isShown:R,onClick:z,ariaLabel:N(e?"AlwaysAllow":"NeverAllow")},s.Ay.createElement(v.A,{name:"check"})))};function S(e,t){const{privacy:a}=e.settings;switch(t){case r.VS.PrivacyPhoneNumberAllowedContacts:case r.VS.PrivacyPhoneNumberDeniedContacts:return a.phoneNumber;case r.VS.PrivacyLastSeenAllowedContacts:case r.VS.PrivacyLastSeenDeniedContacts:return a.lastSeen;case r.VS.PrivacyProfilePhotoAllowedContacts:case r.VS.PrivacyProfilePhotoDeniedContacts:return a.profilePhoto;case r.VS.PrivacyBioAllowedContacts:case r.VS.PrivacyBioDeniedContacts:return a.bio;case r.VS.PrivacyBirthdayAllowedContacts:case r.VS.PrivacyBirthdayDeniedContacts:return a.birthday;case r.VS.PrivacyGiftsAllowedContacts:case r.VS.PrivacyGiftsDeniedContacts:return a.gifts;case r.VS.PrivacyPhoneCallAllowedContacts:case r.VS.PrivacyPhoneCallDeniedContacts:return a.phoneCall;case r.VS.PrivacyPhoneP2PAllowedContacts:case r.VS.PrivacyPhoneP2PDeniedContacts:return a.phoneP2P;case r.VS.PrivacyForwardingAllowedContacts:case r.VS.PrivacyForwardingDeniedContacts:return a.forwards;case r.VS.PrivacyVoiceMessagesAllowedContacts:case r.VS.PrivacyVoiceMessagesDeniedContacts:return a.voiceMessages;case r.VS.PrivacyGroupChatsDeniedContacts:case r.VS.PrivacyGroupChatsAllowedContacts:return a.chatInvite;case r.VS.PrivacyNoPaidMessages:return a.noPaidMessages}}const w=(0,s.ph)((0,o.EK)((e,{screen:t})=>({currentUserId:e.currentUserId,settings:S(e,t)}))(C));n()}catch(k){n(k)}})},46449:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.d(t,{A:()=>S});var s=a(84051),o=a(13439),r=a(31481),i=a(90709),l=a(87357),c=a(9716),d=a(64713),m=a(37661),u=a(26072),A=a(59030),h=a(21849),y=a(35384),p=a(54746),v=a(12933),g=a(22720),E=a(52745),b=a(11339),f=e([A,h,y,v,g,b]);[A,h,y,v,g,b]=f.then?(await f)():f;const C=({isActive:e,onReset:t,chatsByIds:a,usersByIds:n,blockedIds:f,phoneCodeList:C})=>{const{unblockUser:S}=(0,o.ko)(),w=(0,A.A)(),[k,N,I]=(0,m.A)(),P=(0,s.hb)(e=>{S({userId:e})},[S]);(0,u.A)({isActive:e,onBack:t});const M=(0,s.Kr)(()=>f.reduce((e,t)=>{const a=(0,c.L8)(t)?n[t]:void 0,s=a&&!a.phoneNumber&&(0,i.Kl)(a);return s&&(e[t]=s),e},{}),[f,n]);return s.Ay.createElement("div",{className:"settings-fab-wrapper"},s.Ay.createElement("div",{className:"settings-content infinite-scroll"},s.Ay.createElement("div",{className:"settings-item no-border"},s.Ay.createElement("p",{className:"settings-item-description-larger mt-0 mb-2",dir:w.isRtl?"rtl":void 0},w("BlockedUsersInfo"))),s.Ay.createElement("div",{className:"chat-list custom-scroll"},f?.length?s.Ay.createElement("div",{className:"scroll-container settings-item"},f.map((e,t)=>function(e,t){const o=(0,c.L8)(e),i=n[e],m=a[e],u=i||m,A=(0,l.A)("Chat chat-item-clickable blocked-list-item small-icon",o?"private":"group"),p=M[e];return s.Ay.createElement(g.A,{key:`blocked_${e}`,className:A,ripple:!0,narrow:!0,contextActions:[{title:"Unblock",icon:"unlock",handler:()=>{P(e)}}],style:`top: ${(0+t)*r.yq1}px;`},s.Ay.createElement(h.A,{size:"medium",peer:u}),s.Ay.createElement("div",{className:"contact-info",dir:"auto"},u&&s.Ay.createElement(y.A,{peer:u}),i?.phoneNumber&&s.Ay.createElement("div",{className:"contact-phone",dir:"auto"},(0,d.Ox)(C,i.phoneNumber)),p&&s.Ay.createElement("div",{className:"contact-username",dir:"auto"},"@",p),p&&s.Ay.createElement("div",{className:"contact-username",dir:"auto"},"@",p)))}(e,t))):f&&!f.length?s.Ay.createElement("div",{className:"no-results",dir:"auto"},w("NoBlocked")):s.Ay.createElement(E.A,{key:"loading"}))),s.Ay.createElement(v.A,{isShown:!0,className:"block-user-button",onClick:N,ariaLabel:w("BlockContact")},s.Ay.createElement(p.A,{name:"add"})),s.Ay.createElement(b.A,{isOpen:k,onClose:I}))},S=(0,s.ph)((0,o.EK)(e=>{const{chats:{byId:t},users:{byId:a},blocked:{ids:n},countryList:{phoneCodes:s}}=e;return{chatsByIds:t,usersByIds:a,blockedIds:n,phoneCodeList:s}})(C));n()}catch(e){n(e)}})},46652:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.d(t,{A:()=>V});var s=a(84051),o=a(13439),r=a(31481),i=a(90709),l=a(70636),c=a(60919),d=a(87357),m=a(76023),u=a(4961),A=a(63527),h=a(96374),y=a(79174),p=a(10328),v=a(17712),g=a(59030),E=a(64493),b=a(46222),f=a(40664),C=a(52745),S=a(8410),w=a(41036),k=a(21849),N=a(35384),I=a(54746),P=a(38102),M=a(66273),T=e([l,g,E,f,S,k,N,P,M]);[l,g,E,f,S,k,N,P,M]=T.then?(await T)():T;const B=0,x=1,L=2.75*m.$,R="ChatOrUserPicker-item",F=56,D=({isOpen:e,currentUserId:t,chatOrUserIds:a,search:n,searchPlaceholder:m,className:T,loadMore:D,onSearchChange:V,onSelectChatOrUser:_,onClose:U,onCloseAnimationEnd:O,isLowStackPriority:J})=>{const{loadTopics:K}=(0,o.ko)(),G=(0,g.A)(),j=(0,s.li)(),z=(0,s.li)(),H=(0,s.li)(),$=(0,s.li)(),[q,W]=(0,h.A)(D,a,Boolean(n)),[Y,Q]=(0,s.J0)(void 0),[Z,X]=(0,s.J0)(""),ee=Y?x:B,te=a.indexOf(q[0]),ae=(0,v.A)(()=>{V("")});(0,y.A)(H,e&&ee===B,ae),(0,y.A)($,e&&ee===x);const ne=(0,v.A)(e=>{if(Y)return(0,c.pSx)(e,Y)}),se=(0,A.A)(ne),[oe,re]=(0,s.Kr)(()=>{const e=(0,o.mS)(),t=e.chats.byId,a=e.chats.fullInfoById,n=t[Y];if(!n||!se)return[void 0,void 0];const s=Z.toLowerCase(),r=se?Object.values(se).reduce((e,t)=>(!(0,i.__)(n,t,void 0,a[Y])||s&&!t.title.toLowerCase().includes(s)||(e[t.id]=t),e),{}):se;return[Object.keys(r).map(Number),r]},[Y,Z,se]),ie=(0,v.A)(()=>{Q(void 0),X("")}),le=(0,v.A)(e=>{V(e.currentTarget.value)}),ce=(0,v.A)(e=>{X(e.currentTarget.value)}),de=(0,p.A)(j,e,e=>{if(q&&q.length>0){const t=(0,o.mS)().chats.byId,a=q[-1===e?0:e],n=t[a];n?.isForum?(se||K({chatId:a}),Q(a)):_(a)}},`.${R}`,!0),me=(0,p.A)(z,e,e=>{oe?.length&&_(Y,oe[-1===e?0:e])},`.${R}`,!0),ue=(0,v.A)(e=>{const t=(0,o.mS)().chats.byId,a=t?.[e];a?.isForum?(se||K({chatId:e}),Q(e),ae()):_(e)}),Ae=(0,s.hb)((e,a)=>{const n=(0,o.mS)();let m=(0,c.PVB)(n,e);if(!m)return;const u=(0,c.k2W)(n,e);u&&(m=u);const A=m&&!(0,l.vj)(m)?m.isSelf:void 0,[h,y]=function(){if(!m)return;if(m.id===t)return[G("SavedMessagesInfo")];if((0,l.vj)(m))return[(0,i.sT)(G,m)];const e=(0,c.K0y)(n,m.id);return[(0,i.CD)(G,m,e),(0,d.A)((0,i.PF)(m,e,!0)&&"online")]}()||[];return s.Ay.createElement(M.A,{key:e,className:R,title:s.Ay.createElement("div",{className:"title-wrapper"},s.Ay.createElement(N.A,{className:"item-title",peer:m,isMonoforum:Boolean(u),isSavedMessages:A})),avatarElement:s.Ay.createElement(k.A,{peer:m,asMessageBubble:Boolean(u),isSavedMessages:A,size:"medium"}),subtitle:h,subtitleClassName:y,ripple:!0,style:`top: ${(te+a)*r.xw7}px;`,onClick:()=>ue(e)})},[t,G,te]);return s.Ay.createElement(S.A,{isOpen:e,className:(0,d.A)("ChatOrUserPicker",T),onClose:U,onCloseAnimationEnd:O,isLowStackPriority:J},s.Ay.createElement(w.Ay,{activeKey:ee,name:"slideFade",slideClassName:"ChatOrUserPicker_slide"},()=>ee===x?s.Ay.createElement(s.Ay.Fragment,null,s.Ay.createElement("div",{className:"modal-header",dir:G.isRtl?"rtl":void 0},s.Ay.createElement(E.A,{round:!0,color:"translucent",size:"smaller",ariaLabel:G("Back"),onClick:ie},s.Ay.createElement(I.A,{name:"arrow-left"})),s.Ay.createElement(f.A,{ref:$,value:Z,onChange:ce,onKeyDown:me,placeholder:m})),s.Ay.createElement(b.A,{ref:z,className:"picker-list custom-scroll",items:oe,withAbsolutePositioning:!0,maxHeight:(oe?.length||0)*F,onKeyDown:me},!oe&&s.Ay.createElement(C.A,null),oe?.map((e,t)=>s.Ay.createElement(M.A,{key:`${Y}_${e}`,className:R,onClick:()=>_(Y,e),style:`top: ${(te+t)*F}px;`,avatarElement:s.Ay.createElement(P.A,{size:L,topic:re[e],className:"topic-icon",letterClassName:"topic-icon-letter"}),title:(0,u.A)(re[e].title)})))):s.Ay.createElement(s.Ay.Fragment,null,s.Ay.createElement("div",{className:"modal-header",dir:G.isRtl?"rtl":void 0},s.Ay.createElement(E.A,{round:!0,color:"translucent",size:"smaller",ariaLabel:G("Close"),onClick:U},s.Ay.createElement(I.A,{name:"close"})),s.Ay.createElement(f.A,{ref:H,value:n,onChange:le,onKeyDown:de,placeholder:m})),q?.length?s.Ay.createElement(b.A,{ref:j,className:"picker-list custom-scroll",items:q,itemSelector:`.${R}`,onLoadMore:W,withAbsolutePositioning:!0,maxHeight:a.length*r.xw7,onKeyDown:de},q.map(Ae)):q&&!q.length?s.Ay.createElement("p",{className:"no-results"},G("lng_blocked_list_not_found")):s.Ay.createElement(C.A,null))))},V=(0,s.ph)(D);n()}catch(e){n(e)}})},46815:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.d(t,{A:()=>E});var s=a(84051),o=a(13439),r=a(60919),i=a(87357),l=a(80140),c=a(17712),d=a(59030),m=a(54746),u=a(64493),A=a(22720),h=a(8410),y=a(61361),p=a(20629),v=e([d,u,A,h,y]);[d,u,A,h,y]=v.then?(await v)():v;const g=({isOpen:e,stealthMode:t,isCurrentUserPremium:a})=>{const{toggleStealthModal:n,activateStealthMode:r,showNotification:v,openPremiumModal:g}=(0,o.ko)(),[E,b]=(0,s.J0)(!1);(0,s.vJ)(()=>{if(!t)return;const e=(0,l.Fm)();t.cooldownUntil&&t.cooldownUntil>e&&b(!0)},[t,e]);const f=(0,d.A)(),C=(0,c.A)(()=>{b(!1)}),S=(0,c.A)(()=>{n({isOpen:!1})}),w=(0,c.A)(()=>{a?(r(),v({title:f("StealthModeOn"),message:f("StealthModeOnHint")}),n({isOpen:!1})):g({initialSection:"stories"})});return s.Ay.createElement(h.A,{className:"component-theme-dark",contentClassName:p.A.root,isOpen:e,isSlim:!0,onClose:S},s.Ay.createElement(u.A,{round:!0,color:"translucent",size:"smaller",className:p.A.closeButton,ariaLabel:f("Close"),onClick:S},s.Ay.createElement(m.A,{name:"close"})),s.Ay.createElement("div",{className:p.A.stealthIcon},s.Ay.createElement(m.A,{name:"eye-crossed-outline"})),s.Ay.createElement("div",{className:p.A.title},f("StealthMode")),s.Ay.createElement("div",{className:p.A.description},f(a?"StealthModeHint":"StealthModePremiumHint")),s.Ay.createElement(A.A,{className:(0,i.A)(p.A.listItem,"smaller-icon"),multiline:!0,inactive:!0,leftElement:s.Ay.createElement(m.A,{name:"stealth-past",className:p.A.icon})},s.Ay.createElement("span",{className:"title"},f("HideRecentViews")),s.Ay.createElement("span",{className:(0,i.A)("subtitle",p.A.subtitle)},f("HideRecentViewsDescription"))),s.Ay.createElement(A.A,{className:(0,i.A)(p.A.listItem,"smaller-icon"),multiline:!0,inactive:!0,leftElement:s.Ay.createElement(m.A,{name:"stealth-future",className:p.A.icon,"aria-hidden":!0})},s.Ay.createElement("span",{className:"title"},f("HideNextViews")),s.Ay.createElement("span",{className:(0,i.A)("subtitle",p.A.subtitle)},f("HideNextViewsDescription"))),s.Ay.createElement(u.A,{className:p.A.button,size:"smaller",disabled:E,isShiny:!a,withPremiumGradient:!a,onClick:w},a?E?s.Ay.createElement(y.A,{langKey:"AvailableIn",endsAt:t.cooldownUntil,onEnd:C}):f("EnableStealthMode"):f("UnlockStealthMode")))},E=(0,s.ph)((0,o.EK)(e=>{const t=(0,r.nTw)(e);return{isOpen:t.storyViewer?.isStealthModalOpen,stealthMode:e.stories.stealthMode,isCurrentUserPremium:(0,r.g29)(e)}})(g));n()}catch(e){n(e)}})},46957:(e,t,a)=>{a.d(t,{$:()=>b,w:()=>E});var n=a(89925),s=a(31481),o=a(32610),r=a(66644),i=a(90709),l=a(19822),c=a(96454),d=a(83868),m=a(43503),u=a(76023),A=a(2429),h=a(32819);const y=200,p=3.5*u.$,v=.5*u.$,g=600;function E(e,t,a,n,o){const{mediaEl:i}=w(t,e);if(!i)return;const{width:c,height:d}=m.A.get();let{width:u,height:A}=o;const h=c<=g;if(h){u=c-2*v,A=d-p-2*v;const e=getComputedStyle(document.documentElement).getPropertyValue("--safe-area-bottom");e&&(A-=parseFloat(e))}const E=h?v:(c-u)/2,b=h?v:(d-(A+p))/2,{top:f,left:C,width:k,height:N}=i.getBoundingClientRect(),I=C+k/2-(E+u/2),P=f+N/2-(b+A/2),M=k/u,T=N/A;(0,r.RK)(()=>{const e=S(n||a,!n);(0,l.ZM)(e,{top:`${b}px`,left:`${E}px`,width:`${u}px`,height:`${A}px`,transform:`translate3d(${I}px, ${P}px, 0) scale(${M}, ${T})`});const t=document.getElementById("StoryViewer");t.appendChild(e),document.body.classList.add("ghost-animating"),(0,r.RK)(()=>{(0,l.ZM)(e,{transform:""}),setTimeout(()=>{(0,r.RK)(()=>{t.contains(e)&&t.removeChild(e),document.body.classList.remove("ghost-animating")})},y+s.xB5)})})}function b(e,t,a){const{mediaEl:n}=w(t,e),o=document.getElementById("StoryViewer").querySelector(`.${h.A.mobileSlide} .${h.A.media}, .${h.A.activeSlide} .${h.A.media}`);if(!o||!n)return;const{top:i,left:c,width:d,height:m}=o.getBoundingClientRect(),{top:u,left:A,width:p,height:v}=n.getBoundingClientRect(),g=A+p/2-(c+d/2),E=u+v/2-(i+m/2),b=p/d,f=v/m;(0,r.RK)(()=>{const e=S(a);(0,l.ZM)(e,{top:`${i}px`,left:`${c}px`,width:`${d}px`,height:`${m}px`});const t=S(n.src,void 0,!0),o=i+m/2-d/2;(0,l.ZM)(t,{top:`${o}px`,left:`${c}px`,width:`${d}px`,height:`${d}px`});const u=document.getElementById("StoryViewer");u.appendChild(e),document.body.appendChild(t),document.body.classList.add("ghost-animating"),(0,r.RK)(()=>{(0,l.ZM)(e,{transform:`translate3d(${g}px, ${E}px, 0) scale(${b}, ${f})`}),(0,l.ZM)(t,{transform:`translate3d(${g}px, ${E}px, 0) scale(${b})`,opacity:"1"}),setTimeout(()=>{(0,r.RK)(()=>{u.contains(e)&&u.removeChild(e),document.body.contains(t)&&document.body.removeChild(t),document.body.classList.remove("ghost-animating")})},y+s.xB5)})})}const f=2,C=2;function S(e,t=!1,a=!1){const n=document.createElement("div");n.classList.add(a?h.A.ghost2:h.A.ghost);const s=new Image;if(s.draggable=!1,s.oncontextmenu=d.A,s.classList.add(h.A.ghostImage),t){const t=document.createElement("canvas");t.classList.add(h.A.thumbnail),s.onload=()=>{const e=t.getContext("2d",{alpha:!1}),{width:a,height:n}=s;(0,r.RK)(()=>{t.width=a,t.height=n,c.QH&&(e.filter=`blur(${f}px)`),e.drawImage(s,2*-f,2*-f,a+4*f,n+4*f),c.QH||(0,o.A)(e,0,0,a,n,f,C)})},s.src=e,n.appendChild(t)}else s.src=e,n.appendChild(s);return n}function w(e,t){let a;const s=`#${(0,i.kR)(t)}`;switch(e){case n.G9.StoryRibbon:a=`#LeftColumn .${A.A.root}`;break;case n.G9.MiddleHeaderAvatar:a=".MiddleHeader .Transition_slide-active .ChatInfo";break;case n.G9.ChatList:a="#LeftColumn .chat-list";break;case n.G9.SearchResult:a="#LeftColumn .LeftSearch--container"}const o=document.querySelector(a),r=o&&o.querySelectorAll(`${s} img`);return{container:o,mediaEl:r?.[0]}}},47159:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.d(t,{A:()=>T});var s=a(84051),o=a(13439),r=a(31481),i=a(60919),l=a(11778),c=a(14680),d=a(46957),m=a(37661),u=a(17712),A=a(59030),h=a(73767),y=a(34780),p=a(19147),v=a(63039),g=a(54746),E=a(64493),b=a(26607),f=a(46815),C=a(66815),S=a(70190),w=a(52571),k=a(38707),N=a(32819),I=e([A,v,E,f,C,S,w,k]);[A,v,E,f,C,S,w,k]=I.then?(await I)():I;const P=250;function M({isOpen:e,peerId:t,storyId:a,story:n,origin:i,shouldSkipHistoryAnimations:I,withAnimation:M,isPrivacyModalOpen:T}){const{closeStoryViewer:B,closeStoryPrivacyEditor:x,reportStory:L}=(0,o.ko)(),R=(0,A.A)(),[F,D]=(0,s.J0)(void 0),[V,_,U]=(0,m.A)(!1),{bestImageData:O,thumbnail:J}=(0,v.A)(n),K=(0,p.A)(),G=(0,h.A)(e),j=(0,h.A)(O),z=(0,h.A)(t),H=(0,h.A)(i),$=Boolean(M&&!I);(0,s.vJ)(()=>{e||(D(void 0),U())},[e]),(0,s.vJ)(()=>{if(!e)return;(0,c.FD)();const t=(0,y.w4)();return()=>{(0,c.wb)(),t()}},[e]);const q=(0,s.hb)(()=>{B()},[B]),W=(0,u.A)(e=>{D(e),_()}),Y=(0,u.A)(()=>{U(),D(void 0)}),Q=(0,u.A)(()=>{a&&L({storyId:a,peerId:t})});return(0,s.vJ)(()=>e?(0,l.A)(()=>{q()}):void 0,[q,e]),(0,s.vJ)(()=>{$&&!G&&e&&t&&J&&void 0!==i&&((0,s.VK)(P+r.xB5),(0,d.w)(t,i,J,O,K.activeSlide)),$&&G&&!e&&z&&j&&void 0!==H&&((0,s.VK)(P+r.xB5),(0,d.$)(z,H,j))},[$,O,j,e,G,K.activeSlide,J,t,z,i,H]),s.Ay.createElement(b.A,{id:"StoryViewer",className:N.A.root,isOpen:e,shouldAnimateFirstRender:!0,noCloseTransition:I},s.Ay.createElement("div",{className:N.A.backdrop,onClick:q}),s.Ay.createElement(E.A,{className:N.A.close,round:!0,size:"smaller",color:"translucent-white",ariaLabel:R("Close"),onClick:q},s.Ay.createElement(g.A,{name:"close"})),s.Ay.createElement(w.A,{isOpen:e,isDeleteModalOpen:V,onReport:Q,onClose:q,onDelete:W}),s.Ay.createElement(C.A,{isOpen:V,story:F,onClose:Y}),s.Ay.createElement(k.A,null),s.Ay.createElement(f.A,null),s.Ay.createElement(S.A,{isOpen:T,onClose:x}))}const T=(0,s.ph)((0,o.EK)(e=>{const{shouldSkipHistoryAnimations:t,storyViewer:{storyId:a,peerId:n,isPrivacyModalOpen:s,origin:o}}=(0,i.nTw)(e),r=n&&a?(0,i.Msb)(e,n,a):void 0,l=(0,i.xYJ)(e,"mediaViewerAnimations");return{isOpen:(0,i.gd2)(e),shouldSkipHistoryAnimations:t,peerId:n,storyId:a,story:r,origin:o,withAnimation:l,isPrivacyModalOpen:s}})(M));n()}catch(B){n(B)}})},47366:(e,t,a)=>{a.d(t,{A:()=>r});var n=a(84051),s=a(17712);const o=5;function r(e=o){const[t,a]=(0,n.J0)(!0),[r,i]=(0,n.J0)(!0);return{isAtBeginning:t,isAtEnd:r,handleScroll:(0,s.A)(t=>{const{scrollHeight:n,scrollTop:s,clientHeight:o}=t.target;a(s<e),i(n-s-o<e)})}}},47693:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.d(t,{A:()=>d});var s=a(84051),o=a(45227),r=a(8410),i=a(53146),l=e([r]),c=l.then?(await l)():l;r=c[0];const d=({type:e,knowledge:t,isOpen:a,onClose:n,onUpdate:l})=>{const c=(0,o.P)({component:i.A,props:{knowledge:t,type:e,onClose:n,onUpdate:l}});return s.Ay.createElement(r.A,{title:"Notes",hasCloseButton:!0,isOpen:a,onClose:n,dialogStyle:"max-width: 1000px; width: 70vw; height: 60vh;"},s.Ay.createElement("div",{className:"knowledge-editor",ref:c}))};n()}catch(e){n(e)}})},47968:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.d(t,{A:()=>u});var s=a(84051),o=a(87357),r=a(59030),i=a(54746),l=a(78110),c=e([r]),d=c.then?(await c)():c;r=d[0];const m=({leftValue:e,rightValue:t,className:a,floatingBadgeIcon:n,rightStyle:c})=>{const d=(0,r.A)();return s.Ay.createElement("div",{className:(0,o.A)(l.A.root,a)},n&&s.Ay.createElement("div",{className:l.A.floatingBadge},s.Ay.createElement(i.A,{name:n,className:l.A.floatingBadgeIcon}),s.Ay.createElement("div",{className:l.A.floatingBadgeValue,dir:d.isRtl?"rtl":void 0},e),s.Ay.createElement("div",{className:l.A.floatingBadgeTriangle},s.Ay.createElement("svg",{width:"26",height:"9",viewBox:"0 0 26 9",fill:"none"},s.Ay.createElement("path",{d:"M0 0H26H24.4853C22.894 0 21.3679 0.632141 20.2426 1.75736L14.4142 7.58579C13.6332 8.36684 12.3668 8.36683 11.5858 7.58579L5.75736 1.75736C4.63214 0.632139 3.10602 0 1.51472 0H0Z",fill:"#7E85FF"})))),s.Ay.createElement("div",{className:(0,o.A)(l.A.line,l.A.left)},s.Ay.createElement("div",{className:l.A.leftText,dir:d.isRtl?"rtl":void 0},d("LimitFree")),!n&&s.Ay.createElement("div",{className:l.A.leftValue},e)),s.Ay.createElement("div",{className:(0,o.A)(l.A.line,l.A.right),style:c},s.Ay.createElement("div",{className:l.A.rightText,dir:d.isRtl?"rtl":void 0},d("LimitPremium")),s.Ay.createElement("div",{className:l.A.rightValue},t)))},u=(0,s.ph)(m);n()}catch(e){n(e)}})},48152:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.d(t,{A:()=>v});var s=a(84051),o=a(13439),r=a(87357),i=a(4961),l=a(15384),c=a(39351),d=a(59030),m=a(54960),u=a(5228),A=a(64493),h=a(47),y=e([l,c,d,m,u,A]);[l,c,d,m,u,A]=y.then?(await y)():y;const p=({invite:e,folder:t})=>{const{closeChatlistModal:a,joinChatlistInvite:n}=(0,o.ko)(),y=(0,c.A)(),p=(0,d.A)(),[v,g]=(0,s.J0)(e.missingPeerIds),E=Boolean(e.missingPeerIds.length),b=0===e.alreadyPeerIds.length,f=E?e.missingPeerIds.length:0,C=v.length?v.length.toString():void 0,S=b?y("FolderLinkSubtitleNew"):f?y("FolderLinkSubtitleAdd",{chats:y("FolderLinkSubtitleAddCount",{count:f},{pluralValue:f}),title:(0,l.fd)({text:t.title.text,entities:t.title.entities,noCustomEmojiPlayback:t.noTitleAnimations})},{withNodes:!0,withMarkdown:!0}):y("FolderLinkSubtitleAlready"),w=(0,s.hb)(()=>{a(),v.length&&n({invite:e,peerIds:v})},[e,v]),k=(0,s.hb)(()=>{const t=v.length===e.missingPeerIds.length;g(t?[]:e.missingPeerIds)},[e.missingPeerIds,v.length]);return s.Ay.createElement("div",{className:h.A.content},s.Ay.createElement("div",{className:h.A.description},(0,i.A)(S,["simple_markdown","emoji"])),s.Ay.createElement("div",{className:(0,r.A)(h.A.pickerWrapper,"custom-scroll")},Boolean(e.missingPeerIds.length)&&s.Ay.createElement(s.Ay.Fragment,null,s.Ay.createElement("div",{className:h.A.pickerHeader},s.Ay.createElement("div",{className:h.A.pickerHeaderInfo},p("FolderLinkHeaderChatsJoin",v.length,"i")),s.Ay.createElement("div",{className:h.A.selectionToggle,role:"button",tabIndex:0,onClick:k},v.length===e.missingPeerIds.length?p("DeselectAll"):p("SelectAll"))),s.Ay.createElement(m.A,{itemIds:e.missingPeerIds,onSelectedIdsChange:g,selectedIds:v,allowMultiple:!0,withStatus:!0,itemInputType:"checkbox"})),s.Ay.createElement("div",{className:h.A.pickerHeader},s.Ay.createElement("div",{className:h.A.pickerHeaderInfo},p("FolderLinkHeaderAlready"))),s.Ay.createElement(m.A,{itemIds:e.alreadyPeerIds,lockedSelectedIds:e.alreadyPeerIds,selectedIds:e.alreadyPeerIds,allowMultiple:!0,withStatus:!0,itemInputType:"checkbox"})),s.Ay.createElement(A.A,{size:"smaller",onClick:w},s.Ay.createElement("div",{className:h.A.buttonText},!v.length&&p("OK"),Boolean(v.length)&&s.Ay.createElement(s.Ay.Fragment,null,p("FolderLinkButtonJoinPlural",v.length,"i"),s.Ay.createElement(u.A,{className:h.A.buttonBadge,text:C,isAlternateColor:!0})))))},v=(0,s.ph)(p);n()}catch(e){n(e)}})},48211:(e,t,a)=>{a.d(t,{N:()=>A});var n=a(96540),s=a(46942),o=a.n(s),r=a(64721),i=a(88486),l=a(57674),c=a(10587),d=a(4955),m=a(70809);function u({status:e,stop:t,setMessages:a,handleSearch:s,className:l}){const d=(0,n.useRef)(null),{width:m}=(0,i.lW)();(0,n.useEffect)(()=>{d.current&&u()},[]);const u=()=>{d.current&&(d.current.style.height="auto",d.current.style.height=`${Math.min(200,Math.max(90,d.current.scrollHeight+2))}px`)},[A,h]=(0,i.Mj)("input",""),[p,g]=(0,n.useState)("");(0,n.useEffect)(()=>{if(d.current){const e=d.current.value;g(e||A||""),u()}},[]),(0,n.useEffect)(()=>{h(p)},[p,h]);const E=(0,n.useCallback)(()=>{p&&(s(p),g(""),h(""),d.current&&(d.current.style.height="auto",d.current.style.height="90px"),m&&m>768&&d.current?.focus())},[s,p,h,m]);return n.createElement("div",{className:"relative w-full mx-[22px] flex flex-col gap-4"},n.createElement(c.X,{ref:d,placeholder:"Send a message...",value:p,onChange:e=>{g(e.target.value),u()},className:o()("h-[90px] overflow-y-auto border-[#7D40FF] resize-none rounded-2xl !text-base pb-10 focus-visible:!ring-0 !ring-offset-0",l),rows:2,autoFocus:!0,onKeyDown:t=>{"Enter"!==t.key||t.shiftKey||(t.preventDefault(),"ready"!==e?r.oR.error("Please wait for the model to finish its response!"):E())}}),n.createElement("div",{className:"absolute bottom-0 right-0 p-2 w-fit flex flex-col justify-end"},"submitted"===e?n.createElement(y,{stop:t,setMessages:a}):n.createElement(v,{input:p,submitForm:E})))}const A=(0,n.memo)(u,(e,t)=>e.status===t.status);function h({stop:e,setMessages:t}){return n.createElement(d.$,{className:"rounded-full p-1.5 h-fit border dark:border-zinc-600",onClick:a=>{a.preventDefault(),e(),t(e=>(0,l.y8)(e))}},n.createElement(m.wF,{size:14}))}const y=(0,n.memo)(h);function p({submitForm:e,input:t}){return n.createElement(d.$,{className:"!px-0 !py-0 !w-[24px] !h-[24px] !bg-transparent ",onClick:t=>{t.preventDefault(),e()},disabled:0===t.length},n.createElement("i",{className:"icon icon-send text-[#B27AFF] text-[24px]"}))}const v=(0,n.memo)(p,(e,t)=>e.input===t.input)},48285:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.d(t,{A:()=>f});var s=a(46942),o=a.n(s),r=a(17965),i=a.n(r),l=a(84051),c=a(13439),d=a(83258),m=a(97373),u=a(11780),A=a(73039),h=a(54746),y=a(8410),p=a(57474),v=a(81573),g=e([y]),E=g.then?(await g)():g;y=E[0];const b=({modal:e})=>{const{closeInviteFriendsModal:t}=(0,c.ko)(),[a,n]=(0,l.J0)(null),[s,r]=(0,l.J0)(!0);(0,l.vJ)(()=>{e?.isOpen&&(0,A.LG)().then(e=>{0===e.code&&n(e.data),r(!1)}).catch(()=>{r(!1)})},[e?.isOpen]);const g=(0,l.hb)(()=>{t()},[t]);if(e?.isOpen)return l.Ay.createElement(y.A,{isOpen:e.isOpen,onClose:g,className:v.A.modal},l.Ay.createElement("div",{className:v.A.header},l.Ay.createElement("img",{src:u,alt:""}),l.Ay.createElement(h.A,{className:"text-[18px] cursor-pointer z-10 mt-[1rem]",name:"close",onClick:g})),l.Ay.createElement("div",{className:v.A.content},l.Ay.createElement("div",{className:"flex flex-col gap-[12px]"},l.Ay.createElement("div",{className:"flex items-center gap-[10px]"},l.Ay.createElement("img",{className:"w-[20px] h-[20px]",src:d,alt:""}),l.Ay.createElement("span",{className:"text-[16px] text-[var(--color-text)] font-semibold"},"My Code")),l.Ay.createElement("div",{className:"text-[var(--color-text-secondary)] text-[14px]"},"This is your exclusive invitation code, it has already been linked to your account."),l.Ay.createElement("div",{className:"text-[14px] text-[var(--color-text)]"},l.Ay.createElement("span",{className:"font-bold"},a?.myInvitation.inviteCode),l.Ay.createElement("span",null,"(Used by my account)"))),l.Ay.createElement("div",{className:"flex flex-col gap-[12px] mt-[18px]"},l.Ay.createElement("div",{className:"flex items-center gap-[10px]"},l.Ay.createElement("img",{className:"w-[20px] h-[20px]",src:m,alt:""}),l.Ay.createElement("span",{className:"text-[16px] text-[var(--color-text)] font-semibold"},"Get Credits for Inviting Friends")),l.Ay.createElement("div",{className:"text-[var(--color-text-secondary)] text-[14px]"},"Share the invitation codes below with your friends! When a new user signs up and uses your invitation code, both you and the invitee will each receive a 100 credit bonus."),l.Ay.createElement("table",{className:v.A.table,role:"table","aria-label":"Codes, Invitees, Credits and Time"},l.Ay.createElement("thead",{className:"h-[36px] bg-[#F6F6F6] dark:bg-[var(--color-background)]"},l.Ay.createElement("tr",{role:"row"},l.Ay.createElement("th",{role:"columnheader"},"Codes"),l.Ay.createElement("th",{role:"columnheader"},"Invitees"),l.Ay.createElement("th",{role:"columnheader"},"Credits"),l.Ay.createElement("th",{role:"columnheader"},"Time"))),l.Ay.createElement("tbody",null,s?l.Ay.createElement("tr",null,l.Ay.createElement("td",{colSpan:4,className:"text-center py-4"},l.Ay.createElement(p.A,null))):a?.myInviteCodes.map(e=>l.Ay.createElement("tr",{role:"row"},l.Ay.createElement("td",{"data-label":"Codes"},l.Ay.createElement("div",{className:o()("w-[100px] h-[36px] text-white text-[14px] flex items-center justify-center gap-[6px] rounded-[8px] bg-[#369CFF]",{"bg-[#D6D6D6]":"used"===e.status}),onClick:()=>{return t=e.inviteCode,i()(t),void(0,c.ko)().showNotification({message:"TextCopied"});var t}},l.Ay.createElement("span",null,e.inviteCode),l.Ay.createElement(h.A,{name:"copy",className:"cursor-pointer text-[18px]"}))),l.Ay.createElement("td",{"data-label":"Invitees"},e.invitedUserName||""),l.Ay.createElement("td",{"data-label":"Credits"},e.points||""),l.Ay.createElement("td",{"data-label":"Time"},e.invitedAt?new Date(e.invitedAt).toLocaleString():""))))))))},f=(0,l.ph)(b);n()}catch(e){n(e)}})},48715:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.d(t,{A:()=>ee});var s=a(84051),o=a(13439),r=a(31481),i=a(66644),l=a(90709),c=a(60919),d=a(64520),m=a(30708),u=a(87357),A=a(11778),h=a(87679),y=a(48775),p=a(39074),v=a(52844),g=a(45761),E=a(5599),b=a(43874),f=a(10722),C=a(19129),S=a(15283),w=a(37661),k=a(41316),N=a(39351),I=a(17712),P=a(59030),M=a(73767),T=a(93545),B=a(47366),x=a(3225),L=a(25498),R=a(9442),F=a(54746),D=a(64493),V=a(22699),_=a(24433),U=a(8410),O=a(78922),J=a(25897),K=a(6070),G=a(49068),j=a(55418),z=a(62530),H=a(49240),$=a(94775),q=e([N,P,x,L,R,D,V,_,U,O,j,z,H]);[N,P,x,L,R,D,V,_,U,O,j,z,H]=q.then?(await q)():q;const W="caption-input-text",Y=150,Q=100,Z=200,X=({chatId:e,threadId:t,attachments:a,getHtml:n,editingMessage:c,canShowCustomSendMenu:d,captionLimit:m,isReady:q,isChatWithSelf:X,currentUserId:ee,groupChatMembers:te,recentEmojis:ae,baseEmojiKeywords:ne,emojiKeywords:se,isForMessage:oe,shouldSchedule:re,shouldSuggestCustomEmoji:ie,customEmojiForEmoji:le,attachmentSettings:ce,shouldForceCompression:de,shouldForceAsFile:me,isForCurrentMessageList:ue,forceDarkTheme:Ae,onAttachmentsUpdate:he,onCaptionUpdate:ye,onSend:pe,onFileAppend:ve,onClear:ge,onSendSilent:Ee,onSendScheduled:be,onCustomEmojiSelect:fe,onRemoveSymbol:Ce,onEmojiSelect:Se,canScheduleUntilOnline:we,canSchedule:ke,onSendWhenOnline:Ne,paidMessagesStars:Ie})=>{const Pe=(0,s.li)(),Me=(0,s.li)(),{addRecentCustomEmoji:Te,addRecentEmoji:Be,updateAttachmentSettings:xe}=(0,o.ko)(),Le=(0,P.A)(),Re=(0,N.A)(),Fe=(0,s.li)(),De=(0,s.li)(),Ve=(0,s.li)(),_e=(0,M.A)(a),Ue=a.length?a:_e,{isMobile:Oe}=(0,b.Ay)(),Je=c&&Boolean(c),Ke=c&&c?.groupedId,Ge="file"!==(Je&&a?.length&&(0,l.ES)(a[0])),[je,ze,He]=(0,w.A)(),$e=ce.shouldCompress,qe=Boolean(($e||de||Ke)&&!me),[We,Ye]=(0,s.J0)(ce.shouldSendGrouped),Qe=ce.isInvertedMedia,[Ze,Xe]=(0,s.J0)(ce.shouldSendInHighQuality),[et,tt]=(0,s.J0)(Ze),{handleScroll:at,isAtBeginning:nt,isAtEnd:st}=(0,B.A)(),{handleScroll:ot,isAtBeginning:rt}=(0,B.A)(),it=Boolean(a.length),lt=Boolean(Ue?.length),[ct,dt,mt]=(0,w.A)(),ut=(0,s.li)();(0,s.vJ)(()=>{it||(He(),xe({isInvertedMedia:void 0}))},[He,it]);const[At,ht]=(0,s.Kr)(()=>Boolean(Ue?.every(e=>e.quick||e.audio))?[!0,!0]:[Boolean(Ue?.some(e=>e.quick||e.audio)),!1],[Ue]),[yt,pt]=(0,s.Kr)(()=>Boolean(Ue?.every(e=>e.shouldSendAsSpoiler))?[!0,!0]:[Boolean(Ue?.some(e=>e.shouldSendAsSpoiler)),!1],[Ue]),vt=(0,k.A)(`#${r.e0F}`),{isEmojiTooltipOpen:gt,filteredEmojis:Et,filteredCustomEmojis:bt,insertEmoji:ft,closeEmojiTooltip:Ct}=(0,L.A)(Boolean(q&&(ue||!oe)&&lt),n,ye,r.e0F,ae,ne,se),{isCustomEmojiTooltipOpen:St,insertCustomEmoji:wt,closeCustomEmojiTooltip:kt}=(0,x.A)(Boolean(q&&(ue||!oe)&&lt&&ie),n,ye,vt,De,le),{isMentionTooltipOpen:Nt,closeMentionTooltip:It,insertMention:Pt,mentionFilteredUsers:Mt}=(0,R.A)(Boolean(q&&ue&&lt),n,ye,vt,De,te,void 0,ee);function Tt(e){xe({isInvertedMedia:e})}(0,s.vJ)(()=>it?(0,A.A)(ge):void 0,[it,ge]),(0,s.vJ)(()=>{it&&(Ye(ce.shouldSendGrouped),Xe(ce.shouldSendInHighQuality))},[ce,it]),(0,s.vJ)(()=>{it||xe({isInvertedMedia:void 0})},[xe,it]),(0,s.vJ)(()=>{it&&Oe&&(0,p.DY)()},[Oe,it]);const{isContextMenuOpen:Bt,handleContextMenu:xt,handleContextMenuClose:Lt,handleContextMenuHide:Rt}=(0,f.A)(Fe,!d||!it),Ft=(0,I.A)((e,t)=>{it&&(((re||t)&&oe&&!c?be:e?Ee:pe)(qe,We,Qe),xe({shouldCompress:qe,shouldSendGrouped:We,isInvertedMedia:Qe,shouldSendInHighQuality:Ze}))}),Dt=(0,I.A)(()=>{Ft(!0)}),Vt=(0,I.A)(()=>{Ft()}),_t=(0,I.A)(()=>{Ft(!1,!0)}),Ut=(0,I.A)(async e=>{e.preventDefault(),mt();const{dataTransfer:t}=e,a=await(0,g.A)(t.items);a?.length&&ve(a,pt)}),Ot=(0,I.A)(e=>{const{files:t}=e.target,a=(0,h.kc)(t);a?.length&&ve(a,pt)}),Jt=(0,I.A)(()=>{(0,v.p)("*",e=>Ot(e))}),Kt=(0,I.A)(e=>{he(a.filter((t,a)=>a!==e))}),Gt=(0,I.A)(()=>{he(a.map(e=>({...e,shouldSendAsSpoiler:!0})))}),jt=(0,I.A)(()=>{xe({shouldCompress:!$e})}),zt=(0,I.A)(()=>{const e=!Ze;Xe(e),xe({shouldSendInHighQuality:e})}),Ht=(0,I.A)(()=>{he(a.map(e=>({...e,shouldSendAsSpoiler:void 0})))}),$t=(0,I.A)(e=>{he(a.map((t,a)=>a===e?{...t,shouldSendAsSpoiler:!t.shouldSendAsSpoiler||void 0}:t))}),qt=(0,I.A)(()=>{const e=Me.current;if(!e)return;const{width:t,height:a}=e.getBoundingClientRect();e.viewBox.baseVal.width=t,e.viewBox.baseVal.height=a});(0,T.A)(Pe,qt),(0,S.A)(qt),(0,s.vJ)(()=>{const e=Fe.current,t=document.getElementById(W);if(!e||!t)return;const{width:a}=e.getBoundingClientRect();(0,i.RK)(()=>{t.style.setProperty("--margin-for-scrollbar",`${a}px`)})},[Le,it]);const Wt=(0,s.Kr)(()=>({onTrigger:e,isOpen:t})=>s.Ay.createElement(D.A,{round:!0,ripple:!Oe,size:"smaller",color:"translucent",className:t?"active":"",onClick:e,ariaLabel:"More actions"},s.Ay.createElement(F.A,{name:"more"})),[Oe]),Yt=(0,C.A)(()=>{if(!lt)return;const e=m-(0,E.r)(n());return e<=Q?e:void 0},[m,n,lt]),Qt=qe&&ht,[Zt,Xt,ea,ta]=(0,s.Kr)(()=>Qt&&Ue?[Ue.every(e=>r.gex.has(e.mimeType)),Ue.every(e=>r.fNs.has(e.mimeType)),Ue.every(e=>r.IH3.has(e.mimeType)),Ue.some(e=>r.gex.has(e.mimeType))]:[!1,!1,!1],[Ue,Qt]),aa=(0,s.Kr)(()=>!!Ue&&Ue.some(e=>!r.IH3.has(e.mimeType)),[Ue]);if((0,s.vJ)(()=>{if(Ze!==et)return ut.current&&clearTimeout(ut.current),ut.current=window.setTimeout(()=>{tt(Ze)},Z),()=>{ut.current&&(clearTimeout(ut.current),ut.current=void 0)}},[Ze,et]),!Ue)return;const na=Ue.length>1,sa=!(Je||!At||!(me||de||qe)||na&&We);let oa="";const ra=Ue.length;oa=Le(Zt?Je?"EditMessageReplacePhoto":"PreviewSender.SendPhoto":Xt?Je?"EditMessageReplaceVideo":"PreviewSender.SendVideo":ea?Je?"EditMessageReplaceAudio":"PreviewSender.SendAudio":Je?"EditMessageReplaceFile":"PreviewSender.SendFile",ra,"i");const ia=!st||!rt,la=Ie?(0,y.U2)(Re,ra*Ie,{className:$.A.sendButtonStar,asFont:!0}):Le("Send");return s.Ay.createElement(U.A,{isOpen:it,onClose:ge,header:function(){if(Ue)return s.Ay.createElement("div",{className:"modal-header-condensed",dir:Le.isRtl?"rtl":void 0},s.Ay.createElement(D.A,{round:!0,color:"translucent",size:"smaller",ariaLabel:"Cancel attachments",onClick:ge},s.Ay.createElement(F.A,{name:"close"})),s.Ay.createElement("div",{className:"modal-title"},oa),Ge&&!Ke&&s.Ay.createElement(V.A,{className:"attachmeneditingMessaget-modal-more-menu with-menu-transitions",trigger:Wt,positionX:"right"},Boolean(!c)&&s.Ay.createElement(_.A,{icon:"add",onClick:Jt},Le("Add")),At&&s.Ay.createElement(s.Ay.Fragment,null,sa&&(Qe?s.Ay.createElement(_.A,{icon:"move-caption-down",onClick:()=>Tt(void 0)},Re("ContextMoveTextDown")):s.Ay.createElement(_.A,{icon:"move-caption-up",onClick:()=>Tt(!0)},Re("ContextMoveTextUp"))),!me&&!de&&(qe?s.Ay.createElement(_.A,{icon:"document",onClick:jt},Le(na?"Attachment.SendAsFiles":"Attachment.SendAsFile")):s.Ay.createElement(_.A,{icon:"photo",onClick:jt},na?"Send All as Media":"Send as Media")),qe&&!c&&ta&&s.Ay.createElement(_.A,{icon:et?"sd-photo":"hd-photo",onClick:zt},Re(et?"SendInStandardQuality":"SendInHighQuality")),qe&&aa&&Boolean(!c)&&(yt?s.Ay.createElement(_.A,{icon:"spoiler-disable",onClick:Ht},Le("Attachment.DisableSpoiler")):s.Ay.createElement(_.A,{icon:"spoiler",onClick:Gt},Le("Attachment.EnableSpoiler")))),na&&(We?s.Ay.createElement(_.A,{icon:"grouped-disable",onClick:()=>Ye(!1)},"Ungroup All Media"):s.Ay.createElement(_.A,{icon:"grouped",onClick:()=>Ye(!0)},"Group All Media"))))}(),className:(0,u.A)($.A.root,ct&&$.A.hovered,!nt&&$.A.headerBorder,Oe&&$.A.mobile,je&&$.A.symbolMenuOpen,Ae&&"component-theme-dark"),noBackdropClose:!0,isLowStackPriority:!0},s.Ay.createElement("div",{className:$.A.dropTarget,onDragEnter:dt,onDrop:Ut,onDragOver:function(e){e.preventDefault(),Ve.current&&(window.clearTimeout(Ve.current),Ve.current=void 0)},onDragLeave:e=>{const{relatedTarget:t,target:a}=e;a.matches(`.${$.A.dropTarget}`)&&!t&&(Ve.current=window.setTimeout(mt,Y)),a&&a.closest(`.${$.A.hovered}`)||(t&&e.stopPropagation(),mt())},onClick:mt,"data-attach-description":Le("Preview.Dragging.AddItems",10),"data-dropzone":!0},s.Ay.createElement("svg",{className:$.A.dropOutlineContainer},s.Ay.createElement("rect",{className:$.A.dropOutline,x:"0",y:"0",width:"100%",height:"100%",rx:"8"})),s.Ay.createElement("div",{className:(0,u.A)($.A.attachments,"custom-scroll",ia&&$.A.attachmentsBottomPadding),onScroll:at},Ue.map((e,t)=>s.Ay.createElement(O.A,{attachment:e,shouldDisplayCompressed:qe,shouldDisplayGrouped:We,isSingle:1===Ue.length,index:t,key:e.uniqueId||t,onDelete:Kt,onToggleSpoiler:$t}))),s.Ay.createElement("div",{className:(0,u.A)($.A.captionWrapper,ia&&$.A.captionTopBorder)},s.Ay.createElement(j.A,{isOpen:Nt,filteredUsers:Mt,onInsertUserName:Pt,onClose:It}),s.Ay.createElement(G.A,{isOpen:gt,emojis:Et,customEmojis:bt,addRecentEmoji:Be,addRecentCustomEmoji:Te,onEmojiSelect:ft,onCustomEmojiSelect:ft,onClose:Ct}),s.Ay.createElement(J.A,{chatId:e,isOpen:St,addRecentCustomEmoji:Te,onCustomEmojiSelect:wt,onClose:kt}),s.Ay.createElement("div",{className:$.A.caption},s.Ay.createElement(H.A,{chatId:e,threadId:t,isMobile:Oe,isReady:q,isSymbolMenuOpen:je,openSymbolMenu:ze,closeSymbolMenu:He,onCustomEmojiSelect:fe,onRemoveSymbol:Ce,onEmojiSelect:Se,isAttachmentModal:!0,canSendPlainText:!0,className:"attachment-modal-symbol-menu with-menu-transitions",idPrefix:"attachment",forceDarkTheme:Ae}),s.Ay.createElement(z.A,{ref:De,id:W,chatId:e,threadId:t,isAttachmentModalInput:!0,customEmojiPrefix:"attachment",isReady:q,isActive:it,getHtml:n,editableInputId:r.e0F,placeholder:Le("AddCaption"),onUpdate:ye,onSend:Vt,onScroll:ot,canAutoFocus:Boolean(q&&ue&&a.length),captionLimit:Yt,shouldSuppressFocus:Oe&&je,onSuppressedFocus:He}),s.Ay.createElement("div",{className:$.A.sendWrapper},s.Ay.createElement(D.A,{ref:Fe,className:$.A.send,size:"smaller",onClick:Vt,onContextMenu:d?xt:void 0},re&&!c?Le("Next"):c?Le("Save"):la),d&&s.Ay.createElement(K.A,{isOpen:Bt,canSchedule:ke&&oe,onSendSilent:X?void 0:Dt,onSendSchedule:_t,onClose:Lt,onCloseAnimationEnd:Rt,isSavedMessages:X,onSendWhenOnline:Ne,canScheduleUntilOnline:we}))))))},ee=(0,s.ph)((0,o.EK)((e,{chatId:t})=>{const{currentUserId:a,recentEmojis:n,customEmojis:s,attachmentSettings:o}=e,i=(0,c.AWZ)(e,t),l=(0,c.nZ4)(e,t),{shouldSuggestCustomEmoji:u}=e.settings.byKey,{language:A}=(0,m.l)(e),h=e.emojiKeywords[r.cUY],y=A!==r.cUY?e.emojiKeywords[A]:void 0;return{isChatWithSelf:l,currentUserId:a,groupChatMembers:i?.members,recentEmojis:n,baseEmojiKeywords:h?.keywords,emojiKeywords:y?.keywords,shouldSuggestCustomEmoji:u,customEmojiForEmoji:s.forEmoji.stickers,captionLimit:(0,d.d)(e,"captionLength"),attachmentSettings:o}})(X));n()}catch(e){n(e)}})},48772:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.d(t,{A:()=>u});var s=a(84051),o=a(87357),r=a(17712),i=a(46402),l=e([i]),c=l.then?(await l)():l;i=c[0];const d=32,m=({emoji:e,focus:t,onClick:a,observeIntersection:n})=>{const l=(0,r.A)(t=>{t.preventDefault(),a?.(e)}),c=(0,o.A)("EmojiButton",t&&"focus");return s.Ay.createElement("div",{className:c,onMouseDown:l,title:e.emoji},s.Ay.createElement(i.A,{documentId:e.id,size:d,withSharedAnimation:!0,shouldPreloadPreview:!0,observeIntersectionForPlaying:n}))},u=(0,s.ph)(m);n()}catch(e){n(e)}})},48922:(e,t,a)=>{e.exports=a.p+"mastercard.790db81f7978635f77d8.svg"},49103:(e,t,a)=>{e.exports=a.p+"PremiumTranslate.cb2dcbb898d96cb35469.svg"},49626:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.d(t,{A:()=>R});var s=a(84051),o=a(13439),r=a(31481),i=a(60919),l=a(57446),c=a(96454),d=a(87357),m=a(9716),u=a(87894),A=a(79824),h=a(76023),y=a(36838),p=a(17712),v=a(59030),g=a(47366),E=a(73172),b=a(90884),f=a(93809),C=a(21849),S=a(54746),w=a(76453),k=a(35629),N=a(64493),I=a(52745),P=a(41036),M=a(97457),T=a(41866),B=e([v,C,w,k,N,M]);[v,C,w,k,N,M]=B.then?(await B)():B;const x=2.5*h.$,L=({chat:e,threadId:t,className:a,isHidden:n,isTranslucent:i,loadAndPlay:m,canSendStickers:h,recentStickers:B,favoriteStickers:L,effectStickers:R,effectEmojis:F,addedSetIds:D,stickerSetsById:V,chatStickerSetId:_,canAnimate:U,isSavedMessages:O,isCurrentUserPremium:J,noContextMenus:K,idPrefix:G,onStickerSelect:j,isForEffects:z})=>{const{loadRecentStickers:H,addRecentSticker:$,unfaveSticker:q,faveSticker:W,removeRecentSticker:Y}=(0,o.ko)(),Q=(0,s.li)(),Z=(0,s.li)(),X=(0,s.li)(),{handleScroll:ee,isAtBeginning:te}=(0,g.A)(),ae=(0,E.A)(e?.id,t),ne=`${G}-sticker-set`,{activeSetIndex:se,observeIntersectionForSet:oe,observeIntersectionForPlayingItems:re,observeIntersectionForShowingItems:ie,observeIntersectionForCovers:le,selectStickerSet:ce}=(0,b.m)(Q,Z,ne,n),de=(0,v.A)(),me=Boolean(D),ue=(0,s.Kr)(()=>{if(z&&R){const e=[];return F?.length&&e.push({id:r.hfH,accessHash:"0",title:"",stickers:F,count:F.length,isEmoji:!0}),R?.length&&e.push({id:r.Kp3,accessHash:"0",title:de("StickerEffects"),stickers:R,count:R.length}),e}if(!D)return A.p;const e=[];L.length&&e.push({id:r.tRH,accessHash:"0",title:de("FavoriteStickers"),stickers:L,count:L.length}),B.length&&e.push({id:r.sR2,accessHash:"0",title:de("RecentStickers"),stickers:B,count:B.length});const t=[...D||[]];_&&t.unshift(_);const a=Object.values((0,u._E)(V,t));return[...e,...a]},[D,V,L,B,_,de,R,z,F]),Ae=(0,s.Kr)(()=>me&&0===ue.filter(e=>e.stickers?.length).length,[ue,me]);(0,s.vJ)(()=>{m&&(H(),h&&ae({type:"chooseSticker"}))},[h,m,H,ae]);const he=(0,f.A)([],r.jhd),ye=me&&he&&!Ae&&(h||z);(0,y.A)(Z,!ye||!Z.current),(0,s.vJ)(()=>{if(!me)return;const e=Z.current;if(!e)return;const t=se*x-(e.offsetWidth/2-x/2);(0,l.A)(e,t)},[me,se]);const pe=(0,p.A)((e,t,a)=>{j(e,t,a,!0),$({sticker:e})}),ve=(0,p.A)(e=>{q({sticker:e})}),ge=(0,p.A)(e=>{W({sticker:e})}),Ee=(0,p.A)(()=>{h&&ae({type:"chooseSticker"})}),be=(0,p.A)(e=>{Y({sticker:e})});if(!e)return;const fe=(0,d.A)(T.A.root,a),Ce=(0,d.A)(T.A.header,"no-scrollbar",!te&&T.A.headerWithBorder),Se=!ye&&(h||z)&&!Ae;return s.Ay.createElement(P.Ay,{className:fe,activeKey:Se?0:1,name:"fade",shouldCleanup:!0},ye?s.Ay.createElement(s.Ay.Fragment,null,!z&&s.Ay.createElement("div",{ref:Z,className:Ce},s.Ay.createElement("div",{className:"shared-canvas-container"},s.Ay.createElement("canvas",{ref:X,className:"shared-canvas"}),ue.map(function(t,a){const n=t.stickers?.[0],o=(0,d.A)(T.A.stickerCover,a===se&&T.A.activated),l=a<r.j41;return t.id===r.sR2||t.id===r.tRH||t.id===r.eKB||t.hasThumbnail||!n?s.Ay.createElement(N.A,{key:t.id,className:o,ariaLabel:t.title,round:!0,faded:t.id===r.sR2||t.id===r.tRH,color:"translucent",onClick:()=>ce(a)},t.id===r.sR2?s.Ay.createElement(S.A,{name:"recent"}):t.id===r.tRH?s.Ay.createElement(S.A,{name:"favorite"}):t.id===r.eKB?s.Ay.createElement(C.A,{peer:e,size:"small"}):s.Ay.createElement(M.A,{stickerSet:t,noPlay:!U||!m,observeIntersection:le,sharedCanvasRef:l?X:void 0,forcePlayback:!0})):s.Ay.createElement(w.A,{key:t.id,sticker:n,size:r.TBj,title:t.title,className:o,noPlay:!U||!m,observeIntersection:le,noContextMenu:!0,isCurrentUserPremium:!0,sharedCanvasRef:l?X:void 0,withTranslucentThumb:i,onClick:ce,clickArg:a,forcePlayback:!0})}))),s.Ay.createElement("div",{ref:Q,onMouseMove:Ee,onScroll:ee,className:(0,d.A)(T.A.main,c.TF?"no-scrollbar":"custom-scroll",!z&&T.A.hasHeader)},ue.map((e,t)=>s.Ay.createElement(k.A,{key:e.id,stickerSet:e,loadAndPlay:Boolean(U&&m),noContextMenus:K,index:t,idPrefix:ne,observeIntersection:oe,observeIntersectionForPlayingItems:re,observeIntersectionForShowingItems:ie,isNearActive:se>=t-1&&se<=t+1,favoriteStickers:L,isSavedMessages:O,isCurrentUserPremium:J,isTranslucent:i,isChatStickerSet:e.id===_,onStickerSelect:pe,onStickerUnfave:ve,onStickerFave:ge,onStickerRemoveRecent:be,forcePlayback:!0,shouldHideHeader:e.id===r.hfH})))):h||z?Ae?s.Ay.createElement("div",{className:T.A.pickerDisabled},de("NoStickers")):s.Ay.createElement(I.A,null):s.Ay.createElement("div",{className:T.A.pickerDisabled},de("ErrorSendRestrictedStickersAll")))},R=(0,s.ph)((0,o.EK)((e,{chatId:t})=>{const{setsById:a,added:n,recent:s,favorite:o,effect:r}=e.stickers,l=(0,i.nZ4)(e,t),c=(0,i.hds)(e,t),d=(0,m.L8)(t)?void 0:(0,i.AWZ)(e,t)?.stickerSet?.id;return{chat:c,effectStickers:r?.stickers,effectEmojis:r?.emojis,recentStickers:s.stickers,favoriteStickers:o.stickers,stickerSetsById:a,addedSetIds:n.setIds,canAnimate:(0,i.ML4)(e),isSavedMessages:l,isCurrentUserPremium:(0,i.g29)(e),chatStickerSetId:d}})(L));n()}catch(e){n(e)}})},49668:(e,t,a)=>{a.d(t,{$:()=>p,w:()=>y});var n=a(89925),s=a(31481),o=a(66644),r=a(90709),i=a(19822),l=a(96454),c=a(83868),d=a(16460),m=a(41512),u=a(43503),A=a(76023);const h=200;function y(e,t,a,r,c,d,m){const{mediaEl:y}=g(t,d,m);if(!y)return;const{width:p}=u.A.get(),{width:b,height:f}=(0,A.$w)(e,c),{width:C,height:S}=(0,A.ky)(b,f,r.width,r.height),w=(p-C)/2,k=function(e){const t=window.matchMedia(A.wy);let a=4.125;return e&&!l.TF&&(a+=t.matches?.875:2.125),a*A.$}(e)+(f-S)/2;let{top:N,left:I,width:P,height:M}=y.getBoundingClientRect();if([n.TQ.SharedMedia,n.TQ.Album,n.TQ.ScheduledAlbum,n.TQ.SearchResult].includes(t)){const e=function(e,t,a,n,s,o){if(e===t){const r=Math.max(s,o)*(e/t);n-=(r-s)/2,a-=(r-o)/2,s=r,o=r}else if(e>t){const a=s;n-=((s=o*(e/t))-a)/2}else if(t>e){const n=o;a-=((o=s*(t/e))-n)/2}return{top:a,left:n,width:s,height:o}}(C,S,N,I,P,M);N=e.top,I=e.left,P=e.width,M=e.height}const T=I+P/2-(w+C/2),B=N+M/2-(k+S/2),x=P/C,L=M/S;(0,o.RK)(()=>{const e=v(a||y);(0,i.ZM)(e,{top:`${k}px`,left:`${w}px`,width:`${C}px`,height:`${S}px`,transform:`translate3d(${T}px, ${B}px, 0) scale(${x}, ${L})`}),E(e,t),document.body.appendChild(e),document.body.classList.add("ghost-animating"),(0,o.RK)(()=>{e.style.transform="",function(e){e.firstChild.style.objectFit="default",e.classList.remove("rounded-corners","circle")}(e),setTimeout(()=>{(0,o.RK)(()=>{document.body.contains(e)&&document.body.removeChild(e),document.body.classList.remove("ghost-animating")})},h+s.xB5)})})}function p(e,t,a,r){const{container:l,mediaEl:c}=g(e,a,r);if(!c)return;const A=document.getElementById("MediaViewer").querySelector(".MediaViewerSlide--active img, .MediaViewerSlide--active video");if(!A)return;const{top:y,left:p,width:b,height:f}=A.getBoundingClientRect(),{top:C,left:S,width:w,height:k}=c.getBoundingClientRect();let N=C;if(!(0,m.Y)(l)){const{height:e}=u.A.get();N=C<y?-k:e}const I=p+b/2-(S+w/2),P=y+f/2-(N+k/2);let M=b/w,T=f/k;const B=[n.TQ.Inline,n.TQ.ScheduledInline,n.TQ.Album,n.TQ.ScheduledAlbum].includes(e)&&!function(e){const t=document.querySelector(".Transition_slide-active > .MessageList"),{top:a}=(0,d.A)(e,t);return a>t.scrollTop&&a+e.offsetHeight<t.scrollTop+t.offsetHeight}(c);[n.TQ.SharedMedia,n.TQ.Album,n.TQ.ScheduledAlbum,n.TQ.SearchResult].includes(e)&&(M>T?M=T:T>M&&(T=M));const x=document.getElementsByClassName("ghost")[0],L=x||v(t||c,e);let R;if(x){const{top:e,left:t,width:a,height:n}=x.getBoundingClientRect();R={transition:"none",top:`${N}px`,left:`${S}px`,transformOrigin:"top left",transform:`translate3d(${t-S}px, ${e-N}px, 0) scale(${a/w}, ${n/k})`,width:`${w}px`,height:`${k}px`}}else R={top:`${N}px`,left:`${S}px`,width:`${w}px`,height:`${k}px`,transform:`translate3d(${I}px, ${P}px, 0) scale(${M}, ${T})`};(0,o.RK)(()=>{(0,i.ZM)(L,R),x||document.body.appendChild(L),document.body.classList.add("ghost-animating"),(0,o.RK)(()=>{x&&(x.style.transition=""),L.style.transform="",B&&(L.style.opacity="0"),E(L,e),setTimeout(()=>{(0,o.RK)(()=>{document.body.contains(L)&&document.body.removeChild(L),document.body.classList.remove("ghost-animating")})},h+s.xB5)})})}function v(e,t){const a=document.createElement("div");a.classList.add("ghost");const s=new Image;if(s.draggable=!1,s.oncontextmenu=c.A,"string"==typeof e?s.src=e:e instanceof HTMLVideoElement?s.src=e.poster:s.src=e.src,a.appendChild(s),t===n.TQ.ProfileAvatar||t===n.TQ.SettingsAvatar){a.classList.add("ProfileInfo"),t===n.TQ.SettingsAvatar&&a.classList.add("self");const e=document.querySelector(t===n.TQ.ProfileAvatar?"#RightColumn .ProfileInfo .info":"#Settings .ProfileInfo .info");e&&a.appendChild(e.cloneNode(!0))}return a}function g(e,t,a){let o,i;switch(e){case n.TQ.Album:case n.TQ.ScheduledAlbum:o=`.Transition_slide-active > .MessageList #album-media-${(0,r.GZ)(t.id,a)}`,i=".full-media";break;case n.TQ.PreviewMedia:o=`#preview-media${a}`,i="img";break;case n.TQ.SharedMedia:o=`#shared-media${(0,r.GZ)(t.id,a)}`,i="img";break;case n.TQ.SearchResult:o=`#search-media${(0,r.GZ)(t.id,a)}`,i="img";break;case n.TQ.MiddleHeaderAvatar:o=".MiddleHeader .Transition_slide-active .ChatInfo .Avatar",i=".avatar-media";break;case n.TQ.SettingsAvatar:o="#Settings .ProfileInfo .Transition_slide-active .ProfilePhoto",i=".avatar-media";break;case n.TQ.ProfileAvatar:o="#RightColumn .ProfileInfo .Transition_slide-active .ProfilePhoto",i=".avatar-media";break;case n.TQ.ChannelAvatar:case n.TQ.SuggestedAvatar:o=`.Transition_slide-active > .MessageList #${(0,r.GZ)(t.id,a)}`,i=".Avatar img";break;case n.TQ.StarsTransaction:o=".transaction-media-preview",i=0===a?`.stars-transaction-media-${a} :is(img, video)`:void 0;break;case n.TQ.SponsoredMessage:o=".Transition_slide-active > .MessageList .sponsored-media-preview",i=`${s.KFG} .full-media,${s.KFG} .thumbnail:not(.blurred-bg)`;break;case n.TQ.ScheduledInline:case n.TQ.Inline:default:o=`.Transition_slide-active > .MessageList #${(0,r.GZ)(t.id,a)}`,i=`${s.KFG} .full-media,${s.KFG} .thumbnail:not(.blurred-bg)`}const l=document.querySelector(o),c=i?l?.querySelectorAll(i):void 0;return{container:l,mediaEl:c?.[0]}}function E(e,t){switch(t){case n.TQ.Album:case n.TQ.ScheduledAlbum:case n.TQ.Inline:case n.TQ.ScheduledInline:case n.TQ.StarsTransaction:case n.TQ.PreviewMedia:e.classList.add("rounded-corners");break;case n.TQ.SharedMedia:case n.TQ.SettingsAvatar:case n.TQ.ProfileAvatar:case n.TQ.SearchResult:e.firstChild.style.objectFit="cover";break;case n.TQ.MiddleHeaderAvatar:case n.TQ.SuggestedAvatar:case n.TQ.ChannelAvatar:e.classList.add("circle"),t===n.TQ.SuggestedAvatar&&e.classList.add("transition-circle")}}},49709:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.d(t,{A:()=>T});var s=a(84051),o=a(13439),r=a(89925),i=a(31481),l=a(60919),c=a(87357),d=a(37661),m=a(26072),u=a(39351),A=a(17712),h=a(59030),y=a(84292),p=a(54746),v=a(42846),g=a(17751),E=a(15232),b=a(12933),f=a(22720),C=a(57474),S=a(63152),w=e([u,h,v,g,E,b,f]);[u,h,v,g,E,b,f]=w.then?(await w)():w;const k=48,N=2,I=9;function P(e){switch(e){case"sendMessages":return"UserRestrictionsNoSend";case"sendMedia":return"UserRestrictionsNoSendMedia";case"sendStickers":return"UserRestrictionsNoSendStickers";case"embedLinks":return"UserRestrictionsNoEmbedLinks";case"sendPolls":return"UserRestrictionsNoSendPolls";case"changeInfo":return"UserRestrictionsNoChangeInfo";case"inviteUsers":return"UserRestrictionsInviteUsers";case"pinMessages":return"UserRestrictionsPinMessages";case"manageTopics":return"GroupPermission.NoManageTopics";case"sendPlain":return"UserRestrictionsNoSendText";case"sendDocs":return"UserRestrictionsNoSendDocs";case"sendRoundvideos":return"UserRestrictionsNoSendRound";case"sendVoices":return"UserRestrictionsNoSendVoice";case"sendAudios":return"UserRestrictionsNoSendMusic";case"sendVideos":return"UserRestrictionsNoSendVideos";case"sendPhotos":return"UserRestrictionsNoSendPhotos";default:return}}const M=({onScreenSelect:e,onChatMemberSelect:t,chat:a,progress:n,currentUserId:i,removedUsersCount:l,members:w,onClose:M,isActive:T,arePaidMessagesAvailable:B,canChargeForMessages:x,groupPeersPaidStars:L})=>{const{updateChatDefaultBannedRights:R,updatePaidMessagesPrice:F}=(0,o.ko)(),{permissions:D,havePermissionChanged:V,isLoading:_,handlePermissionChange:U,setIsLoading:O}=(0,y.A)(a?.defaultBannedRights),J=(0,h.A)(),K=(0,u.A)();(0,m.A)({isActive:T,onBack:M});const G=(0,s.hb)(()=>{e(r.je.GroupRemovedUsers)},[e]),j=(0,s.hb)(()=>{e(r.je.GroupUserPermissionsCreate)},[e]),z=(0,s.hb)(a=>{t(a.userId,a.promotedByUserId===i),e(r.je.GroupUserPermissions)},[i,t,e]),[H,$]=(0,s.J0)(!1),[q,W,Y]=(0,d.A)(),[Q,Z]=(0,s.J0)(x),[X,ee]=(0,s.J0)(L);(0,s.vJ)(()=>{n===r.TD.Complete&&Y()},[n]);const te=(0,A.A)(()=>{a&&(O(!0),R({chatId:a.id,bannedRights:D}))}),ae=(0,A.A)(()=>{a&&F({chatId:a?.id,paidMessagesStars:Q?X:0})}),ne=(0,A.A)(()=>{q&&ae(),V&&te()}),se=(0,s.Kr)(()=>w?w.filter(({bannedRights:e})=>Boolean(e)):[],[w]),oe=(0,s.hb)(e=>{const{bannedRights:t}=e;if(!t||!a)return;const{defaultBannedRights:n}=a;return Object.keys(t).reduce((e,a)=>{const s=a;if(!t[s]||n?.[s]||"sendInline"===s||"viewMessages"===s||"sendGames"===s)return e;const o=P(s);if(!o)return e;const r=J(o);return`${e}${e.length?`, ${r}`:r}`},"")},[a,J]),re=(0,A.A)(()=>{Z(!Q),W()}),ie=(0,A.A)(e=>{ee(e),W()}),le=q||V,ce=n===r.TD.InProgress||_;return s.Ay.createElement("div",{className:"Management with-shifted-dropdown",style:`--shift-height: ${I*k}px;--before-shift-height: ${N*k}px;`},s.Ay.createElement("div",{className:"panel-content custom-scroll"},s.Ay.createElement("div",{className:"section without-bottom-shadow"},s.Ay.createElement("h3",{className:"section-heading",dir:"auto"},K("ChannelPermissionsHeader")),s.Ay.createElement(E.A,{chatId:a?.id,isMediaDropdownOpen:H,setIsMediaDropdownOpen:$,handlePermissionChange:U,permissions:D,dropdownClassName:"DropdownListTrap",className:(0,c.A)("DropdownList",H&&"DropdownList--open"),shiftedClassName:(0,c.A)("part",H&&"shifted")})),B&&s.Ay.createElement("div",{className:(0,c.A)("section",H&&"shifted")},s.Ay.createElement(f.A,{onClick:re},s.Ay.createElement("span",null,K("GroupMessagesChargePrice")),s.Ay.createElement(S.A,{id:"charge_for_messages",label:K("GroupMessagesChargePrice"),checked:Q})),s.Ay.createElement("p",{className:"settings-item-description-larger",dir:K.isRtl?"rtl":void 0},K("RightsChargeStarsAbout"))),Q&&s.Ay.createElement("div",{className:(0,c.A)("section",H&&"shifted")},s.Ay.createElement(v.A,{canChangeChargeForMessages:!0,isGroupChat:!0,chargeForMessages:X,onChange:ie})),s.Ay.createElement("div",{className:(0,c.A)("section",H&&"shifted")},s.Ay.createElement(f.A,{icon:"delete-user",multiline:!0,narrow:!0,onClick:G},s.Ay.createElement("span",{className:"title"},K("ChannelBlockedUsers")),s.Ay.createElement("span",{className:"subtitle"},l))),s.Ay.createElement("div",{className:(0,c.A)("section",H&&"shifted")},s.Ay.createElement("h3",{className:"section-heading",dir:"auto"},K("PrivacyExceptions")),s.Ay.createElement(f.A,{icon:"add-user",onClick:j},K("ChannelAddException")),se.map(e=>s.Ay.createElement(f.A,{key:e.userId,className:"chat-item-clickable exceptions-member",onClick:()=>z(e)},s.Ay.createElement(g.A,{userId:e.userId,status:oe(e),forceShowSelf:!0}))))),s.Ay.createElement(b.A,{isShown:le,onClick:ne,ariaLabel:K("Save"),disabled:ce},ce?s.Ay.createElement(C.A,{color:"white"}):s.Ay.createElement(p.A,{name:"check"})))},T=(0,s.ph)((0,o.EK)((e,{chatId:t})=>{const a=(0,l.hds)(e,t),n=(0,l.AWZ)(e,t),{progress:s}=(0,l.nTw)(e).management,o=a?.paidMessagesStars,r=e.appConfig?.starsPaidMessageCommissionPermille;return{chat:a,progress:s,currentUserId:e.currentUserId,removedUsersCount:n?.kickedMembers?.length||0,members:n?.members,arePaidMessagesAvailable:Boolean(n?.arePaidMessagesAvailable&&r),canChargeForMessages:Boolean(o&&r),groupPeersPaidStars:o||i.wZe}})(M));n()}catch(B){n(B)}})},49828:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.d(t,{A:()=>v});var s=a(84051),o=a(96454),r=a(87357),i=a(37836),l=a(76023),c=a(43874),d=a(19129),m=a(17712),u=a(37487),A=a(64493),h=e([A]),y=h.then?(await h)():h;A=y[0];const p=500,v=({text:e="",buttonText:t,isForVideo:a,onClick:n,handleSponsoredClick:h,isProtected:y,isForceMobileVersion:v})=>{const[g,E]=(0,s.J0)(!1),{isMobile:b}=(0,c.Ay)(),[f]=(0,u.A)(),C=(0,d.A)(()=>!!o.TF&&!f(),[f]);(0,s.vJ)(()=>{const e=document.querySelector(".MediaViewerFooter .media-text"),t=()=>{const t=e?e.clientHeight:0;E(t>2*l.$)};t();const a=(0,i.nF)(t,p,!0);return window.addEventListener("resize",a,!1),()=>{window.removeEventListener("resize",a,!1)}},[]);const S=(0,m.A)(()=>{h()}),w=(0,r.A)("MediaViewerFooter",a&&"is-for-video",C&&"is-hidden",y&&"is-protected",v&&"mobile");return s.Ay.createElement("div",{className:w,onClick:function(t){e&&t.stopPropagation()}},Boolean(e)&&s.Ay.createElement("div",{className:"media-viewer-footer-content",onClick:b?void 0:n},s.Ay.createElement("p",{className:"media-text custom-scroll allow-selection "+(g?"multiline":""),dir:"auto"},e)),Boolean(t)&&s.Ay.createElement(A.A,{className:(0,r.A)("media-viewer-footer-content","media-viewer-button"),size:"default",color:"primary",isRectangular:!0,onClick:S},t))};n()}catch(e){n(e)}})},49870:(e,t,a)=>{a.d(t,{L:()=>o});var n=a(84051),s=a(17712);function o(e,t){const a=(0,s.A)(a=>{e.every(e=>e.current&&!e.current.contains(a.target))&&t(a)});(0,n.vJ)(()=>(document.addEventListener("click",a),()=>{document.removeEventListener("click",a)}),[a])}},49944:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.d(t,{A:()=>T});var s=a(84051),o=a(13439),r=a(89925),i=a(90709),l=a(70636),c=a(60919),d=a(87894),m=a(79582),u=a(23459),A=a(26072),h=a(96374),y=a(10328),p=a(17712),v=a(59030),g=a(54746),E=a(42827),b=a(17751),f=a(12933),C=a(46222),S=a(40664),w=a(22720),k=a(52745),N=a(63152),I=a(285),P=e([l,v,E,b,f,S,w,I]);[l,v,E,b,f,S,w,I]=P.then?(await P)():P;const M=({chatId:e,noAdmins:t,members:a,canAddMembers:n,adminMembersById:c,userStatusesById:P,isChannel:M,isActive:T,globalUserIds:B,localContactIds:x,localUserIds:L,isSearching:R,searchQuery:F,currentUserId:D,canDeleteMembers:V,areParticipantsHidden:_,canHideParticipants:U,onClose:O,onScreenSelect:J,onChatMemberSelect:K})=>{const{openChat:G,setUserSearchQuery:j,closeManagement:z,toggleParticipantsHidden:H,setNewChatMembersDialogState:$,toggleManagement:q}=(0,o.ko)(),W=(0,v.A)(),Y=(0,s.li)(),Q=(0,s.li)(),[Z,X]=(0,s.J0)(),ee=(0,s.Kr)(()=>t&&c?Object.keys(c):[],[c,t]),te=(0,s.Kr)(()=>{const e=(0,o.mS)().users.byId;if(!a||!e)return[];const n=(0,i.UB)(a.map(({userId:e})=>e),e,P);return t?n.filter(e=>!ee.includes(e)):n},[a,P,t,ee]);(0,u.A)(te);const ae=(0,s.Kr)(()=>{const e=(0,o.mS)().users.byId,a=Boolean(F),n=a?x?(0,l.PU)({ids:x,query:F,type:"user"}):[]:te;return(0,m.A)((0,d.Am)([...n,...a&&L||[],...a&&B||[]]).filter(a=>{const n=e[a];return!n||(M||n.canBeInvitedToGroup||!(0,i.tv)(n))&&(!t||!ee.includes(a))}),!0)},[te,x,F,L,B,M,t,ee]),[ne,se]=(0,h.A)(void 0,ae,Boolean(F)),oe=(0,p.A)(e=>{t?(K(e,!0),J(r.je.ChatNewAdminRights)):(z(),G({id:e}))}),re=(0,p.A)(e=>{j({query:e.target.value})}),ie=(0,y.A)(Q,T,e=>{ne&&ne.length>0&&oe(ne[-1===e?0:e])},".ListItem-button",!0),le=(0,p.A)(()=>{X(void 0)}),ce=(0,p.A)(()=>{H({chatId:e,isEnabled:!_})}),de=(0,p.A)(()=>{q(),$({newChatMembersProgress:r.D7.InProgress})});return(0,A.A)({isActive:T,onBack:O}),s.Ay.createElement("div",{className:"Management"},t&&s.Ay.createElement("div",{className:"Management__filter",dir:W.isRtl?"rtl":void 0},s.Ay.createElement(S.A,{ref:Y,value:F,onChange:re,placeholder:W("Search")})),s.Ay.createElement("div",{className:"panel-content custom-scroll"},U&&!M&&s.Ay.createElement("div",{className:"section"},s.Ay.createElement(w.A,{icon:"group",ripple:!0,onClick:ce},s.Ay.createElement("span",null,W("ChannelHideMembers")),s.Ay.createElement(N.A,{label:W("ChannelHideMembers"),checked:_})),s.Ay.createElement("p",{className:"section-info"},W(_?"GroupMembers.MembersHiddenOn":"GroupMembers.MembersHiddenOff"))),s.Ay.createElement("div",{className:"section"},ne?.length?s.Ay.createElement(C.A,{className:"picker-list custom-scroll",items:ae,onLoadMore:se,noScrollRestore:Boolean(F),ref:Q,onKeyDown:ie},ne.map(e=>{return s.Ay.createElement(w.A,{key:e,className:"chat-item-clickable scroll-item",onClick:()=>oe(e),contextActions:(t=e,t!==D&&V?[{title:W("lng_context_remove_from_group"),icon:"stop",handler:()=>{X(t)}}]:void 0),withPortalForMenu:!0},s.Ay.createElement(b.A,{userId:e,forceShowSelf:!0,withStory:!0}));var t})):R||!ne||ne.length?s.Ay.createElement(k.A,null):s.Ay.createElement(E.A,{teactOrderKey:0,key:"nothing-found",text:M?"No subscribers found":"No members found"}))),n&&s.Ay.createElement(f.A,{isShown:!0,onClick:de,ariaLabel:W("lng_channel_add_users")},s.Ay.createElement(g.A,{name:"add-user-filled"})),V&&s.Ay.createElement(I.A,{isOpen:Boolean(Z),userId:Z,onClose:le}))},T=(0,s.ph)((0,o.EK)((e,{chatId:t})=>{const a=(0,c.hds)(e,t),{statusesById:n}=e.users,{members:s,adminMembersById:o,areParticipantsHidden:r}=(0,c.AWZ)(e,t)||{},l=a&&(0,i.WX)(a),{userIds:d}=e.contactList||{},m=e.appConfig?.hiddenMembersMinCount,u=a&&(a.isCreator||(0,i.ub)(a,"banUsers")),A=u&&!(0,i.yn)(a)&&void 0!==a.membersCount&&void 0!==m&&a.membersCount>=m,h=a&&((0,i.ub)(a,"inviteUsers")||!l&&!(0,i.Sq)(a,"inviteUsers")||a.isCreator),{query:y,fetchingStatus:p,globalUserIds:v,localUserIds:g}=(0,c.nTw)(e).userSearch;return{areParticipantsHidden:Boolean(a&&r),members:s,canAddMembers:h,adminMembersById:o,userStatusesById:n,isChannel:l,localContactIds:d,searchQuery:y,isSearching:p,globalUserIds:v,localUserIds:g,canDeleteMembers:u,currentUserId:e.currentUserId,canHideParticipants:A}})(M));n()}catch(e){n(e)}})},49949:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.d(t,{A:()=>k});var s=a(84051),o=a(13439),r=a(89925),i=a(60919),l=a(93898),c=a(26072),d=a(39351),m=a(17712),u=a(59030),A=a(54746),h=a(22720),y=a(1087),p=a(63152),v=a(34828),g=a(19357),E=a(15480),b=a(20752),f=a(70719),C=e([d,u,h,y,v,g,E,b,f]);[d,u,h,y,v,g,E,b,f]=C.then?(await C)():C;const S=({screen:e,isActive:t,primaryPrivacy:a,secondaryPrivacy:n,currentUserId:i,hasCurrentUserFullInfo:l,currentUserFallbackPhoto:u,isPremiumRequired:y,onReset:v,shouldDisplayGiftsButton:g,isCurrentUserPremium:C})=>{const{updateGlobalPrivacySettings:S,showNotification:k}=(0,o.ko)(),N=(0,d.A)();(0,c.A)({isActive:t,onBack:v});const I=(0,m.A)(()=>{C?S({shouldDisplayGiftsButton:!g}):k({message:N("PrivacySubscribeToTelegramPremium"),action:{action:"openPremiumModal",payload:{}},actionText:{key:"Open"},icon:"star"})}),P=(0,s.Kr)(()=>{switch(e){case r.VS.PrivacyPhoneCall:return r.VS.PrivacyPhoneP2P;case r.VS.PrivacyPhoneNumber:return"nobody"===a?.visibility?r.VS.PrivacyAddByPhone:void 0;default:return}},[a,e]);return s.Ay.createElement("div",{className:"settings-content custom-scroll"},e===r.VS.PrivacyGifts&&s.Ay.createElement("div",{className:"settings-item"},s.Ay.createElement(h.A,{onClick:I},s.Ay.createElement("span",null,N("PrivacyDisplayGiftsButton")),s.Ay.createElement(p.A,{id:"gift",disabled:!C,label:N(g?"HideGiftsButton":"DisplayGiftsButton"),checked:g})),s.Ay.createElement("p",{className:"settings-item-description-larger",dir:N.isRtl?"rtl":void 0},N("PrivacyDisplayGiftIconInChats",{icon:s.Ay.createElement(A.A,{name:"gift",className:"gift-icon"}),gift:N("PrivacyDisplayGift")},{withNodes:!0}))),s.Ay.createElement(w,{screen:e,privacy:a,isPremiumRequired:y}),e===r.VS.PrivacyProfilePhoto&&"everybody"!==a?.visibility&&s.Ay.createElement(f.A,{currentUserId:i,hasCurrentUserFullInfo:l,currentUserFallbackPhoto:u}),e===r.VS.PrivacyLastSeen&&s.Ay.createElement(b.A,{visibility:a?.visibility}),e===r.VS.PrivacyGifts&&s.Ay.createElement(E.A,null),Boolean(P)&&s.Ay.createElement(w,{screen:P,privacy:n}))};function w({screen:e,privacy:t,isPremiumRequired:a}){const{setPrivacyVisibility:n,openSettingsScreen:i}=(0,o.ko)(),c=(0,u.A)(),A=(0,d.A)(),p=(0,s.Kr)(()=>{const t=e!==r.VS.PrivacyAddByPhone,n=[{value:"everybody",label:c("P2PEverybody")},{value:"contacts",label:a?s.Ay.createElement(g.A,{label:c("P2PContacts")}):c("P2PContacts"),hidden:a}];return t&&n.push({value:"nobody",label:a?s.Ay.createElement(g.A,{label:c("P2PNobody")}):c("P2PNobody"),hidden:a}),n},[c,e,a]),E=(0,s.Kr)(()=>e===r.VS.PrivacyAddByPhone?{shouldShowDenied:!1,shouldShowAllowed:!1}:{shouldShowDenied:"nobody"!==t?.visibility,shouldShowAllowed:"everybody"!==t?.visibility},[t,e]),b=(0,l.Q)(e),f=(0,s.Kr)(()=>{switch(e){case r.VS.PrivacyGifts:return A("PrivacyGiftsInfo");case r.VS.PrivacyLastSeen:return c("CustomHelp");case r.VS.PrivacyAddByPhone:return c("everybody"===t?.visibility?"PrivacyPhoneInfo":"PrivacyPhoneInfo3");case r.VS.PrivacyVoiceMessages:return c("PrivacyVoiceMessagesInfo");default:return}},[c,A,e,t]),C=(0,s.Kr)(()=>{switch(e){case r.VS.PrivacyPhoneNumber:return c("PrivacyPhoneTitle");case r.VS.PrivacyAddByPhone:return c("PrivacyPhoneTitle2");case r.VS.PrivacyLastSeen:return c("LastSeenTitle");case r.VS.PrivacyProfilePhoto:return c("PrivacyProfilePhotoTitle");case r.VS.PrivacyBio:return c("PrivacyBioTitle");case r.VS.PrivacyBirthday:return c("PrivacyBirthdayTitle");case r.VS.PrivacyGifts:return A("PrivacyGiftsTitle");case r.VS.PrivacyForwarding:return c("PrivacyForwardsTitle");case r.VS.PrivacyVoiceMessages:return c("PrivacyVoiceMessagesTitle");case r.VS.PrivacyGroupChats:return c("WhoCanAddMe");case r.VS.PrivacyPhoneCall:return c("WhoCanCallMe");case r.VS.PrivacyPhoneP2P:return c("PrivacyP2P");default:return}},[c,A,e]),S=(0,m.A)((e,t,a,n)=>{const s=e?.length||0,o=t?.length||0,r="allow"===n;if(!s&&!o&&!r)return c(a?"PrivacyPremium":"EditAdminAddUsers");if(a)return c("ContactsAndPremium");const i=s>0?c("Users",s):void 0,l=o>0?c("Chats",o):void 0;return[r?A("PrivacyValueBots"):"",A.conjunction([i,l].filter(Boolean))].filter(Boolean).join(" ")}),w=(0,s.Kr)(()=>S(t?.allowUserIds,t?.allowChatIds,t?.shouldAllowPremium,t?.botsPrivacy),[t]),k=(0,s.Kr)(()=>S(t?.blockUserIds,t?.blockChatIds),[t]),N=(0,s.hb)(e=>{n({privacyKey:b,visibility:e})},[b]),I=(()=>{switch(e){case r.VS.PrivacyPhoneNumber:return r.VS.PrivacyPhoneNumberAllowedContacts;case r.VS.PrivacyLastSeen:return r.VS.PrivacyLastSeenAllowedContacts;case r.VS.PrivacyProfilePhoto:return r.VS.PrivacyProfilePhotoAllowedContacts;case r.VS.PrivacyBio:return r.VS.PrivacyBioAllowedContacts;case r.VS.PrivacyBirthday:return r.VS.PrivacyBirthdayAllowedContacts;case r.VS.PrivacyGifts:return r.VS.PrivacyGiftsAllowedContacts;case r.VS.PrivacyForwarding:return r.VS.PrivacyForwardingAllowedContacts;case r.VS.PrivacyPhoneCall:return r.VS.PrivacyPhoneCallAllowedContacts;case r.VS.PrivacyPhoneP2P:return r.VS.PrivacyPhoneP2PAllowedContacts;case r.VS.PrivacyVoiceMessages:return r.VS.PrivacyVoiceMessagesAllowedContacts;default:return r.VS.PrivacyGroupChatsAllowedContacts}})(),P=(()=>{switch(e){case r.VS.PrivacyPhoneNumber:return r.VS.PrivacyPhoneNumberDeniedContacts;case r.VS.PrivacyLastSeen:return r.VS.PrivacyLastSeenDeniedContacts;case r.VS.PrivacyProfilePhoto:return r.VS.PrivacyProfilePhotoDeniedContacts;case r.VS.PrivacyBio:return r.VS.PrivacyBioDeniedContacts;case r.VS.PrivacyBirthday:return r.VS.PrivacyBirthdayDeniedContacts;case r.VS.PrivacyGifts:return r.VS.PrivacyGiftsDeniedContacts;case r.VS.PrivacyForwarding:return r.VS.PrivacyForwardingDeniedContacts;case r.VS.PrivacyPhoneCall:return r.VS.PrivacyPhoneCallDeniedContacts;case r.VS.PrivacyPhoneP2P:return r.VS.PrivacyPhoneP2PDeniedContacts;case r.VS.PrivacyVoiceMessages:return r.VS.PrivacyVoiceMessagesDeniedContacts;default:return r.VS.PrivacyGroupChatsDeniedContacts}})();return s.Ay.createElement(s.Ay.Fragment,null,s.Ay.createElement("div",{className:"settings-item"},s.Ay.createElement("h4",{className:"settings-item-header",dir:c.isRtl?"rtl":void 0},C),s.Ay.createElement(y.A,{name:`visibility-${b}`,options:p,onChange:N,selected:t?.visibility}),f&&s.Ay.createElement("p",{className:"settings-item-description-larger",dir:c.isRtl?"rtl":void 0},f)),!a&&(E.shouldShowAllowed||E.shouldShowDenied)&&s.Ay.createElement("div",{className:"settings-item"},s.Ay.createElement("h4",{className:"settings-item-header",dir:c.isRtl?"rtl":void 0},c("PrivacyExceptions")),E.shouldShowAllowed&&s.Ay.createElement(h.A,{narrow:!0,icon:"add-user",onClick:()=>{i({screen:I})}},s.Ay.createElement("div",{className:"multiline-item full-size"},s.Ay.createElement("span",{className:"title"},c("AlwaysAllow")),s.Ay.createElement("span",{className:"subtitle"},w))),E.shouldShowDenied&&s.Ay.createElement(h.A,{narrow:!0,icon:"delete-user",onClick:()=>{i({screen:P})}},s.Ay.createElement("div",{className:"multiline-item full-size"},s.Ay.createElement("span",{className:"title"},c("NeverAllow")),s.Ay.createElement("span",{className:"subtitle"},k)))),a&&s.Ay.createElement(v.A,null))}const k=(0,s.ph)((0,o.EK)((e,{screen:t})=>{let a,n;const{currentUserId:s,settings:{privacy:o,byKey:{shouldDisplayGiftsButton:l}}}=e,c=(0,i.vGo)(e,s);switch(t){case r.VS.PrivacyPhoneNumber:a=o.phoneNumber,n=o.addByPhone;break;case r.VS.PrivacyLastSeen:a=o.lastSeen;break;case r.VS.PrivacyProfilePhoto:a=o.profilePhoto;break;case r.VS.PrivacyBio:a=o.bio;break;case r.VS.PrivacyBirthday:a=o.birthday;break;case r.VS.PrivacyGifts:a=o.gifts;break;case r.VS.PrivacyPhoneP2P:case r.VS.PrivacyPhoneCall:a=o.phoneCall,n=o.phoneP2P;break;case r.VS.PrivacyForwarding:a=o.forwards;break;case r.VS.PrivacyVoiceMessages:a=o.voiceMessages;break;case r.VS.PrivacyGroupChats:a=o.chatInvite}return a?{primaryPrivacy:a,secondaryPrivacy:n,currentUserId:s,hasCurrentUserFullInfo:Boolean(c),currentUserFallbackPhoto:c?.fallbackPhoto,isPremiumRequired:t===r.VS.PrivacyVoiceMessages&&!(0,i.g29)(e),shouldDisplayGiftsButton:l,isCurrentUserPremium:(0,i.g29)(e)}:{currentUserId:s,hasCurrentUserFullInfo:Boolean(c),currentUserFallbackPhoto:c?.fallbackPhoto}})(S));n()}catch(N){n(N)}})},49986:(e,t,a)=>{a.d(t,{v:()=>o});var n=a(84051),s=a(15283);function o(e){const t=(0,n.li)(e());return(0,s.A)(()=>e.subscribe(()=>{t.current=e()})),t}},50045:(e,t,a)=>{e.exports=a.p+"visa.fb39984c9532c0336be9.svg"},50677:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.d(t,{A:()=>I});var s=a(84051),o=a(13439),r=a(89925),i=a(31481),l=a(87357),c=a(57309),d=a(79824),m=a(37836),u=a(74975),A=a(5912),h=a(59030),y=a(93809),p=a(81524),v=a(42827),g=a(46222),E=a(52745),b=a(41036),f=a(78568),C=e([h,p,v,f]);[h,p,v,f]=C.then?(await C)():C;const S="media",w=500,k=(0,m.nF)(e=>e(),500,!0),N=({searchQuery:e,isLoading:t,globalMessagesByChatId:a,foundIds:n,isChatProtected:m})=>{const{searchMessagesGlobal:u,openMediaViewer:C}=(0,o.ko)(),N=(0,s.li)(),I=(0,h.A)(),{observe:P}=(0,A.BL)({rootRef:N,throttleMs:w}),M=(0,s.hb)(({direction:e})=>{e===r.TN.Backwards&&k(()=>{u({type:S})})},[u,e]),T=(0,s.Kr)(()=>n&&a?n.map(e=>{const[t,n]=(0,c.a)(e);return a[t]?.byId[n]}).filter(Boolean):d.p,[a,n]),B=(0,s.hb)((e,t)=>{C({chatId:t,messageId:e,origin:r.TQ.SearchResult})},[C]),x=(0,y.A)([e],i.jhd)&&!t,L=x&&n&&n.length>0&&!e,R=x&&n&&n.length>0&&e,F=(0,l.A)("search-content custom-scroll",R&&"chat-list");return s.Ay.createElement(b.Ay,{ref:N,slideClassName:"LeftSearch--content LeftSearch--media",name:"fade",activeKey:x?1:0,shouldCleanup:!0},s.Ay.createElement(g.A,{className:F,items:x?T:void 0,itemSelector:e?".ListItem":".Media",onLoadMore:M,noFastList:!0},!x&&s.Ay.createElement(E.A,null),x&&(!n||0===n.length)&&s.Ay.createElement(v.A,{withSticker:!0,text:I("ChatList.Search.NoResults"),description:I("ChatList.Search.NoResultsDescription")}),L&&s.Ay.createElement("div",{className:"media-list",dir:I.isRtl?"rtl":void 0},T.map(e=>s.Ay.createElement(p.A,{key:`${e.chatId}-${e.id}`,idPrefix:"search-media",message:e,isProtected:m||e.isProtected,observeIntersection:P,onClick:B}))),R&&T.map(e=>s.Ay.createElement(f.A,{key:e.id,chatId:e.chatId,message:e}))))},I=(0,s.ph)((0,o.EK)((0,u.t)(S))(N));n()}catch(e){n(e)}})},50768:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.d(t,{A:()=>C});var s=a(84051),o=a(13439),r=a(89925),i=a(60919),l=a(57309),c=a(79824),d=a(37836),m=a(49086),u=a(43874),A=a(59030),h=a(42827),y=a(46222),p=a(78568),v=a(87089),g=a(65010),E=e([m,A,h,p,g]);[m,A,h,p,g]=E.then?(await E)():E;const b=(0,d.nF)(e=>e(),500,!0),f=({searchQuery:e,dateSearchQuery:t,foundIds:a,globalMessagesByChatId:n,chatsById:i,fetchingStatus:d,foundTopicIds:E,searchChatId:f,onSearchDateSelect:C,onReset:S})=>{const{searchMessagesGlobal:w,openThread:k}=(0,o.ko)(),N=(0,A.A)(),{isMobile:I}=(0,u.Ay)(),P=(0,s.hb)(({direction:e})=>{e===r.TN.Backwards&&b(()=>{w({type:"text"})})},[e]),M=(0,s.hb)(e=>{f&&(k({chatId:f,threadId:e,shouldReplaceHistory:!0}),I||S())},[f,I,S]),T=(0,s.Kr)(()=>a&&0!==a.length?a.map(e=>{const[t,a]=(0,l.a)(e);return n?.[t]?.byId[a]}).filter(Boolean).sort((e,t)=>t.date-e.date):c.p,[a,n]),B=d&&!d.chats&&!d.messages&&!T.length&&!E?.length;return s.Ay.createElement("div",{className:"LeftSearch--content"},s.Ay.createElement(y.A,{className:"search-content custom-scroll chat-list",items:T,onLoadMore:P,noFastList:!0},t&&s.Ay.createElement("div",{className:"chat-selection no-scrollbar"},s.Ay.createElement(v.A,{searchDate:t,onSelect:C})),B&&s.Ay.createElement(h.A,{withSticker:!0,text:N("ChatList.Search.NoResults"),description:N("ChatList.Search.NoResultsDescription")}),Boolean(E?.length)&&s.Ay.createElement("div",{className:"pb-2"},s.Ay.createElement("h3",{className:"section-heading topic-search-heading",dir:N.isRtl?"auto":void 0},N("Topics")),E.map(e=>s.Ay.createElement(g.A,{chatId:f,topicId:e,onClick:M}))),Boolean(T.length)&&s.Ay.createElement("div",{className:"pb-2"},s.Ay.createElement("h3",{className:"section-heading topic-search-heading",dir:N.isRtl?"auto":void 0},N("SearchMessages")),T.map(function(t){const a=(0,m.C)(N,t),n=i[t.chatId];if(a&&n)return s.Ay.createElement(p.A,{chatId:t.chatId,message:t,searchQuery:e})}))))},C=(0,s.ph)((0,o.EK)(e=>{const{byId:t}=e.chats,{currentUserId:a,messages:{byChatId:n}}=e,{fetchingStatus:s,resultsByType:o,foundTopicIds:r,chatId:l}=(0,i.nTw)(e).globalSearch,{foundIds:c}=o?.text||{};return{currentUserId:a,foundIds:c,globalMessagesByChatId:n,chatsById:t,fetchingStatus:s,foundTopicIds:r,searchChatId:l}})(f));n()}catch(e){n(e)}})},50851:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.d(t,{A:()=>k});var s=a(84051),o=a(13439),r=a(31481),i=a(87357),l=a(34458),c=a(11462),d=a(26072),m=a(17712),u=a(59030),A=a(50680),h=a(24920),y=a(54746),p=a(50425),v=a(40175),g=a(64493),E=a(22699),b=a(24433),f=a(29924),C=a(33213),S=e([u,p,v,g,E,b,f,C]);[u,p,v,g,E,b,f,C]=S.then?(await S)():S;const w=({isActive:e,isForumPanelOpen:t,archiveSettings:a,isStoryRibbonShown:n,onReset:S,onTopicSearch:w,foldersDispatch:k})=>{const{updateArchiveSettings:N}=(0,o.ko)(),I=(0,u.A)();(0,d.A)({isActive:e,onBack:S});const P=(0,m.A)(()=>{N({isHidden:!1})}),{shouldDisableDropdownMenuTransitionRef:M,handleDropdownMenuTransitionEnd:T}=(0,h.A)(t),{shouldRender:B,transitionClassNames:x}=(0,A.A)(!t,void 0,void 0,!1),{shouldRenderForumPanel:L,handleForumPanelAnimationEnd:R,handleForumPanelAnimationStart:F,isAnimationStarted:D}=(0,c.A)(t),V=t&&D,{shouldRender:_,transitionClassNames:U,isClosing:O}=(0,A.A)(n,void 0,void 0,"",!1,l.UG+r.xB5);return s.Ay.createElement("div",{className:"ArchivedChats"},s.Ay.createElement("div",{className:(0,i.A)("left-header",!_&&"left-header-shadow")},I.isRtl&&s.Ay.createElement("div",{className:"DropdownMenuFiller"}),s.Ay.createElement(g.A,{round:!0,size:"smaller",color:"translucent",onClick:S,ariaLabel:"Return to chat list",className:(0,i.A)(I.isRtl&&"rtl",V&&I.isRtl&&"right-aligned",M.current&&I.isRtl&&"disable-transition"),onTransitionEnd:T},s.Ay.createElement(y.A,{name:"arrow-left"})),B&&s.Ay.createElement("h3",{className:x},I("ArchivedChats")),s.Ay.createElement("div",{className:"story-toggler-wrapper"},s.Ay.createElement(v.A,{canShow:!0,isArchived:!0})),a.isHidden&&s.Ay.createElement(E.A,{className:"archived-chats-more-menu",positionX:"right",onTransitionEnd:I.isRtl?T:void 0},s.Ay.createElement(b.A,{icon:"archive-from-main",onClick:P},I("lng_context_archive_to_list")))),s.Ay.createElement("div",{className:(0,i.A)("chat-list-wrapper",_&&"with-story-ribbon",U)},_&&s.Ay.createElement(p.A,{isArchived:!0,className:"left-header-shadow",isClosing:O}),s.Ay.createElement(f.A,{folderType:"archived",isActive:e,isForumPanelOpen:V,isMainList:!0,foldersDispatch:k,archiveSettings:a})),L&&s.Ay.createElement(C.A,{isOpen:t,onTopicSearch:w,onOpenAnimationStart:F,onCloseAnimationEnd:R}))},k=(0,s.ph)(w);n()}catch(e){n(e)}})},50997:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.d(t,{A:()=>b});var s=a(84051),o=a(13439),r=a(90709),i=a(60919),l=a(96454),c=a(87357),d=a(39351),m=a(17712),u=a(59030),A=a(21849),h=a(54746),y=a(64493),p=a(8410),v=a(92713),g=e([d,u,A,y,p]);[d,u,A,y,p]=g.then?(await g)():g;const E=({modal:e,currentUser:t})=>{const{closeLocationAccessModal:a,toggleUserLocationPermission:n,sendWebAppEvent:i}=(0,o.ko)(),g=Boolean(e),E=(0,u.A)(),b=(0,d.A)(),f=(0,s.li)(),C=(0,m.A)(async()=>{const t=await(0,l.Bu)(),{geolocation:s}=t;e?.bot?.id&&(a(),e?.webAppKey&&(n({botId:e.bot.id,isAccessGranted:!0}),i({webAppKey:e.webAppKey,event:{eventType:"location_requested",eventData:{available:!0,latitude:s?.latitude,longitude:s?.longitude,altitude:s?.altitude,course:s?.heading,speed:s?.speed,horizontal_accuracy:s?.accuracy,vertical_accuracy:s?.accuracy}}})))}),S=(0,m.A)(()=>{e?.bot?.id&&(a(),e?.webAppKey&&(n({botId:e.bot.id,isAccessGranted:!1}),i({webAppKey:e.webAppKey,event:{eventType:"location_requested",eventData:{available:!1}}})))}),w=(0,m.A)(()=>{if(e?.bot)return s.Ay.createElement("div",{className:v.A.avatars},s.Ay.createElement(A.A,{size:"large",peer:t}),s.Ay.createElement(h.A,{name:"next",className:v.A.arrow}),s.Ay.createElement(A.A,{size:"large",peer:e.bot}))}),k=(0,m.A)(()=>{if(e?.bot)return b("LocationPermissionText",{name:(0,r.Yg)(e?.bot)},{withNodes:!0,withMarkdown:!0})});return s.Ay.createElement(p.A,{className:(0,c.A)("confirm"),isOpen:g,onClose:S},w(),s.Ay.createElement("div",null,k(),s.Ay.createElement("div",{className:"dialog-buttons mt-2",ref:f},s.Ay.createElement(y.A,{className:"confirm-dialog-button",isText:!0,onClick:C,color:"primary"},E("lng_bot_allow_write_confirm")),s.Ay.createElement(y.A,{className:"confirm-dialog-button",isText:!0,onClick:S},b("Cancel")))))},b=(0,s.ph)((0,o.EK)(e=>({currentUser:(0,i.mBe)(e,e.currentUserId)}))(E));n()}catch(e){n(e)}})},51325:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.d(t,{A:()=>b});var s=a(84051),o=a(13439),r=a(60919),i=a(87357),l=a(17663),c=a(14),d=a(17712),m=a(59030),u=a(64493),A=a(22720),h=a(8410),y=a(17751),p=a(8491),v=e([m,u,A,h,y]);[m,u,A,h,y]=v.then?(await v)():v;const g=100;function E({isOpen:e,seenByDates:t}){const{openChat:a,closeSeenByModal:n}=(0,o.ko)(),r=(0,m.A)(),v=(0,c.A)(t,!0),E=(0,s.Kr)(()=>{if(!v)return;const e=Object.keys(v);return e.sort((e,t)=>v[t]-v[e]),e},[v]),b=(0,d.A)(e=>{n(),setTimeout(()=>{a({id:e})},g)}),f=(0,d.A)(()=>{n()});return s.Ay.createElement(h.A,{isOpen:e,onClose:n,className:(0,i.A)(p.A.modal,"narrow"),title:`Seen by ${E?.length} users`},s.Ay.createElement("div",{dir:r.isRtl?"rtl":void 0},E&&E.map(e=>s.Ay.createElement(A.A,{key:e,className:"chat-item-clickable scroll-item small-icon",onClick:()=>b(e)},s.Ay.createElement(y.A,{userId:e,noStatusOrTyping:!0,status:(0,l.U)(r,1e3*v[e]),statusIcon:"message-read"})))),s.Ay.createElement("div",{className:"dialog-buttons mt-2"},s.Ay.createElement(u.A,{className:"confirm-dialog-button",isText:!0,onClick:f},r("Close"))))}const b=(0,s.ph)((0,o.EK)(e=>{const{chatId:t,messageId:a}=(0,r.nTw)(e).seenByModal||{};return t&&a?{seenByDates:(0,r.O5q)(e,t,a)?.seenByDates}:{}})(E));n()}catch(f){n(f)}})},51369:(e,t,a)=>{function n(e){const t=e.platform.toLowerCase(),a=e.deviceModel.toLowerCase(),n=e.systemVersion.toLowerCase();return a.includes("xbox")?"xbox":a.includes("chrome")&&!a.includes("chromebook")?"chrome":a.includes("brave")?"brave":a.includes("vivaldi")?"vivaldi":a.includes("safari")?"safari":a.includes("firefox")?"firefox":a.includes("opera")?"opera":a.includes("samsungbrowser")?"samsung":t.includes("android")?"android":a.includes("iphone")||a.includes("ipad")||t.includes("ios")||t.includes("macos")||n.includes("macos")?"apple":t.includes("ubuntu")||n.includes("ubuntu")?"ubuntu":t.includes("linux")||n.includes("linux")?"linux":t.includes("windows")||n.includes("windows")?"windows":"unknown"}a.d(t,{A:()=>n})},51525:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.d(t,{A:()=>d});var s=a(84051),o=a(31481),r=a(76453),i=e([r]),l=i.then?(await i)():i;r=l[0];const c=({inlineResult:e,isSavedMessages:t,observeIntersection:a,onClick:n,isCurrentUserPremium:i})=>{const{sticker:l}=e;if(l)return s.Ay.createElement(r.A,{sticker:l,size:o.mD0,observeIntersection:a,title:l.emoji,className:"chat-item-clickable",onClick:n,clickArg:e,isSavedMessages:t,canViewSet:!0,noShowPremium:!0,isCurrentUserPremium:i})},d=(0,s.ph)(c);n()}catch(e){n(e)}})},51633:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.d(t,{A:()=>g});var s=a(84051),o=a(13439),r=a(60919),i=a(87357),l=a(87894),c=a(39351),d=a(17712),m=a(59030),u=a(67693),A=a(54746),h=a(64493),y=a(78699),p=e([c,m,u,h]);[c,m,u,h]=p.then?(await p)():p;const v=({activeTabBot:e,isMinimizedState:t,openedWebApps:a})=>{const{changeWebAppModalState:n,closeWebAppModal:p}=(0,o.ko)(),v=(0,m.A)(),g=(0,c.A)(),E=(0,s.li)(),b=(0,s.Kr)(()=>a&&Object.values(a),[a]),f=b?.length,C=(0,s.Kr)(()=>{if(!f)return[];const t=(0,o.mS)(),a=e?.id;return(0,l.Am)([a,...b.map(e=>e.botId)]).map(e=>e&&(0,r.mBe)(t,e)).filter(Boolean).slice(0,3)},[f,e,b]),S=(0,d.A)(()=>{p()}),w=(0,d.A)(()=>{n({state:"maximized"})});if(t)return s.Ay.createElement("div",{ref:E,className:(0,i.A)(y.A.root)},s.Ay.createElement(h.A,{className:y.A.button,round:!0,color:"translucent",size:"tiny",ariaLabel:v("Close"),onClick:S},s.Ay.createElement(A.A,{className:y.A.icon,name:"close"})),s.Ay.createElement(u.A,{className:y.A.avatars,size:"mini",peers:C}),function(){const e=C.length>0&&C[0]?.firstName,t=f&&e&&f>1?g("MiniAppsMoreTabs",{botName:e,count:f-1},{pluralValue:f-1}):e;return s.Ay.createElement("div",{className:y.A.title},t)}(),s.Ay.createElement(h.A,{className:(0,i.A)(y.A.windowStateButton,"no-drag"),round:!0,color:"translucent",size:"tiny",onClick:w},s.Ay.createElement(A.A,{className:y.A.stateIcon,name:"expand-modal"})))},g=(0,s.ph)((0,o.EK)(e=>{const t=(0,r.nTw)(e).webApps,{botId:a}=(0,r.ES7)(e)||{},{modalState:n,openedWebApps:s}=t||{},o="minimized"===n;return{activeTabBot:a?(0,r.mBe)(e,a):void 0,isMinimizedState:o,openedWebApps:s}})(v));n()}catch(e){n(e)}})},52234:(e,t,a)=>{a.d(t,{A:()=>l});var n=a(54936),s=a(81954),o=a(73728);const r=8,i=10;function l(e,t,a){const l=a.current;if(!l||t<0)return;const{visibleIndexes:c,allElements:d}=(0,o.A)(l,e,r,!0,!0);if(!d.length||!d[t])return;const m=c[0];if(!c.includes(t)||t===m&&!(0,n.A)(l,d[m])){const e=t>c[c.length-1]?"start":"end";(0,s.Ay)({container:l,element:d[t],position:e,margin:i})}}},52571:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.d(t,{A:()=>R});var s=a(84051),o=a(13439),r=a(31481),i=a(66644),l=a(90709),c=a(60919),d=a(96454),m=a(87357),u=a(95807),A=a(50442),h=a(36353),y=a(43336),p=a(73104),v=a(36235),g=a(43874),E=a(14),b=a(26072),f=a(17712),C=a(73767),S=a(39751),w=a(19147),k=a(24861),N=a(33273),I=a(32819),P=e([k,N]);[k,N]=P.then?(await P)():P;const T=1.75,B=50,x=1500;var M=function(e){return e[e.Horizontal=0]="Horizontal",e[e.Vertical=1]="Vertical",e}(M||{});function L({peerIds:e,currentPeerId:t,currentStoryId:a,isOpen:n,isSinglePeer:P,isSingleStory:L,isPrivate:R,isArchive:F,byPeerId:D,isDeleteModalOpen:V,onDelete:_,onClose:U,onReport:O}){const{stopActiveReaction:J}=(0,o.ko)(),K=(0,s.li)(),[G,j]=(0,s.J0)(t),[z,H]=(0,s.J0)(a),$=(0,C.A)(t),q=(0,E.A)(F,!0),W=(0,E.A)(R,!0),Y=(0,E.A)(P,!0),Q=(0,E.A)(L,!0),Z=(0,w.A)(),{height:X,width:ee}=(0,S.A)(),te=(0,s.li)(void 0),ae=(0,s.li)(!1),{isMobile:ne}=(0,g.Ay)(),se=(0,s.li)({}),[oe,re]=(0,s.Ul)(!1);function ie(e,t){e&&(se.current[t]?se.current[t].current=e:se.current[t]={current:e})}(0,b.A)({isActive:n,onBack:U,shouldBeReplaced:!0});const le=(0,s.Kr)(()=>{if(G&&(Y||Q))return[G];const t=G?e.indexOf(G):-1;if(!G||-1===t)return[];const a=Math.max(t-4,0),n=Math.min(t+5,e.length);return e.slice(a,n)},[Q,Y,G,e]),ce=(0,s.Kr)(()=>le.length&&G?le.indexOf(G):-1,[G,le]),de=(0,s.Kr)(()=>le.length&&t?le.indexOf(t):-1,[t,le]);(0,s.vJ)(()=>{ne&&j(t)},[t,ne]),(0,s.vJ)(()=>{G===t&&a!==z&&H(a)},[t,a,G,z]),(0,s.vJ)(()=>{if(!ne)return $&&$!==t&&re(!0),()=>{re(!1)}},[$,t,re,ne]),(0,s.vJ)(()=>()=>{a&&t&&J({containerId:(0,l.$_)(t,a)})},[a,t]);const me=de-ce,ue=ce>de,Ae=(0,f.A)(()=>e.reduce((a,n,s)=>{if(n===G)a[n]=(0,v.Sy)({scale:Z.scale,slideAmount:me,isBackward:ue,isActiveSlideSize:ue});else{let o=!1;!ue&&s>0&&e[s-1]===G&&(o=!0),ue&&s<e.length-1&&e[s+1]===G&&(o=!0),a[n]=(0,v.Sy)({scale:Z.scale,slideAmount:me,isBackward:ue,isActiveSlideSize:t===n&&!ue,isMoveThroughActiveSlide:o})}return a},{}));(0,s.vJ)(()=>{if(!K.current||!n)return;let e=0;const t=()=>G?se.current[G]?.current:void 0,a=a=>{if(ae.current)return void(ae.current=!1);const n=t();if(n){if(e<-B){const e=document.getElementById(r.YVZ);return void(e&&(0,i.RK)(()=>{(0,h.A)(e)}))}e>B?(U(),"wheel"===a.type&&((0,p.M6)(),setTimeout(p.v5,x))):(0,i.RK)(()=>{n.style.setProperty("--slide-translate-y","0px")})}};return(0,A.wJ)(K.current,{isNotPassive:!0,withNativeDrag:!0,withWheelDrag:!0,excludedClosestSelector:".Composer",onDrag:(n,s,{dragOffsetX:o,dragOffsetY:r})=>{if(ae.current)return;if(d.pz&&"touchstart"===s.type){const{pageX:e}=s.touches[0];if(e<=A.h6||e>=ee-A.h6)return}if("mousemove"===n.type)return;const l=Math.abs(o),c=Math.abs(r),m=t();if(m&&(te.current===M.Vertical||Math.abs(c)>A.no||c/l>A.fG)){te.current=M.Vertical;const t=X;e=(0,y.qE)(r,-t,t),e>0&&(0,i.RK)(()=>{m.style.setProperty("--slide-translate-y",e*(ne?1:-1)+"px")}),"wheel"===n.type&&Math.abs(e)>2*B&&(a(n),ae.current=!0)}},onRelease:a})},[n,U,ee,X,ne,G]),(0,s.Nf)(()=>{if(ne)return;const e=Ae();Object.entries(se.current).forEach(([a,{current:n}])=>{if(!n)return;if(!oe())return n.classList.remove(I.A.slideAnimation,I.A.slideAnimationToActive,I.A.slideAnimationFromActive),n.style.setProperty("--slide-translate-x","0px"),n.style.setProperty("--slide-translate-y","0px"),n.style.setProperty("--slide-translate-scale","1"),void n.style.setProperty("--slide-content-scale",String(Z.toActiveScale));let s=0;a===G&&(s=-T*Z.fromActiveScale,n.classList.add(I.A.slideAnimationFromActive)),a===t&&(s=T,n.classList.add(I.A.slideAnimationToActive)),n.classList.add(I.A.slideAnimation),n.style.setProperty("--slide-translate-x",`${e[a]||0}px`),n.style.setProperty("--slide-translate-y",`${s}rem`),n.style.setProperty("--slide-translate-scale",t===a?String(Z.toActiveScale):a===G?String(Z.fromActiveScale):"1")})},[t,oe,G,Z,ne]);const he=(0,f.A)(e=>{const n=e.target;n&&n.classList.contains(I.A.activeSlide)&&(G!==t?(j(t),H(a)):a!==z&&H(a),re(!1))});return ne?s.Ay.createElement("div",{className:I.A.wrapper,ref:K},s.Ay.createElement("div",{className:I.A.mobileSlide,ref:e=>ie(e,G)},s.Ay.createElement(k.A,{peerId:G,storyId:z,onDelete:_,dimensions:Z.activeSlide,isPrivateStories:W,isArchivedStories:q,isDeleteModalOpen:V,isSingleStory:L,getIsAnimating:oe,onClose:U,onReport:O}))):s.Ay.createElement("div",{className:I.A.wrapper,ref:K,style:`--story-viewer-scale: ${Z.scale}`,onTransitionEnd:he},s.Ay.createElement("div",{className:I.A.fullSize,onClick:U}),le.length>1&&s.Ay.createElement("div",{className:I.A.backdropNonInteractive,style:`height: ${Z.slide.height}px`}),le.map((e,t)=>e===G?function(e){const t=ne?void 0:(0,u.A)(`width: ${Z.activeSlide.width}px`,`--slide-media-height: ${Z.activeSlide.height}px`);return s.Ay.createElement("div",{key:e,ref:t=>ie(t,e),className:(0,m.A)(I.A.slide,I.A.activeSlide),style:t},s.Ay.createElement(k.A,{peerId:e,storyId:z,onDelete:_,dimensions:Z.activeSlide,isPrivateStories:W,isArchivedStories:q,isDeleteModalOpen:V,isSingleStory:L,getIsAnimating:oe,onClose:U,onReport:O}))}(G):function(e,t,a){const n=(0,u.A)(`width: ${Z.slide.width}px`,`height: ${Z.slide.height}px`),r=(0,m.A)(I.A.slide,I.A.slidePreview,`slide-${a}`);return s.Ay.createElement("div",{key:e,ref:t=>ie(t,e),className:r,style:n},s.Ay.createElement(N.A,{peer:(0,c.PVB)((0,o.mS)(),e),peerStories:D?.[e]}))}(e,0,t-ce)))}const R=(0,s.ph)((0,o.EK)(e=>{const{storyViewer:{peerId:t,storyId:a,isSinglePeer:n,isSingleStory:s,isPrivate:o,isArchive:r,storyList:i}}=(0,c.nTw)(e),{byPeerId:l,orderedPeerIds:{active:d}}=e.stories;return{byPeerId:l,peerIds:i?.peerIds??d,currentPeerId:t,currentStoryId:a,isSinglePeer:n,isSingleStory:s,isPrivate:o,isArchive:r}},e=>(0,c.gd2)(e))(L));n()}catch(F){n(F)}})},52781:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.d(t,{A:()=>C});var s=a(84051),o=a(13439),r=a(89925),i=a(31481),l=a(60919),c=a(30708),d=a(7101),m=a(26072),u=a(39351),A=a(17712),h=a(59030),y=a(9267),p=a(64493),v=a(19806),g=a(22720),E=e([u,h,p,v,g]);[u,h,p,v,g]=E.then?(await E)():E;const b=30,f=({isActive:e,isCurrentUserPremium:t,hasPassword:a,hasPasscode:n,blockedCount:l,webAuthCount:c,isSensitiveEnabled:E,canChangeSensitive:f,canDisplayAutoarchiveSetting:C,shouldArchiveAndMuteNewNonContact:S,shouldNewNonContactPeersRequirePremium:w,shouldChargeForMessages:k,canDisplayChatInTitle:N,canSetPasscode:I,needAgeVideoVerification:P,privacy:M,onReset:T,isCurrentUserFrozen:B,accountDaysTtl:x})=>{const{openDeleteAccountModal:L,loadPrivacySettings:R,loadBlockedUsers:F,updateContentSettings:D,loadGlobalPrivacySettings:V,updateGlobalPrivacySettings:_,loadWebAuthorizations:U,setSharedSettingOption:O,openSettingsScreen:J,loadAccountDaysTtl:K,openAgeVerificationModal:G}=(0,o.ko)();(0,s.vJ)(()=>{B||(F(),R(),U())},[B]),(0,s.vJ)(()=>{e&&!B&&(V(),K())},[e,B,V]);const j=(0,h.A)(),z=(0,u.A)();(0,m.A)({isActive:e,onBack:T});const H=(0,s.hb)(e=>{_({shouldArchiveAndMuteNewNonContact:e})},[_]),$=(0,s.hb)(e=>{O({canDisplayChatInTitle:e})},[]),q=(0,s.hb)(e=>{D({isSensitiveEnabled:e})},[D]),W=(0,s.hb)(()=>{G()},[G]),Y=(0,A.A)(()=>{x&&L({days:x})}),Q=(0,s.Kr)(()=>{if(x)return(0,d._)(i.WF4,x/b).toString()},[x]);function Z(e){if(!e)return j("Loading");const{visibility:t,shouldAllowPremium:a,botsPrivacy:n}=e,s="everybody"===t,o="allow"===n&&!s,r=e.blockChatIds.length+e.blockUserIds.length,i=e.allowChatIds.length+e.allowUserIds.length,l=[];r&&l.push(`-${r}`),i&&!s&&l.push(`+${i}`);const c=[o?z("PrivacyValueBots"):"",z.conjunction(l)].filter(Boolean).join(" ");if(o&&!s)return c;if(a)return j(c?"ContactsAndPremium":"PrivacyPremium");switch(t){case"everybody":return`${j("P2PEverybody")} ${c}`;case"contacts":return`${j("P2PContacts")} ${c}`;case"nobody":return`${j("P2PNobody")} ${c}`}}return s.Ay.createElement("div",{className:"settings-content custom-scroll"},s.Ay.createElement("div",{className:"settings-item"},s.Ay.createElement(g.A,{icon:"delete-user",narrow:!0,onClick:()=>J({screen:r.VS.PrivacyBlockedUsers})},j("BlockedUsers"),s.Ay.createElement("span",{className:"settings-item__current-value"},l||"")),I&&s.Ay.createElement(g.A,{icon:"key",narrow:!0,onClick:()=>J({screen:n?r.VS.PasscodeEnabled:r.VS.PasscodeDisabled})},s.Ay.createElement("div",{className:"multiline-item"},s.Ay.createElement("span",{className:"title"},j("Passcode")),s.Ay.createElement("span",{className:"subtitle",dir:"auto"},j(n?"PasswordOn":"PasswordOff")))),s.Ay.createElement(g.A,{icon:"lock",narrow:!0,onClick:()=>J({screen:a?r.VS.TwoFaEnabled:r.VS.TwoFaDisabled})},s.Ay.createElement("div",{className:"multiline-item"},s.Ay.createElement("span",{className:"title"},j("TwoStepVerification")),s.Ay.createElement("span",{className:"subtitle",dir:"auto"},j(a?"PasswordOn":"PasswordOff")))),c>0&&s.Ay.createElement(g.A,{icon:"web",narrow:!0,onClick:()=>J({screen:r.VS.ActiveWebsites})},j("PrivacySettings.WebSessions"),s.Ay.createElement("span",{className:"settings-item__current-value"},c))),s.Ay.createElement("div",{className:"settings-item"},s.Ay.createElement("h4",{className:"settings-item-header",dir:j.isRtl?"rtl":void 0},j("PrivacyTitle")),s.Ay.createElement(g.A,{narrow:!0,className:"no-icon",onClick:()=>J({screen:r.VS.PrivacyPhoneNumber})},s.Ay.createElement("div",{className:"multiline-item"},s.Ay.createElement("span",{className:"title"},j("PrivacyPhoneTitle")),s.Ay.createElement("span",{className:"subtitle",dir:"auto"},Z(M.phoneNumber)))),s.Ay.createElement(g.A,{narrow:!0,className:"no-icon",onClick:()=>J({screen:r.VS.PrivacyLastSeen})},s.Ay.createElement("div",{className:"multiline-item"},s.Ay.createElement("span",{className:"title"},j("LastSeenTitle")),s.Ay.createElement("span",{className:"subtitle",dir:"auto"},Z(M.lastSeen)))),s.Ay.createElement(g.A,{narrow:!0,className:"no-icon",onClick:()=>J({screen:r.VS.PrivacyProfilePhoto})},s.Ay.createElement("div",{className:"multiline-item"},s.Ay.createElement("span",{className:"title"},j("PrivacyProfilePhotoTitle")),s.Ay.createElement("span",{className:"subtitle",dir:"auto"},Z(M.profilePhoto)))),s.Ay.createElement(g.A,{narrow:!0,className:"no-icon",onClick:()=>J({screen:r.VS.PrivacyBio})},s.Ay.createElement("div",{className:"multiline-item"},s.Ay.createElement("span",{className:"title"},j("PrivacyBio")),s.Ay.createElement("span",{className:"subtitle",dir:"auto"},Z(M.bio)))),s.Ay.createElement(g.A,{narrow:!0,className:"no-icon",onClick:()=>J({screen:r.VS.PrivacyBirthday})},s.Ay.createElement("div",{className:"multiline-item"},s.Ay.createElement("span",{className:"title"},j("PrivacyBirthday")),s.Ay.createElement("span",{className:"subtitle",dir:"auto"},Z(M.birthday)))),s.Ay.createElement(g.A,{narrow:!0,className:"no-icon",onClick:()=>J({screen:r.VS.PrivacyGifts})},s.Ay.createElement("div",{className:"multiline-item"},s.Ay.createElement("span",{className:"title"},z("PrivacyGifts")),s.Ay.createElement("span",{className:"subtitle",dir:"auto"},Z(M.gifts)))),s.Ay.createElement(g.A,{narrow:!0,className:"no-icon",onClick:()=>J({screen:r.VS.PrivacyForwarding})},s.Ay.createElement("div",{className:"multiline-item"},s.Ay.createElement("span",{className:"title"},j("PrivacyForwardsTitle")),s.Ay.createElement("span",{className:"subtitle",dir:"auto"},Z(M.forwards)))),s.Ay.createElement(g.A,{narrow:!0,className:"no-icon",onClick:()=>J({screen:r.VS.PrivacyPhoneCall})},s.Ay.createElement("div",{className:"multiline-item"},s.Ay.createElement("span",{className:"title"},j("WhoCanCallMe")),s.Ay.createElement("span",{className:"subtitle",dir:"auto"},Z(M.phoneCall)))),s.Ay.createElement(g.A,{narrow:!0,allowDisabledClick:!0,rightElement:t&&s.Ay.createElement(y.A,{size:"big",type:"premium"}),className:"no-icon",onClick:()=>J({screen:r.VS.PrivacyVoiceMessages})},s.Ay.createElement("div",{className:"multiline-item"},s.Ay.createElement("span",{className:"title"},j("PrivacyVoiceMessagesTitle")),s.Ay.createElement("span",{className:"subtitle",dir:"auto"},Z(M.voiceMessages)))),s.Ay.createElement(g.A,{narrow:!0,rightElement:t&&s.Ay.createElement(y.A,{size:"big",type:"premium"}),className:"no-icon",onClick:()=>J({screen:r.VS.PrivacyMessages})},s.Ay.createElement("div",{className:"multiline-item"},s.Ay.createElement("span",{className:"title"},j("PrivacyMessagesTitle")),s.Ay.createElement("span",{className:"subtitle",dir:"auto"},k?z("PrivacyPaidMessagesValue"):j(w?"PrivacyMessagesContactsAndPremium":"P2PEverybody")))),s.Ay.createElement(g.A,{narrow:!0,className:"no-icon",onClick:()=>J({screen:r.VS.PrivacyGroupChats})},s.Ay.createElement("div",{className:"multiline-item"},s.Ay.createElement("span",{className:"title"},j("WhoCanAddMe")),s.Ay.createElement("span",{className:"subtitle",dir:"auto"},Z(M.chatInvite))))),f&&s.Ay.createElement("div",{className:"settings-item fluid-container"},s.Ay.createElement("h4",{className:"settings-item-header",dir:j.isRtl?"rtl":void 0},j("lng_settings_sensitive_title")),s.Ay.createElement(v.A,{label:j("lng_settings_sensitive_disable_filtering"),subLabel:j("lng_settings_sensitive_about"),checked:Boolean(E),disabled:!f||!E&&P,onCheck:q}),!E&&P&&s.Ay.createElement(p.A,{color:"primary",fluid:!0,size:"smaller",noForcedUpperCase:!0,className:"settings-unlock-button",onClick:W},s.Ay.createElement("span",{className:"settings-unlock-button-title"},z("ButtonAgeVerification")))),C&&s.Ay.createElement("div",{className:"settings-item"},s.Ay.createElement("h4",{className:"settings-item-header",dir:j.isRtl?"rtl":void 0},j("NewChatsFromNonContacts")),s.Ay.createElement(v.A,{label:j("ArchiveAndMute"),subLabel:j("ArchiveAndMuteInfo"),checked:Boolean(S),onCheck:H})),s.Ay.createElement("div",{className:"settings-item"},s.Ay.createElement("h4",{className:"settings-item-header",dir:j.isRtl?"rtl":void 0},j("lng_settings_window_system")),s.Ay.createElement(v.A,{label:j("lng_settings_title_chat_name"),checked:Boolean(N),onCheck:$})),s.Ay.createElement("div",{className:"settings-item"},s.Ay.createElement("h4",{className:"settings-item-header",dir:j.isRtl?"rtl":void 0},z("DeleteMyAccount")),s.Ay.createElement(g.A,{narrow:!0,onClick:Y},z("DeleteAccountIfAwayFor"),s.Ay.createElement("span",{className:"settings-item__current-value"},z("Months",{count:Q},{pluralValue:1})))))},C=(0,s.ph)((0,o.EK)(e=>{const{settings:{byKey:{hasPassword:t,isSensitiveEnabled:a,canChangeSensitive:n,shouldArchiveAndMuteNewNonContact:s,shouldNewNonContactPeersRequirePremium:o,nonContactPeersPaidStars:r},privacy:i,accountDaysTtl:d},blocked:m,passcode:{hasPasscode:u},appConfig:A}=e,{canDisplayChatInTitle:h}=(0,c.l)(e),y=Boolean(r),p=(0,l.trm)(e);return{isCurrentUserPremium:(0,l.g29)(e),hasPassword:t,hasPasscode:Boolean(u),blockedCount:m.totalCount,webAuthCount:e.activeWebSessions.orderedHashes.length,isSensitiveEnabled:a,canDisplayAutoarchiveSetting:Boolean(A?.canDisplayAutoarchiveSetting),shouldArchiveAndMuteNewNonContact:s,canChangeSensitive:n,shouldNewNonContactPeersRequirePremium:o,shouldChargeForMessages:y,needAgeVideoVerification:Boolean(A?.needAgeVideoVerification),privacy:i,canDisplayChatInTitle:h,canSetPasscode:(0,l.Ntz)(e),isCurrentUserFrozen:p,accountDaysTtl:d}})(f));n()}catch(e){n(e)}})},53029:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.d(t,{A:()=>b});var s=a(84051),o=a(13439),r=a(90709),i=a(60919),l=a(17663),c=a(58443),d=a(24899),m=a(39351),u=a(17712),A=a(64489),h=a(64493),y=a(96530),p=a(65461),v=a(72589),g=e([m,h,p]);[m,h,p]=g.then?(await g)():g;const E=({modal:e,freezeUntilDate:t,freezeAppealUrl:a,botFreezeAppealUsername:n})=>{const{closeFrozenAccountModal:r,openUrl:i}=(0,o.ko)(),g=(0,m.A)(),E=Boolean(e),b=(0,u.A)(()=>{r()}),f=(0,u.A)(()=>{r(),a&&i({url:a})}),C=(0,s.Kr)(()=>s.Ay.createElement("div",{className:v.A.header},s.Ay.createElement(A.A,{size:160,tgsUrl:c.w.BannedDuck,noLoop:!0}),s.Ay.createElement("div",{className:v.A.title},g("FrozenAccountModalTitle"))),[g]),S=(0,s.Kr)(()=>{if(E)return s.Ay.createElement("div",{className:v.A.footer},s.Ay.createElement(h.A,{className:v.A.buttonAppeal,size:"smaller",onClick:f,noForcedUpperCase:!0},g("ButtonAppeal")),s.Ay.createElement(h.A,{isText:!0,size:"smaller",onClick:b,noForcedUpperCase:!0},g("ButtonUnderstood")))},[g,E]);if(!t||!n)return;const w=new Date(1e3*t),k=s.Ay.createElement(y.A,{onClick:f,isPrimary:!0},(0,d.A)(n)),N=[["hand-stop",g("FrozenAccountViolationTitle"),g("FrozenAccountViolationSubtitle")],["lock",g("FrozenAccountReadOnlyTitle"),g("FrozenAccountReadOnlySubtitle")],["frozen-time",g("FrozenAccountAppealTitle"),g("FrozenAccountAppealSubtitle",{botLink:k,date:(0,l.A)(w,g.code)},{withNodes:!0})]];return s.Ay.createElement(p.A,{isOpen:E,header:C,listItemData:N,footer:S,hasBackdrop:!0,onClose:b})},b=(0,s.ph)((0,o.EK)(e=>{const t=e.appConfig?.freezeUntilDate,a=e.appConfig?.freezeAppealUrl,n=e.botFreezeAppealId?(0,i.mBe)(e,e.botFreezeAppealId):void 0;return{freezeUntilDate:t,freezeAppealUrl:a,botFreezeAppealUsername:n&&(0,r.Kl)(n)}})(E));n()}catch(e){n(e)}})},53146:(e,t,a)=>{a.d(t,{A:()=>m});var n=a(96540),s=a(10504),o=a(21468),r=a(42754),i=a(19828),l=a(25279),c=a(77787);const d=({message:e})=>n.createElement("div",{className:"text-[12px] leading-[18px] text-red-400"},e),m=e=>{const{type:t,knowledge:a,onClose:m,onUpdate:u}=e,A=(0,n.useRef)((0,l.A)()),[h,y]=(0,n.useState)(a?.richText||[{type:"paragraph",children:[{text:""}]}]),[p,v]=(0,n.useState)(a?.question||""),[g,E]=(0,n.useState)(""),[b,f]=(0,n.useState)(""),C=(0,n.useRef)(null),S=(0,n.useCallback)(e=>{v(e.target.value)},[]),w=(0,n.useCallback)(()=>{const e=h.map(e=>i.bP.string(e)).join("\n");if(!e)return void f("Please enter your notes");if(f(""),!p)return void E("Please enter a question");E("");const n="add"===t?A.current:a?.id;c.zs.knowledge?.addKnowledge({id:n,richText:h,plainText:e,question:p}).then(()=>{m(),u()})},[a?.id,m,u,p,t,h]);return n.createElement("div",{className:"flex flex-col gap-[20px] h-full"},n.createElement("div",{className:"flex-1 flex flex-col overflow-hidden"},n.createElement(s.Ay,{className:"flex-1 flex flex-col overflow-hidden",ref:C,value:h,onChange:y,toolbar:["history","bold","italic","decoration","text-align","list"],placeholder:"Save your most-used answers as Quick Replies — e.g. your email, Calendly link, or a short project intro. Next time someone asks, insert it in one tap. "}),b&&n.createElement(d,{message:b})),n.createElement("div",{className:"flex flex-col gap-[8px]"},n.createElement("div",null,"Preset standard questions",n.createElement("span",{className:"text-[#FF543D]"},"*")),n.createElement(r.A,{value:p,onChange:S}),g&&n.createElement(d,{message:g})),n.createElement("div",{className:"flex flex-row gap-8 justify-end"},n.createElement(o.Ay,{className:"!w-[120px] !h-[42px]",onClick:m},"Cancel"),n.createElement(o.Ay,{type:"primary",className:"!w-[120px] !h-[42px]",onClick:w},"Add")))}},53672:(e,t,a)=>{a.d(t,{A:()=>h});var n=a(84051),s=a(32610),o=a(87679),r=a(30857);const i=2,l=2,c=1e3,d=new Map;var m=a(35297);const u=2,A=2;function h(e){const t=(0,n.li)();let a=!1;(0,m.A)(()=>{if(a=!0,t.current=void 0,!e)return;const n=new Image;if(n.src=e,!n.width)return;const r=(0,o.PR)(n);(0,s.A)(r.getContext("2d"),0,0,r.width,r.height,u,A),t.current=r.toDataURL()},[e]);const h=function(e,t=!1,a){const m=(0,n.li)(e?d.get(e):void 0),u=(0,n.li)(),A=(0,r.A)();return u.current&&t&&(clearTimeout(u.current),u.current=void 0),(0,n.vJ)(()=>{if(!e||m.current||t)return;const n=new Image;n.onload=()=>{const t=(0,o.PR)(n);(0,s.A)(t.getContext("2d"),0,0,t.width,t.height,i,l);const a=t.toDataURL();m.current=a,A(),d.size>=c&&d.clear(),d.set(e,a)},a?u.current=window.setTimeout(()=>{n.src=e},a):n.src=e},[e,a,A,t]),m.current}(e||void 0,Boolean(t.current));return t.current||!a&&h||e||void 0}},53714:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.d(t,{A:()=>m});var s=a(84051),o=a(13439),r=a(37661),i=a(59030),l=a(92543),c=e([i,l]);[i,l]=c.then?(await c)():c;const d=({requestedDraft:e})=>{const t=Boolean(e&&!e.chatId),{openChatWithDraft:a,resetOpenChatWithDraft:n}=(0,o.ko)(),c=(0,i.A)(),[d,m,u]=(0,r.A)();(0,s.vJ)(()=>{t&&m()},[t,m]);const A=(0,s.hb)((t,n)=>{a({chatId:t,threadId:n,text:e.text,files:e.files})},[a,e]),h=(0,s.hb)(()=>{n()},[n]);if(t||d)return s.Ay.createElement(l.A,{isOpen:t,searchPlaceholder:c("ForwardTo"),filter:e?.filter,onSelectRecipient:A,onClose:h,onCloseAnimationEnd:u})},m=(0,s.ph)(d);n()}catch(e){n(e)}})},53897:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.d(t,{A:()=>k});var s=a(84051),o=a(13439),r=a(89925),i=a(60919),l=a(30708),c=a(57309),d=a(79824),m=a(31460),u=a(37836),A=a(49086),h=a(39351),y=a(17712),p=a(59030),v=a(42827),g=a(46222),E=a(41036),b=a(78568),f=a(67067),C=e([A,h,p,v,b,f]);[A,h,p,v,b,f]=C.then?(await C)():C;const S=(0,u.nF)(e=>e(),500,!0),w=({searchQuery:e,foundIds:t,globalMessagesByChatId:a,searchFlood:n,shouldShowSearchLauncher:i,isNothingFound:l,isLoading:u,animationLevel:C})=>{const{searchMessagesGlobal:w}=(0,o.ko)(),k=(0,h.A)(),N=(0,p.A)(),I=(0,y.A)(()=>{e&&w({type:"publicPosts",shouldResetResultsByType:!0})}),P=(0,s.hb)(({direction:e})=>{e===r.TN.Backwards&&S(()=>{w({type:"publicPosts"})})},[]),M=(0,s.Kr)(()=>t&&0!==t.length?t.map(e=>{const[t,n]=(0,c.a)(e);return a?.[t]?.byId[n]}).filter(Boolean):d.p,[t,a]);return s.Ay.createElement(E.Ay,{name:(0,m.P)("slideOptimized",C,void 0,k.isRtl),activeKey:i||u?0:1},i||u?s.Ay.createElement(f.A,{searchQuery:e,searchFlood:n,onSearch:I,isLoading:u}):s.Ay.createElement("div",{className:"LeftSearch--content"},s.Ay.createElement(g.A,{key:e,className:"search-content custom-scroll chat-list",items:M,onLoadMore:P,noFastList:!0},l&&s.Ay.createElement(v.A,{text:N("ChatList.Search.NoResults"),description:N("ChatList.Search.NoResultsDescription"),withSticker:!0}),Boolean(M.length)&&s.Ay.createElement("div",{className:"pb-2"},s.Ay.createElement("h3",{className:"section-heading",dir:k.isRtl?"auto":void 0},k("PublicPosts")),M.map(function(t){const a=(0,o.mS)().chats.byId,n=(0,A.C)(N,t),r=a[t.chatId];if(n&&r)return s.Ay.createElement(b.A,{key:`${t.chatId}-${t.id}`,chatId:t.chatId,message:t,searchQuery:e})})))))},k=(0,s.ph)((0,o.EK)(e=>{const{messages:{byChatId:t}}=e,{resultsByType:a,searchFlood:n,fetchingStatus:s}=(0,i.nTw)(e).globalSearch,o=a?.publicPosts,{foundIds:r}=o||{},c=Boolean(s?.publicPosts&&!o),d=!o&&!c,m=o&&!r?.length,{animationLevel:u}=(0,l.l)(e);return{foundIds:r,globalMessagesByChatId:t,searchFlood:n,shouldShowSearchLauncher:d,isNothingFound:m,isLoading:c,animationLevel:u}})(w));n()}catch(e){n(e)}})},54155:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.d(t,{A:()=>b});var s=a(84051),o=a(13439),r=a(60919),i=a(96454),l=a(4961),c=a(43874),d=a(37661),m=a(26072),u=a(59030),A=a(79577),h=a(64493),y=a(40664),p=a(8410),v=e([u,A,h,y,p]);[u,A,h,y,p]=v.then?(await v)():v;const g=160,E=({animatedEmoji:e,type:t="text",isLoading:a,error:n,placeholder:o,shouldConfirm:r,clearError:v,onSubmit:E,isActive:b,onReset:f})=>{const C=(0,s.li)(),{isMobile:S}=(0,c.Ay)(),w=S?550:400,[k,N]=(0,s.J0)(""),[I,P,M]=(0,d.A)(!1);(0,s.vJ)(()=>{i.TF||setTimeout(()=>{C.current.focus()},w)},[w]);const T=(0,s.hb)(e=>{n&&v&&v(),N(e.target.value)},[v,n]),B=(0,s.hb)(()=>{E()},[E]),x=(0,s.hb)(()=>{M(),E()},[E,M]),L=(0,u.A)();return(0,m.A)({isActive:b,onBack:f}),s.Ay.createElement("div",{className:"settings-content two-fa custom-scroll"},s.Ay.createElement("div",{className:"settings-content-header no-border"},s.Ay.createElement(A.A,{sticker:e,size:g,className:"settings-content-icon"}),"email"===t&&s.Ay.createElement("p",{className:"settings-item-description mb-3",dir:"auto"},L("RecoveryEmailSubtitle"))),s.Ay.createElement("div",{className:"settings-item settings-group"},s.Ay.createElement("form",{action:"",onSubmit:e=>{e.preventDefault(),C.current&&E(k)}},s.Ay.createElement(y.A,{ref:C,value:k,inputMode:t,label:o,error:n,onChange:T}),k?s.Ay.createElement(h.A,{type:"submit",isLoading:a,ripple:!0},L("Continue")):s.Ay.createElement(h.A,{isText:!0,isLoading:a,ripple:!0,onClick:r?P:B},L("YourEmailSkip"))),r&&s.Ay.createElement(p.A,{className:"narrow",isOpen:I,title:L("YourEmailSkipWarning"),onClose:M},(0,l.A)(L("YourEmailSkipWarningText"),["br","simple_markdown"]),s.Ay.createElement("div",{className:"dialog-buttons"},s.Ay.createElement(h.A,{color:"danger",ripple:!0,isText:!0,className:"confirm-dialog-button",onClick:x},L("YourEmailSkip")),s.Ay.createElement(h.A,{color:"primary",ripple:!0,isText:!0,className:"confirm-dialog-button",onClick:M},L("Cancel"))))))},b=(0,s.ph)((0,o.EK)((e,{icon:t})=>({animatedEmoji:(0,r.oei)(e,"email"===t?"💌":"💡")}))(E));n()}catch(e){n(e)}})},54275:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.d(t,{A:()=>g});var s=a(84051),o=a(13439),r=a(60919),i=a(15384),l=a(59030),c=a(73767),d=a(8410),m=a(34132),u=a(48152),A=a(77535),h=a(46186),y=a(47),p=e([i,l,d,m,u,A,h]);[i,l,d,m,u,A,h]=p.then?(await p)():p;const v=({modal:e,folder:t})=>{const{closeChatlistModal:a}=(0,o.ko)(),n=(0,l.A)(),r=Boolean(e),p=(0,c.A)(e)||e,v=(0,c.A)(t)||t,g=(0,s.Kr)(()=>{if(p){if(p.invite){const e=p.invite;return"alreadyPeerIds"in e?e.missingPeerIds.length?n("FolderLinkTitleAddChats"):n("FolderLinkTitleAlready"):n("FolderLinkTitleAdd")}return p.removal?n("FolderLinkTitleRemove"):void 0}},[n,p]),E=(0,s.Kr)(()=>v?(0,i.fd)({text:v.title.text,entities:v.title.entities,noCustomEmojiPlayback:v.noTitleAnimations}):p?.invite&&"title"in p.invite?(0,i.fd)({text:p.invite.title.text,entities:p.invite.title.entities,noCustomEmojiPlayback:p.invite.noTitleAnimations}):void 0,[v,p]),b=(0,s.Kr)(()=>{if(p?.invite)return"missingPeerIds"in p.invite?p.invite.missingPeerIds.length:void 0},[p]),f=(0,s.hb)(()=>{if(p){if(p.invite){const e=p.invite;return"alreadyPeerIds"in e?s.Ay.createElement(u.A,{invite:e,folder:v}):s.Ay.createElement(h.A,{invite:e})}return p.removal?s.Ay.createElement(A.A,{folder:v,suggestedPeerIds:p.removal.suggestedPeerIds}):void 0}},[v,p]);return s.Ay.createElement(d.A,{isOpen:r,title:g,onClose:a,isSlim:!0,hasCloseButton:!0},E&&(C=E,s.Ay.createElement("div",{className:y.A.foldersWrapper},s.Ay.createElement("div",{className:y.A.folders},s.Ay.createElement(m.A,{className:y.A.folder,title:n("FolderLinkPreviewLeft")}),s.Ay.createElement(m.A,{className:y.A.folder,isActive:!0,badgeCount:b,isBadgeActive:!0,title:C}),s.Ay.createElement(m.A,{className:y.A.folder,title:n("FolderLinkPreviewRight")})))),f());var C},g=(0,s.ph)((0,o.EK)((e,{modal:t})=>{const{invite:a,removal:n}=t||{},s=n?.folderId||(a&&"folderId"in a?a.folderId:void 0);return{folder:s?(0,r.$aQ)(e,s):void 0}})(v));n()}catch(e){n(e)}})},54561:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.d(t,{A:()=>C});var s=a(84051),o=a(13439),r=a(90709),i=a(60919),l=a(87894),c=a(79824),d=a(4961),m=a(17712),u=a(59030),A=a(67693),h=a(54746),y=a(54960),p=a(64493),v=a(8410),g=a(84640),E=a(99113),b=e([u,A,y,p,v,g]);[u,A,y,p,v,g]=b.then?(await b)():b;const f=({modal:e,chat:t})=>{const{sendInviteMessages:a,closeInviteViaLinkModal:n,openPremiumModal:i}=(0,o.ko)(),{missingUsers:b}=e||{},f=(0,u.A)(),[C,S]=(0,s.J0)([]),w=(0,s.Kr)(()=>b?.map(e=>e.id)||c.p,[b]),[k,N]=(0,s.Kr)(()=>{if(!b?.length)return[[],[]];const[e,t]=(0,l.jB)(b,e=>e.isRequiringPremiumToMessage);return[e.map(e=>e.id),t.map(e=>e.id)]},[b]),I=(0,s.Kr)(()=>b?.filter(e=>e.isRequiringPremiumToInvite||e.isRequiringPremiumToMessage).map(e=>e.id),[b]),P=(0,s.Kr)(()=>{if(b)return!b.some(e=>e.isRequiringPremiumToInvite&&!e.isRequiringPremiumToMessage)},[b]),M=(0,s.Kr)(()=>{const e=(0,o.mS)().users.byId;return I?.map(t=>e[t])},[I]);(0,s.vJ)(()=>{S(N)},[N]);const T=(0,m.A)(()=>n()),B=(0,s.hb)(()=>{a({chatId:t.id,userIds:C}),n()},[C,t]),x=(0,s.hb)(()=>{i()},[]),L=(0,s.Kr)(()=>{if(t)return Boolean(t?.isCreator||t?.adminRights?.inviteUsers)},[t]),R=(0,s.Kr)(()=>L?f(1===b?.length?"InviteBlockedOneMessage":"InviteBlockedManyMessage"):f("InviteRestrictedUsers2",b?.length),[L,f,b?.length]),F=(0,s.Kr)(()=>{if(!I?.length||!M?.length)return;const e=P?"InviteMessagePremiumBlocked":"InvitePremiumBlocked";let t=`${e}One`,a=[(0,r.Yg)(M[0])];return 2===I.length?(t=`${e}Two`,a=[(0,r.Yg)(M[0]),(0,r.Yg)(M[1])]):3===I.length?(t=`${e}Three`,a=[(0,r.Yg)(M[0]),(0,r.Yg)(M[1]),(0,r.Yg)(M[2])]):I.length>3&&(t=`${e}Many`,a=[(0,r.Yg)(M[0]),(0,r.Yg)(M[1]),(I.length-2).toString()]),f(t,a,void 0,M.length)},[I,P,f,M]),D=Boolean(M?.length),V=Boolean(N?.length);return s.Ay.createElement(v.A,{isOpen:Boolean(w&&t),contentClassName:E.A.content,onClose:T,isSlim:!0},s.Ay.createElement(p.A,{round:!0,color:"translucent",size:"smaller",className:E.A.closeButton,ariaLabel:f("Close"),onClick:T},s.Ay.createElement(h.A,{name:"close"})),F&&s.Ay.createElement(s.Ay.Fragment,null,s.Ay.createElement(A.A,{className:E.A.avatarList,peers:M,size:"large"}),s.Ay.createElement("h3",{className:E.A.title},f(L?"InvitePremiumBlockedTitle":"ChannelInviteViaLinkRestricted")),s.Ay.createElement("p",{className:E.A.contentText},(0,d.A)(F,["simple_markdown"])),s.Ay.createElement(p.A,{withPremiumGradient:!0,isShiny:!0,size:"smaller",onClick:x},f("InvitePremiumBlockedSubscribe"))),D&&V&&s.Ay.createElement(g.A,{className:E.A.separator},f("InvitePremiumBlockedOr")),V&&s.Ay.createElement(s.Ay.Fragment,null,s.Ay.createElement("h3",{className:E.A.title},f("InviteBlockedTitle")),s.Ay.createElement("p",{className:E.A.contentText},R),s.Ay.createElement(y.A,{className:E.A.userPicker,itemIds:w,selectedIds:C,lockedUnselectedIds:k,lockedUnselectedSubtitle:f("InvitePremiumBlockedUser"),onSelectedIdsChange:S,isViewOnly:!L,allowMultiple:!0,withStatus:!0,itemInputType:"checkbox"}),L&&s.Ay.createElement(p.A,{className:E.A.sendInvites,size:"smaller",onClick:B,disabled:!C.length},f("SendInviteLink.ActionInvite"))))},C=(0,s.ph)((0,o.EK)((e,{modal:t})=>({chat:t?.chatId?(0,i.hds)(e,t.chatId):void 0}))(f));n()}catch(e){n(e)}})},54639:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.d(t,{A:()=>h});var s=a(84051),o=a(90709),r=a(87357),i=a(14242),l=a(4961),c=a(54464),d=a(62587),m=a(22720),u=e([d,m]);[d,m]=u.then?(await u)():u;const A=({title:e,description:t,thumbnail:a,thumbUrl:n,focus:u,transitionClassNames:A="",onClick:h})=>{let y;const p=(0,d.A)(a?(0,o.cy)(a):void 0);return(n=n||p)?y=s.Ay.createElement("img",{src:n,className:A,alt:"",decoding:"async",draggable:!1}):e&&(y=(0,i.Qh)(e,1)),s.Ay.createElement(m.A,{focus:u,className:(0,r.A)("BaseResult chat-item-clickable","string"==typeof y&&"with-text"),onMouseDown:c.u,onClick:h},s.Ay.createElement("span",{className:"thumb"},"string"==typeof y?(0,l.A)(y):y),s.Ay.createElement("div",{className:"content-inner"},e&&s.Ay.createElement("div",{className:"title"},e),t&&s.Ay.createElement("div",{className:"description"},t)))},h=(0,s.ph)(A);n()}catch(e){n(e)}})},54882:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.d(t,{A:()=>y});var s=a(84051),o=a(13439),r=a(96454),i=a(43874),l=a(17712),c=a(36680),d=a(71429),m=a(5812),u=e([m]),A=u.then?(await u)():u;m=A[0];const h=({isOpen:e,botCommands:t,onClose:a})=>{const{sendBotCommand:n}=(0,o.ko)(),{isMobile:u}=(0,i.Ay)(),[A,h]=(0,c.A)(e,a,void 0,u),y=(0,l.A)(e=>{n({command:`/${e}`}),a()});return s.Ay.createElement(d.A,{isOpen:e,positionX:"left",positionY:"bottom",onClose:a,className:"BotCommandMenu",onCloseAnimationEnd:a,onMouseEnter:r.TF?void 0:A,onMouseLeave:r.TF?void 0:h,noCloseOnBackdrop:!r.TF,noCompact:!0},t.map(e=>s.Ay.createElement(m.A,{key:e.command,command:e.command,description:e.description,clickArg:e.command,onClick:y})))},y=(0,s.ph)(h);n()}catch(e){n(e)}})},54885:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.d(t,{A:()=>w});var s=a(84051),o=a(13439),r=a(85982),i=a(17663),l=a(17142),c=a(64713),d=a(58443),m=a(24899),u=a(4961),A=a(17712),h=a(59030),y=a(64489),p=a(54746),v=a(99952),g=a(64493),E=a(8410),b=a(73677),f=e([h,v,g,E]);[h,v,g,E]=f.then?(await f)():f;const C=60,S=({modal:e,phoneCodeList:t})=>{const{closeCollectibleInfoModal:a,openChat:n,openUrl:f,showNotification:S}=(0,o.ko)(),w=(0,h.A)(),k="username"===e?.type,N=(0,A.A)(()=>{a()}),I=(0,A.A)(()=>{n({id:e.peerId}),N()}),P=(0,A.A)(()=>{f({url:e.url,shouldSkipModal:!0}),N()}),M=(0,A.A)(()=>{const a=k?(0,m.A)(e.collectible):(0,c.Ox)(t,e.collectible);(0,r.eM)(a),S({message:w(k?"UsernameCopied":"PhoneCopied")}),N()}),T=(0,s.Kr)(()=>{if(!e)return;const a=k?"FragmentUsernameTitle":"FragmentPhoneTitle",n=k?(0,m.A)(e.collectible):(0,c.Ox)(t,e.collectible);return w(a,n)},[e,k,t,w]),B=(0,s.Kr)(()=>{if(!e)return;const t=k?"FragmentUsernameMessage":"FragmentPhoneMessage",a=(0,i.U)(w,1e3*e.purchaseDate),n=(0,l.Ad)(e.amount,e.currency,w.code),s=(0,l.Ad)(e.cryptoAmount,e.cryptoCurrency,w.code);return w(t,[a,`${s} (${n})`])},[e,k,w]);return s.Ay.createElement(E.A,{isOpen:Boolean(e),isSlim:!0,contentClassName:b.A.content,onClose:a},s.Ay.createElement(g.A,{round:!0,color:"translucent",size:"smaller",className:b.A.closeButton,ariaLabel:w("Close"),onClick:N},s.Ay.createElement(p.A,{name:"close"})),s.Ay.createElement("div",{className:b.A.icon},s.Ay.createElement(y.A,{tgsUrl:k?d.w.Mention:d.w.Fragment,size:C})),s.Ay.createElement("h3",{className:b.A.title},T&&(0,u.A)(T,["simple_markdown"])),s.Ay.createElement(v.A,{className:b.A.chip,peerId:e?.peerId,forceShowSelf:!0,clickArg:e?.peerId,onClick:I}),s.Ay.createElement("p",{className:b.A.description},B&&(0,u.A)(B,["simple_markdown"])),s.Ay.createElement("div",{className:"dialog-buttons dialog-buttons-centered"},s.Ay.createElement(g.A,{className:"confirm-dialog-button",onClick:P},w("FragmentUsernameOpen")),s.Ay.createElement(g.A,{isText:!0,className:"confirm-dialog-button",onClick:M},w(k?"FragmentUsernameCopy":"FragmentPhoneCopy"))))},w=(0,s.ph)((0,o.EK)(e=>{const{countryList:t}=e;return{phoneCodeList:t.phoneCodes}})(S));n()}catch(e){n(e)}})},54936:(e,t,a)=>{function n(e,t,a=!1){const n=e[a?"scrollLeft":"scrollTop"],s=n+e[a?"offsetWidth":"offsetHeight"],o=t[a?"offsetLeft":"offsetTop"],r=o+t[a?"offsetWidth":"offsetHeight"];return o>n&&r<s}a.d(t,{A:()=>n})},55255:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.d(t,{A:()=>f});var s=a(84051),o=a(13439),r=a(89925),i=a(60919),l=a(30708),c=a(96454),d=a(6e4),m=a(37661),u=a(26072),A=a(17712),h=a(59030),y=a(22109),p=a(19806),v=a(22720),g=a(52745),E=e([d,h,y,p,v]);[d,h,y,p,v]=E.then?(await E)():E;const b=({isActive:e,isCurrentUserPremium:t,languages:a,language:n,canTranslate:i,canTranslateChats:l,doNotTranslate:E,onReset:b})=>{const{loadLanguages:f,setSettingOption:C,setSharedSettingOption:S,openPremiumModal:w,openSettingsScreen:k}=(0,o.ko)(),[N,I]=(0,s.J0)(n),[P,M,T]=(0,m.A)(),B=t&&l,x=(0,h.A)();(0,s.vJ)(()=>{a?.length||f()},[a]);const L=(0,A.A)(e=>{I(e),M(),(0,d.wT)(e,()=>{T(),S({language:e})})}),R=(0,s.Kr)(()=>{if(!a)return;const e=(window.navigator.language||"en").toLowerCase(),t=e.substr(0,2);return a.map(({langCode:e,nativeName:t,name:a})=>({value:e,label:t,subLabel:a,isLoading:e===N&&P})).sort(a=>!e||a.value!==e&&a.value!==t?0:-1)},[P,a,N]),F=(0,A.A)(e=>{C({canTranslate:e})}),D=(0,A.A)(e=>{C({canTranslateChats:e})}),V=(0,A.A)(()=>{t||w({initialSection:"translations"})}),_=(0,s.Kr)(()=>{if(c.CM&&E.length)return 1===E.length?new Intl.DisplayNames([n],{type:"language"}).of(E[0]):x("Languages",E.length)},[E,x,n]),U=(0,A.A)(()=>{k({screen:r.VS.DoNotTranslate})});return(0,u.A)({isActive:e,onBack:b}),s.Ay.createElement("div",{className:"settings-content settings-language custom-scroll"},c.CM&&s.Ay.createElement("div",{className:"settings-item"},s.Ay.createElement(p.A,{label:x("ShowTranslateButton"),checked:i,onCheck:F}),s.Ay.createElement(p.A,{label:x("ShowTranslateChatButton"),checked:B,disabled:!t,rightIcon:t?void 0:"lock",onClickLabel:V,onCheck:D}),(i||B)&&s.Ay.createElement(v.A,{narrow:!0,onClick:U},x("DoNotTranslate"),s.Ay.createElement("span",{className:"settings-item__current-value"},_)),s.Ay.createElement("p",{className:"settings-item-description mb-0 mt-1"},x("lng_translate_settings_about"))),s.Ay.createElement("div",{className:"settings-item settings-item-picker"},s.Ay.createElement("h4",{className:"settings-item-header"},x("Localization.InterfaceLanguage")),R?s.Ay.createElement(y.A,{items:R,selectedValue:N,forceRenderAllItems:!0,onSelectedValueChange:L,itemInputType:"radio",className:"settings-picker"}):s.Ay.createElement(g.A,null)))},f=(0,s.ph)((0,o.EK)(e=>{const{canTranslate:t,canTranslateChats:a,doNotTranslate:n}=e.settings.byKey,{language:s,languages:o}=(0,l.l)(e);return{isCurrentUserPremium:(0,i.g29)(e),languages:o,language:s,canTranslate:t,canTranslateChats:a,doNotTranslate:n}})(b));n()}catch(e){n(e)}})},55350:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.d(t,{A:()=>h});var s=a(84051),o=a(13439),r=a(31481),i=a(87894),l=a(26072),c=a(39351),d=a(19806),m=a(82497),u=e([c,d,m]);[c,d,m]=u.then?(await u)():u;const A=({isActive:e,onReset:t,canAutoLoadPhotoFromContacts:a,canAutoLoadPhotoInPrivateChats:n,canAutoLoadPhotoInGroups:i,canAutoLoadPhotoInChannels:u,canAutoLoadVideoFromContacts:A,canAutoLoadVideoInPrivateChats:h,canAutoLoadVideoInGroups:y,canAutoLoadVideoInChannels:p,canAutoLoadFileFromContacts:v,canAutoLoadFileInPrivateChats:g,canAutoLoadFileInGroups:E,canAutoLoadFileInChannels:b,autoLoadFileMaxSizeMb:f})=>{const{setSettingOption:C}=(0,o.ko)(),S=(0,c.A)();(0,l.A)({isActive:e,onBack:t});const w=(0,s.hb)(e=>S("AutodownloadSizeLimitUpTo",{limit:S("FileSizeMB",{count:r.$gx[e]})}),[S]),k=(0,s.hb)(e=>{C({autoLoadFileMaxSizeMb:r.$gx[e]})},[C]);function N(e,t,a,n,o,i){return s.Ay.createElement("div",{className:"settings-item"},s.Ay.createElement("h4",{className:"settings-item-header",dir:S.isRtl?"rtl":void 0},e),s.Ay.createElement(d.A,{label:S("AutoDownloadSettingsContacts"),checked:a,onCheck:e=>C({[`canAutoLoad${t}FromContacts`]:e})}),s.Ay.createElement(d.A,{label:S("AutoDownloadSettingsPrivateChats"),checked:n,onCheck:e=>C({[`canAutoLoad${t}InPrivateChats`]:e})}),s.Ay.createElement(d.A,{label:S("AutoDownloadSettingsGroupChats"),checked:o,onCheck:e=>C({[`canAutoLoad${t}InGroups`]:e})}),s.Ay.createElement(d.A,{label:S("AutoDownloadSettingsChannels"),checked:i,onCheck:e=>C({[`canAutoLoad${t}InChannels`]:e})}),"File"===t&&function(){const e=r.$gx.indexOf(f);return s.Ay.createElement("div",{className:"pt-5"},s.Ay.createElement(m.A,{label:S("AutoDownloadMaxFileSize"),min:0,max:5,value:-1!==e?e:2,renderValue:w,onChange:k}))}())}return s.Ay.createElement("div",{className:"settings-content custom-scroll"},N(S("AutoDownloadPhotosTitle"),"Photo",a,n,i,u),N(S("AutoDownloadVideosTitle"),"Video",A,h,y,p),N(S("AutoDownloadFilesTitle"),"File",v,g,E,b))},h=(0,s.ph)((0,o.EK)(e=>(0,i.Up)(e.settings.byKey,["canAutoLoadPhotoFromContacts","canAutoLoadPhotoInPrivateChats","canAutoLoadPhotoInGroups","canAutoLoadPhotoInChannels","canAutoLoadVideoFromContacts","canAutoLoadVideoInPrivateChats","canAutoLoadVideoInGroups","canAutoLoadVideoInChannels","canAutoLoadFileFromContacts","canAutoLoadFileInPrivateChats","canAutoLoadFileInGroups","canAutoLoadFileInChannels","autoLoadFileMaxSizeMb"]))(A));n()}catch(e){n(e)}})},55418:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.d(t,{A:()=>p});var s=a(84051),o=a(13439),r=a(87357),i=a(52234),l=a(17712),c=a(73767),d=a(50680),m=a(56676),u=a(17751),A=a(22720),h=e([u,A]);[u,A]=h.then?(await h)():h;const y=({isOpen:e,onClose:t,onInsertUserName:a,filteredUsers:n})=>{const h=(0,s.li)(),{shouldRender:y,transitionClassNames:p}=(0,d.A)(e,void 0,void 0,!1),v=(0,l.A)((e,t=!1)=>{const n=(0,o.mS)().users.byId[e];n&&a(n,t)}),g=(0,l.A)((e,t)=>{e.preventDefault(),v(t)}),E=(0,l.A)(e=>{v(e.id,!0)}),b=(0,m.J)({isActive:e,items:n,onSelect:E,shouldSelectOnTab:!0,shouldSaveSelectionOnUpdateItems:!0,onClose:t});(0,s.vJ)(()=>{(0,i.A)(".chat-item-clickable",b,h)},[b]),(0,s.vJ)(()=>{n&&!n.length&&t()},[n,t]);const f=(0,c.A)(n?.length?n:void 0,y),C=n&&!n.length?f:n;if(!y||C&&!C.length)return;const S=(0,r.A)("MentionTooltip composer-tooltip custom-scroll",p);return s.Ay.createElement("div",{className:S,ref:h},C?.map(({id:e},t)=>s.Ay.createElement(A.A,{key:e,className:"chat-item-clickable scroll-item smaller-icon",onClick:g,clickArg:e,focus:b===t},s.Ay.createElement(u.A,{userId:e,avatarSize:"small",withUsername:!0}))))},p=(0,s.ph)(y);n()}catch(e){n(e)}})},55525:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.d(t,{A:()=>C});var s=a(84051),o=a(13439),r=a(31481),i=a(70636),l=a(60919),c=a(17663),d=a(17142),m=a(48775),u=a(4961),A=a(37661),h=a(39351),y=a(17712),p=a(59030),v=a(63441),g=a(94189),E=a(94789),b=e([i,h,p,v,g]);[i,h,p,v,g]=b.then?(await b)():b;const f=({modal:e,message:t,sender:a,isAdmin:n,commissionPermille:l,tonCommissionPermille:b,minAge:f,futureMin:C,futureMax:S,scheduleDate:w})=>{const{closeSuggestedPostApprovalModal:k,approveSuggestedPost:N}=(0,o.ko)(),I=(0,h.A)(),P=(0,p.A)(),[M,T,B]=(0,A.A)(),x=Math.floor(Date.now()/1e3),L=1e3*(x+C),R=1e3*(x+S),F=x+2*C,[D,V]=(0,s.J0)(F),_=(0,y.A)(()=>{k()}),U=(0,y.A)(t=>{e&&(N({chatId:e.chatId,messageId:e.messageId,scheduleDate:t}),k())}),O=(0,y.A)(e=>{const t=Math.floor(e.getTime()/1e3);V(t)}),J=(0,y.A)(e=>{const t=Math.floor(e.getTime()/1e3);B(),U(t)}),K=(0,y.A)(()=>{B(),U()}),G=(0,y.A)(()=>{w?U(w):T()});if(!e||!t)return;const j=a?(0,i.em)(P,a):"";return s.Ay.createElement(s.Ay.Fragment,null,s.Ay.createElement(g.A,{isOpen:Boolean(e)&&!M,onClose:_,title:I("SuggestedPostConfirmTitle"),confirmHandler:G,confirmLabel:I(w?"ButtonPublish":"Next")},(()=>{const e=t?.suggestedPostInfo?.price,a=e?.amount,o=e?.currency||r.OUy,i=I("SuggestedPostConfirmMessage",{peer:j},{withNodes:!0,withMarkdown:!0}),A=(0,u.A)(i);if(!a)return A;const h=(o===r.ykW?b:l)/10,y=a/100*h,p=o===r.ykW?(0,m.QH)(I,(0,d.wD)(y)):(0,m.Kk)(I,y),v=f,g=(0,c.A$)(I,v,!0);if(w){const e=(0,c.e0)(w,I,P),t=n?"SuggestedPostConfirmDetailsWithTimeAdmin":"SuggestedPostConfirmDetailsWithTimeUser";return s.Ay.createElement(s.Ay.Fragment,null,s.Ay.createElement("div",null,A),s.Ay.createElement("div",{className:E.A.details},(0,u.A)(I(t,{amount:p,commission:h,duration:g,time:e},{withNodes:!0,withMarkdown:!0}))))}const C=n?"SuggestedPostConfirmDetailsAdmin":"SuggestedPostConfirmDetailsUser";return s.Ay.createElement(s.Ay.Fragment,null,s.Ay.createElement("div",null,A),s.Ay.createElement("div",{className:E.A.details},(0,u.A)(I(C,{amount:p,commission:h,duration:g},{withNodes:!0,withMarkdown:!0}))))})()),s.Ay.createElement(v.A,{isOpen:M,isFutureMode:!0,withTimePicker:!0,minAt:L,maxAt:R,onClose:B,onSubmit:J,onDateChange:O,selectedAt:1e3*D,submitButtonLabel:I("ButtonPublishAtTime",{time:(0,c.e0)(D,I,P)}),secondButtonLabel:I("PublishNow"),onSecondButtonClick:K,description:I("SuggestMessageDateTimeHint")}))},C=(0,s.ph)((0,o.EK)((e,{modal:t})=>{const a=t&&(0,l.O5q)(e,t.chatId,t.messageId),n=a?(0,l.Y7C)(e,a):void 0,s=t&&(0,l.ODG)(e,t.chatId),{appConfig:o}=e,i=o?.starsSuggestedPostCommissionPermille||r.U$s,c=o?.tonSuggestedPostCommissionPermille||r.UdF,d=o?.starsSuggestedPostAgeMin||r.Qep,m=2*(o?.starsSuggestedPostFutureMin||r.WHU),u=o?.starsSuggestedPostFutureMax||r.cX7,A=a?.suggestedPostInfo?.scheduleDate;return{minAge:d,futureMin:m,futureMax:u,message:a,sender:n,isAdmin:s,commissionPermille:i,tonCommissionPermille:c,scheduleDate:A}})(f));n()}catch(e){n(e)}})},55571:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.d(t,{A:()=>P});var s=a(84051),o=a(96454),r=a(87357),i=a(17663),l=a(14242),c=a(43874),d=a(32899),m=a(19129),u=a(37661),A=a(17712),h=a(59030),y=a(37487),p=a(54746),v=a(64493),g=a(71429),E=a(24433),b=a(82497),f=a(5349),C=e([h,v,E,b,f]);[h,v,E,b,f]=C.then?(await C)():C;const S=e=>{e.stopPropagation()},w=[.5,1,1.5,2],k=3e3,N=({url:e,bufferedRanges:t,bufferedProgress:a,duration:n,isReady:i,fileSize:C,isForceMobileVersion:N,isPlaying:P,isFullscreenSupported:M,isFullscreen:T,isBuffered:B,isPreviewDisabled:x,volume:L,isMuted:R,playbackRate:F,posterSize:D,onChangeFullscreen:V,onVolumeClick:_,onVolumeChange:U,onPlaybackRateChange:O,isPictureInPictureSupported:J,onPictureInPictureChange:K,onPlayPause:G,onSeek:j,onSeekingChange:z})=>{const[H,$,q]=(0,u.A)(),[W]=(0,d.Ay)(),Y=(0,m.A)(()=>Math.trunc(W()),[W]),[Q,Z]=(0,s.Ul)(!1),X=(0,s.li)(),{isMobile:ee}=(0,c.Ay)(),[te,ae]=(0,y.A)(),ne=(0,m.A)(te);(0,s.vJ)(()=>{if(o.TF||N){if(ne&&P&&!H&&!Q())return X.current=window.setTimeout(()=>{ae(!1)},k),()=>{X.current&&window.clearTimeout(X.current)};X.current&&window.clearTimeout(X.current)}},[P,ne,ae,H,Q,N]),(0,s.Nf)(()=>(ne?document.body.classList.add("video-controls-visible"):document.body.classList.remove("video-controls-visible"),()=>{document.body.classList.remove("video-controls-visible")}),[ne]),(0,s.vJ)(()=>{ne||q()},[q,ne]);const se=(0,h.A)(),oe=(0,A.A)(e=>{Z(!1),j(e),z(!1)}),re=(0,A.A)(()=>{Z(!0),z(!0)}),ie=(0,s.Kr)(()=>0===L||R?"muted":L<.3?"volume-1":L<.6?"volume-2":"volume-3",[L,R]);return s.Ay.createElement("div",{className:(0,r.A)("VideoPlayerControls",N&&"mobile",ne&&"active"),onClick:S},s.Ay.createElement(f.A,{url:e,duration:n,isReady:i,isPlaying:P,isPreviewDisabled:x,posterSize:D,bufferedRanges:t,playbackRate:F,onSeek:oe,onSeekStart:re,isActive:ne}),s.Ay.createElement("div",{className:"buttons"},s.Ay.createElement(v.A,{ariaLabel:se("AccActionPlay"),size:"tiny",ripple:!ee,color:"translucent-white",className:"play",round:!0,onClick:G},s.Ay.createElement(p.A,{name:P?"pause":"play"})),s.Ay.createElement(v.A,{ariaLabel:"Volume",size:"tiny",color:"translucent-white",className:"volume",round:!0,onClick:_},s.Ay.createElement(p.A,{name:ie})),!o.pz&&s.Ay.createElement(b.A,{bold:!0,className:"volume-slider",value:R?0:100*L,onChange:U}),I(Y,n),!B&&s.Ay.createElement("div",{className:"player-file-size"},`${(0,l.v7)(se,C*a)} / ${(0,l.v7)(se,C)}`),s.Ay.createElement("div",{className:"spacer"}),s.Ay.createElement(v.A,{ariaLabel:"Playback rate",size:"tiny",color:"translucent-white",className:"playback-rate",round:!0,onClick:$},`${F}x`),J&&s.Ay.createElement(v.A,{ariaLabel:"Picture in picture",size:"tiny",color:"translucent-white",className:"fullscreen",round:!0,onClick:K},s.Ay.createElement(p.A,{name:"pip"})),M&&s.Ay.createElement(v.A,{ariaLabel:"Fullscreen",size:"tiny",color:"translucent-white",className:"fullscreen",round:!0,onClick:V},s.Ay.createElement(p.A,{name:T?"smallscreen":"fullscreen"}))),s.Ay.createElement(g.A,{isOpen:H,className:(0,r.A)("playback-rate-menu",!M&&"no-fullscreen",!J&&"no-pip"),positionX:"right",positionY:"bottom",autoClose:!0,onClose:q},w.map(e=>s.Ay.createElement(E.A,{disabled:F===e,onClick:()=>O(e)},`${e}x`))))};function I(e,t){return s.Ay.createElement("div",{className:"player-time"},`${(0,i.QO)(e)} / ${(0,i.QO)(t)}`)}const P=(0,s.ph)(N);n()}catch(M){n(M)}})},55766:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.d(t,{A:()=>x});var s=a(84051),o=a(13439),r=a(31481),i=a(60919),l=a(56494),c=a(63495),d=a(96454),m=a(87357),u=a(83868),A=a(76023),h=a(49086),y=a(21576),p=a(43874),v=a(32899),g=a(17712),E=a(59030),b=a(5718),f=a(672),C=a(37487),S=a(56903),w=a(57474),k=a(49828),N=a(63365),I=e([h,E,S,k,N]);[h,E,S,k,N]=I.then?(await I)():I;const P=350,M=350,T=1e3,B=({item:e,viewableMedia:t,isActive:a,textMessage:n,origin:i,withAnimation:l,isProtected:u,volume:y,playbackRate:w,isMuted:I,isHidden:M,isMoving:B,threadId:x,timestamp:D,maxTimestamp:V,onClose:_,onFooterClick:U,handleSponsoredClick:O})=>{const{updateLastPlaybackTimestamp:J}=(0,o.ko)(),K=(0,E.A)(),G="avatar"===e.type,j="sponsoredMessage"===e.type,{media:z}=t||{},{isVideo:H,isPhoto:$,bestImageData:q,bestData:W,dimensions:Y,isGif:Q,isLocal:Z,isVideoAvatar:X,mediaSize:ee,loadProgress:te}=(0,S.O)({media:z,isAvatar:G,origin:i,delay:!!l&&P}),[,ae]=(0,C.A)(),[ne]=(0,v.Ay)(),se=Boolean(z),{isMobile:oe}=(0,p.Ay)(),re=(0,g.A)(()=>{ae(!0)}),ie=(0,f.A)(()=>{if(!a||!n||"video"!==z?.mediaType)return;if(z.duration<r.u4b)return;const e="id"in n?n:void 0,t=ne();if(!t||!e||e.isInAlbum)return;const s=z.duration-t>T/1e3?t:void 0;J({chatId:e.chatId,messageId:e.id,timestamp:s})},[ne,a,z,n],T);if((0,b.R)(ie,[ne]),!z)return;if("avatar"===e.type)return X?s.Ay.createElement("div",{key:z.id,className:"MediaViewerContent"},s.Ay.createElement(N.A,{key:z.id,url:W,isGif:!0,posterData:q,posterSize:(0,A.sk)(Y,!1,!0),loadProgress:te,fileSize:ee,isMediaViewerOpen:se&&a,isProtected:u,isPreviewDisabled:!c.G9||Z,noPlay:!a,onClose:_,isMuted:!0,shouldCloseOnClick:!0,volume:0,isClickDisabled:B,playbackRate:1,isSponsoredMessage:j,handleSponsoredClick:O})):s.Ay.createElement("div",{key:z.id,className:"MediaViewerContent"},L(W,(0,A.sk)(Y,!1),!oe&&!u,u));const le=n&&(n.content.action?"suggestProfilePhoto"===n.content.action.type?K("Conversation.SuggestedPhotoTitle"):void 0:(0,h.V)({message:n,maxTimestamp:V,threadId:x,forcePlayback:!0,isForMediaViewer:!0})),ce=n&&"buttonText"in n?n.buttonText:void 0,de=Boolean(le),me=(0,A.sk)(Y,de,H),ue=oe||F(me);return s.Ay.createElement("div",{className:(0,m.A)("MediaViewerContent",de&&"has-footer"),onMouseMove:ue&&!d.TF?re:void 0},$&&L(W,me,!oe&&!u,u),H&&(a?s.Ay.createElement(N.A,{key:z.id,url:W,isGif:Q,posterData:q,posterSize:me,loadProgress:te,fileSize:ee,isMediaViewerOpen:se&&a,noPlay:!a,isPreviewDisabled:!c.G9||Z,onClose:_,isMuted:I,isHidden:M,isForceMobileVersion:ue,isProtected:u,volume:y,isClickDisabled:B,playbackRate:w,isSponsoredMessage:j,handleSponsoredClick:O,timestamp:D}):R(q,me,!oe&&!u,u)),le&&s.Ay.createElement(k.A,{text:le,buttonText:ce,onClick:U,isProtected:u,isForceMobileVersion:ue,isForVideo:H&&!Q,handleSponsoredClick:O}))},x=(0,s.ph)((0,o.EK)((e,{item:t})=>{const{volume:a,isMuted:n,playbackRate:s,isHidden:o,origin:r,timestamp:c,threadId:d}=(0,i.nTw)(e).mediaViewer,m="message"===t.type?t.message:void 0,u="sponsoredMessage"===t.type?t.message:void 0,A=m||u,h=(0,y.A)(e,t),p=m&&(0,l.me)(e,m,!0);return{origin:r,textMessage:A,isProtected:m&&(0,i.ynf)(e,m),volume:a,isMuted:n,isHidden:o,playbackRate:s,threadId:d,timestamp:c,maxTimestamp:p,viewableMedia:h}})(B));function L(e,t,a,n){return e?s.Ay.createElement("div",{style:"position: relative;"},n&&s.Ay.createElement("div",{onContextMenu:u.A,className:"protector"}),s.Ay.createElement("img",{src:e,alt:"",className:(0,m.A)(n&&"is-protected"),style:t?`width: ${t.width}px`:"",draggable:Boolean(a)})):s.Ay.createElement("div",{className:"spinner-wrapper",style:t?`width: ${t.width}px`:""},s.Ay.createElement(w.A,{color:"white"}))}function R(e,t,a,n){const o=t&&`width: ${t.width}px; height: ${t.height}px`,r=`background-image: url(${e})`;return e?s.Ay.createElement("div",{className:"VideoPlayer"},n&&s.Ay.createElement("div",{onContextMenu:u.A,className:"protector"}),s.Ay.createElement("div",{style:o},s.Ay.createElement("video",{style:r,className:(0,m.A)(n&&"is-protected"),draggable:Boolean(a)}))):s.Ay.createElement("div",{className:"spinner-wrapper",style:t?`width: ${t.width}px`:""},s.Ay.createElement(w.A,{color:"white"}))}function F(e){return!!e&&e.width<M}n()}catch(D){n(D)}})},55987:(e,t,a)=>{e.exports=a.p+"PremiumVoice.b3a2893dbe481108ab94.svg"},55990:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.d(t,{A:()=>M});var s=a(84051),o=a(13439),r=a(89925),i=a(60919),l=a(27367),c=a(79197),d=a(354),m=a(88030),u=a(33092),A=a(63270),h=a(43509),y=a(24713),p=a(49944),v=a(49709),g=a(23066),E=a(12178),b=a(80817),f=a(75017),C=a(31118),S=a(87720),w=a(94244),k=a(65375),N=a(31120),I=e([l,c,d,m,u,A,h,y,p,v,g,E,b,f,C,S,w,k,N]);[l,c,d,m,u,A,h,y,p,v,g,E,b,f,C,S,w,k,N]=I.then?(await I)():I;const P=({chatId:e,currentScreen:t,selectedChatMemberId:a,isPromotedByCurrentUser:n,onScreenSelect:o,onChatMemberSelect:i,onClose:I,isActive:P,managementType:M})=>{switch(t){case r.je.Initial:switch(M){case"bot":return s.Ay.createElement(l.A,{key:e,userId:e,onClose:I,isActive:P});case"user":return s.Ay.createElement(k.A,{key:e,userId:e,onClose:I,isActive:P});case"group":return s.Ay.createElement(h.A,{key:e,chatId:e,onScreenSelect:o,onClose:I,isActive:P||[r.je.ChatPrivacyType,r.je.Discussion,r.je.GroupPermissions,r.je.ChatAdministrators,r.je.GroupRemovedUsers,r.je.GroupUserPermissionsCreate,r.je.GroupUserPermissions,r.je.ChatAdminRights,r.je.ChatNewAdminRights,r.je.GroupRecentActions].includes(t)});case"channel":return s.Ay.createElement(c.A,{key:e,chatId:e,onScreenSelect:o,onClose:I,isActive:P||[r.je.ChannelSubscribers,r.je.ChatAdministrators,r.je.ChannelRemovedUsers,r.je.Discussion,r.je.ChatPrivacyType,r.je.ChatAdminRights,r.je.ChatNewAdminRights,r.je.GroupRecentActions].includes(t)})}break;case r.je.ChatPrivacyType:return s.Ay.createElement(m.A,{chatId:e,isActive:P,onClose:I});case r.je.Discussion:return s.Ay.createElement(A.A,{chatId:e,onScreenSelect:o,isActive:P,onClose:I});case r.je.GroupPermissions:return s.Ay.createElement(v.A,{chatId:e,onScreenSelect:o,onChatMemberSelect:i,isActive:P||[r.je.GroupRemovedUsers,r.je.GroupUserPermissionsCreate,r.je.GroupUserPermissions].includes(t),onClose:I});case r.je.ChannelRemovedUsers:case r.je.GroupRemovedUsers:return s.Ay.createElement(u.A,{chatId:e,isActive:P,onClose:I});case r.je.GroupUserPermissionsCreate:return s.Ay.createElement(E.A,{chatId:e,onChatMemberSelect:i,onScreenSelect:o,isActive:P||[r.je.GroupUserPermissions].includes(t),onClose:I});case r.je.GroupUserPermissions:return s.Ay.createElement(g.A,{chatId:e,selectedChatMemberId:a,isPromotedByCurrentUser:n,onScreenSelect:o,isActive:P,onClose:I});case r.je.ChatAdministrators:return s.Ay.createElement(d.A,{chatId:e,onScreenSelect:o,onChatMemberSelect:i,isActive:P||[r.je.ChatAdminRights,r.je.ChatNewAdminRights,r.je.GroupRecentActions].includes(t),onClose:I});case r.je.NewDiscussionGroup:return s.Ay.createElement(N.A,{chatId:e,onScreenSelect:o,isActive:P,onClose:I});case r.je.ChatNewAdminRights:case r.je.ChatAdminRights:return s.Ay.createElement(y.A,{chatId:e,isNewAdmin:t===r.je.ChatNewAdminRights,selectedUserId:a,isPromotedByCurrentUser:n,onScreenSelect:o,isActive:P,onClose:I});case r.je.ChannelSubscribers:case r.je.GroupMembers:return s.Ay.createElement(p.A,{chatId:e,isActive:P,onClose:I});case r.je.Invites:return s.Ay.createElement(C.A,{chatId:e,isActive:P,onClose:I,onScreenSelect:o});case r.je.EditInvite:return s.Ay.createElement(b.A,{chatId:e,isActive:P,onClose:I,onScreenSelect:o});case r.je.GroupAddAdmins:return s.Ay.createElement(p.A,{chatId:e,noAdmins:!0,isActive:P,onClose:I,onScreenSelect:o,onChatMemberSelect:i});case r.je.Reactions:return s.Ay.createElement(w.A,{chatId:e,isActive:P,onClose:I});case r.je.InviteInfo:return s.Ay.createElement(f.A,{chatId:e,isActive:P,onClose:I});case r.je.JoinRequests:return s.Ay.createElement(S.A,{chatId:e,isActive:P,onClose:I})}},M=(0,s.ph)((0,o.EK)(e=>({managementType:(0,i.vn8)(e)}))(P));n()}catch(e){n(e)}})},56394:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.d(t,{A:()=>A});var s=a(84051),o=a(87357),r=a(17712),i=a(59030),l=a(54746),c=a(31202),d=e([i]),m=d.then?(await d)():d;i=m[0];const u=({option:e,checked:t,name:a,text:n,img:d,isLink:m,onChange:u,onClickAction:A,className:h,userNames:y,selectedMemberIds:p})=>{const v=(0,i.A)();let g=v(n);m&&p?.length&&(g=p.length>2?p.length.toString():y);const E=(0,r.A)(t=>{t.target.checked&&u(e)}),b=(0,r.A)(()=>{A?.()});return s.Ay.createElement("label",{className:(0,o.A)(c.A.wrapper,h),dir:v.isRtl?"rtl":void 0,role:"button",tabIndex:0},s.Ay.createElement("input",{className:c.A.input,type:"radio",name:"giveaway_option",value:e,checked:t,onChange:E,onClick:e=>e.stopPropagation()}),s.Ay.createElement("div",{className:c.A.content},s.Ay.createElement("img",{className:c.A.optionImg,src:d,alt:"",draggable:!1}),s.Ay.createElement("div",{className:c.A.giveaway},s.Ay.createElement("h3",{className:c.A.title},v(a)),m?s.Ay.createElement("div",{className:c.A.link,onClick:b},s.Ay.createElement("span",null,g),s.Ay.createElement(l.A,{name:"next"})):s.Ay.createElement("span",{className:c.A.contentText},g))))},A=(0,s.ph)(u);n()}catch(e){n(e)}})},56425:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.d(t,{A:()=>d});var s=a(84051),o=a(41036),r=a(28926),i=a(76350),l=e([r,i]);[r,i]=l.then?(await l)():l;const c=({onReset:e})=>{function t(){return s.Ay.createElement(s.Ay.Fragment,null,s.Ay.createElement(i.A,{onReset:e}),s.Ay.createElement(r.A,{onReset:e}))}return s.Ay.createElement(o.Ay,{id:"AiTranslate",name:"fade",activeKey:0,renderCount:1,shouldWrap:!0,withSwipeControl:!0},t)},d=(0,s.ph)(c);n()}catch(e){n(e)}})},56676:(e,t,a)=>{a.d(t,{J:()=>i});var n=a(84051),s=a(52674),o=a(67054),r=a(17712);function i({isActive:e,isHorizontal:t,shouldSaveSelectionOnUpdateItems:a,shouldRemoveSelectionOnReset:i,noArrowNavigation:l,items:c,shouldSelectOnTab:d,onSelect:m,onClose:u}){const[A,h]=(0,n.J0)(-1),y=(0,r.A)(e=>c?(0,o.A)(c.length,e):-1),p=(0,r.A)((e,t)=>{t.preventDefault(),h(t=>y(t+e))}),v=(0,r.A)(t=>{if(t.altKey||t.ctrlKey||t.metaKey||t.shiftKey)return!1;if(!e)return!1;if(c&&c.length&&A>-1){const e=c[A];if(e){if(!1===m(e))return!1;t.preventDefault()}}return!0});(0,n.vJ)(()=>{e||h(i?-1:0)},[e,i]);const g=!c||A>c.length-1;return(0,n.vJ)(()=>{a&&!g||h(i?-1:0)},[g,i,a]),(0,n.vJ)(()=>e?(0,s.A)({onEsc:u,onUp:l||t?void 0:e=>p(-1,e),onDown:l||t?void 0:e=>p(1,e),onLeft:l||!t?void 0:e=>p(-1,e),onRight:l||!t?void 0:e=>p(1,e),onTab:d?v:void 0,onEnter:v}):void 0,[l,p,v,e,t,u,d]),A}},56903:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.d(t,{O:()=>h});var s=a(84051),o=a(23174),r=a(89925),i=a(90709),l=a(76023),c=a(53672),d=a(62587),m=a(69419),u=e([d,m]);[d,m]=u.then?(await u)():u;const A=l.cf,h=({media:e,isAvatar:t,origin:a,delay:n})=>{const u=t&&"photo"===e?.mediaType&&!e.isVideo,h=t&&"photo"===e?.mediaType&&e.isVideo,y="document"===e?.mediaType,p="video"===e?.mediaType&&!e.isRound||y&&(0,i.hr)(e),v="photo"===e?.mediaType||y&&(0,i.Ml)(e),g="video"===e?.mediaType&&e.isGif,E=a===r.TQ.SharedMedia,b=a===r.TQ.SearchResult,f=(0,s.Kr)(()=>t=>{if(e)return!u&&!h||t?h&&t?(0,i.Pg)(e):(0,i.VO)(e,t?"full":"preview"):(0,i.mU)(e)},[h,u,e]),C=(0,d.A)(e&&(E||b||y)&&(0,i.VO)(e,"pictogram"),void 0,o.qZ.BlobUrl,n),S=f(),w=(0,d.A)(S,void 0,o.qZ.BlobUrl,n),{mediaData:k,loadProgress:N}=(0,m.A)(f(!0),void 0,e&&(0,i.Cz)(e,"full"),n),I=e&&"blobUrl"in e?e.blobUrl:void 0;let P=!p&&(I||k)||w||C;const M=(0,c.A)(!P&&e&&(0,i.VD)(e));P||a===r.TQ.SearchResult||(P=M),h&&w&&(P=w);const T=I||k||(h||p?void 0:w||C||P),B=e&&(0,i.si)(e),x=Boolean(I),L=(0,s.Kr)(()=>t?h?l._e:l.cf:y?e.mediaSize:v?(0,i.Xn)(e):p?(0,i.NZ)(e):A,[t,y,v,p,h,e]);return{getMediaHash:f,media:e,isVideo:p,isPhoto:v,isGif:g,isDocument:y,bestImageData:P,bestData:T,dimensions:L,isFromSharedMedia:E,isVideoAvatar:h,isLocal:x,loadProgress:N,mediaSize:B}};n()}catch(e){n(e)}})},57006:(e,t,a)=>{a.d(t,{A:()=>r});var n=a(42215);const s={currentPassword:"",password:"",hint:"",email:""},o=(e,t)=>{switch(t.type){case"setCurrentPassword":return{...e,currentPassword:t.payload};case"setPassword":return{...e,password:t.payload};case"setHint":return{...e,hint:t.payload};case"setEmail":return{...e,email:t.payload};case"reset":return s;default:return e}},r=()=>(0,n.A)(o,s)},57353:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.d(t,{A:()=>E});var s=a(84051),o=a(13439),r=a(31481),i=a(87357),l=a(87894),c=a(82117),d=a(26072),m=a(17712),u=a(59030),A=a(22109),h=a(43631),y=e([u,A]);[u,A]=y.then?(await y)():y;const p=["af","als","am","an","ar","arz","as","ast","av","az","azb","ba","bar","bcl","be","bg","bh","bn","bo","bpy","br","bs","bxr","ca","cbk","ce","ceb","ckb","co","cs","cv","cy","da","de","diq","dsb","dty","dv","el","eml","en","eo","es","et","eu","fa","fi","fr","frr","fy","ga","gd","gl","gn","gom","gu","gv","he","hi","hif","hr","hsb","ht","hu","hy","ia","id","ie","ilo","io","is","it","ja","jbo","jv","ka","kk","km","kn","ko","krc","ku","kv","kw","ky","la","lb","lez","li","lmo","lo","lrc","lt","lv","mai","mg","mhr","min","mk","ml","mn","mr","mrj","ms","mt","mwl","my","myv","mzn","nah","nap","nds","ne","new","nl","nn","no","oc","or","os","pa","pam","pfl","pl","pms","pnb","ps","pt","qu","rm","ro","ru","rue","sa","sah","sc","scn","sco","sd","sh","si","sk","sl","so","sq","sr","su","sv","sw","ta","te","tg","th","tk","tl","tr","tt","tyv","ug","uk","ur","uz","vec","vep","vi","vls","vo","wa","war","wuu","xal","xmf","yi","yo","yue","zh"],v=r.N89.filter(e=>p.includes(e)),g=({isActive:e,doNotTranslate:t,onReset:a})=>{const{setSettingOption:n}=(0,o.ko)(),r=(0,u.A)().code||"en",[y,p]=(0,s.J0)([]),[g,E]=(0,s.J0)(""),b=(0,s.Kr)(()=>{const e=v.map(e=>({langCode:e,translatedName:new Intl.DisplayNames([r],{type:"language"}).of(e),originalName:new Intl.DisplayNames([e],{type:"language"}).of(e)})).filter(Boolean).map(({langCode:e,translatedName:t,originalName:a})=>({label:t,subLabel:a,value:e}));if(!g.trim()){const t=e.find(e=>e.value===r),a=e.filter(e=>e.value!==r);return t?[t,...a]:e}return e?.filter(e=>e.label.toLowerCase().includes(g.toLowerCase()))},[r,g]);(0,c.A)(([a,n])=>{if(a===e&&n?.find(e=>e===r))return;const[s]=(0,l.jB)(b,e=>t.includes(e.value));p([...s.map(e=>e.value)])},[e,t,y.length,r,b]);const f=(0,m.A)(e=>{p(e),n({doNotTranslate:e})});return(0,d.A)({isActive:e,onBack:a}),s.Ay.createElement("div",{className:(0,i.A)(h.A.root,"settings-content infinite-scroll")},s.Ay.createElement("div",{className:(0,i.A)(h.A.item)},s.Ay.createElement(A.A,{className:h.A.picker,items:b,selectedValues:y,onSelectedValuesChange:f,filterValue:g,onFilterChange:E,isSearchable:!0,allowMultiple:!0,withDefaultPadding:!0,itemInputType:"checkbox",searchInputId:"lang-picker-search"})))},E=(0,s.ph)((0,o.EK)(e=>{const{doNotTranslate:t}=e.settings.byKey;return{doNotTranslate:t}})(g));n()}catch(e){n(e)}})},57362:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.d(t,{A:()=>u});var s=a(84051),o=a(70636),r=a(87894),i=a(79824),l=a(59030),c=a(54960),d=e([o,l,c]);function m({id:e,contactListIds:t,currentUserId:a,selectedIds:n,lockedIds:d,onSelect:m}){const u=(0,l.A)(),[A,h]=(0,s.J0)(""),y=(0,s.Kr)(()=>{const e=(t||[]).filter(e=>e!==a);return(0,r.Am)((0,o.PU)({ids:[...n||[],...e],query:A,type:"user"}))},[t,a,A,n]);return s.Ay.createElement(c.A,{key:e,itemIds:y,selectedIds:n??i.p,lockedSelectedIds:d,filterValue:A,filterPlaceholder:u("Search"),searchInputId:`${e}-picker-search`,isSearchable:!0,withDefaultPadding:!0,forceShowSelf:!0,onSelectedIdsChange:m,onFilterChange:h,allowMultiple:!0,withStatus:!0,itemInputType:"checkbox"})}[o,l,c]=d.then?(await d)():d;const u=(0,s.ph)(m);n()}catch(A){n(A)}})},57489:(e,t,a)=>{a.d(t,{A:()=>n});const n={root:"LFkgLoAk",title:"La4sUYaq",description:"Bn5kz5br",moreButton:"JdN5pGTw",secondary:"hbsLlXSH",content:"TZE15Pt_"}},57595:(e,t,a)=>{a.d(t,{A:()=>n});const n={wrapper:"qZA6S2kc",giveawayWrapper:"PkseWxFK",active:"EJOQwnRj",input:"WOEkhx6R",content:"BHUCScsU",month:"DfYCMUkL",perMonth:"poxOXJ2o",amount:"IGMrERf_",discount:"uqDlP3Zt",giveawayDiscount:"ublijP0j"}},58225:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.d(t,{A:()=>N});var s=a(84051),o=a(13439),r=a(23174),i=a(31481),l=a(60919),c=a(19408),d=a(87357),m=a(17663),u=a(17142),A=a(48775),h=a(39351),y=a(17712),p=a(59030),v=a(63441),g=a(54746),E=a(64493),b=a(40664),f=a(8410),C=a(75049),S=a(37661),w=e([h,p,v,E,b,f]);[h,p,v,E,b,f]=w.then?(await w)():w;const k=({modal:e,starBalance:t,tonBalance:a,peer:n,currentDraft:r,maxStarsAmount:l,minStarsAmount:c,tonMaxAmount:w,tonMinAmount:k,ageMinSeconds:N,futureMin:I,futureMax:P,isMonoforumAdmin:M})=>{const{closeSuggestMessageModal:T,updateDraftSuggestedPostInfo:B,openStarsBalanceModal:x}=(0,o.ko)(),[L,R,F]=(0,S.A)(),D=r?.suggestedPostInfo,V=r?.replyInfo,_=Boolean(V),[U,O]=(0,s.J0)(D?.price?.amount||void 0),[J,K]=(0,s.J0)(D?.price?.currency||i.OUy),[G,j]=(0,s.J0)(D?.scheduleDate?1e3*D.scheduleDate:void 0);(0,s.vJ)(()=>{const e=D?.price,t=e?.currency===i.ykW?(0,u.wD)(e.amount):e?.amount;O(t),K(D?.price?.currency||i.OUy),j(D?.scheduleDate?1e3*D.scheduleDate:void 0)},[D]);const z=(0,h.A)(),H=(0,p.A)(),$=J===i.OUy,q=Math.floor(Date.now()/1e3),W=1e3*(q+I),Y=1e3*(q+P),Q=1e3*(q+2*I),Z=(0,y.A)(e=>{const t=e.target.value,a=parseFloat(t),n=""===t||Number.isNaN(a)?void 0:Math.min(Math.max(a,0),ae);O(n)}),X=(0,y.A)(e=>{j(e.getTime()),F()}),ee=(0,y.A)(()=>{j(void 0),F()}),te=$?c:(0,u.wD)(k),ae=$?l:(0,u.wD)(w),ne=Boolean(U)&&U<te,se=(0,y.A)(()=>{const e=U?$?U:(0,u.tT)(U):0;if(!ne){if(!M)if($){if(e>(t?.amount||0))return void x({topup:{balanceNeeded:e}})}else if(e>(a||0))return void x({currency:i.ykW});B({price:{currency:J,amount:e,nanos:0},scheduleDate:G?G/1e3:void 0}),T()}});return s.Ay.createElement(f.A,{headerClassName:C.A.modalHeader,isOpen:Boolean(e),onClose:T,isSlim:!0,isLowStackPriority:!0,hasCloseButton:!0,contentClassName:C.A.content,title:z(_?"TitleSuggestedChanges":"TitleSuggestMessage")},s.Ay.createElement("div",{className:C.A.form},s.Ay.createElement("div",{className:C.A.section},s.Ay.createElement("div",{className:C.A.currencySelector},s.Ay.createElement(E.A,{className:C.A.currencyButton,color:$?"primary":"translucent",pill:!0,fluid:!0,size:"tiny",noFastClick:!0,onClick:()=>K(i.OUy)},s.Ay.createElement(g.A,{name:"star",className:C.A.currencyIcon}),z("CurrencyStars")),s.Ay.createElement(E.A,{className:C.A.currencyButton,fluid:!0,color:$?"translucent":"primary",pill:!0,size:"tiny",noFastClick:!0,onClick:()=>K(i.ykW)},s.Ay.createElement(g.A,{name:"toncoin",className:C.A.currencyIcon}),z("CurrencyTon"))),s.Ay.createElement(b.A,{label:z("InputPlaceholderPrice"),className:(0,d.A)(C.A.input),value:U?.toString(),onChange:Z,inputMode:"numeric",tabIndex:0,teactExperimentControlled:$}),s.Ay.createElement("div",{className:C.A.description},void 0!==U&&U>0&&U<te?z("DescriptionSuggestedPostMinimumOffer",{amount:$?(0,A.Kk)(z,te):(0,A.QH)(z,te)},{withNodes:!0,withMarkdown:!0}):z($?"SuggestMessagePriceDescriptionStars":"SuggestMessagePriceDescriptionTon"))),s.Ay.createElement("div",{className:C.A.section},s.Ay.createElement("div",{className:(0,d.A)(C.A.input,"input-group","touched")},s.Ay.createElement("input",{type:"text",className:(0,d.A)("form-control",L&&"focus"),value:G?(0,m.e0)(G/1e3,z,H):z("SuggestMessageAnytime"),autoComplete:"off",onClick:R,onFocus:R,readOnly:!0}),s.Ay.createElement("label",null,z("InputTitleSuggestMessageTime")),s.Ay.createElement(g.A,{name:"down",className:C.A.timeInputIcon})),s.Ay.createElement("div",{className:C.A.description},z("SuggestMessageTimeDescription",{hint:z("SuggestMessageDateTimeHint"),duration:(0,m.A$)(z,N,!0)}))),s.Ay.createElement(v.A,{isOpen:L,isFutureMode:!0,withTimePicker:!0,minAt:W,maxAt:Y,onClose:F,onSubmit:X,selectedAt:G||Q,submitButtonLabel:z("Save"),secondButtonLabel:z("SuggestMessageAnytime"),onSecondButtonClick:ee,description:z("SuggestMessageDateTimeHint")}),s.Ay.createElement(E.A,{className:C.A.offerButton,onClick:se,size:"smaller",disabled:ne},_?z("ButtonUpdateTerms"):U?z("ButtonOfferAmount",{amount:$?(0,A.U2)(z,U,{asFont:!0}):(0,A.Ms)(z,U)},{withNodes:!0,withMarkdown:!0}):z("ButtonOfferFree"))))},N=(0,s.ph)((0,o.EK)((e,{modal:t})=>{const a=e.stars?.balance,n=t?(0,l.PVB)(e,t.chatId):void 0,s=t?(0,c.GA)(e,t.chatId,r.l3):void 0,{appConfig:o}=e,d=o?.starsSuggestedPostAmountMax||i.PAU,m=o?.starsSuggestedPostAmountMin||i.tek,u=o?.starsSuggestedPostAgeMin||i.Qep,A=o?.starsSuggestedPostFutureMin||i.WHU,h=o?.starsSuggestedPostFutureMax||i.cX7,y=o?.tonSuggestedPostAmountMax||i.nqT,p=o?.tonSuggestedPostAmountMin||i.tOS,v=!!t&&(0,l.ODG)(e,t.chatId);return{peer:n,starBalance:a,tonBalance:e.ton?.balance?.amount,currentDraft:s,maxStarsAmount:d,minStarsAmount:m,tonMaxAmount:y,tonMinAmount:p,ageMinSeconds:u,futureMin:A,futureMax:h,isMonoforumAdmin:v}})(k));n()}catch(e){n(e)}})},58234:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.d(t,{A:()=>w});var s=a(84051),o=a(13439),r=a(90709),i=a(60919),l=a(87357),c=a(17663),d=a(9716),m=a(76023),u=a(17712),A=a(59030),h=a(51083),y=a(17751),p=a(17794),v=a(22720),g=a(16801),E=e([A,h,y,p,v]);[A,h,y,p,v]=E.then?(await E)():E;const b=100,f=1.5*m.$,C="•",S=({storyView:e,peer:t,availableReactions:a})=>{const{openChat:n,closeStoryViewer:i,unblockUser:m,blockUser:E,deleteContact:S,updateStoryView:w,focusMessage:k,openStoryViewer:N,closeStoryViewModal:I}=(0,o.ko)(),P=(0,A.A)(),M=(0,u.A)(()=>{const{type:t}=e;if("repost"===t)return I(),void N({peerId:e.peerId,storyId:e.storyId});i(),setTimeout(()=>{"user"===t?n({id:e.peerId}):"forward"===t&&k({chatId:e.peerId,messageId:e.messageId})},b)}),T=(0,s.Kr)(()=>{if(!(0,d.L8)(e.peerId))return;const{peerId:a,areStoriesBlocked:n,isUserBlocked:s}=e,o=t,{isContact:i}=o||{},l=(0,r.Yg)(o),c=[];return s||(n?c.push({handler:()=>{m({userId:a,isOnlyStories:!0}),w({userId:a,areStoriesBlocked:!1})},title:P("StoryShowBackTo",l),icon:"play-story"}):c.push({handler:()=>{E({userId:a,isOnlyStories:!0}),w({userId:a,areStoriesBlocked:!0})},title:P("StoryHideFrom",l),icon:"hand-stop"})),i?c.push({handler:()=>{S({userId:a})},title:P("DeleteContact"),icon:"delete-user",destructive:!0}):c.push({handler:()=>{s?(m({userId:a}),w({userId:a,isUserBlocked:!1})):(E({userId:a}),w({userId:a,isUserBlocked:!0}))},title:P(s?"Unblock":"BlockUser"),icon:s?"user":"delete-user",destructive:!s}),c},[P,e,t]),B="user"===e.type?"message-read":"forward"===e.type?"forward":"loop",x="forward"===e.type||"repost"===e.type,L=(0,s.Kr)(()=>{const t="repost"===e.type&&e.story.forwardInfo?.isModified,a=[(0,c.U)(P,1e3*e.date)];return t&&a.push(P("lng_edited")),a.join(` ${C} `)},[P,e]);return s.Ay.createElement(v.A,{key:e.peerId,className:(0,l.A)("chat-item-clickable small-icon",g.A.opacityFadeIn,(e.isUserBlocked||e.areStoriesBlocked)&&g.A.blocked),onClick:M,rightElement:"user"===e.type&&e.reaction?s.Ay.createElement(p.A,{reaction:e.reaction,className:g.A.viewReaction,size:f,availableReactions:a,withIconHeart:!0}):void 0,contextActions:T,withPortalForMenu:!0,menuBubbleClassName:g.A.menuBubble},(0,d.L8)(e.peerId)?s.Ay.createElement(y.A,{className:(0,l.A)(x&&g.A.withColoredStatus),userId:e.peerId,noStatusOrTyping:!0,status:L,statusIcon:B,withStory:!0,forceShowSelf:!0}):s.Ay.createElement(h.A,{className:(0,l.A)(x&&g.A.withColoredStatus),chatId:e.peerId,status:L,statusIcon:B,withStory:!0}))},w=(0,s.ph)((0,o.EK)((e,{storyView:t})=>({peer:(0,i.PVB)(e,t.peerId),availableReactions:e.reactions.availableReactions}))(S));n()}catch(e){n(e)}})},58313:(e,t,a)=>{a.d(t,{A:()=>n});const n={content:"pUyNTysT",modal:"IK2mBqbm",loading:"zjXCH3pT",description:"j6xEoljc",bold:"hAA6B1lc",chip:"smWR78pO",replaceModal:"GIFAjZPY",replaceModalContent:"Jxyz9TaL",avatarContainer:"OKp6HS1U",arrow:"WSJdWV7L",boostedWrapper:"NU9itcIm",boostedMark:"upXvhNRY"}},58686:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.d(t,{A:()=>d});var s=a(84051),o=a(17712),r=a(54639),i=e([r]),l=i.then?(await i)():i;r=l[0];const c=({focus:e,inlineResult:t,onClick:a})=>{const{title:n,description:i}=t,l="url"in t?t.url:void 0,c="webThumbnail"in t?t.webThumbnail:void 0,d=(0,o.A)(()=>{a(t)});return s.Ay.createElement(r.A,{focus:e,thumbnail:c,title:n||l,description:i,onClick:d})},d=(0,s.ph)(c);n()}catch(e){n(e)}})},58709:(e,t,a)=>{a.d(t,{A:()=>n});const n={root:"c3xMWwzW","fade-in-opacity":"cHb04cFv",fadeInOpacity:"cHb04cFv",closing:"_0HkZ8ITm",voice:"VLiJWMs0",video:"ML2YEpGq",footer:"VWy1qXJL",closeBtn:"FfMrCmD9"}},59414:(e,t,a)=>{a.d(t,{A:()=>n});const n={modal:"hz7SomkK",header:"NV6Rt2g9",closeButton:"SN1GFS6L",headerTitle:"gi0Y6Ns6",content:"sTaVDkiD",section:"eUiuPoEC",title:"iPPiw9DI",list:"OUP1Ss0W",option:"JL33Sa3b",checked:"qVPo_cVL",input:"zsDaUk0i",icon:"AfYCVlys",action:"njMeBBwY",optionContent:"TUAAnG2w",footer:"r24Qz2bf",info:"ljeRVBOm",submit:"RwNLN_rH"}},59867:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.d(t,{A:()=>m});var s=a(84051),o=a(13439),r=a(37661),i=a(59030),l=a(92543),c=e([i,l]);[i,l]=c.then?(await c)():c;const d=({requestedAttachBotInChat:e})=>{const{cancelAttachBotInChat:t,callAttachBot:a}=(0,o.ko)(),n=(0,i.A)(),c=Boolean(e),[d,m,u]=(0,r.A)();(0,s.vJ)(()=>{c&&m()},[c,m]);const{bot:A,filter:h,startParam:y}=e||{},p=(0,s.hb)(e=>{a({bot:A,chatId:e,startParam:y}),t()},[A,a,t,y]);if(c||d)return s.Ay.createElement(l.A,{isOpen:c,searchPlaceholder:n("Search"),filter:h,onSelectRecipient:p,onClose:t,onCloseAnimationEnd:u})},m=(0,s.ph)(d);n()}catch(e){n(e)}})},59915:(e,t,a)=>{e.exports=a.p+"PremiumAds.a758f19ece91fe91318e.svg"},60057:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.d(t,{A:()=>h});var s=a(84051),o=a(4961),r=a(39351),i=a(59030),l=a(65461),c=a(54746),d=a(84685),m=a(13957),u=e([r,i,l]);[r,i,l]=u.then?(await u)():u;const A=({isOpen:e,onClose:t})=>{const a=(0,i.A)(),n=(0,r.A)(),u=(0,s.Kr)(()=>{const e=a("LearnMore");return n("ChannelEarnLearnCoinAbout",{link:s.Ay.createElement(d.A,{url:a("MonetizationInfoTONLink"),text:e},e,s.Ay.createElement(c.A,{name:"next"}))},{withNodes:!0})},[n,a]),A=(0,s.Kr)(()=>n("MonetizationInfoTONTitle",void 0,{withNodes:!0,specialReplacement:{"💎":s.Ay.createElement(c.A,{className:m.A.toncoin,name:"toncoin"})}}),[n]),h=(0,s.Kr)(()=>{if(e)return{header:s.Ay.createElement("h3",{className:m.A.title},a("lng_channel_earn_learn_title")),listItemData:[["channel",a("lng_channel_earn_learn_in_subtitle"),(0,o.A)(a("lng_channel_earn_learn_in_about"),["simple_markdown"])],["revenue-split",a("lng_channel_earn_learn_split_subtitle"),(0,o.A)(a("Monetization.Intro.Split.Text"),["simple_markdown"])],["cash-circle",a("lng_channel_earn_learn_out_subtitle"),(0,o.A)(a("lng_channel_earn_learn_out_about"),["simple_markdown"])]],footer:s.Ay.createElement(s.Ay.Fragment,null,s.Ay.createElement("h3",{className:m.A.title},A),s.Ay.createElement("p",{className:m.A.description},u))}},[e,a,A,u]);if(h)return s.Ay.createElement(l.A,{isOpen:e,listItemData:h.listItemData,headerIconName:"cash-circle",withSeparator:!0,header:h.header,footer:h.footer,buttonText:a("RevenueSharingAdsUnderstood"),onClose:t})},h=(0,s.ph)(A);n()}catch(e){n(e)}})},60155:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.d(t,{A:()=>b});var s=a(84051),o=a(13439),r=a(31481),i=a(20714),l=a(60919),c=a(22986),d=a(96454),m=a(26072),u=a(39351),A=a(19806),h=a(82497),y=e([u,A,h]);[u,A,h]=y.then?(await y)():y;const p=["SettingsPerformanceSliderLow","SettingsPerformanceSliderMedium","SettingsPerformanceSliderHigh"],v=["SettingsPerformanceSliderLow","SettingsPerformanceSliderCustom","SettingsPerformanceSliderHigh"],g=[["SettingsPerformanceInterfaceAnimations",[{key:"pageTransitions",label:"SettingsPerformancePageTransitions"},{key:"messageSendingAnimations",label:"SettingsPerformanceSending"},{key:"mediaViewerAnimations",label:"SettingsPerformanceMediaViewer"},{key:"messageComposerAnimations",label:"SettingsPerformanceComposer"},{key:"contextMenuAnimations",label:"SettingsPerformanceContextAnimation"},{key:"contextMenuBlur",label:"SettingsPerformanceContextBlur",disabled:!d.Fy},{key:"rightColumnAnimations",label:"SettingsPerformanceRightColumn"},{key:"snapEffect",label:"SettingsPerformanceThanos"}]],["SettingsPerformanceStickers",[{key:"animatedEmoji",label:"SettingsPerformanceAnimatedEmoji"},{key:"loopAnimatedStickers",label:"SettingsPerformanceLoopStickers"},{key:"reactionEffects",label:"SettingsPerformanceReactionEffects"},{key:"stickerEffects",label:"SettingsPerformanceStickerEffects"}]],["SettingsPerformanceMediaAutoplay",[{key:"autoplayGifs",label:"SettingsPerformanceAutoplayGif"},{key:"autoplayVideos",label:"SettingsPerformanceAutoplayVideo"}]]];function E({isActive:e,performanceSettings:t,onReset:a}){const{setSharedSettingOption:n,updatePerformanceSettings:l}=(0,o.ko)();(0,m.A)({isActive:e,onBack:a});const y=(0,u.A)(),[E,b]=(0,s.J0)({}),f=(0,s.Kr)(()=>g.reduce((e,[,a],n)=>(e[n]=a.every(({key:e})=>t[e]),e),{}),[t]),C=(0,s.Kr)(()=>(0,c.T)(t,i.LH)?r.zP3:(0,c.T)(t,i.PI)?r.dnp:(0,c.T)(t,i.tS)?r.zHL:r.M8B,[t]),S=(0,s.Kr)(()=>(C===r.M8B?v:p).map(e=>y(e)),[C,y]),w=(0,s.hb)((e,t)=>{e.preventDefault();const a=Number(t);b(e=>({...e,[a]:!e[a]}))},[]),k=(0,s.hb)(e=>{const t=e===r.dnp?i.PI:e===r.zHL?i.tS:i.LH;n({animationLevel:e,wasAnimationLevelSetManually:!0}),l(t)},[]),N=(0,s.hb)(e=>{const{name:t,checked:a}=e.target,n=g.find(([e])=>e===t);if(!n)return;const s=n[1].reduce((e,{key:t})=>(e[t]=a,e),{});l(s)},[]),I=(0,s.hb)(e=>{const{name:t,checked:a}=e.target;l({[t]:a})},[]);return s.Ay.createElement("div",{className:"settings-content custom-scroll"},s.Ay.createElement("div",{className:"settings-item"},s.Ay.createElement("h4",{className:"settings-item-header",dir:y.isRtl?"rtl":void 0},y("SettingsPerformanceSliderTitle")),s.Ay.createElement("p",{className:"settings-item-description",dir:y.isRtl?"rtl":void 0},y("SettingsPerformanceSliderSubtitle")),s.Ay.createElement(h.A,{options:S,value:C===r.M8B?r.zHL:C,onChange:k})),s.Ay.createElement("div",{className:"settings-item-simple settings-item__with-shifted-dropdown"},s.Ay.createElement("h3",{className:"settings-item-header",dir:"auto"},"Resource-Intensive Processes"),g.map(([e,a],n)=>s.Ay.createElement("div",{key:e,className:"settings-dropdown-section"},s.Ay.createElement("div",{className:"ListItem with-checkbox"},s.Ay.createElement(A.A,{name:e,value:n.toString(),checked:f[n],label:y(e),rightIcon:E[n]?"up":"down",onChange:N,onClickLabel:w})),Boolean(E[n])&&s.Ay.createElement("div",{className:"DropdownList DropdownList--open"},a.map(({key:e,label:a,disabled:n})=>{if("snapEffect"!==e||d.bW)return s.Ay.createElement(A.A,{key:e,name:e,checked:t[e],label:y(a),disabled:n,onChange:I})}))))))}const b=(0,s.ph)((0,o.EK)(e=>({performanceSettings:(0,l.Cw0)(e)}))(E));n()}catch(f){n(f)}})},60379:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.d(t,{A:()=>g});var s=a(84051),o=a(13439),r=a(90709),i=a(70636),l=a(87894),c=a(79582),d=a(37661),m=a(17712),u=a(59030),A=a(54960),h=a(63401),y=a(94189),p=e([i,u,A,h,y]);[i,u,A,h,y]=p.then?(await p)():p;const v=({isOpen:e,giveawayChatId:t,selectionLimit:a,initialSelectedIds:n,onSelectedIdsConfirmed:p,onClose:v})=>{const{showNotification:g}=(0,o.ko)(),E=(0,u.A)(),[b,f]=(0,s.J0)(void 0),[C,S]=(0,s.J0)(""),[w,k,N]=(0,d.A)(),[I,P]=(0,s.J0)(n);(0,s.vJ)(()=>{P(n)},[n]);const M=(0,s.Kr)(()=>{const e=(0,o.mS)(),a=e.chats.byId,{active:n,archived:s}=e.chats.listIds,i=(n||[]).concat(s||[]);return(0,l.Am)(i).map(e=>a[e]).filter(e=>e&&((0,r.WX)(e)||(0,r.Vs)(e))&&e.id!==t).map(e=>e.id)},[t]),T=(0,s.Kr)(()=>{const e=M?(0,i.PU)({ids:M,query:C,type:"chat"}):[];return(0,c.A)(e,!1,I)},[M,C,I]),B=(0,m.A)(e=>{const t=(0,o.mS)().chats.byId,n=e.filter(e=>!I.includes(e)).find(e=>{const a=t[e];return a&&!(0,r.gA)(a)});I?.length>=a?g({message:E("BoostingSelectUpToWarningChannelsPlural",a)}):n?(f(n),k()):P(e)}),x=(0,m.A)(()=>{b&&P((0,l.Am)([...I,b])),N()}),L=(0,m.A)(()=>{p(I),v()});return s.Ay.createElement(h.A,{isOpen:e,onClose:v,title:E("RequestPeer.ChooseChannelTitle"),hasCloseButton:!0,shouldAdaptToSearch:!0,withFixedHeight:!0,confirmButtonText:E("Save"),onConfirm:L,onEnter:L},s.Ay.createElement(A.A,{itemIds:T,selectedIds:I,filterValue:C,filterPlaceholder:E("Search"),onSelectedIdsChange:B,onFilterChange:S,isSearchable:!0,withDefaultPadding:!0,withStatus:!0,allowMultiple:!0,itemInputType:"checkbox"}),s.Ay.createElement(y.A,{title:E("BoostingGiveawayPrivateChannel"),text:E("BoostingGiveawayPrivateChannelWarning"),confirmLabel:E("Add"),isOpen:w,onClose:N,confirmHandler:x}))},g=(0,s.ph)(v);n()}catch(e){n(e)}})},60401:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.d(t,{A:()=>h});var s=a(84051),o=a(39351),r=a(59030),i=a(19806),l=a(40664),c=a(63173),d=a(23461),m=a(6516),u=e([o,r,i,l,d,m]);[o,r,i,l,d,m]=u.then?(await u)():u;const A=({state:e,canSaveCredentials:t,needCardholderName:a,needCountry:n,needZip:u,countryList:A,dispatch:h})=>{const y=(0,s.li)();(0,s.vJ)(()=>{y.current&&y.current.value!==e.billingCountry&&(y.current.value=e.billingCountry)},[e.billingCountry]);const p=(0,s.hb)(e=>{h({type:"changeCardNumber",payload:e})},[h]),v=(0,s.hb)(e=>{h({type:"changeCardholder",payload:e.target.value.toUpperCase()})},[h]),g=(0,s.hb)(e=>{h({type:"changeExpiryDate",payload:e})},[h]),E=(0,s.hb)(e=>{const t=e.target.value.replace(/[^0-9]/g,"");h({type:"changeCvvCode",payload:t})},[h]),b=(0,s.hb)(e=>{h({type:"changeBillingCountry",payload:e.target.value})},[h]),f=(0,s.hb)(e=>{h({type:"changeBillingZip",payload:e.target.value})},[h]),C=(0,s.hb)(e=>{h({type:"changeSaveCredentials",payload:e.target.value})},[h]),S=(0,r.A)(),w=(0,o.A)(),{formErrors:k={}}=e;return s.Ay.createElement("div",{className:"PaymentInfo"},s.Ay.createElement("form",null,s.Ay.createElement("h5",null,S("PaymentCardTitle")),s.Ay.createElement(d.A,{onChange:p,value:e.cardNumber,error:k.cardNumber&&w.withRegular(k.cardNumber)}),a&&s.Ay.createElement(l.A,{label:S("Checkout.NewCard.CardholderNamePlaceholder"),onChange:v,value:e.cardholder,inputMode:"text",tabIndex:0,error:k.cardholder&&w.withRegular(k.cardholder)}),s.Ay.createElement("section",{className:"inline-inputs"},s.Ay.createElement(m.A,{value:e.expiry,onChange:g,error:k.expiry&&w.withRegular(k.expiry)}),s.Ay.createElement(l.A,{label:S("lng_payments_card_cvc"),onChange:E,value:e.cvv,inputMode:"numeric",maxLength:3,tabIndex:0,error:k.cvv&&w.withRegular(k.cvv),teactExperimentControlled:!0})),n||u?s.Ay.createElement("h5",null,S("PaymentBillingAddress")):void 0,s.Ay.createElement("section",{className:"inline-inputs"},n&&s.Ay.createElement(c.A,{label:S("PaymentShippingCountry"),onChange:b,value:e.billingCountry,hasArrow:Boolean(!0),id:"billing-country",error:k.billingCountry&&w.withRegular(k.billingCountry),tabIndex:0,ref:y},A.map(({defaultName:t,name:a})=>s.Ay.createElement("option",{value:t,className:"county-item",selected:t===e.billingCountry},t||a))),u&&s.Ay.createElement(l.A,{label:S("PaymentShippingZipPlaceholder"),onChange:f,value:e.billingZip,inputMode:"text",tabIndex:0,maxLength:12,error:k.billingZip&&w.withRegular(k.billingZip)})),s.Ay.createElement("div",{className:"checkbox"},s.Ay.createElement(i.A,{label:S("PaymentCardSavePaymentInformation"),checked:!!t&&e.saveCredentials,tabIndex:0,subLabel:S(t?"Checkout.NewCard.SaveInfoHelp":"Checkout.2FA.Text"),onChange:C,disabled:!t}))))},h=(0,s.ph)(A);n()}catch(e){n(e)}})},60534:(e,t,a)=>{a.d(t,{A:()=>n});const n={root:"QucaiGVU",preview:"SHoF85Vw",duration:"nI2M1SBH",single:"FjrnqGba","no-grouping":"g0cTsM9d",noGrouping:"g0cTsM9d",file:"B6f6GcvN",overlay:"bX7LdgxW","action-item":"Zo7u5epf",actionItem:"Zo7u5epf","delete-file":"CYJwy9T_",deleteFile:"CYJwy9T_"}},60545:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.d(t,{A:()=>b});var s=a(84051),o=a(13439),r=a(66644),i=a(87357),l=a(17712),c=a(59030),d=a(54746),m=a(84685),u=a(64493),A=a(22720),h=a(8410),y=a(41036),p=a(60753),v=e([c,u,A,h]);[c,u,A,h]=v.then?(await v)():v;const g=56,E=({modal:e})=>{const{reportSponsored:t,closeReportAdModal:a,openPreviousReportAdModal:n}=(0,o.ko)(),v=(0,c.A)(),E=Boolean(e),b=(0,s.li)(),f=(0,l.A)((a,n)=>{const{chatId:s,randomId:o}=e;t({peerId:s,randomId:o,option:n})}),[C,S]=(0,s.Kr)(()=>{if(!e)return[void 0,0];const t=e.sections.length-1;return[e.sections[t],t]},[e]),w=(0,l.A)(()=>{S?n():a()}),k=(0,s.Kr)(()=>{if(!e)return;const t=v("lng_report_sponsored_reported_learn").split("{link}");return[t[0],s.Ay.createElement(m.A,{text:v("lng_report_sponsored_reported_link"),url:v("ReportAd.Help_URL")}),t[1]]},[v,e]),N=(0,s.Kr)(()=>{if(!e)return;const t=Boolean(C?.subtitle);return s.Ay.createElement("div",{className:"modal-header-condensed"},s.Ay.createElement(u.A,{round:!0,color:"translucent",size:"smaller",ariaLabel:v(S?"Back":"Close"),onClick:w},s.Ay.createElement(d.A,{name:S?"arrow-left":"close"})),s.Ay.createElement("div",{className:(0,i.A)("modal-title",p.A.modalTitle,t&&p.A.titleMultiline)},s.Ay.createElement("h3",{className:p.A.title},v("ReportAd")),t&&s.Ay.createElement("span",{className:p.A.subtitle},C.subtitle)))},[v,e,S,C?.subtitle]);(0,s.vJ)(()=>{if(!e)return;const t=document.querySelector(`.${y.uo} > .${p.A.slide}`);if(!t)return;const a=t.scrollHeight;(0,r.RK)(()=>{b.current.style.height=`${a+g}px`})},[e]);const I=(0,l.A)(()=>{const e=document.querySelector(`.${y.VY} > .${p.A.slide}`);(0,r.YS)(()=>{const t=e.scrollHeight;(0,r.RK)(()=>{b.current.style.height=`${t+g}px`})})});return s.Ay.createElement(h.A,{isOpen:E,hasCloseButton:!0,className:p.A.root,header:N,onClose:a},s.Ay.createElement(y.Ay,{name:"slide",className:p.A.transition,ref:b,activeKey:S,onStart:I},s.Ay.createElement("div",{className:p.A.slide},s.Ay.createElement("h3",{className:p.A.sectionTitle},C?.title),C?.options.map(e=>s.Ay.createElement(A.A,{narrow:!0,secondaryIcon:"next",className:p.A.option,buttonClassName:p.A.optionButton,clickArg:e.option,onClick:f},s.Ay.createElement("div",{className:p.A.optionText},e.text)))),s.Ay.createElement("p",{className:p.A.description},k)))},b=(0,s.ph)(E);n()}catch(e){n(e)}})},60753:(e,t,a)=>{a.d(t,{A:()=>n});const n={slide:"qJDgUtjV",root:"njPBcVYr",modalTitle:"ZAdG13Ah",optionText:"oWujoaSC",option:"aFbjDzNo",optionButton:"VbE0HzDs",sectionTitle:"jrA2dOiw",description:"k71Zrc_P",title:"mMmY6YR4",titleMultiline:"lVVyV0py",subtitle:"gSkAFc4u",transition:"HjsGIG6e"}},60760:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.d(t,{A:()=>A});var s=a(84051),o=a(13439),r=a(70636),i=a(60919),l=a(17712),c=a(59030),d=a(46652),m=e([r,c,d]);[r,c,d]=m.then?(await m)():m;const u=({chat:e,currentUserId:t,chatMembers:a,isOpen:n,onClose:i})=>{const{loadMoreMembers:m,deleteChatMember:u}=(0,o.ko)(),A=(0,c.A)(),[h,y]=(0,s.J0)(""),p=(0,s.Kr)(()=>{const e=(a||[]).reduce((e,a)=>(a.isAdmin||a.isOwner||a.userId===t||e.push(a.userId),e),[]);return(0,r.PU)({ids:e,query:h,type:"user"})},[a,t,h]),v=(0,l.A)(()=>{m({chatId:e.id})}),g=(0,l.A)(t=>{u({chatId:e.id,userId:t}),i()});return s.Ay.createElement(d.A,{isOpen:n,chatOrUserIds:p,searchPlaceholder:A("ChannelBlockUser"),search:h,onSearchChange:y,loadMore:v,onSelectChatOrUser:g,onClose:i})},A=(0,s.ph)((0,o.EK)((e,{chat:t})=>{const{currentUserId:a}=e;return{currentUserId:a,chatMembers:(0,i.AWZ)(e,t.id)?.members}})(u));n()}catch(e){n(e)}})},60927:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.d(t,{A:()=>C});var s=a(84051),o=a(31481),r=a(87357),i=a(43503),l=a(76023),c=a(43874),d=a(5912),m=a(83057),u=a(59030),A=a(17979),h=e([u]),y=h.then?(await h)():h;u=y[0];const p=8,v=.625*l.$,g=.25*l.$,E=.5*l.$,b=.5*l.$,f=({category:e,index:t,allEmojis:a,observeIntersection:n,shouldRender:l,onEmojiSelect:h})=>{const y=(0,s.li)();(0,d.mv)(y,n);const f=(0,m.A)(l),C=(0,u.A)(),{isMobile:S}=(0,c.Ay)(),w=S?Math.floor((i.A.get().width-b+v)/(o.g0Q+v)):p,k=Math.ceil(e.emojis.length/w)*(o.g0Q+(S?E:g));return s.Ay.createElement("div",{ref:y,key:e.id,id:`emoji-category-${t}`,className:"symbol-set"},s.Ay.createElement("div",{className:"symbol-set-header"},s.Ay.createElement("p",{className:"symbol-set-name",dir:"auto"},C(e.id===o.sR2?"RecentStickers":`Emoji${t}`))),s.Ay.createElement("div",{className:(0,r.A)("symbol-set-container",f),style:`height: ${k}px;`,dir:C.isRtl?"rtl":void 0},l&&e.emojis.map(e=>{const t=a[e];if(!t)return;const n="id"in t?t:t[1];return s.Ay.createElement(A.A,{key:n.id,emoji:n,onClick:h})})))},C=(0,s.ph)(f);n()}catch(e){n(e)}})},61166:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.d(t,{A:()=>h});var s=a(84051),o=a(31481),r=a(58443),i=a(26072),l=a(59030),c=a(64489),d=a(64493),m=a(89704),u=e([l,d]);[l,d]=u.then?(await u)():u;const A=({isActive:e,onReset:t,onStart:a})=>{const n=(0,l.A)();return(0,i.A)({isActive:e,onBack:t}),s.Ay.createElement("div",{className:"settings-content local-passcode custom-scroll"},s.Ay.createElement("div",{className:"settings-content-header no-border"},s.Ay.createElement(c.A,{tgsUrl:r.w.Lock,previewUrl:m,size:o.BYH,className:"settings-content-icon"}),s.Ay.createElement("p",{className:"settings-item-description",dir:"auto"},"When you set up an additional passcode, a lock icon will appear on the chats page. Tap it to lock and unlock your Telegram Web A."),s.Ay.createElement("p",{className:"settings-item-description mb-3",dir:"auto"},"Note: if you forget your local passcode, you'll need to log out of Telegram Web A and log in again.")),s.Ay.createElement("div",{className:"settings-item settings-group"},s.Ay.createElement(d.A,{onClick:a},n("EnablePasscode"))))},h=(0,s.ph)(A);n()}catch(e){n(e)}})},61213:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.d(t,{A:()=>u});var s=a(84051),o=a(14242),r=a(39351),i=a(59030),l=a(54746),c=a(1),d=e([r,i]);function m({postStatistic:e}){const t=(0,i.A)(),a=(0,r.A)();return s.Ay.createElement("div",{className:c.A.meta},e.reactionsCount>0&&s.Ay.createElement("span",{className:c.A.metaWithIcon},s.Ay.createElement(l.A,{name:"heart-outline",className:c.A.metaIcon}),(0,o.Vw)(a,e.reactionsCount)),e.forwardsCount>0&&s.Ay.createElement("span",{className:c.A.metaWithIcon},s.Ay.createElement(l.A,{name:"forward",className:c.A.metaIcon}),(0,o.Vw)(a,e.forwardsCount)),!e.forwardsCount&&!e.reactionsCount&&t("ChannelStats.SharesCount_ZeroValueHolder"))}[r,i]=d.then?(await d)():d;const u=(0,s.ph)(m);n()}catch(A){n(A)}})},61340:(e,t,a)=>{a.d(t,{A:()=>o});var n=a(84051);const s=300;function o(e,t){const a=(0,n.li)(0),o=(0,n.li)();return(0,n.hb)(()=>{if(a.current++,a.current===e)return a.current=0,void t();o.current&&clearTimeout(o.current),o.current=setTimeout(()=>{a.current=0},s)},[e,t])}},61349:(e,t,a)=>{a.d(t,{A:()=>n});const n={root:"OviJR58x",content:"BlpqzGYt",header:"b9RUzfpF",iconWrapper:"l1X5kBUM",icon:"qOoRnv_Y",mainText:"s2SOQSml",description:"wiKBjcl2"}},62274:(e,t,a)=>{a.d(t,{A:()=>n});const n={"fallback-photo":"Qvhl9Jjv",fallbackPhoto:"Qvhl9Jjv"}},62472:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.d(t,{A:()=>E});var s=a(84051),o=a(13439),r=a(31481),i=a(90709),l=a(87357),c=a(9716),d=a(17712),m=a(59030),u=a(67693),A=a(54746),h=a(11241),y=a(64493),p=a(82368),v=e([m,u,h,y]);[m,u,h,y]=v.then?(await v)():v;const g=({story:e,className:t})=>{const{openStoryViewModal:a,openForwardMenu:n,sendStoryReaction:v}=(0,o.ko)(),g=(0,m.A)(),{views:E,isOut:b,peerId:f,id:C,sentReaction:S}=e,{viewsCount:w,forwardsCount:k,reactionsCount:N}=E||{},I=!(0,c.L8)(f),P=S&&(0,i.a0)(S,r.tNZ),M=Boolean((b||I)&&e.isPublic&&!e.noForwards),T=(0,i.$_)(f,C),B=(0,s.Kr)(()=>{const{users:{byId:e}}=(0,o.mS)(),t=E&&"recentViewerIds"in E?E.recentViewerIds:void 0;if(t)return t.map(t=>e[t]).filter(Boolean)},[E]),x=(0,d.A)(()=>{a({storyId:C})}),L=(0,d.A)(()=>{n({fromChatId:f,storyId:C})}),R=(0,d.A)(()=>{const e=S?void 0:r.tNZ;v({peerId:f,storyId:C,containerId:T,reaction:e})});return w?s.Ay.createElement("div",{className:(0,l.A)(p.A.root,t)},s.Ay.createElement("div",{className:(0,l.A)(p.A.viewInfo,!I&&p.A.interactive),onClick:I?void 0:x},Boolean(B?.length)&&s.Ay.createElement(u.A,{size:"small",peers:B,className:p.A.avatars}),I?s.Ay.createElement("span",{className:p.A.views},s.Ay.createElement(A.A,{name:"channelviews",className:p.A.viewIcon}),w):s.Ay.createElement("span",{className:p.A.views},g("Views",w,"i")),Boolean(N)&&!I&&s.Ay.createElement("span",{className:p.A.reactionCount},s.Ay.createElement(A.A,{name:"heart",className:p.A.reactionCountHeart}),N)),s.Ay.createElement("div",{className:p.A.spacer}),M&&s.Ay.createElement(y.A,{color:"translucent",size:"smaller",round:!0,onClick:L,ariaLabel:g("Forward"),className:p.A.footerItem},s.Ay.createElement(A.A,{name:"forward"})),I&&s.Ay.createElement(s.Ay.Fragment,null,Boolean(k)&&s.Ay.createElement("div",{className:p.A.footerItem},s.Ay.createElement(y.A,{round:!0,color:"translucent",size:"smaller",nonInteractive:!0,ariaLabel:g("PublicShares")},s.Ay.createElement(A.A,{name:"loop"})),s.Ay.createElement("span",null,k)),s.Ay.createElement("div",{className:p.A.footerItem},s.Ay.createElement(y.A,{round:!0,className:p.A.reactionButton,color:"translucent",size:"smaller",onClick:R,ariaLabel:g("AccDescrLike")},S&&s.Ay.createElement(h.A,{key:(0,i.Jj)(S),containerId:T,reaction:S,withEffectOnly:P}),(!S||P)&&s.Ay.createElement(A.A,{name:P?"heart":"heart-outline",className:(0,l.A)(P&&p.A.reactionHeart)})),Boolean(N)&&s.Ay.createElement("span",null,N)))):s.Ay.createElement("div",{className:(0,l.A)(p.A.root,t)},g("NobodyViewed"))},E=(0,s.ph)(g);n()}catch(e){n(e)}})},62596:(e,t,a)=>{e.exports=a.p+"PremiumMessagePrivacy.950cab3e87c60c5733a6.svg"},63039:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.d(t,{A:()=>c});var s=a(23174),o=a(90709),r=a(62587),i=e([r]),l=i.then?(await i)():i;function c(e,t=!1,a=!1){const n=e&&"content"in e,i=e&&"isDeleted"in e,l=!!n&&(0,o.XR)(e),c=n&&Boolean(e.forwardInfo);let d;n&&(e.content.photo?.thumbnail&&(d=e.content.photo.thumbnail.dataUri),e.content.video?.thumbnail?.dataUri&&(d=e.content.video.thumbnail.dataUri));const m=n?(0,o.EN)(e):void 0,u=(0,r.A)(m),A=Boolean(n&&e.content.video),h=n&&e.content.video?.noSound,y=n?(0,o.EN)(e,"full"):void 0,p=(0,r.A)(y,!e,A?s.qZ.Progressive:s.qZ.BlobUrl),v=A&&n?(0,o.EN)(e,"full",!0):void 0,g=(0,r.A)(v,!e,s.qZ.Progressive),E=Boolean(p||g),b=A?u:p||u,f=!u&&!E,C=t&&n&&!e.noForwards,S=n?(0,o.EN)(e,"download"):void 0;return{isLoadedStory:n,isDeletedStory:i,hasText:l,hasForwardInfo:c,thumbnail:d,previewHash:m,previewBlobUrl:u,isVideo:A,noSound:h,fullMediaHash:y,fullMediaData:p,altMediaHash:v,altMediaData:g,hasFullData:E,bestImageData:b,hasThumb:f,canDownload:C,downloadMediaData:(0,r.A)(S,!C&&!a)}}r=l[0],n()}catch(d){n(d)}})},63270:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.d(t,{A:()=>k});var s=a(84051),o=a(13439),r=a(89925),i=a(31481),l=a(90709),c=a(60919),d=a(58443),m=a(4961),u=a(37661),A=a(26072),h=a(17712),y=a(59030),p=a(64489),v=a(21849),g=a(51083),E=a(42827),b=a(19806),f=a(94189),C=a(22720),S=e([y,v,g,E,b,f,C]);[y,v,g,E,b,f,C]=S.then?(await S)():S;const w=({chat:e,onClose:t,isActive:a,chatId:n,chatsByIds:c,linkedChat:S,forDiscussionIds:w,isChannel:k,onScreenSelect:N})=>{const{loadGroupsForDiscussion:I,linkDiscussionGroup:P,unlinkDiscussionGroup:M,toggleJoinRequest:T,toggleJoinToSend:B}=(0,o.ko)(),[x,L]=(0,s.J0)(),[R,F,D]=(0,u.A)(),[V,_,U]=(0,u.A)(),[O,J]=(0,s.J0)(Boolean(S?.isJoinToSend)),[K,G]=(0,s.J0)(Boolean(S?.isJoinRequest)),j=(0,y.A)(),z=S?.id;(0,A.A)({isActive:a,onBack:t}),(0,s.vJ)(()=>{I()},[I]),(0,s.vJ)(()=>{a&&(J(S?.isJoinToSend||!1),G(S?.isJoinRequest||!1))},[S,a]);const H=(0,s.hb)(()=>{D(),M({channelId:k?n:z}),k||N(r.je.Initial)},[D,M,k,n,z,N]),$=(0,s.hb)(()=>{U(),P({channelId:n,chatId:x})},[U,P,n,x]),q=(0,s.hb)(e=>{J(e),B({chatId:z,isEnabled:e}),e||G(!1)},[z,B]),W=(0,s.hb)(e=>{G(e),T({chatId:z,isEnabled:e})},[z,T]);const Y=(0,h.A)(()=>{N(r.je.NewDiscussionGroup)});return s.Ay.createElement("div",{className:"Management"},s.Ay.createElement("div",{className:"panel-content custom-scroll"},s.Ay.createElement("div",{className:"section"},s.Ay.createElement(p.A,{tgsUrl:d.w.DiscussionGroups,size:i.Uyp,className:"section-icon"}),S&&s.Ay.createElement("div",null,S&&s.Ay.createElement(C.A,{className:"chat-item-clickable",inactive:!0},s.Ay.createElement(g.A,{chatId:S.id})),s.Ay.createElement(C.A,{icon:"delete",ripple:!0,destructive:!0,onClick:F},j(k?"DiscussionUnlinkGroup":"DiscussionUnlinkChannel")),s.Ay.createElement(f.A,{isOpen:R,onClose:D,header:s.Ay.createElement("div",{className:"modal-header"},s.Ay.createElement(v.A,{size:"tiny",peer:S}),s.Ay.createElement("div",{className:"modal-title"},j(k?"DiscussionUnlinkGroup":"DiscussionUnlinkChannel"))),textParts:(0,m.A)(j(k?"DiscussionUnlinkChannelAlert":"DiscussionUnlinkGroupAlert",S?.title),["br","simple_markdown"]),confirmLabel:j(k?"DiscussionUnlinkGroup":"DiscussionUnlinkChannel"),confirmHandler:H,confirmIsDestructive:!0})),!S&&s.Ay.createElement("div",null,s.Ay.createElement("p",{className:"section-help",dir:"auto"},j("DiscussionChannelHelp")),s.Ay.createElement("div",{teactFastList:!0},s.Ay.createElement(C.A,{key:"create-group",icon:"group",ripple:!0,className:"create-item",withPrimaryColor:!0,teactOrderKey:0,onClick:Y},j("DiscussionCreateGroup")),w?w.map((e,t)=>s.Ay.createElement(C.A,{key:e,teactOrderKey:t+1,className:"chat-item-clickable scroll-item",onClick:()=>{L(e),_()}},s.Ay.createElement(g.A,{chatId:e}))):s.Ay.createElement(E.A,{key:"nothing-found",teactOrderKey:0,text:"No discussion groups found"})),s.Ay.createElement("p",{className:"mt-4 mb-0 section-help",dir:"auto"},j("DiscussionChannelHelp2")),s.Ay.createElement(f.A,{isOpen:V,onClose:U,header:function(){if(!x)return;const e=c[x];return e?s.Ay.createElement("div",{className:"modal-header"},s.Ay.createElement(v.A,{size:"tiny",peer:e}),s.Ay.createElement("div",{className:"modal-title"},j("Channel.DiscussionGroup.LinkGroup"))):void 0}(),textParts:function(){if(!x)return;const t=c[x];return t?(0,l.gA)(t)?(0,m.A)(`Do you want to make **${t.title}** the discussion board for **${e?.title}**?`,["br","simple_markdown"]):(0,m.A)(`Do you want to make **${t.title}** the discussion board for **${e?.title}**?\n\nAnyone from the channel will be able to see messages in this group.`,["br","simple_markdown"]):void 0}(),confirmLabel:j("DiscussionLinkGroup"),confirmHandler:$}))),S&&s.Ay.createElement("div",{className:"section"},s.Ay.createElement("h3",{className:"section-heading"},j("ChannelSettingsJoinTitle")),s.Ay.createElement("div",{className:"ListItem narrow"},s.Ay.createElement(b.A,{checked:O,onCheck:q,label:j("ChannelSettingsJoinToSend")})),O&&s.Ay.createElement("div",{className:"ListItem narrow"},s.Ay.createElement(b.A,{checked:K,onCheck:W,label:j("ChannelSettingsJoinRequest")})),s.Ay.createElement("p",{className:"section-info section-info_push"},j(O?"ChannelSettingsJoinRequestInfo":"ChannelSettingsJoinToSendInfo")))))},k=(0,s.ph)((0,o.EK)((e,{chatId:t})=>{const a=(0,c.hds)(e,t),{linkedChatId:n}=(0,c.AWZ)(e,t)||{},{forDiscussionIds:s,byId:o}=e.chats;return{chat:a,chatsByIds:o,forDiscussionIds:s,linkedChat:n?(0,c.hds)(e,n):void 0,isChannel:a&&(0,l.WX)(a)}})(w));n()}catch(e){n(e)}})},63365:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.d(t,{A:()=>x});var s=a(84051),o=a(13439),r=a(96454),i=a(15640),l=a(43336),c=a(41733),d=a(83868),m=a(84313),u=a(43874),A=a(71533),h=a(32899),y=a(17712),p=a(12758),v=a(50680),g=a(73622),E=a(90423),b=a(37487),f=a(18851),C=a(54746),S=a(64493),w=a(35913),k=a(55571),N=e([m,S,k]);function I(){return I=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},I.apply(null,arguments)}[m,S,k]=N.then?(await N)():N;const P=30,M=4,T=5,B=({url:e,isGif:t,posterData:a,posterSize:n,loadProgress:N,fileSize:B,isMediaViewerOpen:x,noPlay:L,volume:R,isMuted:F,playbackRate:D,isForceMobileVersion:V,shouldCloseOnClick:_,isProtected:U,isClickDisabled:O,isPreviewDisabled:J,isSponsoredMessage:K,timestamp:G,handleSponsoredClick:j,onClose:z})=>{const{setMediaViewerVolume:H,setMediaViewerMuted:$,setMediaViewerPlaybackRate:q,setMediaViewerHidden:W}=(0,o.ko)(),Y=(0,s.li)(),[Q,Z]=(0,s.J0)(!r.TF||!r.pz),[X,ee,te]=(0,E.Ay)(Y,Z),{isMobile:ae}=(0,u.Ay)(),ne=Y.current?.duration||0,se=t||ne<=P,oe=(0,y.A)(()=>{r.Nd||W({isHidden:!0})}),re=(0,y.A)(()=>{r.Nd||W({isHidden:!1})}),[ie,le,ce]=(0,p.Ay)(Y,oe,re),[,de,me]=(0,b.A)(),[ue,Ae]=(0,s.Ul)(!1),he=(0,s.li)({x:0,y:0});(0,s.vJ)(()=>{const e=e=>{he.current=(0,i.A)(e)};return window.addEventListener("mousemove",e),window.addEventListener("touchmove",e),()=>{window.removeEventListener("mousemove",e),window.removeEventListener("touchmove",e)}},[]);const ye=(0,y.A)((e,t)=>{const a=Y.current?.getBoundingClientRect();a&&(e<=a.left||e>=a.right||t<=a.top||t>=a.bottom)&&(ue()||de(!1))}),pe=(0,y.A)(()=>{de(!0)}),ve=(0,y.A)(e=>{ye(e.clientX,e.clientY)}),ge=(0,y.A)(e=>{if(Ae(e),!e){const{x:e,y:t}=he.current;ye(e,t)}}),{isReady:Ee,isBuffered:be,bufferedRanges:fe,bufferingHandlers:Ce,bufferedProgress:Se}=(0,A.A)(),we=(0,m.A)(Y,void 0,!e),{shouldRender:ke,transitionClassNames:Ne}=(0,v.A)(!be&&!we,void 0,void 0,"slow"),{shouldRender:Ie,transitionClassNames:Pe}=(0,v.A)(r.pz&&!Q&&!ke&&!we,void 0,void 0,"slow"),[,Me]=(0,h.Ay)(),[,Te]=(0,f.Ay)();(0,s.vJ)(()=>{me(ke)},[me,ke]),(0,s.vJ)(()=>{L||!x||we?Y.current.pause():e&&!r.TF&&(0,c.A)(Y.current)},[L,x,e,$,we]),(0,s.vJ)(()=>{Y.current.volume=R},[R]),(0,s.vJ)(()=>{Y.current.playbackRate=D},[D]),(0,s.vJ)(()=>{G&&(Y.current.currentTime=G,Me(G))},[Me,G]);const Be=(0,y.A)(e=>{e.stopPropagation(),Q?(Y.current.pause(),Z(!1)):((0,c.A)(Y.current),Z(!0))}),xe=(0,y.A)(e=>{K&&(j?.(!0),z(e)),O||(_?z(e):Be(e))});(0,g.A)(Y,Ce);const Le=(0,y.A)(e=>{const t=e.currentTarget;t.readyState>=M&&(Te(!1),Me(t.currentTime)),se||t.currentTime!==t.duration||(Me(0),Z(!1))}),Re=(0,y.A)(()=>{se||(Me(0),Z(!1),de(!0))}),Fe=(0,y.A)(()=>{X&&te?te():!X&&ee&&ee()}),De=(0,y.A)(e=>{Y.current.currentTime=e}),Ve=(0,y.A)(e=>{H({volume:e/100})}),_e=(0,y.A)(()=>{Y.current.muted=!Y.current.muted,$({isMuted:!F})}),Ue=(0,y.A)(e=>{q({playbackRate:e})});(0,s.vJ)(()=>{if(!x)return;const e=e=>{if(!X)return;const t=Y.current,a=(0,l.qE)(t.currentTime+e*T,0,t.duration);Number.isFinite(a)&&(t.currentTime=a)},t=t=>{if(!ce)switch(t.key){case" ":case"Enter":t.preventDefault(),Be(t);break;case"Left":case"ArrowLeft":t.preventDefault(),e(-1);break;case"Right":case"ArrowRight":t.preventDefault(),e(1)}};return document.addEventListener("keydown",t,!1),()=>{document.removeEventListener("keydown",t,!1)}},[Be,x,X,ce]);const Oe=n&&`width: ${n.width}px; height: ${n.height}px`,Je=`background-image: url(${a})`,Ke=!r.TF&&!V;return s.Ay.createElement("div",{className:"VideoPlayer",onMouseMove:Ke?pe:void 0,onMouseLeave:Ke?ve:void 0},s.Ay.createElement("div",{style:Oe},U&&s.Ay.createElement("div",{onContextMenu:d.A,onDoubleClick:r.TF?void 0:Fe,onClick:ae?void 0:Be,className:"protector"}),s.Ay.createElement("video",I({ref:Y,autoPlay:r.TF,controlsList:"nodownload",playsInline:!0,loop:se,muted:t||F,id:"media-viewer-video",style:Je,onWaiting:()=>Te(!0),onPlay:()=>Z(!0),onEnded:Re,onClick:ae||X?void 0:xe,onDoubleClick:r.TF?void 0:Fe},Ce,{onPause:e=>{Z(!1),Ce.onPause(e)},onTimeUpdate:Le,src:e}))),Ie&&s.Ay.createElement(S.A,{round:!0,className:`play-button ${Pe}`,onClick:Be},s.Ay.createElement(C.A,{name:"play"})),ke&&s.Ay.createElement("div",{className:["spinner-container",Ne].join(" ")},!be&&s.Ay.createElement("div",{className:"buffering"},"Buffering..."),s.Ay.createElement(w.A,{size:"xl",progress:be?1:N,onClick:z})),!t&&!K&&!we&&s.Ay.createElement(k.A,{url:e,isPlaying:Q,bufferedRanges:fe,bufferedProgress:Se,isBuffered:be,isFullscreenSupported:Boolean(ee),isPictureInPictureSupported:ie,isFullscreen:X,isPreviewDisabled:J,fileSize:B,duration:ne,isReady:Ee,posterSize:n,isForceMobileVersion:V,onSeek:De,onChangeFullscreen:Fe,onPictureInPictureChange:le,onPlayPause:Be,volume:R,playbackRate:D,isMuted:F,onVolumeClick:_e,onVolumeChange:Ve,onPlaybackRateChange:Ue,onSeekingChange:ge}))},x=(0,s.ph)(B);n()}catch(L){n(L)}})},63441:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.d(t,{A:()=>w});var s=a(84051),o=a(31481),r=a(87357),i=a(17663),l=a(37661),c=a(59030),d=a(73767),m=a(64493),u=a(8410),A=a(54746),h=e([c,m,u]);[c,m,u]=h.then?(await h)():h;const y=1e3*o.fRl,p=0,v=["lng_weekday1","lng_weekday2","lng_weekday3","lng_weekday4","lng_weekday5","lng_weekday6","lng_weekday7"],g=({selectedAt:e,minAt:t,maxAt:a,isFutureMode:n,isPastMode:o,isOpen:i,withTimePicker:h,submitButtonLabel:g,secondButtonLabel:w,description:k,onClose:N,onSubmit:I,onDateChange:P,onSecondButtonClick:M})=>{const T=(0,c.A)(),B=new Date,x=(0,s.Kr)(()=>n&&!t?new Date:new Date(Math.max(t||p,p)),[n,t]),L=(0,s.Kr)(()=>o&&!a?new Date:new Date(Math.min(a||y,y)),[o,a]),R=(0,s.Kr)(()=>e?new Date(e):new Date,[e]),F=(0,d.A)(i),[D,V]=(0,l.A)(!1),[_,U]=(0,s.J0)(R),[O,J]=(0,s.J0)(new Date(_.getFullYear(),_.getMonth(),1)),[K,G]=(0,s.J0)(f(R.getHours())),[j,z]=(0,s.J0)(f(R.getMinutes())),H=C(_.getFullYear(),_.getMonth(),_.getDate()),$=O.getFullYear(),q=O.getMonth(),W=n&&_.getTime()<x.getTime()||o&&_.getTime()>L.getTime();(0,s.vJ)(()=>{!F&&i&&(U(R),J(new Date(R.getFullYear(),R.getMonth(),1)),h&&(G(f(R.getHours())),z(f(R.getMinutes()))))},[R,i,F,h]),(0,s.vJ)(()=>{n&&!D&&_.getTime()<x.getTime()&&(U(x),G(f(x.getHours())),z(f(x.getMinutes())))},[n,D,x,_]),(0,s.vJ)(()=>{o&&!D&&_.getTime()>L.getTime()&&(U(L),G(f(L.getHours())),z(f(L.getMinutes())))},[n,o,D,L,x,_]),(0,s.vJ)(()=>{if(e){const t=new Date(e);U(t),G(f(t.getHours())),z(f(t.getMinutes()))}},[e]);const Y=o&&$>=B.getFullYear()&&q>=B.getMonth()||L&&$>=L.getFullYear()&&q>=L.getMonth(),Q=n&&$<=B.getFullYear()&&q<=B.getMonth(),{prevMonthGrid:Z,currentMonthGrid:X,nextMonthGrid:ee}=(0,s.Kr)(()=>E($,q),[q,$]),te=(0,s.Kr)(()=>g||S(T,_),[T,_,g]),ae=(0,s.hb)(()=>{I(n&&_<x?x:o&&_>L?L:_)},[n,o,x,L,I,_]),ne=(0,s.hb)(e=>{const t=e.target.value.replace(/[^\d]+/g,"");if(!t.length)return G(""),void(e.target.value="");const a=Math.max(0,Math.min(Number(t),23)),n=new Date(_.getTime());n.setHours(a),U(n),P?.(n);const s=f(a);G(s),e.target.value=s},[_,P]),se=(0,s.hb)(e=>{const t=e.target.value.replace(/[^\d]+/g,"");if(!t.length)return z(""),void(e.target.value="");const a=Math.max(0,Math.min(Number(t),59)),n=new Date(_.getTime());n.setMinutes(a),U(n),P?.(n);const s=f(a);z(s),e.target.value=s},[_,P]);return s.Ay.createElement(u.A,{isOpen:i,onClose:N,className:"CalendarModal",onEnter:ae},s.Ay.createElement("div",{className:"container"},s.Ay.createElement("div",{className:"month-selector"},s.Ay.createElement(m.A,{round:!0,size:"smaller",color:"translucent",onClick:N},s.Ay.createElement(A.A,{name:"close"})),s.Ay.createElement("h4",null,T(`lng_month${q+1}`)," ",$),s.Ay.createElement(m.A,{round:!0,size:"smaller",color:"translucent",disabled:Q,onClick:Q?void 0:function(){J(e=>{const t=new Date(e);return t.setMonth(t.getMonth()-1),t})}},s.Ay.createElement(A.A,{name:"previous"})),s.Ay.createElement(m.A,{round:!0,size:"smaller",color:"translucent",disabled:Y,onClick:Y?void 0:function(){J(e=>{const t=new Date(e);return t.setMonth(t.getMonth()+1),t})}},s.Ay.createElement(A.A,{name:"next"})))),s.Ay.createElement("div",{className:"calendar-wrapper"},s.Ay.createElement("div",{className:"calendar-grid"},v.map(e=>s.Ay.createElement("div",{className:"day-button faded weekday"},s.Ay.createElement("span",null,T(e)))),Z.map(e=>s.Ay.createElement("div",{className:"day-button disabled"},s.Ay.createElement("span",null,e))),X.map(e=>s.Ay.createElement("div",{role:"button",tabIndex:0,onClick:()=>{return t=e,void U(e=>{const a=new Date(e);return a.setDate(t),a.setMonth(q),a.setFullYear($),P?.(a),a});var t},className:(0,r.A)("day-button","div-button",b($,q,e,x,L)?"disabled":e?"clickable":"",H===C($,q,e)&&"selected")},Boolean(e)&&s.Ay.createElement("span",null,e))),ee.map(e=>s.Ay.createElement("div",{className:"day-button disabled"},s.Ay.createElement("span",null,e))))),h&&s.Ay.createElement("div",{className:"timepicker"},s.Ay.createElement("input",{type:"text",className:"form-control",inputMode:"decimal",value:K,onChange:ne,onFocus:V}),":",s.Ay.createElement("input",{type:"text",className:"form-control",inputMode:"decimal",value:j,onChange:se,onFocus:V})),s.Ay.createElement("div",{className:"footer"},k&&s.Ay.createElement("div",{className:"description"},k),s.Ay.createElement("div",{className:"footer"},s.Ay.createElement(m.A,{onClick:ae,disabled:W},te),w&&s.Ay.createElement(m.A,{onClick:M,isText:!0},w))))};function E(e,t){const a=[],n=[],s=[],o=new Date;o.setDate(1),o.setMonth(t),o.setFullYear(e);const r=o.getDay()||7,i=new Date(e,t,0).getDate();for(let e=1;e<r;e++)a.push(i-r+e+1);for(;o.getMonth()===t;){const e=o.getDate();n.push(e),o.setDate(e+1)}const l=(n.length+a.length)%7;if(l>0)for(let e=1;e<=7-l;e++)s.push(e);return{prevMonthGrid:a,currentMonthGrid:n,nextMonthGrid:s}}function b(e,t,a,n,s){const o=new Date(e,t,a),r=n&&(0,i.pU)(n),l=s&&(0,i.pU)(s);return!!(l&&o>l)||!!(r&&o<r)}function f(e){return String(e).padStart(2,"0")}function C(e,t,a){return`${e}-${t+1}-${a}`}function S(e,t){const a=(0,i.A)(t,e.code);return a===(0,i.A)(new Date,e.code)?e("Conversation.ScheduleMessage.SendToday",(0,i.fU)(e,t)):e("Conversation.ScheduleMessage.SendOn",[a,(0,i.fU)(e,t)])}const w=(0,s.ph)(g);n()}catch(k){n(k)}})},63745:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.d(t,{A:()=>u});var s=a(84051),o=a(13439),r=a(17712),i=a(8410),l=a(18057),c=e([i]),d=c.then?(await c)():c;i=d[0];const m=({modal:e,credits:t})=>{const{closeCreditsModal:a}=(0,o.ko)(),n=(0,r.A)(()=>{a()});return s.Ay.createElement(i.A,{isOpen:Boolean(e?.isOpen),contentClassName:l.A.content,title:"Credits Detail",hasCloseButton:!0,onClose:n},s.Ay.createElement("table",{className:l.A.table,role:"table","aria-label":"Codes, Invitees, Credits and Time"},s.Ay.createElement("thead",{className:"h-[36px] bg-[#F6F6F6] dark:bg-[var(--color-background)]"},s.Ay.createElement("tr",{role:"row"},s.Ay.createElement("th",{role:"columnheader"},"Detail"),s.Ay.createElement("th",{role:"columnheader"},"Date"),s.Ay.createElement("th",{role:"columnheader"},"Credits change"))),s.Ay.createElement("tbody",null,t&&0!==t.pointsHistory?.length?t.pointsHistory?.map(e=>s.Ay.createElement("tr",{role:"row"},s.Ay.createElement("td",{"data-label":"Detail"},e.sourceDescription),s.Ay.createElement("td",{"data-label":"Invitees"},new Date(e.createdAt).toLocaleString()),s.Ay.createElement("td",{"data-label":"Credits"},e.amount))):s.Ay.createElement("tr",null,s.Ay.createElement("td",{colSpan:4,className:"text-center text-[var(--color-text-secondary)] py-4"},"No Data")))))},u=(0,s.ph)((0,o.EK)(e=>{const{credits:t}=e;return{credits:t}})(m));n()}catch(e){n(e)}})},64247:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.d(t,{A:()=>B});var s=a(84051),o=a(13439),r=a(31481),i=a(90709),l=a(60919),c=a(64520),d=a(30708),m=a(43336),u=a(79824),A=a(37836),h=a(96140),y=a(58443),p=a(15384),v=a(74984),g=a(26072),E=a(59030),b=a(73767),f=a(64489),C=a(54746),S=a(64493),w=a(75300),k=a(22720),N=a(52745),I=e([h,p,v,E,S,w,k]);[h,p,v,E,S,w,k]=I.then?(await I)():I;const P=56,M=(0,A.nF)(e=>e(),6e4,!0),T=({isActive:e,onCreateFolder:t,onEditFolder:a,onReset:n,folderIds:l,foldersById:c,isPremium:d,recommendedChatFolders:A,maxFolders:h})=>{const{loadRecommendedChatFolders:I,addChatFolder:T,openLimitReachedModal:B,openDeleteChatFolderModal:x,sortChatFolders:L}=(0,o.ko)(),[R,F]=(0,s.J0)({orderedFolderIds:l,dragOrderIds:l,draggedIndex:void 0}),D=(0,b.A)(l);(0,s.vJ)(()=>{D!==l&&F({orderedFolderIds:l,dragOrderIds:l,draggedIndex:void 0})},[D,l,R.orderedFolderIds?.length]),(0,s.vJ)(()=>{M(()=>{I()})},[I]);const V=(0,s.hb)(()=>{Object.keys(c).length>=h-1?B({limit:"dialogFilters"}):t()},[c,h,t,B]),_=(0,E.A)();(0,g.A)({isActive:e,onBack:n});const U=(0,v.g5)(),O=(0,s.Kr)(()=>{if(l)return l.length<=1?u.p:l.map(e=>{const t=c[e];return e===r.DSF?{id:e,title:{text:_("FilterAllChats"),entities:[]}}:e===r.LFk?{id:e,title:{text:"Preset",entities:[]}}:e===r.j7l?{id:e,title:{text:"Unread",entities:[]}}:e===r.Sab?{id:e,title:{text:"AI",entities:[]}}:{id:t.id,title:t.title,subtitle:(0,i.A5)(_,t,U[t.id]),isChatList:t.isChatList,noTitleAnimations:t.noTitleAnimations}})},[l,c,_,U]),J=(0,s.hb)(e=>{Object.keys(c).length>=h-1?B({limit:"dialogFilters"}):T({folder:e})},[c,h,T,B]),K=(0,s.hb)((e,t)=>{const a=Math.round(e.y/P),n=R.orderedFolderIds?.indexOf(t)||0,s=R.orderedFolderIds?.filter(e=>e!==t);s&&(0,m.Bt)(n+a,0,l?.length||0)&&(s.splice(n+a+(d?0:1),0,t),F(e=>({...e,draggedIndex:n,dragOrderIds:s})))},[l?.length,d,R.orderedFolderIds]),G=(0,s.hb)(()=>{F(e=>(L({folderIds:e.dragOrderIds}),{...e,orderedFolderIds:e.dragOrderIds,draggedIndex:void 0}))},[L]),j=(0,s.Kr)(()=>!d||Object.keys(c).length<h-1,[c,d,h]);return s.Ay.createElement("div",{className:"settings-content no-border custom-scroll"},s.Ay.createElement("div",{className:"settings-content-header"},s.Ay.createElement(f.A,{size:r.fwn,tgsUrl:y.w.FoldersAll,className:"settings-content-icon"}),s.Ay.createElement("p",{className:"settings-item-description mb-3",dir:"auto"},_("CreateNewFilterInfo")),j&&s.Ay.createElement(S.A,{className:"settings-button with-icon",color:"primary",size:"smaller",pill:!0,fluid:!0,onClick:V,isRtl:_.isRtl},s.Ay.createElement(C.A,{name:"add"}),_("CreateNewFilter"))),s.Ay.createElement("div",{className:"settings-item pt-3"},s.Ay.createElement("h4",{className:"settings-item-header mb-3",dir:_.isRtl?"rtl":void 0},_("Filters")),s.Ay.createElement("div",{className:"settings-sortable-container",style:`height: ${(l?.length||0)*P}px`},O?.length?O.map((t,n)=>{const o=n>h-1,i=R.draggedIndex===n,l=(R.orderedFolderIds?.indexOf(t.id)??0)*P,m=(R.dragOrderIds?.indexOf(t.id)??0)*P;return t.id===r.DSF||t.id===r.LFk||t.id===r.j7l||t.id===r.Sab?s.Ay.createElement(w.A,{key:t.id,id:t.id,onDrag:K,onDragEnd:G,style:`top: ${i?l:m}px;`,knobStyle:(_.isRtl?"left":"right")+": 0.375rem;",isDisabled:!d||!e},s.Ay.createElement(k.A,{key:t.id,className:"drag-item no-icon settings-sortable-item",narrow:!0,inactive:!0,multiline:!0,isStatic:!0,allowSelection:!0},s.Ay.createElement("span",{className:"title"},(0,p.fd)({text:t.title.text,entities:t.title.entities,noCustomEmojiPlayback:t.noTitleAnimations})),s.Ay.createElement("span",{className:"subtitle"},t.id===r.j7l?_("FoldersUnreadChatsDesc"):t.id===r.LFk?"Preset Tags":t.id===r.Sab?"AI-Generated Tags":_("FoldersAllChatsDesc")))):s.Ay.createElement(w.A,{key:t.id,id:t.id,onDrag:K,onDragEnd:G,style:`top: ${i?l:m}px;`,knobStyle:(_.isRtl?"left":"right")+": 3rem;",isDisabled:o||!e},s.Ay.createElement(k.A,{className:"drag-item no-icon settings-sortable-item",narrow:!0,secondaryIcon:"more",multiline:!0,contextActions:[{handler:()=>{x({folderId:t.id})},destructive:!0,title:_("Delete"),icon:"delete"}],onClick:()=>{o?B({limit:"dialogFilters"}):a(c[t.id])}},s.Ay.createElement("span",{className:"title"},(0,p.fd)({text:t.title.text,entities:t.title.entities,noCustomEmojiPlayback:t.noTitleAnimations}),o&&s.Ay.createElement(C.A,{name:"lock-badge",className:"settings-folders-blocked-icon"})),s.Ay.createElement("span",{className:"subtitle"},t.isChatList&&s.Ay.createElement(C.A,{name:"link",className:"mr-1"}),t.subtitle)))}):O&&!O.length?s.Ay.createElement("p",{className:"settings-item-description my-4",dir:"auto"},"You have no folders yet."):s.Ay.createElement(N.A,null))),A&&Boolean(A.length)&&s.Ay.createElement("div",{className:"settings-item pt-3"},s.Ay.createElement("h4",{className:"settings-item-header mb-3",dir:_.isRtl?"rtl":void 0},_("FilterRecommended")),A.map(e=>s.Ay.createElement(k.A,{narrow:!0,onClick:()=>J(e)},s.Ay.createElement("div",{className:"settings-folders-recommended-item"},s.Ay.createElement("div",{className:"multiline-item"},s.Ay.createElement("span",{className:"title"},(0,p.fd)({text:e.title.text,entities:e.title.entities,noCustomEmojiPlayback:e.noTitleAnimations})),s.Ay.createElement("span",{className:"subtitle"},e.description)),s.Ay.createElement(S.A,{className:"px-3",color:"primary",size:"tiny",pill:!0,fluid:!0,isRtl:_.isRtl},_("Add")))))))},B=(0,s.ph)((0,o.EK)(e=>{const{byId:t,recommended:a}=e.chatFolders;let n=e.chatFolders.orderedIds;const{aiChatFolders:s}=(0,d.l)(e);return!0!==s&&(n=(0,h.hc)(n)),{folderIds:n,foldersById:t,isPremium:(0,l.g29)(e),recommendedChatFolders:a,maxFolders:(0,c.d)(e,"dialogFilters")}})(T));n()}catch(e){n(e)}})},64551:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.d(t,{A:()=>M});var s=a(84051),o=a(13439),r=a(23174),i=a(90709),l=a(27109),c=a(60919),d=a(9716),m=a(73104),u=a(43874),A=a(37661),h=a(39351),y=a(17712),p=a(59030),v=a(23565),g=a(50680),E=a(54314),b=a(97046),f=a(71429),C=a(24433),S=a(60859),w=a(3325),k=e([h,p,E,C]);[h,p,E,C]=k.then?(await k)():k;const N={settings:{icon:"bots",label:"BotSettings"},help:{icon:"help",label:"BotHelp"}},I=200,P=({chatId:e,threadId:t,isOpen:a,withExtraActions:n,anchor:r,isChannel:i,botCommands:l,botPrivacyPolicyUrl:c,withForumActions:d,isTopic:k,isForum:P,isForumAsMessages:M,isChatInfoShown:T,canStartBot:B,canSubscribe:x,canReportChat:L,canSearch:R,canCall:F,canMute:D,canViewStatistics:V,canViewMonetization:_,canViewBoosts:U,pendingJoinRequests:O,canLeave:J,canEnterVoiceChat:K,canCreateVoiceChat:G,chat:j,isPrivate:z,isMuted:H,canDeleteChat:$,canGift:q,hasLinkedChat:W,canAddContact:Y,canCreateTopic:Q,canEditTopic:Z,canManage:X,isRightColumnShown:ee,canTranslate:te,isBlocked:ae,isBot:ne,isChatWithSelf:se,savedDialog:oe,canShowBoostModal:re,disallowedGifts:ie,isAccountFrozen:le,channelMonoforumId:ce,onJoinRequestsClick:de,onSubscribeChannel:me,onSearchClick:ue,onAsMessagesClick:Ae,onClose:he,onCloseAnimationEnd:ye})=>{const{updateChatMutedState:pe,enterMessageSelectMode:ve,sendBotCommand:ge,restartBot:Ee,requestMasterAndJoinGroupCall:be,createGroupCall:fe,openLinkedChat:Ce,openAddContactDialog:Se,openFrozenAccountModal:we,requestMasterAndRequestCall:ke,toggleStatistics:Ne,openMonetizationStatistics:Ie,openBoostStatistics:Pe,openGiftModal:Me,openThreadWithInfo:Te,openCreateTopicPanel:Be,openEditTopicPanel:xe,openChat:Le,openUrl:Re,toggleManagement:Fe,togglePeerTranslations:De,blockUser:Ve,unblockUser:_e,setViewForumAsMessages:Ue,openBoostModal:Oe,reportMessages:Je,showNotification:Ke}=(0,o.ko)(),Ge=(0,p.A)(),je=(0,h.A)(),{isMobile:ze}=(0,u.Ay)(),[He,$e]=(0,s.J0)(!0),[qe,We]=(0,s.J0)(!1),[Ye,Qe]=(0,s.J0)(!1),[Ze,Xe]=(0,s.J0)(!1),[et,tt,at]=(0,A.A)(),{x:nt,y:st}=r;(0,g.A)(a,ye,void 0,!1);const ot=(0,v.A)(!(T||!P)||void 0,I),rt=(0,s.Kr)(()=>{if(ie)return Object.values(ie).every(Boolean)},[ie]),it=(0,y.A)(()=>{Xe(!1),he()}),lt=(0,y.A)(()=>{le?we():($e(!1),Je({chatId:e,messageIds:[]})),he()}),ct=(0,y.A)(()=>{le?(we(),he()):Qe(!0),$e(!1)}),dt=(0,y.A)(()=>{$e(!1),he()}),mt=(0,y.A)(()=>{Te({chatId:e,threadId:t}),We(!ee),dt()}),ut=(0,y.A)(()=>{Qe(!1),he()}),At=(0,y.A)(()=>{le?we():ge({command:"/start"})}),ht=(0,y.A)(()=>{le?we():Ee({chatId:e})}),yt=(0,y.A)(()=>{le?we():pe({chatId:e,isMuted:!1}),dt()}),pt=(0,y.A)(()=>{le?(we(),dt()):(tt(),Xe(!0)),$e(!1)}),vt=(0,y.A)(()=>{le?we():(Be({chatId:e}),We(!ee)),dt()}),gt=(0,y.A)(()=>{le?we():(Fe({force:!0}),We(!ee)),dt()}),Et=(0,y.A)(()=>{le?we():(xe({chatId:e,topicId:Number(t)}),We(!ee)),dt()}),bt=(0,y.A)(()=>{Le({id:void 0}),Ue({chatId:e,isEnabled:!1}),dt()}),ft=(0,y.A)(()=>{le?we():G?fe({chatId:e}):be({chatId:e}),dt()}),Ct=(0,y.A)(()=>{Ce({id:e}),dt()}),St=(0,y.A)(()=>{rt&&j?Ke({message:je("SendDisallowError")}):(Me({forUserId:e}),le?we():Me({forUserId:e}),dt())}),wt=(0,y.A)(()=>{le?we():Se({userId:e}),dt()}),kt=(0,y.A)(()=>{le?we():me(),dt()}),Nt=(0,y.A)(()=>{le?we():ke({userId:e,isVideo:!0}),dt()}),It=(0,y.A)(()=>{le?we():ke({userId:e}),dt()}),Pt=(0,y.A)(()=>{ue(),dt()}),Mt=(0,y.A)(()=>{Ne(),We(!ee),dt()}),Tt=(0,y.A)(()=>{Ie({chatId:e}),We(!ee),dt()}),Bt=(0,y.A)(()=>{le?we():U?(Pe({chatId:e}),We(!ee)):Oe({chatId:e}),dt()}),xt=(0,y.A)(()=>{De({chatId:e,isEnabled:!0}),dt()}),Lt=(0,y.A)(()=>{le?we():ve(),dt()}),Rt=(0,y.A)(()=>{Ae(),dt()}),Ft=(0,y.A)(()=>{le?we():Ve({userId:e}),dt()}),Dt=(0,y.A)(()=>{le?we():_e({userId:e}),dt()}),Vt=(0,y.A)(()=>{Le({id:ce}),dt()});(0,s.vJ)(m.M6,[]);const _t=(0,s.Kr)(()=>{const e=l?.map(({command:e})=>{const t=N[e];if(t)return s.Ay.createElement(C.A,{key:e,icon:t.icon,onClick:()=>{ge({command:`/${e}`}),dt()}},Ge(t.label))}),t=l?.some(({command:e})=>"privacy"===e);return[...e||[],ne&&s.Ay.createElement(C.A,{icon:"privacy-policy",onClick:()=>{t&&!c?ge({command:"/privacy"}):Re({url:c||Ge("BotDefaultPrivacyPolicy")}),dt()}},Ge("BotPrivacyPolicy"))].filter(Boolean)},[l,Ge,c,ne]),Ut=(0,s.Kr)(()=>{if(j)return Ge(oe?"Delete":z?"DeleteChatUser":$?"GroupInfo.DeleteAndExit":i?"LeaveChannel":"Group.LeaveGroup")},[$,j,i,z,oe,Ge]);return s.Ay.createElement(w.A,null,s.Ay.createElement("div",{className:"HeaderMenuContainer"},s.Ay.createElement(f.A,{isOpen:He,positionX:"right",style:`left: ${nt}px;top: ${st}px;`,onClose:dt,shouldCloseFast:qe},ze&&R&&s.Ay.createElement(C.A,{icon:"search",onClick:Pt},Ge("Search")),d&&Q&&s.Ay.createElement(s.Ay.Fragment,null,s.Ay.createElement(C.A,{icon:"comments",onClick:vt},Ge("lng_forum_create_topic")),s.Ay.createElement(S.A,null)),ce&&s.Ay.createElement(C.A,{icon:"message",onClick:Vt},je("ChannelSendMessage")),ot&&s.Ay.createElement(C.A,{icon:"info",onClick:mt},Ge(k?"lng_context_view_topic":"lng_context_view_group")),X&&!Z&&s.Ay.createElement(C.A,{icon:"edit",onClick:gt},Ge("Edit")),Z&&s.Ay.createElement(C.A,{icon:"edit",onClick:Et},Ge("lng_forum_topic_edit")),ze&&!d&&P&&!k&&s.Ay.createElement(C.A,{icon:"forums",onClick:bt},Ge("Chat.ContextViewAsTopics")),d&&Boolean(O)&&s.Ay.createElement(C.A,{icon:"user",onClick:de},Ge(i?"SubscribeRequests":"MemberRequests"),s.Ay.createElement("div",{className:"right-badge"},O)),d&&!k&&!M&&s.Ay.createElement(C.A,{icon:"message",onClick:Rt},Ge("lng_forum_view_as_messages")),n&&B&&s.Ay.createElement(C.A,{icon:"bots",onClick:At},Ge("BotStart")),n&&x&&s.Ay.createElement(C.A,{icon:i?"channel":"group",onClick:kt},Ge(i?"ProfileJoinChannel":"ProfileJoinGroup")),re&&!U&&s.Ay.createElement(C.A,{icon:"boost-outline",onClick:Bt},Ge(i?"BoostingBoostChannelMenu":"BoostingBoostGroupMenu")),Y&&s.Ay.createElement(C.A,{icon:"add-user",onClick:wt},Ge("AddContact")),ze&&F&&s.Ay.createElement(C.A,{icon:"phone",onClick:It},Ge("Call")),F&&s.Ay.createElement(C.A,{icon:"video-outlined",onClick:Nt},Ge("VideoCall")),D&&(H?s.Ay.createElement(C.A,{icon:"unmute",onClick:yt},Ge("ChatsUnmute")):s.Ay.createElement(C.A,{icon:"mute",onClick:pt},Ge("ChatsMute"),"...")),(K||G)&&s.Ay.createElement(C.A,{icon:"voice-chat",onClick:ft},Ge(G?"StartVoipChat":"VoipGroupJoinCall")),W&&s.Ay.createElement(C.A,{icon:i?"comments":"channel",onClick:Ct},Ge(i?"ViewDiscussion":"lng_profile_view_channel")),!d&&s.Ay.createElement(C.A,{icon:"select",onClick:Lt},Ge("ReportSelectMessages")),U&&s.Ay.createElement(C.A,{icon:"boost-outline",onClick:Bt},Ge("Boosts")),V&&s.Ay.createElement(C.A,{icon:"stats",onClick:Mt},Ge("Statistics")),i&&_&&s.Ay.createElement(C.A,{icon:"cash-circle",onClick:Tt},Ge("lng_channel_earn_title")),te&&s.Ay.createElement(C.A,{icon:"language",onClick:xt},Ge("lng_context_translate")),L&&s.Ay.createElement(C.A,{icon:"flag",onClick:lt},Ge("ReportPeer.Report")),_t,q&&s.Ay.createElement(C.A,{icon:"gift",onClick:St},Ge("ProfileSendAGift")),ne&&s.Ay.createElement(C.A,{icon:ae?"bots":"hand-stop",onClick:ae?ht:Ft},Ge(ae?"BotRestart":"Bot.Stop")),z&&!se&&!ne&&s.Ay.createElement(C.A,{icon:ae?"user":"hand-stop",onClick:ae?Dt:Ft},Ge(ae?"Unblock":"BlockUser")),J&&s.Ay.createElement(s.Ay.Fragment,null,s.Ay.createElement(S.A,null),s.Ay.createElement(C.A,{destructive:!0,icon:"delete",onClick:ct},Ut))),j&&s.Ay.createElement(E.A,{isOpen:Ye,onClose:ut,chat:oe||j,isSavedDialog:Boolean(oe)}),D&&et&&j?.id&&s.Ay.createElement(b.A,{isOpen:Ze,onClose:it,onCloseAnimationEnd:at,chatId:j.id})))},M=(0,s.ph)((0,o.EK)((e,{chatId:t,threadId:a})=>{const n=(0,c.hds)(e,t),s=(0,c._ls)(e,t);if(!n||s)return{};const o=(0,d.L8)(n.id),m=o?(0,c.mBe)(e,t):void 0,u=m&&(0,i.Gh)(m),A=a===r.l3,h=(0,c.nZ4)(e,t),{chatId:y,threadId:p}=(0,c.Xf0)(e)||{},v=A&&!m&&((0,i.WX)(n)||(0,i.YE)(n))&&!(0,i.SJ)(n),g=(0,i.DX)(t)?void 0:(0,c.yps)(e,t),E=o?(0,c.vGo)(e,t):void 0,b=o?void 0:(0,c.AWZ)(e,t),f=E||b,C=(0,c.X2D)(e,t),S=(0,c.S0q)(e,t,a),w=n.isForum&&(n.isCreator||!(0,i.Sq)(n,"manageTopics")||(0,i.ub)(n,"manageTopics")),k=S&&(0,i.l1)(n,S),N=(0,c.e5V)(e,t),I=(0,c.jGY)(e,t)&&f?.isTranslationDisabled,P=(0,i.cG)(t,a,e.currentUserId)?(0,c.hds)(e,String(a)):void 0,M=(0,c.trm)(e);return{chat:n,isMuted:(0,l.If)(n,(0,c.K52)(e),(0,c.P5N)(e,n.id)),isPrivate:o,isTopic:n?.isForum&&!A,isForum:n?.isForum,isForumAsMessages:n?.isForumAsMessages,canAddContact:u,canDeleteChat:(0,i.IC)(n),canReportChat:v,canGift:C,hasLinkedChat:Boolean(b?.linkedChatId),botCommands:g?E?.botInfo?.commands:void 0,botPrivacyPolicyUrl:g?E?.botInfo?.privacyPolicyUrl:void 0,isChatInfoShown:(0,c.nTw)(e).isChatInfoShown&&y===t&&p===a,canCreateTopic:w,canEditTopic:k,canManage:N,isRightColumnShown:(0,c.gjV)(e),canTranslate:I,isBlocked:E?.isBlocked,isBot:Boolean(g),isChatWithSelf:h,savedDialog:P,disallowedGifts:E?.disallowedGifts,isAccountFrozen:M}})(P));n()}catch(e){n(e)}})},64617:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.d(t,{A:()=>v});var s=a(84051),o=a(13439),r=a(31481),i=a(7101),l=a(39351),c=a(17712),d=a(64493),m=a(8410),u=a(1087),A=a(3465),h=e([l,d,m,u]);[l,d,m,u]=h.then?(await h)():h;const y=30,p=({modal:e,selfDestructAccountDays:t})=>{const{closeGiftCodeModal:a,closeDeleteAccountModal:n,setAccountTTL:h}=(0,o.ko)(),p=(0,l.A)(),v=Boolean(e),[g,E]=(0,s.J0)(),b=(0,c.A)(e=>Number(e)*y),f=(0,s.Kr)(()=>{if(t)return(0,i._)(r.WF4,t/y).toString()},[t]);(0,s.vJ)(()=>{f&&E(f)},[f]);const C=(0,s.Kr)(()=>r.WF4.map(e=>({value:String(e),label:p("Months",{count:e},{pluralValue:1})})),[p]),S=(0,c.A)(e=>{E(e)}),w=(0,c.A)(()=>{g&&h({days:b(g)})}),k=(0,c.A)(()=>{n()});return s.Ay.createElement(m.A,{isOpen:v,title:p("SelfDestructTitle"),onClose:a,className:A.A.root},s.Ay.createElement("p",null,p("SelfDestructSessionsDescription")),s.Ay.createElement(u.A,{className:"dialog-checkbox-group",name:"quick-reaction-settings",options:C,selected:g,onChange:S,withIcon:!0}),s.Ay.createElement("div",{className:"dialog-buttons mt-2"},s.Ay.createElement(d.A,{className:"confirm-dialog-button",isText:!0,onClick:w},p("Save")),s.Ay.createElement(d.A,{color:"danger",className:"confirm-dialog-button",isText:!0,onClick:k},p("Cancel"))))},v=(0,s.ph)((0,o.EK)((e,{modal:t})=>{const{selfDestructAccountDays:a}=t||{};return{selfDestructAccountDays:a}})(p));n()}catch(e){n(e)}})},64710:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.d(t,{A:()=>H});var s=a(84051),o=a(13439),r=a(31481),i=a(90709),l=a(60919),c=a(87357),d=a(17663),m=a(87894),u=a(4961),A=a(37661),h=a(17712),y=a(59030),p=a(63441),v=a(2153),g=a(51083),E=a(54746),b=a(12418),f=a(64493),C=a(94189),S=a(40664),w=a(96530),k=a(22720),N=a(8410),I=a(1087),P=a(11124),M=a(63152),T=a(60379),B=a(56394),x=a(43147),L=a(77609),R=a(15896),F=a(72078),D=a(68153),V=a(65741),_=a(45318),U=a(99243),O=e([y,p,v,g,b,f,C,S,k,N,I,T,B,x,L]);[y,p,v,g,b,f,C,S,k,N,I,T,B,x,L]=O.then?(await O)():O;const J=2592e5,K=9,G=5,j={3:D,6:F,12:V},z=({chatId:e,gifts:t,isOpen:a,isChannel:n,selectedMemberList:l,selectedChannelList:D,giveawayBoostPerPremiumLimit:V=r.CQG,countryList:O,prepaidGiveaway:z,countrySelectionLimit:H=r.y67,userSelectionLimit:$=r.qbC,isStarsGiftEnabled:q,starsGiftOptions:W})=>{const Y=(0,s.li)(),{closeGiveawayModal:Q,openInvoice:Z,openPremiumModal:X,launchPrepaidGiveaway:ee,launchPrepaidStarsGiveaway:te}=(0,o.ko)(),ae=(0,y.A)(),[ne,se,oe]=(0,A.A)(),[re,ie,le]=(0,A.A)(),[ce,de,me]=(0,A.A)(),[ue,Ae,he]=(0,A.A)(),[ye,pe,ve]=(0,A.A)(),ge=[{name:"Premium.Title",text:"BoostingWinnersRandomly",value:"premium_giveaway",img:F,actions:"createPremiumGiveaway",isLink:!0,onClickAction:()=>{Ae()}}];q&&ge.push({name:"TelegramStars",text:"BoostingWinnersRandomly",value:"stars_giveaway",img:_,actions:"createStarsGiveaway",isLink:!1});const[Ee,be]=(0,s.J0)(Date.now()+J),[fe,Ce]=(0,s.J0)(!0),[Se,we]=(0,s.J0)(G),[ke,Ne]=(0,s.J0)(ge[0].value),[Ie,Pe]=(0,s.J0)(),[Me,Te]=(0,s.J0)("all"),[Be,xe]=(0,s.J0)(),[Le,Re]=(0,s.J0)([]),[Fe,De]=(0,s.J0)([]),[Ve,_e]=(0,s.J0)([]),[Ue,Oe]=(0,s.J0)(!1),[Je,Ke]=(0,s.J0)(!1),[Ge,je]=(0,s.J0)(void 0),[ze,He]=(0,s.J0)(void 0),[$e,qe]=(0,s.J0)(void 0),We="premium_giveaway"===ke,Ye="stars_giveaway"===ke,Qe=We&&!Le.length?Se:Le.length,Ze=Qe*V,Xe=Ie?.yearlyBoosts,et=(0,s.Kr)(()=>[{value:"all",label:ae(n?"BoostingAllSubscribers":"BoostingAllMembers"),subLabel:Ve&&Ve.length>0?ae("Giveaway.ReceiverType.Countries",Ve.length):ae("BoostingFromAllCountries")},{value:"new",label:ae(n?"BoostingNewSubscribers":"BoostingNewMembers"),subLabel:Ve&&Ve.length>0?ae("Giveaway.ReceiverType.Countries",Ve.length):ae("BoostingFromAllCountries")}],[n,ae,Ve]),tt=ae("Months",Be),at="starsGiveaway"===z?.type,nt="giveaway"===z?.type,st=(0,s.Kr)(()=>t?.find(e=>e.months===Be&&e.users===Qe),[t,Be,Qe]),ot=(0,s.Kr)(()=>W?.find(e=>at&&e.stars===$e?.stars),[$e,W,at]),rt=(0,s.Kr)(()=>t?.filter(e=>e.users===Qe&&e.currency!==r.OUy),[t,Qe]),it=(0,s.Kr)(()=>{const e=rt?.reduce((e,t)=>t.amount<e.amount?t:e,rt[0]);return e&&Math.floor(e.amount/e.months)},[rt]),lt=(0,s.Kr)(()=>(0,m.Am)(t?.filter(e=>e.currency!==r.OUy)?.map(e=>e.users)||[]).sort((e,t)=>e-t),[t]),ct=(0,s.Kr)(()=>(0,m.Am)(Ie?.winners?.map(e=>e.users)||[]).sort((e,t)=>e-t),[Ie]);(0,s.vJ)(()=>{a&&t?.length&&!at&&xe(t?.[0].months)},[a,t,at]),(0,s.vJ)(()=>{a&&W?.length&&!nt&&Pe(W?.[0])},[a,W,nt]),(0,s.vJ)(()=>{a&&at&&(we(z.quantity),qe(z))},[a,at,z]),(0,s.vJ)(()=>{a&&nt&&(we(z.quantity),He(z),xe(z.months))},[a,nt,z]),(0,s.vJ)(()=>{l&&Re(l)},[l]),(0,s.vJ)(()=>{D&&De(D)},[D]);const dt=(0,h.A)(()=>{X()}),mt=(0,h.A)(()=>{qe(void 0),He(void 0),Pe(void 0),xe(void 0),we(G),Q()}),ut=(0,h.A)(()=>{Z(We?Le?.length?{type:"giftcode",boostChannelId:e,userIds:Le,currency:st.currency,amount:st.amount,option:st}:{type:"giveaway",chatId:e,additionalChannelIds:Fe,isOnlyForNewSubscribers:"new"===Me,countries:Ve,areWinnersVisible:Ue,prizeDescription:Ge,untilDate:Ee/1e3,currency:st.currency,amount:st.amount,option:st}:{type:"starsgiveaway",chatId:e,additionalChannelIds:Fe,isOnlyForNewSubscribers:"new"===Me,countries:Ve,areWinnersVisible:Ue,prizeDescription:Ge,untilDate:Ee/1e3,currency:Ie.currency,amount:Ie.amount,stars:Ie.stars,users:Se}),mt()}),At=(0,h.A)(()=>{at?te({chatId:e,giveawayId:$e.id,paymentPurpose:{additionalChannelIds:Fe,countries:Ve,prizeDescription:Ge,areWinnersVisible:Ue,untilDate:Ee/1e3,stars:$e.stars,currency:ot.currency,amount:ot.amount,users:$e.quantity}}):ee({chatId:e,giveawayId:ze.id,paymentPurpose:{additionalChannelIds:Fe,countries:Ve,prizeDescription:Ge,areWinnersVisible:Ue,untilDate:Ee/1e3,currency:st.currency,amount:st.amount}}),me(),mt()}),ht=(0,h.A)(e=>{we(e)}),yt=(0,h.A)(e=>{we(e)}),pt=(0,h.A)(e=>{je(e.target.value)}),vt=(0,s.Kr)(()=>{const e=(0,o.mS)().users.byId;return Le?.map(t=>(0,i.Yg)(e[t])).join(", ")},[Le]),gt=(0,h.A)(e=>{Te(e)}),Et=(0,h.A)(e=>{Ne(e),Re([]),we(G)}),bt=(0,h.A)(e=>{be(e.getTime()),oe()}),ft=(0,h.A)(e=>{_e(e)}),Ct=(0,h.A)(e=>{Re(e),e.length||Ne("premium_giveaway")}),St=(0,h.A)(e=>{De(e)}),wt=(0,h.A)(e=>{Oe(e.target.checked)}),kt=(0,h.A)(e=>{Ke(e.target.checked)}),Nt=(0,h.A)(()=>{ie()}),It=(0,h.A)(e=>{Pe(e)});function Pt(){return s.Ay.createElement(s.Ay.Fragment,null,s.Ay.createElement("div",{className:R.A.section},s.Ay.createElement("h2",{className:R.A.giveawayTitle},ae("BoostingChannelsGroupsIncludedGiveaway")),s.Ay.createElement(k.A,{inactive:!0,className:"chat-item-clickable contact-list-item"},s.Ay.createElement(g.A,{chatId:e,status:ae(n?"BoostingChannelWillReceiveBoost":"BoostingGroupWillReceiveBoost",Ze||Xe,"i")})),Fe?.map(e=>s.Ay.createElement(k.A,{ripple:!0,key:e,className:"chat-item-clickable contact-list-item",onClick:()=>function(e){const t=Fe.filter(t=>t!==e);De(t)}(e),rightElement:s.Ay.createElement(E.A,{name:"close",className:R.A.removeChannel})},s.Ay.createElement(g.A,{chatId:e.toString()}))),Fe.length<K&&s.Ay.createElement(k.A,{icon:"add",ripple:!0,onClick:pe,className:R.A.addButton,iconClassName:R.A.addChannel},ae("BoostingAddChannelOrGroup"))),s.Ay.createElement("div",{className:R.A.section},s.Ay.createElement("h2",{className:R.A.giveawayTitle},ae("BoostingEligibleUsers")),s.Ay.createElement("div",{className:R.A.options},s.Ay.createElement(I.A,{name:"subscribers",options:et,selected:Me,onChange:gt,onClickAction:Nt,subLabelClassName:R.A.subLabelClassName,isLink:!0}))),s.Ay.createElement("div",{className:R.A.subscription},(0,u.A)(ae(n?"BoostGift.LimitSubscribersInfo":"lng_giveaway_users_about_group"))),s.Ay.createElement("div",{className:R.A.section},s.Ay.createElement("div",{className:R.A.checkboxSection},s.Ay.createElement("h2",{className:R.A.title},ae("BoostingGiveawayAdditionalPrizes")),s.Ay.createElement(M.A,{label:ae("BoostingGiveawayAdditionalPrizes"),checked:Je,onChange:kt})),Je&&s.Ay.createElement("div",{className:R.A.prizesSection},s.Ay.createElement("h2",{className:R.A.title},Se),s.Ay.createElement(S.A,{className:R.A.prizesInput,value:Ge,onChange:pt,label:ae("BoostingGiveawayEnterYourPrize")}))),Je?Ye||at?void 0:s.Ay.createElement("div",{className:R.A.subscription},Ge?.length?(0,u.A)(ae("BoostingGiveawayAdditionPrizeCountNameHint",ze?[ze.quantity,Ge,tt]:[Qe,Ge,tt],void 0,Be),["simple_markdown"]):(0,u.A)(ae("BoostingGiveawayAdditionPrizeCountHint",ze?[ze.quantity,tt]:[Qe,tt],void 0,Be),["simple_markdown"])):s.Ay.createElement("div",{className:R.A.subscription},(0,u.A)(ae("BoostingGiveawayAdditionPrizeHint"))),s.Ay.createElement("div",{className:R.A.section},s.Ay.createElement("div",{className:R.A.checkboxSection},s.Ay.createElement("h2",{className:R.A.title},ae("BoostingGiveawayShowWinners")),s.Ay.createElement(M.A,{label:ae("BoostingGiveawayAdditionalPrizes"),checked:Ue,onChange:wt}))),s.Ay.createElement("div",{className:R.A.subscription},(0,u.A)(ae("BoostingGiveawayShowWinnersHint"))),s.Ay.createElement("div",{className:(0,c.A)(R.A.section,(ze||$e||Ye)&&R.A.subscriptionFooter)},s.Ay.createElement("h2",{className:R.A.giveawayTitle},ae("BoostingDateWhenGiveawayEnds")),s.Ay.createElement(f.A,{ariaLabel:ae("BoostGift.DateEnds"),className:(0,c.A)(R.A.dateButton,"expire-limit"),isText:!0,onClick:se},s.Ay.createElement("h3",{className:R.A.title},ae("BoostGift.DateEnds")),(0,d.L2)(Ee,ae.code))))}return s.Ay.createElement(N.A,{className:R.A.root,onClose:mt,isOpen:a,dialogRef:Y,onEnter:ze||$e?de:ut},s.Ay.createElement("div",{className:(0,c.A)(R.A.main,"custom-scroll"),onScroll:function(e){const{scrollTop:t}=e.currentTarget;Ce(t<=150)}},s.Ay.createElement(f.A,{round:!0,size:"smaller",className:R.A.closeButton,color:"translucent",onClick:mt,ariaLabel:ae("Close")},s.Ay.createElement(E.A,{name:"close"})),s.Ay.createElement("img",{className:R.A.logo,src:U,alt:"",draggable:!1}),s.Ay.createElement("h2",{className:R.A.headerText},(0,u.A)(ae("BoostingBoostsViaGifts"))),s.Ay.createElement("div",{className:R.A.description},(0,u.A)(ae(n?"BoostingGetMoreBoost":"BoostingGetMoreBoostsGroup"))),s.Ay.createElement("div",{className:(0,c.A)(R.A.header,fe&&R.A.hiddenHeader)},s.Ay.createElement("h2",{className:R.A.premiumHeaderText},ae("BoostingBoostsViaGifts"))),ze||$e?s.Ay.createElement("div",{className:R.A.status},s.Ay.createElement("div",null,$e?s.Ay.createElement("img",{className:R.A.prepaidImg,src:_,alt:""}):s.Ay.createElement("img",{className:R.A.prepaidImg,src:j[ze.months]||j[3],alt:""})),s.Ay.createElement("div",{className:R.A.info},s.Ay.createElement("h3",{className:R.A.title},$e?ae("Giveaway.Stars.Prepaid.Title",$e?.stars):ae("BoostingTelegramPremiumCountPlural",ze.quantity)),s.Ay.createElement("p",{className:R.A.month},$e?ae("Giveaway.Stars.Prepaid.Desc",$e?.quantity):ae("PrepaidGiveawayMonths",ze?.months))),s.Ay.createElement("div",{className:R.A.quantity},s.Ay.createElement("div",{className:(0,c.A)(R.A.floatingBadge,R.A.floatingBadgeColor)},s.Ay.createElement(E.A,{name:"boost",className:R.A.floatingBadgeIcon}),s.Ay.createElement("div",{className:R.A.floatingBadgeValue,dir:ae.isRtl?"rtl":void 0},$e?$e?.boosts:ze.quantity*(V??r.CQG))))):s.Ay.createElement("div",{className:(0,c.A)(R.A.section,R.A.types)},s.Ay.createElement("div",{className:R.A.options},ge.map(e=>s.Ay.createElement(B.A,{key:e.name,name:e.name,text:e.text,option:e.value,img:e.img,onChange:Et,checked:ke===e.value,isLink:e.isLink,userNames:vt,selectedMemberIds:Le,onClickAction:e.onClickAction})))),We&&!Le?.length&&s.Ay.createElement(s.Ay.Fragment,null,!ze&&!$e&&s.Ay.createElement(s.Ay.Fragment,null,s.Ay.createElement("div",{className:R.A.section},s.Ay.createElement("div",{className:R.A.quantity},s.Ay.createElement("h2",{className:R.A.giveawayTitle},ae("BoostingQuantityPrizes")),s.Ay.createElement("div",{className:(0,c.A)(R.A.floatingBadge,R.A.floatingBadgeColor)},s.Ay.createElement(E.A,{name:"boost",className:R.A.floatingBadgeIcon}),s.Ay.createElement("div",{className:R.A.floatingBadgeValue,dir:ae.isRtl?"rtl":void 0},Ze))),s.Ay.createElement(P.A,{rangeCount:Qe,marks:lt,onChange:ht})),s.Ay.createElement("div",{className:R.A.subscription},(0,u.A)(ae("BoostingChooseHowMany")))),Pt()),Ye&&s.Ay.createElement(s.Ay.Fragment,null,!$e&&!ze&&s.Ay.createElement(s.Ay.Fragment,null,s.Ay.createElement("div",{className:R.A.section},s.Ay.createElement("div",{className:R.A.quantity},s.Ay.createElement("h2",{className:R.A.giveawayTitle},ae("BoostingStarsOptions")),s.Ay.createElement("div",{className:(0,c.A)(R.A.floatingBadge,R.A.floatingBadgeColor)},s.Ay.createElement(E.A,{name:"boost",className:R.A.floatingBadgeIcon}),s.Ay.createElement("div",{className:R.A.floatingBadgeValue,dir:ae.isRtl?"rtl":void 0},Xe))),s.Ay.createElement(b.A,{className:R.A.starOptions,options:W,selectedStarCount:Se,selectedStarOption:Ie,onClick:It})),s.Ay.createElement("div",{className:(0,c.A)(R.A.subscription,R.A.starSubscription)},(0,u.A)(ae("BoostGift.Stars.Info"))),s.Ay.createElement("div",{className:R.A.section},s.Ay.createElement("h2",{className:R.A.giveawayTitle},ae("BoostingStarsQuantityPrizes")),s.Ay.createElement(P.A,{rangeCount:Se,marks:ct,onChange:yt}),s.Ay.createElement("div",{className:R.A.subscription},(0,u.A)(ae("BoostingStarsQuantityPrizesInfo"))))),Pt()),!ze&&!$e&&We&&s.Ay.createElement(s.Ay.Fragment,null,s.Ay.createElement("div",{className:R.A.section},s.Ay.createElement("h2",{className:R.A.giveawayTitle},ae("BoostingDurationOfPremium")),s.Ay.createElement("div",{className:R.A.options},rt?.map(e=>s.Ay.createElement(L.A,{isGiveaway:!0,key:e.months,option:e,fullMonthlyAmount:it,checked:e.months===Be,onChange:xe})))),s.Ay.createElement("div",{className:(0,c.A)(R.A.subscription,R.A.subscriptionFooter)},function(){const e=ae("GiftPremiumListFeaturesAndTerms").match(/([^*]*)\*([^*]+)\*(.*)/);if(e&&!(e.length<4))return s.Ay.createElement("p",{className:R.A.premiumFeatures},e[1],s.Ay.createElement(w.A,{isPrimary:!0,onClick:dt},e[2]),e[3])}())),ke&&s.Ay.createElement("div",{className:R.A.footer},s.Ay.createElement(f.A,{className:R.A.button,onClick:ze||$e?de:ut},ae("BoostingStartGiveaway")))),s.Ay.createElement(p.A,{isOpen:ne,isFutureMode:!0,withTimePicker:!0,onClose:oe,onSubmit:bt,selectedAt:Ee,submitButtonLabel:ae("Save")}),s.Ay.createElement(v.A,{isOpen:re,onClose:le,countryList:O,onSubmit:ft,selectionLimit:H}),s.Ay.createElement(x.A,{isOpen:ue,onClose:he,onSelectedIdsConfirmed:Ct,initialSelectedIds:Le,selectionLimit:$,giveawayChatId:e}),s.Ay.createElement(T.A,{isOpen:ye,onClose:ve,initialSelectedIds:Fe,onSelectedIdsConfirmed:St,selectionLimit:r.cgU,giveawayChatId:e}),s.Ay.createElement(C.A,{title:ae("BoostingStartGiveawayConfirmTitle"),text:ae("BoostingStartGiveawayConfirmText"),confirmLabel:ae("Start"),isOpen:ce,onClose:me,confirmHandler:At}))},H=(0,s.ph)((0,o.EK)(e=>{const{giveawayModal:t}=(0,l.nTw)(e),a=t?.chatId,n=a?(0,l.hds)(e,a):void 0,s=n&&(0,i.WX)(n);return{chatId:a,gifts:t?.gifts,selectedMemberList:t?.selectedMemberIds,selectedChannelList:t?.selectedChannelIds,giveawayBoostPerPremiumLimit:e.appConfig?.giveawayBoostsPerPremium,isStarsGiftEnabled:e.appConfig?.isStarsGiftEnabled,userSelectionLimit:e.appConfig?.giveawayAddPeersMax,countrySelectionLimit:e.appConfig?.giveawayCountriesMax,countryList:e.countryList.general,prepaidGiveaway:t?.prepaidGiveaway,isChannel:s,starsGiftOptions:t?.starOptions}})(z));n()}catch(e){n(e)}})},64971:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.d(t,{A:()=>A});var s=a(84051),o=a(13439),r=a(90709),i=a(87357),l=a(59030),c=a(21849),d=a(6468),m=e([l,c]);[l,c]=m.then?(await m)():m;const u=({data:e})=>{const t=(0,l.A)(),{openChatByUsername:a}=(0,o.ko)(),n=(0,s.Kr)(()=>e.chat?(0,r.Kl)(e.chat):void 0,[e.chat]),m=(0,s.hb)(()=>{a({username:n,messageId:e.messageId})},[e.messageId,a,n]);return s.Ay.createElement("div",{className:(0,i.A)(d.A.root,"statistic-public-forward"),onClick:m},s.Ay.createElement(c.A,{size:"medium",peer:e.chat}),s.Ay.createElement("div",null,s.Ay.createElement("div",{className:d.A.title},e.title),s.Ay.createElement("div",{className:d.A.views},t("ChannelStats.ViewsCount",e.views,"i"))))},A=(0,s.ph)(u);n()}catch(e){n(e)}})},65010:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.d(t,{A:()=>y});var s=a(84051),o=a(13439),r=a(60919),i=a(76023),l=a(4961),c=a(92033),d=a(38102),m=a(22720),u=e([d,m]);[d,m]=u.then?(await u)():u;const A=2*i.$,h=({topicId:e,topic:t,onClick:a})=>{const n=(0,s.hb)(()=>{a(e)},[e,a]),o=(0,c.A)(n);if(t)return s.Ay.createElement(m.A,{className:"chat-item-clickable search-result",onClick:n,buttonClassName:"topic-item",buttonRef:o},s.Ay.createElement(d.A,{size:A,topic:t,className:"topic-icon",letterClassName:"topic-icon-letter"}),s.Ay.createElement("div",{dir:"auto",className:"fullName"},(0,l.A)(t.title)))},y=(0,s.ph)((0,o.EK)((e,{chatId:t,topicId:a})=>({topic:(0,r.S0q)(e,t,a)}))(h));n()}catch(e){n(e)}})},65279:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.d(t,{A:()=>f});var s=a(84051),o=a(13439),r=a(31481),i=a(30708),l=a(96454),c=a(61182),d=a(95362),m=a(58443),u=a(26072),A=a(17712),h=a(59030),y=a(64489),p=a(15006),v=a(19806),g=a(22720),E=e([h,v,g]);[h,v,g]=E.then?(await E)():E;const b=({isActive:e,onReset:t,shouldForceHttpTransport:a,shouldAllowHttpTransport:n,shouldCollectDebugLogs:i,shouldDebugExportedSenders:E})=>{const{requestConfetti:b,setSharedSettingOption:f,requestWave:C}=(0,o.ko)(),S=(0,s.li)(),[w,k]=(0,s.J0)(!1),N=(0,h.A)(),[I,P]=(0,s.J0)(!1);(0,s.vJ)(()=>{window.electron?.getIsAutoUpdateEnabled().then(P)},[]),(0,u.A)({isActive:e,onBack:t});const M=(0,A.A)(()=>{const e=new File([(0,c.F8)()],r.lFE,{type:"text/plain"}),t=URL.createObjectURL(e);(0,d.A)(t,r.lFE)}),T=(0,s.hb)(e=>{window.electron?.setIsAutoUpdateEnabled(e)},[]),B=(0,A.A)(e=>{C({startX:e.clientX,startY:e.clientY})}),x=(0,A.A)(()=>{b({withStars:!0})}),L=(0,A.A)(()=>{const e=S.current;e&&(0,p.U)(e)&&(k(!0),setTimeout(()=>{k(!1)},1500))});return s.Ay.createElement("div",{className:"settings-content custom-scroll"},s.Ay.createElement("div",{className:"settings-content-header no-border"},s.Ay.createElement(y.A,{tgsUrl:m.w.Experimental,size:200,className:"experimental-duck",nonInteractive:!0,noLoop:!1}),s.Ay.createElement("p",{className:"settings-item-description pt-3",dir:"auto"},N("lng_settings_experimental_about"))),s.Ay.createElement("div",{className:"settings-item"},s.Ay.createElement(g.A,{onClick:x,icon:"animations"},s.Ay.createElement("div",{className:"title"},"Launch some confetti!")),s.Ay.createElement(g.A,{onClick:B,icon:"story-expired",disabled:!l.J6},s.Ay.createElement("div",{className:"title"},"Start wave")),s.Ay.createElement(g.A,{ref:S,onClick:L,icon:"spoiler",disabled:!l.bW,style:w?"visibility: hidden":""},s.Ay.createElement("div",{className:"title"},"Vaporize this button")),s.Ay.createElement(v.A,{label:"Allow HTTP Transport",checked:Boolean(n),onCheck:()=>f({shouldAllowHttpTransport:!n})}),s.Ay.createElement(v.A,{label:"Force HTTP Transport",disabled:!n,checked:Boolean(a),onCheck:()=>f({shouldForceHttpTransport:!a})}),s.Ay.createElement(v.A,{label:N("DebugMenuEnableLogs"),checked:Boolean(i),onCheck:()=>f({shouldCollectDebugLogs:!i})}),s.Ay.createElement(v.A,{label:"Enable exported senders debug",checked:Boolean(E),onCheck:()=>f({shouldDebugExportedSenders:!E})}),l.cp&&s.Ay.createElement(v.A,{label:"Enable autoupdates",checked:Boolean(I),onCheck:T}),s.Ay.createElement(g.A,{onClick:M,icon:"bug"},s.Ay.createElement("div",{className:"title"},"Download log"))))},f=(0,s.ph)((0,o.EK)(e=>{const{shouldForceHttpTransport:t,shouldAllowHttpTransport:a,shouldCollectDebugLogs:n,shouldDebugExportedSenders:s}=(0,i.l)(e);return{shouldForceHttpTransport:t,shouldAllowHttpTransport:a,shouldCollectDebugLogs:n,shouldDebugExportedSenders:s}})(b));n()}catch(e){n(e)}})},65375:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.d(t,{A:()=>I});var s=a(84051),o=a(13439),r=a(89925),i=a(31481),l=a(90709),c=a(27109),d=a(60919),m=a(37661),u=a(26072),A=a(59030),h=a(21849),y=a(54746),p=a(17751),v=a(19806),g=a(94189),E=a(12933),b=a(40664),f=a(22720),C=a(45426),S=a(57474),w=e([A,h,p,v,g,E,b,f,C]);[A,h,p,v,g,E,b,f,C]=w.then?(await w)():w;const k="Please provide first name",N=({userId:e,user:t,progress:a,isMuted:n,onClose:c,isActive:d,personalPhoto:w,notPersonalPhoto:N})=>{const{updateContact:I,deleteContact:P,closeManagement:M,uploadContactProfilePhoto:T}=(0,o.ko)(),[B,x,L]=(0,m.A)(),[R,F,D]=(0,m.A)(),[V,_]=(0,s.J0)(!1),[U,O]=(0,s.J0)(),J=(0,A.A)();(0,u.A)({isActive:d,onBack:c});const K=t&&t.firstName||"",G=t&&t.lastName||"",[j,z]=(0,s.J0)(K),[H,$]=(0,s.J0)(G),[q,W]=(0,s.J0)(!n);(0,s.vJ)(()=>{W(!n)},[n]),(0,s.vJ)(()=>{_(!1),L()},[L,e]),(0,s.vJ)(()=>{z(K),$(G)},[K,G,t]),(0,s.vJ)(()=>{a===r.TD.Complete&&(_(!1),O(void 0),L())},[L,a]);const Y=(0,s.hb)(e=>{z(e.target.value),_(!0),U===k&&O(void 0)},[U]),Q=(0,s.hb)(e=>{$(e.target.value),_(!0)},[]),Z=(0,s.hb)(e=>{W(e.target.checked),_(!0)},[]),X=(0,s.hb)(()=>{const t=j.trim(),a=H.trim();t.length?I({userId:e,isMuted:!q,firstName:t,lastName:a}):O(k)},[j,H,I,e,q]),ee=(0,s.hb)(()=>{P({userId:e}),L(),M()},[L,M,P,e]),te=(0,s.li)(),ae=(0,s.li)(!1),ne=(0,s.hb)(()=>{te.current?.click(),ae.current=!0},[]),se=(0,s.hb)(()=>{te.current?.click(),ae.current=!1},[]),oe=(0,s.hb)(()=>{D(),_(!0),T({userId:e})},[D,T,e]),re=(0,s.hb)(t=>{_(!0),T({userId:e,file:t,isSuggest:ae.current})},[T,e]);if(!t)return;const ie=!(0,l.tv)(t)&&t.id!==i.zv8,le=a===r.TD.InProgress;return s.Ay.createElement("div",{className:"Management"},s.Ay.createElement("div",{className:"custom-scroll"},s.Ay.createElement("div",{className:"section"},s.Ay.createElement(p.A,{userId:t.id,avatarSize:"jumbo",noStatusOrTyping:!0,noEmojiStatus:!0,withFullInfo:!0}),s.Ay.createElement("div",{className:"settings-edit"},s.Ay.createElement(b.A,{id:"user-first-name",label:J("UserInfo.FirstNamePlaceholder"),onChange:Y,value:j,error:U===k?U:void 0}),s.Ay.createElement(b.A,{id:"user-last-name",label:J("UserInfo.LastNamePlaceholder"),onChange:Q,value:H})),s.Ay.createElement("div",{className:"ListItem narrow"},s.Ay.createElement(v.A,{checked:q,label:J("Notifications"),subLabel:J(q?"UserInfo.NotificationsEnabled":"UserInfo.NotificationsDisabled"),onChange:Z}))),ie&&s.Ay.createElement("div",{className:"section"},s.Ay.createElement(f.A,{icon:"camera-add",ripple:!0,onClick:ne},s.Ay.createElement("span",{className:"list-item-ellipsis"},J("UserInfo.SuggestPhoto",t.firstName))),s.Ay.createElement(f.A,{icon:"camera-add",ripple:!0,onClick:se},s.Ay.createElement("span",{className:"list-item-ellipsis"},J("UserInfo.SetCustomPhoto",t.firstName))),w&&s.Ay.createElement(f.A,{leftElement:s.Ay.createElement(h.A,{photo:N,noPersonalPhoto:!0,peer:t,size:"mini",className:"personal-photo"}),ripple:!0,onClick:F},J("UserInfo.ResetCustomPhoto")),s.Ay.createElement("p",{className:"section-help",dir:"auto"},J("UserInfo.CustomPhotoInfo",t.firstName))),s.Ay.createElement("div",{className:"section"},s.Ay.createElement(f.A,{icon:"delete",ripple:!0,destructive:!0,onClick:x},J("DeleteContact")))),s.Ay.createElement(E.A,{isShown:V,onClick:X,disabled:le,ariaLabel:J("Save")},le?s.Ay.createElement(S.A,{color:"white"}):s.Ay.createElement(y.A,{name:"check"})),s.Ay.createElement(g.A,{isOpen:B,onClose:L,text:J("AreYouSureDeleteContact"),confirmLabel:J("DeleteContact"),confirmHandler:ee,confirmIsDestructive:!0}),s.Ay.createElement(g.A,{isOpen:R,onClose:D,text:J("UserInfo.ResetToOriginalAlertText",t.firstName),confirmLabel:J("Reset"),confirmHandler:oe,confirmIsDestructive:!0}),s.Ay.createElement(C.A,{onChange:re,inputRef:te}))},I=(0,s.ph)((0,o.EK)((e,{userId:t})=>{const a=(0,d.mBe)(e,t),n=(0,d.hds)(e,t),s=(0,d.vGo)(e,t),{progress:o}=(0,d.nTw)(e).management,r=n&&(0,c.If)(n,(0,d.K52)(e),(0,d.P5N)(e,n.id)),i=s?.personalPhoto;return{user:a,progress:o,isMuted:r,personalPhoto:i,notPersonalPhoto:s?.profilePhoto||s?.fallbackPhoto}})(N));n()}catch(e){n(e)}})},65475:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.d(t,{A:()=>p});var s=a(84051),o=a(13439),r=a(89925),i=a(31481),l=a(58443),c=a(26072),d=a(17712),m=a(59030),u=a(4438),A=a(64493),h=e([m,A]);[m,A]=h.then?(await h)():h;const y=({isActive:e,onReset:t})=>{const{openSettingsScreen:a}=(0,o.ko)(),n=(0,m.A)(),h=(0,d.A)(()=>{a({screen:r.VS.Privacy})});return(0,c.A)({isActive:e,onBack:t}),s.Ay.createElement("div",{className:"settings-content two-fa custom-scroll"},s.Ay.createElement("div",{className:"settings-content-header no-border"},s.Ay.createElement(u.A,{size:i.r2x,tgsUrl:l.w.Congratulations,className:"settings-content-icon"}),s.Ay.createElement("p",{className:"settings-item-description mb-3",dir:"auto"},n("TwoStepVerificationPasswordSetInfo"))),s.Ay.createElement("div",{className:"settings-item settings-group"},s.Ay.createElement(A.A,{onClick:h},n("TwoStepVerificationPasswordReturnSettings"))))},p=(0,s.ph)(y);n()}catch(e){n(e)}})},65625:(e,t,a)=>{function n(e){const t=e.key||e.code;return t.startsWith("Key")?t.slice(3).toLowerCase():t}a.d(t,{A:()=>n})},66024:(e,t,a)=>{e.exports=a.p+"PremiumChats.89d9d315638e283ca895.svg"},66105:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.d(t,{A:()=>f});var s=a(84051),o=a(13439),r=a(90709),i=a(60919),l=a(87357),c=a(36838),d=a(17712),m=a(59030),u=a(29886),A=a(21849),h=a(35384),y=a(38705),p=a(64493),v=a(8410),g=a(86001),E=e([m,A,h,y,p,v]);[m,A,h,y,p,v]=E.then?(await E)():E;const b=({modal:e})=>{const{acceptChatInvite:t,closeChatInviteModal:a,showNotification:n}=(0,o.ko)(),E=(0,s.li)(),b=(0,m.A)(),f=(0,u.A)(e),{hash:C,inviteInfo:S}=e||f||{},{about:w,isBroadcast:k,participantIds:N,participantsCount:I,photo:P,isRequestNeeded:M}=S||{},T=(0,d.A)(()=>{a()}),B=(0,d.A)(()=>{t({hash:C}),M&&n({message:b(k?"RequestToJoinChannelSentDescription":"RequestToJoinGroupSentDescription")}),T()}),x=k?"ProfileJoinChannel":"JoinGroup",L=k?"MemberRequests.RequestToJoinChannel":"MemberRequests.RequestToJoinGroup",R=(0,s.Kr)(()=>{if(S)return(0,r.nr)(S)},[S]),F=(0,s.Kr)(()=>{if(!N)return;const e=(0,o.mS)();return N.map(t=>(0,i.mBe)(e,t)).filter(Boolean)},[N]);return(0,c.A)(E,!e||!F),s.Ay.createElement(v.A,{isOpen:Boolean(e),contentClassName:g.A.content,isSlim:!0,onClose:T,onEnter:B},R&&s.Ay.createElement(A.A,{size:"jumbo",photo:P,peer:R,withVideo:!0}),R&&s.Ay.createElement(h.A,{className:g.A.title,peer:R}),w&&s.Ay.createElement("p",{className:g.A.about},w),s.Ay.createElement("p",{className:g.A.participantCount},b(k?"Subscribers":"Members",I,"i")),F&&s.Ay.createElement("div",{ref:E,className:(0,l.A)(g.A.participants,"no-scrollbar")},F.map(e=>s.Ay.createElement(y.A,{className:g.A.participant,peer:e,text:(0,r.Yg)(e)}))),s.Ay.createElement("div",{className:(0,l.A)("dialog-buttons",g.A.buttons)},s.Ay.createElement(p.A,{isText:!0,className:"confirm-dialog-button",onClick:B},b(M?L:x)),s.Ay.createElement(p.A,{isText:!0,className:"confirm-dialog-button",onClick:T},b("Cancel"))))},f=(0,s.ph)(b);n()}catch(e){n(e)}})},66511:(e,t,a)=>{a.d(t,{A:()=>n});const n={root:"QAs_iFxO","limit-compare":"k0O6Rnjh",limitCompare:"k0O6Rnjh","limit-badge":"Q5d_7bB4",limitBadge:"Q5d_7bB4","limit-value":"ArEy3hhB",limitValue:"ArEy3hhB","limit-icon":"rbnU7JVX",limitIcon:"rbnU7JVX","dialog-buttons":"RVM_RSap",dialogButtons:"RVM_RSap",x2:"esB1OhAF","button-icon":"ydpxmYS3",buttonIcon:"ydpxmYS3"}},66735:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.d(t,{A:()=>f});var s=a(84051),o=a(13439),r=a(89925),i=a(90709),l=a(70636),c=a(43874),d=a(26072),m=a(96374),u=a(59030),A=a(54746),h=a(17751),y=a(12933),p=a(46222),v=a(22720),g=a(52745),E=e([l,u,h,y,v]);[l,u,h,y,v]=E.then?(await E)():E;const b=({isActive:e,filter:t,usersById:a,userStatusesById:n,contactIds:E,onReset:b})=>{const{openChat:f,openNewContactDialog:C}=(0,o.ko)(),S=(0,u.A)(),{isMobile:w}=(0,c.Ay)();(0,d.A)({isActive:e,onBack:b});const k=(0,s.hb)(e=>{f({id:e,shouldReplaceHistory:!0})},[f]),N=(0,s.Kr)(()=>{if(!E)return;const e=(0,l.PU)({ids:E,query:t,type:"user"});return(0,i.UB)(e,a,n)},[E,t,a,n]),[I,P]=(0,m.A)(void 0,N,Boolean(t));return s.Ay.createElement(p.A,{items:I,onLoadMore:P,className:"chat-list custom-scroll"},I?.length?I.map(e=>s.Ay.createElement(v.A,{key:e,className:"chat-item-clickable contact-list-item",onClick:()=>k(e)},s.Ay.createElement(h.A,{userId:e,forceShowSelf:!0,avatarSize:"large",withStory:!0,storyViewerOrigin:r.G9.ChatList,ripple:!w}))):I&&!I.length?s.Ay.createElement("p",{className:"no-results",key:"no-results",dir:"auto"},t.length?"No contacts matched your search.":"Contact list is empty."):s.Ay.createElement(g.A,{key:"loading"}),s.Ay.createElement(y.A,{key:"create-new-contact",isShown:!0,onClick:C,ariaLabel:S("CreateNewContact")},s.Ay.createElement(A.A,{name:"add-user-filled"})))},f=(0,s.ph)((0,o.EK)(e=>{const{userIds:t}=e.contactList||{},{byId:a,statusesById:n}=e.users;return{usersById:a,userStatusesById:n,contactIds:t}})(b));n()}catch(e){n(e)}})},66815:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.d(t,{A:()=>d});var s=a(84051),o=a(13439),r=a(59030),i=a(94189),l=e([r,i]);function c({isOpen:e,story:t,onClose:a}){const{deleteStory:n,openNextStory:l}=(0,o.ko)(),c=(0,r.A)(),d=(0,s.hb)(()=>{t&&(l(),n({peerId:t.peerId,storyId:t.id}),a())},[a,t]);return s.Ay.createElement(i.A,{isOpen:e,onClose:a,title:c("DeleteStoryTitle"),text:c("DeleteStorySubtitle"),confirmLabel:c("Delete"),confirmHandler:d,confirmIsDestructive:!0,className:"component-theme-dark"})}[r,i]=l.then?(await l)():l;const d=(0,s.ph)(c);n()}catch(m){n(m)}})},66915:(e,t,a)=>{a.d(t,{A:()=>i});var n=a(84051),s=a(66644),o=a(96454);const r=300;function i(e,t=r){(0,n.vJ)(()=>{o.TF||setTimeout(()=>{(0,s.YS)(()=>{e.current?.focus()})},t)},[e,t])}},66970:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.d(t,{A:()=>y});var s=a(84051),o=a(13439),r=a(31481),i=a(39351),l=a(17712),c=a(54746),d=a(64493),m=a(8410),u=a(61349),A=e([i,d,m]);[i,d,m]=A.then?(await A)():A;const h=({modal:e,verifyAgeBotUsername:t,verifyAgeMin:a})=>{const{closeAgeVerificationModal:n,openChatByUsername:r}=(0,o.ko)(),A=(0,i.A)(),h=Boolean(e),y=(0,l.A)(()=>{t&&r({shouldStartMainApp:!0,username:t}),n()}),p=(0,l.A)(()=>{n()});return s.Ay.createElement(m.A,{isOpen:h,onClose:p,className:u.A.root},s.Ay.createElement("div",{className:u.A.content},s.Ay.createElement("div",{className:u.A.header},s.Ay.createElement("div",{className:u.A.iconWrapper},s.Ay.createElement(c.A,{name:"user",className:u.A.icon}))),s.Ay.createElement("h2",{className:u.A.title},A("TitleAgeVerificationModal")),s.Ay.createElement("p",{className:u.A.mainText},A("TextAgeVerificationModal",{count:a},{withMarkdown:!0,withNodes:!0,pluralValue:a})),s.Ay.createElement("p",{className:u.A.description},A("DescriptionAgeVerificationModal"))),s.Ay.createElement("div",{className:"dialog-buttons mt-2"},s.Ay.createElement(d.A,{onClick:y},A("ButtonAgeVerification"))))},y=(0,s.ph)((0,o.EK)(e=>{const t=e.appConfig,a=t?.verifyAgeBotUsername;return{verifyAgeBotUsername:a,verifyAgeMin:t?.verifyAgeMin||r.lYi}})(h));n()}catch(e){n(e)}})},67067:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.d(t,{A:()=>k});var s=a(84051),o=a(13439),r=a(31481),i=a(60919),l=a(87357),c=a(48775),d=a(80140),m=a(58443),u=a(537),A=a(39351),h=a(17712),y=a(64489),p=a(54746),v=a(64493),g=a(52745),E=a(61361),b=a(41036),f=a(37359),C=e([A,v,E]);[A,v,E]=C.then?(await C)():C;const S=2,w=({searchQuery:e,searchFlood:t,onSearch:a,isLoading:n,isCurrentUserPremium:i,starsBalance:C})=>{const w=(0,A.A)(),k=t?.queryIsFree,N=t?.query,I=(0,u.A)([e?.slice(0,18).trimEnd()]),P=(0,h.A)(()=>{a()});(0,s.vJ)(()=>{k&&e&&N===e&&a()},[k,e,N,a]);const M=(0,h.A)(()=>{const e=t?.starsAmount||0;C<e?x({topup:{balanceNeeded:e}}):a()}),{checkSearchPostsFlood:T,openPremiumModal:B,openStarsBalanceModal:x}=(0,o.ko)(),L=(0,h.A)(()=>{T({})}),R=(0,h.A)(()=>{B()}),F=(0,d.Fm)(),D=0===t?.remains||t?.waitTill&&t.waitTill>F;return s.Ay.createElement(b.Ay,{name:"fade",activeKey:i?n?2:D?0:1:3},i?n?s.Ay.createElement("div",{className:f.A.container},s.Ay.createElement("div",{className:(0,l.A)(f.A.content,f.A.loadingScreen)},s.Ay.createElement(g.A,null))):D?(()=>{const a=t?.waitTill,n=t?.starsAmount||r._tP,o=t?.totalDaily||r.M3$;return s.Ay.createElement("div",{className:f.A.container},s.Ay.createElement("div",{className:f.A.content},s.Ay.createElement(y.A,{className:f.A.sticker,size:120,tgsUrl:m.w.Search,previewUrl:m.d.Search,nonInteractive:!0,noLoop:!1}),s.Ay.createElement("div",{className:f.A.limitTitle},w("PublicPostsLimitReached")),s.Ay.createElement("div",{className:f.A.limitDescription},w("HintPublicPostsSearchQuota",{count:o},{pluralValue:o})),s.Ay.createElement(v.A,{className:f.A.paidSearchButton,color:"primary",size:"smaller",disabled:!e,noForcedUpperCase:!0,onClick:M},w("PublicPostsSearchForStars",{stars:(0,c.U2)(w,n,{asFont:!0})},{withNodes:!0})),Boolean(a)&&s.Ay.createElement("div",{className:f.A.freeSearchUnlock},s.Ay.createElement(E.A,{langKey:"UnlockTimerPublicPostsSearch",endsAt:a+S,onEnd:L}))))})():(()=>{const a=t?.remains||0;return s.Ay.createElement("div",{className:f.A.container},s.Ay.createElement("div",{className:f.A.content},s.Ay.createElement(y.A,{className:f.A.sticker,size:120,tgsUrl:m.w.Search,previewUrl:m.d.Search,nonInteractive:!0,noLoop:!1}),s.Ay.createElement("div",{className:f.A.title},w("GlobalSearch")),s.Ay.createElement("div",{className:f.A.description},w("DescriptionPublicPostsSearch")),s.Ay.createElement(v.A,{className:f.A.searchButton,color:"primary",size:"smaller",noForcedUpperCase:!0,disabled:!e,onClick:P},s.Ay.createElement(b.Ay,{name:"fade",activeKey:I},s.Ay.createElement("div",{className:f.A.searchButtonContent},s.Ay.createElement(p.A,{name:"search",className:(0,l.A)(f.A.searchIcon,e&&f.A.searchIconWithNext)}),w("ButtonSearchPublicPosts",{query:e?s.Ay.createElement("span",{className:f.A.searchQuery},e):""},{withNodes:!0}),e&&s.Ay.createElement(p.A,{name:"next",className:f.A.nextIcon})))),s.Ay.createElement("div",{className:f.A.remainingSearches},w("RemainingPublicPostsSearch",{count:a},{pluralValue:a}))))})():s.Ay.createElement("div",{className:f.A.container},s.Ay.createElement("div",{className:f.A.content},s.Ay.createElement("div",{className:f.A.premiumTitle},w("GlobalSearch")),s.Ay.createElement("div",{className:f.A.premiumDescription},w("PublicPostsPremiumFeatureDescription")),s.Ay.createElement(v.A,{className:f.A.subscribePremiumButton,color:"primary",size:"smaller",noForcedUpperCase:!0,onClick:R},w("PublicPostsSubscribeToPremium")),s.Ay.createElement("div",{className:f.A.premiumSubtitle},w("PublicPostsPremiumFeatureSubtitle")))))},k=(0,s.ph)((0,o.EK)(e=>({isCurrentUserPremium:(0,i.g29)(e),starsBalance:e.stars?.balance?.amount||0}))(w));n()}catch(e){n(e)}})},67215:(e,t,a)=>{a.d(t,{A:()=>n});const n={root:"nZYT4vJ3",sets:"JzkmXjFF"}},68105:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.d(t,{A:()=>f});var s=a(84051),o=a(13439),r=a(87357),i=a(4961),l=a(10722),c=a(14),d=a(17712),m=a(59030),u=a(54746),A=a(84685),h=a(13352),y=a(64493),p=a(8410),v=a(65461),g=a(57489),E=e([m,h,y,p,v]);[m,h,y,p,v]=E.then?(await E)():E;const b=({modal:e,minLevelToRestrictAds:t})=>{const{closeAboutAdsModal:a}=(0,o.ko)(),n=(0,s.li)(),E=Boolean(e),b=(0,c.A)(e),{canReport:f,randomId:C,additionalInfo:S,sponsorInfo:w}=b||{},k=f,N=(0,c.A)(k),I=(0,m.A)(),P=(0,s.Kr)(()=>s.Ay.createElement(s.Ay.Fragment,null,s.Ay.createElement("h3",null,I("SponsoredMessageInfoScreen.Title")),s.Ay.createElement("p",null,(0,i.A)(I("SponsoredMessageInfoDescription1"),["br"])),s.Ay.createElement("p",null,(0,i.A)(I("SponsoredMessageInfoDescription2"),["br"])),s.Ay.createElement("p",null,(0,i.A)(I("SponsoredMessageInfoDescription3"),["br"])),s.Ay.createElement("p",null,s.Ay.createElement(A.A,{url:I("SponsoredMessageAlertLearnMoreUrl"),text:I("SponsoredMessageAlertLearnMoreUrl")})),s.Ay.createElement("p",null,(0,i.A)(I("SponsoredMessageInfoDescription4"),["br"]))),[I]),{isContextMenuOpen:M,contextMenuAnchor:T,handleContextMenu:B,handleContextMenuClose:x,handleContextMenuHide:L}=(0,l.A)(n,!N),R=(0,d.A)(()=>{a(),x(),L()}),F=(0,s.Kr)(()=>{if(E)return{header:s.Ay.createElement(s.Ay.Fragment,null,s.Ay.createElement("h3",{className:g.A.title},I("AboutRevenueSharingAds")),s.Ay.createElement("p",{className:(0,r.A)(g.A.description,g.A.secondary)},I("RevenueSharingAdsAlertSubtitle")),s.Ay.createElement(y.A,{ref:n,round:!0,size:"smaller",color:"translucent",className:g.A.moreButton,onClick:B},s.Ay.createElement(u.A,{name:"more"}))),listItemData:[["lock",I("RevenueSharingAdsInfo1Title"),(0,i.A)(I("RevenueSharingAdsInfo1Subtitle"),["simple_markdown"])],["revenue-split",I("RevenueSharingAdsInfo2Title"),(0,i.A)(I("RevenueSharingAdsInfo2Subtitle"),["simple_markdown"])],["nochannel",I("RevenueSharingAdsInfo3Title"),(0,i.A)(I("RevenueSharingAdsInfo3Subtitle",t),["simple_markdown"])]],footer:s.Ay.createElement(s.Ay.Fragment,null,s.Ay.createElement("h3",{className:g.A.title},(0,i.A)(I("RevenueSharingAdsInfo4Title"),["simple_markdown"])),s.Ay.createElement("p",{className:g.A.description},(0,i.A)(I("RevenueSharingAdsInfo4Subtitle2",""),["simple_markdown"]),s.Ay.createElement(A.A,{url:I("PromoteUrl"),text:I("LearnMoreArrow")})))}},[E,I,B,t]);return N?s.Ay.createElement(s.Ay.Fragment,null,s.Ay.createElement(v.A,{isOpen:E,listItemData:F?.listItemData,headerIconName:"channel",withSeparator:!0,header:F?.header,footer:F?.footer,buttonText:I("RevenueSharingAdsUnderstood"),onClose:R}),T&&C&&s.Ay.createElement(h.A,{isOpen:M,anchor:T,triggerRef:n,randomId:C,additionalInfo:S,canReport:f,sponsorInfo:w,shouldSkipAbout:!0,onItemClick:R,onClose:x,onCloseAnimationEnd:L})):s.Ay.createElement(p.A,{isOpen:E,className:g.A.root,contentClassName:g.A.content,onClose:R},P,s.Ay.createElement(y.A,{size:"smaller",onClick:R},I("RevenueSharingAdsUnderstood")))},f=(0,s.ph)((0,o.EK)(e=>{const t=e.appConfig?.channelRestrictAdsLevelMin;return{minLevelToRestrictAds:t}})(b));n()}catch(e){n(e)}})},68490:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.d(t,{A:()=>y});var s=a(84051),o=a(87357),r=a(45470),i=a(62587),l=a(83057),c=a(65843),d=a(92612),m=a(12429),u=e([i]),A=u.then?(await u)():u;i=A[0];const h=({videoId:e,isReverseAnimation:t,isDown:a,videoThumbnail:n,index:u,isActive:A})=>{const h=(0,i.A)(`document${e}`),y=(0,r.A)(n.dataUri),p=(0,l.A)(h);return s.Ay.createElement("div",{className:d.A.root},s.Ay.createElement("div",{className:(0,o.A)(d.A.wrapper,t&&d.A.reverse,a&&d.A.down),id:`premium_feature_preview_video_${u}`},s.Ay.createElement("img",{src:m,alt:"",className:d.A.frame,draggable:!1}),s.Ay.createElement("canvas",{ref:y,className:d.A.video}),s.Ay.createElement(c.A,{canPlay:A,className:(0,o.A)(d.A.video,p),src:h,disablePictureInPicture:!0,playsInline:!0,muted:!0,loop:!0})))},y=(0,s.ph)(h);n()}catch(e){n(e)}})},68921:(e,t,a)=>{e.exports=a.p+"PremiumReactions.7fee56ab6b58c82fd15e.svg"},69929:(e,t,a)=>{a.d(t,{A:()=>n});const n={root:"XWfkIDLY","multi-tab":"gBVR7Hec",multiTab:"gBVR7Hec","close-icon":"RuJ3d9N6",closeIcon:"RuJ3d9N6",minimized:"dJ1Ld_PX",fullScreen:"ciSTWz16",tabs:"X18WbDa5","tool-bar":"qK4q0Sat",toolBar:"qK4q0Sat","tab-button-wrapper":"oHX2d8Or",tabButtonWrapper:"oHX2d8Or","tab-button":"O4NxErFX",tabButton:"O4NxErFX","tab-right-mask":"dgdyQDsZ",tabRightMask:"dgdyQDsZ","tab-close-button":"xGefqS93",tabCloseButton:"xGefqS93","tab-button-curve-path":"bOuMHiVw",tabButtonCurvePath:"bOuMHiVw","tab-button-left-curve":"f7EicoVH",tabButtonLeftCurve:"f7EicoVH","tab-button-right-curve":"s6pBIYMI",tabButtonRightCurve:"s6pBIYMI","more-apps-tab-icon":"Obu3ui67",moreAppsTabIcon:"Obu3ui67","avatar-container":"z39ojrWc",avatarContainer:"z39ojrWc","web-app-tab-more-menu":"txS0KiU0",webAppTabMoreMenu:"txS0KiU0","more-button":"kKPD09tc",moreButton:"kKPD09tc","tab-more-button":"gkji2_RB",tabMoreButton:"gkji2_RB","more-apps-button":"cEuW1_hJ",moreAppsButton:"cEuW1_hJ","window-state-button":"XpHR_yo0",windowStateButton:"XpHR_yo0","header-button":"GE5AkJOU",headerButton:"GE5AkJOU",fullscreenButton:"otlJULGy","tab-close-icon":"DoeOewUR",tabCloseIcon:"DoeOewUR","state-icon":"YRMGpqUS",stateIcon:"YRMGpqUS",icon:"b13oE9uA","tab-avatar":"tI6TE6HP",tabAvatar:"tI6TE6HP","state-back":"IWA50OWU",stateBack:"IWA50OWU","loading-spinner":"ZvO65ZK4",loadingSpinner:"ZvO65ZK4",hide:"_90e04Jo",frame:"zA1w1IOq","with-button":"XsPaFD9G",withButton:"XsPaFD9G","main-button":"Os96PEjQ",mainButton:"Os96PEjQ",visible:"C8aMayAw",hidden:"GllU9an9","main-button-spinner":"nYSFrf_X",mainButtonSpinner:"nYSFrf_X","web-app-popup":"cTVKrIjM",webAppPopup:"cTVKrIjM","without-title":"d0DG1SkF",withoutTitle:"d0DG1SkF"}},70190:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.d(t,{A:()=>P});var s=a(84051),o=a(13439),r=a(90709),i=a(70636),l=a(60919),c=a(87357),d=a(21309),m=a(83868),u=a(37661),A=a(17712),h=a(59030),y=a(54746),p=a(64493),v=a(22720),g=a(8410),E=a(63152),b=a(41036),f=a(57362),C=a(38400),S=a(59414),w=e([i,h,p,v,g,f,C]);[i,h,p,v,g,f,C]=w.then?(await w)():w;const N=[{name:"StoryPrivacyOptionEveryone",value:"everybody",color:["#50ABFF","#007AFF"],icon:"channel-filled",actions:"blockUserIds"},{name:"StoryPrivacyOptionContacts",value:"contacts",color:["#C36EFF","#8B60FA"],icon:"user-filled",actions:"blockContactUserIds"},{name:"StoryPrivacyOptionCloseFriends",value:"closeFriends",color:["#88D93A","#30B73B"],icon:"favorite-filled",actions:"closeFriends"},{name:"StoryPrivacyOptionSelectedContacts",value:"nobody",color:["#FFB743","#F69A36"],icon:"group-filled",actions:"allowUserIds"}];var k=function(e){return e[e.privacy=0]="privacy",e[e.allowList=1]="allowList",e[e.closeFriends=2]="closeFriends",e[e.denyList=3]="denyList",e}(k||{});function I({isOpen:e,story:t,visibility:a,contactListIds:n,usersById:l,currentUserId:w,onClose:I}){const{editStoryPrivacy:P,toggleStoryInProfile:M}=(0,o.ko)(),T=(0,h.A)(),[B,x,L]=(0,u.A)(!1),[R,F]=(0,s.J0)(a),[D,V]=(0,s.J0)(t?.isInProfile),[_,U]=(0,s.J0)(k.privacy),[O,J]=(0,s.J0)("everybody"),K=_!==k.privacy,G=(0,s.Kr)(()=>(n||[]).filter(e=>l[e]?.isCloseFriend),[n,l]),j=(0,s.Kr)(()=>{if(_===k.allowList&&(!R?.allowUserIds?.length||R.allowUserIds[0]===w))return[w]},[_,w,R?.allowUserIds]),z=(0,s.Kr)(()=>O!==R?.visibility?[]:R?.blockUserIds||[],[O,R?.blockUserIds,R?.visibility]),H=(0,A.A)(e=>{F({...R,allowUserIds:e?.length?e?.filter(e=>e!==w):[w]})}),$=(0,A.A)(e=>{F({...R,blockUserIds:e,visibility:O})});(0,s.vJ)(()=>{e&&(U(k.privacy),x())},[e]),(0,s.vJ)(()=>{F(a)},[a]);const q=(0,A.A)(()=>{_!==k.privacy?U(k.privacy):L()}),W=(0,A.A)(()=>{V(!D)}),Y=(0,A.A)(()=>{P({peerId:t.peerId,storyId:t.id,privacy:R}),t.isInProfile!==D&&M({peerId:t.peerId,storyId:t.id,isInProfile:D}),L()});function Q(e){switch(_){case k.privacy:return function(){const e=t?(0,d.qZ)(t.expireDate-t.date):0;return s.Ay.createElement(s.Ay.Fragment,null,s.Ay.createElement("div",{className:S.A.section},s.Ay.createElement("h3",{className:S.A.title},T("StoryPrivacyAlertSubtitleProfile")),s.Ay.createElement("div",{className:S.A.list},N.map(e=>{return s.Ay.createElement("label",{key:e.value,className:(0,c.A)(S.A.option,e.value===R?.visibility&&S.A.checked)},s.Ay.createElement("input",{type:"radio",name:"story_privacy",className:S.A.input,value:e.value,checked:e.value===R?.visibility,onChange:()=>{return t=e.value,void F({...R,visibility:t});var t},teactExperimentControlled:!0}),s.Ay.createElement("span",{className:S.A.icon,style:`--color-from: ${e.color[0]}; --color-to: ${e.color[1]}`},s.Ay.createElement(y.A,{name:e.icon})),s.Ay.createElement("div",{className:S.A.optionContent},s.Ay.createElement("span",{className:(0,c.A)(S.A.option_name)},T(e.name)),e.actions&&s.Ay.createElement("div",{tabIndex:0,role:"button",className:S.A.action,"aria-label":T("Edit"),onClick:t=>{!function(e,t){switch((0,m.A)(e),t){case"closeFriends":U(k.closeFriends);break;case"allowUserIds":U(k.allowList);break;case"blockUserIds":U(k.denyList),J("everybody");break;case"blockContactUserIds":U(k.denyList),J("contacts")}}(t,e.actions)}},s.Ay.createElement("span",{className:S.A.actionInner},"closeFriends"===(t=e.actions)?0===G.length?T("StoryPrivacyOptionCloseFriendsDetail"):1===G.length?(0,i.F9)(T,l[G[0]]):T("StoryPrivacyOptionPeople",G.length,"i"):"blockUserIds"===t&&"everybody"===R?.visibility||"blockContactUserIds"===t&&"contacts"===R?.visibility?R?.blockUserIds?.length?1===R.blockUserIds.length?T("StoryPrivacyOptionExcludePerson",(0,r.Yg)(l[R.blockUserIds[0]])):T("StoryPrivacyOptionExcludePeople",R.blockUserIds.length,"i"):T("StoryPrivacyOptionContactsDetail"):R?.allowUserIds&&0!==R.allowUserIds.length?1===R.allowUserIds.length?(0,r.Yg)(l[R.allowUserIds[0]]):T("StoryPrivacyOptionPeople",R.allowUserIds.length,"i"):T("StoryPrivacyOptionSelectedContactsDetail")),s.Ay.createElement(y.A,{name:"next"}))));var t}))),s.Ay.createElement("div",{className:S.A.section},s.Ay.createElement(v.A,{ripple:!0,onClick:W},s.Ay.createElement("span",null,T("StoryKeep")),s.Ay.createElement(E.A,{id:"group-notifications",label:T("StoryKeep"),checked:D,inactive:!0}))),s.Ay.createElement("div",{className:S.A.footer},s.Ay.createElement("div",{className:S.A.info},T("StoryKeepInfo",e)),s.Ay.createElement("div",{className:S.A.submit},s.Ay.createElement(p.A,{onClick:Y},T("StoryPrivacyButtonSave")))))}();case k.closeFriends:return s.Ay.createElement(C.A,{key:"close-friends",isActive:e,contactListIds:n,currentUserId:w,usersById:l,onClose:q});case k.denyList:return s.Ay.createElement(f.A,{key:"deny-list",id:"deny-list",contactListIds:n,currentUserId:w,selectedIds:z,onSelect:$});case k.allowList:return s.Ay.createElement(f.A,{key:"allow-list",id:"allow-list",contactListIds:n,lockedIds:j,currentUserId:w,selectedIds:R?.allowUserIds,onSelect:H})}}return s.Ay.createElement(g.A,{isOpen:B,className:(0,c.A)(S.A.modal,"component-theme-dark"),onClose:L,noBackdrop:!0,onCloseAnimationEnd:I},s.Ay.createElement("div",{className:S.A.header},s.Ay.createElement(p.A,{className:(0,c.A)(S.A.closeButton,"close-button"),round:!0,color:"translucent",size:"smaller",onClick:q,ariaLabel:T(K?"Common.Back":"Common.Close")},s.Ay.createElement("div",{className:(0,c.A)("animated-close-icon",K&&"state-back")})),s.Ay.createElement(b.Ay,{name:"slideFade",activeKey:_},function(){switch(_){case k.privacy:return s.Ay.createElement("h3",{className:S.A.headerTitle},T("StoryPrivacyAlertEditTitle"));case k.allowList:return s.Ay.createElement("h3",{className:S.A.headerTitle},T("StoryPrivacyAlertSelectContactsTitle"));case k.closeFriends:return s.Ay.createElement("h3",{className:S.A.headerTitle},T("CloseFriends"));case k.denyList:return s.Ay.createElement("h3",{className:S.A.headerTitle},T("StoryPrivacyAlertExcludedContactsTitle"))}}())),s.Ay.createElement(b.Ay,{activeKey:_,name:"slideFade",slideClassName:"ChatOrUserPicker_slide",className:S.A.content},Q))}const P=(0,s.ph)((0,o.EK)(e=>{const{storyViewer:{storyId:t,peerId:a}}=(0,l.nTw)(e),n=a&&t?(0,l.Msb)(e,a,t):void 0;return{story:n&&"content"in n?n:void 0,visibility:n&&"visibility"in n?n.visibility:void 0,contactListIds:e.contactList?.userIds,usersById:e.users.byId,currentUserId:e.currentUserId}})(I));n()}catch(M){n(M)}})},70548:(e,t,a)=>{e.exports=a.p+"ai-knowledge-empty.15bc7ca6bb594e3cd5fd.png"},70630:(e,t,a)=>{a.d(t,{A:()=>r});var n=a(84051),s=a(87357),o=a(17712);const r=(0,n.ph)(function({isActive:e,isViewed:t,isVideo:a,duration:r=6,isPaused:i,onImageComplete:l}){const c=(0,o.A)(e=>{a||"XY98E7VM"!==e.animationName||l()}),d=(0,s.A)("c1fbGgcx",t&&"xwOKghO2",e&&"ZuByYcIx",i&&"n9V6B7hP");return n.Ay.createElement("span",{className:d,"aria-hidden":!0},e&&n.Ay.createElement("i",{style:`--progress-duration: ${r}s`,className:"qyBCpJct",onAnimationEnd:c}))})},70719:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.d(t,{A:()=>y});var s=a(84051),o=a(13439),r=a(37661),i=a(59030),l=a(21849),c=a(94189),d=a(22720),m=a(45426),u=a(62274),A=e([i,l,c,d,m]);[i,l,c,d,m]=A.then?(await A)():A;const h=({currentUserId:e,hasCurrentUserFullInfo:t,currentUserFallbackPhoto:a})=>{const{loadFullUser:n,uploadProfilePhoto:A,deleteProfilePhoto:h,showNotification:y}=(0,o.ko)(),p=(0,i.A)(),[v,g,E]=(0,r.A)(!1),b=(0,s.li)();(0,s.vJ)(()=>{t||n({userId:e})},[t,e,n]);const f=(0,s.hb)(e=>{A({file:e,isFallback:!0}),y({message:p("Privacy.ProfilePhoto.PublicPhotoSuccess")})},[p,y,A]),C=(0,s.hb)(()=>{E(),h({photo:a})},[E,h,a]),S=(0,s.hb)(()=>{b.current?.click()},[]);return s.Ay.createElement("div",{className:"settings-item"},s.Ay.createElement(d.A,{narrow:!0,icon:"camera-add",onClick:S},s.Ay.createElement(m.A,{onChange:f,inputRef:b}),p(a?"Privacy.ProfilePhoto.UpdatePublicPhoto":"Privacy.ProfilePhoto.SetPublicPhoto")),a&&s.Ay.createElement(d.A,{narrow:!0,leftElement:s.Ay.createElement(l.A,{photo:a,size:"mini",className:u.A.fallbackPhoto}),onClick:g,destructive:!0},p(a.isVideo?"Privacy.ProfilePhoto.RemovePublicVideo":"Privacy.ProfilePhoto.RemovePublicPhoto"),s.Ay.createElement(c.A,{isOpen:v,onClose:E,text:p("Privacy.ResetPhoto.Confirm"),confirmLabel:p("Delete"),confirmHandler:C,confirmIsDestructive:!0})),s.Ay.createElement("p",{className:"settings-item-description-larger",dir:p.isRtl?"rtl":void 0},p("Privacy.ProfilePhoto.PublicPhotoInfo")))},y=(0,s.ph)(h);n()}catch(e){n(e)}})},71049:(e,t,a)=>{a.d(t,{A:()=>n});const n={root:"iaTB59vy"}},71149:(e,t,a)=>{a.d(t,{A:()=>n});const n={root:"sBptmiga","lock-icon":"jWxrRbkh",lockIcon:"jWxrRbkh",checked:"U_6O1ebL"}},71388:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.d(t,{A:()=>C});var s=a(84051),o=a(13439),r=a(89925),i=a(31481),l=a(60919),c=a(16581),d=a(82117),m=a(26072),u=a(39351),A=a(17712),h=a(59030),y=a(42846),p=a(22720),v=a(1087),g=a(34828),E=a(19357),b=e([u,h,y,p,v,g,E]);function f({isActive:e,canLimitNewMessagesWithoutPremium:t,canChargeForMessages:a,shouldNewNonContactPeersRequirePremium:n,shouldChargeForMessages:i,nonContactPeersPaidStars:l,isCurrentUserPremium:b,noPaidReactionsForUsersCount:f,onReset:C,privacy:S}){const{updateGlobalPrivacySettings:w,openSettingsScreen:k,showNotification:N}=(0,o.ko)(),I=(0,h.A)(),P=(0,u.A)(),M=b||t,T=b&&a,[B,x]=(0,s.J0)(l),[L,R]=(0,s.J0)(!1),F=(0,s.Kr)(()=>i?"charge_for_messages":n?"contacts_and_premium":"everybody",[i,n]);(0,d.A)(([e])=>{L||void 0===e||"everybody"===F||F===e||("everybody"===S.chatInvite?.visibility&&N({message:P("CheckPrivacyInviteText"),action:{action:"openSettingsScreen",payload:{screen:r.VS.PrivacyGroupChats}},actionText:{key:"Review"},duration:8e3}),"everybody"===S.phoneCall?.visibility&&N({message:P("CheckPrivacyCallsText"),action:{action:"openSettingsScreen",payload:{screen:r.VS.PrivacyPhoneCall}},actionText:{key:"Review"},duration:8e3}),R(!0))},[F,i,S,P,L]);const D=(0,s.Kr)(()=>[{value:"everybody",label:I("P2PEverybody")},{value:"contacts_and_premium",label:M?I("PrivacyMessagesContactsAndPremium"):s.Ay.createElement(E.A,{label:I("PrivacyMessagesContactsAndPremium"),isChecked:"contacts_and_premium"===F}),hidden:!M,isCanCheckedInDisabled:!0},{value:"charge_for_messages",label:T?P("PrivacyChargeForMessages"):s.Ay.createElement(E.A,{label:P("PrivacyChargeForMessages"),isChecked:"charge_for_messages"===F}),hidden:!T,isCanCheckedInDisabled:!0}],[I,P,M,T,F]),V=(0,A.A)(e=>{w({shouldNewNonContactPeersRequirePremium:"contacts_and_premium"===e,nonContactPeersPaidStars:"charge_for_messages"===e?B:null})}),_=(0,c.A)(e=>{w({nonContactPeersPaidStars:e})},[w],300,!0),U=(0,s.hb)(e=>{x(e),_(e)},[x,_]);(0,m.A)({isActive:e,onBack:C});const O=(0,s.Kr)(()=>P(i?"PrivacyDescriptionChargeForMessages":"PrivacyDescriptionMessagesContactsAndPremium"),[i,P]);return s.Ay.createElement(s.Ay.Fragment,null,s.Ay.createElement("div",{className:"settings-item"},s.Ay.createElement("h4",{className:"settings-item-header",dir:I.isRtl?"rtl":void 0},I("PrivacyMessagesTitle")),s.Ay.createElement(v.A,{name:"privacy-messages",options:D,onChange:V,selected:F}),s.Ay.createElement("p",{className:"settings-item-description-larger",dir:I.isRtl?"rtl":void 0},O)),"charge_for_messages"===F&&s.Ay.createElement("div",{className:"settings-item fluid-container"},s.Ay.createElement(y.A,{canChangeChargeForMessages:T,chargeForMessages:B,onChange:U})),T&&"charge_for_messages"===F&&function(){const e=f?I("Users",f,"i"):P("SubtitlePrivacyAddUsers");return s.Ay.createElement("div",{className:"settings-item"},s.Ay.createElement("h4",{className:"settings-item-header",dir:I.isRtl?"rtl":void 0},P("RemoveFeeTitle")),s.Ay.createElement(p.A,{narrow:!0,icon:"delete-user",onClick:()=>{k({screen:r.VS.PrivacyNoPaidMessages})}},s.Ay.createElement("div",{className:"multiline-item full-size"},s.Ay.createElement("span",{className:"title"},P("ExceptionTitlePrivacyChargeForMessages")),s.Ay.createElement("span",{className:"subtitle"},e))))}(),!b&&"charge_for_messages"!==F&&s.Ay.createElement(g.A,{premiumSection:"message_privacy"}))}[u,h,y,p,v,g,E]=b.then?(await b)():b;const C=(0,s.ph)((0,o.EK)(e=>{const{settings:{privacy:t}}=e,a=(0,l.Iv$)(e),n=e.settings.privacy.noPaidMessages?.allowUserIds.length||0;return{shouldNewNonContactPeersRequirePremium:(0,l.BSN)(e),shouldChargeForMessages:Boolean(a),nonContactPeersPaidStars:a||i.wZe,isCurrentUserPremium:(0,l.g29)(e),canLimitNewMessagesWithoutPremium:e.appConfig?.canLimitNewMessagesWithoutPremium,canChargeForMessages:e.appConfig?.starsPaidMessagesAvailable,noPaidReactionsForUsersCount:n,privacy:t}})(f));n()}catch(S){n(S)}})},71482:(e,t,a)=>{a.d(t,{A:()=>i});var n=a(84051),s=a(22237);const[o,r]=(0,s.n5)(1);function i(){return(0,n._W)(()=>{r(1)}),[o,r]}},71580:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.d(t,{A:()=>A});var s=a(84051),o=a(90709),r=a(87357),i=a(17712),l=a(62587),c=a(83057),d=a(54639),m=e([l,d]);[l,d]=m.then?(await m)():m;const u=({focus:e,isForGallery:t,inlineResult:a,onClick:n})=>{let m,u,A;"photo"in a&&(m=a.photo),"thumbnail"in a&&(u=a.thumbnail),"webThumbnail"in a&&(A=a.webThumbnail);const h=(0,l.A)((0,o.cy)(A)),y=(0,l.A)(m&&(0,o.rI)(m,"pictogram")),p=(0,c.A)(y||h),v=(0,i.A)(()=>{n(a)});if(t)return s.Ay.createElement("div",{className:"MediaResult chat-item-clickable",onClick:v},s.Ay.createElement("img",{src:m?.thumbnail?.dataUri||h,alt:"",draggable:!1}),s.Ay.createElement("img",{src:y,className:(0,r.A)("full-media",p),alt:"",draggable:!1}));const{title:g,description:E}=a;return s.Ay.createElement(d.A,{focus:e,thumbnail:A,thumbUrl:y||u?.dataUri,transitionClassNames:p,title:g,description:E,onClick:v})},A=(0,s.ph)(u);n()}catch(e){n(e)}})},71593:(e,t,a)=>{a.d(t,{A:()=>n});const n={root:"maC_9u6e",description:"zQ6lEVJ2","checkout-picture":"JgWvLdK2",checkoutPicture:"JgWvLdK2",text:"T2pYH395","checkout-title":"HadolzeF",checkoutTitle:"HadolzeF","checkout-description":"oZW7mUNP",checkoutDescription:"oZW7mUNP","price-info":"P618Q3yr",priceInfo:"P618Q3yr","price-info-item":"XNNG_ajy",priceInfoItem:"XNNG_ajy","price-info-item-main":"D9gYNLVk",priceInfoItemMain:"D9gYNLVk","price-info-item-title":"NtY5Aah7",priceInfoItemTitle:"NtY5Aah7",tipsList:"WHO341eB",tipsItem:"ksLlzBxw",tipsItem_active:"J4yem62L",tipsItemActive:"J4yem62L","invoice-info":"U2IBOLP1",invoiceInfo:"U2IBOLP1",provider:"kqWcdro1",stripe:"xKztZrna",smartglocal:"X_Ge1o4u","checkout-info-item-info-title":"ysWuPklS",checkoutInfoItemInfoTitle:"ysWuPklS","checkout-info-item-info-data":"MpC_P8_c",checkoutInfoItemInfoData:"MpC_P8_c","tos-checkbox":"OrRb0xG7",tosCheckbox:"OrRb0xG7",list:"l_wfiFG0"}},72284:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.d(t,{A:()=>k});var s=a(84051),o=a(13439),r=a(31481),i=a(90709),l=a(60919),c=a(87894),d=a(58443),m=a(15384),u=a(82117),A=a(26072),h=a(39351),y=a(17712),p=a(59030),v=a(4438),g=a(54746),E=a(12928),b=a(54960),f=a(12933),C=a(57474),S=e([m,h,p,E,b,f]);[m,h,p,E,b,f]=S.then?(await S)():S;const w=({isActive:e,onReset:t,folderId:a,folder:n,peerIds:S,url:w,isLoading:k})=>{const{createChatlistInvite:N,deleteChatlistInvite:I,editChatlistInvite:P,showNotification:M}=(0,o.ko)(),T=(0,h.A)(),B=(0,p.A)(),[x,L]=(0,s.J0)(!1);(0,A.A)({isActive:e,onBack:t}),(0,s.vJ)(()=>{k||L(!1)},[k]),(0,s.vJ)(()=>{!w&&a&&e&&N({folderId:a})},[a,e,w]);const R=(0,y.A)(()=>{w&&a&&(I({folderId:a,url:w}),t())}),F=(0,s.Kr)(()=>(n?.includedChatIds||[]).concat(n?.pinnedChatIds||[]),[n?.includedChatIds,n?.pinnedChatIds]),[D,V]=(0,s.Kr)(()=>{const e=(0,o.mS)();return(0,c.jB)(F,t=>(0,l.hXb)(e,t))},[F]),[_,U]=(0,s.J0)(S||[]),O=(0,s.li)(!0);(0,u.A)(([e])=>{e!==w&&(O.current=!0),O.current&&(O.current=!1,w?S&&U(S):U(D))},[w,D,S]);const J=(0,y.A)(e=>{const t=(0,o.mS)(),a=(0,l.mBe)(t,e),n=(0,l.hds)(t,e);a&&(0,i.tv)(a)?M({message:B("FolderLinkScreen.AlertTextUnavailableBot")}):a?M({message:B("FolderLinkScreen.AlertTextUnavailableUser")}):n&&(0,i.WX)(n)?M({message:B("FolderLinkScreen.AlertTextUnavailablePublicChannel")}):M({message:B("FolderLinkScreen.AlertTextUnavailablePublicGroup")})}),K=(0,y.A)(e=>{U(e),L(!0)}),G=(0,y.A)(()=>{a&&w&&x&&P({folderId:a,peerIds:_,url:w})}),j=_.length,z=!j||k;return s.Ay.createElement("div",{className:"settings-content no-border custom-scroll SettingsFoldersChatsPicker"},s.Ay.createElement("div",{className:"settings-content-header"},s.Ay.createElement(v.A,{size:r.fwn,tgsUrl:d.w.FoldersShare,className:"settings-content-icon"}),n&&s.Ay.createElement("p",{className:"settings-item-description mb-3",dir:"auto"},T("FolderLinkTitleDescription",{folder:(0,m.fd)({text:n.title.text,entities:n.title.entities,noCustomEmojiPlayback:n.noTitleAnimations}),chats:T("FolderLinkTitleDescriptionChats",{count:j},{pluralValue:j})},{withMarkdown:!0,withNodes:!0}))),s.Ay.createElement(E.A,{className:"settings-item",link:w||B("Loading"),withShare:!0,onRevoke:R,isDisabled:!j||x}),s.Ay.createElement("div",{className:"settings-item settings-item-picker"},s.Ay.createElement(b.A,{itemIds:F,lockedUnselectedIds:V,onSelectedIdsChange:K,selectedIds:_,onDisabledClick:J,allowMultiple:!0,withStatus:!0,itemInputType:"checkbox"})),s.Ay.createElement(f.A,{isShown:k||x,disabled:z,onClick:G,ariaLabel:"Save changes"},k?s.Ay.createElement(C.A,{color:"white"}):s.Ay.createElement(g.A,{name:"check"})))},k=(0,s.ph)((0,o.EK)(e=>{const{folderId:t,url:a,isLoading:n}=(0,l.nTw)(e).shareFolderScreen||{},s=t?(0,l.$aQ)(e,t):void 0,o=t?e.chatFolders.invites[t]?.find(e=>e.url===a):void 0;return{folderId:t,folder:s,url:a,isLoading:n,peerIds:o?.peerIds}})(w));n()}catch(e){n(e)}})},72528:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.d(t,{A:()=>w});var s=a(84051),o=a(13439),r=a(90709),i=a(60919),l=a(9716),c=a(21576),d=a(43874),m=a(37661),u=a(17712),A=a(69419),h=a(59030),y=a(71482),p=a(84175),v=a(54746),g=a(64493),E=a(22699),b=a(24433),f=a(35913),C=e([A,h,p,g,E,b]);[A,h,p,g,E,b]=C.then?(await C)():C;const S=({item:e,mediaData:t,isVideo:a,chat:n,isChatProtected:i,isProtected:c,canReportAvatar:C,canDelete:S,canUpdate:w,messageListType:k,activeDownloads:N,origin:I,viewableMedia:P,onReportAvatar:M,onCloseMediaViewer:T,onBeforeDelete:B,onForward:x})=>{const[L,R,F]=(0,m.A)(!1),[D,V]=(0,y.A)(),{isMobile:_}=(0,d.Ay)(),{downloadMedia:U,cancelMediaDownload:O,updateProfilePhoto:J,updateChatPhoto:K,openMediaViewer:G,openDeleteMessageModal:j}=(0,o.ko)(),z="message"===e?.type,{media:H}=P||{},$=H&&(0,r.sd)(H),q=H&&(0,r.$r)(N,H),{loadProgress:W}=(0,A.A)(H&&(0,r.VO)(H,"download"),!q,H&&(0,r.Cz)(H,"download")),Y=(0,u.A)(()=>{if(H)if(q)O({media:H});else{const t="message"===e?.type?e.message:void 0;U({media:H,originMessage:t})}}),Q=(0,u.A)(()=>{const e=D();V((e<0?e:0)-1)}),Z=(0,u.A)(()=>{const e=D();V((e>0?e:0)+1)}),X=(0,u.A)(()=>{if("avatar"!==e?.type)return;const{avatarOwner:t,profilePhotos:a,mediaIndex:n}=e,s=a?.photos[n];(0,l.L8)(t.id)?J({photo:s}):K({chatId:t.id,photo:s}),G({origin:I,chatId:t.id,mediaIndex:0,isAvatarView:!0},{forceOnHeavyAnimation:!0})}),ee=(0,h.A)(),te=(0,s.Kr)(()=>({onTrigger:e,isOpen:t})=>s.Ay.createElement(g.A,{round:!0,size:"smaller",color:"translucent",className:t?"active":void 0,onClick:e,ariaLabel:"More actions"},s.Ay.createElement(v.A,{name:"more"})),[]);function ae(){return"avatar"===e?.type?s.Ay.createElement(p.A,{isOpen:L,onClose:F,onConfirm:B,profileId:e.avatarOwner.id,photo:e.profilePhotos.photos[e.mediaIndex]}):void 0}const ne=(0,u.A)(()=>{"message"===e?.type&&n?j({chatId:n?.id,messageIds:[e.message.id],isSchedule:"scheduled"===k,onConfirm:B}):R()});if(_){const n=[];if(z&&e.message.isForwardingAllowed&&!e.message.content.action&&!i&&n.push({icon:"forward",onClick:x,children:ee("Forward")}),c||(a?n.push({icon:q?"close":"download",onClick:Y,children:q?`${Math.round(100*W)}% Downloading...`:"Download"}):n.push({icon:"download",href:t,download:$,children:ee("AccActionDownload")})),C&&n.push({icon:"flag",onClick:M,children:ee("ReportPeer.Report")}),w&&n.push({icon:"copy-media",onClick:X,children:ee("ProfilePhoto.SetMainPhoto")}),S&&n.push({icon:"delete",onClick:ne,children:ee("Delete"),destructive:!0}),0===n.length)return;return s.Ay.createElement("div",{className:"MediaViewerActions-mobile"},s.Ay.createElement(E.A,{trigger:te,positionX:"right"},n.map(({icon:e,onClick:t,href:a,download:n,children:o,destructive:r})=>s.Ay.createElement(b.A,{key:e,icon:e,href:a,download:n,onClick:t,destructive:r},o))),q&&s.Ay.createElement(f.A,{progress:W,size:"s",noCross:!0}),S&&ae())}return s.Ay.createElement("div",{className:"MediaViewerActions"},z&&e.message.isForwardingAllowed&&!i&&s.Ay.createElement(g.A,{round:!0,size:"smaller",color:"translucent-white",ariaLabel:ee("Forward"),onClick:x},s.Ay.createElement(v.A,{name:"forward"})),function(){if(!c&&"standalone"!==e?.type)return"sponsoredMessage"!==e?.type&&(a?s.Ay.createElement(g.A,{round:!0,size:"smaller",color:"translucent-white",ariaLabel:ee("AccActionDownload"),onClick:Y},q?s.Ay.createElement(f.A,{progress:W,size:"s",onClick:Y}):s.Ay.createElement(v.A,{name:"download"})):s.Ay.createElement(g.A,{href:t,download:$,round:!0,size:"smaller",color:"translucent-white",ariaLabel:ee("AccActionDownload")},s.Ay.createElement(v.A,{name:"download"})))}(),s.Ay.createElement(g.A,{round:!0,size:"smaller",color:"translucent-white",ariaLabel:ee("MediaZoomOut"),onClick:Q},s.Ay.createElement(v.A,{name:"zoom-out"})),s.Ay.createElement(g.A,{round:!0,size:"smaller",color:"translucent-white",ariaLabel:ee("MediaZoomIn"),onClick:Z},s.Ay.createElement(v.A,{name:"zoom-in"})),C&&s.Ay.createElement(g.A,{round:!0,size:"smaller",color:"translucent-white",ariaLabel:ee(a?"PeerInfo.ReportProfileVideo":"PeerInfo.ReportProfilePhoto"),onClick:M},s.Ay.createElement(v.A,{name:"flag"})),w&&s.Ay.createElement(g.A,{round:!0,size:"smaller",color:"translucent-white",ariaLabel:ee("ProfilePhoto.SetMainPhoto"),onClick:X},s.Ay.createElement(v.A,{name:"copy-media"})),S&&s.Ay.createElement(g.A,{round:!0,size:"smaller",color:"translucent-white",ariaLabel:ee("Delete"),onClick:ne},s.Ay.createElement(v.A,{name:"delete"})),s.Ay.createElement(g.A,{round:!0,size:"smaller",color:"translucent-white",ariaLabel:ee("Close"),onClick:T},s.Ay.createElement(v.A,{name:"close"})),S&&ae())},w=(0,s.ph)((0,o.EK)((e,{item:t,canUpdateMedia:a})=>{const n=(0,i.nTw)(e),{origin:s}=n.mediaViewer,o="message"===t?.type?t.message:void 0,r="avatar"===t?.type?t.avatarOwner:void 0,l="avatar"===t?.type&&t.profilePhotos.photos[t.mediaIndex],d=(0,i.meB)(e),m=(0,i.Xf0)(e),{threadId:u}=(0,i.Xf0)(e)||{},A=(0,i.ynf)(e,o),h=(0,i.yuw)(e),y=o&&(0,i.ryq)(e,o?.chatId),{canDelete:p}=u&&o&&(0,i.WAX)(e,o,u)||{},v=l&&l.id===r?.avatarPhotoId,g=a&&Boolean(l),E=p||g,b=a&&Boolean(l)&&!v,f=m?.type;return{activeDownloads:h,isProtected:A,chat:d,isChatProtected:y,canDelete:E,canUpdate:b,messageListType:f,origin:s,viewableMedia:(0,c.A)(e,t)}})(S));n()}catch(e){n(e)}})},72589:(e,t,a)=>{a.d(t,{A:()=>n});const n={header:"cW2rtp6M",title:"qLSm0uyC",footer:"Vj3QQ_JQ",buttonAppeal:"anvg3JaY"}},72729:(e,t,a)=>{a.d(t,{A:()=>n});const n={root:"xrnUE4e6",content:"z7kF7tij",section:"T6wFpdQO",general:"YftUWqqw",top:"CWsWIKQ1",bottom:"KBl0ycLl",iconWrapper:"iJ1U9kDD",icon:"Rk6PT_yc",clickable:"K1CTKtBS",heading:"qlo3vSEw","icon-picker":"r06zwL42",iconPicker:"r06zwL42"}},73677:(e,t,a)=>{a.d(t,{A:()=>n});const n={content:"WEJIbFQj",closeButton:"_vwPuDEM",icon:"BUiGM8qZ",title:"Q3NhXpNI",description:"frZbGQ0G"}},73728:(e,t,a)=>{function n(e,t,a=0,n=!1,s=!1,o=!1){const r=e[o?"scrollLeft":"scrollTop"],i=r+e[o?"offsetWidth":"offsetHeight"],l="string"==typeof t?e.querySelectorAll(t):t,{length:c}=l,d=[];let m=!1;for(let e=0;e<c;e++){const t=l[e],c=t[o?"offsetLeft":"offsetTop"],u=c+t[o?"offsetWidth":"offsetHeight"];if(s?u>=r-a&&u<=i+a:c<=i+a&&u>=r-a)d.push(e),m=!0;else if(m&&!n)break}return{allElements:l,visibleIndexes:d}}a.d(t,{A:()=>n})},73778:(e,t,a)=>{a.d(t,{A:()=>n});const n={root:"ZXp65Wgy",title:"W1xG3pjS",description:"b_CBXIkT"}},74396:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.d(t,{A:()=>h});var s=a(84051),o=a(13439),r=a(17712),i=a(59030),l=a(64493),c=a(40664),d=a(8410),m=a(1087),u=e([i,l,c,d,m]);[i,l,c,d,m]=u.then?(await u)():u;const A=({isOpen:e,peerId:t,photo:a,onClose:n,onCloseAnimationEnd:u})=>{const{reportProfilePhoto:A}=(0,o.ko)(),[h,y]=(0,s.J0)("spam"),[p,v]=(0,s.J0)(""),g=(0,r.A)(()=>{A({chatId:t,photo:a,reason:h,description:p}),n()}),E=(0,r.A)(e=>{y(e)}),b=(0,r.A)(e=>{v(e.target.value)}),f=(0,i.A)(),C=(0,s.Kr)(()=>[{value:"spam",label:f("lng_report_reason_spam")},{value:"violence",label:f("lng_report_reason_violence")},{value:"pornography",label:f("lng_report_reason_pornography")},{value:"childAbuse",label:f("lng_report_reason_child_abuse")},{value:"copyright",label:f("ReportPeer.ReasonCopyright")},{value:"illegalDrugs",label:"Illegal Drugs"},{value:"personalDetails",label:"Personal Details"},{value:"other",label:f("lng_report_reason_other")}],[f]);if(!t||!a)return;const S=f("ReportPeer.Report");return s.Ay.createElement(d.A,{isOpen:e,onClose:n,onEnter:e?g:void 0,onCloseAnimationEnd:u,className:"narrow",title:S},s.Ay.createElement(m.A,{className:"dialog-checkbox-group",name:"report-message",options:C,onChange:E,selected:h}),s.Ay.createElement(c.A,{label:f("lng_report_reason_description"),value:p,onChange:b}),s.Ay.createElement("div",{className:"dialog-buttons"},s.Ay.createElement(l.A,{color:"danger",className:"confirm-dialog-button",isText:!0,onClick:g},f("lng_report_button")),s.Ay.createElement(l.A,{className:"confirm-dialog-button",isText:!0,onClick:n},f("Cancel"))))},h=(0,s.ph)(A);n()}catch(e){n(e)}})},74548:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.d(t,{A:()=>y});var s=a(84051),o=a(13439),r=a(87357),i=a(10328),l=a(39351),c=a(59030),d=a(64493),m=a(19806),u=a(8410),A=e([l,c,d,m,u]);[l,c,d,m,u]=A.then?(await A)():A;const h=({isOpen:e})=>{const t=(0,c.A)(),a=(0,l.A)(),{closeWebAppsCloseConfirmationModal:n,closeWebAppModal:A}=(0,o.ko)(),[h,y]=(0,s.J0)(!1),p=(0,s.li)(),v=(0,s.hb)(()=>{n({shouldSkipInFuture:h})},[h]),g=(0,s.hb)(()=>{A({shouldSkipConfirmation:!0}),n({shouldSkipInFuture:h})},[h]),E=(0,s.hb)(e=>{-1===e&&g()},[g]),b=(0,i.A)(p,e,E,".Button");return s.Ay.createElement(u.A,{className:(0,r.A)("confirm"),title:a("CloseMiniApps"),isOpen:e,onClose:v},s.Ay.createElement("p",null,a("AreYouSureCloseMiniApps")),s.Ay.createElement(m.A,{className:"dialog-checkbox",label:a("DoNotAskAgain"),checked:h,onCheck:y}),s.Ay.createElement("div",{className:"dialog-buttons mt-2",ref:p,onKeyDown:b},s.Ay.createElement(d.A,{className:"confirm-dialog-button",isText:!0,onClick:g,color:"danger"},t("Confirm")),s.Ay.createElement(d.A,{className:"confirm-dialog-button",isText:!0,onClick:v},t("Cancel"))))},y=(0,s.ph)(h);n()}catch(e){n(e)}})},74975:(e,t,a)=>{a.d(t,{t:()=>o});var n=a(60919),s=a(30708);function o(e){return(t,a)=>{const o=(0,n.nTw)(t),{byId:r}=t.chats,{byId:i}=t.users,{fetchingStatus:l,resultsByType:c,chatId:d}=o.globalSearch,{shouldWarnAboutSvg:m}=(0,s.l)(t),u="audio"!==e?e:a?.isVoice?"voice":"audio",{byChatId:A}=t.messages,h=c?.[u]?.foundIds,y=o.activeDownloads;return{theme:(0,n.SJA)(t),isLoading:void 0===h||!!l&&Boolean(l.chats||l.messages),chatsById:r,usersById:i,globalMessagesByChatId:A,foundIds:h,searchChatId:d,activeDownloads:y,isChatProtected:d?(0,n.hds)(t,d)?.isProtected:void 0,shouldWarnAboutSvg:m}}}},75017:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.d(t,{A:()=>E});var s=a(84051),o=a(13439),r=a(90709),i=a(60919),l=a(17663),c=a(80140),d=a(26072),m=a(59030),u=a(12928),A=a(17751),h=a(22720),y=a(57474),p=e([m,u,A,h]);[m,u,A,h]=p.then?(await p)():p;const v="•",g=({chatId:e,invite:t,importers:a,requesters:n,isChannel:r,isActive:i,onClose:p})=>{const{loadChatInviteImporters:g,loadChatInviteRequesters:E,openChat:b}=(0,o.ko)(),f=(0,m.A)(),{usage:C=0,usageLimit:S,link:w,adminId:k}=t||{},N=t?.expireDate&&1e3*(t.expireDate-(0,c.Fm)())+Date.now(),I=(t?.expireDate||0)-(0,c.Fm)()<0;return(0,s.vJ)(()=>{w&&(g({chatId:e,link:w}),E({chatId:e,link:w}))},[e,w,g,E]),(0,d.A)({isActive:i,onBack:p}),s.Ay.createElement("div",{className:"Management ManageInviteInfo"},s.Ay.createElement("div",{className:"panel-content custom-scroll"},!t&&s.Ay.createElement("p",{className:"section-help"},f("Loading")),t&&s.Ay.createElement(s.Ay.Fragment,null,s.Ay.createElement("div",{className:"section"},s.Ay.createElement(u.A,{title:t.title,link:t.link,className:"invite-link"}),Boolean(N)&&s.Ay.createElement("p",{className:"section-help"},I?f("ExpiredLink"):f("LinkExpiresIn",`${(0,l.Lu)(f,N)} ${(0,l.fU)(f,N)}`))),k&&s.Ay.createElement("div",{className:"section"},s.Ay.createElement("p",{className:"section-heading"},f("LinkCreatedeBy")),s.Ay.createElement(h.A,{className:"chat-item-clickable scroll-item small-icon",onClick:()=>b({id:k})},s.Ay.createElement(A.A,{userId:k,status:(0,l.fS)(f,1e3*t.date,!0),forceShowSelf:!0}))),(()=>{if(a?.length||!n?.length)return a?s.Ay.createElement("div",{className:"section"},s.Ay.createElement("p",{className:"section-heading"},a.length?f("PeopleJoined",C):f("NoOneJoined")),s.Ay.createElement("p",{className:"section-help"},!a.length&&(S?f("PeopleCanJoinViaLinkCount",S-C):f("NoOneJoinedYet")),a.map(e=>{const t=(0,l.fS)(f,1e3*e.date,!0),a=e.isFromChatList?`${t} ${v} ${f("JoinedViaFolder")}`:t;return s.Ay.createElement(h.A,{className:"chat-item-clickable scroll-item small-icon",onClick:()=>b({id:e.userId})},s.Ay.createElement(A.A,{userId:e.userId,status:a,forceShowSelf:!0}))}))):s.Ay.createElement(y.A,null)})(),(()=>{if(!t?.isRevoked){if(!n&&a)return s.Ay.createElement(y.A,null);if(n?.length)return s.Ay.createElement("div",{className:"section"},s.Ay.createElement("p",{className:"section-heading"},f(r?"SubscribeRequests":"MemberRequests")),s.Ay.createElement("p",{className:"section-help"},n.map(e=>s.Ay.createElement(h.A,{className:"chat-item-clickable scroll-item small-icon",onClick:()=>b({id:e.userId})},s.Ay.createElement(A.A,{userId:e.userId,status:(0,l.fS)(f,1e3*e.date,!0),forceShowSelf:!0})))))}})())))},E=(0,s.ph)((0,o.EK)((e,{chatId:t})=>{const{inviteInfo:a}=(0,i.nTw)(e).management.byChatId[t]||{},{invite:n,importers:s,requesters:o}=a||{},l=(0,i.hds)(e,t);return{invite:n,importers:s,requesters:o,isChannel:l&&(0,r.WX)(l)}})(g));n()}catch(e){n(e)}})},75021:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.d(t,{A:()=>w});var s=a(84051),o=a(13439),r=a(89925),i=a(27109),l=a(60919),c=a(9716),d=a(59852),m=a(47067),u=a(37661),A=a(17712),h=a(59030),y=a(92033),p=a(51083),v=a(17751),g=a(64493),E=a(22720),b=a(97967),f=a(97046),C=e([m,h,p,v,g,E]);[m,h,p,v,g,E]=C.then?(await C)():C;const S=({chatId:e,withUsername:t,chat:a,user:n,isPinned:i,isMuted:l,canChangeFolder:C,withOpenAppButton:S,onClick:w})=>{const{requestMainWebView:k}=(0,o.ko)(),N=(0,h.A)(),[I,P,M]=(0,u.A)(),[T,B,x]=(0,u.A)(),[L,R,F]=(0,u.A)(),[D,V,_]=(0,u.A)(),U=(0,s.hb)(()=>{R(),B()},[R,B]),O=(0,s.hb)(()=>{V(),P()},[V,P]),J=(0,m.A)({chat:a,user:n,isPinned:i,isMuted:l,canChangeFolder:C,handleMute:O,handleChatFolderChange:U},!0),K=(0,A.A)(()=>{w(e)}),G=(0,A.A)(t=>{t.stopPropagation();const a=(0,d.A)();k({botId:e,peerId:e,theme:a})}),j=(0,y.A)(K);return s.Ay.createElement(E.A,{className:"chat-item-clickable search-result",onClick:K,contextActions:J,buttonRef:j},(0,c.L8)(e)?s.Ay.createElement(v.A,{userId:e,withUsername:t,withStory:!0,avatarSize:"medium",storyViewerOrigin:r.G9.SearchResult}):s.Ay.createElement(p.A,{chatId:e,withUsername:t,avatarSize:"medium",withStory:!0,storyViewerOrigin:r.G9.SearchResult}),S&&n?.hasMainMiniApp&&s.Ay.createElement(g.A,{className:"ChatBadge miniapp",pill:!0,fluid:!0,size:"tiny",onClick:G},N("BotOpen")),D&&s.Ay.createElement(f.A,{isOpen:I,onClose:M,onCloseAnimationEnd:_,chatId:e}),L&&s.Ay.createElement(b.A,{isOpen:T,onClose:x,onCloseAnimationEnd:F,chatId:e}))},w=(0,s.ph)((0,o.EK)((e,{chatId:t})=>{const a=(0,l.hds)(e,t);return{chat:a,user:(0,l.mBe)(e,t),isPinned:(0,l.D3D)(e,t),isMuted:a&&(0,i.If)(a,(0,l.K52)(e),(0,l.P5N)(e,a.id)),canChangeFolder:Boolean(e.chatFolders.orderedIds?.length)}})(S));n()}catch(e){n(e)}})},75049:(e,t,a)=>{a.d(t,{A:()=>n});const n={content:"iGABsB4C",modalHeader:"Ofq4u4pq",section:"k44LZ99u",form:"VhNBPaMY",label:"anDcU5bi",input:"kYxuUcwe",description:"A_JjwhXv",timeInputIcon:"pHne2E6K",offerButton:"d_PCM2tC",currencySelector:"genSNudF",currencyIcon:"fT5aRs0H"}},75471:(e,t,a)=>{a.d(t,{A:()=>n});const n={root:"O1fqNCy0",sticker:"ogaoEAcn","effect-sticker":"Stdz4UIW ogaoEAcn",effectSticker:"Stdz4UIW ogaoEAcn"}},75574:(e,t,a)=>{a.d(t,{A:()=>n});const n={root:"FTMljUuX",header:"OvmjSMwA",active:"DEIUzXQd",avatar:"mp1PmoMq",input:"z2K8Q7ib",mobile:"u0fb78AA",focused:"dqF8dYNx",withDropdown:"AqhBggrp",adaptSearchBorders:"Q9RZQaTu",dropdown:"MFGvbICO",dropdownHidden:"Alee0CKy",results:"RtfTOE72",placeholder:"O1HoZFge",separator:"_Yy43QLl",savedTags:"BcvAfv1E",wrap:"JkESCST6",searchTags:"rO3pH3LI",savedSearchTag:"qA4gov4D",hash:"q5NOmUAM",searchTypes:"rVYZG__K",searchType:"nE1Xwoo7",selectedType:"i29dP8iT",footer:"jyS1l9yn","keyboard-visible":"ao05jKHW",keyboardVisible:"ao05jKHW",counter:"NmmL_cO3",mobileNavigation:"dLO1hlHU",navigationButton:"Z4vLAlsu",navigationDisabled:"IqA7R2xO",jumpIn:"n9kXbTu6"}},75998:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.d(t,{A:()=>_});var s=a(84051),o=a(13439),r=a(89925),i=a(90709),l=a(60919),c=a(87357),d=a(52674),m=a(17142),u=a(23789),A=a(42073),h=a(37661),y=a(39351),p=a(17712),v=a(59030),g=a(73767),E=a(54746),b=a(64493),f=a(8410),C=a(57474),S=a(41036),w=a(87891),k=a(20417),N=a(38162),I=a(60401),P=a(24942),M=a(43645),T=a(89661),B=e([y,v,b,f,w,k,N,I,P,M,T]);[y,v,b,f,w,k,N,I,P,M,T]=B.then?(await B)():B;const x="stripe",L="smartglocal",R="https://payment.smart-glocal.com",F=new Set([x,L]),D=3,V=({isOpen:e,onClose:t,step:a,shippingOptions:n,form:i,isProviderError:l,invoice:u,nativeProvider:B,needCardholderName:R,needCountry:F,needZip:V,confirmPaymentUrl:_,error:U,countryList:z,hasShippingOptions:H,requestId:$,smartGlocalToken:q,stripeId:W,savedCredentials:Y,passwordValidUntil:Q,isExtendedMedia:Z,isPaymentFormUrl:X,botName:ee})=>{const{loadPasswordInfo:te,validateRequestedInfo:ae,sendPaymentForm:ne,setPaymentStep:se,sendCredentialsInfo:oe,clearPaymentError:re,validatePaymentPassword:ie,setSmartGlocalCardInfo:le}=(0,o.ko)(),ce=(0,v.A)(),de=(0,y.A)(),[me,ue,Ae]=(0,h.A)(),[he,ye]=(0,A.A)(),[pe,ve]=(0,s.J0)(!1),[ge,Ee]=(0,s.J0)(!1),[be,fe]=(0,s.J0)(""),Ce=(0,g.A)(a,!0),Se=(0,g.A)($),we=a!==r.tn.ConfirmPayment,ke=(0,s.hb)(e=>{se({step:e})},[se]);(0,s.vJ)(()=>{e&&(fe(""),te(),ue())},[e,te,ue]),(0,s.vJ)(()=>{!e&&me&&Ae()},[Ae,me,e]),(0,s.vJ)(()=>{(void 0!==a||U)&&ve(!1)},[a,U,$]),(0,s.vJ)(()=>{a!==r.tn.Checkout||a!==Ce||$===Se||he.savedCredentialId||he.cardNumber||ke(r.tn.PaymentInfo)},[he.cardNumber,he.savedCredentialId,Se,Ce,$,ke,a]),(0,s.vJ)(()=>{U?.field&&ye({type:"setFormErrors",payload:{[U.field]:U.messageKey}})},[U,ye]),(0,s.vJ)(()=>{if(i?.savedInfo){const{name:e,phone:t,email:a,shippingAddress:n}=i.savedInfo,{countryIso2:s,...o}=n||{},r=s&&z.find(({iso2:e})=>e===s).defaultName;ye({type:"updateUserInfo",payload:{fullName:e,phone:t&&"+"!==t.charAt(0)?`+${t}`:t,email:a,...r&&{country:r,countryIso2:s,...o}}})}},[i,ye,z]),(0,s.vJ)(()=>{Y?.length&&ye({type:"changeSavedCredentialId",payload:Y[0].id})},[ye,Y]);const Ne=(0,s.hb)(()=>{re()},[re]),Ie=(0,s.Kr)(()=>a!==r.tn.Checkout?0:J(u?.prices,n,he.shipping,he.tipAmount),[a,u?.prices,n,he.shipping,he.tipAmount]),Pe=(0,s.Kr)(()=>{if(a===r.tn.Checkout)return K(he,n,B||"")},[a,he,n,B]),Me=(0,s.hb)(()=>{ke(r.tn.PaymentInfo)},[ke]),Te=(0,s.hb)(()=>{re()},[re]),Be=(0,s.hb)(()=>{ne({shippingOptionId:he.shipping,saveCredentials:he.saveCredentials,savedCredentialId:he.savedCredentialId,tipAmount:he.tipAmount})},[ne,he]),xe=(0,s.hb)(e=>{const{credentials:t}=e;le(t),Be()},[Be]),Le=(0,s.hb)(()=>{const{saveInfo:e}=he,t=G(he);ae({requestInfo:t,saveInfo:e})},[ae,he]),Re=(0,s.hb)(()=>{const e=j(he);oe({credentials:e})},[oe,he]),Fe=(0,p.A)(()=>{switch(a){case r.tn.ShippingInfo:ve(!0),Le();break;case r.tn.Shipping:ke(r.tn.Checkout);break;case r.tn.SavedPayments:ke(r.tn.ConfirmPassword);break;case r.tn.ConfirmPassword:if(""===be)return;ve(!0),ie({password:be});break;case r.tn.PaymentInfo:ve(!0),Re(),ye({type:"changeSavedCredentialId",payload:""});break;case r.tn.Checkout:{if(X)return ve(!0),void ke(r.tn.ConfirmPayment);if(i?.savedInfo&&!$&&!he.shipping)return ve(!0),void Le();if(he.savedCredentialId&&(!Q||Q<=Date.now()/1e3-D))return void ke(r.tn.ConfirmPassword);if(!he.savedCredentialId&&(B===x&&!W||B===L&&!q))return void ke(r.tn.PaymentInfo);const{phone:e,email:t,fullName:a}=he,s=u?.isEmailRequested&&!t||u?.isPhoneRequested&&!e||u?.isNameRequested&&!a;if(u?.isShippingAddressRequested&&!$||s)return void ke(r.tn.ShippingInfo);if(u?.isShippingAddressRequested&&!he.shipping&&n?.length)return void ke(r.tn.Shipping);ve(!0),Be();break}}});(0,s.vJ)(()=>a===r.tn.ConfirmPassword?(0,d.A)({onEnter:Fe}):void 0,[Fe,a]);const De=(0,s.hb)(()=>{ye({type:"resetState"}),Ee(!1),t()},[t,ye]),Ve=(0,s.hb)(()=>{ke(a===r.tn.ConfirmPassword?r.tn.SavedPayments:r.tn.Checkout)},[ke,a]),_e=(0,s.Kr)(()=>{switch(a){case r.tn.Checkout:return ce("PaymentCheckout");case r.tn.ShippingInfo:return ce("PaymentShippingInfo");case r.tn.Shipping:return ce("PaymentShippingMethod");case r.tn.SavedPayments:return ce("PaymentCheckoutMethod");case r.tn.ConfirmPassword:return ce("Checkout.PasswordEntry.Title");case r.tn.PaymentInfo:return ce("PaymentCardInfo");case r.tn.ConfirmPayment:return ce("Checkout.WebConfirmation.Title");default:return""}},[a,ce]),Ue=a===r.tn.Checkout?ce("Checkout.PayPrice",(0,m.Ad)(Ie,u.currency,ce.code)):de("PaymentInfoDone");if(l)return s.Ay.createElement(f.A,{className:"error",isOpen:me,onClose:Ae,onCloseAnimationEnd:De},s.Ay.createElement("p",null,"Sorry, Telegram Web A doesn't support payments with this provider yet."," ",s.Ay.createElement("br",null),"Please use one of our mobile apps to do this."),s.Ay.createElement("div",{className:"dialog-buttons mt-2"},s.Ay.createElement(b.A,{isText:!0,onClick:Ae},ce("OK"))));const Oe=function(){if(pe)return!0;switch(a){case r.tn.Checkout:return Boolean(u?.termsUrl)&&!ge;case r.tn.PaymentInfo:return Boolean(""===he.cardNumber||R&&""===he.cardholder||""===he.cvv||""===he.expiry);default:return!1}}();return s.Ay.createElement(f.A,{className:(0,c.A)("PaymentModal",u?.isRecurring&&"recurring"),isOpen:me,onClose:Ae,onCloseAnimationEnd:De},s.Ay.createElement("div",{className:"header",dir:ce.isRtl?"rtl":void 0},s.Ay.createElement(b.A,{className:"close-button",color:"translucent",round:!0,size:"smaller",onClick:a===r.tn.Checkout?Ae:Ve,ariaLabel:"Close"},s.Ay.createElement(E.A,{name:a===r.tn.Checkout?"close":"arrow-left"})),s.Ay.createElement("h3",null,_e)),void 0!==a?s.Ay.createElement(S.Ay,{name:"slide",activeKey:a,shouldCleanup:!0,cleanupOnlyKey:r.tn.ConfirmPayment},s.Ay.createElement("div",{className:"content custom-scroll"},function(e){switch(e){case r.tn.Checkout:return s.Ay.createElement(w.A,{title:i.title,description:i.description,photo:i.photo,dispatch:ye,shippingPrices:he.shipping&&n?O(n,he.shipping):void 0,totalPrice:Ie,invoice:u,checkoutInfo:Pe,isPaymentFormUrl:X,hasShippingOptions:H,tipAmount:he.tipAmount,needAddress:Boolean(u?.isShippingAddressRequested),savedCredentials:Y,isTosAccepted:ge,onAcceptTos:Ee,botName:ee});case r.tn.SavedPayments:return s.Ay.createElement(P.A,{state:he,savedCredentials:Y,dispatch:ye,onNewCardClick:Me});case r.tn.ConfirmPassword:return s.Ay.createElement(N.A,{state:he,savedCredentials:Y,onPasswordChange:fe,isActive:e===a});case r.tn.PaymentInfo:return s.Ay.createElement(I.A,{state:he,dispatch:ye,canSaveCredentials:Boolean(!i.isPasswordMissing&&i.canSaveCredentials),needCardholderName:R,needCountry:F,needZip:V,countryList:z});case r.tn.ShippingInfo:return s.Ay.createElement(T.A,{state:he,dispatch:ye,needAddress:Boolean(u?.isShippingAddressRequested),needEmail:Boolean(u?.isEmailRequested||u?.isEmailSentToProvider),needPhone:Boolean(u?.isPhoneRequested||u?.isPhoneSentToProvider),needName:Boolean(u?.isNameRequested),countryList:z});case r.tn.Shipping:return s.Ay.createElement(M.A,{state:he,dispatch:ye,shippingOptions:n||[],currency:u.currency});case r.tn.ConfirmPayment:return s.Ay.createElement(k.A,{url:_,noRedirect:Z,onPaymentFormSubmit:xe,onClose:Ae});default:return}}(a))):s.Ay.createElement("div",{className:"empty-content"},s.Ay.createElement(C.A,{color:"gray"})),we&&s.Ay.createElement("div",{className:"footer"},s.Ay.createElement(b.A,{className:"button-text",type:"submit",onClick:Fe,disabled:Oe,isLoading:pe},Ue)),U&&!U.field&&function(){if(U)return s.Ay.createElement(f.A,{className:"error",isOpen:Boolean(U),onClose:Ne},s.Ay.createElement("h4",null,U.descriptionKey?de.withRegular(U.descriptionKey):de("ErrorUnspecified")),s.Ay.createElement("div",{className:"dialog-buttons mt-2"},s.Ay.createElement(b.A,{isText:!0,onClick:Te},ce("OK"))))}())},_=(0,s.ph)((0,o.EK)(e=>{const{form:t,step:a,shippingOptions:n,error:s,confirmPaymentUrl:o,inputInvoice:r,requestId:c,stripeCredentials:d,smartGlocalCredentials:m,temporaryPassword:u,isExtendedMedia:A,url:h}=(0,l.nTw)(e).payment,{invoice:y,nativeParams:p,nativeProvider:v}=t||{},g=e.countryList.general;let E=t?.nativeProvider;!E&&h&&(E=h.startsWith(R)?L:void 0);const b=r&&"chatId"in r?(0,l.hds)(e,r.chatId):void 0,f=Boolean(y&&(!E||!F.has(E))),{needCardholderName:C,needCountry:S,needZip:w}=p||{},k=t?.botId?(0,l.mBe)(e,t.botId):void 0,N=(0,i.Yg)(k);return{step:a,chat:b,shippingOptions:n,nativeProvider:E,isProviderError:f,form:t,invoice:y,needCardholderName:C,needCountry:S,needZip:w,error:s,confirmPaymentUrl:o??h,isPaymentFormUrl:Boolean(!v&&h),countryList:g,requestId:c,hasShippingOptions:Boolean(n?.length),smartGlocalToken:m?.token,stripeId:d?.id,passwordValidUntil:u?.validUntil,isExtendedMedia:A,botName:N}})(V));function U(e,t){return e.find(({id:e})=>e===t)}function O(e,t){const a=U(e,t);return a?.prices}function J(e=[],t,a,n){const s=t?O(t,a):[];let o=n;return o=e.concat(s||[]).reduce((e,t)=>e+t.amount,o),o}function K(e,t,a){const n=(0,u.D8)(e.cardNumber),s=n&&e.cardNumber?`${n} *${e.cardNumber.slice(-4)}`:void 0,o=e.streetLine1?`${e.streetLine1}, ${e.city}, ${e.countryIso2}`:void 0,{phone:r,fullName:i}=e,l=t?U(t,e.shipping):void 0,c=l?.title;return{paymentMethod:s,paymentProvider:a,shippingAddress:o,name:i,phone:r,shippingMethod:c}}function G(e){const{streetLine1:t,streetLine2:a,city:n,state:s,countryIso2:o,postCode:r,fullName:i,phone:l,email:c}=e;return{name:i,phone:l,email:c,shippingAddress:{streetLine1:t,streetLine2:a,city:n,state:s,countryIso2:o,postCode:r}}}function j(e){const{cardNumber:t,cardholder:a,expiry:n,cvv:s,billingCountry:o,billingZip:r}=e,[i,l]=n.split("/");return{data:{cardNumber:t,cardholder:a,expiryMonth:i,expiryYear:l,cvv:s,country:o,zip:r}}}n()}catch(z){n(z)}})},76350:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.d(t,{A:()=>d});var s=a(84051),o=a(59030),r=a(54746),i=a(64493),l=e([o,i]);[o,i]=l.then?(await l)():l;const c=({onReset:e})=>{const t=(0,o.A)();return s.Ay.createElement("div",{className:"left-header"},s.Ay.createElement(i.A,{round:!0,size:"smaller",color:"translucent",onClick:e,ariaLabel:t("AccDescrGoBack")},s.Ay.createElement(r.A,{name:"arrow-left"})),s.Ay.createElement("h3",null,t("AI Translate")))},d=(0,s.ph)(c);n()}catch(e){n(e)}})},76453:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.d(t,{A:()=>w});var s=a(84051),o=a(13439),r=a(96454),i=a(87357),l=a(80140),c=a(54464),d=a(87094),m=a(10722),u=a(5912),A=a(17712),h=a(59030),y=a(64493),p=a(71429),v=a(24433),g=a(54746),E=a(85118),b=a(80146),f=e([h,y,v,b]);[h,y,v,b]=f.then?(await f)():f;const C=[{title:"SetTimeoutFor.Hours",value:1,arg:3600},{title:"SetTimeoutFor.Hours",value:2,arg:7200},{title:"SetTimeoutFor.Hours",value:8,arg:28800},{title:"SetTimeoutFor.Days",value:1,arg:86400},{title:"SetTimeoutFor.Days",value:2,arg:172800}],S=({sticker:e,size:t,noPlay:a,title:n,className:f,noContextMenu:S,isSavedMessages:w,isStatusPicker:k,canViewSet:N,observeIntersection:I,observeIntersectionForShowing:P,isSelected:M,isCurrentUserPremium:T,shouldIgnorePremium:B,noShowPremium:x,sharedCanvasRef:L,withTranslucentThumb:R,forcePlayback:F,onClick:D,clickArg:V,onFaveClick:_,onUnfaveClick:U,onRemoveRecentClick:O,onContextMenuOpen:J,onContextMenuClose:K,onContextMenuClick:G,isEffectEmoji:j,withSparkles:z})=>{const{openStickerSet:H,openPremiumModal:$,setEmojiStatus:q}=(0,o.ko)(),W=(0,s.li)(),Y=(0,s.li)(),Q=(0,h.A)(),Z=e.shouldUseTextColor,X=(0,d.A)(W,void 0,!Z),{id:ee,stickerSetInfo:te}=e,ae=!e.isFree&&j||e.hasEffect,ne=e.isCustomEmoji||j,se=!T&&ae&&!B,oe=(0,u.Vz)(W,I),re=oe,ie=oe&&!a,le=(0,u.Vz)(W,P),{isContextMenuOpen:ce,contextMenuAnchor:de,handleBeforeContextMenu:me,handleContextMenu:ue,handleContextMenuClose:Ae,handleContextMenuHide:he}=(0,m.A)(W),ye=Boolean(!S&&de),pe=(0,A.A)(()=>W.current),ve=(0,A.A)(()=>W.current.closest(".custom-scroll, .no-scrollbar")),ge=(0,A.A)(()=>k?Y.current:W.current.querySelector(".sticker-context-menu .bubble")),Ee=(0,A.A)(()=>({withPortal:k,shouldAvoidNegativePosition:!0}));(0,s.vJ)(()=>{ce?J?.():K?.()},[ce,K,J]),(0,s.vJ)(()=>{oe||Ae()},[Ae,oe]);const be=(0,A.A)(t=>{t.stopPropagation(),t.preventDefault(),O(e)}),fe=(0,A.A)(()=>{O(e)}),Ce=(0,A.A)(()=>{U(e)}),Se=(0,A.A)(()=>{_(e)}),we=(0,A.A)(()=>{D?.(V,!0)}),ke=(0,A.A)(()=>{D?.(V,void 0,!0)}),Ne=(0,A.A)(()=>{H({stickerSetInfo:te})}),Ie=(0,A.A)((t,a=0)=>{t.preventDefault(),t.stopPropagation(),Ae(),G?.(),q({emojiStatus:{type:"regular",documentId:e.id,until:(0,l.Fm)()+a}})}),Pe=!r.TF&&O,Me=(0,i.A)("StickerButton",D&&"interactive",M&&"selected",ne&&"custom-emoji",j&&"effect-emoji",f),Te=(0,s.Kr)(()=>{if(!ye||S||ne&&!k)return[];const e=[];return ne?(C.forEach(t=>{e.push(s.Ay.createElement(v.A,{onClick:Ie,clickArg:t.arg},Q(t.title,t.value,"i")))}),e):(U&&e.push(s.Ay.createElement(v.A,{icon:"favorite",onClick:Ce},Q("Stickers.RemoveFromFavorites"))),_&&e.push(s.Ay.createElement(v.A,{icon:"favorite",onClick:Se},Q("Stickers.AddToFavorites"))),!se&&D&&(w||e.push(s.Ay.createElement(v.A,{onClick:we,icon:"muted"},Q("SendWithoutSound"))),e.push(s.Ay.createElement(v.A,{onClick:ke,icon:"calendar"},Q(w?"SetReminder":"ScheduleMessage")))),N&&e.push(s.Ay.createElement(v.A,{onClick:Ne,icon:"stickers"},Q("ViewPackPreview"))),O&&e.push(s.Ay.createElement(v.A,{icon:"delete",onClick:fe},Q("DeleteFromRecent"))),e)},[ye,S,ne,k,U,_,se,D,N,O,Ie,Q,Ce,Se,w,ke,we,Ne,fe]);return s.Ay.createElement("div",{ref:W,className:Me,title:n||e?.emoji,"data-sticker-id":ee,onMouseDown:e=>{(0,c.u)(e),me(e)},onClick:()=>{ce||(se?$(j?{initialSection:"effects"}:{initialSection:"premium_stickers"}):D?.(V))},onContextMenu:ue},z&&s.Ay.createElement(E.A,{preset:"button"}),le&&s.Ay.createElement(b.A,{containerRef:W,sticker:e,isSmall:!0,size:t,shouldLoop:!0,shouldPreloadPreview:!0,noLoad:!re,noPlay:!ie,noVideoOnMobile:!0,withSharedAnimation:!0,sharedCanvasRef:L,withTranslucentThumb:R,customColor:X,forceAlways:F}),!x&&se&&s.Ay.createElement("div",{className:"sticker-locked"},s.Ay.createElement(g.A,{name:"lock-badge"})),!x&&ae&&!se&&s.Ay.createElement("div",{className:"sticker-premium"},s.Ay.createElement(g.A,{name:"star"})),Pe&&s.Ay.createElement(y.A,{className:"sticker-remove-button",color:"dark",round:!0,noFastClick:!0,onClick:be},s.Ay.createElement(g.A,{name:"close"})),Boolean(Te.length)&&s.Ay.createElement(p.A,{ref:Y,isOpen:ce,anchor:de,getTriggerElement:pe,getRootElement:ve,getMenuElement:ge,getLayout:Ee,className:"sticker-context-menu",autoClose:!0,withPortal:k,onClose:Ae,onCloseAnimationEnd:he},Te))},w=(0,s.ph)(S);n()}catch(e){n(e)}})},76541:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.d(t,{A:()=>y});var s=a(84051),o=a(13439),r=a(89925),i=a(31460),l=a(17712),c=a(41036),d=a(84050),m=a(76721),u=e([d,m]);[d,m]=u.then?(await u)():u;const A=Object.keys(r.Bn).length/2,h=({isActive:e,isChannel:t=!1,content:a,animationLevel:n,onReset:u})=>{const{openLeftColumnContent:h,setGlobalSearchQuery:y}=(0,o.ko)(),[p,v]=(0,s.J0)([]),g=(0,s.hb)(()=>{h({contentKey:t?r.Bn.NewChannelStep2:r.Bn.NewGroupStep2})},[t]),E=(0,l.A)(e=>{const t=e.length>p.length;v(e),t&&y({query:""})});return s.Ay.createElement(c.Ay,{id:"NewChat",name:(0,i.P)("layers",n),renderCount:A,activeKey:a},n=>{switch(a){case r.Bn.NewChannelStep1:case r.Bn.NewGroupStep1:return s.Ay.createElement(d.A,{isChannel:t,isActive:e,selectedMemberIds:p,onSelectedMemberIdsChange:E,onNextStep:g,onReset:u});case r.Bn.NewChannelStep2:case r.Bn.NewGroupStep2:return s.Ay.createElement(m.A,{isChannel:t,isActive:n&&e,memberIds:p,onReset:u});default:return}})},y=(0,s.ph)(h);n()}catch(e){n(e)}})},76664:(e,t,a)=>{a.d(t,{A:()=>y});var n=a(84051),s=a(31481),o=a(95807),r=a(50442),i=a(15640),l=a(37661),c=a(17712);let d=function(e){return e[e.Top=0]="Top",e[e.Bottom=1]="Bottom",e[e.Left=2]="Left",e[e.Right=3]="Right",e[e.TopLeft=4]="TopLeft",e[e.TopRight=5]="TopRight",e[e.BottomLeft=6]="BottomLeft",e[e.BottomRight=7]="BottomRight",e}({});const m={top:d.Top,bottom:d.Bottom,left:d.Left,right:d.Right,topLeft:d.TopLeft,topRight:d.TopRight,bottomLeft:d.BottomLeft,bottomRight:d.BottomRight},u=Object.keys(m);let A;const h={x:0,y:0};function y(e,t,a=!0,y,p=!1,v={width:0,height:0},g){const[E,b]=(0,n.J0)(g),[f,C]=(0,n.J0)(void 0),[S,w]=(0,n.Ul)({x:0,y:0}),[k,N]=(0,n.Ul)({width:0,height:0}),[I,P]=(0,n.Ul)({x:0,y:0}),M=S(),T=I(),B=e.current,x=t.current,[L,R]=(0,l.A)(!1),[F,D]=(0,l.A)(!1),[V,_,U]=(0,l.A)(!1),[O,J,K]=(0,l.A)(!1),[G,j,z]=(0,l.A)(!1),[H,$]=(0,n.J0)(void 0);function q(){return{width:window.innerWidth,height:window.innerHeight}}const W=(0,c.A)(e=>{p||b({x:e.x,y:e.y})}),Y=(0,c.A)(()=>p?h:E),Q=(0,c.A)(()=>{if(!f)return;const{width:e,height:t}=f,a=q();return{x:(a.width-e)/2,y:(a.height-t)/2}});(0,n.vJ)(()=>{B&&D()},[B]),(0,n.vJ)(()=>{if(!L&&f){const e=Q();if(!e)return;W(e),R()}},[f,L,B]);const Z=(0,c.A)(e=>{if(e instanceof MouseEvent&&0!==e.button)return;if(e.target.closest(".no-drag")||!B)return;const{x:t,y:a}=(0,i.A)(e),{left:n,top:s}=B.getBoundingClientRect();w({x:n,y:s}),P({x:t,y:a}),_()}),X=(0,c.A)(e=>{if(e instanceof MouseEvent&&0!==e.button)return;const t=e.target;if(!B||!t)return;const a=function(e){const t=t=>e.closest(t);if(t(s.cnh))for(const e of u)if(t(`.${e}`))return m[e]}(t);if(void 0===a)return;$(a);const{x:n,y:o}=(0,i.A)(e),{left:r,right:l,top:c,bottom:d}=B.getBoundingClientRect();w({x:r,y:c}),N({width:l-r,height:d-c}),P({x:n,y:o}),J()}),ee=(0,c.A)(()=>{U()}),te=(0,c.A)(()=>{K()});(0,n.vJ)(()=>{a||U()},[a]);const ae=(e,t)=>{const a=q(),n=a.width,s=a.height,o=f.width,r=f.height;let i=e,l=t;return i<0&&(i=0),l<0&&(l=0),i+o>n&&(i=n-o),l+r>s&&(l=s-r),{x:i,y:l}},ne=(0,c.A)(()=>{if(p)return;const e=F||g?E:Q();if(!f||!e)return;const t=ae(e.x,e.y);W(t)}),se=(0,c.A)(e=>{const t=e,a=q(),n=y.width,s=y.height;return t.width=Math.min(a.width,Math.max(n,t.width)),t.height=Math.min(a.height,Math.max(s,t.height)),t});(0,n.vJ)(()=>{if(O)return;const e=se({width:y.width,height:y.height});e&&C(e)},[y,O]);const oe=(0,c.A)(()=>{if(!f||O)return;const e=se(f);e&&C(e)});(0,n.vJ)(()=>{O||ne()},[f,O]),(0,n.vJ)(()=>{const e=()=>{j(),oe(),ne(),A&&(clearTimeout(A),A=void 0),A=window.setTimeout(()=>{A=void 0,z()},250)};return window.addEventListener("resize",e),()=>{clearTimeout(A),A=void 0,window.removeEventListener("resize",e)}},[ne]);const re=(0,c.A)(e=>{if(!V||!B)return;const{x:t,y:a}=(0,i.A)(e),n=t-T.x,s=a-T.y,o=M.x+n,r=M.y+s;f&&b(ae(o,r))}),ie=(0,c.A)(e=>{if(!O||!B||void 0===H)return;const{x:t,y:a}=(0,i.A)(e),n=k(),s=Math.min(Math.max(0,t),q().width),o=Math.min(Math.max(0,a),q().height),r=s-T.x,l=o-T.y,c=M.x+n.width-v.width,m=M.y+n.height-v.height,u={x:M.x,y:M.y,width:n.width,height:n.height};H!==d.Left&&H!==d.TopLeft&&H!==d.BottomLeft||(u.width=Math.max(n.width-r,v.width),u.x=Math.min(u.x+r,c)),H!==d.Right&&H!==d.TopRight&&H!==d.BottomRight||(u.width=Math.max(n.width+r,v.width)),H!==d.Top&&H!==d.TopLeft&&H!==d.TopRight||(u.height=Math.max(n.height-l,v.height),u.y=Math.min(u.y+l,m)),H!==d.Bottom&&H!==d.BottomLeft&&H!==d.BottomRight||(u.height=Math.max(n.height+l,v.height)),C({width:u.width,height:u.height}),b({x:u.x,y:u.y})});(0,n.vJ)(()=>{let e;return x&&a&&(e=(0,r.wJ)(x,{onCapture:Z,onDrag:re,onRelease:ee,onClick:ee,onDoubleClick:ee})),e},[a,x]),(0,n.vJ)(()=>{const e=[];if(B&&a)for(const t of u){const a=B.querySelector(`.resizeHandle.${t}`);if(a){const t=(0,r.wJ)(a,{onCapture:X,onDrag:ie,onRelease:te,onClick:te,onDoubleClick:te});t&&e.push(t)}}return()=>{e.forEach(e=>e())}},[a,B]);const le=V?"cursor: grabbing !important; ":"",ce=Y();if(!L||!f||!ce)return{isDragging:!1,style:le};const de=(0,o.A)(`left: ${ce.x}px;`,`top: ${ce.y}px;`,!p&&`max-width: ${f.width}px;`,!p&&`max-height: ${f.height}px;`,"position: fixed;",(V||O||G)&&"transition: none !important;",le);return{position:E,size:f,isDragging:V,isResizing:O,style:de}}},76721:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.d(t,{A:()=>C});var s=a(84051),o=a(13439),r=a(89925),i=a(90709),l=a(60919),c=a(26072),d=a(59030),m=a(54746),u=a(17751),A=a(43434),h=a(64493),y=a(12933),p=a(40664),v=a(22720),g=a(57474),E=e([d,u,A,h,y,p,v]);[d,u,A,h,y,p,v]=E.then?(await E)():E;const b=4,f=({isChannel:e,isActive:t,memberIds:a,maxGroupSize:n,creationProgress:l,creationError:E,onReset:f})=>{const{createGroupChat:C,createChannel:S}=(0,o.ko)(),w=(0,d.A)();(0,c.A)({isActive:t,onBack:f});const[k,N]=(0,s.J0)(""),[I,P]=(0,s.J0)(""),[M,T]=(0,s.J0)(),[B,x]=(0,s.J0)(),L="Chat title can't be empty",R="Channel title can't be empty",F=l===r.n7.InProgress;(0,s.vJ)(()=>{if(e)return;if(!a.length||a.length>b)return void N("");const t=(0,o.mS)(),n=t.users.byId,s=[t.currentUserId,...a].map(e=>(0,i.u0)(n[e])).filter(Boolean),r=s.slice(0,-1).join(", ")+w("CreateGroup.PeersTitleLastDelimeter")+s[s.length-1];N(r)},[e,a,w]);const D=(0,s.hb)(e=>{const{value:t}=e.currentTarget,a=t.replace(/^\s+/,"");N(a),a!==t&&(e.currentTarget.value=a)},[]),V=(0,s.hb)(e=>{P(e.currentTarget.value)},[]),_=(0,s.hb)(()=>{k.length?n&&a.length>=n?x("Sorry, creating supergroups is not yet supported"):C({title:k,photo:M,memberIds:a}):x(L)},[k,a,n,C,M]),U=(0,s.hb)(()=>{k.length?S({title:k,about:I,photo:M,memberIds:a,isChannel:!0}):x(R)},[k,S,I,M,a,R]);(0,s.vJ)(()=>{l===r.n7.Complete&&f(!0)},[l,f]);const O=E&&w(E)||(B!==L&&B!==R?B:void 0);return s.Ay.createElement("div",{className:"NewChat"},s.Ay.createElement("div",{className:"left-header"},s.Ay.createElement(h.A,{round:!0,size:"smaller",color:"translucent",onClick:()=>f(),ariaLabel:"Return to member selection"},s.Ay.createElement(m.A,{name:"arrow-left"})),s.Ay.createElement("h3",null,w(e?"NewChannel":"NewGroup"))),s.Ay.createElement("div",{className:"NewChat-inner step-2"},s.Ay.createElement(A.A,{onChange:T,title:w("AddPhoto")}),s.Ay.createElement(p.A,{value:k,onChange:D,label:w(e?"EnterChannelName":"GroupName"),error:B===L||B===R?B:void 0}),e&&s.Ay.createElement(s.Ay.Fragment,null,s.Ay.createElement(p.A,{value:I,onChange:V,label:w("DescriptionOptionalPlaceholder")}),s.Ay.createElement("p",{className:"note"},w("DescriptionInfo"))),O&&s.Ay.createElement("p",{className:"error"},O),a.length>0&&s.Ay.createElement(s.Ay.Fragment,null,s.Ay.createElement("h3",{className:"chat-members-heading"},w("GroupInfo.ParticipantCount",a.length,"i")),s.Ay.createElement("div",{className:"chat-members-list custom-scroll"},a.map(e=>s.Ay.createElement(v.A,{inactive:!0,className:"chat-item-clickable"},s.Ay.createElement(u.A,{userId:e})))))),s.Ay.createElement(y.A,{isShown:0!==k.length,onClick:e?U:_,disabled:F,ariaLabel:e?w("ChannelIntro.CreateChannel"):"Create Group"},F?s.Ay.createElement(g.A,{color:"white"}):s.Ay.createElement(m.A,{name:"arrow-right"})))},C=(0,s.ph)((0,o.EK)(e=>{const{progress:t,error:a}=(0,l.nTw)(e).chatCreation||{};return{creationProgress:t,creationError:a,maxGroupSize:e.config?.maxGroupSize}})(f));n()}catch(e){n(e)}})},77047:(e,t,a)=>{a.d(t,{A:()=>n});const n={main:"_YNfwDqt",root:"SeaF_shb",container:"axa67kqo",title:"U4IFhV0a",singleTitle:"qd6OFHiG",actionTitle:"yGhFKTl5",restrictionTitle:"t3KOsBfm",button:"goI3MITH",options:"b6847Kh3",dropdownList:"czTjjKim",dialogButtons:"JTT_DIRv",proceedButtons:"L4YzeG91",restrictionContainer:"iv0u9Zw6",restrictionContainerOpen:"qCQftA04",dropdownListOpen:"Ifpyv7Jp"}},77203:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.d(t,{A:()=>A});var s=a(84051),o=a(31481),r=a(58443),i=a(26072),l=a(59030),c=a(4438),d=a(64493),m=e([l,d]);[l,d]=m.then?(await m)():m;const u=({isActive:e,onReset:t})=>{const a=(0,l.A)(),n=(0,s.hb)(()=>{t(!0)},[t]);return(0,i.A)({isActive:e,onBack:t}),s.Ay.createElement("div",{className:"settings-content local-passcode custom-scroll"},s.Ay.createElement("div",{className:"settings-content-header no-border"},s.Ay.createElement(c.A,{size:o.BYH,tgsUrl:r.w.Congratulations,className:"settings-content-icon"}),s.Ay.createElement("p",{className:"settings-item-description mb-3",dir:"auto"},"Congratulations!"),s.Ay.createElement("p",{className:"settings-item-description mb-3",dir:"auto"},"Now you can lock the app with a passcode so that others can't open it.")),s.Ay.createElement("div",{className:"settings-item settings-group"},s.Ay.createElement(d.A,{onClick:n},a("Back"))))},A=(0,s.ph)(u);n()}catch(e){n(e)}})},77266:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.d(t,{A:()=>B});var s=a(84051),o=a(13439),r=a(23174),i=a(89925),l=a(31481),c=a(90709),d=a(60919),m=a(64520),u=a(37836),A=a(4961),h=a(26072),y=a(62587),p=a(59030),v=a(73767),g=a(54746),E=a(38692),b=a(84685),f=a(33336),C=a(43434),S=a(12933),w=a(40664),k=a(57474),N=a(94079),I=e([y,p,E,f,C,S,w,N]);[y,p,E,f,C,S,w,N]=I.then?(await I)():I;const P=(0,u.nF)(e=>e(),6e4,!0),M="Please provide your first name",T=({isActive:e,currentAvatarHash:t,currentFirstName:a,currentLastName:n,currentBio:c,progress:d,checkedUsername:m,editUsernameError:u,isUsernameAvailable:I,maxBioLength:T,usernames:B,onReset:x})=>{const{loadCurrentUser:L,updateProfile:R}=(0,o.ko)(),F=(0,p.A)(),D=(0,s.Kr)(()=>B?.find(({isEditable:e})=>e),[B]),V=D?.username||"",[_,U]=(0,s.J0)(!1),[O,J]=(0,s.J0)(!1),[K,G]=(0,s.J0)(),[j,z]=(0,s.J0)(),[H,$]=(0,s.J0)(a||""),[q,W]=(0,s.J0)(n||""),[Y,Q]=(0,s.J0)(c||""),[Z,X]=(0,s.J0)(V),ee=(0,y.A)(t,!1,r.qZ.BlobUrl),te=d===i.DV.InProgress,ae=!1===Z,ne=(0,v.A)(I),se=I??ne,oe=B&&B.length>1,re=(0,s.Kr)(()=>!ae&&(Boolean(j)||O||_&&!0===se),[ae,j,O,_,se]);(0,h.A)({isActive:e,onBack:x}),(0,s.vJ)(()=>{P(()=>{L()})},[L]),(0,s.vJ)(()=>{z(void 0)},[ee]),(0,s.vJ)(()=>{$(a||""),W(n||""),Q(c||"")},[a,n,c]),(0,s.vJ)(()=>{X(V||"")},[V]),(0,s.vJ)(()=>{d===i.DV.Complete&&(J(!1),U(!1),G(void 0))},[d]);const ie=(0,s.hb)(e=>{z(e)},[]),le=(0,s.hb)(e=>{$(e.target.value),J(!0)},[]),ce=(0,s.hb)(e=>{W(e.target.value),J(!0)},[]),de=(0,s.hb)(e=>{Q(e.target.value),J(!0)},[]),me=(0,s.hb)(e=>{X(e),U(V!==e)},[V]),ue=(0,s.hb)(()=>{const e=H.trim(),t=q.trim(),a=Y.trim();Z&&(e.length?R({photo:j,...O&&{firstName:e,lastName:t,bio:a},..._&&{username:Z}}):G(M))},[j,H,q,Y,O,Z,_,R]);return s.Ay.createElement("div",{className:"settings-fab-wrapper"},s.Ay.createElement("div",{className:"settings-content no-border custom-scroll"},s.Ay.createElement("div",{className:"settings-item"},s.Ay.createElement("div",{className:"settings-input"},s.Ay.createElement(C.A,{currentAvatarBlobUrl:ee,onChange:ie,title:"Edit your profile photo",disabled:te}),s.Ay.createElement(w.A,{value:H,onChange:le,label:F("FirstName"),disabled:te,error:K===M?K:void 0}),s.Ay.createElement(w.A,{value:q,onChange:ce,label:F("LastName"),disabled:te}),s.Ay.createElement(N.A,{value:Y,onChange:de,label:F("UserBio"),disabled:te,maxLength:T,maxLengthIndicator:T?(T-Y.length).toString():void 0})),s.Ay.createElement("p",{className:"settings-item-description",dir:F.isRtl?"rtl":void 0},(0,A.A)(F("lng_settings_about_bio"),["br","simple_markdown"]))),s.Ay.createElement("div",{className:"settings-item"},s.Ay.createElement("h4",{className:"settings-item-header",dir:F.isRtl?"rtl":void 0},F("Username")),s.Ay.createElement("div",{className:"settings-input"},s.Ay.createElement(f.A,{currentUsername:V,isLoading:te,isUsernameAvailable:I,checkedUsername:m,onChange:me})),u===l.Y3M&&function(){const e=`${l.jsp}${l.NjX}`;return s.Ay.createElement("p",{className:"settings-item-description",dir:F.isRtl?"rtl":void 0},F("lng_username_purchase_available").replace("{link}","%PURCHASE_LINK%").split("%").map(t=>"PURCHASE_LINK"===t?s.Ay.createElement(b.A,{url:e,text:`@${l.NjX}`}):t))}(),s.Ay.createElement("p",{className:"settings-item-description",dir:F.isRtl?"rtl":void 0},(0,A.A)(F("UsernameHelp"),["br","simple_markdown"])),Z&&s.Ay.createElement("p",{className:"settings-item-description",dir:F.isRtl?"rtl":void 0},F("lng_username_link"),s.Ay.createElement("br",null),s.Ay.createElement("span",{className:"username-link"},l.jsp,Z))),oe&&s.Ay.createElement(E.A,{usernames:B,onEditUsername:X})),s.Ay.createElement(S.A,{isShown:re,onClick:ue,disabled:te,ariaLabel:F("Save")},te?s.Ay.createElement(k.A,{color:"white"}):s.Ay.createElement(g.A,{name:"check"})))},B=(0,s.ph)((0,o.EK)(e=>{const{currentUserId:t}=e,{progress:a,isUsernameAvailable:n,checkedUsername:s,error:o}=(0,d.nTw)(e).profileEdit||{},r=t?(0,d.mBe)(e,t):void 0,i=(0,m.d)(e,"aboutLength");if(!r)return{progress:a,checkedUsername:s,isUsernameAvailable:n,editUsernameError:o,maxBioLength:i};const{firstName:l,lastName:u,usernames:A}=r,h=t?(0,d.vGo)(e,t):void 0;return{currentAvatarHash:(0,c.cP)(r),currentFirstName:l,currentLastName:u,currentBio:h?.bio,progress:a,isUsernameAvailable:n,checkedUsername:s,editUsernameError:o,maxBioLength:i,usernames:A}})(T));n()}catch(e){n(e)}})},77535:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.d(t,{A:()=>p});var s=a(84051),o=a(13439),r=a(87357),i=a(79824),l=a(4961),c=a(59030),d=a(54960),m=a(5228),u=a(64493),A=a(47),h=e([c,d,m,u]);[c,d,m,u]=h.then?(await h)():h;const y=({folder:e,suggestedPeerIds:t=i.p})=>{const{closeChatlistModal:a,leaveChatlist:n}=(0,o.ko)(),h=(0,c.A)(),[y,p]=(0,s.J0)([]),v=y.length?y.length.toString():void 0,g=(0,s.hb)(()=>{const e=y.length===t.length;p(e?[]:t)},[t,y.length]),E=(0,s.hb)(()=>{a(),n({folderId:e.id,peerIds:y})},[e.id,y]);return s.Ay.createElement("div",{className:A.A.content},Boolean(t?.length)&&s.Ay.createElement(s.Ay.Fragment,null,s.Ay.createElement("div",{className:A.A.description},(0,l.A)(h("FolderLinkSubtitleRemove"),["simple_markdown","emoji"])),s.Ay.createElement("div",{className:(0,r.A)(A.A.pickerWrapper,"custom-scroll")},s.Ay.createElement("div",{className:A.A.pickerHeader},s.Ay.createElement("div",{className:A.A.pickerHeaderInfo},h("FolderLinkHeaderChatsQuit",y.length,"i")),s.Ay.createElement("div",{className:A.A.selectionToggle,role:"button",tabIndex:0,onClick:g},y.length===t.length?h("DeselectAll"):h("SelectAll"))),s.Ay.createElement(d.A,{itemIds:t,onSelectedIdsChange:p,selectedIds:y,allowMultiple:!0,withStatus:!0,itemInputType:"checkbox"}))),s.Ay.createElement(u.A,{size:"smaller",onClick:E},s.Ay.createElement("div",{className:A.A.buttonText},!y.length&&h("FolderLinkButtonRemove"),Boolean(y.length)&&s.Ay.createElement(s.Ay.Fragment,null,h("FolderLinkButtonRemoveChats"),s.Ay.createElement(m.A,{className:A.A.buttonBadge,text:v,isAlternateColor:!0})))))},p=(0,s.ph)(y);n()}catch(e){n(e)}})},77566:(e,t,a)=>{a.d(t,{A:()=>n});const n={root:"T1l_4J8z","pie-slim-in":"EgyLOizu",pieSlimIn:"EgyLOizu","pie-slim-out":"TBiNdFb4",pieSlimOut:"TBiNdFb4",messages:"suY9dEIz",publicForwards:"S1x1ovkC","messages-title":"evQIkAqx",messagesTitle:"evQIkAqx","publicForwards-title":"WxL3i5PM",publicForwardsTitle:"WxL3i5PM",ready:"aUrozL5_",graph:"QQHwjG88",hidden:"QGctP1Nk"}},77609:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.d(t,{A:()=>u});var s=a(84051),o=a(87357),r=a(17142),i=a(59030),l=a(57595),c=e([i]),d=c.then?(await c)():c;i=d[0];const m=({option:e,checked:t,fullMonthlyAmount:a,onChange:n,className:c,isGiveaway:d})=>{const m=(0,i.A)(),{months:u,amount:A,currency:h}=e,y="users"in e?e.users:void 0,p=Math.floor(A/u),v=y?y>1:void 0,g=(0,s.Kr)(()=>a&&a>p?Math.ceil(100-p/(a/100)):void 0,[a,p]),E=(0,s.hb)(e=>{e.target.checked&&n(u)},[u,n]);return s.Ay.createElement("label",{className:(0,o.A)(d?l.A.giveawayWrapper:l.A.wrapper,t&&!d&&l.A.active,c),dir:m.isRtl?"rtl":void 0},s.Ay.createElement("input",{className:l.A.input,type:"radio",name:"subscription_option",value:u,checked:t,onChange:E}),s.Ay.createElement("div",{className:l.A.content},s.Ay.createElement("div",{className:l.A.month},Boolean(g)&&s.Ay.createElement("span",{className:(0,o.A)(l.A.giveawayDiscount,l.A.discount),title:m("GiftDiscount")}," ","−",g,"%"),m("Months",u)),s.Ay.createElement("div",{className:l.A.perMonth},d||v?`${(0,r.Ad)(A,h,m.code)} x ${y}`:m("PricePerMonth",(0,r.Ad)(p,h,m.code))),s.Ay.createElement("div",{className:l.A.amount},(0,r.Ad)(A,h,m.code))))},u=(0,s.ph)(m);n()}catch(e){n(e)}})},77758:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.d(t,{A:()=>A});var s=a(84051),o=a(58443),r=a(26072),i=a(59030),l=a(64489),c=a(64493),d=a(89704),m=e([i,c]);[i,c]=m.then?(await m)():m;const u=({isActive:e,onReset:t,onStart:a})=>{const n=(0,i.A)();return(0,r.A)({isActive:e,onBack:t}),s.Ay.createElement("div",{className:"settings-content two-fa custom-scroll"},s.Ay.createElement("div",{className:"settings-content-header no-border"},s.Ay.createElement(l.A,{tgsUrl:o.w.Lock,previewUrl:d,size:160,className:"settings-content-icon"}),s.Ay.createElement("p",{className:"settings-item-description mb-3",dir:"auto"},n("SetAdditionalPasswordInfo"))),s.Ay.createElement("div",{className:"settings-item settings-group"},s.Ay.createElement(c.A,{onClick:a},n("EditAdminTransferSetPassword"))))},A=(0,s.ph)(u);n()}catch(e){n(e)}})},78110:(e,t,a)=>{a.d(t,{A:()=>n});const n={root:"u84X0r2z","floating-badge":"hPi4fICJ",floatingBadge:"hPi4fICJ","floating-badge-triangle":"jufjjcX9",floatingBadgeTriangle:"jufjjcX9","floating-badge-icon":"XkiOXdMP",floatingBadgeIcon:"XkiOXdMP",text:"YaiSoFKE","floating-badge-value":"iC3LJrvy",floatingBadgeValue:"iC3LJrvy","left-text":"OejVAPj6 YaiSoFKE YaiSoFKE",leftText:"OejVAPj6 YaiSoFKE YaiSoFKE","right-text":"COQdFBQk YaiSoFKE YaiSoFKE",rightText:"COQdFBQk YaiSoFKE YaiSoFKE","right-value":"BEq3jFlz YaiSoFKE YaiSoFKE",rightValue:"BEq3jFlz YaiSoFKE YaiSoFKE","left-value":"RJosx238 YaiSoFKE",leftValue:"RJosx238 YaiSoFKE",line:"Hy5kWx0p",left:"scGr4JS9",right:"nPaUalQf"}},78568:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.d(t,{A:()=>N});var s=a(84051),o=a(13439),r=a(90709),i=a(60919),l=a(87357),c=a(17663),d=a(49086),m=a(35749),u=a(2338),A=a(43874),h=a(17712),y=a(62587),p=a(59030),v=a(92033),g=a(21849),E=a(35384),b=a(54746),f=a(96530),C=a(22720),S=e([d,y,p,g,E,C]);[d,y,p,g,E,C]=S.then?(await S)():S;const w=({message:e,searchQuery:t,chatId:a,chat:n,privateChatUser:i})=>{const{focusMessage:l}=(0,o.ko)(),{isMobile:d}=(0,A.Ay)(),b=(0,u.A)(e),S=(0,r.fP)(e)?void 0:b,w=(0,m.A)(e,"micro"),N=(0,y.A)(w),I=Boolean((0,r.lk)(e)),P=(0,h.A)(()=>{l({chatId:a,messageId:e.id,shouldReplaceHistory:!0})}),M=(0,p.A)(),T=(0,v.A)(P);if(!n)return;const B=i||n;return s.Ay.createElement(C.A,{className:"ChatMessage chat-item-clickable",ripple:!d,onClick:P,buttonRef:T},s.Ay.createElement(g.A,{peer:B,isSavedMessages:i?.isSelf}),s.Ay.createElement("div",{className:"info"},s.Ay.createElement("div",{className:"info-row"},s.Ay.createElement(E.A,{peer:B,withEmojiStatus:!0,isSavedMessages:a===i?.id&&i?.isSelf}),s.Ay.createElement("div",{className:"message-date"},s.Ay.createElement(f.A,{className:"date"},(0,c.be)(M,1e3*e.date)))),s.Ay.createElement("div",{className:"subtitle"},s.Ay.createElement("div",{className:"message",dir:"auto"},k(M,e,N||S,t,I)))))};function k(e,t,a,n,o){if(!a)return(0,d.C)(e,t,void 0,n);const i=(0,r.y2)(t);return s.Ay.createElement("span",{className:"media-preview"},s.Ay.createElement("img",{src:a,alt:"",className:(0,l.A)("media-preview--image",o&&"round",i&&"media-preview-spoiler"),draggable:!1}),(0,r.zX)(t)&&s.Ay.createElement(b.A,{name:"play"}),(0,d.C)(e,t,!0,n))}const N=(0,s.ph)((0,o.EK)((e,{chatId:t})=>{const a=(0,i.hds)(e,t);if(!a)return{};const n=(0,r.e7)(a),s=n?(0,i.mBe)(e,n):void 0;return{chat:a,...n&&{privateChatUser:s}}})(w));n()}catch(I){n(I)}})},78620:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.d(t,{Ay:()=>x,NR:()=>I,X_:()=>N});var s=a(84051),o=a(61433),r=a(31481),i=a(66644),l=a(57446),c=a(87357),d=a(17142),m=a(4961),u=a(37661),A=a(39351),h=a(17712),y=a(59030),p=a(73767),v=a(54746),g=a(81285),E=a(64493),b=a(12106),f=a(19723),C=a(83716),S=a(68490),w=a(87210),k=e([A,y,g,E,b,f,C,S]);[A,y,g,E,b,f,C,S]=k.then?(await k)():k;const N={double_limits:"PremiumPreviewLimits",infinite_reactions:"PremiumPreviewReactions2",premium_stickers:"PremiumPreviewStickers",animated_emoji:"PremiumPreviewEmoji",no_ads:"PremiumPreviewNoAds",voice_to_text:"PremiumPreviewVoiceToText",profile_badge:"PremiumPreviewProfileBadge",faster_download:"PremiumPreviewDownloadSpeed",more_upload:"PremiumPreviewUploads",advanced_chat_management:"PremiumPreviewAdvancedChatManagement",animated_userpics:"PremiumPreviewAnimatedProfiles",emoji_status:"PremiumPreviewEmojiStatus",translations:"PremiumPreviewTranslations",stories:"PremiumPreviewStories",saved_tags:"PremiumPreviewTags2",last_seen:"PremiumPreviewLastSeen",message_privacy:"PremiumPreviewMessagePrivacy",effects:"Premium.MessageEffects",todo:"PremiumPreviewTodo"},I={double_limits:"PremiumPreviewLimitsDescription",infinite_reactions:"PremiumPreviewReactions2Description",premium_stickers:"PremiumPreviewStickersDescription",no_ads:"PremiumPreviewNoAdsDescription",animated_emoji:"PremiumPreviewEmojiDescription",voice_to_text:"PremiumPreviewVoiceToTextDescription",profile_badge:"PremiumPreviewProfileBadgeDescription",faster_download:"PremiumPreviewDownloadSpeedDescription",more_upload:"PremiumPreviewUploadsDescription",advanced_chat_management:"PremiumPreviewAdvancedChatManagementDescription",animated_userpics:"PremiumPreviewAnimatedProfilesDescription",emoji_status:"PremiumPreviewEmojiStatusDescription",translations:"PremiumPreviewTranslationsDescription",stories:"PremiumPreviewStoriesDescription",saved_tags:"PremiumPreviewTagsDescription2",last_seen:"PremiumPreviewLastSeenDescription",message_privacy:"PremiumPreviewMessagePrivacyDescription",effects:"Premium.MessageEffectsInfo",todo:"PremiumPreviewTodoDescription"},P={channels:"GroupsAndChannelsLimitTitle",dialogFolderPinned:"PinChatsLimitTitle",channelsPublic:"PublicLinksLimitTitle",savedGifs:"SavedGifsLimitTitle",stickersFaved:"FavoriteStickersLimitTitle",aboutLength:"BioLimitTitle",captionLength:"CaptionsLimitTitle",dialogFilters:"FoldersLimitTitle",dialogFiltersChats:"ChatPerFolderLimitTitle",recommendedChannels:"SimilarChannelsLimitTitle",moreAccounts:"ConnectedAccountsLimitTitle"},M={channels:"GroupsAndChannelsLimitSubtitle",dialogFolderPinned:"PinChatsLimitSubtitle",channelsPublic:"PublicLinksLimitSubtitle",savedGifs:"SavedGifsLimitSubtitle",stickersFaved:"FavoriteStickersLimitSubtitle",aboutLength:"BioLimitSubtitle",captionLength:"CaptionsLimitSubtitle",dialogFilters:"FoldersLimitSubtitle",dialogFiltersChats:"ChatPerFolderLimitSubtitle",recommendedChannels:"SimilarChannelsLimitSubtitle",moreAccounts:"ConnectedAccountsLimitSubtitle"},T=20,B=({promo:e,initialSection:t,isPremium:a,limits:n,premiumPromoOrder:k,subscriptionOption:B,onBack:x,onClickSubscribe:L})=>{const R=(0,y.A)(),F=(0,A.A)(),D=(0,s.li)(),[V,_]=(0,s.J0)(r.O2i.indexOf(t)),[U,O]=(0,s.J0)(0),[J,K,G]=(0,u.A)(),[j,z]=(0,s.J0)(!0),[H,$]=(0,s.J0)(!1),q=(0,p.A)(t),W=(0,s.Kr)(()=>k?k.filter(e=>r.O2i.includes(e)):r.O2i,[k]),Y=(0,s.Kr)(()=>{if(!B)return;const{amount:e,months:t,currency:n}=B,s=Math.floor(e/t);return a?F("OK"):F("SubscribeToPremium",{price:(0,d.vv)(F,s,n)},{withNodes:!0})},[a,F,B]),Q=(0,h.A)(()=>{L(t)});function Z(e){const{scrollTop:t,clientHeight:a,scrollHeight:n}=e.currentTarget;z(t<=T),$(t>=n-a-T)}(0,s.vJ)(()=>{const e=D.current;if(!e||q===t)return;const a=W.indexOf(t);_(a),K(),(0,l.A)(e,e.clientWidth*a,0).then(G)},[V,W,t,q]);const X=(0,h.A)(async e=>{const t=D.current;t&&(_(e),K(),await(0,l.A)(t,t.clientWidth*e,800),G())}),ee=W[V],te="double_limits"!==ee&&"stories"!==ee;return s.Ay.createElement("div",{className:w.A.root},s.Ay.createElement(E.A,{round:!0,size:"smaller",className:(0,c.A)(w.A.backButton,te&&w.A.whiteBackButton),color:te?"translucent-white":"translucent",onClick:x,ariaLabel:R("Back")},s.Ay.createElement(v.A,{name:"arrow-left"})),s.Ay.createElement("div",{className:w.A.preview}),s.Ay.createElement("div",{className:(0,c.A)(w.A.content,"no-scrollbar"),onScroll:function(e){const t=e.currentTarget,{clientWidth:a,scrollLeft:n}=t,s=Math.round(n),r=s%a/a,l=Math.ceil((s+1)/a);O(l);const c=t.querySelector("#premium_feature_preview_video_"+(l-1)),d=t.querySelector(`#premium_feature_preview_video_${l}`);if((0,i.RK)(()=>{t.style.setProperty("--scroll-progress",r.toString()),t.style.setProperty("--abs-scroll-progress",Math.abs(r).toString()),c&&(0,o.dH)(c,"reverse",!1),d&&(0,o.dH)(d,"reverse",!0)}),J)return;const m=Math.round(s/a);_(m)},ref:D},W.map((t,a)=>{if("double_limits"===t)return s.Ay.createElement("div",{className:(0,c.A)(w.A.slide,w.A.limits)},s.Ay.createElement("h2",{className:(0,c.A)(w.A.header,j&&w.A.noHeaderBorder)},R(N.double_limits)),s.Ay.createElement("div",{className:(0,c.A)(w.A.limitsContent,"custom-scroll"),onScroll:Z},r.M$8.map((e,t)=>{const a=n?.[e][0].toString(),o=n?.[e][1].toString();return s.Ay.createElement(b.A,{title:R(P[e]),description:R(M[e],o),leftValue:a,rightValue:o,colorStepProgress:t/(r.M$8.length-1)})})));if("premium_stickers"===t)return s.Ay.createElement("div",{className:w.A.slide},s.Ay.createElement("div",{className:w.A.frame},s.Ay.createElement(f.A,{isActive:V===a})),s.Ay.createElement("h1",{className:w.A.title},R(N.premium_stickers)),s.Ay.createElement("div",{className:w.A.description},(0,m.A)(R(I.premium_stickers),["br"])));if("stories"===t)return s.Ay.createElement("div",{className:(0,c.A)(w.A.slide,w.A.stories)},s.Ay.createElement(C.A,null));const o=e.videoSections.indexOf(t);if(-1===o)return;const i="todo"===e.videoSections[o];return s.Ay.createElement("div",{className:w.A.slide},s.Ay.createElement("div",{className:w.A.frame},s.Ay.createElement(S.A,{isActive:V===a,videoId:e.videos[o].id,videoThumbnail:e.videos[o].thumbnail,isDown:r.jhT.includes(t),index:a,isReverseAnimation:a===U})),s.Ay.createElement("h1",{className:w.A.title},i?F(N[e.videoSections[o]],void 0,{withNodes:!0,renderTextFilters:["br"]}):R(N[e.videoSections[o]])),s.Ay.createElement("div",{className:w.A.description},(0,m.A)(i?F(I[e.videoSections[o]],void 0,{withNodes:!0,renderTextFilters:["br"]}):R(I[e.videoSections[o]]),["br"])))})),s.Ay.createElement("div",{className:(0,c.A)(w.A.footer,(H||0!==V)&&w.A.noFooterBorder)},s.Ay.createElement(g.A,{length:r.O2i.length,active:V,onSelectSlide:X}),Boolean(Y)&&s.Ay.createElement(E.A,{className:(0,c.A)(w.A.button),isShiny:!a,withPremiumGradient:!a,onClick:a?x:Q},Y)))},x=(0,s.ph)(B);n()}catch(e){n(e)}})},78699:(e,t,a)=>{a.d(t,{A:()=>n});const n={root:"kUZmBlnN","window-state-button":"Rax9j_TK",windowStateButton:"Rax9j_TK",button:"SMRJmUuE",avatars:"GP17QhNN","state-icon":"sdbTXCxq",stateIcon:"sdbTXCxq",icon:"P0P4gW6a",title:"TZFjRaG4"}},78922:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.d(t,{A:()=>E});var s=a(84051),o=a(31481),r=a(87357),i=a(17663),l=a(91525),c=a(76023),d=a(17712),m=a(52988),u=a(54746),A=a(46256),h=a(60534),y=e([m,A]);[m,A]=y.then?(await y)():y;const p=15*c.$,v=({attachment:e,className:t,isSingle:a,shouldDisplayCompressed:n,shouldDisplayGrouped:o,index:c,onDelete:y,onToggleSpoiler:v})=>{const E=g(e,n),b=(0,d.A)(()=>{v?.(c)}),f=(0,s.Kr)(()=>{switch(E){case"photo":return s.Ay.createElement("img",{className:h.A.preview,src:e.blobUrl,alt:"",draggable:!1});case"video":return s.Ay.createElement(s.Ay.Fragment,null,Boolean(e.quick?.duration)&&s.Ay.createElement("div",{className:h.A.duration},(0,i.QO)(e.quick.duration)),s.Ay.createElement("video",{className:h.A.preview,src:e.blobUrl,autoPlay:!0,muted:!0,loop:!0,disablePictureInPicture:!0}));default:return s.Ay.createElement(s.Ay.Fragment,null,s.Ay.createElement(m.A,{className:h.A.file,name:e.filename,extension:(0,l.QC)(e.filename,e.mimeType),previewData:e.previewBlobUrl,size:e.size,smaller:!0}),y&&s.Ay.createElement(u.A,{name:"delete",className:(0,r.A)(h.A.actionItem,h.A.deleteFile),onClick:()=>y(c)}))}},[e,E,c,y]),C="file"===E||!o,S=Boolean("file"!==E&&e.shouldSendAsSpoiler),w="file"!==E,k=(0,r.A)(t,h.A.root,a&&h.A.single,C&&h.A.noGrouping);return s.Ay.createElement("div",{className:k},f,s.Ay.createElement(A.A,{isVisible:S,thumbDataUri:e.previewBlobUrl||e.blobUrl,width:p,height:p}),w&&s.Ay.createElement("div",{className:h.A.overlay},s.Ay.createElement(u.A,{name:e.shouldSendAsSpoiler?"spoiler-disable":"spoiler",className:h.A.actionItem,onClick:b}),y&&s.Ay.createElement(u.A,{name:"delete",className:h.A.actionItem,onClick:()=>y(c)})))};function g(e,t){if(t&&e.quick){if(o.gex.has(e.mimeType))return"photo";if(o.fNs.has(e.mimeType))return"video"}return"file"}const E=(0,s.ph)(v);n()}catch(b){n(b)}})},78988:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.d(t,{A:()=>C});var s=a(84051),o=a(13439),r=a(31481),i=a(90709),l=a(60919),c=a(58443),d=a(4961),m=a(17712),u=a(59030),A=a(64493),h=a(8410),y=a(84640),p=a(64489),v=a(54746),g=a(83856),E=e([u,A,h,y]);[u,A,h,y]=E.then?(await E)():E;const b=h.U+r.xB5,f=({isOpen:e,isReadDate:t,user:a})=>{const n=(0,u.A)(),{updateGlobalPrivacySettings:r,openPremiumModal:l,closePrivacySettingsNoticeModal:E,showNotification:f,setPrivacyVisibility:C,loadUser:S}=(0,o.ko)(),w=(0,i.u0)(a),k=(0,m.A)(()=>{r({shouldHideReadMarks:!1}),E(),setTimeout(()=>{f({message:n("PremiumReadSet")})},b)}),N=(0,m.A)(()=>{C({privacyKey:"lastSeen",visibility:"everybody",onSuccess:()=>S({userId:a.id})}),E(),setTimeout(()=>{f({message:n("PremiumLastSeenSet")})},b)}),I=(0,m.A)(()=>{E(),setTimeout(()=>{l({initialSection:"last_seen"})},b)}),P=(0,m.A)(()=>{E()});return s.Ay.createElement(h.A,{isSlim:!0,isOpen:e,onClose:P},s.Ay.createElement("div",{className:g.A.container,dir:n.isRtl?"rtl":void 0},s.Ay.createElement(A.A,{className:g.A.closeButton,color:"translucent",round:!0,size:"smaller",onClick:P,ariaLabel:"Close"},s.Ay.createElement(v.A,{name:"close"})),s.Ay.createElement(p.A,{tgsUrl:t?c.w.ReadTime:c.w.LastSeen,size:84,className:g.A.icon,nonInteractive:!0,noLoop:!0}),s.Ay.createElement("h2",{className:g.A.header},n(t?"PremiumReadHeader1":"PremiumLastSeenHeader1")),s.Ay.createElement("p",{className:g.A.desc},(0,d.A)(n(t?"PremiumReadText1":"PremiumLastSeenText1Locked",w),["simple_markdown"])),s.Ay.createElement(A.A,{size:"smaller",onClick:t?k:N,className:g.A.button},n(t?"PremiumReadButton1":"PremiumLastSeenButton1")),s.Ay.createElement(y.A,{className:g.A.separator},n("PremiumOr")),s.Ay.createElement("h2",{className:g.A.header},n("PremiumReadHeader2")),s.Ay.createElement("p",{className:g.A.desc},(0,d.A)(n(t?"PremiumReadText2":"PremiumLastSeenText2",w),["simple_markdown"])),s.Ay.createElement(A.A,{withPremiumGradient:!0,size:"smaller",onClick:I,className:g.A.button},n("PremiumLastSeenButton2"))))},C=(0,s.ph)((0,o.EK)(e=>{const{chatId:t,isReadDate:a}=(0,l.nTw)(e).privacySettingsNoticeModal||{};return{user:t?(0,l.mBe)(e,t):void 0,isReadDate:a}})(f));n()}catch(e){n(e)}})},79197:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.d(t,{A:()=>M});var s=a(84051),o=a(13439),r=a(23174),i=a(89925),l=a(90709),c=a(60919),d=a(14242),m=a(37661),u=a(26072),A=a(17712),h=a(62587),y=a(59030),p=a(54746),v=a(43434),g=a(94189),E=a(12933),b=a(40664),f=a(22720),C=a(57474),S=a(63152),w=a(94079),k=e([h,y,v,g,E,b,f,w]);[h,y,v,g,E,b,f,w]=k.then?(await k)():k;const N="Channel title can't be empty",I=255,P=({chatId:e,chat:t,chatFullInfo:a,progress:n,canChangeInfo:k,canInvite:P,exportedInvites:M,isActive:T,availableReactions:B,onScreenSelect:x,onClose:L,hasAutoTranslation:R,canToggleAutoTranslation:F})=>{const{updateChat:D,closeManagement:V,leaveChannel:_,deleteChannel:U,openChat:O,loadExportedChatInvites:J,loadChatJoinRequests:K,toggleAutoTranslation:G}=(0,o.ko)(),j=t?.title||"",z=a?.about||"",H=Boolean(a?.linkedChatId),[$,q,W]=(0,m.A)(),[Y,Q]=(0,s.J0)(!1),[Z,X]=(0,s.J0)(j),[ee,te]=(0,s.J0)(z),[ae,ne]=(0,s.J0)(),[se,oe]=(0,s.J0)(),re=t&&(0,l.cP)(t),ie=(0,h.A)(re,!1,r.qZ.BlobUrl),le=(0,y.A)(),ce=t&&(0,l.WX)(t),de=(0,A.A)(()=>{G({chatId:e,isEnabled:!R})});(0,u.A)({isActive:T,onBack:L}),(0,s.vJ)(()=>{P&&(J({chatId:e}),J({chatId:e,isRevoked:!0}),K({chatId:e}))},[e,P]),(0,s.vJ)(()=>{n===i.TD.Complete&&(Q(!1),oe(void 0))},[n]);const me=(0,s.Kr)(()=>Object.keys(a?.adminMembersById||{}).length,[a?.adminMembersById]),ue=a?.kickedMembers?.length||0,Ae=(0,A.A)(()=>{x(i.je.ChatPrivacyType)}),he=(0,A.A)(()=>{x(i.je.Discussion)}),ye=(0,A.A)(()=>{x(i.je.Reactions)}),pe=(0,A.A)(()=>{x(i.je.ChatAdministrators)}),ve=(0,A.A)(()=>{x(i.je.Invites)}),ge=(0,A.A)(()=>{x(i.je.JoinRequests)}),Ee=(0,A.A)(e=>{ne(e),Q(!0)}),be=(0,A.A)(e=>{X(e.target.value),Q(!0)}),fe=(0,A.A)(e=>{te(e.target.value),Q(!0)}),Ce=(0,A.A)(()=>{const t=Z.trim(),a=ee.trim();t.length?D({chatId:e,title:t,about:a,photo:ae}):oe(N)}),Se=(0,A.A)(()=>{x(i.je.ChannelSubscribers)}),we=(0,A.A)(()=>{x(i.je.ChannelRemovedUsers)}),ke=(0,A.A)(()=>{t.isCreator?U({chatId:t.id}):_({chatId:t.id}),W(),V(),O({id:void 0})}),Ne=(0,s.Kr)(()=>{if(!a?.enabledReactions)return le("ReactionsOff");if("all"===a.enabledReactions.type)return le("ReactionsAll");const e=a.enabledReactions.allowed.length,t=B?.filter(e=>!e.isInactive).length||0;return t?`${e} / ${t}`:e.toString()},[B,a?.enabledReactions,le]),Ie=(0,s.Kr)(()=>(0,l.gA)(t),[t]);if((0,c._ls)((0,o.mS)(),e)||t.isForbidden)return;const Pe=n===i.TD.InProgress;return s.Ay.createElement("div",{className:"Management"},s.Ay.createElement("div",{className:"panel-content custom-scroll"},s.Ay.createElement("div",{className:"section"},s.Ay.createElement(v.A,{currentAvatarBlobUrl:ie,onChange:Ee,disabled:!k}),s.Ay.createElement("div",{className:"settings-edit"},s.Ay.createElement(b.A,{id:"channel-title",label:le("EnterChannelName"),onChange:be,value:Z,error:se===N?se:void 0,disabled:!k}),s.Ay.createElement(w.A,{id:"channel-about",label:le("DescriptionPlaceholder"),onChange:fe,value:ee,maxLength:I,maxLengthIndicator:(I-ee.length).toString(),disabled:!k,noReplaceNewlines:!0})),t.isCreator&&s.Ay.createElement(f.A,{icon:"lock",multiline:!0,onClick:Ae},s.Ay.createElement("span",{className:"title"},le("ChannelType")),s.Ay.createElement("span",{className:"subtitle"},le(Ie?"TypePublic":"TypePrivate"))),s.Ay.createElement(f.A,{icon:"message",multiline:!0,onClick:he,disabled:!k},s.Ay.createElement("span",{className:"title"},le("Discussion")),s.Ay.createElement("span",{className:"subtitle"},le(H?"DiscussionUnlink":"Add"))),P&&s.Ay.createElement(f.A,{icon:"link",onClick:ve,multiline:!0,disabled:!M},s.Ay.createElement("span",{className:"title"},le("GroupInfo.InviteLinks")),s.Ay.createElement("span",{className:"subtitle"},M?(0,d.Sm)(M.length):le("Loading"))),Boolean(t.joinRequests?.length)&&s.Ay.createElement(f.A,{icon:"add-user-filled",onClick:ge,multiline:!0},s.Ay.createElement("span",{className:"title"},le("SubscribeRequests")),s.Ay.createElement("span",{className:"subtitle"},(0,d.Sm)(t.joinRequests.length))),s.Ay.createElement(f.A,{icon:"heart-outline",multiline:!0,onClick:ye,disabled:!k},s.Ay.createElement("span",{className:"title"},le("Reactions")),s.Ay.createElement("span",{className:"subtitle",dir:"auto"},Ne)),ce&&s.Ay.createElement(f.A,{icon:"language",narrow:!0,ripple:!0,disabled:!F,onClick:de},s.Ay.createElement("span",null,le("AutomaticTranslation")),s.Ay.createElement(S.A,{id:"auto-translation",label:le("AutomaticTranslation"),checked:R}))),s.Ay.createElement("div",{className:"section"},s.Ay.createElement(f.A,{icon:"admin",multiline:!0,onClick:pe},s.Ay.createElement("span",{className:"title"},le("ChannelAdministrators")),s.Ay.createElement("span",{className:"subtitle"},me)),s.Ay.createElement(f.A,{icon:"group",multiline:!0,onClick:Se},s.Ay.createElement("span",{className:"title",dir:"auto"},le("ChannelSubscribers")),s.Ay.createElement("span",{className:"subtitle",dir:"auto"},(0,d.Sm)(t.membersCount))),s.Ay.createElement(f.A,{icon:"delete-user",multiline:!0,onClick:we},s.Ay.createElement("span",{className:"title"},le("ChannelBlockedUsers")),s.Ay.createElement("span",{className:"subtitle"},ue))),s.Ay.createElement("div",{className:"section"},s.Ay.createElement(f.A,{icon:"delete",ripple:!0,destructive:!0,onClick:q},t.isCreator?le("ChannelDelete"):le("LeaveChannel")))),s.Ay.createElement(E.A,{isShown:Y,onClick:Ce,disabled:Pe,ariaLabel:le("Save")},Pe?s.Ay.createElement(C.A,{color:"white"}):s.Ay.createElement(p.A,{name:"check"})),s.Ay.createElement(g.A,{isOpen:$,onClose:W,text:t.isCreator?le("ChannelDeleteAlert"):le("ChannelLeaveAlert"),confirmLabel:t.isCreator?le("ChannelDelete"):le("LeaveChannel"),confirmHandler:ke,confirmIsDestructive:!0}))},M=(0,s.ph)((0,o.EK)((e,{chatId:t})=>{const a=(0,c.hds)(e,t),{management:n}=(0,c.nTw)(e),{progress:s}=n,{invites:o}=n.byChatId[t]||{},r=e.appConfig?.channelAutoTranslationLevelMin,i=a?.hasAutoTranslation,d=a?.level,m=!(!d||!r)&&d>=r;return{chat:a,chatFullInfo:(0,c.AWZ)(e,t),progress:s,canChangeInfo:(0,l.ub)(a,"changeInfo"),canInvite:(0,l.ub)(a,"inviteUsers"),exportedInvites:o,availableReactions:e.reactions.availableReactions,hasAutoTranslation:i,canToggleAutoTranslation:m}},(e,{chatId:t})=>Boolean((0,c.hds)(e,t)))(P));n()}catch(e){n(e)}})},80284:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.d(t,{Ay:()=>B,IV:()=>P,z1:()=>M});var s=a(84051),o=a(13439),r=a(31481),i=a(60919),l=a(64520),c=a(9716),d=a(87894),m=a(79824),u=a(58968),A=a(58443),h=a(31880),y=a(26072),p=a(59030),v=a(64489),g=a(51083),E=a(54746),b=a(17751),f=a(12933),C=a(40664),S=a(22720),w=a(57474),k=e([p,g,b,f,C,S]);[p,g,b,f,C,S]=k.then?(await k)():k;const N=500,I=5,P="Please provide a title for this folder.",M="ChatList.Filter.Error.Empty",T=({state:e,dispatch:t,onAddIncludedChats:a,onAddExcludedChats:n,onShareFolder:l,onOpenInvite:m,isActive:k,onReset:T,isRemoved:B,onBack:x,loadedActiveChatIds:L,isOnlyInvites:R,loadedArchivedChatIds:F,invites:D,maxInviteLinks:V,maxChatLists:_,chatListCount:U,onSaveFolder:O})=>{const{loadChatlistInvites:J,openLimitReachedModal:K,showNotification:G}=(0,o.ko)(),j="create"===e.mode,z=e.folder.isChatList,[H,$]=(0,s.J0)(!1),[q,W]=(0,s.J0)(!1);(0,s.vJ)(()=>{B&&T()},[B,T]),(0,s.vJ)(()=>{k&&e.folderId&&e.folder.isChatList&&J({folderId:e.folderId})},[k,e.folder.isChatList,e.folderId]);const{selectedChatIds:Y,selectedChatTypes:Q}=(0,s.Kr)(()=>(0,h.a)(e,"included"),[e]),{selectedChatIds:Z,selectedChatTypes:X}=(0,s.Kr)(()=>(0,h.a)(e,"excluded"),[e]);(0,s.vJ)(()=>{$(!1),W(!1)},[e.folderId]);const[ee,te]=(0,s.Kr)(()=>{const e=new Set([...L||[],...F||[]]),t=(0,d.$h)(Y,e),a=(0,d.$h)(Z,e);return[H?t:t.slice(0,I-Q.length),q?a:a.slice(0,I-X.length)]},[Z,Y,Q,X,q,H,L,F]),ae=(0,p.A)();(0,y.A)({isActive:k,onBack:x});const ne=(0,s.hb)(e=>{const{currentTarget:a}=e;t({type:"setTitle",payload:a.value.trim()})},[t]),se=(0,s.hb)(()=>{t({type:"setIsLoading",payload:!0}),O(()=>{setTimeout(()=>{T()},N)})},[t,O,T]),oe=(0,s.hb)(()=>{D?(0,i.w5O)((0,o.mS)(),e.folderId)?U>=_&&!e.folder.isChatList?K({limit:"chatlistJoined"}):D.length<V?e.isTouched?O(l):l():K({limit:"chatlistInvites"}):G({message:ae("ChatList.Filter.InviteLink.IncludeExcludeError")}):j&&O(l)},[D,e.folderId,e.isTouched,U,V,j,O,l,ae,_,e.folder.isChatList]),re=(0,s.hb)((t,a)=>{e.isTouched?O(()=>m(a)):m(a)},[O,m,e.isTouched]);function ie(e){const t="included"===e?Q:X,a="included"===e?ee:te,n="included"===e?H:q,o=("included"===e?Y:Z).length-a.length,r="included"===e?()=>$(!0):()=>W(!0);return s.Ay.createElement(s.Ay.Fragment,null,t.map(t=>function(e,t){const a="included"===t?u.V2.find(({type:t})=>t===e):u.LS.find(({type:t})=>t===e);if(a)return s.Ay.createElement(S.A,{key:a.type,className:"settings-folders-list-item mb-1",narrow:!0,inactive:!0},s.Ay.createElement(b.A,{avatarSize:"small",customPeer:a}))}(t,e)),a.map(e=>s.Ay.createElement(S.A,{className:"settings-folders-list-item mb-1",narrow:!0,inactive:!0},(0,c.L8)(e)?s.Ay.createElement(b.A,{avatarSize:"small",userId:e}):s.Ay.createElement(g.A,{avatarSize:"small",chatId:e}))),!n&&o>0&&s.Ay.createElement(S.A,{key:"load-more",className:"settings-folders-list-item",narrow:!0,onClick:r,icon:"down"},ae("FilterShowMoreChats",o,"i")))}return s.Ay.createElement("div",{className:"settings-fab-wrapper"},s.Ay.createElement("div",{className:"settings-content no-border custom-scroll"},s.Ay.createElement("div",{className:"settings-content-header"},s.Ay.createElement(v.A,{size:r.fwn,tgsUrl:A.w.FoldersNew,play:String(e.folderId),className:"settings-content-icon"}),j&&s.Ay.createElement("p",{className:"settings-item-description mb-3",dir:ae.isRtl?"rtl":void 0},ae("FilterIncludeInfo")),s.Ay.createElement(C.A,{className:"mb-0",label:ae("FilterNameHint"),value:e.folder.title.text,onChange:ne,error:e.error&&e.error===P?P:void 0})),!R&&s.Ay.createElement("div",{className:"settings-item"},e.error&&e.error===M&&s.Ay.createElement("p",{className:"settings-item-description color-danger mb-2",dir:ae.isRtl?"rtl":void 0},ae(e.error)),s.Ay.createElement("h4",{className:"settings-item-header mb-3",dir:ae.isRtl?"rtl":void 0},ae("FilterInclude")),s.Ay.createElement(S.A,{className:"settings-folders-list-item color-primary",icon:"add",narrow:!0,onClick:a},ae("FilterAddChats")),ie("included")),!R&&!z&&s.Ay.createElement("div",{className:"settings-item pt-3"},s.Ay.createElement("h4",{className:"settings-item-header mb-3",dir:ae.isRtl?"rtl":void 0},ae("FilterExclude")),s.Ay.createElement(S.A,{className:"settings-folders-list-item color-primary",icon:"add",narrow:!0,onClick:n},ae("FilterAddChats")),ie("excluded")),s.Ay.createElement("div",{className:"settings-item pt-3"},s.Ay.createElement("h4",{className:"settings-item-header mb-3",dir:ae.isRtl?"rtl":void 0},ae("FolderLinkScreen.Title")),s.Ay.createElement(S.A,{className:"settings-folders-list-item color-primary",icon:"add",narrow:!0,onClick:oe},ae("ChatListFilter.CreateLinkNew")),D?.map(e=>s.Ay.createElement(S.A,{className:"settings-folders-list-item",icon:"link",narrow:!0,multiline:!0,onClick:re,clickArg:e.url},s.Ay.createElement("span",{className:"title",dir:"auto"},e.title||e.url),s.Ay.createElement("span",{className:"subtitle"},ae("ChatListFilter.LinkLabelChatCount",e.peerIds.length,"i")))))),s.Ay.createElement(f.A,{isShown:Boolean(e.isTouched),disabled:e.isLoading,onClick:se,ariaLabel:"edit"===e.mode?"Save changes":"Create folder"},e.isLoading?s.Ay.createElement(w.A,{color:"white"}):s.Ay.createElement(E.A,{name:"check"})))},B=(0,s.ph)((0,o.EK)((e,{state:t})=>{const{listIds:a}=e.chats,{byId:n,invites:s}=e.chatFolders,o=Object.values(n).reduce((e,t)=>e+(t.isChatList?1:0),0);return{loadedActiveChatIds:a.active,loadedArchivedChatIds:a.archived,invites:t.folderId?s[t.folderId]||m.p:void 0,isRemoved:void 0!==t.folderId&&!n[t.folderId],maxInviteLinks:(0,l.d)(e,"chatlistInvites"),maxChatLists:(0,l.d)(e,"chatlistJoined"),chatListCount:o}})(T));n()}catch(e){n(e)}})},80294:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.d(t,{A:()=>A});var s=a(84051),o=a(13439),r=a(90709),i=a(4961),l=a(59030),c=a(19806),d=a(94189),m=e([l,c,d]);[l,c,d]=m.then?(await m)():m;const u=({bot:e,type:t,shouldRequestWriteAccess:a})=>{const{cancelBotTrustRequest:n,markBotTrusted:m}=(0,o.ko)(),[u,A]=(0,s.J0)(a||!1),h=(0,l.A)(),y=(0,s.hb)(()=>{m({botId:e.id,isWriteAllowed:u})},[m,u,e]),p=(0,s.hb)(()=>{n()},[]),v=h("game"===t?"AppName":"BotOpenPageTitle"),g=(0,s.Kr)(()=>{switch(t){case"game":return h("BotPermissionGameAlert",(0,r.Yg)(e));case"webApp":return h("BotOpenPageMessage",(0,r.Yg)(e));default:return h("BotWebViewStartPermission")}},[e,t,h]);return s.Ay.createElement(d.A,{isOpen:Boolean(e),onClose:p,title:v,confirmHandler:y},(0,i.A)(g,["simple_markdown"]),a&&s.Ay.createElement(c.A,{className:"dialog-checkbox",checked:u,label:(0,i.A)(h("WebApp.AddToAttachmentAllowMessages",e?.firstName),["simple_markdown"]),onCheck:A}))},A=(0,s.ph)(u);n()}catch(e){n(e)}})},80622:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.d(t,{A:()=>b});var s=a(84051),o=a(13439),r=a(60919),i=a(9716),l=a(15384),c=a(59030),d=a(73767),m=a(51083),u=a(17751),A=a(22720),h=a(52745),y=a(55573),p=e([l,c,m,u,A,y]);[l,c,m,u,A,y]=p.then?(await p)():p;const v=4,g=50,E=({chat:e,message:t,answer:a,answerVote:n,totalVoters:r,voters:p,offset:E})=>{const{loadPollOptionResults:b,openChat:f,closePollResults:C}=(0,o.ko)(),S=(0,d.A)(n.votersCount),[w,k]=(0,s.J0)(!0),N=Boolean(p),{option:I,text:P}=a,M=(0,c.A)();(0,s.vJ)(()=>{N&&S===n.votersCount||b({chat:e,messageId:t.id,option:I,offset:E,limit:v,shouldResetVoters:!0})},[n.votersCount,N]);const T=(0,s.hb)(()=>{k(!0),b({chat:e,messageId:t.id,option:I,offset:E,limit:g})},[e,b,t.id,E,I]);(0,s.vJ)(()=>{k(!1)},[p]);const B=(0,s.hb)(e=>{f({id:e}),C()},[C,f]);return s.Ay.createElement("div",{className:"PollAnswerResults"},s.Ay.createElement("div",{className:"poll-voters"},p?p.map(e=>s.Ay.createElement(A.A,{key:e,className:"chat-item-clickable",onClick:()=>B(e)},(0,i.L8)(e)?s.Ay.createElement(u.A,{avatarSize:"tiny",userId:e,forceShowSelf:!0,noStatusOrTyping:!0}):s.Ay.createElement(m.A,{avatarSize:"tiny",chatId:e,noStatusOrTyping:!0}))):s.Ay.createElement(h.A,null),p&&function(){const e=n.votersCount-p.length;return n.votersCount>v&&e>0&&s.Ay.createElement(y.A,{count:e,itemName:"voter",isLoading:w,onClick:T})}()),s.Ay.createElement("div",{className:"answer-head",dir:M.isRtl?"rtl":void 0},s.Ay.createElement("span",{className:"answer-title",dir:"auto"},(0,l.fd)({text:P.text,entities:P.entities})),s.Ay.createElement("span",{className:"answer-percent",dir:M.isRtl?"auto":void 0},(x=n.votersCount,(L=r)>0?(x/L*100).toFixed():0),"%")));var x,L},b=(0,s.ph)((0,o.EK)((e,{answer:t})=>{const{voters:a,offsets:n}=(0,r.nTw)(e).pollResults;return{voters:a?.[t.option],offset:n?.[t.option]||""}})(E));n()}catch(e){n(e)}})},80817:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.d(t,{A:()=>N});var s=a(84051),o=a(13439),r=a(89925),i=a(60919),l=a(17663),c=a(80140),d=a(37661),m=a(26072),u=a(59030),A=a(35297),h=a(63441),y=a(54746),p=a(64493),v=a(19806),g=a(12933),E=a(40664),b=a(1087),f=e([u,h,p,v,g,E,b]);[u,h,p,v,g,E,b]=f.then?(await f)():f;const C=[1,10,100],S={hour:36e5,day:864e5,week:6048e5},w=S.hour,k=({chatId:e,editingInvite:t,isActive:a,onClose:n,onScreenSelect:i})=>{const{editExportedChatInvite:f,exportChatInvite:k}=(0,o.ko)(),N=(0,u.A)(),[I,P,M]=(0,d.A)(),[T,B]=(0,s.J0)(!1),[x,L]=(0,s.J0)(""),[R,F]=(0,s.J0)(Date.now()+w),[D,V]=(0,s.J0)("unlimited"),[_,U]=(0,s.J0)(10),[O,J]=(0,s.J0)("0"),[K,G]=(0,s.J0)(!1);(0,m.A)({isActive:a,onBack:n}),(0,A.A)(([e])=>{if(e!==t)if(t){const{title:e,usageLimit:a,expireDate:n,isRequestNeeded:s}=t;if(e&&L(e),a&&(J(C.includes(a)?a.toString():"custom"),U(a)),n){const e=(0,c.Fm)()+w;V("custom"),F(1e3*Math.max(n,e))}s&&B(!0)}else L(""),V("unlimited"),J("0"),F(1e3*(0,c.Fm)()+w),U(10),B(!1)},[t]);const j=(0,s.hb)(e=>{B(e.target.checked)},[]),z=(0,s.hb)(e=>{L(e.target.value)},[]),H=(0,s.hb)(e=>{U(Number.parseInt(e.target.value,10))},[]),$=(0,s.hb)(e=>{F(e.getTime()),M()},[M]),q=(0,s.hb)(()=>{G(!0);const a="custom"===O?_:Number(O);let n;switch(D){case"custom":n=(0,c.Fm)()+(R-Date.now())/1e3;break;case"hour":case"day":case"week":n=(0,c.Fm)()+S[D]/1e3;break;case"unlimited":n=0;break;default:n=void 0}t?f({link:t.link,chatId:e,title:x,isRequestNeeded:T,expireDate:n,usageLimit:a}):k({chatId:e,title:x,isRequestNeeded:T,expireDate:n,usageLimit:a}),i(r.je.Invites)},[e,R,_,f,t,k,T,D,O,x,i]);return s.Ay.createElement("div",{className:"Management ManageInvite"},s.Ay.createElement("div",{className:"panel-content custom-scroll"},s.Ay.createElement("div",{className:"section"},s.Ay.createElement(v.A,{label:N("ApproveNewMembers"),subLabel:N("ApproveNewMembersDescription"),checked:T,onChange:j})),s.Ay.createElement("div",{className:"section"},s.Ay.createElement(E.A,{className:"link-name",placeholder:N("LinkNameHint"),value:x,onChange:z}),s.Ay.createElement("p",{className:"section-help hint"},N("LinkNameHelp"))),s.Ay.createElement("div",{className:"section"},s.Ay.createElement("div",{className:"section-heading"},N("LimitByPeriod")),s.Ay.createElement(b.A,{name:"expireOptions",options:[{value:"hour",label:N("Hours",1)},{value:"day",label:N("Days",1)},{value:"week",label:N("Weeks",1)},{value:"unlimited",label:N("NoLimit")},{value:"custom",label:N("lng_group_invite_expire_custom")}],onChange:V,selected:D}),"custom"===D&&s.Ay.createElement(p.A,{className:"expire-limit",isText:!0,onClick:P},(0,l.Lu)(N,R)," ",(0,l.fU)(N,R)),s.Ay.createElement("p",{className:"section-help hint"},N("TimeLimitHelp"))),!T&&s.Ay.createElement("div",{className:"section"},s.Ay.createElement("div",{className:"section-heading"},N("LimitNumberOfUses")),s.Ay.createElement(b.A,{name:"usageOptions",options:[...C.map(e=>({value:e.toString(),label:e})),{value:"0",label:N("NoLimit")},{value:"custom",label:N("lng_group_invite_usage_custom")}],onChange:J,selected:O}),"custom"===O&&s.Ay.createElement("input",{className:"form-control usage-limit",type:"number",min:"1",max:"99999",value:_,onChange:H}),s.Ay.createElement("p",{className:"section-help hint"},N("UsesLimitHelp"))),s.Ay.createElement(g.A,{isShown:!0,onClick:q,disabled:K,ariaLabel:N(t?"SaveLink":"CreateLink")},s.Ay.createElement(y.A,{name:"check"}))),s.Ay.createElement(h.A,{isOpen:I,isFutureMode:!0,withTimePicker:!0,onClose:M,onSubmit:$,selectedAt:R,submitButtonLabel:N("Save")}))},N=(0,s.ph)((0,o.EK)((e,{chatId:t})=>{const{editingInvite:a}=(0,i.nTw)(e).management.byChatId[t]||{};return{editingInvite:a}})(k));n()}catch(e){n(e)}})},81143:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.r(t),a.d(t,{AIKnowledge:()=>re.A,AITranslate:()=>ie.A,AboutAdsModal:()=>F.A,AboutMonetizationModal:()=>D.A,AgeVerificationModal:()=>M.A,ArchivedChats:()=>de.A,AttachBotInstallModal:()=>E.A,AttachBotRecipientPicker:()=>l.A,AttachmentModal:()=>be.A,BoostModal:()=>N.A,BotCommandMenu:()=>ke.A,BotTrustModal:()=>g.A,CalendarModal:()=>H.A,ChatCommandTooltip:()=>we.A,ChatFolderModal:()=>me.A,ChatInviteModal:()=>B.A,ChatLanguageModal:()=>ae.A,ChatlistModal:()=>T.A,CollectibleInfoModal:()=>ne.A,ContactList:()=>le.A,ContextMenuContainer:()=>Ae.A,CountryPickerModal:()=>X.A,CreateTopic:()=>Je.A,CreditsModal:()=>x.A,CustomEmojiSetsModal:()=>pe.A,CustomEmojiTooltip:()=>Pe.A,CustomSendMenu:()=>Me.A,DeleteAccountModal:()=>P.A,DeleteFolderDialog:()=>b.A,DeleteMessageModal:()=>$.A,Dialogs:()=>c.A,DraftRecipientPicker:()=>i.A,DropArea:()=>Te.A,EditTopic:()=>Ke.A,EmojiInteractionAnimation:()=>te.A,EmojiStatusAccessModal:()=>_.A,EmojiTooltip:()=>xe.A,ForwardRecipientPicker:()=>r.A,FrozenAccountModal:()=>We.A,GifSearch:()=>De.A,GiftCodeModal:()=>I.A,GiveawayModal:()=>C.A,HeaderMenuContainer:()=>ve.A,HistoryCalendar:()=>h.A,InlineBotTooltip:()=>Le.A,InviteCodeModal:()=>R.A,InviteFriendsModal:()=>L.A,InviteViaLinkModal:()=>He.A,LeftSearch:()=>se.A,LocationAccessModal:()=>U.A,Management:()=>Ge.A,MapModal:()=>u.A,MediaViewer:()=>s.A,MentionTooltip:()=>Ne.A,MessageSelectToolbar:()=>Y.A,MessageStatistics:()=>_e.A,MiddleSearch:()=>ge.A,MinimizedWebAppModal:()=>v.A,MuteChatModal:()=>ue.A,NewChat:()=>ce.A,NewContactModal:()=>y.A,Notifications:()=>d.A,OneTimeMediaModal:()=>$e.A,PaymentModal:()=>je.A,PinMessageModal:()=>q.A,PollModal:()=>fe.A,PollResults:()=>Oe.A,PremiumLimitReachedModal:()=>S.A,PremiumMainModal:()=>f.A,PreparedMessageModal:()=>K.A,PrivacySettingsNoticeModal:()=>Z.A,ReactionPicker:()=>Ee.A,ReactorListModal:()=>ee.A,ReceiptModal:()=>ze.A,ReportAdModal:()=>O.A,ReportModal:()=>J.A,SafeLinkModal:()=>m.A,SeenByModal:()=>Q.A,SendAsMenu:()=>Re.A,Settings:()=>oe.A,SharePreparedMessageModal:()=>G.A,SponsoredContextMenuContainer:()=>he.A,Statistics:()=>Ve.A,StatusPickerMenu:()=>w.A,StickerSearch:()=>Fe.A,StickerSetModal:()=>ye.A,StickerTooltip:()=>Ie.A,StoryStatistics:()=>Ue.A,StoryViewer:()=>o.A,SuggestMessageModal:()=>j.A,SuggestedPostApprovalModal:()=>z.A,SuggestedStatusModal:()=>k.A,SymbolMenu:()=>Se.A,TextFormatter:()=>Be.A,ToDoListModal:()=>Ce.A,UnpinAllMessagesModal:()=>W.A,UrlAuthModal:()=>A.A,VerificationMonetizationModal:()=>V.A,WebAppModal:()=>p.A,WebAppsCloseConfirmationModal:()=>qe.A});var s=a(85153),o=a(47159),r=a(18327),i=a(53714),l=a(59867),c=a(26087),d=a(20020),m=a(84146),u=a(23157),A=a(99753),h=a(94962),y=a(43341),p=a(8661),v=a(51633),g=a(80294),E=a(15281),b=a(97415),f=a(90527),C=a(64710),S=a(33065),w=a(97487),k=a(11393),N=a(24201),I=a(19345),P=a(64617),M=a(66970),T=a(54275),B=a(66105),x=a(63745),L=a(48285),R=a(89699),F=a(68105),D=a(60057),V=a(23061),_=a(90205),U=a(50997),O=a(60545),J=a(22496),K=a(34157),G=a(369),j=a(58225),z=a(55525),H=a(63441),$=a(36867),q=a(45585),W=a(3734),Y=a(89316),Q=a(51325),Z=a(78988),X=a(2153),ee=a(4451),te=a(82712),ae=a(41776),ne=a(54885),se=a(6888),oe=a(37669),re=a(12586),ie=a(56425),le=a(66735),ce=a(76541),de=a(50851),me=a(94917),ue=a(3476),Ae=a(98691),he=a(13352),ye=a(94490),pe=a(95163),ve=a(64551),ge=a(18128),Ee=a(20594),be=a(48715),fe=a(21703),Ce=a(93858),Se=a(4116),we=a(26275),ke=a(54882),Ne=a(55418),Ie=a(84235),Pe=a(29031),Me=a(28135),Te=a(70361),Be=a(24824),xe=a(22602),Le=a(31490),Re=a(93626),Fe=a(3830),De=a(33833),Ve=a(44830),_e=a(11527),Ue=a(97329),Oe=a(6520),Je=a(45218),Ke=a(86530),Ge=a(55990),je=a(75998),ze=a(30888),He=a(54561),$e=a(91129),qe=a(74548),We=a(53029),Ye=e([s,o,r,i,l,c,d,m,u,A,h,y,p,v,g,E,b,f,C,S,w,k,N,I,P,M,T,B,x,L,R,F,D,V,_,U,O,J,K,G,j,z,H,$,q,W,Y,Q,Z,X,ee,te,ae,ne,se,oe,re,ie,le,ce,de,me,ue,Ae,he,ye,pe,ve,ge,Ee,be,fe,Ce,Se,we,ke,Ne,Ie,Pe,Me,Te,Be,xe,Le,Re,Fe,De,Ve,_e,Ue,Oe,Je,Ke,Ge,je,ze,He,$e,qe,We]);[s,o,r,i,l,c,d,m,u,A,h,y,p,v,g,E,b,f,C,S,w,k,N,I,P,M,T,B,x,L,R,F,D,V,_,U,O,J,K,G,j,z,H,$,q,W,Y,Q,Z,X,ee,te,ae,ne,se,oe,re,ie,le,ce,de,me,ue,Ae,he,ye,pe,ve,ge,Ee,be,fe,Ce,Se,we,ke,Ne,Ie,Pe,Me,Te,Be,xe,Le,Re,Fe,De,Ve,_e,Ue,Oe,Je,Ke,Ge,je,ze,He,$e,qe,We]=Ye.then?(await Ye)():Ye,n()}catch(e){n(e)}})},81207:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.d(t,{A:()=>K});var s=a(84051),o=a(19822),r=a(96454),i=a(87357),l=a(50442),c=a(43336),d=a(37836),m=a(14737),u=a(16581),A=a(19129),h=a(26072),y=a(17712),p=a(59030),v=a(49986),g=a(90423),E=a(39751),b=a(37487),f=a(71482),C=a(55766),S=e([p,C]);[p,C]=S.then?(await S)():S;const{easeOutCubic:k,easeOutQuart:N}=o.qM,I=50,P=50,M=r.TF?40:0,T=350,B=350,x=500,L=800,R=3,F=80,D=60,V=4,_=1;let U,O;var w=function(e){return e[e.Horizontal=0]="Horizontal",e[e.Vertical=1]="Vertical",e}(w||{});const J=({item:e,isVideo:t,isGif:a,isOpen:n,withAnimation:S,isHidden:J,isLoadingMoreMedia:K,isSynced:H,loadMoreItemsIfNeeded:$,getNextItem:q,selectItem:W,onClose:Y,onFooterClick:Q,handleSponsoredClick:Z})=>{const X=(0,s.li)(),ee=(0,s.li)(),te=(0,s.li)(),ae=(0,s.li)(),ne=(0,s.li)({x:0,y:0,scale:1}),se=(0,s.li)(void 0),oe=(0,s.li)(void 0),re=(0,s.li)(!1),[ie,le]=(0,s.J0)(!0),[ce]=(0,f.A)(),de=(0,s.li)(ce()),me=(0,g.zk)(),[ue,Ae]=(0,s.J0)(!1),[he,ye]=(0,s.Ul)({x:0,y:0,scale:1}),pe=(0,v.v)(he),[ve,ge]=(0,s.Ul)(e),Ee=(0,v.v)(ve),be=(0,A.A)(()=>1!==he().scale,[he]),fe=(0,A.A)(ve),{height:Ce,width:Se,isResizing:we}=(0,E.A)(),[ke,Ne,Ie]=(0,b.A)(),Pe=(0,p.A)();(0,h.A)({isActive:n,onBack:Y,shouldBeReplaced:!0});const Me=(0,u.A)(W,[W],B,!0),Te=(0,u.A)(()=>{se.current=void 0},[],x,!0),Be=(0,u.A)(e=>le(e),[],L,!0),xe=Boolean(a&&!r.pz),Le=r.TF?40:Se/10,Re=(0,y.A)(e=>{if(!r.TF)return;const t=Ce-e.pageY<F;!t&&e.pageX<Le||!t&&e.pageX>Se-Le||Ne(!ke())});(0,m.A)(()=>Ne(!0),T),(0,s.vJ)(()=>{const{scale:t,x:a,y:n}=pe.current;0===a&&0===n&&1===t&&ge(e)},[e,ge,pe]),(0,s.vJ)(()=>{H&&fe&&!K&&$(fe)},[fe,$,H,K]),(0,s.Nf)(()=>{const{x:e,y:t,scale:a}=he();Ie(1!==a),te.current&&(te.current.style.transform=G(-Se+e-M)),ee.current&&(ee.current.style.transform=G(e,t,a)),ae.current&&(ae.current.style.transform=G(Se+e+M))},[he,Ie,Se]),(0,s.vJ)(()=>{if(!X.current||void 0===Ee.current||J||me)return;let e=ne.current;const t={x:0,y:0},a={x:0,y:0},n={x:0,y:0};let s,i=Date.now();const m=(0,d.sg)(()=>{i=Date.now()},500,!1,!0),u=t=>{const a=Ee.current;if(void 0===a)return!1;const n=q(a,t);if(void 0!==n){const a=(Se+M)*t,s=pe.current.x+a;return le(!1),ge(n),Me(n),Be(!0),e={x:0,y:0,scale:1},S?(U=(0,o.Hd)({from:s,to:0,duration:T,timing:k,onUpdate:e=>ye({y:0,x:e,scale:1})}),!0):(ye(e),!0)}return!1},A=e=>{const{scale:t}=pe.current;if(1!==t)return[!1,!1];if(e.target.closest("div.VideoPlayerControls"))return[!1,!1];let a=0;return Ce-e.pageY<F?[!1,!1]:(e.pageX<Le?a=-1:e.pageX>Se-Le&&(a=1),[0!==a,u(a)])},h=e=>{const{scale:t}=pe.current;if(1===t)switch(e.key){case"Left":case"ArrowLeft":u(-1);break;case"Right":case"ArrowRight":u(1)}},y=({x:e,y:t,scale:a},n=0)=>{const s=oe.current;if(!s)return[{x:e,y:t,scale:a},!0,!0];let o=!0,r=!0;const i=(Se-Se*a)/2,l=(Ce-Ce*a)/2,d=Math.max(-s.left*a,i),m=Se-s.right*a;o=(0,c.Bt)(e,m,d),e=(0,c.qE)(e,m,d);const u=Math.max(-s.top*a+n,l),A=Ce-s.bottom*a;return r=(0,c.Bt)(t,A,u),[{x:e,y:t=(0,c.qE)(t,A,u),scale:a},o,r]},p=s=>{if(re.current)return void(re.current=!1);"mouseup"===s.type&&Ae(!1);const r=pe.current,{y:l,scale:c}=r;let d=r.x;const m=Math.abs(d),u=Math.abs(l);if(Te(),Be(!0),c<1)return e={x:0,y:0,scale:1},void(U=(0,o.Hd)({from:[d,l,c],to:[0,0,1],duration:T,timing:k,onUpdate:e=>ye({x:e[0],y:e[1],scale:e[2]})}));if(c>1){const r=Math.min(c,V),m=r/c;let u=d*m+(a.x-m*a.x),A=l*m+(a.y-m*a.y);const h=.15;if("wheel"!==s.type&&e.scale===c){const e=Math.abs(t.x)/(Date.now()-i),a=Math.abs(t.y)/(Date.now()-i);u-=Math.abs(t.x)*e*h*n.x,A-=Math.abs(t.y)*a*h*n.y}return[e]=y({x:u,y:A,scale:r},D),void(U=(0,o.Hd)({from:[d,l,c],to:[e.x,e.y,e.scale],duration:T,timing:k,onUpdate:e=>ye({x:e[0],y:e[1],scale:e[2]})}))}if(e={x:d,y:l,scale:c},u>=P)return void Y();if(u>0)return void(U=(0,o.Hd)({from:l,to:0,duration:T,timing:k,onUpdate:e=>ye({x:0,y:e,scale:c})}));const A=d<0?1:-1,h=Ee.current,p=h&&q(h,d<0?1:-1),v=n.x<0?-1:1;void 0!==p&&m>=I&&A===v&&(d+=(Se+M)*A,ge(p),Me(p)),U=(0,o.Hd)({from:d,to:0,duration:T,timing:k,onUpdate:e=>ye({y:0,x:e,scale:c??1})})},v=(0,l.wJ)(X.current,{isNotPassive:!0,withNativeDrag:!0,excludedClosestSelector:".MediaViewerFooter, .ZoomControls, .VideoPlayerControls",minZoom:_,maxZoom:V,doubleTapZoom:R,withWheelDrag:!0,onCapture:e=>{if(z(e))return;const{x:t,y:a,scale:n}=pe.current;if("mousedown"!==e.type||(Ae(!0),1===n)){if(i=Date.now(),0===t&&0===a&&1===n){if(!ee.current)return;if(s=ee.current.querySelector("img, video"),!s)return;oe.current=s.getBoundingClientRect()}}else e.preventDefault()},onDrag:(a,s,{dragOffsetX:o,dragOffsetY:i},d)=>{if(re.current||z(a))return;if(r.pz&&"touchstart"===s.type){const{pageX:e}=s.touches[0];if(e<=l.h6||e>=Se-l.h6)return}U&&(U(),U=void 0),n.x=t.x-o,n.y=t.y-i,t.x=o,t.y=i;const u=Math.abs(o),A=Math.abs(i),{x:h,y:v,scale:g}=pe.current;if(m(),1!==g){const t=e.x+o,n=e.y+i;if(["wheel","mousemove"].includes(a.type)){const[e,a,s]=y({x:t,y:n,scale:g},D);return d&&d(!a,!s),void ye(e)}return void("touches"in a&&1===a.touches.length&&ye({x:t,y:n,scale:g}))}if("mousemove"!==a.type){if(se.current!==w.Vertical&&(se.current===w.Horizontal||Math.abs(h)>l.no||u/A>l.fG)){se.current=w.Horizontal,le(!1);const e=Se+M,t=(0,c.qE)(o,-e,e);return ye({x:t,y:0,scale:g}),void("wheel"===a.type&&Math.abs(t)>2*I&&(p(a),re.current=!0))}if(se.current===w.Vertical||Math.abs(v)>l.no||A/u>l.fG){se.current=w.Vertical;const e=Ce,t=(0,c.qE)(i,-e,e);ye({x:0,y:t,scale:g}),"wheel"===a.type&&Math.abs(t)>2*P&&(p(a),re.current=!0)}}},onZoom:(t,{zoom:n,zoomFactor:s,initialCenterX:o,initialCenterY:r,dragOffsetX:i,dragOffsetY:l,currentCenterX:d,currentCenterY:m})=>{U&&U(),o=o||Se/2,r=r||Ce/2,d=d||Se/2,m=m||Ce/2;const u=n??(0,c.qE)(e.scale*s,.5*_,3*V),A=u/e.scale,h=Math.abs(Math.min(e.x,0)),p=Math.abs(Math.min(e.y,0));a.x=d,a.y=m;const v=h+o,g=p+r,E=v-A*v,b=g-A*g,[f]=y({x:e.x+E+i,y:e.y+b+l,scale:u});ye(f)},onClick(t){Ae(!1);const[a,n]=A(t);if(a){if(t.preventDefault(),t.stopPropagation(),r.TF)return;n||Y()}else 1!==e.scale||r.TF||!xe&&j(t.target,".VideoPlayer")||Y()},onDoubleClick(t,{centerX:a,centerY:n}){const[s]=A(t);if(s)return t.preventDefault(),void t.stopPropagation();if(!r.TF&&"wheel"!==t.type)return;const{x:i,y:l,scale:c}=pe.current;if(1===c){if(0!==i||0!==l)return;e=y({x:a-R*a,y:n-R*n,scale:R})[0]}else e={x:0,y:0,scale:1};U=(0,o.Hd)({from:[i,l,c],to:[e.x,e.y,e.scale],duration:T,timing:k,onUpdate:e=>{const t={x:e[0],y:e[1],scale:e[2]};ye(t)}})},onRelease:p});return document.addEventListener("keydown",h,!1),()=>{v(),document.removeEventListener("keydown",h,!1)}},[Ee,Te,Le,q,me,J,Y,Me,ge,Be,ye,xe,pe,Ce,Se,S]),(0,s.vJ)(()=>{const e=ce(),t=void 0!==de.current&&de.current!==e;if(!X.current||!t||J||me)return;de.current=e;const{scale:a}=pe.current,n=e>0?-1:1;let s=100,r=0;a<=.6*_&&n>0||a>=3*V&&n<0||(1===a&&n>0&&(s=20),O&&O(),O=(0,o.Hd)({from:n,to:n*s,duration:T,timing:N,onUpdate:e=>{if(!X.current)return;const t=(0,c.LI)(e-r,2);r=e;const a=new WheelEvent("wheel",{deltaY:t,ctrlKey:!0});X.current.dispatchEvent(a)}}))},[ce,J,me,pe]);const[Fe,De]=(0,s.Kr)(()=>void 0===fe?[void 0,void 0]:[q(fe,-1),q(fe,1)],[fe,q]);if(void 0===fe)return;const Ve=void 0!==Fe,_e=void 0!==De,Ue=ue&&be;return s.Ay.createElement("div",{className:"MediaViewerSlides",ref:X},s.Ay.createElement("div",{className:"MediaViewerSlide",ref:te},Ve&&!be&&!we&&s.Ay.createElement(C.A,{withAnimation:S,isMoving:Ue,item:Fe,onClose:Y,onFooterClick:Q,handleSponsoredClick:Z})),s.Ay.createElement("div",{className:(0,i.A)("MediaViewerSlide","MediaViewerSlide--active",Ue&&"MediaViewerSlide--moving"),onClick:Re,ref:ee},s.Ay.createElement(C.A,{item:fe,withAnimation:S,isActive:ie,isMoving:Ue,onClose:Y,onFooterClick:Q,handleSponsoredClick:Z})),s.Ay.createElement("div",{className:"MediaViewerSlide",ref:ae},_e&&!be&&!we&&s.Ay.createElement(C.A,{withAnimation:S,isMoving:Ue,item:De,onClose:Y,onFooterClick:Q,handleSponsoredClick:Z})),Ve&&!be&&!r.TF&&s.Ay.createElement("button",{type:"button",className:`navigation prev ${t&&!a&&"inline"}`,"aria-label":Pe("AccDescrPrevious"),dir:Pe.isRtl?"rtl":void 0}),_e&&!be&&!r.TF&&s.Ay.createElement("button",{type:"button",className:`navigation next ${t&&!a&&"inline"}`,"aria-label":Pe("Next"),dir:Pe.isRtl?"rtl":void 0}))},K=(0,s.ph)(J);function G(e=0,t=0,a=1){return`translate3d(${e.toFixed(3)}px, ${t.toFixed(3)}px, 0px) scale(${a.toFixed(3)})`}function j(e,t){return!!e&&(!!e.matches(t)||Boolean(e.closest(t)))}function z(e){const t=e.target;return!!j(t,".VideoPlayerControls")&&(j(t,".play, .fullscreen, .volume, .volume-slider, .playback-rate, .playback-rate-menu, .SeekLine")||e.preventDefault(),!0)}n()}catch(H){n(H)}})},81285:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.d(t,{A:()=>A});var s=a(84051),o=a(96454),r=a(87357),i=a(64493),l=a(54746),c=a(36973),d=e([i]),m=d.then?(await d)():d;i=m[0];const u=({length:e,active:t,onSelectSlide:a})=>{const n=Math.max(0,Math.min(e-8,t-4)),d=n===e-8-1,m=n===e-8,u=0===n,A=1===n,h=Math.min(e,8),y=(0,s.hb)(()=>{a(t+1)},[t,a]),p=(0,s.hb)(()=>{a(t-1)},[t,a]),v=Math.min(8,e);return s.Ay.createElement("div",null,!o.TF&&s.Ay.createElement(i.A,{className:(0,r.A)(c.A.arrow,0===t&&c.A.arrowHidden),color:"translucent",disabled:0===t,round:!0,onClick:p},s.Ay.createElement(l.A,{name:"previous"})),s.Ay.createElement("div",{className:c.A.root,style:`--start-from: ${n}; --length: ${e}; --count: ${v};`},Array(e).fill(void 0).map((e,o)=>{const i=o,l=o===n+h-1&&!m&&!d,y=o===n+h-2&&!d&&!m||o===n+h-1&&d,p=o===n&&!u&&!A,v=o===n+1&&!u&&!A||o===n&&A,g=o<n||o>=n+h;return s.Ay.createElement("div",{onClick:()=>a(o),className:(0,r.A)(c.A.dot,i===t&&c.A.active,(y||v)&&c.A.medium,(l||p||g)&&c.A.small,g&&c.A.invisible)})})),!o.TF&&s.Ay.createElement(i.A,{className:(0,r.A)(c.A.arrow,t===e-1&&c.A.arrowHidden,c.A.right),color:"translucent",round:!0,disabled:t===e-1,onClick:y},s.Ay.createElement(l.A,{name:"next"})))},A=(0,s.ph)(u);n()}catch(e){n(e)}})},81573:(e,t,a)=>{a.d(t,{A:()=>n});const n={modal:"Atk759rS",content:"EsOVcnjd",header:"JncR5ehY",table:"grZMXdp1"}},82004:(e,t,a)=>{a.d(t,{A:()=>n});const n={root:"T_GGJ8J2",item:"fe7VNmNB"}},82077:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.d(t,{A:()=>b});var s=a(84051),o=a(13439),r=a(89925),i=a(30708),l=a(96454),c=a(6e4),d=a(84382),m=a(43874),u=a(26072),A=a(39351),h=a(19806),y=a(22720),p=a(1087),v=a(82497),g=e([c,A,h,y,p,v]);[c,A,h,y,p,v]=g.then?(await g)():g;const E=({isActive:e,messageTextSize:t,messageSendKeyCombo:a,timeFormat:n,theme:i,shouldUseSystemTheme:g,onReset:E})=>{const{setSharedSettingOption:b,openSettingsScreen:f}=(0,o.ko)(),C=(0,A.A)(),{isMobile:S}=(0,m.Ay)(),w=S&&(l.pz||l.Ni),k=[{label:C("SettingsTimeFormat12"),value:"12h"},{label:C("SettingsTimeFormat24"),value:"24h"}],N=[{label:C("EmptyChatAppearanceLight"),value:"light"},{label:C("EmptyChatAppearanceDark"),value:"dark"},{label:C("EmptyChatAppearanceSystem"),value:"auto"}],I=w?void 0:[{value:"enter",label:C("SettingsSendEnter"),subLabel:C("SettingsSendEnterDescription")},{value:"ctrl-enter",label:C(l.MP||l.pz?"SettingsSendCmdenter":"SettingsSendCtrlenter"),subLabel:C("SettingsSendPlusEnterDescription")}],P=(0,s.hb)(e=>{document.documentElement.style.setProperty("--composer-text-size",`${Math.max(e,l.pz?16:15)}px`),document.documentElement.style.setProperty("--message-meta-height",`${Math.floor(1.3125*e)}px`),document.documentElement.style.setProperty("--message-text-size",`${e}px`),document.documentElement.setAttribute("data-message-text-size",e.toString()),b({messageTextSize:e})},[]),M=(0,s.hb)(e=>{const t="auto"===e?(0,d.V)():e;b({theme:t}),b({shouldUseSystemTheme:"auto"===e})},[]),T=(0,s.hb)(e=>{b({timeFormat:e}),b({wasTimeFormatSetManually:!0}),(0,c.bV)(e)},[]),B=(0,s.hb)(e=>{b({messageSendKeyCombo:e})},[]),[x,L]=(0,s.J0)(!1);(0,s.vJ)(()=>{window.electron?.getIsTrayIconEnabled().then(L)},[]);const R=(0,s.hb)(e=>{window.electron?.setIsTrayIconEnabled(e)},[]);return(0,u.A)({isActive:e,onBack:E}),s.Ay.createElement("div",{className:"settings-content custom-scroll"},s.Ay.createElement("div",{className:"settings-item"},s.Ay.createElement("h4",{className:"settings-item-header",dir:C.isRtl?"rtl":void 0},C("Settings")),s.Ay.createElement(v.A,{label:C("TextSize"),min:12,max:20,value:t,onChange:P}),s.Ay.createElement(y.A,{icon:"photo",narrow:!0,onClick:()=>f({screen:r.VS.GeneralChatBackground})},C("ChatBackground")),l.cp&&l.H8&&s.Ay.createElement(h.A,{label:C("SettingsTray"),checked:Boolean(x),onCheck:R})),s.Ay.createElement("div",{className:"settings-item"},s.Ay.createElement("h4",{className:"settings-item-header",dir:C.isRtl?"rtl":void 0},C("Theme")),s.Ay.createElement(p.A,{name:"theme",options:N,selected:g?"auto":i,onChange:M})),s.Ay.createElement("div",{className:"settings-item"},s.Ay.createElement("h4",{className:"settings-item-header",dir:C.isRtl?"rtl":void 0},C("SettingsTimeFormat")),s.Ay.createElement(p.A,{name:"timeformat",options:k,selected:n,onChange:T})),I&&s.Ay.createElement("div",{className:"settings-item"},s.Ay.createElement("h4",{className:"settings-item-header",dir:C.isRtl?"rtl":void 0},C("SettingsKeyboard")),s.Ay.createElement(p.A,{name:"keyboard-send-settings",options:I,onChange:B,selected:a})))},b=(0,s.ph)((0,o.EK)(e=>{const{theme:t,shouldUseSystemTheme:a,messageSendKeyCombo:n,messageTextSize:s,timeFormat:o}=(0,i.l)(e);return{messageSendKeyCombo:n,messageTextSize:s,timeFormat:o,theme:t,shouldUseSystemTheme:a}})(E));n()}catch(e){n(e)}})},82368:(e,t,a)=>{a.d(t,{A:()=>n});const n={root:"YVD19vOP",viewInfo:"cknL5COh",interactive:"pJAyeGkG",avatars:"Vz_VtJ16",spacer:"kKoeDk3Z",reactionCount:"sf3u_6Vh",reactionCountHeart:"Er2XKRqi",footerItem:"vJRk_UUk",views:"nIv3YAnZ",viewIcon:"WyBiNM6e",reactionButton:"lpDXVIuf",reactionHeart:"twgMDT1y"}},82712:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.d(t,{A:()=>E});var s=a(84051),o=a(13439),r=a(60919),i=a(96454),l=a(87357),c=a(37661),d=a(17712),m=a(62587),u=a(18104),A=e([m]),h=A.then?(await A)():A;m=h[0];const y=250,p=3e3,v=309,g=({effectAnimationId:e,activeEmojiInteraction:t})=>{const{stopActiveEmojiInteraction:a}=(0,o.ko)(),[n,r]=(0,c.A)(!1),[A,h]=(0,c.A)(!1),g=(0,s.li)(),E=(0,d.A)(()=>{r(),g.current&&clearTimeout(g.current),setTimeout(()=>{a({id:t.id})},y)}),b=(0,d.A)(e=>{e.target?.closest(".AnimatedEmoji")||E()});(0,s.vJ)(()=>(document.addEventListener("touchstart",b),document.addEventListener("touchmove",b),document.addEventListener("mousedown",b),document.addEventListener("wheel",b),()=>{document.removeEventListener("touchstart",b),document.removeEventListener("touchmove",b),document.removeEventListener("mousedown",b),document.removeEventListener("wheel",b)}),[b]),(0,s.Nf)(()=>{const e=(0,s.VK)();g.current=setTimeout(()=>{E(),e()},p)},[E]);const f=e&&`sticker${e}`,C=(0,m.A)(f,!e);if(!t.startSize)return;const S=(t.startSize||0)/v;return s.Ay.createElement("div",{className:(0,l.A)("EmojiInteractionAnimation",n&&"hiding",A&&"playing",t.isReversed&&"reversed"),style:`--scale: ${S}; --start-x: ${t.x}px; --start-y: ${t.y}px;`},s.Ay.createElement(u.A,{key:`effect_${e}`,size:v,tgsUrl:C,play:!0,quality:i.Ni?.5:void 0,forceAlways:!0,noLoop:!0,onLoad:h}))},E=(0,s.ph)((0,o.EK)((e,{activeEmojiInteraction:t})=>{const a=void 0!==t.animatedEffect&&(0,r.Nr8)(e,t.animatedEffect);return{effectAnimationId:a?a.id:void 0}})(g));n()}catch(e){n(e)}})},83258:(e,t,a)=>{e.exports=a.p+"link.faf12a928d821100c82a.svg"},83716:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.d(t,{A:()=>k});var s=a(84051),o=a(13439),r=a(60919),i=a(87357),l=a(76023),c=a(59030),d=a(47366),m=a(38691),u=a(21849),A=a(88554),h=a(21454),y=a(19682),p=e([c,u,h]);[c,u,h]=p.then?(await p)():p;const v={stories_order:"PremiumStoriesPriority",stories_stealth:"PremiumStoriesStealth",stories_views:"PremiumStoriesViews",stories_timer:"lng_premium_stories_subtitle_expiration",stories_save:"PremiumStoriesSaveToGallery",stories_caption:"lng_premium_stories_subtitle_caption",stories_link:"lng_premium_stories_subtitle_links"},g={stories_order:"PremiumStoriesPriorityDescription",stories_stealth:"PremiumStoriesStealthDescription",stories_views:"PremiumStoriesViewsDescription",stories_timer:"PremiumStoriesExpirationDescription",stories_save:"PremiumStoriesSaveToGalleryDescription",stories_caption:"PremiumStoriesCaptionDescription",stories_link:"PremiumStoriesFormattingDescription"},E={stories_order:"story-priority",stories_stealth:"eye-crossed-outline",stories_views:"eye-outline",stories_timer:"timer",stories_save:"arrow-down-circle",stories_caption:"story-caption",stories_link:"link-badge"},b=Object.keys(v),f=u.R.giant+.25*l.$,C=8,S=0,w=({currentUser:e})=>{const t=(0,s.li)(),a=(0,c.A)(),n=(0,m.A)();(0,s.Nf)(()=>{t.current&&(0,A.$)({canvas:t.current,size:f*n,segmentsCount:C,color:"purple",readSegmentsCount:S,readSegmentColor:"transparent",dpr:n})},[n]);const{handleScroll:o,isAtBeginning:r}=(0,d.A)(),l=f;return s.Ay.createElement("div",{className:y.A.root},s.Ay.createElement("div",{className:y.A.header},s.Ay.createElement(u.A,{forPremiumPromo:!0,peer:e,size:"giant"}),s.Ay.createElement("canvas",{className:y.A.circle,ref:t,style:`max-width: ${l}px; max-height: ${l}px`})),s.Ay.createElement("div",{className:y.A.title},a("UpgradedStories")),s.Ay.createElement("div",{className:(0,i.A)(y.A.features,!r&&y.A.scrolled,"custom-scroll"),onScroll:o},b.map((e,t)=>s.Ay.createElement(h.A,{key:e,title:a(v[e]),text:a(g[e]),icon:E[e],isFontIcon:!0,index:t,count:b.length,section:e})),s.Ay.createElement("div",{className:y.A.mobile},a("lng_premium_stories_about_mobile"))))},k=(0,s.ph)((0,o.EK)(e=>({currentUser:(0,r.mBe)(e,e.currentUserId)}))(w));n()}catch(e){n(e)}})},83856:(e,t,a)=>{a.d(t,{A:()=>n});const n={container:"tauadiDm",icon:"i4wZg_0J",header:"MQxuEIRA",desc:"AEAN1Au4",separator:"sXXb5yOS",button:"F7owtTHj",closeButton:"i6iFv9YE"}},84050:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.d(t,{A:()=>E});var s=a(84051),o=a(13439),r=a(90709),i=a(70636),l=a(60919),c=a(87894),d=a(79582),m=a(26072),u=a(59030),A=a(54746),h=a(54960),y=a(64493),p=a(12933),v=e([i,u,h,y,p]);[i,u,h,y,p]=v.then?(await v)():v;const g=({isChannel:e,isActive:t,selectedMemberIds:a,localContactIds:n,searchQuery:l,isSearching:v,localPeerIds:g,globalPeerIds:E,onSelectedMemberIdsChange:b,onNextStep:f,onReset:C})=>{const{setGlobalSearchQuery:S}=(0,o.ko)(),w=(0,u.A)();(0,m.A)({isActive:t,onBack:C});const k=(0,s.hb)(e=>{S({query:e})},[]),N=(0,s.Kr)(()=>{const e=(0,o.mS)().users.byId,t=n?(0,i.PU)({ids:n,query:l,type:"user"}):[];return(0,d.A)((0,c.Am)([...t,...g||[],...E||[]]).filter(t=>{const a=e[t];return a&&!a.isSelf&&(a.canBeInvitedToGroup||!(0,r.tv)(a))}),!1,a)},[n,l,g,E,a]),I=(0,s.hb)(()=>{S({query:""}),f()},[f]);return s.Ay.createElement("div",{className:"NewChat step-1"},s.Ay.createElement("div",{className:"left-header"},s.Ay.createElement(y.A,{round:!0,size:"smaller",color:"translucent",onClick:C,ariaLabel:"Return to Chat List"},s.Ay.createElement(A.A,{name:"arrow-left"})),s.Ay.createElement("h3",null,w("GroupAddMembers"))),s.Ay.createElement("div",{className:"NewChat-inner step-1"},s.Ay.createElement(h.A,{itemIds:N,selectedIds:a,filterValue:l,filterPlaceholder:w("SendMessageTo"),searchInputId:"new-group-picker-search",isLoading:v,isSearchable:!0,allowMultiple:!0,withStatus:!0,itemInputType:"checkbox",withDefaultPadding:!0,onSelectedIdsChange:b,onFilterChange:k}),s.Ay.createElement(p.A,{isShown:!0,onClick:I,ariaLabel:e?"Continue To Channel Info":"Continue To Group Info"},s.Ay.createElement(A.A,{name:"arrow-right"}))))},E=(0,s.ph)((0,o.EK)(e=>{const{userIds:t}=e.contactList||{},{query:a,fetchingStatus:n,globalResults:s,localResults:o}=(0,l.nTw)(e).globalSearch,{peerIds:r}=s||{},{peerIds:i}=o||{};return{localContactIds:t,searchQuery:a,isSearching:n?.chats,globalPeerIds:r,localPeerIds:i}})(g));n()}catch(e){n(e)}})},84146:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.d(t,{A:()=>A});var s=a(84051),o=a(13439),r=a(93578),i=a(4961),l=a(14),c=a(39351),d=a(94189),m=e([c,d]);[c,d]=m.then?(await m)():m;const u=({url:e})=>{const{toggleSafeLinkModal:t}=(0,o.ko)(),a=(0,c.A)(),n=(0,s.hb)(()=>{e&&(window.open((0,r.Tc)(e),"_blank","noopener noreferrer"),t({url:void 0}))},[t,e]),m=(0,s.hb)(()=>{t({url:void 0})},[t]),u=(0,l.A)(e);return s.Ay.createElement(d.A,{isOpen:Boolean(e),onClose:m,title:a("OpenUrlTitle"),textParts:(0,i.A)(a("OpenUrlText",{url:u},{withNodes:!0,withMarkdown:!0})),confirmLabel:a("OpenUrlConfirm"),confirmHandler:n})},A=(0,s.ph)(u);n()}catch(e){n(e)}})},84175:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.d(t,{A:()=>u});var s=a(84051),o=a(13439),r=a(9716),i=a(59030),l=a(64493),c=a(8410),d=e([i,l,c]);[i,l,c]=d.then?(await d)():d;const m=({isOpen:e,photo:t,profileId:a,onClose:n,onConfirm:d})=>{const{deleteProfilePhoto:m,deleteChatPhoto:u}=(0,o.ko)(),A=(0,s.hb)(()=>{d?.(),(0,r.L8)(a)?m({photo:t}):u({photo:t,chatId:a}),n()},[d,a,n,m,t,u]),h=(0,i.A)();return s.Ay.createElement(c.A,{isOpen:e,onClose:n,onEnter:A,className:"delete dialog-buttons-column",title:h("AreYouSure")},s.Ay.createElement("div",{className:"dialog-buttons mt-2"},s.Ay.createElement(l.A,{color:"danger",className:"confirm-dialog-button",isText:!0,onClick:A},h("Preview.DeletePhoto")),s.Ay.createElement(l.A,{className:"confirm-dialog-button",isText:!0,onClick:n},h("Cancel"))))},u=(0,s.ph)(m);n()}catch(e){n(e)}})},84221:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.d(t,{A:()=>f});var s=a(84051),o=a(13439),r=a(90709),i=a(87357),l=a(37836),c=a(4961),d=a(36838),m=a(59030),u=a(21849),A=a(54746),h=a(64493),y=a(75021),p=e([m,u,h,y]);[m,u,h,y]=p.then?(await p)():p;const v=250,g=" ",E=(0,l.nF)(e=>e(),6e4,!0),b=({topUserIds:e,usersById:t,recentlyFoundChatIds:a,onReset:n})=>{const{loadTopUsers:l,openChat:p,addRecentlyFoundChatId:b,clearRecentlyFoundChats:f}=(0,o.ko)(),C=(0,s.li)();(0,s.vJ)(()=>{E(()=>{l()})},[l]),(0,d.A)(C,!e);const S=(0,s.hb)(e=>{p({id:e,shouldReplaceHistory:!0}),n(),setTimeout(()=>{b({id:e})},v)},[p,b,n]),w=(0,s.hb)(()=>{f()},[f]),k=(0,m.A)();return s.Ay.createElement("div",{className:"RecentContacts custom-scroll"},e&&s.Ay.createElement("div",{className:"top-peers-section",dir:k.isRtl?"rtl":void 0},s.Ay.createElement("div",{ref:C,className:"top-peers"},e.map(e=>s.Ay.createElement("div",{key:e,className:"top-peer-item",onClick:()=>S(e),dir:k.isRtl?"rtl":void 0},s.Ay.createElement(u.A,{peer:t[e]}),s.Ay.createElement("div",{className:"top-peer-name"},(0,c.A)((0,r.u0)(t[e])||g)))))),a&&s.Ay.createElement("div",{className:"search-section pt-1"},s.Ay.createElement("h3",{className:(0,i.A)("section-heading mt-0 recent-chats-header",!e&&"without-border"),dir:k.isRtl?"rtl":void 0},k("Recent"),s.Ay.createElement(h.A,{className:"clear-recent-chats",round:!0,size:"smaller",color:"translucent",ariaLabel:k("Clear"),onClick:w,isRtl:k.isRtl},s.Ay.createElement(A.A,{name:"close"}))),a.map(e=>s.Ay.createElement(y.A,{chatId:e,withOpenAppButton:!0,onClick:S}))))},f=(0,s.ph)((0,o.EK)(e=>{const{userIds:t}=e.topPeers,a=e.users.byId,{recentlyFoundChatIds:n}=e;return{topUserIds:t,usersById:a,recentlyFoundChatIds:n}})(b));n()}catch(e){n(e)}})},84235:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.d(t,{A:()=>b});var s=a(84051),o=a(13439),r=a(31481),i=a(60919),l=a(87357),c=a(11778),d=a(5912),m=a(73767),u=a(73172),A=a(50680),h=a(76453),y=a(52745),p=e([h]),v=p.then?(await p)():p;h=v[0];const g=200,E=({chatId:e,threadId:t,isOpen:a,onStickerSelect:n,onClose:o,stickers:i,isSavedMessages:p,isCurrentUserPremium:v})=>{const E=(0,s.li)(),{shouldRender:b,transitionClassNames:f}=(0,A.A)(a,void 0,void 0,!1),C=(0,m.A)(i,!0),S=i||C,w=(0,u.A)(e,t),{observe:k}=(0,d.BL)({rootRef:E,throttleMs:g});(0,s.vJ)(()=>a?(0,c.A)(o):void 0,[a,o]);const N=(0,l.A)("StickerTooltip composer-tooltip custom-scroll",f,!S?.length&&"hidden");return s.Ay.createElement("div",{ref:E,className:N,onMouseMove:()=>{w({type:"chooseSticker"})}},b&&S?S.map(e=>s.Ay.createElement(h.A,{key:e.id,sticker:e,size:r.bkT,observeIntersection:k,onClick:a?n:void 0,clickArg:e,isSavedMessages:p,canViewSet:!0,isCurrentUserPremium:v})):b?s.Ay.createElement(y.A,null):void 0)},b=(0,s.ph)((0,o.EK)((e,{chatId:t})=>{const{stickers:a}=e.stickers.forEmoji;return{stickers:a,isSavedMessages:(0,i.nZ4)(e,t),isCurrentUserPremium:(0,i.g29)(e)}})(E));n()}catch(e){n(e)}})},84292:(e,t,a)=>{a.d(t,{A:()=>i});var n=a(84051);const s=250,o=["embedLinks","sendPolls","sendPhotos","sendVideos","sendRoundvideos","sendVoices","sendAudios","sendDocs","sendStickers","sendGifs"],r=[...o,"sendPlain"];function i(e){const[t,a]=(0,n.J0)({}),[i,l]=(0,n.J0)(!1),[c,d]=(0,n.J0)(!1);(0,n.vJ)(()=>{a(e||{}),l(!1),setTimeout(()=>{d(!1)},s)},[e]);const m=(0,n.hb)(n=>{const{name:s}=n.target,i=s;function c(e){return!e||void 0}const d=t;let m={...d,[i]:c(d[i]),..."sendStickers"===i&&{sendGifs:c(d[i])}};const u=()=>{const e=o.map(e=>m[e]);e.some(e=>!e)?m={...m,sendMedia:void 0}:e.every(Boolean)&&(m={...m,sendMedia:!0})};"sendMedia"!==i?u():m={...m,...o.reduce((e,t)=>Object.assign(e,{[t]:m.sendMedia}),{})},"embedLinks"!==i&&!m.embedLinks&&m.sendPlain&&(m={...m,embedLinks:!0}),"sendPlain"!==i&&!m.embedLinks&&m.sendPlain&&(m={...m,sendPlain:void 0}),"sendMedia"!==i&&u();const A=r.every(e=>m[e]);m={...m,sendMessages:!!A||void 0},a(m),l(!e||Object.keys(m).some(t=>{const a=t;return Boolean(e[a])!==Boolean(m[a])}))},[e,t]),u=(0,n.hb)(()=>{a(e||{}),l(!1)},[e]);return{permissions:t,isLoading:c,havePermissionChanged:i,handlePermissionChange:m,setIsLoading:d,resetPermissions:u}}},85153:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.d(t,{A:()=>J});var s=a(84051),o=a(13439),r=a(89925),i=a(31481),l=a(66644),c=a(90709),d=a(60919),m=a(53827),u=a(11778),A=a(14680),h=a(9716),y=a(76023),p=a(49086),v=a(21576),g=a(49668),E=a(43874),b=a(77523),f=a(37661),C=a(30857),S=a(17712),w=a(59030),k=a(12758),N=a(73767),I=a(34780),P=a(56903),M=a(54746),T=a(74396),B=a(64493),x=a(26607),L=a(41036),R=a(72528),F=a(81207),D=a(16284),V=e([p,w,P,T,B,R,F,D]);[p,w,P,T,B,R,F,D]=V.then?(await V)():V;const _=250,U=4,O=({chatId:e,threadId:t,messageId:a,message:n,collectedMessageIds:r,isChatWithSelf:d,canUpdateMedia:v,origin:V,avatar:O,avatarOwner:J,profilePhotos:K,chatMessages:G,sponsoredMessage:j,standaloneMedia:z,mediaIndex:H,withAnimation:$,isHidden:q,shouldSkipHistoryAnimations:W,withDynamicLoading:Y,isLoadingMoreMedia:Q,isSynced:Z,currentItem:X,viewableMedia:ee})=>{const{openMediaViewer:te,closeMediaViewer:ae,openForwardMenu:ne,focusMessage:se,toggleChatInfo:oe,searchChatMediaMessages:re,loadMoreProfilePhotos:ie,clickSponsored:le,openUrl:ce}=(0,o.ko)(),de=Boolean(J||n||z||j),{isMobile:me}=(0,E.Ay)(),{media:ue,isSingle:Ae}=ee||{},he=(0,s.li)(),ye=n?.senderId||J?.id||n?.chatId,pe=(0,N.A)(ye),ve=$?"slideFade":"none",ge=Boolean($&&!W),[Ee,be,fe]=(0,f.A)(),{isVideo:Ce,isPhoto:Se,bestImageData:we,bestData:ke,dimensions:Ne,isGif:Ie,isFromSharedMedia:Pe}=(0,P.O)({media:ue,isAvatar:Boolean(J),origin:V,delay:ge&&_}),Me=(()=>{if(d)return!1;if("avatar"!==X?.type||!J)return!1;const e=X.profilePhotos;return ue!==e.personalPhoto})(),Te=!q&&de,Be=(0,s.Kr)(()=>Y?r:(0,c.Wm)(G||{},r||[],Pe),[G,r,Pe,Y]);!de||pe&&pe===ye&&void 0!==he.current||(he.current=Ae?0:a||H);const[xe]=(0,k.NI)();(0,s.vJ)(()=>{if(!de||xe())return;(0,A.FD)();const e=(0,I.w4)();return()=>{e(),(0,A.wb)()}},[de,xe]),(0,s.vJ)(()=>{Te&&(0,k.mB)()},[Te]),(0,s.vJ)(()=>{me&&(0,l.RK)(()=>{document.body.classList.toggle("is-media-viewer-open",de)})},[me,de]);const Le=(0,s.li)();(0,b.A)(Le);const Re=(0,C.A)();(0,s.vJ)(()=>{const e=window.matchMedia(y.wy);return e.addEventListener("change",Re),()=>{e.removeEventListener("change",Re)}},[Re]);const Fe=(0,N.A)(n),De=(0,N.A)(q),Ve=(0,N.A)(V),_e=(0,N.A)(X),Ue=(0,N.A)(we),Oe=n?(0,p.V)({message:n,forcePlayback:!0,isForMediaViewer:!0}):void 0,Je=Boolean(Oe),Ke=De&&_e!==X;(0,s.vJ)(()=>{ge&&de&&(Ke||!_e)&&((0,s.VK)(_+i.xB5),(0,g.w)(Je,V,we,Ne,Ce,n,H)),ge&&!de&&_e&&((0,s.VK)(_+i.xB5),(0,g.$)(Ve,Ue,Fe,_e?.mediaIndex))},[we,Ne,Je,ge,de,Ce,n,V,Ue,_e,Fe,Ve,Ke,H]);const Ge=(0,S.A)(()=>ae()),je=(0,S.A)(n=>{n.target instanceof HTMLElement&&n.target.closest("a")||(Ge(),e&&a&&(me?setTimeout(()=>{oe({force:!1},{forceSyncOnIOs:!0}),se({chatId:e,threadId:t,messageId:a})},_):se({chatId:e,threadId:t,messageId:a})))}),ze=(0,S.A)(t=>{j&&e&&(le({isMedia:t,isFullscreen:!0,randomId:j.randomId}),ce({url:j.url}),ae())}),He=(0,S.A)(()=>{ne({fromChatId:e,messageIds:[a]})});(0,s.vJ)(()=>de?(0,u.A)(()=>{Ge()}):void 0,[Ge,de]),(0,s.vJ)(()=>{Ce&&!Ie&&(0,m._K)()},[Ie,Ce]);const $e=(0,S.A)(a=>{if(a&&!Q){if("avatar"===a.type){if(!(a.mediaIndex>=a.profilePhotos.photos.length-U))return;ie({peerId:a.avatarOwner.id})}"message"===a.type&&Y&&re({chatId:e,threadId:t,currentMediaMessageId:a.message.id})}}),qe=(0,S.A)((e,t)=>{if(0===t||Ae)return;if("standalone"===e.type){const{media:a,mediaIndex:n}=e,s=n+t;return s>=0&&s<a.length?{type:"standalone",media:a,mediaIndex:s}:void 0}if("avatar"===e.type){const{avatarOwner:a,profilePhotos:n,mediaIndex:s}=e,o=s+t;return o>=0&&n&&o<n.photos.length?{type:"avatar",avatarOwner:a,profilePhotos:n,mediaIndex:o}:void 0}if("sponsoredMessage"===e.type){const{message:a,mediaIndex:n}=e,s=n+t;return s>=0&&a?{type:"sponsoredMessage",message:a,mediaIndex:s}:void 0}const{message:a,mediaIndex:n}=e,s=(0,c.qG)(a);if(s){const e=n+t;if(e>=0&&e<s.extendedMedia.length)return{type:"message",message:a,mediaIndex:e}}const o=Be?.indexOf(a.id);if(void 0===o)return;const r=Be[o+t],i=G?.[r];return i?{type:"message",message:i}:void 0}),We=(0,S.A)(e=>{if(!e)return void Ge();const t="avatar"===e.type?e.avatarOwner.id:"message"===e.type?e.message.chatId:void 0,a="message"===e.type?e.message.id:void 0,n="standalone"===e.type?e.media:void 0;te({origin:V,chatId:t,messageId:a,standaloneMedia:n,mediaIndex:e.mediaIndex,isAvatarView:"avatar"===e.type,withDynamicLoading:Y},{forceOnHeavyAnimation:!0})}),Ye=(0,S.A)(()=>{if((K?.photos.length||z?.length||Be?.length||0)<=1||!X)return void Ge();const e=qe(X,-1);e?We(e):"avatar"===X.type&&(0,h.L8)(X.avatarOwner.id)||"standalone"===X.type||Ge()}),Qe=(0,w.A)();return s.Ay.createElement(x.A,{id:"MediaViewer",isOpen:de,isHidden:q,shouldAnimateFirstRender:!0,noCloseTransition:W},s.Ay.createElement("div",{className:"media-viewer-head",dir:Qe.isRtl?"rtl":void 0,ref:Le},me&&s.Ay.createElement(B.A,{className:"media-viewer-close",round:!0,size:"smaller",color:"translucent-white",ariaLabel:Qe("Close"),onClick:Ge},s.Ay.createElement(M.A,{name:"close"})),s.Ay.createElement(L.Ay,{activeKey:he.current,name:ve},s.Ay.createElement(D.A,{key:ue?.id,item:X})),s.Ay.createElement(R.A,{mediaData:ke,isVideo:Ce,item:X,canUpdateMedia:v,canReportAvatar:Me,onBeforeDelete:Ye,onReportAvatar:be,onCloseMediaViewer:Ge,onForward:He}),s.Ay.createElement(T.A,{isOpen:Ee,onClose:fe,photo:O,peerId:J?.id})),s.Ay.createElement(F.A,{item:X,loadMoreItemsIfNeeded:$e,isLoadingMoreMedia:Q,isSynced:Z,getNextItem:qe,chatId:e,isPhoto:Se,isGif:Ie,threadId:t,avatarOwnerId:J?.id,origin:V,isOpen:de,hasFooter:Je,isVideo:Ce,withAnimation:$,onClose:Ge,selectItem:We,isHidden:q,onFooterClick:je,handleSponsoredClick:ze}))},J=(0,s.ph)((0,o.EK)(e=>{const{mediaViewer:t,shouldSkipHistoryAnimations:a}=(0,d.nTw)(e),{chatId:n,threadId:s,messageId:o,origin:i,isHidden:l,withDynamicLoading:m,standaloneMedia:u,mediaIndex:A,isAvatarView:y,isSponsoredMessage:p}=t,g=(0,d.xYJ)(e,"mediaViewerAnimations"),{currentUserId:E,isSynced:b}=e,f=Boolean(n)&&(0,d.nZ4)(e,n);if(y){const t=(0,d.PVB)(e,n);let s=!1;t&&(s=(0,h.L8)(t.id)?t.id===E:(0,c.SJ)(t));const o=(0,d.IVq)(e,n),r=(0,v.o)({avatarOwner:t,standaloneMedia:u,profilePhotos:o,mediaIndex:A}),m=(0,v.A)(e,r);return{profilePhotos:o,avatar:o?.photos[A],avatarOwner:t,isLoadingMoreMedia:o?.isLoading,isChatWithSelf:f,canUpdateMedia:s,withAnimation:g,origin:i,shouldSkipHistoryAnimations:a,isHidden:l,standaloneMedia:u,mediaIndex:A,isSynced:b,currentItem:r,viewableMedia:m}}let C,S,w;n&&o&&(C=i&&[r.TQ.ScheduledAlbum,r.TQ.ScheduledInline].includes(i)?(0,d.Jl6)(e,n,o):(0,d.O5q)(e,n,o)),p&&n&&i===r.TQ.SponsoredMessage&&(S=(0,d.v8U)(e,n)),n&&(w=i&&[r.TQ.ScheduledAlbum,r.TQ.ScheduledInline].includes(i)?(0,d.yFI)(e,n):(0,d.zeq)(e,n));let k=!1;const N=i===r.TQ.Inline,I=i===r.TQ.Album;let P;if(n&&s&&o)if(m&&(N||I)){const t=(0,d.CuV)(e);k=Boolean(t?.isLoading);const{foundIds:a}=t?.currentSegment||{};P=a}else if(i===r.TQ.SharedMedia){const t=(0,d.BU_)(e),{foundIds:a}=t&&t.resultsByType&&t.resultsByType.media||{};P=a}else(N||I)&&(P=(0,d.Lzh)(e,n,s,o)||(0,d.gCU)(e,n,s));const M=(0,v.o)({message:C,standaloneMedia:u,mediaIndex:A,sponsoredMessage:S});return{chatId:n,threadId:s,messageId:o,isChatWithSelf:f,origin:i,message:C,chatMessages:w,sponsoredMessage:S,collectedMessageIds:P,withAnimation:g,isHidden:l,shouldSkipHistoryAnimations:a,withDynamicLoading:m,standaloneMedia:u,mediaIndex:A,isLoadingMoreMedia:k,isSynced:b,currentItem:M,viewableMedia:(0,v.A)(e,M)}})(O));n()}catch(e){n(e)}})},85334:(e,t,a)=>{a.d(t,{A:()=>n});const n={root:"BJV09FsC",search:"bdi8G7GR","section-title":"ex3kxgWX",sectionTitle:"ex3kxgWX","section-content":"uIZzLhEh",sectionContent:"uIZzLhEh",showMoreLink:"h_Zs9ypA"}},85353:(e,t,a)=>{a.d(t,{A:()=>n});const n={root:"LeeJZdwH","multi-tab":"ESsGT5OD",multiTab:"ESsGT5OD",loadingPlaceholder:"jEAibDyh",placeholderPath:"Gx1BIECZ",fadeOpacityBreath:"N5Blieah",defaultPlaceholderGrid:"Ig_t1R7i",placeholderSquare:"ablUg8HU",hide:"Wrl63uWL",frame:"OmY14FFl","with-button":"liDRl1xT",withButton:"liDRl1xT",hidden:"vOFiAq3l","secondary-button":"ypxiUCFQ",secondaryButton:"ypxiUCFQ","main-button":"U_ggDKn1",mainButton:"U_ggDKn1",visible:"KwI4XdkC","buttons-container":"mR_hsBdT",buttonsContainer:"mR_hsBdT","one-row":"YfQO314y",oneRow:"YfQO314y","two-rows":"gUldkEoy",twoRows:"gUldkEoy","left-to-right":"ntESqwQ_",leftToRight:"ntESqwQ_","right-to-left":"q6IUFEL0",rightToLeft:"q6IUFEL0","top-to-bottom":"gb4iHJ9H",topToBottom:"gb4iHJ9H","bottom-to-top":"R_bh3GF8",bottomToTop:"R_bh3GF8","hide-horizontal":"oYaRA7u4",hideHorizontal:"oYaRA7u4","secondary-button-spinner":"NYV0yA2J",secondaryButtonSpinner:"NYV0yA2J","main-button-spinner":"oq6HKJur",mainButtonSpinner:"oq6HKJur","web-app-popup":"YEOURXza",webAppPopup:"YEOURXza","without-title":"gvljUzY9",withoutTitle:"gvljUzY9",closeIcon:"BvNtfigU","state-back":"rC2wkMIk",stateBack:"rC2wkMIk",backIconContainer:"JXsuZ01s",moreIcon:"T58ozRyW",headerPanel:"eYrhewMy",icon:"a0AI_he5",headerSplitButton:"Tl4_05AQ",headerButton:"MvCwTbk_",left:"emOpAMBm",right:"z4C5VD5o",buttonCaptionContainer:"dpZR3YT7",backButtonCaption:"dWDprnWa"}},85413:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.d(t,{A:()=>w});var s=a(84051),o=a(13439),r=a(89925),i=a(31481),l=a(70636),c=a(60919),d=a(37836),m=a(17712),u=a(59030),A=a(93809),h=a(42827),y=a(46222),p=a(96530),v=a(52745),g=a(41036),E=a(75021),b=e([l,u,h,E]);[l,u,h,E]=b.then?(await b)():b;const f=5,C=(0,d.nF)(e=>e(),500,!0),S=({searchQuery:e,isLoading:t,foundIds:a,recentBotIds:n})=>{const{searchPopularBotApps:c,openChatWithInfo:d}=(0,o.ko)(),b=(0,s.li)(),S=(0,u.A)(),[w,k]=(0,s.J0)(!1),N=(0,s.Kr)(()=>{if(!a)return[];const t=new Set(n),s=a.filter(e=>!t.has(e));return(0,l.PU)({ids:s,query:e,type:"user"})},[a,n,e]),I=(0,m.A)(e=>{d({id:e,shouldReplaceHistory:!0})}),P=(0,s.hb)(({direction:e})=>{e===r.TN.Backwards&&C(()=>{c()})},[]),M=(0,m.A)(()=>{k(e=>!e)}),T=(0,A.A)([e],i.jhd)&&!t;return s.Ay.createElement(g.Ay,{ref:b,slideClassName:"LeftSearch--content",name:"fade",activeKey:T?1:0,shouldCleanup:!0},s.Ay.createElement(y.A,{className:"search-content custom-scroll",items:T?N:void 0,onLoadMore:P,noFastList:!0},!T&&s.Ay.createElement(v.A,null),T&&!N?.length&&s.Ay.createElement(h.A,{withSticker:!0,text:S("ChatList.Search.NoResults"),description:S("ChatList.Search.NoResultsDescription")}),T&&!e&&Boolean(n?.length)&&s.Ay.createElement("div",{className:"search-section"},s.Ay.createElement("h3",{className:"section-heading"},n.length>f&&s.Ay.createElement(p.A,{className:"Link",onClick:M},S(w?"ChatList.Search.ShowLess":"ChatList.Search.ShowMore")),S("SearchAppsMine")),n.map((e,t)=>{if(w||!(t>=f))return s.Ay.createElement(E.A,{chatId:e,onClick:I,withOpenAppButton:!0})})),T&&Boolean(N?.length)&&s.Ay.createElement("div",{className:"search-section"},s.Ay.createElement("h3",{className:"section-heading"},S("SearchAppsPopular")),N.map(e=>s.Ay.createElement(E.A,{chatId:e,onClick:I,withOpenAppButton:!0})))))},w=(0,s.ph)((0,o.EK)(e=>{const t=(0,c.nTw)(e).globalSearch,a=t.popularBotApps?.peerIds;return{isLoading:!a&&t.fetchingStatus?.botApps,foundIds:a,recentBotIds:e.topBotApps.userIds}})(S));n()}catch(e){n(e)}})},85772:(e,t,a)=>{e.exports=a.p+"PremiumVideo.288cb61931e33d913f0a.svg"},85839:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.d(t,{A:()=>p});var s=a(84051),o=a(31481),r=a(87357),i=a(17712),l=a(59030),c=a(97457),d=a(64493),m=a(22720),u=a(76453),A=e([l,c,d,m,u]);[l,c,d,m,u]=A.then?(await A)():A;const h=56,y=({stickerSet:e,noPlay:t,className:a,observeIntersection:n,onClick:A})=>{const y=(0,l.A)(),p=e?.stickers?.[0],v=(0,i.A)(()=>{p&&A(p)});if(e?.stickers)return s.Ay.createElement(m.A,{className:(0,r.A)("StickerSetCard","small-icon",a),style:`height: ${h}px;`,inactive:!p,onClick:v},function(){if(e)return e.hasThumbnail||!p?s.Ay.createElement(d.A,{ariaLabel:e.title,color:"translucent",isRtl:y.isRtl},s.Ay.createElement(c.A,{stickerSet:e,size:o.RCH,noPlay:t,observeIntersection:n})):s.Ay.createElement(u.A,{sticker:p,size:o.RCH,title:e.title,noPlay:t,observeIntersection:n,noContextMenu:!0,isCurrentUserPremium:!0,clickArg:void 0})}(),s.Ay.createElement("div",{className:"multiline-item"},s.Ay.createElement("div",{className:"title"},e.title),s.Ay.createElement("div",{className:"subtitle"},y("StickerPack.StickerCount",e.count,"i"))))},p=(0,s.ph)(y);n()}catch(e){n(e)}})},86001:(e,t,a)=>{a.d(t,{A:()=>n});const n={content:"MZ0RCecx",title:"ar8XeydN",participantCount:"un00TXYY",participants:"YvkZ6c2D",participant:"DHJSBDeE",buttons:"KFtrPtNr"}},86530:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.d(t,{A:()=>k});var s=a(84051),o=a(13439),r=a(31481),i=a(60919),l=a(87357),c=a(76023),d=a(26072),m=a(59030),u=a(34895),A=a(54746),h=a(38102),y=a(12933),p=a(40664),v=a(52745),g=a(57474),E=a(41036),b=a(72729),f=e([m,u,h,y,p]);[m,u,h,y,p]=f.then?(await f)():f;const C=5*c.$,S="0",w=({isActive:e,chat:t,topic:a,editTopicPanel:n,isCurrentUserPremium:i,onClose:c})=>{const{editTopic:f,openPremiumModal:w}=(0,o.ko)(),[k,N]=(0,s.J0)(""),[I,P]=(0,s.J0)(void 0),M=(0,m.A)(),T=Boolean(n?.isLoading),B=a?.id===r.HxB;(0,d.A)({isActive:e,onBack:c}),(0,s.vJ)(()=>{e||(N(""),P(void 0))},[e]),(0,s.vJ)(()=>{(a?.title||a?.iconEmojiId)&&(N(a.title),P(a.iconEmojiId))},[a]);const x=(0,s.Kr)(()=>k!==a?.title||I!==a?.iconEmojiId,[I,k,a?.iconEmojiId,a?.title]),L=(0,s.hb)(e=>{const t=e.target.value;N(t)},[]),R=(0,s.hb)(()=>{f({chatId:t.id,title:k,topicId:a.id,iconEmojiId:I})},[t,f,I,k,a]),F=(0,s.hb)(e=>{e.isFree||i||e.id===r.MyF?e.id!==r.MyF?P(e.id):P(S):w({initialSection:"animated_emoji"})},[i,w]),D=(0,s.Kr)(()=>({...a,title:k,iconEmojiId:I}),[I,k,a]);if(t?.isForum)return s.Ay.createElement("div",{className:b.A.root},s.Ay.createElement("div",{className:(0,l.A)(b.A.content,"custom-scroll")},!a&&s.Ay.createElement(v.A,null),a&&s.Ay.createElement(s.Ay.Fragment,null,s.Ay.createElement("div",{className:(0,l.A)(b.A.section,b.A.top,B&&b.A.general)},s.Ay.createElement("span",{className:b.A.heading},M(B?"CreateGeneralTopicTitle":"CreateTopicTitle")),s.Ay.createElement(E.Ay,{name:"zoomFade",activeKey:Number(D.iconEmojiId)||0,shouldCleanup:!0,direction:1,className:b.A.iconWrapper},s.Ay.createElement(h.A,{topic:D,className:b.A.icon,size:C,noLoopLimit:!0})),s.Ay.createElement(p.A,{value:k,onChange:L,label:M("lng_forum_topic_title"),disabled:T,teactExperimentControlled:!0})),!B&&s.Ay.createElement("div",{className:(0,l.A)(b.A.section,b.A.bottom)},s.Ay.createElement(u.A,{idPrefix:"edit-topic-icons-set-",isHidden:!e,loadAndPlay:e,onCustomEmojiSelect:F,className:b.A.iconPicker,pickerListClassName:"fab-padding-bottom",withDefaultTopicIcons:!0})))),s.Ay.createElement(y.A,{isShown:x,disabled:T,onClick:R,ariaLabel:M("Save")},T?s.Ay.createElement(g.A,{color:"white"}):s.Ay.createElement(A.A,{name:"check"})))},k=(0,s.ph)((0,o.EK)(e=>{const{editTopicPanel:t}=(0,i.nTw)(e);return{chat:t?.chatId?(0,i.hds)(e,t.chatId):void 0,topic:t?.chatId&&t?.topicId?(0,i.S0q)(e,t.chatId,t.topicId):void 0,editTopicPanel:t,isCurrentUserPremium:(0,i.g29)(e)}})(w));n()}catch(e){n(e)}})},86629:(e,t,a)=>{function n(e){const t=(e=e.replace(/[^\d]/g,"").slice(0,4)).match(/.{1,2}/g);return t?.[0]&&Number(t[0])>12&&(t[0]="12"),t?.[0]&&2===t[0].length&&!t[1]&&(t[1]=""),t?t.join("/"):""}function s(e){const t=(e=e.replace(/[^\d]/g,"")).match(/.{1,4}/g);return t?t.join(" "):""}a.d(t,{j:()=>s,z:()=>n})},87089:(e,t,a)=>{a.d(t,{A:()=>r});var n=a(84051),s=a(17663),o=a(54746);const r=(0,n.ph)(({searchDate:e,onSelect:t})=>{const a=(0,n.Kr)(()=>function(e){if(e.match(/^\d{2,4}-\d{2}-\d{2}$/g)){const t=new Date(e);return[{date:t,text:(0,s.A)(t)}]}const t=[],a=new Date,n=a.getFullYear(),o=a.getTime()>new Date(`${n}-${e}`).getTime()?n:n-1;for(let a=0;a<8;a++){const n=new Date(`${o-a}-${e}`);t.push({date:n,text:(0,s.A)(n)})}return t}(e),[e]);return n.Ay.createElement("section",{className:"DateSuggest custom-scroll custom-scroll-x"},a.map(({date:e,text:a})=>n.Ay.createElement("div",{onClick:()=>t(e),className:"date-item",key:a},n.Ay.createElement(o.A,{name:"calendar"}),n.Ay.createElement("span",null,a))))})},87210:(e,t,a)=>{a.d(t,{A:()=>n});const n={root:"oyUTEj8I",button:"EPfM7AgT","button-content":"GysZk2mF",buttonContent:"GysZk2mF","back-button":"njYoMrKM",backButton:"njYoMrKM","white-back-button":"SB4pczOo",whiteBackButton:"SB4pczOo",content:"sJubG84j",frame:"a7IoUtQG",slide:"gubS9KP1",limits:"U7ePgVBR",stories:"J1M6fEdo","limits-content":"n_rowVPI",limitsContent:"n_rowVPI",header:"mz2Hmd83","no-header-border":"AgmNOqi7",noHeaderBorder:"AgmNOqi7",preview:"dIVBSdWi",title:"iZLwcL8v",description:"A7YHY8qF",footer:"yN2611rA","no-footer-border":"rCHMABcD",noFooterBorder:"rCHMABcD"}},87720:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.d(t,{A:()=>f});var s=a(84051),o=a(13439),r=a(31481),i=a(90709),l=a(60919),c=a(9716),d=a(58443),m=a(37661),u=a(26072),A=a(59030),h=a(64489),y=a(64493),p=a(94189),v=a(57474),g=a(9384),E=e([A,y,p,g]);[A,y,p,g]=E.then?(await E)():E;const b=({chat:e,chatId:t,isActive:a,isChannel:n,onClose:i})=>{const{hideAllChatJoinRequests:l,loadChatJoinRequests:E}=(0,o.ko)(),[b,f,C]=(0,m.A)(),[S,w,k]=(0,m.A)(),N=(0,A.A)();(0,u.A)({isActive:a,onBack:i}),(0,s.vJ)(()=>{e?.joinRequests||(0,c.L8)(t)||E({chatId:t})},[e,t,E]);const I=(0,s.hb)(()=>{l({chatId:t,isApproved:!0}),C()},[l,t,C]),P=(0,s.hb)(()=>{l({chatId:t,isApproved:!1}),k()},[l,t,k]);return s.Ay.createElement("div",{className:"Management ManageJoinRequests"},s.Ay.createElement("div",{className:"custom-scroll"},s.Ay.createElement("div",{className:"section"},s.Ay.createElement(h.A,{tgsUrl:d.w.JoinRequest,size:r.OMf,className:"section-icon"}),Boolean(e?.joinRequests?.length)&&s.Ay.createElement("div",{className:"bulk-actions"},s.Ay.createElement(y.A,{className:"bulk-action-button",onClick:f},"Accept all"),s.Ay.createElement(y.A,{className:"bulk-action-button",onClick:w,isText:!0},"Dismiss all"))),s.Ay.createElement("div",{className:"section",teactFastList:!0},s.Ay.createElement("p",{key:"title"},e?.joinRequests?e.joinRequests.length?N("JoinRequests",e.joinRequests.length):N("NoMemberRequests"):N("Loading")),!e?.joinRequests&&s.Ay.createElement(v.A,{key:"loading"}),0===e?.joinRequests?.length&&s.Ay.createElement("p",{className:"section-help",key:"empty"},N(n?"NoSubscribeRequestsDescription":"NoMemberRequestsDescription")),e?.joinRequests?.map(({userId:e,about:a,date:o})=>s.Ay.createElement(g.A,{userId:e,about:a,date:o,isChannel:n,chatId:t,key:e})))),s.Ay.createElement(p.A,{isOpen:b,onClose:C,title:"Accept all requests?",text:"Are you sure you want to accept all requests?",confirmHandler:I}),s.Ay.createElement(p.A,{isOpen:S,onClose:k,title:"Reject all requests?",text:"Are you sure you want to reject all requests?",confirmHandler:P}))},f=(0,s.ph)((0,o.EK)((e,{chatId:t})=>{const a=(0,l.hds)(e,t);return{chat:a,isChannel:a&&(0,i.WX)(a)}})(b));n()}catch(e){n(e)}})},87891:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.d(t,{A:()=>C});var s=a(84051),o=a(13439),r=a(89925),i=a(90709),l=a(87357),c=a(17142),d=a(4961),m=a(39351),u=a(62587),A=a(37960),h=a(59030),y=a(84685),p=a(19806),v=a(22720),g=a(55158),E=a(71593),b=e([m,u,h,p,v]);[m,u,h,p,v]=b.then?(await b)():b;const f=({title:e,description:t,photo:a,invoice:n,shippingPrices:v,checkoutInfo:b,totalPrice:f,isTosAccepted:C,dispatch:k,onAcceptTos:N,tipAmount:I,needAddress:P,hasShippingOptions:M,savedCredentials:T,isPaymentFormUrl:B,botName:x})=>{const{setPaymentStep:L}=(0,o.ko)(),R=(0,h.A)(),F=(0,m.A)(),D=Boolean(k),{termsUrl:V,suggestedTipAmounts:_,maxTipAmount:U}=n||{},{paymentMethod:O,paymentProvider:J,shippingAddress:K,name:G,phone:j,shippingMethod:z}=b||{},H=(0,u.A)((0,i.cy)(a)),{ref:$}=(0,A.A)({hasMediaData:Boolean(H)}),q=(0,s.hb)(e=>{k({type:"setTipAmount",payload:U?Math.min(e,U):e})},[k,U]),W=(0,s.hb)(()=>{L({step:T?.length?r.tn.SavedPayments:r.tn.PaymentInfo})},[T?.length,L]),Y=(0,s.hb)(()=>{L({step:r.tn.ShippingInfo})},[L]),Q=(0,s.hb)(()=>{L({step:r.tn.Shipping})},[L]);return s.Ay.createElement("div",{className:E.A.root},s.Ay.createElement("div",{className:E.A.description},H&&s.Ay.createElement("img",{ref:$,className:E.A.checkoutPicture,src:H,draggable:!1,width:a.dimensions?.width,height:a.dimensions?.height,alt:""}),!H&&a&&s.Ay.createElement(g.A,{width:a.dimensions?.width,height:a.dimensions?.height,className:E.A.checkoutPicture,forceAspectRatio:!0}),s.Ay.createElement("div",{className:E.A.text},s.Ay.createElement("h5",{className:E.A.checkoutTitle},e),t&&s.Ay.createElement("div",{className:E.A.checkoutDescription},(0,d.A)(t,["br","links","emoji"])))),s.Ay.createElement("div",{className:E.A.priceInfo},n.prices.map(e=>S(F,e.label,e.amount,n.currency)),v&&v.map(e=>S(F,e.label,e.amount,n.currency)),_&&_.length>0&&s.Ay.createElement(s.Ay.Fragment,null,s.Ay.createElement("div",{className:E.A.priceInfoItem},s.Ay.createElement("div",{className:E.A.priceInfoItemTitle},e),s.Ay.createElement("div",null,(0,c.vv)(F,I,n.currency))),s.Ay.createElement("div",{className:E.A.tipsList},_.map(e=>s.Ay.createElement("div",{key:e,className:(0,l.A)(E.A.tipsItem,e===I&&E.A.tipsItem_active),onClick:k?()=>q(e===I?0:e):void 0},(0,c.vv)(F,e,n.currency,{shouldOmitFractions:!0}))))),void 0!==f&&S(F,R("Checkout.TotalAmount"),f,n.currency,!0)),s.Ay.createElement("div",{className:E.A.invoiceInfo},!B&&w({title:O||T?.[0].title,label:R("PaymentCheckoutMethod"),icon:"card",onClick:D?W:void 0}),J&&w({title:J,label:R("PaymentCheckoutProvider"),customIcon:(0,l.A)(E.A.provider,E.A[J.toLowerCase()])}),(P||!D&&K)&&w({title:K,label:R("PaymentShippingAddress"),icon:"location",onClick:D?Y:void 0}),G&&w({title:G,label:R("PaymentCheckoutName"),icon:"user"}),j&&w({title:j,label:R("PaymentCheckoutPhoneNumber"),icon:"phone"}),(M||!D&&z)&&w({title:z,label:R("PaymentCheckoutShippingMethod"),icon:"truck",onClick:D?Q:void 0}),V&&(Z=V,s.Ay.createElement(p.A,{label:function(e,t){const a=R("PaymentCheckoutAcceptRecurrent",x).split("*");return s.Ay.createElement(s.Ay.Fragment,null,a[0],s.Ay.createElement(y.A,{url:e,text:a[1],isRtl:t}),a.slice(2))}(Z,R.isRtl),name:"checkout_tos",checked:Boolean(C),className:E.A.tosCheckbox,tabIndex:0,onCheck:N}))));var Z},C=(0,s.ph)(f);function S(e,t,a,n,o=!1){return s.Ay.createElement("div",{className:(0,l.A)(E.A.priceInfoItem,o&&E.A.priceInfoItemMain)},s.Ay.createElement("div",{className:E.A.priceInfoItemTitle},t),s.Ay.createElement("div",null,(0,c.vv)(e,a,n)))}function w({title:e,label:t,icon:a,customIcon:n,onClick:o}){const r=Boolean(e&&t!==e);return s.Ay.createElement(v.A,{className:E.A.list,narrow:!0,multiline:r,icon:a,inactive:!o,onClick:o,leftElement:n&&s.Ay.createElement("i",{className:(0,l.A)("icon",n)})},s.Ay.createElement("div",{className:E.A.checkoutInfoItemInfoTitle},e||t),e&&t!==e&&s.Ay.createElement("p",{className:E.A.checkoutInfoItemInfoData},t))}n()}catch(k){n(k)}})},88030:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.d(t,{A:()=>P});var s=a(84051),o=a(13439),r=a(89925),i=a(31481),l=a(90709),c=a(60919),d=a(64520),m=a(37661),u=a(26072),A=a(59030),h=a(73767),y=a(54746),p=a(12928),v=a(38692),g=a(84685),E=a(33336),b=a(94189),f=a(12933),C=a(22720),S=a(52745),w=a(1087),k=a(57474),N=e([A,p,v,E,b,f,C,w]);[A,p,v,E,b,f,C,w]=N.then?(await N)():N;const I=({chat:e,isActive:t,isChannel:a,progress:n,isUsernameAvailable:c,checkedUsername:d,error:N,isProtected:I,maxPublicLinks:P,privateInviteLink:M,onClose:T})=>{const{updatePublicLink:B,updatePrivateLink:x,toggleIsProtected:L,openLimitReachedModal:R,resetManagementError:F}=(0,o.ko)(),D=(0,s.Kr)(()=>e.usernames?.find(({isEditable:e})=>e),[e.usernames]),V=D?.username||"",_=(0,s.Kr)(()=>(0,l.gA)(e),[e]),[U,O]=(0,s.J0)(!1),[J,K]=(0,s.J0)(_?"public":"private"),[G,j]=(0,s.J0)(),[z,H,$]=(0,m.A)(),[q,W,Y]=(0,m.A)(),Q=(0,h.A)(c),Z=U&&Boolean("public"===J&&(G||V&&""===G)&&(c??Q)||"private"===J&&_);(0,u.A)({isActive:t,onBack:T}),(0,s.vJ)(()=>{O(!1)},[V]),(0,s.vJ)(()=>{J&&!M&&x()},[J,M,x]);const X=(0,s.hb)(t=>{j(t),O(!0),N&&F({chatId:e.id})},[e.id,N]),ee=(0,s.hb)((e,t)=>{if(Object.values((0,o.mS)().chats.byId).filter(({isCreator:e,usernames:t})=>e&&t?.some(e=>e.isActive)).length>=P&&"public"===e){R({limit:"channelsPublic"});const e=t.currentTarget.closest(".radio-group");return e.querySelector("[value=public]").checked=!1,void(e.querySelector("[value=private]").checked=!0)}K(e),O(!0)},[P,R]),te=(0,s.hb)(t=>{L({chatId:e.id,isProtected:"protected"===t})},[e.id,L]),ae=(0,s.hb)(()=>{_&&"private"===J?W():B({username:"public"===J&&G||""})},[_,W,J,B,G]),ne=(0,s.hb)(()=>{B({username:"",shouldDisableUsernames:!0}),Y()},[Y,B]),se=(0,s.hb)(()=>{$(),x()},[$,x]),oe=(0,A.A)(),re=a?"Channel":"Mega",ie=a?"Channel":"Group",le=[{value:"private",label:oe(`${re}Private`),subLabel:oe(`${re}PrivateInfo`)},{value:"public",label:oe(`${re}Public`),subLabel:oe(`${re}PublicInfo`)}],ce=[{value:"allowed",label:oe("ChannelVisibility.Forwarding.Enabled")},{value:"protected",label:oe("ChannelVisibility.Forwarding.Disabled")}],de=n===r.TD.InProgress,me="public"===J&&e.usernames&&e.usernames.length>0;return s.Ay.createElement("div",{className:"Management"},s.Ay.createElement("div",{className:"panel-content custom-scroll"},s.Ay.createElement("div",{className:"section",dir:oe.isRtl?"rtl":void 0},s.Ay.createElement("h3",{className:"section-heading"},oe(`${ie}Type`)),s.Ay.createElement(w.A,{selected:J,name:"channel-type",options:le,onChange:ee})),"private"===J?s.Ay.createElement("div",{className:"section",dir:oe.isRtl?"rtl":void 0},M?s.Ay.createElement(s.Ay.Fragment,null,s.Ay.createElement(p.A,{link:M,className:"invite-link"}),s.Ay.createElement("p",{className:"section-info",dir:oe.isRtl?"rtl":void 0},oe(`${re}PrivateLinkHelp`)),s.Ay.createElement(C.A,{icon:"delete",ripple:!0,destructive:!0,onClick:H},oe("RevokeLink")),s.Ay.createElement(b.A,{isOpen:z,onClose:$,text:oe("RevokeAlert"),confirmLabel:oe("RevokeButton"),confirmHandler:se,confirmIsDestructive:!0})):s.Ay.createElement(S.A,null)):s.Ay.createElement("div",{className:"section no-border"},s.Ay.createElement("div",{className:"settings-input"},s.Ay.createElement(E.A,{asLink:!0,currentUsername:V,isLoading:de,isUsernameAvailable:c,checkedUsername:d,onChange:X})),N===i.Y3M&&function(){const e=`${i.jsp}${i.NjX}`;return s.Ay.createElement("p",{className:"section-info",dir:"auto"},oe("lng_username_purchase_available").replace("{link}","%PURCHASE_LINK%").split("%").map(t=>"PURCHASE_LINK"===t?s.Ay.createElement(g.A,{url:e,text:`@${i.NjX}`}):t))}(),s.Ay.createElement("p",{className:"section-info",dir:"auto"},oe(`${ie}.Username.CreatePublicLinkHelp`))),me&&s.Ay.createElement(v.A,{chatId:e.id,usernames:e.usernames,onEditUsername:X}),s.Ay.createElement("div",{className:"section",dir:oe.isRtl?"rtl":void 0},s.Ay.createElement("h3",{className:"section-heading"},oe(a?"ChannelVisibility.Forwarding.ChannelTitle":"ChannelVisibility.Forwarding.GroupTitle")),s.Ay.createElement(w.A,{selected:I?"protected":"allowed",name:"forwarding-type",options:ce,onChange:te}),s.Ay.createElement("p",{className:"section-info section-info_push"},oe(a?"ChannelVisibility.Forwarding.ChannelInfo":"ChannelVisibility.Forwarding.GroupInfo")))),s.Ay.createElement(f.A,{isShown:Z,disabled:de,ariaLabel:oe("Save"),onClick:ae},de?s.Ay.createElement(k.A,{color:"white"}):s.Ay.createElement(y.A,{name:"check"})),s.Ay.createElement(b.A,{isOpen:q,onClose:Y,text:oe("ChannelVisibility.Confirm.MakePrivate.Channel",V),confirmHandler:ne,confirmIsDestructive:!0}))},P=(0,s.ph)((0,o.EK)((e,{chatId:t})=>{const a=(0,c.hds)(e,t),{isUsernameAvailable:n,checkedUsername:s,error:o}=(0,c.YK)(e,t);return{chat:a,isChannel:(0,l.WX)(a),progress:(0,c.nTw)(e).management.progress,error:o,isUsernameAvailable:n,checkedUsername:s,isProtected:a?.isProtected,maxPublicLinks:(0,d.d)(e,"channelsPublic"),privateInviteLink:(0,c.AWZ)(e,t)?.inviteLink}},(e,{chatId:t})=>Boolean((0,c.hds)(e,t)&&(0,c.YK)(e,t)))(I));n()}catch(e){n(e)}})},88125:(e,t,a)=>{a.d(t,{A:()=>n});const n={root:"Rzj2LMLf",content:"Ve4u2KVI",modalTitle:"E42tgAwD",container:"pNSCKAVN",header:"P1fPh6h8",actionMessageView:"McJgXCtB",info:"xWnXsG7q",background:"_6w75ldP",customBgImage:"CZkpv8n0",customBgColor:"VJAYrDF_",withTransition:"lElCwweL",blurred:"m8xzfVvU",withRightColumn:"rJCyBVMB"}},89316:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.d(t,{A:()=>f});var s=a(84051),o=a(13439),r=a(60919),i=a(30708),l=a(87357),c=a(52674),d=a(37661),m=a(17712),u=a(59030),A=a(73767),h=a(15156),y=a(54746),p=a(64493),v=a(19806),g=a(94189),E=e([u,p,v,g]);[u,p,v,g]=E.then?(await E)():E;const b=({chat:e,canPost:t,isActive:a,messageListType:n,isSchedule:r,selectedMessagesCount:i,canDeleteMessages:E,canReportMessages:b,canDownloadMessages:f,canForwardMessages:C,hasProtectedMessage:S,isAnyModalOpen:w,selectedMessageIds:k,shouldWarnAboutSvg:N,hasSvgs:I})=>{const{exitMessageSelectMode:P,openForwardMenuForSelectedMessages:M,downloadSelectedMessages:T,copySelectedMessages:B,showNotification:x,reportMessages:L,openDeleteMessageModal:R,setSharedSettingOption:F}=(0,o.ko)(),D=(0,u.A)();(0,h.A)(a);const[V,_,U]=(0,d.A)(),[O,J]=(0,s.J0)(!1),K=(0,m.A)(()=>{P()}),G=(0,m.A)(()=>{k&&e&&R({chatId:e.id,messageIds:k,isSchedule:r})});(0,s.vJ)(()=>a&&!w?(0,c.A)({onBackspace:E?G:void 0,onDelete:E?G:void 0,onEsc:K}):void 0,[a,G,K,w,E]);const j=(0,m.A)(()=>{B(),x({message:D("Share.Link.Copied")}),P()}),z=(0,m.A)(()=>{T(),P()}),H=(0,m.A)(()=>{N&&I?_():z()}),$=(0,m.A)(()=>{F({shouldWarnAboutSvg:!O}),U(),z()}),q=(0,A.A)(i||void 0,!0),W=D("VoiceOver.Chat.MessagesSelected",a?i:q,"i"),Y=(0,m.A)(()=>{k&&e&&(L({chatId:e.id,messageIds:k}),P())}),Q=(0,l.A)("MessageSelectToolbar",t&&"with-composer",a&&"shown"),Z=(e,t,a,n)=>s.Ay.createElement("div",{role:"button",tabIndex:0,className:(0,l.A)("div-button","item",n&&"destructive"),onClick:a,title:t,"aria-label":t},s.Ay.createElement(y.A,{name:e}));return s.Ay.createElement(s.Ay.Fragment,null,s.Ay.createElement("div",{className:Q},s.Ay.createElement("div",{className:"MessageSelectToolbar-inner"},s.Ay.createElement(p.A,{color:"translucent",round:!0,onClick:K,ariaLabel:"Exit select mode"},s.Ay.createElement(y.A,{name:"close"})),s.Ay.createElement("span",{className:"MessageSelectToolbar-count",title:W},W),Boolean(i)&&s.Ay.createElement("div",{className:"MessageSelectToolbar-actions"},"scheduled"!==n&&C&&Z("forward",D("Chat.ForwardActionHeader"),M),b&&Z("flag",D("Conversation.ReportMessages"),Y),f&&!S&&Z("download",D("lng_media_download"),H),!S&&Z("copy",D("lng_context_copy_selected_items"),j),E&&Z("delete",D("EditAdminGroupDeleteMessages"),G,!0)))),s.Ay.createElement(g.A,{isOpen:V,onClose:U,confirmHandler:$},D("lng_launch_svg_warning"),s.Ay.createElement(v.A,{className:"dialog-checkbox",checked:O,label:D("lng_launch_exe_dont_ask"),onCheck:J})))},f=(0,s.ph)((0,o.EK)(e=>{const t=(0,r.nTw)(e),{shouldWarnAboutSvg:a}=(0,i.l)(e),n=(0,r.meB)(e),{type:s,chatId:o}=(0,r.Xf0)(e)||{},l="scheduled"===s,{canDelete:c}=(0,r.jyG)(e),d=Boolean(!l&&(0,r.mDG)(e)),m=(0,r.ori)(e),{messageIds:u}=t.selectedMessages||{},A=!!o&&(0,r.o45)(e,o,u),h=!(l||!o)&&(0,r.Y8y)(e,o,u),y=!(!u||!o)&&(0,r.H_s)(e,o,u),p=t.isShareMessageModalShown,v=Boolean(p||t.requestedDraft||t.requestedAttachBotInChat||t.requestedAttachBotInstall||t.reportModal||t.deleteMessageModal);return{chat:n,isSchedule:l,selectedMessagesCount:(0,r.ZZ2)(e),canDeleteMessages:c,canReportMessages:d,canDownloadMessages:m,canForwardMessages:h,selectedMessageIds:u,hasProtectedMessage:A,isAnyModalOpen:v,shouldWarnAboutSvg:a,hasSvgs:y}})(b));n()}catch(e){n(e)}})},89661:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.d(t,{A:()=>A});var s=a(84051),o=a(66915),r=a(39351),i=a(59030),l=a(19806),c=a(40664),d=a(63173),m=e([r,i,l,c]);[r,i,l,c]=m.then?(await m)():m;const u=({state:e,needEmail:t,needPhone:a,needName:n,needAddress:m,countryList:u,dispatch:A})=>{const h=(0,s.li)(),y=(0,s.li)(),p=(0,s.li)();(0,s.vJ)(()=>{p.current&&p.current.value!==e.countryIso2&&(p.current.value=e.countryIso2)},[e.countryIso2]);const v=(0,i.A)(),g=(0,r.A)();(0,o.A)(h);const E=(0,s.hb)(e=>{A({type:"changeAddress1",payload:e.target.value})},[A]),b=(0,s.hb)(e=>{A({type:"changeAddress2",payload:e.target.value})},[A]),f=(0,s.hb)(e=>{A({type:"changeCity",payload:e.target.value})},[A]),C=(0,s.hb)(e=>{A({type:"changeState",payload:e.target.value})},[A]),S=(0,s.hb)(e=>{A({type:"changeCountry",payload:u.find(t=>t.iso2===e.target.value)})},[u,A]),w=(0,s.hb)(e=>{A({type:"changePostCode",payload:e.target.value})},[A]),k=(0,s.hb)(e=>{A({type:"changeFullName",payload:e.target.value})},[A]),N=(0,s.hb)(e=>{A({type:"changeEmail",payload:e.target.value})},[A]),I=(0,s.hb)(e=>{let{value:t}=e.target;t=`+${t.replace(/\D/g,"")}`,y.current&&(y.current.value=t),A({type:"changePhone",payload:t})},[A]),P=(0,s.hb)(e=>{A({type:"changeSaveInfo",payload:e.target.value})},[A]),{formErrors:M}=e;return s.Ay.createElement("div",{className:"ShippingInfo"},s.Ay.createElement("form",null,m?s.Ay.createElement("div",null,s.Ay.createElement("h5",null,v("PaymentShippingAddress")),s.Ay.createElement(c.A,{ref:h,label:v("PaymentShippingAddress1Placeholder"),onChange:E,value:e.streetLine1,inputMode:"text",tabIndex:0,error:M.streetLine1&&g.withRegular(M.streetLine1)}),s.Ay.createElement(c.A,{label:v("PaymentShippingAddress2Placeholder"),onChange:b,value:e.streetLine2,inputMode:"text",tabIndex:0,error:M.streetLine2&&g.withRegular(M.streetLine2)}),s.Ay.createElement(c.A,{label:v("PaymentShippingCityPlaceholder"),onChange:f,value:e.city,inputMode:"text",tabIndex:0,error:M.city&&g.withRegular(M.city)}),s.Ay.createElement(c.A,{label:v("PaymentShippingStatePlaceholder"),onChange:C,value:e.state,inputMode:"text",error:M.state&&g.withRegular(M.state)}),s.Ay.createElement(d.A,{label:v("PaymentShippingCountry"),onChange:S,value:e.countryIso2,hasArrow:Boolean(!0),id:"shipping-country",error:M.countryIso2&&g.withRegular(M.countryIso2),ref:p,tabIndex:0},u.map(({defaultName:t,name:a,iso2:n})=>s.Ay.createElement("option",{value:n,className:"county-item",selected:n===e.countryIso2},t||a))),s.Ay.createElement(c.A,{label:v("PaymentShippingZipPlaceholder"),onChange:w,value:e.postCode,inputMode:"text",tabIndex:0,error:M.postCode&&g.withRegular(M.postCode)})):void 0,n||t||a?s.Ay.createElement("h5",null,v("PaymentShippingReceiver")):void 0,n&&s.Ay.createElement(c.A,{label:v("PaymentShippingName"),onChange:k,value:e.fullName,inputMode:"text",tabIndex:0,error:M.fullName&&g.withRegular(M.fullName)}),t&&s.Ay.createElement(c.A,{label:v("PaymentShippingEmailPlaceholder"),onChange:N,value:e.email,inputMode:"email",tabIndex:0,error:M.email&&g.withRegular(M.email)}),a&&s.Ay.createElement(c.A,{label:v("PaymentShippingPhoneNumber"),onChange:I,value:e.phone,inputMode:"tel",tabIndex:0,error:M.phone&&g.withRegular(M.phone),ref:y}),s.Ay.createElement(l.A,{label:v("PaymentShippingSave"),subLabel:v("PaymentShippingSaveInfo"),checked:Boolean(e.saveInfo),tabIndex:0,onChange:P})))},A=(0,s.ph)(u);n()}catch(e){n(e)}})},89699:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.d(t,{A:()=>h});var s=a(84051),o=a(13439),r=a(11780),i=a(73039),l=a(64493),c=a(40664),d=a(8410),m=a(44759),u=e([l,c,d]);[l,c,d]=u.then?(await u)():u;const A=({modal:e})=>{const{closeInviteCodeModal:t}=(0,o.ko)(),[a,n]=(0,s.J0)(""),[u,A]=(0,s.J0)(!1),[h,y]=(0,s.J0)("");if(e?.isOpen)return s.Ay.createElement(d.A,{isOpen:e.isOpen,onClose:()=>{},className:m.A.modal},s.Ay.createElement("div",{className:m.A.container},s.Ay.createElement("div",{className:m.A.header},s.Ay.createElement("img",{src:r,alt:""})),s.Ay.createElement("div",{className:m.A.content},s.Ay.createElement("h3",{className:m.A.title},"Invitation Code"),s.Ay.createElement(c.A,{value:a,onChange:e=>{n(e.target.value)},placeholder:"Please enter the invitation code",className:m.A.input}),s.Ay.createElement("div",{className:m.A.error},h),s.Ay.createElement("div",{className:m.A.actions},s.Ay.createElement(l.A,{onClick:()=>{if(a.trim()){A(!0);try{(0,i.V)(a).then(e=>{0===e.code?(t(),y("")):(console.log("Failed to submit invite code:",e),y(e.error))})}catch(e){console.error("Failed to submit invite code:",e)}finally{A(!1)}}},disabled:!a.trim()||u,className:m.A.submitButton,noForcedUpperCase:!0},u?"Confirm...":"Confirm")))))},h=(0,s.ph)(A);n()}catch(e){n(e)}})},90205:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.d(t,{A:()=>b});var s=a(84051),o=a(13439),r=a(90709),i=a(60919),l=a(87357),c=a(32625),d=a(39351),m=a(17712),u=a(59030),A=a(99952),h=a(64493),y=a(8410),p=a(42381),v=e([d,u,A,h,y]);[d,u,A,h,y]=v.then?(await v)():v;const g=3200,E=({modal:e,currentUser:t,stickerSet:a,isPremium:n,isAccountFrozen:i})=>{const{closeEmojiStatusAccessModal:v,toggleUserEmojiStatusPermission:E,sendWebAppEvent:b,openPremiumModal:f,loadDefaultStatusIcons:C}=(0,o.ko)(),S=Boolean(e),w=(0,u.A)(),k=(0,d.A)(),N=(0,s.li)(),[I,P]=(0,s.J0)(0);(0,s.vJ)(()=>{!S||a?.stickers||i||C()},[S,a,i]);const M=(0,s.Kr)(()=>{if(t&&a?.stickers)return{...t,emojiStatus:{type:"regular",documentId:a.stickers[I].id}}},[t,a,I]),T=a?.stickers?.length;(0,c.A)(()=>{T&&P(e=>(e+1)%T)},T?g:void 0);const B=(0,m.A)(()=>s.Ay.createElement(A.A,{withEmojiStatus:!0,className:p.A.chatItem,itemClassName:p.A.itemName,mockPeer:M})),x=(0,m.A)(()=>{e?.bot?.id&&(v(),e?.webAppKey&&(n?(b({webAppKey:e.webAppKey,event:{eventType:"emoji_status_access_requested",eventData:{status:"allowed"}}}),E({botId:e.bot.id,isEnabled:!0,isBotAccessEmojiGranted:!0})):(f(),b({webAppKey:e.webAppKey,event:{eventType:"emoji_status_access_requested",eventData:{status:"cancelled"}}}))))}),L=(0,m.A)(()=>{e?.bot?.id&&(v(),e?.webAppKey&&b({webAppKey:e.webAppKey,event:{eventType:"emoji_status_access_requested",eventData:{status:"cancelled"}}}),n&&E({botId:e.bot.id,isEnabled:!1}))}),R=(0,m.A)(()=>{if(e?.bot)return k("EmojiStatusAccessText",{name:(0,r.Yg)(e?.bot)},{withNodes:!0,withMarkdown:!0})});return s.Ay.createElement(y.A,{className:(0,l.A)("confirm"),contentClassName:p.A.content,isOpen:S,onClose:L},B(),s.Ay.createElement("div",null,R(),s.Ay.createElement("div",{className:"dialog-buttons mt-2",ref:N},s.Ay.createElement(h.A,{className:"confirm-dialog-button",isText:!0,onClick:x,color:"primary"},w("lng_bot_allow_write_confirm")),s.Ay.createElement(h.A,{className:"confirm-dialog-button",isText:!0,onClick:L},k("Cancel")))))},b=(0,s.ph)((0,o.EK)(e=>{const t=(0,i.mBe)(e,e.currentUserId),a=(0,i.g29)(e);return{currentUser:t,stickerSet:e.defaultStatusIconsId?(0,i.ycM)(e,e.defaultStatusIconsId):void 0,isPremium:a,isAccountFrozen:(0,i.trm)(e)}})(E));n()}catch(e){n(e)}})},90527:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.d(t,{A:()=>Z});var s=a(84051),o=a(13439),r=a(31481),i=a(90709),l=a(60919),c=a(64520),d=a(87357),m=a(17142),u=a(66833),A=a(76023),h=a(4961),y=a(15384),p=a(39351),v=a(17712),g=a(59030),E=a(35297),b=a(46402),f=a(54746),C=a(52165),S=a(64493),w=a(8410),k=a(41036),N=a(21454),I=a(78620),P=a(77609),M=a(32743),T=a(59915),B=a(2936),x=a(66024),L=a(1791),R=a(94455),F=a(46113),D=a(41314),V=a(19871),_=a(62596),U=a(68921),O=a(2976),J=a(9021),K=a(19735),G=a(13824),j=a(49103),z=a(85772),H=a(55987),$=e([y,p,g,b,C,S,w,N,I,P]);[y,p,g,b,C,S,w,N,I,P]=$.then?(await $)():$;const q=4,W=8*A.$,Y={stories:J,double_limits:V,infinite_reactions:U,premium_stickers:K,animated_emoji:R,no_ads:T,voice_to_text:H,profile_badge:B,faster_download:O,more_upload:F,advanced_chat_management:x,animated_userpics:z,emoji_status:J,translations:j,saved_tags:G,last_seen:D,message_privacy:_,effects:L,todo:B},Q=({isOpen:e,currentUserId:t,fromUser:a,fromUserStatusEmoji:n,fromUserStatusSet:l,promo:c,initialSection:A,isPremium:T,limitChannels:B,limitLinks:x,limitFolders:L,limitPins:R,limits:F,premiumSlug:D,premiumBotUsername:V,isSuccess:_,isGift:U,toUser:O,monthsAmount:J,premiumPromoOrder:K,gift:G})=>{const j=(0,s.li)(),{closePremiumModal:z,openInvoice:H,requestConfetti:$,openTelegramLink:Q,loadStickers:Z,openStickerSet:X}=(0,o.ko)(),ee=(0,g.A)(),te=(0,p.A)(),[ae,ne]=(0,s.J0)(!0),[se,oe]=(0,s.J0)(A),[re,ie]=(0,s.J0)();(0,s.vJ)(()=>{e?A&&oe(A):(ne(!0),oe(void 0))},[e,A]);const le=(0,v.A)(e=>{oe(e)}),ce=(0,v.A)(()=>{oe(void 0)}),de=(0,v.A)(e=>{j.current&&(D?H({type:"slug",slug:D}):V&&(Q({url:`${r.jsp}${V}?start=${e||"promo"}`}),z()))}),me=(0,v.A)(()=>{re?de(String(re.months)):de()}),ue=(0,v.A)(e=>{const t=c?.options.find(t=>t.months===e);ie(t)}),Ae=(0,v.A)(()=>{const t=j.current;if(t&&e){const{top:e,left:a,width:n,height:s}=t.querySelector(".modal-content").getBoundingClientRect();$({top:e,left:a,width:n,height:s,withStars:!0})}});(0,s.vJ)(()=>{_&&Ae()},[_,Ae]),(0,E.A)(([e])=>{e!==T&&Ae()},[T,Ae]);const he=(0,s.Kr)(()=>K?K.filter(e=>r.O2i.includes(e)):r.O2i,[K]);(0,s.vJ)(()=>{n&&!l&&Z({stickerSetInfo:n.stickerSetInfo})},[Z,n,l]),(0,s.vJ)(()=>{const[e]=c?.options??[];ie(e)},[c]);const ye=(0,v.A)(()=>{l&&X({stickerSetInfo:l})}),pe=(0,s.Kr)(()=>{const e=c?.options.find(e=>1===e.months);if(e)return Number(e.amount)},[c]),ve=(0,s.Kr)(()=>{if(!re)return;const{amount:e,months:t,currency:a}=re,n=Math.floor(e/t);return(0,m.vv)(te,n,a)},[re,te]);if(c&&(!n||l))return s.Ay.createElement(w.A,{className:M.A.root,onClose:z,isOpen:e,dialogRef:j},s.Ay.createElement(k.Ay,{name:"slide",activeKey:se?1:0,className:M.A.transition},se?s.Ay.createElement(I.Ay,{initialSection:se,onBack:ce,promo:c,onClickSubscribe:de,isPremium:T,limits:F,premiumPromoOrder:K,subscriptionOption:re}):s.Ay.createElement("div",{className:(0,d.A)(M.A.main,"custom-scroll"),onScroll:function(e){const{scrollTop:t}=e.currentTarget;ne(t<=150)}},s.Ay.createElement(S.A,{round:!0,size:"smaller",className:M.A.closeButton,color:"translucent",onClick:()=>z(),ariaLabel:ee("Close")},s.Ay.createElement(f.A,{name:"close"})),function(){if(G){const e=(0,u.yQ)(G);return s.Ay.createElement(C.A,{model:"sticker",sticker:e,color:"purple",title:ge(),description:(0,h.A)(Ee(),["simple_markdown","emoji"]),className:M.A.giftParticlesHeader})}return n?s.Ay.createElement(s.Ay.Fragment,null,s.Ay.createElement(b.A,{className:M.A.statusEmoji,onClick:ye,documentId:n.id,isBig:!0,size:W}),s.Ay.createElement("h2",{className:(0,d.A)(M.A.headerText,l&&M.A.stickerSetText)},ge()),s.Ay.createElement("div",{className:M.A.description},(0,h.A)(Ee(),["simple_markdown","emoji"]))):s.Ay.createElement(C.A,{model:"swaying-star",color:"purple",title:ge(),description:(0,h.A)(Ee(),["simple_markdown","emoji"]),className:M.A.starParticlesHeader})}(),!T&&!U&&s.Ay.createElement("div",{className:M.A.subscriptionOptions},c?.options.map(e=>s.Ay.createElement(P.A,{className:M.A.subscriptionOption,key:e.amount,option:e,onChange:ue,fullMonthlyAmount:pe,checked:re?.months===e.months}))),s.Ay.createElement("div",{className:(0,d.A)(M.A.header,ae&&M.A.hiddenHeader)},s.Ay.createElement("h2",{className:M.A.premiumHeaderText},ee("TelegramPremium"))),s.Ay.createElement("div",{className:(0,d.A)(M.A.list,T&&M.A.noButton)},he.map((e,t)=>{const a="todo"===e;return s.Ay.createElement(N.A,{key:e,title:a?te(I.X_[e]):ee(I.X_[e]),text:"double_limits"===e?ee(I.NR[e],[B,L,R,x,q]):a?te(I.NR[e]):ee(I.NR[e]),icon:Y[e],index:t,count:he.length,section:e,onClick:le})}),s.Ay.createElement("div",{className:(0,d.A)(M.A.footerText,M.A.primaryFooterText),dir:ee.isRtl?"rtl":void 0},s.Ay.createElement("p",null,(0,h.A)(ee("AboutPremiumDescription"),["simple_markdown"])),s.Ay.createElement("p",null,(0,h.A)(ee("AboutPremiumDescription2"),["simple_markdown"]))),function(){if(c&&(!U||a?.id!==t))return s.Ay.createElement("div",{className:M.A.footerText,dir:ee.isRtl?"rtl":void 0},(0,y.fd)({text:c.statusText,entities:c.statusEntities}))}()),!T&&re&&s.Ay.createElement("div",{className:M.A.footer},s.Ay.createElement(S.A,{className:M.A.button,isShiny:!0,withPremiumGradient:!0,onClick:me},ee("SubscribeToPremium",ve))))));function ge(){if(G)return te("PremiumGiftHeader");if(U)return(0,h.A)(a?.id===t?ee("TelegramPremiumUserGiftedPremiumOutboundDialogTitle",[(0,i.Yg)(O),J]):ee("TelegramPremiumUserGiftedPremiumDialogTitle",[(0,i.Yg)(a),J]),["simple_markdown","emoji"]);if(l&&a){const e=ee("lng_premium_emoji_status_title").replace("{user}",(0,i.Yg)(a)),[t,n]=e.split("{link}"),o=l.thumbCustomEmojiId?s.Ay.createElement(b.A,{className:M.A.stickerSetLinkIcon,documentId:l.thumbCustomEmojiId}):void 0,r=s.Ay.createElement("span",{className:M.A.stickerSetLink,onClick:ye},o,(0,h.A)(l.title));return[(0,h.A)(t),r,(0,h.A)(n)]}return(0,h.A)(a?ee("TelegramPremiumUserDialogTitle",(0,i.Yg)(a)):ee(T?"TelegramPremiumSubscribedTitle":"TelegramPremium"),["simple_markdown","emoji"])}function Ee(){if(G){const e="starGiftUnique"!==G.type?G.perUserTotal:0;return te("DescriptionGiftPremiumRequired",{count:e})}return U?a?.id===t?ee("TelegramPremiumUserGiftedPremiumOutboundDialogSubtitle",(0,i.Yg)(O)):ee("TelegramPremiumUserGiftedPremiumDialogSubtitle"):ee(l?"TelegramPremiumUserStatusDialogSubtitle":a?"TelegramPremiumUserDialogSubtitle":T?"TelegramPremiumSubscribedSubtitle":"TelegramPremiumSubtitle")}},Z=(0,s.ph)((0,o.EK)(e=>{const{premiumModal:t}=(0,l.nTw)(e),a=t?.fromUserId?(0,l.mBe)(e,t.fromUserId):void 0,n=a?.emojiStatus?e.customEmojis.byId[a.emojiStatus.documentId]:void 0,s=n?(0,l.ycM)(e,n.stickerSetInfo):void 0;return{currentUserId:e.currentUserId,promo:t?.promo,isSuccess:t?.isSuccess,isGift:t?.isGift,monthsAmount:t?.monthsAmount,gift:t?.gift,fromUser:a,fromUserStatusEmoji:n,fromUserStatusSet:s,toUser:t?.toUserId?(0,l.mBe)(e,t.toUserId):void 0,initialSection:t?.initialSection,isPremium:(0,l.g29)(e),limitChannels:(0,c.B)(e,"channels"),limitFolders:(0,c.B)(e,"dialogFilters"),limitPins:(0,c.B)(e,"dialogFolderPinned"),limitLinks:(0,c.B)(e,"channelsPublic"),limits:e.appConfig?.limits,premiumSlug:e.appConfig?.premiumInvoiceSlug,premiumBotUsername:e.appConfig?.premiumBotUsername,premiumPromoOrder:e.appConfig?.premiumPromoOrder}})(Q));n()}catch(e){n(e)}})},90884:(e,t,a)=>{a.d(t,{m:()=>p});var n=a(84051),s=a(31481),o=a(81954),r=a(76023),i=a(5912),l=a(17712),c=a(35297);const d=200,m=100,u=350+s.xB5,A=200,h=80,y=.5*r.$;function p(e,t,a,s){const r=(0,n.li)([]),[p,v]=(0,n.J0)(0),{observe:g,freeze:E,unfreeze:b}=(0,i.BL)({rootRef:e},e=>{const t=r.current;e.forEach(e=>{const n=Number(e.target.id.replace(`${a}-`,""));t[n]=e.isIntersecting});const n=t.reduce((e,t,a)=>t&&a<e?a:e,1/0);n!==1/0&&v(n)}),{observe:f,freeze:C,unfreeze:S}=(0,i.BL)({rootRef:e,throttleMs:d,margin:m}),{observe:w}=(0,i.BL)({rootRef:e,throttleMs:d,margin:m}),{observe:k}=(0,i.BL)({rootRef:t});return(0,c.A)(()=>{s?(E(),C()):setTimeout(()=>{S(),b()},u)},[E,C,s,b,S]),{activeSetIndex:p,observeIntersectionForSet:g,observeIntersectionForShowingItems:f,observeIntersectionForPlayingItems:w,observeIntersectionForCovers:k,selectStickerSet:(0,l.A)(t=>{v(n=>{const s=document.getElementById(`${a}-${t}`),r=1===Math.abs(n-t);return(0,o.Ay)({container:e.current,element:s,position:"start",margin:y,maxDistance:r?A:h}),t})})}}},91129:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.d(t,{A:()=>b});var s=a(84051),o=a(13439),r=a(89925),i=a(90709),l=a(60919),c=a(87357),d=a(14),m=a(17712),u=a(59030),A=a(50680),h=a(55378),y=a(84555),p=a(64493),v=a(58709),g=e([u,h,y,p]);[u,h,y,p]=g.then?(await g)():g;const E=({modal:e})=>{const{closeOneTimeMediaModal:t}=(0,o.ko)(),a=(0,u.A)(),n=(0,d.A)(e?.message,!0),{shouldRender:g,transitionClassNames:E}=(0,A.A)(Boolean(e)),b=(0,m.A)(()=>{}),f=(0,m.A)(()=>{t()});if(!g||!n)return;const C=(0,i.Ie)(n),S=(0,l.SJA)((0,o.mS)()),w=a(C?"Chat.Voice.Single.Close":"Chat.Voice.Single.DeleteAndClose");return s.Ay.createElement("div",{className:(0,c.A)(v.A.root,E)},function(){if(!n?.content)return;const{voice:e,video:t}=n.content;return e?s.Ay.createElement(h.Ay,{className:v.A.voice,theme:S,message:n,origin:r.d9.OneTimeModal,autoPlay:!0,onPlay:b,onPause:f}):t?.isRound?s.Ay.createElement(y.A,{className:v.A.video,message:n,origin:"oneTimeModal",onStop:f}):void 0}(),s.Ay.createElement("div",{className:v.A.footer},s.Ay.createElement(p.A,{faded:!0,onClick:f,pill:!0,size:"smaller",color:"dark"===S?"dark":"secondary",className:v.A.closeBtn},w)))},b=(0,s.ph)(E);n()}catch(e){n(e)}})},91202:(e,t,a)=>{a.d(t,{A:()=>n});const n={menu:"gBh4WvBC",menuContent:"qSfKwMzX",storyMenu:"srpBMrqr",onlyReactions:"dRNSqkOC",hidden:"KVwgF6DG"}},91261:(e,t,a)=>{a.d(t,{A:()=>n});const n={root:"m6XpTzQX",video:"OZHqKbDL",image:"enA6c8gc"}},91634:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.d(t,{A:()=>v});var s=a(84051),o=a(13439),r=a(31481),i=a(87357),l=a(48862),c=a(17712),d=a(59030),m=a(22109),u=a(82004),A=e([d,m]);[d,m]=A.then?(await A)():A;const h=["af","als","am","an","ar","arz","as","ast","av","az","azb","ba","bar","bcl","be","bg","bh","bn","bo","bpy","br","bs","bxr","ca","cbk","ce","ceb","ckb","co","cs","cv","cy","da","de","diq","dsb","dty","dv","el","eml","en","eo","es","et","eu","fa","fi","fr","frr","fy","ga","gd","gl","gn","gom","gu","gv","he","hi","hif","hr","hsb","ht","hu","hy","ia","id","ie","ilo","io","is","it","ja","jbo","jv","ka","kk","km","kn","ko","krc","ku","kv","kw","ky","la","lb","lez","li","lmo","lo","lrc","lt","lv","mai","mg","mhr","min","mk","ml","mn","mr","mrj","ms","mt","mwl","my","myv","mzn","nah","nap","nds","ne","new","nl","nn","no","oc","or","os","pa","pam","pfl","pl","pms","pnb","ps","pt","qu","rm","ro","ru","rue","sa","sah","sc","scn","sco","sd","sh","si","sk","sl","so","sq","sr","su","sv","sw","ta","te","tg","th","tk","tl","tr","tt","tyv","ug","uk","ur","uz","vec","vep","vi","vls","vo","wa","war","wuu","xal","xmf","yi","yo","yue","zh"],y=r.N89.filter(e=>h.includes(e)),p=({autoTranslateLanguage:e})=>{const{setSettingOption:t}=(0,o.ko)(),a=(0,d.A)().code||"en",[n,r]=(0,s.J0)(e),[A,h]=(0,s.J0)(""),p=(0,s.Kr)(()=>{const e=y.map(e=>({langCode:e,translatedName:new Intl.DisplayNames([a],{type:"language"}).of(e),originalName:new Intl.DisplayNames([e],{type:"language"}).of(e)})).filter(Boolean).map(({langCode:e,translatedName:t,originalName:a})=>({label:t,subLabel:a,value:e}));if(!A.trim()){const t=e.find(e=>e.value===a),n=e.filter(e=>e.value!==a);return t?[t,...n]:e}return e?.filter(e=>e.label.toLowerCase().includes(A.toLowerCase()))},[a,A]),v=(0,c.A)(e=>{r(e),t({autoTranslateLanguage:e,translationLanguage:e}),l.Hk.setSettingOption({autotranslatelanguage:e})});return s.Ay.createElement("div",{className:(0,i.A)(u.A.root,"settings-content infinite-scroll")},s.Ay.createElement("div",{className:(0,i.A)(u.A.item)},s.Ay.createElement(m.A,{className:u.A.picker,items:p,selectedValue:n,onSelectedValueChange:v,filterValue:A,onFilterChange:h,isSearchable:!1,allowMultiple:!1,withDefaultPadding:!0,itemInputType:"radio",searchInputId:"lang-picker-search"})))},v=(0,s.ph)((0,o.EK)(e=>{const{autoTranslateLanguage:t}=e.settings.byKey;return{autoTranslateLanguage:t}})(p));n()}catch(e){n(e)}})},92033:(e,t,a)=>{a.d(t,{A:()=>s});var n=a(84051);const s=e=>{const t=(0,n.li)(),a=(0,n.hb)(a=>{"Enter"===a.key&&t.current===document.activeElement&&e()},[e]);return(0,n.vJ)(()=>(window.addEventListener("keydown",a,!1),()=>window.removeEventListener("keydown",a,!1)),[a]),t}},92418:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.d(t,{A:()=>p});var s=a(84051),o=a(87357),r=a(48775),i=a(39351),l=a(17712),c=a(54746),d=e([i]),m=d.then?(await d)():d;i=m[0];const u=[50,100,500,1e3,2e3,5e3,1e4],A=({min:e=0,max:t,value:a,disabled:n,readOnly:d,bold:m,className:A,defaultValue:p,onChange:v,canChangeChargeForMessages:g})=>{const E=(0,i.A)(),b=(0,s.Kr)(()=>{const e=[];for(let a=0;a<u.length;a++)if(u[a]<t&&e.push(u[a]),u[a]>=t){e.push(t);break}return e},[t]),f=(0,l.A)(e=>{const t=Number(e.currentTarget.value);v(y(b,t))}),C=(0,o.A)(A,"RangeSlider",n&&"disabled",d&&"readOnly",m&&"bold");return s.Ay.createElement("div",{className:C},s.Ay.createElement("div",{className:"slider-top-row",dir:E.isRtl?"rtl":void 0},s.Ay.createElement("span",{className:"value-min",dir:"auto"},E.number(e)),s.Ay.createElement("span",{className:"settings-range-value"},!g&&s.Ay.createElement(c.A,{name:"lock-badge"}),(0,r.Kk)(E,y(b,h(b,a)))),s.Ay.createElement("span",{className:"value-max",dir:"auto"},E.number(t))),s.Ay.createElement("div",{className:"slider-main"},s.Ay.createElement("div",{className:"slider-fill-track",style:`width: ${h(b,a)/b.length*100}%`}),s.Ay.createElement("input",{min:0,max:b.length,defaultValue:h(b,p),step:"any",type:"range",className:"RangeSlider__input",onChange:f})))};function h(e,t){const a=e.findIndex(e=>t<=e),n=e[a-1]||1,s=e[a]||e[e.length-1];return a+(t-n)/(s-n)}function y(e,t){const a=Math.floor(t),n=e[a-1]||1,s=n+((e[a]||e[e.length-1])-n)*(t-a);return s<100?Math.round(s):10*Math.round(s/10)}const p=(0,s.ph)(A);n()}catch(v){n(v)}})},92543:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.d(t,{A:()=>p});var s=a(84051),o=a(13439),r=a(31481),i=a(90709),l=a(70636),c=a(60919),d=a(87894),m=a(79582),u=a(14),A=a(46652),h=e([l,A]);[l,A]=h.then?(await h)():h;const y=({isOpen:e,currentUserId:t,activeListIds:a,archivedListIds:n,pinnedIds:h,contactIds:y,filter:p=r.K_A,className:v,searchPlaceholder:g,loadMore:E,onSelectRecipient:b,onClose:f,onCloseAnimationEnd:C,isLowStackPriority:S,isForwarding:w})=>{const[k,N]=(0,s.J0)(""),I=(0,s.Kr)(()=>{if(!e)return;let s=h||[];t&&(s=(0,d.Am)([t,...s]));const r=(0,o.mS)(),u=[...a||[],...k&&n||[]].filter(e=>{const t=(0,c.hds)(r,e),a=(0,c.mBe)(r,e),n=t&&(0,i.ub)(t,"postMessages"),s=t&&(0,i.WX)(t);if(w&&s&&!n)return!1;if(a&&!(0,i.PL)(a))return!0;if(!t)return!1;if(t.isMonoforum&&(0,c.ODG)(r,e))return!1;const o=(0,c.AWZ)(r,e);return!o||(0,i.__)(t,void 0,void 0,o)}),A=(0,m.A)((0,l.PU)({ids:(0,d.Am)([...t?[t]:[],...u,...y||[]]),query:k}),void 0,s,t);return(0,c.yMZ)(r,A,p)},[e,h,t,a,k,n,y,p,w]),P=(0,u.A)(I,!0);return s.Ay.createElement(A.A,{isOpen:e,className:v,chatOrUserIds:P,currentUserId:t,searchPlaceholder:g,search:k,onSearchChange:N,loadMore:E,onSelectChatOrUser:b,onClose:f,onCloseAnimationEnd:C,isLowStackPriority:S})},p=(0,s.ph)((0,o.EK)(e=>{const{chats:{listIds:t,orderedPinnedIds:a},currentUserId:n}=e;return{activeListIds:t.active,archivedListIds:t.archived,pinnedIds:a.active,contactIds:e.contactList?.userIds,currentUserId:n}})(y));n()}catch(e){n(e)}})},92612:(e,t,a)=>{a.d(t,{A:()=>n});const n={root:"Ot0dA1yZ",wrapper:"yxSAGAc1",down:"Jcy6cDoc",frame:"Vn81yTTJ",video:"rrVJClLL"}},92713:(e,t,a)=>{a.d(t,{A:()=>n});const n={avatars:"CGPoDaLo",arrow:"pzERgD5x"}},93122:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.d(t,{A:()=>g});var s=a(84051),o=a(13439),r=a(89925),i=a(43874),l=a(39351),c=a(61340),d=a(59030),m=a(54746),u=a(64493),A=a(94189),h=a(22699),y=a(24433),p=e([l,d,u,A,h,y]);[l,d,u,A,h,y]=p.then?(await p)():p;const v=({currentScreen:e,editedFolderId:t,onReset:a})=>{const{signOut:n,openDeleteChatFolderModal:p,openSettingsScreen:v}=(0,o.ko)(),{isMobile:g}=(0,i.Ay)(),[E,b]=(0,s.J0)(!1),f=(0,c.A)(5,()=>{v({screen:r.VS.Experimental})}),C=(0,s.hb)(()=>{b(!0)},[]),S=(0,s.hb)(()=>{b(!1)},[]),w=(0,s.hb)(()=>{t&&p({folderId:t})},[t,p]),k=(0,s.hb)(()=>{S(),n({forceInitApi:!0})},[S,n]),N=(0,s.Kr)(()=>({onTrigger:e,isOpen:t})=>s.Ay.createElement(u.A,{round:!0,ripple:!g,size:"smaller",color:"translucent",className:t?"active":"",onClick:e,ariaLabel:"More actions"},s.Ay.createElement(m.A,{name:"more"})),[g]),I=(0,d.A)(),P=(0,l.A)();return s.Ay.createElement("div",{className:"left-header"},s.Ay.createElement(u.A,{round:!0,size:"smaller",color:"translucent",onClick:a,ariaLabel:I("AccDescrGoBack")},s.Ay.createElement(m.A,{name:"arrow-left"})),function(){switch(e){case r.VS.EditProfile:return s.Ay.createElement("h3",null,I("lng_settings_information"));case r.VS.General:return s.Ay.createElement("h3",null,I("General"));case r.VS.QuickReaction:return s.Ay.createElement("h3",null,I("DoubleTapSetting"));case r.VS.CustomEmoji:return s.Ay.createElement("h3",null,I("Emoji"));case r.VS.Notifications:return s.Ay.createElement("h3",null,I("Notifications"));case r.VS.DataStorage:return s.Ay.createElement("h3",null,I("DataSettings"));case r.VS.Privacy:return s.Ay.createElement("h3",null,I("PrivacySettings"));case r.VS.Language:return s.Ay.createElement("h3",null,I("Language"));case r.VS.DoNotTranslate:return s.Ay.createElement("h3",null,I("DoNotTranslate"));case r.VS.Stickers:return s.Ay.createElement("h3",null,I("StickersName"));case r.VS.Experimental:return s.Ay.createElement("h3",null,I("lng_settings_experimental"));case r.VS.GeneralChatBackground:return s.Ay.createElement("h3",null,I("ChatBackground"));case r.VS.GeneralChatBackgroundColor:return s.Ay.createElement("h3",null,I("SetColor"));case r.VS.PrivacyPhoneNumber:return s.Ay.createElement("h3",null,I("PrivacyPhone"));case r.VS.PrivacyLastSeen:return s.Ay.createElement("h3",null,I("PrivacyLastSeen"));case r.VS.PrivacyProfilePhoto:return s.Ay.createElement("h3",null,I("Privacy.ProfilePhoto"));case r.VS.PrivacyBio:return s.Ay.createElement("h3",null,I("PrivacyBio"));case r.VS.PrivacyBirthday:return s.Ay.createElement("h3",null,I("PrivacyBirthday"));case r.VS.PrivacyGifts:return s.Ay.createElement("h3",null,P("PrivacyGifts"));case r.VS.PrivacyForwarding:return s.Ay.createElement("h3",null,I("PrivacyForwards"));case r.VS.PrivacyVoiceMessages:return s.Ay.createElement("h3",null,I("PrivacyVoiceMessages"));case r.VS.PrivacyMessages:return s.Ay.createElement("h3",null,I("PrivacyMessages"));case r.VS.PrivacyGroupChats:return s.Ay.createElement("h3",null,I("AutodownloadGroupChats"));case r.VS.PrivacyPhoneCall:return s.Ay.createElement("h3",null,I("Calls"));case r.VS.PrivacyLastSeenAllowedContacts:case r.VS.PrivacyProfilePhotoAllowedContacts:case r.VS.PrivacyBioAllowedContacts:case r.VS.PrivacyGroupChatsAllowedContacts:return s.Ay.createElement("h3",null,I("AlwaysShareWith"));case r.VS.PrivacyLastSeenDeniedContacts:case r.VS.PrivacyProfilePhotoDeniedContacts:case r.VS.PrivacyBioDeniedContacts:case r.VS.PrivacyGroupChatsDeniedContacts:return s.Ay.createElement("h3",null,I("NeverShareWith"));case r.VS.PrivacyPhoneNumberAllowedContacts:case r.VS.PrivacyBirthdayAllowedContacts:case r.VS.PrivacyGiftsAllowedContacts:case r.VS.PrivacyForwardingAllowedContacts:case r.VS.PrivacyVoiceMessagesAllowedContacts:case r.VS.PrivacyPhoneCallAllowedContacts:case r.VS.PrivacyPhoneP2PAllowedContacts:return s.Ay.createElement("h3",null,I("AlwaysAllow"));case r.VS.PrivacyPhoneNumberDeniedContacts:case r.VS.PrivacyBirthdayDeniedContacts:case r.VS.PrivacyGiftsDeniedContacts:case r.VS.PrivacyForwardingDeniedContacts:case r.VS.PrivacyVoiceMessagesDeniedContacts:case r.VS.PrivacyPhoneCallDeniedContacts:case r.VS.PrivacyPhoneP2PDeniedContacts:return s.Ay.createElement("h3",null,I("NeverAllow"));case r.VS.PrivacyNoPaidMessages:return s.Ay.createElement("h3",null,P("RemoveFeeTitle"));case r.VS.Performance:return s.Ay.createElement("h3",null,P("MenuAnimations"));case r.VS.ActiveSessions:return s.Ay.createElement("h3",null,I("SessionsTitle"));case r.VS.ActiveWebsites:return s.Ay.createElement("h3",null,I("OtherWebSessions"));case r.VS.PrivacyBlockedUsers:return s.Ay.createElement("h3",null,I("BlockedUsers"));case r.VS.TwoFaDisabled:case r.VS.TwoFaEnabled:return s.Ay.createElement("h3",null,I("TwoStepVerification"));case r.VS.TwoFaNewPassword:case r.VS.TwoFaChangePasswordNew:case r.VS.TwoFaChangePasswordConfirm:return s.Ay.createElement("h3",null,I("PleaseEnterCurrentPassword"));case r.VS.TwoFaNewPasswordConfirm:return s.Ay.createElement("h3",null,I("PleaseReEnterPassword"));case r.VS.TwoFaNewPasswordHint:case r.VS.TwoFaChangePasswordHint:return s.Ay.createElement("h3",null,I("PasswordHint"));case r.VS.TwoFaNewPasswordEmail:case r.VS.TwoFaRecoveryEmail:return s.Ay.createElement("h3",null,I("RecoveryEmailTitle"));case r.VS.TwoFaNewPasswordEmailCode:case r.VS.TwoFaRecoveryEmailCode:return s.Ay.createElement("h3",null,"Recovery Email Code");case r.VS.TwoFaCongratulations:return s.Ay.createElement("h3",null,I("TwoStepVerificationPasswordSet"));case r.VS.TwoFaChangePasswordCurrent:case r.VS.TwoFaTurnOff:case r.VS.TwoFaRecoveryEmailCurrentPassword:return s.Ay.createElement("h3",null,I("PleaseEnterCurrentPassword"));case r.VS.PasscodeDisabled:case r.VS.PasscodeEnabled:case r.VS.PasscodeNewPasscode:case r.VS.PasscodeNewPasscodeConfirm:case r.VS.PasscodeCongratulations:return s.Ay.createElement("h3",null,I("Passcode"));case r.VS.PasscodeTurnOff:return s.Ay.createElement("h3",null,I("PasscodeController.Disable.Title"));case r.VS.PasscodeChangePasscodeCurrent:case r.VS.PasscodeChangePasscodeNew:return s.Ay.createElement("h3",null,I("PasscodeController.Change.Title"));case r.VS.PasscodeChangePasscodeConfirm:return s.Ay.createElement("h3",null,I("PasscodeController.ReEnterPasscode.Placeholder"));case r.VS.Folders:return s.Ay.createElement("h3",null,I("Filters"));case r.VS.FoldersCreateFolder:return s.Ay.createElement("h3",null,I("FilterNew"));case r.VS.FoldersShare:return s.Ay.createElement("h3",null,I("FolderLinkScreen.Title"));case r.VS.FoldersEditFolder:case r.VS.FoldersEditFolderFromChatList:case r.VS.FoldersEditFolderInvites:return s.Ay.createElement("div",{className:"settings-main-header"},s.Ay.createElement("h3",null,I("FilterEdit")),Boolean(t)&&s.Ay.createElement(h.A,{className:"settings-more-menu",trigger:N,positionX:"right"},s.Ay.createElement(y.A,{icon:"delete",destructive:!0,onClick:w},I("Delete"))));case r.VS.FoldersIncludedChats:case r.VS.FoldersIncludedChatsFromChatList:case r.VS.FoldersExcludedChats:case r.VS.FoldersExcludedChatsFromChatList:return s.Ay.createElement("h3",null,I(e===r.VS.FoldersIncludedChats||e===r.VS.FoldersIncludedChatsFromChatList?"FilterInclude":"FilterExclude"));default:return s.Ay.createElement("div",{className:"settings-main-header"},s.Ay.createElement("h3",{onClick:f},I("SETTINGS")),s.Ay.createElement(u.A,{round:!0,ripple:!g,size:"smaller",color:"translucent",onClick:()=>v({screen:r.VS.EditProfile}),ariaLabel:I("lng_settings_information")},s.Ay.createElement(m.A,{name:"edit"})),s.Ay.createElement(h.A,{className:"settings-more-menu",trigger:N,positionX:"right"},s.Ay.createElement(y.A,{icon:"logout",onClick:C},I("LogOutTitle"))))}}(),s.Ay.createElement(A.A,{isOpen:E,onClose:S,text:I("lng_sure_logout"),confirmLabel:I("AccountSettings.Logout"),confirmHandler:k,confirmIsDestructive:!0}))},g=(0,s.ph)(v);n()}catch(e){n(e)}})},93626:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.d(t,{A:()=>b});var s=a(84051),o=a(13439),r=a(96454),i=a(87357),l=a(52234),c=a(17712),d=a(36680),m=a(59030),u=a(56676),A=a(21849),h=a(35384),y=a(54746),p=a(22720),v=a(71429),g=e([m,A,h,p]);[m,A,h,p]=g.then?(await g)():g;const E=({isOpen:e,chatId:t,selectedSendAsId:a,sendAsPeerIds:n,isCurrentUserPremium:g,onClose:E})=>{const{saveDefaultSendAs:b,showNotification:f}=(0,o.ko)(),C=(0,o.mS)().users.byId,S=(0,o.mS)().chats.byId,w=(0,m.A)(),k=(0,s.li)(),[N,I,P]=(0,d.A)(e,E,void 0);(0,s.vJ)(()=>{e&&P()},[e,P]);const M=(0,c.A)(e=>{E(),b({chatId:t,sendAsId:e})}),T=(0,u.J)({isActive:e,items:n,onSelect:M,shouldSelectOnTab:!0,shouldSaveSelectionOnUpdateItems:!0,onClose:E});return(0,s.vJ)(()=>{(0,l.A)(".chat-item-clickable",T,k)},[T]),(0,s.vJ)(()=>{n&&!n.length&&E()},[n,E]),s.Ay.createElement(v.A,{isOpen:e,positionX:"left",positionY:"bottom",onClose:E,className:"SendAsMenu",onCloseAnimationEnd:E,onMouseEnter:r.TF?void 0:N,onMouseLeave:r.TF?void 0:I,noCloseOnBackdrop:!r.TF,noCompact:!0},s.Ay.createElement("div",{className:"send-as-title",dir:"auto"},w("SendMessageAsTitle")),C&&S&&n?.map(({id:e,isPremium:t},n)=>{const o=C[e],r=S[e],l=o||r,c=(0,i.A)(a===e&&"selected");return s.Ay.createElement(p.A,{key:e,className:"SendAsItem chat-item-clickable scroll-item with-avatar",onClick:()=>{!t||g?M(e):f({message:w("SelectSendAsPeerPremiumHint"),actionText:w("Open"),action:{action:"openPremiumModal",payload:{}}})},focus:T===n,rightElement:!g&&t&&s.Ay.createElement(y.A,{name:"lock-badge",className:"send-as-icon-locked"})},s.Ay.createElement(A.A,{size:"small",peer:l,className:c}),s.Ay.createElement("div",{className:"info"},l&&s.Ay.createElement(h.A,{peer:l,noFake:!0}),s.Ay.createElement("span",{className:"subtitle"},o?w("VoipGroupPersonalAccount"):w("Subscribers",r?.membersCount,"i"))))}))},b=(0,s.ph)(E);n()}catch(e){n(e)}})},93858:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.d(t,{A:()=>w});var s=a(84051),o=a(13439),r=a(31481),i=a(66644),l=a(60919),c=a(11778),d=a(14235),m=a(79824),u=a(14),A=a(39351),h=a(17712),y=a(54746),p=a(64493),v=a(19806),g=a(40664),E=a(8410),b=e([A,p,v,g,E]);[A,p,v,g,E]=b.then?(await b)():b;const f=320,C=100,S=({modal:e,maxItemsCount:t=r.gyE,maxTitleLength:a=r.B_P,maxItemLength:n=r.QU5,editingMessage:l,onSend:b,onClear:S})=>{const{editTodo:w,closeTodoListModal:k,appendTodoList:N}=(0,o.ko)(),I=(0,s.li)(),P=(0,s.li)(),[M,T]=(0,s.J0)(""),[B,x]=(0,s.J0)([{id:(0,d.t)(),text:""}]),[L,R]=(0,s.J0)(!0),[F,D]=(0,s.J0)(!0),[V,_]=(0,s.J0)(!1),U=(0,A.A)(),O=Boolean(e),J=(0,u.A)(e),K=J?.forNewTask&&!l?.isOutgoing,G=l?.content.todo?.todo,j=(0,s.Kr)(()=>K&&G?G.items.map(e=>({id:e.id,text:e.title.text,isDisabled:!0})):m.p,[K,G]),z=(0,h.A)(e=>{O&&e.current&&e.current.focus()});(0,s.Nf)(()=>{if(G&&(T(G.title.text),R(G.othersCanAppend??!1),D(G.othersCanComplete??!1),!K)){const e=G.items.map(e=>({id:e.id,text:e.title.text}));e.length<t&&e.push({id:(0,d.t)(),text:""}),x(e)}},[G,K,t]),(0,s.vJ)(()=>O?(0,c.A)(S):void 0,[O,S]),(0,s.vJ)(()=>{O||(T(""),x([{id:(0,d.t)(),text:""}]),R(!0),D(!0),_(!1))},[O]),(0,s.vJ)(()=>{O&&(0,i.YS)(()=>{if(J?.forNewTask){const e=P.current?.querySelectorAll("input"),t=e?.[e.length-1];t?.focus()}else z(I)})},[z,O,J?.forNewTask]);const H=(0,h.A)(e=>{const t=(0,d.t)();x([...e,{id:t,text:""}]),(0,i.Uz)(()=>{const e=P.current;e&&(0,i.YS)(()=>{e.scrollTo({top:e.scrollHeight,behavior:"smooth"})})})}),$=(0,h.A)(()=>{if(_(!1),!O)return;const e=B.map(e=>{const t=e.text.trim();if(t)return{id:e.id,title:{text:t.substring(0,n)}}}).filter(Boolean),t=M.trim().substring(0,a);if(!t||0===e.length){if(T(t),e.length){const e=B.map(e=>({...e,text:e.text.trim().substring(0,n)})).filter(e=>e.text.length);0===e.length?H([]):x([...e,{id:(0,d.t)(),text:""}])}else H([]);return void _(!0)}if(K&&l)return N({chatId:l.chatId,messageId:l.id,items:e}),void k();const s={todo:{title:{text:t},items:e,othersCanAppend:L,othersCanComplete:F}};l?w({chatId:l.chatId,todo:s,messageId:l.id}):b(s),k()}),q=(0,h.A)((e,a)=>{const n=[...B];n[e]={...n[e],text:a},n[n.length-1].text.trim().length&&n.length<t?H(n):x(n)}),W=(0,h.A)(e=>{const t=[...B];t.splice(e,1),x(t),(0,i.Uz)(()=>{P.current&&P.current.classList.toggle("overflown",P.current.scrollHeight>f)})}),Y=(0,h.A)(e=>{R(e.target.checked)}),Q=(0,h.A)(e=>{D(e.target.checked)}),Z=(0,h.A)(e=>{"Enter"===e.key&&$()}),X=(0,h.A)(e=>{T(e.target.value)}),ee=(0,h.A)(()=>{if(V&&!M.trim().length)return U("ToDoListErrorChooseTitle")}),te=(0,h.A)(e=>{const t=B.map(e=>e.text.trim()).filter(e=>e.length);if(V&&t.length<1&&!B[e].text.trim().length)return U("ToDoListErrorChooseTasks")});return s.Ay.createElement(E.A,{isOpen:O,onClose:S,header:function(){const e=K?"TitleAppendToDoList":l?"TitleEditToDoList":"TitleNewToDoList";return s.Ay.createElement("div",{className:"modal-header-condensed"},s.Ay.createElement(p.A,{round:!0,color:"translucent",size:"smaller",ariaLabel:U("AriaToDoCancel"),onClick:S},s.Ay.createElement(y.A,{name:"close"})),s.Ay.createElement("div",{className:"modal-title"},U(e)),s.Ay.createElement(p.A,{color:"primary",size:"smaller",className:"modal-action-button",onClick:$},U(K?"Add":l?"Save":"Create")))}(),className:"ToDoListModal"},!K&&s.Ay.createElement(g.A,{ref:I,label:U("InputTitle"),value:M,error:ee(),onChange:X,onKeyPress:Z}),K&&s.Ay.createElement("div",{className:"readonly-title"},M),s.Ay.createElement("div",{className:"options-divider"}),s.Ay.createElement("div",{className:"options-list custom-scroll",ref:P},s.Ay.createElement("h3",{className:"items-header"},U("TitleToDoList")),function(){const e=[...j,...B];return e.map((a,n)=>{const o=n-j.length;return s.Ay.createElement("div",{className:"item-wrapper"},s.Ay.createElement(g.A,{maxLength:C,label:n!==e.length-1||e.length===t?U("TitleTask"):U("TitleAddTask"),error:te(o),value:a.text,disabled:a.isDisabled,onChange:e=>q(o,e.currentTarget.value),onKeyPress:Z}),n!==e.length-1&&!a.isDisabled&&s.Ay.createElement(p.A,{className:"item-remove-button",round:!0,color:"translucent",size:"smaller",ariaLabel:U("Delete"),onClick:()=>W(o)},s.Ay.createElement(y.A,{name:"close"})))})}()),s.Ay.createElement("div",{className:"items-count-hint"},U("HintTodoListTasksCount",{count:t-B.length-(K&&G?G.items.length:0)})),s.Ay.createElement("div",{className:"options-divider"}),!K&&s.Ay.createElement("div",{className:"options-footer"},s.Ay.createElement("div",{className:"dialog-checkbox-group"},s.Ay.createElement(v.A,{label:U("AllowOthersAddTasks"),checked:L,onChange:Y}),s.Ay.createElement(v.A,{label:U("AllowOthersMarkAsDone"),checked:F,onChange:Q}))))},w=(0,s.ph)((0,o.EK)((e,{modal:t})=>{const{appConfig:a}=e;return{editingMessage:t?.messageId?(0,l.O5q)(e,t.chatId,t.messageId):void 0,maxItemsCount:a?.todoItemsMax,maxTitleLength:a?.todoTitleLengthMax,maxItemLength:a?.todoItemLengthMax}})(S));n()}catch(e){n(e)}})},93898:(e,t,a)=>{a.d(t,{Q:()=>s});var n=a(89925);function s(e){switch(e){case n.VS.PrivacyPhoneNumber:case n.VS.PrivacyPhoneNumberAllowedContacts:case n.VS.PrivacyPhoneNumberDeniedContacts:return"phoneNumber";case n.VS.PrivacyLastSeen:case n.VS.PrivacyLastSeenAllowedContacts:case n.VS.PrivacyLastSeenDeniedContacts:return"lastSeen";case n.VS.PrivacyProfilePhoto:case n.VS.PrivacyProfilePhotoAllowedContacts:case n.VS.PrivacyProfilePhotoDeniedContacts:return"profilePhoto";case n.VS.PrivacyBio:case n.VS.PrivacyBioAllowedContacts:case n.VS.PrivacyBioDeniedContacts:return"bio";case n.VS.PrivacyBirthday:case n.VS.PrivacyBirthdayAllowedContacts:case n.VS.PrivacyBirthdayDeniedContacts:return"birthday";case n.VS.PrivacyGifts:case n.VS.PrivacyGiftsAllowedContacts:case n.VS.PrivacyGiftsDeniedContacts:return"gifts";case n.VS.PrivacyForwarding:case n.VS.PrivacyForwardingAllowedContacts:case n.VS.PrivacyForwardingDeniedContacts:return"forwards";case n.VS.PrivacyVoiceMessages:case n.VS.PrivacyVoiceMessagesAllowedContacts:case n.VS.PrivacyVoiceMessagesDeniedContacts:return"voiceMessages";case n.VS.PrivacyGroupChats:case n.VS.PrivacyGroupChatsAllowedContacts:case n.VS.PrivacyGroupChatsDeniedContacts:return"chatInvite";case n.VS.PrivacyPhoneCall:case n.VS.PrivacyPhoneCallAllowedContacts:case n.VS.PrivacyPhoneCallDeniedContacts:return"phoneCall";case n.VS.PrivacyPhoneP2P:case n.VS.PrivacyPhoneP2PAllowedContacts:case n.VS.PrivacyPhoneP2PDeniedContacts:return"phoneP2P";case n.VS.PrivacyAddByPhone:return"addByPhone";case n.VS.PrivacyNoPaidMessages:return"noPaidMessages"}}},93966:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.d(t,{A:()=>k});var s=a(84051),o=a(90709),r=a(96454),i=a(87357),l=a(54464),c=a(71533),d=a(45470),m=a(10722),u=a(5912),A=a(17712),h=a(62587),y=a(59030),p=a(64493),v=a(71429),g=a(24433),E=a(65843),b=a(57474),f=a(54746),C=e([h,y,p,g]);function S(){return S=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},S.apply(null,arguments)}[h,y,p,g]=C.then?(await C)():C;const w=({gif:e,isDisabled:t,className:a,observeIntersection:n,onClick:C,onUnsaveClick:w,isSavedMessages:k})=>{const N=(0,s.li)(),I=(0,y.A)(),P=(0,u.Vz)(N,n)&&!t,M=!e.hasVideoPreview&&e.thumbnail&&(0,o.sC)(e,"pictogram"),T=(0,h.A)(M,!P),[B]=(0,s.J0)(e.thumbnail?.dataUri&&!T),x=(0,d.A)(e.thumbnail?.dataUri,!B),L=(0,o.Ct)(e)||(0,o.sC)(e,"full"),R=(0,h.A)(L,!P),F=Boolean(P&&R),{isBuffered:D,bufferingHandlers:V}=(0,c.A)(!0),_=P&&!D,U=P&&D,{isContextMenuOpen:O,contextMenuAnchor:J,handleBeforeContextMenu:K,handleContextMenu:G,handleContextMenuClose:j,handleContextMenuHide:z}=(0,m.A)(N),H=(0,A.A)(()=>N.current),$=(0,A.A)(()=>N.current.closest(".custom-scroll, .no-scrollbar")),q=(0,A.A)(()=>N.current.querySelector(".gif-context-menu .bubble")),W=(0,A.A)(()=>{!O&&C&&C({...e,blobUrl:R})}),Y=(0,A.A)(t=>{t.stopPropagation(),t.preventDefault(),w(e)}),Q=(0,A.A)(()=>{w?.(e)}),Z=(0,A.A)(()=>{C({...e,blobUrl:R},!0)}),X=(0,A.A)(()=>{C({...e,blobUrl:R},void 0,!0)}),ee=(0,A.A)(e=>{(0,l.u)(e),K(e)});(0,s.vJ)(()=>{t&&j()},[j,t]);const te=(0,i.A)("GifButton",e.width&&e.height&&e.width<e.height?"vertical":"horizontal",C&&"interactive",a);return s.Ay.createElement("div",{ref:N,className:te,onMouseDown:ee,onClick:W,onContextMenu:G},!r.TF&&w&&s.Ay.createElement(p.A,{className:"gif-unsave-button",color:"dark",pill:!0,noFastClick:!0,onClick:Y},s.Ay.createElement(f.A,{name:"close",className:"gif-unsave-button-icon"})),B&&s.Ay.createElement("canvas",{ref:x,className:"thumbnail"}),T&&!U&&s.Ay.createElement("img",{src:T,alt:"",className:"preview",draggable:!1}),F&&s.Ay.createElement(E.A,S({canPlay:!0,src:R,autoPlay:!0,loop:!0,muted:!0,disablePictureInPicture:!0,playsInline:!0,preload:"none"},V)),_&&s.Ay.createElement(b.A,{color:T||B?"white":"black"}),C&&void 0!==J&&s.Ay.createElement(v.A,{isOpen:O,anchor:J,getTriggerElement:H,getRootElement:$,getMenuElement:q,className:"gif-context-menu",autoClose:!0,onClose:j,onCloseAnimationEnd:z},!k&&s.Ay.createElement(g.A,{onClick:Z,icon:"mute"},I("SendWithoutSound")),s.Ay.createElement(g.A,{onClick:X,icon:"calendar"},I(k?"SetReminder":"ScheduleMessage")),w&&s.Ay.createElement(g.A,{destructive:!0,icon:"delete",onClick:Q},I("Delete"))))},k=(0,s.ph)(w);n()}catch(N){n(N)}})},94244:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.d(t,{A:()=>b});var s=a(84051),o=a(13439),r=a(31481),i=a(90709),l=a(60919),c=a(26072),d=a(59030),m=a(54746),u=a(17794),A=a(19806),h=a(12933),y=a(1087),p=a(82497),v=a(57474),g=e([d,u,A,h,y,p]);[d,u,A,h,y,p]=g.then?(await g)():g;const E=({availableReactions:e,enabledReactions:t,chat:a,isActive:n,onClose:r,maxUniqueReactions:l,reactionsLimit:g,isChannel:E})=>{const{setChatEnabledReactions:b}=(0,o.ko)(),f=(0,d.A)(),[C,S]=(0,s.J0)(!1),[w,k]=(0,s.J0)(!1),[N,I]=(0,s.J0)(t),[P,M]=(0,s.J0)(g);(0,c.A)({isActive:n,onBack:r});const T=(0,s.Kr)(()=>[{value:"all",label:f("AllReactions")},{value:"some",label:f("SomeReactions")},{value:"none",label:f("NoReactions")}],[f]),B=(0,s.hb)(()=>{a&&(k(!0),b({chatId:a.id,enabledReactions:N,reactionsLimit:P}))},[a,N,b,P]);(0,s.vJ)(()=>{k(!1),S(!1),I(t),M(g)},[t,g]);const x=(0,s.Kr)(()=>e?.filter(({isInactive:e})=>!e),[e]);(0,s.vJ)(()=>{if(void 0===P||P===g){if("some"===N?.type&&"all"!==t?.type&&"some"!==t?.type&&0===N.allowed.length)return void S(!1);if(N?.type===t?.type){if("some"===N?.type&&"some"===t?.type){const e=N.allowed,a=t?.allowed;if(e.length!==a.length||e.reverse().some(e=>!a.find(t=>(0,i.a0)(e,t))))return void S(!0)}S(!1)}else S(!0)}else S(!0)},[P,g,N,t]);const L=(0,s.hb)(e=>{"all"===e?(I({type:"all"}),M(g)):"some"===e?(I({type:"some",allowed:"some"===t?.type?t.allowed:[]}),M(g)):(I(void 0),M(void 0))},[t,g]),R=(0,s.hb)(e=>{if(!a||!x)return;const{name:t,checked:n}=e.currentTarget;if("some"===N?.type){const e={emoticon:t};I(n?{type:"some",allowed:[...N.allowed,e]}:{type:"some",allowed:N.allowed.filter(t=>!(0,i.a0)(t,e))})}},[x,a,N]),F=(0,s.hb)(e=>{M(e)},[]),D=(0,s.hb)(e=>f("PeerInfo.AllowedReactions.MaxCountValue",e),[f]),V=E&&("all"===N?.type||"some"===N?.type);return s.Ay.createElement("div",{className:"Management"},s.Ay.createElement("div",{className:"panel-content custom-scroll"},Boolean(P&&V)&&s.Ay.createElement("div",{className:"section"},s.Ay.createElement("h3",{className:"section-heading"},f("MaximumReactionsHeader")),s.Ay.createElement(p.A,{min:1,max:l,value:P,onChange:F,renderValue:D,isCenteredLayout:!0}),s.Ay.createElement("p",{className:"section-info section-info_push"},f("ChannelReactions.MaxCount.Info"))),s.Ay.createElement("div",{className:"section"},s.Ay.createElement("h3",{className:"section-heading"},f("AvailableReactions")),s.Ay.createElement(y.A,{selected:N?.type||"none",name:"reactions",options:T,onChange:L}),s.Ay.createElement("p",{className:"section-info section-info_push"},"all"===N?.type&&f("EnableAllReactionsInfo"),"some"===N?.type&&f("EnableSomeReactionsInfo"),!N&&f("DisableReactionsInfo"))),"some"===N?.type&&s.Ay.createElement("div",{className:"section section-with-fab"},s.Ay.createElement("h3",{className:"section-heading"},f("OnlyAllowThisReactions")),x?.map(({reaction:t,title:a})=>s.Ay.createElement("div",{className:"ListItem"},s.Ay.createElement(A.A,{name:t.emoticon,checked:N?.allowed.some(e=>(0,i.a0)(t,e)),label:s.Ay.createElement("div",{className:"Reaction"},s.Ay.createElement(u.A,{reaction:t,availableReactions:e}),a),withIcon:!0,onChange:R}))))),s.Ay.createElement(h.A,{isShown:C,onClick:B,ariaLabel:f("Save"),disabled:w},w?s.Ay.createElement(v.A,{color:"white"}):s.Ay.createElement(m.A,{name:"check"})))},b=(0,s.ph)((0,o.EK)((e,{chatId:t})=>{const a=(0,l.hds)(e,t),{maxUniqueReactions:n=r.UAx}=e.appConfig||{},s=(0,l.AWZ)(e,t),o=s?.reactionsLimit||n,c=(0,i.WX)(a);return{enabledReactions:s?.enabledReactions,availableReactions:e.reactions.availableReactions,chat:a,maxUniqueReactions:n,reactionsLimit:o,isChannel:c}},(e,{chatId:t})=>Boolean((0,l.hds)(e,t)))(E));n()}catch(e){n(e)}})},94455:(e,t,a)=>{e.exports=a.p+"PremiumEmoji.26515017c8f6dc4f3f67.svg"},94490:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.d(t,{A:()=>P});var s=a(84051),o=a(13439),r=a(31481),i=a(90709),l=a(60919),c=a(87357),d=a(85982),m=a(4961),u=a(43874),A=a(5912),h=a(59030),y=a(73767),p=a(11186),v=a(47366),g=a(64493),E=a(22699),b=a(52745),f=a(24433),C=a(8410),S=a(54746),w=a(76453),k=e([h,p,g,E,f,C,w]);[h,p,g,E,f,C,w]=k.then?(await k)():k;const N=200,I=({isOpen:e,fromSticker:t,stickerSetShortName:a,stickerSet:n,canSendStickers:i,canScheduleUntilOnline:l,shouldSchedule:k,isSavedMessages:I,isCurrentUserPremium:P,shouldUpdateStickerSetOrder:M,currentMessageList:T,onClose:B})=>{const{loadStickers:x,toggleStickerSet:L,sendMessage:R,showNotification:F}=(0,o.ko)(),D=(0,s.li)(),V=(0,s.li)(),_=(0,h.A)(),{isMobile:U}=(0,u.Ay)(),O=(0,y.A)(n),J=n||O,K=Boolean(!J?.isArchived&&J?.installedDate),G=J?.isEmoji,[j,z]=(0,p.A)(l),{handleScroll:H,isAtBeginning:$}=(0,v.A)(),{observe:q}=(0,A.BL)({rootRef:D,throttleMs:N,isDisabled:!e});(0,s.vJ)(()=>{e&&!J?.stickers&&x({stickerSetInfo:t?t.stickerSetInfo:{shortName:a}})},[e,t,x,a,J]);const W=(0,s.hb)((e,t,a)=>{T&&(e={...e,isPreloadedGlobally:!0},k||a?j(a=>{R({messageList:T,sticker:e,isSilent:t,scheduledAt:a}),B()}):(R({messageList:T,sticker:e,isSilent:t,shouldUpdateStickerSetOrder:M&&K}),B()))},[T,k,j,B,M,K]),Y=(0,s.hb)(()=>{J&&(L({stickerSetId:J.id}),B())},[B,J,L]),Q=(0,s.hb)(()=>{if(!J)return;const{shortName:e}=J,t=G?"addemoji":"addstickers",a=`${r.jsp}${t}/${e}`;(0,d.eM)(a),F({message:_("LinkCopied")})},[G,_,J,F]),Z=(0,s.Kr)(()=>({onTrigger:e,isOpen:t})=>s.Ay.createElement(g.A,{round:!0,ripple:!U,size:"smaller",color:"translucent",className:t?"active":"",onClick:e,ariaLabel:"More actions"},s.Ay.createElement(S.A,{name:"more"})),[U]);return s.Ay.createElement(C.A,{className:(0,c.A)("StickerSetModal",G&&"custom-emoji"),isOpen:e,onClose:B,header:function(){const e=(0,c.A)("modal-header",!$&&"with-top-border");return s.Ay.createElement("div",{className:e,dir:_.isRtl?"rtl":void 0},s.Ay.createElement(g.A,{round:!0,color:"translucent",size:"smaller",ariaLabel:_("Close"),onClick:B},s.Ay.createElement(S.A,{name:"close"})),s.Ay.createElement("div",{className:"modal-title"},J?(0,m.A)(J.title,["emoji","links"]):_("AccDescrStickerSet")),s.Ay.createElement(E.A,{className:"stickers-more-menu with-menu-transitions",trigger:Z,positionX:"right"},s.Ay.createElement(f.A,{icon:"copy",onClick:Q},_("StickersCopy"))))}()},J?.stickers?s.Ay.createElement(s.Ay.Fragment,null,s.Ay.createElement("div",{ref:D,className:"stickers custom-scroll",onScroll:H},s.Ay.createElement("div",{className:"shared-canvas-container stickers-grid"},s.Ay.createElement("canvas",{ref:V,className:"shared-canvas"}),J.stickers.map(e=>s.Ay.createElement(w.A,{sticker:e,size:G?r.$nk:r.GhT,observeIntersection:q,onClick:i&&!G?W:void 0,clickArg:e,isSavedMessages:I,isCurrentUserPremium:P,sharedCanvasRef:V})))),s.Ay.createElement("div",{className:"button-wrapper"},s.Ay.createElement(g.A,{size:"smaller",fluid:!0,color:K?"danger":"primary",onClick:Y},(()=>{if(!J)return _("Loading");const e=G?"Emoji":"Sticker";return _(K?`StickerPack.Remove${e}Count`:`StickerPack.Add${e}Count`,J.count,"i")})()))):s.Ay.createElement(b.A,null),z)},P=(0,s.ph)((0,o.EK)((e,{fromSticker:t,stickerSetShortName:a})=>{const n=(0,l.Xf0)(e),{chatId:s,threadId:o}=n||{},r=s&&(0,l.hds)(e,s),c=s?(0,l.AWZ)(e,s):void 0,d=s&&(0,l.yps)(e,s),m=s?(0,l.nZ4)(e,s):void 0,u=r?(0,i.Q_)(r,c,Boolean(d),m):void 0,A=s&&o?(0,l.Vw0)(e,s,o):void 0,h=Boolean(!A?.isCommentsInfo&&A?.fromChannelId),y=s&&o?(0,l.S0q)(e,s,o):void 0,p=Boolean(r&&o&&(0,i.__)(r,y,h,c)&&u?.canSendStickers),v=t?t.stickerSetInfo:a?{shortName:a}:void 0,g=v?(0,l.ycM)(e,v):void 0,E=s?(0,l.WA9)(e,s):void 0;return{canScheduleUntilOnline:Boolean(s)&&(0,l.RBq)(e,s),canSendStickers:p,isSavedMessages:m,shouldSchedule:!E&&(0,l.PIP)(e),stickerSet:g,isCurrentUserPremium:(0,l.g29)(e),shouldUpdateStickerSetOrder:e.settings.byKey.shouldUpdateStickerSetOrder,currentMessageList:n}})(I));n()}catch(e){n(e)}})},94492:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.d(t,{A:()=>v});var s=a(84051),o=a(13439),r=a(87357),i=a(14),l=a(59030),c=a(21849),d=a(35384),m=a(54746),u=a(64493),A=a(8410),h=a(38940),y=e([l,c,d,u,A]);[l,c,d,u,A]=y.then?(await y)():y;const p=({isOpen:e,session:t,bot:a,onClose:n})=>{const{terminateWebAuthorization:y}=(0,o.ko)(),p=(0,l.A)(),v=(0,i.A)(t,!0),g=(0,i.A)(a,!0),E=(0,s.hb)(()=>{y({hash:t.hash}),n()},[n,t,y]);if(v)return s.Ay.createElement(A.A,{header:s.Ay.createElement("div",{className:"modal-header-condensed",dir:p.isRtl?"rtl":void 0},s.Ay.createElement(u.A,{round:!0,color:"translucent",size:"smaller",ariaLabel:p("Close"),onClick:n},s.Ay.createElement(m.A,{name:"close"})),s.Ay.createElement("div",{className:"modal-title"},p("WebSessionsTitle")),s.Ay.createElement(u.A,{color:"danger",onClick:E,className:(0,r.A)("modal-action-button",h.A.headerButton)},p("AuthSessions.LogOut"))),isOpen:e,hasCloseButton:!0,onClose:n,className:h.A.root},s.Ay.createElement(c.A,{className:h.A.avatar,peer:g,size:"large"}),g&&s.Ay.createElement(d.A,{className:h.A.title,peer:g}),s.Ay.createElement("div",{className:h.A.note},v?.domain),s.Ay.createElement("dl",{className:h.A.box},s.Ay.createElement("dt",null,p("AuthSessions.View.Browser")),s.Ay.createElement("dd",null,v?.browser),s.Ay.createElement("dt",null,p("SessionPreview.Ip")),s.Ay.createElement("dd",null,v?.ip),s.Ay.createElement("dt",null,p("SessionPreview.Location")),s.Ay.createElement("dd",null,v?.region)),s.Ay.createElement("p",{className:h.A.note},p("AuthSessions.View.LocationInfo")))},v=(0,s.ph)((0,o.EK)((e,{hash:t})=>{const a=t?e.activeWebSessions.byHash[t]:void 0;return{session:a,bot:a?e.users.byId[a.botId]:void 0}})(p));n()}catch(e){n(e)}})},94662:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.d(t,{A:()=>w});var s=a(84051),o=a(13439),r=a(90709),i=a(60919),l=a(87357),c=a(76023),d=a(43874),m=a(39751),u=a(9692),A=a(39952),h=e([u]),y=h.then?(await h)():h;u=y[0];const p=36,v=600,g=.5,E=18,b=26.25,f=.625,C=.5,S=({loadAndPlay:e,enabledReactions:t,availableReactions:a,topReactions:n,selectedReactionIds:o,isWithPaidReaction:i,message:h,reactionsLimit:y,onReactionSelect:S,onReactionContext:w})=>{const k=(0,s.li)(),N=(0,s.li)(),{width:I}=(0,m.A)(),{isTouchScreen:P}=(0,d.Ay)(),M=h?.reactions?.results,T=y&&M&&M.length>=y,B=(0,s.Kr)(()=>{if(T){const e=M.map(({reaction:e})=>e);return i&&e.unshift({type:"paid"}),e}if(!t)return[];if("all"===t.type){const e=(a||[]).map(({reaction:e})=>e);return i&&e.unshift({type:"paid"}),(0,r.fu)(e,n)}const e=t.allowed.slice();return i&&e.unshift({type:"paid"}),(0,r.fu)(e,n)},[a,t,n,T,M,i]),x=(0,s.Kr)(()=>{const e=Math.min(b*c.$,I),t=(I>v?f:C)*c.$,a=e-g*c.$,n=Math.floor((a+t)/(p+t)),s=Math.ceil(B.length/n),o=s*p+(s-1)*t+g*c.$*2;return Math.min(E*c.$,o)},[B.length,I]);return s.Ay.createElement("div",{className:A.A.root,style:`height: ${x}px`},s.Ay.createElement("div",{className:(0,l.A)(A.A.wrapper,P?"no-scrollbar":"custom-scroll")},s.Ay.createElement("div",{className:"symbol-set-container shared-canvas-container"},s.Ay.createElement("canvas",{ref:k,className:"shared-canvas"}),s.Ay.createElement("canvas",{ref:N,className:"shared-canvas"}),B.map(t=>{const n=(0,r.Jj)(t),i=n?o?.includes(n):void 0;return s.Ay.createElement(u.A,{key:n,reaction:t,isSelected:i,loadAndPlay:e,availableReactions:a,onClick:S,onContextMenu:w,sharedCanvasRef:k,sharedCanvasHqRef:N})}))))},w=(0,s.ph)((0,o.EK)((e,{chatId:t})=>{const{availableReactions:a,topReactions:n}=e.reactions,{maxUniqueReactions:s}=e.appConfig||{},{enabledReactions:o,isPaidReactionAvailable:r}=(0,i.AWZ)(e,t)||{};return{enabledReactions:o,availableReactions:a,topReactions:n,reactionsLimit:s,isWithPaidReaction:r}})(S));n()}catch(e){n(e)}})},94775:(e,t,a)=>{a.d(t,{A:()=>n});const n={root:"a27O2Qlr",mobile:"khvUZbGZ",symbolMenuOpen:"ir5kkMy1","header-border":"Pc1k8G8s",headerBorder:"Pc1k8G8s",sendButtonStar:"C1OOt81o",attachments:"_bxSIFgj","attachments-bottom-padding":"RPVunBe2",attachmentsBottomPadding:"RPVunBe2","caption-wrapper":"EtmiUn2k",captionWrapper:"EtmiUn2k","caption-top-border":"FjjSKMYe",captionTopBorder:"FjjSKMYe",caption:"Te7lIfpB",dropTarget:"AT_d9l0W",dropOutlineContainer:"d9O65j_I",dropOutline:"jzCBDWMw",outline:"xjNY3Z8u",hovered:"AnO3BgVv","send-wrapper":"wDqWK9MD",sendWrapper:"wDqWK9MD",send:"kNlWmBJI","is-pointer-env":"rYZmraWo",isPointerEnv:"rYZmraWo"}},94789:(e,t,a)=>{a.d(t,{A:()=>n});const n={details:"xqyFGV8R"}},94917:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.d(t,{A:()=>p});var s=a(84051),o=a(13439),r=a(31481),i=a(87357),l=a(15384),c=a(59030),d=a(64493),m=a(77561),u=a(8410),A=a(21131),h=e([l,c,d,m,u]);[l,c,d,m,u]=h.then?(await h)():h;const y=({isOpen:e,chatId:t,foldersById:a,folderOrderedIds:n,onClose:h,onCloseAnimationEnd:y})=>{const{editChatFolders:p}=(0,o.ko)(),v=(0,c.A)(),g=(0,s.Kr)(()=>a?Object.keys(a).reduce((e,n)=>{const{includedChatIds:s,pinnedChatIds:o}=a[Number(n)];return(s.includes(t)||o?.includes(t))&&e.push(n),e},[]):[],[t,a]),[E,b]=(0,s.J0)(g),f=(0,s.Kr)(()=>n?.filter(e=>e!==r.DSF).map(e=>{const t=a?a[e]:void 0;return{label:t?(0,l.fd)({text:t.title.text,entities:t.title.entities,noCustomEmojiPlayback:t.noTitleAnimations}):"",value:String(e)}})||[],[n,a]),C=(0,s.hb)(()=>{const e=g.filter(e=>!E.includes(e)).map(Number),a=E.filter(e=>!g.includes(e)).map(Number);p({chatId:t,idsToRemove:e,idsToAdd:a}),h()},[t,p,g,h,E]);if(a&&n)return s.Ay.createElement(u.A,{isOpen:e,onClose:h,onCloseAnimationEnd:y,onEnter:C,className:(0,i.A)(A.A.root,"delete"),contentClassName:A.A.modalContent,title:v("FilterAddTo")},s.Ay.createElement("div",{className:(0,i.A)(A.A.main,"custom-scroll")},s.Ay.createElement(m.A,{options:f,selected:E,onChange:b})),s.Ay.createElement("div",{className:A.A.footer},s.Ay.createElement("div",{className:"dialog-buttons"},s.Ay.createElement(d.A,{color:"primary",className:"confirm-dialog-button",isText:!0,onClick:C},v("FilterAddTo")),s.Ay.createElement(d.A,{className:"confirm-dialog-button",isText:!0,onClick:h},v("Cancel")))))},p=(0,s.ph)((0,o.EK)(e=>{const{byId:t,orderedIds:a}=e.chatFolders;return{foldersById:t,folderOrderedIds:a}})(y));n()}catch(e){n(e)}})},94962:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.d(t,{A:()=>m});var s=a(84051),o=a(13439),r=a(60919),i=a(59030),l=a(63441),c=e([i,l]);[i,l]=c.then?(await c)():c;const d=({isOpen:e,selectedAt:t})=>{const{searchMessagesByDate:a,closeHistoryCalendar:n}=(0,o.ko)(),r=(0,s.hb)(e=>{a({timestamp:e.getTime()/1e3}),n()},[n,a]),c=(0,i.A)();return s.Ay.createElement(l.A,{isOpen:e,selectedAt:t,isPastMode:!0,submitButtonLabel:c("JumpToDate"),onClose:n,onSubmit:r})},m=(0,s.ph)((0,o.EK)(e=>({selectedAt:(0,r.nTw)(e).historyCalendarSelectedAt}))(d));n()}catch(e){n(e)}})},95020:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.d(t,{A:()=>S});var s=a(84051),o=a(13439),r=a(89925),i=a(70636),l=a(60919),c=a(87357),d=a(37836),m=a(39351),u=a(17712),A=a(59030),h=a(46222),y=a(36393),p=a(25065),v=a(85334),g=e([i,m,A,y,p]);[i,m,A,y,p]=g.then?(await g)():g;const E=30,b=5,f=(0,d.nF)(e=>e(),500,!0),C=({foundIds:e,recentBotIds:t})=>{const a=(0,A.A)(),n=(0,m.A)(),[l,d]=(0,s.J0)(!1),{searchPopularBotApps:g}=(0,o.ko)(),C=(0,u.A)(()=>{d(e=>!e)}),[S,w]=(0,s.J0)(""),k=(0,s.Kr)(()=>e?(0,i.PU)({ids:e,query:S,type:"user"}):[],[e,S]),N=(0,s.hb)(({direction:e})=>{e===r.TN.Backwards&&f(()=>{g()})},[]),I=(0,s.hb)(()=>{w("")},[]);return s.Ay.createElement(h.A,{className:(0,c.A)(v.A.root,"custom-scroll"),items:k,onLoadMore:N,itemSelector:".PopularAppGridItem",noFastList:!0,preloadBackwards:E},s.Ay.createElement(y.A,{className:v.A.search,value:S,onChange:w,onReset:I,placeholder:n("SearchApps")}),t&&!S&&s.Ay.createElement("div",{className:v.A.section},s.Ay.createElement("div",{className:v.A.sectionTitle},s.Ay.createElement("span",null,a("SearchAppsMine")),s.Ay.createElement("span",{className:v.A.showMoreLink,onClick:C},a(l?"ChatList.Search.ShowLess":"ChatList.Search.ShowMore"))),s.Ay.createElement("div",{className:v.A.sectionContent},t.map((e,t)=>{if(l||!(t>=b))return s.Ay.createElement(p.A,{chatId:e})}))),s.Ay.createElement("div",{className:v.A.section},s.Ay.createElement("div",{className:v.A.sectionTitle},n(S?"Apps":"PopularApps")),s.Ay.createElement("div",{className:v.A.sectionContent},k&&k.map(e=>s.Ay.createElement(p.A,{chatId:e,isPopularApp:!S})))))},S=(0,s.ph)((0,o.EK)(e=>{const t=(0,l.nTw)(e).globalSearch,a=t.popularBotApps?.peerIds;return{isLoading:!a&&t.fetchingStatus?.botApps,foundIds:a,recentBotIds:e.topBotApps.userIds}})(C));n()}catch(e){n(e)}})},95163:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.d(t,{A:()=>v});var s=a(84051),o=a(13439),r=a(60919),i=a(87357),l=a(5912),c=a(17712),d=a(59030),m=a(73767),u=a(8410),A=a(85839),h=a(67215),y=e([d,u,A]);[d,u,A]=y.then?(await y)():y;const p=({customEmojiSetIds:e,canPlayAnimatedEmojis:t,onClose:a})=>{const{openStickerSet:n}=(0,o.ko)(),r=(0,d.A)(),y=(0,s.Kr)(()=>e?.map(e=>(0,o.mS)().stickers.setsById[e]),[e]),p=(0,s.li)(),{observe:v}=(0,l.BL)({rootRef:p,isDisabled:!y}),g=(0,m.A)(y),E=y||g,b=(0,c.A)(e=>{n({stickerSetInfo:e.stickerSetInfo})});return s.Ay.createElement(u.A,{isOpen:Boolean(y),className:h.A.root,onClose:a,hasCloseButton:!0,title:r("lng_custom_emoji_used_sets")},s.Ay.createElement("div",{className:(0,i.A)(h.A.sets,"custom-scroll"),ref:p,teactFastList:!0},E?.map(e=>s.Ay.createElement(A.A,{key:e.id,className:h.A.setCard,stickerSet:e,onClick:b,observeIntersection:v,noPlay:!t}))))},v=(0,s.ph)((0,o.EK)(e=>({canPlayAnimatedEmojis:(0,r.BWX)(e)}))(p));n()}catch(e){n(e)}})},96797:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.d(t,{A:()=>h});var s=a(84051),o=a(13439),r=a(90709),i=a(87357),l=a(17712),c=a(59030),d=a(21849),m=a(6468),u=e([c,d]);function A({data:e,chatsById:t,usersById:a}){const n=(0,c.A)(),{openChat:u}=(0,o.ko)(),A=a[e.peerId],h=t[e.peerId],y=(0,l.A)(()=>{u({id:A.id})});return s.Ay.createElement("div",{className:(0,i.A)(m.A.root,"statistic-public-forward"),onClick:y},s.Ay.createElement(d.A,{size:"medium",peer:A||h,withStorySolid:!0,forceUnreadStorySolid:!0}),s.Ay.createElement("div",null,s.Ay.createElement("div",{className:m.A.title},A?(0,r.Yg)(A):(0,r.Js)(n,h)),s.Ay.createElement("div",{className:m.A.views},e.viewsCount?n("ChannelStats.ViewsCount",e.viewsCount,"i"):n("NoViews"))))}[c,d]=u.then?(await u)():u;const h=(0,s.ph)(A);n()}catch(y){n(y)}})},97136:(e,t,a)=>{a.d(t,{A:()=>n});const n={SettingsActiveSession:"M84mrPgu",settingsActiveSession:"M84mrPgu",iconDevice:"Add8P_K4",iconDevice__android:"onkXVGY4",iconDeviceAndroid:"onkXVGY4",iconDevice__apple:"xw13aT8u",iconDeviceApple:"xw13aT8u",iconDevice__brave:"HESrGUdv",iconDeviceBrave:"HESrGUdv",iconDevice__chrome:"Vpej7wm7",iconDeviceChrome:"Vpej7wm7",iconDevice__edge:"ueWE77x9",iconDeviceEdge:"ueWE77x9",iconDevice__firefox:"_lMTmvya",iconDeviceFirefox:"_lMTmvya",iconDevice__linux:"cDVfvyG_",iconDeviceLinux:"cDVfvyG_",iconDevice__opera:"nWqlTxZt",iconDeviceOpera:"nWqlTxZt",iconDevice__safari:"ldFLp1Gf",iconDeviceSafari:"ldFLp1Gf",iconDevice__samsung:"VHNORBGL",iconDeviceSamsung:"VHNORBGL",iconDevice__ubuntu:"QBVivtdu",iconDeviceUbuntu:"QBVivtdu",iconDevice__unknown:"GbjIgrwU",iconDeviceUnknown:"GbjIgrwU",iconDevice__vivaldi:"yieVnjoI",iconDeviceVivaldi:"yieVnjoI",iconDevice__windows:"_0dnTFOE",iconDeviceWindows:"_0dnTFOE",iconDevice__xbox:"fbCjjDpU",iconDeviceXbox:"fbCjjDpU",title:"c6edjhlh",note:"lRqTZAYn",date:"oLnN6crs",box:"wVEXuPlZ",actionHeader:"olQS2T1n",actionName:"KuX1APpO",headerButton:"VT8pZfMu"}},97329:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.d(t,{A:()=>N});var s=a(84051),o=a(13439),r=a(60919),i=a(87357),l=a(24021),c=a(75319),d=a(30857),m=a(17712),u=a(59030),A=a(46222),h=a(52745),y=a(64971),p=a(15895),v=a(96797),g=a(77566),E=e([l,u,y,p,v]);let b,f;async function C(){return b||(b=a.e(1184).then(a.bind(a,31184)),f=await b),b}[l,u,y,p,v]=E.then?(await E)():E;const S={viewsGraph:"Stats.StoryInteractionsTitle",reactionsGraph:"ReactionsByEmotionChartTitle"},w=Object.keys(S);function k({chatId:e,isActive:t,statistics:a,dcId:n,storyId:r,chatsById:E,usersById:b}){const k=(0,u.A)(),N=(0,s.li)(),[I,P]=(0,s.J0)(!1),M=(0,s.li)(new Set),T=(0,s.li)(new Set),{loadStoryStatistics:B,loadStoryPublicForwards:x,loadStatisticsAsyncGraph:L}=(0,o.ko)(),R=(0,d.A)();(0,s.vJ)(()=>{r&&B({chatId:e,storyId:r})},[e,r]),(0,s.vJ)(()=>{t&&!r||(M.current.clear(),T.current.clear(),P(!1))},[t,r]),(0,s.vJ)(()=>{a&&w.forEach(t=>{const n=a[t];(0,c.R)(n)&&"async"===n.graphType&&L({name:t,chatId:e,token:n.token})})},[e,a,L]),(0,s.vJ)(()=>{(async()=>{await C(),I?a&&N.current&&(w.forEach((e,t)=>{const s=a[e];if(!(0,c.R)(s))return;const o="async"===s.graphType,r="error"===s.graphType;if(o||M.current.has(e))return;if(r)return M.current.add(e),void T.current.add(e);const{zoomToken:i}=s;f.create(N.current.children[t],{title:k(S[e]),...i?{onZoom:e=>(0,l.px)("fetchStatisticsAsyncGraph",{token:i,x:e,dcId:n}),zoomOutLabel:k("Graph.ZoomOut")}:{},...s}),M.current.add(e)}),R()):P(!0)})()},[I,a,k,e,r,L,n,R]);const F=(0,m.A)(()=>{r&&x({chatId:e,storyId:r})});return I&&a&&r?s.Ay.createElement("div",{key:`${e}-${r}`,className:(0,i.A)(g.A.root,"custom-scroll",I&&g.A.ready)},s.Ay.createElement(p.A,{statistics:a,type:"story",title:k("StatisticOverview")}),!M.current.size&&s.Ay.createElement(h.A,null),s.Ay.createElement("div",{ref:N},w.map(e=>{const t=M.current.has(e)&&!T.current.has(e);return s.Ay.createElement("div",{className:(0,i.A)(g.A.graph,!t&&g.A.hidden)})})),Boolean(a.publicForwards)&&s.Ay.createElement("div",{className:g.A.publicForwards},s.Ay.createElement("h2",{className:g.A.publicForwardsTitle},k("Stats.Message.PublicShares")),s.Ay.createElement(A.A,{items:a.publicForwardsData,itemSelector:".statistic-public-forward",onLoadMore:F,noFastList:!0},a.publicForwardsData.map(e=>"messageId"in e?s.Ay.createElement(y.A,{key:`message_${e.messageId}`,data:e}):s.Ay.createElement(v.A,{key:`story_${e.storyId}`,data:e,chatsById:E,usersById:b}))))):s.Ay.createElement(h.A,null)}const N=(0,s.ph)((0,o.EK)((e,{chatId:t})=>{const a=(0,r.AWZ)(e,t)?.statisticsDcId,n=(0,r.nTw)(e),s=n.statistics.currentStory,o=n.statistics.currentStoryId,{byId:i}=e.users,{byId:l}=e.chats;return{statistics:s,dcId:a,storyId:o,usersById:i,chatsById:l}})(k));n()}catch(I){n(I)}})},97373:(e,t,a)=>{e.exports=a.p+"user-group.a38c9d162cae6ec43000.svg"},97415:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.d(t,{A:()=>m});var s=a(84051),o=a(13439),r=a(59030),i=a(73767),l=a(94189),c=e([r,l]);[r,l]=c.then?(await c)():c;const d=({folder:e})=>{const{closeDeleteChatFolderModal:t,deleteChatFolder:a,openDeleteChatFolderModal:n}=(0,o.ko)(),c=(0,r.A)(),d=Boolean(e),m=(0,i.A)(e)||e,u=m?.hasMyInvites,A=(0,s.hb)(()=>{t(),u?n({folderId:m.id,isConfirmedForChatlist:!0}):a({id:m.id})},[u,m]);return s.Ay.createElement(l.A,{isOpen:d,onClose:t,text:c(u?"FilterDeleteAlertLinks":"FilterDeleteAlert"),confirmLabel:c("Delete"),confirmHandler:A,confirmIsDestructive:!0})},m=(0,s.ph)(d);n()}catch(e){n(e)}})},97457:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.d(t,{A:()=>k});var s=a(84051),o=a(13439),r=a(31481),i=a(90709),l=a(60919),c=a(96454),d=a(87357),m=a(14242),u=a(37479),A=a(87094),h=a(94519),y=a(5912),p=a(62587),v=a(83057),g=a(9373),E=a(18104),b=a(46402),f=a(65843),C=a(91261),S=e([p,g,b]);[p,g,b]=S.then?(await S)():S;const w=({stickerSet:e,size:t=r.TBj,noPlay:a,forcePlayback:n,observeIntersection:S,sharedCanvasRef:w})=>{const{loadStickers:k}=(0,o.ko)(),N=(0,s.li)(),{hasThumbnail:I,hasVideoThumb:P,hasAnimatedThumb:M,hasStaticThumb:T,thumbCustomEmojiId:B}=e,{customEmoji:x}=(0,g.A)(B),L=x?.shouldUseTextColor,R=(0,A.A)(N,void 0,!L),F=(0,u.A)(R),D=(0,y.Vz)(N,S),V=D&&!a,_=!I||P&&!c.OF&&!M&&!T,U=_&&e.stickers?.[0]&&(0,i.Mw)(e.stickers[0],"preview"),O=(0,p.A)(U,!D),J=(I&&!U||M)&&`stickerSet${e.id}`,K=(0,p.A)(J,!D),G=B||K||O,j=(0,v.A)(G),z=(0,h.A)(N,w);return(0,s.vJ)(()=>{D&&!e.stickers?.length&&k({stickerSetInfo:e})},[D,k,e]),s.Ay.createElement("div",{ref:N,className:(0,d.A)(C.A.root,"sticker-set-cover"),style:`--_size: ${t}px`},G?B?s.Ay.createElement(b.A,{documentId:B,size:t,observeIntersectionForPlaying:S,noPlay:a}):M?s.Ay.createElement(E.A,{className:j,tgsUrl:K,size:t,play:V,isLowPriority:!(0,l.CzR)((0,o.mS)(),e),sharedCanvas:w?.current||void 0,sharedCanvasCoords:z,forceAlways:n}):P&&!_?s.Ay.createElement(f.A,{className:(0,d.A)(C.A.video,j),src:K,canPlay:V,style:F,isPriority:n,loop:!0,disablePictureInPicture:!0}):s.Ay.createElement("img",{src:K||O,style:F,className:(0,d.A)(C.A.image,j),alt:"",draggable:!1}):(0,m.Qh)(e.title,2))},k=(0,s.ph)(w);n()}catch(e){n(e)}})},97487:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.d(t,{A:()=>y});var s=a(84051),o=a(13439),r=a(60919),i=a(37661),l=a(34895),c=a(71429),d=a(3325),m=a(39045),u=e([l]),A=u.then?(await u)():u;l=A[0];const h=({isOpen:e,statusButtonRef:t,areFeaturedStickersLoaded:a,isTranslucent:n,onEmojiStatusSelect:r,onClose:u})=>{const{loadFeaturedEmojiStickers:A}=(0,o.ko)(),h=(0,s.li)(),[y,p,v]=(0,i.A)();(0,s.vJ)(()=>{h.current=t.current.getBoundingClientRect().right},[e,t]),(0,s.vJ)(()=>{e&&!a&&A()},[a,e,A]);const g=(0,s.hb)(e=>{r(e),u()},[u,r]);return s.Ay.createElement(d.A,null,s.Ay.createElement(c.A,{isOpen:e,noCompact:!0,positionX:"right",bubbleClassName:m.A.menuContent,onClose:u,transformOriginX:h.current,noCloseOnBackdrop:y},s.Ay.createElement(l.A,{idPrefix:"status-emoji-set-",loadAndPlay:e,isHidden:!e,isStatusPicker:!0,isTranslucent:n,onContextMenuOpen:p,onContextMenuClose:v,onCustomEmojiSelect:g,onContextMenuClick:u})))},y=(0,s.ph)((0,o.EK)(e=>({areFeaturedStickersLoaded:Boolean(e.customEmojis.featuredIds?.length),isTranslucent:(0,r.cwE)(e)}))(h));n()}catch(e){n(e)}})},97603:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.d(t,{A:()=>p});var s=a(84051),o=a(13439),r=a(31481),i=a(60919),l=a(59030),c=a(76453),d=a(64493),m=a(57474),u=e([l,c,d]);[l,c,d]=u.then?(await u)():u;const A=3,h=5,y=({stickerSetId:e,observeIntersection:t,set:a,shouldPlay:n,isModalOpen:i,isCurrentUserPremium:u})=>{const{loadStickers:y,toggleStickerSet:p,openStickerSet:v}=(0,o.ko)(),g=(0,s.li)(),E=(0,l.A)(),b=a&&!a.isArchived&&Boolean(a.installedDate),f=Boolean(a?.stickers),C=(0,s.Kr)(()=>{if(!a)return[];const e=(a.stickers?.filter(({hasEffect:e})=>e)??[]).slice(0,A),t=(a.covers||[]).map(({id:e})=>e),n=a.stickers?a.stickers.filter(({id:e})=>!t.includes(e)):[];return[...e,...a.covers||[],...n].slice(0,h)},[a]);(0,s.vJ)(()=>{!f&&C.length<h&&a&&y({stickerSetInfo:{shortName:a.shortName}})},[f,C.length,y,a,e]);const S=(0,s.hb)(()=>{p({stickerSetId:e})},[p,e]),w=(0,s.hb)(e=>{v({stickerSetInfo:e.stickerSetInfo})},[v]);if(!a)return;const k=C.length>0;return s.Ay.createElement("div",{key:a.id,className:"sticker-set",dir:E.isRtl?"rtl":void 0},s.Ay.createElement("div",{className:"sticker-set-header"},s.Ay.createElement("div",{className:"title-wrapper"},s.Ay.createElement("h3",{className:"title",dir:"auto"},a.title),s.Ay.createElement("p",{className:"count",dir:"auto"},E("Stickers",a.count,"i"))),s.Ay.createElement(d.A,{className:b?"is-added":void 0,color:"primary",size:"tiny",pill:!0,fluid:!0,onClick:S},E(b?"Stickers.Installed":"Stickers.Install"))),s.Ay.createElement("div",{className:"sticker-set-main shared-canvas-container"},s.Ay.createElement("canvas",{ref:g,className:"shared-canvas"}),!k&&s.Ay.createElement(m.A,null),k&&C.map(e=>s.Ay.createElement(c.A,{sticker:e,size:r.Rqe,observeIntersection:t,noPlay:!n||i,clickArg:e,onClick:w,noContextMenu:!0,isCurrentUserPremium:u,sharedCanvasRef:g}))))},p=(0,s.ph)((0,o.EK)((e,{stickerSetId:t})=>({set:(0,i.ycM)(e,t),shouldPlay:(0,i.ML4)(e),isCurrentUserPremium:(0,i.g29)(e)}))(y));n()}catch(e){n(e)}})},98159:(e,t,a)=>{a.d(t,{A:()=>u});var n=a(84051),s=a(13439),o=a(31481),r=a(90709),i=a(59852),l=a(76023),c=a(17712),d=a(39751);const m=3.675*l.$,u=(e,t,a,l,u,A,h)=>{const{showNotification:y,setWebAppPaymentSlug:p,openInvoice:v,closeWebApp:g,openSuggestedStatusModal:E,updateWebApp:b,updateContentSettings:f}=(0,s.ko)(),C=(0,n.li)(!1),S=(0,n.li)(),w=(0,n.li)(!1),k=(0,n.li)(),N=(0,d.A)();(0,n.vJ)(()=>{if(!e.current||!t)return;const a=()=>{h?.()},n=e.current;return n.addEventListener("load",a),()=>{n.removeEventListener("load",a)}},[h,e,t]);const I=(0,n.hb)(t=>{e.current?.contentWindow&&e.current.contentWindow.postMessage(JSON.stringify(t),"*")},[e]),P=(0,n.hb)(e=>{I({eventType:"fullscreen_changed",eventData:{is_fullscreen:e}})},[I]),M=(0,c.A)(t=>{if(!e.current)return;const a=e.current;a.src="about:blank",a.addEventListener("load",()=>{a.src=t},{once:!0})}),T=(0,n.hb)(e=>{if(C.current)return I({eventType:"reload_iframe"}),void(S.current=setTimeout(()=>{M(e)},500));M(e)},[I]),B=(0,n.hb)(t=>{if(!e.current)return;const{width:a,height:n}=e.current.getBoundingClientRect();I({eventType:"viewport_changed",eventData:{width:a,height:n,is_expanded:!0,is_state_stable:!t}})},[I,e]),x=(0,n.hb)(()=>{e.current&&(I({eventType:"safe_area_changed",eventData:{left:0,right:0,top:0,bottom:0}}),I({eventType:"content_safe_area_changed",eventData:{left:0,right:0,top:a?m:0,bottom:0}}))},[I,a,e]),L=(0,n.hb)(()=>{I({eventType:"theme_changed",eventData:{theme_params:(0,i.A)()}})},[I]),R=(0,n.hb)(e=>{I({eventType:"set_custom_style",eventData:e})},[I]),F=(0,n.hb)(t=>{if(w.current)return;const a=e.current?.contentWindow;if(a===t.source)try{const e=JSON.parse(t.data),{eventType:a,eventData:n}=e;if("web_app_ready"===a&&h?.(),"web_app_close"===a&&A){const e=(0,r.rp)(A);g({key:e,skipClosingConfirmation:!0})}if("web_app_request_viewport"===a&&B(N.isResizing),"web_app_request_safe_area"===a&&x(),"web_app_request_content_safe_area"===a&&x(),"web_app_request_theme"===a&&L(),"iframe_ready"===a){const e=getComputedStyle(document.body).getPropertyValue("--color-scrollbar");R("* {\n  scrollbar-width: thin;\n  scrollbar-color: %SCROLLBAR_COLOR% transparent;\n}\n\n*::-webkit-scrollbar {\n  width: 6px;\n  height: 6px;\n  background-color: transparent;\n}\n\n*::-webkit-scrollbar-thumb {\n  border-radius: 6px;\n  background-color: %SCROLLBAR_COLOR%;\n}\n\n*::-webkit-scrollbar-corner {\n  background-color: transparent;\n}".replace(/%SCROLLBAR_COLOR%/g,e)),C.current=Boolean(n.reload_supported)}if("iframe_will_reload"===a&&clearTimeout(S.current),"web_app_data_send"===a){if(!l)return;w.current=!0}if("web_app_read_text_from_clipboard"===a&&I({eventType:"clipboard_text_received",eventData:{req_id:n.req_id,data:null}}),"web_app_open_scan_qr_popup"===a&&y({message:"Scanning QR code is not supported in this client yet"}),"web_app_open_invoice"===a&&(p({slug:n.slug}),v({type:"slug",slug:n.slug})),"web_app_open_link"===a){const e=n.url;window.open(e,"_blank","noreferrer")}if("web_app_biometry_get_info"===a&&I({eventType:"biometry_info_received",eventData:{available:!1}}),"web_app_device_storage_clear"===a||"web_app_device_storage_get_key"===a||"web_app_device_storage_save_key"===a){const{req_id:e}=n;I({eventType:"device_storage_failed",eventData:{req_id:e,error:"UNSUPPORTED"}})}if("web_app_secure_storage_clear"===a||"web_app_secure_storage_get_key"===a||"web_app_secure_storage_restore_key"===a||"web_app_secure_storage_save_key"===a){const{req_id:e}=n;I({eventType:"secure_storage_failed",eventData:{req_id:e,error:"UNSUPPORTED"}})}if("web_app_start_accelerometer"===a&&I({eventType:"accelerometer_failed",eventData:{error:"UNSUPPORTED"}}),"web_app_start_gyroscope"===a&&I({eventType:"gyroscope_failed",eventData:{error:"UNSUPPORTED"}}),"web_app_start_device_orientation"===a&&I({eventType:"device_orientation_failed",eventData:{error:"UNSUPPORTED"}}),"web_app_add_to_home_screen"===a&&I({eventType:"home_screen_failed",eventData:{error:"UNSUPPORTED"}}),"web_app_check_home_screen"===a&&I({eventType:"home_screen_checked",eventData:{status:"unsupported"}}),"web_app_set_emoji_status"===a){const{custom_emoji_id:e,duration:t}=n;if(!e||"string"!=typeof e)return void I({eventType:"emoji_status_failed",eventData:{error:"SUGGESTED_EMOJI_INVALID"}});if(t)try{BigInt(t)}catch(e){return void I({eventType:"emoji_status_failed",eventData:{error:"DURATION_INVALID"}})}if(!A)return void I({eventType:"emoji_status_failed",eventData:{error:"UNKNOWN_ERROR"}});E({webAppKey:(0,r.rp)(A),customEmojiId:e,duration:Number(t),botId:A.botId})}if("web_app_verify_age"===a){const{passed:e}=n,t=(0,s.mS)().appConfig?.verifyAgeMin||o.lYi,a=n.age||0;e&&a>=t?(y({message:{key:"TitleAgeCheckSuccess"}}),f({isSensitiveEnabled:!0})):y({message:{key:"TitleAgeCheckFailed"}})}u(e)}catch(e){}},[l,I,u,R,A,L,B,x,h,N.isResizing,e]);return(0,n.vJ)(()=>{const{width:e,height:t,isResizing:a}=N;k.current&&k.current.width===e&&k.current.height===t&&!k.current.isResizing||(k.current={width:e,height:t,isResizing:a},B(a))},[B,x,N]),(0,n.vJ)(()=>{A?.plannedEvents?.length&&(A.plannedEvents.forEach(e=>{I(e)}),b({key:(0,r.rp)(A),update:{plannedEvents:[]}}))},[I,A]),(0,n.vJ)(()=>(window.addEventListener("message",F),()=>window.removeEventListener("message",F)),[F,e]),(0,n.vJ)(()=>{t&&e.current?.contentWindow?(B(),x(),w.current=!1):k.current=void 0},[t,a,B,x,e]),{sendEvent:I,sendFullScreenChanged:P,reloadFrame:T,sendViewport:B,sendSafeArea:x,sendTheme:L}}},98813:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.d(t,{A:()=>f});var s=a(84051),o=a(13439),r=a(89925),i=a(60919),l=a(87894),c=a(76023),d=a(4961),m=a(26072),u=a(5912),A=a(59030),h=a(17794),y=a(85839),p=a(19806),v=a(22720),g=e([A,h,y,p,v]);[A,h,y,p,v]=g.then?(await g)():g;const E=1.5*c.$,b=({isActive:e,addedSetIds:t,customEmojiSetIds:a,stickerSetsById:n,defaultReaction:i,shouldSuggestStickers:c,shouldUpdateStickerSetOrder:g,availableReactions:b,canPlayAnimatedEmojis:f,onReset:C})=>{const{setSettingOption:S,openStickerSet:w,openSettingsScreen:k}=(0,o.ko)(),N=(0,A.A)(),I=(0,s.li)(),{observe:P}=(0,u.BL)({rootRef:I}),M=(0,s.hb)(e=>{w({stickerSetInfo:e.stickerSetInfo})},[w]),T=(0,s.hb)(e=>{S({shouldUpdateStickerSetOrder:e})},[S]),B=(0,s.hb)(e=>{S({shouldSuggestStickers:e})},[S]),x=(0,s.Kr)(()=>t&&Object.values((0,l.Up)(n,t)),[t,n]);return(0,m.A)({isActive:e,onBack:C}),s.Ay.createElement("div",{className:"settings-content custom-scroll"},s.Ay.createElement("div",{className:"settings-item"},s.Ay.createElement(p.A,{label:N("SuggestStickers"),checked:c,onCheck:B}),s.Ay.createElement(v.A,{narrow:!0,onClick:()=>k({screen:r.VS.CustomEmoji}),icon:"smile"},N("StickersList.EmojiItem"),a&&s.Ay.createElement("span",{className:"settings-item__current-value"},a.length)),i&&s.Ay.createElement(v.A,{className:"SettingsDefaultReaction",narrow:!0,onClick:()=>k({screen:r.VS.QuickReaction})},s.Ay.createElement(h.A,{reaction:i,className:"current-default-reaction",size:E,availableReactions:b}),s.Ay.createElement("div",{className:"title"},N("DoubleTapSetting")))),s.Ay.createElement("div",{className:"settings-item"},s.Ay.createElement("h4",{className:"settings-item-header",dir:N.isRtl?"rtl":void 0},N("InstalledStickers.DynamicPackOrder")),s.Ay.createElement(p.A,{label:N("InstalledStickers.DynamicPackOrder"),checked:g,onCheck:T}),s.Ay.createElement("p",{className:"settings-item-description mt-3",dir:"auto"},N("InstalledStickers.DynamicPackOrderInfo"))),x&&s.Ay.createElement("div",{className:"settings-item"},s.Ay.createElement("h4",{className:"settings-item-header",dir:N.isRtl?"rtl":void 0},N("ChooseStickerMyStickerSets")),s.Ay.createElement("div",{ref:I},x.map(e=>s.Ay.createElement(y.A,{key:e.id,stickerSet:e,observeIntersection:P,onClick:M,noPlay:!f}))),s.Ay.createElement("p",{className:"settings-item-description mt-3",dir:"auto"},(0,d.A)(N("StickersBotInfo"),["links"]))))},f=(0,s.ph)((0,o.EK)(e=>({...(0,l.Up)(e.settings.byKey,["shouldSuggestStickers","shouldUpdateStickerSetOrder"]),addedSetIds:e.stickers.added.setIds,customEmojiSetIds:e.customEmojis.added.setIds,stickerSetsById:e.stickers.setsById,defaultReaction:e.config?.defaultReaction,availableReactions:e.reactions.availableReactions,canPlayAnimatedEmojis:(0,i.BWX)(e)}))(b));n()}catch(e){n(e)}})},99113:(e,t,a)=>{a.d(t,{A:()=>n});const n={content:"n8eENbaR",closeButton:"smosGkw9",contentText:"Qo4PtFZI",title:"wtfpombl",separator:"UoMeVIyC",userPicker:"nEYyTS_m",sendInvites:"Ttkq3nqt",avatarList:"Nc3SOtKd"}},99243:(e,t,a)=>{e.exports=a.p+"PremiumStar.39c1ff364d35554f4b80.svg"},99354:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.d(t,{A:()=>g});var s=a(84051),o=a(89925),r=a(31481),i=a(87357),l=a(74824),c=a(87679),d=a(45470),m=a(62587),u=a(69419),A=a(73767),h=a(50680),y=a(35913),p=e([m,u]);[m,u]=p.then?(await p)():p;const v=({wallpaper:e,theme:t,isSelected:a,onClick:n})=>{const{slug:p,document:v}=e,g=`wallpaper${v.id}`,E=v.previewBlobUrl,b=(0,m.A)(`${g}?size=m`),f=(0,d.A)(v.thumbnail?.dataUri,Boolean(b),!0),{transitionClassNames:C}=(0,h.A)(Boolean(b||E),void 0,void 0,"slow"),S=(0,s.li)(!1),[w,k]=(0,s.J0)(!1),{mediaData:N,loadProgress:I}=(0,u.A)(g,!w),P=!1===(0,A.A)(w),{shouldRender:M,transitionClassNames:T}=(0,h.A)(w&&!N||p===o.Vw,void 0,P,"slow"),B=(0,s.li)();B.current=t;const x=(0,s.hb)(()=>{(async()=>{const e=await(0,c.sZ)(N);await l.save(r.nfi,B.current,e),n(p)})()},[N,n,p]);(0,s.vJ)(()=>{N&&S.current&&(x(),S.current=!1)},[N,x]);const L=(0,s.hb)(()=>{N?x():(S.current=!0,k(e=>!e))},[N,x]),R=(0,i.A)("WallpaperTile",a&&"selected");return s.Ay.createElement("div",{className:R,onClick:L},s.Ay.createElement("div",{className:"media-inner"},s.Ay.createElement("canvas",{ref:f,className:"thumbnail"}),s.Ay.createElement("img",{src:b||E,className:(0,i.A)("full-media",C),alt:"",draggable:!1}),M&&s.Ay.createElement("div",{className:(0,i.A)("spinner-container",T)},s.Ay.createElement(y.A,{progress:I,onClick:L}))))},g=(0,s.ph)(v);n()}catch(e){n(e)}})},99476:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.d(t,{A:()=>c});var s=a(84051),o=a(45227),r=a(6807),i=e([r]);r=(i.then?(await i)():i)[0];const l=(0,o.P)({component:r.h}),c=()=>{const e=(0,s.li)(void 0);return(0,s.vJ)(()=>{let t;return e.current&&(t=l(e.current)),()=>{t?.unmount()}},[]),s.Ay.createElement("div",{className:"LeftSearch--content",ref:e})};n()}catch(e){n(e)}})},99753:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.d(t,{A:()=>p});var s=a(84051),o=a(13439),r=a(90709),i=a(60919),l=a(93578),c=a(4961),d=a(14),m=a(59030),u=a(19806),A=a(94189),h=e([m,u,A]);[m,u,A]=h.then?(await h)():h;const y=({modal:e,currentUser:t})=>{const{closeUrlAuthModal:a,acceptBotUrlAuth:n,acceptLinkUrlAuth:i}=(0,o.ko)(),[h,y]=(0,s.J0)(!0),[p,v]=(0,s.J0)(!0),g=(0,d.A)(e,!1),{domain:E,botId:b,shouldRequestWriteAccess:f}=g?.request||{},C=b?(0,o.mS)().users.byId[b]:void 0,S=(0,m.A)(),w=(0,s.hb)(()=>{e?.url&&h?(e.button?n:i)({isWriteAllowed:p}):g?.url&&window.open((0,l.Tc)(g.url),"_blank","noopener"),a()},[e,h,a,n,i,p,g]),k=(0,s.hb)(()=>{a()},[a]),N=(0,s.hb)(e=>{y(e),v(e)},[y]);return(0,s.vJ)(()=>{E&&(y(!0),v(Boolean(f)))},[f,E]),s.Ay.createElement(A.A,{isOpen:Boolean(e?.url),onClose:k,title:S("OpenUrlTitle"),confirmLabel:S("OpenUrlTitle"),confirmHandler:w},(0,c.A)(S("OpenUrlAlert2",g?.url),["links"]),E&&s.Ay.createElement(u.A,{className:"dialog-checkbox",checked:h,label:s.Ay.createElement(s.Ay.Fragment,null,(0,c.A)(S("Conversation.OpenBotLinkLogin",[E,(0,r.Yg)(t)]),["simple_markdown"])),onCheck:N}),f&&s.Ay.createElement(u.A,{className:"dialog-checkbox",checked:p,label:s.Ay.createElement(s.Ay.Fragment,null,(0,c.A)(S("Conversation.OpenBotLinkAllowMessages",(0,r.Yg)(C)),["simple_markdown"])),onCheck:v,disabled:!h}))},p=(0,s.ph)((0,o.EK)(e=>({currentUser:(0,i.mBe)(e,e.currentUserId)}))(y));n()}catch(e){n(e)}})}}]);
//# sourceMappingURL=9451.aaffea931606dd5ff4a3.js.map