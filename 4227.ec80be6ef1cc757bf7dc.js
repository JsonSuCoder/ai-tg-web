"use strict";(self.webpackChunkTelyAI=self.webpackChunkTelyAI||[]).push([[4227],{101:(e,t,n)=>{n.d(t,{A:()=>s});var a=n(84051),o=n(87679),i=n(56863);function s(e){const t=(0,a.li)(),{result:n}=(0,i.A)(()=>{if(!e)return Promise.resolve(void 0);t.current&&URL.revokeObjectURL(t.current);const n=URL.createObjectURL(e);return t.current=n,(0,o.NN)(n)},[e]);return(0,a.vJ)(()=>()=>{t.current&&(URL.revokeObjectURL(t.current),t.current=void 0)},[]),{image:n}}},4421:(e,t,n)=>{n.a(e,async(e,a)=>{try{n.d(t,{A:()=>C});var o=n(84051),i=n(13439),s=n(60919),c=n(87357),r=n(37836),l=n(30857),d=n(39351),m=n(73767),u=n(4507),A=e([d]),h=A.then?(await A)():A;d=h[0];const g=200,p=10;let y=0;const f=(0,r.Fe)(()=>{y=0}),v=({text:e,className:t,isDisabled:n,ref:a})=>{const{isRtl:r}=(0,d.A)(),A=(0,m.A)(e),h=(0,l.A)(),v=!(!(!n&&(0,s.PKK)((0,i.mS)())&&void 0!==A&&A!==e)||y>=p||(0===y&&f(),y++,0)),C=(0,o.Kr)(()=>v?E(e,A):e,[v,A,e]);return(0,o.vJ)(()=>{if(!v)return;const e=window.setTimeout(()=>{h()},g);return()=>{window.clearTimeout(e)}},[v,e]),o.Ay.createElement("span",{ref:a,className:(0,c.A)(t,!n&&u.A.root),dir:r?"rtl":void 0},C)},C=(0,o.ph)(v);function E(e,t){const n=[],a=e.length,i=t?.length??0;for(let s=0;s<=a;s++){const c=a-s,r=i-s;t&&r>=0&&e[c]!==t[r]?n.unshift(o.Ay.createElement("div",{className:u.A.characterContainer},o.Ay.createElement("div",{className:u.A.character},e[c]??""),o.Ay.createElement("div",{className:u.A.characterOld},t[r]),o.Ay.createElement("div",{className:u.A.characterNew},e[c]??""))):n.unshift(o.Ay.createElement("span",null,e[c]??""))}return n}a()}catch(I){a(I)}})},4507:(e,t,n)=>{n.d(t,{A:()=>a});const a={root:"tgKbsVmz","character-container":"IYTzbS8o",characterContainer:"IYTzbS8o",character:"Jw1oQFdk","character-old":"TZfEz3sc",characterOld:"TZfEz3sc","character-disappear":"ORlhAlOv",characterDisappear:"ORlhAlOv","character-new":"Y9ied8_t",characterNew:"Y9ied8_t","character-appear":"s_g6bwRZ",characterAppear:"s_g6bwRZ"}},7505:(e,t,n)=>{n.a(e,async(e,a)=>{try{n.d(t,{A:()=>h});var o=n(84051),i=n(13439),s=n(17663),c=n(59030),r=n(24433),l=n(55158),d=n(41036),m=n(22817),u=e([c,r]);function A({message:e,shouldRenderShowWhen:t,canLoadReadDate:n,closeContextMenu:a}){const{openPrivacySettingsNoticeModal:u}=(0,i.getActions)(),A=(0,c.A)(),{readDate:h}=e,g=n&&!h&&!t;return o.Ay.createElement(r.A,{icon:"message-read",className:m.A.item},o.Ay.createElement(d.Ay,{name:"fade",activeKey:g?1:2,className:m.A.transition},g?o.Ay.createElement(l.A,{className:m.A.skeleton}):o.Ay.createElement(o.Ay.Fragment,null,Boolean(h)&&A("PmReadAt",(0,s.U)(A,1e3*h)),!h&&t&&o.Ay.createElement("div",null,A("PmRead"),o.Ay.createElement("span",{className:m.A.get,onClick:()=>{a(),u({chatId:e.chatId,isReadDate:!0})}},A("PmReadShowWhen"))))))}[c,r]=u.then?(await u)():u;const h=(0,o.ph)(A);a()}catch(g){a(g)}})},9887:(e,t,n)=>{n.a(e,async(e,a)=>{try{n.d(t,{A:()=>f});var o=n(84051),i=n(87357),s=n(58443),c=n(76023),r=n(10722),l=n(17712),d=n(4438),m=n(46402),u=n(54746),A=n(39338),h=e([m]),g=h.then?(await h)():h;m=g[0];const p=2*c.$,y=({reaction:e,chosen:t,isReady:n,noAppearAnimation:a,style:c,isLocked:h,onToggleReaction:g,onSendPaidReaction:y,onShowPaidReactionModal:f})=>{const v=(0,o.li)(),C=(0,l.A)(()=>{"paid"!==e.type?g(e):y?.()}),{isContextMenuOpen:E,handleBeforeContextMenu:I,handleContextMenu:w,handleContextMenuClose:S,handleContextMenuHide:R}=(0,r.A)(v,"paid"!==e.type,void 0,void 0,void 0,!0);return(0,o.vJ)(()=>{E&&(f?.(),S(),R())},[S,f,R,E]),o.Ay.createElement("div",{className:(0,i.A)(A.A.root,A.A.custom,t&&"paid"!==e.type&&A.A.chosen,!a&&n&&A.A.customAnimated,a&&A.A.visible),ref:v,style:c,onClick:C,onMouseDown:I,onContextMenu:w},"paid"===e.type?o.Ay.createElement(d.A,{tgsUrl:s.w.StarReaction,size:p,noLoop:!1}):o.Ay.createElement(m.A,{documentId:e.documentId,size:p}),h&&o.Ay.createElement(u.A,{className:A.A.lock,name:"lock-badge"}))},f=(0,o.ph)(y);a()}catch(e){a(e)}})},11186:(e,t,n)=>{n.a(e,async(e,a)=>{try{n.d(t,{A:()=>A});var o=n(84051),i=n(31481),s=n(17663),c=n(80140),r=n(17712),l=n(59030),d=n(57003),m=e([l]),u=m.then?(await m)():m;l=u[0];const A=(e,t,n)=>{const a=(0,l.A)(),[m,u]=(0,o.J0)(),A=(0,r.A)((e,t=!1)=>{const n=Math.round(Math.max(e.getTime(),Date.now()+6e4)/1e3)+(t?0:(0,c.SF)());m?.(n),u(void 0)}),h=(0,r.A)(()=>{A(new Date(1e3*i.NkL),!0)}),g=(0,r.A)(()=>{u(void 0),t?.()}),p=(0,r.A)(e=>{u(()=>e)}),y=n?new Date(1e3*n):new Date;y.setSeconds(0),y.setMilliseconds(0);const f=new Date;return f.setFullYear(f.getFullYear()+1),[p,o.Ay.createElement(d.A,{isOpen:Boolean(m),withTimePicker:!0,selectedAt:y.getTime(),maxAt:(0,s.CS)(f),isFutureMode:!0,secondButtonLabel:e?a("Schedule.SendWhenOnline"):void 0,onClose:g,onSubmit:A,onSecondButtonClick:e?h:void 0})]};a()}catch(e){a(e)}})},11241:(e,t,n)=>{n.a(e,async(e,a)=>{try{n.d(t,{A:()=>k});var o=n(84051),i=n(13439),s=n(90709),c=n(60919),r=n(87357),l=n(43336),d=n(76023),m=n(37661),u=n(5912),A=n(17712),h=n(62587),g=n(50680),p=n(9373),y=n(18104),f=n(46402),v=n(41259),C=n(17794),E=n(93879),I=e([h,p,f,v,C]);[h,p,f,v,C]=I.then?(await I)():I;const w=1.5*d.$,S=1.9,R=6.5*d.$,b=.5,N=d.$,M=({containerId:e,reaction:t,className:n,size:a=w,effectSize:c=R,activeReactions:d,availableReactions:I,genericEffects:M,withEffects:k,withEffectOnly:P,shouldPause:x,shouldLoop:T,loopLimit:L,observeIntersection:D})=>{const{stopActiveReaction:O}=(0,i.getActions)(),B=(0,o.li)(),F="custom"===t.type,_=(0,o.Kr)(()=>I?.find(e=>(0,s.a0)(e.reaction,t)),[I,t]),U=_?.centerIcon?.id,{customEmoji:K}=(0,p.A)(F?t.documentId:void 0),j=(0,o.Kr)(()=>{if(!F)return _?.aroundAnimation?.id;if(!K)return;const e=I?.find(e=>e.reaction.emoticon===K.emoji)?.aroundAnimation?.id;return e},[_,I,K,F]),z=(0,o.Kr)(()=>{if(j)return j;if(!M?.stickers)return;const{stickers:e}=M;return e[Math.floor(Math.random()*e.length)].id},[j,M]),$=(0,u.Vz)(B,D),J=U&&(0,s.aL)(U),H=z&&(0,s.aL)(z),q=(0,h.A)(J),G=(0,h.A)(H),W=(0,o.Kr)(()=>d?.find(e=>(0,s.a0)(e,t)),[d,t]),V=Boolean(k&&W&&(F||q)&&G),Y=$&&(V&&!P||T),{shouldRender:Z,transitionClassNames:X}=(0,g.A)(V,void 0,!0,"slow"),{shouldRender:Q,transitionClassNames:ee}=(0,g.A)(Y,void 0,!0,"slow"),te=(0,A.A)(()=>{O({containerId:e,reaction:t})}),[ne,ae,oe]=(0,m.A)(),ie=!(F||Y&&ne),{shouldRender:se,transitionClassNames:ce}=(0,g.A)(ie,void 0,!0),re=(0,r.A)(E.A.root,Z&&E.A.animating,P&&E.A.withEffectOnly,n);return o.Ay.createElement("div",{className:re,ref:B},!P&&se&&o.Ay.createElement(C.A,{className:ce,reaction:t,availableReactions:I,size:a,observeIntersection:D}),!P&&F&&o.Ay.createElement(f.A,{documentId:t.documentId,className:E.A.customEmoji,size:a,noPlay:x,noVideoOnMobile:!0,loopLimit:L,observeIntersectionForPlaying:D,forceAlways:!0}),Q&&!F&&o.Ay.createElement(y.A,{key:`${U}-${a}`,className:(0,r.A)(E.A.animatedIcon,ee),size:(0,l.Ki)(a*S),tgsUrl:q,play:$&&!x,noLoop:!T,onLoad:ae,onEnded:oe,forceAlways:!0}),Z&&o.Ay.createElement(o.Ay.Fragment,null,o.Ay.createElement(y.A,{key:`${z}-${c}`,className:(0,r.A)(E.A.effect,X),size:c,tgsUrl:G,play:$,noLoop:!0,onEnded:te,forceAlways:!0}),F&&!j&&$&&o.Ay.createElement(v.A,{reaction:t,className:X,particleSize:Math.max(a*b,N),onEnded:te})))},k=(0,o.ph)((0,i.EK)((e,{containerId:t})=>{const{genericEmojiEffects:n,reactions:a}=e,{activeReactions:o}=(0,c.nTw)(e),i=(0,c.xYJ)(e,"reactionEffects");return{activeReactions:o?.[t],availableReactions:a.availableReactions,genericEffects:n,withEffects:i}})(M));a()}catch(e){a(e)}})},12212:(e,t,n)=>{n.d(t,{A:()=>a});const a={root:"nY2ggBsF",withBadge:"RYtVQAjM",badgeContainer:"dhigNjAq","slide-in":"YfcP52Ym",slideIn:"YfcP52Ym","floating-badge-wrapper":"cOpfCGPh",floatingBadgeWrapper:"cOpfCGPh","rotate-in":"AgMPRKbT",rotateIn:"AgMPRKbT","floating-badge":"uNwBLNOy",floatingBadge:"uNwBLNOy","floating-badge-triangle":"qRwO7SZm",floatingBadgeTriangle:"qRwO7SZm","floating-badge-icon":"MJ7MTmxi",floatingBadgeIcon:"MJ7MTmxi","floating-badge-value":"MwzZt3Qo",floatingBadgeValue:"MwzZt3Qo",left:"_b5HgBXr",right:"P6mch4bB",progress:"sZZV0yoe",fullProgress:"m8ie8IxL",primary:"Zi0w7QJ3"}},14622:(e,t,n)=>{n.d(t,{A:()=>l});var a=n(84051),o=n(13439),i=n(81954),s=n(17712),c=n(93545),r=n(672);const l=function(e,t=!1){const{focusLastMessage:n}=(0,o.getActions)(),l=(0,a.li)(0),d=(0,s.A)(e=>{const t=l.current,o=e.contentRect.height;if(l.current=o,(0,i.o8)()||!t||o<=t)return;const s=e.target.closest(".MessageList");if(!s)return;(0,a.VK)(400);const c=o-t,{offsetHeight:r,scrollHeight:d,scrollTop:m}=s;Math.round(d-m-r)-c<=5&&n()}),m=(0,r.A)(d,[d],300,!1);(0,c.A)(e,m,!t)}},14737:(e,t,n)=>{n.d(t,{A:()=>i});var a=n(84051),o=n(17712);const i=function(e,t){const n=(0,o.A)(e);(0,a.vJ)(()=>{if("number"!=typeof t)return;const e=setTimeout(()=>n(),t);return()=>clearTimeout(e)},[t])}},15535:(e,t,n)=>{n.a(e,async(e,a)=>{try{n.d(t,{A:()=>y});var o=n(84051),i=n(31481),s=n(66644),c=n(96454),r=n(87357),l=n(83868),d=n(14737),m=n(43874),u=n(59030),A=n(64493),h=n(54746),g=e([u,A]);[u,A]=g.then?(await g)():g;const p=({isLoading:e=!1,isPasswordVisible:t,error:n,hint:a,placeholder:g="Password",submitLabel:p="Next",description:y,shouldShowSubmit:f,shouldResetValue:v,shouldDisablePasswordManager:C=!1,noRipple:E=!1,clearError:I,onChangePasswordVisibility:w,onInputChange:S,onSubmit:R})=>{const b=(0,o.li)(),N=(0,u.A)(),{isMobile:M}=(0,m.Ay)(),[k,P]=(0,o.J0)(""),[x,T]=(0,o.J0)(!1),L=M?550:400;return(0,o.vJ)(()=>{v&&P("")},[v]),(0,d.A)(()=>{c.TF||b.current.focus()},L),(0,o.vJ)(()=>{n&&(0,s.RK)(()=>{b.current.focus(),b.current.select()})},[n]),o.Ay.createElement("form",{action:"",onSubmit:R?function(t){t.preventDefault(),e||x&&R(k)}:l.A,autoComplete:"off"},o.Ay.createElement("div",{className:(0,r.A)("input-group password-input",k&&"touched",n&&"error"),dir:N.isRtl?"rtl":void 0},C&&o.Ay.createElement("input",{type:"password",id:"prevent_autofill",autoComplete:"off",className:"visually-hidden",tabIndex:-2}),o.Ay.createElement("input",{ref:b,className:"form-control",type:t?"text":"password",id:"sign-in-password",value:k||"",autoComplete:C?"one-time-code":"current-password",onChange:function(e){n&&I();const{target:t}=e;P(t.value),T(t.value.length>=i.AGC),S&&S(t.value)},maxLength:256,dir:"auto"}),o.Ay.createElement("label",null,n||a||g),o.Ay.createElement("div",{className:"div-button toggle-password",onClick:function(){w(!t)},role:"button",tabIndex:0,title:"Toggle password visibility","aria-label":"Toggle password visibility"},o.Ay.createElement(h.A,{name:t?"eye":"eye-crossed"}))),y&&o.Ay.createElement("p",{className:"description"},y),R&&(x||f)&&o.Ay.createElement(A.A,{size:"smaller",type:"submit",ripple:!E,isLoading:e,disabled:!x},p))},y=(0,o.ph)(p);a()}catch(e){a(e)}})},15640:(e,t,n)=>{function a(e){return"touches"in e?{x:e.touches[0].clientX,y:e.touches[0].clientY}:{x:e.clientX,y:e.clientY}}n.d(t,{A:()=>a})},16460:(e,t,n)=>{function a(e,t){let n=0,a=0,o=e;for(;o&&o!==t&&!o.contains(t);)n+=o.offsetTop,a+=o.offsetLeft,o=o.offsetParent;return n-=t.clientTop,a-=t.clientLeft,{top:n,left:a}}n.d(t,{A:()=>a})},17794:(e,t,n)=>{n.a(e,async(e,a)=>{try{n.d(t,{A:()=>h});var o=n(84051),i=n(90709),s=n(87357),c=n(62587),r=n(83057),l=n(46402),d=n(54746),m=n(61911),u=e([c,l]);[c,l]=u.then?(await u)():u;const A=({reaction:e,availableReactions:t,className:n,size:a,withIconHeart:u,observeIntersection:A})=>{const h=(0,o.Kr)(()=>t?.find(t=>(0,i.a0)(t.reaction,e)),[t,e]),g=h?.staticIcon?.id,p=g?`document${g}`:void 0,y=(0,c.A)(p),f=(0,r.A)(y),v="emoji"===e.type&&"🦄"===e.emoticon,C=u&&"emoji"===e.type&&"❤"===e.emoticon;return"custom"===e.type?o.Ay.createElement(l.A,{documentId:e.documentId,className:(0,s.A)("ReactionStaticEmoji",n),size:a,observeIntersectionForPlaying:A}):C?o.Ay.createElement(d.A,{name:"heart",className:"ReactionStaticEmoji",style:`font-size: ${a}px; width: ${a}px`}):o.Ay.createElement("img",{className:(0,s.A)("ReactionStaticEmoji",v&&"with-unicorn-fix",f,n),style:a?`width: ${a}px; height: ${a}px`:void 0,src:y||m,alt:h?.title,draggable:!1})},h=(0,o.ph)(A);a()}catch(e){a(e)}})},22817:(e,t,n)=>{n.d(t,{A:()=>a});const a={item:"C3LVl_JT",get:"bmxij_dk",skeleton:"cd1ZZeSy",transition:"mg4sBQ9n"}},24473:(e,t,n)=>{n.d(t,{A:()=>a});const a={root:"OHkx_W75",clickable:"VUSwo4t5",separator:"P53DrbWA",disabled:"tvZeVJPh",title:"JSSC0N8V",subtitle:"OYmzCSp2",withAvatar:"dMT9byM6",multiline:"neXqB2_A",input:"kmjqObdP",startInput:"F0Hv3EQm",endInput:"iqGhSQGm",avatarElement:"dnAaRPCo"}},26096:(e,t,n)=>{function a(e){const t=e.commonAncestorContainer,n=t.nodeType===Node.TEXT_NODE?t.parentNode:t;return Boolean(n.closest(".message-content-wrapper .text-content"))&&!(Boolean(n.closest(".EmbeddedMessage"))||Boolean(n.closest(".WebPage")))}n.d(t,{R:()=>a})},29801:(e,t,n)=>{n.a(e,async(e,a)=>{try{n.d(t,{A:()=>u});var o=n(84051),i=n(17663),s=n(59030),c=n(24433),r=n(55158),l=n(22817),d=e([s,c]);function m({message:e}){const t=(0,s.A)(),{editDate:n}=e,a=!n;return o.Ay.createElement(c.A,{icon:"clock-edit",className:l.A.item},a?o.Ay.createElement(r.A,{className:l.A.skeleton}):Boolean(n)&&t("Chat.PrivateMessageEditTimestamp.Date",(0,i.U)(t,1e3*n)))}[s,c]=d.then?(await d)():d;const u=(0,o.ph)(m);a()}catch(A){a(A)}})},29886:(e,t,n)=>{n.d(t,{A:()=>o});var a=n(84051);function o(e){const t=(0,a.li)(),n=(0,a.li)();return n.current!==e&&(t.current=n.current),n.current=e,t.current}},31460:(e,t,n)=>{n.d(t,{P:()=>i});var a=n(31481),o=n(96454);function i(e,t,n=!1,i=!1){return n||t===a.dnp?"none":t===a.zHL?"slideFade":"slideOptimized"===e?i?"slideOptimizedRtl":"slideOptimized":"slide"===e?i?"slideRtl":"slide":o.Ni?"slideFade":o.pz?"slideLayers":"pushSlide"}},31471:(e,t,n)=>{n.a(e,async(e,a)=>{try{n.d(t,{L:()=>y});var o=n(17965),i=n.n(o),s=n(13439),c=n(23174),r=n(90709),l=n(3544),d=n(60919),m=n(96454),u=n(85982),A=n(81686),h=n(74167),g=n(49086),p=e([l,h,g]);function y(e,t,n,a,o,p,y,C){const{webPage:E}=t||{},I=[],w=(0,r.P5)(e),S=(0,r.yl)(e)||((0,r.rU)(E)?void 0:(0,r.eY)(E)),R=(0,r.Qm)(e),b=S?(0,r.rI)(S,"full"):void 0,N=a&&S&&(b||(0,r.KG)(S))&&u.WO&&!m.Yw,M=window.getSelection();if(N&&I.push({label:"lng_context_copy_image",icon:"copy-media",handler:()=>{Promise.resolve(b?h.hd(b,c.qZ.BlobUrl):S.blobUrl).then(u.qp),o?.()}}),a&&n)I.push({label:"lng_context_copy_link",icon:"copy",handler:()=>{(0,u.eM)(n),o?.()}});else if(a&&w){const n=Boolean(M?.anchorNode?.parentNode&&M.anchorNode.parentNode.closest(".Message .content-inner")&&""!==M.toString().replace(/(?:\r\n|\r|\n)/g,"")&&f(e));I.push({label:v(n),icon:"copy",handler:()=>{const a=(0,A.A)();if(a?.length&&y)y(a);else if(n)document.execCommand("copy");else{const n=(0,g.V)({message:e,shouldRenderAsHtml:!0});n&&(0,u.A)(n.join(""),(0,l.Gn)(e,t))}o?.()}})}else if(a&&w){const n=Boolean(M?.anchorNode?.parentNode&&M.anchorNode.parentNode.closest(".Message .content-inner")&&""!==M.toString().replace(/(?:\r\n|\r|\n)/g,"")&&f(e)),a=(0,s.mS)(),{id:c,chatId:r}=e,m=(0,d.RnX)(a,r),{autoTranslateLanguage:h}=a.settings.byKey,p=h&&c?m?.byLangCode[h]?.[c]:void 0,{isPending:C,text:E}=p||{};E&&!C?I.push({label:v(n),icon:"copy",handler:()=>{n?document.execCommand("copy"):i()(E.text),o?.()}}):I.push({label:v(n),icon:"copy",handler:()=>{const a=(0,A.A)();if(a?.length&&y)y(a);else if(n)document.execCommand("copy");else{const n=(0,g.V)({message:e,shouldRenderAsHtml:!0});n&&(0,u.A)(n.join(""),(0,l.Gn)(e,t))}o?.()}})}return p&&I.push({label:"lng_context_copy_message_link",icon:"link",handler:p}),R&&C&&I.push({label:"lng_profile_copy_phone",icon:"copy",handler:()=>{C(),o?.()}}),I}function f(e){const t=window.getSelection(),n=t?.anchorNode?.parentNode,a=n?.closest(".Message.message-list-item");return(0,r.GZ)(e.id)===a?.id}function v(e){return e?"lng_context_copy_selected":"lng_context_copy_text"}[l,h,g]=p.then?(await p)():p,a()}catch(C){a(C)}})},31722:(e,t,n)=>{n.d(t,{A:()=>a});const a={container:"YmM5biTv",header:"S7WFT2bv",pickerCategoryTitle:"YK1300x2",peerChip:"gsKPBPoK",pickerList:"yLCbiItq",padded:"bXzIGw8s",noResults:"dXWKD0ve",onlineStatus:"d5GDOYh9"}},33096:(e,t,n)=>{n.a(e,async(e,a)=>{try{n.d(t,{A:()=>k});var o=n(84051),i=n(13439),s=n(90709),c=n(87357),r=n(14242),l=n(76023),d=n(63527),m=n(10722),u=n(82117),A=n(39351),h=n(17712),g=n(29886),p=n(34201),y=n(4421),f=n(67693),v=n(90578),C=n(11241),E=n(85118),I=n(64493),w=n(69988),S=e([A,y,f,C,I]);[A,y,f,C,I]=S.then?(await S)():S;const R=1.25*l.$,b=3;function N(e){return e.stars}const M=({reaction:e,containerId:t,isOwnMessage:n,recentReactors:a,className:l,chosenClassName:S,chatId:M,messageId:k,isOutside:P,observeIntersection:x,onClick:T,onPaidClick:L})=>{const{openStarsBalanceModal:D,resetLocalPaidReactions:O,openPaidReactionModal:B,requestWave:F}=(0,i.getActions)(),_=(0,o.li)(),U=(0,o.li)(),K=(0,o.li)(),j=(0,A.A)(),z="paid"===e.reaction.type,$=(0,d.A)(N),J=Boolean($),H=(0,h.A)((e=1)=>{L?.(e)}),q=(0,h.A)(t=>{if("paid"===e.reaction.type)return t.stopPropagation(),void H();T?.(e.reaction)}),{isContextMenuOpen:G,handleBeforeContextMenu:W,handleContextMenu:V,handleContextMenuClose:Y,handleContextMenuHide:Z}=(0,m.A)(_,"paid"!==e.reaction.type,void 0,void 0,void 0,!0);(0,o.vJ)(()=>{G&&(B({chatId:M,messageId:k}),Y(),Z())},[Y,Z,G,M,k]),(0,u.A)(([t])=>{const n=e.localAmount,a=_.current;if(!n||!a||n===t?.localAmount)return;if(J&&n>$.balance.amount)return D({originReaction:{chatId:M,messageId:k,amount:n}}),void O({chatId:M,messageId:k});if(e.localAmount){const{left:e,top:t}=a.getBoundingClientRect(),n=e+a.offsetWidth/2,o=t+a.offsetHeight/2;F({startX:n,startY:o})}const o=Number(getComputedStyle(a).scale)||1;K.current?.cancel(),K.current=a.animate([{scale:o},{scale:Math.min(1.2*o,b),offset:.2},{scale:1}],{duration:500*o,easing:"ease-out"})},[e,$?.balance,J,M,k]);const X=(0,g.A)(e.localAmount),{shouldRender:Q}=(0,p.A)({isOpen:Boolean(e.localAmount),ref:U,className:"slow",withShouldRender:!0});return o.Ay.createElement(I.A,{className:(0,c.A)(w.A.root,n&&w.A.own,z&&w.A.paid,P&&w.A.outside,(0,s.eu)(e)&&w.A.chosen,(0,s.eu)(e)&&S,l),size:"tiny",ref:_,onMouseDown:W,onContextMenu:V,onClick:q},"paid"===e.reaction.type?o.Ay.createElement(o.Ay.Fragment,null,o.Ay.createElement(E.A,{preset:"button"}),o.Ay.createElement(v.A,{className:w.A.animatedEmoji,containerId:t,reaction:e.reaction,size:R,localAmount:e.localAmount,observeIntersection:x}),Q&&o.Ay.createElement(y.A,{ref:U,text:`+${(0,r.Vw)(j,e.localAmount||X)}`,className:w.A.paidCounter})):o.Ay.createElement(C.A,{className:w.A.animatedEmoji,containerId:t,reaction:e.reaction,size:R,observeIntersection:x}),a?.length?o.Ay.createElement(f.A,{size:"mini",peers:a}):o.Ay.createElement(y.A,{text:(0,r.Vw)(j,e.count+(e.localAmount||0)),className:w.A.counter}))},k=(0,o.ph)(M);a()}catch(P){a(P)}})},36838:(e,t,n)=>{n.d(t,{A:()=>o});var a=n(84051);const o=(e,t,n=!1)=>{(0,a.vJ)(()=>{if(t)return;const a=e.current;function o(e){e.deltaX||(a.scrollLeft+=e.deltaY/4,n&&e.preventDefault())}return a.addEventListener("wheel",o,{passive:!n}),()=>{a.removeEventListener("wheel",o)}},[e,t,n])}},39338:(e,t,n)=>{n.d(t,{A:()=>a});const a={root:"uGUjDZKl",custom:"oc1hpMwv",visible:"kqcWe4tf","custom-animated":"sx6RTuAU",customAnimated:"sx6RTuAU","custom-fade-in":"_p445E1b",customFadeIn:"_p445E1b",chosen:"M62HGuIV","static-icon":"MZ2tH980",staticIcon:"MZ2tH980",lock:"WMpEr5XQ"}},41259:(e,t,n)=>{n.a(e,async(e,a)=>{try{n.d(t,{A:()=>g});var o=n(84051),i=n(90709),s=n(96454),c=n(87357),r=n(95807),l=n(62587),d=n(46402),m=n(61817),u=e([l,d]);[l,d]=u.then?(await u)():u;const A=7,h=({reaction:e,isLottie:t,className:n,particleSize:a,onEnded:u})=>{const h=(0,i.aL)(e.documentId,!0),g=(0,l.A)(t?void 0:h),y=(0,o.Kr)(()=>s.ol?Array.from({length:A}).map(()=>p(a)):[],[a]);if(g||t)return o.Ay.createElement("div",{className:(0,c.A)(m.A.root,n),style:(0,r.A)(Boolean(a)&&`--particle-size: ${a}px`)},y.map((n,i)=>{const s=`--offset-path: path('${n}');`;return t?o.Ay.createElement(d.A,{documentId:e.documentId,className:m.A.particle,style:s,withSharedAnimation:!0,size:a,onAnimationEnd:0===i?u:void 0}):o.Ay.createElement("img",{src:g,alt:"",className:m.A.particle,style:s,draggable:!1,onAnimationEnd:0===i?u:void 0})}))},g=(0,o.ph)(h);function p(e=20){const t=(e/2+Math.random()*e*3)*(Math.random()>.5?1:-1),n=e+Math.random()*e*4;return`M 0 0 C 0 0 ${t} ${-n-e} ${t} ${n}`}a()}catch(y){a(y)}})},41512:(e,t,n)=>{n.d(t,{Y:()=>o});var a=n(43503);function o(e){if("none"===e.style.display)return!1;const t=e.getBoundingClientRect(),{height:n}=a.A.get();return t.top<=n&&t.top+t.height>=0}},41537:(e,t,n)=>{n.a(e,async(e,a)=>{try{n.d(t,{A:()=>v});var o=n(84051),i=n(13439),s=n(90709),c=n(60919),r=n(87357),l=n(60343),d=n(15283),m=n(17712),u=n(59030),A=n(33096),h=n(73066),g=e([u,A,h]);[u,A,h]=g.then?(await g)():g;const p=3,y=5e3,f=({message:e,threadId:t,isOutside:n,maxWidth:a,metaChildren:g,observeIntersection:f,noRecentReactors:v,isCurrentUserPremium:C,tags:E,isAccountFrozen:I})=>{const{toggleReaction:w,addLocalPaidReaction:S,updateMiddleSearch:R,performMiddleSearch:b,openPremiumModal:N,resetLocalPaidReactions:M,showNotification:k,openFrozenAccountModal:P}=(0,i.getActions)(),x=(0,u.A)(),{results:T,areTags:L,recentReactions:D}=e.reactions,O=Boolean(e.areReactionsPossible&&e.reactions),B=(0,o.Kr)(()=>T.reduce((e,t)=>e+t.count,0),[T]),F=(0,o.Kr)(()=>{const e=(0,i.mS)();return D?.reduce((t,n)=>{const{reaction:a,peerId:o}=n,i=(0,s.Jj)(a),r=(0,c.PVB)(e,o);if(!r)return t;const l=t[i]||[];return l.push(r),t[i]=l,t},{})},[D]),_=(0,o.Kr)(()=>{const t=(0,l.bj)(e);return T.map(e=>{const n=(0,s.Jj)(e.reaction),a=F?.[n],o=B>p||v,i=L?E?.[n]:void 0;return{reaction:e,reactionKey:n,messageKey:t,recentReactors:o?void 0:a,isChosen:(0,s.eu)(e),tag:i}})},[e,v,F,T,L,E,B]),U=(0,m.A)(n=>{if(!I)return L?C?(R({chatId:e.chatId,threadId:t,update:{savedTag:n}}),void b({chatId:e.chatId,threadId:t})):void N({initialSection:"saved_tags"}):void w({chatId:e.chatId,messageId:e.id,reaction:n});P()}),K=(0,o.Kr)(()=>T.find(e=>"paid"===e.reaction.type)?.localAmount||0,[T]),j=(0,m.A)(t=>{I?P():S({chatId:e.chatId,messageId:e.id,count:t})});(0,o.vJ)(()=>{K&&k({localId:(0,l.bj)(e),title:x("StarsSentTitle"),message:x("StarsSentText",K),actionText:x("StarsSentUndo"),cacheBreaker:K.toString(),action:{action:"resetLocalPaidReactions",payload:{chatId:e.chatId,messageId:e.id}},dismissAction:{action:"sendPaidReaction",payload:{chatId:e.chatId,messageId:e.id}},duration:y,shouldShowTimer:!0,disableClickDismiss:!0,icon:"star"})},[x,e,K]);const z=(0,m.A)(t=>{I?P():w({chatId:e.chatId,messageId:e.id,reaction:t})});return(0,d.A)(()=>()=>{M({chatId:e.chatId,messageId:e.id})}),o.Ay.createElement("div",{className:(0,r.A)("Reactions",n&&"is-outside",O&&"is-service"),style:a?`max-width: ${a}px`:void 0,dir:x.isRtl?"rtl":"ltr"},_.map(({reaction:t,recentReactors:a,messageKey:i,reactionKey:s,isChosen:c,tag:r})=>L?o.Ay.createElement(h.A,{key:s,className:"message-reaction",chosenClassName:"chosen",containerId:i,isOwnMessage:e.isOutgoing,isChosen:c,reaction:t.reaction,tag:r,withContextMenu:C,onClick:U,onRemove:z,observeIntersection:f}):o.Ay.createElement(A.A,{key:s,chatId:e.chatId,messageId:e.id,className:"message-reaction",chosenClassName:"chosen",containerId:i,isOwnMessage:e.isOutgoing,recentReactors:a,isOutside:n,reaction:t,onClick:U,onPaidClick:j,observeIntersection:f})),g)},v=(0,o.ph)(f);a()}catch(e){a(e)}})},45470:(e,t,n)=>{n.d(t,{A:()=>d});var a=n(84051),o=n(32610),i=n(66644),s=n(96454),c=n(35297);const r=2,l=2;function d(e,t=!1,n,d=r,m,u){const A=(0,a.li)(),h=(0,a.li)();return(0,c.A)(()=>{t||(h.current=!1)},[e,t]),(0,a.vJ)(()=>{const a=A.current;if(!e||!a||t||h.current)return;h.current=!0;const c=new Image,r=()=>{const e=m||c.width,t=u||c.height,n=a.getContext("2d",{alpha:!1});(0,i.RK)(()=>{a.width=e,a.height=t,s.QH&&(n.filter=`blur(${d}px)`),n.drawImage(c,2*-d,2*-d,e+4*d,t+4*d),s.QH||(0,o.A)(n,0,0,e,t,d,l)})};c.onload=()=>{n?(0,i.YS)(r):r()},c.src=e},[e,t,u,m,d,n]),A}},46256:(e,t,n)=>{n.a(e,async(e,a)=>{try{n.d(t,{A:()=>f});var o=n(84051),i=n(66644),s=n(87357),c=n(45470),r=n(39351),l=n(17712),d=n(50680),m=n(54746),u=n(52884),A=e([r]),h=A.then?(await A)():A;r=h[0];const g=25,p=500,y=({isVisible:e,withAnimation:t,thumbDataUri:n,isNsfw:a,className:A,width:h,height:y})=>{const f=(0,o.li)(),v=(0,r.A)(),{shouldRender:C,transitionClassNames:E}=(0,d.A)(e,void 0,!0,!t&&void 0,void 0,p),I=(0,c.A)(n,!C,void 0,g,h,y),w=(0,l.A)(e=>{if(!f.current)return;const t=f.current,n=e.currentTarget.getBoundingClientRect(),a=e.clientX-n.left,o=e.clientY-n.top,s=a-n.width/2,c=o-n.height/2;(0,i.RK)(()=>{t.setAttribute("style",`--click-shift-x: ${s}px; --click-shift-y: ${c}px`)})});if(C)return o.Ay.createElement("div",{className:(0,s.A)(u.A.root,E,A,t&&u.A.maskAnimation),ref:f,onClick:t?w:void 0},o.Ay.createElement("canvas",{ref:I,className:u.A.canvas,width:h,height:y}),o.Ay.createElement("div",{className:u.A.dots}),a&&o.Ay.createElement("span",{className:u.A.nsfw},o.Ay.createElement(m.A,{name:"eye-crossed-outline",className:u.A.nsfwIcon}),v("MediaSpoilerSensitive")))},f=(0,o.ph)(y);a()}catch(e){a(e)}})},49086:(e,t,n)=>{n.a(e,async(e,a)=>{try{n.d(t,{C:()=>h,V:()=>A});var o=n(13439),i=n(23174),s=n(90709),c=n(3544),r=n(60343),l=n(58849),d=n(4961),m=n(15384),u=e([c,m]);function A({message:e,highlight:t,emojiSize:n,asPreview:a,truncateLength:o,isProtected:i,forcePlayback:c,shouldRenderAsHtml:d,isForMediaViewer:u,threadId:A,maxTimestamp:h}){const{text:g,entities:p}=e.content.text||{};if(!g){const t=(0,s.P5)(e)?.text;return t?[(0,l.A)(t,o)]:void 0}const y=(0,r.bj)(e);return(0,m.fd)({text:(0,l.A)(g,o),entities:p,highlight:t,emojiSize:n,shouldRenderAsHtml:d,containerId:`${u?"mv-":""}${y}`,asPreview:a,isProtected:i,forcePlayback:c,messageId:"id"in e?e.id:void 0,chatId:e.chatId,threadId:A,maxTimestamp:h})}function h(e,t,n=!1,a,r=c.vs){const{entities:m}=t.content.text||{},u=(0,o.mS)(),h=(0,s.ni)(u,t),g=m?.some(e=>e.type===i.C7.Spoiler),p=m?.some(e=>e.type===i.C7.CustomEmoji);if(!g&&!p){const o=(0,l.A)((0,c.dS)(e,t,h,n),r);return a?(0,d.A)(o,["emoji","highlight"],{highlight:a}):(0,d.A)(o)}const y=!n&&(0,c.Su)(t),f=y?`${y} `:"",v=A({message:t,highlight:a,asPreview:!0,truncateLength:r}),C=(0,c.oL)(e,t,h,v);return[...(0,d.A)(f),...Array.isArray(C)?C:[C]].filter(Boolean)}[c,m]=u.then?(await u)():u,a()}catch(g){a(g)}})},49504:(e,t,n)=>{n.d(t,{A:()=>a});const a={subtitle:"cGrbcqD_"}},49746:(e,t,n)=>{n.d(t,{A:()=>i});var a=n(84051),o=n(13439);function i(e,t,n,i,s){const{loadMessage:c}=(0,o.getActions)();(0,a.vJ)(()=>{s||t&&!n&&c({chatId:e,messageId:t,replyOriginForId:i})},[s,e,n,t,i])}},50541:(e,t,n)=>{n.d(t,{A:()=>a});const a={root:"kXs18Nmi",avatar:"XND8fhC1",badge:"SHyAyGFO"}},52647:(e,t,n)=>{n.a(e,async(e,a)=>{try{n.d(t,{A:()=>R});var o=n(84051),i=n(66644),s=n(90709),c=n(87357),r=n(95807),l=n(87679),d=n(17712),m=n(62587),u=n(93545),A=n(38691),h=n(84537),g=e([m]),p=g.then?(await g)():g;m=p[0];const y=3,f=8,v=.5,C=.05,E=.4,I=20,w=250,S=({backgroundColors:e,patternColor:t,patternIcon:n,clearBottomSector:a,className:g})=>{const p=(0,o.li)(),S=(0,o.li)(),[R,b]=(0,o.Ul)({width:0,height:0}),N=(0,A.A)(),[M,k]=(0,o.J0)(),P=n&&(0,s.Mw)(n,"preview"),x=(0,m.A)(P);(0,o.vJ)(()=>{x&&(0,l.NN)(x).then(k)},[x]);const T=(0,o.Kr)(()=>{const e=[];for(let t=1;t<=y;t++){const n=Math.floor(f*(1+(t-1)*v)),o=t/y,i=C+(E-C)*o,s=t%2==0?Math.PI/n:0;for(let t=0;t<n;t++){const c=t/n*Math.PI*2+s;if(a&&c>.45*Math.PI&&c<.55*Math.PI)continue;const r=.5+1.71*i*Math.cos(c),l=.5+i*Math.sin(c),d=1.4-o*Math.random();e.push({x:r,y:l,sizeFactor:d})}}return e},[a]);(0,u.A)(p,e=>{b({width:e.contentRect.width,height:e.contentRect.height})}),(0,o.vJ)(()=>{const e=p.current;e&&b({width:e.clientWidth,height:e.clientHeight})},[b]);const L=(0,d.A)(()=>{const e=S.current;if(!e||!M)return;const n=e.getContext("2d"),{width:a,height:o}=e;if(!a||!o)return;n.save(),T.forEach(({x:e,y:t,sizeFactor:i})=>{const s=(a-Math.max(a,w*N))/2,c=e*Math.max(a,w*N)+s,r=t*Math.max(o,w*N)+s,l=I*N*i*(s?.8:1);n.drawImage(M,c-l/2,r-l/2,l,l)}),n.restore(),t&&(n.save(),n.fillStyle=t,n.globalCompositeOperation="source-atop",n.fillRect(0,0,a,o),n.restore());const i=n.createRadialGradient(a/2,o/2,0,a/2,o/2,a/2);i.addColorStop(0,"#FFFFFF77"),i.addColorStop(1,"#FFFFFF"),n.save(),n.globalCompositeOperation="destination-out",n.fillStyle=i,n.fillRect(0,0,a,o),n.restore()});return(0,o.vJ)(()=>{L()},[M]),(0,o.vJ)(()=>{const{width:e,height:t}=R(),n=S.current;if(!e||!t)return;const a=Math.max(e,t);(0,i.RK)(()=>{n.width=a*N,n.height=a*N,L()})},[R,N]),o.Ay.createElement("div",{ref:p,className:(0,c.A)(h.A.root,g),style:(0,r.A)(`--_bg-1: ${e[0]}`,`--_bg-2: ${e[1]||e[0]}`)},o.Ay.createElement("canvas",{className:h.A.canvas,ref:S}))},R=(0,o.ph)(S);a()}catch(e){a(e)}})},52884:(e,t,n)=>{n.d(t,{A:()=>a});const a={root:"qF2WgYVg","mask-animation":"pNM3cgkY",maskAnimation:"pNM3cgkY","circle-cut":"WiW38HGg",circleCut:"WiW38HGg",dots:"XBor45hE",canvas:"eULqS2yR",nsfw:"FJGQoa6s",nsfwIcon:"Y7JVRkxJ","opacity-breath":"sW9ega1D",opacityBreath:"sW9ega1D","dots-animation":"mAAEjSPE",dotsAnimation:"mAAEjSPE"}},54960:(e,t,n)=>{n.a(e,async(e,a)=>{try{n.d(t,{A:()=>D});var o=n(84051),i=n(13439),s=n(31481),c=n(66644),r=n(90709),l=n(70636),d=n(60919),m=n(87357),u=n(87894),A=n(79824),h=n(96374),g=n(17712),p=n(59030),y=n(19806),f=n(46222),v=n(40664),C=n(52745),E=n(24956),I=n(21849),w=n(35384),S=n(54746),R=n(99952),b=n(66273),N=n(31722),M=e([l,p,y,v,E,I,w,R,b]);[l,p,y,v,E,I,w,R,b]=M.then?(await M)():M;const k=500,P=10,x=5,T="PeerPickerItem",L=({className:e,categories:t,itemIds:n,categoryPlaceholderKey:a,filterValue:M,filterPlaceholder:L,notFoundText:D,searchInputId:O,itemClassName:B,isLoading:F,noScrollRestore:_,isSearchable:U,lockedUnselectedSubtitle:K,forceShowSelf:j,isViewOnly:z,itemInputType:$,withStatus:J,withPeerTypes:H,withPeerUsernames:q,withDefaultPadding:G,onFilterChange:W,onDisabledClick:V,onLoadMore:Y,...Z})=>{const X=(0,p.A)(),Q=Z.allowMultiple,ee=Q?Z.lockedSelectedIds:void 0,te=Q?Z.lockedUnselectedIds:void 0,ne=(0,o.Kr)(()=>Q?Z.selectedCategories:Z.selectedCategory?[Z.selectedCategory]:A.p,[Q,Z.selectedCategory,Z.selectedCategories]),ae=(0,o.Kr)(()=>Q?Z.selectedIds:Z.selectedId?[Z.selectedId]:A.p,[Q,Z.selectedId,Z.selectedIds]),oe=(0,o.li)(),ie=ae.length>P;(0,o.vJ)(()=>{if(!U)return;const e=window.setTimeout(()=>{(0,c.YS)(()=>{oe.current?.focus()})},k);return()=>{window.clearTimeout(e)}},[U]);const se=(0,o.Kr)(()=>new Set(ee),[ee]),ce=(0,o.Kr)(()=>new Set(te),[te]),re=(0,o.Kr)(()=>ae.filter(e=>!se.has(e)),[se,ae]),le=(0,o.Kr)(()=>t?(0,u.dU)(t,"type"):{},[t]),de=(0,o.Kr)(()=>{if(M)return n;const e=[],t=[],a=[];return n.forEach(n=>{se.has(n)?e.push(n):ce.has(n)?a.push(n):t.push(n)}),e.concat(t,a)},[M,n,se,ce]),me=(0,g.A)(e=>{if(se.has(e))V?.(e,!0);else if(ce.has(e))V?.(e,!1);else{if(Q&&le[e]){const t=le[e].type,n=ne?.slice()||[];return n.includes(t)?n.splice(n.indexOf(t),1):n.push(t),void Z.onSelectedCategoriesChange?.(n)}if(Q){const t=ae.slice();return t.includes(e)?t.splice(t.indexOf(e),1):t.push(e),void Z.onSelectedIdsChange?.(t)}le[e]?Z.onSelectedCategoryChange?.(le[e].type):Z.onSelectedIdChange?.(e)}}),ue=(0,g.A)(e=>{const{value:t}=e.currentTarget;W?.(t)}),[Ae,he]=(0,h.A)(Y,de,Boolean(M)),ge=(0,o.hb)((e,t)=>{const n=(0,i.mS)(),a=t?le[e]:void 0,c=t?void 0:(0,d.PVB)(n,e),u=c||a;if(!u)return s.Oig?o.Ay.createElement("div",{key:e},"No peer or category with ID",e):void 0;const A=c&&!(0,l.vj)(c)?c.isSelf&&!j:void 0,h=ce.has(e),g=se.has(e),p=h||g,f=a?ne?.includes(a.type):ae.includes(e),[v,C]=function(){if(h)return[K];if(c){if(q){const e=(0,r.Kl)(c);if(e)return[`@${e}`]}if(J){if((0,l.vj)(c))return[(0,r.sT)(X,c)];const e=(0,d.K0y)(n,c.id);return[(0,r.CD)(X,c,e),(0,m.A)((0,r.PF)(c,e,!0)&&N.A.onlineStatus)]}if(H){const e=(0,l.cy)(c);return e&&[X(e)]}}}()||[];return o.Ay.createElement(b.A,{key:e,className:(0,m.A)(T,B),title:o.Ay.createElement(w.A,{peer:u}),avatarElement:o.Ay.createElement(I.A,{peer:c||a,isSavedMessages:A,size:"medium"}),subtitle:v,subtitleClassName:C,disabled:p,inactive:z,ripple:!0,inputElement:p?o.Ay.createElement(S.A,{name:"lock-badge"}):"radio"===$?o.Ay.createElement(E.A,{checked:f,disabled:p,onlyInput:!0}):"checkbox"===$?o.Ay.createElement(y.A,{checked:f,disabled:p,onlyInput:!0}):void 0,inputPosition:"end",onClick:()=>me(e),onDisabledClick:V&&(()=>V(e,g))})},[le,j,z,B,$,X,se,ce,K,V,ne,ae,H,J,q]),pe=(0,o.Kr)(()=>{if(t?.length)return o.Ay.createElement("div",{key:"categories"},a&&o.Ay.createElement("div",{className:N.A.pickerCategoryTitle},X(a)),t?.map(e=>ge(e.type,!0)),o.Ay.createElement("div",{className:N.A.pickerCategoryTitle},X("FilterChats")))},[t,a,X,ge]);return o.Ay.createElement("div",{className:(0,m.A)(N.A.container,e)},U&&o.Ay.createElement("div",{className:(0,m.A)(N.A.header,"custom-scroll"),dir:X.isRtl?"rtl":void 0},ne?.map(e=>o.Ay.createElement(R.A,{className:N.A.peerChip,customPeer:le[e],onClick:me,clickArg:e,canClose:!0})),ee?.map((e,t)=>o.Ay.createElement(R.A,{className:N.A.peerChip,peerId:e,isMinimized:ie&&t<ae.length-x,forceShowSelf:j,onClick:me,clickArg:e})),re.map((e,t)=>o.Ay.createElement(R.A,{className:N.A.peerChip,peerId:e,isMinimized:ie&&t+(ee?.length||0)<ae.length-x,canClose:!0,onClick:me,clickArg:e})),o.Ay.createElement(v.A,{id:O,ref:oe,value:M,onChange:ue,placeholder:L||X("SelectChat")})),Ae?.length?o.Ay.createElement(f.A,{className:(0,m.A)(N.A.pickerList,G&&N.A.padded,"custom-scroll"),items:Ae,itemSelector:`.${T}`,beforeChildren:pe,onLoadMore:he,noScrollRestore:_},Ae.map(e=>ge(e))):F||!Ae||Ae.length?o.Ay.createElement(C.A,null):o.Ay.createElement("p",{className:N.A.noResults},D||"Sorry, nothing found."))},D=(0,o.ph)(L);a()}catch(e){a(e)}})},55402:(e,t,n)=>{n.a(e,async(e,a)=>{try{n.d(t,{A:()=>p});var o=n(84051),i=n(87357),s=n(76023),c=n(37661),r=n(62587),l=n(18104),d=n(54746),m=n(39338),u=e([r]),A=u.then?(await u)():u;r=A[0];const h=2*s.$,g=({reaction:e,isReady:t,noAppearAnimation:n,chosen:a,isLocked:s,onToggleReaction:u})=>{const A=(0,r.A)(`sticker${e.appearAnimation?.id}`,!t||n),g=(0,r.A)(`document${e.selectAnimation?.id}`,!t||n),p=(0,r.A)(`document${e.staticIcon?.id}`,!n),[y,f]=(0,c.A)(),[v,,C]=(0,c.A)(!0),[E,I,w]=(0,c.A)();return o.Ay.createElement("div",{className:(0,i.A)(m.A.root,a&&m.A.chosen),onClick:function(){u(e.reaction)},onMouseEnter:t&&!v?I:void 0},n&&o.Ay.createElement("img",{className:m.A.staticIcon,src:p,alt:e.reaction.emoticon,draggable:!1}),!y&&!n&&o.Ay.createElement(l.A,{key:e.appearAnimation?.id,tgsUrl:A,play:v,noLoop:!0,size:h,onEnded:C,forceAlways:!0}),!v&&!n&&o.Ay.createElement(l.A,{key:e.selectAnimation?.id,tgsUrl:g,play:E,noLoop:!0,size:h,onLoad:f,onEnded:w,forceAlways:!0}),s&&o.Ay.createElement(d.A,{className:m.A.lock,name:"lock-badge"}))},p=(0,o.ph)(g);a()}catch(e){a(e)}})},56133:(e,t,n)=>{n.d(t,{A:()=>o});var a=n(16581);function o(e,t,n,o=[]){return(0,a.A)(e=>{e()},o,e,t,n)}},57003:(e,t,n)=>{n.d(t,{A:()=>s});var a=n(84051),o=n(80089),i=n(80464);const s=e=>{const{isOpen:t}=e,n=(0,i.A)(o.ar.Extra,"CalendarModal",!t);return n?a.Ay.createElement(n,e):void 0}},57446:(e,t,n)=>{n.d(t,{A:()=>l});var a=n(13439),o=n(66644),i=n(60919),s=n(19822);const c=300,r=new Map;function l(e,t,n=c){(0,i.PKK)((0,a.mS)())||(n=0);const l="rtl"===e.getAttribute("dir"),{scrollLeft:d,offsetWidth:m,scrollWidth:u,dataset:{scrollId:A}}=e;let h=t-d;if(h<0){const e=-d*(l?-1:1);h=Math.max(h,e)}else if(h>0){const e=u-(d+m);h=Math.min(h,e)}if(0===h)return Promise.resolve();A&&r.has(A)&&r.get(A)();const g=d+h;return new Promise(t=>{(0,o.RK)(()=>{if(0===n)return e.scrollLeft=g,void t();let a=!1;const i=Math.random().toString();e.dataset.scrollId=i,r.set(i,()=>{a=!0}),e.style.scrollSnapType="none";const c=Date.now();function l(){e.style.scrollSnapType="",delete e.dataset.scrollId,r.delete(i)}(0,s.i0)(()=>{if(a)return l(),!1;const o=Math.min((Date.now()-c)/n,1),i=h*(1-function(e){return 1-(1-e)**3.5}(o));return e.scrollLeft=Math.round(g-i),o>=1&&(l(),t()),o<1},o.RK)})})}},58968:(e,t,n)=>{n.d(t,{I5:()=>s,LS:()=>i,V2:()=>o,lw:()=>a});const a={isCustomPeer:!0,type:"premium",titleKey:"PrivacyPremium",subtitleKey:"PrivacyPremiumText",avatarIcon:"star",isAvatarSquare:!0,withPremiumGradient:!0},o=[{isCustomPeer:!0,type:"contacts",titleKey:"FilterContacts",avatarIcon:"user",isAvatarSquare:!0,peerColorId:5},{isCustomPeer:!0,type:"nonContacts",titleKey:"FilterNonContacts",avatarIcon:"non-contacts",isAvatarSquare:!0,peerColorId:4},{isCustomPeer:!0,type:"groups",titleKey:"FilterGroups",avatarIcon:"group",isAvatarSquare:!0,peerColorId:3},{isCustomPeer:!0,type:"channels",titleKey:"FilterChannels",avatarIcon:"channel",isAvatarSquare:!0,peerColorId:1},{isCustomPeer:!0,type:"bots",titleKey:"FilterBots",avatarIcon:"bots",isAvatarSquare:!0,peerColorId:6}],i=[{isCustomPeer:!0,type:"excludeMuted",titleKey:"FilterMuted",avatarIcon:"mute",isAvatarSquare:!0,peerColorId:6},{isCustomPeer:!0,type:"excludeRead",titleKey:"FilterRead",avatarIcon:"readchats",isAvatarSquare:!0,peerColorId:4},{isCustomPeer:!0,type:"excludeArchived",titleKey:"FilterArchived",avatarIcon:"archive",isAvatarSquare:!0,peerColorId:5}],s={isCustomPeer:!0,type:"hidden",titleKey:"StarsTransactionHidden",avatarIcon:"author-hidden",peerColorId:4}},61817:(e,t,n)=>{n.d(t,{A:()=>a});const a={root:"aInga6VW",particle:"PZAuNVZH"}},64489:(e,t,n)=>{n.d(t,{A:()=>A});var a=n(84051),o=n(87357),i=n(95807),s=n(37661),c=n(17712),r=n(83057),l=n(4438);const d="lM2usrZU";function m(){return m=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},m.apply(null,arguments)}const u=new Set,A=(0,a.ph)(function(e){const{previewUrl:t,thumbDataUri:n,className:A,...h}=e,[g,,p]=(0,s.A)(Boolean(n)),y=(0,r.A)(g),[f,v,C]=(0,s.A)(u.has(t)),E=(0,r.A)(f),[I,w]=(0,s.A)(!1),S=(0,c.A)(()=>{v(),u.add(t)}),R=(0,c.A)(()=>{p(),C(),setTimeout(w,300)}),{size:b}=e;return a.Ay.createElement("div",{className:(0,o.A)(A,"xCi2f0YH"),style:(0,i.A)(void 0!==b&&`width: ${b}px; height: ${b}px;`)},n&&!I&&a.Ay.createElement("img",{src:n,className:(0,o.A)(d,y),draggable:!1}),t&&!I&&a.Ay.createElement("img",{src:t,className:(0,o.A)(d,E),draggable:!1,onLoad:S}),a.Ay.createElement(l.A,m({},h,{onLoad:R})))})},65632:(e,t,n)=>{n.d(t,{A:()=>r});var a=n(84051),o=n(13439),i=n(31481),s=n(74824),c=n(87679);const r=(e,t)=>{const{setThemeSettings:n}=(0,o.getActions)(),[r,l]=(0,a.J0)(t);return(0,a.vJ)(()=>{t&&(t.startsWith("#")?l(t):s.fetch(i.nfi,e,s.Type.Blob).then(e=>{const t=URL.createObjectURL(e);(0,c.NN)(t).then(()=>{l(`url(${t})`)})}).catch(()=>{n({theme:e,background:void 0,backgroundColor:void 0,isBlurred:!0,patternColor:"dark"===e?i.MkD:i.be8})}))},[t,e]),t?r:void 0}},66273:(e,t,n)=>{n.a(e,async(e,a)=>{try{n.d(t,{A:()=>A});var o=n(84051),i=n(96454),s=n(87357),c=n(17712),r=n(59030),l=n(42452),d=n(24473),m=e([r]),u=m.then?(await m)():m;r=u[0];const A=({title:e,subtitle:t,avatarElement:n,inputElement:a,inputPosition:m="start",disabled:u,inactive:A,ripple:h,className:g,titleClassName:p,subtitleClassName:y,style:f,onClick:v,onDisabledClick:C})=>{const E=(0,r.A)(),I=!A&&!u,w=(0,c.A)(()=>{A||(u?C?.():v?.())});return o.Ay.createElement("div",{className:(0,s.A)(d.A.root,t&&d.A.multiline,u&&d.A.disabled,I&&d.A.clickable,n&&d.A.withAvatar,g),onClick:w,style:f,dir:E.isRtl?"rtl":void 0,role:I?"button":void 0,tabIndex:I?0:void 0},!u&&!A&&h&&o.Ay.createElement(l.A,null),Boolean(a)&&o.Ay.createElement("div",{className:(0,s.A)(d.A.input,"end"===m?d.A.endInput:d.A.startInput)},a),Boolean(n)&&o.Ay.createElement("div",{className:d.A.avatarElement},n),o.Ay.createElement("div",{className:(0,s.A)(d.A.title,p)},e),Boolean(t)&&o.Ay.createElement("div",{className:(0,s.A)(d.A.subtitle,y)},t),!a&&i.pz&&o.Ay.createElement("div",{className:d.A.separator}))};a()}catch(e){a(e)}})},66833:(e,t,n)=>{function a(e){return"starGift"===e.type?e.sticker:e.attributes.find(e=>"model"===e.type)?.sticker}function o(e){return"starGift"===e.type?e.availabilityTotal:e.totalCount}function i(e){if("starGiftUnique"===e.type)return function(e){const t=e.find(e=>"model"===e.type),n=e.find(e=>"backdrop"===e.type),a=e.find(e=>"pattern"===e.type);return{model:t,originalDetails:e.find(e=>"originalDetails"===e.type),pattern:a,backdrop:n}}(e.attributes)}n.d(t,{UC:()=>o,uc:()=>i,yQ:()=>a})},67693:(e,t,n)=>{n.a(e,async(e,a)=>{try{n.d(t,{A:()=>u});var o=n(84051),i=n(87357),s=n(59030),c=n(21849),r=n(50541),l=e([s,c]);[s,c]=l.then?(await l)():l;const d=3,m=({peers:e,size:t,className:n,limit:a=d,badgeText:l})=>{const m=(0,s.A)(),u="number"==typeof t?t:c.R[t],A=(0,o.Kr)(()=>l||(!e?.length||e.length<=a?void 0:"+"+(e.length-a)),[l,e,a]);return o.Ay.createElement("div",{className:(0,i.A)(n,r.A.root),style:`--_size: ${u}px;`,dir:m.isRtl?"rtl":"ltr"},e?.slice(0,a).map(e=>o.Ay.createElement(c.A,{size:t,peer:e,className:r.A.avatar})),A&&o.Ay.createElement("div",{className:r.A.badge},A))},u=(0,o.ph)(m);a()}catch(e){a(e)}})},69032:(e,t,n)=>{n.d(t,{A:()=>a});const a={root:"_Lq6_4e5",minimized:"UhOZvxvs",closeable:"uvvgSFUJ",remove:"xVPG2UTy",nonDestructive:"fAk5yEeV",notClickable:"P8r3OoaX",avatar:"La8BQ9yr",iconWrapper:"NtoGLT22",icon:"f91Ad80i",name:"XPVuH29G",squareAvatar:"JIHfTUVn"}},69561:(e,t,n)=>{n.a(e,async(e,a)=>{try{n.d(t,{A:()=>x});var o=n(84051),i=n(13439),s=n(90709),c=n(87357),r=n(9716),l=n(73104),d=n(76023),m=n(4961),u=n(31471),A=n(43874),h=n(37661),g=n(39351),p=n(17712),y=n(59030),f=n(67693),v=n(71429),C=n(24433),E=n(60859),I=n(55158),w=n(29801),S=n(81879),R=n(7505),b=e([u,g,y,f,C,w,S,R]);[u,g,y,f,C,w,S,R]=b.then?(await b)():b;const N=10,M=19.25,k=200,P=({isReactionPickerOpen:e,availableReactions:t,topReactions:n,defaultTagReactions:a,isOpen:b,message:P,poll:x,webPage:T,story:L,isPrivate:D,isCurrentUserPremium:O,enabledReactions:B,isWithPaidReaction:F,reactionsLimit:_,anchor:U,targetHref:K,canSendNow:j,canReschedule:z,canBuyPremium:$,canReply:J,canQuote:H,canEdit:q,canAppendTodoList:G,noReplies:W,canPin:V,canUnpin:Y,canDelete:Z,canForward:X,canReport:Q,canFaveSticker:ee,canUnfaveSticker:te,canCopy:ne,canCopyLink:ae,canSelect:oe,canDownload:ie,canSaveGif:se,canRevote:ce,canClosePoll:re,canTranslate:le,canShowOriginal:de,canSelectLanguage:me,isDownloading:ue,repliesThreadInfo:Ae,canShowSeenBy:he,canShowReactionsCount:ge,canShowReactionList:pe,seenByRecentPeers:ye,hasCustomEmoji:fe,customEmojiSets:ve,canPlayAnimatedEmojis:Ce,isInSavedMessages:Ee,shouldRenderShowWhen:Ie,canLoadReadDate:we,onReply:Se,onOpenThread:Re,onEdit:be,onAppendTodoList:Ne,onPin:Me,onUnpin:ke,onForward:Pe,onDelete:xe,onFaveSticker:Te,onReport:Le,onUnfaveSticker:De,onSelect:Oe,onSend:Be,onReschedule:Fe,onClose:_e,onCloseAnimationEnd:Ue,onCopyLink:Ke,onCopyNumber:je,onDownload:ze,onSaveGif:$e,onCancelVote:Je,onClosePoll:He,onShowSeenBy:qe,onShowReactors:Ge,onToggleReaction:We,onSendPaidReaction:Ve,onShowPaidReactionModal:Ye,onCopyMessages:Ze,onReactionPickerOpen:Xe,onTranslate:Qe,onShowOriginal:et,onSelectLanguage:tt,userFullName:nt,canGift:at})=>{const{showNotification:ot,openStickerSet:it,openCustomEmojiSets:st,loadStickers:ct,openGiftModal:rt}=(0,i.getActions)(),lt=(0,o.li)(),dt=(0,o.li)(),mt=(0,y.A)(),ut=(0,g.A)(),At=!D&&!B,ht=P.areReactionsPossible,gt=pe&&!At||ht,pt="isEdited"in P&&P.isEdited,yt=P.seenByDates,ft="giftPremium"===P.content.action?.type,vt="giftCode"===P.content.action?.type,Ct="starGift"===P.content.action?.type,Et="starGiftUnique"===P.content.action?.type,It=(0,r.L8)(P.chatId)&&at&&(ft||vt||Ct||Et),[wt,St]=(0,h.A)(),[Rt,bt,Nt]=(0,h.A)(),{isMobile:Mt,isDesktop:kt}=(0,A.Ay)(),Pt=(0,o.Kr)(()=>yt?Object.keys(yt).length:0,[yt]),xt=(0,p.A)(()=>{ot({message:mt("Share.Link.Copied")}),_e()}),Tt=(0,p.A)(()=>{rt({forUserId:P.chatId}),_e()});(0,o.vJ)(()=>{b&&wt&&!e&&_e()},[_e,b,e,wt]),(0,o.vJ)(()=>{ve?.length&&ve.map(e=>ct({stickerSetInfo:{id:e.id,accessHash:e.accessHash}}))},[ve,st]);const Lt=(0,p.A)(()=>{ve&&(1===ve.length?it({stickerSetInfo:{shortName:ve[0].shortName}}):st({setIds:ve.map(e=>e.id)}),_e())}),Dt=(0,u.L)(P,(0,s.FE)({poll:x,webPage:T,story:L}),K,ne,xt,ae?Ke:void 0,Ze,je),Ot=(0,p.A)(()=>document.querySelector(`.Transition_slide-active > .MessageList div[data-message-id="${P.id}"]`)),Bt=(0,p.A)(()=>document.querySelector(".Transition_slide-active > .MessageList")),Ft=(0,p.A)(()=>document.querySelector(".MessageContextMenu .bubble")),_t=(0,p.A)(()=>{const e=Mt&&document.querySelector(".AudioPlayer-content")?.offsetHeight||0,t=document.getElementById("MiddleColumn"),n=getComputedStyle(t),a=parseFloat(n.getPropertyValue("--middle-header-panes-height"))||0;return{extraPaddingX:N,extraTopPadding:document.querySelector(".MiddleHeader").offsetHeight,extraMarginTop:a+e,shouldAvoidNegativePosition:!kt,menuElMinWidth:gt&&Mt?M*d.$:void 0}});(0,o.vJ)(()=>{b?setTimeout(()=>{bt()},k):Nt()},[b,bt,Nt]),(0,o.vJ)(()=>(0,l.M6)(dt.current,".ReactionPicker"),[b]);const Ut=(0,p.A)(e=>{Xe(e),St()});return o.Ay.createElement(v.A,{ref:lt,isOpen:b,anchor:U,getTriggerElement:Ot,getRootElement:Bt,getMenuElement:Ft,getLayout:_t,withMaxHeight:!0,className:(0,c.A)("MessageContextMenu","fluid",gt&&"with-reactions"),onClose:_e,onCloseAnimationEnd:Ue},gt&&o.Ay.createElement(S.A,{enabledReactions:B,topReactions:n,allAvailableReactions:t,defaultTagReactions:a,currentReactions:P.reactions?.results,reactionsLimit:_,onToggleReaction:We,onSendPaidReaction:Ve,onShowPaidReactionModal:Ye,isWithPaidReaction:F,isPrivate:D,isReady:Rt,canBuyPremium:$,isCurrentUserPremium:O,isInSavedMessages:Ee,canPlayAnimatedEmojis:Ce,onShowMore:Ut,onClose:_e,className:(0,c.A)(wt&&"ReactionSelector-hidden")}),o.Ay.createElement("div",{ref:dt,className:(0,c.A)("MessageContextMenu_items scrollable-content custom-scroll",wt&&"MessageContextMenu_items-hidden"),dir:mt.isRtl?"rtl":void 0},It&&o.Ay.createElement(C.A,{icon:"gift",onClick:Tt},P?.isOutgoing?mt("SendAnotherGift"):mt("Conversation.ContextMenuSendGiftTo",nt)),j&&o.Ay.createElement(C.A,{icon:"send-outline",onClick:Be},mt("MessageScheduleSend")),z&&o.Ay.createElement(C.A,{icon:"schedule",onClick:Fe},mt("MessageScheduleEditTime")),J&&o.Ay.createElement(C.A,{icon:"reply",onClick:Se},mt(H?"lng_context_quote_and_reply":"Reply")),!W&&Boolean(Ae?.messagesCount)&&o.Ay.createElement(C.A,{icon:"replies",onClick:Re},mt("Conversation.ContextViewReplies",Ae.messagesCount,"i")),q&&o.Ay.createElement(C.A,{icon:"edit",onClick:be},mt("Edit")),G&&o.Ay.createElement(C.A,{icon:"add",onClick:Ne},ut("MenuButtonAppendTodoList")),ee&&o.Ay.createElement(C.A,{icon:"favorite",onClick:Te},mt("AddToFavorites")),te&&o.Ay.createElement(C.A,{icon:"favorite",onClick:De},mt("Stickers.RemoveFromFavorites")),le&&o.Ay.createElement(C.A,{icon:"language",onClick:Qe},mt("TranslateMessage")),de&&o.Ay.createElement(C.A,{icon:"language",onClick:et},mt("ShowOriginalButton")),me&&o.Ay.createElement(C.A,{icon:"web",onClick:tt},mt("lng_settings_change_lang")),Dt.map(e=>o.Ay.createElement(C.A,{key:e.label,icon:e.icon,onClick:e.handler,withPreventDefaultOnMouseDown:!0},mt(e.label))),V&&o.Ay.createElement(C.A,{icon:"pin",onClick:Me},mt("DialogPin")),Y&&o.Ay.createElement(C.A,{icon:"unpin",onClick:ke},mt("DialogUnpin")),se&&o.Ay.createElement(C.A,{icon:"gifs",onClick:$e},mt("lng_context_save_gif")),ce&&o.Ay.createElement(C.A,{icon:"revote",onClick:Je},mt("lng_polls_retract")),re&&o.Ay.createElement(C.A,{icon:"stop",onClick:He},mt("lng_polls_stop")),ie&&o.Ay.createElement(C.A,{icon:"download",onClick:ze},mt(ue?"lng_context_cancel_download":"lng_media_download")),X&&o.Ay.createElement(C.A,{icon:"forward",onClick:Pe},mt("Forward")),oe&&o.Ay.createElement(C.A,{icon:"select",onClick:Oe},mt("Common.Select")),Q&&o.Ay.createElement(C.A,{icon:"flag",onClick:Le},mt("lng_context_report_msg")),Z&&o.Ay.createElement(C.A,{destructive:!0,icon:"delete",onClick:xe},mt("Delete")),fe&&o.Ay.createElement(o.Ay.Fragment,null,o.Ay.createElement(E.A,{size:"thick"}),!ve&&o.Ay.createElement(o.Ay.Fragment,null,o.Ay.createElement(I.A,{inline:!0,className:"menu-loading-row"}),o.Ay.createElement(I.A,{inline:!0,className:"menu-loading-row"})),ve&&1===ve.length&&o.Ay.createElement(C.A,{withWrap:!0,onClick:Lt,className:"menu-custom-emoji-sets"},(0,m.A)(mt("MessageContainsEmojiPack",ve[0].title),["simple_markdown","emoji"])),ve&&ve.length>1&&o.Ay.createElement(C.A,{withWrap:!0,onClick:Lt,className:"menu-custom-emoji-sets"},(0,m.A)(mt("MessageContainsEmojiPacks",ve.length),["simple_markdown"]))),(he||ge)&&o.Ay.createElement(o.Ay.Fragment,null,o.Ay.createElement(E.A,{size:fe?"thin":"thick"}),o.Ay.createElement(C.A,{icon:ge?"heart-outline":"group",onClick:ge?Ge:qe,disabled:!ge&&!Pt},o.Ay.createElement("span",{className:"MessageContextMenu--seen-by-label-wrapper"},o.Ay.createElement("span",{className:"MessageContextMenu--seen-by-label",dir:mt.isRtl?"rtl":void 0},ge&&P.reactors?.count?he&&Pt?mt("Chat.OutgoingContextMixedReactionCount",[P.reactors.count,Pt]):mt("Chat.ContextReactionCount",P.reactors.count,"i"):1===Pt&&ye?(0,m.A)((0,r.L8)(ye[0].id)?(0,s.Yg)(ye[0]):ye[0].title):Pt?mt("Conversation.ContextMenuSeen",Pt,"i"):mt("Conversation.ContextMenuNoViews"))),o.Ay.createElement(f.A,{className:"avatars",size:"micro",peers:ye}))),(we||Ie||pt)&&o.Ay.createElement(E.A,{size:fe?"thin":"thick"}),(we||Ie)&&o.Ay.createElement(R.A,{canLoadReadDate:we,shouldRenderShowWhen:Ie,message:P,closeContextMenu:_e}),pt&&o.Ay.createElement(w.A,{message:P})))},x=(0,o.ph)(P);a()}catch(e){a(e)}})},69988:(e,t,n)=>{n.d(t,{A:()=>a});const a={root:"gXO57D98",chosen:"VXSJn0Sm",paid:"N3lcrsh8",outside:"Hqw10FGl","animated-emoji":"lFjoRm_p",animatedEmoji:"lFjoRm_p",tag:"Dr889Kzc",tail:"cUfY1b26","is-safari":"rxxUijuG",isSafari:"rxxUijuG","tail-fill":"y591o4fN",tailFill:"y591o4fN","tag-text":"ly7cruxF",tagText:"ly7cruxF",counter:"P2FqNJAi",disabled:"NRtGofbf",paidCounter:"CW4UO1n3"}},73066:(e,t,n)=>{n.a(e,async(e,a)=>{try{n.d(t,{A:()=>w});var o=n(84051),i=n(13439),s=n(87357),c=n(76023),r=n(10722),l=n(37661),d=n(17712),m=n(59030),u=n(11241),A=n(91650),h=n(64493),g=n(71429),p=n(24433),y=n(69988),f=e([m,u,A,h,p]);[m,u,A,h,p]=f.then?(await f)():f;const v=1.25*c.$,C=15,E=1,I=({reaction:e,tag:t,containerId:n,isChosen:a,isOwnMessage:c,className:f,chosenClassName:I,withCount:w,isDisabled:S,withContextMenu:R,observeIntersection:b,onClick:N,onRemove:M})=>{const{editSavedReactionTag:k}=(0,i.getActions)(),P=(0,o.li)(),x=(0,o.li)(),T=(0,m.A)(),[L,D,O]=(0,l.A)(),{title:B,count:F}=t||{},_=Boolean(B||w&&F),U=(0,d.A)(()=>{N?.(e)}),K=(0,d.A)(()=>{M?.(e)}),j=(0,d.A)(t=>{k({reaction:e,title:t}),O()}),{isContextMenuOpen:z,contextMenuAnchor:$,handleBeforeContextMenu:J,handleContextMenu:H,handleContextMenuClose:q,handleContextMenuHide:G}=(0,r.A)(P,!R,void 0,void 0,void 0,!0),W=(0,d.A)(()=>P.current),V=(0,d.A)(()=>document.body),Y=(0,d.A)(()=>x.current),Z=(0,d.A)(()=>({withPortal:!0,shouldAvoidNegativePosition:!0}));if(!w||0!==F)return o.Ay.createElement(h.A,{className:(0,s.A)(y.A.root,y.A.tag,c&&y.A.own,a&&y.A.chosen,a&&I,S&&y.A.disabled,f),size:"tiny",onClick:U,onMouseDown:J,onContextMenu:H,ref:P},o.Ay.createElement(u.A,{className:y.A.animatedEmoji,containerId:n,reaction:e,loopLimit:E,size:v,observeIntersection:b}),_&&o.Ay.createElement("span",{className:y.A.tagText},B&&o.Ay.createElement("span",null,B),w&&o.Ay.createElement("span",null,F)),o.Ay.createElement("svg",{className:y.A.tail,width:"15",height:"30",viewBox:"0 0 15 30"},o.Ay.createElement("path",{className:y.A.tailFill,d:"m 0,30 c 3.1855,0 6.1803,-1.5176 8.0641,-4.0864 l 5.835,-7.9568 c 1.2906,-1.7599 1.2906,-4.1537 0,-5.9136 L 8.0641,4.08636 C 6.1803,1.51761 3.1855,0 0,0"})),R&&o.Ay.createElement(A.A,{isOpen:L,maxLength:C,title:T(t?.title?"SavedTagRenameTag":"SavedTagLabelTag"),subtitle:T("SavedTagLabelTagText"),placeholder:T("SavedTagLabelPlaceholder"),initialValue:t?.title,onClose:O,onSubmit:j}),R&&$&&o.Ay.createElement(g.A,{ref:x,isOpen:z,anchor:$,getTriggerElement:W,getRootElement:V,getMenuElement:Y,getLayout:Z,autoClose:!0,withPortal:!0,onClose:q,onCloseAnimationEnd:G},o.Ay.createElement(p.A,{icon:"tag-filter",onClick:U},T("SavedTagFilterByTag")),o.Ay.createElement(p.A,{icon:"tag-name",onClick:D},T(t?.title?"SavedTagRenameTag":"SavedTagLabelTag")),o.Ay.createElement(p.A,{icon:"tag-crossed",destructive:!0,onClick:K},T("SavedTagRemoveTag"))))},w=(0,o.ph)(I);a()}catch(e){a(e)}})},73104:(e,t,n)=>{let a,o;n.d(t,{M6:()=>r,v5:()=>l});const i={Down:!0,ArrowDown:!0,Up:!0,ArrowUp:!0,Left:!0,ArrowLeft:!0,Right:!0,ArrowRight:!0," ":!0,PageUp:!0,PageDown:!0,End:!0,Home:!0,Tab:!0},s=e=>{const t="deltaY"in e?e.deltaY:(e=>"changedTouches"in e?e.changedTouches[0].clientY:0)(e);if(!a||!a.contains(e.target)||a.scrollTop<=0&&t<=0||a.scrollTop>=a.scrollHeight-a.offsetHeight&&t>=0){if(o&&e.target.closest(o))return;e.preventDefault()}};function c(e){i[e.key]&&!function(e){if(!(e&&e instanceof HTMLElement))return!1;const t=e,n=t.tagName.toLowerCase();if("textarea"===n)return!0;if("input"!==n)return!1;const a=t.getAttribute("type");return!!a&&["text","password","number","email","tel","url","search","date","datetime","datetime-local","time","month","week"].indexOf(a.toLowerCase())>-1}(e.target)&&e.preventDefault()}function r(e,t){return a=e,o=t,document.addEventListener("wheel",s,{passive:!1}),document.addEventListener("touchmove",s,{passive:!1}),document.onkeydown=c,l}function l(){a=void 0,o=void 0,document.removeEventListener("wheel",s),document.removeEventListener("touchmove",s),document.onkeydown=null}},74066:(e,t,n)=>{n.a(e,async(e,a)=>{try{n.d(t,{A:()=>h});var o=n(84051),i=n(87357),s=n(95807),c=n(59030),r=n(93545),l=n(54746),d=n(12212),m=e([c]),u=m.then?(await m)():m;c=u[0];const A=({leftText:e,rightText:t,floatingBadgeText:n,floatingBadgeIcon:a,progress:m,isPrimary:u,className:A})=>{const h=(0,c.A)(),g=(0,o.li)(),p=(0,o.li)(),[y,f]=(0,o.J0)(0),[v,C]=(0,o.J0)(0),E=()=>{if(g.current&&p.current&&void 0!==m){const e=g.current.offsetWidth,t=p.current.offsetWidth,n=e/2,a=t-e/2,o=m*t,i=Math.max(n,Math.min(o,a));let s;f(i/t),s=o<n?m*t/(2*n):o>a?.5+(m-a/t)/(1-a/t)*.4:.5,C(s)}};(0,o.vJ)(E,[m]),(0,r.A)(p,E);const I=Boolean(a||n),w=Boolean(m)&&m>.99;return o.Ay.createElement("div",{ref:p,className:(0,i.A)(d.A.root,I&&d.A.withBadge,u&&d.A.primary,A),style:(0,s.A)(void 0!==m&&`--progress: ${m}`,void 0!==v&&`--tail-position: ${v}`,`--shift-x: ${y}`)},I&&o.Ay.createElement("div",{className:d.A.badgeContainer},o.Ay.createElement("div",{className:d.A.floatingBadgeWrapper},o.Ay.createElement("div",{className:d.A.floatingBadge,ref:g},a&&o.Ay.createElement(l.A,{name:a,className:d.A.floatingBadgeIcon}),n&&o.Ay.createElement("div",{className:d.A.floatingBadgeValue,dir:h.isRtl?"rtl":void 0},n)),o.Ay.createElement("div",{className:d.A.floatingBadgeTriangle},o.Ay.createElement("svg",{width:"28",height:"28",viewBox:"0 0 28 28",fill:"none"},o.Ay.createElement("path",{d:"m 28,4 v 9 c 0.0089,7.283278 -3.302215,5.319646 -6.750951,8.589815 l -5.8284,5.82843 c -0.781,0.78105 -2.0474,0.78104 -2.8284,0 L 6.7638083,21.589815 C 2.8288652,17.959047 0.04527024,20.332086 0,13 V 4 C 0,4 0.00150581,0.97697493 3,1 5.3786658,1.018266 22.594519,0.9142007 25,1 c 2.992326,0.1067311 3,3 3,3 z",fill:"#7E85FF"}))))),o.Ay.createElement("div",{className:d.A.left},o.Ay.createElement("span",null,e)),o.Ay.createElement("div",{className:d.A.right},o.Ay.createElement("span",null,t)),o.Ay.createElement("div",{className:(0,i.A)(d.A.progress,w&&d.A.fullProgress)},o.Ay.createElement("div",{className:d.A.left},o.Ay.createElement("span",null,e)),o.Ay.createElement("div",{className:d.A.right},o.Ay.createElement("span",null,t))))},h=(0,o.ph)(A);a()}catch(e){a(e)}})},74755:(e,t,n)=>{n.d(t,{Q:()=>c});var a=n(23174),o=n(80539);const i=document.createElement("div"),s=new Set([a.C7.Bold,a.C7.Italic,a.C7.Underline,a.C7.Strike,a.C7.Spoiler,a.C7.CustomEmoji]);function c(e){const t=function(e){const t=e.cloneContents();i.appendChild(t);const n=function(e,t){const n=e.commonAncestorContainer;if(n.nodeType===Node.ELEMENT_NODE&&n.classList.contains("text-content"))return t;let a=e.commonAncestorContainer.parentElement;for(;a&&!a.classList.contains("text-content");){const e=a.tagName.toLowerCase(),n=a.dataset.entityType;t=`<${e} ${n?`data-entity-type="${n}"`:""}>${t}</${e}>`,a=a.parentElement}return t}(e,i.innerHTML);return i.innerHTML="",n.replace(/<br\s*\/?>/gi,"\n").replace(/&nbsp;/gi," ").replace(/\u00a0/gi," ")}(e);return function(e){if(!e.entities)return e;const t=e.entities.filter(e=>s.has(e.type));return{...e,entities:t.length?t:void 0}}((0,o.Ay)(t,!1,!0))}},74984:(e,t,n)=>{n.a(e,async(e,a)=>{try{n.d(t,{Jm:()=>p,Rh:()=>A,g5:()=>g,ic:()=>h});var o=n(84051),i=n(31481),s=n(49763),c=n(51217),r=n(96140),l=n(40708),d=n(30857),m=e([r]),u=m.then?(await m)():m;function A(e){const t=(0,d.A)();if((0,o.vJ)(()=>(0,s.Yw)(e,t),[e,t]),e===i.j7l)return(0,s.Xq)()[i.DSF];if(e===i.LFk)return(0,c.od)((0,s.YA)(i.DSF)?.filter(e=>!(0,r.uw)(e)));if(e===i.Sab)return(0,c.Ho)((0,s.YA)(i.DSF)?.filter(e=>!(0,r.uw)(e)));if(e===i.DSF){const t=(0,s.YA)(e);return t&&t?.indexOf(l.bL)<0?t?.unshift(l.bL):t?.sort((e,t)=>e===l.bL?-1:t===l.bL?1:0),t}return(0,s.YA)(e)}function h(){const e=(0,d.A)();return(0,o.vJ)(()=>(0,s.P1)(e),[e]),(0,s.PZ)()}function g(){const e=(0,d.A)();return(0,o.vJ)(()=>(0,s.BU)(e),[e]),(0,s.jn)()}function p(){const e=(0,d.A)();return(0,o.vJ)(()=>(0,s.dk)(e),[e]),(0,s.Xq)()}r=u[0],a()}catch(y){a(y)}})},79174:(e,t,n)=>{n.d(t,{A:()=>r});var a=n(84051),o=n(66644),i=n(43874);const s=500,c=300;function r(e,t,n){const{isMobile:r}=(0,i.Ay)();(0,a.vJ)(()=>{t?r||setTimeout(()=>{(0,o.RK)(()=>{e.current?.isConnected&&e.current.focus()})},s):(e.current?.isConnected&&e.current.blur(),n&&setTimeout(n,c))},[e,r,t,n])}},79519:(e,t,n)=>{n.d(t,{A:()=>m});var a=n(84051),o=n(61433),i=n(31481),s=n(66644),c=n(81954);const r=500,l=i.nxZ,d=20;function m({elementRef:e,chatId:t,isFocused:n,focusDirection:i,noFocusHighlight:m,isResizingContainer:u,isJustAdded:A,isQuote:h,scrollTargetPosition:g}){const p=(0,a.li)(!A);(0,a.Nf)(()=>{const t=p.current;if(p.current=!1,n&&e.current){const n=e.current.closest(".MessageList"),a=m,A=g||a?"end":"centerOrTop",p=()=>{const t=void 0!==i?a?r:l:void 0,m=(0,c.Ay)({container:n,element:e.current,position:A,margin:d,maxDistance:t,forceDirection:i,forceNormalContainerHeight:u,shouldReturnMutationFn:!0});if(h){const t=e.current.querySelector(".is-quote");t&&(0,s.RK)(()=>{(0,o.YM)(t,"animate")})}return m};t?(0,s.gm)(p):(0,s.YS)(()=>{(0,s.RK)(p())})}},[e,t,n,i,m,u,h,g])}},79577:(e,t,n)=>{n.a(e,async(e,a)=>{try{n.d(t,{A:()=>A});var o=n(84051),i=n(23174),s=n(90709),c=n(62587),r=n(64489),l=e([c]),d=l.then?(await l)():l;function m(){return m=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},m.apply(null,arguments)}function u(e){const{sticker:t,noLoad:n,forcePreview:a,...l}=e,d=t?.thumbnail?.dataUri,u=t&&(0,s.Mw)(t,"full"),A=(0,c.A)(t?(0,s.Mw)(t,"preview"):void 0,n&&!a,i.qZ.BlobUrl),h=(0,c.A)(u,n);return o.Ay.createElement(r.A,m({tgsUrl:h,previewUrl:A,thumbDataUri:d},l))}c=d[0];const A=(0,o.ph)(u);a()}catch(h){a(h)}})},79582:(e,t,n)=>{n.d(t,{A:()=>r});var a=n(13439),o=n(60919),i=n(87894);const s=3e9,c=3e8;function r(e,t=!1,n,r){const l=(0,a.mS)();return(0,i.My)(e,e=>{if(e===r)return 1/0;const a=(0,o.hds)(l,e);if(!a)return 0;let i=0;const d=(0,o.yHC)(l,e);return d&&(i+=d.date),t&&a.isVerified&&(i+=s),n&&n.includes(e)&&(i=Date.now()+c+(n.length-n.indexOf(e))),i},"desc")}},80539:(e,t,n)=>{n.d(t,{Ay:()=>r,g4:()=>l,qh:()=>s});var a=n(23174),o=n(31481),i=n(96454);const s={B:a.C7.Bold,STRONG:a.C7.Bold,I:a.C7.Italic,EM:a.C7.Italic,INS:a.C7.Underline,U:a.C7.Underline,S:a.C7.Strike,STRIKE:a.C7.Strike,DEL:a.C7.Strike,CODE:a.C7.Code,PRE:a.C7.Pre,BLOCKQUOTE:a.C7.Blockquote},c=3;function r(e,t=!1,n=!1){const r=document.createElement("div");r.innerHTML=n?e:function(e){let t=e.slice(0);return t=t.replace(/&nbsp;/g," "),t=t.replace(/<div><br([^>]*)?><\/div>/g,"\n"),t=t.replace(/<br([^>]*)?>/g,"\n"),t=t.replace(/<\/div>(\s*)<div>/g,"\n"),t=t.replace(/<div>/g,"\n"),t=t.replace(/<\/div>/g,""),t=t.replace(/^`{3}(.*?)[\n\r](.*?[\n\r]?)`{3}/gms,'<pre data-language="$1">$2</pre>'),t=t.replace(/^`{3}[\n\r]?(.*?)[\n\r]?`{3}/gms,"<pre>$1</pre>"),t=t.replace(/[`]{3}([^`]+)[`]{3}/g,"<pre>$1</pre>"),t=t.replace(/(?!<(code|pre)[^<]*|<\/)[`]{1}([^`\n]+)[`]{1}(?![^<]*<\/(code|pre)>)/g,"<code>$2</code>"),i.TL||(t=t.replace(/\[<img[^>]+alt="([^"]+)"[^>]*>]/gm,"[$1]")),t=t.replace(/(?!<(?:code|pre)[^<]*|<\/)\[([^\]\n]+)\]\(customEmoji:(\d+)\)(?![^<]*<\/(?:code|pre)>)/g,'<img alt="$1" data-document-id="$2">'),t=t.replace(/(?!<(code|pre)[^<]*|<\/)[*]{2}([^*\n]+)[*]{2}(?![^<]*<\/(code|pre)>)/g,"<b>$2</b>"),t=t.replace(/(?!<(code|pre)[^<]*|<\/)[_]{2}([^_\n]+)[_]{2}(?![^<]*<\/(code|pre)>)/g,"<i>$2</i>"),t=t.replace(/(?!<(code|pre)[^<]*|<\/)[~]{2}([^~\n]+)[~]{2}(?![^<]*<\/(code|pre)>)/g,"<s>$2</s>"),t=t.replace(/(?!<(code|pre)[^<]*|<\/)[|]{2}([^|\n]+)[|]{2}(?![^<]*<\/(code|pre)>)/g,`<span data-entity-type="${a.C7.Spoiler}">$2</span>`),t}(t?function(e){return e.replace(new RegExp(`\\[([^\\]]+?)]\\((${o.kNZ}+?)\\)`,"g"),(e,t,n)=>`<a href="${n.includes("://")?n:n.includes("@")?`mailto:${n}`:`https://${n}`}">${t}</a>`)}(e):e),l(r);const d=r.innerText.trim().replace(/\u200b+/g,"");let m=-r.innerText.indexOf(d[0]),u=0;const A=[];function h(e){if(e.nodeType===Node.COMMENT_NODE)return;const{index:t,entity:n}=function(e,t,n){const o=function(e){if(e instanceof HTMLElement&&e.dataset.entityType)return e.dataset.entityType;if(s[e.nodeName])return s[e.nodeName];if("A"===e.nodeName){const t=e;return t.dataset.entityType===a.C7.MentionName?a.C7.MentionName:t.dataset.entityType===a.C7.Url?a.C7.Url:t.href.startsWith("mailto:")?a.C7.Email:t.href.startsWith("tel:")?a.C7.Phone:t.href!==t.textContent?a.C7.TextUrl:a.C7.Url}return"SPAN"===e.nodeName?e.dataset.entityType:"IMG"===e.nodeName&&e.dataset.documentId?a.C7.CustomEmoji:void 0}(e);if(!o||!e.textContent)return{index:n,entity:void 0};const i=t.indexOf(e.textContent,n),c=i>=0?i:n,r=t.substring(0,c).length,{length:l}=t.substring(c,c+e.textContent.length);if(o===a.C7.TextUrl)return{index:c,entity:{type:o,offset:r,length:l,url:e.href}};if(o===a.C7.MentionName)return{index:c,entity:{type:o,offset:r,length:l,userId:e.dataset.userId}};if(o===a.C7.Pre)return{index:c,entity:{type:o,offset:r,length:l,language:e.dataset.language}};if(o===a.C7.CustomEmoji)return{index:c,entity:{type:o,offset:r,length:l,documentId:e.dataset.documentId}};if(o===a.C7.Timestamp){const t=Number(e.dataset.timestamp);return Number.isNaN(t)?{index:c,entity:void 0}:{index:c,entity:{type:o,offset:r,length:l,timestamp:t}}}return{index:c,entity:{type:o,offset:r,length:l}}}(e,d,m);if(n)m=t,A.push(n);else if(e.textContent){if(0===t&&""===e.textContent.trim())return;m+=e.textContent.length}e.hasChildNodes()&&u<=c&&(u+=1,Array.from(e.childNodes).forEach(h))}return Array.from(r.childNodes).forEach(e=>{u=1,h(e)}),{text:d,entities:A.length?A:void 0}}function l(e){e.querySelectorAll("img").forEach(e=>{e.dataset.documentId?e.textContent=e.alt||"":e.replaceWith(e.alt||"")})}},81686:(e,t,n)=>{n.d(t,{A:()=>i});var a=n(31481);const o=1;function i(){const e=window.getSelection();let t=e?.rangeCount?e.getRangeAt(0).cloneContents():void 0;const n=e?.focusNode&&e.focusOffset>0&&s(e.focusNode,a.zPk);if(!t||0===t.childElementCount)return;const i=Array.from(t.children).reduce((e,t)=>t.nodeType===o&&t.classList.contains("message-date-group")?Array.from(t.querySelectorAll(".Message")).reduce((e,t)=>e.concat(Number(t.dataset.messageId)),e):t.nodeType===o&&t.classList.contains("Message")?e.concat(Number(t.dataset.messageId)):e,[]);for(;t.firstChild;)t.removeChild(t.firstChild);return t=void 0,n||i.pop(),i}function s(e,t){return!(e.nodeType!==o||!e.classList.contains(t))||!!e.parentNode&&s(e.parentNode,t)}},81879:(e,t,n)=>{n.a(e,async(e,a)=>{try{n.d(t,{A:()=>C});var o=n(84051),i=n(13439),s=n(90709),c=n(87357),r=n(17712),l=n(59030),d=n(54746),m=n(64493),u=n(96530),A=n(9887),h=n(55402),g=e([l,m,A,h]);[l,m,A,h]=g.then?(await g)():g;const p=(0,c.x)("ReactionSelector"),y=7,f=20,v=({allAvailableReactions:e,topReactions:t,defaultTagReactions:n,enabledReactions:a,currentReactions:g,reactionsLimit:v,isPrivate:C,isReady:E,canPlayAnimatedEmojis:I,className:w,isCurrentUserPremium:S,isInSavedMessages:R,isInStoryViewer:b,isForEffects:N,effectReactions:M,isWithPaidReaction:k,onClose:P,onToggleReaction:x,onSendPaidReaction:T,onShowPaidReactionModal:L,onShowMore:D})=>{const{openPremiumModal:O}=(0,i.getActions)(),B=(0,o.li)(),F=(0,l.A)(),_=R&&!S&&!b,U=Boolean(v&&g&&g.length>=v),K=(0,o.Kr)(()=>{const o=U?g?.map(e=>e.reaction):N?M:R?n:"some"===a?.type?a.allowed:e?.map(e=>e.reaction),i=o?.map(t=>{const n="custom"===t.type,o=e?.find(e=>(0,s.a0)(e.reaction,t));return N?o:(n||o)&&!o?.isInactive&&(C||U||a&&(0,s.A3)(t,a))?n?t:o:void 0}).filter(Boolean)||[],c=(0,s.fu)(i,t);return k&&c.unshift({type:"paid"}),c},[e,g,n,a,R,C,t,N,M,U,k]),j=(0,o.Kr)(()=>K.length===y+1?K:K.slice(0,y),[K]),z=j.length<K.length,$=(0,o.Kr)(()=>{const e=g?.filter(({chosenOrder:e})=>void 0!==e)||[];return new Set(e.map(({reaction:e})=>j.findIndex(t=>t&&(0,s.a0)("reaction"in t?t.reaction:t,e))))},[g,j]),J=(0,r.A)(()=>{const e=B.current?.getBoundingClientRect()||{x:0,y:0};D({x:e.x,y:e.y})}),H=(0,r.A)(()=>{P?.(),O({initialSection:"saved_tags"})}),q=(0,o.Kr)(()=>{if(R){if(!S){const e=F("lng_subscribe_tag_about").split("{link}");return o.Ay.createElement("span",null,e[0],o.Ay.createElement(u.A,{isPrimary:!0,onClick:H},F("lng_subscribe_tag_link")),e[1])}return F("SavedTagReactionsHint2")}return b?F("StoryReactionsHint"):N?F("AddEffectMessageHint"):void 0},[S,R,b,F,N]);if(j.length)return o.Ay.createElement("div",{className:(0,c.A)(p("&"),w),ref:B},o.Ay.createElement("div",{className:p("bubble-small",F.isRtl&&"isRtl")}),o.Ay.createElement("div",{className:p("items-wrapper")},o.Ay.createElement("div",{className:p("bubble-big",F.isRtl&&"isRtl")}),o.Ay.createElement("div",{className:p("items")},q&&o.Ay.createElement("div",{className:p("hint")},q),o.Ay.createElement("div",{className:p("reactions"),dir:F.isRtl?"rtl":void 0},j.map((e,t)=>"reaction"in e?o.Ay.createElement(h.A,{key:(0,s.Jj)(e.reaction),isReady:E,onToggleReaction:x,reaction:e,noAppearAnimation:!I,chosen:$.has(t),isLocked:_}):o.Ay.createElement(A.A,{key:(0,s.Jj)(e),isReady:E,onToggleReaction:x,onSendPaidReaction:T,onShowPaidReactionModal:L,reaction:e,noAppearAnimation:!I,chosen:$.has(t),isLocked:_,style:`--_animation-delay: ${(y-t)*f}ms`})),z&&o.Ay.createElement(m.A,{color:"translucent",className:p("show-more"),onClick:J},o.Ay.createElement(d.A,{name:"down"}))))))},C=(0,o.ph)(v);a()}catch(e){a(e)}})},81949:(e,t,n)=>{n.d(t,{A:()=>i});var a=n(84051),o=n(87357);const i=({children:e,className:t,onClick:n,onMouseDown:i})=>a.Ay.createElement("div",{className:(0,o.A)("hJUqHi4B",n&&"hjDEmFaT",t),onClick:n,onMouseDown:i},e)},81954:(e,t,n)=>{n.d(t,{Ay:()=>g,H$:()=>v,_v:()=>p,o8:()=>f});var a=n(84051),o=n(13439),i=n(89925),s=n(31481),c=n(66644),r=n(60919),l=n(96454),d=n(16460),m=n(19822);let u,A,h=!1;function g(e){u=e;const t=y(e);if(e.shouldReturnMutationFn)return t;(0,c.RK)(t)}function p(){h&&((0,m.vk)(),(0,c.YS)(()=>{(0,c.RK)(y(u))}))}function y(e){const{container:t,element:n,position:g,margin:p=0,maxDistance:y=s.nxZ,forceDirection:f,forceNormalContainerHeight:v}=e;let I=e.forceDuration;f!==i.CC.Static&&(0,r.PKK)((0,o.mS)())||(I=0);const{offsetHeight:w}=n,{scrollTop:S,clientHeight:R,scrollHeight:b}=t,N=(0,d.A)(n,t).top,M=v&&t.dataset.normalHeight?Number(t.dataset.normalHeight):R;let k;switch(g){case"start":k=N-p+(l.Ni?1:0);break;case"end":k=N+w+p-M;break;case"nearest":case"center":case"centerOrTop":k=w<M?N+w/2-M/2:N-p}const P=function(e,t,n=s.nxZ,a){const{scrollTop:o}=e;if(void 0===a){const e=t-o;if(e<-n)return o+(e+n);if(e>n)return o+(e-n)}else{if(a===i.CC.Up)return t+n;if(a===i.CC.Down)return Math.max(0,t-n)}return o}(t,k,y,f);let x=k-P;if(x<0){const e=-P;x=Math.max(x,e)}else if(x>0){const e=b-(P+M);x=Math.min(x,e)}const T=Math.abs(x);return()=>{if(T<1)return void(S!==P&&(t.scrollTop=P));const e=P+x;if(0===I)return void(t.scrollTop=e);const n=T<=s.s8T?C:E,o=I||s.SKD+T/s.nxZ*(s.OzO-s.SKD),i=Date.now();h=!0;const r=A;A=(0,a.VK)(void 0,!0),r?.(),(0,m.S0)(()=>{const a=Math.min((Date.now()-i)/o,1),s=x*(1-n(a)),c=Math.round(e-s);return t.scrollTop=c,h=a<1&&c!==e,h||(u=void 0,A?.(),A=void 0),h},c.RK)}}function f(){return h}function v(){A(),A=void 0}function C(e){return 1-(1-e)**3.5}function E(e){return 1-(1-e)**6}},84537:(e,t,n)=>{n.d(t,{A:()=>a});const a={root:"Af3tYFMg",canvas:"GbpiDSS_"}},85771:(e,t,n)=>{n.d(t,{A:()=>s});var a=n(84051),o=n(80089),i=n(80464);const s=e=>{const{isOpen:t}=e,n=(0,i.A)(o.ar.Extra,"PinMessageModal",!t);return n?a.Ay.createElement(n,e):void 0}},90578:(e,t,n)=>{n.d(t,{A:()=>I});var a=n(84051),o=n(13439),i=n(90709),s=n(60919),c=n(96454),r=n(87357),l=n(58443),d=n(76023),m=n(82117),u=n(5912),A=n(17712),h=n(34201),g=n(4438),p=n(9267),y=n(93879);const f=1.5*d.$,v=6.5*d.$,C=c.pz||c.Ni?2:5,E=c.pz||c.Ni?2:3,I=(0,a.ph)((0,o.EK)((e,{containerId:t})=>{const{activeReactions:n}=(0,s.nTw)(e),a=(0,s.xYJ)(e,"reactionEffects");return{activeReactions:n?.[t],withEffects:a}})(({containerId:e,reaction:t,className:n,size:s=f,effectSize:c=v,activeReactions:d,localAmount:I,withEffects:w,observeIntersection:S})=>{const{stopActiveReaction:R}=(0,o.getActions)(),b=(0,a.li)(),N=(0,a.li)(),[M,k]=(0,a.J0)([]),P=(0,u.Vz)(b,S),x=(0,a.Kr)(()=>d?.find(e=>(0,i.a0)(e,t)),[d,t]),T=Boolean(w&&x),L=M.length<C;(0,m.A)(([e])=>{T?!I||I<=(e||0)||L&&k(e=>[...e,Date.now()]):k([])},[I,L,T]);const{shouldRender:D}=(0,h.A)({ref:N,noMountTransition:!0,isOpen:T,className:"slow",withShouldRender:!0}),O=(0,A.A)(()=>{const n=M.slice(1);k(n),n.length||R({containerId:e,reaction:t})}),B=(0,r.A)(y.A.root,D&&y.A.animating,n);return a.Ay.createElement("div",{className:B,ref:b,teactFastList:!0},a.Ay.createElement(p.A,{key:"icon",type:"gold",size:"adaptive",style:`width: ${s}px; height: ${s}px`}),D&&M.map(e=>a.Ay.createElement(g.A,{key:e,ref:N,className:y.A.effect,size:c,tgsUrl:l.w.StarReactionEffect,play:P,noLoop:!0,forceAlways:!0,nonInteractive:!0,quality:E,onEnded:O})))}))},91650:(e,t,n)=>{n.a(e,async(e,a)=>{try{n.d(t,{A:()=>A});var o=n(84051),i=n(17712),s=n(59030),c=n(64493),r=n(40664),l=n(8410),d=n(49504),m=e([s,c,r,l]);[s,c,r,l]=m.then?(await m)():m;const u=({isOpen:e,title:t,subtitle:n,placeholder:a,submitText:m,maxLength:u,initialValue:A="",onClose:h,onSubmit:g})=>{const p=(0,s.A)(),[y,f]=(0,o.J0)(A),v=(0,i.A)(e=>{f(e.target.value)}),C=(0,i.A)(()=>{g(y)});return o.Ay.createElement(l.A,{className:"narrow",title:t,isOpen:e,onClose:h,isSlim:!0},Boolean(n)&&o.Ay.createElement("div",{className:d.A.subtitle},n),o.Ay.createElement(r.A,{placeholder:a,value:y,onChange:v,maxLength:u,teactExperimentControlled:!0}),o.Ay.createElement("div",{className:"dialog-buttons mt-2"},o.Ay.createElement(c.A,{className:"confirm-dialog-button",onClick:C},m||p("Save")),o.Ay.createElement(c.A,{className:"confirm-dialog-button",isText:!0,onClick:h},p("Cancel"))))},A=(0,o.ph)(u);a()}catch(e){a(e)}})},93879:(e,t,n)=>{n.d(t,{A:()=>a});const a={root:"O9uCTt5C","animated-icon":"HiI6SMxF",animatedIcon:"HiI6SMxF",effect:"NhFcTGja",animating:"ikfZ6Igz",withEffectOnly:"jjRJmHCg"}},98691:(e,t,n)=>{n.a(e,async(e,a)=>{try{n.d(t,{A:()=>k});var o=n(84051),i=n(13439),s=n(23174),c=n(31481),r=n(90709),l=n(60919),d=n(56494),m=n(87357),u=n(85982),A=n(9716),h=n(74755),g=n(26096),p=n(37661),y=n(39351),f=n(17712),v=n(59030),C=n(11186),E=n(34201),I=n(85771),w=n(94189),S=n(69561),R=e([y,v,C,w,S]);[y,v,C,w,S]=R.then?(await R)():R;const b=window.getSelection(),N=-1,M=({threadId:e,availableReactions:t,topReactions:n,defaultTagReactions:a,isOpen:l,messageListType:A,message:R,customEmojiSetsInfo:M,customEmojiSets:k,album:P,poll:x,webPage:T,story:L,anchor:D,targetHref:O,noOptions:B,canSendNow:F,hasFullInfo:_,canReschedule:U,canReply:K,canPin:j,repliesThreadInfo:z,canUnpin:$,canDelete:J,canShowReactionsCount:H,chat:q,canReport:G,canShowReactionList:W,canEdit:V,canAppendTodoList:Y,enabledReactions:Z,reactionsLimit:X,isPrivate:Q,isCurrentUserPremium:ee,canForward:te,canBuyPremium:ne,canFaveSticker:ae,canUnfaveSticker:oe,canCopy:ie,canCopyLink:se,canSelect:ce,canDownload:re,canSaveGif:le,canRevote:de,canClosePoll:me,canPlayAnimatedEmojis:ue,canLoadReadDate:Ae,shouldRenderShowWhen:he,activeDownloads:ge,noReplies:pe,canShowSeenBy:ye,canScheduleUntilOnline:fe,canTranslate:ve,isMessageTranslated:Ce,canShowOriginal:Ee,canSelectLanguage:Ie,isReactionPickerOpen:we,isInSavedMessages:Se,canReplyInChat:Re,isWithPaidReaction:be,userFullName:Ne,canGift:Me,className:ke,savedDialogId:Pe,onClose:xe,onCloseAnimationEnd:Te})=>{const{openThread:Le,updateDraftReplyInfo:De,setEditingId:Oe,pinMessage:Be,openForwardMenu:Fe,openReplyMenu:_e,faveSticker:Ue,unfaveSticker:Ke,toggleMessageSelection:je,sendScheduledMessages:ze,rescheduleMessage:$e,downloadMedia:Je,cancelMediaDownload:He,loadSeenBy:qe,openSeenByModal:Ge,openReactorListModal:We,loadFullChat:Ve,loadReactors:Ye,copyMessagesByIds:Ze,saveGif:Xe,loadStickers:Qe,cancelPollVote:et,closePoll:tt,toggleReaction:nt,requestMessageTranslation:at,showOriginalMessage:ot,openChatLanguageModal:it,openMessageReactionPicker:st,openPremiumModal:ct,loadOutboxReadDate:rt,copyMessageLink:lt,openDeleteMessageModal:dt,addLocalPaidReaction:mt,openPaidReactionModal:ut,reportMessages:At,openTodoListModal:ht,showNotification:gt}=(0,i.getActions)(),pt=(0,v.A)(),yt=(0,y.A)(),{ref:ft}=(0,E.A)({isOpen:l,onCloseAnimationEnd:Te,className:!1}),[vt,Ct]=(0,o.J0)(!0),[Et,It]=(0,o.J0)(!1),[wt,St,Rt]=(0,p.A)(),[bt,Nt]=(0,o.J0)(N),[Mt,kt]=(0,C.A)(fe,xe,R.date),Pt=void 0===M||Boolean(M.length);(0,o.vJ)(()=>{ye&&l&&qe({chatId:R.chatId,messageId:R.id})},[qe,l,R.chatId,R.id,ye]),(0,o.vJ)(()=>{Ae&&l&&rt({chatId:R.chatId,messageId:R.id})},[Ae,l,R.chatId,R.id,R.readDate]),(0,o.vJ)(()=>{H&&l&&Ye({chatId:R.chatId,messageId:R.id})},[H,l,Ye,R.chatId,R.id]),(0,o.vJ)(()=>{M?.length&&k?.length!==M.length&&M.forEach(e=>{Qe({stickerSetInfo:e})})},[M,k,Qe]),(0,o.vJ)(()=>{_||Q||!l||Ve({chatId:R.chatId})},[_,l,Q,Ve,R.chatId]);const xt=(0,o.Kr)(()=>{const e=(0,i.mS)().chats.byId,t=(0,i.mS)().users.byId;if(R.reactions?.recentReactions?.length){const n=new Set(R.reactions?.recentReactions?.map(({peerId:n})=>t[n]||e[n]));return Array.from(n).filter(Boolean).slice(0,c.dqH)}if(R.seenByDates)return Object.keys(R.seenByDates).slice(0,c.dqH).map(n=>t[n]||e[n]).filter(Boolean)},[R.reactions?.recentReactions,R.seenByDates]),Tt=(0,o.Kr)(()=>{const e=(0,i.mS)();if(P)return P.messages.some(t=>{const n=(0,d.iS)(e,t);return!!n&&(0,r.$r)(ge,n)});const t=(0,d.iS)(e,R);return!!t&&(0,r.$r)(ge,t)},[ge,P,R]),Lt=K&&b?.rangeCount?b.getRangeAt(0):void 0;(0,o.vJ)(()=>{if(Ce)return void Nt(N);if(!Lt||Lt.collapsed||!Boolean(R.content.text?.text)||!(0,g.R)(Lt))return void Nt(N);const e=(0,h.Q)(Lt),t=R.content.text.text.replace(/\u00A0/g," ");e.text.trim().length>0&&t.includes(e.text)?Nt(Lt.startOffset):Nt(N)},[Lt,Lt?.collapsed,Lt?.startOffset,Lt?.endOffset,Ce,R.content.text]);const Dt=(0,f.A)(()=>{Ct(!1),xe()}),Ot=(0,f.A)(()=>{Ct(!1),Dt();const e=P?.messages?P.messages.map(({id:e})=>e):[R.id];dt({chatId:R.chatId,messageIds:e,isSchedule:"scheduled"===A})}),Bt=(0,f.A)(()=>{It(!1),xe()}),Ft=(0,f.A)(()=>{const e=bt!==N&&Lt?(0,h.Q)(Lt):void 0;Re?De({replyToMsgId:R.id,quoteText:e,quoteOffset:bt,monoforumPeerId:Pe,replyToPeerId:void 0}):_e({fromChatId:R.chatId,messageId:R.id,quoteText:e,quoteOffset:bt}),Dt()}),_t=(0,f.A)(()=>{Le({chatId:R.chatId,threadId:R.id}),Dt()}),Ut=(0,f.A)(()=>{R.content.todo?ht({chatId:R.chatId,messageId:R.id}):Oe({messageId:R.id}),Dt()}),Kt=(0,f.A)(()=>{ee?ht({chatId:R.chatId,messageId:R.id,forNewTask:!0}):gt({message:yt("SubscribeToTelegramPremiumForAppendToDo"),action:{action:"openPremiumModal",payload:{initialSection:"todo"}},actionText:pt("PremiumMore")}),Dt()}),jt=(0,f.A)(()=>{Ct(!1),It(!0)}),zt=(0,f.A)(()=>{Be({chatId:R.chatId,messageId:R.id,isUnpin:!0}),Dt()}),$t=(0,f.A)(()=>{if(Dt(),P?.messages){const e=P.messages.map(({id:e})=>e);Fe({fromChatId:R.chatId,messageIds:e})}else Fe({fromChatId:R.chatId,messageIds:[R.id]})}),Jt=(0,f.A)(()=>{Dt(),Ue({sticker:R.content.sticker})}),Ht=(0,f.A)(()=>{Dt(),Ke({sticker:R.content.sticker})}),qt=(0,f.A)(()=>{Dt(),et({chatId:R.chatId,messageId:R.id})}),Gt=(0,f.A)(()=>{Dt(),tt({chatId:R.chatId,messageId:R.id})}),Wt=(0,f.A)(()=>{const e=P?.messages?{messageId:R.id,childMessageIds:P.messages.map(({id:e})=>e),withShift:!1}:{messageId:R.id,withShift:!1};je(e),Dt()}),Vt=(0,f.A)(()=>{ze({chatId:R.chatId,id:R.id}),Dt()}),Yt=(0,f.A)(e=>{$e({chatId:R.chatId,messageId:R.id,scheduledAt:e}),xe()}),Zt=(0,f.A)(()=>{Ct(!1),Mt(Yt)}),Xt=(0,f.A)(()=>{Dt(),Ge({chatId:R.chatId,messageId:R.id})}),Qt=(0,f.A)(()=>{Dt(),We({chatId:R.chatId,messageId:R.id})}),en=(0,f.A)(e=>{Ze({messageIds:e}),Dt()}),tn=(0,f.A)(()=>{lt({chatId:R.chatId,messageId:R.id,shouldIncludeThread:e!==s.l3,shouldIncludeGrouped:!0}),Dt()}),nn=(0,f.A)(()=>{(0,u.eM)(R.content.contact.phoneNumber),Dt()}),an=(0,f.A)(()=>{const e=(0,i.mS)();(P?.messages||[R]).forEach(t=>{const n=(0,d.iS)(e,t);n&&(Tt?He({media:n}):Je({media:n,originMessage:t}))}),Dt()}),on=(0,f.A)(()=>{const e=(0,r.zX)(R);Xe({gif:e}),Dt()}),sn=(0,f.A)(e=>{Se&&!ee?ct({initialSection:"saved_tags"}):nt({chatId:R.chatId,messageId:R.id,reaction:e,shouldAddToRecent:!0}),Dt()}),cn=(0,f.A)(()=>{mt({chatId:R.chatId,messageId:R.id,count:1}),Dt()}),rn=(0,f.A)(()=>{ut({chatId:R.chatId,messageId:R.id}),Dt()}),ln=(0,f.A)(e=>{st({chatId:R.chatId,messageId:R.id,position:e})}),dn=(0,f.A)(()=>{at({chatId:R.chatId,id:R.id}),Dt()}),mn=(0,f.A)(()=>{ot({chatId:R.chatId,id:R.id}),Dt()}),un=(0,f.A)(()=>{it({chatId:R.chatId,messageId:R.id}),Dt()}),An=(0,o.Kr)(()=>(P?P.messages:[R]).map(({id:e})=>e),[P,R]),hn=(0,f.A)(()=>{q&&(Ct(!1),xe(),At({chatId:q.id,messageIds:An}))});if(B)return void Dt();const gn=new Date;return gn.setFullYear(gn.getFullYear()+1),o.Ay.createElement("div",{ref:ft,className:(0,m.A)("ContextMenuContainer",ke)},o.Ay.createElement(S.A,{isReactionPickerOpen:we,availableReactions:t,topReactions:n,defaultTagReactions:a,isWithPaidReaction:be,message:R,isPrivate:Q,isCurrentUserPremium:ee,canBuyPremium:ne,isOpen:vt,enabledReactions:Z,reactionsLimit:X,anchor:D,targetHref:O,canShowReactionsCount:H,canShowReactionList:W,canSendNow:F,canReschedule:U,canReply:K,canQuote:bt!==N,canDelete:J,canPin:j,canReport:G,repliesThreadInfo:z,canUnpin:$,canEdit:V,canAppendTodoList:Y,canForward:te,canFaveSticker:ae,canUnfaveSticker:oe,canCopy:ie,canCopyLink:se,canSelect:ce,canDownload:re,canSaveGif:le,canRevote:de,canClosePoll:me,canShowSeenBy:ye,canTranslate:ve,canShowOriginal:Ee,canSelectLanguage:Ie,canPlayAnimatedEmojis:ue,shouldRenderShowWhen:he,canLoadReadDate:Ae,hasCustomEmoji:Pt,customEmojiSets:k,isDownloading:Tt,seenByRecentPeers:xt,isInSavedMessages:Se,noReplies:pe,poll:x,webPage:T,story:L,onOpenThread:_t,onReply:Ft,onEdit:Ut,onAppendTodoList:Kt,onPin:jt,onUnpin:zt,onForward:$t,onDelete:Ot,onReport:hn,onFaveSticker:Jt,onUnfaveSticker:Ht,onSelect:Wt,onSend:Vt,onReschedule:Zt,onClose:Dt,onCopyLink:tn,onCopyMessages:en,onCopyNumber:nn,onDownload:an,onSaveGif:on,onCancelVote:qt,onClosePoll:St,onShowSeenBy:Xt,onToggleReaction:sn,onSendPaidReaction:cn,onShowPaidReactionModal:rn,onShowReactors:Qt,onReactionPickerOpen:ln,onTranslate:dn,onShowOriginal:mn,onSelectLanguage:un,userFullName:Ne,canGift:Me}),o.Ay.createElement(I.A,{isOpen:Et,messageId:R.id,chatId:R.chatId,onClose:Bt}),o.Ay.createElement(w.A,{isOpen:wt,onClose:Rt,text:pt("lng_polls_stop_warning"),confirmLabel:pt("lng_polls_stop_sure"),confirmHandler:Gt}),U&&kt)},k=(0,o.ph)((0,i.EK)((e,{message:t,messageListType:n,detectedLanguage:a})=>{const{threadId:o}=(0,l.Xf0)(e)||{},{defaultTags:i,topReactions:s,availableReactions:d}=e.reactions,m=(0,l.yuw)(e),u=(0,l.hds)(e,t.chatId),h=u&&(0,A.L8)(u.id),g=h?void 0:(0,l.AWZ)(e,t.chatId),p=(0,l.mBe)(e,t.chatId),y=p&&(0,r.Yg)(p),{seenByExpiresAt:f,seenByMaxChatMembers:v,maxUniqueReactions:C,readDateExpiresAt:E}=e.appConfig||{},I=g?.reactionsLimit||C,{noOptions:w,canReplyGlobally:S,canPin:R,canUnpin:b,canDelete:N,canReport:M,canEdit:k,canFaveSticker:P,canUnfaveSticker:x,canCopy:T,canCopyLink:L,canSelect:D,canDownload:O,canSaveGif:B,canRevote:F,canClosePoll:_}=o&&(0,l.WAX)(e,t,o)||{},U=(0,l.R4s)(e,t),K=h?(0,l.K0y)(e,u.id):void 0,j=(0,r.Ie)(t),z=u&&(0,l.yps)(e,u.id),$=Boolean(z),J=(0,l.Jbz)(e,t),H=Boolean(h&&j&&!$&&!J&&E&&t.date>Date.now()/1e3-E&&!K?.isReadDateRestricted&&"scheduled"!==n),q=Boolean(H&&h&&(0,l.K0y)(e,u.id)?.isReadDateRestrictedByMe),G="pinned"===n,W="scheduled"===n,V=u&&(0,r.WX)(u),Y=o&&(0,l.Vw0)(e,t.chatId,o),Z=Boolean(Y&&!Y?.isCommentsInfo&&Y?.fromChannelId),X=o?(0,l.S0q)(e,t.chatId,o):void 0,Q=u&&!(0,r.Sq)(u,"sendPlain",g),ee=!(!u||!o)&&(0,r.__)(u,X,Z,g)&&Q,te=(0,r.Nb)(t),ne=(0,r.G5)(t),ae=Boolean(!te&&u&&!u.isMonoforum&&!J&&v&&f&&(0,r.YE)(u)&&j&&!W&&u.membersCount&&u.membersCount<=v&&t.date>Date.now()/1e3-f),oe=(0,r._P)(t),ie=!te&&!V&&!W&&!oe&&!h&&t.reactions&&!(0,r.G)(t.reactions)&&t.reactions.canSeeList,se=(0,l.ynf)(e,t),ce=Boolean(t.content.contact),re=(0,l.g29)(e),le=(0,l.S1W)(e,t),de=le?.map(t=>(0,l.ycM)(e,t)),me=de?.every(Boolean)?de:void 0,ue=(0,l.Rny)(e,t.chatId,t.id),Ae=ue?Boolean((0,l.a_$)(e,t.chatId,ue)[t.id]?.text):void 0,he=!Ae&&(0,l.S86)(e,t,a),ge=(0,l.qZq)(e,t.chatId),pe=(0,l.nZ4)(e,t.chatId),ye=(0,l.zcZ)(e,t),fe=t.content.storyData,ve=fe?(0,l.Msb)(e,fe.peerId,fe.id):void 0,Ce=(0,l.X2D)(e,t.chatId),Ee=(0,l.QP5)(e,t),Ie=e.appConfig?.todoItemsMax||c.gyE;return{threadId:o,chat:u,availableReactions:d,topReactions:s,defaultTagReactions:i,noOptions:w,canReport:M,canSendNow:W,canReschedule:W,canReply:!G&&!W&&S,canPin:!W&&R,canUnpin:!W&&b,canDelete:N,canEdit:!G&&k,canAppendTodoList:t.content.todo?.todo.othersCanAppend&&t.content.todo?.todo.items?.length<Ie,canForward:!W&&U,canFaveSticker:!W&&P,canUnfaveSticker:!W&&x,canCopy:ce||!se&&T,canCopyLink:!W&&L,canSelect:D,canDownload:!se&&O,canSaveGif:!se&&B,canRevote:F,canClosePoll:!W&&_,activeDownloads:m,canShowSeenBy:ae,canLoadReadDate:H,shouldRenderShowWhen:q,enabledReactions:u?.isForbidden?void 0:g?.enabledReactions,reactionsLimit:I,isPrivate:h,isCurrentUserPremium:re,hasFullInfo:Boolean(g),canShowReactionsCount:ie,canShowReactionList:!(te||oe||W||u?.id===c.zv8||ne),canBuyPremium:!re&&!(0,l.n_C)(e),customEmojiSetsInfo:le,customEmojiSets:me,canScheduleUntilOnline:(0,l.RBq)(e,t.chatId),canTranslate:he,canShowOriginal:Ae&&!ge,canSelectLanguage:Ae&&!ge,isMessageTranslated:Ae,canPlayAnimatedEmojis:(0,l.BWX)(e),isReactionPickerOpen:(0,l.Ani)(e),isInSavedMessages:pe,isChannel:V,canReplyInChat:ee,isWithPaidReaction:g?.isPaidReactionAvailable,poll:ye,story:ve,userFullName:y,canGift:Ce,savedDialogId:Ee}})(M));a()}catch(e){a(e)}})},99952:(e,t,n)=>{n.a(e,async(e,a)=>{try{n.d(t,{A:()=>y});var o=n(84051),i=n(13439),s=n(70636),c=n(60919),r=n(87357),l=n(35049),d=n(59030),m=n(21849),u=n(35384),A=n(54746),h=n(69032),g=e([s,d,m,u]);[s,d,m,u]=g.then?(await g)():g;const p=({icon:e,title:t,isMinimized:n,canClose:a,isCloseNonDestructive:i,clickArg:c,peer:g,mockPeer:p,customPeer:y,className:f,isSavedMessages:v,withPeerColors:C,withEmojiStatus:E,onClick:I,itemClassName:w})=>{const S=(0,d.A)(),R=p||g,b=y||R,N=R&&(0,s.vj)(R)?R:void 0;let M,k,P;e&&t?(M=o.Ay.createElement("div",{className:h.A.iconWrapper},o.Ay.createElement(A.A,{name:e,style:h.A.icon})),k=t):b&&(M=o.Ay.createElement(m.A,{className:h.A.avatar,peer:b,size:"small",isSavedMessages:v}),P=(0,s.F9)(S,b)||t,k=t||o.Ay.createElement(u.A,{peer:b,isSavedMessages:v,withEmojiStatus:E}));const x=(0,r.A)(h.A.root,(N?.isForum||y?.isAvatarSquare)&&h.A.squareAvatar,n&&h.A.minimized,a&&h.A.closeable,i&&h.A.nonDestructive,!I&&h.A.notClickable,C&&(0,l.y)(y||g),f);return o.Ay.createElement("div",{className:x,onClick:()=>I?.(c),title:n?P:void 0,dir:S.isRtl?"rtl":void 0},M,!n&&o.Ay.createElement("div",{className:(0,r.A)(h.A.name,w),dir:"auto"},k),a&&o.Ay.createElement("div",{className:h.A.remove},o.Ay.createElement(A.A,{name:"close"})))},y=(0,o.ph)((0,i.EK)((e,{peerId:t,forceShowSelf:n})=>{if(!t)return{};const a=(0,c.PVB)(e,t),o=(0,c.mBe)(e,t);return{peer:a,isSavedMessages:!n&&o&&o.isSelf}})(p));a()}catch(e){a(e)}})}}]);
//# sourceMappingURL=4227.ec80be6ef1cc757bf7dc.js.map