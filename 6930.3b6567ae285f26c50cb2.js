"use strict";(self.webpackChunkTeleGPT=self.webpackChunkTeleGPT||[]).push([[6930],{1256:(e,t,a)=>{a.a(e,async(e,r)=>{try{a.r(t),a.d(t,{ChatRefundModal:()=>b.A,GiftInfoModal:()=>u.A,GiftModal:()=>m.A,GiftRecipientPicker:()=>A.A,GiftResalePriceComposerModal:()=>p.A,GiftStatusInfoModal:()=>y.A,GiftTransferModal:()=>g.A,GiftUpgradeModal:()=>f.A,GiftWithdrawModal:()=>h.A,PaidReactionModal:()=>d.A,PriceConfirmModal:()=>E.A,StarPaymentModal:()=>s.A,StarsBalanceModal:()=>o.A,StarsGiftModal:()=>n.A,StarsGiftingPickerModal:()=>i.A,StarsSubscriptionModal:()=>c.A,StarsTransactionInfoModal:()=>l.A});var n=a(53706),i=a(34974),o=a(54567),s=a(70049),l=a(5634),c=a(5662),d=a(20453),m=a(56075),A=a(34515),u=a(95232),p=a(54931),f=a(63874),y=a(98212),h=a(20228),g=a(16218),b=a(5153),E=a(59913),S=e([n,i,o,s,l,c,d,m,A,u,p,f,y,h,g,b,E]);[n,i,o,s,l,c,d,m,A,u,p,f,y,h,g,b,E]=S.then?(await S)():S,r()}catch(e){r(e)}})},4632:(e,t,a)=>{a.a(e,async(e,r)=>{try{a.d(t,{A:()=>g});var n=a(84051),i=a(13439),o=a(60919),s=a(17142),l=a(48775),c=a(39351),d=a(17712),m=a(79577),A=a(87049),u=a(64493),p=a(51261),f=e([c,m,u]);[c,m,u]=f.then?(await f)():f;const y=86;function h({sticker:e,canPlayAnimatedEmojis:t,baseMonthAmount:a,option:r,optionByStars:i,onClick:o}){const{months:f,amount:h,currency:g}=r,b=(0,c.A)(),E=(0,d.A)(()=>{o(r)}),S=Math.floor(h/f),v=a&&a>S?Math.ceil(100-S/(a/100)):void 0;return n.Ay.createElement("div",{className:p.A.container,tabIndex:0,role:"button",onClick:E},n.Ay.createElement(m.A,{sticker:e,play:t,noLoop:!0,nonInteractive:!0,size:y}),function(){const e=12===f?b("Years",{count:1},{pluralValue:1}):b("Months",{count:f},{pluralValue:f});return n.Ay.createElement("div",{className:p.A.monthsDescription},e)}(),n.Ay.createElement("div",{className:p.A.description},b("PremiumGiftDescription")),n.Ay.createElement(u.A,{className:p.A.buy,nonInteractive:!0,size:"tiny",pill:!0,fluid:!0},(0,s.Ad)(h,g)),i&&n.Ay.createElement("div",{className:p.A.starsPriceBlock},b("GiftPremiumStarsPrice",{stars:(0,l.U2)(b,i.amount,{className:p.A.starsPriceIcon})},{withNodes:!0,withMarkdown:!0})),Boolean(v)&&n.Ay.createElement(A.A,{color:"purple",text:b("GiftDiscount",{percent:v})}))}const g=(0,n.ph)((0,i.EK)((e,{option:t})=>({sticker:(0,o.t0O)(e,t.months),canPlayAnimatedEmojis:(0,o.BWX)(e)}))(h));r()}catch(b){r(b)}})},5153:(e,t,a)=>{a.a(e,async(e,r)=>{try{a.d(t,{A:()=>y});var n=a(84051),i=a(13439),o=a(70636),s=a(60919),l=a(48775),c=a(14),d=a(39351),m=a(17712),A=a(19806),u=a(94189),p=e([o,d,A,u]);[o,d,A,u]=p.then?(await p)():p;const f=({modal:e,user:t})=>{const{closeChatRefundModal:a,toggleNoPaidMessagesException:r}=(0,i.ko)(),[s,p]=(0,n.J0)(!1),f=(0,c.A)(e),y=(0,c.A)(t),{starsToRefund:h,userId:g}=f||{},b=(0,d.A)(),E=Boolean(e),S=(0,m.A)(()=>{a(),g&&r({userId:g,shouldRefundCharged:s})});return n.Ay.createElement(u.A,{isOpen:E,onClose:a,title:b("RemoveFeeTitle"),confirmLabel:b("ConfirmRemoveMessageFee"),confirmHandler:S},b("ConfirmDialogMessageRemoveFee",{peer:y&&(0,o.F9)(b,y)},{withMarkdown:!0,withNodes:!0}),Boolean(h)&&n.Ay.createElement(A.A,{className:"dialog-checkbox",label:b("ConfirmDialogRemoveFeeRefundStars",{amount:(0,l.Kk)(b,h)},{withMarkdown:!0,withNodes:!0}),checked:s,onCheck:p}))},y=(0,n.ph)((0,i.EK)((e,{modal:t})=>({user:t?.userId?(0,s.mBe)(e,t.userId):void 0}))(f));r()}catch(e){r(e)}})},5634:(e,t,a)=>{a.a(e,async(e,r)=>{try{a.d(t,{A:()=>R});var n=a(84051),i=a(13439),o=a(89925),s=a(31481),l=a(90709),c=a(86046),d=a(60919),m=a(87357),A=a(85982),u=a(17663),p=a(48775),f=a(14242),y=a(66833),h=a(49035),g=a(39351),b=a(17712),E=a(59030),S=a(29886),v=a(79577),N=a(21849),k=a(54746),I=a(9267),C=a(97040),G=a(84685),w=a(29772),B=a(67048),P=a(74342),M=a(43328),T=e([g,E,v,N,w,B,P]);[g,E,v,N,w,B,P]=T.then?(await T)():T;const U=[0,-50],x=({modal:e,peer:t,canPlayAnimatedEmojis:a,topSticker:r,paidMessageCommission:d})=>{const{showNotification:T,openMediaViewer:x,closeStarsTransactionModal:R}=(0,i.ko)(),F=(0,g.A)(),O=(0,E.A)(),{transaction:L}=e||{},K=(0,n.li)(),V=(0,b.A)(()=>{const e=L?.extendedMedia;e&&x({origin:o.TQ.StarsTransaction,standaloneMedia:e.flatMap(e=>Object.values(e))})}),z=(0,b.A)(()=>{K.current?.()}),H=(0,b.A)(e=>{K.current=e}),q=(0,n.Kr)(()=>{if(!L)return;const{giveawayPostId:e,photo:i,amount:o,isGiftUpgrade:g,starGift:b,isGiftResale:E,starRefCommision:S}=L,w=L?.starGift,x="starGiftUnique"===w?.type,R=L?.starGift?(0,y.yQ)(L.starGift):r,K=x?(0,y.uc)(w):void 0,q=L.peer&&(0,c.MA)(L)&&(0,c.Pc)(L)||void 0,J="peer"===L.peer?.type?L.peer.id:void 0,W=L.peer&&O(D(L.peer)),_=(0,h.fF)(O,F,L),j=t&&L.messageId&&!g?(0,l.yt)(t,void 0,L.messageId):void 0,X=t&&e?(0,l.yt)(t,void 0,e):void 0,Q=L.extendedMedia,Y=Q?.length||0,$=Q?.every(e=>!e.video),Z=Q?.every(e=>!e.photo),ee=O($?"Stars.Transfer.Photos":Z?"Stars.Transfer.Videos":"Media",Y),te=L.description||(g&&"starGiftUnique"===b?.type?b.title:void 0)||(Q?ee:void 0),ae=!Q&&!R&&!L.isPostsSearch,re=i?void 0:!(0,c.MA)(L)&&t||q,ne=x&&n.Ay.createElement("div",{className:(0,m.A)(M.A.header,M.A.uniqueGift)},n.Ay.createElement(B.A,{backdropAttribute:K.backdrop,patternAttribute:K.pattern,modelAttribute:K.model,title:w.title,subtitle:F("GiftInfoCollectible",{number:w.number}),resellPrice:L.amount})),ie=(0,h.Y4)(o)?M.A.negative:M.A.positive,oe=n.Ay.createElement("div",{className:M.A.header},Q&&n.Ay.createElement(P.A,{className:(0,m.A)(M.A.mediaPreview,"transaction-media-preview"),media:Q,onClick:V}),!Q&&R&&n.Ay.createElement(v.A,{key:L.id,sticker:R,play:a,noLoop:!0}),ae&&n.Ay.createElement(N.A,{className:M.A.avatar,peer:re,webPhoto:i,size:"giant",onMouseMove:z}),!R&&!L.isPostsSearch&&n.Ay.createElement(C.A,{className:(0,m.A)(M.A.starsBackground),color:"gold",onRequestAnimation:H,centerShift:U}),Boolean(_)&&n.Ay.createElement("h1",{className:M.A.title},_),n.Ay.createElement("p",{className:M.A.description},te),n.Ay.createElement("p",{className:M.A.amount},n.Ay.createElement("span",{className:(0,m.A)(M.A.amount,ie)},(0,c.hk)(F,o)),o.currency===s.OUy&&n.Ay.createElement(I.A,{type:"gold",size:"middle"}),"TON"===o.currency&&n.Ay.createElement(k.A,{name:"toncoin",className:ie}),L.isRefund&&n.Ay.createElement("p",{className:M.A.refunded},F("Refunded"))),Boolean(L.paidMessages&&L.starRefCommision&&d)&&n.Ay.createElement("p",{className:M.A.description},F("PaidMessageTransactionDescription",{percent:(0,f.l9)(d/10)},{withNodes:!0,withMarkdown:!0}))),se=[];let le;L&&S&&!L.paidMessages&&!E&&se.push([O("StarsTransaction.StarRefReason.Title"),O("StarsTransaction.StarRefReason.Program")]),g&&se.push([O("StarGiftReason"),O("StarGiftReasonUpgrade")]),E&&se.push([O("StarGiftReason"),(0,h.Y4)(L.amount)?F("StarGiftSaleTransaction"):F("StarGiftPurchaseTransaction")]),le=g?O("Stars.Transaction.GiftFrom"):(0,h.Y4)(o)||L.isMyGift?O("Stars.Transaction.To"):!L.starRefCommision||L.paidMessages||E?O(J?"Star.Transaction.From":"Stars.Transaction.Via"):O("StarsTransaction.StarRefReason.Miniapp"),L.isPostsSearch||se.push([le,J?{chatId:J}:W||""]),L.starRefCommision&&L.paidMessages&&se.push([F("PaidMessageTransactionTotal"),(0,p.U2)(F,L.amount.amount/((100-L.starRefCommision)/100),{asFont:!1,className:M.A.starIcon,containerClassName:M.A.totalStars})]),j&&se.push([O("Stars.Transaction.Reaction.Post"),n.Ay.createElement(G.A,{url:j,text:j})]),X&&L.amount.currency===s.OUy&&(se.push([O("BoostReason"),n.Ay.createElement(G.A,{url:X,text:O("Giveaway")})]),se.push([O("Gift"),O("Stars",L.amount,"i")])),L.id&&se.push([O("Stars.Transaction.Id"),n.Ay.createElement(n.Ay.Fragment,null,n.Ay.createElement("div",{className:M.A.tid,onClick:()=>{(0,A.eM)(L.id),T({message:O("StarsTransactionIDCopied")})}},L.id),n.Ay.createElement(k.A,{className:M.A.copyIcon,name:"copy"}))]),se.push([O("Stars.Transaction.Date"),(0,u.L2)(1e3*L.date,O.code,!0)]);const ce=O("lng_credits_box_out_about").split("{link}");return{header:x?ne:oe,tableData:se,footer:n.Ay.createElement("span",{className:M.A.footer},ce[0],n.Ay.createElement(G.A,{url:O("StarsTOSLink"),text:O("lng_credits_summary_options_about_link")}),ce[1])}},[L,O,F,t,a,r,d,H]),J=(0,S.A)(q)||q;return n.Ay.createElement(w.A,{isOpen:Boolean(L),className:M.A.modal,hasBackdrop:"starGiftUnique"===L?.starGift?.type,header:J?.header,tableData:J?.tableData,footer:J?.footer,buttonText:O("OK"),onClose:R})},R=(0,n.ph)((0,i.EK)((e,{modal:t})=>{const a="peer"===t?.transaction?.peer?.type&&t.transaction.peer.id,r=a?(0,d.PVB)(e,a):void 0,n=e.appConfig?.starsPaidMessageCommissionPermille,i=t?.transaction.amount,o=t?.transaction.isGift?i?.currency===s.OUy?(0,d.WLj)(e,i?.amount):(0,d.OD9)(e,i?.amount):void 0;return{peer:r,canPlayAnimatedEmojis:(0,d.BWX)(e),topSticker:o,paidMessageCommission:n}})(x));function D(e){switch(e.type){case"appStore":return"AppStore";case"playMarket":return"PlayMarket";case"fragment":return"Fragment";case"premiumBot":return"StarsTransactionBot";case"ads":return"StarsTransactionAds";case"api":return"Stars.Intro.Transaction.TelegramBotApi.Subtitle";default:return"Stars.Transaction.Unsupported.Title"}}r()}catch(F){r(F)}})},5662:(e,t,a)=>{a.a(e,async(e,r)=>{try{a.d(t,{A:()=>I});var n=a(84051),i=a(13439),o=a(31481),s=a(70636),l=a(60919),c=a(87357),d=a(17663),m=a(39351),A=a(17712),u=a(59030),p=a(29886),f=a(21849),y=a(9267),h=a(97040),g=a(84685),b=a(64493),E=a(29772),S=a(22348),v=e([s,m,u,f,b,E]);[s,m,u,f,b,E]=v.then?(await v)():v;const N=[0,-50],k=({modal:e,peer:t})=>{const{closeStarsSubscriptionModal:a,fulfillStarsSubscription:r,changeStarsSubscription:l,checkChatInvite:v,loadStarStatus:k,openInvoice:I}=(0,i.ko)(),C=(0,u.A)(),G=(0,m.A)(),{subscription:w}=e||{},B=(0,n.li)(),P=(0,A.A)(()=>{B.current?.()}),M=(0,A.A)(e=>{B.current=e}),T=(0,n.Kr)(()=>{if(!w)return"hidden";if(w.canRefulfill)return"refulfill";const e=w.until>Date.now()/1e3;if(e&&!w.isCancelled)return"cancel";if(e&&w.isCancelled)return"renew";const t=w.chatInviteHash||w.invoiceSlug;return!e&&t?"restart":"ok"},[w]),U=(0,A.A)(()=>{if(w){switch(T){case"refulfill":r({id:w.id});break;case"restart":w.chatInviteHash?v({hash:w.chatInviteHash}):w.invoiceSlug&&I({type:"slug",slug:w.invoiceSlug}),k();break;case"renew":l({id:w.id,isCancelled:!1});break;case"cancel":l({id:w.id,isCancelled:!0})}a()}}),x=(0,n.Kr)(()=>{if(!w||!t)return;const{pricing:e,until:a,isCancelled:r,canRefulfill:i,photo:l,title:m,hasBotCancelled:A}=w,u=(0,s.mO)(t),p=n.Ay.createElement("div",{className:S.A.header},n.Ay.createElement("div",{className:S.A.avatarWrapper},n.Ay.createElement(f.A,{peer:l?void 0:t,webPhoto:l,size:"giant",onMouseMove:P}),n.Ay.createElement(y.A,{className:S.A.subscriptionStar,type:"gold",size:"adaptive"})),n.Ay.createElement(h.A,{className:(0,c.A)(S.A.starsBackground),color:"gold",onRequestAnimation:M,centerShift:N}),n.Ay.createElement("h1",{className:S.A.title},m||C("StarsSubscriptionTitle")),n.Ay.createElement("p",{className:S.A.amount},G("StarsPerMonth",{amount:e.amount},{withNodes:!0,specialReplacement:{[o.Cyx]:n.Ay.createElement(y.A,{className:S.A.amountStar,size:"adaptive",type:"gold"})}}))),E=[];E.push([C(u?"StarsSubscriptionBot":"StarsSubscriptionChannel"),{chatId:t.id}]),m&&E.push([C("StarsSubscriptionBotProduct"),m]);const v=a<Date.now()/1e3;E.push([C(v?"StarsSubscriptionUntilExpired":r?"StarsSubscriptionUntilExpires":"StarsSubscriptionUntilRenews"),(0,d.L2)(1e3*a,C.code,!0)]);const k=G("StarsTransactionTOS",{link:n.Ay.createElement(g.A,{url:G("StarsTransactionTOSLink"),text:G("StarsTransactionTOSLinkText")})},{withNodes:!0});return{header:p,tableData:E,footer:n.Ay.createElement("span",{className:S.A.footer},n.Ay.createElement("p",{className:S.A.secondary},k),r&&n.Ay.createElement("p",{className:S.A.danger},C(A?"StarsSubscriptionBotCancelledText":"StarsSubscriptionCancelledText")),i&&n.Ay.createElement("p",{className:S.A.secondary},C("StarsSubscriptionRefulfillInfo",(0,d.L2)(1e3*a,C.code,!0))),!r&&!i&&v&&n.Ay.createElement("p",{className:S.A.secondary},C("StarsSubscriptionExpiredInfo",(0,d.L2)(1e3*a,C.code,!0))),!r&&!i&&!v&&n.Ay.createElement("p",{className:S.A.secondary},C("StarsSubscriptionCancelInfo",(0,d.L2)(1e3*a,C.code,!0))),"hidden"!==T&&n.Ay.createElement(b.A,{size:"smaller",color:"cancel"===T?"danger":"primary",isText:"cancel"===T,onClick:U},C("cancel"===T?"StarsSubscriptionCancel":"refulfill"===T?"StarsSubscriptionRefulfill":"restart"===T?"StarsSubscriptionAgain":"renew"===T?"StarsSubscriptionRenew":"OK")))}},[T,G,C,t,w]),R=(0,p.A)(x)||x;return n.Ay.createElement(E.A,{isOpen:Boolean(w),className:S.A.modal,header:R?.header,tableData:R?.tableData,footer:R?.footer,onClose:a})},I=(0,n.ph)((0,i.EK)((e,{modal:t})=>{const a=t?.subscription.peerId;return{peer:a?(0,l.PVB)(e,a):void 0}})(k));r()}catch(e){r(e)}})},5804:(e,t,a)=>{a.d(t,{A:()=>l});var r=a(84051),n=a(30857),i=a(84080),o=a(56133),s=a(35297);function l(e,t,a){const[l,d]=(0,r.J0)(),{isFrozen:m,updateWhenUnfrozen:A}=function(){const e=(0,r.li)(!1),t=(0,r.hb)(()=>{e.current=!0},[]),a=(0,n.A)(),o=(0,r.hb)(()=>{e.current&&(e.current=!1,a())},[a]);return(0,i.Ay)(c,o),{isFrozen:(0,r.OV)(),updateWhenUnfrozen:t}}(),u=(0,o.A)(t,!0);return(0,s.A)(()=>{m?A():u(()=>{d(e())})},[...a,m]),l}function c(){}},9568:(e,t,a)=>{a.d(t,{A:()=>r});const r={root:"s3k01dTm",transition:"BNA0_b5j",main:"Oadi16vt",filter:"z84KbvhX",title:"Jnsrau29",buttons:"NnVyYB32",picker:"cuI2eDIY",avatars:"ILtw_aNL",center:"eIfMzHv5",description:"FlNJWZ5P",premiumFeatures:"xIv0Yaur",options:"eNJRXn6P",button:"KDNKXBp5"}},11222:(e,t,a)=>{a.d(t,{A:()=>r});const r={root:"jKOG0It6",header:"A_fX4EXY",spacer:"ATowWJ60",title:"gDNtv9oz","balance-container":"eAKZVhOT",balanceContainer:"eAKZVhOT","balance-caption":"vbwprYel",balanceCaption:"vbwprYel","star-balance":"lXuIlbVK",starBalance:"lXuIlbVK",balance:"dIEx_Iqi",optionsSection:"Y68CEIKn",checkboxTitle:"H4taXei_",actionMessageView:"CB1mxsgp",messageInput:"o5r2IPoA",limited:"mWzLu0c0",footer:"jxWZSvet",switcher:"zZUpGRSI",switcherStarIcon:"zAee80Dv",description:"nTPAv1ci","main-button":"IDuhjrne",mainButton:"IDuhjrne",star:"Q4NlMT0o",background:"ZORVRSG3",customBgImage:"Eny_G3JI",customBgColor:"TkJZPU2u",withTransition:"soDpW2YR",blurred:"M6k91TdM",withRightColumn:"FBcNO8hj"}},13363:(e,t,a)=>{a.a(e,async(e,r)=>{try{a.d(t,{Ay:()=>u});var n=a(84051),i=a(24021),o=a(56863),s=a(5804),l=a(17712),c=e([i]),d=c.then?(await c)():c;i=d[0];const m=300;async function A(e){const t=await(0,i.px)("searchChats",{query:e});if(t)return[...t.accountResultIds,...t.globalResultIds]}function u({query:e,queryFn:t=A,defaultValue:a,debounceTimeout:r=m,isDisabled:i}){const c=(0,s.A)(()=>e,r,[e]),[d,u]=(0,n.J0)(""),p=e?c:e,f=(0,l.A)(t);return{...(0,o.A)(async()=>{if(!p||i)return u(""),Promise.resolve(a);const e=await f(p);return u(p),e},[p,a,f,i],a),currentResultsQuery:d}}r()}catch(p){r(p)}})},14667:(e,t,a)=>{a.d(t,{A:()=>r});const r={root:"_VgmQnUg",buttonsContainer:"IDlp6U6g",itemIcon:"yuctLnuR",sticker:"VT562JS0",backdropAttributeMenuItemText:"D50wFfRL",menuItemStickerText:"THcGWXSA",menuItemText:"L6EVE2Ux",backdrop:"A29QNxKb",menuItemIcon:"GL4rVsev",item:"qiYcBOYc",menuContentContainer:"EDsBn29z",menu:"ISaNdBwd",left:"e4Kkh_MR",right:"Kz_nCGC3"}},16218:(e,t,a)=>{a.a(e,async(e,r)=>{try{a.d(t,{A:()=>I});var n=a(84051),i=a(13439),o=a(31481),s=a(70636),l=a(60919),c=a(87894),d=a(48775),m=a(79824),A=a(66833),u=a(79582),p=a(14),f=a(74984),y=a(39351),h=a(17712),g=a(13363),b=a(35880),E=a(54960),S=a(63401),v=a(94189),N=e([s,f,y,g,b,E,S,v]);[s,f,y,g,b,E,S,v]=N.then?(await N)():N;const k=({modal:e,contactIds:t,currentUserId:a})=>{const{closeGiftTransferModal:r,openGiftWithdrawModal:N,transferGift:k}=(0,i.ko)(),I=Boolean(e),C=(0,y.A)(),[G,w]=(0,n.J0)(""),B=(0,p.A)(e),P=B?.gift?.gift,M=P&&(0,A.uc)(P),[T,U]=(0,n.J0)(),x=(0,p.A)(T),R=(0,n.Kr)(()=>{const e=(0,i.mS)();return x?(0,l.PVB)(e,x):void 0},[x]),D=(0,f.Rh)(o.DSF),F=(0,n.Kr)(()=>(0,c.Am)([...t||[],...D||[]]),[t,D]),{result:O,currentResultsQuery:L}=(0,g.Ay)({query:G,defaultValue:F}),K=L!==G,V=(0,n.Kr)(()=>L?m.p:[{type:"withdraw",isCustomPeer:!0,avatarIcon:"toncoin",peerColorId:5,title:C("GiftTransferTON")}],[C,L]),z=(0,h.A)(e=>{"withdraw"===e&&(N({gift:B.gift}),r())}),H=(0,n.Kr)(()=>{if(K)return m.p;const e=(0,i.mS)();return(0,u.A)((O||[]).filter(t=>t!==a&&(0,l.X2D)(e,t)),!1)},[K,O,a]),q=(0,h.A)(()=>{U(void 0)});(0,n.vJ)(()=>{I||U(void 0)},[I]);const J=(0,h.A)(()=>{B?.gift.inputGift&&(k({gift:B.gift.inputGift,recipientId:x,transferStars:B.gift.transferStars}),q(),r())});return n.Ay.createElement(S.A,{isOpen:I,onClose:r,title:C("GiftTransferTitle"),hasCloseButton:!0,shouldAdaptToSearch:!0,withFixedHeight:!0,ignoreFreeze:!0},n.Ay.createElement(E.A,{itemIds:H,categories:V,onSelectedCategoryChange:z,withDefaultPadding:!0,withPeerUsernames:!0,isSearchable:!0,noScrollRestore:!0,isLoading:K,filterValue:G,filterPlaceholder:C("Search"),onFilterChange:w,onSelectedIdChange:U}),M&&n.Ay.createElement(v.A,{isOpen:Boolean(T),noDefaultTitle:!0,onClose:q,confirmLabel:B?.gift.transferStars?C("GiftTransferConfirmButton",{amount:(0,d.U2)(C,B.gift.transferStars,{asFont:!0})},{withNodes:!0}):C("GiftTransferConfirmButtonFree"),confirmHandler:J},R&&n.Ay.createElement(b.A,{peer:R,gift:P}),n.Ay.createElement("p",null,B?.gift.transferStars?C("GiftTransferConfirmDescription",{gift:C("GiftUnique",{title:P.title,number:P.number}),amount:(0,d.Kk)(C,B.gift.transferStars),peer:(0,s.F9)(C,R)},{withNodes:!0,withMarkdown:!0}):C("GiftTransferConfirmDescriptionFree",{gift:C("GiftUnique",{title:P.title,number:P.number}),peer:(0,s.F9)(C,R)},{withNodes:!0,withMarkdown:!0}))))},I=(0,n.ph)((0,i.EK)(e=>{const{contactList:t,currentUserId:a}=e;return{contactIds:t?.userIds,currentUserId:a}})(k));r()}catch(e){r(e)}})},16602:(e,t,a)=>{a.d(t,{A:()=>r});const r={header:"LQgz8Nlx",giftPreview:"hgs0ts_O",backdrop:"OnBhMaBw",description:"HBxB4QPY",arrow:"kXTOUpfb",noPassword:"BnqLhoKr"}},20228:(e,t,a)=>{a.a(e,async(e,r)=>{try{a.d(t,{A:()=>C});var n=a(84051),i=a(13439),o=a(89925),s=a(21309),l=a(80140),c=a(66833),d=a(76023),m=a(14),A=a(39351),u=a(17712),p=a(79577),f=a(21849),y=a(54746),h=a(15535),g=a(52647),b=a(64493),E=a(8410),S=a(16602),v=e([A,p,f,h,g,b,E]);[A,p,f,h,g,b,E]=v.then?(await v)():v;const N={isCustomPeer:!0,avatarIcon:"fragment",title:"",customPeerAvatarColor:"#000000"},k=4.5*d.$,I=({modal:e,hasPassword:t,passwordHint:a})=>{const{closeGiftWithdrawModal:r,clearGiftWithdrawError:d,closeGiftInfoModal:v,processStarGiftWithdrawal:I,openSettingsScreen:C}=(0,i.ko)(),G=Boolean(e),[w,B]=(0,n.J0)(!1),P=(0,A.A)(),M=(0,m.A)(e),T=M?.gift?.gift,U=T&&(0,c.uc)(T),x=M?.gift?.canExportAt?Math.max(M.gift.canExportAt-(0,l.Fm)(),0):void 0,R=(0,u.A)(()=>{r()}),D=(0,u.A)(e=>{I({gift:M.gift.inputGift,password:e})}),F=(0,u.A)(()=>{C({screen:o.VS.TwoFaDisabled}),r(),v()});return n.Ay.createElement(E.A,{isOpen:G,title:P("GiftWithdrawTitle"),hasCloseButton:!0,isSlim:!0,onClose:R},U&&n.Ay.createElement(n.Ay.Fragment,null,n.Ay.createElement("div",{className:S.A.header},n.Ay.createElement("div",{className:S.A.giftPreview},n.Ay.createElement(g.A,{className:S.A.backdrop,backgroundColors:[U.backdrop.centerColor,U.backdrop.edgeColor],patternColor:U.backdrop?.patternColor,patternIcon:U.pattern?.sticker}),n.Ay.createElement(p.A,{className:S.A.sticker,size:k,sticker:U.model?.sticker})),n.Ay.createElement(y.A,{name:"next",className:S.A.arrow}),n.Ay.createElement(f.A,{peer:N,size:"giant",className:S.A.avatar})),n.Ay.createElement("p",{className:S.A.description},P("GiftWithdrawDescription",{gift:`${T.title} #${T.number}`},{withNodes:!0,withMarkdown:!0,renderTextFilters:["br"]}))),Boolean(x)&&n.Ay.createElement("p",{className:S.A.exportHint},P("GiftWithdrawWait",{days:(0,s._k)(x)},{pluralValue:(0,s._k)(x)})),!t&&n.Ay.createElement(n.Ay.Fragment,null,n.Ay.createElement("span",{className:S.A.noPassword},P("ErrorPasswordMissing")),n.Ay.createElement(b.A,{className:"mt-2",size:"smaller",onClick:F},P("SetUp2FA"))),t&&!x&&n.Ay.createElement(h.A,{shouldShowSubmit:!0,placeholder:P("CheckPasswordPlaceholder"),error:M?.errorKey&&P.withRegular(M?.errorKey),description:P("CheckPasswordDescription"),clearError:d,isLoading:M?.isLoading,hint:a,isPasswordVisible:w,shouldResetValue:G,onChangePasswordVisibility:B,submitLabel:P("GiftWithdrawSubmit"),onSubmit:D}))},C=(0,n.ph)((0,i.EK)(e=>{const{settings:{byKey:{hasPassword:t}},twoFaSettings:{hint:a}}=e;return{hasPassword:t,passwordHint:a}})(I));r()}catch(e){r(e)}})},20453:(e,t,a)=>{a.a(e,async(e,r)=>{try{a.d(t,{A:()=>F});var n=a(84051),i=a(13439),o=a(31481),s=a(70636),l=a(60919),c=a(87357),d=a(14242),m=a(4961),A=a(43874),u=a(37661),p=a(39351),f=a(17712),y=a(59030),h=a(21849),g=a(35384),b=a(54746),E=a(38705),S=a(84685),v=a(64493),N=a(19806),k=a(22699),I=a(24433),C=a(8410),G=a(84640),w=a(56936),B=a(59160),P=a(53849),M=e([s,p,y,h,g,E,v,N,k,I,C,G,w,B]);[s,p,y,h,g,E,v,N,k,I,C,G,w,B]=M.then?(await M)():M;const T=3,U=50,x=2500,R={avatarIcon:"author-hidden",customPeerAvatarColor:"#9eaab5",isCustomPeer:!0,titleKey:"StarsReactionAnonymous"},D=({modal:e,chat:t,message:a,maxAmount:r,starBalance:M,defaultPrivacy:x,sendPaidReactionsAsPeerIds:D,currentUserId:F,currentUser:O})=>{const{closePaidReactionModal:L,addLocalPaidReaction:K,loadSendPaidReactionsAs:V}=(0,i.ko)(),[z,H]=(0,n.J0)(U),[q,J,W]=(0,u.A)(),[_,j]=(0,n.J0)(!0),[X,Q]=(0,n.J0)(F),Y=t?.id,$=X?(0,l.PVB)((0,i.mS)(),X):O,Z=(0,y.A)(),{isMobile:ee}=(0,A.Ay)(),te=(0,p.A)(),ae=(0,f.A)(e=>{j(!e.target.checked)}),re=(0,f.A)(e=>{H(e),J()});(0,n.vJ)(()=>{Y&&!D&&V({chatId:Y})},[Y,D]);const ne=(0,n.Kr)(()=>{const e=D?.map(e=>e.id).filter(e=>e!==Y);return e?.unshift(F),e},[D,Y,F]),ie=ne&&ne.length>1;(0,n.vJ)(()=>{e||W()},[e]),(0,n.vJ)(()=>{const e=a?.reactions?.topReactors?.find(e=>e.isMy);if(e)return j(Boolean(e.isAnonymous)),void(e.peerId&&Q(e.peerId));j("anonymous"===x?.type||!1),"peer"===x?.type&&ne?.includes(x.peerId)?Q(x.peerId):Q(F)},[x,a?.reactions?.topReactors,ne,F]);const oe=(0,f.A)(()=>{e&&(K({chatId:e.chatId,messageId:e.messageId,count:z,isPrivate:_,peerId:_||X===F?void 0:X,shouldIgnoreDefaultPrivacy:!0}),L())}),se=(0,f.A)(e=>{j(!1),Q(e)}),le=(0,f.A)(e=>{const t=(0,l.PVB)((0,i.mS)(),e),a=X===e&&!_;if(t)return n.Ay.createElement(I.A,{onClick:()=>se(e)},n.Ay.createElement(h.A,{size:"small",peer:t}),n.Ay.createElement("div",{className:(0,c.A)(P.A.itemInfo)},n.Ay.createElement(g.A,{className:P.A.itemTitle,peer:t,noFake:!0,noVerified:!0}),n.Ay.createElement("span",{className:P.A.itemSubtitle},(0,s.mO)(t)?te("PeerPersonalAccount"):te("PeerChannel"))),n.Ay.createElement(b.A,{className:P.A.itemIcon,name:a?"check":"placeholder"}))}),ce=(0,n.Kr)(()=>({onTrigger:e,isOpen:t})=>n.Ay.createElement(v.A,{ripple:!ee,size:"smaller",color:"translucent",className:(0,c.A)(P.A.sendAsPeerMenuButton,t?"active":""),onClick:e,ariaLabel:te("AccDescrOpenMenu2")},n.Ay.createElement(h.A,{className:P.A.sendAsPeerButtonAvatar,size:"mini",peer:_?R:$}),n.Ay.createElement(b.A,{name:"down",className:P.A.buttonDownIcon})),[ee,te,$,_]),de=(0,n.Kr)(()=>{if(ie)return n.Ay.createElement(k.A,{className:(0,c.A)(P.A.sendAsPeerMenu,"with-menu-transitions"),bubbleClassName:P.A.sendAsPeerMenuBubble,trigger:ce,positionX:"right",autoClose:!0},ne.map(e=>le(e)))},[ce,ne,ie]),me=(0,n.Kr)(()=>{const e=(0,i.mS)(),t=a?.reactions?.topReactors;if(!t)return;const r=[];let n=!1,o=0;if(t.forEach(t=>{const a=t.peerId?(0,l.PVB)(e,t.peerId):void 0;if(!a&&!t.isAnonymous&&!t.isMy)return;if(t.isMy&&(o=t.count),t.isMy&&(t.peerId!==X||t.isAnonymous&&!_))return;const i=X===t.peerId||_&&t.isAnonymous;i&&(n=!0),r.push({amount:t.count,localAmount:i&&q?z:0,isMy:t.isMy,isAnonymous:t.isAnonymous,user:a})}),!n){const t=(0,l.PVB)(e,X);r.push({amount:o,localAmount:q?z:0,isMy:!0,user:t})}return r.sort((e,t)=>t.amount+t.localAmount-(e.amount+e.localAmount)),r.slice(0,T)},[q,a?.reactions?.topReactors,z,X,_]),Ae=t&&(0,s.F9)(Z,t);return n.Ay.createElement(C.A,{isOpen:Boolean(e),onClose:L,isSlim:!0,hasAbsoluteCloseButton:!0,contentClassName:P.A.content,isLowStackPriority:!0},n.Ay.createElement("div",{className:P.A.sendAsPeersMenuContainer},de),n.Ay.createElement("div",{className:P.A.headerControlPanel},n.Ay.createElement(w.A,{balance:M,className:P.A.modalBalance,withAddButton:!0})),n.Ay.createElement(B.A,{className:P.A.slider,defaultValue:U,maxValue:r,onChange:re}),n.Ay.createElement("h3",{className:P.A.title},Z("StarsReactionTitle")),n.Ay.createElement("div",{className:P.A.description},(0,m.A)(Z("StarsReactionText",Ae),["simple_markdown","emoji"])),n.Ay.createElement(G.A,null,me&&n.Ay.createElement("div",{className:P.A.topLabel},Z("StarsReactionTopSenders"))),me&&n.Ay.createElement("div",{className:P.A.top},me.map(e=>{const t=(0,d.Sm)(e.amount+e.localAmount),a=e.isAnonymous||!e.user||e.isMy&&_?R:e.user,r="isCustomPeer"in a?Z(a.titleKey):a&&(0,s.F9)(Z,a);return n.Ay.createElement(E.A,{className:P.A.topPeer,key:`${e.user?.id||"anonymous"}-${t}`,peer:a,badgeText:t,badgeIcon:"star",badgeClassName:P.A.topBadge,text:r})})),me&&n.Ay.createElement(G.A,{className:P.A.separator}),n.Ay.createElement(N.A,{className:(0,c.A)(P.A.checkBox,"dialog-checkbox"),checked:!_,onChange:ae,label:Z("StarsReactionShowMeInTopSenders")}),n.Ay.createElement(v.A,{size:"smaller",onClick:oe},te("SendPaidReaction",{amount:z},{withNodes:!0,specialReplacement:{[o.Cyx]:n.Ay.createElement(b.A,{className:P.A.buttonStar,name:"star"})}})),n.Ay.createElement("p",{className:P.A.disclaimer},te("StarsReactionTerms",{link:n.Ay.createElement(S.A,{text:te("StarsReactionLinkText"),url:te("StarsReactionLink")})},{withNodes:!0})))},F=(0,n.ph)((0,i.EK)((e,{modal:t})=>{const a=t&&(0,l.hds)(e,t.chatId),r=t&&(0,l.O5q)(e,t.chatId,t.messageId),n=e.stars?.balance,i=e.appConfig?.paidReactionMaxAmount||x,o=e.settings.paidReactionPrivacy,s=a?.sendPaidReactionsAsPeerIds,c=e.currentUserId;return{chat:a,message:r,starBalance:n,maxAmount:i,defaultPrivacy:o,sendPaidReactionsAsPeerIds:s,currentUserId:c,currentUser:(0,l.mBe)(e,c)}})(D));r()}catch(e){r(e)}})},22348:(e,t,a)=>{a.d(t,{A:()=>r});const r={modal:"eR_RZfGB",header:"E3R22yAI",title:"qdydQHgc",amount:"FI6rEJlK",footer:"GMWMuWCr",starsBackground:"zGCayu45",subscriptionStar:"enRetSny",amountStar:"J8HIcN6k",secondary:"oBLHWBtJ",danger:"nkwiG25Q",avatarWrapper:"wuTMXDP9"}},24256:(e,t,a)=>{a.a(e,async(e,r)=>{try{a.d(t,{A:()=>y});var n=a(84051),i=a(13439),o=a(60919),s=a(87357),l=a(76023),c=a(87094),d=a(80146),m=a(94390),A=e([d]),u=A.then?(await A)():A;d=u[0];const p=1.5*l.$,f=({className:e,type:t,sticker:a,observeIntersectionForLoading:r,observeIntersectionForPlaying:i,theme:o})=>{const l=(0,n.li)(),A=(0,c.A)(l,void 0,"pattern"!==t);return n.Ay.createElement("div",{ref:l,className:(0,s.A)(m.A.root,e),style:`width: ${p}px; height: ${p}px`},n.Ay.createElement(d.A,{containerRef:l,sticker:a,size:p,shouldPreloadPreview:!0,observeIntersectionForLoading:r,observeIntersectionForPlaying:i,thumbClassName:m.A.thumb,customColor:A}))},y=(0,n.ph)((0,i.EK)(e=>({theme:(0,o.SJA)(e)}))(f));r()}catch(e){r(e)}})},25038:(e,t,a)=>{a.d(t,{A:()=>r});const r={root:"jQkp75Gb",preview:"OYGSN3PF",count:"KX1yz2Jy",thumb:"EvinKr5k",noOutline:"KSAAsUDv",itemCount1:"GxDajfX_",itemCount2:"jXuZoxq8",itemCount3:"TPn3XGHJ",blurry:"hWZuxLS8",full:"w56QPFhl",fadeIn:"ds43W8Wq"}},26641:(e,t,a)=>{e.exports=a.p+"GoldStar.fb6812e915ddfe27f504.svg"},27744:(e,t,a)=>{a.d(t,{A:()=>r});const r={root:"aHAxv_Jg",info:"oyYrn3II",stars:"K5lc75ku",amount:"QLQPuLAr",title:"e0pK8CJ_",description:"xbERdDMQ",date:"l6CwQ0Ev",positive:"P_42_ZWR",negative:"TGjnLJfH",preview:"cnjGihOT",subscriptionStar:"z43YvnDX",uniqueGiftBackground:"eNvzMw2p",giftSticker:"U3dqmnM4"}},28540:(e,t,a)=>{a.a(e,async(e,r)=>{try{a.d(t,{A:()=>M});var n=a(84051),i=a(13439),o=a(31481),s=a(86046),l=a(70636),c=a(60919),d=a(87357),m=a(17663),A=a(58968),u=a(66833),p=a(4961),f=a(49035),y=a(63527),h=a(39351),g=a(17712),b=a(59030),E=a(79577),S=a(21849),v=a(54746),N=a(9267),k=a(52647),I=a(74342),C=a(27744),G=e([l,h,b,E,S,k,I]);[l,h,b,E,S,k,I]=G.then?(await G)():G;const w=36;function B(e){return t=>e?(0,c.PVB)(t,e):void 0}const P=({transaction:e,className:t})=>{const{openStarsTransactionModal:a}=(0,i.ko)(),{date:r,amount:c,photo:G,peer:P,extendedMedia:M,subscriptionPeriod:T}=e,U=(0,h.A)(),x=(0,b.A)(),R="peer"===P.type?P.id:void 0,D=(0,y.A)(B(R)),F=e.starGift,O="starGiftUnique"===F?.type,L=F&&(0,u.yQ)(F),K=(0,n.Kr)(()=>{let t,a,r,n=(0,f.fF)(x,U,e);if((0,s.MA)(e)){const a=(0,s.Pc)(e);n=a.title||x(a.titleKey),t=x(a.subtitleKey),r=a}else t=D&&(0,l.F9)(x,D),r=D||A.lw;return e.isGiftUpgrade&&"starGiftUnique"===e.starGift?.type&&(t=U("GiftUnique",{title:e.starGift.title,number:e.starGift.number})),e.isGiftResale&&"starGiftUnique"===e.starGift?.type&&(t=U("GiftUnique",{title:e.starGift.title,number:e.starGift.number})),e.isPostsSearch&&(n=(0,f.fF)(x,U,e),t=void 0),e.photo&&(r=void 0),e.isRefund&&(a=x("StarsRefunded")),e.hasFailed&&(a=x("StarsFailed")),e.isPending&&(a=x("StarsPending")),{title:n,description:t,avatarPeer:r,status:a}},[x,U,D,e]),V=(0,n.Kr)(()=>{if(O){const{backdrop:e}=(0,u.uc)(F),t=[e.centerColor,e.edgeColor];return n.Ay.createElement(n.Ay.Fragment,null,n.Ay.createElement(k.A,{className:C.A.uniqueGiftBackground,backgroundColors:t}),n.Ay.createElement(E.A,{className:C.A.giftSticker,sticker:L,size:w,play:!1}))}return L?n.Ay.createElement(E.A,{className:C.A.giftSticker,sticker:L,size:w,play:!1}):M?n.Ay.createElement(I.A,{media:M,isTransactionPreview:!0}):n.Ay.createElement(n.Ay.Fragment,null,n.Ay.createElement(S.A,{size:"medium",webPhoto:G,peer:K.avatarPeer}),Boolean(T)&&n.Ay.createElement(N.A,{className:C.A.subscriptionStar,type:"gold",size:"small"}))},[O,M,G,K.avatarPeer,T,F,L]),z=(0,g.A)(()=>{a({transaction:e})}),H=(0,f.Y4)(c)?C.A.negative:C.A.positive;return n.Ay.createElement("div",{className:(0,d.A)(C.A.root,t),onClick:z},n.Ay.createElement("div",{className:C.A.preview},V),n.Ay.createElement("div",{className:C.A.info},n.Ay.createElement("h3",{className:C.A.title},K.title),K.description&&n.Ay.createElement("p",{className:C.A.description},(0,p.A)(K.description)),n.Ay.createElement("p",{className:C.A.date},(0,m.L2)(1e3*r,x.code,!0),K.status&&` â€” (${K.status})`)),n.Ay.createElement("div",{className:C.A.stars},n.Ay.createElement("span",{className:(0,d.A)(C.A.amount,H)},(0,s.hk)(U,c)),c.currency===o.OUy&&n.Ay.createElement(N.A,{className:C.A.star,type:"gold",size:"adaptive"}),c.currency===o.ykW&&n.Ay.createElement(v.A,{name:"toncoin",className:H})))},M=(0,n.ph)(P);r()}catch(T){r(T)}})},31008:(e,t,a)=>{a.a(e,async(e,r)=>{try{a.d(t,{A:()=>G});var n=a(84051),i=a(13439),o=a(23174),s=a(70636),l=a(60919),c=a(87357),d=a(95807),m=a(17142),A=a(48775),u=a(65632),p=a(39351),f=a(17712),y=a(74066),h=a(73131),g=a(64493),b=a(96530),E=a(22720),S=a(63152),v=a(94079),N=a(11222),k=e([s,p,y,h,g,E,v]);[s,p,y,h,g,E,v]=k.then?(await k)():k;const I=50;function C({gift:e,giftByStars:t,peerId:a,peer:r,captionLimit:l,theme:k,isBackgroundBlurred:C,patternColor:G,backgroundColor:w,customBackground:B,currentUserId:P,isPaymentFormLoading:M,starBalance:T,paidMessagesStars:U,areUniqueStarGiftsDisallowed:x,shouldDisallowLimitedStarGifts:R}){const{sendStarGift:D,sendPremiumGiftByStars:F,openInvoice:O,openGiftUpgradeModal:L,openStarsBalanceModal:K}=(0,i.ko)(),V=(0,p.A)(),[z,H]=(0,n.J0)(""),[q,J]=(0,n.J0)(!1),[W,_]=(0,n.J0)(!1),[j,X]=(0,n.J0)(!1),Q=(0,u.A)(k,B);(0,n.vJ)(()=>{R&&_(!0)},[R,W]);const Y="id"in e&&"starGift"===e.type,$="months"in e,Z=t&&"amount"in t,ee=r&&(0,s.mO)(r),te=a===P,ae=(0,n.Kr)(()=>{if($){const a=j&&Z?t:e;return{id:-1,chatId:"0",isOutgoing:!1,senderId:P,date:Math.floor(Date.now()/1e3),content:{action:{mediaType:"action",type:"giftPremium",amount:a.amount,currency:a.currency,months:e.months,message:z?{text:z}:void 0}}}}if(Y)return{id:-1,chatId:"0",isOutgoing:!1,senderId:P,date:Math.floor(Date.now()/1e3),content:{action:{mediaType:"action",type:"starGift",message:z?.length?{text:z}:void 0,isNameHidden:q||void 0,starsToConvert:e.starsToConvert,canUpgrade:W||void 0,alreadyPaidUpgradeStars:W?e.upgradeStars:void 0,gift:e,peerId:a,fromId:P}}}},[P,e,z,Y,q,W,a,j,Z,t,$]),re=(0,f.A)(e=>{H(e.target.value)}),ne=(0,f.A)(()=>{J(!q)}),ie=(0,f.A)(()=>{_(!W)}),oe=(0,f.A)(()=>{Z&&X(!j)}),se=(0,f.A)(()=>{Y&&L({giftId:e.id,peerId:a})}),le=(0,f.A)(()=>{K({})}),ce=(0,f.A)(()=>{Y?D({peerId:a,shouldHideName:q,gift:e,message:z?{text:z}:void 0,shouldUpgrade:W}):j&&Z?F({userId:a,months:t.months,amount:t.amount,message:z?{text:z}:void 0}):$&&O({type:"giftcode",userIds:[a],currency:e.currency,amount:e.amount,option:e,message:z?{text:z}:void 0})}),de=Z&&T&&T.amount>t.amount,me=(0,c.A)(N.A.background,N.A.withTransition,B&&N.A.customBgImage,w&&N.A.customBgColor,B&&C&&N.A.blurred);if((Y||$)&&ae)return n.Ay.createElement("div",{className:(0,c.A)(N.A.root,"custom-scroll")},n.Ay.createElement("div",{className:(0,c.A)(N.A.actionMessageView,"MessageList"),inert:!0,style:(0,d.A)(`--pattern-color: ${G}`,w&&`--theme-background-color: ${w}`)},n.Ay.createElement("div",{className:me,style:Q?`--custom-background: ${Q}`:void 0}),n.Ay.createElement(h.A,{key:Y?e.id:$?e.months:void 0,message:ae,threadId:o.l3,appearanceOrder:0})),function(){const a=l?l-z.length:void 0,i=(0,s.F9)(V,r);return n.Ay.createElement("div",{className:N.A.optionsSection},!U&&n.Ay.createElement(v.A,{className:N.A.messageInput,onChange:re,value:z,label:V("GiftMessagePlaceholder"),maxLength:l,maxLengthIndicator:a&&a<I?a.toString():void 0}),de&&n.Ay.createElement(E.A,{className:N.A.switcher,narrow:!0,ripple:!0,onClick:oe},n.Ay.createElement("span",null,V("GiftPremiumPayWithStars",{stars:(0,A.U2)(V,t.amount,{className:N.A.switcherStarIcon})},{withNodes:!0})),n.Ay.createElement(S.A,{checked:j,onChange:oe,label:V("GiftPremiumPayWithStarsAcc")})),Z&&T&&n.Ay.createElement("div",{className:N.A.description},V("GiftPremiumDescriptionYourBalance",{stars:(0,A.U2)(V,T.amount,{className:N.A.switcherStarIcon}),link:n.Ay.createElement(b.A,{isPrimary:!0,onClick:le},V("GetMoreStarsLinkText"))},{withNodes:!0,withMarkdown:!0})),Y&&Boolean(e.upgradeStars)&&!x&&n.Ay.createElement(E.A,{className:N.A.switcher,narrow:!0,ripple:!0,onClick:ie,disabled:R},n.Ay.createElement("span",null,V("GiftMakeUnique",{stars:(0,A.U2)(V,e.upgradeStars,{className:N.A.switcherStarIcon})},{withNodes:!0})),n.Ay.createElement(S.A,{checked:W,onChange:ie,label:V("GiftMakeUniqueAcc")})),Y&&Boolean(e.upgradeStars)&&!x&&n.Ay.createElement("div",{className:N.A.description},ee?V("GiftMakeUniqueDescription",{user:i,link:n.Ay.createElement(b.A,{isPrimary:!0,onClick:se},V("GiftMakeUniqueLink"))},{withNodes:!0}):V("GiftMakeUniqueDescriptionChannel",{peer:i,link:n.Ay.createElement(b.A,{isPrimary:!0,onClick:se},V("GiftMakeUniqueLink"))},{withNodes:!0})),Y&&n.Ay.createElement(E.A,{className:N.A.switcher,narrow:!0,ripple:!0,onClick:ne},n.Ay.createElement("span",null,V("GiftHideMyName")),n.Ay.createElement(S.A,{checked:q,onChange:ne,label:V("GiftHideMyName")})),Y&&n.Ay.createElement("div",{className:N.A.description},te?V("GiftHideNameDescriptionSelf"):ee?V("GiftHideNameDescription",{receiver:i}):V("GiftHideNameDescriptionChannel")))}(),n.Ay.createElement("div",{className:N.A.spacer}),function(){const a=j&&Z?(0,A.U2)(V,t.amount,{asFont:!0}):Y?(0,A.U2)(V,e.stars+(W?e.upgradeStars:0),{asFont:!0}):$?(0,m.vv)(V,e.amount,e.currency):void 0;return n.Ay.createElement("div",{className:N.A.footer},Y&&Boolean(e.availabilityRemains)&&n.Ay.createElement(y.A,{isPrimary:!0,progress:e.availabilityRemains/e.availabilityTotal,rightText:V("GiftSoldCount",{count:e.availabilityTotal-e.availabilityRemains}),leftText:V("GiftLeftCount",{count:e.availabilityRemains}),className:N.A.limited}),n.Ay.createElement(g.A,{className:N.A.mainButton,size:"smaller",onClick:ce,isLoading:M},V("GiftSend",{amount:a},{withNodes:!0})))}())}const G=(0,n.ph)((0,i.EK)((e,{peerId:t})=>{const a=(0,l.SJA)(e),{stars:r}=e,{isBlurred:n,patternColor:i,background:o,backgroundColor:s}=(0,l.Gyz)(e,a)||{},c=(0,l.PVB)(e,t),d=(0,l.WA9)(e,t),m=(0,l.vGo)(e,t),A=e.currentUserId===t,u=!A&&m?.disallowedGifts?.shouldDisallowUniqueStarGifts,p=!A&&m?.disallowedGifts?.shouldDisallowLimitedStarGifts,f=(0,l.nTw)(e);return{starBalance:r?.balance,peer:c,theme:a,isBackgroundBlurred:n,patternColor:i,customBackground:o,backgroundColor:s,captionLimit:e.appConfig?.starGiftMaxMessageLength,currentUserId:e.currentUserId,isPaymentFormLoading:f.isPaymentFormLoading,paidMessagesStars:d,areUniqueStarGiftsDisallowed:u,shouldDisallowLimitedStarGifts:p}})(C));r()}catch(w){r(w)}})},32427:(e,t,a)=>{a.d(t,{A:()=>r});const r={root:"Ef0cKSqQ",giftPreview:"IvuNzslN",backdrop:"dNukis4X",arrow:"oufsMLLF"}},33610:(e,t,a)=>{a.d(t,{A:()=>r});const r={root:"irv1C8bo",subtitleBadge:"V7kDVPLm",radialPattern:"UvhsGZLf",amount:"zTVWZg63",sticker:"a1ASgPwu",transition:"Tu6_OHoq",transitionSlide:"iUTKLzTN",title:"ECTvfOda",subtitle:"S6JwvHWD"}},33931:(e,t,a)=>{a.a(e,async(e,r)=>{try{a.d(t,{A:()=>k});var n=a(84051),i=a(13439),o=a(31481),s=a(60919),l=a(96454),c=a(87357),d=a(48775),m=a(66833),A=a(37661),u=a(5912),p=a(39351),f=a(17712),y=a(87049),h=a(52647),g=a(80146),b=a(64493),E=a(51261),S=e([p,h,g,b]);[p,h,g,b]=S.then?(await S)():S;const v=90;function N({gift:e,observeIntersection:t,onClick:a,isResale:r,isCurrentUserPremium:s}){const{openGiftInfoModal:S,openPremiumModal:N,showNotification:k}=(0,i.ko)(),I=(0,n.li)(),C=(0,n.li)(),G=(0,p.A)(),[w,B]=(0,n.J0)(!1),[P,M,T]=(0,A.A)(),U=(0,m.yQ)(e),x="starGiftUnique"===e.type,R=x?e:void 0,D=x?void 0:e,F=x?function(t){if(!t)return{amount:0,currency:o.OUy};if("starGiftUnique"===e.type&&e.resaleTonOnly){const e=t.find(e=>e.currency===o.ykW);if(e)return e}return t.find(e=>e.currency===o.OUy)}(R?.resellPrice):{amount:D?.stars||0,currency:o.OUy},O=F?.currency||o.OUy,L=D?.resellMinStars,K=!x&&r&&L?G.number(L)+"+":F?.amount||0,V=!x&&Boolean(D?.isLimited),z=!x&&Boolean(D?.isSoldOut),H=Boolean(e?.requirePremium),q=Boolean(D?.limitedPerUser&&!D?.perUserRemains),J=D?.perUserTotal,W=(0,f.A)(()=>{!z||r?q?k({message:G("NotificationGiftsLimit",{count:J},{withMarkdown:!0,withNodes:!0})}):!H||s?a(e,r?"resell":"original"):N({gift:e}):S({gift:e})}),_=(0,n.Kr)(()=>{const{backdrop:t,pattern:a}=(0,m.uc)(e)||{};if(!t||!a)return;const r=[t.centerColor,t.edgeColor],i=t.patternColor;return n.Ay.createElement(h.A,{className:E.A.radialPattern,backgroundColors:r,patternColor:i,patternIcon:a.sticker})},[e]),j=x?e.number:0,X=(0,n.Kr)(()=>{if(x){const{backdrop:t}=(0,m.uc)(e)||{};if(!t)return;return n.Ay.createElement(y.A,{color:[t.centerColor,t.edgeColor],text:G("GiftSavedNumber",{number:j})})}return H?n.Ay.createElement(y.A,{color:"orange",text:G("LimitPremium")}):r?n.Ay.createElement(y.A,{color:"green",text:G("GiftRibbonResale")}):z?n.Ay.createElement(y.A,{color:"red",text:G("GiftSoldOut")}):V?n.Ay.createElement(y.A,{color:"blue",text:G("GiftLimited")}):void 0},[x,r,e,z,V,G,j,H]);return(0,u.mv)(I,t,e=>{const t=e.isIntersecting;B(t)}),n.Ay.createElement("div",{ref:I,className:(0,c.A)("interactive-gift",E.A.container,E.A.starGift,"starGiftItem",H&&E.A.premiumRequired),tabIndex:0,role:"button",onClick:W,onMouseEnter:l.TF?void 0:M,onMouseLeave:l.TF?void 0:T},_,n.Ay.createElement("div",{ref:C,className:E.A.stickerWrapper,style:`width: ${v}px; height: ${v}px`},U&&n.Ay.createElement(g.A,{observeIntersectionForPlaying:t,observeIntersectionForLoading:t,containerRef:C,sticker:U,size:v,shouldLoop:P,shouldPreloadPreview:!0})),n.Ay.createElement(b.A,{className:E.A.buy,nonInteractive:!0,size:"tiny",color:x?"bluredStarsBadge":"stars",withSparkleEffect:w,pill:!0,fluid:!0},O===o.ykW?(0,d.Ms)(G,K||0,{shouldConvertFromNanos:!0,className:E.A.star}):(0,d.U2)(G,K||0,{asFont:!0,className:E.A.star})),X)}const k=(0,n.ph)((0,i.EK)(e=>({isCurrentUserPremium:(0,s.g29)(e)}))(N));r()}catch(I){r(I)}})},34515:(e,t,a)=>{a.a(e,async(e,r)=>{try{a.d(t,{A:()=>h});var n=a(84051),i=a(13439),o=a(70636),s=a(60919),l=a(87894),c=a(79582),d=a(17712),m=a(59030),A=a(54960),u=a(63401),p=a(84723),f=e([o,m,A,u]);[o,m,A,u]=f.then?(await f)():f;const y=({modal:e,currentUserId:t,userIds:a})=>{const{closeGiftRecipientPicker:r,openGiftModal:f}=(0,i.ko)(),y=(0,m.A)(),h=e,[g,b]=(0,n.J0)(""),E=(0,n.Kr)(()=>{const e=(0,i.mS)(),r=a?a.concat(t):void 0,n=r?(0,o.PU)({ids:r,query:g}):[];return(0,c.A)((0,l.Am)(n).filter(t=>(0,s.X2D)(e,t)),void 0,[t])},[t,g,a]),S=(0,d.A)(e=>{f({forUserId:e}),r()});return n.Ay.createElement(u.A,{className:p.A.root,isOpen:h,onClose:r,title:y("GiftTelegramPremiumOrStarsTitle"),hasCloseButton:!0,shouldAdaptToSearch:!0,withFixedHeight:!0},n.Ay.createElement(A.A,{className:p.A.picker,itemIds:E,filterValue:g,filterPlaceholder:y("Search"),onSelectedIdChange:S,onFilterChange:b,isSearchable:!0,withDefaultPadding:!0,withStatus:!0,forceShowSelf:!0}))},h=(0,n.ph)((0,i.EK)(e=>{const{currentUserId:t}=e;return{currentUserId:t,userIds:e.contactList?.userIds}})(y));r()}catch(e){r(e)}})},34974:(e,t,a)=>{a.a(e,async(e,r)=>{try{a.d(t,{A:()=>g});var n=a(84051),i=a(13439),o=a(31481),s=a(90709),l=a(70636),c=a(87894),d=a(79582),m=a(17712),A=a(59030),u=a(54960),p=a(63401),f=a(9568),y=e([l,A,u,p]);[l,A,u,p]=y.then?(await y)():y;const h=({isOpen:e,currentUserId:t,activeListIds:a,archivedListIds:r,userIds:y})=>{const{closeStarsGiftingPickerModal:h,openStarsGiftModal:g}=(0,i.ko)(),b=(0,A.A)(),[E,S]=(0,n.J0)(""),v=(0,n.Kr)(()=>{const e=(0,i.mS)().users.byId,n=(0,c.Am)([...y||[],...a||[],...r||[]]),m=(0,l.PU)({ids:n,query:E,type:"user"});return(0,d.A)(m.filter(a=>{const r=e[a];return!(!r||r.isSupport||(0,s.tv)(r)||(0,s.PL)(r)||a===t||a===o.zv8)}))},[t,E,y,a,r]),N=(0,m.A)(e=>{e?.length&&(g({forUserId:e}),h())});return n.Ay.createElement(p.A,{className:f.A.root,isOpen:e,onClose:h,title:b("GiftStarsTitle"),hasCloseButton:!0,shouldAdaptToSearch:!0,withFixedHeight:!0,confirmButtonText:b("Continue"),onEnter:h},n.Ay.createElement(u.A,{className:f.A.picker,itemIds:v,filterValue:E,filterPlaceholder:b("Search"),onFilterChange:S,isSearchable:!0,withDefaultPadding:!0,withStatus:!0,onSelectedIdChange:N}))},g=(0,n.ph)((0,i.EK)(e=>{const{chats:{listIds:t},currentUserId:a}=e;return{userIds:e.contactList?.userIds,activeListIds:t.active,archivedListIds:t.archived,currentUserId:a}})(h));r()}catch(e){r(e)}})},35063:(e,t,a)=>{a.a(e,async(e,r)=>{try{a.d(t,{A:()=>S});var n=a(84051),i=a(13439),o=a(60919),s=a(87357),l=a(10722),c=a(5912),d=a(39351),m=a(17712),A=a(54746),u=a(52647),p=a(71429),f=a(24433),y=a(36393),h=a(24256),g=a(14667),b=e([d,u,f,y,h]);[d,u,f,y,h]=b.then?(await b)():b;const E=({attributes:e,counters:t,filter:a,dialogRef:r})=>{const o=(0,d.A)(),{updateResaleGiftsFilter:b}=(0,i.ko)(),[E,S]=(0,n.J0)(""),[v,N]=(0,n.J0)(""),[k,I]=(0,n.J0)(""),C=(0,n.Kr)(()=>{const a={model:[],pattern:[],backdrop:[]};for(const r of t??[]){const{attribute:t}=r;if(!r.count)continue;const n=e?.find(e=>"backdrop"===e.type&&"backdrop"===t.type?e.backdropId===t.backdropId:("model"===e.type&&"model"===t.type||"pattern"===e.type&&"pattern"===t.type)&&e.sticker.id===t.documentId);"backdrop"===n?.type&&a.backdrop.push(n),"model"===n?.type&&a.model.push(n),"pattern"===n?.type&&a.pattern.push(n)}return a},[e,t]),G=(0,n.Kr)(()=>{const e=(e,t)=>t.trim()?e.filter(e=>Boolean(e.name?.toLowerCase().includes(t.toLowerCase()))):e;return{model:e(C.model,E),pattern:e(C.pattern,k),backdrop:e(C.backdrop,v)}},[C,E,v,k]),w=(0,n.li)(),{isContextMenuOpen:B,contextMenuAnchor:P,handleContextMenu:M,handleContextMenuClose:T,handleContextMenuHide:U}=(0,l.A)(r),x=(0,m.A)(()=>w.current),R=(0,n.li)(),{isContextMenuOpen:D,contextMenuAnchor:F,handleContextMenu:O,handleContextMenuClose:L,handleContextMenuHide:K}=(0,l.A)(r),V=(0,m.A)(()=>R.current),z=(0,n.li)(),{isContextMenuOpen:H,contextMenuAnchor:q,handleContextMenu:J,handleContextMenuClose:W,handleContextMenuHide:_}=(0,l.A)(r),j=(0,m.A)(()=>z.current),X=(0,n.li)(),{isContextMenuOpen:Q,contextMenuAnchor:Y,handleContextMenu:$,handleContextMenuClose:Z,handleContextMenuHide:ee}=(0,l.A)(r),te=(0,m.A)(()=>X.current),ae=(0,n.Kr)(()=>{const e=a.sortType;return({onTrigger:t,isOpen:a})=>n.Ay.createElement("div",{className:g.A.item,onClick:t},"byDate"===e&&o("ValueGiftSortByDate"),"byNumber"===e&&o("ValueGiftSortByNumber"),"byPrice"===e&&o("ValueGiftSortByPrice"),n.Ay.createElement(A.A,{name:"dropdown-arrows",className:g.A.itemIcon}))},[o,a]),re=(0,n.Kr)(()=>{const e=a?.modelAttributes?.length||0;return({onTrigger:t,isOpen:a})=>n.Ay.createElement("div",{className:g.A.item,onClick:t},0===e&&o("GiftAttributeModel"),e>0&&o("GiftAttributeModelPlural",{count:e},{pluralValue:e}),n.Ay.createElement(A.A,{name:"dropdown-arrows",className:g.A.itemIcon}))},[o,a]),ne=(0,n.Kr)(()=>{const e=a?.backdropAttributes?.length||0;return({onTrigger:t,isOpen:a})=>n.Ay.createElement("div",{className:g.A.item,onClick:t},0===e&&o("GiftAttributeBackdrop"),e>0&&o("GiftAttributeBackdropPlural",{count:e},{pluralValue:e}),n.Ay.createElement(A.A,{name:"dropdown-arrows",className:g.A.itemIcon}))},[o,a]),ie=(0,n.Kr)(()=>{const e=a?.patternAttributes?.length||0;return({onTrigger:t,isOpen:a})=>n.Ay.createElement("div",{className:g.A.item,onClick:t},0===e&&o("GiftAttributeSymbol"),e>0&&o("GiftAttributeSymbolPlural",{count:e},{pluralValue:e}),n.Ay.createElement(A.A,{name:"dropdown-arrows",className:g.A.itemIcon}))},[o,a]),oe=(0,m.A)(e=>{b({filter:{...a,sortType:e}})}),se=(0,m.A)(()=>{b({filter:{...a,modelAttributes:[]}})}),le=(0,m.A)(()=>{b({filter:{...a,patternAttributes:[]}})}),ce=(0,m.A)(()=>{b({filter:{...a,backdropAttributes:[]}})}),de=(0,m.A)(e=>{if(!t)return;const r=a.modelAttributes||[],n=t.find(t=>"model"===t.attribute.type&&t.attribute.documentId===e.sticker.id)?.attribute;if(!n)return;const i=r.some(e=>e.documentId===n.documentId)?r.filter(e=>e.documentId!==n.documentId):[...r,n];b({filter:{...a,modelAttributes:i}})}),me=(0,m.A)(e=>{if(!t)return;const r=a.patternAttributes||[],n=t.find(t=>"pattern"===t.attribute.type&&t.attribute.documentId===e.sticker.id)?.attribute;if(!n)return;const i=r.some(e=>e.documentId===n.documentId)?r.filter(e=>e.documentId!==n.documentId):[...r,n];b({filter:{...a,patternAttributes:i}})}),Ae=(0,m.A)(e=>{if(!t)return;const r=a.backdropAttributes||[],n=t.find(t=>"backdrop"===t.attribute.type&&t.attribute.backdropId===e.backdropId)?.attribute;if(!n)return;const i=r.some(e=>e.backdropId===n.backdropId)?r.filter(e=>e.backdropId!==n.backdropId):[...r,n];b({filter:{...a,backdropAttributes:i}})}),ue=(0,n.hb)(()=>{S("")},[]),pe=(0,n.hb)(()=>{N("")},[]),fe=(0,n.hb)(()=>{I("")},[]),ye=(0,m.A)(e=>{e.stopPropagation(),e.preventDefault()}),he=(0,n.li)(),{observe:ge}=(0,c.BL)({rootRef:he,isDisabled:!F});return n.Ay.createElement("div",{className:g.A.root},Boolean(P)&&n.Ay.createElement(p.A,{isOpen:B,anchor:P,ref:w,className:(0,s.A)(g.A.menu,g.A.left,"with-menu-transitions"),getMenuElement:x,autoClose:!0,onClose:T,onCloseAnimationEnd:U,positionX:"left"},n.Ay.createElement(n.Ay.Fragment,null,n.Ay.createElement(f.A,{icon:"sort-by-price",onClick:()=>{oe("byPrice")}},n.Ay.createElement("div",{className:g.A.menuItemText},o("GiftSortByPrice")),n.Ay.createElement(A.A,{className:g.A.menuItemIcon,name:"byPrice"===a?.sortType?"check":"placeholder"})),n.Ay.createElement(f.A,{icon:"sort-by-date",onClick:()=>{oe("byDate")}},n.Ay.createElement("div",{className:g.A.menuItemText},o("GiftSortByDate")),n.Ay.createElement(A.A,{className:g.A.menuItemIcon,name:"byDate"===a?.sortType?"check":"placeholder"})),n.Ay.createElement(f.A,{icon:"sort-by-number",onClick:()=>{oe("byNumber")}},n.Ay.createElement("div",{className:g.A.menuItemText},o("GiftSortByNumber")),n.Ay.createElement(A.A,{className:g.A.menuItemIcon,name:"byNumber"===a?.sortType?"check":"placeholder"})))),Boolean(F)&&n.Ay.createElement(p.A,{isOpen:D,anchor:F,ref:R,className:(0,s.A)(g.A.menu,g.A.left,"with-menu-transitions"),getMenuElement:V,autoClose:!0,onClose:L,onCloseAnimationEnd:K},function(){const e=G.model,t=a.modelAttributes??[],r=0===t.length;return n.Ay.createElement("div",{className:g.A.menuContentContainer,ref:he},n.Ay.createElement(y.A,{onClick:ye,className:g.A.search,value:E,onChange:S,onReset:ue,placeholder:o("Search")}),n.Ay.createElement(f.A,{icon:"select",onClick:se,disabled:r},o("ContextMenuItemSelectAll")),e.map(e=>{const a=r||t.some(t=>t.documentId===e.sticker.id);return n.Ay.createElement(f.A,{key:e.name,onClick:()=>{de(e)}},n.Ay.createElement(h.A,{className:g.A.sticker,sticker:e.sticker,type:"model",observeIntersectionForLoading:ge,observeIntersectionForPlaying:ge}),n.Ay.createElement("div",{className:g.A.menuItemStickerText},e.name),n.Ay.createElement(A.A,{className:g.A.menuItemIcon,name:a?"check":"placeholder"}))}))}()),Boolean(q)&&n.Ay.createElement(p.A,{isOpen:H,anchor:q,ref:z,className:(0,s.A)(g.A.menu,g.A.right,"with-menu-transitions"),getMenuElement:j,autoClose:!0,onClose:W,onCloseAnimationEnd:_,positionX:"right"},function(){const e=G.backdrop,t=a.backdropAttributes??[],r=0===t.length;return n.Ay.createElement("div",{className:g.A.menuContentContainer},n.Ay.createElement(y.A,{onClick:ye,className:g.A.search,value:v,onChange:N,onReset:pe,placeholder:o("Search")}),n.Ay.createElement(f.A,{icon:"select",onClick:ce,disabled:r},o("ContextMenuItemSelectAll")),e.map(e=>{const a=r||t.some(t=>t.backdropId===e.backdropId);return n.Ay.createElement(f.A,{key:e.name,onClick:()=>{Ae(e)}},n.Ay.createElement(u.A,{className:g.A.backdrop,backgroundColors:[e.centerColor,e.edgeColor],patternColor:e.patternColor}),n.Ay.createElement("div",{className:g.A.backdropAttributeMenuItemText},e.name),n.Ay.createElement(A.A,{className:g.A.menuItemIcon,name:a?"check":"placeholder"}))}))}()),Boolean(Y)&&n.Ay.createElement(p.A,{isOpen:Q,anchor:Y,ref:X,className:(0,s.A)(g.A.menu,g.A.right,"with-menu-transitions"),getMenuElement:te,autoClose:!0,onClose:Z,onCloseAnimationEnd:ee},function(){const e=G.pattern,t=a.patternAttributes??[],r=0===t.length;return n.Ay.createElement("div",{className:g.A.menuContentContainer},n.Ay.createElement(y.A,{onClick:ye,className:g.A.search,value:k,onChange:I,onReset:fe,placeholder:o("Search")}),n.Ay.createElement(f.A,{icon:"select",onClick:le,disabled:r},o("ContextMenuItemSelectAll")),e.map(e=>{const a=r||t.some(t=>t.documentId===e.sticker.id);return n.Ay.createElement(f.A,{key:e.name,onClick:()=>{me(e)}},n.Ay.createElement(h.A,{className:g.A.sticker,sticker:e.sticker,type:"pattern"}),n.Ay.createElement("div",{className:g.A.menuItemStickerText},e.name),n.Ay.createElement(A.A,{className:g.A.menuItemIcon,name:a?"check":"placeholder"}))}))}()),n.Ay.createElement("div",{className:g.A.buttonsContainer},n.Ay.createElement(ae,{onTrigger:M,isOpen:B}),n.Ay.createElement(re,{onTrigger:O,isOpen:D}),n.Ay.createElement(ne,{onTrigger:J,isOpen:H}),n.Ay.createElement(ie,{onTrigger:$,isOpen:Q})))},S=(0,n.ph)((0,i.EK)(e=>{const{resaleGifts:t}=(0,o.nTw)(e);return{attributes:t.attributes,counters:t.counters,filter:t.filter}})(E));r()}catch(e){r(e)}})},35880:(e,t,a)=>{a.a(e,async(e,r)=>{try{a.d(t,{A:()=>y});var n=a(84051),i=a(66833),o=a(76023),s=a(79577),l=a(21849),c=a(54746),d=a(52647),m=a(32427),A=e([s,l,d]);[s,l,d]=A.then?(await A)():A;const u=4*o.$,p=3*o.$,f=({peer:e,gift:t})=>{const a=(0,n.Kr)(()=>(0,i.uc)(t),[t]);if(a)return n.Ay.createElement("div",{className:m.A.root},n.Ay.createElement("div",{className:m.A.giftPreview},n.Ay.createElement(d.A,{className:m.A.backdrop,backgroundColors:[a.backdrop.centerColor,a.backdrop.edgeColor],patternColor:a.backdrop?.patternColor,patternIcon:a.pattern?.sticker}),n.Ay.createElement(s.A,{className:m.A.sticker,size:p,sticker:a.model?.sticker})),n.Ay.createElement(c.A,{name:"next",className:m.A.arrow}),n.Ay.createElement(l.A,{peer:e,size:u,className:m.A.avatar}))},y=(0,n.ph)(f);r()}catch(e){r(e)}})},43084:(e,t,a)=>{a.d(t,{A:()=>r});const r={list:"cUjwvN00","item-selected":"medfcJpd",itemSelected:"medfcJpd",item:"dO7FKYY4","selected-item":"B2lEJk1v",selectedItem:"B2lEJk1v",star:"Pb7AU805"}},43328:(e,t,a)=>{a.d(t,{A:()=>r});const r={modal:"IzhfRIWu",positive:"jvBZSrpd",negative:"xDyq9cc0",header:"qBOIq6Jn",uniqueGift:"ApoQz22o",amount:"sso9uZM6",title:"ZZAj3hj7",description:"NuWOY7ED",tid:"tMF8VIOM",refunded:"sxWAwxTd",totalStars:"Z2YALGgl",starIcon:"cU5QlvwL",footer:"KgzPpgS6",starsBackground:"nML8IQqX",copyIcon:"voCttFzS",mediaPreview:"C5r59yiV",subtitle:"mFYcIYMJ",starGiftSticker:"j3akHdtm",avatar:"hcrszlpT"}},46872:(e,t,a)=>{a.a(e,async(e,r)=>{try{a.d(t,{A:()=>E});var n=a(84051),i=a(13439),o=a(70636),s=a(60919),l=a(17663),c=a(14242),d=a(4961),m=a(63527),A=a(17712),u=a(59030),p=a(21849),f=a(9267),y=a(57420),h=e([o,u,p]);function g(e){return t=>(0,s.PVB)(t,e)}[o,u,p]=h.then?(await h)():h;const b=({subscription:e})=>{const{openStarsSubscriptionModal:t}=(0,i.ko)(),{peerId:a,pricing:r,until:s,isCancelled:h,title:b,photo:E}=e,S=(0,u.A)(),v=(0,m.A)(g(a)),N=(0,A.A)(()=>{t({subscription:e})});if(!v)return;const k=s<Date.now()/1e3,I=(0,l.A)(1e3*s,S.code,!0,"long");return n.Ay.createElement("div",{className:y.A.root,onClick:N},n.Ay.createElement("div",{className:y.A.preview},n.Ay.createElement(p.A,{size:"medium",peer:v}),n.Ay.createElement(f.A,{className:y.A.subscriptionStar,type:"gold",size:"small"})),n.Ay.createElement("div",{className:y.A.info},n.Ay.createElement("h3",{className:y.A.title},(0,d.A)((0,o.F9)(S,v)||"")),b&&n.Ay.createElement("p",{className:y.A.subtitle},E&&n.Ay.createElement(p.A,{webPhoto:E,size:"micro"}),(0,d.A)(b)),n.Ay.createElement("p",{className:y.A.description},S(k?"StarsSubscriptionExpired":h?"StarsSubscriptionExpires":"StarsSubscriptionRenews",I))),n.Ay.createElement("div",{className:y.A.status},h||k?n.Ay.createElement("div",{className:y.A.statusEnded},S(k?"StarsSubscriptionStatusExpired":"StarsSubscriptionStatusCancelled")):n.Ay.createElement(n.Ay.Fragment,null,n.Ay.createElement("div",{className:y.A.statusPricing},n.Ay.createElement(f.A,{className:y.A.star,type:"gold",size:"adaptive"}),n.Ay.createElement("span",{className:y.A.amount},(0,c.Sm)(r.amount))),n.Ay.createElement("div",{className:y.A.statusPeriod},S("StarsParticipantSubscriptionPerMonth")))))},E=(0,n.ph)(b);r()}catch(S){r(S)}})},49035:(e,t,a)=>{a.d(t,{Y4:()=>s,fF:()=>o});var r=a(31481),n=a(86046),i=a(14242);function o(e,t,a){if(a.paidMessages)return t("PaidMessageTransaction",{count:a.paidMessages},{withNodes:!0,pluralValue:a.paidMessages});if(a.isGiftResale)return s(a.amount)?t("StarGiftSaleTransaction"):t("StarGiftPurchaseTransaction");if(a.isPostsSearch)return t("PostsSearchTransaction");if(a.starRefCommision)return e("StarTransactionCommission",(0,i.l9)(a.starRefCommision));if(a.isGiftUpgrade)return e("Gift2TransactionUpgraded");if(a.extendedMedia)return e("StarMediaPurchase");if(a.subscriptionPeriod)return a.title||e("StarSubscriptionPurchase");if(a.isReaction)return e("StarsReactionsSent");if(a.giveawayPostId)return e("StarsGiveawayPrizeReceived");if(a.isMyGift)return e("StarsGiftSent");if(a.isGift)return a.amount.currency===r.ykW?t("TonGiftReceived"):e("StarsGiftReceived");if(a.starGift)return s(a.amount)?e("Gift2TransactionSent"):e("Gift2ConvertedTitle");const o=a.peer&&(0,n.MA)(a)&&(0,n.Pc)(a)||void 0;return o?o.title||e(o.titleKey):a.title}function s(e){return e.currency===r.OUy?(t=e).amount?t.amount<0:t.nanos<0:e.amount<0;var t}},51261:(e,t,a)=>{a.d(t,{A:()=>r});const r={container:"G1mBmzxs",starGift:"f5ArEO1S",monthsDescription:"rn9aWFNA",description:"q4_ydkAx",buy:"a8no5WH0",star:"DvJLTVFU",premiumRequired:"NBYIITte",amount:"sbo2dMcH",starsPriceBlock:"QB5SI7ta",starsPriceIcon:"jgnEfoeM",radialPattern:"Nkotr8Q4",stickerWrapper:"rUSoeQXb"}},53706:(e,t,a)=>{a.a(e,async(e,r)=>{try{a.d(t,{A:()=>C});var n=a(84051),i=a(13439),o=a(70636),s=a(60919),l=a(87357),c=a(17142),d=a(4961),m=a(14),A=a(17712),u=a(59030),p=a(21849),f=a(54746),y=a(84685),h=a(64493),g=a(8410),b=a(12418),E=a(99904),S=a(26641),v=a(63792),N=e([o,u,p,h,g,b]);[o,u,p,h,g,b]=N.then?(await N)():N;const k=100,I=({modal:e,user:t})=>{const{closeStarsGiftModal:a,openInvoice:r,requestConfetti:s}=(0,i.ko)(),N=(0,n.li)(),I=Boolean(e?.isOpen),C=(0,m.A)(e),G=(0,u.A)(),[w,B]=(0,n.J0)(),[P,M]=(0,n.J0)(!0);(0,n.vJ)(()=>{I||M(!0)},[I]);const T=(0,A.A)(()=>{const e=N.current;if(e&&I){const{top:t,left:a,width:r,height:n}=e.querySelector(".modal-content").getBoundingClientRect();s({top:t,left:a,width:r,height:n,withStars:!0})}});(0,n.vJ)(()=>{C?.isCompleted&&T()},[C,T]);const U=(0,A.A)(e=>{C&&(B(e),r(t?{type:"starsgift",userId:t.id,stars:e.stars,currency:e.currency,amount:e.amount}:{type:"stars",stars:e.stars,currency:e.currency,amount:e.amount}))}),x=(0,A.A)(()=>{a()}),R=(0,n.Kr)(()=>{const e=G("lng_credits_summary_options_about").split("{link}");return[e[0],n.Ay.createElement(y.A,{url:G("StarsTOSLink"),text:G("lng_credits_summary_options_about_link")}),e[1]]},[G]);return n.Ay.createElement(g.A,{className:(0,l.A)(E.A.modalDialog),contentClassName:E.A.content,dialogRef:N,isSlim:!0,onClose:x,isOpen:I},n.Ay.createElement("div",{className:(0,l.A)(E.A.main,"custom-scroll"),onScroll:function(e){const{scrollTop:t}=e.currentTarget;M(t<=150)}},n.Ay.createElement(h.A,{round:!0,size:"smaller",className:E.A.closeButton,color:"translucent",onClick:()=>a(),ariaLabel:G("Close")},n.Ay.createElement(f.A,{name:"close"})),n.Ay.createElement("div",{className:(0,l.A)(E.A.header,P&&E.A.hiddenHeader)},n.Ay.createElement("h2",{className:E.A.starHeaderText},G(t?"GiftStarsTitle":"Star.List.GetStars"))),n.Ay.createElement("div",{className:E.A.headerInfo},t?n.Ay.createElement(n.Ay.Fragment,null,n.Ay.createElement(p.A,{size:k,peer:t,className:E.A.avatar}),n.Ay.createElement("img",{className:E.A.logoBackground,src:v,alt:"",draggable:!1})):n.Ay.createElement(n.Ay.Fragment,null,n.Ay.createElement("img",{className:E.A.logo,src:S,alt:"",draggable:!1}),n.Ay.createElement("img",{className:E.A.logoBackground,src:v,alt:"",draggable:!1}))),n.Ay.createElement("h2",{className:(0,l.A)(E.A.headerText,E.A.center)},C?.isCompleted?t?(0,d.A)(G("Notification.StarsGift.SentYou",(0,c.Ad)(w.amount,w.currency,G.code)),["simple_markdown"]):(0,d.A)(G("StarsAcquiredInfo",w?.stars),["simple_markdown"]):G(t?"GiftStarsTitle":"Star.List.GetStars")),n.Ay.createElement("p",{className:E.A.description},t?(0,d.A)(G("ActionGiftStarsSubtitle",(0,o.F9)(G,t)),["simple_markdown"]):G("Stars.Purchase.GetStarsInfo")),n.Ay.createElement("div",{className:E.A.section},n.Ay.createElement(b.A,{options:C?.starsGiftOptions,onClick:U}),n.Ay.createElement("div",{className:E.A.secondaryInfo},R))))},C=(0,n.ph)((0,i.EK)((e,{modal:t})=>({user:t?.forUserId?(0,s.mBe)(e,t.forUserId):void 0}))(I));r()}catch(e){r(e)}})},53849:(e,t,a)=>{a.d(t,{A:()=>r});const r={content:"RdhRpsCn",title:"yzbjj73U",slider:"xePPMXOI",description:"BlpfdOtK",itemInfo:"nS9V516D",itemTitle:"sH5Nukjy",itemSubtitle:"dHlNODTI",itemIcon:"H_iHihXU",sendAsPeerButtonAvatar:"_mjvLELm",sendAsPeerMenuButton:"zxsRaWYV",buttonDownIcon:"zrwUUELS",sendAsPeerMenuBubble:"X1PB6mhQ",sendAsPeerMenu:"Px1MDij9",sendAsPeersMenuContainer:"Al1nfhHJ",headerControlPanel:"vu90kSL_",separator:"uhQLUjmo",checkBox:"Mc3bVeF0",topLabel:"bnou4CpV",top:"QludQDKR",topBadge:"JBF9pTUK",buttonStar:"NJJFuym9",topPeer:"Ty4Ud_Rd",disclaimer:"KRvkHeo1"}},54567:(e,t,a)=>{a.a(e,async(e,r)=>{try{a.d(t,{A:()=>O});var n=a(84051),i=a(13439),o=a(31481),s=a(90709),l=a(70636),c=a(60919),d=a(30708),m=a(87357),A=a(17142),u=a(31460),p=a(4961),f=a(37661),y=a(39351),h=a(17712),g=a(59030),b=a(54746),E=a(84685),S=a(64493),v=a(46222),N=a(8410),k=a(24680),I=a(41036),C=a(52165),G=a(56936),w=a(12418),B=a(46872),P=a(28540),M=a(89953),T=e([l,y,g,S,N,k,C,G,w,B,P]);[l,y,g,S,N,k,C,G,w,B,P]=T.then?(await T)():T;const U=["all","inbound","outbound"],x=["StarsTransactionsAll","StarsTransactionsIncoming","StarsTransactionsOutgoing"],R="StarsTransactionItem",D="subs",F=({modal:e,starsBalanceState:t,tonBalanceState:a,canBuyPremium:r,shouldForceHeight:d,tonUsdRate:T,tonTopupUrl:F,animationLevel:O})=>{const{closeStarsBalanceModal:L,loadStarsTransactions:K,loadStarsSubscriptions:V,openStarsGiftingPickerModal:z,openInvoice:H,openUrl:q}=(0,i.ko)(),J=e?.currency||o.OUy,W=J===o.ykW?a:t,{balance:_,history:j}=W||{},{subscriptions:X}=J===o.OUy&&t||{},Q=(0,g.A)(),Y=(0,y.A)(),[$,Z]=(0,n.J0)(!0),[ee,te]=(0,n.J0)(0),[ae,re,ne]=(0,f.A)(),ie=Boolean(e&&(t||a)),{originStarsPayment:oe,originReaction:se,originGift:le,topup:ce}=e||{},de=oe||se||le||ce,me=oe?.form?.invoice?.totalAmount||oe?.subscriptionInfo?.subscriptionPricing?.amount||se?.amount||le?.gift.stars||ce?.balanceNeeded,Ae=me?me-(_?.amount||0):void 0,ue=(0,n.Kr)(()=>{const e=(0,i.mS)();if(se){const t=(0,c.hds)(e,se.chatId);if(!t)return;return Q("StarsNeededTextReactions",(0,s.Js)(Q,t))}if(oe){const t=oe.form?.botId?(0,c.mBe)(e,oe.form.botId):void 0;if(!t)return;return Q("StarsNeededText",(0,s.Yg)(t))}if(le){const t=(0,c.mBe)(e,le.peerId);if(!t)return;return Q("StarsNeededTextGift",(0,l.F9)(Y,t))}return ce?.purpose===D?Q("StarsNeededTextLink"):ce?.purpose===o.D3m?Y("StarsNeededTextSendPaidMessages",void 0,{withMarkdown:!0,withNodes:!0}):void 0},[se,oe,le,ce?.purpose,Y,Q]),pe=Boolean(j?.all?.transactions.length&&!de),fe=!de,ye=(0,n.Kr)(()=>{const e=j?.all?.transactions.length||0;return 1==e?"35.5rem":2==e?"39.25rem":3==e?"43rem":"45rem"},[j?.all?.transactions.length]),he=(0,n.Kr)(()=>x.map(e=>({title:Y(e)})),[Y]);(0,n.vJ)(()=>{ie||(Z(!0),te(0),ne())},[ie]),(0,n.vJ)(()=>{de?re():ne()},[de]);const ge=(0,n.Kr)(()=>{if(!ie)return;const e=Q("lng_credits_summary_options_about").split("{link}");return[e[0],n.Ay.createElement(E.A,{url:Q("StarsTOSLink"),text:Q("lng_credits_summary_options_about_link")}),e[1]]},[ie,Q]),be=(0,h.A)(()=>{K({type:U[ee],isTon:J===o.ykW})}),Ee=(0,h.A)(()=>{V()}),Se=(0,h.A)(()=>{z({})}),ve=(0,h.A)(e=>{H({type:"stars",stars:e.stars,currency:e.currency,amount:e.amount})}),Ne=(0,h.A)(()=>{q({url:F,shouldSkipModal:!0})});return n.Ay.createElement(N.A,{className:(0,m.A)(M.A.root,!d&&!ae&&M.A.minimal),isOpen:ie,onClose:L,dialogStyle:`--modal-height: ${ye}`},n.Ay.createElement("div",{className:(0,m.A)(M.A.main,"custom-scroll"),onScroll:function(e){const{scrollTop:t}=e.currentTarget;Z(t<=150)}},n.Ay.createElement(S.A,{round:!0,size:"smaller",className:M.A.closeButton,color:"translucent",onClick:()=>L(),ariaLabel:Y("Close")},n.Ay.createElement(b.A,{name:"close"})),J!==o.ykW&&n.Ay.createElement(G.A,{balance:_,className:M.A.modalBalance}),n.Ay.createElement("div",{className:(0,m.A)(M.A.header,$&&M.A.hiddenHeader)},n.Ay.createElement("h2",{className:M.A.starHeaderText},Q("TelegramStars"))),n.Ay.createElement("div",{className:M.A.section},J===o.ykW?(()=>{const e=(0,A.UL)(_?.amount||0,o.ykW);return n.Ay.createElement(n.Ay.Fragment,null,n.Ay.createElement(C.A,{model:"speeding-diamond",color:"blue",title:Y("CurrencyTon"),description:Y("DescriptionAboutTon"),isDisabled:!ie}),n.Ay.createElement("div",{className:M.A.tonBalanceContainer},n.Ay.createElement("div",{className:M.A.tonBalance},n.Ay.createElement(b.A,{name:"toncoin",className:M.A.tonIconBalance}),e),Boolean(T)&&n.Ay.createElement("span",{className:M.A.tonInUsd},`â‰ˆ ${(0,A.Ad)((0,A.C)(_?.amount||0,T,!0),"USD",Y.code)}`)),n.Ay.createElement(S.A,{className:M.A.topUpButton,onClick:Ne,fluid:!0},Y("ButtonTopUpViaFragment")))})():n.Ay.createElement(n.Ay.Fragment,null,n.Ay.createElement(C.A,{model:"swaying-star",color:"gold",title:Ae?Q("StarsNeededTitle",me):Q("TelegramStars"),description:(0,p.A)(ue||Q("TelegramStarsInfo"),["simple_markdown","emoji"]),isDisabled:!ie}),r&&!ae&&n.Ay.createElement(S.A,{className:M.A.starButton,onClick:re,fluid:!0},Q("Star.List.BuyMoreStars")),r&&!ae&&fe&&n.Ay.createElement(S.A,{isText:!0,noForcedUpperCase:!0,className:M.A.starButton,fluid:!0,onClick:Se},Q("TelegramStarsGift")),ae&&t?.topupOptions&&n.Ay.createElement(w.A,{starsNeeded:Ae,options:t.topupOptions,onClick:ve}))),ae&&n.Ay.createElement("div",{className:M.A.tos},ge),J===o.ykW&&n.Ay.createElement("div",{className:M.A.hint},Y("TonModalHint")),pe&&Boolean(X?.list.length)&&n.Ay.createElement("div",{className:M.A.section},n.Ay.createElement("h3",{className:M.A.sectionTitle},Q("StarMySubscriptions")),n.Ay.createElement("div",{className:M.A.subscriptions},X?.list.map(e=>n.Ay.createElement(B.A,{key:e.id,subscription:e})),X?.nextOffset&&n.Ay.createElement(S.A,{isText:!0,disabled:X.isLoading,size:"smaller",noForcedUpperCase:!0,className:M.A.loadMore,onClick:Ee},n.Ay.createElement(b.A,{name:"down",className:M.A.loadMoreIcon}),Q("StarMySubscriptionsExpand")))),pe&&n.Ay.createElement("div",{className:M.A.container},n.Ay.createElement("div",{className:M.A.lastSection},n.Ay.createElement(I.Ay,{name:(0,u.P)("slideOptimized",O,void 0,Y.isRtl),activeKey:ee,renderCount:x.length,shouldRestoreHeight:!0,className:M.A.transition},n.Ay.createElement(v.A,{onLoadMore:be,items:j?.[U[ee]]?.transactions,scrollContainerClosest:`.${M.A.main}`,itemSelector:`.${R}`,className:M.A.transactions,noFastList:!0,noScrollRestoreOnTop:!0},j?.[U[ee]]?.transactions.map(e=>n.Ay.createElement(P.A,{key:`${e.id}-${e.isRefund}`,transaction:e,className:R}))))),n.Ay.createElement(k.A,{className:M.A.tabs,tabClassName:M.A.tab,activeTab:ee,tabs:he,onSwitchTab:te}))))},O=(0,n.ph)((0,i.EK)((e,{modal:t})=>({shouldForceHeight:t?.currency===o.ykW?Boolean(e.ton?.history?.all?.transactions.length):Boolean(e.stars?.history?.all?.transactions.length),starsBalanceState:e.stars,tonBalanceState:e.ton,canBuyPremium:!(0,c.n_C)(e),tonUsdRate:e.appConfig?.tonUsdRate||o.kgD,tonTopupUrl:e.appConfig?.tonTopupUrl||o.BJU,animationLevel:(0,d.l)(e).animationLevel}))(F));r()}catch(e){r(e)}})},54666:(e,t,a)=>{a.d(t,{A:()=>r});const r={root:"CuBAw2yg",slider:"euOOAbZi",sparkles:"_L1YQTIP",progress:"kwK0cNPX",floatingBadgeWrapper:"uvlMoXj0",floatingBadge:"BGSDWAYc",floatingBadgeText:"qqQan8uF",floatingBadgeTriangle:"mIdJOmsB"}},54931:(e,t,a)=>{a.a(e,async(e,r)=>{try{a.d(t,{A:()=>g});var n=a(84051),i=a(13439),o=a(17142),s=a(48775),l=a(14),c=a(39351),d=a(17712),m=a(64493),A=a(19806),u=a(40664),p=a(8410),f=a(97779),y=e([c,m,A,u,p]);[c,m,A,u,p]=y.then?(await y)():y;const h=({modal:e,starsStargiftResaleCommissionPermille:t,starsStargiftResaleAmountMin:a,starsStargiftResaleAmountMax:r,starsUsdWithdrawRate:y,tonStargiftResaleCommissionPermille:h,tonStargiftResaleAmountMin:g,tonStargiftResaleAmountMax:b,tonUsdRate:E})=>{const{closeGiftResalePriceComposerModal:S,closeGiftInfoModal:v,updateStarGiftPrice:N,showNotification:k}=(0,i.ko)(),I=Boolean(e),[C,G]=(0,n.J0)(void 0),[w,B]=(0,n.J0)(!1),P=(0,l.A)(e),{gift:M}=P||{},T=M&&"gift"in M?M:void 0,U=Boolean(C),x=(0,c.A)(),R=(0,d.A)(e=>{const t=e.target.value,a=parseFloat(t),n=w?b:r,i=""===t||Number.isNaN(a)?void 0:n?Math.min(a,n):a;G(i)}),D=(0,d.A)(()=>{S()}),F=(0,d.A)(()=>{T&&"starGiftUnique"===T.gift.type&&T.inputGift&&C&&(S(),v(),N({gift:T.inputGift,price:{currency:w?"TON":"XTR",amount:w?(0,o.tT)(C):C,nanos:0}}),k({icon:"sell-outline",message:{key:"NotificationGiftIsSale",variables:{gift:x("GiftUnique",{title:T.gift.title,number:T.gift.number})}}}))}),O=w?h:t,L=w?g:a,K=U&&C>=L;return n.Ay.createElement(p.A,{isOpen:I,title:x(w?"PriceInTON":"PriceInStars"),hasCloseButton:!0,isSlim:!0,onClose:D},n.Ay.createElement("div",{className:f.A.inputPrice},n.Ay.createElement(u.A,{label:x(w?"EnterPriceInTon":"EnterPriceInStars"),onChange:R,value:C?.toString(),inputMode:"numeric",tabIndex:0,teactExperimentControlled:!w})),n.Ay.createElement("div",{className:f.A.inputPriceDescription},n.Ay.createElement("span",null,!K&&Boolean(O)&&x("DescriptionComposerGiftMinimumPrice",{stars:w?(0,s.QH)(x,L):(0,s.Kk)(x,L)},{withMarkdown:!0,withNodes:!0}),K&&(()=>{const e=O?Number((C*O).toFixed()):C;return x("DescriptionComposerGiftResalePrice",{stars:w?(0,s.QH)(x,e):(0,s.Kk)(x,e)},{withMarkdown:!0,withNodes:!0})})()),K&&Boolean(w?E:y)&&n.Ay.createElement("span",{className:f.A.descriptionPrice},`â‰ˆ ${(0,o.Ad)(w?(0,o.C)(C,E):C*y,"USD",x.code)}`)),n.Ay.createElement(A.A,{className:f.A.checkBox,label:x("OnlyAcceptTON"),checked:w,onCheck:B}),n.Ay.createElement("div",{className:f.A.checkBoxDescription},x("OnlyAcceptTONDescription")),n.Ay.createElement(m.A,{noForcedUpperCase:!0,disabled:!K,size:"smaller",onClick:F},K&&x("ButtonSellGift",{stars:w?(0,s.Ms)(x,C):(0,s.U2)(x,C,{asFont:!0})},{withNodes:!0}),!K&&x("Sell")))},g=(0,n.ph)((0,i.EK)(e=>{const t=e.appConfig?.starsStargiftResaleCommissionPermille,a=t?t/1e3:void 0,r=e.appConfig?.starsStargiftResaleAmountMin||0,n=e.appConfig?.starsStargiftResaleAmountMax,i=e.appConfig?.starsUsdWithdrawRateX1000,s=i?i/1e3:1,l=e.appConfig?.tonStargiftResaleCommissionPermille,c=l?l/1e3:0,d=(0,o.wD)(e.appConfig?.tonStargiftResaleAmountMin||0),m=e.appConfig?.tonStargiftResaleAmountMax,A=m&&(0,o.wD)(m),u=e.appConfig?.tonUsdRate;return{starsStargiftResaleCommissionPermille:a,starsStargiftResaleAmountMin:r,starsStargiftResaleAmountMax:n,starsUsdWithdrawRate:s,tonStargiftResaleCommissionPermille:c,tonStargiftResaleAmountMin:d,tonStargiftResaleAmountMax:A,tonUsdRate:u}})(h));r()}catch(e){r(e)}})},56075:(e,t,a)=>{a.a(e,async(e,r)=>{try{a.d(t,{A:()=>O});var n=a(84051),i=a(13439),o=a(31481),s=a(90709),l=a(70636),c=a(60919),d=a(87357),m=a(37836),A=a(14),u=a(5912),p=a(39351),f=a(17712),y=a(59030),h=a(21849),g=a(97040),b=a(84685),E=a(64493),S=a(8410),v=a(41036),N=a(56936),k=a(31008),I=a(4632),C=a(33931),G=a(95501),w=a(35063),B=a(98658),P=a(75311),M=e([l,p,y,h,E,S,N,k,I,C,G,w,B]);[l,p,y,h,E,S,N,k,I,C,G,w,B]=M.then?(await M)():M;const T=100,U=200,x=200,R=[0,-50],D=(0,m.nF)(e=>e(),x,!0),F=({modal:e,starGiftsById:t,starGiftIdsByCategory:a,starBalance:r,peer:c,isSelf:m,disallowedGifts:M,resaleGiftsCount:x,areResaleGiftsLoading:F})=>{const{closeGiftModal:O,openGiftInfoModal:L,resetResaleGifts:K,loadResaleGifts:V}=(0,i.ko)(),z=(0,n.li)(),H=(0,n.li)(),q=(0,n.li)(),J=(0,n.li)(),W=Boolean(e),_=(0,A.A)(e),j=c&&(0,l.mO)(c)?c:void 0,X=c&&(0,l.vj)(c)?c:void 0,[Q,Y]=(0,n.J0)(),[$,Z]=(0,n.J0)(),[ee,te]=(0,n.J0)(!1),[ae,re]=(0,n.J0)(!1),[ne,ie]=(0,n.J0)(!1),[oe,se]=(0,n.J0)("all"),le=(0,n.li)(),ce=(0,n.Kr)(()=>{if(!M)return;const{shouldDisallowPremiumGifts:e,...t}=M;return!m&&Object.values(t).every(Boolean)},[m,M]),de=!m&&M?.shouldDisallowUnlimitedStarGifts,me=!m&&M?.shouldDisallowLimitedStarGifts,Ae=(0,y.A)(),ue=(0,p.A)(),pe=_?.gifts,fe=(0,n.Kr)(()=>pe?.sort((e,t)=>e.months-t.months).filter(e=>1===e.users&&e.currency!==o.OUy),[pe]),ye=(0,n.Kr)(()=>{const e=new Map;return fe?(fe.forEach(t=>{const a=pe?.find(e=>e.currency===o.OUy&&e.months===t.months);a&&e.set(t,a)}),e):e},[pe,fe]),he=(0,n.Kr)(()=>fe?.reduce((e,t)=>e.amount<t.amount?e:t),[fe]),{observe:ge}=(0,u.BL)({rootRef:J,throttleMs:U,isDisabled:!W}),be=Boolean($)&&!Q,Ee=Boolean(Q),Se=be||Ee||ee,ve=Ee?ne:ae;(0,n.vJ)(()=>{$&&V({giftId:$.id})},[$]),(0,n.vJ)(()=>{W||(te(!1),Y(void 0),Z(void 0),se("all"))},[W]);const Ne=(0,f.A)(e=>{if(Ee)return;const t=e.currentTarget;D(()=>{const{scrollTop:e}=t;if(te(e>150),H.current&&q.current){const{top:e}=q.current.getBoundingClientRect(),{top:t}=H.current.getBoundingClientRect();re(e-t<=0)}})}),ke=ue("GiftPremiumDescription",{user:(0,s.Yg)(j),link:n.Ay.createElement(b.A,{text:ue("GiftPremiumDescriptionLinkCaption"),url:ue("GiftPremiumDescriptionLink")})},{withNodes:!0}),Ie=X?ue("StarGiftDescriptionChannel",{peer:(0,l.F9)(ue,X)},{withNodes:!0,withMarkdown:!0}):m?ue("StarGiftDescriptionSelf",void 0,{withNodes:!0,renderTextFilters:["br"]}):ue("StarGiftDescription",{user:(0,s.Yg)(j)},{withNodes:!0,withMarkdown:!0}),Ce=(0,f.A)((e,t)=>{if("resell"===t){if(!("id"in e))return;return be?void L({gift:e,recipientId:_?.forPeerId}):void Z(e)}Y(e),ie("id"in e)}),Ge=(0,f.A)(e=>{se(e)}),we=(0,f.A)(()=>{Y(void 0),Z(void 0),K(),O()}),Be=(0,f.A)(()=>{if(be)return Z(void 0),void K();Ee?Y(void 0):we()}),Pe=(0,f.A)(()=>{le.current?.()}),Me=(0,f.A)(e=>{le.current=e}),Te=Ee||be,Ue=(0,d.A)("animated-close-icon",Te&&"state-back");return n.Ay.createElement(S.A,{dialogRef:z,onClose:we,isOpen:W,isSlim:!0,contentClassName:P.A.content,className:(0,d.A)(P.A.modalDialog,P.A.root),isLowStackPriority:!0},n.Ay.createElement(E.A,{className:P.A.closeButton,round:!0,color:"translucent",size:"smaller",onClick:Be,ariaLabel:Ae(Te?"Common.Back":"Common.Close")},n.Ay.createElement("div",{className:Ue})),n.Ay.createElement(N.A,{className:P.A.balance,balance:r,withAddButton:!0}),n.Ay.createElement("div",{className:(0,d.A)(P.A.header,be&&P.A.resaleHeader,!Se&&P.A.hiddenHeader)},n.Ay.createElement(v.Ay,{name:"slideVerticalFade",activeKey:Se?be?1:ve?2:3:0,slideClassName:P.A.headerSlide},function(){if(Se){if(be){const e=F&&!x;return n.Ay.createElement("div",{className:P.A.resaleHeaderContentContainer},n.Ay.createElement("h2",{className:P.A.resaleHeaderText},$.title),e&&n.Ay.createElement("div",{className:P.A.resaleHeaderDescription},ue("Loading")),!e&&void 0!==x&&n.Ay.createElement("div",{className:P.A.resaleHeaderDescription},ue("HeaderDescriptionResaleGifts",{count:x},{withNodes:!0,withMarkdown:!0,pluralValue:x})),n.Ay.createElement(w.A,{dialogRef:z}))}return n.Ay.createElement("h2",{className:P.A.commonHeaderText},ue(ve?m?"StarsGiftHeaderSelf":"StarsGiftHeader":"GiftPremiumHeader"))}}())),n.Ay.createElement(v.Ay,{ref:H,className:P.A.transition,name:"pushSlide",activeKey:Ee?1:be?2:0},!Ee&&!be&&n.Ay.createElement("div",{ref:J,className:(0,d.A)(P.A.main,"custom-scroll"),onScroll:Ne},n.Ay.createElement("div",{className:P.A.avatars},n.Ay.createElement(h.A,{className:P.A.avatar,size:T,peer:c,onMouseMove:Pe}),n.Ay.createElement(g.A,{className:P.A.logoBackground,color:"gold",centerShift:R,onRequestAnimation:Me})),!m&&!X&&!M?.shouldDisallowPremiumGifts&&n.Ay.createElement(n.Ay.Fragment,null,n.Ay.createElement("h2",{className:(0,d.A)(P.A.headerText,P.A.center)},ue("GiftPremiumHeader")),n.Ay.createElement("p",{className:(0,d.A)(P.A.description,P.A.center)},ke),n.Ay.createElement("div",{className:P.A.premiumGiftsGallery},fe?.map(e=>n.Ay.createElement(I.A,{option:e,optionByStars:ye.get(e),baseMonthAmount:he?Math.floor(he.amount/he.months):void 0,onClick:Ce})))),!ce&&n.Ay.createElement(n.Ay.Fragment,null,n.Ay.createElement("h2",{ref:q,className:(0,d.A)(P.A.headerText,P.A.center)},ue(m?"StarsGiftHeaderSelf":"StarsGiftHeader")),n.Ay.createElement("p",{className:(0,d.A)(P.A.description,P.A.starGiftsDescription,P.A.center)},Ie),n.Ay.createElement(B.A,{areLimitedStarGiftsDisallowed:me,onCategoryChanged:Ge}),n.Ay.createElement(v.Ay,{name:"zoomFade",activeKey:(xe=oe,"all"===xe?0:"limited"===xe?1:"resale"===xe?2:"stock"===xe?3:xe+3),className:P.A.starGiftsTransition},function(){const e=a?.[oe]?.filter(e=>{const a=t?.[e];if(!a)return!1;const{isLimited:r,isSoldOut:n,upgradeStars:i}=a;return de&&!me?r:me&&!de?!r&&!n:!de||!me||Boolean(r&&Boolean(i))});return n.Ay.createElement("div",{className:P.A.starGiftsContainer},t&&e?.flatMap(e=>{const a=t[e],r="stock"!==oe&&Boolean(a.availabilityResale),i="resale"!==oe&&r&&!a.isSoldOut,o=[n.Ay.createElement(C.A,{key:e,gift:a,observeIntersection:ge,isResale:r&&!i,onClick:Ce})];return i&&o.push(n.Ay.createElement(C.A,{key:`resale_${e}`,isResale:!0,gift:a,observeIntersection:ge,onClick:Ce})),o}))}()))),be&&$&&n.Ay.createElement(G.A,{onGiftClick:Ce}),Ee&&_?.forPeerId&&n.Ay.createElement(k.A,{gift:Q,giftByStars:ye.get(Q),peerId:_.forPeerId})));var xe},O=(0,n.ph)((0,i.EK)((e,{modal:t})=>{const{starGifts:a,stars:r,currentUserId:n}=e,i=t?.forPeerId?(0,c.PVB)(e,t.forPeerId):void 0,o=Boolean(n&&t?.forPeerId===n),s=i?(0,c.vGo)(e,i?.id):void 0,{resaleGifts:l}=(0,c.nTw)(e),d=l.count,m=!1!==l.isLoading;return{boostPerSentGift:e.appConfig?.boostsPerSentGift,starGiftsById:a?.byId,starGiftIdsByCategory:a?.idsByCategory,starBalance:r?.balance,peer:i,isSelf:o,disallowedGifts:s?.disallowedGifts,resaleGiftsCount:d,areResaleGiftsLoading:m}})(F));r()}catch(e){r(e)}})},56936:(e,t,a)=>{a.a(e,async(e,r)=>{try{a.d(t,{A:()=>g});var n=a(84051),i=a(13439),o=a(31481),s=a(86046),l=a(87357),c=a(17142),d=a(39351),m=a(81949),A=a(54746),u=a(9267),p=a(89953),f=e([d]),y=f.then?(await f)():f;d=y[0];const h=({balance:e,className:t,withAddButton:a})=>{const r=(0,d.A)(),{openStarsBalanceModal:f}=(0,i.ko)();return n.Ay.createElement("div",{className:(0,l.A)(p.A.balanceBlock,t)},n.Ay.createElement("div",{className:p.A.balanceInfo},n.Ay.createElement("span",{className:p.A.smallerText},r("StarsBalance")),n.Ay.createElement("div",{className:p.A.balanceBottom},e?.currency===o.ykW?n.Ay.createElement(n.Ay.Fragment,null,n.Ay.createElement(A.A,{name:"toncoin"}),void 0!==e?(0,c.UL)(e.amount,e.currency):"â€¦"):n.Ay.createElement(n.Ay.Fragment,null,n.Ay.createElement(u.A,{type:"gold",size:"middle"}),void 0!==e&&e.currency===o.OUy?(0,s.ZF)(r,e):"â€¦",a&&n.Ay.createElement(m.A,{className:p.A.addStarsButton,onClick:()=>f({})},n.Ay.createElement(A.A,{className:p.A.addStarsIcon,name:"add"}))))))},g=(0,n.ph)(h);r()}catch(e){r(e)}})},57420:(e,t,a)=>{a.d(t,{A:()=>r});const r={root:"ZXnbeQxP",info:"zLaaDX3c",status:"HbF2qTB2",statusPricing:"AveGvpdV",amount:"_CBiOQcv",title:"k9ZIv5Pd",description:"FlRlxMx2",subtitle:"YN2J8dw6",statusPeriod:"MRrP7Oew",statusEnded:"pRHwfr8m",preview:"t6Syyhzd",subscriptionStar:"ftlbevPm"}},59160:(e,t,a)=>{a.a(e,async(e,r)=>{try{a.d(t,{A:()=>S});var n=a(84051),i=a(66644),o=a(87357),s=a(14242),l=a(15283),c=a(17712),d=a(93545),m=a(4421),A=a(54746),u=a(85118),p=a(54666),f=e([m]),y=f.then?(await f)():f;m=y[0];const h=[50,100,500,1e3,2e3,5e3,1e4],g=({maxValue:e,defaultValue:t,className:a,onChange:r})=>{const f=(0,n.li)(),y=(0,n.Kr)(()=>{const t=[];for(let a=0;a<h.length;a++)if(h[a]<e&&t.push(h[a]),h[a]>=e){t.push(e);break}return t},[e]),[g,S]=(0,n.J0)(0);(0,l.A)(()=>{S(b(y,t))});const v=(0,c.A)(()=>{const e=f.current;if(!e)return;const t=e.parentElement;(0,i.YS)(()=>{const a=t.offsetLeft+e.offsetWidth/2,r=t.offsetLeft+t.offsetWidth-e.offsetWidth/2;(0,i.RK)(()=>{t.style.setProperty("--_min-x",`${a}px`),t.style.setProperty("--_max-x",`${r}px`)})})});(0,d.A)(f,v);const N=(0,c.A)(e=>{const t=Number(e.currentTarget.value);S(t),r(E(y,t))});return n.Ay.createElement("div",{className:(0,o.A)(p.A.root,a),style:"--progress: "+g/y.length},n.Ay.createElement("div",{className:p.A.floatingBadgeWrapper},n.Ay.createElement("div",{className:p.A.floatingBadge,ref:f},n.Ay.createElement("div",{className:p.A.floatingBadgeText},n.Ay.createElement(A.A,{name:"star",className:p.A.floatingBadgeIcon}),n.Ay.createElement(m.A,{text:(0,s.Sm)(E(y,g))})),n.Ay.createElement("svg",{className:p.A.floatingBadgeTriangle,width:"28",height:"28",viewBox:"0 0 28 28",fill:"none"},n.Ay.createElement("defs",null,n.Ay.createElement("linearGradient",{id:"StarBadgeTriangle",x1:"0",x2:"1",y1:"0",y2:"0"},n.Ay.createElement("stop",{offset:"-50%","stop-color":"#FFAA00"}),n.Ay.createElement("stop",{offset:"150%","stop-color":"#FFCD3A"}))),n.Ay.createElement("path",{d:"m 28,4 v 9 c 0.0089,7.283278 -3.302215,5.319646 -6.750951,8.589815 l -5.8284,5.82843 c -0.781,0.78105 -2.0474,0.78104 -2.8284,0 L 6.7638083,21.589815 C 2.8288652,17.959047 0.04527024,20.332086 0,13 V 4 C 0,4 0.00150581,0.97697493 3,1 5.3786658,1.018266 22.594519,0.9142007 25,1 c 2.992326,0.1067311 3,3 3,3 z",fill:"url(#StarBadgeTriangle)"})))),n.Ay.createElement("div",{className:p.A.progress},n.Ay.createElement(u.A,{preset:"progress",className:p.A.sparkles})),n.Ay.createElement("input",{className:p.A.slider,type:"range",min:0,max:y.length,defaultValue:b(y,t),step:"any",onChange:N}))};function b(e,t){const a=e.findIndex(e=>t<=e),r=e[a-1]||1,n=e[a]||e[e.length-1];return a+(t-r)/(n-r)}function E(e,t){const a=Math.floor(t),r=e[a-1]||1,n=r+((e[a]||e[e.length-1])-r)*(t-a);return Math.round(n)}const S=(0,n.ph)(g);r()}catch(v){r(v)}})},59650:(e,t,a)=>{a.d(t,{A:()=>r});const r={header:"qL0cHbwS",profileBlock:"t18QCmAb",titleContainer:"q8w7tnmR",radialPattern:"_1RfhkfB",lockIcon:"jiPObOWv",avatar:"JK2zOWA7",userTitle:"lxxbgNCl",status:"MLMdxkUg",giftTitle:"wxg_5ou_",infoDescription:"KSCLIMZm",footer:"VDrvalBo"}},59913:(e,t,a)=>{a.a(e,async(e,r)=>{try{a.d(t,{A:()=>u});var n=a(84051),i=a(13439),o=a(14487),s=a(17142),l=a(48775),c=a(39351),d=a(94189),m=e([c,d]);[c,d]=m.then?(await m)():m;const A=({modal:e,starBalance:t,tonBalance:a})=>{const r=(0,i.ko)(),m=(0,c.A)(),A=(0,n.hb)(()=>{if(!e?.directInfo)return void r.closePriceConfirmModal();const{currency:n,newAmount:i}=e,s="TON"===n,l=s?a:t?.amount;if(void 0!==l){if(l<i)return r.openStarsBalanceModal({currency:s?"TON":"XTR",tabId:(0,o.g0)()}),void r.closePriceConfirmModal();r.sendStarPaymentForm({directInfo:e.directInfo,tabId:(0,o.g0)()}),r.closePriceConfirmModal()}else r.closePriceConfirmModal()},[e,t,a,r]),u=(0,n.hb)(()=>{r.closePriceConfirmModal()},[r]);if(!e)return;const{originalAmount:p,newAmount:f,currency:y}=e;let h,g;return"TON"===y?(h=(0,l.QH)(m,(0,s.wD)(p)),g=(0,l.QH)(m,(0,s.wD)(f))):(h=(0,l.Kk)(m,p),g=(0,l.Kk)(m,f)),n.Ay.createElement(d.A,{isOpen:Boolean(e),onClose:u,title:m("PriceChanged"),confirmHandler:A,confirmLabel:m("PayNewPrice")},n.Ay.createElement("p",null,m("PriceChangedText",{originalAmount:h,newAmount:g},{withMarkdown:!0,withNodes:!0})))},u=(0,n.ph)((0,i.EK)(e=>{const t=e.stars?.balance,a=e.ton?.balance?.amount;return{starBalance:t,tonBalance:a}})(A));r()}catch(e){r(e)}})},63792:(e,t,a)=>{e.exports=a.p+"stars-bg.dee4c4b73c7d21c2ec73.png"},63874:(e,t,a)=>{a.a(e,async(e,r)=>{try{a.d(t,{A:()=>k});var n=a(84051),i=a(13439),o=a(23174),s=a(90709),l=a(70636),c=a(60919),d=a(48775),m=a(74167),A=a(32625),u=a(14),p=a(39351),f=a(17712),y=a(64493),h=a(19806),g=a(65461),b=a(67048),E=a(95440),S=e([l,m,p,y,h,g,b]);[l,m,p,y,h,g,b]=S.then?(await S)():S;const v=3e3,N=({modal:e,recipient:t})=>{const{closeGiftUpgradeModal:a,upgradeGift:r}=(0,i.ko)(),c=Boolean(e),S=(0,u.A)(e),N=(0,u.A)(t),[k,C]=(0,n.J0)(!1),[G,w]=(0,n.J0)(),B=(0,p.A)(),P=(0,f.A)(()=>a()),M=(0,f.A)(()=>{const e=S?.gift;e?.inputGift&&(r({gift:e.inputGift,shouldKeepOriginalDetails:k,upgradeStars:e.alreadyPaidUpgradeStars?void 0:e.gift.upgradeStars}),P())}),T=(0,f.A)(()=>{S?.sampleAttributes&&w(I(S.sampleAttributes,G))});(0,A.A)(T,c?v:void 0,!0),(0,n.vJ)(()=>{c&&S?.sampleAttributes&&T()},[c,S?.sampleAttributes]),(0,n.vJ)(()=>{const e=S?.sampleAttributes;e&&[...e.filter(e=>"pattern"===e.type).map(e=>e.sticker),...e.filter(e=>"model"===e.type).map(e=>e.sticker)].map(e=>(0,s.Mw)(e,"full")).forEach(e=>{(0,m.hd)(e,o.qZ.BlobUrl)})},[S?.sampleAttributes]);const U=(0,n.Kr)(()=>{if(!G||!c)return;const e=S?.gift,t=[["diamond",B("GiftUpgradeUniqueTitle"),B("GiftUpgradeUniqueDescription")],["trade",B("GiftUpgradeTransferableTitle"),B("GiftUpgradeTransferableDescription")],["auction",B("GiftUpgradeTradeableTitle"),B("GiftUpgradeTradeableDescription")]],a=N?B("GiftPeerUpgradeText",{peer:(0,l.F9)(B,N)}):B("GiftUpgradeTextOwn");return{listItemData:t,header:n.Ay.createElement(b.A,{modelAttribute:G.model,backdropAttribute:G.backdrop,patternAttribute:G.pattern,title:B("GiftUpgradeTitle"),subtitle:a}),footer:n.Ay.createElement("div",{className:E.A.footer},!e&&n.Ay.createElement(y.A,{className:E.A.footerButton,size:"smaller",onClick:P},B("OK")),e&&n.Ay.createElement(n.Ay.Fragment,null,n.Ay.createElement(h.A,{label:B("GiftUpgradeKeepDetails"),onCheck:C,checked:k}),n.Ay.createElement(y.A,{className:E.A.footerButton,size:"smaller",isShiny:!0,onClick:M},e.alreadyPaidUpgradeStars?B("GeneralConfirm"):B("GiftUpgradeButton",{amount:(0,d.U2)(B,e.gift.upgradeStars,{asFont:!0})},{withNodes:!0}))))}},[G,c,B,N,S?.gift,k]);return n.Ay.createElement(g.A,{isOpen:c,header:U?.header,footer:U?.footer,listItemData:U?.listItemData,hasBackdrop:!0,onClose:P})},k=(0,n.ph)((0,i.EK)((e,{modal:t})=>{const a=t?.recipientId;return{recipient:a?(0,c.PVB)(e,a):void 0}})(N));function I(e,t){const a=e.filter(e=>"model"===e.type&&e.name!==t?.model.name),r=e.filter(e=>"pattern"===e.type&&e.name!==t?.pattern.name),n=e.filter(e=>"backdrop"===e.type&&e.name!==t?.backdrop.name);return{model:a[Math.floor(Math.random()*a.length)],pattern:r[Math.floor(Math.random()*r.length)],backdrop:n[Math.floor(Math.random()*n.length)]}}r()}catch(C){r(C)}})},67048:(e,t,a)=>{a.a(e,async(e,r)=>{try{a.d(t,{A:()=>v});var n=a(84051),i=a(13439),o=a(86046),s=a(96454),l=a(87357),c=a(95807),d=a(537),m=a(37661),A=a(39351),u=a(79577),p=a(54746),f=a(9267),y=a(52647),h=a(41036),g=a(33610),b=e([A,u,y]);[A,u,y]=b.then?(await b)():b;const E=120,S=({modelAttribute:e,backdropAttribute:t,patternAttribute:a,title:r,subtitle:b,subtitlePeer:S,className:v,resellPrice:N})=>{const{openChat:k}=(0,i.ko)(),I=(0,A.A)(),[C,G,w]=(0,m.A)(),B=(0,d.A)([e,t,a]),P=t?.textColor,M=(0,n.Kr)(()=>{const e=[t.centerColor,t.edgeColor],r=t.patternColor;return n.Ay.createElement(y.A,{className:g.A.radialPattern,backgroundColors:e,patternColor:r,patternIcon:a.sticker})},[t,a]);return n.Ay.createElement("div",{className:(0,l.A)(g.A.root,v)},n.Ay.createElement(h.Ay,{className:g.A.transition,slideClassName:(0,l.A)("interactive-gift",g.A.transitionSlide),activeKey:B,direction:1,name:"zoomBounceSemiFade"},M,n.Ay.createElement(u.A,{className:g.A.sticker,sticker:e.sticker,size:E,noLoop:!C,onMouseEnter:s.TF?void 0:G,onMouseLeave:s.TF?void 0:w})),r&&n.Ay.createElement("h1",{className:g.A.title},r),Boolean(b)&&n.Ay.createElement("div",{className:(0,l.A)(g.A.subtitle,S&&g.A.subtitleBadge),style:(0,c.A)(P&&`color: ${P}`),onClick:()=>{S&&k({id:S.id})}},b),N&&n.Ay.createElement("p",{className:g.A.amount},n.Ay.createElement("span",null,(0,o.hk)(I,N)),"XTR"===N.currency&&n.Ay.createElement(f.A,{type:"gold",size:"middle"}),"TON"===N.currency&&n.Ay.createElement(p.A,{name:"toncoin"})))},v=(0,n.ph)(S);r()}catch(e){r(e)}})},70049:(e,t,a)=>{a.a(e,async(e,r)=>{try{a.d(t,{A:()=>P});var n=a(84051),i=a(13439),o=a(90709),s=a(60919),l=a(87357),c=a(48775),d=a(14242),m=a(4961),A=a(37661),u=a(39351),p=a(17712),f=a(59030),y=a(29886),h=a(21849),g=a(9267),b=a(38705),E=a(99952),S=a(84685),v=a(64493),N=a(8410),k=a(56936),I=a(74342),C=a(89953),G=a(63792),w=e([u,f,h,b,E,v,N,k,I]);[u,f,h,b,E,v,N,k,I]=w.then?(await w)():w;const B=({modal:e,bot:t,starsBalanceState:a,paidMediaMessage:r,paidMediaChat:s})=>{const{closeStarsPaymentModal:w,openStarsBalanceModal:B,sendStarPaymentForm:P}=(0,i.ko)(),[M,T,U]=(0,A.A)(),x=Boolean(e?.inputInvoice&&a),R=(0,y.A)(e),D=e||R,{form:F,subscriptionInfo:O}=D||{},L=F?.invoice?.totalAmount||O?.subscriptionPricing?.amount,K=Boolean(F?.invoice.subscriptionPeriod),V=!O?.subscriptionPricing,z=F?.photo,H=(0,f.A)(),q=(0,u.A)();(0,n.vJ)(()=>{x||U()},[x]);const J=(0,n.Kr)(()=>{if(!D?.inputInvoice)return"";const e=(0,o.Yg)(t),a=H("Stars.Intro.PurchasedText.Stars",L);if(r){const e=r.content.paidMedia.extendedMedia,t=e.every(e=>!e.duration),n=e.every(e=>Boolean(e.duration)),i=H(t?"Stars.Transfer.Photos":n?"Stars.Transfer.Videos":"Media",e.length),l=(0,o.Js)(H,s);return H("Stars.Transfer.UnlockInfo",[i,l,a])}return O?q("StarsSubscribeText",{chat:O.title,amount:L},{withNodes:!0,withMarkdown:!0,pluralValue:L}):K?q("StarsSubscribeBotText",{name:F.title,amount:L,bot:e},{pluralValue:L}):H("Stars.Transfer.Info",[F.title,e,a])},[D?.inputInvoice,t,H,L,r,O,K,F,s,q]),W=(0,n.Kr)(()=>{if(O)return q("StarsSubscribeInfo",{link:n.Ay.createElement(S.A,{url:q("StarsSubscribeInfoLink"),text:q("StarsSubscribeInfoLinkText")})},{withNodes:!0})},[O,q]),_=(0,n.Kr)(()=>{if(O)return(0,o.nr)(O)},[O]),j=(0,p.A)(()=>{const t=a?.balance;void 0!==L&&void 0!==t&&(L>t.amount?B({originStarsPayment:e}):(P({}),T()))});return n.Ay.createElement(N.A,{contentClassName:C.A.paymentContent,isOpen:x,hasAbsoluteCloseButton:!0,isSlim:!0,onClose:w},n.Ay.createElement(k.A,{balance:a?.balance,className:C.A.modalBalance}),n.Ay.createElement("div",{className:C.A.paymentImages,dir:H.isRtl?"ltr":"rtl"},r?n.Ay.createElement(I.A,{media:r.content.paidMedia.extendedMedia}):_?n.Ay.createElement(n.Ay.Fragment,null,n.Ay.createElement(h.A,{className:C.A.paymentPhoto,peer:_,size:"giant"}),n.Ay.createElement(g.A,{type:"gold",size:"adaptive",className:C.A.avatarStar})):n.Ay.createElement(b.A,{peer:z?void 0:t,avatarWebPhoto:z,avatarSize:"giant",badgeIcon:"star",badgeText:(0,d.Sm)(L),badgeClassName:C.A.amountBadge,className:C.A.paymentPhoto}),n.Ay.createElement("img",{className:C.A.paymentImageBackground,src:G,alt:"",draggable:!1})),n.Ay.createElement("h2",{className:C.A.headerText},H(_?"StarsSubscribeTitle":"StarsConfirmPurchaseTitle")),V&&n.Ay.createElement(E.A,{className:C.A.botItem,peerId:F?.botId}),n.Ay.createElement("div",{className:C.A.description},(0,m.A)(J,["simple_markdown","emoji"])),n.Ay.createElement(v.A,{className:C.A.paymentButton,size:"smaller",onClick:j,isLoading:M},q(K?"StarsSubscribeBotButtonMonth":"StarsPay",{amount:(0,c.U2)(q,L,{asFont:!0})},{withNodes:!0})),Boolean(W)&&n.Ay.createElement("div",{className:(0,l.A)(C.A.disclaimer,C.A.smallerText)},W))},P=(0,n.ph)((0,i.EK)((e,{modal:t})=>{const a=t?.form?.botId?(0,s.mBe)(e,t.form.botId):void 0,r="message"===t?.inputInvoice?.type?t.inputInvoice:void 0,n=r?(0,s.O5q)(e,r.chatId,r.messageId):void 0,i=r?(0,s.hds)(e,r.chatId):void 0,o=n?.content.paidMedia;return{bot:a,starsBalanceState:e.stars,paidMediaMessage:o?n:void 0,paidMediaChat:o?i:void 0}})(B));r()}catch(e){r(e)}})},74342:(e,t,a)=>{a.a(e,async(e,r)=>{try{a.d(t,{A:()=>y});var n=a(84051),i=a(90709),o=a(87357),s=a(62587),l=a(54746),c=a(46256),d=a(25038),m=e([s,c]);[s,c]=m.then?(await m)():m;const A=3,u=2,p=({media:e,className:t,isTransactionPreview:a,onClick:r})=>{const i=Math.min(e.length,a?u:A),s="mediaType"in e[0];return n.Ay.createElement("div",{className:(0,o.A)(d.A.root,d.A[`itemCount${i}`],a&&d.A.preview,t),dir:"rtl",onClick:r},e.slice(0,i).reverse().map((e,t,r)=>{const i=r.length-t-1;return"mediaType"in e?n.Ay.createElement(c.A,{className:d.A.thumb,isVisible:!0,width:e.width,height:e.height,thumbDataUri:e.thumbnail?.dataUri}):n.Ay.createElement(f,{className:(0,o.A)(a&&i>0&&d.A.noOutline),boughtMedia:e,index:i})}),s&&n.Ay.createElement("div",{className:d.A.count},n.Ay.createElement(l.A,{name:"stars-lock"}),e.length>1?e.length:""))};function f({boughtMedia:e,index:t,className:a}){const r=e.video||e.photo,l=(0,i.VO)(r,"pictogram"),c=(0,i.VD)(r),m=(0,s.A)(l);return n.Ay.createElement("div",{className:(0,o.A)(d.A.thumb,void 0!==t&&`stars-transaction-media-${t}`,a)},c&&n.Ay.createElement("img",{className:d.A.blurry,src:c,alt:""}),m&&n.Ay.createElement("img",{className:d.A.full,src:m,alt:""}))}const y=(0,n.ph)(p);r()}catch(h){r(h)}})},75311:(e,t,a)=>{a.d(t,{A:()=>r});const r={root:"tJK1W0pJ",transition:"pP8TxefR",content:"o3V1HqbL",resaleScreenRoot:"Vce_TsJO",main:"cVXqeu9P",giftSection:"v4eKefwN",section:"EqfarEYb",resaleStarGiftsContainer:"RSFcSNGL",starGiftsContainer:"OQX3GZl5",premiumGiftsGallery:"n40m3BK2",header:"iqqoyRgW",resaleHeader:"cJRBgg9B",resaleHeaderContentContainer:"OXYQmfGK",headerSlide:"BTWhJUQB",headerText:"lLRmbpIu",hiddenHeader:"XgGzn1cQ",resaleHeaderText:"bp_KPx8I",commonHeaderText:"ybZo03if",resaleHeaderDescription:"XefHUFm1",closeButton:"r_Y5uG1T",balance:"soqAknia",avatars:"N_7tYJKr",avatar:"_3hY4vIep",logoBackground:"ieK4TzSb",center:"Ey5gX40t",description:"ZioU5h_k",starGiftsDescription:"gFgzS8pV",boostIcon:"Qi2YR6Dz",optionBottom:"RTbClMKE",secondaryInfo:"g0R9GSNq",footer:"J3Gju3bv",starGiftsTransition:"kB6IyXqS",notFoundGiftsRoot:"UqnRlJ1n",notFoundGiftsDescription:"g0VbwIG_",notFoundGiftsLink:"j2zPEQr8"}},84723:(e,t,a)=>{a.d(t,{A:()=>r});const r={root:"W3JMs1YE",picker:"wOipz1Y_"}},89278:(e,t,a)=>{a.d(t,{A:()=>r});const r={modal:"nnublcCk",checkBox:"fjE0wGvw",checkBoxDescription:"tepUTe4z",upgradeIcon:"lgyInH5K",header:"p7FTs7_p",title:"pIbzzTir",description:"CCPfr26t",soldOut:"kjWcRp4W",headerSplitButton:"XOMI_4PO",headerButton:"WA0INleU",giftResalePriceContainer:"BN8gf5y6",starAmountIcon:"_5guecUe",giftResalePriceStar:"H_q8o2vY",left:"aOhTHZlf",right:"rJOB1u5Q",footer:"bho0GTYt",footerDescription:"VUylTszM",unknown:"zDauXmpS",giftValue:"w_E4LkUj",uniqueAttribute:"OJQnkf17",uniqueGift:"I6o_pGAm",modalHeader:"ie9tImaj",modalCloseButton:"p38RBGdC",ownerAddress:"DavMRg4Q",copyIcon:"SLX5tX8C"}},89953:(e,t,a)=>{a.d(t,{A:()=>r});const r={root:"TtE8LQNJ",minimal:"nkV4JXHc",transition:"nXQS4E59",main:"JuWZY1ds",container:"mnhBs1uK",section:"lYkNd_gb",lastSection:"f749AI4g",sectionTitle:"FF8gm7MP",hint:"Rs8WXoOz",tos:"Vu6blJk9",topUpButton:"dc_DZoVF",tonBalanceContainer:"lorbW9II",tonBalance:"h2Fs3tOv",tonIconBalance:"Ut6GidJP",tonInUsd:"FdcdsB4l",tonIconLogo:"_hCjjyEv",description:"teXilLxe",header:"fnhXotO2",starHeaderText:"iUwego5s",botItem:"AhxcrKWn",hiddenHeader:"DZk6d6hF",closeButton:"piD1PXHW",addStarsButton:"dqnGL2uh",addStarsIcon:"w9Db2eiK",balanceBlock:"Yk0OQBKC",balanceInfo:"p2dW9NOV",smallerText:"rUnPcfmE",balanceBottom:"F5BTkZ9G",modalBalance:"t8tMrx3y",starButton:"oOt4VBD2",paymentContent:"OReEUNTV",paymentImages:"oKorQYTC",paymentPhoto:"HGTrEtUF",avatarStar:"Wu10dXoa",paymentImageBackground:"os8jb_qv",paymentButton:"VzR5cibf",paymentButtonStar:"Uhg7yWxK",transactions:"Qvc0fTTH",subscriptions:"IX5BhCUF",tabs:"KZVEyKOX",disclaimer:"bpVifdwH",amountBadge:"BPM7LKwo",loadMore:"TKmZjMyd",loadMoreIcon:"buepwtN1"}},94390:(e,t,a)=>{a.d(t,{A:()=>r});const r={root:"KLFLR9ji",thumb:"fCL5rY2D"}},95232:(e,t,a)=>{a.a(e,async(e,r)=>{try{a.d(t,{A:()=>H});var n=a(84051),i=a(13439),o=a(31481),s=a(90709),l=a(70636),c=a(79089),d=a(60919),m=a(87357),A=a(85982),u=a(17663),p=a(48775),f=a(58968),y=a(80140),h=a(14242),g=a(66833),b=a(15384),E=a(14),S=a(37661),v=a(39351),N=a(17712),k=a(59030),I=a(79577),C=a(21849),G=a(81949),w=a(25404),B=a(35880),P=a(54746),M=a(84685),T=a(64493),U=a(19806),x=a(94189),R=a(22699),D=a(96530),F=a(29772),O=a(67048),L=a(89278),K=e([l,b,v,k,I,C,w,B,T,U,x,R,F,O]);[l,b,v,k,I,C,w,B,T,U,x,R,F,O]=K.then?(await K)():K;const V=120,z=({modal:e,fromPeer:t,targetPeer:a,releasedByPeer:r,currentUserId:s,starGiftMaxConvertPeriod:K,hasAdminRights:z,currentUserEmojiStatus:H,collectibleEmojiStatuses:q,tonExplorerUrl:J,currentUser:W,recipientPeer:_})=>{const{closeGiftInfoModal:j,changeGiftVisibility:X,convertGiftToStars:Q,openChatWithInfo:Y,focusMessage:$,openGiftUpgradeModal:Z,showNotification:ee,buyStarGift:te,closeGiftModal:ae}=(0,i.ko)(),[re,ne,ie]=(0,S.A)(),oe=(0,v.A)(),se=(0,k.A)(),[le,ce]=(0,n.J0)(!1),[de,me]=(0,n.J0)(!1),Ae=Boolean(e),ue=(0,E.A)(e),pe=(0,E.A)(t),fe=(0,E.A)(a),ye=fe&&(0,l.vj)(fe),{gift:he}=ue||{},ge=he&&"gift"in he,be=ge?he:void 0,Ee=be?.fromId===s,Se=be&&K&&be.date+K-(0,y.Fm)()||0,ve=Math.ceil(Se/60/60/24),Ne=ge?he.gift:he,ke=Ne&&(0,g.yQ)(Ne),Ie=Se>0&&Boolean(be?.starsToConvert),Ce=Ne&&"starGiftUnique"===Ne.type,Ge=Ce?Ne:void 0,we=(0,n.Kr)(()=>{if(Ne&&"starGiftUnique"===Ne.type){if(r){const e=`@${(0,c.Kl)(r)}`||(0,l.F9)(oe,r),t=(0,l.mO)(r)?oe("ActionFallbackUser"):oe("ActionFallbackChannel");return oe("GiftInfoCollectibleBy",{number:Ne.number,owner:e||t},{withNodes:!0,withMarkdown:!0})}return oe("GiftInfoCollectible",{number:Ne.number})}},[Ne,r,oe]),Be=Boolean(be?.upgradeMsgId),Pe=!Be&&be?.inputGift&&(ye?z:fe?.id===s);function Me(e){if(!Ce)return;const t=Ne.resellPrice;return t?Ne?.resaleTonOnly||e?t.find(e=>e.currency===o.ykW):t.find(e=>e.currency===o.OUy):void 0}const Te=Me(),Ue=Me(de),xe="starGiftUnique"===Ne?.type&&Ne.ownerId!==s&&Boolean(Te),Re=(()=>{if(!Ce)return;const{ownerName:e,ownerId:t}=Ne,a=(0,i.mS)(),r=t?(0,d.PVB)(a,t):void 0;return r?(0,l.F9)(oe,r):e})(),De=(0,N.A)(()=>{j()}),Fe=(0,N.A)(()=>{const e=Ee?fe:pe;if(!be?.upgradeMsgId||!e)return;const{upgradeMsgId:t}=be;$({chatId:e.id,messageId:t}),De()}),Oe=(0,N.A)(()=>{const{inputGift:e,isUnsaved:t}=be;X({gift:e,shouldUnsave:!t}),De()}),Le=(0,N.A)(()=>{const{inputGift:e}=be;Q({gift:e}),ie(),De()}),Ke=(0,N.A)(()=>{be&&Z({giftId:be.gift.id,gift:be})}),Ve=(0,N.A)(()=>{"starGiftUnique"===Ne?.type&&Me()&&ce(!0)}),ze=(0,N.A)(()=>{ce(!1)}),He=(0,N.A)(()=>{const e=_||W,t=Me(de);e&&t&&"starGiftUnique"===Ne?.type&&(ze(),ae(),te({peerId:e.id,slug:Ne.slug,price:t}))}),qe=(0,n.Kr)(()=>Ne&&(0,g.uc)(Ne),[Ne]),Je=(0,n.Kr)(()=>({onTrigger:e})=>n.Ay.createElement("div",{className:(0,m.A)(L.A.headerButton,L.A.left),tabIndex:0,role:"button","aria-haspopup":"menu","aria-label":oe("AriaMoreButton"),onClick:e},n.Ay.createElement(P.A,{name:"more",className:L.A.icon})),[oe]),We=(0,N.A)(()=>xe?n.Ay.createElement(T.A,{noForcedUpperCase:!0,size:"smaller",onClick:Ve},oe("ButtonBuyGift",{stars:Te?.currency===o.ykW?(0,p.Ms)(oe,Te.amount,{shouldConvertFromNanos:!0}):(0,p.U2)(oe,Te?.amount,{asFont:!0})},{withNodes:!0})):Be?n.Ay.createElement(T.A,{size:"smaller",onClick:Fe},oe("GiftInfoViewUpgraded")):Pe&&be?.alreadyPaidUpgradeStars&&!be.upgradeMsgId?n.Ay.createElement(T.A,{size:"smaller",isShiny:!0,onClick:Ke},oe("GiftInfoUpgradeForFree"),n.Ay.createElement(P.A,{name:"arrow-down-circle",className:L.A.upgradeIcon})):Pe&&be.canUpgrade&&!be.upgradeMsgId?n.Ay.createElement(T.A,{size:"smaller",isShiny:!0,onClick:Ke},oe("GiftInfoUpgrade"),n.Ay.createElement(P.A,{name:"arrow-down-circle",className:L.A.upgradeIcon})):n.Ay.createElement(T.A,{size:"smaller",onClick:De},oe("OK"))),_e=(0,n.Kr)(()=>{if(!Ne)return;let e="";return"starGift"===Ne.type&&(Ne.firstSaleDate&&(e+=`${oe("GiftInfoFirstSale")} ${(0,u.L2)(1e3*Ne.firstSaleDate,oe.code,!0)}`),Ne.lastSaleDate&&(e+="\n",e+=`${oe("GiftInfoLastSale")} ${(0,u.L2)(1e3*Ne.lastSaleDate,oe.code,!0)}`)),e},[Ne,oe]),je=(0,n.Kr)(()=>{if(!he||!Ne)return;const{fromId:e,isNameHidden:t,starsToConvert:a,isUnsaved:s,isConverted:c,upgradeMsgId:y}=be||{},g=Ie&&Boolean(a),E=t&&fe,S=(()=>{if(!be)return oe("GiftInfoSoldOutDescription");if(!ye){if(be.upgradeMsgId)return oe("GiftInfoDescriptionUpgraded");if(Pe&&be.canUpgrade&&be.alreadyPaidUpgradeStars&&!be.upgradeMsgId)return oe("GiftInfoDescriptionUpgrade");if(be.canUpgrade&&Pe)return Pe?oe("GiftInfoDescriptionFreeUpgrade"):oe("GiftInfoPeerDescriptionFreeUpgradeOut",{peer:(0,l.F9)(oe,fe)});if(Pe||Ee)return c&&g?Pe?oe("GiftInfoDescriptionConverted",{amount:a},{pluralValue:a,withNodes:!0,withMarkdown:!0}):oe("GiftInfoPeerDescriptionOutConverted",{amount:a,peer:(0,l.F9)(oe,fe)},{pluralValue:a,withNodes:!0,withMarkdown:!0}):be.canUpgrade&&Pe?g?oe("GiftInfoDescriptionUpgrade",{amount:a},{pluralValue:a,withNodes:!0,withMarkdown:!0}):oe("GiftInfoDescriptionUpgradeRegular"):Pe?g?oe("GiftInfoDescription",{amount:a},{withNodes:!0,withMarkdown:!0,pluralValue:a}):oe("GiftInfoDescriptionRegular"):g?oe("GiftInfoPeerDescriptionOut",{amount:a,peer:(0,l.F9)(oe,fe)},{withNodes:!0,withMarkdown:!0,pluralValue:a}):oe("GiftInfoPeerDescriptionOutRegular",{peer:(0,l.F9)(oe,fe)})}})(),v=n.Ay.createElement(R.A,{className:"with-menu-transitions",trigger:Je,positionX:"right"},n.Ay.createElement(w.A,{peerId:ue.peerId,gift:he,canManage:Pe,collectibleEmojiStatuses:q,currentUserEmojiStatus:H})),N=n.Ay.createElement("div",{className:L.A.modalHeader},Boolean(Te?.amount)&&n.Ay.createElement("div",{className:L.A.giftResalePriceContainer},Te.currency===o.ykW?(0,p.Ms)(oe,Te.amount,{className:L.A.giftResalePriceStar,shouldConvertFromNanos:!0}):(0,p.U2)(oe,Te.amount,{asFont:!0,className:L.A.giftResalePriceStar})),n.Ay.createElement("div",{className:L.A.headerSplitButton},Ae&&v,n.Ay.createElement("div",{className:(0,m.A)(L.A.headerButton,L.A.right),tabIndex:0,role:"button","aria-haspopup":"menu","aria-label":oe("Close"),onClick:De},n.Ay.createElement(P.A,{name:"close",className:(0,m.A)(L.A.icon,L.A.moreIcon)})))),k=Ce&&n.Ay.createElement("div",{className:(0,m.A)(L.A.header,L.A.uniqueGift)},n.Ay.createElement(O.A,{backdropAttribute:qe.backdrop,patternAttribute:qe.pattern,modelAttribute:qe.model,title:Ne.title,subtitle:we,subtitlePeer:r})),B=n.Ay.createElement("div",{className:L.A.header},n.Ay.createElement(I.A,{className:L.A.giftSticker,sticker:ke,size:V}),n.Ay.createElement("h1",{className:L.A.title},Ce?Ne.title:oe(be?Pe?"GiftInfoReceived":"GiftInfoTitle":"GiftInfoSoldOutTitle")),Boolean(S)&&n.Ay.createElement("p",{className:(0,m.A)(L.A.description,!be&&"starGift"===Ne?.type&&L.A.soldOut)},S)),T=[];if("starGift"===Ne.type){(e||t)&&T.push([oe("GiftInfoFrom"),e?{chatId:e}:n.Ay.createElement(n.Ay.Fragment,null,n.Ay.createElement(C.A,{size:"small",peer:f.I5}),n.Ay.createElement("span",{className:L.A.unknown},se(f.I5.titleKey)))]),be?.date&&T.push([oe("GiftInfoDate"),n.Ay.createElement("span",{title:_e},(0,u.L2)(1e3*be.date,oe.code,!0))]),Ne.firstSaleDate&&!be&&T.push([oe("GiftInfoFirstSale"),(0,u.L2)(1e3*Ne.firstSaleDate,oe.code,!0)]),Ne.lastSaleDate&&!be&&T.push([oe("GiftInfoLastSale"),(0,u.L2)(1e3*Ne.lastSaleDate,oe.code,!0)]);const r=Ne.stars+(be?.alreadyPaidUpgradeStars||0);T.push([oe("GiftInfoValue"),n.Ay.createElement("div",{className:L.A.giftValue},(0,p.U2)(oe,r,{className:L.A.starAmountIcon}),Pe&&Ie&&Boolean(a)&&n.Ay.createElement(G.A,{onClick:ne},oe("GiftInfoConvert",{amount:a},{pluralValue:a})))]),Ne.availabilityTotal&&T.push([oe("GiftInfoAvailability"),oe("GiftInfoAvailabilityValue",{count:Ne.availabilityRemains||0,total:Ne.availabilityTotal},{pluralValue:Ne.availabilityRemains||0})]),Ne.upgradeStars&&!y&&T.push([oe("GiftInfoStatus"),n.Ay.createElement("div",{className:L.A.giftValue},oe("GiftInfoStatusNonUnique"))]),be?.message&&T.push([void 0,(0,b.fd)(be.message)])}if(Ce){const{ownerName:e,ownerAddress:t,ownerId:a}=Ne,r=a?(0,d.PVB)((0,i.mS)(),a):void 0,{model:o,backdrop:s,pattern:c,originalDetails:m}=qe||{};if(t?T.push([oe("GiftInfoOwner"),n.Ay.createElement("span",{className:L.A.ownerAddress,onClick:()=>{(0,A.eM)(t),ee({message:{key:"WalletAddressCopied"},icon:"copy"})}},t,n.Ay.createElement(P.A,{className:L.A.copyIcon,name:"copy"}))]):(r||e)&&T.push([oe("GiftInfoOwner"),a?{chatId:a,withEmojiStatus:!0}:e||""]),o&&T.push([oe("GiftAttributeModel"),n.Ay.createElement("span",{className:L.A.uniqueAttribute},o.name,n.Ay.createElement(G.A,null,(0,h.l9)(o.rarityPercent)))]),s&&T.push([oe("GiftAttributeBackdrop"),n.Ay.createElement("span",{className:L.A.uniqueAttribute},s.name,n.Ay.createElement(G.A,null,(0,h.l9)(s.rarityPercent)))]),c&&T.push([oe("GiftAttributeSymbol"),n.Ay.createElement("span",{className:L.A.uniqueAttribute},c.name,n.Ay.createElement(G.A,null,(0,h.l9)(c.rarityPercent)))]),T.push([oe("GiftInfoAvailability"),oe("GiftInfoIssued",{issued:Ne.issuedCount,total:Ne.totalCount})]),m){const{date:e,recipientId:t,message:a,senderId:r}=m,o=(0,i.mS)(),s=e=>{Y({id:e}),j()},c=(0,d.PVB)(o,t),A=r?(0,d.PVB)(o,r):void 0,p=(0,u.L2)(1e3*e,oe.code,!0),f=n.Ay.createElement(D.A,{onClick:()=>s(t),isPrimary:!0},(0,l.F9)(oe,c));let y;if(A&&r!==t){const e=n.Ay.createElement(D.A,{onClick:()=>s(A.id),isPrimary:!0},(0,l.F9)(oe,A));y=a?oe("GiftInfoPeerOriginalInfoTextSender",{peer:f,sender:e,text:(0,b.fd)(a),date:p},{withNodes:!0}):oe("GiftInfoPeerOriginalInfoSender",{peer:f,date:p,sender:e},{withNodes:!0})}else y=a?oe("GiftInfoPeerOriginalInfoText",{peer:f,text:(0,b.fd)(a),date:p},{withNodes:!0}):oe("GiftInfoPeerOriginalInfo",{peer:f,date:p},{withNodes:!0});T.push([void 0,n.Ay.createElement("span",null,y)])}}const U=J&&Ce&&Ne.giftAddress&&`${J}${Ne.giftAddress}`,x=n.Ay.createElement("div",{className:L.A.footer},(Pe||U||xe)&&n.Ay.createElement("div",{className:L.A.footerDescription},U&&n.Ay.createElement("div",null,oe("GiftInfoTonText",{link:n.Ay.createElement(M.A,{url:U,shouldSkipModal:!0,text:oe("GiftInfoTonLinkText")})},{withNodes:!0})),Pe&&n.Ay.createElement("div",null,oe(`GiftInfo${ye?"Channel":""}${s?"Hidden":"Saved"}`,{link:n.Ay.createElement(D.A,{isPrimary:!0,onClick:Oe},oe("GiftInfoSaved"+(s?"Show":"Hide")))},{withNodes:!0})),!xe&&E&&n.Ay.createElement("div",null,oe("GiftInfoSenderHidden")),xe&&Re&&n.Ay.createElement("div",null,oe("GiftInfoBuyGift",{user:Re},{withNodes:!0}))),We());return{modalHeader:Ce?N:void 0,header:Ce?k:B,tableData:T,footer:x}},[he,be,fe,ke,oe,Pe,Ie,Ee,se,J,Ne,qe,We,ye,Je,Ce,ue,q,H,_e,xe,Re,Ae,Te,we,r]);return n.Ay.createElement(n.Ay.Fragment,null,n.Ay.createElement(F.A,{isOpen:Ae,modalHeader:je?.modalHeader,header:je?.header,hasBackdrop:Ce,tableData:je?.tableData,footer:je?.footer,className:L.A.modal,onClose:De,withBalanceBar:Boolean(xe),currencyInBalanceBar:Ue?.currency,isLowStackPriority:!0}),Ge&&W&&Boolean(Ue)&&n.Ay.createElement(x.A,{isOpen:le,noDefaultTitle:!0,onClose:ze,confirmLabel:oe("ButtonBuyGift",{stars:Ue?.currency===o.ykW?(0,p.Ms)(oe,Ue.amount,{shouldConvertFromNanos:!0}):(0,p.U2)(oe,Ue.amount,{asFont:!0})},{withNodes:!0}),confirmHandler:He},n.Ay.createElement(B.A,{peer:_||W,gift:Ge}),!_&&n.Ay.createElement("p",null,oe("GiftBuyConfirmDescription",{gift:oe("GiftUnique",{title:Ge.title,number:Ge.number}),stars:Ue?.currency===o.ykW?(0,p.QH)(oe,Ue.amount,!0):(0,p.Kk)(oe,Ue.amount)},{withNodes:!0,withMarkdown:!0})),_&&n.Ay.createElement("p",null,oe("GiftBuyForPeerConfirmDescription",{gift:oe("GiftUnique",{title:Ge.title,number:Ge.number}),stars:Ue?.currency===o.ykW?(0,p.QH)(oe,Ue.amount,!0):(0,p.Kk)(oe,Ue.amount),peer:(0,l.F9)(oe,_)},{withNodes:!0,withMarkdown:!0})),!Ge.resaleTonOnly&&n.Ay.createElement(n.Ay.Fragment,null,n.Ay.createElement(U.A,{className:L.A.checkBox,label:oe("LabelPayInTON"),checked:de,onCheck:me}),n.Ay.createElement("div",{className:L.A.checkBoxDescription},oe("DescriptionPayInTON")))),be&&n.Ay.createElement(x.A,{isOpen:re,onClose:ie,confirmHandler:Le,title:oe("GiftInfoConvertTitle")},n.Ay.createElement("div",null,oe("GiftInfoPeerConvertDescription",{amount:(0,p.Kk)(oe,be.starsToConvert),peer:(0,l.F9)(oe,pe)},{withNodes:!0,withMarkdown:!0})),Ie&&n.Ay.createElement("div",null,oe("GiftInfoConvertDescriptionPeriod",{count:ve},{withNodes:!0,withMarkdown:!0,pluralValue:ve})),n.Ay.createElement("div",null,oe("GiftInfoConvertDescription2"))))},H=(0,n.ph)((0,i.EK)((e,{modal:t})=>{const a=t?.gift,r=a&&"gift"in a,n=e.currentUserId,i=r&&a.fromId,o=i?(0,d.PVB)(e,i):void 0,c=t?.peerId?(0,d.PVB)(e,t.peerId):void 0,m=c&&(0,l.vj)(c)?c:void 0,A=m&&(0,s.ub)(m,"postMessages"),u=(0,d.mBe)(e,n),p=t?.recipientId&&n!==t.recipientId?(0,d.PVB)(e,t.recipientId):void 0,f=u?.emojiStatus,y=e.collectibleEmojiStatuses?.statuses,h=r?a.gift:a,g="starGiftUnique"===h?.type&&h.releasedByPeerId;return{fromPeer:o,targetPeer:c,releasedByPeer:g?(0,d.PVB)(e,g):void 0,currentUserId:n,starGiftMaxConvertPeriod:e.appConfig?.starGiftMaxConvertPeriod,tonExplorerUrl:e.appConfig?.tonExplorerUrl,hasAdminRights:A,currentUserEmojiStatus:f,collectibleEmojiStatuses:y,currentUser:u,recipientPeer:p}})(z));r()}catch(e){r(e)}})},95440:(e,t,a)=>{a.d(t,{A:()=>r});const r={footer:"EWaVCxY4",footerButton:"_Dt6RSQV"}},95501:(e,t,a)=>{a.a(e,async(e,r)=>{try{a.d(t,{A:()=>N});var n=a(84051),i=a(13439),o=a(31481),s=a(60919),l=a(87357),c=a(58443),d=a(96374),m=a(5912),A=a(39351),u=a(17712),p=a(64489),f=a(46222),y=a(96530),h=a(41036),g=a(33931),b=a(75311),E=e([A,g]);[A,g]=E.then?(await E)():E;const S=200,v=({resellGifts:e,gift:t,filter:a,areGiftsAllLoaded:r,areGiftsLoading:s,updateIteration:E,onGiftClick:v})=>{const{loadResaleGifts:N,updateResaleGiftsFilter:k}=(0,i.ko)(),I=(0,n.li)(),C=(0,A.A)(),G=(0,n.Kr)(()=>e?.map(e=>e.id),[e]),w=Boolean(a?.modelAttributes?.length||a?.patternAttributes?.length||a?.backdropAttributes?.length),B=(0,u.A)(()=>{t&&N({giftId:t.id})}),P=Boolean(!e||0===e.length),[M,T]=(0,d.A)(B,G,!t,o.bcN),{observe:U}=(0,m.BL)({rootRef:I,throttleMs:S}),x=(0,u.A)(()=>{k({filter:{...a,modelAttributes:[],backdropAttributes:[],patternAttributes:[]}})});return n.Ay.createElement("div",{ref:I,className:(0,l.A)(b.A.resaleScreenRoot,"custom-scroll")},n.Ay.createElement(h.Ay,{name:"zoomFade",activeKey:E},P&&r&&n.Ay.createElement("div",{className:b.A.notFoundGiftsRoot},n.Ay.createElement(p.A,{size:160,tgsUrl:c.w.SearchingDuck,nonInteractive:!0,noLoop:!0}),n.Ay.createElement("div",{className:b.A.notFoundGiftsDescription},C("ResellGiftsNoFound")),w&&n.Ay.createElement(y.A,{className:b.A.notFoundGiftsLink,onClick:x},C("ResellGiftsClearFilters"))),n.Ay.createElement(f.A,{className:(0,l.A)(b.A.resaleStarGiftsContainer),items:M,onLoadMore:T,itemSelector:".starGiftItem",noFastList:!0,preloadBackwards:o.bcN,scrollContainerClosest:`.${b.A.resaleScreenRoot}`},e?.map(e=>n.Ay.createElement(g.A,{key:e.id,gift:e,observeIntersection:U,isResale:!0,onClick:v})))))},N=(0,n.ph)((0,i.EK)(e=>{const{starGifts:t}=e,{resaleGifts:a}=(0,s.nTw)(e),r=a?.giftId?t?.byId[a.giftId]:void 0,n=a.filter,i=a.isAllLoaded,o=a.isLoading,l=a.updateIteration;return{resellGifts:a.gifts,gift:r,filter:n,areGiftsAllLoaded:i,areGiftsLoading:o,updateIteration:l}})(v));r()}catch(e){r(e)}})},97779:(e,t,a)=>{a.d(t,{A:()=>r});const r={checkBoxDescription:"pWjQiY4m",inputPriceDescription:"SGFmA4kL",checkBox:"yt_nODdj",descriptionPrice:"r9R0VR_w",inputPrice:"ElDo1Bru"}},98212:(e,t,a)=>{a.a(e,async(e,r)=>{try{a.d(t,{A:()=>v});var n=a(84051),i=a(13439),o=a(60919),s=a(87357),l=a(95807),c=a(14),d=a(39351),m=a(17712),A=a(9373),u=a(21849),p=a(35384),f=a(54746),y=a(52647),h=a(64493),g=a(65461),b=a(59650),E=e([d,A,u,p,y,h,g]);[d,A,u,p,y,h,g]=E.then?(await E)():E;const S=({modal:e,currentUser:t,isCurrentUserPremium:a})=>{const{closeGiftStatusInfoModal:r,setEmojiStatus:o}=(0,i.ko)(),E=(0,d.A)(),S=Boolean(e),v=(0,c.A)(e),{emojiStatus:N}=v||{},k=N?.textColor,I=(0,A.A)(N?.patternDocumentId),C=(0,m.A)(()=>{r()}),G=(0,m.A)(()=>{N&&o({emojiStatus:N}),r()}),w=(0,n.Kr)(()=>{if(!N||!S)return;const e=[N.centerColor,N.edgeColor],t=N.patternColor;return n.Ay.createElement(y.A,{className:b.A.radialPattern,backgroundColors:e,patternColor:t,patternIcon:I.customEmoji})},[N,S,I]),B=(0,n.Kr)(()=>({...t,emojiStatus:N}),[t,N]),P=(0,n.Kr)(()=>n.Ay.createElement("div",{className:b.A.header},n.Ay.createElement("div",{className:(0,s.A)(b.A.profileBlock),style:(0,l.A)(k&&`color: ${k}`)},w,n.Ay.createElement(u.A,{peer:B,size:"jumbo",className:b.A.avatar}),n.Ay.createElement(p.A,{peer:B,className:b.A.userTitle,withEmojiStatus:!0,noFake:!0,noVerified:!0,statusSparklesColor:k}),n.Ay.createElement("p",{className:b.A.status,style:(0,l.A)(k&&`color: ${k}`)},E("Online"))),n.Ay.createElement("div",{className:b.A.titleContainer},n.Ay.createElement("div",{className:b.A.giftTitle},E("UniqueStatusWearTitle",{gift:B?.emojiStatus?.title})),n.Ay.createElement("div",{className:b.A.infoDescription},E("UniqueStatusBenefitsDescription")))),[k,w,B,E]),M=[["radial-badge",E("UniqueStatusBadgeBenefitTitle"),E("UniqueStatusBadgeDescription")],["unique-profile",E("UniqueStatusProfileDesignBenefitTitle"),E("UniqueStatusProfileDesignDescription")],["proof-of-ownership",E("UniqueStatusProofOfOwnershipBenefitTitle"),E("UniqueStatusProofOfOwnershipDescription")]],T=(0,n.Kr)(()=>{if(S)return n.Ay.createElement("div",{className:b.A.footer},n.Ay.createElement(h.A,{size:"smaller",onClick:G},E("UniqueStatusWearButton"),!a&&n.Ay.createElement(f.A,{name:"lock-badge",className:b.A.lockIcon})))},[E,a,S]);return n.Ay.createElement(g.A,{isOpen:S,header:P,listItemData:M,footer:T,hasBackdrop:!0,onClose:C})},v=(0,n.ph)((0,i.EK)(e=>({currentUser:(0,o.mBe)(e,e.currentUserId),isCurrentUserPremium:(0,o.g29)(e)}))(S));r()}catch(e){r(e)}})},98658:(e,t,a)=>{a.a(e,async(e,r)=>{try{a.d(t,{A:()=>p});var n=a(84051),i=a(13439),o=a(87357),s=a(36838),l=a(39351),c=a(9267),d=a(43084),m=e([l]),A=m.then?(await m)():m;l=A[0];const u=({idsByCategory:e,onCategoryChanged:t,areLimitedStarGiftsDisallowed:a})=>{const r=(0,n.li)(),i=(0,l.A)(),m=(0,n.Kr)(()=>e&&Object.keys(e).filter(e=>"all"!==e&&"limited"!==e).map(Number).sort((e,t)=>e-t),[e]),A=e&&e.resale.length>0,[u,p]=(0,n.J0)("all");function f(e){return n.Ay.createElement("div",{className:(0,o.A)(d.A.item,u===e&&d.A.selectedItem),onClick:()=>function(e){p(e),t(e)}(e)},Number.isInteger(e)&&n.Ay.createElement(c.A,{className:d.A.star,type:"gold",size:"middle"}),function(e){return"all"===e?i("AllGiftsCategory"):"stock"===e?i("StockGiftsCategory"):"limited"===e?i("LimitedGiftsCategory"):"resale"===e?i("GiftCategoryResale"):e}(e))}return(0,s.A)(r,void 0,!0),n.Ay.createElement("div",{ref:r,className:(0,o.A)(d.A.list,"no-scrollbar")},f("all"),!a&&f("limited"),!a&&A&&f("resale"),f("stock"),m?.map(f))},p=(0,n.ph)((0,i.EK)(e=>{const{starGifts:t}=e;return{idsByCategory:t?.idsByCategory}})(u));r()}catch(e){r(e)}})},99904:(e,t,a)=>{a.d(t,{A:()=>r});const r={modalDialog:"MFXAwnxJ",content:"Sl6xVf1R",main:"bTN9Jeph",headerInfo:"c6MiyJgW",logo:"StGLWvzb",logoBackground:"SyTXSfml",description:"kFe3mIZo",section:"BgfHkWd2",header:"zMtAGfXs",starHeaderText:"q3v8orGj",hiddenHeader:"bq3FnXT0",closeButton:"bDsDTkbe",avatar:"jK36xUj4",center:"v1PckUQn",secondaryInfo:"TDWSRfP9"}}}]);
//# sourceMappingURL=6930.3b6567ae285f26c50cb2.js.map