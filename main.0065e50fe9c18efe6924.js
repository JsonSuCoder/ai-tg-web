/*! For license information please see main.0065e50fe9c18efe6924.js.LICENSE.txt */
(()=>{var __webpack_modules__={14:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(73767);function o(e,t=!1,n=!1){const o=(0,r.A)(e,t);return n||null!=e?e:o}},57:(e,t,n)=>{"use strict";n.d(t,{A:()=>S});var r=n(96540),o=n(46942),i=n.n(o),s=n(42467),a=n(8719),c=n(62279),l=n(40682);const u=(0,n(37358).Or)("Wave",e=>{const{componentCls:t,colorPrimary:n}=e;return{[t]:{position:"absolute",background:"transparent",pointerEvents:"none",boxSizing:"border-box",color:`var(--wave-color, ${n})`,boxShadow:"0 0 0 0 currentcolor",opacity:.2,"&.wave-motion-appear":{transition:[`box-shadow 0.4s ${e.motionEaseOutCirc}`,`opacity 2s ${e.motionEaseOutCirc}`].join(","),"&-active":{boxShadow:"0 0 0 6px currentcolor",opacity:0},"&.wave-quick":{transition:[`box-shadow ${e.motionDurationSlow} ${e.motionEaseInOut}`,`opacity ${e.motionDurationSlow} ${e.motionEaseInOut}`].join(",")}}}}});var d=n(26956),f=n(25371),h=n(11320),p=n(4424),g=n(90754),m=n(74642);function y(e){return e&&"#fff"!==e&&"#ffffff"!==e&&"rgb(255, 255, 255)"!==e&&"rgba(255, 255, 255, 1)"!==e&&!/rgba\((?:\d*, ){3}0\)/.test(e)&&"transparent"!==e&&"canvastext"!==e}function b(e){return Number.isNaN(e)?0:e}const v=e=>{const{className:t,target:n,component:o,registerUnmount:s}=e,c=r.useRef(null),l=r.useRef(null);r.useEffect(()=>{l.current=s()},[]);const[u,d]=r.useState(null),[h,m]=r.useState([]),[v,_]=r.useState(0),[w,S]=r.useState(0),[x,I]=r.useState(0),[A,C]=r.useState(0),[k,E]=r.useState(!1),T={left:v,top:w,width:x,height:A,borderRadius:h.map(e=>`${e}px`).join(" ")};function P(){const e=getComputedStyle(n);d(function(e){var t;const{borderTopColor:n,borderColor:r,backgroundColor:o}=getComputedStyle(e);return null!==(t=[n,r,o].find(y))&&void 0!==t?t:null}(n));const t="static"===e.position,{borderLeftWidth:r,borderTopWidth:o}=e;_(t?n.offsetLeft:b(-parseFloat(r))),S(t?n.offsetTop:b(-parseFloat(o))),I(n.offsetWidth),C(n.offsetHeight);const{borderTopLeftRadius:i,borderTopRightRadius:s,borderBottomLeftRadius:a,borderBottomRightRadius:c}=e;m([i,s,c,a].map(e=>b(parseFloat(e))))}if(u&&(T["--wave-color"]=u),r.useEffect(()=>{if(n){const e=(0,f.A)(()=>{P(),E(!0)});let t;return"undefined"!=typeof ResizeObserver&&(t=new ResizeObserver(P),t.observe(n)),()=>{f.A.cancel(e),null==t||t.disconnect()}}},[]),!k)return null;const M=("Checkbox"===o||"Radio"===o)&&(null==n?void 0:n.classList.contains(p.D));return r.createElement(g.Ay,{visible:!0,motionAppear:!0,motionName:"wave-motion",motionDeadline:5e3,onAppearEnd:(e,t)=>{var n,r;if(t.deadline||"opacity"===t.propertyName){const e=null===(n=c.current)||void 0===n?void 0:n.parentElement;null===(r=l.current)||void 0===r||r.call(l).then(()=>{null==e||e.remove()})}return!1}},({className:e},n)=>r.createElement("div",{ref:(0,a.K4)(c,n),className:i()(t,e,{"wave-quick":M}),style:T}))},_=(e,t)=>{var n;const{component:o}=t;if("Checkbox"===o&&!(null===(n=e.querySelector("input"))||void 0===n?void 0:n.checked))return;const i=document.createElement("div");i.style.position="absolute",i.style.left="0px",i.style.top="0px",null==e||e.insertBefore(i,null==e?void 0:e.firstChild);const s=(0,m.L)();let a=null;a=s(r.createElement(v,Object.assign({},t,{target:e,registerUnmount:function(){return a}})),i)},w=(e,t,n)=>{const{wave:o}=r.useContext(c.QO),[,i,s]=(0,h.Ay)(),a=(0,d.A)(r=>{const a=e.current;if((null==o?void 0:o.disabled)||!a)return;const c=a.querySelector(`.${p.D}`)||a,{showEffect:l}=o||{};(l||_)(c,{className:t,token:i,component:n,event:r,hashId:s})}),l=r.useRef(null);return e=>{f.A.cancel(l.current),l.current=(0,f.A)(()=>{a(e)})}},S=e=>{const{children:t,disabled:n,component:o}=e,{getPrefixCls:d}=(0,r.useContext)(c.QO),f=(0,r.useRef)(null),h=d("wave"),[,p]=u(h),g=w(f,i()(h,p),o);if(r.useEffect(()=>{const e=f.current;if(!e||1!==e.nodeType||n)return;const t=t=>{!(0,s.A)(t.target)||!e.getAttribute||e.getAttribute("disabled")||e.disabled||e.className.includes("disabled")||e.className.includes("-leave")||g(t)};return e.addEventListener("click",t,!0),()=>{e.removeEventListener("click",t,!0)}},[n]),!r.isValidElement(t))return null!=t?t:null;const m=(0,a.f3)(t)?(0,a.K4)((0,a.A9)(t),f):f;return(0,l.Ob)(t,{ref:m})}},251:(e,t)=>{t.read=function(e,t,n,r,o){var i,s,a=8*o-r-1,c=(1<<a)-1,l=c>>1,u=-7,d=n?o-1:0,f=n?-1:1,h=e[t+d];for(d+=f,i=h&(1<<-u)-1,h>>=-u,u+=a;u>0;i=256*i+e[t+d],d+=f,u-=8);for(s=i&(1<<-u)-1,i>>=-u,u+=r;u>0;s=256*s+e[t+d],d+=f,u-=8);if(0===i)i=1-l;else{if(i===c)return s?NaN:1/0*(h?-1:1);s+=Math.pow(2,r),i-=l}return(h?-1:1)*s*Math.pow(2,i-r)},t.write=function(e,t,n,r,o,i){var s,a,c,l=8*i-o-1,u=(1<<l)-1,d=u>>1,f=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,h=r?0:i-1,p=r?1:-1,g=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,s=u):(s=Math.floor(Math.log(t)/Math.LN2),t*(c=Math.pow(2,-s))<1&&(s--,c*=2),(t+=s+d>=1?f/c:f*Math.pow(2,1-d))*c>=2&&(s++,c/=2),s+d>=u?(a=0,s=u):s+d>=1?(a=(t*c-1)*Math.pow(2,o),s+=d):(a=t*Math.pow(2,d-1)*Math.pow(2,o),s=0));o>=8;e[n+h]=255&a,h+=p,a/=256,o-=8);for(s=s<<o|a,l+=o;l>0;e[n+h]=255&s,h+=p,s/=256,l-=8);e[n+h-p]|=128*g}},529:(e,t,n)=>{"use strict";let r;n.d(t,{A:()=>o,l:()=>i});try{r=/[^\p{L}\p{M}]+/iu}catch(e){r=/[^\wа-яёґєії]+/i}function o(e,t){if(!e||!t)return!1;const n="string"==typeof t?t.toLowerCase().split(r):t,o=e.toLowerCase();if(1===n.length&&!o.includes(n[0]))return!1;let i;return n.every(e=>!!o.includes(e)&&(i||(i=o.split(r)),i.some(t=>t.startsWith(e))))}function i(e){const t=e.toLowerCase().split(r);return e=>o(e,t)}},672:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(84051),o=n(37836);function i(e,t,n,i=!1){const s=(0,r.hb)(e,t);return(0,r.Kr)(()=>"number"==typeof n?(0,o.nF)(s,n,!i):(0,o.nb)(n,s),[s,n,i])}},829:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(96540),o=n(48224);const i=e=>{const t=r.useContext(o.A);return r.useMemo(()=>e?"string"==typeof e?null!=e?e:t:"function"==typeof e?e(t):t:t,[e,t])}},1233:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(5544),o=n(96540);function i(e){var t=o.useRef(!1),n=o.useState(e),i=(0,r.A)(n,2),s=i[0],a=i[1];return o.useEffect(function(){return t.current=!1,function(){t.current=!0}},[]),[s,function(e,n){n&&t.current||a(e)}]}},1903:(e,t,n)=>{"use strict";n.d(t,{Ms:()=>l,R3:()=>h,V9:()=>s,_$:()=>d,_b:()=>c,dN:()=>f,gV:()=>u,gd:()=>a});var r=n(14487),o=n(46211),i=n(5056);function s(e,...[t=(0,r.g0)()]){const{storyViewer:{peerId:n,storyId:o}}=(0,i.n)(e,t);return{peerId:n,storyId:o}}function a(e,...[t=(0,r.g0)()]){const{peerId:n,storyId:o}=s(e,t);return Boolean(n)&&Boolean(o)}function c(e,t){return e.stories.byPeerId[t]}function l(e,t,n){return c(e,t)?.byId[n]}function u(e,t){const n=c(e,t);if(n?.pinnedIds?.length)return n.pinnedIds.map(e=>n.byId[e]).filter(e=>e&&"isInProfile"in e&&e.isInProfile)}function d(e,t){const n=c(e,t);if(!n)return;if(!n.lastReadId)return n.orderedIds?.[0];const r=n.orderedIds.findIndex(e=>e===n.lastReadId);return n.orderedIds?.[r+1]}function f(e,t){return c(e,t)?.orderedIds?.[0]}function h(e,t,n,r,i,s,a){const c=n||d(e,t)||f(e,t);if(!c)return;if(r)return{peerIds:[t],storyIdsByPeerId:{[t]:[c]}};const u=(0,o.PV)(e,t),h=l(e,t,c);if(!u||!h)return;const g=(e.stories.byPeerId[t].lastReadId||0)<h.id;if(i){const n=p(e,t,g,a,s);return n?.length?{peerIds:[t],storyIdsByPeerId:{[t]:n}}:void 0}const{orderedPeerIds:{active:m,archived:y}}=e.stories,b=(u.areStoriesHidden?y:m)??[],v=[],_={};for(const t of b){const n=p(e,t,g,a,s);n?.length&&(v.push(t),_[t]=n)}return v.length?{peerIds:v,storyIdsByPeerId:_}:void 0}function p(e,t,n,r,o){const i=c(e,t),s=r?"archiveIds":o?"profileIds":"orderedIds",a=i?.[s];if(!i||!a?.length)return;if(!i.lastReadId||!n)return a.slice();const l=a.indexOf(i.lastReadId);return a.length>l+1?a.slice(l+1):void 0}},2188:(e,t,n)=>{"use strict";n.d(t,{H:()=>l});var r=n(31481),o=n(14487),i=n(37836);let s,a=!0;window.addEventListener("error",u),window.addEventListener("unhandledrejection",u),r.Oig&&(window.addEventListener("focus",()=>{(0,o.ve)()&&(a=!0,s&&(window.alert(d(s)),s=void 0))}),window.addEventListener("blur",()=>{(0,o.ve)()&&(a=!1)}));const c=(0,i.nF)(e=>{a?window.alert(d(e)):s=e},1500);function l(e){console.error(e),r.Oig&&c(e)}function u(e){if(e instanceof ErrorEvent){if("ResizeObserver loop limit exceeded"===e.message)return;if(e.message.includes("A wait of"))return}e.preventDefault(),l(e instanceof ErrorEvent?e.error||e.message:e.reason)}function d(e){return`${r.FHx}\n\n${e?.message||e}\n${e?.stack}`}},2338:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var r=n(84051),o=n(13439),i=n(60919),s=n(56494);function a(e){const t=e&&"content"in e,n=(0,o.mS)(),a=t?(0,s.if)(n,e):e?.dataUri,c=(0,i.SJA)(n);return(0,r.Kr)(()=>{const e=a;return e&&"dark"===c?e.replace("<svg",'<svg fill="white"'):e},[a,c])}},2543:function(e,t,n){var r;e=n.nmd(e),function(){var o,i="Expected a function",s="__lodash_hash_undefined__",a="__lodash_placeholder__",c=32,l=128,u=1/0,d=9007199254740991,f=NaN,h=4294967295,p=[["ary",l],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",c],["partialRight",64],["rearg",256]],g="[object Arguments]",m="[object Array]",y="[object Boolean]",b="[object Date]",v="[object Error]",_="[object Function]",w="[object GeneratorFunction]",S="[object Map]",x="[object Number]",I="[object Object]",A="[object Promise]",C="[object RegExp]",k="[object Set]",E="[object String]",T="[object Symbol]",P="[object WeakMap]",M="[object ArrayBuffer]",O="[object DataView]",D="[object Float32Array]",R="[object Float64Array]",N="[object Int8Array]",F="[object Int16Array]",L="[object Int32Array]",B="[object Uint8Array]",$="[object Uint8ClampedArray]",j="[object Uint16Array]",U="[object Uint32Array]",z=/\b__p \+= '';/g,V=/\b(__p \+=) '' \+/g,q=/(__e\(.*?\)|\b__t\)) \+\n'';/g,H=/&(?:amp|lt|gt|quot|#39);/g,G=/[&<>"']/g,W=RegExp(H.source),K=RegExp(G.source),Y=/<%-([\s\S]+?)%>/g,J=/<%([\s\S]+?)%>/g,X=/<%=([\s\S]+?)%>/g,Z=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Q=/^\w*$/,ee=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,te=/[\\^$.*+?()[\]{}|]/g,ne=RegExp(te.source),re=/^\s+/,oe=/\s/,ie=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,se=/\{\n\/\* \[wrapped with (.+)\] \*/,ae=/,? & /,ce=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,le=/[()=,{}\[\]\/\s]/,ue=/\\(\\)?/g,de=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,fe=/\w*$/,he=/^[-+]0x[0-9a-f]+$/i,pe=/^0b[01]+$/i,ge=/^\[object .+?Constructor\]$/,me=/^0o[0-7]+$/i,ye=/^(?:0|[1-9]\d*)$/,be=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,ve=/($^)/,_e=/['\n\r\u2028\u2029\\]/g,we="\\ud800-\\udfff",Se="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",xe="\\u2700-\\u27bf",Ie="a-z\\xdf-\\xf6\\xf8-\\xff",Ae="A-Z\\xc0-\\xd6\\xd8-\\xde",Ce="\\ufe0e\\ufe0f",ke="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Ee="["+we+"]",Te="["+ke+"]",Pe="["+Se+"]",Me="\\d+",Oe="["+xe+"]",De="["+Ie+"]",Re="[^"+we+ke+Me+xe+Ie+Ae+"]",Ne="\\ud83c[\\udffb-\\udfff]",Fe="[^"+we+"]",Le="(?:\\ud83c[\\udde6-\\uddff]){2}",Be="[\\ud800-\\udbff][\\udc00-\\udfff]",$e="["+Ae+"]",je="\\u200d",Ue="(?:"+De+"|"+Re+")",ze="(?:"+$e+"|"+Re+")",Ve="(?:['’](?:d|ll|m|re|s|t|ve))?",qe="(?:['’](?:D|LL|M|RE|S|T|VE))?",He="(?:"+Pe+"|"+Ne+")?",Ge="["+Ce+"]?",We=Ge+He+"(?:"+je+"(?:"+[Fe,Le,Be].join("|")+")"+Ge+He+")*",Ke="(?:"+[Oe,Le,Be].join("|")+")"+We,Ye="(?:"+[Fe+Pe+"?",Pe,Le,Be,Ee].join("|")+")",Je=RegExp("['’]","g"),Xe=RegExp(Pe,"g"),Ze=RegExp(Ne+"(?="+Ne+")|"+Ye+We,"g"),Qe=RegExp([$e+"?"+De+"+"+Ve+"(?="+[Te,$e,"$"].join("|")+")",ze+"+"+qe+"(?="+[Te,$e+Ue,"$"].join("|")+")",$e+"?"+Ue+"+"+Ve,$e+"+"+qe,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Me,Ke].join("|"),"g"),et=RegExp("["+je+we+Se+Ce+"]"),tt=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,nt=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],rt=-1,ot={};ot[D]=ot[R]=ot[N]=ot[F]=ot[L]=ot[B]=ot[$]=ot[j]=ot[U]=!0,ot[g]=ot[m]=ot[M]=ot[y]=ot[O]=ot[b]=ot[v]=ot[_]=ot[S]=ot[x]=ot[I]=ot[C]=ot[k]=ot[E]=ot[P]=!1;var it={};it[g]=it[m]=it[M]=it[O]=it[y]=it[b]=it[D]=it[R]=it[N]=it[F]=it[L]=it[S]=it[x]=it[I]=it[C]=it[k]=it[E]=it[T]=it[B]=it[$]=it[j]=it[U]=!0,it[v]=it[_]=it[P]=!1;var st={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},at=parseFloat,ct=parseInt,lt="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,ut="object"==typeof self&&self&&self.Object===Object&&self,dt=lt||ut||Function("return this")(),ft=t&&!t.nodeType&&t,ht=ft&&e&&!e.nodeType&&e,pt=ht&&ht.exports===ft,gt=pt&&lt.process,mt=function(){try{return ht&&ht.require&&ht.require("util").types||gt&&gt.binding&&gt.binding("util")}catch(e){}}(),yt=mt&&mt.isArrayBuffer,bt=mt&&mt.isDate,vt=mt&&mt.isMap,_t=mt&&mt.isRegExp,wt=mt&&mt.isSet,St=mt&&mt.isTypedArray;function xt(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function It(e,t,n,r){for(var o=-1,i=null==e?0:e.length;++o<i;){var s=e[o];t(r,s,n(s),e)}return r}function At(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}function Ct(e,t){for(var n=null==e?0:e.length;n--&&!1!==t(e[n],n,e););return e}function kt(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}function Et(e,t){for(var n=-1,r=null==e?0:e.length,o=0,i=[];++n<r;){var s=e[n];t(s,n,e)&&(i[o++]=s)}return i}function Tt(e,t){return!(null==e||!e.length)&&$t(e,t,0)>-1}function Pt(e,t,n){for(var r=-1,o=null==e?0:e.length;++r<o;)if(n(t,e[r]))return!0;return!1}function Mt(e,t){for(var n=-1,r=null==e?0:e.length,o=Array(r);++n<r;)o[n]=t(e[n],n,e);return o}function Ot(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e}function Dt(e,t,n,r){var o=-1,i=null==e?0:e.length;for(r&&i&&(n=e[++o]);++o<i;)n=t(n,e[o],o,e);return n}function Rt(e,t,n,r){var o=null==e?0:e.length;for(r&&o&&(n=e[--o]);o--;)n=t(n,e[o],o,e);return n}function Nt(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var Ft=Vt("length");function Lt(e,t,n){var r;return n(e,function(e,n,o){if(t(e,n,o))return r=n,!1}),r}function Bt(e,t,n,r){for(var o=e.length,i=n+(r?1:-1);r?i--:++i<o;)if(t(e[i],i,e))return i;return-1}function $t(e,t,n){return t==t?function(e,t,n){for(var r=n-1,o=e.length;++r<o;)if(e[r]===t)return r;return-1}(e,t,n):Bt(e,Ut,n)}function jt(e,t,n,r){for(var o=n-1,i=e.length;++o<i;)if(r(e[o],t))return o;return-1}function Ut(e){return e!=e}function zt(e,t){var n=null==e?0:e.length;return n?Gt(e,t)/n:f}function Vt(e){return function(t){return null==t?o:t[e]}}function qt(e){return function(t){return null==e?o:e[t]}}function Ht(e,t,n,r,o){return o(e,function(e,o,i){n=r?(r=!1,e):t(n,e,o,i)}),n}function Gt(e,t){for(var n,r=-1,i=e.length;++r<i;){var s=t(e[r]);s!==o&&(n=n===o?s:n+s)}return n}function Wt(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function Kt(e){return e?e.slice(0,fn(e)+1).replace(re,""):e}function Yt(e){return function(t){return e(t)}}function Jt(e,t){return Mt(t,function(t){return e[t]})}function Xt(e,t){return e.has(t)}function Zt(e,t){for(var n=-1,r=e.length;++n<r&&$t(t,e[n],0)>-1;);return n}function Qt(e,t){for(var n=e.length;n--&&$t(t,e[n],0)>-1;);return n}var en=qt({À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"}),tn=qt({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function nn(e){return"\\"+st[e]}function rn(e){return et.test(e)}function on(e){var t=-1,n=Array(e.size);return e.forEach(function(e,r){n[++t]=[r,e]}),n}function sn(e,t){return function(n){return e(t(n))}}function an(e,t){for(var n=-1,r=e.length,o=0,i=[];++n<r;){var s=e[n];s!==t&&s!==a||(e[n]=a,i[o++]=n)}return i}function cn(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}function ln(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=[e,e]}),n}function un(e){return rn(e)?function(e){for(var t=Ze.lastIndex=0;Ze.test(e);)++t;return t}(e):Ft(e)}function dn(e){return rn(e)?function(e){return e.match(Ze)||[]}(e):function(e){return e.split("")}(e)}function fn(e){for(var t=e.length;t--&&oe.test(e.charAt(t)););return t}var hn=qt({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),pn=function e(t){var n,r=(t=null==t?dt:pn.defaults(dt.Object(),t,pn.pick(dt,nt))).Array,oe=t.Date,we=t.Error,Se=t.Function,xe=t.Math,Ie=t.Object,Ae=t.RegExp,Ce=t.String,ke=t.TypeError,Ee=r.prototype,Te=Se.prototype,Pe=Ie.prototype,Me=t["__core-js_shared__"],Oe=Te.toString,De=Pe.hasOwnProperty,Re=0,Ne=(n=/[^.]+$/.exec(Me&&Me.keys&&Me.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"",Fe=Pe.toString,Le=Oe.call(Ie),Be=dt._,$e=Ae("^"+Oe.call(De).replace(te,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),je=pt?t.Buffer:o,Ue=t.Symbol,ze=t.Uint8Array,Ve=je?je.allocUnsafe:o,qe=sn(Ie.getPrototypeOf,Ie),He=Ie.create,Ge=Pe.propertyIsEnumerable,We=Ee.splice,Ke=Ue?Ue.isConcatSpreadable:o,Ye=Ue?Ue.iterator:o,Ze=Ue?Ue.toStringTag:o,et=function(){try{var e=li(Ie,"defineProperty");return e({},"",{}),e}catch(e){}}(),st=t.clearTimeout!==dt.clearTimeout&&t.clearTimeout,lt=oe&&oe.now!==dt.Date.now&&oe.now,ut=t.setTimeout!==dt.setTimeout&&t.setTimeout,ft=xe.ceil,ht=xe.floor,gt=Ie.getOwnPropertySymbols,mt=je?je.isBuffer:o,Ft=t.isFinite,qt=Ee.join,gn=sn(Ie.keys,Ie),mn=xe.max,yn=xe.min,bn=oe.now,vn=t.parseInt,_n=xe.random,wn=Ee.reverse,Sn=li(t,"DataView"),xn=li(t,"Map"),In=li(t,"Promise"),An=li(t,"Set"),Cn=li(t,"WeakMap"),kn=li(Ie,"create"),En=Cn&&new Cn,Tn={},Pn=Li(Sn),Mn=Li(xn),On=Li(In),Dn=Li(An),Rn=Li(Cn),Nn=Ue?Ue.prototype:o,Fn=Nn?Nn.valueOf:o,Ln=Nn?Nn.toString:o;function Bn(e){if(ea(e)&&!Vs(e)&&!(e instanceof zn)){if(e instanceof Un)return e;if(De.call(e,"__wrapped__"))return Bi(e)}return new Un(e)}var $n=function(){function e(){}return function(t){if(!Qs(t))return{};if(He)return He(t);e.prototype=t;var n=new e;return e.prototype=o,n}}();function jn(){}function Un(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=o}function zn(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=h,this.__views__=[]}function Vn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function qn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Hn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Gn(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new Hn;++t<n;)this.add(e[t])}function Wn(e){var t=this.__data__=new qn(e);this.size=t.size}function Kn(e,t){var n=Vs(e),r=!n&&zs(e),o=!n&&!r&&Ws(e),i=!n&&!r&&!o&&ca(e),s=n||r||o||i,a=s?Wt(e.length,Ce):[],c=a.length;for(var l in e)!t&&!De.call(e,l)||s&&("length"==l||o&&("offset"==l||"parent"==l)||i&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||mi(l,c))||a.push(l);return a}function Yn(e){var t=e.length;return t?e[Hr(0,t-1)]:o}function Jn(e,t){return Oi(ko(e),ir(t,0,e.length))}function Xn(e){return Oi(ko(e))}function Zn(e,t,n){(n!==o&&!$s(e[t],n)||n===o&&!(t in e))&&rr(e,t,n)}function Qn(e,t,n){var r=e[t];De.call(e,t)&&$s(r,n)&&(n!==o||t in e)||rr(e,t,n)}function er(e,t){for(var n=e.length;n--;)if($s(e[n][0],t))return n;return-1}function tr(e,t,n,r){return ur(e,function(e,o,i){t(r,e,n(e),i)}),r}function nr(e,t){return e&&Eo(t,Pa(t),e)}function rr(e,t,n){"__proto__"==t&&et?et(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function or(e,t){for(var n=-1,i=t.length,s=r(i),a=null==e;++n<i;)s[n]=a?o:Aa(e,t[n]);return s}function ir(e,t,n){return e==e&&(n!==o&&(e=e<=n?e:n),t!==o&&(e=e>=t?e:t)),e}function sr(e,t,n,r,i,s){var a,c=1&t,l=2&t,u=4&t;if(n&&(a=i?n(e,r,i,s):n(e)),a!==o)return a;if(!Qs(e))return e;var d=Vs(e);if(d){if(a=function(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&De.call(e,"index")&&(n.index=e.index,n.input=e.input),n}(e),!c)return ko(e,a)}else{var f=fi(e),h=f==_||f==w;if(Ws(e))return wo(e,c);if(f==I||f==g||h&&!i){if(a=l||h?{}:pi(e),!c)return l?function(e,t){return Eo(e,di(e),t)}(e,function(e,t){return e&&Eo(t,Ma(t),e)}(a,e)):function(e,t){return Eo(e,ui(e),t)}(e,nr(a,e))}else{if(!it[f])return i?e:{};a=function(e,t,n){var r,o=e.constructor;switch(t){case M:return So(e);case y:case b:return new o(+e);case O:return function(e,t){var n=t?So(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,n);case D:case R:case N:case F:case L:case B:case $:case j:case U:return xo(e,n);case S:return new o;case x:case E:return new o(e);case C:return function(e){var t=new e.constructor(e.source,fe.exec(e));return t.lastIndex=e.lastIndex,t}(e);case k:return new o;case T:return r=e,Fn?Ie(Fn.call(r)):{}}}(e,f,c)}}s||(s=new Wn);var p=s.get(e);if(p)return p;s.set(e,a),ia(e)?e.forEach(function(r){a.add(sr(r,t,n,r,e,s))}):ta(e)&&e.forEach(function(r,o){a.set(o,sr(r,t,n,o,e,s))});var m=d?o:(u?l?ni:ti:l?Ma:Pa)(e);return At(m||e,function(r,o){m&&(r=e[o=r]),Qn(a,o,sr(r,t,n,o,e,s))}),a}function ar(e,t,n){var r=n.length;if(null==e)return!r;for(e=Ie(e);r--;){var i=n[r],s=t[i],a=e[i];if(a===o&&!(i in e)||!s(a))return!1}return!0}function cr(e,t,n){if("function"!=typeof e)throw new ke(i);return Ei(function(){e.apply(o,n)},t)}function lr(e,t,n,r){var o=-1,i=Tt,s=!0,a=e.length,c=[],l=t.length;if(!a)return c;n&&(t=Mt(t,Yt(n))),r?(i=Pt,s=!1):t.length>=200&&(i=Xt,s=!1,t=new Gn(t));e:for(;++o<a;){var u=e[o],d=null==n?u:n(u);if(u=r||0!==u?u:0,s&&d==d){for(var f=l;f--;)if(t[f]===d)continue e;c.push(u)}else i(t,d,r)||c.push(u)}return c}Bn.templateSettings={escape:Y,evaluate:J,interpolate:X,variable:"",imports:{_:Bn}},Bn.prototype=jn.prototype,Bn.prototype.constructor=Bn,Un.prototype=$n(jn.prototype),Un.prototype.constructor=Un,zn.prototype=$n(jn.prototype),zn.prototype.constructor=zn,Vn.prototype.clear=function(){this.__data__=kn?kn(null):{},this.size=0},Vn.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Vn.prototype.get=function(e){var t=this.__data__;if(kn){var n=t[e];return n===s?o:n}return De.call(t,e)?t[e]:o},Vn.prototype.has=function(e){var t=this.__data__;return kn?t[e]!==o:De.call(t,e)},Vn.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=kn&&t===o?s:t,this},qn.prototype.clear=function(){this.__data__=[],this.size=0},qn.prototype.delete=function(e){var t=this.__data__,n=er(t,e);return!(n<0||(n==t.length-1?t.pop():We.call(t,n,1),--this.size,0))},qn.prototype.get=function(e){var t=this.__data__,n=er(t,e);return n<0?o:t[n][1]},qn.prototype.has=function(e){return er(this.__data__,e)>-1},qn.prototype.set=function(e,t){var n=this.__data__,r=er(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},Hn.prototype.clear=function(){this.size=0,this.__data__={hash:new Vn,map:new(xn||qn),string:new Vn}},Hn.prototype.delete=function(e){var t=ai(this,e).delete(e);return this.size-=t?1:0,t},Hn.prototype.get=function(e){return ai(this,e).get(e)},Hn.prototype.has=function(e){return ai(this,e).has(e)},Hn.prototype.set=function(e,t){var n=ai(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},Gn.prototype.add=Gn.prototype.push=function(e){return this.__data__.set(e,s),this},Gn.prototype.has=function(e){return this.__data__.has(e)},Wn.prototype.clear=function(){this.__data__=new qn,this.size=0},Wn.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},Wn.prototype.get=function(e){return this.__data__.get(e)},Wn.prototype.has=function(e){return this.__data__.has(e)},Wn.prototype.set=function(e,t){var n=this.__data__;if(n instanceof qn){var r=n.__data__;if(!xn||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Hn(r)}return n.set(e,t),this.size=n.size,this};var ur=Mo(br),dr=Mo(vr,!0);function fr(e,t){var n=!0;return ur(e,function(e,r,o){return n=!!t(e,r,o)}),n}function hr(e,t,n){for(var r=-1,i=e.length;++r<i;){var s=e[r],a=t(s);if(null!=a&&(c===o?a==a&&!aa(a):n(a,c)))var c=a,l=s}return l}function pr(e,t){var n=[];return ur(e,function(e,r,o){t(e,r,o)&&n.push(e)}),n}function gr(e,t,n,r,o){var i=-1,s=e.length;for(n||(n=gi),o||(o=[]);++i<s;){var a=e[i];t>0&&n(a)?t>1?gr(a,t-1,n,r,o):Ot(o,a):r||(o[o.length]=a)}return o}var mr=Oo(),yr=Oo(!0);function br(e,t){return e&&mr(e,t,Pa)}function vr(e,t){return e&&yr(e,t,Pa)}function _r(e,t){return Et(t,function(t){return Js(e[t])})}function wr(e,t){for(var n=0,r=(t=yo(t,e)).length;null!=e&&n<r;)e=e[Fi(t[n++])];return n&&n==r?e:o}function Sr(e,t,n){var r=t(e);return Vs(e)?r:Ot(r,n(e))}function xr(e){return null==e?e===o?"[object Undefined]":"[object Null]":Ze&&Ze in Ie(e)?function(e){var t=De.call(e,Ze),n=e[Ze];try{e[Ze]=o;var r=!0}catch(e){}var i=Fe.call(e);return r&&(t?e[Ze]=n:delete e[Ze]),i}(e):function(e){return Fe.call(e)}(e)}function Ir(e,t){return e>t}function Ar(e,t){return null!=e&&De.call(e,t)}function Cr(e,t){return null!=e&&t in Ie(e)}function kr(e,t,n){for(var i=n?Pt:Tt,s=e[0].length,a=e.length,c=a,l=r(a),u=1/0,d=[];c--;){var f=e[c];c&&t&&(f=Mt(f,Yt(t))),u=yn(f.length,u),l[c]=!n&&(t||s>=120&&f.length>=120)?new Gn(c&&f):o}f=e[0];var h=-1,p=l[0];e:for(;++h<s&&d.length<u;){var g=f[h],m=t?t(g):g;if(g=n||0!==g?g:0,!(p?Xt(p,m):i(d,m,n))){for(c=a;--c;){var y=l[c];if(!(y?Xt(y,m):i(e[c],m,n)))continue e}p&&p.push(m),d.push(g)}}return d}function Er(e,t,n){var r=null==(e=Ai(e,t=yo(t,e)))?e:e[Fi(Yi(t))];return null==r?o:xt(r,e,n)}function Tr(e){return ea(e)&&xr(e)==g}function Pr(e,t,n,r,i){return e===t||(null==e||null==t||!ea(e)&&!ea(t)?e!=e&&t!=t:function(e,t,n,r,i,s){var a=Vs(e),c=Vs(t),l=a?m:fi(e),u=c?m:fi(t),d=(l=l==g?I:l)==I,f=(u=u==g?I:u)==I,h=l==u;if(h&&Ws(e)){if(!Ws(t))return!1;a=!0,d=!1}if(h&&!d)return s||(s=new Wn),a||ca(e)?Qo(e,t,n,r,i,s):function(e,t,n,r,o,i,s){switch(n){case O:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case M:return!(e.byteLength!=t.byteLength||!i(new ze(e),new ze(t)));case y:case b:case x:return $s(+e,+t);case v:return e.name==t.name&&e.message==t.message;case C:case E:return e==t+"";case S:var a=on;case k:var c=1&r;if(a||(a=cn),e.size!=t.size&&!c)return!1;var l=s.get(e);if(l)return l==t;r|=2,s.set(e,t);var u=Qo(a(e),a(t),r,o,i,s);return s.delete(e),u;case T:if(Fn)return Fn.call(e)==Fn.call(t)}return!1}(e,t,l,n,r,i,s);if(!(1&n)){var p=d&&De.call(e,"__wrapped__"),_=f&&De.call(t,"__wrapped__");if(p||_){var w=p?e.value():e,A=_?t.value():t;return s||(s=new Wn),i(w,A,n,r,s)}}return!!h&&(s||(s=new Wn),function(e,t,n,r,i,s){var a=1&n,c=ti(e),l=c.length;if(l!=ti(t).length&&!a)return!1;for(var u=l;u--;){var d=c[u];if(!(a?d in t:De.call(t,d)))return!1}var f=s.get(e),h=s.get(t);if(f&&h)return f==t&&h==e;var p=!0;s.set(e,t),s.set(t,e);for(var g=a;++u<l;){var m=e[d=c[u]],y=t[d];if(r)var b=a?r(y,m,d,t,e,s):r(m,y,d,e,t,s);if(!(b===o?m===y||i(m,y,n,r,s):b)){p=!1;break}g||(g="constructor"==d)}if(p&&!g){var v=e.constructor,_=t.constructor;v==_||!("constructor"in e)||!("constructor"in t)||"function"==typeof v&&v instanceof v&&"function"==typeof _&&_ instanceof _||(p=!1)}return s.delete(e),s.delete(t),p}(e,t,n,r,i,s))}(e,t,n,r,Pr,i))}function Mr(e,t,n,r){var i=n.length,s=i,a=!r;if(null==e)return!s;for(e=Ie(e);i--;){var c=n[i];if(a&&c[2]?c[1]!==e[c[0]]:!(c[0]in e))return!1}for(;++i<s;){var l=(c=n[i])[0],u=e[l],d=c[1];if(a&&c[2]){if(u===o&&!(l in e))return!1}else{var f=new Wn;if(r)var h=r(u,d,l,e,t,f);if(!(h===o?Pr(d,u,3,r,f):h))return!1}}return!0}function Or(e){return!(!Qs(e)||(t=e,Ne&&Ne in t))&&(Js(e)?$e:ge).test(Li(e));var t}function Dr(e){return"function"==typeof e?e:null==e?nc:"object"==typeof e?Vs(e)?Br(e[0],e[1]):Lr(e):dc(e)}function Rr(e){if(!wi(e))return gn(e);var t=[];for(var n in Ie(e))De.call(e,n)&&"constructor"!=n&&t.push(n);return t}function Nr(e,t){return e<t}function Fr(e,t){var n=-1,o=Hs(e)?r(e.length):[];return ur(e,function(e,r,i){o[++n]=t(e,r,i)}),o}function Lr(e){var t=ci(e);return 1==t.length&&t[0][2]?xi(t[0][0],t[0][1]):function(n){return n===e||Mr(n,e,t)}}function Br(e,t){return bi(e)&&Si(t)?xi(Fi(e),t):function(n){var r=Aa(n,e);return r===o&&r===t?Ca(n,e):Pr(t,r,3)}}function $r(e,t,n,r,i){e!==t&&mr(t,function(s,a){if(i||(i=new Wn),Qs(s))!function(e,t,n,r,i,s,a){var c=Ci(e,n),l=Ci(t,n),u=a.get(l);if(u)Zn(e,n,u);else{var d=s?s(c,l,n+"",e,t,a):o,f=d===o;if(f){var h=Vs(l),p=!h&&Ws(l),g=!h&&!p&&ca(l);d=l,h||p||g?Vs(c)?d=c:Gs(c)?d=ko(c):p?(f=!1,d=wo(l,!0)):g?(f=!1,d=xo(l,!0)):d=[]:ra(l)||zs(l)?(d=c,zs(c)?d=ma(c):Qs(c)&&!Js(c)||(d=pi(l))):f=!1}f&&(a.set(l,d),i(d,l,r,s,a),a.delete(l)),Zn(e,n,d)}}(e,t,a,n,$r,r,i);else{var c=r?r(Ci(e,a),s,a+"",e,t,i):o;c===o&&(c=s),Zn(e,a,c)}},Ma)}function jr(e,t){var n=e.length;if(n)return mi(t+=t<0?n:0,n)?e[t]:o}function Ur(e,t,n){t=t.length?Mt(t,function(e){return Vs(e)?function(t){return wr(t,1===e.length?e[0]:e)}:e}):[nc];var r=-1;t=Mt(t,Yt(si()));var o=Fr(e,function(e,n,o){var i=Mt(t,function(t){return t(e)});return{criteria:i,index:++r,value:e}});return function(e){var t=e.length;for(e.sort(function(e,t){return function(e,t,n){for(var r=-1,o=e.criteria,i=t.criteria,s=o.length,a=n.length;++r<s;){var c=Io(o[r],i[r]);if(c)return r>=a?c:c*("desc"==n[r]?-1:1)}return e.index-t.index}(e,t,n)});t--;)e[t]=e[t].value;return e}(o)}function zr(e,t,n){for(var r=-1,o=t.length,i={};++r<o;){var s=t[r],a=wr(e,s);n(a,s)&&Jr(i,yo(s,e),a)}return i}function Vr(e,t,n,r){var o=r?jt:$t,i=-1,s=t.length,a=e;for(e===t&&(t=ko(t)),n&&(a=Mt(e,Yt(n)));++i<s;)for(var c=0,l=t[i],u=n?n(l):l;(c=o(a,u,c,r))>-1;)a!==e&&We.call(a,c,1),We.call(e,c,1);return e}function qr(e,t){for(var n=e?t.length:0,r=n-1;n--;){var o=t[n];if(n==r||o!==i){var i=o;mi(o)?We.call(e,o,1):co(e,o)}}return e}function Hr(e,t){return e+ht(_n()*(t-e+1))}function Gr(e,t){var n="";if(!e||t<1||t>d)return n;do{t%2&&(n+=e),(t=ht(t/2))&&(e+=e)}while(t);return n}function Wr(e,t){return Ti(Ii(e,t,nc),e+"")}function Kr(e){return Yn($a(e))}function Yr(e,t){var n=$a(e);return Oi(n,ir(t,0,n.length))}function Jr(e,t,n,r){if(!Qs(e))return e;for(var i=-1,s=(t=yo(t,e)).length,a=s-1,c=e;null!=c&&++i<s;){var l=Fi(t[i]),u=n;if("__proto__"===l||"constructor"===l||"prototype"===l)return e;if(i!=a){var d=c[l];(u=r?r(d,l,c):o)===o&&(u=Qs(d)?d:mi(t[i+1])?[]:{})}Qn(c,l,u),c=c[l]}return e}var Xr=En?function(e,t){return En.set(e,t),e}:nc,Zr=et?function(e,t){return et(e,"toString",{configurable:!0,enumerable:!1,value:Qa(t),writable:!0})}:nc;function Qr(e){return Oi($a(e))}function eo(e,t,n){var o=-1,i=e.length;t<0&&(t=-t>i?0:i+t),(n=n>i?i:n)<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var s=r(i);++o<i;)s[o]=e[o+t];return s}function to(e,t){var n;return ur(e,function(e,r,o){return!(n=t(e,r,o))}),!!n}function no(e,t,n){var r=0,o=null==e?r:e.length;if("number"==typeof t&&t==t&&o<=2147483647){for(;r<o;){var i=r+o>>>1,s=e[i];null!==s&&!aa(s)&&(n?s<=t:s<t)?r=i+1:o=i}return o}return ro(e,t,nc,n)}function ro(e,t,n,r){var i=0,s=null==e?0:e.length;if(0===s)return 0;for(var a=(t=n(t))!=t,c=null===t,l=aa(t),u=t===o;i<s;){var d=ht((i+s)/2),f=n(e[d]),h=f!==o,p=null===f,g=f==f,m=aa(f);if(a)var y=r||g;else y=u?g&&(r||h):c?g&&h&&(r||!p):l?g&&h&&!p&&(r||!m):!p&&!m&&(r?f<=t:f<t);y?i=d+1:s=d}return yn(s,4294967294)}function oo(e,t){for(var n=-1,r=e.length,o=0,i=[];++n<r;){var s=e[n],a=t?t(s):s;if(!n||!$s(a,c)){var c=a;i[o++]=0===s?0:s}}return i}function io(e){return"number"==typeof e?e:aa(e)?f:+e}function so(e){if("string"==typeof e)return e;if(Vs(e))return Mt(e,so)+"";if(aa(e))return Ln?Ln.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function ao(e,t,n){var r=-1,o=Tt,i=e.length,s=!0,a=[],c=a;if(n)s=!1,o=Pt;else if(i>=200){var l=t?null:Wo(e);if(l)return cn(l);s=!1,o=Xt,c=new Gn}else c=t?[]:a;e:for(;++r<i;){var u=e[r],d=t?t(u):u;if(u=n||0!==u?u:0,s&&d==d){for(var f=c.length;f--;)if(c[f]===d)continue e;t&&c.push(d),a.push(u)}else o(c,d,n)||(c!==a&&c.push(d),a.push(u))}return a}function co(e,t){return null==(e=Ai(e,t=yo(t,e)))||delete e[Fi(Yi(t))]}function lo(e,t,n,r){return Jr(e,t,n(wr(e,t)),r)}function uo(e,t,n,r){for(var o=e.length,i=r?o:-1;(r?i--:++i<o)&&t(e[i],i,e););return n?eo(e,r?0:i,r?i+1:o):eo(e,r?i+1:0,r?o:i)}function fo(e,t){var n=e;return n instanceof zn&&(n=n.value()),Dt(t,function(e,t){return t.func.apply(t.thisArg,Ot([e],t.args))},n)}function ho(e,t,n){var o=e.length;if(o<2)return o?ao(e[0]):[];for(var i=-1,s=r(o);++i<o;)for(var a=e[i],c=-1;++c<o;)c!=i&&(s[i]=lr(s[i]||a,e[c],t,n));return ao(gr(s,1),t,n)}function po(e,t,n){for(var r=-1,i=e.length,s=t.length,a={};++r<i;){var c=r<s?t[r]:o;n(a,e[r],c)}return a}function go(e){return Gs(e)?e:[]}function mo(e){return"function"==typeof e?e:nc}function yo(e,t){return Vs(e)?e:bi(e,t)?[e]:Ni(ya(e))}var bo=Wr;function vo(e,t,n){var r=e.length;return n=n===o?r:n,!t&&n>=r?e:eo(e,t,n)}var _o=st||function(e){return dt.clearTimeout(e)};function wo(e,t){if(t)return e.slice();var n=e.length,r=Ve?Ve(n):new e.constructor(n);return e.copy(r),r}function So(e){var t=new e.constructor(e.byteLength);return new ze(t).set(new ze(e)),t}function xo(e,t){var n=t?So(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function Io(e,t){if(e!==t){var n=e!==o,r=null===e,i=e==e,s=aa(e),a=t!==o,c=null===t,l=t==t,u=aa(t);if(!c&&!u&&!s&&e>t||s&&a&&l&&!c&&!u||r&&a&&l||!n&&l||!i)return 1;if(!r&&!s&&!u&&e<t||u&&n&&i&&!r&&!s||c&&n&&i||!a&&i||!l)return-1}return 0}function Ao(e,t,n,o){for(var i=-1,s=e.length,a=n.length,c=-1,l=t.length,u=mn(s-a,0),d=r(l+u),f=!o;++c<l;)d[c]=t[c];for(;++i<a;)(f||i<s)&&(d[n[i]]=e[i]);for(;u--;)d[c++]=e[i++];return d}function Co(e,t,n,o){for(var i=-1,s=e.length,a=-1,c=n.length,l=-1,u=t.length,d=mn(s-c,0),f=r(d+u),h=!o;++i<d;)f[i]=e[i];for(var p=i;++l<u;)f[p+l]=t[l];for(;++a<c;)(h||i<s)&&(f[p+n[a]]=e[i++]);return f}function ko(e,t){var n=-1,o=e.length;for(t||(t=r(o));++n<o;)t[n]=e[n];return t}function Eo(e,t,n,r){var i=!n;n||(n={});for(var s=-1,a=t.length;++s<a;){var c=t[s],l=r?r(n[c],e[c],c,n,e):o;l===o&&(l=e[c]),i?rr(n,c,l):Qn(n,c,l)}return n}function To(e,t){return function(n,r){var o=Vs(n)?It:tr,i=t?t():{};return o(n,e,si(r,2),i)}}function Po(e){return Wr(function(t,n){var r=-1,i=n.length,s=i>1?n[i-1]:o,a=i>2?n[2]:o;for(s=e.length>3&&"function"==typeof s?(i--,s):o,a&&yi(n[0],n[1],a)&&(s=i<3?o:s,i=1),t=Ie(t);++r<i;){var c=n[r];c&&e(t,c,r,s)}return t})}function Mo(e,t){return function(n,r){if(null==n)return n;if(!Hs(n))return e(n,r);for(var o=n.length,i=t?o:-1,s=Ie(n);(t?i--:++i<o)&&!1!==r(s[i],i,s););return n}}function Oo(e){return function(t,n,r){for(var o=-1,i=Ie(t),s=r(t),a=s.length;a--;){var c=s[e?a:++o];if(!1===n(i[c],c,i))break}return t}}function Do(e){return function(t){var n=rn(t=ya(t))?dn(t):o,r=n?n[0]:t.charAt(0),i=n?vo(n,1).join(""):t.slice(1);return r[e]()+i}}function Ro(e){return function(t){return Dt(Ja(za(t).replace(Je,"")),e,"")}}function No(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=$n(e.prototype),r=e.apply(n,t);return Qs(r)?r:n}}function Fo(e){return function(t,n,r){var i=Ie(t);if(!Hs(t)){var s=si(n,3);t=Pa(t),n=function(e){return s(i[e],e,i)}}var a=e(t,n,r);return a>-1?i[s?t[a]:a]:o}}function Lo(e){return ei(function(t){var n=t.length,r=n,s=Un.prototype.thru;for(e&&t.reverse();r--;){var a=t[r];if("function"!=typeof a)throw new ke(i);if(s&&!c&&"wrapper"==oi(a))var c=new Un([],!0)}for(r=c?r:n;++r<n;){var l=oi(a=t[r]),u="wrapper"==l?ri(a):o;c=u&&vi(u[0])&&424==u[1]&&!u[4].length&&1==u[9]?c[oi(u[0])].apply(c,u[3]):1==a.length&&vi(a)?c[l]():c.thru(a)}return function(){var e=arguments,r=e[0];if(c&&1==e.length&&Vs(r))return c.plant(r).value();for(var o=0,i=n?t[o].apply(this,e):r;++o<n;)i=t[o].call(this,i);return i}})}function Bo(e,t,n,i,s,a,c,u,d,f){var h=t&l,p=1&t,g=2&t,m=24&t,y=512&t,b=g?o:No(e);return function l(){for(var v=arguments.length,_=r(v),w=v;w--;)_[w]=arguments[w];if(m)var S=ii(l),x=function(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&++r;return r}(_,S);if(i&&(_=Ao(_,i,s,m)),a&&(_=Co(_,a,c,m)),v-=x,m&&v<f){var I=an(_,S);return Ho(e,t,Bo,l.placeholder,n,_,I,u,d,f-v)}var A=p?n:this,C=g?A[e]:e;return v=_.length,u?_=function(e,t){for(var n=e.length,r=yn(t.length,n),i=ko(e);r--;){var s=t[r];e[r]=mi(s,n)?i[s]:o}return e}(_,u):y&&v>1&&_.reverse(),h&&d<v&&(_.length=d),this&&this!==dt&&this instanceof l&&(C=b||No(C)),C.apply(A,_)}}function $o(e,t){return function(n,r){return function(e,t,n,r){return br(e,function(e,o,i){t(r,n(e),o,i)}),r}(n,e,t(r),{})}}function jo(e,t){return function(n,r){var i;if(n===o&&r===o)return t;if(n!==o&&(i=n),r!==o){if(i===o)return r;"string"==typeof n||"string"==typeof r?(n=so(n),r=so(r)):(n=io(n),r=io(r)),i=e(n,r)}return i}}function Uo(e){return ei(function(t){return t=Mt(t,Yt(si())),Wr(function(n){var r=this;return e(t,function(e){return xt(e,r,n)})})})}function zo(e,t){var n=(t=t===o?" ":so(t)).length;if(n<2)return n?Gr(t,e):t;var r=Gr(t,ft(e/un(t)));return rn(t)?vo(dn(r),0,e).join(""):r.slice(0,e)}function Vo(e){return function(t,n,i){return i&&"number"!=typeof i&&yi(t,n,i)&&(n=i=o),t=fa(t),n===o?(n=t,t=0):n=fa(n),function(e,t,n,o){for(var i=-1,s=mn(ft((t-e)/(n||1)),0),a=r(s);s--;)a[o?s:++i]=e,e+=n;return a}(t,n,i=i===o?t<n?1:-1:fa(i),e)}}function qo(e){return function(t,n){return"string"==typeof t&&"string"==typeof n||(t=ga(t),n=ga(n)),e(t,n)}}function Ho(e,t,n,r,i,s,a,l,u,d){var f=8&t;t|=f?c:64,4&(t&=~(f?64:c))||(t&=-4);var h=[e,t,i,f?s:o,f?a:o,f?o:s,f?o:a,l,u,d],p=n.apply(o,h);return vi(e)&&ki(p,h),p.placeholder=r,Pi(p,e,t)}function Go(e){var t=xe[e];return function(e,n){if(e=ga(e),(n=null==n?0:yn(ha(n),292))&&Ft(e)){var r=(ya(e)+"e").split("e");return+((r=(ya(t(r[0]+"e"+(+r[1]+n)))+"e").split("e"))[0]+"e"+(+r[1]-n))}return t(e)}}var Wo=An&&1/cn(new An([,-0]))[1]==u?function(e){return new An(e)}:ac;function Ko(e){return function(t){var n=fi(t);return n==S?on(t):n==k?ln(t):function(e,t){return Mt(t,function(t){return[t,e[t]]})}(t,e(t))}}function Yo(e,t,n,s,u,d,f,h){var p=2&t;if(!p&&"function"!=typeof e)throw new ke(i);var g=s?s.length:0;if(g||(t&=-97,s=u=o),f=f===o?f:mn(ha(f),0),h=h===o?h:ha(h),g-=u?u.length:0,64&t){var m=s,y=u;s=u=o}var b=p?o:ri(e),v=[e,t,n,s,u,m,y,d,f,h];if(b&&function(e,t){var n=e[1],r=t[1],o=n|r,i=o<131,s=r==l&&8==n||r==l&&256==n&&e[7].length<=t[8]||384==r&&t[7].length<=t[8]&&8==n;if(!i&&!s)return e;1&r&&(e[2]=t[2],o|=1&n?0:4);var c=t[3];if(c){var u=e[3];e[3]=u?Ao(u,c,t[4]):c,e[4]=u?an(e[3],a):t[4]}(c=t[5])&&(u=e[5],e[5]=u?Co(u,c,t[6]):c,e[6]=u?an(e[5],a):t[6]),(c=t[7])&&(e[7]=c),r&l&&(e[8]=null==e[8]?t[8]:yn(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=o}(v,b),e=v[0],t=v[1],n=v[2],s=v[3],u=v[4],!(h=v[9]=v[9]===o?p?0:e.length:mn(v[9]-g,0))&&24&t&&(t&=-25),t&&1!=t)_=8==t||16==t?function(e,t,n){var i=No(e);return function s(){for(var a=arguments.length,c=r(a),l=a,u=ii(s);l--;)c[l]=arguments[l];var d=a<3&&c[0]!==u&&c[a-1]!==u?[]:an(c,u);return(a-=d.length)<n?Ho(e,t,Bo,s.placeholder,o,c,d,o,o,n-a):xt(this&&this!==dt&&this instanceof s?i:e,this,c)}}(e,t,h):t!=c&&33!=t||u.length?Bo.apply(o,v):function(e,t,n,o){var i=1&t,s=No(e);return function t(){for(var a=-1,c=arguments.length,l=-1,u=o.length,d=r(u+c),f=this&&this!==dt&&this instanceof t?s:e;++l<u;)d[l]=o[l];for(;c--;)d[l++]=arguments[++a];return xt(f,i?n:this,d)}}(e,t,n,s);else var _=function(e,t,n){var r=1&t,o=No(e);return function t(){return(this&&this!==dt&&this instanceof t?o:e).apply(r?n:this,arguments)}}(e,t,n);return Pi((b?Xr:ki)(_,v),e,t)}function Jo(e,t,n,r){return e===o||$s(e,Pe[n])&&!De.call(r,n)?t:e}function Xo(e,t,n,r,i,s){return Qs(e)&&Qs(t)&&(s.set(t,e),$r(e,t,o,Xo,s),s.delete(t)),e}function Zo(e){return ra(e)?o:e}function Qo(e,t,n,r,i,s){var a=1&n,c=e.length,l=t.length;if(c!=l&&!(a&&l>c))return!1;var u=s.get(e),d=s.get(t);if(u&&d)return u==t&&d==e;var f=-1,h=!0,p=2&n?new Gn:o;for(s.set(e,t),s.set(t,e);++f<c;){var g=e[f],m=t[f];if(r)var y=a?r(m,g,f,t,e,s):r(g,m,f,e,t,s);if(y!==o){if(y)continue;h=!1;break}if(p){if(!Nt(t,function(e,t){if(!Xt(p,t)&&(g===e||i(g,e,n,r,s)))return p.push(t)})){h=!1;break}}else if(g!==m&&!i(g,m,n,r,s)){h=!1;break}}return s.delete(e),s.delete(t),h}function ei(e){return Ti(Ii(e,o,qi),e+"")}function ti(e){return Sr(e,Pa,ui)}function ni(e){return Sr(e,Ma,di)}var ri=En?function(e){return En.get(e)}:ac;function oi(e){for(var t=e.name+"",n=Tn[t],r=De.call(Tn,t)?n.length:0;r--;){var o=n[r],i=o.func;if(null==i||i==e)return o.name}return t}function ii(e){return(De.call(Bn,"placeholder")?Bn:e).placeholder}function si(){var e=Bn.iteratee||rc;return e=e===rc?Dr:e,arguments.length?e(arguments[0],arguments[1]):e}function ai(e,t){var n,r,o=e.__data__;return("string"==(r=typeof(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?o["string"==typeof t?"string":"hash"]:o.map}function ci(e){for(var t=Pa(e),n=t.length;n--;){var r=t[n],o=e[r];t[n]=[r,o,Si(o)]}return t}function li(e,t){var n=function(e,t){return null==e?o:e[t]}(e,t);return Or(n)?n:o}var ui=gt?function(e){return null==e?[]:(e=Ie(e),Et(gt(e),function(t){return Ge.call(e,t)}))}:pc,di=gt?function(e){for(var t=[];e;)Ot(t,ui(e)),e=qe(e);return t}:pc,fi=xr;function hi(e,t,n){for(var r=-1,o=(t=yo(t,e)).length,i=!1;++r<o;){var s=Fi(t[r]);if(!(i=null!=e&&n(e,s)))break;e=e[s]}return i||++r!=o?i:!!(o=null==e?0:e.length)&&Zs(o)&&mi(s,o)&&(Vs(e)||zs(e))}function pi(e){return"function"!=typeof e.constructor||wi(e)?{}:$n(qe(e))}function gi(e){return Vs(e)||zs(e)||!!(Ke&&e&&e[Ke])}function mi(e,t){var n=typeof e;return!!(t=null==t?d:t)&&("number"==n||"symbol"!=n&&ye.test(e))&&e>-1&&e%1==0&&e<t}function yi(e,t,n){if(!Qs(n))return!1;var r=typeof t;return!!("number"==r?Hs(n)&&mi(t,n.length):"string"==r&&t in n)&&$s(n[t],e)}function bi(e,t){if(Vs(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!aa(e))||Q.test(e)||!Z.test(e)||null!=t&&e in Ie(t)}function vi(e){var t=oi(e),n=Bn[t];if("function"!=typeof n||!(t in zn.prototype))return!1;if(e===n)return!0;var r=ri(n);return!!r&&e===r[0]}(Sn&&fi(new Sn(new ArrayBuffer(1)))!=O||xn&&fi(new xn)!=S||In&&fi(In.resolve())!=A||An&&fi(new An)!=k||Cn&&fi(new Cn)!=P)&&(fi=function(e){var t=xr(e),n=t==I?e.constructor:o,r=n?Li(n):"";if(r)switch(r){case Pn:return O;case Mn:return S;case On:return A;case Dn:return k;case Rn:return P}return t});var _i=Me?Js:gc;function wi(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Pe)}function Si(e){return e==e&&!Qs(e)}function xi(e,t){return function(n){return null!=n&&n[e]===t&&(t!==o||e in Ie(n))}}function Ii(e,t,n){return t=mn(t===o?e.length-1:t,0),function(){for(var o=arguments,i=-1,s=mn(o.length-t,0),a=r(s);++i<s;)a[i]=o[t+i];i=-1;for(var c=r(t+1);++i<t;)c[i]=o[i];return c[t]=n(a),xt(e,this,c)}}function Ai(e,t){return t.length<2?e:wr(e,eo(t,0,-1))}function Ci(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}var ki=Mi(Xr),Ei=ut||function(e,t){return dt.setTimeout(e,t)},Ti=Mi(Zr);function Pi(e,t,n){var r=t+"";return Ti(e,function(e,t){var n=t.length;if(!n)return e;var r=n-1;return t[r]=(n>1?"& ":"")+t[r],t=t.join(n>2?", ":" "),e.replace(ie,"{\n/* [wrapped with "+t+"] */\n")}(r,function(e,t){return At(p,function(n){var r="_."+n[0];t&n[1]&&!Tt(e,r)&&e.push(r)}),e.sort()}(function(e){var t=e.match(se);return t?t[1].split(ae):[]}(r),n)))}function Mi(e){var t=0,n=0;return function(){var r=bn(),i=16-(r-n);if(n=r,i>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(o,arguments)}}function Oi(e,t){var n=-1,r=e.length,i=r-1;for(t=t===o?r:t;++n<t;){var s=Hr(n,i),a=e[s];e[s]=e[n],e[n]=a}return e.length=t,e}var Di,Ri,Ni=(Di=Ds(function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(ee,function(e,n,r,o){t.push(r?o.replace(ue,"$1"):n||e)}),t},function(e){return 500===Ri.size&&Ri.clear(),e}),Ri=Di.cache,Di);function Fi(e){if("string"==typeof e||aa(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function Li(e){if(null!=e){try{return Oe.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function Bi(e){if(e instanceof zn)return e.clone();var t=new Un(e.__wrapped__,e.__chain__);return t.__actions__=ko(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var $i=Wr(function(e,t){return Gs(e)?lr(e,gr(t,1,Gs,!0)):[]}),ji=Wr(function(e,t){var n=Yi(t);return Gs(n)&&(n=o),Gs(e)?lr(e,gr(t,1,Gs,!0),si(n,2)):[]}),Ui=Wr(function(e,t){var n=Yi(t);return Gs(n)&&(n=o),Gs(e)?lr(e,gr(t,1,Gs,!0),o,n):[]});function zi(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var o=null==n?0:ha(n);return o<0&&(o=mn(r+o,0)),Bt(e,si(t,3),o)}function Vi(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=r-1;return n!==o&&(i=ha(n),i=n<0?mn(r+i,0):yn(i,r-1)),Bt(e,si(t,3),i,!0)}function qi(e){return null!=e&&e.length?gr(e,1):[]}function Hi(e){return e&&e.length?e[0]:o}var Gi=Wr(function(e){var t=Mt(e,go);return t.length&&t[0]===e[0]?kr(t):[]}),Wi=Wr(function(e){var t=Yi(e),n=Mt(e,go);return t===Yi(n)?t=o:n.pop(),n.length&&n[0]===e[0]?kr(n,si(t,2)):[]}),Ki=Wr(function(e){var t=Yi(e),n=Mt(e,go);return(t="function"==typeof t?t:o)&&n.pop(),n.length&&n[0]===e[0]?kr(n,o,t):[]});function Yi(e){var t=null==e?0:e.length;return t?e[t-1]:o}var Ji=Wr(Xi);function Xi(e,t){return e&&e.length&&t&&t.length?Vr(e,t):e}var Zi=ei(function(e,t){var n=null==e?0:e.length,r=or(e,t);return qr(e,Mt(t,function(e){return mi(e,n)?+e:e}).sort(Io)),r});function Qi(e){return null==e?e:wn.call(e)}var es=Wr(function(e){return ao(gr(e,1,Gs,!0))}),ts=Wr(function(e){var t=Yi(e);return Gs(t)&&(t=o),ao(gr(e,1,Gs,!0),si(t,2))}),ns=Wr(function(e){var t=Yi(e);return t="function"==typeof t?t:o,ao(gr(e,1,Gs,!0),o,t)});function rs(e){if(!e||!e.length)return[];var t=0;return e=Et(e,function(e){if(Gs(e))return t=mn(e.length,t),!0}),Wt(t,function(t){return Mt(e,Vt(t))})}function os(e,t){if(!e||!e.length)return[];var n=rs(e);return null==t?n:Mt(n,function(e){return xt(t,o,e)})}var is=Wr(function(e,t){return Gs(e)?lr(e,t):[]}),ss=Wr(function(e){return ho(Et(e,Gs))}),as=Wr(function(e){var t=Yi(e);return Gs(t)&&(t=o),ho(Et(e,Gs),si(t,2))}),cs=Wr(function(e){var t=Yi(e);return t="function"==typeof t?t:o,ho(Et(e,Gs),o,t)}),ls=Wr(rs),us=Wr(function(e){var t=e.length,n=t>1?e[t-1]:o;return n="function"==typeof n?(e.pop(),n):o,os(e,n)});function ds(e){var t=Bn(e);return t.__chain__=!0,t}function fs(e,t){return t(e)}var hs=ei(function(e){var t=e.length,n=t?e[0]:0,r=this.__wrapped__,i=function(t){return or(t,e)};return!(t>1||this.__actions__.length)&&r instanceof zn&&mi(n)?((r=r.slice(n,+n+(t?1:0))).__actions__.push({func:fs,args:[i],thisArg:o}),new Un(r,this.__chain__).thru(function(e){return t&&!e.length&&e.push(o),e})):this.thru(i)}),ps=To(function(e,t,n){De.call(e,n)?++e[n]:rr(e,n,1)}),gs=Fo(zi),ms=Fo(Vi);function ys(e,t){return(Vs(e)?At:ur)(e,si(t,3))}function bs(e,t){return(Vs(e)?Ct:dr)(e,si(t,3))}var vs=To(function(e,t,n){De.call(e,n)?e[n].push(t):rr(e,n,[t])}),_s=Wr(function(e,t,n){var o=-1,i="function"==typeof t,s=Hs(e)?r(e.length):[];return ur(e,function(e){s[++o]=i?xt(t,e,n):Er(e,t,n)}),s}),ws=To(function(e,t,n){rr(e,n,t)});function Ss(e,t){return(Vs(e)?Mt:Fr)(e,si(t,3))}var xs=To(function(e,t,n){e[n?0:1].push(t)},function(){return[[],[]]}),Is=Wr(function(e,t){if(null==e)return[];var n=t.length;return n>1&&yi(e,t[0],t[1])?t=[]:n>2&&yi(t[0],t[1],t[2])&&(t=[t[0]]),Ur(e,gr(t,1),[])}),As=lt||function(){return dt.Date.now()};function Cs(e,t,n){return t=n?o:t,t=e&&null==t?e.length:t,Yo(e,l,o,o,o,o,t)}function ks(e,t){var n;if("function"!=typeof t)throw new ke(i);return e=ha(e),function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=o),n}}var Es=Wr(function(e,t,n){var r=1;if(n.length){var o=an(n,ii(Es));r|=c}return Yo(e,r,t,n,o)}),Ts=Wr(function(e,t,n){var r=3;if(n.length){var o=an(n,ii(Ts));r|=c}return Yo(t,r,e,n,o)});function Ps(e,t,n){var r,s,a,c,l,u,d=0,f=!1,h=!1,p=!0;if("function"!=typeof e)throw new ke(i);function g(t){var n=r,i=s;return r=s=o,d=t,c=e.apply(i,n)}function m(e){var n=e-u;return u===o||n>=t||n<0||h&&e-d>=a}function y(){var e=As();if(m(e))return b(e);l=Ei(y,function(e){var n=t-(e-u);return h?yn(n,a-(e-d)):n}(e))}function b(e){return l=o,p&&r?g(e):(r=s=o,c)}function v(){var e=As(),n=m(e);if(r=arguments,s=this,u=e,n){if(l===o)return function(e){return d=e,l=Ei(y,t),f?g(e):c}(u);if(h)return _o(l),l=Ei(y,t),g(u)}return l===o&&(l=Ei(y,t)),c}return t=ga(t)||0,Qs(n)&&(f=!!n.leading,a=(h="maxWait"in n)?mn(ga(n.maxWait)||0,t):a,p="trailing"in n?!!n.trailing:p),v.cancel=function(){l!==o&&_o(l),d=0,r=u=s=l=o},v.flush=function(){return l===o?c:b(As())},v}var Ms=Wr(function(e,t){return cr(e,1,t)}),Os=Wr(function(e,t,n){return cr(e,ga(t)||0,n)});function Ds(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new ke(i);var n=function(){var r=arguments,o=t?t.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var s=e.apply(this,r);return n.cache=i.set(o,s)||i,s};return n.cache=new(Ds.Cache||Hn),n}function Rs(e){if("function"!=typeof e)throw new ke(i);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}Ds.Cache=Hn;var Ns=bo(function(e,t){var n=(t=1==t.length&&Vs(t[0])?Mt(t[0],Yt(si())):Mt(gr(t,1),Yt(si()))).length;return Wr(function(r){for(var o=-1,i=yn(r.length,n);++o<i;)r[o]=t[o].call(this,r[o]);return xt(e,this,r)})}),Fs=Wr(function(e,t){var n=an(t,ii(Fs));return Yo(e,c,o,t,n)}),Ls=Wr(function(e,t){var n=an(t,ii(Ls));return Yo(e,64,o,t,n)}),Bs=ei(function(e,t){return Yo(e,256,o,o,o,t)});function $s(e,t){return e===t||e!=e&&t!=t}var js=qo(Ir),Us=qo(function(e,t){return e>=t}),zs=Tr(function(){return arguments}())?Tr:function(e){return ea(e)&&De.call(e,"callee")&&!Ge.call(e,"callee")},Vs=r.isArray,qs=yt?Yt(yt):function(e){return ea(e)&&xr(e)==M};function Hs(e){return null!=e&&Zs(e.length)&&!Js(e)}function Gs(e){return ea(e)&&Hs(e)}var Ws=mt||gc,Ks=bt?Yt(bt):function(e){return ea(e)&&xr(e)==b};function Ys(e){if(!ea(e))return!1;var t=xr(e);return t==v||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!ra(e)}function Js(e){if(!Qs(e))return!1;var t=xr(e);return t==_||t==w||"[object AsyncFunction]"==t||"[object Proxy]"==t}function Xs(e){return"number"==typeof e&&e==ha(e)}function Zs(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=d}function Qs(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function ea(e){return null!=e&&"object"==typeof e}var ta=vt?Yt(vt):function(e){return ea(e)&&fi(e)==S};function na(e){return"number"==typeof e||ea(e)&&xr(e)==x}function ra(e){if(!ea(e)||xr(e)!=I)return!1;var t=qe(e);if(null===t)return!0;var n=De.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&Oe.call(n)==Le}var oa=_t?Yt(_t):function(e){return ea(e)&&xr(e)==C},ia=wt?Yt(wt):function(e){return ea(e)&&fi(e)==k};function sa(e){return"string"==typeof e||!Vs(e)&&ea(e)&&xr(e)==E}function aa(e){return"symbol"==typeof e||ea(e)&&xr(e)==T}var ca=St?Yt(St):function(e){return ea(e)&&Zs(e.length)&&!!ot[xr(e)]},la=qo(Nr),ua=qo(function(e,t){return e<=t});function da(e){if(!e)return[];if(Hs(e))return sa(e)?dn(e):ko(e);if(Ye&&e[Ye])return function(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}(e[Ye]());var t=fi(e);return(t==S?on:t==k?cn:$a)(e)}function fa(e){return e?(e=ga(e))===u||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}function ha(e){var t=fa(e),n=t%1;return t==t?n?t-n:t:0}function pa(e){return e?ir(ha(e),0,h):0}function ga(e){if("number"==typeof e)return e;if(aa(e))return f;if(Qs(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=Qs(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=Kt(e);var n=pe.test(e);return n||me.test(e)?ct(e.slice(2),n?2:8):he.test(e)?f:+e}function ma(e){return Eo(e,Ma(e))}function ya(e){return null==e?"":so(e)}var ba=Po(function(e,t){if(wi(t)||Hs(t))Eo(t,Pa(t),e);else for(var n in t)De.call(t,n)&&Qn(e,n,t[n])}),va=Po(function(e,t){Eo(t,Ma(t),e)}),_a=Po(function(e,t,n,r){Eo(t,Ma(t),e,r)}),wa=Po(function(e,t,n,r){Eo(t,Pa(t),e,r)}),Sa=ei(or),xa=Wr(function(e,t){e=Ie(e);var n=-1,r=t.length,i=r>2?t[2]:o;for(i&&yi(t[0],t[1],i)&&(r=1);++n<r;)for(var s=t[n],a=Ma(s),c=-1,l=a.length;++c<l;){var u=a[c],d=e[u];(d===o||$s(d,Pe[u])&&!De.call(e,u))&&(e[u]=s[u])}return e}),Ia=Wr(function(e){return e.push(o,Xo),xt(Da,o,e)});function Aa(e,t,n){var r=null==e?o:wr(e,t);return r===o?n:r}function Ca(e,t){return null!=e&&hi(e,t,Cr)}var ka=$o(function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=Fe.call(t)),e[t]=n},Qa(nc)),Ea=$o(function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=Fe.call(t)),De.call(e,t)?e[t].push(n):e[t]=[n]},si),Ta=Wr(Er);function Pa(e){return Hs(e)?Kn(e):Rr(e)}function Ma(e){return Hs(e)?Kn(e,!0):function(e){if(!Qs(e))return function(e){var t=[];if(null!=e)for(var n in Ie(e))t.push(n);return t}(e);var t=wi(e),n=[];for(var r in e)("constructor"!=r||!t&&De.call(e,r))&&n.push(r);return n}(e)}var Oa=Po(function(e,t,n){$r(e,t,n)}),Da=Po(function(e,t,n,r){$r(e,t,n,r)}),Ra=ei(function(e,t){var n={};if(null==e)return n;var r=!1;t=Mt(t,function(t){return t=yo(t,e),r||(r=t.length>1),t}),Eo(e,ni(e),n),r&&(n=sr(n,7,Zo));for(var o=t.length;o--;)co(n,t[o]);return n}),Na=ei(function(e,t){return null==e?{}:function(e,t){return zr(e,t,function(t,n){return Ca(e,n)})}(e,t)});function Fa(e,t){if(null==e)return{};var n=Mt(ni(e),function(e){return[e]});return t=si(t),zr(e,n,function(e,n){return t(e,n[0])})}var La=Ko(Pa),Ba=Ko(Ma);function $a(e){return null==e?[]:Jt(e,Pa(e))}var ja=Ro(function(e,t,n){return t=t.toLowerCase(),e+(n?Ua(t):t)});function Ua(e){return Ya(ya(e).toLowerCase())}function za(e){return(e=ya(e))&&e.replace(be,en).replace(Xe,"")}var Va=Ro(function(e,t,n){return e+(n?"-":"")+t.toLowerCase()}),qa=Ro(function(e,t,n){return e+(n?" ":"")+t.toLowerCase()}),Ha=Do("toLowerCase"),Ga=Ro(function(e,t,n){return e+(n?"_":"")+t.toLowerCase()}),Wa=Ro(function(e,t,n){return e+(n?" ":"")+Ya(t)}),Ka=Ro(function(e,t,n){return e+(n?" ":"")+t.toUpperCase()}),Ya=Do("toUpperCase");function Ja(e,t,n){return e=ya(e),(t=n?o:t)===o?function(e){return tt.test(e)}(e)?function(e){return e.match(Qe)||[]}(e):function(e){return e.match(ce)||[]}(e):e.match(t)||[]}var Xa=Wr(function(e,t){try{return xt(e,o,t)}catch(e){return Ys(e)?e:new we(e)}}),Za=ei(function(e,t){return At(t,function(t){t=Fi(t),rr(e,t,Es(e[t],e))}),e});function Qa(e){return function(){return e}}var ec=Lo(),tc=Lo(!0);function nc(e){return e}function rc(e){return Dr("function"==typeof e?e:sr(e,1))}var oc=Wr(function(e,t){return function(n){return Er(n,e,t)}}),ic=Wr(function(e,t){return function(n){return Er(e,n,t)}});function sc(e,t,n){var r=Pa(t),o=_r(t,r);null!=n||Qs(t)&&(o.length||!r.length)||(n=t,t=e,e=this,o=_r(t,Pa(t)));var i=!(Qs(n)&&"chain"in n&&!n.chain),s=Js(e);return At(o,function(n){var r=t[n];e[n]=r,s&&(e.prototype[n]=function(){var t=this.__chain__;if(i||t){var n=e(this.__wrapped__);return(n.__actions__=ko(this.__actions__)).push({func:r,args:arguments,thisArg:e}),n.__chain__=t,n}return r.apply(e,Ot([this.value()],arguments))})}),e}function ac(){}var cc=Uo(Mt),lc=Uo(kt),uc=Uo(Nt);function dc(e){return bi(e)?Vt(Fi(e)):function(e){return function(t){return wr(t,e)}}(e)}var fc=Vo(),hc=Vo(!0);function pc(){return[]}function gc(){return!1}var mc,yc=jo(function(e,t){return e+t},0),bc=Go("ceil"),vc=jo(function(e,t){return e/t},1),_c=Go("floor"),wc=jo(function(e,t){return e*t},1),Sc=Go("round"),xc=jo(function(e,t){return e-t},0);return Bn.after=function(e,t){if("function"!=typeof t)throw new ke(i);return e=ha(e),function(){if(--e<1)return t.apply(this,arguments)}},Bn.ary=Cs,Bn.assign=ba,Bn.assignIn=va,Bn.assignInWith=_a,Bn.assignWith=wa,Bn.at=Sa,Bn.before=ks,Bn.bind=Es,Bn.bindAll=Za,Bn.bindKey=Ts,Bn.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return Vs(e)?e:[e]},Bn.chain=ds,Bn.chunk=function(e,t,n){t=(n?yi(e,t,n):t===o)?1:mn(ha(t),0);var i=null==e?0:e.length;if(!i||t<1)return[];for(var s=0,a=0,c=r(ft(i/t));s<i;)c[a++]=eo(e,s,s+=t);return c},Bn.compact=function(e){for(var t=-1,n=null==e?0:e.length,r=0,o=[];++t<n;){var i=e[t];i&&(o[r++]=i)}return o},Bn.concat=function(){var e=arguments.length;if(!e)return[];for(var t=r(e-1),n=arguments[0],o=e;o--;)t[o-1]=arguments[o];return Ot(Vs(n)?ko(n):[n],gr(t,1))},Bn.cond=function(e){var t=null==e?0:e.length,n=si();return e=t?Mt(e,function(e){if("function"!=typeof e[1])throw new ke(i);return[n(e[0]),e[1]]}):[],Wr(function(n){for(var r=-1;++r<t;){var o=e[r];if(xt(o[0],this,n))return xt(o[1],this,n)}})},Bn.conforms=function(e){return function(e){var t=Pa(e);return function(n){return ar(n,e,t)}}(sr(e,1))},Bn.constant=Qa,Bn.countBy=ps,Bn.create=function(e,t){var n=$n(e);return null==t?n:nr(n,t)},Bn.curry=function e(t,n,r){var i=Yo(t,8,o,o,o,o,o,n=r?o:n);return i.placeholder=e.placeholder,i},Bn.curryRight=function e(t,n,r){var i=Yo(t,16,o,o,o,o,o,n=r?o:n);return i.placeholder=e.placeholder,i},Bn.debounce=Ps,Bn.defaults=xa,Bn.defaultsDeep=Ia,Bn.defer=Ms,Bn.delay=Os,Bn.difference=$i,Bn.differenceBy=ji,Bn.differenceWith=Ui,Bn.drop=function(e,t,n){var r=null==e?0:e.length;return r?eo(e,(t=n||t===o?1:ha(t))<0?0:t,r):[]},Bn.dropRight=function(e,t,n){var r=null==e?0:e.length;return r?eo(e,0,(t=r-(t=n||t===o?1:ha(t)))<0?0:t):[]},Bn.dropRightWhile=function(e,t){return e&&e.length?uo(e,si(t,3),!0,!0):[]},Bn.dropWhile=function(e,t){return e&&e.length?uo(e,si(t,3),!0):[]},Bn.fill=function(e,t,n,r){var i=null==e?0:e.length;return i?(n&&"number"!=typeof n&&yi(e,t,n)&&(n=0,r=i),function(e,t,n,r){var i=e.length;for((n=ha(n))<0&&(n=-n>i?0:i+n),(r=r===o||r>i?i:ha(r))<0&&(r+=i),r=n>r?0:pa(r);n<r;)e[n++]=t;return e}(e,t,n,r)):[]},Bn.filter=function(e,t){return(Vs(e)?Et:pr)(e,si(t,3))},Bn.flatMap=function(e,t){return gr(Ss(e,t),1)},Bn.flatMapDeep=function(e,t){return gr(Ss(e,t),u)},Bn.flatMapDepth=function(e,t,n){return n=n===o?1:ha(n),gr(Ss(e,t),n)},Bn.flatten=qi,Bn.flattenDeep=function(e){return null!=e&&e.length?gr(e,u):[]},Bn.flattenDepth=function(e,t){return null!=e&&e.length?gr(e,t=t===o?1:ha(t)):[]},Bn.flip=function(e){return Yo(e,512)},Bn.flow=ec,Bn.flowRight=tc,Bn.fromPairs=function(e){for(var t=-1,n=null==e?0:e.length,r={};++t<n;){var o=e[t];r[o[0]]=o[1]}return r},Bn.functions=function(e){return null==e?[]:_r(e,Pa(e))},Bn.functionsIn=function(e){return null==e?[]:_r(e,Ma(e))},Bn.groupBy=vs,Bn.initial=function(e){return null!=e&&e.length?eo(e,0,-1):[]},Bn.intersection=Gi,Bn.intersectionBy=Wi,Bn.intersectionWith=Ki,Bn.invert=ka,Bn.invertBy=Ea,Bn.invokeMap=_s,Bn.iteratee=rc,Bn.keyBy=ws,Bn.keys=Pa,Bn.keysIn=Ma,Bn.map=Ss,Bn.mapKeys=function(e,t){var n={};return t=si(t,3),br(e,function(e,r,o){rr(n,t(e,r,o),e)}),n},Bn.mapValues=function(e,t){var n={};return t=si(t,3),br(e,function(e,r,o){rr(n,r,t(e,r,o))}),n},Bn.matches=function(e){return Lr(sr(e,1))},Bn.matchesProperty=function(e,t){return Br(e,sr(t,1))},Bn.memoize=Ds,Bn.merge=Oa,Bn.mergeWith=Da,Bn.method=oc,Bn.methodOf=ic,Bn.mixin=sc,Bn.negate=Rs,Bn.nthArg=function(e){return e=ha(e),Wr(function(t){return jr(t,e)})},Bn.omit=Ra,Bn.omitBy=function(e,t){return Fa(e,Rs(si(t)))},Bn.once=function(e){return ks(2,e)},Bn.orderBy=function(e,t,n,r){return null==e?[]:(Vs(t)||(t=null==t?[]:[t]),Vs(n=r?o:n)||(n=null==n?[]:[n]),Ur(e,t,n))},Bn.over=cc,Bn.overArgs=Ns,Bn.overEvery=lc,Bn.overSome=uc,Bn.partial=Fs,Bn.partialRight=Ls,Bn.partition=xs,Bn.pick=Na,Bn.pickBy=Fa,Bn.property=dc,Bn.propertyOf=function(e){return function(t){return null==e?o:wr(e,t)}},Bn.pull=Ji,Bn.pullAll=Xi,Bn.pullAllBy=function(e,t,n){return e&&e.length&&t&&t.length?Vr(e,t,si(n,2)):e},Bn.pullAllWith=function(e,t,n){return e&&e.length&&t&&t.length?Vr(e,t,o,n):e},Bn.pullAt=Zi,Bn.range=fc,Bn.rangeRight=hc,Bn.rearg=Bs,Bn.reject=function(e,t){return(Vs(e)?Et:pr)(e,Rs(si(t,3)))},Bn.remove=function(e,t){var n=[];if(!e||!e.length)return n;var r=-1,o=[],i=e.length;for(t=si(t,3);++r<i;){var s=e[r];t(s,r,e)&&(n.push(s),o.push(r))}return qr(e,o),n},Bn.rest=function(e,t){if("function"!=typeof e)throw new ke(i);return Wr(e,t=t===o?t:ha(t))},Bn.reverse=Qi,Bn.sampleSize=function(e,t,n){return t=(n?yi(e,t,n):t===o)?1:ha(t),(Vs(e)?Jn:Yr)(e,t)},Bn.set=function(e,t,n){return null==e?e:Jr(e,t,n)},Bn.setWith=function(e,t,n,r){return r="function"==typeof r?r:o,null==e?e:Jr(e,t,n,r)},Bn.shuffle=function(e){return(Vs(e)?Xn:Qr)(e)},Bn.slice=function(e,t,n){var r=null==e?0:e.length;return r?(n&&"number"!=typeof n&&yi(e,t,n)?(t=0,n=r):(t=null==t?0:ha(t),n=n===o?r:ha(n)),eo(e,t,n)):[]},Bn.sortBy=Is,Bn.sortedUniq=function(e){return e&&e.length?oo(e):[]},Bn.sortedUniqBy=function(e,t){return e&&e.length?oo(e,si(t,2)):[]},Bn.split=function(e,t,n){return n&&"number"!=typeof n&&yi(e,t,n)&&(t=n=o),(n=n===o?h:n>>>0)?(e=ya(e))&&("string"==typeof t||null!=t&&!oa(t))&&!(t=so(t))&&rn(e)?vo(dn(e),0,n):e.split(t,n):[]},Bn.spread=function(e,t){if("function"!=typeof e)throw new ke(i);return t=null==t?0:mn(ha(t),0),Wr(function(n){var r=n[t],o=vo(n,0,t);return r&&Ot(o,r),xt(e,this,o)})},Bn.tail=function(e){var t=null==e?0:e.length;return t?eo(e,1,t):[]},Bn.take=function(e,t,n){return e&&e.length?eo(e,0,(t=n||t===o?1:ha(t))<0?0:t):[]},Bn.takeRight=function(e,t,n){var r=null==e?0:e.length;return r?eo(e,(t=r-(t=n||t===o?1:ha(t)))<0?0:t,r):[]},Bn.takeRightWhile=function(e,t){return e&&e.length?uo(e,si(t,3),!1,!0):[]},Bn.takeWhile=function(e,t){return e&&e.length?uo(e,si(t,3)):[]},Bn.tap=function(e,t){return t(e),e},Bn.throttle=function(e,t,n){var r=!0,o=!0;if("function"!=typeof e)throw new ke(i);return Qs(n)&&(r="leading"in n?!!n.leading:r,o="trailing"in n?!!n.trailing:o),Ps(e,t,{leading:r,maxWait:t,trailing:o})},Bn.thru=fs,Bn.toArray=da,Bn.toPairs=La,Bn.toPairsIn=Ba,Bn.toPath=function(e){return Vs(e)?Mt(e,Fi):aa(e)?[e]:ko(Ni(ya(e)))},Bn.toPlainObject=ma,Bn.transform=function(e,t,n){var r=Vs(e),o=r||Ws(e)||ca(e);if(t=si(t,4),null==n){var i=e&&e.constructor;n=o?r?new i:[]:Qs(e)&&Js(i)?$n(qe(e)):{}}return(o?At:br)(e,function(e,r,o){return t(n,e,r,o)}),n},Bn.unary=function(e){return Cs(e,1)},Bn.union=es,Bn.unionBy=ts,Bn.unionWith=ns,Bn.uniq=function(e){return e&&e.length?ao(e):[]},Bn.uniqBy=function(e,t){return e&&e.length?ao(e,si(t,2)):[]},Bn.uniqWith=function(e,t){return t="function"==typeof t?t:o,e&&e.length?ao(e,o,t):[]},Bn.unset=function(e,t){return null==e||co(e,t)},Bn.unzip=rs,Bn.unzipWith=os,Bn.update=function(e,t,n){return null==e?e:lo(e,t,mo(n))},Bn.updateWith=function(e,t,n,r){return r="function"==typeof r?r:o,null==e?e:lo(e,t,mo(n),r)},Bn.values=$a,Bn.valuesIn=function(e){return null==e?[]:Jt(e,Ma(e))},Bn.without=is,Bn.words=Ja,Bn.wrap=function(e,t){return Fs(mo(t),e)},Bn.xor=ss,Bn.xorBy=as,Bn.xorWith=cs,Bn.zip=ls,Bn.zipObject=function(e,t){return po(e||[],t||[],Qn)},Bn.zipObjectDeep=function(e,t){return po(e||[],t||[],Jr)},Bn.zipWith=us,Bn.entries=La,Bn.entriesIn=Ba,Bn.extend=va,Bn.extendWith=_a,sc(Bn,Bn),Bn.add=yc,Bn.attempt=Xa,Bn.camelCase=ja,Bn.capitalize=Ua,Bn.ceil=bc,Bn.clamp=function(e,t,n){return n===o&&(n=t,t=o),n!==o&&(n=(n=ga(n))==n?n:0),t!==o&&(t=(t=ga(t))==t?t:0),ir(ga(e),t,n)},Bn.clone=function(e){return sr(e,4)},Bn.cloneDeep=function(e){return sr(e,5)},Bn.cloneDeepWith=function(e,t){return sr(e,5,t="function"==typeof t?t:o)},Bn.cloneWith=function(e,t){return sr(e,4,t="function"==typeof t?t:o)},Bn.conformsTo=function(e,t){return null==t||ar(e,t,Pa(t))},Bn.deburr=za,Bn.defaultTo=function(e,t){return null==e||e!=e?t:e},Bn.divide=vc,Bn.endsWith=function(e,t,n){e=ya(e),t=so(t);var r=e.length,i=n=n===o?r:ir(ha(n),0,r);return(n-=t.length)>=0&&e.slice(n,i)==t},Bn.eq=$s,Bn.escape=function(e){return(e=ya(e))&&K.test(e)?e.replace(G,tn):e},Bn.escapeRegExp=function(e){return(e=ya(e))&&ne.test(e)?e.replace(te,"\\$&"):e},Bn.every=function(e,t,n){var r=Vs(e)?kt:fr;return n&&yi(e,t,n)&&(t=o),r(e,si(t,3))},Bn.find=gs,Bn.findIndex=zi,Bn.findKey=function(e,t){return Lt(e,si(t,3),br)},Bn.findLast=ms,Bn.findLastIndex=Vi,Bn.findLastKey=function(e,t){return Lt(e,si(t,3),vr)},Bn.floor=_c,Bn.forEach=ys,Bn.forEachRight=bs,Bn.forIn=function(e,t){return null==e?e:mr(e,si(t,3),Ma)},Bn.forInRight=function(e,t){return null==e?e:yr(e,si(t,3),Ma)},Bn.forOwn=function(e,t){return e&&br(e,si(t,3))},Bn.forOwnRight=function(e,t){return e&&vr(e,si(t,3))},Bn.get=Aa,Bn.gt=js,Bn.gte=Us,Bn.has=function(e,t){return null!=e&&hi(e,t,Ar)},Bn.hasIn=Ca,Bn.head=Hi,Bn.identity=nc,Bn.includes=function(e,t,n,r){e=Hs(e)?e:$a(e),n=n&&!r?ha(n):0;var o=e.length;return n<0&&(n=mn(o+n,0)),sa(e)?n<=o&&e.indexOf(t,n)>-1:!!o&&$t(e,t,n)>-1},Bn.indexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var o=null==n?0:ha(n);return o<0&&(o=mn(r+o,0)),$t(e,t,o)},Bn.inRange=function(e,t,n){return t=fa(t),n===o?(n=t,t=0):n=fa(n),function(e,t,n){return e>=yn(t,n)&&e<mn(t,n)}(e=ga(e),t,n)},Bn.invoke=Ta,Bn.isArguments=zs,Bn.isArray=Vs,Bn.isArrayBuffer=qs,Bn.isArrayLike=Hs,Bn.isArrayLikeObject=Gs,Bn.isBoolean=function(e){return!0===e||!1===e||ea(e)&&xr(e)==y},Bn.isBuffer=Ws,Bn.isDate=Ks,Bn.isElement=function(e){return ea(e)&&1===e.nodeType&&!ra(e)},Bn.isEmpty=function(e){if(null==e)return!0;if(Hs(e)&&(Vs(e)||"string"==typeof e||"function"==typeof e.splice||Ws(e)||ca(e)||zs(e)))return!e.length;var t=fi(e);if(t==S||t==k)return!e.size;if(wi(e))return!Rr(e).length;for(var n in e)if(De.call(e,n))return!1;return!0},Bn.isEqual=function(e,t){return Pr(e,t)},Bn.isEqualWith=function(e,t,n){var r=(n="function"==typeof n?n:o)?n(e,t):o;return r===o?Pr(e,t,o,n):!!r},Bn.isError=Ys,Bn.isFinite=function(e){return"number"==typeof e&&Ft(e)},Bn.isFunction=Js,Bn.isInteger=Xs,Bn.isLength=Zs,Bn.isMap=ta,Bn.isMatch=function(e,t){return e===t||Mr(e,t,ci(t))},Bn.isMatchWith=function(e,t,n){return n="function"==typeof n?n:o,Mr(e,t,ci(t),n)},Bn.isNaN=function(e){return na(e)&&e!=+e},Bn.isNative=function(e){if(_i(e))throw new we("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Or(e)},Bn.isNil=function(e){return null==e},Bn.isNull=function(e){return null===e},Bn.isNumber=na,Bn.isObject=Qs,Bn.isObjectLike=ea,Bn.isPlainObject=ra,Bn.isRegExp=oa,Bn.isSafeInteger=function(e){return Xs(e)&&e>=-9007199254740991&&e<=d},Bn.isSet=ia,Bn.isString=sa,Bn.isSymbol=aa,Bn.isTypedArray=ca,Bn.isUndefined=function(e){return e===o},Bn.isWeakMap=function(e){return ea(e)&&fi(e)==P},Bn.isWeakSet=function(e){return ea(e)&&"[object WeakSet]"==xr(e)},Bn.join=function(e,t){return null==e?"":qt.call(e,t)},Bn.kebabCase=Va,Bn.last=Yi,Bn.lastIndexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=r;return n!==o&&(i=(i=ha(n))<0?mn(r+i,0):yn(i,r-1)),t==t?function(e,t,n){for(var r=n+1;r--;)if(e[r]===t)return r;return r}(e,t,i):Bt(e,Ut,i,!0)},Bn.lowerCase=qa,Bn.lowerFirst=Ha,Bn.lt=la,Bn.lte=ua,Bn.max=function(e){return e&&e.length?hr(e,nc,Ir):o},Bn.maxBy=function(e,t){return e&&e.length?hr(e,si(t,2),Ir):o},Bn.mean=function(e){return zt(e,nc)},Bn.meanBy=function(e,t){return zt(e,si(t,2))},Bn.min=function(e){return e&&e.length?hr(e,nc,Nr):o},Bn.minBy=function(e,t){return e&&e.length?hr(e,si(t,2),Nr):o},Bn.stubArray=pc,Bn.stubFalse=gc,Bn.stubObject=function(){return{}},Bn.stubString=function(){return""},Bn.stubTrue=function(){return!0},Bn.multiply=wc,Bn.nth=function(e,t){return e&&e.length?jr(e,ha(t)):o},Bn.noConflict=function(){return dt._===this&&(dt._=Be),this},Bn.noop=ac,Bn.now=As,Bn.pad=function(e,t,n){e=ya(e);var r=(t=ha(t))?un(e):0;if(!t||r>=t)return e;var o=(t-r)/2;return zo(ht(o),n)+e+zo(ft(o),n)},Bn.padEnd=function(e,t,n){e=ya(e);var r=(t=ha(t))?un(e):0;return t&&r<t?e+zo(t-r,n):e},Bn.padStart=function(e,t,n){e=ya(e);var r=(t=ha(t))?un(e):0;return t&&r<t?zo(t-r,n)+e:e},Bn.parseInt=function(e,t,n){return n||null==t?t=0:t&&(t=+t),vn(ya(e).replace(re,""),t||0)},Bn.random=function(e,t,n){if(n&&"boolean"!=typeof n&&yi(e,t,n)&&(t=n=o),n===o&&("boolean"==typeof t?(n=t,t=o):"boolean"==typeof e&&(n=e,e=o)),e===o&&t===o?(e=0,t=1):(e=fa(e),t===o?(t=e,e=0):t=fa(t)),e>t){var r=e;e=t,t=r}if(n||e%1||t%1){var i=_n();return yn(e+i*(t-e+at("1e-"+((i+"").length-1))),t)}return Hr(e,t)},Bn.reduce=function(e,t,n){var r=Vs(e)?Dt:Ht,o=arguments.length<3;return r(e,si(t,4),n,o,ur)},Bn.reduceRight=function(e,t,n){var r=Vs(e)?Rt:Ht,o=arguments.length<3;return r(e,si(t,4),n,o,dr)},Bn.repeat=function(e,t,n){return t=(n?yi(e,t,n):t===o)?1:ha(t),Gr(ya(e),t)},Bn.replace=function(){var e=arguments,t=ya(e[0]);return e.length<3?t:t.replace(e[1],e[2])},Bn.result=function(e,t,n){var r=-1,i=(t=yo(t,e)).length;for(i||(i=1,e=o);++r<i;){var s=null==e?o:e[Fi(t[r])];s===o&&(r=i,s=n),e=Js(s)?s.call(e):s}return e},Bn.round=Sc,Bn.runInContext=e,Bn.sample=function(e){return(Vs(e)?Yn:Kr)(e)},Bn.size=function(e){if(null==e)return 0;if(Hs(e))return sa(e)?un(e):e.length;var t=fi(e);return t==S||t==k?e.size:Rr(e).length},Bn.snakeCase=Ga,Bn.some=function(e,t,n){var r=Vs(e)?Nt:to;return n&&yi(e,t,n)&&(t=o),r(e,si(t,3))},Bn.sortedIndex=function(e,t){return no(e,t)},Bn.sortedIndexBy=function(e,t,n){return ro(e,t,si(n,2))},Bn.sortedIndexOf=function(e,t){var n=null==e?0:e.length;if(n){var r=no(e,t);if(r<n&&$s(e[r],t))return r}return-1},Bn.sortedLastIndex=function(e,t){return no(e,t,!0)},Bn.sortedLastIndexBy=function(e,t,n){return ro(e,t,si(n,2),!0)},Bn.sortedLastIndexOf=function(e,t){if(null!=e&&e.length){var n=no(e,t,!0)-1;if($s(e[n],t))return n}return-1},Bn.startCase=Wa,Bn.startsWith=function(e,t,n){return e=ya(e),n=null==n?0:ir(ha(n),0,e.length),t=so(t),e.slice(n,n+t.length)==t},Bn.subtract=xc,Bn.sum=function(e){return e&&e.length?Gt(e,nc):0},Bn.sumBy=function(e,t){return e&&e.length?Gt(e,si(t,2)):0},Bn.template=function(e,t,n){var r=Bn.templateSettings;n&&yi(e,t,n)&&(t=o),e=ya(e),t=_a({},t,r,Jo);var i,s,a=_a({},t.imports,r.imports,Jo),c=Pa(a),l=Jt(a,c),u=0,d=t.interpolate||ve,f="__p += '",h=Ae((t.escape||ve).source+"|"+d.source+"|"+(d===X?de:ve).source+"|"+(t.evaluate||ve).source+"|$","g"),p="//# sourceURL="+(De.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++rt+"]")+"\n";e.replace(h,function(t,n,r,o,a,c){return r||(r=o),f+=e.slice(u,c).replace(_e,nn),n&&(i=!0,f+="' +\n__e("+n+") +\n'"),a&&(s=!0,f+="';\n"+a+";\n__p += '"),r&&(f+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),u=c+t.length,t}),f+="';\n";var g=De.call(t,"variable")&&t.variable;if(g){if(le.test(g))throw new we("Invalid `variable` option passed into `_.template`")}else f="with (obj) {\n"+f+"\n}\n";f=(s?f.replace(z,""):f).replace(V,"$1").replace(q,"$1;"),f="function("+(g||"obj")+") {\n"+(g?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(i?", __e = _.escape":"")+(s?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+f+"return __p\n}";var m=Xa(function(){return Se(c,p+"return "+f).apply(o,l)});if(m.source=f,Ys(m))throw m;return m},Bn.times=function(e,t){if((e=ha(e))<1||e>d)return[];var n=h,r=yn(e,h);t=si(t),e-=h;for(var o=Wt(r,t);++n<e;)t(n);return o},Bn.toFinite=fa,Bn.toInteger=ha,Bn.toLength=pa,Bn.toLower=function(e){return ya(e).toLowerCase()},Bn.toNumber=ga,Bn.toSafeInteger=function(e){return e?ir(ha(e),-9007199254740991,d):0===e?e:0},Bn.toString=ya,Bn.toUpper=function(e){return ya(e).toUpperCase()},Bn.trim=function(e,t,n){if((e=ya(e))&&(n||t===o))return Kt(e);if(!e||!(t=so(t)))return e;var r=dn(e),i=dn(t);return vo(r,Zt(r,i),Qt(r,i)+1).join("")},Bn.trimEnd=function(e,t,n){if((e=ya(e))&&(n||t===o))return e.slice(0,fn(e)+1);if(!e||!(t=so(t)))return e;var r=dn(e);return vo(r,0,Qt(r,dn(t))+1).join("")},Bn.trimStart=function(e,t,n){if((e=ya(e))&&(n||t===o))return e.replace(re,"");if(!e||!(t=so(t)))return e;var r=dn(e);return vo(r,Zt(r,dn(t))).join("")},Bn.truncate=function(e,t){var n=30,r="...";if(Qs(t)){var i="separator"in t?t.separator:i;n="length"in t?ha(t.length):n,r="omission"in t?so(t.omission):r}var s=(e=ya(e)).length;if(rn(e)){var a=dn(e);s=a.length}if(n>=s)return e;var c=n-un(r);if(c<1)return r;var l=a?vo(a,0,c).join(""):e.slice(0,c);if(i===o)return l+r;if(a&&(c+=l.length-c),oa(i)){if(e.slice(c).search(i)){var u,d=l;for(i.global||(i=Ae(i.source,ya(fe.exec(i))+"g")),i.lastIndex=0;u=i.exec(d);)var f=u.index;l=l.slice(0,f===o?c:f)}}else if(e.indexOf(so(i),c)!=c){var h=l.lastIndexOf(i);h>-1&&(l=l.slice(0,h))}return l+r},Bn.unescape=function(e){return(e=ya(e))&&W.test(e)?e.replace(H,hn):e},Bn.uniqueId=function(e){var t=++Re;return ya(e)+t},Bn.upperCase=Ka,Bn.upperFirst=Ya,Bn.each=ys,Bn.eachRight=bs,Bn.first=Hi,sc(Bn,(mc={},br(Bn,function(e,t){De.call(Bn.prototype,t)||(mc[t]=e)}),mc),{chain:!1}),Bn.VERSION="4.17.21",At(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){Bn[e].placeholder=Bn}),At(["drop","take"],function(e,t){zn.prototype[e]=function(n){n=n===o?1:mn(ha(n),0);var r=this.__filtered__&&!t?new zn(this):this.clone();return r.__filtered__?r.__takeCount__=yn(n,r.__takeCount__):r.__views__.push({size:yn(n,h),type:e+(r.__dir__<0?"Right":"")}),r},zn.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}}),At(["filter","map","takeWhile"],function(e,t){var n=t+1,r=1==n||3==n;zn.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:si(e,3),type:n}),t.__filtered__=t.__filtered__||r,t}}),At(["head","last"],function(e,t){var n="take"+(t?"Right":"");zn.prototype[e]=function(){return this[n](1).value()[0]}}),At(["initial","tail"],function(e,t){var n="drop"+(t?"":"Right");zn.prototype[e]=function(){return this.__filtered__?new zn(this):this[n](1)}}),zn.prototype.compact=function(){return this.filter(nc)},zn.prototype.find=function(e){return this.filter(e).head()},zn.prototype.findLast=function(e){return this.reverse().find(e)},zn.prototype.invokeMap=Wr(function(e,t){return"function"==typeof e?new zn(this):this.map(function(n){return Er(n,e,t)})}),zn.prototype.reject=function(e){return this.filter(Rs(si(e)))},zn.prototype.slice=function(e,t){e=ha(e);var n=this;return n.__filtered__&&(e>0||t<0)?new zn(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),t!==o&&(n=(t=ha(t))<0?n.dropRight(-t):n.take(t-e)),n)},zn.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},zn.prototype.toArray=function(){return this.take(h)},br(zn.prototype,function(e,t){var n=/^(?:filter|find|map|reject)|While$/.test(t),r=/^(?:head|last)$/.test(t),i=Bn[r?"take"+("last"==t?"Right":""):t],s=r||/^find/.test(t);i&&(Bn.prototype[t]=function(){var t=this.__wrapped__,a=r?[1]:arguments,c=t instanceof zn,l=a[0],u=c||Vs(t),d=function(e){var t=i.apply(Bn,Ot([e],a));return r&&f?t[0]:t};u&&n&&"function"==typeof l&&1!=l.length&&(c=u=!1);var f=this.__chain__,h=!!this.__actions__.length,p=s&&!f,g=c&&!h;if(!s&&u){t=g?t:new zn(this);var m=e.apply(t,a);return m.__actions__.push({func:fs,args:[d],thisArg:o}),new Un(m,f)}return p&&g?e.apply(this,a):(m=this.thru(d),p?r?m.value()[0]:m.value():m)})}),At(["pop","push","shift","sort","splice","unshift"],function(e){var t=Ee[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",r=/^(?:pop|shift)$/.test(e);Bn.prototype[e]=function(){var e=arguments;if(r&&!this.__chain__){var o=this.value();return t.apply(Vs(o)?o:[],e)}return this[n](function(n){return t.apply(Vs(n)?n:[],e)})}}),br(zn.prototype,function(e,t){var n=Bn[t];if(n){var r=n.name+"";De.call(Tn,r)||(Tn[r]=[]),Tn[r].push({name:t,func:n})}}),Tn[Bo(o,2).name]=[{name:"wrapper",func:o}],zn.prototype.clone=function(){var e=new zn(this.__wrapped__);return e.__actions__=ko(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=ko(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=ko(this.__views__),e},zn.prototype.reverse=function(){if(this.__filtered__){var e=new zn(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},zn.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,n=Vs(e),r=t<0,o=n?e.length:0,i=function(e,t,n){for(var r=-1,o=n.length;++r<o;){var i=n[r],s=i.size;switch(i.type){case"drop":e+=s;break;case"dropRight":t-=s;break;case"take":t=yn(t,e+s);break;case"takeRight":e=mn(e,t-s)}}return{start:e,end:t}}(0,o,this.__views__),s=i.start,a=i.end,c=a-s,l=r?a:s-1,u=this.__iteratees__,d=u.length,f=0,h=yn(c,this.__takeCount__);if(!n||!r&&o==c&&h==c)return fo(e,this.__actions__);var p=[];e:for(;c--&&f<h;){for(var g=-1,m=e[l+=t];++g<d;){var y=u[g],b=y.iteratee,v=y.type,_=b(m);if(2==v)m=_;else if(!_){if(1==v)continue e;break e}}p[f++]=m}return p},Bn.prototype.at=hs,Bn.prototype.chain=function(){return ds(this)},Bn.prototype.commit=function(){return new Un(this.value(),this.__chain__)},Bn.prototype.next=function(){this.__values__===o&&(this.__values__=da(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?o:this.__values__[this.__index__++]}},Bn.prototype.plant=function(e){for(var t,n=this;n instanceof jn;){var r=Bi(n);r.__index__=0,r.__values__=o,t?i.__wrapped__=r:t=r;var i=r;n=n.__wrapped__}return i.__wrapped__=e,t},Bn.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof zn){var t=e;return this.__actions__.length&&(t=new zn(this)),(t=t.reverse()).__actions__.push({func:fs,args:[Qi],thisArg:o}),new Un(t,this.__chain__)}return this.thru(Qi)},Bn.prototype.toJSON=Bn.prototype.valueOf=Bn.prototype.value=function(){return fo(this.__wrapped__,this.__actions__)},Bn.prototype.first=Bn.prototype.head,Ye&&(Bn.prototype[Ye]=function(){return this}),Bn}();dt._=pn,(r=function(){return pn}.call(t,n,t,e))===o||(e.exports=r)}.call(this)},2616:(e,t,n)=>{"use strict";n.d(t,{Y:()=>c});var r=n(64467);const o=Math.round;function i(e,t){const n=e.replace(/^[^(]*\((.*)/,"$1").replace(/\).*/,"").match(/\d*\.?\d+%?/g)||[],r=n.map(e=>parseFloat(e));for(let e=0;e<3;e+=1)r[e]=t(r[e]||0,n[e]||"",e);return n[3]?r[3]=n[3].includes("%")?r[3]/100:r[3]:r[3]=1,r}const s=(e,t,n)=>0===n?e:e/100;function a(e,t){const n=t||255;return e>n?n:e<0?0:e}class c{constructor(e){function t(t){return t[0]in e&&t[1]in e&&t[2]in e}if((0,r.A)(this,"isValid",!0),(0,r.A)(this,"r",0),(0,r.A)(this,"g",0),(0,r.A)(this,"b",0),(0,r.A)(this,"a",1),(0,r.A)(this,"_h",void 0),(0,r.A)(this,"_s",void 0),(0,r.A)(this,"_l",void 0),(0,r.A)(this,"_v",void 0),(0,r.A)(this,"_max",void 0),(0,r.A)(this,"_min",void 0),(0,r.A)(this,"_brightness",void 0),e)if("string"==typeof e){const n=e.trim();function o(e){return n.startsWith(e)}/^#?[A-F\d]{3,8}$/i.test(n)?this.fromHexString(n):o("rgb")?this.fromRgbString(n):o("hsl")?this.fromHslString(n):(o("hsv")||o("hsb"))&&this.fromHsvString(n)}else if(e instanceof c)this.r=e.r,this.g=e.g,this.b=e.b,this.a=e.a,this._h=e._h,this._s=e._s,this._l=e._l,this._v=e._v;else if(t("rgb"))this.r=a(e.r),this.g=a(e.g),this.b=a(e.b),this.a="number"==typeof e.a?a(e.a,1):1;else if(t("hsl"))this.fromHsl(e);else{if(!t("hsv"))throw new Error("@ant-design/fast-color: unsupported input "+JSON.stringify(e));this.fromHsv(e)}}setR(e){return this._sc("r",e)}setG(e){return this._sc("g",e)}setB(e){return this._sc("b",e)}setA(e){return this._sc("a",e,1)}setHue(e){const t=this.toHsv();return t.h=e,this._c(t)}getLuminance(){function e(e){const t=e/255;return t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4)}return.2126*e(this.r)+.7152*e(this.g)+.0722*e(this.b)}getHue(){if(void 0===this._h){const e=this.getMax()-this.getMin();this._h=0===e?0:o(60*(this.r===this.getMax()?(this.g-this.b)/e+(this.g<this.b?6:0):this.g===this.getMax()?(this.b-this.r)/e+2:(this.r-this.g)/e+4))}return this._h}getSaturation(){if(void 0===this._s){const e=this.getMax()-this.getMin();this._s=0===e?0:e/this.getMax()}return this._s}getLightness(){return void 0===this._l&&(this._l=(this.getMax()+this.getMin())/510),this._l}getValue(){return void 0===this._v&&(this._v=this.getMax()/255),this._v}getBrightness(){return void 0===this._brightness&&(this._brightness=(299*this.r+587*this.g+114*this.b)/1e3),this._brightness}darken(e=10){const t=this.getHue(),n=this.getSaturation();let r=this.getLightness()-e/100;return r<0&&(r=0),this._c({h:t,s:n,l:r,a:this.a})}lighten(e=10){const t=this.getHue(),n=this.getSaturation();let r=this.getLightness()+e/100;return r>1&&(r=1),this._c({h:t,s:n,l:r,a:this.a})}mix(e,t=50){const n=this._c(e),r=t/100,i=e=>(n[e]-this[e])*r+this[e],s={r:o(i("r")),g:o(i("g")),b:o(i("b")),a:o(100*i("a"))/100};return this._c(s)}tint(e=10){return this.mix({r:255,g:255,b:255,a:1},e)}shade(e=10){return this.mix({r:0,g:0,b:0,a:1},e)}onBackground(e){const t=this._c(e),n=this.a+t.a*(1-this.a),r=e=>o((this[e]*this.a+t[e]*t.a*(1-this.a))/n);return this._c({r:r("r"),g:r("g"),b:r("b"),a:n})}isDark(){return this.getBrightness()<128}isLight(){return this.getBrightness()>=128}equals(e){return this.r===e.r&&this.g===e.g&&this.b===e.b&&this.a===e.a}clone(){return this._c(this)}toHexString(){let e="#";const t=(this.r||0).toString(16);e+=2===t.length?t:"0"+t;const n=(this.g||0).toString(16);e+=2===n.length?n:"0"+n;const r=(this.b||0).toString(16);if(e+=2===r.length?r:"0"+r,"number"==typeof this.a&&this.a>=0&&this.a<1){const t=o(255*this.a).toString(16);e+=2===t.length?t:"0"+t}return e}toHsl(){return{h:this.getHue(),s:this.getSaturation(),l:this.getLightness(),a:this.a}}toHslString(){const e=this.getHue(),t=o(100*this.getSaturation()),n=o(100*this.getLightness());return 1!==this.a?`hsla(${e},${t}%,${n}%,${this.a})`:`hsl(${e},${t}%,${n}%)`}toHsv(){return{h:this.getHue(),s:this.getSaturation(),v:this.getValue(),a:this.a}}toRgb(){return{r:this.r,g:this.g,b:this.b,a:this.a}}toRgbString(){return 1!==this.a?`rgba(${this.r},${this.g},${this.b},${this.a})`:`rgb(${this.r},${this.g},${this.b})`}toString(){return this.toRgbString()}_sc(e,t,n){const r=this.clone();return r[e]=a(t,n),r}_c(e){return new this.constructor(e)}getMax(){return void 0===this._max&&(this._max=Math.max(this.r,this.g,this.b)),this._max}getMin(){return void 0===this._min&&(this._min=Math.min(this.r,this.g,this.b)),this._min}fromHexString(e){const t=e.replace("#","");function n(e,n){return parseInt(t[e]+t[n||e],16)}t.length<6?(this.r=n(0),this.g=n(1),this.b=n(2),this.a=t[3]?n(3)/255:1):(this.r=n(0,1),this.g=n(2,3),this.b=n(4,5),this.a=t[6]?n(6,7)/255:1)}fromHsl({h:e,s:t,l:n,a:r}){if(this._h=e%360,this._s=t,this._l=n,this.a="number"==typeof r?r:1,t<=0){const e=o(255*n);this.r=e,this.g=e,this.b=e}let i=0,s=0,a=0;const c=e/60,l=(1-Math.abs(2*n-1))*t,u=l*(1-Math.abs(c%2-1));c>=0&&c<1?(i=l,s=u):c>=1&&c<2?(i=u,s=l):c>=2&&c<3?(s=l,a=u):c>=3&&c<4?(s=u,a=l):c>=4&&c<5?(i=u,a=l):c>=5&&c<6&&(i=l,a=u);const d=n-l/2;this.r=o(255*(i+d)),this.g=o(255*(s+d)),this.b=o(255*(a+d))}fromHsv({h:e,s:t,v:n,a:r}){this._h=e%360,this._s=t,this._v=n,this.a="number"==typeof r?r:1;const i=o(255*n);if(this.r=i,this.g=i,this.b=i,t<=0)return;const s=e/60,a=Math.floor(s),c=s-a,l=o(n*(1-t)*255),u=o(n*(1-t*c)*255),d=o(n*(1-t*(1-c))*255);switch(a){case 0:this.g=d,this.b=l;break;case 1:this.r=u,this.b=l;break;case 2:this.r=l,this.b=d;break;case 3:this.r=l,this.g=u;break;case 4:this.r=d,this.g=l;break;default:this.g=l,this.b=u}}fromHsvString(e){const t=i(e,s);this.fromHsv({h:t[0],s:t[1],v:t[2],a:t[3]})}fromHslString(e){const t=i(e,s);this.fromHsl({h:t[0],s:t[1],l:t[2],a:t[3]})}fromRgbString(e){const t=i(e,(e,t)=>t.includes("%")?o(e/100*255):e);this.r=t[0],this.g=t[1],this.b=t[2],this.a=t[3]}}},3325:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(84051),o=n(61433);const i=({containerSelector:e,className:t,children:n})=>{const i=(0,r.li)();return i.current||(i.current=document.createElement("div")),(0,r.Nf)(()=>{const n=document.querySelector(e||"#portals");if(!n)return;const r=i.current;return t&&r.classList.add(t),n.appendChild(r),()=>{o.Ay.render(void 0,r),n.removeChild(r)}},[t,e]),o.Ay.render(n,i.current)}},3544:(e,t,n)=>{"use strict";n.d(t,{GG:()=>h,Gn:()=>d,Su:()=>f,dS:()=>u,oL:()=>p,vs:()=>l});var r=n(23174),o=n(31481),i=n(58849),s=n(18501),a=n(86525);const c=["⠺","⠵","⠞","⠟"],l=80;function u(e,t,n,r=!1,o=l,s=!1){const a=!r&&f(t);return`${a?`${a} `:""}${p(e,t,n,(0,i.A)(d(t,n),o),s)}`}function d(e,t){const n=(0,a.WD)(e),o=(0,a.P5)(t?.story||e)?.text;if(!o)return n;const{entities:i}=e.content.text||{};if(!i?.length)return n?`${n}\n${o}`:o;const s=i.reduce((e,{type:t,offset:n,length:o})=>{if(t!==r.C7.Spoiler)return e;const i=function(e){return new Array(e).fill(void 0).map(()=>c[Math.floor(Math.random()*c.length)]).join("")}(o);return`${e.substr(0,n)}${i}${e.substr(n+o,e.length)}`},o);return n?`${n}\n${s}`:s}function f(e){const{photo:t,video:n,audio:r,voice:o,document:i,sticker:s,pollId:a,paidMedia:c,todo:l}=e.content;return e.groupedId||t||c?"🖼":n?"📹":s?s.emoji:r?"🎧":o?"🎤":i?"📎":a?"📊":l?"📝":void 0}function h(e,t,n){return g(e,t,n)}function p(e,t,n,r,o=!1){return g(e,t.content,n,t,r,o)}function g(e,t,n,r,i,a=!1){const{text:c,photo:l,video:u,audio:d,voice:f,document:h,sticker:p,contact:g,invoice:m,location:y,game:b,storyData:v,giveaway:_,giveawayResults:w,paidMedia:S,todo:x}=t,{poll:I}=n||{};let A,C=!1;const k=S?.isBought&&S.extendedMedia,E=S&&!S.isBought?S.extendedMedia:void 0,T=S&&S.extendedMedia.length>1,P=!T&&(k?.[0].video||E?.[0].duration),M=!T&&!P;return(r?.groupedId||T)&&(C=!0,A=i||e("lng_in_dlg_album")),(l||M)&&(C=!0,A=i||e("AttachPhoto")),(u||P)&&(C=!0,A=i||e(u?.isGif?"AttachGif":"AttachVideo")),p&&(A=e("AttachSticker").trim()),d&&(A=function(e){const{audio:t,text:n}=e;return t&&[t.title,t.performer].filter(Boolean).join(" — ")||n?.text}(t)||e("AttachMusic")),f&&(C=!0,A=i||e("AttachAudio")),h&&(C=!a,A=a?h.fileName:i||h.fileName),g&&(A=e("AttachContact")),I&&(A=(0,s.fd)({text:I.summary.question.text,entities:I.summary.question.entities,asPreview:!0})),m&&(A=m.extendedMedia?m.title:`${e("PaymentInvoice")}: ${m.description}`),c&&(a&&A&&!C?A+=`\n${i}`:A=i),"geo"!==y?.mediaType&&"venue"!==y?.mediaType||(A=e("Message.Location")),"geoLive"===y?.mediaType&&(A=e("Message.LiveLocation")),b&&(A=`🎮 ${b.title}`),_&&(A=e("BoostingGiveawayChannelStarted")),w&&(A=e("Message.GiveawayEndedWinners",w.winnersCount)),v&&(A=i||e(r?"ForwardedStory":"Chat.ReplyStory")),x&&(A=e("Chat.Todo.Message.Title")),A||o.bVP}},4029:(e,t,n)=>{"use strict";n.d(t,{S:()=>s,a:()=>i});var r=n(13439);let o;function i(){window.addEventListener("beforeinstallprompt",e=>{o=async()=>{e.prompt(),"accepted"===(await e.userChoice).outcome&&(0,r.ko)().setInstallPrompt({canInstall:!1})},(0,r.ko)().setInstallPrompt({canInstall:!0})})}function s(){return o}},4146:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(96540);const o=function(e,t){const n=(0,r.useRef)(void 0),{current:o}=n;return t&&void 0===e||(n.current=e),o}},4262:(e,t,n)=>{"use strict";n.d(t,{AD:()=>d,I$:()=>f,Nm:()=>h,fB:()=>g,sB:()=>p});var r=n(84051),o=n(13439),i=n(90709),s=n(96454),a=n(87357),c=n(4961),l=n(96530),u=n(50805);function d(e,t,n,r,o){const{pluralValue:i,asText:s,withMarkdown:a,renderTextFilters:c}=o||{};return e(n?`${t}You`:t,r,{withNodes:!s,withMarkdown:a,pluralValue:i,renderTextFilters:c})}function f(e,t){const{audio:n,contact:r,document:o,game:s,giveaway:a,giveawayResults:c,paidMedia:l,storyData:u,invoice:d,location:f,photo:h,pollId:p,sticker:g,video:m,voice:y}=(0,i.r_)(t);return t.groupedId||l?e("ActionPinnedMediaAlbum"):h?e("ActionPinnedMediaPhoto"):n?e("ActionPinnedMediaAudio"):y?e("ActionPinnedMediaVoice"):m?.isRound?e("ActionPinnedMediaVideoMessage"):m?.isGif?e("ActionPinnedMediaGif"):m?e("ActionPinnedMediaVideo"):g?e("ActionPinnedMediaSticker"):o?e("ActionPinnedMediaFile"):r?e("ActionPinnedMediaContact"):f?e("ActionPinnedMediaLocation"):u?e("ActionPinnedMediaStory"):d?e("ActionPinnedMediaInvoice"):s?e("ActionPinnedMediaGame",{game:s.title}):p?e("ActionPinnedMediaPoll"):a?e("ActionPinnedMediaGiveaway"):c?e("ActionPinnedMediaGiveawayResults"):void 0}function h(e,t,n){return!e||n?(0,c.A)(t):r.Ay.createElement(l.A,{className:(0,a.A)(u.A.peerLink,u.A.strong),onClick:t=>{t.stopPropagation(),(0,o.ko)().openChat({id:e})},withMultilineFix:s.Yw},(0,c.A)(t))}function p(e,t,n,i){const{noEllipsis:c}=i||{};return n||!e?t:r.Ay.createElement(l.A,{className:(0,a.A)(u.A.messageLink,c&&u.A.noEllipsis),onClick:t=>{t.stopPropagation(),(0,o.ko)().focusMessage({chatId:e.chatId,messageId:e.id})},withMultilineFix:s.Yw},t)}function g(e,t){const n="missed"===e.reason,r="busy"===e.reason||void 0===e.duration;return e.isVideo?n?t?"CallMessageVideoOutgoingMissed":"CallMessageVideoIncomingMissed":r?"CallMessageVideoIncomingDeclined":t?"CallMessageVideoOutgoing":"CallMessageVideoIncoming":n?t?"CallMessageOutgoingMissed":"CallMessageIncomingMissed":r?"CallMessageIncomingDeclined":t?"CallMessageOutgoing":"CallMessageIncoming"}},4350:(e,t,n)=>{"use strict";n.d(t,{Nv:()=>m,Ph:()=>p,Xz:()=>s,a9:()=>c,gD:()=>g,pg:()=>u,pn:()=>l,rL:()=>a,zk:()=>d});var r=n(31481),o=n(63495);const i="undefined"!=typeof WorkerGlobalScope&&globalThis.self instanceof WorkerGlobalScope?globalThis.self.name:void 0,s=(i?Number(new URLSearchParams(i).get(r.r6P)):void 0)||(o.vM?function(e){const t=new URL(e).searchParams.get(r.r6P),n=t?Number(t):1;return!n||Number.isNaN(n)||1===n?void 0:n}(globalThis.location.href):void 0),a=`${r.YAK}_${s||1}`,c=`${r.L3V}_${s||1}`,l=`${r.z2M}_${s||1}`,u=s?`${r.iJx}_${s}`:r.iJx;function d(){if(!o.vM)return{};const e={};for(let t=1;t<=r.ACj;t++){const n=f(t);n&&(e[t]=n)}return e}function f(e){const t=h(e),{userId:n,avatarUri:r,color:o,emojiStatusId:i,firstName:s,lastName:a,isPremium:c,isTest:l,phone:u}=t||{};if(n)return{userId:n,avatarUri:r,color:o,emojiStatusId:i,firstName:s,lastName:a,isPremium:c,isTest:l,phone:u}}function h(e){try{const t=JSON.parse(localStorage.getItem(`${r.um6}${e||1}`)||"{}");if(!t.dcId)return;return t}catch(e){return}}function p(e,t){const n=h(e);if(!n)return;const r={...n,...t};r.userId&&g(e,r)}function g(e,t){localStorage.setItem(`${r.um6}${e||1}`,JSON.stringify(t))}function m(e,t){const n=new URL(globalThis.location.href);return 1!==e?n.searchParams.set(r.r6P,String(e)):n.searchParams.delete(r.r6P),n.hash=t?"login":"",n.toString()}if("object"==typeof window){const e=new BroadcastChannel("tt-version");e.postMessage({version:"0.0.20"}),e.addEventListener("message",t=>{const{version:n}=t.data;n&&(-1===y("0.0.20",n)&&window.location.reload(),1===y("0.0.20",n)&&e.postMessage({version:"0.0.20"}))})}function y(e,t){return e.startsWith(`${t}-`)?-1:t.startsWith(`${e}-`)?1:e.localeCompare(t,void 0,{numeric:!0,sensitivity:"case",caseFirst:"upper"})}},4424:(e,t,n)=>{"use strict";n.d(t,{D:()=>r});const r=`${n(62279).yH}-wave-target`},4438:(e,t,n)=>{"use strict";n.d(t,{A:()=>d});var r=n(84051),o=n(87357),i=n(37661),s=n(17712),a=n(83057),c=n(18104);function l(){return l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l.apply(null,arguments)}const u=150,d=(0,r.ph)(function(e){const{size:t=u,play:n=!0,noLoop:d=!0,className:f,noTransition:h,nonInteractive:p,onLoad:g,onClick:m,...y}=e,[b,v]=(0,i.A)(!1),_=(0,a.A)(h||b),w=(0,s.A)(()=>{v(),g?.()}),[S,x]=(0,r.J0)(String(Math.random())),I=(0,s.A)(()=>{!0===n&&x(String(Math.random())),m?.()});return r.Ay.createElement(c.A,l({className:(0,o.A)(f,_),size:t,play:!0===n?S:n,noLoop:d,onClick:p?void 0:I,onLoad:w},y))})},4961:(e,t,n)=>{"use strict";n.d(t,{A:()=>g,o:()=>w});var r=n(84051),o=n(31481),i=n(98221),s=n(96454),a=n(87357),c=n(46275),l=n(52491),u=n(24282),d=n(87894),f=n(56362),h=n(84685);const p=/(\*\*|__).+?\1/g;function g(e,t=["emoji"],n){return"string"!=typeof e?[e]:(0,d.oE)(t.reduce((e,t)=>{switch(t){case"escape_html":return function(e){const t=document.createElement("div");return e.reduce((e,n)=>"string"!=typeof n?(e.push(n),e):(t.innerText=n,e.push(t.innerHTML),e),[])}(e);case"hq_emoji":return i.A.lastIndex=0,m(e,"big","jsx");case"emoji":return i.A.lastIndex=0,m(e,"small","jsx");case"emoji_html":return i.A.lastIndex=0,m(e,"small","html");case"br":return y(e,"jsx");case"br_html":return y(e,"html");case"highlight":return o=e,s=n.highlight,o.reduce((e,t)=>{if("string"!=typeof t||!s)return e.push(t),e;const n=t.toLowerCase().indexOf(s.toLowerCase());if(n<0)return e.push(t),e;const o=[];return o.push(t.substring(0,n)),o.push(r.Ay.createElement("span",{className:"matching-text-highlight"},t.substring(n,n+s.length))),o.push(t.substring(n+s.length)),[...e,...o]},[]);case"links":return v(e);case"tg_links":return v(e,!0);case"simple_markdown":return _(e,"jsx",n?.markdownPostProcessor);case"simple_markdown_html":return _(e,"html")}var o,s;return e},[e]))}function m(e,t,n){return s.TL?e:e.reduce((e,s)=>{if("string"!=typeof s)return e.push(s),e;const c=(s=(0,u.A)(s)).split(i.A),d=s.match(i.A)||[];return e.push(c[0]),d.reduce((e,i,s)=>{const u=(0,l.mS)(i);if(u){const s=`${o.jht?o.C1b:"."}/img-apple-${"big"===t?"160":"64"}/${u}.png`,c=(0,a.A)("emoji","small"===t&&"emoji-small");if("jsx"===n){const t=l.On.has(s);e.push(r.Ay.createElement("img",{src:s,className:`${c}${t?"":" opacity-transition slow shown"}`,alt:i,"data-path":s,draggable:!1,onLoad:t?void 0:l.P_}))}"html"===n&&e.push(`<img            draggable="false"            class="${c}"            src="${s}"            alt="${i}"          />`)}else e.push(i);const d=2*s+2;return c[d]&&e.push(c[d]),e},e)},[])}function y(e,t){return e.reduce((e,n)=>{if("string"!=typeof n)return e.push(n),e;const o=n.split(/\r\n|\r|\n/g).reduce((e,n,o,i)=>{const s=n.trimLeft(),a=n.length-s.length;return e.push(String.fromCharCode(160).repeat(a)+s),o!==i.length-1&&e.push("jsx"===t?r.Ay.createElement("br",null):"<br />"),e},[]);return[...e,...o]},[])}const b=new RegExp(`${o.kNZ}|${o.sXR}`,"ig");function v(e,t){return e.reduce((e,n)=>{if("string"!=typeof n)return e.push(n),e;const o=n.match(b);if(!o||!o.length)return e.push(n),e;const i=[];let s=o.shift(),a=0;for(;s;){const e=n.indexOf(s,a);i.push(n.substring(a,e)),s.startsWith("@")?i.push(r.Ay.createElement(f.A,{username:s},s)):(s.endsWith("?")&&(s=s.slice(0,s.length-1)),!t||(0,c.zq)(s)?i.push(r.Ay.createElement(h.A,{text:s,url:s})):i.push(s)),a=e+s.length,s=o.shift()}return i.push(n.substring(a)),[...e,...i]},[])}function _(e,t,n){const o=n||(e=>e);return e.reduce((e,n)=>{if("string"!=typeof n)return e.push(n),e;const i=n.split(p),s=n.match(p)||[];return e.push(o(i[0])),s.reduce((e,n,s)=>{"jsx"===t?e.push(n.startsWith("**")?r.Ay.createElement("b",null,o(n.replace(/\*\*/g,""))):r.Ay.createElement("i",null,o(n.replace(/__/g,"")))):e.push(n.startsWith("**")?`<b>${n.replace(/\*\*/g,"")}</b>`:`<i>${n.replace(/__/g,"")}</i>`);const a=2*s+2;return i[a]&&e.push(o(i[a])),e},e)},[])}function w(e,t){const n=(e.trim().match(/\n/g)||"").length+1,{lineHeight:r}=getComputedStyle(t),o=parseFloat(r.split("px")[0]);return t.clientHeight>=(n+1)*o}},4990:(e,t,n)=>{"use strict";var r=n(14487),o=n(99375),i=n(87894),s=n(6e4),a=n(66414),c=n(80140),l=n(57751),u=n(84553),d=n(80025),f=n(90709),h=n(13439),p=n(17872),g=n(32989),m=n(60919),y=n(30708);function b(e,t,n){const{connectionState:o}=n;e=(0,h.mS)();const s=(0,m.nTw)(e,(0,r.g0)());if("connectionStateReady"===o&&s.isMasterTab&&s.multitabNextAction&&(t[s.multitabNextAction.action](s.multitabNextAction.payload),t.clearMultitabNextAction({tabId:s.id})),o!==e.connectionState){if(e={...e,connectionState:o},(0,h.UF)(e),e.isSynced){const n=Object.values(e.byTabId).flatMap(e=>e.messageLists).map(e=>e.chatId).filter(t=>{const n=e.chats.byId[t];return n&&((0,f.WX)(n)||(0,f.Vs)(n))});"connectionStateReady"===o&&n.length&&(0,i.Am)(n).forEach(e=>{t.requestChannelDifference({chatId:e})})}"connectionStateBroken"===o&&t.signOut({forceInitApi:!0})}}(0,h.aJ)("apiUpdate",(e,t,n)=>{switch(n["@type"]){case"updateApiReady":!function(e){(0,s.wT)((0,y.l)(e).language)}(e);break;case"updateAuthorizationState":!function(e,t){const n="authorizationStateReady"===(e=(0,h.mS)()).authState,r=t.authorizationState;switch(e={...e,authState:r,authIsLoading:!1},(0,h.UF)(e),e=(0,h.mS)(),r){case"authorizationStateLoggingOut":(0,u.nv)(!1),e={...e,isLoggingOut:!0},(0,h.UF)(e);break;case"authorizationStateWaitCode":e={...e,authIsCodeViaApp:t.isCodeViaApp},(0,h.UF)(e);break;case"authorizationStateWaitPassword":e={...e,authHint:t.hint},t.noReset&&(e={...e,hasWebAuthTokenPasswordRequired:!0}),(0,h.UF)(e);break;case"authorizationStateWaitQrCode":e={...e,authIsLoadingQrCode:!1,authQrCode:t.qrCode},(0,h.UF)(e);break;case"authorizationStateReady":if(n)break;(0,u.nv)(!0),e={...e,isLoggingOut:!1},Object.values(e.byTabId).forEach(({id:t})=>{e=(0,g.w)(e,{isInactive:!1},t)}),(0,h.UF)(e)}}(e,n);break;case"updateAuthorizationError":!function(e,t){(e={...e}).authErrorKey=t.errorKey,(0,h.UF)(e)}(e,n);break;case"updateWebAuthTokenFailed":!function(e){(0,a.fY)(),e=(0,h.mS)(),e={...e,hasWebAuthTokenFailed:!0},(0,h.UF)(e)}(e);break;case"updateConnectionState":b(e,t,n);break;case"updateSession":!function(e,t,n){const{sessionData:r}=n,{authRememberMe:o,authState:i}=e,s=!r||!r.mainDcId,a=r?.isTest;a&&(e={...e,config:{...e.config,isTestServer:a}},(0,h.UF)(e)),o&&"authorizationStateReady"===i&&!s&&t.saveSession({sessionData:r})}(e,t,n);break;case"updateServerTimeOffset":!function(e){(0,c.SH)(e.serverTimeOffset)}(n);break;case"updateCurrentUser":(0,d.Q)(n.currentUser.id),function(e,t){const{currentUser:n,currentUserFullInfo:r}=t;e={...(0,p.TKu)(e,n.id,n),currentUserId:n.id},e=(0,p.weB)(e,n.id,r),(0,h.UF)(e),(0,l.id)(n.id)}(e,n);break;case"requestReconnectApi":e={...e,isSynced:!1},(0,h.UF)(e),b(e,t,{"@type":"updateConnectionState",connectionState:"connectionStateConnecting"}),t.initApi();break;case"requestSync":t.sync();break;case"updateFetchingDifference":e={...e,isFetchingDifference:n.isFetching},(0,h.UF)(e);break;case"error":Object.values(e.byTabId).forEach(({id:e})=>{const r=(0,o.zr)(n.error);r?t.addPaymentError({error:r,tabId:e}):(0,o.Dd)(n.error)?t.closePaymentModal({tabId:e}):t.showDialog&&t.showDialog({data:n.error,tabId:e})});break;case"notSupportedInFrozenAccount":t.showNotification({title:{key:"NotificationTitleNotSupportedInFrozenAccount"},message:{key:"NotificationMessageNotSupportedInFrozenAccount"},tabId:(0,r.g0)()})}})},5056:(e,t,n)=>{"use strict";n.d(t,{n:()=>o});var r=n(14487);function o(e,...[t=(0,r.g0)()]){return e.byTabId[t]}},5338:(e,t,n)=>{"use strict";var r=n(40961);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},5544:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(96369),o=n(27800),i=n(76562);function s(e,t){return(0,r.A)(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,s,a=[],c=!0,l=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(a.push(r.value),a.length!==t);c=!0);}catch(e){l=!0,o=e}finally{try{if(!c&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(l)throw o}}return a}}(e,t)||(0,o.A)(e,t)||(0,i.A)()}},5556:(e,t,n)=>{"use strict";n.d(t,{s:()=>o});var r=n(77787);const o=new class{constructor(){var e,t,n;e=this,n={emails:[],calendlyUrls:[]},(t=function(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t="userInformation"))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}get informations(){return this.userInformation}initLocalInformation(){r.zs.general?.get(r.j0).then(e=>{e&&(this.userInformation=e)})}collectInformation(e){const{emails:t,calendlyUrls:n}=this.userInformation,r=e.match(/[\w.-]+@[\w.-]+\.[a-zA-Z]{2,}/),o=e.match(/https?:\/\/calendly\.com\/([\w-]+)\/(\d+)min/);r&&!t.includes(r[0])&&this.setInfoOption({emails:[...t,r[0]]}),o&&!n.includes(o[0])&&this.setInfoOption({calendlyUrls:[...n,o[0]]})}setInfoOption(e){this.userInformation={...this.userInformation,...e},r.zs.general?.set(r.j0,this.userInformation)}}},5560:(e,t,n)=>{"use strict";n.d(t,{Ac:()=>D,B1:()=>R,BA:()=>k,DJ:()=>F,Kz:()=>B,M2:()=>S,Mi:()=>$,Oq:()=>L,al:()=>M,wC:()=>E,xe:()=>T});var r=n(84051),o=n(13439),i=n(23174),s=n(31481),a=n(90709),c=n(27109),l=n(70636),u=n(60919),d=n(51580),f=n(96454),h=n(6842),p=n(87894),g=n(58554),m=n(6e4),y=n(37836),b=n(80140),v=n(18653);function _(e){const t=e.toJSON();return JSON.stringify({endpoint:t.endpoint,keys:t.keys})}function w(){return!(!f.Tz||f.cp||("showNotification"in ServiceWorkerRegistration.prototype?"denied"===Notification.permission?(s.Oig&&console.warn("[PUSH] The user has blocked push notifications."),1):!("PushManager"in window)&&(s.Oig&&console.warn("[PUSH] Push messaging isn't supported."),1):(s.Oig&&console.warn("[PUSH] Push notifications aren't supported."),1)))}function S(){return"Notification"in window?"denied"!==Notification.permission||(s.Oig&&console.warn("[PUSH] The user has blocked push notifications."),!1):(s.Oig&&console.warn("[PUSH] This browser does not support desktop notification"),!1)}const x=432e5,I=3e3,A=new Set,C=new Audio("./notification.mp3");async function k(e,t){if(void 0!==e&&A.has(e))return;const{notificationSoundVolume:n}=(0,u.eCL)((0,o.mS)()),r=t?t/10:n/10;if(0!==r){C.volume=r,void 0!==e&&(C.addEventListener("ended",()=>{A.add(e)},{once:!0}),setTimeout(()=>{A.delete(e)},I));try{await C.play()}catch(e){s.Oig&&console.warn("[PUSH] Unable to play notification sound")}}}C.setAttribute("mozaudiochannel","notification");const E=(0,y.sg)(k,1e3,!0,!1);async function T(){if(!("Notification"in window))return!1;let e=Notification.permission;return["granted","denied"].includes(e)||(e=await Notification.requestPermission()),"granted"===e}async function P(e){const{deleteDeviceToken:t}=(0,o.ko)();if(e)try{const n=_(e);return await(0,d.px)("unregisterDevice",n),await e.unsubscribe(),void t()}catch(e){s.Oig&&console.log("[PUSH] Unable to unsubscribe from push.",e)}const n=(0,o.mS)();n.push&&(await(0,d.px)("unregisterDevice",n.push.deviceToken),t())}async function M(){if(!w())return;const e=await navigator.serviceWorker.ready,t=await e.pushManager.getSubscription();await P(t)}let O=!1;function D(){return O}async function R(){const{setDeviceToken:e,updateWebNotificationSettings:t}=(0,o.ko)();let n=!1,r=!1;if(!w())return n=await T(),void t({hasWebNotifications:n,hasPushNotifications:r});const i=await navigator.serviceWorker.ready;let a=await i.pushManager.getSubscription();if(function(e){const t=(0,o.mS)();return!t.push||!e||_(e)!==t.push.deviceToken||Date.now()-t.push.subscribedAt>x}(a)){await P(a);try{a=await i.pushManager.subscribe({userVisibleOnly:!0});const t=_(a);s.Oig&&console.log("[PUSH] Received push subscription: ",t),await(0,d.px)("registerDevice",t),e({token:t}),r=!0,n=!0}catch(e){"denied"===Notification.permission?s.Oig&&console.warn("[PUSH] The user has blocked push notifications."):(s.Oig&&console.log("[PUSH] Unable to subscribe to push.",e),[DOMException.ABORT_ERR,DOMException.NOT_SUPPORTED_ERR].includes(e.code)&&(O=!0,n=await T()))}t({hasWebNotifications:n,hasPushNotifications:r})}}async function N(e){const t=(0,a.cP)(e);if(!t)return;let n=g.Ih(t);return n||(await g.hd(t,i.qZ.BlobUrl),n=g.Ih(t)),n}async function F({call:e,user:t}){const{hasWebNotifications:n}=(0,u.eCL)((0,o.mS)());if(document.hasFocus()||!n)return;if(!S())return;const r=await N(t),i={body:(0,a.Yg)(t),icon:r,badge:r,tag:`call_${e.id}`};"vibrate"in navigator&&(i.vibrate=[200,100,200]);const s=new Notification((0,m.yE)("VoipIncoming"),i);s.onclick=()=>{s.close(),window.focus&&window.focus()}}async function L({chat:e,message:t,isReaction:n=!1}){const i=(0,o.mS)(),{hasWebNotifications:g}=(0,u.eCL)(i);if(!function(e,t){const n=(0,o.mS)(),r=(0,c.If)(e,(0,u.K52)(n),(0,u.P5N)(n,e.id)),i=(0,u.nkm)(n,t),s=i?.notifySettings.mutedUntil,a=void 0===s?r:s>(0,b.Fm)(),l=t.isMentioned,d="phoneCall"!==t.content?.action?.type;if(a&&!l||!d||e.isNotJoined||!e.isListed||(0,u.nZ4)(n,e.id))return!1;if(f.TF){const{chatId:t,type:r}=(0,u.Xf0)(n)||{};return!(t===e.id&&"thread"===r)}return!document.hasFocus()}(e,t))return;const y=(0,c.sh)(e,(0,u.K52)((0,o.mS)()),(0,u.P5N)((0,o.mS)(),e.id)),_=(0,u.nkm)(i,t),x=void 0===_?.notifySettings.hasSound?y:!_.notifySettings.hasSound,I=S();if(!g||!I)return void(x||t.isSilent||n||f.cp||E(String(t.id)||e.id));if(!I)return;if(!t.id)return;const A=(0,a.cU)(t);if(n&&!A)return;n&&A&&"custom"===A.reaction.type&&await async function(e){let t=(0,o.mS)();if(t.customEmojis.byId[e])return;const n=await(0,d.px)("fetchCustomEmoji",{documentId:[e]});n&&(t=(0,o.mS)(),t={...t,customEmojis:{...t.customEmojis,byId:{...t.customEmojis.byId,...(0,p.dU)(n,"id")}}},(0,o.UF)(t))}(A.reaction.documentId);const C=await N(e),{title:k,body:T}=function(e,t,n){const i=(0,o.mS)();let d=(0,u.Y7C)(i,t);const f=Boolean(n);f&&(d=(0,u.PVB)(i,n.peerId));const{isScreenLocked:p}=i.passcode,g=(0,a.e7)(e)===i.currentUserId;let y;if(!p&&(0,c.o3)(e,(0,u.K52)(i),(0,u.P5N)(i,e.id))){const i=d?(0,l.Q5)(m.yE,e.id,d):void 0;let s=(0,h.A)(r.Ay.createElement("span",null,r.Ay.createElement(v.A,{message:t})))[0].textContent||"";if(f){const e=function(e){let t;return"emoji"===e.reaction.type&&(t=e.reaction.emoticon),"custom"===e.reaction.type&&(t=(0,o.mS)().customEmojis.byId[e.reaction.documentId]?.emoji),t||"❤️"}(n);s=(0,m.yE)("PushReactText",[e,s])}y=i?`${i}: ${s}`:s}else y="New message";let b=p?s.C39:(0,a.Js)(m.yE,e,g);return t.isSilent&&(b+=" 🔕"),{title:b,body:y}}(e,t,A);if(w())navigator.serviceWorker?.controller&&navigator.serviceWorker.controller.postMessage({type:"showMessageNotification",payload:{title:k,body:T,icon:C,chatId:e.id,messageId:t.id,shouldReplaceHistory:!0,isSilent:x||t.isSilent,reaction:A?.reaction}});else{const r=(0,o.ko)(),i={body:T,icon:C,badge:C,tag:String(t.id)};"vibrate"in navigator&&(i.vibrate=[200,100,200]);const s=new Notification(k,i);s.onclick=()=>{s.close(),r.focusMessage({chatId:e.id,messageId:t.id,shouldReplaceHistory:!0}),window.focus&&window.focus()},s.onshow=()=>{n||t.isSilent||f.cp||E(String(t.id)||e.id)}}}function B(e){!s.W75&&navigator.serviceWorker?.controller&&navigator.serviceWorker.controller.postMessage({type:"closeMessageNotifications",payload:e})}function $(){navigator.serviceWorker?.controller&&navigator.serviceWorker.controller.postMessage({type:"clientReady"})}},5718:(e,t,n)=>{"use strict";n.d(t,{R:()=>i});var r=n(84051),o=n(22237);function i(e,t){const n=(0,r.li)(!0);n.current&&(n.current=!1,t?.forEach(t=>{(0,o.Hp)(t)&&t.subscribe(e)})),(0,r._W)(()=>{(0,o.cO)(e)})}},5912:(e,t,n)=>{"use strict";n.d(t,{BL:()=>c,Vz:()=>u,mv:()=>l});var r=n(84051),o=n(46536),i=n(37836),s=n(84080),a=n(17712);function c({rootRef:e,throttleMs:t,throttleScheduler:n,debounceMs:c,shouldSkipFirst:l,margin:u,threshold:d,isDisabled:f},h){const p=(0,r.li)(),g=(0,r.li)(),m=(0,r.li)(0),y=(0,r.li)();g.current=h;const b=(0,a.A)(()=>{m.current++}),v=(0,a.A)(()=>{m.current&&(m.current--,!m.current&&y.current&&(y.current(),y.current=void 0))});return(0,s.Ay)(b,v),(0,r.vJ)(()=>{if(!f)return()=>{p.current&&(p.current.observer.disconnect(),p.current.destroy(),p.current=void 0)}},[f]),{observe:(0,a.A)((r,s)=>{p.current||function(){const r=new Map,s=new Map;let a;function f(){if(m.current)return void(y.current=a);const e=Array.from(s.values());e.forEach(e=>{const t=r.get(e.target);t?.runCallbacks(e)}),g.current&&g.current(e),s.clear()}a="function"==typeof n?(0,i.nb)(n,f):t?(0,i.nF)(f,t,!l):c?(0,i.sg)(f,c,!l):f;const h=new IntersectionObserver(e=>{e.forEach(e=>{s.set(e.target,e)}),m.current?y.current=a:a()},{root:e.current,rootMargin:u?`${u}px`:void 0,threshold:d});p.current={observer:h,addCallback:function(e,t){r.get(e)||r.set(e,(0,o.h)()),r.get(e).addCallback(t)},removeCallback:function(e,t){const n=r.get(e);n&&(n.removeCallback(t),n.hasCallbacks()||r.delete(e))},destroy:function(){r.clear(),h.disconnect(),s.clear()}}}();const a=p.current;return a.observer.observe(r),s&&a.addCallback(r,s),()=>{s&&a.removeCallback(r,s),a.observer.unobserve(r)}}),freeze:b,unfreeze:v}}function l(e,t,n){const o=(0,a.A)(n);(0,r.vJ)(()=>t?t(e.current,o):void 0,[o,t,e])}function u(e,t,n){const[o,i]=(0,r.J0)(!t);return l(e,t,e=>{i(e.isIntersecting),n&&n(e)}),o}},5930:(e,t,n)=>{"use strict";function r(e,t){if(e===t)return!0;const n=Object.keys(e),r=n.length;if(r!==Object.keys(t).length)return!1;if(0===r)return!0;for(let o=0;o<r;o++){const r=n[o];if(e[r]!==t[r])return!1}return!0}function o(e,t,n,r=""){const o=Object.keys(e);o.length===Object.keys(t).length?(console.log(n),o.forEach(n=>{e[n]!==t[n]&&console.log(r,n,":",e[n],"=>",t[n])})):console.log(`${n} LENGTH`)}n.d(t,{A:()=>r,q:()=>o})},6372:function(e,t,n){var r;e.exports=(r=n(19021),n(57165),r.mode.CTRGladman=function(){var e=r.lib.BlockCipherMode.extend();function t(e){if(255&~(e>>24))e+=1<<24;else{var t=e>>16&255,n=e>>8&255,r=255&e;255===t?(t=0,255===n?(n=0,255===r?r=0:++r):++n):++t,e=0,e+=t<<16,e+=n<<8,e+=r}return e}var n=e.Encryptor=e.extend({processBlock:function(e,n){var r=this._cipher,o=r.blockSize,i=this._iv,s=this._counter;i&&(s=this._counter=i.slice(0),this._iv=void 0),function(e){0===(e[0]=t(e[0]))&&(e[1]=t(e[1]))}(s);var a=s.slice(0);r.encryptBlock(a,0);for(var c=0;c<o;c++)e[n+c]^=a[c]}});return e.Decryptor=n,e}(),r.mode.CTRGladman)},6440:function(e,t,n){var r;e.exports=(r=n(19021),function(){if("function"==typeof ArrayBuffer){var e=r.lib.WordArray,t=e.init,n=e.init=function(e){if(e instanceof ArrayBuffer&&(e=new Uint8Array(e)),(e instanceof Int8Array||"undefined"!=typeof Uint8ClampedArray&&e instanceof Uint8ClampedArray||e instanceof Int16Array||e instanceof Uint16Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Float32Array||e instanceof Float64Array)&&(e=new Uint8Array(e.buffer,e.byteOffset,e.byteLength)),e instanceof Uint8Array){for(var n=e.byteLength,r=[],o=0;o<n;o++)r[o>>>2]|=e[o]<<24-o%4*8;t.call(this,r,n)}else t.apply(this,arguments)};n.prototype=e}}(),r.lib.WordArray)},6837:()=>{},6842:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(61433);function o(e){const t=document.createElement("div");r.Ay.render(e,t);const n=Array.from(t.children);return r.Ay.render(void 0,t),n}},7463:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,o=e[r];if(!(0<i(o,t)))break e;e[r]=t,e[n]=o,n=r}}function r(e){return 0===e.length?null:e[0]}function o(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,o=e.length,s=o>>>1;r<s;){var a=2*(r+1)-1,c=e[a],l=a+1,u=e[l];if(0>i(c,n))l<o&&0>i(u,c)?(e[r]=u,e[l]=n,r=l):(e[r]=c,e[a]=n,r=a);else{if(!(l<o&&0>i(u,n)))break e;e[r]=u,e[l]=n,r=l}}}return t}function i(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"==typeof performance&&"function"==typeof performance.now){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,c=a.now();t.unstable_now=function(){return a.now()-c}}var l=[],u=[],d=1,f=null,h=3,p=!1,g=!1,m=!1,y="function"==typeof setTimeout?setTimeout:null,b="function"==typeof clearTimeout?clearTimeout:null,v="undefined"!=typeof setImmediate?setImmediate:null;function _(e){for(var t=r(u);null!==t;){if(null===t.callback)o(u);else{if(!(t.startTime<=e))break;o(u),t.sortIndex=t.expirationTime,n(l,t)}t=r(u)}}function w(e){if(m=!1,_(e),!g)if(null!==r(l))g=!0,D(S);else{var t=r(u);null!==t&&R(w,t.startTime-e)}}function S(e,n){g=!1,m&&(m=!1,b(C),C=-1),p=!0;var i=h;try{for(_(n),f=r(l);null!==f&&(!(f.expirationTime>n)||e&&!T());){var s=f.callback;if("function"==typeof s){f.callback=null,h=f.priorityLevel;var a=s(f.expirationTime<=n);n=t.unstable_now(),"function"==typeof a?f.callback=a:f===r(l)&&o(l),_(n)}else o(l);f=r(l)}if(null!==f)var c=!0;else{var d=r(u);null!==d&&R(w,d.startTime-n),c=!1}return c}finally{f=null,h=i,p=!1}}"undefined"!=typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var x,I=!1,A=null,C=-1,k=5,E=-1;function T(){return!(t.unstable_now()-E<k)}function P(){if(null!==A){var e=t.unstable_now();E=e;var n=!0;try{n=A(!0,e)}finally{n?x():(I=!1,A=null)}}else I=!1}if("function"==typeof v)x=function(){v(P)};else if("undefined"!=typeof MessageChannel){var M=new MessageChannel,O=M.port2;M.port1.onmessage=P,x=function(){O.postMessage(null)}}else x=function(){y(P,0)};function D(e){A=e,I||(I=!0,x())}function R(e,n){C=y(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){g||p||(g=!0,D(S))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(e){switch(h){case 1:case 2:case 3:var t=3;break;default:t=h}var n=h;h=t;try{return e()}finally{h=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=h;h=e;try{return t()}finally{h=n}},t.unstable_scheduleCallback=function(e,o,i){var s=t.unstable_now();switch(i="object"==typeof i&&null!==i&&"number"==typeof(i=i.delay)&&0<i?s+i:s,e){case 1:var a=-1;break;case 2:a=250;break;case 5:a=1073741823;break;case 4:a=1e4;break;default:a=5e3}return e={id:d++,callback:o,priorityLevel:e,startTime:i,expirationTime:a=i+a,sortIndex:-1},i>s?(e.sortIndex=i,n(u,e),null===r(l)&&e===r(u)&&(m?(b(C),C=-1):m=!0,R(w,i-s))):(e.sortIndex=a,n(l,e),g||p||(g=!0,D(S))),e},t.unstable_shouldYield=T,t.unstable_wrapCallback=function(e){var t=h;return function(){var n=h;h=t;try{return e.apply(this,arguments)}finally{h=n}}}},7541:(e,t,n)=>{"use strict";n.d(t,{A:()=>c});var r=n(58168),o=n(96540);const i={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm-32 232c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V296zm32 440a48.01 48.01 0 010-96 48.01 48.01 0 010 96z"}}]},name:"exclamation-circle",theme:"filled"};var s=n(87064),a=function(e,t){return o.createElement(s.A,(0,r.A)({},e,{ref:t,icon:i}))};const c=o.forwardRef(a)},7628:function(e,t,n){var r;e.exports=(r=n(19021),n(80754),n(84636),n(39506),n(57165),function(){var e=r,t=e.lib,n=t.WordArray,o=t.BlockCipher,i=e.algo,s=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],a=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],c=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],l=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],u=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],d=i.DES=o.extend({_doReset:function(){for(var e=this._key.words,t=[],n=0;n<56;n++){var r=s[n]-1;t[n]=e[r>>>5]>>>31-r%32&1}for(var o=this._subKeys=[],i=0;i<16;i++){var l=o[i]=[],u=c[i];for(n=0;n<24;n++)l[n/6|0]|=t[(a[n]-1+u)%28]<<31-n%6,l[4+(n/6|0)]|=t[28+(a[n+24]-1+u)%28]<<31-n%6;for(l[0]=l[0]<<1|l[0]>>>31,n=1;n<7;n++)l[n]=l[n]>>>4*(n-1)+3;l[7]=l[7]<<5|l[7]>>>27}var d=this._invSubKeys=[];for(n=0;n<16;n++)d[n]=o[15-n]},encryptBlock:function(e,t){this._doCryptBlock(e,t,this._subKeys)},decryptBlock:function(e,t){this._doCryptBlock(e,t,this._invSubKeys)},_doCryptBlock:function(e,t,n){this._lBlock=e[t],this._rBlock=e[t+1],f.call(this,4,252645135),f.call(this,16,65535),h.call(this,2,858993459),h.call(this,8,16711935),f.call(this,1,1431655765);for(var r=0;r<16;r++){for(var o=n[r],i=this._lBlock,s=this._rBlock,a=0,c=0;c<8;c++)a|=l[c][((s^o[c])&u[c])>>>0];this._lBlock=s,this._rBlock=i^a}var d=this._lBlock;this._lBlock=this._rBlock,this._rBlock=d,f.call(this,1,1431655765),h.call(this,8,16711935),h.call(this,2,858993459),f.call(this,16,65535),f.call(this,4,252645135),e[t]=this._lBlock,e[t+1]=this._rBlock},keySize:2,ivSize:2,blockSize:2});function f(e,t){var n=(this._lBlock>>>e^this._rBlock)&t;this._rBlock^=n,this._lBlock^=n<<e}function h(e,t){var n=(this._rBlock>>>e^this._lBlock)&t;this._lBlock^=n,this._rBlock^=n<<e}e.DES=o._createHelper(d);var p=i.TripleDES=o.extend({_doReset:function(){var e=this._key.words;if(2!==e.length&&4!==e.length&&e.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var t=e.slice(0,2),r=e.length<4?e.slice(0,2):e.slice(2,4),o=e.length<6?e.slice(0,2):e.slice(4,6);this._des1=d.createEncryptor(n.create(t)),this._des2=d.createEncryptor(n.create(r)),this._des3=d.createEncryptor(n.create(o))},encryptBlock:function(e,t){this._des1.encryptBlock(e,t),this._des2.decryptBlock(e,t),this._des3.encryptBlock(e,t)},decryptBlock:function(e,t){this._des3.decryptBlock(e,t),this._des2.encryptBlock(e,t),this._des1.decryptBlock(e,t)},keySize:6,ivSize:2,blockSize:2});e.TripleDES=o._createHelper(p)}(),r.TripleDES)},8063:(e,t,n)=>{"use strict";n.d(t,{Dq:()=>Rr,eW:()=>Or,Sd:()=>Dr,oS:()=>Mr,Ay:()=>Br});class r extends Error{}class o extends r{constructor(e){super(`Invalid DateTime: ${e.toMessage()}`)}}class i extends r{constructor(e){super(`Invalid Interval: ${e.toMessage()}`)}}class s extends r{constructor(e){super(`Invalid Duration: ${e.toMessage()}`)}}class a extends r{}class c extends r{constructor(e){super(`Invalid unit ${e}`)}}class l extends r{}class u extends r{constructor(){super("Zone is an abstract class")}}const d="numeric",f="short",h="long",p={year:d,month:d,day:d},g={year:d,month:f,day:d},m={year:d,month:f,day:d,weekday:f},y={year:d,month:h,day:d},b={year:d,month:h,day:d,weekday:h},v={hour:d,minute:d},_={hour:d,minute:d,second:d},w={hour:d,minute:d,second:d,timeZoneName:f},S={hour:d,minute:d,second:d,timeZoneName:h},x={hour:d,minute:d,hourCycle:"h23"},I={hour:d,minute:d,second:d,hourCycle:"h23"},A={hour:d,minute:d,second:d,hourCycle:"h23",timeZoneName:f},C={hour:d,minute:d,second:d,hourCycle:"h23",timeZoneName:h},k={year:d,month:d,day:d,hour:d,minute:d},E={year:d,month:d,day:d,hour:d,minute:d,second:d},T={year:d,month:f,day:d,hour:d,minute:d},P={year:d,month:f,day:d,hour:d,minute:d,second:d},M={year:d,month:f,day:d,weekday:f,hour:d,minute:d},O={year:d,month:h,day:d,hour:d,minute:d,timeZoneName:f},D={year:d,month:h,day:d,hour:d,minute:d,second:d,timeZoneName:f},R={year:d,month:h,day:d,weekday:h,hour:d,minute:d,timeZoneName:h},N={year:d,month:h,day:d,weekday:h,hour:d,minute:d,second:d,timeZoneName:h};class F{get type(){throw new u}get name(){throw new u}get ianaName(){return this.name}get isUniversal(){throw new u}offsetName(e,t){throw new u}formatOffset(e,t){throw new u}offset(e){throw new u}equals(e){throw new u}get isValid(){throw new u}}let L=null;class B extends F{static get instance(){return null===L&&(L=new B),L}get type(){return"system"}get name(){return(new Intl.DateTimeFormat).resolvedOptions().timeZone}get isUniversal(){return!1}offsetName(e,{format:t,locale:n}){return ot(e,t,n)}formatOffset(e,t){return ct(this.offset(e),t)}offset(e){return-new Date(e).getTimezoneOffset()}equals(e){return"system"===e.type}get isValid(){return!0}}const $=new Map,j={year:0,month:1,day:2,era:3,hour:4,minute:5,second:6},U=new Map;class z extends F{static create(e){let t=U.get(e);return void 0===t&&U.set(e,t=new z(e)),t}static resetCache(){U.clear(),$.clear()}static isValidSpecifier(e){return this.isValidZone(e)}static isValidZone(e){if(!e)return!1;try{return new Intl.DateTimeFormat("en-US",{timeZone:e}).format(),!0}catch(e){return!1}}constructor(e){super(),this.zoneName=e,this.valid=z.isValidZone(e)}get type(){return"iana"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(e,{format:t,locale:n}){return ot(e,t,n,this.name)}formatOffset(e,t){return ct(this.offset(e),t)}offset(e){if(!this.valid)return NaN;const t=new Date(e);if(isNaN(t))return NaN;const n=function(e){let t=$.get(e);return void 0===t&&(t=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:e,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",era:"short"}),$.set(e,t)),t}(this.name);let[r,o,i,s,a,c,l]=n.formatToParts?function(e,t){const n=e.formatToParts(t),r=[];for(let e=0;e<n.length;e++){const{type:t,value:o}=n[e],i=j[t];"era"===t?r[i]=o:Le(i)||(r[i]=parseInt(o,10))}return r}(n,t):function(e,t){const n=e.format(t).replace(/\u200E/g,""),r=/(\d+)\/(\d+)\/(\d+) (AD|BC),? (\d+):(\d+):(\d+)/.exec(n),[,o,i,s,a,c,l,u]=r;return[s,o,i,a,c,l,u]}(n,t);"BC"===s&&(r=1-Math.abs(r));let u=+t;const d=u%1e3;return u-=d>=0?d:1e3+d,(et({year:r,month:o,day:i,hour:24===a?0:a,minute:c,second:l,millisecond:0})-u)/6e4}equals(e){return"iana"===e.type&&e.name===this.name}get isValid(){return this.valid}}let V={};const q=new Map;function H(e,t={}){const n=JSON.stringify([e,t]);let r=q.get(n);return void 0===r&&(r=new Intl.DateTimeFormat(e,t),q.set(n,r)),r}const G=new Map,W=new Map;let K=null;const Y=new Map;function J(e){let t=Y.get(e);return void 0===t&&(t=new Intl.DateTimeFormat(e).resolvedOptions(),Y.set(e,t)),t}const X=new Map;function Z(e,t,n,r){const o=e.listingMode();return"error"===o?null:"en"===o?n(t):r(t)}class Q{constructor(e,t,n){this.padTo=n.padTo||0,this.floor=n.floor||!1;const{padTo:r,floor:o,...i}=n;if(!t||Object.keys(i).length>0){const t={useGrouping:!1,...n};n.padTo>0&&(t.minimumIntegerDigits=n.padTo),this.inf=function(e,t={}){const n=JSON.stringify([e,t]);let r=G.get(n);return void 0===r&&(r=new Intl.NumberFormat(e,t),G.set(n,r)),r}(e,t)}}format(e){if(this.inf){const t=this.floor?Math.floor(e):e;return this.inf.format(t)}return Ge(this.floor?Math.floor(e):Je(e,3),this.padTo)}}class ee{constructor(e,t,n){let r;if(this.opts=n,this.originalZone=void 0,this.opts.timeZone)this.dt=e;else if("fixed"===e.zone.type){const t=e.offset/60*-1,n=t>=0?`Etc/GMT+${t}`:`Etc/GMT${t}`;0!==e.offset&&z.create(n).valid?(r=n,this.dt=e):(r="UTC",this.dt=0===e.offset?e:e.setZone("UTC").plus({minutes:e.offset}),this.originalZone=e.zone)}else"system"===e.zone.type?this.dt=e:"iana"===e.zone.type?(this.dt=e,r=e.zone.name):(r="UTC",this.dt=e.setZone("UTC").plus({minutes:e.offset}),this.originalZone=e.zone);const o={...this.opts};o.timeZone=o.timeZone||r,this.dtf=H(t,o)}format(){return this.originalZone?this.formatToParts().map(({value:e})=>e).join(""):this.dtf.format(this.dt.toJSDate())}formatToParts(){const e=this.dtf.formatToParts(this.dt.toJSDate());return this.originalZone?e.map(e=>{if("timeZoneName"===e.type){const t=this.originalZone.offsetName(this.dt.ts,{locale:this.dt.locale,format:this.opts.timeZoneName});return{...e,value:t}}return e}):e}resolvedOptions(){return this.dtf.resolvedOptions()}}class te{constructor(e,t,n){this.opts={style:"long",...n},!t&&je()&&(this.rtf=function(e,t={}){const{base:n,...r}=t,o=JSON.stringify([e,r]);let i=W.get(o);return void 0===i&&(i=new Intl.RelativeTimeFormat(e,t),W.set(o,i)),i}(e,n))}format(e,t){return this.rtf?this.rtf.format(e,t):function(e,t,n="always",r=!1){const o={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]},i=-1===["hours","minutes","seconds"].indexOf(e);if("auto"===n&&i){const n="days"===e;switch(t){case 1:return n?"tomorrow":`next ${o[e][0]}`;case-1:return n?"yesterday":`last ${o[e][0]}`;case 0:return n?"today":`this ${o[e][0]}`}}const s=Object.is(t,-0)||t<0,a=Math.abs(t),c=1===a,l=o[e],u=r?c?l[1]:l[2]||l[1]:c?o[e][0]:e;return s?`${a} ${u} ago`:`in ${a} ${u}`}(t,e,this.opts.numeric,"long"!==this.opts.style)}formatToParts(e,t){return this.rtf?this.rtf.formatToParts(e,t):[]}}const ne={firstDay:1,minimalDays:4,weekend:[6,7]};class re{static fromOpts(e){return re.create(e.locale,e.numberingSystem,e.outputCalendar,e.weekSettings,e.defaultToEN)}static create(e,t,n,r,o=!1){const i=e||we.defaultLocale,s=i||(o?"en-US":K||(K=(new Intl.DateTimeFormat).resolvedOptions().locale,K)),a=t||we.defaultNumberingSystem,c=n||we.defaultOutputCalendar,l=qe(r)||we.defaultWeekSettings;return new re(s,a,c,l,i)}static resetCache(){K=null,q.clear(),G.clear(),W.clear(),Y.clear(),X.clear()}static fromObject({locale:e,numberingSystem:t,outputCalendar:n,weekSettings:r}={}){return re.create(e,t,n,r)}constructor(e,t,n,r,o){const[i,s,a]=function(e){const t=e.indexOf("-x-");-1!==t&&(e=e.substring(0,t));const n=e.indexOf("-u-");if(-1===n)return[e];{let t,r;try{t=H(e).resolvedOptions(),r=e}catch(o){const i=e.substring(0,n);t=H(i).resolvedOptions(),r=i}const{numberingSystem:o,calendar:i}=t;return[r,o,i]}}(e);this.locale=i,this.numberingSystem=t||s||null,this.outputCalendar=n||a||null,this.weekSettings=r,this.intl=function(e,t,n){return n||t?(e.includes("-u-")||(e+="-u"),n&&(e+=`-ca-${n}`),t&&(e+=`-nu-${t}`),e):e}(this.locale,this.numberingSystem,this.outputCalendar),this.weekdaysCache={format:{},standalone:{}},this.monthsCache={format:{},standalone:{}},this.meridiemCache=null,this.eraCache={},this.specifiedLocale=o,this.fastNumbersCached=null}get fastNumbers(){var e;return null==this.fastNumbersCached&&(this.fastNumbersCached=(!(e=this).numberingSystem||"latn"===e.numberingSystem)&&("latn"===e.numberingSystem||!e.locale||e.locale.startsWith("en")||"latn"===J(e.locale).numberingSystem)),this.fastNumbersCached}listingMode(){const e=this.isEnglish(),t=!(null!==this.numberingSystem&&"latn"!==this.numberingSystem||null!==this.outputCalendar&&"gregory"!==this.outputCalendar);return e&&t?"en":"intl"}clone(e){return e&&0!==Object.getOwnPropertyNames(e).length?re.create(e.locale||this.specifiedLocale,e.numberingSystem||this.numberingSystem,e.outputCalendar||this.outputCalendar,qe(e.weekSettings)||this.weekSettings,e.defaultToEN||!1):this}redefaultToEN(e={}){return this.clone({...e,defaultToEN:!0})}redefaultToSystem(e={}){return this.clone({...e,defaultToEN:!1})}months(e,t=!1){return Z(this,e,ht,()=>{const n="ja"===this.intl||this.intl.startsWith("ja-"),r=(t&=!n)?{month:e,day:"numeric"}:{month:e},o=t?"format":"standalone";if(!this.monthsCache[o][e]){const t=n?e=>this.dtFormatter(e,r).format():e=>this.extract(e,r,"month");this.monthsCache[o][e]=function(e){const t=[];for(let n=1;n<=12;n++){const r=mr.utc(2009,n,1);t.push(e(r))}return t}(t)}return this.monthsCache[o][e]})}weekdays(e,t=!1){return Z(this,e,yt,()=>{const n=t?{weekday:e,year:"numeric",month:"long",day:"numeric"}:{weekday:e},r=t?"format":"standalone";return this.weekdaysCache[r][e]||(this.weekdaysCache[r][e]=function(e){const t=[];for(let n=1;n<=7;n++){const r=mr.utc(2016,11,13+n);t.push(e(r))}return t}(e=>this.extract(e,n,"weekday"))),this.weekdaysCache[r][e]})}meridiems(){return Z(this,void 0,()=>bt,()=>{if(!this.meridiemCache){const e={hour:"numeric",hourCycle:"h12"};this.meridiemCache=[mr.utc(2016,11,13,9),mr.utc(2016,11,13,19)].map(t=>this.extract(t,e,"dayperiod"))}return this.meridiemCache})}eras(e){return Z(this,e,St,()=>{const t={era:e};return this.eraCache[e]||(this.eraCache[e]=[mr.utc(-40,1,1),mr.utc(2017,1,1)].map(e=>this.extract(e,t,"era"))),this.eraCache[e]})}extract(e,t,n){const r=this.dtFormatter(e,t).formatToParts().find(e=>e.type.toLowerCase()===n);return r?r.value:null}numberFormatter(e={}){return new Q(this.intl,e.forceSimple||this.fastNumbers,e)}dtFormatter(e,t={}){return new ee(e,this.intl,t)}relFormatter(e={}){return new te(this.intl,this.isEnglish(),e)}listFormatter(e={}){return function(e,t={}){const n=JSON.stringify([e,t]);let r=V[n];return r||(r=new Intl.ListFormat(e,t),V[n]=r),r}(this.intl,e)}isEnglish(){return"en"===this.locale||"en-us"===this.locale.toLowerCase()||J(this.intl).locale.startsWith("en-us")}getWeekSettings(){return this.weekSettings?this.weekSettings:Ue()?function(e){let t=X.get(e);if(!t){const n=new Intl.Locale(e);t="getWeekInfo"in n?n.getWeekInfo():n.weekInfo,"minimalDays"in t||(t={...ne,...t}),X.set(e,t)}return t}(this.locale):ne}getStartOfWeek(){return this.getWeekSettings().firstDay}getMinDaysInFirstWeek(){return this.getWeekSettings().minimalDays}getWeekendDays(){return this.getWeekSettings().weekend}equals(e){return this.locale===e.locale&&this.numberingSystem===e.numberingSystem&&this.outputCalendar===e.outputCalendar}toString(){return`Locale(${this.locale}, ${this.numberingSystem}, ${this.outputCalendar})`}}let oe=null;class ie extends F{static get utcInstance(){return null===oe&&(oe=new ie(0)),oe}static instance(e){return 0===e?ie.utcInstance:new ie(e)}static parseSpecifier(e){if(e){const t=e.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i);if(t)return new ie(it(t[1],t[2]))}return null}constructor(e){super(),this.fixed=e}get type(){return"fixed"}get name(){return 0===this.fixed?"UTC":`UTC${ct(this.fixed,"narrow")}`}get ianaName(){return 0===this.fixed?"Etc/UTC":`Etc/GMT${ct(-this.fixed,"narrow")}`}offsetName(){return this.name}formatOffset(e,t){return ct(this.fixed,t)}get isUniversal(){return!0}offset(){return this.fixed}equals(e){return"fixed"===e.type&&e.fixed===this.fixed}get isValid(){return!0}}class se extends F{constructor(e){super(),this.zoneName=e}get type(){return"invalid"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(){return null}formatOffset(){return""}offset(){return NaN}equals(){return!1}get isValid(){return!1}}function ae(e,t){if(Le(e)||null===e)return t;if(e instanceof F)return e;if("string"==typeof e){const n=e.toLowerCase();return"default"===n?t:"local"===n||"system"===n?B.instance:"utc"===n||"gmt"===n?ie.utcInstance:ie.parseSpecifier(n)||z.create(e)}return Be(e)?ie.instance(e):"object"==typeof e&&"offset"in e&&"function"==typeof e.offset?e:new se(e)}const ce={arab:"[٠-٩]",arabext:"[۰-۹]",bali:"[᭐-᭙]",beng:"[০-৯]",deva:"[०-९]",fullwide:"[０-９]",gujr:"[૦-૯]",hanidec:"[〇|一|二|三|四|五|六|七|八|九]",khmr:"[០-៩]",knda:"[೦-೯]",laoo:"[໐-໙]",limb:"[᥆-᥏]",mlym:"[൦-൯]",mong:"[᠐-᠙]",mymr:"[၀-၉]",orya:"[୦-୯]",tamldec:"[௦-௯]",telu:"[౦-౯]",thai:"[๐-๙]",tibt:"[༠-༩]",latn:"\\d"},le={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},ue=ce.hanidec.replace(/[\[|\]]/g,"").split(""),de=new Map;function fe({numberingSystem:e},t=""){const n=e||"latn";let r=de.get(n);void 0===r&&(r=new Map,de.set(n,r));let o=r.get(t);return void 0===o&&(o=new RegExp(`${ce[n]}${t}`),r.set(t,o)),o}let he,pe=()=>Date.now(),ge="system",me=null,ye=null,be=null,ve=60,_e=null;class we{static get now(){return pe}static set now(e){pe=e}static set defaultZone(e){ge=e}static get defaultZone(){return ae(ge,B.instance)}static get defaultLocale(){return me}static set defaultLocale(e){me=e}static get defaultNumberingSystem(){return ye}static set defaultNumberingSystem(e){ye=e}static get defaultOutputCalendar(){return be}static set defaultOutputCalendar(e){be=e}static get defaultWeekSettings(){return _e}static set defaultWeekSettings(e){_e=qe(e)}static get twoDigitCutoffYear(){return ve}static set twoDigitCutoffYear(e){ve=e%100}static get throwOnInvalid(){return he}static set throwOnInvalid(e){he=e}static resetCaches(){re.resetCache(),z.resetCache(),mr.resetCache(),de.clear()}}class Se{constructor(e,t){this.reason=e,this.explanation=t}toMessage(){return this.explanation?`${this.reason}: ${this.explanation}`:this.reason}}const xe=[0,31,59,90,120,151,181,212,243,273,304,334],Ie=[0,31,60,91,121,152,182,213,244,274,305,335];function Ae(e,t){return new Se("unit out of range",`you specified ${t} (of type ${typeof t}) as a ${e}, which is invalid`)}function Ce(e,t,n){const r=new Date(Date.UTC(e,t-1,n));e<100&&e>=0&&r.setUTCFullYear(r.getUTCFullYear()-1900);const o=r.getUTCDay();return 0===o?7:o}function ke(e,t,n){return n+(Xe(e)?Ie:xe)[t-1]}function Ee(e,t){const n=Xe(e)?Ie:xe,r=n.findIndex(e=>e<t);return{month:r+1,day:t-n[r]}}function Te(e,t){return(e-t+7)%7+1}function Pe(e,t=4,n=1){const{year:r,month:o,day:i}=e,s=ke(r,o,i),a=Te(Ce(r,o,i),n);let c,l=Math.floor((s-a+14-t)/7);return l<1?(c=r-1,l=nt(c,t,n)):l>nt(r,t,n)?(c=r+1,l=1):c=r,{weekYear:c,weekNumber:l,weekday:a,...lt(e)}}function Me(e,t=4,n=1){const{weekYear:r,weekNumber:o,weekday:i}=e,s=Te(Ce(r,1,t),n),a=Ze(r);let c,l=7*o+i-s-7+t;l<1?(c=r-1,l+=Ze(c)):l>a?(c=r+1,l-=Ze(r)):c=r;const{month:u,day:d}=Ee(c,l);return{year:c,month:u,day:d,...lt(e)}}function Oe(e){const{year:t,month:n,day:r}=e;return{year:t,ordinal:ke(t,n,r),...lt(e)}}function De(e){const{year:t,ordinal:n}=e,{month:r,day:o}=Ee(t,n);return{year:t,month:r,day:o,...lt(e)}}function Re(e,t){if(!Le(e.localWeekday)||!Le(e.localWeekNumber)||!Le(e.localWeekYear)){if(!Le(e.weekday)||!Le(e.weekNumber)||!Le(e.weekYear))throw new a("Cannot mix locale-based week fields with ISO-based week fields");return Le(e.localWeekday)||(e.weekday=e.localWeekday),Le(e.localWeekNumber)||(e.weekNumber=e.localWeekNumber),Le(e.localWeekYear)||(e.weekYear=e.localWeekYear),delete e.localWeekday,delete e.localWeekNumber,delete e.localWeekYear,{minDaysInFirstWeek:t.getMinDaysInFirstWeek(),startOfWeek:t.getStartOfWeek()}}return{minDaysInFirstWeek:4,startOfWeek:1}}function Ne(e){const t=$e(e.year),n=He(e.month,1,12),r=He(e.day,1,Qe(e.year,e.month));return t?n?!r&&Ae("day",e.day):Ae("month",e.month):Ae("year",e.year)}function Fe(e){const{hour:t,minute:n,second:r,millisecond:o}=e,i=He(t,0,23)||24===t&&0===n&&0===r&&0===o,s=He(n,0,59),a=He(r,0,59),c=He(o,0,999);return i?s?a?!c&&Ae("millisecond",o):Ae("second",r):Ae("minute",n):Ae("hour",t)}function Le(e){return void 0===e}function Be(e){return"number"==typeof e}function $e(e){return"number"==typeof e&&e%1==0}function je(){try{return"undefined"!=typeof Intl&&!!Intl.RelativeTimeFormat}catch(e){return!1}}function Ue(){try{return"undefined"!=typeof Intl&&!!Intl.Locale&&("weekInfo"in Intl.Locale.prototype||"getWeekInfo"in Intl.Locale.prototype)}catch(e){return!1}}function ze(e,t,n){if(0!==e.length)return e.reduce((e,r)=>{const o=[t(r),r];return e&&n(e[0],o[0])===e[0]?e:o},null)[1]}function Ve(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function qe(e){if(null==e)return null;if("object"!=typeof e)throw new l("Week settings must be an object");if(!He(e.firstDay,1,7)||!He(e.minimalDays,1,7)||!Array.isArray(e.weekend)||e.weekend.some(e=>!He(e,1,7)))throw new l("Invalid week settings");return{firstDay:e.firstDay,minimalDays:e.minimalDays,weekend:Array.from(e.weekend)}}function He(e,t,n){return $e(e)&&e>=t&&e<=n}function Ge(e,t=2){let n;return n=e<0?"-"+(""+-e).padStart(t,"0"):(""+e).padStart(t,"0"),n}function We(e){return Le(e)||null===e||""===e?void 0:parseInt(e,10)}function Ke(e){return Le(e)||null===e||""===e?void 0:parseFloat(e)}function Ye(e){if(!Le(e)&&null!==e&&""!==e){const t=1e3*parseFloat("0."+e);return Math.floor(t)}}function Je(e,t,n="round"){const r=10**t;switch(n){case"expand":return e>0?Math.ceil(e*r)/r:Math.floor(e*r)/r;case"trunc":return Math.trunc(e*r)/r;case"round":return Math.round(e*r)/r;case"floor":return Math.floor(e*r)/r;case"ceil":return Math.ceil(e*r)/r;default:throw new RangeError(`Value rounding ${n} is out of range`)}}function Xe(e){return e%4==0&&(e%100!=0||e%400==0)}function Ze(e){return Xe(e)?366:365}function Qe(e,t){const n=(r=t-1)-12*Math.floor(r/12)+1;var r;return 2===n?Xe(e+(t-n)/12)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][n-1]}function et(e){let t=Date.UTC(e.year,e.month-1,e.day,e.hour,e.minute,e.second,e.millisecond);return e.year<100&&e.year>=0&&(t=new Date(t),t.setUTCFullYear(e.year,e.month-1,e.day)),+t}function tt(e,t,n){return-Te(Ce(e,1,t),n)+t-1}function nt(e,t=4,n=1){const r=tt(e,t,n),o=tt(e+1,t,n);return(Ze(e)-r+o)/7}function rt(e){return e>99?e:e>we.twoDigitCutoffYear?1900+e:2e3+e}function ot(e,t,n,r=null){const o=new Date(e),i={hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};r&&(i.timeZone=r);const s={timeZoneName:t,...i},a=new Intl.DateTimeFormat(n,s).formatToParts(o).find(e=>"timezonename"===e.type.toLowerCase());return a?a.value:null}function it(e,t){let n=parseInt(e,10);Number.isNaN(n)&&(n=0);const r=parseInt(t,10)||0;return 60*n+(n<0||Object.is(n,-0)?-r:r)}function st(e){const t=Number(e);if("boolean"==typeof e||""===e||!Number.isFinite(t))throw new l(`Invalid unit value ${e}`);return t}function at(e,t){const n={};for(const r in e)if(Ve(e,r)){const o=e[r];if(null==o)continue;n[t(r)]=st(o)}return n}function ct(e,t){const n=Math.trunc(Math.abs(e/60)),r=Math.trunc(Math.abs(e%60)),o=e>=0?"+":"-";switch(t){case"short":return`${o}${Ge(n,2)}:${Ge(r,2)}`;case"narrow":return`${o}${n}${r>0?`:${r}`:""}`;case"techie":return`${o}${Ge(n,2)}${Ge(r,2)}`;default:throw new RangeError(`Value format ${t} is out of range for property format`)}}function lt(e){return function(e){return["hour","minute","second","millisecond"].reduce((t,n)=>(t[n]=e[n],t),{})}(e)}const ut=["January","February","March","April","May","June","July","August","September","October","November","December"],dt=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],ft=["J","F","M","A","M","J","J","A","S","O","N","D"];function ht(e){switch(e){case"narrow":return[...ft];case"short":return[...dt];case"long":return[...ut];case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"];default:return null}}const pt=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],gt=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],mt=["M","T","W","T","F","S","S"];function yt(e){switch(e){case"narrow":return[...mt];case"short":return[...gt];case"long":return[...pt];case"numeric":return["1","2","3","4","5","6","7"];default:return null}}const bt=["AM","PM"],vt=["Before Christ","Anno Domini"],_t=["BC","AD"],wt=["B","A"];function St(e){switch(e){case"narrow":return[...wt];case"short":return[..._t];case"long":return[...vt];default:return null}}function xt(e,t){let n="";for(const r of e)r.literal?n+=r.val:n+=t(r.val);return n}const It={D:p,DD:g,DDD:y,DDDD:b,t:v,tt:_,ttt:w,tttt:S,T:x,TT:I,TTT:A,TTTT:C,f:k,ff:T,fff:O,ffff:R,F:E,FF:P,FFF:D,FFFF:N};class At{static create(e,t={}){return new At(e,t)}static parseFormat(e){let t=null,n="",r=!1;const o=[];for(let i=0;i<e.length;i++){const s=e.charAt(i);"'"===s?((n.length>0||r)&&o.push({literal:r||/^\s+$/.test(n),val:""===n?"'":n}),t=null,n="",r=!r):r||s===t?n+=s:(n.length>0&&o.push({literal:/^\s+$/.test(n),val:n}),n=s,t=s)}return n.length>0&&o.push({literal:r||/^\s+$/.test(n),val:n}),o}static macroTokenToFormatOpts(e){return It[e]}constructor(e,t){this.opts=t,this.loc=e,this.systemLoc=null}formatWithSystemDefault(e,t){return null===this.systemLoc&&(this.systemLoc=this.loc.redefaultToSystem()),this.systemLoc.dtFormatter(e,{...this.opts,...t}).format()}dtFormatter(e,t={}){return this.loc.dtFormatter(e,{...this.opts,...t})}formatDateTime(e,t){return this.dtFormatter(e,t).format()}formatDateTimeParts(e,t){return this.dtFormatter(e,t).formatToParts()}formatInterval(e,t){return this.dtFormatter(e.start,t).dtf.formatRange(e.start.toJSDate(),e.end.toJSDate())}resolvedOptions(e,t){return this.dtFormatter(e,t).resolvedOptions()}num(e,t=0,n=void 0){if(this.opts.forceSimple)return Ge(e,t);const r={...this.opts};return t>0&&(r.padTo=t),n&&(r.signDisplay=n),this.loc.numberFormatter(r).format(e)}formatDateTimeFromString(e,t){const n="en"===this.loc.listingMode(),r=this.loc.outputCalendar&&"gregory"!==this.loc.outputCalendar,o=(t,n)=>this.loc.extract(e,t,n),i=t=>e.isOffsetFixed&&0===e.offset&&t.allowZ?"Z":e.isValid?e.zone.formatOffset(e.ts,t.format):"",s=(t,r)=>n?function(e,t){return ht(t)[e.month-1]}(e,t):o(r?{month:t}:{month:t,day:"numeric"},"month"),a=(t,r)=>n?function(e,t){return yt(t)[e.weekday-1]}(e,t):o(r?{weekday:t}:{weekday:t,month:"long",day:"numeric"},"weekday"),c=t=>{const n=At.macroTokenToFormatOpts(t);return n?this.formatWithSystemDefault(e,n):t},l=t=>n?function(e,t){return St(t)[e.year<0?0:1]}(e,t):o({era:t},"era");return xt(At.parseFormat(t),t=>{switch(t){case"S":return this.num(e.millisecond);case"u":case"SSS":return this.num(e.millisecond,3);case"s":return this.num(e.second);case"ss":return this.num(e.second,2);case"uu":return this.num(Math.floor(e.millisecond/10),2);case"uuu":return this.num(Math.floor(e.millisecond/100));case"m":return this.num(e.minute);case"mm":return this.num(e.minute,2);case"h":return this.num(e.hour%12==0?12:e.hour%12);case"hh":return this.num(e.hour%12==0?12:e.hour%12,2);case"H":return this.num(e.hour);case"HH":return this.num(e.hour,2);case"Z":return i({format:"narrow",allowZ:this.opts.allowZ});case"ZZ":return i({format:"short",allowZ:this.opts.allowZ});case"ZZZ":return i({format:"techie",allowZ:this.opts.allowZ});case"ZZZZ":return e.zone.offsetName(e.ts,{format:"short",locale:this.loc.locale});case"ZZZZZ":return e.zone.offsetName(e.ts,{format:"long",locale:this.loc.locale});case"z":return e.zoneName;case"a":return n?function(e){return bt[e.hour<12?0:1]}(e):o({hour:"numeric",hourCycle:"h12"},"dayperiod");case"d":return r?o({day:"numeric"},"day"):this.num(e.day);case"dd":return r?o({day:"2-digit"},"day"):this.num(e.day,2);case"c":case"E":return this.num(e.weekday);case"ccc":return a("short",!0);case"cccc":return a("long",!0);case"ccccc":return a("narrow",!0);case"EEE":return a("short",!1);case"EEEE":return a("long",!1);case"EEEEE":return a("narrow",!1);case"L":return r?o({month:"numeric",day:"numeric"},"month"):this.num(e.month);case"LL":return r?o({month:"2-digit",day:"numeric"},"month"):this.num(e.month,2);case"LLL":return s("short",!0);case"LLLL":return s("long",!0);case"LLLLL":return s("narrow",!0);case"M":return r?o({month:"numeric"},"month"):this.num(e.month);case"MM":return r?o({month:"2-digit"},"month"):this.num(e.month,2);case"MMM":return s("short",!1);case"MMMM":return s("long",!1);case"MMMMM":return s("narrow",!1);case"y":return r?o({year:"numeric"},"year"):this.num(e.year);case"yy":return r?o({year:"2-digit"},"year"):this.num(e.year.toString().slice(-2),2);case"yyyy":return r?o({year:"numeric"},"year"):this.num(e.year,4);case"yyyyyy":return r?o({year:"numeric"},"year"):this.num(e.year,6);case"G":return l("short");case"GG":return l("long");case"GGGGG":return l("narrow");case"kk":return this.num(e.weekYear.toString().slice(-2),2);case"kkkk":return this.num(e.weekYear,4);case"W":return this.num(e.weekNumber);case"WW":return this.num(e.weekNumber,2);case"n":return this.num(e.localWeekNumber);case"nn":return this.num(e.localWeekNumber,2);case"ii":return this.num(e.localWeekYear.toString().slice(-2),2);case"iiii":return this.num(e.localWeekYear,4);case"o":return this.num(e.ordinal);case"ooo":return this.num(e.ordinal,3);case"q":return this.num(e.quarter);case"qq":return this.num(e.quarter,2);case"X":return this.num(Math.floor(e.ts/1e3));case"x":return this.num(e.ts);default:return c(t)}})}formatDurationFromString(e,t){const n="negativeLargestOnly"===this.opts.signMode?-1:1,r=e=>{switch(e[0]){case"S":return"milliseconds";case"s":return"seconds";case"m":return"minutes";case"h":return"hours";case"d":return"days";case"w":return"weeks";case"M":return"months";case"y":return"years";default:return null}},o=At.parseFormat(t),i=o.reduce((e,{literal:t,val:n})=>t?e:e.concat(n),[]),s=e.shiftTo(...i.map(r).filter(e=>e));return xt(o,((e,t)=>o=>{const i=r(o);if(i){const r=t.isNegativeDuration&&i!==t.largestUnit?n:1;let s;return s="negativeLargestOnly"===this.opts.signMode&&i!==t.largestUnit?"never":"all"===this.opts.signMode?"always":"auto",this.num(e.get(i)*r,o.length,s)}return o})(s,{isNegativeDuration:s<0,largestUnit:Object.keys(s.values)[0]}))}}const Ct=/[A-Za-z_+-]{1,256}(?::?\/[A-Za-z0-9_+-]{1,256}(?:\/[A-Za-z0-9_+-]{1,256})?)?/;function kt(...e){const t=e.reduce((e,t)=>e+t.source,"");return RegExp(`^${t}$`)}function Et(...e){return t=>e.reduce(([e,n,r],o)=>{const[i,s,a]=o(t,r);return[{...e,...i},s||n,a]},[{},null,1]).slice(0,2)}function Tt(e,...t){if(null==e)return[null,null];for(const[n,r]of t){const t=n.exec(e);if(t)return r(t)}return[null,null]}function Pt(...e){return(t,n)=>{const r={};let o;for(o=0;o<e.length;o++)r[e[o]]=We(t[n+o]);return[r,null,n+o]}}const Mt=/(?:([Zz])|([+-]\d\d)(?::?(\d\d))?)/,Ot=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,Dt=RegExp(`${Ot.source}(?:${Mt.source}?(?:\\[(${Ct.source})\\])?)?`),Rt=RegExp(`(?:[Tt]${Dt.source})?`),Nt=Pt("weekYear","weekNumber","weekDay"),Ft=Pt("year","ordinal"),Lt=RegExp(`${Ot.source} ?(?:${Mt.source}|(${Ct.source}))?`),Bt=RegExp(`(?: ${Lt.source})?`);function $t(e,t,n){const r=e[t];return Le(r)?n:We(r)}function jt(e,t){return[{hours:$t(e,t,0),minutes:$t(e,t+1,0),seconds:$t(e,t+2,0),milliseconds:Ye(e[t+3])},null,t+4]}function Ut(e,t){const n=!e[t]&&!e[t+1],r=it(e[t+1],e[t+2]);return[{},n?null:ie.instance(r),t+3]}function zt(e,t){return[{},e[t]?z.create(e[t]):null,t+1]}const Vt=RegExp(`^T?${Ot.source}$`),qt=/^-?P(?:(?:(-?\d{1,20}(?:\.\d{1,20})?)Y)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20}(?:\.\d{1,20})?)W)?(?:(-?\d{1,20}(?:\.\d{1,20})?)D)?(?:T(?:(-?\d{1,20}(?:\.\d{1,20})?)H)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,20}))?S)?)?)$/;function Ht(e){const[t,n,r,o,i,s,a,c,l]=e,u="-"===t[0],d=c&&"-"===c[0],f=(e,t=!1)=>void 0!==e&&(t||e&&u)?-e:e;return[{years:f(Ke(n)),months:f(Ke(r)),weeks:f(Ke(o)),days:f(Ke(i)),hours:f(Ke(s)),minutes:f(Ke(a)),seconds:f(Ke(c),"-0"===c),milliseconds:f(Ye(l),d)}]}const Gt={GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function Wt(e,t,n,r,o,i,s){const a={year:2===t.length?rt(We(t)):We(t),month:dt.indexOf(n)+1,day:We(r),hour:We(o),minute:We(i)};return s&&(a.second=We(s)),e&&(a.weekday=e.length>3?pt.indexOf(e)+1:gt.indexOf(e)+1),a}const Kt=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/;function Yt(e){const[,t,n,r,o,i,s,a,c,l,u,d]=e,f=Wt(t,o,r,n,i,s,a);let h;return h=c?Gt[c]:l?0:it(u,d),[f,new ie(h)]}const Jt=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,Xt=/^(Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,Zt=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/;function Qt(e){const[,t,n,r,o,i,s,a]=e;return[Wt(t,o,r,n,i,s,a),ie.utcInstance]}function en(e){const[,t,n,r,o,i,s,a]=e;return[Wt(t,a,n,r,o,i,s),ie.utcInstance]}const tn=kt(/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,Rt),nn=kt(/(\d{4})-?W(\d\d)(?:-?(\d))?/,Rt),rn=kt(/(\d{4})-?(\d{3})/,Rt),on=kt(Dt),sn=Et(function(e,t){return[{year:$t(e,t),month:$t(e,t+1,1),day:$t(e,t+2,1)},null,t+3]},jt,Ut,zt),an=Et(Nt,jt,Ut,zt),cn=Et(Ft,jt,Ut,zt),ln=Et(jt,Ut,zt),un=Et(jt),dn=kt(/(\d{4})-(\d\d)-(\d\d)/,Bt),fn=kt(Lt),hn=Et(jt,Ut,zt),pn="Invalid Duration",gn={weeks:{days:7,hours:168,minutes:10080,seconds:604800,milliseconds:6048e5},days:{hours:24,minutes:1440,seconds:86400,milliseconds:864e5},hours:{minutes:60,seconds:3600,milliseconds:36e5},minutes:{seconds:60,milliseconds:6e4},seconds:{milliseconds:1e3}},mn={years:{quarters:4,months:12,weeks:52,days:365,hours:8760,minutes:525600,seconds:31536e3,milliseconds:31536e6},quarters:{months:3,weeks:13,days:91,hours:2184,minutes:131040,seconds:7862400,milliseconds:78624e5},months:{weeks:4,days:30,hours:720,minutes:43200,seconds:2592e3,milliseconds:2592e6},...gn},yn={years:{quarters:4,months:12,weeks:52.1775,days:365.2425,hours:8765.82,minutes:525949.2,seconds:525949.2*60,milliseconds:525949.2*60*1e3},quarters:{months:3,weeks:13.044375,days:91.310625,hours:2191.455,minutes:131487.3,seconds:525949.2*60/4,milliseconds:7889237999.999999},months:{weeks:4.3481250000000005,days:30.436875,hours:730.485,minutes:43829.1,seconds:2629746,milliseconds:2629746e3},...gn},bn=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],vn=bn.slice(0).reverse();function _n(e,t,n=!1){const r={values:n?t.values:{...e.values,...t.values||{}},loc:e.loc.clone(t.loc),conversionAccuracy:t.conversionAccuracy||e.conversionAccuracy,matrix:t.matrix||e.matrix};return new In(r)}function wn(e,t){let n=t.milliseconds??0;for(const r of vn.slice(1))t[r]&&(n+=t[r]*e[r].milliseconds);return n}function Sn(e,t){const n=wn(e,t)<0?-1:1;bn.reduceRight((r,o)=>{if(Le(t[o]))return r;if(r){const i=t[r]*n,s=e[o][r],a=Math.floor(i/s);t[o]+=a*n,t[r]-=a*s*n}return o},null),bn.reduce((n,r)=>{if(Le(t[r]))return n;if(n){const o=t[n]%1;t[n]-=o,t[r]+=o*e[n][r]}return r},null)}function xn(e){const t={};for(const[n,r]of Object.entries(e))0!==r&&(t[n]=r);return t}class In{constructor(e){const t="longterm"===e.conversionAccuracy||!1;let n=t?yn:mn;e.matrix&&(n=e.matrix),this.values=e.values,this.loc=e.loc||re.create(),this.conversionAccuracy=t?"longterm":"casual",this.invalid=e.invalid||null,this.matrix=n,this.isLuxonDuration=!0}static fromMillis(e,t){return In.fromObject({milliseconds:e},t)}static fromObject(e,t={}){if(null==e||"object"!=typeof e)throw new l("Duration.fromObject: argument expected to be an object, got "+(null===e?"null":typeof e));return new In({values:at(e,In.normalizeUnit),loc:re.fromObject(t),conversionAccuracy:t.conversionAccuracy,matrix:t.matrix})}static fromDurationLike(e){if(Be(e))return In.fromMillis(e);if(In.isDuration(e))return e;if("object"==typeof e)return In.fromObject(e);throw new l(`Unknown duration argument ${e} of type ${typeof e}`)}static fromISO(e,t){const[n]=function(e){return Tt(e,[qt,Ht])}(e);return n?In.fromObject(n,t):In.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static fromISOTime(e,t){const[n]=function(e){return Tt(e,[Vt,un])}(e);return n?In.fromObject(n,t):In.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static invalid(e,t=null){if(!e)throw new l("need to specify a reason the Duration is invalid");const n=e instanceof Se?e:new Se(e,t);if(we.throwOnInvalid)throw new s(n);return new In({invalid:n})}static normalizeUnit(e){const t={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[e?e.toLowerCase():e];if(!t)throw new c(e);return t}static isDuration(e){return e&&e.isLuxonDuration||!1}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}toFormat(e,t={}){const n={...t,floor:!1!==t.round&&!1!==t.floor};return this.isValid?At.create(this.loc,n).formatDurationFromString(this,e):pn}toHuman(e={}){if(!this.isValid)return pn;const t=!1!==e.showZeros,n=bn.map(n=>{const r=this.values[n];return Le(r)||0===r&&!t?null:this.loc.numberFormatter({style:"unit",unitDisplay:"long",...e,unit:n.slice(0,-1)}).format(r)}).filter(e=>e);return this.loc.listFormatter({type:"conjunction",style:e.listStyle||"narrow",...e}).format(n)}toObject(){return this.isValid?{...this.values}:{}}toISO(){if(!this.isValid)return null;let e="P";return 0!==this.years&&(e+=this.years+"Y"),0===this.months&&0===this.quarters||(e+=this.months+3*this.quarters+"M"),0!==this.weeks&&(e+=this.weeks+"W"),0!==this.days&&(e+=this.days+"D"),0===this.hours&&0===this.minutes&&0===this.seconds&&0===this.milliseconds||(e+="T"),0!==this.hours&&(e+=this.hours+"H"),0!==this.minutes&&(e+=this.minutes+"M"),0===this.seconds&&0===this.milliseconds||(e+=Je(this.seconds+this.milliseconds/1e3,3)+"S"),"P"===e&&(e+="T0S"),e}toISOTime(e={}){if(!this.isValid)return null;const t=this.toMillis();return t<0||t>=864e5?null:(e={suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended",...e,includeOffset:!1},mr.fromMillis(t,{zone:"UTC"}).toISOTime(e))}toJSON(){return this.toISO()}toString(){return this.toISO()}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Duration { values: ${JSON.stringify(this.values)} }`:`Duration { Invalid, reason: ${this.invalidReason} }`}toMillis(){return this.isValid?wn(this.matrix,this.values):NaN}valueOf(){return this.toMillis()}plus(e){if(!this.isValid)return this;const t=In.fromDurationLike(e),n={};for(const e of bn)(Ve(t.values,e)||Ve(this.values,e))&&(n[e]=t.get(e)+this.get(e));return _n(this,{values:n},!0)}minus(e){if(!this.isValid)return this;const t=In.fromDurationLike(e);return this.plus(t.negate())}mapUnits(e){if(!this.isValid)return this;const t={};for(const n of Object.keys(this.values))t[n]=st(e(this.values[n],n));return _n(this,{values:t},!0)}get(e){return this[In.normalizeUnit(e)]}set(e){return this.isValid?_n(this,{values:{...this.values,...at(e,In.normalizeUnit)}}):this}reconfigure({locale:e,numberingSystem:t,conversionAccuracy:n,matrix:r}={}){return _n(this,{loc:this.loc.clone({locale:e,numberingSystem:t}),matrix:r,conversionAccuracy:n})}as(e){return this.isValid?this.shiftTo(e).get(e):NaN}normalize(){if(!this.isValid)return this;const e=this.toObject();return Sn(this.matrix,e),_n(this,{values:e},!0)}rescale(){return this.isValid?_n(this,{values:xn(this.normalize().shiftToAll().toObject())},!0):this}shiftTo(...e){if(!this.isValid)return this;if(0===e.length)return this;e=e.map(e=>In.normalizeUnit(e));const t={},n={},r=this.toObject();let o;for(const i of bn)if(e.indexOf(i)>=0){o=i;let e=0;for(const t in n)e+=this.matrix[t][i]*n[t],n[t]=0;Be(r[i])&&(e+=r[i]);const s=Math.trunc(e);t[i]=s,n[i]=(1e3*e-1e3*s)/1e3}else Be(r[i])&&(n[i]=r[i]);for(const e in n)0!==n[e]&&(t[o]+=e===o?n[e]:n[e]/this.matrix[o][e]);return Sn(this.matrix,t),_n(this,{values:t},!0)}shiftToAll(){return this.isValid?this.shiftTo("years","months","weeks","days","hours","minutes","seconds","milliseconds"):this}negate(){if(!this.isValid)return this;const e={};for(const t of Object.keys(this.values))e[t]=0===this.values[t]?0:-this.values[t];return _n(this,{values:e},!0)}removeZeros(){return this.isValid?_n(this,{values:xn(this.values)},!0):this}get years(){return this.isValid?this.values.years||0:NaN}get quarters(){return this.isValid?this.values.quarters||0:NaN}get months(){return this.isValid?this.values.months||0:NaN}get weeks(){return this.isValid?this.values.weeks||0:NaN}get days(){return this.isValid?this.values.days||0:NaN}get hours(){return this.isValid?this.values.hours||0:NaN}get minutes(){return this.isValid?this.values.minutes||0:NaN}get seconds(){return this.isValid?this.values.seconds||0:NaN}get milliseconds(){return this.isValid?this.values.milliseconds||0:NaN}get isValid(){return null===this.invalid}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}equals(e){if(!this.isValid||!e.isValid)return!1;if(!this.loc.equals(e.loc))return!1;function t(e,t){return void 0===e||0===e?void 0===t||0===t:e===t}for(const n of bn)if(!t(this.values[n],e.values[n]))return!1;return!0}}const An="Invalid Interval";class Cn{constructor(e){this.s=e.start,this.e=e.end,this.invalid=e.invalid||null,this.isLuxonInterval=!0}static invalid(e,t=null){if(!e)throw new l("need to specify a reason the Interval is invalid");const n=e instanceof Se?e:new Se(e,t);if(we.throwOnInvalid)throw new i(n);return new Cn({invalid:n})}static fromDateTimes(e,t){const n=yr(e),r=yr(t),o=function(e,t){return e&&e.isValid?t&&t.isValid?t<e?Cn.invalid("end before start",`The end of an interval must be after its start, but you had start=${e.toISO()} and end=${t.toISO()}`):null:Cn.invalid("missing or invalid end"):Cn.invalid("missing or invalid start")}(n,r);return null==o?new Cn({start:n,end:r}):o}static after(e,t){const n=In.fromDurationLike(t),r=yr(e);return Cn.fromDateTimes(r,r.plus(n))}static before(e,t){const n=In.fromDurationLike(t),r=yr(e);return Cn.fromDateTimes(r.minus(n),r)}static fromISO(e,t){const[n,r]=(e||"").split("/",2);if(n&&r){let e,o,i,s;try{e=mr.fromISO(n,t),o=e.isValid}catch(r){o=!1}try{i=mr.fromISO(r,t),s=i.isValid}catch(r){s=!1}if(o&&s)return Cn.fromDateTimes(e,i);if(o){const n=In.fromISO(r,t);if(n.isValid)return Cn.after(e,n)}else if(s){const e=In.fromISO(n,t);if(e.isValid)return Cn.before(i,e)}}return Cn.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static isInterval(e){return e&&e.isLuxonInterval||!1}get start(){return this.isValid?this.s:null}get end(){return this.isValid?this.e:null}get lastDateTime(){return this.isValid&&this.e?this.e.minus(1):null}get isValid(){return null===this.invalidReason}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}length(e="milliseconds"){return this.isValid?this.toDuration(e).get(e):NaN}count(e="milliseconds",t){if(!this.isValid)return NaN;const n=this.start.startOf(e,t);let r;return r=t?.useLocaleWeeks?this.end.reconfigure({locale:n.locale}):this.end,r=r.startOf(e,t),Math.floor(r.diff(n,e).get(e))+(r.valueOf()!==this.end.valueOf())}hasSame(e){return!!this.isValid&&(this.isEmpty()||this.e.minus(1).hasSame(this.s,e))}isEmpty(){return this.s.valueOf()===this.e.valueOf()}isAfter(e){return!!this.isValid&&this.s>e}isBefore(e){return!!this.isValid&&this.e<=e}contains(e){return!!this.isValid&&this.s<=e&&this.e>e}set({start:e,end:t}={}){return this.isValid?Cn.fromDateTimes(e||this.s,t||this.e):this}splitAt(...e){if(!this.isValid)return[];const t=e.map(yr).filter(e=>this.contains(e)).sort((e,t)=>e.toMillis()-t.toMillis()),n=[];let{s:r}=this,o=0;for(;r<this.e;){const e=t[o]||this.e,i=+e>+this.e?this.e:e;n.push(Cn.fromDateTimes(r,i)),r=i,o+=1}return n}splitBy(e){const t=In.fromDurationLike(e);if(!this.isValid||!t.isValid||0===t.as("milliseconds"))return[];let n,{s:r}=this,o=1;const i=[];for(;r<this.e;){const e=this.start.plus(t.mapUnits(e=>e*o));n=+e>+this.e?this.e:e,i.push(Cn.fromDateTimes(r,n)),r=n,o+=1}return i}divideEqually(e){return this.isValid?this.splitBy(this.length()/e).slice(0,e):[]}overlaps(e){return this.e>e.s&&this.s<e.e}abutsStart(e){return!!this.isValid&&+this.e===+e.s}abutsEnd(e){return!!this.isValid&&+e.e===+this.s}engulfs(e){return!!this.isValid&&this.s<=e.s&&this.e>=e.e}equals(e){return!(!this.isValid||!e.isValid)&&this.s.equals(e.s)&&this.e.equals(e.e)}intersection(e){if(!this.isValid)return this;const t=this.s>e.s?this.s:e.s,n=this.e<e.e?this.e:e.e;return t>=n?null:Cn.fromDateTimes(t,n)}union(e){if(!this.isValid)return this;const t=this.s<e.s?this.s:e.s,n=this.e>e.e?this.e:e.e;return Cn.fromDateTimes(t,n)}static merge(e){const[t,n]=e.sort((e,t)=>e.s-t.s).reduce(([e,t],n)=>t?t.overlaps(n)||t.abutsStart(n)?[e,t.union(n)]:[e.concat([t]),n]:[e,n],[[],null]);return n&&t.push(n),t}static xor(e){let t=null,n=0;const r=[],o=e.map(e=>[{time:e.s,type:"s"},{time:e.e,type:"e"}]),i=Array.prototype.concat(...o).sort((e,t)=>e.time-t.time);for(const e of i)n+="s"===e.type?1:-1,1===n?t=e.time:(t&&+t!==+e.time&&r.push(Cn.fromDateTimes(t,e.time)),t=null);return Cn.merge(r)}difference(...e){return Cn.xor([this].concat(e)).map(e=>this.intersection(e)).filter(e=>e&&!e.isEmpty())}toString(){return this.isValid?`[${this.s.toISO()} – ${this.e.toISO()})`:An}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Interval { start: ${this.s.toISO()}, end: ${this.e.toISO()} }`:`Interval { Invalid, reason: ${this.invalidReason} }`}toLocaleString(e=p,t={}){return this.isValid?At.create(this.s.loc.clone(t),e).formatInterval(this):An}toISO(e){return this.isValid?`${this.s.toISO(e)}/${this.e.toISO(e)}`:An}toISODate(){return this.isValid?`${this.s.toISODate()}/${this.e.toISODate()}`:An}toISOTime(e){return this.isValid?`${this.s.toISOTime(e)}/${this.e.toISOTime(e)}`:An}toFormat(e,{separator:t=" – "}={}){return this.isValid?`${this.s.toFormat(e)}${t}${this.e.toFormat(e)}`:An}toDuration(e,t){return this.isValid?this.e.diff(this.s,e,t):In.invalid(this.invalidReason)}mapEndpoints(e){return Cn.fromDateTimes(e(this.s),e(this.e))}}class kn{static hasDST(e=we.defaultZone){const t=mr.now().setZone(e).set({month:12});return!e.isUniversal&&t.offset!==t.set({month:6}).offset}static isValidIANAZone(e){return z.isValidZone(e)}static normalizeZone(e){return ae(e,we.defaultZone)}static getStartOfWeek({locale:e=null,locObj:t=null}={}){return(t||re.create(e)).getStartOfWeek()}static getMinimumDaysInFirstWeek({locale:e=null,locObj:t=null}={}){return(t||re.create(e)).getMinDaysInFirstWeek()}static getWeekendWeekdays({locale:e=null,locObj:t=null}={}){return(t||re.create(e)).getWeekendDays().slice()}static months(e="long",{locale:t=null,numberingSystem:n=null,locObj:r=null,outputCalendar:o="gregory"}={}){return(r||re.create(t,n,o)).months(e)}static monthsFormat(e="long",{locale:t=null,numberingSystem:n=null,locObj:r=null,outputCalendar:o="gregory"}={}){return(r||re.create(t,n,o)).months(e,!0)}static weekdays(e="long",{locale:t=null,numberingSystem:n=null,locObj:r=null}={}){return(r||re.create(t,n,null)).weekdays(e)}static weekdaysFormat(e="long",{locale:t=null,numberingSystem:n=null,locObj:r=null}={}){return(r||re.create(t,n,null)).weekdays(e,!0)}static meridiems({locale:e=null}={}){return re.create(e).meridiems()}static eras(e="short",{locale:t=null}={}){return re.create(t,null,"gregory").eras(e)}static features(){return{relative:je(),localeWeek:Ue()}}}function En(e,t){const n=e=>e.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf(),r=n(t)-n(e);return Math.floor(In.fromMillis(r).as("days"))}function Tn(e,t=e=>e){return{regex:e,deser:([e])=>t(function(e){let t=parseInt(e,10);if(isNaN(t)){t="";for(let n=0;n<e.length;n++){const r=e.charCodeAt(n);if(-1!==e[n].search(ce.hanidec))t+=ue.indexOf(e[n]);else for(const e in le){const[n,o]=le[e];r>=n&&r<=o&&(t+=r-n)}}return parseInt(t,10)}return t}(e))}}const Pn=`[ ${String.fromCharCode(160)}]`,Mn=new RegExp(Pn,"g");function On(e){return e.replace(/\./g,"\\.?").replace(Mn,Pn)}function Dn(e){return e.replace(/\./g,"").replace(Mn," ").toLowerCase()}function Rn(e,t){return null===e?null:{regex:RegExp(e.map(On).join("|")),deser:([n])=>e.findIndex(e=>Dn(n)===Dn(e))+t}}function Nn(e,t){return{regex:e,deser:([,e,t])=>it(e,t),groups:t}}function Fn(e){return{regex:e,deser:([e])=>e}}const Ln={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour12:{numeric:"h","2-digit":"hh"},hour24:{numeric:"H","2-digit":"HH"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"},timeZoneName:{long:"ZZZZZ",short:"ZZZ"}};let Bn=null;function $n(e,t){return Array.prototype.concat(...e.map(e=>function(e,t){if(e.literal)return e;const n=zn(At.macroTokenToFormatOpts(e.val),t);return null==n||n.includes(void 0)?e:n}(e,t)))}class jn{constructor(e,t){if(this.locale=e,this.format=t,this.tokens=$n(At.parseFormat(t),e),this.units=this.tokens.map(t=>function(e,t){const n=fe(t),r=fe(t,"{2}"),o=fe(t,"{3}"),i=fe(t,"{4}"),s=fe(t,"{6}"),a=fe(t,"{1,2}"),c=fe(t,"{1,3}"),l=fe(t,"{1,6}"),u=fe(t,"{1,9}"),d=fe(t,"{2,4}"),f=fe(t,"{4,6}"),h=e=>{return{regex:RegExp((t=e.val,t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&"))),deser:([e])=>e,literal:!0};var t},p=(p=>{if(e.literal)return h(p);switch(p.val){case"G":return Rn(t.eras("short"),0);case"GG":return Rn(t.eras("long"),0);case"y":return Tn(l);case"yy":case"kk":return Tn(d,rt);case"yyyy":case"kkkk":return Tn(i);case"yyyyy":return Tn(f);case"yyyyyy":return Tn(s);case"M":case"L":case"d":case"H":case"h":case"m":case"q":case"s":case"W":return Tn(a);case"MM":case"LL":case"dd":case"HH":case"hh":case"mm":case"qq":case"ss":case"WW":return Tn(r);case"MMM":return Rn(t.months("short",!0),1);case"MMMM":return Rn(t.months("long",!0),1);case"LLL":return Rn(t.months("short",!1),1);case"LLLL":return Rn(t.months("long",!1),1);case"o":case"S":return Tn(c);case"ooo":case"SSS":return Tn(o);case"u":return Fn(u);case"uu":return Fn(a);case"uuu":case"E":case"c":return Tn(n);case"a":return Rn(t.meridiems(),0);case"EEE":return Rn(t.weekdays("short",!1),1);case"EEEE":return Rn(t.weekdays("long",!1),1);case"ccc":return Rn(t.weekdays("short",!0),1);case"cccc":return Rn(t.weekdays("long",!0),1);case"Z":case"ZZ":return Nn(new RegExp(`([+-]${a.source})(?::(${r.source}))?`),2);case"ZZZ":return Nn(new RegExp(`([+-]${a.source})(${r.source})?`),2);case"z":return Fn(/[a-z_+-/]{1,256}?/i);case" ":return Fn(/[^\S\n\r]/);default:return h(p)}})(e)||{invalidReason:"missing Intl.DateTimeFormat.formatToParts support"};return p.token=e,p}(t,e)),this.disqualifyingUnit=this.units.find(e=>e.invalidReason),!this.disqualifyingUnit){const[e,t]=[`^${(n=this.units).map(e=>e.regex).reduce((e,t)=>`${e}(${t.source})`,"")}$`,n];this.regex=RegExp(e,"i"),this.handlers=t}var n}explainFromTokens(e){if(this.isValid){const[t,n]=function(e,t,n){const r=e.match(t);if(r){const e={};let t=1;for(const o in n)if(Ve(n,o)){const i=n[o],s=i.groups?i.groups+1:1;!i.literal&&i.token&&(e[i.token.val[0]]=i.deser(r.slice(t,t+s))),t+=s}return[r,e]}return[r,{}]}(e,this.regex,this.handlers),[r,o,i]=n?function(e){let t,n=null;return Le(e.z)||(n=z.create(e.z)),Le(e.Z)||(n||(n=new ie(e.Z)),t=e.Z),Le(e.q)||(e.M=3*(e.q-1)+1),Le(e.h)||(e.h<12&&1===e.a?e.h+=12:12===e.h&&0===e.a&&(e.h=0)),0===e.G&&e.y&&(e.y=-e.y),Le(e.u)||(e.S=Ye(e.u)),[Object.keys(e).reduce((t,n)=>{const r=(e=>{switch(e){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null}})(n);return r&&(t[r]=e[n]),t},{}),n,t]}(n):[null,null,void 0];if(Ve(n,"a")&&Ve(n,"H"))throw new a("Can't include meridiem when specifying 24-hour format");return{input:e,tokens:this.tokens,regex:this.regex,rawMatches:t,matches:n,result:r,zone:o,specificOffset:i}}return{input:e,tokens:this.tokens,invalidReason:this.invalidReason}}get isValid(){return!this.disqualifyingUnit}get invalidReason(){return this.disqualifyingUnit?this.disqualifyingUnit.invalidReason:null}}function Un(e,t,n){return new jn(e,n).explainFromTokens(t)}function zn(e,t){if(!e)return null;const n=At.create(t,e).dtFormatter((Bn||(Bn=mr.fromMillis(1555555555555)),Bn)),r=n.formatToParts(),o=n.resolvedOptions();return r.map(t=>function(e,t,n){const{type:r,value:o}=e;if("literal"===r){const e=/^\s+$/.test(o);return{literal:!e,val:e?" ":o}}const i=t[r];let s=r;"hour"===r&&(s=null!=t.hour12?t.hour12?"hour12":"hour24":null!=t.hourCycle?"h11"===t.hourCycle||"h12"===t.hourCycle?"hour12":"hour24":n.hour12?"hour12":"hour24");let a=Ln[s];if("object"==typeof a&&(a=a[i]),a)return{literal:!1,val:a}}(t,e,o))}const Vn="Invalid DateTime",qn=864e13;function Hn(e){return new Se("unsupported zone",`the zone "${e.name}" is not supported`)}function Gn(e){return null===e.weekData&&(e.weekData=Pe(e.c)),e.weekData}function Wn(e){return null===e.localWeekData&&(e.localWeekData=Pe(e.c,e.loc.getMinDaysInFirstWeek(),e.loc.getStartOfWeek())),e.localWeekData}function Kn(e,t){const n={ts:e.ts,zone:e.zone,c:e.c,o:e.o,loc:e.loc,invalid:e.invalid};return new mr({...n,...t,old:n})}function Yn(e,t,n){let r=e-60*t*1e3;const o=n.offset(r);if(t===o)return[r,t];r-=60*(o-t)*1e3;const i=n.offset(r);return o===i?[r,o]:[e-60*Math.min(o,i)*1e3,Math.max(o,i)]}function Jn(e,t){const n=new Date(e+=60*t*1e3);return{year:n.getUTCFullYear(),month:n.getUTCMonth()+1,day:n.getUTCDate(),hour:n.getUTCHours(),minute:n.getUTCMinutes(),second:n.getUTCSeconds(),millisecond:n.getUTCMilliseconds()}}function Xn(e,t,n){return Yn(et(e),t,n)}function Zn(e,t){const n=e.o,r=e.c.year+Math.trunc(t.years),o=e.c.month+Math.trunc(t.months)+3*Math.trunc(t.quarters),i={...e.c,year:r,month:o,day:Math.min(e.c.day,Qe(r,o))+Math.trunc(t.days)+7*Math.trunc(t.weeks)},s=In.fromObject({years:t.years-Math.trunc(t.years),quarters:t.quarters-Math.trunc(t.quarters),months:t.months-Math.trunc(t.months),weeks:t.weeks-Math.trunc(t.weeks),days:t.days-Math.trunc(t.days),hours:t.hours,minutes:t.minutes,seconds:t.seconds,milliseconds:t.milliseconds}).as("milliseconds"),a=et(i);let[c,l]=Yn(a,n,e.zone);return 0!==s&&(c+=s,l=e.zone.offset(c)),{ts:c,o:l}}function Qn(e,t,n,r,o,i){const{setZone:s,zone:a}=n;if(e&&0!==Object.keys(e).length||t){const r=t||a,o=mr.fromObject(e,{...n,zone:r,specificOffset:i});return s?o:o.setZone(a)}return mr.invalid(new Se("unparsable",`the input "${o}" can't be parsed as ${r}`))}function er(e,t,n=!0){return e.isValid?At.create(re.create("en-US"),{allowZ:n,forceSimple:!0}).formatDateTimeFromString(e,t):null}function tr(e,t,n){const r=e.c.year>9999||e.c.year<0;let o="";if(r&&e.c.year>=0&&(o+="+"),o+=Ge(e.c.year,r?6:4),"year"===n)return o;if(t){if(o+="-",o+=Ge(e.c.month),"month"===n)return o;o+="-"}else if(o+=Ge(e.c.month),"month"===n)return o;return o+=Ge(e.c.day),o}function nr(e,t,n,r,o,i,s){let a=!n||0!==e.c.millisecond||0!==e.c.second,c="";switch(s){case"day":case"month":case"year":break;default:if(c+=Ge(e.c.hour),"hour"===s)break;if(t){if(c+=":",c+=Ge(e.c.minute),"minute"===s)break;a&&(c+=":",c+=Ge(e.c.second))}else{if(c+=Ge(e.c.minute),"minute"===s)break;a&&(c+=Ge(e.c.second))}if("second"===s)break;!a||r&&0===e.c.millisecond||(c+=".",c+=Ge(e.c.millisecond,3))}return o&&(e.isOffsetFixed&&0===e.offset&&!i?c+="Z":e.o<0?(c+="-",c+=Ge(Math.trunc(-e.o/60)),c+=":",c+=Ge(Math.trunc(-e.o%60))):(c+="+",c+=Ge(Math.trunc(e.o/60)),c+=":",c+=Ge(Math.trunc(e.o%60)))),i&&(c+="["+e.zone.ianaName+"]"),c}const rr={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},or={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},ir={ordinal:1,hour:0,minute:0,second:0,millisecond:0},sr=["year","month","day","hour","minute","second","millisecond"],ar=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],cr=["year","ordinal","hour","minute","second","millisecond"];function lr(e){const t={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[e.toLowerCase()];if(!t)throw new c(e);return t}function ur(e){switch(e.toLowerCase()){case"localweekday":case"localweekdays":return"localWeekday";case"localweeknumber":case"localweeknumbers":return"localWeekNumber";case"localweekyear":case"localweekyears":return"localWeekYear";default:return lr(e)}}function dr(e,t){const n=ae(t.zone,we.defaultZone);if(!n.isValid)return mr.invalid(Hn(n));const r=re.fromObject(t);let o,i;if(Le(e.year))o=we.now();else{for(const t of sr)Le(e[t])&&(e[t]=rr[t]);const t=Ne(e)||Fe(e);if(t)return mr.invalid(t);const r=function(e){if(void 0===pr&&(pr=we.now()),"iana"!==e.type)return e.offset(pr);const t=e.name;let n=gr.get(t);return void 0===n&&(n=e.offset(pr),gr.set(t,n)),n}(n);[o,i]=Xn(e,r,n)}return new mr({ts:o,zone:n,loc:r,o:i})}function fr(e,t,n){const r=!!Le(n.round)||n.round,o=Le(n.rounding)?"trunc":n.rounding,i=(e,i)=>(e=Je(e,r||n.calendary?0:2,n.calendary?"round":o),t.loc.clone(n).relFormatter(n).format(e,i)),s=r=>n.calendary?t.hasSame(e,r)?0:t.startOf(r).diff(e.startOf(r),r).get(r):t.diff(e,r).get(r);if(n.unit)return i(s(n.unit),n.unit);for(const e of n.units){const t=s(e);if(Math.abs(t)>=1)return i(t,e)}return i(e>t?-0:0,n.units[n.units.length-1])}function hr(e){let t,n={};return e.length>0&&"object"==typeof e[e.length-1]?(n=e[e.length-1],t=Array.from(e).slice(0,e.length-1)):t=Array.from(e),[n,t]}let pr;const gr=new Map;class mr{constructor(e){const t=e.zone||we.defaultZone;let n=e.invalid||(Number.isNaN(e.ts)?new Se("invalid input"):null)||(t.isValid?null:Hn(t));this.ts=Le(e.ts)?we.now():e.ts;let r=null,o=null;if(!n)if(e.old&&e.old.ts===this.ts&&e.old.zone.equals(t))[r,o]=[e.old.c,e.old.o];else{const i=Be(e.o)&&!e.old?e.o:t.offset(this.ts);r=Jn(this.ts,i),n=Number.isNaN(r.year)?new Se("invalid input"):null,r=n?null:r,o=n?null:i}this._zone=t,this.loc=e.loc||re.create(),this.invalid=n,this.weekData=null,this.localWeekData=null,this.c=r,this.o=o,this.isLuxonDateTime=!0}static now(){return new mr({})}static local(){const[e,t]=hr(arguments),[n,r,o,i,s,a,c]=t;return dr({year:n,month:r,day:o,hour:i,minute:s,second:a,millisecond:c},e)}static utc(){const[e,t]=hr(arguments),[n,r,o,i,s,a,c]=t;return e.zone=ie.utcInstance,dr({year:n,month:r,day:o,hour:i,minute:s,second:a,millisecond:c},e)}static fromJSDate(e,t={}){const n=(r=e,"[object Date]"===Object.prototype.toString.call(r)?e.valueOf():NaN);var r;if(Number.isNaN(n))return mr.invalid("invalid input");const o=ae(t.zone,we.defaultZone);return o.isValid?new mr({ts:n,zone:o,loc:re.fromObject(t)}):mr.invalid(Hn(o))}static fromMillis(e,t={}){if(Be(e))return e<-qn||e>qn?mr.invalid("Timestamp out of range"):new mr({ts:e,zone:ae(t.zone,we.defaultZone),loc:re.fromObject(t)});throw new l(`fromMillis requires a numerical input, but received a ${typeof e} with value ${e}`)}static fromSeconds(e,t={}){if(Be(e))return new mr({ts:1e3*e,zone:ae(t.zone,we.defaultZone),loc:re.fromObject(t)});throw new l("fromSeconds requires a numerical input")}static fromObject(e,t={}){e=e||{};const n=ae(t.zone,we.defaultZone);if(!n.isValid)return mr.invalid(Hn(n));const r=re.fromObject(t),o=at(e,ur),{minDaysInFirstWeek:i,startOfWeek:s}=Re(o,r),c=we.now(),l=Le(t.specificOffset)?n.offset(c):t.specificOffset,u=!Le(o.ordinal),d=!Le(o.year),f=!Le(o.month)||!Le(o.day),h=d||f,p=o.weekYear||o.weekNumber;if((h||u)&&p)throw new a("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(f&&u)throw new a("Can't mix ordinal dates with month/day");const g=p||o.weekday&&!h;let m,y,b=Jn(c,l);g?(m=ar,y=or,b=Pe(b,i,s)):u?(m=cr,y=ir,b=Oe(b)):(m=sr,y=rr);let v=!1;for(const e of m)Le(o[e])?o[e]=v?y[e]:b[e]:v=!0;const _=g?function(e,t=4,n=1){const r=$e(e.weekYear),o=He(e.weekNumber,1,nt(e.weekYear,t,n)),i=He(e.weekday,1,7);return r?o?!i&&Ae("weekday",e.weekday):Ae("week",e.weekNumber):Ae("weekYear",e.weekYear)}(o,i,s):u?function(e){const t=$e(e.year),n=He(e.ordinal,1,Ze(e.year));return t?!n&&Ae("ordinal",e.ordinal):Ae("year",e.year)}(o):Ne(o),w=_||Fe(o);if(w)return mr.invalid(w);const S=g?Me(o,i,s):u?De(o):o,[x,I]=Xn(S,l,n),A=new mr({ts:x,zone:n,o:I,loc:r});return o.weekday&&h&&e.weekday!==A.weekday?mr.invalid("mismatched weekday",`you can't specify both a weekday of ${o.weekday} and a date of ${A.toISO()}`):A.isValid?A:mr.invalid(A.invalid)}static fromISO(e,t={}){const[n,r]=function(e){return Tt(e,[tn,sn],[nn,an],[rn,cn],[on,ln])}(e);return Qn(n,r,t,"ISO 8601",e)}static fromRFC2822(e,t={}){const[n,r]=function(e){return Tt(function(e){return e.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}(e),[Kt,Yt])}(e);return Qn(n,r,t,"RFC 2822",e)}static fromHTTP(e,t={}){const[n,r]=function(e){return Tt(e,[Jt,Qt],[Xt,Qt],[Zt,en])}(e);return Qn(n,r,t,"HTTP",t)}static fromFormat(e,t,n={}){if(Le(e)||Le(t))throw new l("fromFormat requires an input string and a format");const{locale:r=null,numberingSystem:o=null}=n,i=re.fromOpts({locale:r,numberingSystem:o,defaultToEN:!0}),[s,a,c,u]=function(e,t,n){const{result:r,zone:o,specificOffset:i,invalidReason:s}=Un(e,t,n);return[r,o,i,s]}(i,e,t);return u?mr.invalid(u):Qn(s,a,n,`format ${t}`,e,c)}static fromString(e,t,n={}){return mr.fromFormat(e,t,n)}static fromSQL(e,t={}){const[n,r]=function(e){return Tt(e,[dn,sn],[fn,hn])}(e);return Qn(n,r,t,"SQL",e)}static invalid(e,t=null){if(!e)throw new l("need to specify a reason the DateTime is invalid");const n=e instanceof Se?e:new Se(e,t);if(we.throwOnInvalid)throw new o(n);return new mr({invalid:n})}static isDateTime(e){return e&&e.isLuxonDateTime||!1}static parseFormatForOpts(e,t={}){const n=zn(e,re.fromObject(t));return n?n.map(e=>e?e.val:null).join(""):null}static expandFormat(e,t={}){return $n(At.parseFormat(e),re.fromObject(t)).map(e=>e.val).join("")}static resetCache(){pr=void 0,gr.clear()}get(e){return this[e]}get isValid(){return null===this.invalid}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}get outputCalendar(){return this.isValid?this.loc.outputCalendar:null}get zone(){return this._zone}get zoneName(){return this.isValid?this.zone.name:null}get year(){return this.isValid?this.c.year:NaN}get quarter(){return this.isValid?Math.ceil(this.c.month/3):NaN}get month(){return this.isValid?this.c.month:NaN}get day(){return this.isValid?this.c.day:NaN}get hour(){return this.isValid?this.c.hour:NaN}get minute(){return this.isValid?this.c.minute:NaN}get second(){return this.isValid?this.c.second:NaN}get millisecond(){return this.isValid?this.c.millisecond:NaN}get weekYear(){return this.isValid?Gn(this).weekYear:NaN}get weekNumber(){return this.isValid?Gn(this).weekNumber:NaN}get weekday(){return this.isValid?Gn(this).weekday:NaN}get isWeekend(){return this.isValid&&this.loc.getWeekendDays().includes(this.weekday)}get localWeekday(){return this.isValid?Wn(this).weekday:NaN}get localWeekNumber(){return this.isValid?Wn(this).weekNumber:NaN}get localWeekYear(){return this.isValid?Wn(this).weekYear:NaN}get ordinal(){return this.isValid?Oe(this.c).ordinal:NaN}get monthShort(){return this.isValid?kn.months("short",{locObj:this.loc})[this.month-1]:null}get monthLong(){return this.isValid?kn.months("long",{locObj:this.loc})[this.month-1]:null}get weekdayShort(){return this.isValid?kn.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}get weekdayLong(){return this.isValid?kn.weekdays("long",{locObj:this.loc})[this.weekday-1]:null}get offset(){return this.isValid?+this.o:NaN}get offsetNameShort(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}get offsetNameLong(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}get isOffsetFixed(){return this.isValid?this.zone.isUniversal:null}get isInDST(){return!this.isOffsetFixed&&(this.offset>this.set({month:1,day:1}).offset||this.offset>this.set({month:5}).offset)}getPossibleOffsets(){if(!this.isValid||this.isOffsetFixed)return[this];const e=864e5,t=6e4,n=et(this.c),r=this.zone.offset(n-e),o=this.zone.offset(n+e),i=this.zone.offset(n-r*t),s=this.zone.offset(n-o*t);if(i===s)return[this];const a=n-i*t,c=n-s*t,l=Jn(a,i),u=Jn(c,s);return l.hour===u.hour&&l.minute===u.minute&&l.second===u.second&&l.millisecond===u.millisecond?[Kn(this,{ts:a}),Kn(this,{ts:c})]:[this]}get isInLeapYear(){return Xe(this.year)}get daysInMonth(){return Qe(this.year,this.month)}get daysInYear(){return this.isValid?Ze(this.year):NaN}get weeksInWeekYear(){return this.isValid?nt(this.weekYear):NaN}get weeksInLocalWeekYear(){return this.isValid?nt(this.localWeekYear,this.loc.getMinDaysInFirstWeek(),this.loc.getStartOfWeek()):NaN}resolvedLocaleOptions(e={}){const{locale:t,numberingSystem:n,calendar:r}=At.create(this.loc.clone(e),e).resolvedOptions(this);return{locale:t,numberingSystem:n,outputCalendar:r}}toUTC(e=0,t={}){return this.setZone(ie.instance(e),t)}toLocal(){return this.setZone(we.defaultZone)}setZone(e,{keepLocalTime:t=!1,keepCalendarTime:n=!1}={}){if((e=ae(e,we.defaultZone)).equals(this.zone))return this;if(e.isValid){let r=this.ts;if(t||n){const t=e.offset(this.ts),n=this.toObject();[r]=Xn(n,t,e)}return Kn(this,{ts:r,zone:e})}return mr.invalid(Hn(e))}reconfigure({locale:e,numberingSystem:t,outputCalendar:n}={}){return Kn(this,{loc:this.loc.clone({locale:e,numberingSystem:t,outputCalendar:n})})}setLocale(e){return this.reconfigure({locale:e})}set(e){if(!this.isValid)return this;const t=at(e,ur),{minDaysInFirstWeek:n,startOfWeek:r}=Re(t,this.loc),o=!Le(t.weekYear)||!Le(t.weekNumber)||!Le(t.weekday),i=!Le(t.ordinal),s=!Le(t.year),c=!Le(t.month)||!Le(t.day),l=s||c,u=t.weekYear||t.weekNumber;if((l||i)&&u)throw new a("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(c&&i)throw new a("Can't mix ordinal dates with month/day");let d;o?d=Me({...Pe(this.c,n,r),...t},n,r):Le(t.ordinal)?(d={...this.toObject(),...t},Le(t.day)&&(d.day=Math.min(Qe(d.year,d.month),d.day))):d=De({...Oe(this.c),...t});const[f,h]=Xn(d,this.o,this.zone);return Kn(this,{ts:f,o:h})}plus(e){return this.isValid?Kn(this,Zn(this,In.fromDurationLike(e))):this}minus(e){return this.isValid?Kn(this,Zn(this,In.fromDurationLike(e).negate())):this}startOf(e,{useLocaleWeeks:t=!1}={}){if(!this.isValid)return this;const n={},r=In.normalizeUnit(e);switch(r){case"years":n.month=1;case"quarters":case"months":n.day=1;case"weeks":case"days":n.hour=0;case"hours":n.minute=0;case"minutes":n.second=0;case"seconds":n.millisecond=0}if("weeks"===r)if(t){const e=this.loc.getStartOfWeek(),{weekday:t}=this;t<e&&(n.weekNumber=this.weekNumber-1),n.weekday=e}else n.weekday=1;if("quarters"===r){const e=Math.ceil(this.month/3);n.month=3*(e-1)+1}return this.set(n)}endOf(e,t){return this.isValid?this.plus({[e]:1}).startOf(e,t).minus(1):this}toFormat(e,t={}){return this.isValid?At.create(this.loc.redefaultToEN(t)).formatDateTimeFromString(this,e):Vn}toLocaleString(e=p,t={}){return this.isValid?At.create(this.loc.clone(t),e).formatDateTime(this):Vn}toLocaleParts(e={}){return this.isValid?At.create(this.loc.clone(e),e).formatDateTimeParts(this):[]}toISO({format:e="extended",suppressSeconds:t=!1,suppressMilliseconds:n=!1,includeOffset:r=!0,extendedZone:o=!1,precision:i="milliseconds"}={}){if(!this.isValid)return null;const s="extended"===e;let a=tr(this,s,i=lr(i));return sr.indexOf(i)>=3&&(a+="T"),a+=nr(this,s,t,n,r,o,i),a}toISODate({format:e="extended",precision:t="day"}={}){return this.isValid?tr(this,"extended"===e,lr(t)):null}toISOWeekDate(){return er(this,"kkkk-'W'WW-c")}toISOTime({suppressMilliseconds:e=!1,suppressSeconds:t=!1,includeOffset:n=!0,includePrefix:r=!1,extendedZone:o=!1,format:i="extended",precision:s="milliseconds"}={}){return this.isValid?(s=lr(s),(r&&sr.indexOf(s)>=3?"T":"")+nr(this,"extended"===i,t,e,n,o,s)):null}toRFC2822(){return er(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)}toHTTP(){return er(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")}toSQLDate(){return this.isValid?tr(this,!0):null}toSQLTime({includeOffset:e=!0,includeZone:t=!1,includeOffsetSpace:n=!0}={}){let r="HH:mm:ss.SSS";return(t||e)&&(n&&(r+=" "),t?r+="z":e&&(r+="ZZ")),er(this,r,!0)}toSQL(e={}){return this.isValid?`${this.toSQLDate()} ${this.toSQLTime(e)}`:null}toString(){return this.isValid?this.toISO():Vn}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`DateTime { ts: ${this.toISO()}, zone: ${this.zone.name}, locale: ${this.locale} }`:`DateTime { Invalid, reason: ${this.invalidReason} }`}valueOf(){return this.toMillis()}toMillis(){return this.isValid?this.ts:NaN}toSeconds(){return this.isValid?this.ts/1e3:NaN}toUnixInteger(){return this.isValid?Math.floor(this.ts/1e3):NaN}toJSON(){return this.toISO()}toBSON(){return this.toJSDate()}toObject(e={}){if(!this.isValid)return{};const t={...this.c};return e.includeConfig&&(t.outputCalendar=this.outputCalendar,t.numberingSystem=this.loc.numberingSystem,t.locale=this.loc.locale),t}toJSDate(){return new Date(this.isValid?this.ts:NaN)}diff(e,t="milliseconds",n={}){if(!this.isValid||!e.isValid)return In.invalid("created by diffing an invalid DateTime");const r={locale:this.locale,numberingSystem:this.numberingSystem,...n},o=(a=t,Array.isArray(a)?a:[a]).map(In.normalizeUnit),i=e.valueOf()>this.valueOf(),s=function(e,t,n,r){let[o,i,s,a]=function(e,t,n){const r=[["years",(e,t)=>t.year-e.year],["quarters",(e,t)=>t.quarter-e.quarter+4*(t.year-e.year)],["months",(e,t)=>t.month-e.month+12*(t.year-e.year)],["weeks",(e,t)=>{const n=En(e,t);return(n-n%7)/7}],["days",En]],o={},i=e;let s,a;for(const[c,l]of r)n.indexOf(c)>=0&&(s=c,o[c]=l(e,t),a=i.plus(o),a>t?(o[c]--,(e=i.plus(o))>t&&(a=e,o[c]--,e=i.plus(o))):e=a);return[e,o,a,s]}(e,t,n);const c=t-o,l=n.filter(e=>["hours","minutes","seconds","milliseconds"].indexOf(e)>=0);0===l.length&&(s<t&&(s=o.plus({[a]:1})),s!==o&&(i[a]=(i[a]||0)+c/(s-o)));const u=In.fromObject(i,r);return l.length>0?In.fromMillis(c,r).shiftTo(...l).plus(u):u}(i?this:e,i?e:this,o,r);var a;return i?s.negate():s}diffNow(e="milliseconds",t={}){return this.diff(mr.now(),e,t)}until(e){return this.isValid?Cn.fromDateTimes(this,e):this}hasSame(e,t,n){if(!this.isValid)return!1;const r=e.valueOf(),o=this.setZone(e.zone,{keepLocalTime:!0});return o.startOf(t,n)<=r&&r<=o.endOf(t,n)}equals(e){return this.isValid&&e.isValid&&this.valueOf()===e.valueOf()&&this.zone.equals(e.zone)&&this.loc.equals(e.loc)}toRelative(e={}){if(!this.isValid)return null;const t=e.base||mr.fromObject({},{zone:this.zone}),n=e.padding?this<t?-e.padding:e.padding:0;let r=["years","months","days","hours","minutes","seconds"],o=e.unit;return Array.isArray(e.unit)&&(r=e.unit,o=void 0),fr(t,this.plus(n),{...e,numeric:"always",units:r,unit:o})}toRelativeCalendar(e={}){return this.isValid?fr(e.base||mr.fromObject({},{zone:this.zone}),this,{...e,numeric:"auto",units:["years","months","days"],calendary:!0}):null}static min(...e){if(!e.every(mr.isDateTime))throw new l("min requires all arguments be DateTimes");return ze(e,e=>e.valueOf(),Math.min)}static max(...e){if(!e.every(mr.isDateTime))throw new l("max requires all arguments be DateTimes");return ze(e,e=>e.valueOf(),Math.max)}static fromFormatExplain(e,t,n={}){const{locale:r=null,numberingSystem:o=null}=n;return Un(re.fromOpts({locale:r,numberingSystem:o,defaultToEN:!0}),e,t)}static fromStringExplain(e,t,n={}){return mr.fromFormatExplain(e,t,n)}static buildFormatParser(e,t={}){const{locale:n=null,numberingSystem:r=null}=t,o=re.fromOpts({locale:n,numberingSystem:r,defaultToEN:!0});return new jn(o,e)}static fromFormatParser(e,t,n={}){if(Le(e)||Le(t))throw new l("fromFormatParser requires an input string and a format parser");const{locale:r=null,numberingSystem:o=null}=n,i=re.fromOpts({locale:r,numberingSystem:o,defaultToEN:!0});if(!i.equals(t.locale))throw new l(`fromFormatParser called with a locale of ${i}, but the format parser was created for ${t.locale}`);const{result:s,zone:a,specificOffset:c,invalidReason:u}=t.explainFromTokens(e);return u?mr.invalid(u):Qn(s,a,n,`format ${t.format}`,e,c)}static get DATE_SHORT(){return p}static get DATE_MED(){return g}static get DATE_MED_WITH_WEEKDAY(){return m}static get DATE_FULL(){return y}static get DATE_HUGE(){return b}static get TIME_SIMPLE(){return v}static get TIME_WITH_SECONDS(){return _}static get TIME_WITH_SHORT_OFFSET(){return w}static get TIME_WITH_LONG_OFFSET(){return S}static get TIME_24_SIMPLE(){return x}static get TIME_24_WITH_SECONDS(){return I}static get TIME_24_WITH_SHORT_OFFSET(){return A}static get TIME_24_WITH_LONG_OFFSET(){return C}static get DATETIME_SHORT(){return k}static get DATETIME_SHORT_WITH_SECONDS(){return E}static get DATETIME_MED(){return T}static get DATETIME_MED_WITH_SECONDS(){return P}static get DATETIME_MED_WITH_WEEKDAY(){return M}static get DATETIME_FULL(){return O}static get DATETIME_FULL_WITH_SECONDS(){return D}static get DATETIME_HUGE(){return R}static get DATETIME_HUGE_WITH_SECONDS(){return N}}function yr(e){if(mr.isDateTime(e))return e;if(e&&e.valueOf&&Be(e.valueOf()))return mr.fromJSDate(e);if(e&&"object"==typeof e)return mr.fromObject(e);throw new l(`Unknown datetime argument: ${e}, of type ${typeof e}`)}var br=n(13439),vr=n(72531),_r=n(90709),wr=n(60919),Sr=n(22199),xr=n(62718),Ir=n(77787),Ar=n(95815),Cr=n(81120),kr=n(85325),Er=n(80395),Tr=n(60371);function Pr(e,t,n){return(t=function(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Mr="I'll send you the meeting invitation later. [By TelyAI]",Or="I’d like to set up a meeting with you. Could you let me know a time that works best for you? [By TelyAI]",Dr="Which time zone are you currently in? [By TelyAI]",Rr="Could you share your email address? If additional participants should be included, please provide their email addresses as well. [By TelyAI]";function Nr(e,t=30,n=3){const r=mr.local(),o=r.plus({days:3}),i=e.map(e=>Cn.fromDateTimes(mr.fromISO(e.start),mr.fromISO(e.end))),s=[];let a=r,c=!1;for(;a<o&&!c;){const e=a.set({hour:9,minute:0,second:0,millisecond:0}),o=a.set({hour:18,minute:0,second:0,millisecond:0});let l=e;for(a.hasSame(r,"day")&&(l=r.minute<30?r.set({minute:30,second:0,millisecond:0}):r.plus({hours:1}).set({minute:0,second:0,millisecond:0}),l<e&&(l=e));l.plus({minutes:t})<=o;){const e=l.plus({minutes:t}),o=Cn.fromDateTimes(l,e);if(!i.some(e=>e.overlaps(o))&&!(e<r)&&(s.push({start:l.toISO(),end:e.toISO()}),s.length>=n)){c=!0;break}l=l.plus({minutes:30})}a=a.plus({days:1}).startOf("day")}return s}function Fr(e){return new Promise((t,n)=>{(0,Cr.RL)(e).then(e=>{let n=null,r=null,o=null,i=null;e&&e.length>0?(e.forEach(e=>{e.result&&("parseTime"===e.toolName?r=e.result:"extractEmail"===e.toolName?n=e.result||null:"parseTimeRange"===e.toolName?(o=e.result.duration,r=e.result.start):"extractTimeZone"===e.toolName&&(i=e.result.timeZone))}),t({startTime:r,email:n,duration:o,timeZone:i})):t({})}).catch(e=>{n(e)})})}class Lr{constructor({chatId:e,targetUserId:t="",email:n=[],startTime:r,duration:o=1800,timeZone:i}){Pr(this,"chatId",void 0),Pr(this,"targetUserId",void 0),Pr(this,"email",void 0),Pr(this,"startTime",void 0),Pr(this,"duration",void 0),Pr(this,"timeZone",void 0),Pr(this,"timeout",void 0),Pr(this,"handlerRef",void 0),Pr(this,"messageId",void 0),Pr(this,"timeConfirmed",!1),Pr(this,"authCheckTimeout",void 0),this.chatId=e,this.targetUserId=t,this.email=n,this.timeZone=i,this.startTime=r,this.duration=o,this.handlerRef=({message:e})=>this.handlerImMessage({message:e}),vr.A.on(vr.E.NewTextMessage,this.handlerRef),this.timeout=setTimeout(()=>{this.cleanup(),console.log("已超过五分钟未完成输入，工作流已结束。")},3e5)}static create(e){const t=Lr.instances.get(e.chatId);if(t)return t;{const t=new Lr(e);return Lr.instances.set(e.chatId,t),t}}static get(e){return Lr.instances.get(e)}async timeConfirmCallback({startTime:e,email:t,timeZone:n,duration:r,timeConfirmed:o=!1}){n&&!this.timeZone&&(this.timeZone=n),e&&e.length&&(this.startTime=e),t&&t.length&&(this.email=t),r&&(this.duration=r),this.timeConfirmed=o,this.timeConfirmed||await this.handleTimeCheck(),this.email.length&&this.startTime&&this.timeZone&&this.duration&&this.timeConfirmed?this.scheduleAuthCheck():this.handleMeetingInfoAsk()}handleMeetingInfoAsk(){this.startTime&&0!==this.startTime.length?this.timeZone?this.email.length||this.sendMessage(Rr):this.sendMessage(Dr):this.sendMessage(Or)}cleanup(){vr.A.off(vr.E.NewTextMessage,this.handlerRef),this.timeout&&clearTimeout(this.timeout),this.authCheckTimeout&&clearTimeout(this.authCheckTimeout),Lr.instances.delete(this.chatId)}resetAuthCheckTimer(){this.authCheckTimeout&&(clearTimeout(this.authCheckTimeout),this.authCheckTimeout=void 0)}scheduleAuthCheck(){this.resetAuthCheckTimer(),this.authCheckTimeout=setTimeout(()=>{this.handleGoogleAuthCheck()},15e3)}async handleTargetMessage(e){const t=(0,_r.r_)(e)?.text?.text||"";this.messageId=e.id;const{email:n,startTime:r,duration:o,timeZone:i}=await Fr(t);i&&!this.timeZone&&(this.timeZone=i),r&&(this.startTime=[r],this.timeZone&&(this.startTime=[(0,Tr.m)(r,this.timeZone).utcInstant])),n&&n.length&&(this.email=n),o&&(this.duration=o),this.startTime&&this.timeZone&&await this.handleTimeCheck(),this.email.length&&this.startTime&&this.timeZone&&this.duration&&this.timeConfirmed?this.scheduleAuthCheck():this.handleMeetingInfoAsk()}handlerImMessage({message:e}){e&&(0,_r.XR)(e)&&!e.isOutgoing&&(this.messageId=e.id,this.handler({chatId:e.chatId,senderId:e.senderId,messageId:e.id,text:(0,_r.r_)(e).text?.text||""}))}async checkTimeAvailable(e){const t=e?e[0]:null;if(!t)return{isAvailable:!1,suggestions:[]};if(new Date(t).getTime()<Date.now())return{isAvailable:!1,suggestions:Nr(await(0,kr.TT)())};const n={start:t,end:new Date(new Date(t).getTime()+1e3*this.duration).toISOString()},{isAvailable:r,suggestions:o}=await async function(e){const t=await(0,kr.TT)(),n=new Date(e.start).getTime(),r=new Date(e.end).getTime();for(const e of t){const o=new Date(e.start).getTime();if(n<new Date(e.end).getTime()&&o<r)return{isAvailable:!1,suggestions:Nr(t)}}return{isAvailable:!0}}(n);return{isAvailable:r,suggestions:o}}async checkCalendlyLinks(e){const t=(0,Sr.t4)(e)?.[0];if(t){const{times:e,timeZone:n,email:r}=await(0,Cr.t0)({calendlyUrl:t});!this.timeZone&&n&&(this.timeZone=n),r&&this.email.push(r);const o=await(0,kr.TT)(),i=function(e,t,n){const r=[];for(const o of e){const e=new Date(o),i=new Date(e.getTime()+1e3*t);let s=!1;for(const t of n){const n=new Date(t.start);if(e<new Date(t.end)&&i>n){s=!0;break}}s||r.push(e.toISOString())}return r}(e,this.duration,o);return 0===i.length&&console.log("No available time slots found for the provided Calendly link."),i.slice(0,3)}return[]}async handleTimeCheck(){if(this.startTime&&this.timeZone&&!this.timeConfirmed){const{isAvailable:e,suggestions:t}=await this.checkTimeAvailable(this.startTime);if(!e)return this.startTime=[],this.sendMessage("The time you provided is not available. Could you please suggest another time? [By TelyAI]"),await new Promise(e=>{setTimeout(e,1e3)}),void this.sendMessage(`Here are some available time slots you can choose from: \n ${t.map((e,t)=>`${t+1}.${(0,Tr.bK)(e.start,e.end,this.timeZone,!0)}`).join("\n")} \n [By TelyAI]`);this.timeConfirmed=!0}}async handleCalendlyMatch(e){const t=await this.checkCalendlyLinks(e);if(t&&t.length>0&&!this.timeConfirmed){const e=(0,xr.gz)({chatId:this.chatId,startTime:t,duration:this.duration,timeZone:this.timeZone,email:this.email});Ir.zs?.message?.storeMessage((0,Ar.Jr)(this.chatId,[e])[0]),this.cleanup();const n=(0,br.mS)(),r=(0,wr.meB)(n);return void(r&&r.id===this.chatId&&(vr.A.emit(vr.E.AddRoomAIMessage,e),(0,br.ko)().openChatAIWithInfo({chatId:this.chatId})))}}async handler(e){const{text:t,chatId:n,senderId:r,messageId:o}=e||{};if(!(n&&n!==this.chatId||this.targetUserId&&r!==this.targetUserId||""===t?.trim())){this.messageId=o;try{const{email:e,startTime:n,duration:r,timeZone:o}=await Fr(t);e&&e.length>0&&(this.email=this.email.concat(e)),o&&!this.timeZone&&(this.timeZone=o,this.startTime&&(this.startTime=[(0,Tr.m)(this.startTime[0],o).utcInstant]),this.timeConfirmed=!1),r&&(this.duration=r),n&&(this.startTime=[n],this.timeZone&&(this.startTime=[(0,Tr.m)(n,this.timeZone).utcInstant]),this.timeConfirmed=!1),(n||r||o||e)&&this.resetAuthCheckTimer(),await this.handleTimeCheck(),await this.handleCalendlyMatch(t),(n||r||o||e)&&this.handleMeetingInfoAsk(),this.email.length&&this.startTime&&this.timeZone&&this.duration&&this.timeConfirmed&&this.scheduleAuthCheck()}catch(e){console.log(e),this.cleanup()}}}async handleGoogleAuthCheck(){this.cleanup();const e=(0,Er.IM)();e&&await(0,Er.G6)(e)?this.handleCreateGoogleMeet(e.accessToken):(0,kr.wG)({onOk:e=>{this.handleCreateGoogleMeet(e)},onCancel:()=>{this.cleanup()}})}handleCreateGoogleMeet(e){const t=this.startTime[0];(0,kr.FG)({startDate:new Date(t),endDate:new Date(new Date(t).getTime()+1e3*this.duration),selectedTimezone:this.timeZone,emails:this.email,googleToken:e}).then(e=>{this.sendMessage(Mr),e&&(0,Tr.Qg)(e,this.chatId),setTimeout(()=>{this.cleanup()},3e3)}).catch(e=>{console.log(e),this.cleanup()})}sendMessage(e){const{saveReplyDraft:t,sendMessage:n,clearDraft:r}=(0,br.ko)();if(this.targetUserId&&this.messageId){const o={type:"message",replyToMsgId:this.messageId,replyToPeerId:void 0};t({chatId:this.chatId,threadId:-1,draft:{replyInfo:o},isLocalOnly:!0}),n({messageList:{chatId:this.chatId,threadId:-1,type:"thread"},text:e}),r({chatId:this.chatId,isLocalOnly:!0})}else n({messageList:{chatId:this.chatId,threadId:-1,type:"thread"},text:e})}}Pr(Lr,"instances",new Map);const Br=Lr},8235:(e,t,n)=>{"use strict";e.exports=n.p+"serena.9b50b0485332d28fb61a.png"},8718:(e,t,n)=>{"use strict";n.d(t,{By:()=>m,Mb:()=>d,OV:()=>h,VK:()=>p,qF:()=>g});var r=n(37836),o=n(22237),i=n(66644);const s=1e3;let a=0,c=0;const[l,u]=(0,o.n5)(!1),[d,f]=(0,o.n5)(!1),h=l;function p(e=s,t=!1){a++,1===a&&u(!0),t&&(c++,1===c&&f(!0));const n=window.setTimeout(o,e);let r=!1;function o(){r||(r=!0,clearTimeout(n),a--,0===a&&u(!1),t&&(c--,0===c&&f(!1)))}return o}function g(e){(0,r.kI)(()=>{l()?(0,i.YS)(()=>{g(e)}):e()})}function m(e){return(0,r.nb)(g,e)}},8719:(e,t,n)=>{"use strict";n.d(t,{A9:()=>g,H3:()=>p,K4:()=>u,Xf:()=>l,f3:()=>f,xK:()=>d});var r=n(82284),o=n(96540),i=n(44363),s=n(28104),a=n(76288),c=Number(o.version.split(".")[0]),l=function(e,t){"function"==typeof e?e(t):"object"===(0,r.A)(e)&&e&&"current"in e&&(e.current=t)},u=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.filter(Boolean);return r.length<=1?r[0]:function(e){t.forEach(function(t){l(t,e)})}},d=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,s.A)(function(){return u.apply(void 0,t)},t,function(e,t){return e.length!==t.length||e.every(function(e,n){return e!==t[n]})})},f=function(e){var t,n;if(!e)return!1;if(h(e)&&c>=19)return!0;var r=(0,i.isMemo)(e)?e.type.type:e.type;return!!("function"!=typeof r||null!==(t=r.prototype)&&void 0!==t&&t.render||r.$$typeof===i.ForwardRef)&&!!("function"!=typeof e||null!==(n=e.prototype)&&void 0!==n&&n.render||e.$$typeof===i.ForwardRef)};function h(e){return(0,o.isValidElement)(e)&&!(0,a.A)(e)}var p=function(e){return h(e)&&f(e)},g=function(e){if(e&&h(e)){var t=e;return t.props.propertyIsEnumerable("ref")?t.props.ref:t.ref}return null}},9267:(e,t,n)=>{"use strict";n.d(t,{A:()=>d});var r=n(84051),o=n(87357),i=n(14745);const s={root:"qEhgJEpm",middle:"GjxPnwZR",big:"HRLrnZvQ",adaptive:"ebO2WJkv",svg:"lbK6aMGA",clickable:"hqg1cKl7"},a="M6.63869 12.1902L3.50621 14.1092C3.18049 14.3087 2.75468 14.2064 2.55515 13.8807C2.45769 13.7216 2.42864 13.5299 2.47457 13.3491L2.95948 11.4405C3.13452 10.7515 3.60599 10.1756 4.24682 9.86791L7.6642 8.22716C7.82352 8.15067 7.89067 7.95951 7.81418 7.80019C7.75223 7.67116 7.61214 7.59896 7.47111 7.62338L3.66713 8.28194C2.89387 8.41581 2.1009 8.20228 1.49941 7.69823L0.297703 6.69116C0.00493565 6.44581 -0.0335059 6.00958 0.211842 5.71682C0.33117 5.57442 0.502766 5.48602 0.687982 5.47153L4.35956 5.18419C4.61895 5.16389 4.845 4.99974 4.94458 4.75937L6.36101 1.3402C6.5072 0.987302 6.91179 0.819734 7.26469 0.965925C7.43413 1.03612 7.56876 1.17075 7.63896 1.3402L9.05539 4.75937C9.15496 4.99974 9.38101 5.16389 9.6404 5.18419L13.3322 5.47311C13.713 5.50291 13.9975 5.83578 13.9677 6.2166C13.9534 6.39979 13.8667 6.56975 13.7269 6.68896L10.9114 9.08928C10.7131 9.25826 10.6267 9.52425 10.6876 9.77748L11.5532 13.3733C11.6426 13.7447 11.414 14.1182 11.0427 14.2076C10.8642 14.2506 10.676 14.2208 10.5195 14.1249L7.36128 12.1902C7.13956 12.0544 6.8604 12.0544 6.63869 12.1902Z";function c({randomId:e}){const t=`${e}-mask1`,n=`${e}-mask2`,o=`${e}-gradient1`,i=`${e}-gradient2`,a=`${e}-gradient3`;return r.Ay.createElement("svg",{className:s.svg,width:"20",height:"20",viewBox:"0 0 20 20",fill:"none"},r.Ay.createElement("g",{"clip-path":"url(#clip0_4913_7387)"},r.Ay.createElement("mask",{id:t,style:"mask-type:luminance",maskUnits:"userSpaceOnUse",x:"-2",y:"-2",width:"24",height:"24"},r.Ay.createElement("path",{d:"M21.416 -1.42493H-1.08398V21.0751H21.416V-1.42493Z",fill:"white"})),r.Ay.createElement("g",{mask:`url(#${t})`},r.Ay.createElement("mask",{id:n,style:"mask-type:luminance",maskUnits:"userSpaceOnUse",x:"-2",y:"-2",width:"24",height:"24"},r.Ay.createElement("path",{d:"M-1.08398 -1.42493H21.416V21.0751H-1.08398V-1.42493Z",fill:"white"})),r.Ay.createElement("g",{mask:`url(#${n})`},r.Ay.createElement("path",{d:"M7.26843 6.25162L9.28943 2.22541C9.52311 1.76121 10.0884 1.5749 10.5494 1.80857C10.7294 1.90015 10.8747 2.04857 10.9662 2.23172L12.8767 6.11583C13.0314 6.43477 13.3378 6.64951 13.6883 6.69056L17.6829 7.17055C18.2261 7.23686 18.6145 7.73264 18.5513 8.27894C18.5229 8.50314 18.4218 8.71156 18.2608 8.86945L15.0998 11.9862C14.9703 12.1125 14.9103 12.2894 14.9324 12.4694L15.4598 16.6756C15.5356 17.2787 15.1093 17.8282 14.5093 17.904C14.2819 17.9324 14.0546 17.8913 13.8525 17.7808L10.5147 15.9556C10.2715 15.823 9.98099 15.8198 9.73784 15.9461L6.27687 17.7208C5.79057 17.9703 5.1969 17.7745 4.94743 17.285C4.8527 17.1019 4.82112 16.8966 4.84954 16.6945L5.12427 14.7619C5.26006 13.8177 5.84425 12.9967 6.69055 12.5641L10.5305 10.6031C10.6315 10.5526 10.6726 10.4263 10.622 10.322C10.581 10.2431 10.4957 10.1957 10.4073 10.2084L5.70847 10.8841C4.99164 10.9852 4.26535 10.7831 3.7001 10.322L2.13698 9.04629C1.69173 8.68314 1.6191 8.02 1.98225 7.57159C2.15277 7.36317 2.39592 7.22739 2.66118 7.19265L6.6716 6.67793C6.92739 6.64319 7.15159 6.4853 7.26843 6.25162Z",fill:`url(#${o})`}),r.Ay.createElement("path",{d:"M10.8242 2.9422C10.4168 2.85062 9.98417 3.0464 9.78839 3.43797L7.76423 7.46419C7.64739 7.69787 7.42634 7.85576 7.1674 7.89049L3.15698 8.40837C2.89804 8.44311 2.6612 8.56942 2.49384 8.76837L3.97801 9.98097C4.44537 10.3631 5.05167 10.5304 5.64849 10.4452L10.3442 9.77255C10.6221 9.73466 10.8936 9.8736 11.0168 10.1231C11.1778 10.442 11.0515 10.8336 10.7326 10.9978L9.50734 11.623L10.9031 11.4209C10.9915 11.4083 11.0799 11.4557 11.1178 11.5346C11.1715 11.6388 11.1273 11.7651 11.0263 11.8157L7.18635 13.7767C6.34006 14.2093 5.75586 15.0303 5.62007 15.9745L5.44008 17.2282C5.60428 17.3924 5.86322 17.4366 6.07796 17.326L9.53261 15.5514C9.90839 15.3587 10.3536 15.365 10.7231 15.5671L14.0609 17.3924C14.1809 17.4587 14.3199 17.4839 14.4556 17.4682C14.8093 17.4239 15.0651 17.0955 15.0209 16.7324L14.4967 12.523C14.4588 12.2072 14.5662 11.8946 14.7904 11.6736L17.9513 8.55679C18.005 8.50311 18.0461 8.43995 18.0745 8.37048L14.1841 7.90312C13.8336 7.86207 13.5304 7.64418 13.3725 7.3284L13.2209 7.01578C12.902 6.87683 12.6399 6.63052 12.482 6.31159L10.8242 2.9422Z",fill:`url(#${i})`}),r.Ay.createElement("path",{d:"M10.7484 1.41397C10.0663 1.06977 9.23893 1.3445 8.89789 2.02659L6.87373 6.05596C6.8232 6.15701 6.72531 6.22649 6.61478 6.23912L2.60436 6.757C2.22542 6.80437 1.87806 7.00015 1.63807 7.29699C1.12334 7.93486 1.22124 8.86958 1.85596 9.38746L3.42223 10.6664C4.08222 11.2032 4.93167 11.44 5.77165 11.32L9.09051 10.8432L6.48847 12.1727C5.51271 12.6716 4.84325 13.6126 4.68852 14.6989L4.41063 16.6315C4.36958 16.9252 4.41695 17.222 4.55273 17.4873C4.90956 18.1915 5.77481 18.4725 6.479 18.1125L9.93681 16.3378C10.0505 16.2778 10.1863 16.281 10.3 16.3441L13.6378 18.1662C13.9188 18.3209 14.2441 18.3841 14.563 18.343C15.4061 18.2357 15.9998 17.462 15.8956 16.622L15.3714 12.4126C15.3651 12.3716 15.3809 12.3274 15.4093 12.299L18.5703 9.1822C18.8008 8.95168 18.9492 8.65169 18.9871 8.32959C19.0787 7.5433 18.5229 6.82963 17.7366 6.73489L13.7388 6.25491C13.5399 6.2328 13.363 6.10649 13.2715 5.92334L11.3641 2.03606C11.2315 1.76765 11.0136 1.54976 10.7484 1.41397ZM9.68418 2.42132C9.80734 2.17501 10.1073 2.07712 10.3505 2.20027C10.4452 2.24764 10.5242 2.32974 10.5715 2.42763L12.482 6.31175C12.7031 6.76332 13.1357 7.06962 13.6346 7.12962L17.6324 7.60961C17.9324 7.64435 18.1471 7.91908 18.1124 8.22538C18.0966 8.3517 18.0398 8.46854 17.9513 8.55695L14.7904 11.6737C14.5662 11.8948 14.4588 12.2074 14.4967 12.5232L15.0209 16.7325C15.0651 17.0957 14.8093 17.4241 14.4556 17.4683C14.3199 17.4841 14.1809 17.4588 14.0609 17.3925L10.7231 15.5673C10.3536 15.3652 9.90839 15.362 9.53261 15.5547L6.0748 17.3294C5.80638 17.4652 5.47797 17.3578 5.33903 17.0862C5.2885 16.9852 5.26956 16.8683 5.28534 16.7546L5.56007 14.8252C5.67376 14.0231 6.17269 13.3253 6.88952 12.959L10.7294 10.9979C11.0515 10.8337 11.1778 10.4422 11.0168 10.1232C10.8905 9.87376 10.6221 9.73482 10.3442 9.77271L5.64534 10.4453C5.04851 10.5306 4.44537 10.3632 3.97801 9.98113L2.41489 8.70221C2.15595 8.49064 2.1149 8.10854 2.32647 7.8496C2.42436 7.72961 2.56331 7.65066 2.71488 7.63171L6.72531 7.11383C7.12951 7.06331 7.48003 6.81384 7.66318 6.45069L9.68418 2.42132Z",fill:`url(#${a})`})))),r.Ay.createElement("defs",null,r.Ay.createElement("linearGradient",{id:o,x1:"10.1547",y1:"1.70752",x2:"10.1547",y2:"17.9134",gradientUnits:"userSpaceOnUse"},r.Ay.createElement("stop",{"stop-color":"#FFF0C2"}),r.Ay.createElement("stop",{offset:"1","stop-color":"#FFEBBA"})),r.Ay.createElement("linearGradient",{id:i,x1:"10.2842",y1:"2.92009",x2:"14.7304",y2:"17.4713",gradientUnits:"userSpaceOnUse"},r.Ay.createElement("stop",{"stop-color":"#FFD147"}),r.Ay.createElement("stop",{offset:"1","stop-color":"#FFB526"})),r.Ay.createElement("linearGradient",{id:a,x1:"10.1547",y1:"1.26556",x2:"14.0546",y2:"18.3525",gradientUnits:"userSpaceOnUse"},r.Ay.createElement("stop",{"stop-color":"#E58F0D"}),r.Ay.createElement("stop",{offset:"1","stop-color":"#EB7814"})),r.Ay.createElement("clipPath",{id:"clip0_4913_7387"},r.Ay.createElement("rect",{width:"20",height:"20",fill:"white"}))))}function l({randomId:e}){return r.Ay.createElement("svg",{className:s.svg,width:"14",height:"15",viewBox:"0 0 14 15",fill:"none"},r.Ay.createElement("defs",null,r.Ay.createElement("linearGradient",{id:e,x1:"3",y1:"63.5001",x2:"84.1475",y2:"-1.32262",gradientUnits:"userSpaceOnUse"},r.Ay.createElement("stop",{"stop-color":"#6B93FF"}),r.Ay.createElement("stop",{offset:"0.439058","stop-color":"#976FFF"}),r.Ay.createElement("stop",{offset:"1","stop-color":"#E46ACE"}))),r.Ay.createElement("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:a,fill:`url(#${e})`}))}function u(){return r.Ay.createElement("svg",{className:s.svg,width:"14",height:"15",viewBox:"0 0 14 15",fill:"none"},r.Ay.createElement("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:a,fill:"var(--color-fill)"}))}const d=(0,r.ph)(({type:e="regular",size:t="small",className:n,style:a,onClick:d})=>{const f=`svg-${(0,i.A)()}`;return r.Ay.createElement("i",{onClick:d,className:(0,o.A)("StarIcon",s.root,n,d&&s.clickable,s[t]),style:a},(()=>{switch(e){case"gold":return r.Ay.createElement(c,{randomId:f});case"premium":return r.Ay.createElement(l,{randomId:f});default:return r.Ay.createElement(u,null)}})())})},9390:(e,t,n)=>{"use strict";n.d(t,{n:()=>a});var r=n(13439),o=n(40459);function i(e,t,n){return(t=function(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class s{constructor(){i(this,"pendingMessages",[]),i(this,"timmer",void 0)}initTask(){this.timmer&&clearInterval(this.timmer),this.timmer=setInterval(()=>{this.intelligentResponse()},3e4)}static getTextWithoutEntities(e,t){const n=t.map(e=>({start:e.offset,length:e.length})).sort((e,t)=>t.start-e.start);for(const{start:t,length:r}of n)e=e.slice(0,t)+e.slice(t+r);return e}intelligentResponse(){this.pendingMessages&&(this.pendingMessages.map(e=>({chatId:e.chatId,senderId:e.senderId,messageId:e.id,content:e.content.text?.text,entities:e.content.text?.entities})).forEach(async e=>{const{chatId:t,messageId:n,entities:i}=e;let a=e.content||"";if(a){if(i&&i?.length>0&&(a=s.getTextWithoutEntities(a,i)),!a.trim())return;const e=await(0,o.G)(a);if(e&&e.score>.8){const o=-1,i={type:"message",replyToMsgId:n,replyToPeerId:void 0};(0,r.ko)().saveReplyDraft({chatId:t,threadId:o,draft:{replyInfo:i},isLocalOnly:!0}),(0,r.ko)().sendMessage({messageList:{chatId:t,threadId:o,type:"thread"},text:e.answer}),(0,r.ko)().clearDraft({chatId:t,isLocalOnly:!0})}}}),this.clearPendingMessages())}addNewMessage(e){this.pendingMessages.push(e)}clearPendingMessages(){this.pendingMessages=[]}getPendingMessages(){return this.pendingMessages}static getInstance(){return s.instance||(s.instance=new s),s.instance}}i(s,"instance",void 0);const a=s.getInstance()},9417:(e,t,n)=>{"use strict";function r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}n.d(t,{A:()=>r})},9705:(e,t,n)=>{"use strict";function r(e,t,n){return(t=function(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,{A:()=>o});class o{constructor(){r(this,"promise",void 0),r(this,"reject",void 0),r(this,"resolve",void 0),this.promise=new Promise((e,t)=>{this.reject=t,this.resolve=e})}static resolved(e){const t=new o;return t.resolve(e),t}}},9716:(e,t,n)=>{"use strict";n.d(t,{L8:()=>o,QE:()=>i,hy:()=>a,rz:()=>s});var r=n(31481);function o(e){return!e.startsWith("-")}function i(e){const t=Number(e);return String(-r.OkV-t)}function s(e){return Number(e)<-r.OkV?e.replace(/^-10+/,""):e.replace("-","")}function a(e){return Math.abs(Number(s(e)))}},9935:(e,t,n)=>{"use strict";n.d(t,{f:()=>l,iB:()=>h,q2:()=>c,xE:()=>u});var r=n(31481);const o=new Set(["scroll","mouseenter","mouseleave","load","error"]),i={},s={},a=new Map;function c(e,t,n,r=!1){const o=u(t,e);d(o,e,r)?function(e,t,n){i[e]||(i[e]=0,document.addEventListener(e,p)),function(e){return s[e]||(s[e]=new Map),s[e]}(e).set(t,n),function(e){const t=a.get(e);if(t)return t;const n=new Set;return a.set(e,n),n}(t).add(e),i[e]++}(o,e,n):e.addEventListener(o,n,r)}function l(e,t,n,r=!1){const o=u(t,e);d(o,e,r)?f(o,e):e.removeEventListener(o,n,r)}function u(e,t){const n=e.replace(/^on/,"").replace(/Capture$/,"").toLowerCase();return"change"===n&&"SELECT"!==t.tagName?"input":"doubleclick"===n?"dblclick":"focus"===n?"focusin":"blur"===n?"focusout":n}function d(e,t,n){return!n&&!o.has(e)&&"VIDEO"!==t.tagName&&"IFRAME"!==t.tagName}function f(e,t){i[e]--,i[e]||document.removeEventListener(e,p),s[e].delete(t),a.get(t).delete(e)}function h(e){const t=a.get(e);t&&(t.forEach(t=>f(t,e)),a.delete(e))}function p(e){const t=s[e.type];if(t){let n=!1,r=e.target;const o=()=>{n=!0},i=()=>{e.preventDefault()},s=new Proxy(e,{get:(e,t)=>"currentTarget"===t?r:"stopPropagation"===t||"stopImmediatePropagation"===t?o:"preventDefault"===t?i:Reflect.get(e,t)});for(;r&&r!==document.body;){const e=t.get(r);if(e&&(e(s),n))return;r=r.parentNode}}}r.Oig&&document.addEventListener("dblclick",()=>{const e=Object.keys(i).length,t=Object.values(i).reduce((e,t)=>e+t,0),n=Object.keys(s).length,r=Object.values(s).reduce((e,t)=>e+t.size,0),o=a.size,c=Array.from(a.values()).reduce((e,t)=>e+t.size,0);console.warn("DELEGATED EVENTS STATS",{delegatedHandlersCount1:t,delegatedHandlersCount2:r,delegatedEventTypesCount:c,delegationRegistriesCount:n,delegationElementsCount:o,documentListenersCount:e})})},10328:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(84051),o=n(66644),i=n(17712);const s=(e,t,n,s,a)=>{const[c,l]=(0,r.J0)(-1);return(0,r.vJ)(()=>{l(-1);const n=e.current;t&&n&&!a&&((0,o.RK)(()=>{n.tabIndex=-1}),(0,o.YS)(()=>n.focus()))},[e,t,a]),(0,i.A)(t=>{const r=e.current;if(!r)return;if(13===t.keyCode&&n)return void n(c);if(38!==t.keyCode&&40!==t.keyCode)return;const o=document.activeElement,i=Array.from(s?r.querySelectorAll(s):r.children);let a=o&&i.indexOf(o)||c;if(38===t.keyCode&&a>0)a--;else if(40===t.keyCode&&a<i.length-1)a++;else{if(1!==i.length)return;a=0}const u=i[a];u&&(l(a),u.focus())})}},10467:(e,t,n)=>{"use strict";function r(e,t,n,r,o,i,s){try{var a=e[i](s),c=a.value}catch(e){return void n(e)}a.done?t(c):Promise.resolve(c).then(r,o)}function o(e){return function(){var t=this,n=arguments;return new Promise(function(o,i){var s=e.apply(t,n);function a(e){r(s,o,i,a,c,"next",e)}function c(e){r(s,o,i,a,c,"throw",e)}a(void 0)})}}n.d(t,{A:()=>o})},10482:function(e,t,n){var r;e.exports=(r=n(19021),n(57165),r.pad.Iso97971={pad:function(e,t){e.concat(r.lib.WordArray.create([2147483648],1)),r.pad.ZeroPadding.pad(e,t)},unpad:function(e){r.pad.ZeroPadding.unpad(e),e.sigBytes--}},r.pad.Iso97971)},10777:(e,t,n)=>{"use strict";n.d(t,{ZR:()=>$});const r=(()=>{let e=0;return()=>(e+=1,`u${`0000${(Math.random()*36**4|0).toString(36)}`.slice(-4)}${e}`)})();function o(e){const t=[];for(let n=0,r=e.length;n<r;n++)t.push(e[n]);return t}let i=null;function s(e={}){return i||(e.includeStyleProperties?(i=e.includeStyleProperties,i):(i=o(window.getComputedStyle(document.documentElement)),i))}function a(e,t){const n=(e.ownerDocument.defaultView||window).getComputedStyle(e).getPropertyValue(t);return n?parseFloat(n.replace("px","")):0}function c(e,t={}){return{width:t.width||function(e){const t=a(e,"border-left-width"),n=a(e,"border-right-width");return e.clientWidth+t+n}(e),height:t.height||function(e){const t=a(e,"border-top-width"),n=a(e,"border-bottom-width");return e.clientHeight+t+n}(e)}}const l=16384;function u(e){return new Promise((t,n)=>{const r=new Image;r.onload=()=>{r.decode().then(()=>{requestAnimationFrame(()=>t(r))})},r.onerror=n,r.crossOrigin="anonymous",r.decoding="async",r.src=e})}const d=(e,t)=>{if(e instanceof t)return!0;const n=Object.getPrototypeOf(e);return null!==n&&(n.constructor.name===t.name||d(n,t))};function f(e,t,n,o){const i=window.getComputedStyle(e,n),a=i.getPropertyValue("content");if(""===a||"none"===a)return;const c=r();try{t.className=`${t.className} ${c}`}catch(e){return}const l=document.createElement("style");l.appendChild(function(e,t,n,r){const o=`.${e}:${t}`,i=n.cssText?function(e){const t=e.getPropertyValue("content");return`${e.cssText} content: '${t.replace(/'|"/g,"")}';`}(n):function(e,t){return s(t).map(t=>`${t}: ${e.getPropertyValue(t)}${e.getPropertyPriority(t)?" !important":""};`).join(" ")}(n,r);return document.createTextNode(`${o}{${i}}`)}(c,n,i,o)),t.appendChild(l)}const h="application/font-woff",p="image/jpeg",g={woff:h,woff2:h,ttf:"application/font-truetype",eot:"application/vnd.ms-fontobject",png:"image/png",jpg:p,jpeg:p,gif:"image/gif",tiff:"image/tiff",svg:"image/svg+xml",webp:"image/webp"};function m(e){const t=function(e){const t=/\.([^./]*?)$/g.exec(e);return t?t[1]:""}(e).toLowerCase();return g[t]||""}function y(e){return-1!==e.search(/^(data:)/)}function b(e,t){return`data:${t};base64,${e}`}async function v(e,t,n){const r=await fetch(e,t);if(404===r.status)throw new Error(`Resource "${r.url}" not found`);const o=await r.blob();return new Promise((e,t)=>{const i=new FileReader;i.onerror=t,i.onloadend=()=>{try{e(n({res:r,result:i.result}))}catch(e){t(e)}},i.readAsDataURL(o)})}const _={};async function w(e,t,n){const r=function(e,t,n){let r=e.replace(/\?.*/,"");return n&&(r=e),/ttf|otf|eot|woff2?/i.test(r)&&(r=r.replace(/.*\//,"")),t?`[${t}]${r}`:r}(e,t,n.includeQueryParams);if(null!=_[r])return _[r];let o;n.cacheBust&&(e+=(/\?/.test(e)?"&":"?")+(new Date).getTime());try{const r=await v(e,n.fetchRequestInit,({res:e,result:n})=>(t||(t=e.headers.get("Content-Type")||""),function(e){return e.split(/,/)[1]}(n)));o=b(r,t)}catch(t){o=n.imagePlaceholder||"";let r=`Failed to fetch resource: ${e}`;t&&(r="string"==typeof t?t:t.message),r&&console.warn(r)}return _[r]=o,o}const S=e=>null!=e.tagName&&"SLOT"===e.tagName.toUpperCase(),x=e=>null!=e.tagName&&"SVG"===e.tagName.toUpperCase();async function I(e,t,n){return n||!t.filter||t.filter(e)?Promise.resolve(e).then(e=>async function(e,t){return d(e,HTMLCanvasElement)?async function(e){const t=e.toDataURL();return"data:,"===t?e.cloneNode(!1):u(t)}(e):d(e,HTMLVideoElement)?async function(e,t){if(e.currentSrc){const t=document.createElement("canvas"),n=t.getContext("2d");return t.width=e.clientWidth,t.height=e.clientHeight,null==n||n.drawImage(e,0,0,t.width,t.height),u(t.toDataURL())}const n=e.poster,r=m(n);return u(await w(n,r,t))}(e,t):d(e,HTMLIFrameElement)?async function(e,t){var n;try{if(null===(n=null==e?void 0:e.contentDocument)||void 0===n?void 0:n.body)return await I(e.contentDocument.body,t,!0)}catch(e){}return e.cloneNode(!1)}(e,t):e.cloneNode(x(e))}(e,t)).then(n=>async function(e,t,n){var r,i;if(x(t))return t;let s=[];return s=S(e)&&e.assignedNodes?o(e.assignedNodes()):d(e,HTMLIFrameElement)&&(null===(r=e.contentDocument)||void 0===r?void 0:r.body)?o(e.contentDocument.body.childNodes):o((null!==(i=e.shadowRoot)&&void 0!==i?i:e).childNodes),0===s.length||d(e,HTMLVideoElement)||await s.reduce((e,r)=>e.then(()=>I(r,n)).then(e=>{e&&t.appendChild(e)}),Promise.resolve()),t}(e,n,t)).then(n=>function(e,t,n){return d(t,Element)&&(function(e,t,n){const r=t.style;if(!r)return;const o=window.getComputedStyle(e);o.cssText?(r.cssText=o.cssText,r.transformOrigin=o.transformOrigin):s(n).forEach(n=>{let i=o.getPropertyValue(n);if("font-size"===n&&i.endsWith("px")){const e=Math.floor(parseFloat(i.substring(0,i.length-2)))-.1;i=`${e}px`}d(e,HTMLIFrameElement)&&"display"===n&&"inline"===i&&(i="block"),"d"===n&&t.getAttribute("d")&&(i=`path(${t.getAttribute("d")})`),r.setProperty(n,i,o.getPropertyPriority(n))})}(e,t,n),function(e,t,n){f(e,t,":before",n),f(e,t,":after",n)}(e,t,n),function(e,t){d(e,HTMLTextAreaElement)&&(t.innerHTML=e.value),d(e,HTMLInputElement)&&t.setAttribute("value",e.value)}(e,t),function(e,t){if(d(e,HTMLSelectElement)){const n=t,r=Array.from(n.children).find(t=>e.value===t.getAttribute("value"));r&&r.setAttribute("selected","")}}(e,t)),t}(e,n,t)).then(e=>async function(e,t){const n=e.querySelectorAll?e.querySelectorAll("use"):[];if(0===n.length)return e;const r={};for(let o=0;o<n.length;o++){const i=n[o].getAttribute("xlink:href");if(i){const n=e.querySelector(i),o=document.querySelector(i);n||!o||r[i]||(r[i]=await I(o,t,!0))}}const o=Object.values(r);if(o.length){const t="http://www.w3.org/1999/xhtml",n=document.createElementNS(t,"svg");n.setAttribute("xmlns",t),n.style.position="absolute",n.style.width="0",n.style.height="0",n.style.overflow="hidden",n.style.display="none";const r=document.createElementNS(t,"defs");n.appendChild(r);for(let e=0;e<o.length;e++)r.appendChild(o[e]);e.appendChild(n)}return e}(e,t)):null}const A=/url\((['"]?)([^'"]+?)\1\)/g,C=/url\([^)]+\)\s*format\((["']?)([^"']+)\1\)/g,k=/src:\s*(?:url\([^)]+\)\s*format\([^)]+\)[,;]\s*)+/g;function E(e){return-1!==e.search(A)}async function T(e,t,n){if(!E(e))return e;const r=function(e,{preferredFontFormat:t}){return t?e.replace(k,e=>{for(;;){const[n,,r]=C.exec(e)||[];if(!r)return"";if(r===t)return`src: ${n};`}}):e}(e,n),o=function(e){const t=[];return e.replace(A,(e,n,r)=>(t.push(r),e)),t.filter(e=>!y(e))}(r);return o.reduce((e,r)=>e.then(e=>async function(e,t,n,r,o){try{const i=n?function(e,t){if(e.match(/^[a-z]+:\/\//i))return e;if(e.match(/^\/\//))return window.location.protocol+e;if(e.match(/^[a-z]+:/i))return e;const n=document.implementation.createHTMLDocument(),r=n.createElement("base"),o=n.createElement("a");return n.head.appendChild(r),n.body.appendChild(o),t&&(r.href=t),o.href=e,o.href}(t,n):t,s=m(t);let a;return a=o?b(await o(i),s):await w(i,s,r),e.replace(function(e){const t=e.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1");return new RegExp(`(url\\(['"]?)(${t})(['"]?\\))`,"g")}(t),`$1${a}$3`)}catch(e){}return e}(e,r,t,n)),Promise.resolve(r))}async function P(e,t,n){var r;const o=null===(r=t.style)||void 0===r?void 0:r.getPropertyValue(e);if(o){const r=await T(o,null,n);return t.style.setProperty(e,r,t.style.getPropertyPriority(e)),!0}return!1}async function M(e,t){d(e,Element)&&(await async function(e,t){await P("background",e,t)||await P("background-image",e,t),await P("mask",e,t)||await P("-webkit-mask",e,t)||await P("mask-image",e,t)||await P("-webkit-mask-image",e,t)}(e,t),await async function(e,t){const n=d(e,HTMLImageElement);if((!n||y(e.src))&&(!d(e,SVGImageElement)||y(e.href.baseVal)))return;const r=n?e.src:e.href.baseVal,o=await w(r,m(r),t);await new Promise((r,i)=>{e.onload=r,e.onerror=t.onImageErrorHandler?(...e)=>{try{r(t.onImageErrorHandler(...e))}catch(e){i(e)}}:i;const s=e;s.decode&&(s.decode=r),"lazy"===s.loading&&(s.loading="eager"),n?(e.srcset="",e.src=o):e.href.baseVal=o})}(e,t),await async function(e,t){const n=o(e.childNodes).map(e=>M(e,t));await Promise.all(n).then(()=>e)}(e,t))}const O={};async function D(e){let t=O[e];if(null!=t)return t;const n=await fetch(e);return t={url:e,cssText:await n.text()},O[e]=t,t}async function R(e,t){let n=e.cssText;const r=/url\(["']?([^"')]+)["']?\)/g,o=(n.match(/url\([^)]+\)/g)||[]).map(async o=>{let i=o.replace(r,"$1");return i.startsWith("https://")||(i=new URL(i,e.url).href),v(i,t.fetchRequestInit,({result:e})=>(n=n.replace(o,`url(${e})`),[o,e]))});return Promise.all(o).then(()=>n)}function N(e){if(null==e)return[];const t=[];let n=e.replace(/(\/\*[\s\S]*?\*\/)/gi,"");const r=new RegExp("((@.*?keyframes [\\s\\S]*?){([\\s\\S]*?}\\s*?)})","gi");for(;;){const e=r.exec(n);if(null===e)break;t.push(e[0])}n=n.replace(r,"");const o=/@import[\s\S]*?url\([^)]*\)[\s\S]*?;/gi,i=new RegExp("((\\s*?(?:\\/\\*[\\s\\S]*?\\*\\/)?\\s*?@media[\\s\\S]*?){([\\s\\S]*?)}\\s*?})|(([\\s\\S]*?){([\\s\\S]*?)})","gi");for(;;){let e=o.exec(n);if(null===e){if(e=i.exec(n),null===e)break;o.lastIndex=i.lastIndex}else i.lastIndex=o.lastIndex;t.push(e[0])}return t}function F(e){return e.trim().replace(/["']/g,"")}async function L(e,t){const n=await async function(e,t){if(null==e.ownerDocument)throw new Error("Provided element is not within a Document");const n=o(e.ownerDocument.styleSheets),r=await async function(e,t){const n=[],r=[];return e.forEach(n=>{if("cssRules"in n)try{o(n.cssRules||[]).forEach((e,o)=>{if(e.type===CSSRule.IMPORT_RULE){let i=o+1;const s=D(e.href).then(e=>R(e,t)).then(e=>N(e).forEach(e=>{try{n.insertRule(e,e.startsWith("@import")?i+=1:n.cssRules.length)}catch(t){console.error("Error inserting rule from remote css",{rule:e,error:t})}})).catch(e=>{console.error("Error loading remote css",e.toString())});r.push(s)}})}catch(o){const i=e.find(e=>null==e.href)||document.styleSheets[0];null!=n.href&&r.push(D(n.href).then(e=>R(e,t)).then(e=>N(e).forEach(e=>{i.insertRule(e,i.cssRules.length)})).catch(e=>{console.error("Error loading remote stylesheet",e)})),console.error("Error inlining remote css file",o)}}),Promise.all(r).then(()=>(e.forEach(e=>{if("cssRules"in e)try{o(e.cssRules||[]).forEach(e=>{n.push(e)})}catch(t){console.error(`Error while reading CSS rules from ${e.href}`,t)}}),n))}(n,t);return function(e){return e.filter(e=>e.type===CSSRule.FONT_FACE_RULE).filter(e=>E(e.style.getPropertyValue("src")))}(r)}(e,t),r=function(e){const t=new Set;return function e(n){(n.style.fontFamily||getComputedStyle(n).fontFamily).split(",").forEach(e=>{t.add(F(e))}),Array.from(n.children).forEach(t=>{t instanceof HTMLElement&&e(t)})}(e),t}(e);return(await Promise.all(n.filter(e=>r.has(F(e.style.fontFamily))).map(e=>{const n=e.parentStyleSheet?e.parentStyleSheet.href:null;return T(e.cssText,n,t)}))).join("\n")}async function B(e,t={}){const{width:n,height:r}=c(e,t),o=await I(e,t,!0);return await async function(e,t){const n=null!=t.fontEmbedCSS?t.fontEmbedCSS:t.skipFonts?null:await L(e,t);if(n){const t=document.createElement("style"),r=document.createTextNode(n);t.appendChild(r),e.firstChild?e.insertBefore(t,e.firstChild):e.appendChild(t)}}(o,t),await M(o,t),function(e,t){const{style:n}=e;t.backgroundColor&&(n.backgroundColor=t.backgroundColor),t.width&&(n.width=`${t.width}px`),t.height&&(n.height=`${t.height}px`);const r=t.style;null!=r&&Object.keys(r).forEach(e=>{n[e]=r[e]})}(o,t),await async function(e,t,n){const r="http://www.w3.org/2000/svg",o=document.createElementNS(r,"svg"),i=document.createElementNS(r,"foreignObject");return o.setAttribute("width",`${t}`),o.setAttribute("height",`${n}`),o.setAttribute("viewBox",`0 0 ${t} ${n}`),i.setAttribute("width","100%"),i.setAttribute("height","100%"),i.setAttribute("x","0"),i.setAttribute("y","0"),i.setAttribute("externalResourcesRequired","true"),o.appendChild(i),i.appendChild(e),async function(e){return Promise.resolve().then(()=>(new XMLSerializer).serializeToString(e)).then(encodeURIComponent).then(e=>`data:image/svg+xml;charset=utf-8,${e}`)}(o)}(o,n,r)}async function $(e,t={}){const n=await async function(e,t={}){const{width:n,height:r}=c(e,t),o=await B(e,t),i=await u(o),s=document.createElement("canvas"),a=s.getContext("2d"),d=t.pixelRatio||function(){let e,t;try{t=process}catch(e){}const n=t&&t.env?t.env.devicePixelRatio:null;return n&&(e=parseInt(n,10),Number.isNaN(e)&&(e=1)),e||window.devicePixelRatio||1}(),f=t.canvasWidth||n,h=t.canvasHeight||r;return s.width=f*d,s.height=h*d,t.skipAutoScale||function(e){(e.width>l||e.height>l)&&(e.width>l&&e.height>l?e.width>e.height?(e.height*=l/e.width,e.width=l):(e.width*=l/e.height,e.height=l):e.width>l?(e.height*=l/e.width,e.width=l):(e.width*=l/e.height,e.height=l))}(s),s.style.width=`${f}`,s.style.height=`${h}`,t.backgroundColor&&(a.fillStyle=t.backgroundColor,a.fillRect(0,0,s.width,s.height)),a.drawImage(i,0,0,s.width,s.height),s}(e,t),r=await function(e,t={}){return e.toBlob?new Promise(n=>{e.toBlob(n,t.type?t.type:"image/png",t.quality?t.quality:1)}):new Promise(n=>{const r=window.atob(e.toDataURL(t.type?t.type:void 0,t.quality?t.quality:void 0).split(",")[1]),o=r.length,i=new Uint8Array(o);for(let e=0;e<o;e+=1)i[e]=r.charCodeAt(e);n(new Blob([i],{type:t.type?t.type:"image/png"}))})}(n);return r}},11116:(e,t,n)=>{"use strict";n.d(t,{BU:()=>a,Ny:()=>s,Tk:()=>i,tX:()=>o});const r=3,o=5,i=32,s=/^[a-zA-Z]\w+$/;function a(e,t){const n=t?o:r;return e.length>=n&&e.length<=i&&s.test(e)}},11117:(e,t,n)=>{"use strict";var r=n(37932),o=n(89925),i=n(66644),s=n(96454),a=n(61182),c=n(14487),l=n(6e4),u=n(21687),d=n(71322),f=n(74065),h=n(51580),p=n(13439),g=n(17872),m=n(32989),y=n(60919),b=n(30708);let v;(0,r.DW)(e=>{const{updatePageTitle:t,updateShouldDebugExportedSenders:n,updateShouldEnableDebugLog:r}=(0,p.ko)(),o=v;if(v=e,!o)return;const a=(0,b.l)(o),c=(0,b.l)(e),m=c.performance,_=a.performance,w=e.peerColors,S=o.peerColors;if(w&&w!==S&&(0,f.E)(w.general),m!==_&&(0,i.RK)(()=>{(0,u.u)(m)}),c.theme!==a.theme){const t=!!document.hasFocus()&&(0,y.PKK)(e);(0,d.Ay)(c.theme,t)}c.language!==a.language&&(0,l.wT)(c.language),c.timeFormat!==a.timeFormat&&(0,l.bV)(c.timeFormat),c.messageTextSize!==a.messageTextSize&&(document.documentElement.style.setProperty("--composer-text-size",`${Math.max(c.messageTextSize,s.pz?16:15)}px`),document.documentElement.style.setProperty("--message-meta-height",`${Math.floor(1.3125*c.messageTextSize)}px`),document.documentElement.style.setProperty("--message-text-size",`${c.messageTextSize}px`),document.documentElement.setAttribute("data-message-text-size",c.messageTextSize.toString())),c.canDisplayChatInTitle!==a.canDisplayChatInTitle&&t(),c.shouldForceHttpTransport!==a.shouldForceHttpTransport&&(0,h.px)("setForceHttpTransport",Boolean(c.shouldForceHttpTransport)),c.shouldAllowHttpTransport!==a.shouldAllowHttpTransport&&((0,h.px)("setAllowHttpTransport",Boolean(c.shouldAllowHttpTransport)),!c.shouldAllowHttpTransport&&c.shouldForceHttpTransport&&(e=(0,g.qoo)(e,{shouldForceHttpTransport:!1}),(0,p.UF)(e))),c.shouldDebugExportedSenders!==a.shouldDebugExportedSenders&&n(),c.shouldCollectDebugLogs!==a.shouldCollectDebugLogs&&r()}),(0,p.aJ)("updateShouldEnableDebugLog",e=>{(0,b.l)(e).shouldCollectDebugLogs?((0,h.eu)(!0),(0,a.fw)()):((0,h.eu)(!1),(0,a.pF)())}),(0,p.aJ)("updateShouldDebugExportedSenders",e=>{const t=(0,b.l)(e);(0,h.px)("setShouldDebugExportedSenders",Boolean(t.shouldDebugExportedSenders))}),(0,p.aJ)("setSettingOption",(e,t,n)=>(0,g.qpc)(e,n)),(0,p.aJ)("setSharedSettingOption",(e,t,n)=>(0,g.qoo)(e,n)),(0,p.aJ)("updatePerformanceSettings",(e,t,n)=>{const r=(0,b.l)(e);return(0,g.qoo)(e,{performance:{...r.performance,...n},wasAnimationLevelSetManually:!0})}),(0,p.aJ)("setThemeSettings",(e,t,n)=>{const{theme:r,...o}=n;return(0,g.KyT)(e,r,o)}),(0,p.aJ)("requestNextFoldersAction",(e,t,n)=>{const{foldersAction:r,tabId:o=(0,c.g0)()}=n;return(0,m.w)(e,{nextFoldersAction:r},o)}),(0,p.aJ)("openLeftColumnContent",(e,t,n)=>{const{contentKey:r=o.Bn.ChatList,tabId:i=(0,c.g0)()}=n,s=(0,y.nTw)(e,i);return(0,m.w)(e,{leftColumn:{...s.leftColumn,contentKey:r}},i)}),(0,p.aJ)("openSettingsScreen",(e,t,n)=>{const{screen:r=o.VS.Main,tabId:i=(0,c.g0)()}=n,s=(0,y.nTw)(e,i);return n.screen&&t.openLeftColumnContent({contentKey:o.Bn.Settings,tabId:i}),(0,m.w)(e,{leftColumn:{...s.leftColumn,settingsScreen:r}},i)}),(0,p.aJ)("openEditChatFolder",(e,t,n)=>{const{folderId:r,isOnlyInvites:i,tabId:s=(0,c.g0)()}=n,a=(0,y.$aQ)(e,r);a&&(t.openSettingsScreen({screen:i?o.VS.FoldersEditFolderInvites:o.VS.FoldersEditFolderFromChatList,tabId:s}),t.requestNextFoldersAction({foldersAction:{type:"editFolder",payload:a},tabId:s}))}),(0,p.aJ)("openShareChatFolderModal",(e,t,n)=>{const{folderId:r,url:i,noRequestNextScreen:s,tabId:a=(0,c.g0)()}=n,l=(0,y.$aQ)(e,r),u=l?.isChatList;if(!u||s)return s||t.openSettingsScreen({screen:o.VS.FoldersShare,tabId:a}),(0,m.w)(e,{shareFolderScreen:{folderId:r,isFromSettings:Boolean(s),url:i}},a);t.openEditChatFolder({folderId:r,isOnlyInvites:!0,tabId:a})}),(0,p.aJ)("closeShareChatFolderModal",(e,t,n)=>{const{tabId:r=(0,c.g0)()}=n||{};return t.openSettingsScreen({screen:void 0,tabId:r}),(0,m.w)(e,{shareFolderScreen:void 0},r)})},11217:(e,t,n)=>{"use strict";n.d(t,{Q:()=>i});var r=n(96454),o=n(17712);function i(e){const t=(0,o.A)(t=>{"mousedown"===t.type&&t.button!==r.w3.Main||e(t)});return r.TF?{handleClick:e?t:void 0}:{handleMouseDown:e?t:void 0}}},11320:(e,t,n)=>{"use strict";n.d(t,{Ay:()=>g,Is:()=>d});var r=n(96540),o=n(52187);const i="5.27.1";var s=n(49806),a=n(17595),c=n(50723),l=n(68734),u=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};const d={lineHeight:!0,lineHeightSM:!0,lineHeightLG:!0,lineHeightHeading1:!0,lineHeightHeading2:!0,lineHeightHeading3:!0,lineHeightHeading4:!0,lineHeightHeading5:!0,opacityLoading:!0,fontWeightStrong:!0,zIndexPopupBase:!0,zIndexBase:!0,opacityImage:!0},f={motionBase:!0,motionUnit:!0},h={screenXS:!0,screenXSMin:!0,screenXSMax:!0,screenSM:!0,screenSMMin:!0,screenSMMax:!0,screenMD:!0,screenMDMin:!0,screenMDMax:!0,screenLG:!0,screenLGMin:!0,screenLGMax:!0,screenXL:!0,screenXLMin:!0,screenXLMax:!0,screenXXL:!0,screenXXLMin:!0},p=(e,t,n)=>{const r=n.getDerivativeToken(e),{override:o}=t,i=u(t,["override"]);let s=Object.assign(Object.assign({},r),{override:o});return s=(0,l.A)(s),i&&Object.entries(i).forEach(([e,t])=>{const{theme:n}=t,r=u(t,["theme"]);let o=r;n&&(o=p(Object.assign(Object.assign({},s),r),{override:r},n)),s[e]=o}),s};function g(){const{token:e,hashed:t,theme:n,override:u,cssVar:g}=r.useContext(s.vG),m=`${i}-${t||""}`,y=n||a.A,[b,v,_]=(0,o.hV)(y,[c.A,e],{salt:m,override:u,getComputedToken:p,formatToken:l.A,cssVar:g&&{prefix:g.prefix,key:g.key,unitless:d,ignore:f,preserve:h}});return[y,_,t?v:"",b,g]}},11778:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(52674);function o(e){return(0,r.A)({onEsc:e})}},11780:(e,t,n)=>{"use strict";e.exports=n.p+"share-header-bg.511c0fbe9c0a772eb78d.png"},12499:()=>{},12533:(e,t,n)=>{"use strict";n.d(t,{A:()=>c});var r=n(5544),o=n(26956),i=n(30981),s=n(1233);function a(e){return void 0!==e}function c(e,t){var n=t||{},c=n.defaultValue,l=n.value,u=n.onChange,d=n.postState,f=(0,s.A)(function(){return a(l)?l:a(c)?"function"==typeof c?c():c:"function"==typeof e?e():e}),h=(0,r.A)(f,2),p=h[0],g=h[1],m=void 0!==l?l:p,y=d?d(m):m,b=(0,o.A)(u),v=(0,s.A)([m]),_=(0,r.A)(v,2),w=_[0],S=_[1];return(0,i.o)(function(){var e=w[0];p!==e&&b(p,e)},[w]),(0,i.o)(function(){a(l)||g(l)},[l]),[y,(0,o.A)(function(e,t){g(e,t),S([m],t)})]}},13257:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var r=n(95201);const o={left:{points:["cr","cl"]},right:{points:["cl","cr"]},top:{points:["bc","tc"]},bottom:{points:["tc","bc"]},topLeft:{points:["bl","tl"]},leftTop:{points:["tr","tl"]},topRight:{points:["br","tr"]},rightTop:{points:["tl","tr"]},bottomRight:{points:["tr","br"]},rightBottom:{points:["bl","br"]},bottomLeft:{points:["tl","bl"]},leftBottom:{points:["br","bl"]}},i={topLeft:{points:["bl","tc"]},leftTop:{points:["tr","cl"]},topRight:{points:["br","tc"]},rightTop:{points:["tl","cr"]},bottomRight:{points:["tr","bc"]},rightBottom:{points:["bl","cr"]},bottomLeft:{points:["tl","bc"]},leftBottom:{points:["br","cl"]}},s=new Set(["topLeft","topRight","bottomLeft","bottomRight","leftTop","leftBottom","rightTop","rightBottom"]);function a(e){const{arrowWidth:t,autoAdjustOverflow:n,arrowPointAtCenter:a,offset:c,borderRadius:l,visibleFirst:u}=e,d=t/2,f={},h=(0,r.Ke)({contentRadius:l,limitVerticalRadius:!0});return Object.keys(o).forEach(e=>{const r=a&&i[e]||o[e],l=Object.assign(Object.assign({},r),{offset:[0,0],dynamicInset:!0});switch(f[e]=l,s.has(e)&&(l.autoArrow=!1),e){case"top":case"topLeft":case"topRight":l.offset[1]=-d-c;break;case"bottom":case"bottomLeft":case"bottomRight":l.offset[1]=d+c;break;case"left":case"leftTop":case"leftBottom":l.offset[0]=-d-c;break;case"right":case"rightTop":case"rightBottom":l.offset[0]=d+c}if(a)switch(e){case"topLeft":case"bottomLeft":l.offset[0]=-h.arrowOffsetHorizontal-d;break;case"topRight":case"bottomRight":l.offset[0]=h.arrowOffsetHorizontal+d;break;case"leftTop":case"rightTop":l.offset[1]=2*-h.arrowOffsetHorizontal+d;break;case"leftBottom":case"rightBottom":l.offset[1]=2*h.arrowOffsetHorizontal-d}l.overflow=function(e,t,n,r){if(!1===r)return{adjustX:!1,adjustY:!1};const o=r&&"object"==typeof r?r:{},i={};switch(e){case"top":case"bottom":i.shiftX=2*t.arrowOffsetHorizontal+n,i.shiftY=!0,i.adjustY=!0;break;case"left":case"right":i.shiftY=2*t.arrowOffsetVertical+n,i.shiftX=!0,i.adjustX=!0}const s=Object.assign(Object.assign({},i),o);return s.shiftX||(s.adjustX=!0),s.shiftY||(s.adjustY=!0),s}(e,h,t,n),u&&(l.htmlRegion="visibleFirst")}),f}},13439:(e,t,n)=>{"use strict";n.d(t,{EK:()=>c,UF:()=>i,aJ:()=>a,ko:()=>s,mS:()=>o});const r=(0,n(37932).cl)(),o=r.getGlobal,i=r.setGlobal,s=r.getActions,a=(r.getPromiseActions,r.addActionHandler),c=r.withGlobal},13950:(e,t,n)=>{"use strict";n.d(t,{s:()=>r});const r=["blue","purple","cyan","green","magenta","pink","red","orange","yellow","volcano","geekblue","lime","gold"]},14184:(e,t,n)=>{"use strict";n.d(t,{A:()=>p});var r=n(45748),o=n(50723),i=n(27484);const s=e=>{let t=e,n=e,r=e,o=e;return e<6&&e>=5?t=e+1:e<16&&e>=6?t=e+2:e>=16&&(t=16),e<7&&e>=5?n=4:e<8&&e>=7?n=5:e<14&&e>=8?n=6:e<16&&e>=14?n=7:e>=16&&(n=8),e<6&&e>=2?r=1:e>=6&&(r=2),e>4&&e<8?o=4:e>=8&&(o=6),{borderRadius:e,borderRadiusXS:r,borderRadiusSM:n,borderRadiusLG:t,borderRadiusOuter:o}};var a=n(78690),c=n(51892),l=n(2616);const u=(e,t)=>new l.Y(e).setA(t).toRgbString(),d=(e,t)=>new l.Y(e).darken(t).toHexString(),f=e=>{const t=(0,r.cM)(e);return{1:t[0],2:t[1],3:t[2],4:t[3],5:t[4],6:t[5],7:t[6],8:t[4],9:t[5],10:t[6]}},h=(e,t)=>{const n=e||"#fff",r=t||"#000";return{colorBgBase:n,colorTextBase:r,colorText:u(r,.88),colorTextSecondary:u(r,.65),colorTextTertiary:u(r,.45),colorTextQuaternary:u(r,.25),colorFill:u(r,.15),colorFillSecondary:u(r,.06),colorFillTertiary:u(r,.04),colorFillQuaternary:u(r,.02),colorBgSolid:u(r,1),colorBgSolidHover:u(r,.75),colorBgSolidActive:u(r,.95),colorBgLayout:d(n,4),colorBgContainer:d(n,0),colorBgElevated:d(n,0),colorBgSpotlight:u(r,.85),colorBgBlur:"transparent",colorBorder:d(n,15),colorBorderSecondary:d(n,6)}};function p(e){r.uy.pink=r.uy.magenta,r.UA.pink=r.UA.magenta;const t=Object.keys(o.r).map(t=>{const n=e[t]===r.uy[t]?r.UA[t]:(0,r.cM)(e[t]);return Array.from({length:10},()=>1).reduce((e,r,o)=>(e[`${t}-${o+1}`]=n[o],e[`${t}${o+1}`]=n[o],e),{})}).reduce((e,t)=>Object.assign(Object.assign({},e),t),{});return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},e),t),(0,i.A)(e,{generateColorPalettes:f,generateNeutralColorPalettes:h})),(0,c.A)(e.fontSize)),function(e){const{sizeUnit:t,sizeStep:n}=e;return{sizeXXL:t*(n+8),sizeXL:t*(n+4),sizeLG:t*(n+2),sizeMD:t*(n+1),sizeMS:t*n,size:t*n,sizeSM:t*(n-1),sizeXS:t*(n-2),sizeXXS:t*(n-3)}}(e)),(0,a.A)(e)),function(e){const{motionUnit:t,motionBase:n,borderRadius:r,lineWidth:o}=e;return Object.assign({motionDurationFast:`${(n+t).toFixed(1)}s`,motionDurationMid:`${(n+2*t).toFixed(1)}s`,motionDurationSlow:`${(n+3*t).toFixed(1)}s`,lineWidthBold:o+1},s(r))}(e))}},14235:(e,t,n)=>{"use strict";function r(){return Date.now().toString(36)+Math.random().toString(36).slice(2)}function o(){return Date.now()%1e8+Math.floor(1e3*Math.random())}n.d(t,{A:()=>r,t:()=>o})},14242:(e,t,n)=>{"use strict";n.d(t,{Qh:()=>l,Sm:()=>s,Vw:()=>a,l9:()=>c,v7:()=>d});var r=n(98221),o=n(24282),i=n(43336);function s(e){return String(e).replace(/\d(?=(\d{3})+$)/g,"$& ")}function a(e,t){return t<1e3?e.number(t):t<1e6?`${e.number((0,i.RI)(t/1e3,1))}K`:`${e.number((0,i.RI)(t/1e6,1))}M`}function c(e,t=1){return`${Number.isInteger(e)?e:e.toFixed(t)}%`}const l=(0,n(19314).A)((e,t=2)=>e.replace(/[.,!@#$%^&*()_+=\-`~[\]/\\{}:"|<>?]+/gi,"").trim().split(/\s+/).slice(0,t).map(e=>{if(!e.length)return"";const t=(e=(0,o.A)(e)).match(r.A);return t&&e.startsWith(t[0])?t[0]:e.match(/./u)[0].toUpperCase()}).join("")),u=["B","KB","MB","GB"];function d(e,t,n=1){if(0===t)return e("FileSize.B",0);const r=Math.floor(Math.log(t)/Math.log(1024)),o=(t/1024**r).toFixed(Math.max(n,0));return e(`FileSize.${u[r]}`,o)}},14277:(e,t,n)=>{"use strict";n.d(t,{L_:()=>P,oX:()=>I});var r=n(82284),o=n(5544),i=n(64467),s=n(89379),a=n(96540),c=n(52187),l=n(23029),u=n(92901),d=n(9417),f=n(85501),h=n(29426);const p=(0,u.A)(function e(){(0,l.A)(this,e)});var g="CALC_UNIT",m=new RegExp(g,"g");function y(e){return"number"==typeof e?"".concat(e).concat(g):e}var b=function(e){(0,f.A)(n,e);var t=(0,h.A)(n);function n(e,o){var s;(0,l.A)(this,n),s=t.call(this),(0,i.A)((0,d.A)(s),"result",""),(0,i.A)((0,d.A)(s),"unitlessCssVar",void 0),(0,i.A)((0,d.A)(s),"lowPriority",void 0);var a=(0,r.A)(e);return s.unitlessCssVar=o,e instanceof n?s.result="(".concat(e.result,")"):"number"===a?s.result=y(e):"string"===a&&(s.result=e),s}return(0,u.A)(n,[{key:"add",value:function(e){return e instanceof n?this.result="".concat(this.result," + ").concat(e.getResult()):"number"!=typeof e&&"string"!=typeof e||(this.result="".concat(this.result," + ").concat(y(e))),this.lowPriority=!0,this}},{key:"sub",value:function(e){return e instanceof n?this.result="".concat(this.result," - ").concat(e.getResult()):"number"!=typeof e&&"string"!=typeof e||(this.result="".concat(this.result," - ").concat(y(e))),this.lowPriority=!0,this}},{key:"mul",value:function(e){return this.lowPriority&&(this.result="(".concat(this.result,")")),e instanceof n?this.result="".concat(this.result," * ").concat(e.getResult(!0)):"number"!=typeof e&&"string"!=typeof e||(this.result="".concat(this.result," * ").concat(e)),this.lowPriority=!1,this}},{key:"div",value:function(e){return this.lowPriority&&(this.result="(".concat(this.result,")")),e instanceof n?this.result="".concat(this.result," / ").concat(e.getResult(!0)):"number"!=typeof e&&"string"!=typeof e||(this.result="".concat(this.result," / ").concat(e)),this.lowPriority=!1,this}},{key:"getResult",value:function(e){return this.lowPriority||e?"(".concat(this.result,")"):this.result}},{key:"equal",value:function(e){var t=this,n=(e||{}).unit,r=!0;return"boolean"==typeof n?r=n:Array.from(this.unitlessCssVar).some(function(e){return t.result.includes(e)})&&(r=!1),this.result=this.result.replace(m,r?"px":""),void 0!==this.lowPriority?"calc(".concat(this.result,")"):this.result}}]),n}(p);const v=function(e){(0,f.A)(n,e);var t=(0,h.A)(n);function n(e){var r;return(0,l.A)(this,n),r=t.call(this),(0,i.A)((0,d.A)(r),"result",0),e instanceof n?r.result=e.result:"number"==typeof e&&(r.result=e),r}return(0,u.A)(n,[{key:"add",value:function(e){return e instanceof n?this.result+=e.result:"number"==typeof e&&(this.result+=e),this}},{key:"sub",value:function(e){return e instanceof n?this.result-=e.result:"number"==typeof e&&(this.result-=e),this}},{key:"mul",value:function(e){return e instanceof n?this.result*=e.result:"number"==typeof e&&(this.result*=e),this}},{key:"div",value:function(e){return e instanceof n?this.result/=e.result:"number"==typeof e&&(this.result/=e),this}},{key:"equal",value:function(){return this.result}}]),n}(p),_=function(e,t){return"".concat([t,e.replace(/([A-Z]+)([A-Z][a-z]+)/g,"$1-$2").replace(/([a-z])([A-Z])/g,"$1-$2")].filter(Boolean).join("-"))};n(81470);const w=function(e,t,n,r){var i=(0,s.A)({},t[e]);null!=r&&r.deprecatedTokens&&r.deprecatedTokens.forEach(function(e){var t,n=(0,o.A)(e,2),r=n[0],s=n[1];(null!=i&&i[r]||null!=i&&i[s])&&(null!==(t=i[s])&&void 0!==t||(i[s]=null==i?void 0:i[r]))});var a=(0,s.A)((0,s.A)({},n),i);return Object.keys(a).forEach(function(e){a[e]===t[e]&&delete a[e]}),a};var S="undefined"!=typeof CSSINJS_STATISTIC,x=!0;function I(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(!S)return Object.assign.apply(Object,[{}].concat(t));x=!1;var o={};return t.forEach(function(e){"object"===(0,r.A)(e)&&Object.keys(e).forEach(function(t){Object.defineProperty(o,t,{configurable:!0,enumerable:!0,get:function(){return e[t]}})})}),x=!0,o}var A={};function C(){}const k=function(e,t,n){var r;return"function"==typeof n?n(I(t,null!==(r=t[e])&&void 0!==r?r:{})):null!=n?n:{}};var E=new(function(){function e(){(0,l.A)(this,e),(0,i.A)(this,"map",new Map),(0,i.A)(this,"objectIDMap",new WeakMap),(0,i.A)(this,"nextID",0),(0,i.A)(this,"lastAccessBeat",new Map),(0,i.A)(this,"accessBeat",0)}return(0,u.A)(e,[{key:"set",value:function(e,t){this.clear();var n=this.getCompositeKey(e);this.map.set(n,t),this.lastAccessBeat.set(n,Date.now())}},{key:"get",value:function(e){var t=this.getCompositeKey(e),n=this.map.get(t);return this.lastAccessBeat.set(t,Date.now()),this.accessBeat+=1,n}},{key:"getCompositeKey",value:function(e){var t=this;return e.map(function(e){return e&&"object"===(0,r.A)(e)?"obj_".concat(t.getObjectID(e)):"".concat((0,r.A)(e),"_").concat(e)}).join("|")}},{key:"getObjectID",value:function(e){if(this.objectIDMap.has(e))return this.objectIDMap.get(e);var t=this.nextID;return this.objectIDMap.set(e,t),this.nextID+=1,t}},{key:"clear",value:function(){var e=this;if(this.accessBeat>1e4){var t=Date.now();this.lastAccessBeat.forEach(function(n,r){t-n>6e5&&(e.map.delete(r),e.lastAccessBeat.delete(r))}),this.accessBeat=0}}}]),e}());const T=function(){return{}},P=function(e){var t=e.useCSP,n=void 0===t?T:t,l=e.useToken,u=e.usePrefix,d=e.getResetStyles,f=e.getCommonStyle,h=e.getCompUnitless;function p(t,i,h){var p=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},g=Array.isArray(t)?t:[t,t],m=(0,o.A)(g,1)[0],y=g.join("-"),T=e.layer||{name:"antd"};return function(e){var t,o,g=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,P=l(),M=P.theme,O=P.realToken,D=P.hashId,R=P.token,N=P.cssVar,F=u(),L=F.rootPrefixCls,B=F.iconPrefixCls,$=n(),j=N?"css":"js",U=(t=function(){var e=new Set;return N&&Object.keys(p.unitless||{}).forEach(function(t){e.add((0,c.Ki)(t,N.prefix)),e.add((0,c.Ki)(t,_(m,N.prefix)))}),function(e,t){var n="css"===e?b:v;return function(e){return new n(e,t)}}(j,e)},o=[j,m,null==N?void 0:N.prefix],a.useMemo(function(){var e=E.get(o);if(e)return e;var n=t();return E.set(o,n),n},o)),z=function(e){return"js"===e?{max:Math.max,min:Math.min}:{max:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return"max(".concat(t.map(function(e){return(0,c.zA)(e)}).join(","),")")},min:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return"min(".concat(t.map(function(e){return(0,c.zA)(e)}).join(","),")")}}}(j),V=z.max,q=z.min,H={theme:M,token:R,hashId:D,nonce:function(){return $.nonce},clientOnly:p.clientOnly,layer:T,order:p.order||-999};return"function"==typeof d&&(0,c.IV)((0,s.A)((0,s.A)({},H),{},{clientOnly:!1,path:["Shared",L]}),function(){return d(R,{prefix:{rootPrefixCls:L,iconPrefixCls:B},csp:$})}),[(0,c.IV)((0,s.A)((0,s.A)({},H),{},{path:[y,e,B]}),function(){if(!1===p.injectStyle)return[];var t=function(e){var t,n=e,r=C;return S&&"undefined"!=typeof Proxy&&(t=new Set,n=new Proxy(e,{get:function(e,n){var r;return x&&(null===(r=t)||void 0===r||r.add(n)),e[n]}}),r=function(e,n){var r;A[e]={global:Array.from(t),component:(0,s.A)((0,s.A)({},null===(r=A[e])||void 0===r?void 0:r.component),n)}}),{token:n,keys:t,flush:r}}(R),n=t.token,o=t.flush,a=k(m,O,h),l=".".concat(e),u=w(m,O,a,{deprecatedTokens:p.deprecatedTokens});N&&a&&"object"===(0,r.A)(a)&&Object.keys(a).forEach(function(e){a[e]="var(".concat((0,c.Ki)(e,_(m,N.prefix)),")")});var d=I(n,{componentCls:l,prefixCls:e,iconCls:".".concat(B),antCls:".".concat(L),calc:U,max:V,min:q},N?a:u),y=i(d,{hashId:D,prefixCls:e,rootPrefixCls:L,iconPrefixCls:B});o(m,u);var b="function"==typeof f?f(d,e,g,p.resetFont):null;return[!1===p.resetStyle?null:b,y]}),D]}}return{genStyleHooks:function(e,t,n,r){var u=Array.isArray(e)?e[0]:e;function d(e){return"".concat(String(u)).concat(e.slice(0,1).toUpperCase()).concat(e.slice(1))}var f=(null==r?void 0:r.unitless)||{},g="function"==typeof h?h(e):{},m=(0,s.A)((0,s.A)({},g),{},(0,i.A)({},d("zIndexPopup"),!0));Object.keys(f).forEach(function(e){m[d(e)]=f[e]});var y=(0,s.A)((0,s.A)({},r),{},{unitless:m,prefixToken:d}),b=p(e,t,n,y),v=function(e,t,n){var r=n.unitless,o=n.injectStyle,i=void 0===o||o,s=n.prefixToken,u=n.ignore,d=function(o){var i=o.rootCls,a=o.cssVar,d=void 0===a?{}:a,f=l().realToken;return(0,c.RC)({path:[e],prefix:d.prefix,key:d.key,unitless:r,ignore:u,token:f,scope:i},function(){var r=k(e,f,t),o=w(e,f,r,{deprecatedTokens:null==n?void 0:n.deprecatedTokens});return Object.keys(r).forEach(function(e){o[s(e)]=o[e],delete o[e]}),o}),null};return function(t){var n=l().cssVar;return[function(r){return i&&n?a.createElement(a.Fragment,null,a.createElement(d,{rootCls:t,cssVar:n,component:e}),r):r},null==n?void 0:n.key]}}(u,n,y);return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,n=b(e,t),r=(0,o.A)(n,2)[1],i=v(t),s=(0,o.A)(i,2);return[s[0],r,s[1]]}},genSubStyleComponent:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=p(e,t,n,(0,s.A)({resetStyle:!1,order:-998},r));return function(e){var t=e.prefixCls,n=e.rootCls;return o(t,void 0===n?t:n),null}},genComponentStyleHook:p}}},14487:(e,t,n)=>{"use strict";n.d(t,{I:()=>C,T_:()=>T,UJ:()=>w,VS:()=>k,ZQ:()=>x,g0:()=>I,gb:()=>A,ve:()=>P,wr:()=>E});var r=n(46536),o=n(4350),i=n(70934),s=n(9705);const a=100,{addCallback:c,runCallbacks:l}=(0,r.h)(),{addCallback:u,runCallbacks:d}=(0,r.h)(),f=Number(Math.random().toString().substring(2)),h=new Set([f]),p=new BroadcastChannel(o.a9);let g=!1;const m=new s.A;let y,b,v=!1;const _=({data:e})=>{if(e){if(e.currentPasscodeHash&&(0,i.tn)(e.currentPasscodeHash),e.hasGaveUpMaster&&v)return y=f,v=!1,m.resolve(),void l(!0);if(e.shouldGiveUpMaster)return y===f&&(l(!1),p.postMessage({currentPasscodeHash:(0,i.dl)(),hasGaveUpMaster:!0})),void(y=e.masterToken);if(e.tokenDied&&(d(e.tokenDied),h.delete(e.tokenDied),e.tokenDied===y&&(h.delete(e.tokenDied),y=void 0,g=!1,b=e.tokenDied,p.postMessage({collectedTokens:h,masterToken:y,reestablishToken:b}),1===h.size&&(g=!0,y=f,b=void 0,m.resolve(),l(!0)))),e.collectedTokens){if(!e.reestablishToken&&b)return;e.reestablishToken&&b!==e.reestablishToken&&(e.collectedTokens.delete(e.reestablishToken),b=e.reestablishToken);const t=h.size;e.collectedTokens.forEach(e=>h.add(e)),b&&e.collectedTokens.delete(b),g?e.masterToken||p.postMessage({collectedTokens:h,masterToken:y,reestablishToken:b}):e.masterToken?(b=void 0,y=e.masterToken,l(y===f),g||p.postMessage({collectedTokens:h,masterToken:y,reestablishToken:b}),m.resolve(),g=!0):t!==h.size?p.postMessage({collectedTokens:h,masterToken:y,reestablishToken:b}):(b=void 0,y=Math.max(...Array.from(h)),l(y===f),g||p.postMessage({collectedTokens:h,masterToken:y,reestablishToken:b}),m.resolve(),g=!0)}}};function w(e){p.addEventListener("message",_),p.postMessage({collectedTokens:h}),setTimeout(()=>{void 0===y?(y=f,m.resolve(),l(!0)):e&&C()},a),window.addEventListener("beforeunload",S)}function S(){d(f),p.removeEventListener("message",_),p.postMessage({tokenDied:f,currentPasscodeHash:(0,i.dl)()}),p.close()}function x(){p.postMessage({currentPasscodeHash:(0,i.dl)()})}function I(){return f}function A(){return Array.from(h)}function C(){v=!0,p.postMessage({collectedTokens:h,masterToken:f,shouldGiveUpMaster:!0})}const k=u,E=c,T=m.promise;function P(){return y===f}},14745:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(84051),o=n(14235);function i(){const e=(0,r.li)();return e.current||(e.current=(0,o.A)()),e.current}},14980:(e,t,n)=>{"use strict";n.d(t,{b:()=>i});const r=e=>({animationDuration:e,animationFillMode:"both"}),o=e=>({animationDuration:e,animationFillMode:"both"}),i=(e,t,n,i,s=!1)=>{const a=s?"&":"";return{[`\n      ${a}${e}-enter,\n      ${a}${e}-appear\n    `]:Object.assign(Object.assign({},r(i)),{animationPlayState:"paused"}),[`${a}${e}-leave`]:Object.assign(Object.assign({},o(i)),{animationPlayState:"paused"}),[`\n      ${a}${e}-enter${e}-enter-active,\n      ${a}${e}-appear${e}-appear-active\n    `]:{animationName:t,animationPlayState:"running"},[`${a}${e}-leave${e}-leave-active`]:{animationName:n,animationPlayState:"running",pointerEvents:"none"}}}},15283:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(84051);const o=function(e){(0,r.vJ)(e,[])}},15287:(e,t)=>{"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),c=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),h=Symbol.iterator,p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,m={};function y(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}function b(){}function v(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},b.prototype=y.prototype;var _=v.prototype=new b;_.constructor=v,g(_,y.prototype),_.isPureReactComponent=!0;var w=Array.isArray,S=Object.prototype.hasOwnProperty,x={current:null},I={key:!0,ref:!0,__self:!0,__source:!0};function A(e,t,r){var o,i={},s=null,a=null;if(null!=t)for(o in void 0!==t.ref&&(a=t.ref),void 0!==t.key&&(s=""+t.key),t)S.call(t,o)&&!I.hasOwnProperty(o)&&(i[o]=t[o]);var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){for(var l=Array(c),u=0;u<c;u++)l[u]=arguments[u+2];i.children=l}if(e&&e.defaultProps)for(o in c=e.defaultProps)void 0===i[o]&&(i[o]=c[o]);return{$$typeof:n,type:e,key:s,ref:a,props:i,_owner:x.current}}function C(e){return"object"==typeof e&&null!==e&&e.$$typeof===n}var k=/\/+/g;function E(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function T(e,t,o,i,s){var a=typeof e;"undefined"!==a&&"boolean"!==a||(e=null);var c=!1;if(null===e)c=!0;else switch(a){case"string":case"number":c=!0;break;case"object":switch(e.$$typeof){case n:case r:c=!0}}if(c)return s=s(c=e),e=""===i?"."+E(c,0):i,w(s)?(o="",null!=e&&(o=e.replace(k,"$&/")+"/"),T(s,t,o,"",function(e){return e})):null!=s&&(C(s)&&(s=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(s,o+(!s.key||c&&c.key===s.key?"":(""+s.key).replace(k,"$&/")+"/")+e)),t.push(s)),1;if(c=0,i=""===i?".":i+":",w(e))for(var l=0;l<e.length;l++){var u=i+E(a=e[l],l);c+=T(a,t,o,u,s)}else if(u=function(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=h&&e[h]||e["@@iterator"])?e:null}(e),"function"==typeof u)for(e=u.call(e),l=0;!(a=e.next()).done;)c+=T(a=a.value,t,o,u=i+E(a,l++),s);else if("object"===a)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return c}function P(e,t,n){if(null==e)return e;var r=[],o=0;return T(e,r,"","",function(e){return t.call(n,e,o++)}),r}function M(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var O={current:null},D={transition:null},R={ReactCurrentDispatcher:O,ReactCurrentBatchConfig:D,ReactCurrentOwner:x};function N(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:P,forEach:function(e,t,n){P(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return P(e,function(){t++}),t},toArray:function(e){return P(e,function(e){return e})||[]},only:function(e){if(!C(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=o,t.Profiler=s,t.PureComponent=v,t.StrictMode=i,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=R,t.act=N,t.cloneElement=function(e,t,r){if(null==e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var o=g({},e.props),i=e.key,s=e.ref,a=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,a=x.current),void 0!==t.key&&(i=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(l in t)S.call(t,l)&&!I.hasOwnProperty(l)&&(o[l]=void 0===t[l]&&void 0!==c?c[l]:t[l])}var l=arguments.length-2;if(1===l)o.children=r;else if(1<l){c=Array(l);for(var u=0;u<l;u++)c[u]=arguments[u+2];o.children=c}return{$$typeof:n,type:e.type,key:i,ref:s,props:o,_owner:a}},t.createContext=function(e){return(e={$$typeof:c,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:a,_context:e},e.Consumer=e},t.createElement=A,t.createFactory=function(e){var t=A.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:l,render:e}},t.isValidElement=C,t.lazy=function(e){return{$$typeof:f,_payload:{_status:-1,_result:e},_init:M}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=D.transition;D.transition={};try{e()}finally{D.transition=t}},t.unstable_act=N,t.useCallback=function(e,t){return O.current.useCallback(e,t)},t.useContext=function(e){return O.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return O.current.useDeferredValue(e)},t.useEffect=function(e,t){return O.current.useEffect(e,t)},t.useId=function(){return O.current.useId()},t.useImperativeHandle=function(e,t,n){return O.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return O.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return O.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return O.current.useMemo(e,t)},t.useReducer=function(e,t,n){return O.current.useReducer(e,t,n)},t.useRef=function(e){return O.current.useRef(e)},t.useState=function(e){return O.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return O.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return O.current.useTransition()},t.version="18.3.1"},15666:(e,t,n)=>{"use strict";n.d(t,{A:()=>R});var r=n(96540),o=n(46942),i=n.n(o),s=n(80427),a=n(12533),c=n(62897),l=n(60275),u=n(23723),d=n(13257),f=n(40682),h=n(18877),p=n(72616),g=n(62279),m=n(11320),y=n(52187),b=n(25905),v=n(99077),_=n(95201),w=n(20791),S=n(13950);function x(e,t){return S.s.reduce((n,r)=>{const o=e[`${r}1`],i=e[`${r}3`],s=e[`${r}6`],a=e[`${r}7`];return Object.assign(Object.assign({},n),t(r,{lightColor:o,lightBorderColor:i,darkColor:s,textColor:a}))},{})}var I=n(14277),A=n(37358);const C=e=>{const{calc:t,componentCls:n,tooltipMaxWidth:r,tooltipColor:o,tooltipBg:i,tooltipBorderRadius:s,zIndexPopup:a,controlHeight:c,boxShadowSecondary:l,paddingSM:u,paddingXS:d,arrowOffsetHorizontal:f,sizePopupArrow:h}=e,p=t(s).add(h).add(f).equal(),g=t(s).mul(2).add(h).equal();return[{[n]:Object.assign(Object.assign(Object.assign(Object.assign({},(0,b.dF)(e)),{position:"absolute",zIndex:a,display:"block",width:"max-content",maxWidth:r,visibility:"visible","--valid-offset-x":"var(--arrow-offset-horizontal, var(--arrow-x))",transformOrigin:["var(--valid-offset-x, 50%)","var(--arrow-y, 50%)"].join(" "),"&-hidden":{display:"none"},"--antd-arrow-background-color":i,[`${n}-inner`]:{minWidth:g,minHeight:c,padding:`${(0,y.zA)(e.calc(u).div(2).equal())} ${(0,y.zA)(d)}`,color:`var(--ant-tooltip-color, ${o})`,textAlign:"start",textDecoration:"none",wordWrap:"break-word",backgroundColor:i,borderRadius:s,boxShadow:l,boxSizing:"border-box"},[["&-placement-topLeft","&-placement-topRight","&-placement-bottomLeft","&-placement-bottomRight"].join(",")]:{minWidth:p},[["&-placement-left","&-placement-leftTop","&-placement-leftBottom","&-placement-right","&-placement-rightTop","&-placement-rightBottom"].join(",")]:{[`${n}-inner`]:{borderRadius:e.min(s,_.Zs)}},[`${n}-content`]:{position:"relative"}}),x(e,(e,{darkColor:t})=>({[`&${n}-${e}`]:{[`${n}-inner`]:{backgroundColor:t},[`${n}-arrow`]:{"--antd-arrow-background-color":t}}}))),{"&-rtl":{direction:"rtl"}})},(0,_.Ay)(e,"var(--antd-arrow-background-color)"),{[`${n}-pure`]:{position:"relative",maxWidth:"none",margin:e.sizePopupArrow}}]},k=e=>Object.assign(Object.assign({zIndexPopup:e.zIndexPopupBase+70},(0,_.Ke)({contentRadius:e.borderRadius,limitVerticalRadius:!0})),(0,w.n)((0,I.oX)(e,{borderRadiusOuter:Math.min(e.borderRadiusOuter,4)}))),E=(e,t=!0)=>(0,A.OF)("Tooltip",e=>{const{borderRadius:t,colorTextLightSolid:n,colorBgSpotlight:r}=e,o=(0,I.oX)(e,{tooltipMaxWidth:250,tooltipColor:n,tooltipBorderRadius:t,tooltipBg:r});return[C(o),(0,v.aB)(e,"zoom-big-fast")]},k,{resetStyle:!1,injectStyle:t})(e);var T=n(60436);const P=S.s.map(e=>`${e}-inverse`);n(83643);var M=n(19911);function O(e,t){const n=function(e,t=!0){return t?[].concat((0,T.A)(P),(0,T.A)(S.s)).includes(e):S.s.includes(e)}(t),r=i()({[`${e}-${t}`]:t&&n}),o={},s={},a=(e=>e instanceof M.kf?e:new M.kf(e))(t).toRgb(),c=(.299*a.r+.587*a.g+.114*a.b)/255<.5?"#FFF":"#000";return t&&!n&&(o.background=t,o["--ant-tooltip-color"]=c,s["--antd-arrow-background-color"]=t),{className:r,overlayStyle:o,arrowStyle:s}}const D=r.forwardRef((e,t)=>{var n,o;const{prefixCls:y,openClassName:b,getTooltipContainer:v,color:_,overlayInnerStyle:w,children:S,afterOpenChange:x,afterVisibleChange:I,destroyTooltipOnHide:A,destroyOnHidden:C,arrow:k=!0,title:T,overlay:P,builtinPlacements:M,arrowPointAtCenter:D=!1,autoAdjustOverflow:R=!0,motion:N,getPopupContainer:F,placement:L="top",mouseEnterDelay:B=.1,mouseLeaveDelay:$=.1,overlayStyle:j,rootClassName:U,overlayClassName:z,styles:V,classNames:q}=e,H=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(e,["prefixCls","openClassName","getTooltipContainer","color","overlayInnerStyle","children","afterOpenChange","afterVisibleChange","destroyTooltipOnHide","destroyOnHidden","arrow","title","overlay","builtinPlacements","arrowPointAtCenter","autoAdjustOverflow","motion","getPopupContainer","placement","mouseEnterDelay","mouseLeaveDelay","overlayStyle","rootClassName","overlayClassName","styles","classNames"]),G=!!k,[,W]=(0,m.Ay)(),{getPopupContainer:K,getPrefixCls:Y,direction:J,className:X,style:Z,classNames:Q,styles:ee}=(0,g.TP)("tooltip"),te=(0,h.rJ)("Tooltip"),ne=r.useRef(null),re=()=>{var e;null===(e=ne.current)||void 0===e||e.forceAlign()};r.useImperativeHandle(t,()=>{var e,t;return{forceAlign:re,forcePopupAlign:()=>{te.deprecated(!1,"forcePopupAlign","forceAlign"),re()},nativeElement:null===(e=ne.current)||void 0===e?void 0:e.nativeElement,popupElement:null===(t=ne.current)||void 0===t?void 0:t.popupElement}});const[oe,ie]=(0,a.A)(!1,{value:null!==(n=e.open)&&void 0!==n?n:e.visible,defaultValue:null!==(o=e.defaultOpen)&&void 0!==o?o:e.defaultVisible}),se=!T&&!P&&0!==T,ae=r.useMemo(()=>{var e,t;let n=D;return"object"==typeof k&&(n=null!==(t=null!==(e=k.pointAtCenter)&&void 0!==e?e:k.arrowPointAtCenter)&&void 0!==t?t:D),M||(0,d.A)({arrowPointAtCenter:n,autoAdjustOverflow:R,arrowWidth:G?W.sizePopupArrow:0,borderRadius:W.borderRadius,offset:W.marginXXS,visibleFirst:!0})},[D,k,M,W]),ce=r.useMemo(()=>0===T?T:P||T||"",[P,T]),le=r.createElement(c.A,{space:!0},"function"==typeof ce?ce():ce),ue=Y("tooltip",y),de=Y(),fe=e["data-popover-inject"];let he=oe;"open"in e||"visible"in e||!se||(he=!1);const pe=r.isValidElement(S)&&!(0,f.zv)(S)?S:r.createElement("span",null,S),ge=pe.props,me=ge.className&&"string"!=typeof ge.className?ge.className:i()(ge.className,b||`${ue}-open`),[ye,be,ve]=E(ue,!fe),_e=O(ue,_),we=_e.arrowStyle,Se=i()(z,{[`${ue}-rtl`]:"rtl"===J},_e.className,U,be,ve,X,Q.root,null==q?void 0:q.root),xe=i()(Q.body,null==q?void 0:q.body),[Ie,Ae]=(0,l.YK)("Tooltip",H.zIndex),Ce=r.createElement(s.A,Object.assign({},H,{zIndex:Ie,showArrow:G,placement:L,mouseEnterDelay:B,mouseLeaveDelay:$,prefixCls:ue,classNames:{root:Se,body:xe},styles:{root:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},we),ee.root),Z),j),null==V?void 0:V.root),body:Object.assign(Object.assign(Object.assign(Object.assign({},ee.body),w),null==V?void 0:V.body),_e.overlayStyle)},getTooltipContainer:F||v||K,ref:ne,builtinPlacements:ae,overlay:le,visible:he,onVisibleChange:t=>{var n,r;ie(!se&&t),se||(null===(n=e.onOpenChange)||void 0===n||n.call(e,t),null===(r=e.onVisibleChange)||void 0===r||r.call(e,t))},afterVisibleChange:null!=x?x:I,arrowContent:r.createElement("span",{className:`${ue}-arrow-content`}),motion:{motionName:(0,u.b)(de,"zoom-big-fast",e.transitionName),motionDeadline:1e3},destroyTooltipOnHide:null!=C?C:!!A}),he?(0,f.Ob)(pe,{className:me}):pe);return ye(r.createElement(p.A.Provider,{value:Ae},Ce))});D._InternalPanelDoNotUseOrYouWillBeFired=e=>{const{prefixCls:t,className:n,placement:o="top",title:a,color:c,overlayInnerStyle:l}=e,{getPrefixCls:u}=r.useContext(g.QO),d=u("tooltip",t),[f,h,p]=E(d),m=O(d,c),y=m.arrowStyle,b=Object.assign(Object.assign({},l),m.overlayStyle),v=i()(h,p,d,`${d}-pure`,`${d}-placement-${o}`,n,m.className);return f(r.createElement("div",{className:v,style:y},r.createElement("div",{className:`${d}-arrow`}),r.createElement(s.z,Object.assign({},e,{className:h,prefixCls:d,overlayInnerStyle:b}),a)))};const R=D},16300:(e,t,n)=>{"use strict";function r(e,t){for(var n=e,r=0;r<t.length;r+=1){if(null==n)return;n=n[t[r]]}return n}n.d(t,{A:()=>r})},16350:(e,t,n)=>{"use strict";n.d(t,{CX:()=>I,Cb:()=>E,Kr:()=>S,Nl:()=>_,SJ:()=>A,We:()=>p,XU:()=>d,cz:()=>k,ec:()=>f,h7:()=>v,hO:()=>c,iW:()=>b,lt:()=>y,pW:()=>g,qw:()=>x,tN:()=>T,tP:()=>l,t_:()=>C,wi:()=>m,yK:()=>u});var r=n(31481),o=n(22986),i=n(87894),s=n(60919);const a=["active","archived"];function c(e,t,n){return{...e,chats:{...e.chats,listIds:{...e.chats.listIds,[t]:n}}}}function l(e,t,n,r,o){return{...e,chats:{...e.chats,loadingParameters:{...e.chats.loadingParameters,[t]:{nextOffsetId:n,nextOffsetPeerId:r,nextOffsetDate:o}}}}}function u(e,t,n,r){const o="saved"===r?"saved":"all";return{...e,chats:{...e.chats,lastMessageIds:{...e.chats.lastMessageIds,[o]:{...e.chats.lastMessageIds[o],[t]:n}}}}}function d(e,t,n){const r="saved"===n?"saved":"all";return{...e,chats:{...e.chats,lastMessageIds:{...e.chats.lastMessageIds,[r]:{...e.chats.lastMessageIds[r],...t}}}}}function f(e,t,n){const{[t]:r}=e.chats.listIds,o=r?.length?n.filter(e=>!r.includes(e)):n;return r&&!o.length?e:c(e,t,[...r||[],...o])}function h(e,t){return{...e,chats:{...e.chats,byId:t}}}function p(e,t,n,r,o=!1){const s=n.unreadMentions||[],a=(0,i.Am)([...s,...r]).sort((e,t)=>t-e);return e=m(e,t,{unreadMentions:a}),o&&(e=m(e,t,{unreadMentionsCount:(n.unreadMentionsCount||0)+Math.max(0,a.length-s.length)})),e}function g(e,t,n,r,o=!1){const i=n.unreadMentions||[],s=i?.filter(e=>!r.includes(e));if(e=m(e,t,{unreadMentions:s}),o&&n.unreadMentionsCount){const r=i.length-s.length;e=m(e,t,{unreadMentionsCount:Math.max(n.unreadMentionsCount-r,0)||void 0})}return e}function m(e,t,n,r=!1,s=!1){const{byId:a}=e.chats,c=a[t];if(s&&c){const t=Object.keys(n);if((0,o.T)((0,i.Up)(c,t),n))return e}const l=w(e,t,n,r);return l?h(e,{...a,[t]:l}):e}function y(e,t,n){const r=(0,s.AWZ)(e,t),i={...r,...n};return(0,o.T)(r,i)?e:{...e,chats:{...e.chats,fullInfoById:{...e.chats.fullInfoById,[t]:i}}}}function b(e,t,n){const r=(0,s.AWZ)(e,t);return(0,o.T)(r,n)?e:{...e,chats:{...e.chats,fullInfoById:{...e.chats.fullInfoById,[t]:n}}}}function v(e,t){const n=Object.keys(t).reduce((n,r)=>{const o=w(e,r,t[r]);return o&&(n[r]=o),n},{});return e=h(e,{...e.chats.byId,...n})}function _(e,t){const{byId:n}=e.chats;let r=!1;const o=Object.keys(t).reduce((o,i)=>{const s=n[i],a=t[i],c=!s?.membersCount&&a.membersCount;if(s&&!s.isMin&&!c&&(a.isMin||s.accessHash===a.accessHash))return o;const l=w(e,i,a);return l&&(o[i]=l,r||(r=!0)),o},{});return r?e=h(e,{...n,...o}):e}function w(e,t,n,r=!1){const{byId:s}=e.chats,a=s[t],c=[];if(n.isMin&&a&&!a.isMin)return;r||c.push("unreadReactionsCount"),(0,o.T)(a?.usernames,n.usernames)&&c.push("usernames");const l={...a,...(0,i.cJ)(n,c)};return l.id&&l.type?(0,i.Oy)(l):void 0}function S(e,t,n){const o=n===r._E9?"archived":"active";let i=e.chats.listIds;return Object.keys(i).forEach(e=>{const n=i[e]||[];e!==o||n.includes(t)?e!==o&&n.includes(t)&&(i={...i,[e]:n.filter(e=>e!==t)}):i={...i,[e]:[...n,t]}}),m(e={...e,chats:{...e.chats,listIds:i}},t,{folderId:n||void 0})}function x(e,t,n){const r="active"===t?"all":t;return{...e,chats:{...e.chats,...n.orderedPinnedIds&&{orderedPinnedIds:{...e.chats.orderedPinnedIds,[t]:n.orderedPinnedIds}},totalCount:{...e.chats.totalCount,[r]:n.totalChatCount}}}}function I(e,t){return y(e=m(e=A(e,t),t,{isNotJoined:!0}),t,{joinInfo:void 0})}function A(e,t,n="all"){return("all"===n?a:[n]).forEach(n=>{e=c(e,n,e.chats.listIds[n]?.filter(e=>e!==t))}),e}function C(e,t,n){const r=(0,s.AWZ)(e,t.id)?.members,o=new Set(n.map(e=>e.userId)),a=[...r?.filter(({userId:e})=>!o.has(e))||[],...n],c=r?.map(({userId:e})=>e)||[],l=a.map(({userId:e})=>e);if((0,i.k)(c,l))return e;const u=a.filter(({isAdmin:e,isOwner:t})=>e||t);return y(e,t.id,{members:a,adminMembersById:(0,i.dU)(u,"userId")})}function k(e,t,n,r){return{...e,chats:{...e.chats,similarChannelsById:{...e.chats.similarChannelsById,[t]:{similarChannelIds:n,count:r||n.length}}}}}function E(e,t){const n=e.chats.similarChannelsById[t];return{...e,chats:{...e.chats,similarChannelsById:{...e.chats.similarChannelsById,[t]:{...n,isExpanded:!n?.isExpanded}}}}}function T(e,t,n,r){return{...e,chats:{...e.chats,similarBotsById:{...e.chats.similarBotsById,[t]:{similarBotsIds:n,count:r}}}}}},16426:e=>{e.exports=function(){var e=document.getSelection();if(!e.rangeCount)return function(){};for(var t=document.activeElement,n=[],r=0;r<e.rangeCount;r++)n.push(e.getRangeAt(r));switch(t.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":t.blur();break;default:t=null}return e.removeAllRanges(),function(){"Caret"===e.type&&e.removeAllRanges(),e.rangeCount||n.forEach(function(t){e.addRange(t)}),t&&t.focus()}}},16581:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(84051),o=n(37836);function i(e,t,n,i=!1,s=!1){const a=(0,r.hb)(e,t);return(0,r.Kr)(()=>(0,o.sg)(a,n,!i,!s),[a,n,i,s])}},16928:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r={MAC_ENTER:3,BACKSPACE:8,TAB:9,NUM_CENTER:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:44,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,QUESTION_MARK:63,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,META:91,WIN_KEY_RIGHT:92,CONTEXT_MENU:93,NUM_ZERO:96,NUM_ONE:97,NUM_TWO:98,NUM_THREE:99,NUM_FOUR:100,NUM_FIVE:101,NUM_SIX:102,NUM_SEVEN:103,NUM_EIGHT:104,NUM_NINE:105,NUM_MULTIPLY:106,NUM_PLUS:107,NUM_MINUS:109,NUM_PERIOD:110,NUM_DIVISION:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,NUMLOCK:144,SEMICOLON:186,DASH:189,EQUALS:187,COMMA:188,PERIOD:190,SLASH:191,APOSTROPHE:192,SINGLE_QUOTE:222,OPEN_SQUARE_BRACKET:219,BACKSLASH:220,CLOSE_SQUARE_BRACKET:221,WIN_KEY:224,MAC_FF_META:224,WIN_IME:229,isTextModifyingKeyEvent:function(e){var t=e.keyCode;if(e.altKey&&!e.ctrlKey||e.metaKey||t>=r.F1&&t<=r.F12)return!1;switch(t){case r.ALT:case r.CAPS_LOCK:case r.CONTEXT_MENU:case r.CTRL:case r.DOWN:case r.END:case r.ESC:case r.HOME:case r.INSERT:case r.LEFT:case r.MAC_FF_META:case r.META:case r.NUMLOCK:case r.NUM_CENTER:case r.PAGE_DOWN:case r.PAGE_UP:case r.PAUSE:case r.PRINT_SCREEN:case r.RIGHT:case r.SHIFT:case r.UP:case r.WIN_KEY:case r.WIN_KEY_RIGHT:return!1;default:return!0}},isCharacterKey:function(e){if(e>=r.ZERO&&e<=r.NINE)return!0;if(e>=r.NUM_ZERO&&e<=r.NUM_MULTIPLY)return!0;if(e>=r.A&&e<=r.Z)return!0;if(-1!==window.navigator.userAgent.indexOf("WebKit")&&0===e)return!0;switch(e){case r.SPACE:case r.QUESTION_MARK:case r.NUM_PLUS:case r.NUM_MINUS:case r.NUM_PERIOD:case r.NUM_DIVISION:case r.SEMICOLON:case r.DASH:case r.EQUALS:case r.COMMA:case r.PERIOD:case r.SLASH:case r.APOSTROPHE:case r.SINGLE_QUOTE:case r.OPEN_SQUARE_BRACKET:case r.BACKSLASH:case r.CLOSE_SQUARE_BRACKET:return!0;default:return!1}}};const o=r},17142:(e,t,n)=>{"use strict";n.d(t,{Ad:()=>u,C:()=>l,UL:()=>i,tT:()=>a,vv:()=>c,wD:()=>s});var r=n(31481),o=n(48775);function i(e,t){return e/10**d(t)}function s(e){return i(e,r.ykW)}function a(e){return e*10**d(r.ykW)}function c(e,t,n,s){const a=i(t,n);return n===r.OUy?(0,o.U2)(e,a,{asFont:s?.asFontIcon,className:s?.iconClassName}):n===r.ykW?(0,o.Ms)(e,a,{className:s?.iconClassName}):u(t,n,e.code,s)}function l(e,t,n=!1){return(n?s(e):e)*t*100}function u(e,t,n="en",o){const s=i(e,t);return(o?.shouldOmitFractions||t===r.OUy)&&Number.isInteger(s)?new Intl.NumberFormat(n,{style:"currency",currency:t,minimumFractionDigits:0,maximumFractionDigits:0}).format(s):t===r.ykW?new Intl.NumberFormat(n,{style:"currency",currency:t,minimumFractionDigits:0,maximumFractionDigits:10}).format(s):new Intl.NumberFormat(n,{style:"currency",currency:t}).format(s)}function d(e){return e===r.ykW?9:"CLF"===e?4:["BHD","IQD","JOD","KWD","LYD","OMR","TND"].includes(e)?3:["BIF","BYR","CLP","CVE","DJF","GNF","ISK","JPY","KMF","KRW","MGA","PYG","RWF","UGX","UYI","VND","VUV","XAF","XOF","XPF",r.OUy].includes(e)?0:"MRO"===e?1:2}},17237:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var r=n(98221),o=n(24282);const i=100,s=8*i;function a(e){const t=(0,o.A)(e).split("\n"),n=t.join("");if(n.length>s)return!1;const r=c(n);if(!r||r>i)return!1;let a=t.length;for(const e of t){const t=c(e);if(!1===t)return!1;t>a&&(a=t)}return a}function c(e){const t=e.matchAll(r.A);let n=0,o=0;for(const e of t){if(e.index!==o)return!1;n++,o=e.index+e[0].length}return o===e.length&&n}},17595:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(52187),o=n(14184);const i=(0,r.an)(o.A)},17663:(e,t,n)=>{"use strict";n.d(t,{$$:()=>g,A:()=>R,A$:()=>L,BR:()=>V,CS:()=>p,F5:()=>E,IF:()=>x,JW:()=>O,L2:()=>N,Lu:()=>v,QO:()=>M,Rm:()=>$,TI:()=>j,U:()=>F,be:()=>b,cK:()=>f,dq:()=>S,e0:()=>k,fS:()=>P,fU:()=>y,i6:()=>_,il:()=>d,jy:()=>I,pU:()=>h,vm:()=>A,wv:()=>T,zA:()=>C,zt:()=>w});var r=n(80140),o=n(19314),i=n(21309);const s=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],a=["January","February","March","April","May","June","July","August","September","October","November","December"].map(e=>e.toLowerCase()),c=2015,l=31,u=12,d=864e5;function f(e){return p(new Date)===p(e)}function h(e){const t=new Date(e);return t.setHours(0,0,0,0),t}function p(e){return h(e).getTime()}function g(e){const t=new Date(1e3*e);return`${t.getFullYear()}-${t.getMonth()}`}function m(e){return`${e.getFullYear()}-${e.getMonth()+1}-${e.getDate()}`}function y(e,t){const n="number"==typeof t?new Date(t):t,r=e.timeFormat||"24h";let o=n.getHours(),i="";return"12h"===r&&(i=o>=12?" PM":" AM",o=o>12?o%12:o),`${String(o).padStart(2,"0")}:${String(n.getMinutes()).padStart(2,"0")}${i}`}function b(e,t,n=!1){const r="number"==typeof t?new Date(t):t,o=y(e,r),i=h(new Date);if(r>=i)return o;const a=new Date(i);if(a.setDate(i.getDate()-7),r>=a){const t=e(`Weekday.Short${s[r.getDay()]}`);return n?e("FullDateTimeFormat",[t,o]):t}const c=r.getFullYear()===i.getFullYear(),l=R(r,e.code,c);return n?e("FullDateTimeFormat",[l,o]):l}function v(e,t){return R(t,e.code,!1,"numeric")}function _(e,t,n=!1){return R(t,e.code,!1,n?"short":"long",!0)}function w(e,t){const n=(0,i._k)(t);if(t<0)return 0;if(n<1)return M(t);if(n<7)return e("Days",{count:n},{pluralValue:n});if(n<30){const t=Math.floor(n/7);return e("Weeks",{count:t},{pluralValue:t})}if(n<365){const t=Math.floor(n/30);return e("Months",{count:t},{pluralValue:t})}{const t=Math.floor(n/365);return e("Years",{count:t},{pluralValue:t})}}function S(e,t){return t<6e4?Math.ceil(t/1e3).toString():t<36e5?Math.ceil(t/6e4).toString():t<d?e("MessageTimer.ShortHours",Math.ceil(t/36e5)):e("MessageTimer.ShortDays",Math.ceil(t/d))}function x(e,t,n=t){const r=t-n;return r<60?e("LiveLocationUpdated.JustNow"):r<3600?e("LiveLocationUpdated.MinutesAgo",Math.floor(r/60)):e("LiveLocationUpdated.TodayAt",y(e,n))}function I(e,t,n=t){const r=t-n;if(r<60)return e("Time.JustNow");if(r<3600)return e("Time.MinutesAgo",Math.floor(r/60));const o=new Date(1e3*n),i=h(new Date);if(o>=i)return e("Time.TodayAt",y(e,o));const s=new Date(i);return s.setDate(i.getDate()-1),o>s?e("Time.YesterdayAt",y(e,o)):e("Time.AtDate",v(e,o))}function A(e,t,n=(0,r.Fm)()){const o=n-t,s=(0,i.Os)(o),a=(0,i.qZ)(o),c=(0,i._k)(o);return o<60?e("JustNowAgo"):s<60?e("MinutesAgo",{count:s},{pluralValue:s}):a<24?e("HoursAgo",{count:a},{pluralValue:a}):c<28?e("DaysAgo",{count:c},{pluralValue:c}):e("AtDateAgo",{date:v(e,t)})}function C(e,t,n=2){if(!t)return;const r=[],o=[{multiplier:1,type:"Seconds"},{multiplier:60,type:"Minutes"},{multiplier:60,type:"Hours"},{multiplier:24,type:"Days"},{multiplier:7,type:"Weeks"}];let i=1;o.forEach((e,n)=>{if(i*=e.multiplier,t<i)return;const s=o[n===o.length-1?n:n+1].multiplier;r.push({duration:Math.floor(t/i%s),type:e.type})});const s=r.slice(-n).reverse();for(let e=s.length-1;e>=0;--e)0===s[e].duration&&s.splice(e,1);return s.map(t=>e(t.type,t.duration,"i")).join(", ")}function k(e,t,n){return t("FormatDateAtTime",{date:f(new Date(1e3*e))?t("WeekdayToday"):E(n,1e3*e,!0,!1,!0),time:y(n,1e3*e)})}function E(e,t,n=!1,r=!1,o){const i="number"==typeof t?new Date(t):t,s=h(new Date);if(!r){if(m(i)===m(s))return(o||!n?z:U)(e("Weekday.Today"));const t=new Date(s);if(t.setDate(s.getDate()-1),m(i)===m(t))return(o||!n?z:U)(e("Weekday.Yesterday"));const r=new Date(s);r.setDate(s.getDate()-6);const a=new Date(s);if(a.setDate(s.getDate()+6),i>=r&&i<=a)return(o||!n?z:U)(T(e,i.getDay(),n))}const a=i.getFullYear()===s.getFullYear();return(o||!n?z:U)(R(i,e.code,a,n?"short":"long"))}function T(e,t,n=!1){const r=s[t];return e(n?`Weekday.Short${r}`:`Weekday.${r}`)}function P(e,t,n){const r="number"==typeof t?new Date(t):t;return`${E(e,r,!0,void 0,n)}, ${y(e,r)}`}function M(e,t){const n=Math.floor(e/3600),r=Math.floor(e%3600/60),o=Math.floor(e%3600%60),i=t?Math.floor(t/3600):0,s=t?Math.floor(t%3600/60):0;let a="";return n>0||i>0?(a+=`${String(n).padStart(2,"0")}:`,a+=`${String(r).padStart(2,"0")}:`):a+=s>=10?`${String(r).padStart(2,"0")}:`:`${String(r)}:`,a+=String(o).padStart(2,"0"),a}function O(e){const t=[];let n=e%1e3;e-=n,n=Math.floor(n/10);const r=(e=Math.floor(e/1e3))%60;e-=r;const o=(e=Math.floor(e/60))%60;e-=o;const i=(e=Math.floor(e/60))%60;return i>0&&t.push(String(i).padStart(2,"0")),t.push(String(o).padStart(i>0?2:1,"0")),t.push(String(r).padStart(2,"0")),`${t.join(":")},${String(n).padStart(2,"0")}`}const D=(0,o.A)((e,t,n,r="short",o)=>new Date(e).toLocaleString(t,{year:n?void 0:"numeric",month:r,day:o?void 0:"numeric"}));function R(e,t="en-US",n=!1,r="short",o=!1){const i=p("number"==typeof e?new Date(e):e);return D(i,t,n,r,o)}function N(e,t="en-US",n,r){return("number"==typeof e?new Date(e):e).toLocaleString(t,{year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"numeric",second:n?void 0:"numeric",hourCycle:"12h"===r?"h12":"h23"})}function F(e,t){const n="number"==typeof t?new Date(t):t,r=h(new Date),o=y(e,n);if(m(n)===m(r))return e("Time.TodayAt",o);const i=new Date(r);if(i.setDate(r.getDate()-1),m(n)===m(i))return e("Time.YesterdayAt",o);const s=n.getFullYear()===r.getFullYear();return e("formatDateAtTime",[R(n,e.code,s),o])}function L(e,t,n){if(t<0)return e("RightNow");if(t<60)return e("Seconds",{count:Math.ceil(t)},{pluralValue:t});if(t<3600){const n=Math.ceil(t/60);return e("Minutes",{count:n},{pluralValue:n})}if(t<86400||n&&t<=172800){const n=Math.ceil(t/3600);return e("Hours",{count:n},{pluralValue:n})}const r=Math.ceil(t/86400);return e("Days",{count:r},{pluralValue:r})}function B(e,t,n=2021){if(t>u-1||e>l)return!1;const r=new Date(n,t,e);return!Number.isNaN(r.getTime())&&r.getDate()===e}function $(e=""){const t=e.match(/\d{1,2}\s[a-zA-Z]{3,}/),n=e.match(/[a-zA-Z]{3,}\s\d{1,2}/),r=e.match(/\d{1,2}[./-]\d{1,2}([./-]\d{2,4})?/);if(!t&&!r&&!n)return;if(r){const[t,n,r]=e.split(/[./-]/).map(Number);return r&&r<c||!B(t,n-1,r||void 0)?void 0:`${r?`${r}-`:""}${String(n).padStart(2,"0")}-${String(t).padStart(2,"0")}`}const o=e.split(" "),i=t?o[0]:o[1],s=(t?o[1]:o[0]).toLowerCase(),l=a.findIndex(e=>e.startsWith(s));return-1!==l&&B(Number(i),l)?`${String(l+1).padStart(2,"0")}-${String(i).padStart(2,"0")}`:void 0}function j(e){return e+d/1e3}function U(e){return`${e[0].toLowerCase()}${e.slice(1)}`}function z(e){return`${e[0].toUpperCase()}${e.slice(1)}`}function V(e,t){const[n,r]=t.split("."),o=new Date(`${r}-${n}`);return new Intl.DateTimeFormat(e,{month:"long",year:"numeric"}).format(o)}},17712:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(84051),o=n(41257);function i(e){const t=(0,o.i)(e);return(0,r.hb)((...e)=>t.current?.(...e),[])}},17850:(e,t,n)=>{"use strict";n.d(t,{A:()=>c});var r=n(58168),o=n(96540);const i={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm32 664c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V456c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272zm-32-344a48.01 48.01 0 010-96 48.01 48.01 0 010 96z"}}]},name:"info-circle",theme:"filled"};var s=n(87064),a=function(e,t){return o.createElement(s.A,(0,r.A)({},e,{ref:t,icon:i}))};const c=o.forwardRef(a)},17872:(e,t,n)=>{"use strict";n.d(t,{iRS:()=>o.iR,P6h:()=>ne,ec2:()=>r.ec,t_k:()=>r.t_,o4A:()=>o.o4,Nl5:()=>r.Nl,KcS:()=>o.Kc,m1I:()=>ee,DeY:()=>Z,tNY:()=>r.tN,Niu:()=>qe,K4v:()=>He,Wez:()=>r.We,d2X:()=>N,g18:()=>C,fgD:()=>o.fg,qEh:()=>Ae,Psh:()=>Ie,IwB:()=>o.Iw,nYM:()=>ce,gt4:()=>st.gt,XQb:()=>ae,GSI:()=>_e,i_d:()=>le,Y1r:()=>we,cYc:()=>Se,_54:()=>H._5,BOn:()=>F,AH0:()=>o.AH,XAm:()=>o.XA,MOQ:()=>E,sol:()=>Ve,hjk:()=>o.hj,vad:()=>o.v,Itk:()=>o.It,do9:()=>dt,l3i:()=>o.l3,T4Z:()=>o.T4,tXQ:()=>H.tX,CX_:()=>r.CX,olz:()=>H.ol,MeL:()=>Ee,V5q:()=>ke,PcY:()=>b,OW3:()=>re,SJu:()=>r.SJ,qKm:()=>o.qK,ONz:()=>Ze,xGf:()=>st.xG,pWt:()=>r.pW,$nQ:()=>p,iW2:()=>r.iW,hOQ:()=>r.hO,tPq:()=>r.tP,tTf:()=>o.tT,GEE:()=>Q,Khb:()=>Ue,xOA:()=>$,mPd:()=>ft,qpc:()=>Y,czZ:()=>r.cz,n4t:()=>o.n4,eww:()=>o.ew,wWy:()=>O,o7c:()=>o.o7,zde:()=>H.zd,gz3:()=>o.gz,s3Z:()=>o.s3,lwK:()=>H.lw,_te:()=>be,lwH:()=>ge,lEm:()=>ve,bbG:()=>pe,Mac:()=>ye,yQW:()=>me,yrN:()=>o.yr,Cbr:()=>r.Cb,cxc:()=>B,$ry:()=>De,wix:()=>r.wi,ltr:()=>r.lt,yKC:()=>r.yK,qwk:()=>r.qw,KrP:()=>r.Kr,PKO:()=>H.PK,Qb2:()=>H.Qb,r3y:()=>o.r3,h7P:()=>r.h7,XUr:()=>r.XU,MNF:()=>o.MN,G4z:()=>m,E24:()=>d,Xbp:()=>o.Xb,kV7:()=>o.kV,Cfr:()=>o.Cf,Mel:()=>h,b8O:()=>U,GQ:()=>z,RgT:()=>q,HyB:()=>V,Ahb:()=>We,SYp:()=>Ke,d4w:()=>o.d4,Y4o:()=>ct,H6X:()=>W,G42:()=>G,gJI:()=>Pe,oeN:()=>st.oe,rmT:()=>st.rm,$RI:()=>H.$R,VmW:()=>H.Vm,hQe:()=>L,p92:()=>te,E0b:()=>o.E0,Vg3:()=>se,_$X:()=>de,kTB:()=>Be,zTz:()=>$e,LZP:()=>ze,Tqk:()=>je,KpR:()=>nt,oeX:()=>Ge,VWO:()=>rt,Xzz:()=>et,ZCo:()=>tt,Gzl:()=>Ye,J81:()=>o.J8,DLl:()=>o.DL,xAV:()=>o.xA,QNR:()=>o.QN,tMr:()=>o.tM,T3R:()=>y,lcj:()=>st.lc,_Bm:()=>st._B,Egm:()=>o.Eg,Ffw:()=>o.Ff,k31:()=>Qe,jU1:()=>H.jU,Tu_:()=>H.Tu,qoo:()=>J,oFy:()=>he,EKx:()=>o.EK,L_F:()=>xe,nv6:()=>fe,Yzx:()=>Ce,n8l:()=>Te,RoI:()=>Oe,qsx:()=>it,bG:()=>l,v9P:()=>f,MkE:()=>u,f_N:()=>g,KXe:()=>Me,X5v:()=>Je,dxy:()=>Xe,KyT:()=>X,e49:()=>o.e4,eAk:()=>o.eA,Ng8:()=>o.Ng,Wwn:()=>o.Ww,TwA:()=>ut,mIA:()=>lt,keG:()=>oe,mR:()=>o.mR,TKu:()=>I,lWl:()=>R,weB:()=>D,BFh:()=>T,Z0S:()=>P,CKT:()=>A,Zct:()=>Re});var r=n(16350),o=n(82150),i=n(14487),s=n(87894),a=n(60919),c=n(32989);function l(e,t,n,...[r=(0,i.g0)()]){return(0,c.w)(e,{stickerSearch:{...(0,a.nTw)(e,r).stickerSearch,hash:t,resultIds:n}},r)}function u(e,t,n,r){const o=r.map(t=>{const n=e.stickers.setsById[t.id];return n?{...n,...t}:t}),i=r.map(e=>e.id);return"search"===t?{...e,stickers:{...e.stickers,setsById:{...e.stickers.setsById,...(0,s.dU)(o,"id")}}}:{...e,stickers:{...e.stickers,setsById:{...e.stickers.setsById,...(0,s.dU)(o,"id")},[t]:{...e.stickers[t],hash:n,setIds:[...e.stickers[t].setIds||[],...i]}}}}function d(e,t,n){const r=n.map(t=>{const n=e.stickers.setsById[t.id];return n?{...n,...t}:t}),o=n.map(e=>e.stickers).flat().filter(Boolean),i=n.map(e=>e.id);return{...e,stickers:{...e.stickers,setsById:{...e.stickers.setsById,...(0,s.dU)(r,"id")}},customEmojis:{...e.customEmojis,added:{...e.customEmojis.added,hash:t,setIds:[...e.customEmojis.added.setIds||[],...i]},byId:{...e.customEmojis.byId,...(0,s.dU)(o,"id")}}}}function f(e,t,n){const r=e.stickers.setsById[t]||{},o=n.isEmoji||r.isEmoji,i=(o?e.customEmojis.added.setIds:e.stickers.added.setIds)||[];let a=i;n.installedDate&&!n.isArchived&&i&&!i.includes(t)&&(a=[t,...a]),!n.installedDate&&i?.includes(t)&&(a=a.filter(e=>e!==t));const c=o&&n.stickers&&(0,s.dU)(n.stickers,"id");return{...e,stickers:{...e.stickers,added:{...e.stickers.added,...!o&&{setIds:a}},setsById:{...e.stickers.setsById,[t]:{...r,...n}}},customEmojis:{...e.customEmojis,byId:{...e.customEmojis.byId,...c},added:{...e.customEmojis.added,...o&&{setIds:a}}}}}function h(e,t,n,r,...[o=(0,i.g0)()]){const{results:s}=(0,a.nTw)(e,o).gifSearch;let l;if(t||!s)l=n;else{const e=new Set(s.map(e=>e.id));l=[...s,...n.filter(t=>!e.has(t.id))]}return(0,c.w)(e,{gifSearch:{...(0,a.nTw)(e,o).gifSearch,offset:r,results:l}},o)}function p(e,t){return{...e,animatedEmojis:t}}function g(e,t,n,r){const o=[...(0,a.wg6)(e,t),...n||[]],i=(0,s.Am)(o.map(({id:e})=>e)),c=(0,s.dU)(o,"id"),l=i.map(e=>c[e]);return{...e,stickers:{...e.stickers,forEmoji:{emoji:t,stickers:l,hash:r}}}}function m(e,t){const n=(0,a.r8w)(e,t),r=(0,s.Am)(n.map(({id:e})=>e)),o=(0,s.dU)(n,"id"),i=r.map(e=>o[e]);return{...e,customEmojis:{...e.customEmojis,forEmoji:{emoji:t,stickers:i}}}}function y(e,t,n){return{...e,customEmojis:{...e.customEmojis,statusRecent:{...e.customEmojis.statusRecent,hash:t,emojis:n}}}}function b(e){if(e.stickers.forEmoji){const{emoji:t,stickers:n,hash:r}=e.stickers.forEmoji;return t?g(e,t,n,r):e}if(e.customEmojis.forEmoji){const{emoji:t}=e.customEmojis.forEmoji;return t?m(e,t):e}return e}var v=n(22986),_=n(79824),w=n(35104);function S(e,t){return{...e,users:{...e.users,byId:t}}}function x(e,t){const{userIds:n}=e.contactList||{};if(!n)return e;const r=t.filter(e=>e?.isContact).map(e=>e.id);return 0===r.length?e:{...e,contactList:{userIds:(0,s.Am)([...r,...n])}}}function I(e,t,n){const{byId:r}=e.users,o=k(e,t,n);return o?S(e=x(e,[o]),{...r,[t]:o}):e}function A(e,t){const n=Object.keys(t).reduce((n,r)=>{const o=k(e,r,t[r]);return o&&(n[r]=o),n},{});return e=x(e=S(e,{...e.users.byId,...n}),Object.values(n))}function C(e,t){const{byId:n}=e.users;let r=!1;const o=Object.keys(t).reduce((o,i)=>{const s=n[i],a=t[i];if(s&&!s.isMin&&(a.isMin||s.accessHash===a.accessHash))return o;const c=k(e,i,a);return c&&(o[i]=c,r||(r=!0)),o},{});return r?e=x(e=S(e,{...n,...o}),Object.values(o)):e}function k(e,t,n){const{byId:r}=e.users,o=r[t],i=[];if(n.isMin&&o&&!o.isMin)return;(0,v.T)(o?.usernames,n.usernames)&&i.push("usernames");const a={...o,...(0,s.cJ)(n,i)};return a.id&&a.type?(0,s.Oy)(a):void 0}function E(e,t){const{byId:n}=e.users,{userIds:r}=e.contactList||{};return e=S(e={...e,contactList:{userIds:r?r.filter(e=>e!==t):_.p}},{...n,[t]:{...n[t],isContact:void 0}}),D(e={...e,stories:{...e.stories,orderedPeerIds:{active:e.stories.orderedPeerIds.active.filter(e=>e!==t),archived:e.stories.orderedPeerIds.archived.filter(e=>e!==t)}}},t,{settings:void 0})}function T(e,t,...[n=(0,i.g0)()]){return(0,c.w)(e,{userSearch:{...(0,a.nTw)(e,n).userSearch,...t}},n)}function P(e,t,...[n=(0,i.g0)()]){return T(e,{fetchingStatus:t},n)}function M(e,t,n){const{fullInfoById:r}=e.users;return r[t]?D(e,t,{isBlocked:n}):e}function O(e,t){return{...e,users:{...e.users,statusesById:t}}}function D(e,t,n){const r=e.users.fullInfoById[t];return{...e,users:{...e.users,fullInfoById:{...e.users.fullInfoById,[t]:{...r,...n}}}}}function R(e,t,n){return{...e,users:{...e.users,commonChatsById:{...e.users.commonChatsById,[t]:n}}}}function N(e,t){const{statusesById:n}=e.users;return O(e,{...n,...t})}function F(e,...[t=(0,i.g0)()]){return(0,c.w)(e,{newContact:void 0},t)}function L(e,t,n,...[r=(0,i.g0)()]){return n.length?(0,c.w)(e,{inviteViaLinkModal:{missingUsers:n,chatId:t}},r):(0,c.w)(e,{inviteViaLinkModal:void 0},r)}function B(e,t,n){const{botAppPermissionsById:r}=e.users;return{...e,users:{...e.users,botAppPermissionsById:{...r,[t]:{...r[t],...n}}}}}function $(e,t,n,r,...[o=(0,i.g0)()]){const s=(0,a.nTw)(e,o),l=new Map;return n.forEach(e=>{const t=(0,w.p)(e,!0),n=l.get(t)||0;n>0&&(e.localTag=n),l.set(t,n+1)}),(0,c.w)(e,{savedGifts:{...s.savedGifts,giftsByPeerId:{...s.savedGifts.giftsByPeerId,[t]:{gifts:n,nextOffset:r}}}},o)}var j=n(57309);function U(e,t,...[n=(0,i.g0)()]){return(0,c.w)(e,{globalSearch:{...(0,a.nTw)(e,n).globalSearch,...t}},n)}function z(e,t,...[n=(0,i.g0)()]){return U(e,{currentContent:t},n)}function V(e,t,n,r,o,c,l,...[u=(0,i.g0)()]){const{resultsByType:d}=(0,a.nTw)(e,u).globalSearch||{},f=t.reduce((e,t)=>(e[(0,j.D)(t)]=t,e),{}),h=d?.[r]?.foundIds;if(void 0!==h&&Object.keys(f).every(e=>h.includes((0,j.D)(f[e]))))return U(e=q(e,{messages:!1},u),{resultsByType:{...((0,a.nTw)(e,u).globalSearch||{}).resultsByType,[r]:{foundIds:h,totalCount:n,nextOffsetId:c,nextOffsetRate:o,nextOffsetPeerId:l}}},u);const p=h||[],g=t.map(e=>(0,j.D)(e)).filter(e=>!p.includes(e)),m=Array.prototype.concat(p,g),y=(0,s.k)(p,m)?p:m;return U(e=q(e,{messages:!1},u),{resultsByType:{...((0,a.nTw)(e,u).globalSearch||{}).resultsByType,[r]:{totalCount:n,nextOffsetId:c,nextOffsetRate:o,nextOffsetPeerId:l,foundIds:y}}},u)}function q(e,t,...[n=(0,i.g0)()]){return U(e,{fetchingStatus:{...(0,a.nTw)(e,n).globalSearch.fetchingStatus,...t}},n)}var H=n(68344);function G(e,t,...[n=(0,i.g0)()]){return(0,c.w)(e,{management:{...(0,a.nTw)(e,n).management,progress:t}},n)}function W(e,t,n,...[r=(0,i.g0)()]){const{management:o}=(0,a.nTw)(e,r);return(0,c.w)(e,{management:{...o,byChatId:{...o.byChatId,[t]:{...o.byChatId[t]||{},...n}}}},r)}var K=n(30708);function Y(e,t){return{...e,settings:{...e.settings,byKey:{...e.settings.byKey,...t}}}}function J(e,t){return function(e,t){return{...e,sharedState:{...e.sharedState,...t}}}(e,{settings:{...(0,K.l)(e),...t}})}function X(e,t,n){const r=e.settings,o=r.themes[t];return{...e,settings:{...e.settings,themes:{...r.themes,[t]:{...o,...n}}}}}function Z(e,t){return{...e,chats:{...e.chats,notifyExceptionById:{...e.chats.notifyExceptionById,...t}}}}function Q(e,t){return{...e,chats:{...e.chats,notifyExceptionById:t}}}function ee(e,t,n){return{...e,chats:{...e.chats,notifyExceptionById:{...e.chats.notifyExceptionById,[t]:n}}}}function te(e,t,n){return{...e,settings:{...e.settings,notifyDefaults:{...e.settings.notifyDefaults,[t]:{...e.settings.notifyDefaults?.[t],...n}}}}}function ne(e,t){return e=M(e,t,!0),{...e,blocked:{...e.blocked,ids:[t,...e.blocked.ids],totalCount:e.blocked.totalCount+1}}}function re(e,t){return e=M(e,t,!1),{...e,blocked:{...e.blocked,ids:e.blocked.ids.filter(e=>e!==t),totalCount:e.blocked.totalCount-1}}}function oe(e,t){return{...e,twoFaSettings:{...e.twoFaSettings,...t}}}var ie=n(20714);function se(e,t){return{...e,passcode:{...e.passcode,...t}}}function ae(e){return{...e,passcode:{}}}function ce(e,t=!0){return{...ie.HB,passcode:e.passcode,settings:ie.HB.settings,sharedState:le(e.sharedState),...t&&{byTabId:Object.values(e.byTabId).reduce((e,{id:t,isMasterTab:n})=>(e[t]={...ie.Je,isMasterTab:n,id:t},e),{})}}}function le(e){const{theme:t,shouldUseSystemTheme:n,animationLevel:r,language:o}=e.settings;return{...ie.$8,settings:{...ie.$8.settings,theme:t,shouldUseSystemTheme:n,animationLevel:r,language:o}}}var ue=n(31481);function de(e,t,...[n=(0,i.g0)()]){return(0,c.w)(e,{payment:{...(0,a.nTw)(e,n).payment,...t}},n)}function fe(e,t,...[n=(0,i.g0)()]){const r=(0,a.Osl)(e,n);return r?(0,c.w)(e,{starsPayment:{...r,...t}},n):e}function he(e,t,...[n=(0,i.g0)()]){return de(e,{shippingOptions:t},n)}function pe(e,t,...[n=(0,i.g0)()]){return de(e,{requestId:t},n)}function ge(e,t,...[n=(0,i.g0)()]){return de(e,{step:t},n)}function me(e,t,...[n=(0,i.g0)()]){return de(e,{stripeCredentials:{...t}},n)}function ye(e,t,...[n=(0,i.g0)()]){return de(e,{smartGlocalCredentials:{...t}},n)}function be(e,t,...[n=(0,i.g0)()]){return de(e,{confirmPaymentUrl:t},n)}function ve(e,t,...[n=(0,i.g0)()]){return de(e,t?{receipt:t}:{receipt:void 0},n)}function _e(e,...[t=(0,i.g0)()]){return(0,c.w)(e,{payment:{}},t)}function we(e,...[t=(0,i.g0)()]){return(0,c.w)(e,{starsPayment:{}},t)}function Se(e,...[t=(0,i.g0)()]){return de(e,{isPaymentModalOpen:void 0,isExtendedMedia:void 0},t)}function xe(e,t){return t.currency===ue.OUy?{...e,stars:{...e.stars,balance:t}}:t.currency===ue.ykW?{...e,ton:{...e.ton,balance:t}}:e}function Ie(e,t,n,r,o){if(o){const o=e.ton?.history;if(!o)return e;const i={transactions:(o[t]?.transactions||[]).concat(n),nextOffset:r};return{...e,ton:{...e.ton,history:{...o,[t]:i}}}}const i=e.stars?.history;if(!i)return e;const s={transactions:(i[t]?.transactions||[]).concat(n),nextOffset:r};return{...e,stars:{...e.stars,history:{...i,[t]:s}}}}function Ae(e,t,n){if(!e.stars)return e;const r={list:(e.stars.subscriptions?.list||[]).concat(t),nextOffset:n};return{...e,stars:{...e.stars,subscriptions:r}}}function Ce(e,t){const n=e.stars?.subscriptions;return n?{...e,stars:{...e.stars,subscriptions:{...n,isLoading:t}}}:e}function ke(e,t,...[n=(0,i.g0)()]){return(0,c.w)(e,{starsTransactionModal:{transaction:t}},n)}function Ee(e,t,...[n=(0,i.g0)()]){return ke(e,{id:t.transactionId,peer:{type:"peer",id:t.botId},amount:{currency:ue.OUy,amount:t.totalAmount,nanos:0},date:t.date,title:t.title,description:t.description,photo:t.photo},n)}function Te(e,t,n,...[r=(0,i.g0)()]){return(0,c.w)(e,{statistics:{byChatId:{...(0,a.nTw)(e,r).statistics.byChatId,[t]:n}}},r)}function Pe(e,t,...[n=(0,i.g0)()]){return(0,c.w)(e,{statistics:{...(0,a.nTw)(e,n).statistics,currentMessage:t,currentStory:void 0}},n)}function Me(e,t,...[n=(0,i.g0)()]){return(0,c.w)(e,{statistics:{...(0,a.nTw)(e,n).statistics,currentStory:t,currentMessage:void 0}},n)}function Oe(e,t,n,r,...[o=(0,i.g0)()]){const{statistics:s}=(0,a.nTw)(e,o);return(0,c.w)(e,{statistics:{...s,byChatId:{...s.byChatId,[t]:{...s.byChatId[t]||{},[n]:r}}}},o)}function De(e,t,...[n=(0,i.g0)()]){return(0,c.w)(e,{statistics:{...(0,a.nTw)(e,n).statistics,monetization:t}},n)}function Re(e,t,...[n=(0,i.g0)()]){const r=(0,a.nTw)(e,n);return r.monetizationVerificationModal?(0,c.w)(e,{monetizationVerificationModal:{...r.monetizationVerificationModal,...t}},n):e}var Ne=n(9716),Fe=n(80140),Le=n(90709);function Be(e,t,n){return(0,Ne.L8)(t)?I(e,t,n):(0,r.wi)(e,t,n)}function $e(e,t,n){return(0,Ne.L8)(t)?D(e,t,n):(0,r.lt)(e,t,n)}function je(e,t,n){const r=(0,a.IVq)(e,t);return r?Ue(e,t,{...r,isLoading:n}):e}function Ue(e,t,n){return n?{...e,peers:{...e.peers,profilePhotosById:{...e.peers.profilePhotosById,[t]:n}}}:{...e,peers:{...e.peers,profilePhotosById:(0,s.cJ)(e.peers.profilePhotosById,[t])}}}function ze(e,t,n){const r=(0,a.IVq)(e,t),{newPhotos:o,count:i,nextOffset:c,fullInfo:l,shouldInvalidateCache:u}=n,d=r,f=l.profilePhoto,h="fallbackPhoto"in l?l.fallbackPhoto:void 0,p="personalPhoto"in l?l.personalPhoto:void 0;if(!d||u)return f&&f.id!==o[0]?.id&&o.unshift(f),p&&p.id!==o[0]?.id&&o.unshift(p),h&&o.push(h),Ue(e,t,{fallbackPhoto:h,personalPhoto:p,photos:o,count:i,nextOffset:c,isLoading:!1});const g=d.photos[d.photos.length-1].id===h?.id?d.photos.slice(0,-1):d.photos,m=(0,s.Xd)([...g,...o,h].filter(Boolean),"id");return Ue(e,t,{fallbackPhoto:h,personalPhoto:p,photos:m,count:i,nextOffset:c,isLoading:!1})}function Ve(e,t,n,o){const i=(0,a.PVB)(e,t),s=(0,a.IVq)(e,t);if(!i||!s)return e;const c="title"in i&&(0,Le.WX)(i),l=(0,a.vGo)(e,t),u=(0,a.AWZ)(e,t),d=i.avatarPhotoId===n&&(!c||o),f=d?s.photos[1]:void 0;if(l&&(e=D(e,t,{fallbackPhoto:l.fallbackPhoto?.id===n?void 0:l.fallbackPhoto,personalPhoto:l.personalPhoto?.id===n?void 0:l.personalPhoto,profilePhoto:l.profilePhoto?.id===n?f:l.profilePhoto})),u){const o=u.profilePhoto?.id===n?f:u.profilePhoto;e=(0,r.lt)(e,t,{profilePhoto:o})}const h=d?f?.id:i.avatarPhotoId,p=d&&"title"in i&&(0,Le.WX)(i)?s.photos.filter(e=>e.id!==n):s.photos.slice();return Ue(e=Be(e,t,{avatarPhotoId:h}),t,h?{...s,photos:p,count:s.count-1}:void 0)}function qe(e,t){const n=Object.entries(t).reduce((e,[t,n])=>(e[t]?(e[t].byId={...e[t].byId,...n.byId},e[t].orderedIds=(0,s.Am)(n.orderedIds.concat(e[t].orderedIds)),e[t].profileIds=(0,s.Am)(n.profileIds.concat(e[t].profileIds)).sort((e,t)=>t-e),e[t].lastUpdatedAt=n.lastUpdatedAt,e[t].lastReadId=n.lastReadId):e[t]=n,e),e.stories.byPeerId);return ot(e={...e,stories:{...e.stories,byPeerId:n}},Object.keys(t))}function He(e,t,n,r,o){const{byId:i,orderedIds:c,profileIds:l,archiveIds:u,pinnedIds:d}=e.stories.byPeerId[t]||{},f=Object.keys(n).filter(e=>"isDeleted"in n[Number(e)]).map(Number),h={...i,...n};let p=[...c||[]],g=[...u||[]];const m=(0,s.Am)([...l||[]].concat(Object.values(n).reduce((e,t)=>("isInProfile"in t&&t.isInProfile&&e.push(t.id),e),[]))).sort((e,t)=>t-e).filter(e=>!f.includes(e));return p=(0,s.Am)(Object.entries(n).reduce((e,[t,n])=>("expireDate"in n&&n.expireDate&&n.expireDate>(0,Fe.Fm)()&&e.push(Number(t)),e),p)).filter(e=>!f.includes(e)),o&&(0,a.nZ4)(e,t)&&(g=(0,s.Am)(g.concat(Object.keys(n).map(Number))).sort((e,t)=>t-e).filter(e=>!f.includes(e))),e={...e,stories:{...e.stories,byPeerId:{...e.stories.byPeerId,[t]:{...e.stories.byPeerId[t],byId:h,orderedIds:p,profileIds:m,pinnedIds:d||r,...o&&{archiveIds:g}}}}},((0,a.nZ4)(e,t)||(0,a.mBe)(e,t)?.isContact||t===e.appConfig?.storyChangelogUserId)&&(e=function(e,t){const n=e.stories.byPeerId[t],r=n.orderedIds.reduce((e,t)=>{const{date:r}=n.byId[t]||{};return r&&(!e||e<r)&&(e=r),e},void 0);return{...e,stories:{...e.stories,byPeerId:{...e.stories.byPeerId,[t]:{...n,lastUpdatedAt:r}}}}}(e,t),e=ot(e,[t])),e}function Ge(e,t,n,r){return{...e,stories:{...e.stories,byPeerId:{...e.stories.byPeerId,[t]:{...e.stories.byPeerId[t],[r?"isArchiveFullyLoaded":"isFullyLoaded"]:n}}}}}function We(e,t,n){const{orderedIds:r}=(0,a._bp)(e,t)||{};return r?(n>=r[r.length-1]&&(e=Be(e,t,{hasUnreadStories:!1})),{...e,stories:{...e.stories,byPeerId:{...e.stories.byPeerId,[t]:{...e.stories.byPeerId[t],lastReadId:n}}}}):e}function Ke(e,t,n,...[r=(0,i.g0)()]){const{orderedIds:o}=(0,a._bp)(e,t)||{};if(!o||!o.includes(n))return e;const{storyViewer:s}=(0,a.nTw)(e,r);return(0,c.w)(e,{storyViewer:{...s,lastViewedByPeerId:{...s.lastViewedByPeerId,[t]:n}}},r)}function Ye(e,t){return Object.entries(t).forEach(([t,{lastReadId:n,orderedIds:r}])=>{const o=(0,a.PVB)(e,t);o&&(e=Be(e,t,{hasStories:!0,hasUnreadStories:!n||Boolean(n&&n<(o.maxStoryId||r[r.length-1]))}))}),e}function Je(e,t,n,r,...[o=(0,i.g0)()]){const s=(0,a.nTw)(e,o),{viewModal:l}=s.storyViewer,u=l?.storyId===t&&l.views?[...l.views,...n]:n;return e=Xe(e,!1,o),(0,c.w)(e,{storyViewer:{...s.storyViewer,viewModal:{...l,storyId:t,views:u,nextOffset:r,isLoading:!1}}},o)}function Xe(e,t,...[n=(0,i.g0)()]){const r=(0,a.nTw)(e,n),{viewModal:o}=r.storyViewer;return o?(0,c.w)(e,{storyViewer:{...r.storyViewer,viewModal:{...o,isLoading:t}}},n):e}function Ze(e,t,n){const{orderedIds:r,profileIds:o,lastReadId:i,byId:s}=(0,a._bp)(e,t)||{orderedIds:[],profileIds:[]},c=r.filter(e=>e!==n),l=o.filter(e=>e!==n),u=c.length?r[r.length-1]:void 0,d=r[r.indexOf(n)-1],f=i===n?d:i,h={...s,[n]:{id:n,peerId:t,isDeleted:!0}},p=u?h[u]?.date:void 0,g=Boolean(c.length);return e=function(e,t,n){return{...e,stories:{...e.stories,byPeerId:{...e.stories.byPeerId,[t]:n}}}}(e=Be(e,t,{hasStories:g,hasUnreadStories:Boolean(g&&i&&u&&i<u)}),t,{byId:h,orderedIds:c,profileIds:l,lastUpdatedAt:p,lastReadId:f}),Object.values(e.byTabId).forEach(r=>{r.storyViewer.lastViewedByPeerId&&r.storyViewer.lastViewedByPeerId[t]===n&&(e=Ke(e,t,d,r.id))}),g||(e={...e,stories:{...e.stories,orderedPeerIds:{active:e.stories.orderedPeerIds.active.filter(e=>e!==t),archived:e.stories.orderedPeerIds.archived.filter(e=>e!==t)}}}),e}function Qe(e,t,n,r){const o=(0,a.Msb)(e,t,n);if(!o||!("content"in o))return e;const{views:i}=o,s=i?.reactionsCount||0,c=i?.reactions?.some(e=>void 0!==e.chosenOrder),l=(0,Le.AK)(i?.reactions||[],[r].filter(Boolean)),u=s+(r?c?0:1:-1);return et(e,t,n,{sentReaction:r,views:{...i,reactionsCount:u,reactions:l}})}function et(e,t,n,r){const o=(0,a._bp)(e,t)||{byId:{},orderedIds:[],profileIds:[],archiveIds:[]};return{...e,stories:{...e.stories,byPeerId:{...e.stories.byPeerId,[t]:{...o,byId:{...o.byId,[n]:{...o.byId[n],...r}}}}}}}function tt(e,t,n,r){const o=(0,a.Msb)(e,t,n);if(!o||!("content"in o))return e;const{views:i}=o;return et(e,t,n,{views:{...i,...r}})}function nt(e,t,n,r){const o=(0,a._bp)(e,t)||{byId:{},orderedIds:[],profileIds:[],archiveIds:[]},i=r?(0,s.Am)(o.profileIds.concat(n)).sort((e,t)=>t-e):o.profileIds.filter(e=>n!==e);return{...e,stories:{...e.stories,byPeerId:{...e.stories.byPeerId,[t]:{...o,profileIds:i}}}}}function rt(e,t,n){const r=(0,a.PVB)(e,t);return r?r.areStoriesHidden===n?e:ot(e=Be(e,t,{areStoriesHidden:n}),[t]):e}function ot(e,t){const{currentUserId:n,stories:{byPeerId:r,orderedPeerIds:o}}=e,i=o.active.concat(o.archived).concat(t).reduce((t,n)=>{if(!r[n]?.orderedIds?.length)return t;const o=(0,a.PVB)(e,n);return o?.areStoriesHidden?t.archived.push(n):t.active.push(n),t},{active:[],archived:[]});function c(t,o){const i=(0,a.PVB)(e,t),c=(0,a.PVB)(e,o),l=(0,s.zV)(n===t,n===o);if(l)return l;const{lastUpdatedAt:u=0,orderedIds:d,lastReadId:f=0}=r[t]||{},h=f<d?.[d.length-1],{lastUpdatedAt:p=0,orderedIds:g,lastReadId:m=0}=r[o]||{},y=m<g?.[g.length-1],b=(0,s.zV)(h,y);if(b)return b;const v=(0,s.zV)("isPremium"in i,"isPremium"in c);if(v)return v;return(0,s.zV)((0,Ne.L8)(t),(0,Ne.L8)(o))||(0,s.zV)(u,p)}return i.archived=(0,s.Am)(i.archived).filter(e=>r[e]?.orderedIds?.length).sort(c),i.active=(0,s.Am)(i.active).filter(e=>r[e]?.orderedIds?.length).sort(c),{...e,stories:{...e.stories,orderedPeerIds:i}}}function it(e,t){return{...e,stories:{...e.stories,stealthMode:t}}}var st=n(95753);function at(e,t,n){const r=e.chats.topicsInfoById[t]||{};return{...e,chats:{...e.chats,topicsInfoById:{...e.chats.topicsInfoById,[t]:{...r,...n}}}}}function ct(e,t,n){const r=(0,a.xyP)(e,t)?.listedTopicIds||[];return at(e,t,{listedTopicIds:(0,s.Am)([...r,...n])})}function lt(e,t,n,r){const i=(0,a.pSx)(e,t),c=(0,s.dU)(r,"id");return e=at(e,t,{topicsById:{...i,...c},totalCount:n}),r.forEach(n=>{e=(0,o.e4)(e,t,n.id,{firstMessageId:n.id}),e=(0,o.eA)(e,t,n.id,{lastMessageId:n.lastMessageId,threadId:n.id,chatId:t})}),e}function ut(e,t,n,r){if(!(0,a.hds)(e,t))return e;const i=(0,a.S0q)(e,t,n),s=(0,a.pSx)(e,t),c={...i,...r};return c.id?(e=at(e,t,{topicsById:{...s,[n]:c}}),e=(0,o.e4)(e,t,c.id,{firstMessageId:c.id}),e=(0,o.eA)(e,t,c.id,{lastMessageId:c.lastMessageId,threadId:c.id,chatId:t})):e}function dt(e,t,n){const r=(0,a.pSx)(e,t);return r?e=at(e,t,{topicsById:(0,s.cJ)(r,[n])}):e}function ft(e,t,n){return at(e,t,{orderedPinnedTopicIds:n})}},17965:(e,t,n)=>{"use strict";var r=n(16426),o={"text/plain":"Text","text/html":"Url",default:"Text"};e.exports=function(e,t){var n,i,s,a,c,l,u=!1;t||(t={}),n=t.debug||!1;try{if(s=r(),a=document.createRange(),c=document.getSelection(),(l=document.createElement("span")).textContent=e,l.ariaHidden="true",l.style.all="unset",l.style.position="fixed",l.style.top=0,l.style.clip="rect(0, 0, 0, 0)",l.style.whiteSpace="pre",l.style.webkitUserSelect="text",l.style.MozUserSelect="text",l.style.msUserSelect="text",l.style.userSelect="text",l.addEventListener("copy",function(r){if(r.stopPropagation(),t.format)if(r.preventDefault(),void 0===r.clipboardData){n&&console.warn("unable to use e.clipboardData"),n&&console.warn("trying IE specific stuff"),window.clipboardData.clearData();var i=o[t.format]||o.default;window.clipboardData.setData(i,e)}else r.clipboardData.clearData(),r.clipboardData.setData(t.format,e);t.onCopy&&(r.preventDefault(),t.onCopy(r.clipboardData))}),document.body.appendChild(l),a.selectNodeContents(l),c.addRange(a),!document.execCommand("copy"))throw new Error("copy command was unsuccessful");u=!0}catch(r){n&&console.error("unable to copy using execCommand: ",r),n&&console.warn("trying IE specific stuff");try{window.clipboardData.setData(t.format||"text",e),t.onCopy&&t.onCopy(window.clipboardData),u=!0}catch(r){n&&console.error("unable to copy using clipboardData: ",r),n&&console.error("falling back to prompt"),i=function(e){var t=(/mac os x/i.test(navigator.userAgent)?"⌘":"Ctrl")+"+C";return e.replace(/#{\s*key\s*}/g,t)}("message"in t?t.message:"Copy to clipboard: #{key}, Enter"),window.prompt(i,e)}}finally{c&&("function"==typeof c.removeRange?c.removeRange(a):c.removeAllRanges()),l&&document.body.removeChild(l),s()}return u}},18104:(e,t,n)=>{"use strict";n.d(t,{A:()=>x});var r=n(84051),o=n(66644),i=n(88458),s=n(96454),a=n(87357),c=n(95807),l=n(14235),u=n(71322),d=n(37479),f=n(82117),h=n(37661),p=n(84080),g=n(17712),m=n(34780),y=n(46637),b=n(41257),v=n(35297),_=n(672),w=n(14745),S=n(61157);const x=(0,r.ph)(({ref:e,renderId:t,className:n,style:x,tgsUrl:A,play:C,playSegment:k,speed:E,noLoop:T,size:P,quality:M,isLowPriority:O,color:D,forceAlways:R,forceOnHeavyAnimation:N,sharedCanvas:F,sharedCanvasCoords:L,onClick:B,onMouseEnter:$,onMouseLeave:j,onLoad:U,onEnded:z,onLoop:V})=>{let q=(0,r.li)();e&&(q=e);const H=(0,w.A)(),[G,W]=(0,r.J0)(),K=(0,r.li)(),Y=(0,r.li)(!0),J=!F&&D,X=(0,d.A)(J?D:void 0),Z=C||!1!==C&&k,Q=(0,b.i)(C),ee=(0,b.i)(k),te=(0,r.li)(),ne=R||N,[re,oe,ie]=(0,h.A)(!(0,r.OV)()||ne);(0,p.Ay)(ie,oe,ne),(0,r.vJ)(()=>{ne&&oe()},[ne]),(0,v.A)(()=>{if(D&&!J){const{r:e,g:t,b:n}=(0,u.E2)(D);te.current=[e,t,n]}else te.current=void 0},[D,J]);const se=(0,r.li)(!1);(0,r._W)(()=>{se.current=!0});const ae=(0,g.A)(()=>{if(K.current||se.current||!A||F&&(!L||!F.offsetWidth||!F.offsetHeight)||(0,r.OV)()&&!ne)return;const e=q.current||F;if(!e)return;const n=(0,i.o)().init(A,e,t||(0,l.A)(),{size:P,noLoop:T,quality:M,isLowPriority:O,coords:L},H,te.current,U,z,V);E&&n.setSpeed(E),W(n),K.current=n});(0,r.vJ)(()=>{re&&((0,i.o)()?ae():(0,i.Y)().then(ae))},[ae,A,F,L,re]);const ce=(0,_.A)(ae,[ae],150);(0,y.A)(F,ce),(0,r.vJ)(()=>{G?.setColor(te.current)},[D,G]),(0,r.vJ)(()=>{"number"==typeof E&&G?.setSpeed(E)},[E,G]),(0,r._W)(()=>{K.current?.removeView(H)});const le=(0,g.A)((e=!1)=>{G&&(Q.current||ee.current)&&!I(R)&&(ee.current?G.playSegment(ee.current,e,H):G.play(e,H))}),ue=(0,g.A)(()=>{(0,o.YS)(le)}),de=(0,g.A)(()=>{G?.isPlaying()&&G.pause(H)});if((0,f.A)(([e])=>{void 0!==e&&T!==e&&G?.setNoLoop(T)},[T,G]),(0,f.A)(([e])=>{void 0!==e&&L!==e&&G?.setSharedCanvasCoords(H,L)},[L,H,G]),(0,r.vJ)(()=>{G&&(Z?I(R,N)||le(T):de())},[G,Z,T,le,de,R,N]),(0,r.vJ)(()=>{G&&(Y.current?Y.current=!1:A&&(G.changeData(A),le()))},[le,G,A]),(0,p.Ay)(de,le,!Z||ne),(0,m.Ay)(de,le,!Z||R),(0,S.Ay)(de,ue,!Z||R),!F)return r.Ay.createElement("div",{ref:q,className:(0,a.A)("AnimatedSticker",n),style:(0,c.A)(void 0!==P&&`width: ${P}px; height: ${P}px;`,B&&!s.cp&&"cursor: pointer",X,x),onClick:B,onMouseEnter:$,onMouseLeave:j})});function I(e=!1,t=!1){return!e&&(!t&&(0,r.OV)()||(0,m.c_)()||(0,S.g1)())}},18501:(e,t,n)=>{"use strict";n.d(t,{QY:()=>O,kf:()=>R,fd:()=>M});var r=n(84051),o=n(13439),i=n(23174),s=n(87357),a=n(85982),c=n(6e4),l=n(58734),u=n(4961),d=n(56362),f=n(57675),h=n(17712),p=n(54746);const g=({canBeCollapsible:e,isToggleDisabled:t,children:n})=>{const o=(0,r.li)(),{isCollapsed:a,isCollapsible:c,setIsCollapsed:l}=(0,f.A)(o,4,void 0,!e),u=!t&&a,d=(0,h.A)(()=>{l(!1)}),g=(0,h.A)(()=>{l(e=>!e)});return r.Ay.createElement("span",{className:(0,s.A)("KU67Uur0",a&&"y_uRZXtA"),onClick:u?d:void 0},r.Ay.createElement("blockquote",{className:"m3sD7_cn",ref:o,"data-entity-type":i.C7.Blockquote},r.Ay.createElement("div",{className:"JNVT2DU9"},n),c&&r.Ay.createElement("div",{className:(0,s.A)("pyX4NpPB",!t&&"RmvXwV0W"),onClick:t?void 0:g,"aria-hidden":!0},r.Ay.createElement(p.A,{name:a?"down":"up"}))))},m={js:"JavaScript",javascript:"JavaScript",ts:"TypeScript",typescript:"TypeScript",python:"Python",py:"Python",go:"Go",rust:"Rust",func:"FunC",c:"C","c++":"C++",cpp:"C++",fortran:"Fortran",f90:"Fortran",f:"Fortran",java:"Java",sql:"SQL",swift:"Swift","objective-c":"Objective-C",kotlin:"Kotlin",ruby:"Ruby",rb:"Ruby",php:"PHP",perl:"Perl",bash:"Bash",sh:"Shell",markdown:"Markdown","c#":"C#",cs:"C#",json:"JSON",yaml:"YAML",yml:"YAML",solidity:"Solidity",sol:"Solidity",tl:"TL"};var y=n(56863),b=n(86070),v=n(59030),_=n(39751);const w=(0,r.ph)(({text:e,className:t,noCopy:n,onWordWrapToggle:i})=>{const{showNotification:c}=(0,o.ko)(),l=(0,r.li)(),d=(0,_.A)(),f=(0,v.A)(),[h,g]=(0,r.J0)(!0),[m,y]=(0,r.J0)(!1),b=(0,r.hb)(()=>{const t=(0,u.o)(e,l.current.parentElement);y(t)},[e]);(0,r.vJ)(()=>{h&&b()},[b,h,e,d]);const w=(0,r.hb)(()=>{(0,a.eM)(e),c({message:f("TextCopied")})},[f,c,e]),S=(0,r.hb)(()=>{g(!h),i?.(!h)},[h,i]),x=(0,s.A)("L95Dh7wN",!m&&n&&"zctwFUQ8"),I=(0,s.A)("pMUccFN9",t),A=(0,s.A)("a44ZN3hD",h&&"jq1KLfVD");return r.Ay.createElement("div",{className:I,ref:l},r.Ay.createElement("div",{className:x},m&&r.Ay.createElement("div",{className:A,onClick:S,title:"Word Wrap"},r.Ay.createElement(p.A,{name:"word-wrap"})),!n&&r.Ay.createElement("div",{className:"auCNtLQ4",onClick:w,title:f("Copy")},r.Ay.createElement(p.A,{name:"copy"}))))}),S=(0,r.ph)(({text:e,language:t,noCopy:o})=>{const[a,c]=(0,r.J0)(!0),{result:l}=(0,y.A)(()=>t?Promise.all([n.e(1428),n.e(3325)]).then(n.bind(n,73325)).then(n=>n.default(e,t)):Promise.resolve(void 0),[t,e]),u=(0,r.hb)(e=>{c(e)},[]),d=(0,s.A)("code-block",!a&&"no-word-wrap");return r.Ay.createElement(b.A,{className:"CodeBlock"},t&&r.Ay.createElement("p",{className:"code-title"},m[(f=t).toLowerCase()]??f),r.Ay.createElement("pre",{className:d,"data-entity-type":i.C7.Pre,"data-language":t},l??e,r.Ay.createElement(w,{text:e,className:"code-overlay",onWordWrapToggle:u,noCopy:o})));var f});var x=n(87412),I=n(84685),A=n(83868),C=n(37661);const k=new Map,E=(0,s.x)("Spoiler"),T=(0,r.ph)(({children:e,containerId:t})=>{const n=(0,r.li)(),[o,s]=(0,C.A)(),a=(0,h.A)(e=>{t&&(o||(0,A.A)(e),k.get(t)?.forEach(e=>e()))});return(0,r.vJ)(()=>{if(t)return k.has(t)?k.get(t).push(s):k.set(t,[s]),()=>{k.delete(t)}},[t]),r.Ay.createElement("span",{className:E("&",!o&&"concealed",!o&&Boolean(t)&&"animated"),onClick:t&&!o?a:void 0,"data-entity-type":i.C7.Spoiler},r.Ay.createElement("span",{className:E("content"),ref:n},e))}),P=64;function M({text:e,entities:t,highlight:n,emojiSize:a,shouldRenderAsHtml:c,containerId:f,asPreview:h,isProtected:p,observeIntersectionForLoading:m,observeIntersectionForPlaying:y,withTranslucentThumbs:b,sharedCanvasRef:v,sharedCanvasHqRef:_,cacheBuster:w,forcePlayback:A,noCustomEmojiPlayback:C,isInSelectMode:k,chatId:E,messageId:P,threadId:M,maxTimestamp:O}){if(!t?.length)return D({content:e,highlight:n,emojiSize:a,shouldRenderAsHtml:c,asPreview:h});const R=[];let j=!1;const U=function(e){const t=new Set,n=[];return e.forEach((r,o)=>{if(t.has(o))return;const i=N(r,o,e,t);i&&(i.organizedIndexes.forEach(e=>{t.add(e)}),n.push(i))}),n}(t);function z(t,R,N,U){const V=[],{entity:q,nestedEntities:H}=N,{offset:G,length:W,type:K}=q;let Y=e.substring(t,G);const J=Y.length;Y&&(j&&Y.length>0&&"\n"===Y[0]&&(Y=Y.substr(1),j=!1),Y&&V.push(...D({content:Y,highlight:n,emojiSize:a,shouldRenderAsHtml:c,asPreview:h})));const X=t+J,Z=X+W;let Q=e.substring(G,G+W);const ee=[];if(j&&Q.length>0&&"\n"===Q[0]&&(Q=Q.substr(1),j=!1),K===i.C7.Pre&&(j=!0),H.length){let e=X;H.forEach((t,n)=>{const{renderResult:r,entityEndIndex:o}=z(e,Z,t,n===H.length-1);ee.push(...r),e=o})}const te=c?function(e,t,n){const r="string"==typeof t?t:void 0,o=e.type===i.C7.Pre?t.trimEnd():t,s=n.length?n.join(""):(0,u.A)(o,["escape_html","emoji_html","br_html"]).join("");if(!r)return s;switch(e.type){case i.C7.Bold:return`<b>${s}</b>`;case i.C7.Italic:return`<i>${s}</i>`;case i.C7.Underline:return`<u>${s}</u>`;case i.C7.Code:return`<code class="text-entity-code">${s}</code>`;case i.C7.Pre:return`\`\`\`${(0,u.A)(e.language||"",["escape_html"])[0]}<br/>${s}<br/>\`\`\`<br/>`;case i.C7.Strike:return`<del>${s}</del>`;case i.C7.MentionName:return`<a\n        class="text-entity-link"\n        data-entity-type="${i.C7.MentionName}"\n        data-user-id="${e.userId}"\n        contenteditable="false"\n        dir="auto"\n      >${s}</a>`;case i.C7.Url:case i.C7.TextUrl:return`<a\n        class="text-entity-link"\n        href=${F(r,e)}\n        data-entity-type="${e.type}"\n        dir="auto"\n      >${s}</a>`;case i.C7.Spoiler:return`<span\n        class="spoiler"\n        data-entity-type="${i.C7.Spoiler}"\n        >${s}</span>`;case i.C7.CustomEmoji:return(0,l.Y5)(r,e);case i.C7.Blockquote:return`<blockquote\n        class="blockquote"\n        data-entity-type="${i.C7.Blockquote}"\n        >${s}</blockquote>`;default:return s}}(q,Q,ee):function({entity:e,entityContent:t,nestedEntityContent:n,highlight:a,containerId:c,asPreview:l,isProtected:u,observeIntersectionForLoading:f,observeIntersectionForPlaying:h,withTranslucentThumbs:p,emojiSize:m,sharedCanvasRef:y,sharedCanvasHqRef:b,cacheBuster:v,forcePlayback:_,noCustomEmojiPlayback:w,isInSelectMode:A,chatId:C,messageId:k,threadId:E,maxTimestamp:P}){const M="string"==typeof t&&t,O=n.length?n:t;function R(){return D({content:O,highlight:a,emojiSize:m,asPreview:l})}if(!M)return R();if(l){const t=R();return e.type===i.C7.Spoiler?r.Ay.createElement(T,null,t):e.type===i.C7.CustomEmoji?r.Ay.createElement(x.A,{key:v?`${v}-${e.offset}`:void 0,documentId:e.documentId,size:m,isSelectable:!0,withSharedAnimation:!0,sharedCanvasRef:y,sharedCanvasHqRef:b,observeIntersectionForLoading:f,observeIntersectionForPlaying:h,withTranslucentThumb:p,forceAlways:_,noPlay:w}):t}switch(e.type){case i.C7.Bold:return r.Ay.createElement("strong",{"data-entity-type":e.type},R());case i.C7.Blockquote:return r.Ay.createElement(g,{canBeCollapsible:e.canCollapse,isToggleDisabled:A},R());case i.C7.BotCommand:return r.Ay.createElement("a",{onClick:L,className:"text-entity-link",dir:"auto","data-entity-type":e.type},R());case i.C7.Hashtag:{const[n,o]=t.split("@");return r.Ay.createElement("a",{onClick:()=>B(n,o),className:"text-entity-link",dir:"auto","data-entity-type":e.type},R())}case i.C7.Cashtag:{const[n,o]=t.split("@");return r.Ay.createElement("a",{onClick:()=>B(n,o),className:"text-entity-link",dir:"auto","data-entity-type":e.type},R())}case i.C7.Code:return r.Ay.createElement("code",{className:(0,s.A)("text-entity-code","clickable"),onClick:$,role:"textbox",tabIndex:0,"data-entity-type":e.type},R());case i.C7.Email:return r.Ay.createElement("a",{href:`mailto:${M}`,target:"_blank",rel:"noopener noreferrer",className:"text-entity-link",dir:"auto","data-entity-type":e.type},R());case i.C7.Italic:return r.Ay.createElement("em",{"data-entity-type":e.type},R());case i.C7.MentionName:return r.Ay.createElement(d.A,{userId:e.userId},R());case i.C7.Mention:return r.Ay.createElement(d.A,{username:M},R());case i.C7.Phone:return r.Ay.createElement("a",{href:`tel:${M}`,className:"text-entity-link",dir:"auto","data-entity-type":e.type},R());case i.C7.Pre:return r.Ay.createElement(S,{text:M,language:e.language,noCopy:u});case i.C7.Strike:return r.Ay.createElement("del",{"data-entity-type":e.type},R());case i.C7.TextUrl:case i.C7.Url:return r.Ay.createElement(I.A,{url:F(M,e),text:M},R());case i.C7.Underline:return r.Ay.createElement("ins",{"data-entity-type":e.type},R());case i.C7.Timestamp:return!C||!k||!P||e.timestamp>P?R():r.Ay.createElement("a",{onClick:()=>function(e,t,n,r){(0,o.ko)().openMediaFromTimestamp({chatId:e,messageId:t,threadId:n,timestamp:r})}(C,k,E,e.timestamp),className:"text-entity-link",dir:"auto","data-entity-type":e.type},R());case i.C7.Spoiler:return r.Ay.createElement(T,{containerId:c},R());case i.C7.CustomEmoji:return r.Ay.createElement(x.A,{key:v?`${v}-${e.offset}`:void 0,documentId:e.documentId,size:m,isSelectable:!0,withSharedAnimation:!0,sharedCanvasRef:y,sharedCanvasHqRef:b,observeIntersectionForLoading:f,observeIntersectionForPlaying:h,withTranslucentThumb:p,forceAlways:_,noPlay:w});case i.C7.QuoteFocus:return r.Ay.createElement("span",{className:"matching-text-highlight is-quote"},R());default:return R()}}({entity:q,entityContent:Q,nestedEntityContent:ee,highlight:n,containerId:f,asPreview:h,isProtected:p,observeIntersectionForLoading:m,observeIntersectionForPlaying:y,withTranslucentThumbs:b,emojiSize:a,sharedCanvasRef:v,sharedCanvasHqRef:_,cacheBuster:w,forcePlayback:A,noCustomEmojiPlayback:C,isInSelectMode:k,chatId:E,messageId:P,threadId:M,maxTimestamp:O});if(Array.isArray(te)?V.push(...te):V.push(te),U&&Z<R){let t=e.substring(Z,R);j&&t.length>0&&"\n"===t[0]&&(t=t.substring(1)),t&&V.push(...D({content:t,highlight:n,emojiSize:a,shouldRenderAsHtml:c,asPreview:h}))}return{renderResult:V,entityEndIndex:Z}}let V=0;return U.forEach((t,n)=>{const{renderResult:r,entityEndIndex:o}=z(V,e.length,t,n===U.length-1);R.push(...r),V=o}),R}function O(e){const{text:t,entities:n}=e||{};if(!t)return"";const r=M({text:t,entities:n,shouldRenderAsHtml:!0});return Array.isArray(r)?r.join(""):r}function D({content:e,highlight:t,focusedQuote:n,emojiSize:r,shouldRenderAsHtml:o,asPreview:i}){if(Array.isArray(e)){const s=[];return e.forEach(e=>{s.push(...D({content:e,highlight:t,focusedQuote:n,emojiSize:r,shouldRenderAsHtml:o,asPreview:i}))}),s}if(o)return(0,u.A)(e,["escape_html","emoji_html","br_html"]);const s=[r&&r>P?"hq_emoji":"emoji"],a={};return i||s.push("br"),t&&(s.push("highlight"),a.highlight=t),(0,u.A)(e,s,a)}function R(e,t){const n=[],r=t.offset,o=t.offset+t.length;for(const i of e){const e=i.offset,s=i.offset+i.length;s<=r||e>o||e>r&&s<o||e===r&&s===o?n.push(i):(e<r&&s>r&&(n.push({...i,length:r-e}),n.push({...i,offset:r,length:s-r})),e<o&&s>o&&(n.push({...i,offset:o,length:s-r-t.length}),n.push({...i,length:o-e})))}return n.push(t),n.sort((e,t)=>e.offset-t.offset||t.length-e.length)}function N(e,t,n,r){const{offset:o,length:i}=e,s=new Set([t]);if(r.has(t))return;const a=[];return n.filter((e,n)=>n>t&&e.offset>=o&&e.offset<o+i).map(e=>N(e,n.indexOf(e),n,r)).filter(Boolean).forEach(e=>{let t=!1;e.organizedIndexes.forEach(e=>{t||s.has(e)||(t=!0),s.add(e)}),t&&a.push(e)}),{entity:e,organizedIndexes:s,nestedEntities:a}}function F(e,t){const{type:n}=t;return n===i.C7.TextUrl&&t.url?t.url:e}function L(e){(0,o.ko)().sendBotCommand({command:e.currentTarget.innerText})}function B(e,t){e&&(t?(0,o.ko)().openChatByUsername({username:t,onChatChanged:{action:"searchHashtag",payload:{hashtag:e}}}):(0,o.ko)().searchHashtag({hashtag:e}))}function $(e){(0,a.eM)(e.currentTarget.innerText),(0,o.ko)().showNotification({message:(0,c.yE)("TextCopied")})}},18653:(e,t,n)=>{"use strict";n.d(t,{A:()=>h});var r=n(84051),o=n(13439),i=n(90709),s=n(3544),a=n(60919),c=n(58849),l=n(4961),u=n(59030),d=n(96773),f=n(74936);const h=(0,r.ph)((0,o.EK)((e,{message:t})=>{const n=(0,a.zcZ)(e,t),r=t.content.storyData;return{poll:n,story:r&&(0,a.Msb)(e,r.peerId,r.id)}})(function({message:e,translatedText:t,noEmoji:n=!1,highlight:o,truncateLength:a=s.vs,withTranslucentThumbs:h=!1,inChatList:p=!1,emojiSize:g,poll:m,story:y,observeIntersectionForLoading:b,observeIntersectionForPlaying:v}){const _=(0,u.A)(),w=(0,i.Sb)(e,p),S=Boolean((0,i.cs)(e)),x=(0,i._P)(e),I=(0,i.FE)({poll:m,story:y});if(!w&&!S&&!x){const i=t?.text||(0,s.dS)(_,e,I,n,a),u=(0,c.A)(i,a);return r.Ay.createElement("span",null,o?(0,l.A)(u,["emoji","highlight"],{highlight:o}):(0,l.A)(u))}const A=!n&&(0,s.Su)(e);return r.Ay.createElement(r.Ay.Fragment,null,[A?(0,l.A)(`${A} `):void 0,(0,s.oL)(_,e,I,x?r.Ay.createElement(d.A,{message:e,asPreview:!0}):r.Ay.createElement(f.A,{messageOrStory:e,translatedText:t,highlight:o,asPreview:!0,observeIntersectionForLoading:b,observeIntersectionForPlaying:v,withTranslucentThumbs:h,truncateLength:a,inChatList:p,emojiSize:g}))].flat().filter(Boolean))}))},18826:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(89379);const o=(0,r.A)((0,r.A)({},{yearFormat:"YYYY",dayFormat:"D",cellMeridiemFormat:"A",monthBeforeYear:!0}),{},{locale:"en_US",today:"Today",now:"Now",backToToday:"Back to today",ok:"OK",clear:"Clear",week:"Week",month:"Month",year:"Year",timeSelect:"select time",dateSelect:"select date",weekSelect:"Choose a week",monthSelect:"Choose a month",yearSelect:"Choose a year",decadeSelect:"Choose a decade",dateFormat:"M/D/YYYY",dateTimeFormat:"M/D/YYYY HH:mm:ss",previousMonth:"Previous month (PageUp)",nextMonth:"Next month (PageDown)",previousYear:"Last year (Control + left)",nextYear:"Next year (Control + right)",previousDecade:"Last decade",nextDecade:"Next decade",previousCentury:"Last century",nextCentury:"Next century"});var i=n(65341);const s={lang:Object.assign({placeholder:"Select date",yearPlaceholder:"Select year",quarterPlaceholder:"Select quarter",monthPlaceholder:"Select month",weekPlaceholder:"Select week",rangePlaceholder:["Start date","End date"],rangeYearPlaceholder:["Start year","End year"],rangeQuarterPlaceholder:["Start quarter","End quarter"],rangeMonthPlaceholder:["Start month","End month"],rangeWeekPlaceholder:["Start week","End week"]},o),timePickerLocale:Object.assign({},i.A)}},18877:(e,t,n)=>{"use strict";n.d(t,{_n:()=>i,rJ:()=>s});var r=n(96540);function o(){}n(68210);const i=r.createContext({}),s=()=>{const e=()=>{};return e.deprecated=o,e}},19021:function(e,t,n){var r;e.exports=(r=r||function(e){var t;if("undefined"!=typeof window&&window.crypto&&(t=window.crypto),"undefined"!=typeof self&&self.crypto&&(t=self.crypto),"undefined"!=typeof globalThis&&globalThis.crypto&&(t=globalThis.crypto),!t&&"undefined"!=typeof window&&window.msCrypto&&(t=window.msCrypto),!t&&void 0!==n.g&&n.g.crypto&&(t=n.g.crypto),!t)try{t=n(50477)}catch(e){}var r=function(){if(t){if("function"==typeof t.getRandomValues)try{return t.getRandomValues(new Uint32Array(1))[0]}catch(e){}if("function"==typeof t.randomBytes)try{return t.randomBytes(4).readInt32LE()}catch(e){}}throw new Error("Native crypto module could not be used to get secure random number.")},o=Object.create||function(){function e(){}return function(t){var n;return e.prototype=t,n=new e,e.prototype=null,n}}(),i={},s=i.lib={},a=s.Base={extend:function(e){var t=o(this);return e&&t.mixIn(e),t.hasOwnProperty("init")&&this.init!==t.init||(t.init=function(){t.$super.init.apply(this,arguments)}),t.init.prototype=t,t.$super=this,t},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}},c=s.WordArray=a.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=null!=t?t:4*e.length},toString:function(e){return(e||u).stringify(this)},concat:function(e){var t=this.words,n=e.words,r=this.sigBytes,o=e.sigBytes;if(this.clamp(),r%4)for(var i=0;i<o;i++){var s=n[i>>>2]>>>24-i%4*8&255;t[r+i>>>2]|=s<<24-(r+i)%4*8}else for(var a=0;a<o;a+=4)t[r+a>>>2]=n[a>>>2];return this.sigBytes+=o,this},clamp:function(){var t=this.words,n=this.sigBytes;t[n>>>2]&=4294967295<<32-n%4*8,t.length=e.ceil(n/4)},clone:function(){var e=a.clone.call(this);return e.words=this.words.slice(0),e},random:function(e){for(var t=[],n=0;n<e;n+=4)t.push(r());return new c.init(t,e)}}),l=i.enc={},u=l.Hex={stringify:function(e){for(var t=e.words,n=e.sigBytes,r=[],o=0;o<n;o++){var i=t[o>>>2]>>>24-o%4*8&255;r.push((i>>>4).toString(16)),r.push((15&i).toString(16))}return r.join("")},parse:function(e){for(var t=e.length,n=[],r=0;r<t;r+=2)n[r>>>3]|=parseInt(e.substr(r,2),16)<<24-r%8*4;return new c.init(n,t/2)}},d=l.Latin1={stringify:function(e){for(var t=e.words,n=e.sigBytes,r=[],o=0;o<n;o++){var i=t[o>>>2]>>>24-o%4*8&255;r.push(String.fromCharCode(i))}return r.join("")},parse:function(e){for(var t=e.length,n=[],r=0;r<t;r++)n[r>>>2]|=(255&e.charCodeAt(r))<<24-r%4*8;return new c.init(n,t)}},f=l.Utf8={stringify:function(e){try{return decodeURIComponent(escape(d.stringify(e)))}catch(e){throw new Error("Malformed UTF-8 data")}},parse:function(e){return d.parse(unescape(encodeURIComponent(e)))}},h=s.BufferedBlockAlgorithm=a.extend({reset:function(){this._data=new c.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=f.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(t){var n,r=this._data,o=r.words,i=r.sigBytes,s=this.blockSize,a=i/(4*s),l=(a=t?e.ceil(a):e.max((0|a)-this._minBufferSize,0))*s,u=e.min(4*l,i);if(l){for(var d=0;d<l;d+=s)this._doProcessBlock(o,d);n=o.splice(0,l),r.sigBytes-=u}return new c.init(n,u)},clone:function(){var e=a.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0}),p=(s.Hasher=h.extend({cfg:a.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){h.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(e){return function(t,n){return new e.init(n).finalize(t)}},_createHmacHelper:function(e){return function(t,n){return new p.HMAC.init(e,n).finalize(t)}}}),i.algo={});return i}(Math),r)},19129:(e,t,n)=>{"use strict";n.d(t,{A:()=>c});var r=n(84051),o=n(30857),i=n(5718),s=n(41257),a=n(35297);const c=function(e,t,n=!1){const c=t?e:()=>e();t??(t=[e]);const l=(0,r.li)(),u=(0,o.A)(),d=(0,s.i)(c);function f(e=!1){const t=d.current;if(n)t(e=>{l.current!==e&&(l.current=e,u())});else{const n=t();l.current!==n&&(l.current=n,e||u())}}return(0,a.A)(()=>{f(!0)},t),(0,i.R)(f,t),l.current}},19155:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(96540),o=n(60685),i=n(83480);const s=(e,t)=>{const n=r.useContext(o.A);return[r.useMemo(()=>{var r;const o=t||i.A[e],s=null!==(r=null==n?void 0:n[e])&&void 0!==r?r:{};return Object.assign(Object.assign({},"function"==typeof o?o():o),s||{})},[e,t,n]),r.useMemo(()=>{const e=null==n?void 0:n.locale;return(null==n?void 0:n.exist)&&!e?i.A.locale:e},[n])]}},19314:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});const r=new WeakMap;function o(e){return(...t)=>{let n=r.get(e);const o=t.map(String).join("_");if(n){const e=n.get(o);if(e)return e}else n=new Map,r.set(e,n);const i=e(...t);return n.set(o,i),i}}},19408:(e,t,n)=>{"use strict";n.d(t,{$j:()=>E,C5:()=>k,DB:()=>ye,DI:()=>it,D_:()=>Ne,EH:()=>Ee,Eg:()=>Me,G6:()=>ut,GA:()=>z,H1:()=>De,H_:()=>Ge,Hd:()=>ce,Jb:()=>re,Ji:()=>M,Jl:()=>Z,K3:()=>N,KL:()=>ee,KQ:()=>ue,LM:()=>ae,L_:()=>ve,Lz:()=>P,N1:()=>Q,NH:()=>Je,O5:()=>X,OE:()=>ct,PI:()=>Xe,Pn:()=>he,QP:()=>be,Qb:()=>W,R4:()=>we,RB:()=>Ze,Rj:()=>Te,Rn:()=>tt,S1:()=>Qe,S8:()=>st,SL:()=>Fe,Sp:()=>se,Sz:()=>le,T:()=>K,Tl:()=>oe,U0:()=>$,VC:()=>Re,Vl:()=>j,Vw:()=>q,Vz:()=>ot,WA:()=>Se,Xf:()=>S,Y7:()=>ie,Y8:()=>He,Ys:()=>B,ZZ:()=>Le,a_:()=>nt,cO:()=>Ye,dU:()=>H,dk:()=>U,fc:()=>R,fo:()=>Y,gC:()=>T,gM:()=>lt,h:()=>J,iL:()=>rt,j_:()=>F,jp:()=>G,jy:()=>xe,k9:()=>pe,kd:()=>te,kg:()=>fe,lC:()=>et,ld:()=>ke,mD:()=>Ie,me:()=>x,nJ:()=>ne,nT:()=>Ke,nk:()=>ge,o4:()=>qe,or:()=>Ae,p5:()=>Pe,rA:()=>D,rK:()=>L,rQ:()=>V,rT:()=>Oe,ry:()=>Ve,sZ:()=>at,tO:()=>_e,tV:()=>Be,v8:()=>We,vR:()=>O,ww:()=>$e,xz:()=>Ue,yF:()=>A,yn:()=>ze,yu:()=>Ce,zc:()=>de,ze:()=>I});var r=n(23174),o=n(31481),i=n(96454),s=n(9716),a=n(14487),c=n(87894),l=n(60343),u=n(79824),d=n(80140),f=n(91525),h=n(90709),p=n(26129),g=n(21133),m=n(46211),y=n(1903),b=n(30163),v=n(5056),_=n(88368),w=n(19926);function S(e,...[t=(0,a.g0)()]){const{messageLists:n}=(0,v.n)(e,t);if(n.length)return n[n.length-1]}function x(e,...[t=(0,a.g0)()]){const{chatId:n}=S(e,t)||{};return n?(0,g.hd)(e,n):void 0}function I(e,t){return e.messages.byChatId[t]?.byId}function A(e,t){return e.scheduledMessages.byChatId[t]?.byId}function C(e,t,n,r,...[o=(0,a.g0)()]){return(0,v.n)(e,o).tabThreads[t]?.[n]?.[r]}function k(e,t,n,r){return E(e,t,n)?.[r]}function E(e,t,n){const r=e.messages.byChatId[t];if(!r)return;return r.threadsById[n]||void 0}function T(e,t,n){return k(e,t,n,"listedIds")}function P(e,t,n,r){const o=M(e,t,n);if(o)return o.find(e=>e[0]<=r&&e[e.length-1]>=r)}function M(e,t,n){return k(e,t,n,"outlyingLists")}function O(e,t,n,r,...[o=(0,a.g0)()]){switch(r){case"thread":return D(e,t,n,o);case"pinned":return R(e,t,n);case"scheduled":return N(e,t,n)}}function D(e,t,n,...[r=(0,a.g0)()]){return C(e,t,n,"viewportIds",r)}function R(e,t,n){return k(e,t,n,"pinnedIds")}function N(e,t,n){return k(e,t,n,"scheduledIds")}function F(e,t,n,...[r=(0,a.g0)()]){return C(e,t,n,"scrollOffset",r)}function L(e,t,n){return k(e,t,n,"lastScrollOffset")}function B(e,t,n){return k(e,t,n,"editingId")}function $(e,t,n){return k(e,t,n,"editingDraft")}function j(e,t){return k(e,t,r.l3,"editingScheduledId")}function U(e,t){return k(e,t,r.l3,"editingScheduledDraft")}function z(e,t,n){return k(e,t,n,"draft")}function V(e,t,n){return k(e,t,n,"noWebPage")}function q(e,t,n){return k(e,t,n,"threadInfo")}function H(e,t,n){return k(e,t,n,"firstMessageId")}function G(e,t,n,...[r=(0,a.g0)()]){return C(e,t,n,"replyStack",r)}function W(e,t,n){const r=(0,g.hd)(e,t),i=q(e,t,n);if(r&&i&&void 0!==i.messagesCount)return r.isForum&&n!==o.HxB?i.messagesCount-1:i.messagesCount}function K(e,t){const n=ve(e,t);if(n&&n!==r.l3)return e.messages.byChatId[t.chatId].threadsById[n]}function Y(e,t,n,...[o=(0,a.g0)()]){const i=S(e,o);if(!i)return!1;const{threadInfo:s}=K(e,n)||{};return t===i.chatId&&(i.threadId===r.l3||s&&i.threadId===s.threadId)}function J(e,t,n,...[o=(0,a.g0)()]){const i=D(e,t,n,o);if(!i||!i.length)return!0;const s=(0,h.cG)(t,n,e.currentUserId);let c;if(n===r.l3){const n=(0,g.ZZ)(e,t);if(!n)return!0;c=n}else if(s){const t=(0,g.ZZ)(e,String(n),"saved");if(!t)return!0;c=t}else{const r=q(e,t,n);if(r&&r.lastMessageId)c=r.lastMessageId;else{if(!r?.threadId)return;c=Number(r?.threadId)}}return!(!(0,l.iL)(c)||X(e,t,c))||i[i.length-1]>=c}function X(e,t,n){const r=I(e,t);return r?r[n]:void 0}function Z(e,t,n){const r=A(e,t);return r?r[n]:void 0}function Q(e,t){return e.quickReplies.messagesById[t]}function ee(e,t,n,r){if("scheduled"===r){const n=j(e,t);return n?Z(e,t,n):void 0}{const r=B(e,t,n);return r?X(e,t,r):void 0}}function te(e,t,...[n=(0,a.g0)()]){const{chatId:r,messageId:o}=(0,v.n)(e,n).focusedMessage||{};return r===t?o:void 0}function ne(e,t,n,...[r=(0,a.g0)()]){const o=te(e,t.chatId,r),i=(0,v.n)(e,r).focusedMessage?.threadId;return n===i&&!!o&&(o===t.id||o===t.previousLocalId)}function re(e,t){const{lastReadOutboxMessageId:n}=(0,g.hd)(e,t.chatId)||{};return(0,h.Nb)(t)||!n||n<t.id}function oe(e,t,n=!1){return re(e,t)||n?(0,h._I)(t):"read"}function ie(e,t){const{senderId:n}=t,r=(0,g.hd)(e,t.chatId),o=(0,w.mB)(e,e.currentUserId);return n?r&&(0,h.WX)(r)&&!r.areProfilesShown?r:(0,m.PV)(e,n):t.isOutgoing?o:r}function se(e,t,n){return n.map(n=>{const r=X(e,t,n);return r&&ie(e,r)}).filter(Boolean)}function ae(e,t,n){const r=X(e,t,n);return r&&ie(e,r)}function ce(e,t){const{fromId:n}=t;if(n)return(0,m.PV)(e,n)}function le(e,t){if(Boolean(t.content.storyData)){const n=t.content.storyData.peerId;return(0,m.PV)(e,n)}const{forwardInfo:n}=t;if(n){if(n.isChannelPost&&n.fromChatId)return(0,g.hd)(e,n.fromChatId);if(!n.hiddenUserName)return n.fromId?(0,m.PV)(e,n.fromId):n.savedFromPeerId?(0,m.PV)(e,n.savedFromPeerId):void 0}}function ue(e,t){return e.messages.pollById[t]}function de(e,t){if(t.content.pollId)return ue(e,t.content.pollId)}function fe(e,t){return e.messages.webPageById[t]}function he(e,t){if(t.content.webPage)return fe(e,t.content.webPage.id)}function pe(e,t){if(t.content.webPage)return function(e,t){const n=fe(e,t);if(n&&"full"===n.webpageType)return n}(e,t.content.webPage.id)}function ge(e,t){const{chatId:n}=t,r=(0,g.hd)(e,n);if(!r?.isForum)return;const o=ve(e,t);return(0,_.S0)(e,n,o)}const me=10;function ye(e,t,n){const r=(0,g.hd)(e,t);return!!r&&n!==o.HxB&&(r.isCreator||(0,h.ub)(r,"deleteMessages")||r.isForum&&function(e,t,n){const r=(0,_.S0)(e,t,n);if(r&&!r.isOwner)return!1;const o=E(e,t,n);if(!o)return!1;const{listedIds:i}=o;return!(!i||i.length+1>=me||i.some(n=>{const r=X(e,t,n);return!r||!r.isOutgoing}))}(e,r.id,n))}function be(e,t){const{chatId:n,senderId:r,forwardInfo:i,savedPeerId:s}=t;return s||(n===e.currentUserId?i?.savedFromPeerId?i.savedFromPeerId:i?.fromId?i.fromId:i?.hiddenUserName?o.Ckz:r:void 0)}function ve(e,t){const n=be(e,t);if(n)return n;const i=(0,g.hd)(e,t.chatId),{content:s}=t,{replyToMsgId:a,replyToTopId:c,isForumTopic:l}=(0,p.Q)(t)||{};return"topicCreate"===s.action?.type?t.id:i?.isForum?l&&(c||a)||o.HxB:i&&(0,h.yn)(i)?r.l3:i&&(0,h.Vs)(i)&&(c||a)||r.l3}function _e(e,t,n){const r=(0,g.hd)(e,t.chatId),o=(0,g._l)(e,t.chatId);if(!r||o||r.isForbidden)return!1;const i=(0,h.Nb)(t),s=(0,h.u7)(t);if(i||s)return!1;const a=q(e,t.chatId,n),c=Boolean(!a?.isCommentsInfo&&a?.fromChannelId),l=(0,g.AW)(e,r.id),u=(0,_.S0)(e,r.id,n);if(!(0,h.__)(r,u,c,l))return!1;const d=ge(e,t);return!d||!d.isClosed||d.isOwner||(0,h.ub)(r,"manageTopics")}function we(e,t){const n=(0,h.Nb)(t),r=(0,h.u7)(t),o=(0,h._P)(t),i=(0,h.G5)(t),{content:s}=t,a=pe(e,t),c=s.storyData?(0,y.Ms)(e,s.storyData.peerId,s.storyData.id):a?.story?(0,y.Ms)(e,a.story.peerId,a.story.id):void 0,l=Ve(e,t.chatId),u=c&&("isDeleted"in c||"noForwards"in c&&c.noForwards);return!n&&!o&&!l&&!u&&(t.isForwardingAllowed||r)&&!i}function Se(e,t,n){const r=(0,g.hd)(e,t.chatId),o=(0,g._l)(e,t.chatId);if(!r||o)return{};const i=(0,s.L8)(r.id),a=(0,g.nZ)(e,t.chatId),c=(0,h.yn)(r),l=(0,h.Vs)(r),u=(0,h.WX)(r),f=Boolean((0,w.yp)(e,r.id)),p=(0,h.Nb)(t),m=(0,h.HN)(t),y=(0,h.u7)(t),v=(0,h.Ie)(t),_=(0,h.Ak)(t),S=(0,h._P)(t),x=(0,h.G5)(t),{content:I}=t,A=(0,h.Ax)(t),C="boostApply"===t.content.action?.type,k=r.isMonoforum,E=pe(e,t),T=r.isCreator||!u&&!(0,h.Sq)(r,"pinMessages")||(0,h.ub)(r,"pinMessages"),P=i||T,M=(!!I.todo||(i?a:!c&&(l?T:!!u&&(r.isCreator||(0,h.ub)(r,"editMessages"))))||(0,d.Fm)()-t.date<(e.config?.editTimeLimit||1/0))&&!(I.sticker||I.contact||I.pollId||I.action||I.video?.isRound||I.location||I.invoice||I.giveaway||I.giveawayResults||A)&&!_&&!t.viaBotId&&!r.isForbidden,O=(0,h.cG)(r.id,n,e.currentUserId),D=_e(e,t,n),N=D||!O&&!p&&!y&&(l||c||(0,h.WX)(r));let F=!p&&!y&&!S&&P&&!O,L=!1;const B=R(e,r.id,n);F&&(L=Boolean(B&&B.includes(t.id)),F=!L);const $=C&&v&&!r.isCreator&&!(0,h.ub)(r,"deleteMessages"),j=(!p||m)&&!y&&!$&&(i||v||c||r.isCreator||(0,h.ub)(r,"deleteMessages")),U=!i&&!v,z=j&&!r.isForbidden&&(i&&!a&&!f||c&&(v||(0,h.ub)(r,"deleteMessages")||r.isCreator)),V=v||u&&(r.isCreator||(0,h.ub)(r,"editMessages")),q=!p&&!S&&M&&V,H=Boolean(t.content.sticker),G=H&&(0,b.Ij)(e,t.content.sticker),W=!S&&H&&!G,K=!S&&G,Y=!S,J=!p&&!S&&(u||l)&&!k,X=!p&&!S,Z=Boolean(E?.document||E?.video||E?.photo||I.audio||I.voice||I.photo||I.video||I.document||I.sticker)&&!x,Q=t.content.video?.isGif,ee=I.pollId?ue(e,I.pollId):void 0,te=!ee?.summary.closed&&!ee?.summary.quiz&&ee?.results.results?.some(e=>e.isChosen),ne=V&&ee&&!ee.summary.closed&&!_;return{noOptions:[D,N,q,F,L,U,j,z,W,K,Y,J,X,Z,Q,te,ne].every(e=>!e),canReply:D,canReplyGlobally:N,canEdit:q,canPin:F,canUnpin:L,canReport:U,canDelete:j,canDeleteForAll:z,canFaveSticker:W,canUnfaveSticker:K,canCopy:Y,canCopyLink:J,canSelect:X,canDownload:Z,canSaveGif:Q,canRevote:te,canClosePoll:ne}}function xe(e,t,...[n=(0,a.g0)()]){const{messageIds:r}=(0,v.n)(e,n).selectedMessages||{},{chatId:i,threadId:s}=S(e,n)||{},c=t?.length?t:r;return i&&s&&c?function(e,t,n,r){const i=I(e,t);if(r.length>o.map)return{};const s=r.map(t=>i[t]&&Se(e,i[t],n)).filter(Boolean);return{canDelete:s.every(e=>e.canDelete),canDeleteForAll:s.every(e=>e.canDeleteForAll)}}(e,i,s,c):{}}function Ie(e,...[t=(0,a.g0)()]){const{messageIds:n}=(0,v.n)(e,t).selectedMessages||{},{chatId:r,threadId:o}=S(e,t)||{},i=r&&I(e,r);return!!(i&&n&&o)&&n.map(t=>i[t]&&Se(e,i[t],o)).filter(Boolean).every(e=>e.canReport)}function Ae(e,...[t=(0,a.g0)()]){const{messageIds:n}=(0,v.n)(e,t).selectedMessages||{},{chatId:r,threadId:o}=S(e,t)||{},i=r&&I(e,r);return!!(i&&n&&o)&&n.map(t=>i[t]&&Se(e,i[t],o)).filter(Boolean).some(e=>e.canDownload)}function Ce(e,...[t=(0,a.g0)()]){return(0,v.n)(e,t).activeDownloads}function ke(e,t){return e.fileUploads.byMessageKey[(0,l.bj)(t)]?.progress}function Ee(e,t,n){if(n===r.l3){const n=(0,g.hd)(e,t);if(!n)return;if(!n.lastReadInboxMessageId)return;const r=(0,g.ZZ)(e,t);return!r||n.unreadCount?n.lastReadInboxMessageId:r}{const r=q(e,t,n);if(!r)return;return r.lastReadInboxMessageId?Math.min(r.lastReadInboxMessageId,r.lastMessageId||1/0):Number(r.threadId)}}function Te(e,t,n){const i=(0,g.hd)(e,t);if(n===r.l3){if(!i)return}else{const r=q(e,t,n);if(!r||void 0!==r.lastMessageId&&r.lastMessageId===r.lastReadInboxMessageId)return}const s=M(e,t,n),a=T(e,t,n),c=I(e,t);if(!c||!s?.length&&!a)return;const l=Ee(e,t,n);if(!l&&i&&i.isNotJoined)return;const u=t===o.zv8?e.serviceNotifications.reduce((e,t)=>!t.isUnread&&t.id>e?t.id:e,-1):-1;function d(e){return e.find(e=>(!l||e>l)&&c[e]&&(!c[e].isOutgoing||c[e].isFromScheduled)&&e>u)}if(s?.length){const e=s.map(e=>d(e)).filter(Boolean)[0];if(e)return e}if(a){const e=d(a);if(e)return e}}function Pe(e,...[t=(0,a.g0)()]){const{isShareMessageModalShown:n}=(0,v.n)(e,t);return Boolean(n)}function Me(e,t){const n=Object.values(e.chats.byId).find(n=>(0,h.VN)(n)&&(0,g.ZZ)(e,n.id)===t);if(n)return n.id;const{byChatId:r}=e.messages;return Object.keys(r).find(n=>{const o=(0,g.hd)(e,n);return o&&(0,h.VN)(o)&&r[o.id].byId[t]})}function Oe(e,...[t=(0,a.g0)()]){const{selectedMessages:n}=(0,v.n)(e,t);return Boolean(n)}function De(e,t,...[n=(0,a.g0)()]){const{messageIds:r}=(0,v.n)(e,n).selectedMessages||{};return!!r&&r.includes(t)}function Re(e,t,n){const r=I(e,t);if(r)return Object.values(r).filter(e=>e.groupedId===n&&e.forwardInfo).map(({forwardInfo:e})=>e.fromMessageId)}function Ne(e,t,n){const r=I(e,t);if(r)return Object.keys(r).map(Number).filter(e=>r[e].groupedId===n)}function Fe(e,t,n,...[r=(0,a.g0)()]){const{messageIds:o}=(0,v.n)(e,r).selectedMessages||{};if(!o)return!1;const i=Ne(e,t,n);return i&&i.every(e=>o.includes(e))}function Le(e,...[t=(0,a.g0)()]){const{messageIds:n}=(0,v.n)(e,t).selectedMessages||{};return n?n.length:0}function Be(e,t,n=r.l3,...[o=(0,a.g0)()]){if(!(0,g.hd)(e,t))return;const i=I(e,t),s=D(e,t,n,o);if(!i||!s)return;const l=(0,c.Uk)(s,t=>{const n=i[t];return n&&function(e,t){const{keyboardButtons:n,shouldHideKeyboardButtons:r,isKeyboardSelective:o,isMentioned:i}=t;if(!n||r)return!1;const s=(0,p.Q)(t)?.replyToMsgId;if(o){if(i)return!0;if(!s)return!1;const n=X(e,t.chatId,s);return Boolean(n?.senderId===e.currentUserId)}return!0}(e,n)}),u=(0,c.Uk)(s,t=>{const n=i[t];return n&&function(e,t){const{shouldHideKeyboardButtons:n,isHideKeyboardSelective:r,isMentioned:o}=t;if(!n)return!1;const i=(0,p.Q)(t)?.replyToMsgId;if(r){if(o)return!0;if(!i)return!1;const n=X(e,t.chatId,i);return Boolean(n?.senderId===e.currentUserId)}return!0}(e,n)});return l&&u&&u>l?void 0:l?i[l]:void 0}function $e(e,t){const n=(0,g.hd)(e,t.chatId);if(!n)return;const r="id"in t?ie(e,t):void 0,o=he(e,t),i=Boolean((0,h.yl)(t)||(0,h.eY)(o)),s=Boolean((0,h.zX)(t)||(0,h.rU)(o)),a=Boolean((0,h.wp)(t)||(0,h.gB)(t)||(0,h.zC)(t)),{canAutoLoadPhotoFromContacts:c,canAutoLoadPhotoInPrivateChats:l,canAutoLoadPhotoInGroups:u,canAutoLoadPhotoInChannels:d,canAutoLoadVideoFromContacts:f,canAutoLoadVideoInPrivateChats:p,canAutoLoadVideoInGroups:m,canAutoLoadVideoInChannels:y,canAutoLoadFileFromContacts:b,canAutoLoadFileInPrivateChats:v,canAutoLoadFileInGroups:_,canAutoLoadFileInChannels:w}=e.settings.byKey;return i?je({global:e,chat:n,sender:r,canAutoLoadMediaFromContacts:c,canAutoLoadMediaInPrivateChats:l,canAutoLoadMediaInGroups:u,canAutoLoadMediaInChannels:d}):s?je({global:e,chat:n,sender:r,canAutoLoadMediaFromContacts:f,canAutoLoadMediaInPrivateChats:p,canAutoLoadMediaInGroups:m,canAutoLoadMediaInChannels:y}):!a||je({global:e,chat:n,sender:r,canAutoLoadMediaFromContacts:b,canAutoLoadMediaInPrivateChats:v,canAutoLoadMediaInGroups:_,canAutoLoadMediaInChannels:w})}function je({global:e,chat:t,sender:n,canAutoLoadMediaFromContacts:r,canAutoLoadMediaInPrivateChats:o,canAutoLoadMediaInGroups:i,canAutoLoadMediaInChannels:a}){const c=Boolean(n&&((0,g.nZ)(e,n.id)||(0,w.mB)(e,n.id)?.isContact));return Boolean(c&&r||!c&&o&&(0,s.L8)(t.id)||i&&(0,h.YE)(t)||a&&(0,h.WX)(t))}function Ue(e){const{serviceNotifications:t}=e,n=Math.max(...t.map(({id:e})=>e));return t.find(({id:e,isDeleted:t})=>!t&&e===n)}function ze(e,t){return Boolean(t&&(t.isProtected||Ve(e,t.chatId)||(0,h.G5)(t)||(0,h.qG)(t)))}function Ve(e,t){return(0,g.hd)(e,t)?.isProtected||!1}function qe(e,t,n){if((0,g.hd)(e,t)?.isProtected)return!0;if(!n)return!1;const r=I(e,t);return n.some(e=>r[e]?.isProtected)}function He(e,t,n){if((0,g.hd)(e,t)?.isProtected)return!1;if(!n)return!1;const r=I(e,t);return n.map(e=>r[e]).every(e=>e&&!(0,h.G5)(e)&&(e.isForwardingAllowed||(0,h.u7)(e)))}function Ge(e,t,n){const r=I(e,t);return n.map(e=>r[e]).some(e=>{if(!e)return!1;const t=(0,h.zC)(e);if(!t)return!1;const n=(0,f.rK)(t);return!!n&&o.c59.has(n)})}function We(e,t){const n=e.messages.sponsoredByChatId[t];return n&&n.expiresAt>=Math.round(Date.now()/1e3)?n:void 0}function Ke(e,t){if(t===o.zv8)return;const n=(0,s.L8)(t),r=e.config?.defaultReaction;if(!r)return;if(n)return r;const i=(0,g.AW)(e,t)?.enabledReactions;return i&&(0,h.A3)(r,i)?r:void 0}function Ye(e){const t=(0,w.g2)(e),{maxUserReactionsPremium:n=3,maxUserReactionsDefault:r=1}=e.appConfig||{};return t?n:r}function Je(e,...[t=(0,a.g0)()]){const{chatId:n,threadId:r}=S(e,t)||{};if(!n||!r)return;const o=C(e,n,r,"viewportIds",t);return o?o.map(t=>{const{senderId:r}=X(e,n,t)||{};return r?(0,w.mB)(e,r):void 0}).filter(Boolean):void 0}function Xe(e,...[t=(0,a.g0)()]){return"scheduled"===S(e,t)?.type}function Ze(e,t){const n=(0,g.nZ)(e,t),r=(0,w.yp)(e,t),o=(0,m.WA)(e,t);return Boolean(!o&&!n&&!r&&(0,s.L8)(t)&&(0,w.K0)(e,t)?.wasOnline)}function Qe(e,t){const n=function(e){const t=e.content.text?.entities;return t?.filter(e=>e.type===r.C7.CustomEmoji)}(t);if(!n)return u.p;const o=n.map(t=>e.customEmojis.byId[t.documentId]);return o.every(Boolean)?o.map(e=>e.stickerSetInfo).reduce((e,t)=>("shortName"in t&&e.some(e=>"shortName"in e&&e.shortName===t.shortName)||"id"in t&&e.some(e=>"id"in e&&e.id===t.id)||e.push(t),e),[]):void 0}function et(e,...[t=(0,a.g0)()]){const{messageIds:n,fromChatId:r}=(0,v.n)(e,t).forwardMessages;if(!n)return!1;const o=I(e,r);return n.some(e=>{const t=o[e];return Boolean(t.content.voice)||Boolean(t.content.video?.isRound)})}function tt(e,t){return e.translations.byChatId[t]}function nt(e,t,n){return tt(e,t)?.byLangCode[n]||{}}function rt(e,t,n,...[r=(0,a.g0)()]){const o=(0,v.n)(e,r).requestedTranslations.byChatId[t];return o?.toLanguage||o?.manualMessages?.[n]}function ot(e,t,n,r){if(!r.replyToMsgId)return!1;const o=r?.replyToPeerId??n;if(t===o)return!0;const i=I(e,o)[r.replyToMsgId];return!(0,h.r$)(i)}function it(e,t,...[n=(0,a.g0)()]){const{messageIds:r,storyId:o,fromChatId:i}=(0,v.n)(e,n).forwardMessages,s=(0,g.hd)(e,t);if(!r&&!o||!s)return!1;if(o)return!0;const c=(0,g.AW)(e,t),l=I(e,i),u=t?(0,g.nZ)(e,t):void 0,d=t?(0,g.AL)(e,s):void 0,f=(0,h.Q_)(s,c,d,u);return!r.some(e=>function(e,t){const n=e.content.voice,r=e.content.video?.isRound,o=e.content.photo,i=e.content.video?.isGif,s=e.content.video&&!r&&!i,a=e.content.audio,c=e.content.document,l=e.content.sticker,u=e.content.text&&!n&&!r&&!l&&!c&&!a&&!s&&!o&&!i;return n&&!t.canSendVoices||r&&!t.canSendRoundVideos||l&&!t.canSendStickers||c&&!t.canSendDocuments||a&&!t.canSendAudios||s&&!t.canSendVideos||o&&!t.canSendPhotos||i&&!t.canSendGifs||u&&!t.canSendPlainText}(l[e],f))}function st(e,t,n,...[r=(0,a.g0)()]){const{canTranslate:o,doNotTranslate:s,autoTranslateLanguage:c}=e.settings.byKey,l=!n||!s.includes(n)&&n!==c,u=(0,h.ZR)(t,!0),d=(0,g.qZ)(e,t.chatId,r);return i.CM&&o&&l&&u&&!d}function at(e,t,n){const r=(0,g.hd)(e,t);if(r&&r?.isForum)return(0,h.yt)(r,n)}function ct(e,t,n,o){if(!(0,g.hd)(e,t))return;const i=n===r.l3;return o||!i?{type:"message",...o,replyToMsgId:o?.replyToMsgId||Number(n),replyToTopId:o?.replyToTopId||(i?void 0:Number(n))}:void 0}function lt(e,t){const{replyToMsgId:n,replyToPeerId:r}=(0,p.Q)(t)||{};return n?X(e,r||t.chatId,n):void 0}function ut(e,t){if(!t)return[];const{ignoreRestrictionReasons:n}=e.appConfig||{};return t.filter(e=>{if("all"!==e.platform&&e.platform!==o.LX5)return!1;const t=n?.includes(e.reason);return!t})}},19800:(e,t,n)=>{"use strict";n.d(t,{Bt:()=>u,Tq:()=>d});var r=n(13439),o=n(31481),i=n(84553);const s=/(^|\.)(google|bing|duckduckgo|ya|yandex)\./i,a="kz_version",c="Z";function l(e){localStorage.setItem(a,JSON.stringify(e))}function u(e){l(e),(0,i.VH)(),(0,r.ko)().skipLockOnUnload(),window.location.assign(`${o.qJR}${e.toLowerCase()}`)}function d(){if(window.location.hostname!==o.mFn)return;const e=document.referrer.toLowerCase();if(e)try{if(!new URL(e).host.match(s))return;const t=function(){const e=localStorage.getItem(a);if(e)return JSON.parse(e)}();if(t)return void(t!==c&&u(t));const n=void 0!==(new URLSearchParams(window.location.search).get("test")??void 0),r=Math.random()<.5;if(n||!r)return void l("Z");u("K")}catch(e){}}},19806:(e,t,n)=>{"use strict";n.d(t,{A:()=>y});var r=n(84051),o=n(87357),i=n(76023),s=n(4961),a=n(14),c=n(17712),l=n(59030),u=n(21849),d=n(54746),f=n(64493),h=n(57474);function p(){return p=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},p.apply(null,arguments)}const g=1.25*i.$,m=({id:e,name:t,value:n,label:i,user:y,labelText:b,subLabel:v,checked:_,tabIndex:w,disabled:S,withIcon:x,blocking:I,permissionGroup:A,isLoading:C,className:k,rightIcon:E,onlyInput:T,isRound:P,nestedCheckbox:M,nestedCheckboxCount:O,nestedOptionList:D,leftElement:R,values:N,onChange:F,onCheck:L,onClickLabel:B})=>{const $=(0,l.A)(),j=(0,r.li)(),[U,z]=(0,r.J0)(!1),V=(0,a.A)(y,!0),q=(0,c.A)(e=>{S||(F&&F(e,D),L&&L(e.currentTarget.checked))}),H=(0,c.A)(()=>{z(!U)}),G=(0,o.A)("Checkbox",S&&"disabled",x&&"withIcon",C&&"loading",I&&"blocking",M&&"nested",v&&"withSubLabel",A&&"permission-group",Boolean(R)&&"avatar",T&&"onlyInput",P&&"round",Boolean(E)&&"withNestedList",k);return r.Ay.createElement(r.Ay.Fragment,null,r.Ay.createElement("label",{className:G,dir:$.isRtl?"rtl":void 0,onClick:B?function(e){e.target!==j.current&&B?.(e,n)}:void 0,ref:j},r.Ay.createElement("input",{type:"checkbox",id:e,name:t,value:n,checked:_,disabled:S,tabIndex:w,onChange:q,onClick:B?function(e){e.stopPropagation()}:void 0}),r.Ay.createElement("div",{className:(0,o.A)("Checkbox-main",Boolean(R)&&"Nested-avatar-list")},r.Ay.createElement("div",{className:(0,o.A)("user-avatar",V&&"user-avatar-visible")},V&&r.Ay.createElement(u.A,{peer:V,size:g})),r.Ay.createElement("span",{className:"label",dir:"auto"},R,"string"==typeof i?(0,s.A)(i):i,Boolean(b)&&r.Ay.createElement("span",{className:"ml-1"},(0,s.A)(b))),v&&r.Ay.createElement("span",{className:"subLabel",dir:"auto"},(0,s.A)(v)),E&&r.Ay.createElement(d.A,{name:E,className:"right-icon"})),M&&r.Ay.createElement("span",{className:"nestedButton",dir:"auto"},r.Ay.createElement(f.A,{className:"button",color:"translucent",size:"smaller",onClick:H},r.Ay.createElement(d.A,{name:"group-filled",className:"group-icon"}),O,r.Ay.createElement(d.A,{name:U?"up":"down"}))),C&&r.Ay.createElement(h.A,null)),M&&r.Ay.createElement("div",{className:(0,o.A)("nested-checkbox-group",U&&"nested-checkbox-group-open")},D?.map(e=>r.Ay.createElement(m,p({key:e.value,leftElement:R,onChange:q,checked:-1!==N?.indexOf(e.value),values:N},e)))))},y=(0,r.ph)(m)},19822:(e,t,n)=>{"use strict";n.d(t,{Hd:()=>u,S0:()=>i,ZM:()=>d,i0:()=>a,qM:()=>l,vk:()=>s});var r=n(66644);let o;function i(e,t,n){n||(o&&!o.isCancelled&&(o.isCancelled=!0),o=n={isCancelled:!1}),!n.isCancelled&&e()&&t(()=>{i(e,t,n)})}function s(){i(()=>{},e=>e)}function a(e,t){t(()=>{e()&&a(e,t)})}function c(e,t){e()&&t(()=>{c(e,t)})}const l={linear:e=>e,easeIn:e=>e**1.675,easeOut:e=>-1*e**1.675,easeInOut:e=>.5*(Math.sin((e-.5)*Math.PI)+1),easeInQuad:e=>e*e,easeOutQuad:e=>e*(2-e),easeInOutQuad:e=>e<.5?2*e*e:(4-2*e)*e-1,easeInCubic:e=>e**3,easeOutCubic:e=>--e*e*e+1,easeInOutCubic:e=>e<.5?4*e**3:(e-1)*(2*e-2)*(2*e-2)+1,easeInQuart:e=>e**4,easeOutQuart:e=>1- --e*e**3,easeInOutQuart:e=>e<.5?8*e**4:1-8*--e*e**3,easeInQuint:e=>e**5,easeOutQuint:e=>1+--e*e**4,easeInOutQuint:e=>e<.5?16*e**5:1+16*--e*e**4};function u({timing:e=l.linear,onUpdate:t,duration:n,onEnd:o,from:i,to:s}){const a=Date.now();let u=!1;return c(()=>{if(u)return!1;const r=Date.now(),c=Math.min((r-a)/n,1),l=e(c);if("number"==typeof i&&"number"==typeof s)t(i+(s-i)*l);else if(Array.isArray(i)&&Array.isArray(s)){const e=i.map((e,t)=>e+(s[t]-e)*l);t(e)}return 1===c&&o?.(),c<1},r.YS),()=>{u=!0,o?.(!0)}}function d(e,t){Object.assign(e.style,t)}},19853:(e,t,n)=>{"use strict";function r(e,t){var n=Object.assign({},e);return Array.isArray(t)&&t.forEach(function(e){delete n[e]}),n}n.d(t,{A:()=>r})},19911:(e,t,n)=>{"use strict";n.d(t,{kf:()=>s});var r=n(23029),o=n(92901),i=n(83643);let s=function(){return(0,o.A)(function e(t){var n;if((0,r.A)(this,e),this.cleared=!1,t instanceof e)return this.metaColor=t.metaColor.clone(),this.colors=null===(n=t.colors)||void 0===n?void 0:n.map(t=>({color:new e(t.color),percent:t.percent})),void(this.cleared=t.cleared);const o=Array.isArray(t);o&&t.length?(this.colors=t.map(({color:t,percent:n})=>({color:new e(t),percent:n})),this.metaColor=new i.Q1(this.colors[0].color.metaColor)):this.metaColor=new i.Q1(o?"":t),(!t||o&&!this.colors)&&(this.metaColor=this.metaColor.setA(0),this.cleared=!0)},[{key:"toHsb",value:function(){return this.metaColor.toHsb()}},{key:"toHsbString",value:function(){return this.metaColor.toHsbString()}},{key:"toHex",value:function(){return e=this.toHexString(),t=this.metaColor.a<1,e?((e,t)=>(null==e?void 0:e.replace(/[^\w/]/g,"").slice(0,t?8:6))||"")(e,t):"";var e,t}},{key:"toHexString",value:function(){return this.metaColor.toHexString()}},{key:"toRgb",value:function(){return this.metaColor.toRgb()}},{key:"toRgbString",value:function(){return this.metaColor.toRgbString()}},{key:"isGradient",value:function(){return!!this.colors&&!this.cleared}},{key:"getColors",value:function(){return this.colors||[{color:this,percent:0}]}},{key:"toCssString",value:function(){const{colors:e}=this;return e?`linear-gradient(90deg, ${e.map(e=>`${e.color.toRgbString()} ${e.percent}%`).join(", ")})`:this.metaColor.toRgbString()}},{key:"equals",value:function(e){return!(!e||this.isGradient()!==e.isGradient())&&(this.isGradient()?this.colors.length===e.colors.length&&this.colors.every((t,n)=>{const r=e.colors[n];return t.percent===r.percent&&t.color.equals(r.color)}):this.toHexString()===e.toHexString())}}])}()},19926:(e,t,n)=>{"use strict";n.d(t,{K0:()=>i,U:()=>a,XO:()=>g,ap:()=>c,g2:()=>l,gT:()=>h,hc:()=>f,mB:()=>o,n_:()=>d,tr:()=>u,vG:()=>s,yp:()=>p});var r=n(90709);function o(e,t){return e.users.byId[t]}function i(e,t){return e.users.statusesById[t]}function s(e,t){return e.users.fullInfoById[t]}function a(e,t){return e.users.commonChatsById[t]}function c(e,t){return s(e,t)?.isBlocked}function l(e){return!!e.currentUserId&&Boolean(e.users.byId[e.currentUserId].isPremium)}function u(e){return Boolean(e.appConfig?.freezeUntilDate)}function d(e){return e.appConfig?.isPremiumPurchaseBlocked??!0}function f(e){return e.appConfig?.isGiveawayGiftsPurchaseAvailable??!0}function h(e,t){const n=t.replace(/[^0-9]/g,"");return Object.values(e.users.byId).find(e=>e?.phoneNumber===n)}function p(e,t){const n=o(e,t);if(n&&(0,r.tv)(n))return n}function g(e,t){return e.users.botAppPermissionsById[t]}},20179:(e,t,n)=>{"use strict";n.d(t,{DX:()=>a,Fi:()=>o,Xj:()=>i,rp:()=>s});var r=n(31481);function o(e){return`photo${e.id}?size=x`}function i(e){return"channels"===e?"channels":"chats"===e||"groups"===e?"chats":"users"===e?"users":"bots"===e?"bots":void 0}function s(e){return e.requestUrl?e.requestUrl:e.appName?`${e.botId}?appName=${e.appName}`:e.botId}function a(e){return e===r.f51||e===r.b5_}},20488:(e,t,n)=>{"use strict";n.d(t,{A:()=>l,h:()=>f});var r=n(82284),o=n(89379),i=n(60436),s=n(87695),a=n(16300);function c(e,t,n,r){if(!t.length)return n;var a,l=(0,s.A)(t),u=l[0],d=l.slice(1);return a=e||"number"!=typeof u?Array.isArray(e)?(0,i.A)(e):(0,o.A)({},e):[],r&&void 0===n&&1===d.length?delete a[u][d[0]]:a[u]=c(a[u],d,n,r),a}function l(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return t.length&&r&&void 0===n&&!(0,a.A)(e,t.slice(0,-1))?e:c(e,t,n,r)}function u(e){return Array.isArray(e)?[]:{}}var d="undefined"==typeof Reflect?Object.keys:Reflect.ownKeys;function f(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var o=u(t[0]);return t.forEach(function(e){!function t(n,s){var c,f=new Set(s),h=(0,a.A)(e,n),p=Array.isArray(h);if(p||(c=h,"object"===(0,r.A)(c)&&null!==c&&Object.getPrototypeOf(c)===Object.prototype)){if(!f.has(h)){f.add(h);var g=(0,a.A)(o,n);p?o=l(o,n,[]):g&&"object"===(0,r.A)(g)||(o=l(o,n,u(h))),d(h).forEach(function(e){t([].concat((0,i.A)(n),[e]),f)})}}else o=l(o,n,h)}([])}),o}},20714:(e,t,n)=>{"use strict";n.d(t,{$8:()=>l,HB:()=>u,Je:()=>d,LH:()=>s,PI:()=>c,tS:()=>a});var r=n(89925),o=n(31481),i=n(96454);const s={animatedEmoji:!0,autoplayGifs:!0,autoplayVideos:!0,contextMenuAnimations:!0,contextMenuBlur:!0,loopAnimatedStickers:!0,mediaViewerAnimations:!0,messageComposerAnimations:!0,messageSendingAnimations:!0,pageTransitions:!0,reactionEffects:!0,rightColumnAnimations:!0,stickerEffects:!0,storyRibbonAnimations:!0,snapEffect:!0},a={animatedEmoji:!0,autoplayGifs:!0,autoplayVideos:!0,contextMenuAnimations:!0,contextMenuBlur:!0,loopAnimatedStickers:!0,mediaViewerAnimations:!0,messageComposerAnimations:!0,messageSendingAnimations:!0,pageTransitions:!0,reactionEffects:!0,rightColumnAnimations:!1,stickerEffects:!0,storyRibbonAnimations:!0,snapEffect:!1},c={animatedEmoji:!1,autoplayGifs:!1,autoplayVideos:!1,contextMenuAnimations:!1,contextMenuBlur:!1,loopAnimatedStickers:!1,mediaViewerAnimations:!1,messageComposerAnimations:!1,messageSendingAnimations:!1,pageTransitions:!1,reactionEffects:!1,rightColumnAnimations:!1,stickerEffects:!1,storyRibbonAnimations:!1,snapEffect:!1},l={settings:{theme:"light",shouldUseSystemTheme:!0,messageTextSize:i.pz?o.fSF:i.MP?o.pZc:o.pk8,animationLevel:o.i11,messageSendKeyCombo:"enter",performance:s,shouldSkipWebAppCloseConfirmation:!1,language:"en",timeFormat:"24h",wasTimeFormatSetManually:!1,isConnectionStatusMinimized:!0,canDisplayChatInTitle:!0,shouldAllowHttpTransport:!0,shouldWarnAboutSvg:!0,enableChatSorting:!0},isInitial:!0},u={cacheVersion:2,isInited:!0,attachMenu:{bots:{}},passcode:{},twoFaSettings:{},isAppUpdateAvailable:!1,isElectronUpdateAvailable:!1,shouldShowContextMenuHint:!0,audioPlayer:{lastPlaybackRate:o.P3f},mediaViewer:{lastPlaybackRate:o.P3f},authRememberMe:!0,countryList:{phoneCodes:[],general:[]},blocked:{ids:[],totalCount:0},users:{byId:{},statusesById:{},fullInfoById:{},previewMediaByBotId:{},commonChatsById:{},botAppPermissionsById:{}},peers:{profilePhotosById:{}},chats:{listIds:{},isFullyLoaded:{},orderedPinnedIds:{},totalCount:{},lastMessageIds:{},byId:{},fullInfoById:{},similarChannelsById:{},similarBotsById:{},topicsInfoById:{},notifyExceptionById:{},loadingParameters:{active:{},archived:{},saved:{}}},messages:{byChatId:{},sponsoredByChatId:{},pollById:{},webPageById:{},playbackByChatId:{}},stories:{byPeerId:{},orderedPeerIds:{archived:[],active:[]},hasNext:!0,hasNextInArchive:!0,stealthMode:{}},groupCalls:{byId:{}},attachmentSettings:{shouldCompress:!0,shouldSendGrouped:!0,isInvertedMedia:void 0,webPageMediaSize:void 0,shouldSendInHighQuality:!1},scheduledMessages:{byChatId:{}},quickReplies:{byId:{},messagesById:{}},chatFolders:{byId:{},invites:{},nextAiChatFolders:[]},fileUploads:{byMessageKey:{}},recentEmojis:["grinning","kissing_heart","christmas_tree","brain","trophy","duck","cherries"],recentCustomEmojis:["5377305978079288312"],reactions:{defaultTags:[],topReactions:[],recentReactions:[],effectReactions:[],hash:{}},availableEffectById:{},stickers:{setsById:{},added:{},recent:{stickers:[]},favorite:{stickers:[]},greeting:{stickers:[]},premium:{stickers:[]},featured:{setIds:[]},effect:{stickers:[],emojis:[]},forEmoji:{}},customEmojis:{lastRendered:[],byId:{},added:{},forEmoji:{},statusRecent:{}},emojiKeywords:{},gifs:{saved:{}},topPeers:{},topInlineBots:{},topBotApps:{},activeSessions:{byHash:{},orderedHashes:[]},activeWebSessions:{byHash:{},orderedHashes:[]},settings:{byKey:{canAutoLoadPhotoFromContacts:!0,canAutoLoadPhotoInPrivateChats:!0,canAutoLoadPhotoInGroups:!0,canAutoLoadPhotoInChannels:!0,canAutoLoadVideoFromContacts:!0,canAutoLoadVideoInPrivateChats:!0,canAutoLoadVideoInGroups:!0,canAutoLoadVideoInChannels:!0,canAutoLoadFileFromContacts:!1,canAutoLoadFileInPrivateChats:!1,canAutoLoadFileInGroups:!1,canAutoLoadFileInChannels:!1,autoLoadFileMaxSizeMb:10,hasWebNotifications:!0,hasPushNotifications:!0,notificationSoundVolume:5,shouldSuggestStickers:!0,shouldSuggestCustomEmoji:!0,shouldPaidMessageAutoApprove:!1,shouldUpdateStickerSetOrder:!0,shouldArchiveAndMuteNewNonContact:!1,shouldNewNonContactPeersRequirePremium:!1,disallowedGifts:void 0,nonContactPeersPaidStars:0,shouldHideReadMarks:!1,canTranslate:!1,canTranslateChats:!0,doNotTranslate:[]},privacy:{},botVerificationShownPeerIds:[],themes:{light:{isBlurred:!0,patternColor:o.be8},dark:{isBlurred:!0,patternColor:o.MkD}},accountDaysTtl:365},serviceNotifications:[],trustedBotIds:[],transcriptions:{},translations:{byChatId:{}},byTabId:{},sharedState:l,subscriptionInfo:{subscriptionType:"free",creditBalance:0,createdAt:"",subscriptionExpiresAt:"",isExpirated:!1},archiveSettings:{isMinimized:!1,isHidden:!1}},d={id:0,isMasterTab:!1,isLeftColumnShown:!0,isChatInfoShown:!1,newChatMembersProgress:r.D7.Closed,uiReadyState:0,shouldInit:!0,gifSearch:{},stickerSearch:{},messageLists:[],activeChatFolder:0,tabThreads:{},inlineBots:{isLoading:!1,byUsername:{}},webApps:{openedWebApps:{},openedOrderedKeys:[],sessionKeys:[],modalState:"maximized",isModalOpen:!1,isMoreAppsTabActive:!1},globalSearch:{},userSearch:{},leftColumn:{contentKey:r.Bn.ChatList,settingsScreen:r.VS.Main},middleSearch:{byChatThreadKey:{}},sharedMediaSearch:{byChatThreadKey:{}},chatMediaSearch:{byChatThreadKey:{}},management:{byChatId:{}},savedGifts:{filter:{...o.tBS},giftsByPeerId:{}},resaleGifts:{gifts:[],count:0,updateIteration:0,filter:{...o.hYe}},storyViewer:{isMuted:!0,isRibbonShown:!1},mediaViewer:{volume:o.Hz7,playbackRate:o.P3f,isMuted:!1},audioPlayer:{volume:o.Hz7,playbackRate:o.P3f,isMuted:!1},isShareMessageModalShown:!1,isWebAppsCloseConfirmationModalOpen:!1,forwardMessages:{},replyingMessage:{},pollResults:{},payment:{},starsPayment:{},notifications:[],dialogs:[],activeReactions:{},activeDownloads:{},statistics:{byChatId:{}},pollModal:{isOpen:!1},requestedTranslations:{byChatId:{}},isPaymentMessageConfirmDialogOpen:!1}},20791:(e,t,n)=>{"use strict";n.d(t,{j:()=>i,n:()=>o});var r=n(52187);function o(e){const{sizePopupArrow:t,borderRadiusXS:n,borderRadiusOuter:r}=e,o=t/2,i=o,s=1*r/Math.sqrt(2),a=o-r*(1-1/Math.sqrt(2)),c=o-n*(1/Math.sqrt(2)),l=r*(Math.sqrt(2)-1)+n*(1/Math.sqrt(2)),u=2*o-c,d=l,f=2*o-s,h=a,p=2*o-0,g=i,m=o*Math.sqrt(2)+r*(Math.sqrt(2)-2),y=r*(Math.sqrt(2)-1);return{arrowShadowWidth:m,arrowPath:`path('M 0 ${i} A ${r} ${r} 0 0 0 ${s} ${a} L ${c} ${l} A ${n} ${n} 0 0 1 ${u} ${d} L ${f} ${h} A ${r} ${r} 0 0 0 ${p} ${g} Z')`,arrowPolygon:`polygon(${y}px 100%, 50% ${y}px, ${2*o-y}px 100%, ${y}px 100%)`}}const i=(e,t,n)=>{const{sizePopupArrow:o,arrowPolygon:i,arrowPath:s,arrowShadowWidth:a,borderRadiusXS:c,calc:l}=e;return{pointerEvents:"none",width:o,height:o,overflow:"hidden","&::before":{position:"absolute",bottom:0,insetInlineStart:0,width:o,height:l(o).div(2).equal(),background:t,clipPath:{_multi_value_:!0,value:[i,s]},content:'""'},"&::after":{content:'""',position:"absolute",width:a,height:a,bottom:0,insetInline:0,margin:"auto",borderRadius:{_skip_check_:!0,value:`0 0 ${(0,r.zA)(c)} 0`},transform:"translateY(50%) rotate(-135deg)",boxShadow:n,zIndex:0,background:"transparent"}}}},20816:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(82284);function o(e){var t=function(e){if("object"!=(0,r.A)(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=(0,r.A)(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==(0,r.A)(t)?t:t+""}},20934:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(11320);const o=e=>{const[,,,,t]=(0,r.Ay)();return t?`${e}-css-var`:""}},20998:(e,t,n)=>{"use strict";function r(){return!("undefined"==typeof window||!window.document||!window.document.createElement)}n.d(t,{A:()=>r})},21133:(e,t,n)=>{"use strict";n.d(t,{$:()=>A,$T:()=>p,AL:()=>m,AO:()=>$,AW:()=>f,D3:()=>C,I_:()=>w,LR:()=>N,OD:()=>z,P4:()=>I,To:()=>b,VF:()=>T,ZZ:()=>j,_l:()=>q,bE:()=>S,df:()=>_,dg:()=>B,dq:()=>E,hX:()=>D,hd:()=>d,jG:()=>F,k2:()=>V,kB:()=>h,ke:()=>y,mJ:()=>x,nT:()=>v,nZ:()=>g,p6:()=>M,qZ:()=>L,qn:()=>k,s:()=>P,w5:()=>R,yH:()=>U,yM:()=>O});var r=n(31481),o=n(96454),i=n(9716),s=n(14487),a=n(90709),c=n(19408),l=n(5056),u=n(19926);function d(e,t){return e.chats.byId[t]}function f(e,t){return e.chats.fullInfoById[t]}function h(e,t){return(0,i.L8)(t)?(0,u.vG)(e,t):f(e,t)}function p(e,t){return e.chats.loadingParameters[t]}function g(e,t){return t===e.currentUserId}function m(e,t){const n=function(e,t){const n=(0,a.e7)(t);return!!n&&(0,u.mB)(e,n)}(e,t);return n&&(0,a.tv)(n)}function y(e){return Object.values(e.chats.byId).find(({isSupport:e})=>e)}function b(e,t){const n=f(e,t.id);if(!(0,i.L8)(t.id)&&!(0,a.WX)(t)&&n)return n.members&&n.members.length!==r.WG3?n.members.reduce((t,{userId:n})=>!g(e,n)&&e.users.byId[n]&&(0,a.PF)(e.users.byId[n],e.users.statusesById[n])?t+1:t,0):n.onlineCount}function v(e,t){return e.trustedBotIds.includes(t)}function _(e,t){if((0,u.yp)(e,t))return"bots";if((0,u.mB)(e,t))return"users";const n=d(e,t);return n?(0,a.WX)(n)?"channels":"chats":void 0}function w(e,t){if(!(0,u.yp)(e,t))return!1;const n=U(e,t);return!(!n||!(0,a.X_)(n))||Boolean(!n)}function S(e){return Boolean(e.chats.listIds.active)}function x(e,t,n){const{listIds:r}=e.chats;if(n){const e=r[n];return Boolean(e&&e.includes(t))}return Object.values(r).some(e=>e&&e.includes(t))}function I(e,t){const n=d(e,t);if(n&&x(e,t))return n.folderId===r._E9?"archived":"active"}function A(e,t){return e.chatFolders.byId[t]}function C(e,t,n=r.DSF){const{active:o,archived:i,saved:s}=e.chats.orderedPinnedIds;if(n===r.DSF)return Boolean(o?.includes(t));if(n===r._E9)return Boolean(i?.includes(t));if(n===r.pX9)return Boolean(s?.includes(t));const{byId:a}=e.chatFolders,{pinnedChatIds:c}=a[n]||{};return Boolean(c?.includes(t))}function k(e,t){const n=t.toLowerCase();return Object.values(e.chats.byId).find(e=>e.usernames?.some(e=>e.username.toLowerCase()===n))}function E(e){return Boolean(d(e,r.zv8))}function T(e,t){if(!d(e,t))return;const n=f(e,t)?.sendAsId;return n?(0,u.mB)(e,n)||d(e,n):void 0}function P(e,t,...[n=(0,s.g0)()]){const{requestedDraft:r}=(0,l.n)(e,n);if(r?.chatId===t&&!r.files?.length)return r.text}function M(e,t,...[n=(0,s.g0)()]){const{requestedDraft:r}=(0,l.n)(e,n);if(r?.chatId===t)return r.files}function O(e,t,n){return t.filter(t=>{const r=_(e,t);return!!r&&n.includes(r)})}function D(e,t){const n=d(e,t);return!!n&&!n.migratedTo&&Boolean(!(0,i.L8)(t)&&((0,a.WX)(n)||(0,a.Vs)(n)?n.isCreator||(0,a.ub)(n,"inviteUsers")||(0,a.gA)(n)&&!n.isJoinRequest:n.isCreator||(0,a.ub)(n,"inviteUsers")))}function R(e,t){const n=A(e,t);if(!n)return!1;const{bots:r,groups:o,channels:i,contacts:s,nonContacts:a,includedChatIds:c,pinnedChatIds:l,excludeArchived:u,excludeMuted:d,excludeRead:f,excludedChatIds:h}=n;return!r&&!o&&!i&&!s&&!a&&!u&&!d&&!f&&!h?.length&&(l?.length||c.length)&&n.includedChatIds.concat(n.pinnedChatIds||[]).some(t=>D(e,t))}function N(e,t){const n=d(e,t);if(!n)return!1;if(n.hasAutoTranslation)return!0;const{canTranslateChats:r}=e.settings.byKey,i=(0,u.g2)(e),s=g(e,t);return o.CM&&r&&i&&!s}function F(e,t,...[n=(0,s.g0)()]){const r=d(e,t);if(!r)return!1;if(L(e,t,n))return!0;const o=N(e,t),i=r.detectedLanguage,{doNotTranslate:a}=e.settings.byKey;return Boolean(o&&i&&!a.includes(i))}function L(e,t,...[n=(0,s.g0)()]){const{requestedTranslations:r}=(0,l.n)(e,n);return r.byChatId[t]?.toLanguage}function B(e,t){return e.chats.similarChannelsById[t]}function $(e,t){return e.chats.similarBotsById[t]}function j(e,t,n="all"){return e.chats.lastMessageIds[n]?.[t]}function U(e,t,n="all"){const r=j(e,t,n);if(!r)return;const o="saved"===n?e.currentUserId:t;return e.messages.byChatId[o]?.byId[r]}function z(e,t){const n=d(e,t);if(!n?.isMonoforum)return;const r=V(e,t);return r?Boolean(n.isCreator||n.adminRights||r.isCreator||r.adminRights):void 0}function V(e,t){const n=d(e,t);if(n)return n.isMonoforum?d(e,n.linkedMonoforumId):void 0}function q(e,t){const n=d(e,t);return!!n&&(0,c.G6)(e,n.restrictionReasons).length>0}},21309:(e,t,n)=>{"use strict";n.d(t,{Os:()=>s,Sy:()=>l,_k:()=>c,d_:()=>i,qZ:()=>a});const r=60,o=3600,i=86400;function s(e,t){return(t?Math.floor:Math.ceil)(e/r)}function a(e,t){return(t?Math.floor:Math.ceil)(e/o)}function c(e,t){return(t?Math.floor:Math.ceil)(e/i)}function l(e,t,n){return e*o+t*r+n}},21396:function(e,t,n){var r;e.exports=(r=n(19021),n(43240),n(6440),n(45503),n(80754),n(64725),n(84636),n(45471),n(63009),n(36308),n(81380),n(89557),n(45953),n(78056),n(51025),n(70019),n(39506),n(57165),n(82169),n(96939),n(6372),n(73797),n(38454),n(42073),n(54905),n(10482),n(52155),n(58124),n(70025),n(40955),n(7628),n(77193),n(96298),n(22696),n(43128),r)},21468:(e,t,n)=>{"use strict";n.d(t,{Ay:()=>be});var r=n(96540),o=n(46942),i=n.n(o),s=n(19853),a=n(8719),c=n(30981),l=n(57),u=n(62279),d=n(98119),f=n(829),h=n(76327),p=n(11320);const g=r.createContext(void 0);var m=n(39449),y=n(93567),b=n(90754);const v=(0,r.forwardRef)((e,t)=>{const{className:n,style:o,children:s,prefixCls:a}=e,c=i()(`${a}-icon`,n);return r.createElement("span",{ref:t,className:c,style:o},s)}),_=v,w=(0,r.forwardRef)((e,t)=>{const{prefixCls:n,className:o,style:s,iconClassName:a}=e,c=i()(`${n}-loading-icon`,o);return r.createElement(_,{prefixCls:n,className:c,style:s,ref:t},r.createElement(y.A,{className:a}))}),S=()=>({width:0,opacity:0,transform:"scale(0)"}),x=e=>({width:e.scrollWidth,opacity:1,transform:"scale(1)"}),I=e=>{const{prefixCls:t,loading:n,existIcon:o,className:s,style:a,mount:c}=e,l=!!n;return o?r.createElement(w,{prefixCls:t,className:s,style:a}):r.createElement(b.Ay,{visible:l,motionName:`${t}-loading-icon-motion`,motionAppear:!c,motionEnter:!c,motionLeave:!c,removeOnLeave:!0,onAppearStart:S,onAppearActive:x,onEnterStart:S,onEnterActive:x,onLeaveStart:x,onLeaveActive:S},({className:e,style:n},o)=>{const c=Object.assign(Object.assign({},a),n);return r.createElement(w,{prefixCls:t,className:i()(s,e),style:c,ref:o})})};var A=n(52187),C=n(25905),k=n(13950),E=n(14277),T=n(37358);const P=(e,t)=>({[`> span, > ${e}`]:{"&:not(:last-child)":{[`&, & > ${e}`]:{"&:not(:disabled)":{borderInlineEndColor:t}}},"&:not(:first-child)":{[`&, & > ${e}`]:{"&:not(:disabled)":{borderInlineStartColor:t}}}}}),M=e=>{const{componentCls:t,fontSize:n,lineWidth:r,groupBorderColor:o,colorErrorHover:i}=e;return{[`${t}-group`]:[{position:"relative",display:"inline-flex",[`> span, > ${t}`]:{"&:not(:last-child)":{[`&, & > ${t}`]:{borderStartEndRadius:0,borderEndEndRadius:0}},"&:not(:first-child)":{marginInlineStart:e.calc(r).mul(-1).equal(),[`&, & > ${t}`]:{borderStartStartRadius:0,borderEndStartRadius:0}}},[t]:{position:"relative",zIndex:1,"&:hover, &:focus, &:active":{zIndex:2},"&[disabled]":{zIndex:0}},[`${t}-icon-only`]:{fontSize:n}},P(`${t}-primary`,o),P(`${t}-danger`,i)]}};var O=n(19911),D=n(83643);n(12533);var R=n(94925),N=n(85045);const F=e=>{const{paddingInline:t,onlyIconSize:n}=e;return(0,E.oX)(e,{buttonPaddingHorizontal:t,buttonPaddingVertical:0,buttonIconOnlyFontSize:n})},L=e=>{var t,n,r,o,i,s;const a=null!==(t=e.contentFontSize)&&void 0!==t?t:e.fontSize,c=null!==(n=e.contentFontSizeSM)&&void 0!==n?n:e.fontSize,l=null!==(r=e.contentFontSizeLG)&&void 0!==r?r:e.fontSizeLG,u=null!==(o=e.contentLineHeight)&&void 0!==o?o:(0,R.k)(a),d=null!==(i=e.contentLineHeightSM)&&void 0!==i?i:(0,R.k)(c),f=null!==(s=e.contentLineHeightLG)&&void 0!==s?s:(0,R.k)(l),h=((e,t)=>{const{r:n,g:r,b:o,a:i}=e.toRgb(),s=new D.Q1(e.toRgbString()).onBackground(t).toHsv();return i<=.5?s.v>.5:.299*n+.587*r+.114*o>192})(new O.kf(e.colorBgSolid),"#fff")?"#000":"#fff",p=k.s.reduce((t,n)=>Object.assign(Object.assign({},t),{[`${n}ShadowColor`]:`0 ${(0,A.zA)(e.controlOutlineWidth)} 0 ${(0,N.A)(e[`${n}1`],e.colorBgContainer)}`}),{});return Object.assign(Object.assign({},p),{fontWeight:400,iconGap:e.marginXS,defaultShadow:`0 ${e.controlOutlineWidth}px 0 ${e.controlTmpOutline}`,primaryShadow:`0 ${e.controlOutlineWidth}px 0 ${e.controlOutline}`,dangerShadow:`0 ${e.controlOutlineWidth}px 0 ${e.colorErrorOutline}`,primaryColor:e.colorTextLightSolid,dangerColor:e.colorTextLightSolid,borderColorDisabled:e.colorBorder,defaultGhostColor:e.colorBgContainer,ghostBg:"transparent",defaultGhostBorderColor:e.colorBgContainer,paddingInline:e.paddingContentHorizontal-e.lineWidth,paddingInlineLG:e.paddingContentHorizontal-e.lineWidth,paddingInlineSM:8-e.lineWidth,onlyIconSize:"inherit",onlyIconSizeSM:"inherit",onlyIconSizeLG:"inherit",groupBorderColor:e.colorPrimaryHover,linkHoverBg:"transparent",textTextColor:e.colorText,textTextHoverColor:e.colorText,textTextActiveColor:e.colorText,textHoverBg:e.colorFillTertiary,defaultColor:e.colorText,defaultBg:e.colorBgContainer,defaultBorderColor:e.colorBorder,defaultBorderColorDisabled:e.colorBorder,defaultHoverBg:e.colorBgContainer,defaultHoverColor:e.colorPrimaryHover,defaultHoverBorderColor:e.colorPrimaryHover,defaultActiveBg:e.colorBgContainer,defaultActiveColor:e.colorPrimaryActive,defaultActiveBorderColor:e.colorPrimaryActive,solidTextColor:h,contentFontSize:a,contentFontSizeSM:c,contentFontSizeLG:l,contentLineHeight:u,contentLineHeightSM:d,contentLineHeightLG:f,paddingBlock:Math.max((e.controlHeight-a*u)/2-e.lineWidth,0),paddingBlockSM:Math.max((e.controlHeightSM-c*d)/2-e.lineWidth,0),paddingBlockLG:Math.max((e.controlHeightLG-l*f)/2-e.lineWidth,0)})},B=e=>{const{componentCls:t,iconCls:n,fontWeight:r,opacityLoading:o,motionDurationSlow:i,motionEaseInOut:s,iconGap:a,calc:c}=e;return{[t]:{outline:"none",position:"relative",display:"inline-flex",gap:a,alignItems:"center",justifyContent:"center",fontWeight:r,whiteSpace:"nowrap",textAlign:"center",backgroundImage:"none",background:"transparent",border:`${(0,A.zA)(e.lineWidth)} ${e.lineType} transparent`,cursor:"pointer",transition:`all ${e.motionDurationMid} ${e.motionEaseInOut}`,userSelect:"none",touchAction:"manipulation",color:e.colorText,"&:disabled > *":{pointerEvents:"none"},[`${t}-icon > svg`]:(0,C.Nk)(),"> a":{color:"currentColor"},"&:not(:disabled)":(0,C.K8)(e),[`&${t}-two-chinese-chars::first-letter`]:{letterSpacing:"0.34em"},[`&${t}-two-chinese-chars > *:not(${n})`]:{marginInlineEnd:"-0.34em",letterSpacing:"0.34em"},[`&${t}-icon-only`]:{paddingInline:0,[`&${t}-compact-item`]:{flex:"none"},[`&${t}-round`]:{width:"auto"}},[`&${t}-loading`]:{opacity:o,cursor:"default"},[`${t}-loading-icon`]:{transition:["width","opacity","margin"].map(e=>`${e} ${i} ${s}`).join(",")},[`&:not(${t}-icon-end)`]:{[`${t}-loading-icon-motion`]:{"&-appear-start, &-enter-start":{marginInlineEnd:c(a).mul(-1).equal()},"&-appear-active, &-enter-active":{marginInlineEnd:0},"&-leave-start":{marginInlineEnd:0},"&-leave-active":{marginInlineEnd:c(a).mul(-1).equal()}}},"&-icon-end":{flexDirection:"row-reverse",[`${t}-loading-icon-motion`]:{"&-appear-start, &-enter-start":{marginInlineStart:c(a).mul(-1).equal()},"&-appear-active, &-enter-active":{marginInlineStart:0},"&-leave-start":{marginInlineStart:0},"&-leave-active":{marginInlineStart:c(a).mul(-1).equal()}}}}}},$=(e,t,n)=>({[`&:not(:disabled):not(${e}-disabled)`]:{"&:hover":t,"&:active":n}}),j=e=>({minWidth:e.controlHeight,paddingInlineStart:0,paddingInlineEnd:0,borderRadius:"50%"}),U=e=>({borderRadius:e.controlHeight,paddingInlineStart:e.calc(e.controlHeight).div(2).equal(),paddingInlineEnd:e.calc(e.controlHeight).div(2).equal()}),z=e=>({cursor:"not-allowed",borderColor:e.borderColorDisabled,color:e.colorTextDisabled,background:e.colorBgContainerDisabled,boxShadow:"none"}),V=(e,t,n,r,o,i,s,a)=>({[`&${e}-background-ghost`]:Object.assign(Object.assign({color:n||void 0,background:t,borderColor:r||void 0,boxShadow:"none"},$(e,Object.assign({background:t},s),Object.assign({background:t},a))),{"&:disabled":{cursor:"not-allowed",color:o||void 0,borderColor:i||void 0}})}),q=e=>({[`&:disabled, &${e.componentCls}-disabled`]:Object.assign({},z(e))}),H=e=>({[`&:disabled, &${e.componentCls}-disabled`]:{cursor:"not-allowed",color:e.colorTextDisabled}}),G=(e,t,n,r)=>{const o=r&&["link","text"].includes(r)?H:q;return Object.assign(Object.assign({},o(e)),$(e.componentCls,t,n))},W=(e,t,n,r,o)=>({[`&${e.componentCls}-variant-solid`]:Object.assign({color:t,background:n},G(e,r,o))}),K=(e,t,n,r,o)=>({[`&${e.componentCls}-variant-outlined, &${e.componentCls}-variant-dashed`]:Object.assign({borderColor:t,background:n},G(e,r,o))}),Y=e=>({[`&${e.componentCls}-variant-dashed`]:{borderStyle:"dashed"}}),J=(e,t,n,r)=>({[`&${e.componentCls}-variant-filled`]:Object.assign({boxShadow:"none",background:t},G(e,n,r))}),X=(e,t,n,r,o)=>({[`&${e.componentCls}-variant-${n}`]:Object.assign({color:t,boxShadow:"none"},G(e,r,o,n))}),Z=e=>Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({color:e.defaultColor,boxShadow:e.defaultShadow},W(e,e.solidTextColor,e.colorBgSolid,{color:e.solidTextColor,background:e.colorBgSolidHover},{color:e.solidTextColor,background:e.colorBgSolidActive})),Y(e)),J(e,e.colorFillTertiary,{color:e.defaultColor,background:e.colorFillSecondary},{color:e.defaultColor,background:e.colorFill})),V(e.componentCls,e.ghostBg,e.defaultGhostColor,e.defaultGhostBorderColor,e.colorTextDisabled,e.colorBorder)),X(e,e.textTextColor,"link",{color:e.colorLinkHover,background:e.linkHoverBg},{color:e.colorLinkActive})),Q=e=>Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({color:e.colorPrimary,boxShadow:e.primaryShadow},K(e,e.colorPrimary,e.colorBgContainer,{color:e.colorPrimaryTextHover,borderColor:e.colorPrimaryHover,background:e.colorBgContainer},{color:e.colorPrimaryTextActive,borderColor:e.colorPrimaryActive,background:e.colorBgContainer})),Y(e)),J(e,e.colorPrimaryBg,{color:e.colorPrimary,background:e.colorPrimaryBgHover},{color:e.colorPrimary,background:e.colorPrimaryBorder})),X(e,e.colorPrimaryText,"text",{color:e.colorPrimaryTextHover,background:e.colorPrimaryBg},{color:e.colorPrimaryTextActive,background:e.colorPrimaryBorder})),X(e,e.colorPrimaryText,"link",{color:e.colorPrimaryTextHover,background:e.linkHoverBg},{color:e.colorPrimaryTextActive})),V(e.componentCls,e.ghostBg,e.colorPrimary,e.colorPrimary,e.colorTextDisabled,e.colorBorder,{color:e.colorPrimaryHover,borderColor:e.colorPrimaryHover},{color:e.colorPrimaryActive,borderColor:e.colorPrimaryActive})),ee=e=>Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({color:e.colorError,boxShadow:e.dangerShadow},W(e,e.dangerColor,e.colorError,{background:e.colorErrorHover},{background:e.colorErrorActive})),K(e,e.colorError,e.colorBgContainer,{color:e.colorErrorHover,borderColor:e.colorErrorBorderHover},{color:e.colorErrorActive,borderColor:e.colorErrorActive})),Y(e)),J(e,e.colorErrorBg,{color:e.colorError,background:e.colorErrorBgFilledHover},{color:e.colorError,background:e.colorErrorBgActive})),X(e,e.colorError,"text",{color:e.colorErrorHover,background:e.colorErrorBg},{color:e.colorErrorHover,background:e.colorErrorBgActive})),X(e,e.colorError,"link",{color:e.colorErrorHover},{color:e.colorErrorActive})),V(e.componentCls,e.ghostBg,e.colorError,e.colorError,e.colorTextDisabled,e.colorBorder,{color:e.colorErrorHover,borderColor:e.colorErrorHover},{color:e.colorErrorActive,borderColor:e.colorErrorActive})),te=e=>Object.assign(Object.assign({},X(e,e.colorLink,"link",{color:e.colorLinkHover},{color:e.colorLinkActive})),V(e.componentCls,e.ghostBg,e.colorInfo,e.colorInfo,e.colorTextDisabled,e.colorBorder,{color:e.colorInfoHover,borderColor:e.colorInfoHover},{color:e.colorInfoActive,borderColor:e.colorInfoActive})),ne=e=>{const{componentCls:t}=e;return Object.assign({[`${t}-color-default`]:Z(e),[`${t}-color-primary`]:Q(e),[`${t}-color-dangerous`]:ee(e),[`${t}-color-link`]:te(e)},(e=>{const{componentCls:t}=e;return k.s.reduce((n,r)=>{const o=e[`${r}6`],i=e[`${r}1`],s=e[`${r}5`],a=e[`${r}2`],c=e[`${r}3`],l=e[`${r}7`];return Object.assign(Object.assign({},n),{[`&${t}-color-${r}`]:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({color:o,boxShadow:e[`${r}ShadowColor`]},W(e,e.colorTextLightSolid,o,{background:s},{background:l})),K(e,o,e.colorBgContainer,{color:s,borderColor:s,background:e.colorBgContainer},{color:l,borderColor:l,background:e.colorBgContainer})),Y(e)),J(e,i,{color:o,background:a},{color:o,background:c})),X(e,o,"link",{color:s},{color:l})),X(e,o,"text",{color:s,background:i},{color:l,background:c}))})},{})})(e))},re=e=>Object.assign(Object.assign(Object.assign(Object.assign({},K(e,e.defaultBorderColor,e.defaultBg,{color:e.defaultHoverColor,borderColor:e.defaultHoverBorderColor,background:e.defaultHoverBg},{color:e.defaultActiveColor,borderColor:e.defaultActiveBorderColor,background:e.defaultActiveBg})),X(e,e.textTextColor,"text",{color:e.textTextHoverColor,background:e.textHoverBg},{color:e.textTextActiveColor,background:e.colorBgTextActive})),W(e,e.primaryColor,e.colorPrimary,{background:e.colorPrimaryHover,color:e.primaryColor},{background:e.colorPrimaryActive,color:e.primaryColor})),X(e,e.colorLink,"link",{color:e.colorLinkHover,background:e.linkHoverBg},{color:e.colorLinkActive})),oe=(e,t="")=>{const{componentCls:n,controlHeight:r,fontSize:o,borderRadius:i,buttonPaddingHorizontal:s,iconCls:a,buttonPaddingVertical:c,buttonIconOnlyFontSize:l}=e;return[{[t]:{fontSize:o,height:r,padding:`${(0,A.zA)(c)} ${(0,A.zA)(s)}`,borderRadius:i,[`&${n}-icon-only`]:{width:r,[a]:{fontSize:l}}}},{[`${n}${n}-circle${t}`]:j(e)},{[`${n}${n}-round${t}`]:U(e)}]},ie=e=>{const t=(0,E.oX)(e,{fontSize:e.contentFontSize});return oe(t,e.componentCls)},se=e=>{const t=(0,E.oX)(e,{controlHeight:e.controlHeightSM,fontSize:e.contentFontSizeSM,padding:e.paddingXS,buttonPaddingHorizontal:e.paddingInlineSM,buttonPaddingVertical:0,borderRadius:e.borderRadiusSM,buttonIconOnlyFontSize:e.onlyIconSizeSM});return oe(t,`${e.componentCls}-sm`)},ae=e=>{const t=(0,E.oX)(e,{controlHeight:e.controlHeightLG,fontSize:e.contentFontSizeLG,buttonPaddingHorizontal:e.paddingInlineLG,buttonPaddingVertical:0,borderRadius:e.borderRadiusLG,buttonIconOnlyFontSize:e.onlyIconSizeLG});return oe(t,`${e.componentCls}-lg`)},ce=e=>{const{componentCls:t}=e;return{[t]:{[`&${t}-block`]:{width:"100%"}}}},le=(0,T.OF)("Button",e=>{const t=F(e);return[B(t),ie(t),se(t),ae(t),ce(t),ne(t),re(t),M(t)]},L,{unitless:{fontWeight:!0,contentLineHeight:!0,contentLineHeightSM:!0,contentLineHeightLG:!0}});var ue=n(55974);function de(e,t,n){return{[`&-item:not(${t}-last-item)`]:{marginBottom:e.calc(e.lineWidth).mul(-1).equal()},[`&-item:not(${n}-status-success)`]:{zIndex:2},"&-item":{"&:hover,&:focus,&:active":{zIndex:3},"&[disabled]":{zIndex:0}}}}function fe(e){const t=`${e.componentCls}-compact-vertical`;return{[t]:Object.assign(Object.assign({},de(e,t,e.componentCls)),(n=e.componentCls,r=t,{[`&-item:not(${r}-first-item):not(${r}-last-item)`]:{borderRadius:0},[`&-item${r}-first-item:not(${r}-last-item)`]:{[`&, &${n}-sm, &${n}-lg`]:{borderEndEndRadius:0,borderEndStartRadius:0}},[`&-item${r}-last-item:not(${r}-first-item)`]:{[`&, &${n}-sm, &${n}-lg`]:{borderStartStartRadius:0,borderStartEndRadius:0}}}))};var n,r}const he=e=>{const{componentCls:t,colorPrimaryHover:n,lineWidth:r,calc:o}=e,i=o(r).mul(-1).equal(),s=e=>{const o=`${t}-compact${e?"-vertical":""}-item${t}-primary:not([disabled])`;return{[`${o} + ${o}::before`]:{position:"absolute",top:e?i:0,insetInlineStart:e?0:i,backgroundColor:n,content:'""',width:e?"100%":r,height:e?r:"100%"}}};return Object.assign(Object.assign({},s()),s(!0))},pe=(0,T.bf)(["Button","compact"],e=>{const t=F(e);return[(0,ue.G)(t),fe(t),he(t)]},L);const ge={default:["default","outlined"],primary:["primary","solid"],dashed:["default","dashed"],link:["link","link"],text:["default","text"]},me=r.forwardRef((e,t)=>{var n,o;const{loading:p=!1,prefixCls:y,color:b,variant:v,type:w,danger:S=!1,shape:x,size:A,styles:C,disabled:k,className:E,rootClassName:T,children:P,icon:M,iconPosition:O="start",ghost:D=!1,block:R=!1,htmlType:N="button",classNames:F,style:L={},autoInsertSpace:B,autoFocus:$}=e,j=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(e,["loading","prefixCls","color","variant","type","danger","shape","size","styles","disabled","className","rootClassName","children","icon","iconPosition","ghost","block","htmlType","classNames","style","autoInsertSpace","autoFocus"]),U=w||"default",{button:z}=r.useContext(u.QO),V=x||(null==z?void 0:z.shape)||"default",[q,H]=(0,r.useMemo)(()=>{if(b&&v)return[b,v];if(w||S){const e=ge[U]||[];return S?["danger",e[1]]:e}return(null==z?void 0:z.color)&&(null==z?void 0:z.variant)?[z.color,z.variant]:["default","outlined"]},[w,b,v,S,null==z?void 0:z.variant,null==z?void 0:z.color]),G="danger"===q?"dangerous":q,{getPrefixCls:W,direction:K,autoInsertSpace:Y,className:J,style:X,classNames:Z,styles:Q}=(0,u.TP)("button"),ee=null===(n=null!=B?B:Y)||void 0===n||n,te=W("btn",y),[ne,re,oe]=le(te),ie=(0,r.useContext)(d.A),se=null!=k?k:ie,ae=(0,r.useContext)(g),ce=(0,r.useMemo)(()=>function(e){if("object"==typeof e&&e){let t=null==e?void 0:e.delay;return t=Number.isNaN(t)||"number"!=typeof t?0:t,{loading:t<=0,delay:t}}return{loading:!!e,delay:0}}(p),[p]),[ue,de]=(0,r.useState)(ce.loading),[fe,he]=(0,r.useState)(!1),me=(0,r.useRef)(null),ye=(0,a.xK)(t,me),be=1===r.Children.count(P)&&!M&&!(0,m.u1)(H),ve=(0,r.useRef)(!0);r.useEffect(()=>(ve.current=!1,()=>{ve.current=!0}),[]),(0,c.A)(()=>{let e=null;return ce.delay>0?e=setTimeout(()=>{e=null,de(!0)},ce.delay):de(ce.loading),function(){e&&(clearTimeout(e),e=null)}},[ce.delay,ce.loading]),(0,r.useEffect)(()=>{if(!me.current||!ee)return;const e=me.current.textContent||"";be&&(0,m.Ap)(e)?fe||he(!0):fe&&he(!1)}),(0,r.useEffect)(()=>{$&&me.current&&me.current.focus()},[]);const _e=r.useCallback(t=>{var n;ue||se?t.preventDefault():null===(n=e.onClick)||void 0===n||n.call(e,t)},[e.onClick,ue,se]),{compactSize:we,compactItemClassnames:Se}=(0,h.RQ)(te,K),xe=(0,f.A)(e=>{var t,n;return null!==(n=null!==(t=null!=A?A:we)&&void 0!==t?t:ae)&&void 0!==n?n:e}),Ie=xe&&null!==(o={large:"lg",small:"sm",middle:void 0}[xe])&&void 0!==o?o:"",Ae=ue?"loading":M,Ce=(0,s.A)(j,["navigate"]),ke=i()(te,re,oe,{[`${te}-${V}`]:"default"!==V&&V,[`${te}-${U}`]:U,[`${te}-dangerous`]:S,[`${te}-color-${G}`]:G,[`${te}-variant-${H}`]:H,[`${te}-${Ie}`]:Ie,[`${te}-icon-only`]:!P&&0!==P&&!!Ae,[`${te}-background-ghost`]:D&&!(0,m.u1)(H),[`${te}-loading`]:ue,[`${te}-two-chinese-chars`]:fe&&ee&&!ue,[`${te}-block`]:R,[`${te}-rtl`]:"rtl"===K,[`${te}-icon-end`]:"end"===O},Se,E,T,J),Ee=Object.assign(Object.assign({},X),L),Te=i()(null==F?void 0:F.icon,Z.icon),Pe=Object.assign(Object.assign({},(null==C?void 0:C.icon)||{}),Q.icon||{}),Me=M&&!ue?r.createElement(_,{prefixCls:te,className:Te,style:Pe},M):p&&"object"==typeof p&&p.icon?r.createElement(_,{prefixCls:te,className:Te,style:Pe},p.icon):r.createElement(I,{existIcon:!!M,prefixCls:te,loading:ue,mount:ve.current}),Oe=P||0===P?(0,m.uR)(P,be&&ee):null;if(void 0!==Ce.href)return ne(r.createElement("a",Object.assign({},Ce,{className:i()(ke,{[`${te}-disabled`]:se}),href:se?void 0:Ce.href,style:Ee,onClick:_e,ref:ye,tabIndex:se?-1:0}),Me,Oe));let De=r.createElement("button",Object.assign({},j,{type:N,className:ke,style:Ee,onClick:_e,disabled:se,ref:ye}),Me,Oe,Se&&r.createElement(pe,{prefixCls:te}));return(0,m.u1)(H)||(De=r.createElement(l.A,{component:"Button",disabled:ue},De)),ne(De)}),ye=me;ye.Group=e=>{const{getPrefixCls:t,direction:n}=r.useContext(u.QO),{prefixCls:o,size:s,className:a}=e,c=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(e,["prefixCls","size","className"]),l=t("btn-group",o),[,,d]=(0,p.Ay)(),f=r.useMemo(()=>{switch(s){case"large":return"lg";case"small":return"sm";default:return""}},[s]),h=i()(l,{[`${l}-${f}`]:f,[`${l}-rtl`]:"rtl"===n},a,d);return r.createElement(g.Provider,{value:s},r.createElement("div",Object.assign({},c,{className:h})))},ye.__ANT_BUTTON=!0;const be=ye},21687:(e,t,n)=>{"use strict";function r(e){const{pageTransitions:t,messageSendingAnimations:n,mediaViewerAnimations:r,messageComposerAnimations:o,contextMenuAnimations:i,contextMenuBlur:s,rightColumnAnimations:a}=e,c=document.body;c.classList.toggle("no-page-transitions",!t),c.classList.toggle("no-message-sending-animations",!n),c.classList.toggle("no-media-viewer-animations",!r),c.classList.toggle("no-message-composer-animations",!o),c.classList.toggle("no-context-menu-animations",!i),c.classList.toggle("no-menu-blur",!s),c.classList.toggle("no-right-column-animations",!a)}n.d(t,{u:()=>r})},21736:(e,t,n)=>{"use strict";e.exports=n.p+"chat_ai_folder_dark.fd27d8f07ed02cbf2eee.png"},21815:(e,t,n)=>{"use strict";n.d(t,{L:()=>a,l:()=>c});var r=n(83480);let o=Object.assign({},r.A.Modal),i=[];const s=()=>i.reduce((e,t)=>Object.assign(Object.assign({},e),t),r.A.Modal);function a(e){if(e){const t=Object.assign({},e);return i.push(t),o=s(),()=>{i=i.filter(e=>e!==t),o=s()}}o=Object.assign({},r.A.Modal)}function c(){return o}},21849:(e,t,n)=>{"use strict";n.d(t,{A:()=>C,R:()=>I});var r=n(84051),o=n(13439),i=n(23174),s=n(31481),a=n(90709),c=n(70636),l=n(87357),u=n(95807),d=n(9716),f=n(14242),h=n(76023),p=n(35049),g=n(4961),m=n(11217),y=n(17712),b=n(62587),v=n(83057),_=n(59030),w=n(65843),S=n(88554),x=n(54746);const I={micro:h.$,mini:1.5*h.$,tiny:2*h.$,small:2.125*h.$,medium:2.75*h.$,large:3.375*h.$,giant:5.625*h.$,jumbo:7.5*h.$},A=(0,l.x)("Avatar");A.media=A("media"),A.icon=A("icon");const C=(0,r.ph)(({className:e,size:t="large",peer:n,photo:h,webPhoto:C,previewUrl:k,text:E,isSavedMessages:T,isSavedDialog:P,withVideo:M,withStory:O,forPremiumPromo:D,withStoryGap:R,withStorySolid:N,forceFriendStorySolid:F,forceUnreadStorySolid:L,storyViewerOrigin:B,storyViewerMode:$="single-peer",loopIndefinitely:j,noPersonalPhoto:U,asMessageBubble:z,onClick:V,onContextMenu:q,onMouseMove:H})=>{const{openStoryViewer:G}=(0,o.ko)(),W=(0,r.li)(),K=(0,r.li)(0),Y=n&&"isCustomPeer"in n,J=n&&!Y?n:void 0,X=J&&(0,c.mO)(J)?J:void 0,Z=J&&(0,c.vj)(J)?J:void 0,Q=X&&(0,a.PL)(X),ee=J&&(0,a.kE)(J.id),te=J&&(0,a.Qe)(J.id),ne=Z?.isForum;let re,oe;const ie="number"==typeof t?t:I[t],se=M&&h?.isVideo,ae=ie>=I.jumbo;T||Q||(X&&!U||Z?re=(0,a.cP)(n,ae?"big":void 0):h?(re=`photo${h.id}?size=m`,h.isVideo&&M&&(oe=(0,a.Pg)(h))):C&&(re=(0,a.cy)(C)));const ce=(0,r.Kr)(()=>Y?n.avatarIcon:T?P?"my-notes":"avatar-saved-messages":Q?"avatar-deleted-account":ee?"reply-filled":te?"author-hidden":void 0,[Y,T,Q,ee,te,n,P]),le=(0,b.A)(re,!1,i.qZ.BlobUrl),ue=(0,b.A)(oe,!se,i.qZ.BlobUrl),de=le||k,fe=Boolean(de||ue),he=Boolean(ue&&se),pe=(0,v.A)(fe),ge=(0,y.A)(e=>{const t=e.currentTarget;ue&&(j||(K.current+=1,K.current>=3&&(t.style.display="none")))}),me=(0,_.A)();let ye;const be=X?(0,a.Yg)(X):Z?(0,a.Js)(me,Z):E;if(ce)ye=r.Ay.createElement(x.A,{name:ce,className:A.icon,role:"img",ariaLabel:be});else if(fe)ye=r.Ay.createElement(r.Ay.Fragment,null,r.Ay.createElement("img",{src:de,className:(0,l.A)(A.media,"avatar-media",pe,ue&&"poster"),alt:be,decoding:"async",draggable:!1}),he&&r.Ay.createElement(w.A,{canPlay:!0,src:ue,className:(0,l.A)(A.media,"avatar-media","poster"),muted:!0,loop:j,autoPlay:!0,disablePictureInPicture:!0,playsInline:!0,draggable:!1,onEnded:ge}));else if(X){const e=(0,a.Yg)(X);ye=e?(0,f.Qh)(e,2):void 0}else if(Z){const e=(0,a.Js)(me,Z);ye=e&&(0,f.Qh)(e,(0,d.L8)(Z.id)?2:1)}else if(Y){const e=n.title||me(n.titleKey);ye=e&&(0,f.Qh)(e,1)}else E&&(ye=(0,f.Qh)(E,2));const ve=Y&&n.isAvatarSquare||ne&&!((O||N)&&J?.hasStories),_e=Y&&n.withPremiumGradient,we=Y&&n.customPeerAvatarColor,Se=(0,l.A)("Avatar",e,(0,p.y)(n),!n&&E&&"hidden-user",T&&"saved-messages",te&&"anonymous-forwards",Q&&"deleted-account",ee&&"replies-bot-account",_e&&"premium-gradient-bg",ve&&"forum",z&&"message-bubble",(h||C)&&"force-fit",(O&&J?.hasStories||D)&&"with-story-circle",N&&J?.hasStories&&"with-story-solid",N&&F&&"close-friend",N&&(J?.hasUnreadStories||L)&&"has-unread-story",V&&"interactive",!T&&!de&&"no-photo"),xe=Boolean(T||de),{handleClick:Ie,handleMouseDown:Ae}=(0,m.Q)(e=>{if(O&&"disabled"!==$&&J?.hasStories)return e.stopPropagation(),void G({peerId:J.id,isSinglePeer:"single-peer"===$,origin:B});V&&V(e,xe)});return r.Ay.createElement("div",{ref:W,className:Se,id:J?.id&&O?(0,a.kR)(J.id):void 0,"data-peer-id":J?.id,"data-test-sender-id":s.W75?J?.id:void 0,"aria-label":"string"==typeof ye?be:void 0,style:(0,u.A)(`--_size: ${ie}px;`,we&&`--color-user: ${we}`),onClick:Ie,onContextMenu:q,onMouseDown:Ae,onMouseMove:H},r.Ay.createElement("div",{className:"inner"},"string"==typeof ye?(0,g.A)(ye,[ae?"hq_emoji":"emoji"]):ye),O&&J?.hasStories&&r.Ay.createElement(S.A,{peerId:J.id,size:ie,withExtraGap:R}))})},22009:()=>{},22199:(e,t,n)=>{"use strict";n.d(t,{Ey:()=>s,cn:()=>i,i$:()=>a,t4:()=>c,xp:()=>l});var r=n(34164),o=n(50856);function i(...e){return(0,o.QP)((0,r.$)(e))}function s(e){const t=new Date(e),n=new Date,r=t.toDateString()===n.toDateString(),o=t.getFullYear()===n.getFullYear(),i=`${String(t.getHours()).padStart(2,"0")}:${String(t.getMinutes()).padStart(2,"0")}`,s=["January","February","March","April","May","June","July","August","September","October","November","December"][t.getMonth()],a=t.getDate();return r?i:o?`${s} ${a} / ${i}`:`${t.getFullYear()}/${s} ${a} / ${i}`}function a(e){let t=0,n=0,r=e;for(let r=0;r<e.length;r++){const o=e[r];"{"===o?t++:"}"===o?t--:"["===o?n++:"]"===o&&n--}for(;t>0;)r+="}",t--;for(;t<0;)r=`{${r}`,t++;for(;n>0;)r+="]",n--;for(;n<0;)r=`[${r}`,n++;try{return{valid:!0,parsed:JSON.parse(r),fixedJson:r}}catch(e){return{valid:!1,error:e}}}function c(e){return e.match(/https:\/\/calendly\.com\/[^\s?]+\/[^\s?]+(?:\?[^\s]*)?/g)||[]}function l(e,t={}){const{timeZone:n=Intl.DateTimeFormat().resolvedOptions().timeZone,format:r="YYYY-MM-DD HH:mm:ss"}=t,o=new Date(e.replace(" ","T")+"Z"),i=new Intl.DateTimeFormat("en-GB",{timeZone:n,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1}).formatToParts(o).reduce((e,t)=>("literal"!==t.type&&(e[t.type]=t.value),e),{});return r.replace("YYYY",i.year).replace("MM",i.month).replace("DD",i.day).replace("HH",i.hour).replace("mm",i.minute).replace("ss",i.second)}},22237:(e,t,n)=>{"use strict";n.d(t,{Hp:()=>i,cO:()=>l,n5:()=>c});var r=n(46536);const o=Symbol("SIGNAL_MARK");function i(e){return"function"==typeof e&&o in e}const s=new Map;let a;function c(e){const t={value:e,effects:(0,r.h)()};function n(e){const n=t.effects.addCallback(e);return s.has(e)?s.get(e).add(n):s.set(e,new Set([n])),()=>{n();const t=s.get(e);t.delete(n),t.size||s.delete(e)}}return[Object.assign(function(){return a&&n(a),t.value},{[o]:o,subscribe:n,once:function(e){const t=n(()=>{t(),e()});return t}}),function(e){t.value!==e&&(t.value=e,t.effects.runCallbacks())}]}function l(e){s.get(e)?.forEach(e=>{e()}),s.delete(e)}},22370:(e,t,n)=>{"use strict";n.d(t,{$T:()=>y,ph:()=>v,hN:()=>k});var r=n(60436),o=n(5544),i=n(53986),s=n(96540),a=n(89379),c=n(40961),l=n(58168),u=n(64467),d=n(46942),f=n.n(d),h=n(90754),p=n(82284),g=n(16928),m=n(72065);const y=s.forwardRef(function(e,t){var n=e.prefixCls,r=e.style,i=e.className,a=e.duration,c=void 0===a?4.5:a,d=e.showProgress,h=e.pauseOnHover,y=void 0===h||h,b=e.eventKey,v=e.content,_=e.closable,w=e.closeIcon,S=void 0===w?"x":w,x=e.props,I=e.onClick,A=e.onNoticeClose,C=e.times,k=e.hovering,E=s.useState(!1),T=(0,o.A)(E,2),P=T[0],M=T[1],O=s.useState(0),D=(0,o.A)(O,2),R=D[0],N=D[1],F=s.useState(0),L=(0,o.A)(F,2),B=L[0],$=L[1],j=k||P,U=c>0&&d,z=function(){A(b)};s.useEffect(function(){if(!j&&c>0){var e=Date.now()-B,t=setTimeout(function(){z()},1e3*c-B);return function(){y&&clearTimeout(t),$(Date.now()-e)}}},[c,j,C]),s.useEffect(function(){if(!j&&U&&(y||0===B)){var e,t=performance.now();return function n(){cancelAnimationFrame(e),e=requestAnimationFrame(function(e){var r=e+B-t,o=Math.min(r/(1e3*c),1);N(100*o),o<1&&n()})}(),function(){y&&cancelAnimationFrame(e)}}},[c,B,j,U,C]);var V=s.useMemo(function(){return"object"===(0,p.A)(_)&&null!==_?_:_?{closeIcon:S}:{}},[_,S]),q=(0,m.A)(V,!0),H=100-(!R||R<0?0:R>100?100:R),G="".concat(n,"-notice");return s.createElement("div",(0,l.A)({},x,{ref:t,className:f()(G,i,(0,u.A)({},"".concat(G,"-closable"),_)),style:r,onMouseEnter:function(e){var t;M(!0),null==x||null===(t=x.onMouseEnter)||void 0===t||t.call(x,e)},onMouseLeave:function(e){var t;M(!1),null==x||null===(t=x.onMouseLeave)||void 0===t||t.call(x,e)},onClick:I}),s.createElement("div",{className:"".concat(G,"-content")},v),_&&s.createElement("a",(0,l.A)({tabIndex:0,className:"".concat(G,"-close"),onKeyDown:function(e){"Enter"!==e.key&&"Enter"!==e.code&&e.keyCode!==g.A.ENTER||z()},"aria-label":"Close"},q,{onClick:function(e){e.preventDefault(),e.stopPropagation(),z()}}),V.closeIcon),U&&s.createElement("progress",{className:"".concat(G,"-progress"),max:"100",value:H},H+"%"))});var b=s.createContext({});const v=function(e){var t=e.children,n=e.classNames;return s.createElement(b.Provider,{value:{classNames:n}},t)};var _=["className","style","classNames","styles"];const w=function(e){var t,n,c,d,g,m=e.configList,v=e.placement,w=e.prefixCls,S=e.className,x=e.style,I=e.motion,A=e.onAllNoticeRemoved,C=e.onNoticeClose,k=e.stack,E=(0,s.useContext)(b).classNames,T=(0,s.useRef)({}),P=(0,s.useState)(null),M=(0,o.A)(P,2),O=M[0],D=M[1],R=(0,s.useState)([]),N=(0,o.A)(R,2),F=N[0],L=N[1],B=m.map(function(e){return{config:e,key:String(e.key)}}),$=(g={offset:8,threshold:3,gap:16},(t=k)&&"object"===(0,p.A)(t)&&(g.offset=null!==(n=t.offset)&&void 0!==n?n:8,g.threshold=null!==(c=t.threshold)&&void 0!==c?c:3,g.gap=null!==(d=t.gap)&&void 0!==d?d:16),[!!t,g]),j=(0,o.A)($,2),U=j[0],z=j[1],V=z.offset,q=z.threshold,H=z.gap,G=U&&(F.length>0||B.length<=q),W="function"==typeof I?I(v):I;return(0,s.useEffect)(function(){U&&F.length>1&&L(function(e){return e.filter(function(e){return B.some(function(t){var n=t.key;return e===n})})})},[F,B,U]),(0,s.useEffect)(function(){var e,t;U&&T.current[null===(e=B[B.length-1])||void 0===e?void 0:e.key]&&D(T.current[null===(t=B[B.length-1])||void 0===t?void 0:t.key])},[B,U]),s.createElement(h.aF,(0,l.A)({key:v,className:f()(w,"".concat(w,"-").concat(v),null==E?void 0:E.list,S,(0,u.A)((0,u.A)({},"".concat(w,"-stack"),!!U),"".concat(w,"-stack-expanded"),G)),style:x,keys:B,motionAppear:!0},W,{onAllRemoved:function(){A(v)}}),function(e,t){var n=e.config,o=e.className,c=e.style,u=e.index,d=n,h=d.key,p=d.times,g=String(h),m=n,b=m.className,S=m.style,x=m.classNames,I=m.styles,A=(0,i.A)(m,_),k=B.findIndex(function(e){return e.key===g}),P={};if(U){var M=B.length-1-(k>-1?k:u-1),D="top"===v||"bottom"===v?"-50%":"0";if(M>0){var R,N,$;P.height=G?null===(R=T.current[g])||void 0===R?void 0:R.offsetHeight:null==O?void 0:O.offsetHeight;for(var j=0,z=0;z<M;z++){var q;j+=(null===(q=T.current[B[B.length-1-z].key])||void 0===q?void 0:q.offsetHeight)+H}var W=(G?j:M*V)*(v.startsWith("top")?1:-1),K=!G&&null!=O&&O.offsetWidth&&null!==(N=T.current[g])&&void 0!==N&&N.offsetWidth?((null==O?void 0:O.offsetWidth)-2*V*(M<3?M:3))/(null===($=T.current[g])||void 0===$?void 0:$.offsetWidth):1;P.transform="translate3d(".concat(D,", ").concat(W,"px, 0) scaleX(").concat(K,")")}else P.transform="translate3d(".concat(D,", 0, 0)")}return s.createElement("div",{ref:t,className:f()("".concat(w,"-notice-wrapper"),o,null==x?void 0:x.wrapper),style:(0,a.A)((0,a.A)((0,a.A)({},c),P),null==I?void 0:I.wrapper),onMouseEnter:function(){return L(function(e){return e.includes(g)?e:[].concat((0,r.A)(e),[g])})},onMouseLeave:function(){return L(function(e){return e.filter(function(e){return e!==g})})}},s.createElement(y,(0,l.A)({},A,{ref:function(e){k>-1?T.current[g]=e:delete T.current[g]},prefixCls:w,classNames:x,styles:I,className:f()(b,null==E?void 0:E.notice),style:S,times:p,key:h,eventKey:h,onNoticeClose:C,hovering:U&&F.length>0})))})},S=s.forwardRef(function(e,t){var n=e.prefixCls,i=void 0===n?"rc-notification":n,l=e.container,u=e.motion,d=e.maxCount,f=e.className,h=e.style,p=e.onAllRemoved,g=e.stack,m=e.renderNotifications,y=s.useState([]),b=(0,o.A)(y,2),v=b[0],_=b[1],S=function(e){var t,n=v.find(function(t){return t.key===e});null==n||null===(t=n.onClose)||void 0===t||t.call(n),_(function(t){return t.filter(function(t){return t.key!==e})})};s.useImperativeHandle(t,function(){return{open:function(e){_(function(t){var n,o=(0,r.A)(t),i=o.findIndex(function(t){return t.key===e.key}),s=(0,a.A)({},e);return i>=0?(s.times=((null===(n=t[i])||void 0===n?void 0:n.times)||0)+1,o[i]=s):(s.times=0,o.push(s)),d>0&&o.length>d&&(o=o.slice(-d)),o})},close:function(e){S(e)},destroy:function(){_([])}}});var x=s.useState({}),I=(0,o.A)(x,2),A=I[0],C=I[1];s.useEffect(function(){var e={};v.forEach(function(t){var n=t.placement,r=void 0===n?"topRight":n;r&&(e[r]=e[r]||[],e[r].push(t))}),Object.keys(A).forEach(function(t){e[t]=e[t]||[]}),C(e)},[v]);var k=function(e){C(function(t){var n=(0,a.A)({},t);return(n[e]||[]).length||delete n[e],n})},E=s.useRef(!1);if(s.useEffect(function(){Object.keys(A).length>0?E.current=!0:E.current&&(null==p||p(),E.current=!1)},[A]),!l)return null;var T=Object.keys(A);return(0,c.createPortal)(s.createElement(s.Fragment,null,T.map(function(e){var t=A[e],n=s.createElement(w,{key:e,configList:t,placement:e,prefixCls:i,className:null==f?void 0:f(e),style:null==h?void 0:h(e),motion:u,onNoticeClose:S,onAllNoticeRemoved:k,stack:g});return m?m(n,{prefixCls:i,key:e}):n})),l)});var x=n(81470),I=["getContainer","motion","prefixCls","maxCount","className","style","onAllRemoved","stack","renderNotifications"],A=function(){return document.body},C=0;function k(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.getContainer,n=void 0===t?A:t,a=e.motion,c=e.prefixCls,l=e.maxCount,u=e.className,d=e.style,f=e.onAllRemoved,h=e.stack,p=e.renderNotifications,g=(0,i.A)(e,I),m=s.useState(),y=(0,o.A)(m,2),b=y[0],v=y[1],_=s.useRef(),w=s.createElement(S,{container:b,ref:_,prefixCls:c,motion:a,maxCount:l,className:u,style:d,onAllRemoved:f,stack:h,renderNotifications:p}),k=s.useState([]),E=(0,o.A)(k,2),T=E[0],P=E[1],M=(0,x._q)(function(e){var t=function(){for(var e={},t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return n.forEach(function(t){t&&Object.keys(t).forEach(function(n){var r=t[n];void 0!==r&&(e[n]=r)})}),e}(g,e);null!==t.key&&void 0!==t.key||(t.key="rc-notification-".concat(C),C+=1),P(function(e){return[].concat((0,r.A)(e),[{type:"open",config:t}])})}),O=s.useMemo(function(){return{open:M,close:function(e){P(function(t){return[].concat((0,r.A)(t),[{type:"close",key:e}])})},destroy:function(){P(function(e){return[].concat((0,r.A)(e),[{type:"destroy"}])})}}},[]);return s.useEffect(function(){v(n())}),s.useEffect(function(){var e,t;_.current&&T.length&&(T.forEach(function(e){switch(e.type){case"open":_.current.open(e.config);break;case"close":_.current.close(e.key);break;case"destroy":_.current.destroy()}}),P(function(n){return e===n&&t||(e=n,t=n.filter(function(e){return!T.includes(e)})),t}))},[T]),[O,w]}},22487:(e,t,n)=>{"use strict";function r(e,t,n){return(t=function(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e){const t=JSON.parse(JSON.stringify(e));return t.forEach(e=>{e.timestamp=new Date(e.createdAt).getTime()}),t}function i(e){const t=JSON.parse(JSON.stringify(e));return t.forEach(e=>{delete e.timestamp}),t}n.d(t,{Ay:()=>s,R4:()=>i,pC:()=>o});const s=class{constructor(e){this.dbManager=e,r(this,"storeName","summary"),r(this,"db",null),r(this,"chataiStoreManager",void 0),this.db=e.db,this.chataiStoreManager=e}async storeMessage(e){let t;try{t=await this.chataiStoreManager.getDB()}catch(e){return void console.error("Error adding contact:",e)}const n=t.transaction([this.storeName],"readwrite").objectStore(this.storeName).put(e);n.onsuccess=()=>{console.log(`Message ${e.id} stored successfully`)},n.onerror=t=>{console.error(`Error storing message ${e.id}:`,t.target.error)}}async storeMessages(e){let t;try{t=await this.chataiStoreManager.getDB()}catch(e){return void console.error("Error adding contact:",e)}const n=t.transaction([this.storeName],"readwrite"),r=n.objectStore(this.storeName);e.forEach(e=>{const t=r.put(e);t.onsuccess=()=>{console.log(`Message ${e.id} stored successfully`)},t.onerror=t=>{console.error(`Error storing message ${e.id}:`,t.target.error)}}),n.oncomplete=()=>{console.log("All messages stored successfully")},n.onerror=e=>{console.error("Error storing messages:",e.target.error)}}async getMessages(e,t){let n;try{n=await this.chataiStoreManager.getDB()}catch(e){return console.error("Error adding contact:",e),Promise.reject(e)}return new Promise((r,o)=>{const i=n.transaction(this.storeName,"readonly").objectStore(this.storeName).index("timestamp"),s=void 0!==e?IDBKeyRange.bound(0,e,!1,!0):IDBKeyRange.bound(0,Number.MAX_SAFE_INTEGER),a=i.openCursor(s,"prev"),c=[];let l,u=0;a.onsuccess=e=>{const n=e.target.result;n&&u<t?(c.unshift(n.value),l=n.value.timestamp,u++,n.continue()):r({messages:c,lastTime:l,hasMore:u===t})},a.onerror=()=>o(new Error("Failed to fetch messages"))})}async getAllMessages(){let e;try{e=await this.chataiStoreManager.getDB()}catch(e){return console.error("Error adding contact:",e),Promise.reject(e)}return new Promise((t,n)=>{const r=e.transaction(this.storeName,"readonly").objectStore(this.storeName).getAll();r.onsuccess=()=>{t(r.result)},r.onerror=()=>n(new Error("Failed to fetch messages"))})}async delMessage(e){let t;try{t=await this.chataiStoreManager.getDB()}catch(e){return console.error("Error adding contact:",e),Promise.reject(e)}return new Promise((n,r)=>{const o=t.transaction(this.storeName,"readwrite").objectStore(this.storeName).delete(e);o.onsuccess=()=>{console.log(`Deleted record with key: ${e}`),n()},o.onerror=()=>r(new Error("Failed to delete record"))})}}},22551:(e,t,n)=>{"use strict";var r=n(96540),o=n(69982);function i(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,a={};function c(e,t){l(e,t),l(e+"Capture",t)}function l(e,t){for(a[e]=t,e=0;e<t.length;e++)s.add(t[e])}var u=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),d=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h={},p={};function g(e,t,n,r,o,i,s){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=s}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){m[e]=new g(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];m[t]=new g(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){m[e]=new g(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){m[e]=new g(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){m[e]=new g(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){m[e]=new g(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){m[e]=new g(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){m[e]=new g(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){m[e]=new g(e,5,!1,e.toLowerCase(),null,!1,!1)});var y=/[\-:]([a-z])/g;function b(e){return e[1].toUpperCase()}function v(e,t,n,r){var o=m.hasOwnProperty(t)?m[t]:null;(null!==o?0!==o.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null==t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,o,r)&&(n=null),r||null===o?function(e){return!!d.call(p,e)||!d.call(h,e)&&(f.test(e)?p[e]=!0:(h[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):o.mustUseProperty?e[o.propertyName]=null===n?3!==o.type&&"":n:(t=o.attributeName,r=o.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(o=o.type)||4===o&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(y,b);m[t]=new g(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(y,b);m[t]=new g(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(y,b);m[t]=new g(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){m[e]=new g(e,1,!1,e.toLowerCase(),null,!1,!1)}),m.xlinkHref=new g("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){m[e]=new g(e,1,!1,e.toLowerCase(),null,!0,!0)});var _=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),S=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),C=Symbol.for("react.provider"),k=Symbol.for("react.context"),E=Symbol.for("react.forward_ref"),T=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),O=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var D=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var R=Symbol.iterator;function N(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=R&&e[R]||e["@@iterator"])?e:null}var F,L=Object.assign;function B(e){if(void 0===F)try{throw Error()}catch(e){var t=e.stack.trim().match(/\n( *(at )?)/);F=t&&t[1]||""}return"\n"+F+e}var $=!1;function j(e,t){if(!e||$)return"";$=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(e){var r=e}Reflect.construct(e,[],t)}else{try{t.call()}catch(e){r=e}e.call(t.prototype)}else{try{throw Error()}catch(e){r=e}e()}}catch(t){if(t&&r&&"string"==typeof t.stack){for(var o=t.stack.split("\n"),i=r.stack.split("\n"),s=o.length-1,a=i.length-1;1<=s&&0<=a&&o[s]!==i[a];)a--;for(;1<=s&&0<=a;s--,a--)if(o[s]!==i[a]){if(1!==s||1!==a)do{if(s--,0>--a||o[s]!==i[a]){var c="\n"+o[s].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}}while(1<=s&&0<=a);break}}}finally{$=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?B(e):""}function U(e){switch(e.tag){case 5:return B(e.type);case 16:return B("Lazy");case 13:return B("Suspense");case 19:return B("SuspenseList");case 0:case 2:case 15:return j(e.type,!1);case 11:return j(e.type.render,!1);case 1:return j(e.type,!0);default:return""}}function z(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case x:return"Fragment";case S:return"Portal";case A:return"Profiler";case I:return"StrictMode";case T:return"Suspense";case P:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case k:return(e.displayName||"Context")+".Consumer";case C:return(e._context.displayName||"Context")+".Provider";case E:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case M:return null!==(t=e.displayName||null)?t:z(e.type)||"Memo";case O:t=e._payload,e=e._init;try{return z(e(t))}catch(e){}}return null}function V(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return z(t);case 8:return t===I?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"==typeof t)return t.displayName||t.name||null;if("string"==typeof t)return t}return null}function q(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function H(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function G(e){e._valueTracker||(e._valueTracker=function(e){var t=H(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var o=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(e){r=""+e,i.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function W(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=H(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function K(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Y(e,t){var n=t.checked;return L({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function J(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=q(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function X(e,t){null!=(t=t.checked)&&v(e,"checked",t,!1)}function Z(e,t){X(e,t);var n=q(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,q(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Q(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&K(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&r&&(e[n].defaultSelected=!0)}else{for(n=""+q(n),t=null,o=0;o<e.length;o++){if(e[o].value===n)return e[o].selected=!0,void(r&&(e[o].defaultSelected=!0));null!==t||e[o].disabled||(t=e[o])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(i(91));return L({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function oe(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(i(92));if(te(n)){if(1<n.length)throw Error(i(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:q(n)}}function ie(e,t){var n=q(t.value),r=q(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function se(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ae(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ce(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ae(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var le,ue,de=(ue=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((le=le||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=le.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction(function(){return ue(e,t)})}:ue);function fe(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var he={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ge(e,t,n){return null==t||"boolean"==typeof t||""===t?"":n||"number"!=typeof t||0===t||he.hasOwnProperty(e)&&he[e]?(""+t).trim():t+"px"}function me(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),o=ge(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,o):e[n]=o}}Object.keys(he).forEach(function(e){pe.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),he[t]=he[e]})});var ye=L({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function be(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(i(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(i(60));if("object"!=typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(i(61))}if(null!=t.style&&"object"!=typeof t.style)throw Error(i(62))}}function ve(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _e=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Se=null,xe=null,Ie=null;function Ae(e){if(e=_o(e)){if("function"!=typeof Se)throw Error(i(280));var t=e.stateNode;t&&(t=So(t),Se(e.stateNode,e.type,t))}}function Ce(e){xe?Ie?Ie.push(e):Ie=[e]:xe=e}function ke(){if(xe){var e=xe,t=Ie;if(Ie=xe=null,Ae(e),t)for(e=0;e<t.length;e++)Ae(t[e])}}function Ee(e,t){return e(t)}function Te(){}var Pe=!1;function Me(e,t,n){if(Pe)return e(t,n);Pe=!0;try{return Ee(e,t,n)}finally{Pe=!1,(null!==xe||null!==Ie)&&(Te(),ke())}}function Oe(e,t){var n=e.stateNode;if(null===n)return null;var r=So(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw Error(i(231,t,typeof n));return n}var De=!1;if(u)try{var Re={};Object.defineProperty(Re,"passive",{get:function(){De=!0}}),window.addEventListener("test",Re,Re),window.removeEventListener("test",Re,Re)}catch(ue){De=!1}function Ne(e,t,n,r,o,i,s,a,c){var l=Array.prototype.slice.call(arguments,3);try{t.apply(n,l)}catch(e){this.onError(e)}}var Fe=!1,Le=null,Be=!1,$e=null,je={onError:function(e){Fe=!0,Le=e}};function Ue(e,t,n,r,o,i,s,a,c){Fe=!1,Le=null,Ne.apply(je,arguments)}function ze(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{!!(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Ve(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&null!==(e=e.alternate)&&(t=e.memoizedState),null!==t)return t.dehydrated}return null}function qe(e){if(ze(e)!==e)throw Error(i(188))}function He(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=ze(e)))throw Error(i(188));return t!==e?null:e}for(var n=e,r=t;;){var o=n.return;if(null===o)break;var s=o.alternate;if(null===s){if(null!==(r=o.return)){n=r;continue}break}if(o.child===s.child){for(s=o.child;s;){if(s===n)return qe(o),e;if(s===r)return qe(o),t;s=s.sibling}throw Error(i(188))}if(n.return!==r.return)n=o,r=s;else{for(var a=!1,c=o.child;c;){if(c===n){a=!0,n=o,r=s;break}if(c===r){a=!0,r=o,n=s;break}c=c.sibling}if(!a){for(c=s.child;c;){if(c===n){a=!0,n=s,r=o;break}if(c===r){a=!0,r=s,n=o;break}c=c.sibling}if(!a)throw Error(i(189))}}if(n.alternate!==r)throw Error(i(190))}if(3!==n.tag)throw Error(i(188));return n.stateNode.current===n?e:t}(e))?Ge(e):null}function Ge(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ge(e);if(null!==t)return t;e=e.sibling}return null}var We=o.unstable_scheduleCallback,Ke=o.unstable_cancelCallback,Ye=o.unstable_shouldYield,Je=o.unstable_requestPaint,Xe=o.unstable_now,Ze=o.unstable_getCurrentPriorityLevel,Qe=o.unstable_ImmediatePriority,et=o.unstable_UserBlockingPriority,tt=o.unstable_NormalPriority,nt=o.unstable_LowPriority,rt=o.unstable_IdlePriority,ot=null,it=null,st=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(at(e)/ct|0)|0},at=Math.log,ct=Math.LN2,lt=64,ut=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ft(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,o=e.suspendedLanes,i=e.pingedLanes,s=268435455&n;if(0!==s){var a=s&~o;0!==a?r=dt(a):0!==(i&=s)&&(r=dt(i))}else 0!==(s=n&~o)?r=dt(s):0!==i&&(r=dt(i));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&o)&&((o=r&-r)>=(i=t&-t)||16===o&&4194240&i))return t;if(4&r&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)o=1<<(n=31-st(t)),r|=e[n],t&=~o;return r}function ht(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!=(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function gt(){var e=lt;return!(4194240&(lt<<=1))&&(lt=64),e}function mt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-st(t)]=n}function bt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-st(n),o=1<<r;o&t|e[r]&t&&(e[r]|=t),n&=~o}}var vt=0;function _t(e){return 1<(e&=-e)?4<e?268435455&e?16:536870912:4:1}var wt,St,xt,It,At,Ct=!1,kt=[],Et=null,Tt=null,Pt=null,Mt=new Map,Ot=new Map,Dt=[],Rt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Nt(e,t){switch(e){case"focusin":case"focusout":Et=null;break;case"dragenter":case"dragleave":Tt=null;break;case"mouseover":case"mouseout":Pt=null;break;case"pointerover":case"pointerout":Mt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ot.delete(t.pointerId)}}function Ft(e,t,n,r,o,i){return null===e||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[o]},null!==t&&null!==(t=_o(t))&&St(t),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==o&&-1===t.indexOf(o)&&t.push(o),e)}function Lt(e){var t=vo(e.target);if(null!==t){var n=ze(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Ve(n)))return e.blockedOn=t,void At(e.priority,function(){xt(n)})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Bt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Yt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=_o(n))&&St(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);_e=r,n.target.dispatchEvent(r),_e=null,t.shift()}return!0}function $t(e,t,n){Bt(e)&&n.delete(t)}function jt(){Ct=!1,null!==Et&&Bt(Et)&&(Et=null),null!==Tt&&Bt(Tt)&&(Tt=null),null!==Pt&&Bt(Pt)&&(Pt=null),Mt.forEach($t),Ot.forEach($t)}function Ut(e,t){e.blockedOn===t&&(e.blockedOn=null,Ct||(Ct=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,jt)))}function zt(e){function t(t){return Ut(t,e)}if(0<kt.length){Ut(kt[0],e);for(var n=1;n<kt.length;n++){var r=kt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Et&&Ut(Et,e),null!==Tt&&Ut(Tt,e),null!==Pt&&Ut(Pt,e),Mt.forEach(t),Ot.forEach(t),n=0;n<Dt.length;n++)(r=Dt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Dt.length&&null===(n=Dt[0]).blockedOn;)Lt(n),null===n.blockedOn&&Dt.shift()}var Vt=_.ReactCurrentBatchConfig,qt=!0;function Ht(e,t,n,r){var o=vt,i=Vt.transition;Vt.transition=null;try{vt=1,Wt(e,t,n,r)}finally{vt=o,Vt.transition=i}}function Gt(e,t,n,r){var o=vt,i=Vt.transition;Vt.transition=null;try{vt=4,Wt(e,t,n,r)}finally{vt=o,Vt.transition=i}}function Wt(e,t,n,r){if(qt){var o=Yt(e,t,n,r);if(null===o)qr(e,t,r,Kt,n),Nt(e,r);else if(function(e,t,n,r,o){switch(t){case"focusin":return Et=Ft(Et,e,t,n,r,o),!0;case"dragenter":return Tt=Ft(Tt,e,t,n,r,o),!0;case"mouseover":return Pt=Ft(Pt,e,t,n,r,o),!0;case"pointerover":var i=o.pointerId;return Mt.set(i,Ft(Mt.get(i)||null,e,t,n,r,o)),!0;case"gotpointercapture":return i=o.pointerId,Ot.set(i,Ft(Ot.get(i)||null,e,t,n,r,o)),!0}return!1}(o,e,t,n,r))r.stopPropagation();else if(Nt(e,r),4&t&&-1<Rt.indexOf(e)){for(;null!==o;){var i=_o(o);if(null!==i&&wt(i),null===(i=Yt(e,t,n,r))&&qr(e,t,r,Kt,n),i===o)break;o=i}null!==o&&r.stopPropagation()}else qr(e,t,r,null,n)}}var Kt=null;function Yt(e,t,n,r){if(Kt=null,null!==(e=vo(e=we(r))))if(null===(t=ze(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=Ve(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Kt=e,null}function Jt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ze()){case Qe:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Xt=null,Zt=null,Qt=null;function en(){if(Qt)return Qt;var e,t,n=Zt,r=n.length,o="value"in Xt?Xt.value:Xt.textContent,i=o.length;for(e=0;e<r&&n[e]===o[e];e++);var s=r-e;for(t=1;t<=s&&n[r-t]===o[i-t];t++);return Qt=o.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function on(e){function t(t,n,r,o,i){for(var s in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=o,this.target=i,this.currentTarget=null,e)e.hasOwnProperty(s)&&(t=e[s],this[s]=t?t(o):o[s]);return this.isDefaultPrevented=(null!=o.defaultPrevented?o.defaultPrevented:!1===o.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return L(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var sn,an,cn,ln={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=on(ln),dn=L({},ln,{view:0,detail:0}),fn=on(dn),hn=L({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:An,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==cn&&(cn&&"mousemove"===e.type?(sn=e.screenX-cn.screenX,an=e.screenY-cn.screenY):an=sn=0,cn=e),sn)},movementY:function(e){return"movementY"in e?e.movementY:an}}),pn=on(hn),gn=on(L({},hn,{dataTransfer:0})),mn=on(L({},dn,{relatedTarget:0})),yn=on(L({},ln,{animationName:0,elapsedTime:0,pseudoElement:0})),bn=L({},ln,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),vn=on(bn),_n=on(L({},ln,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Sn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function In(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=xn[e])&&!!t[e]}function An(){return In}var Cn=L({},dn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Sn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:An,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),kn=on(Cn),En=on(L({},hn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Tn=on(L({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:An})),Pn=on(L({},ln,{propertyName:0,elapsedTime:0,pseudoElement:0})),Mn=L({},hn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),On=on(Mn),Dn=[9,13,27,32],Rn=u&&"CompositionEvent"in window,Nn=null;u&&"documentMode"in document&&(Nn=document.documentMode);var Fn=u&&"TextEvent"in window&&!Nn,Ln=u&&(!Rn||Nn&&8<Nn&&11>=Nn),Bn=String.fromCharCode(32),$n=!1;function jn(e,t){switch(e){case"keyup":return-1!==Dn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Un(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var zn=!1,Vn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Vn[e.type]:"textarea"===t}function Hn(e,t,n,r){Ce(r),0<(t=Gr(t,"onChange")).length&&(n=new un("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Gn=null,Wn=null;function Kn(e){Br(e,0)}function Yn(e){if(W(wo(e)))return e}function Jn(e,t){if("change"===e)return t}var Xn=!1;if(u){var Zn;if(u){var Qn="oninput"in document;if(!Qn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Qn="function"==typeof er.oninput}Zn=Qn}else Zn=!1;Xn=Zn&&(!document.documentMode||9<document.documentMode)}function tr(){Gn&&(Gn.detachEvent("onpropertychange",nr),Wn=Gn=null)}function nr(e){if("value"===e.propertyName&&Yn(Wn)){var t=[];Hn(t,Wn,e,we(e)),Me(Kn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Wn=n,(Gn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function or(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Yn(Wn)}function ir(e,t){if("click"===e)return Yn(t)}function sr(e,t){if("input"===e||"change"===e)return Yn(t)}var ar="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t};function cr(e,t){if(ar(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var o=n[r];if(!d.call(t,o)||!ar(e[o],t[o]))return!1}return!0}function lr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ur(e,t){var n,r=lr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=lr(r)}}function dr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?dr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function fr(){for(var e=window,t=K();t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(e){n=!1}if(!n)break;t=K((e=t.contentWindow).document)}return t}function hr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=fr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&dr(n.ownerDocument.documentElement,n)){if(null!==r&&hr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var o=n.textContent.length,i=Math.min(r.start,o);r=void 0===r.end?i:Math.min(r.end,o),!e.extend&&i>r&&(o=r,r=i,i=o),o=ur(n,i);var s=ur(n,r);o&&s&&(1!==e.rangeCount||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&((t=t.createRange()).setStart(o.node,o.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"==typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var gr=u&&"documentMode"in document&&11>=document.documentMode,mr=null,yr=null,br=null,vr=!1;function _r(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;vr||null==mr||mr!==K(r)||(r="selectionStart"in(r=mr)&&hr(r)?{start:r.selectionStart,end:r.selectionEnd}:{anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},br&&cr(br,r)||(br=r,0<(r=Gr(yr,"onSelect")).length&&(t=new un("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=mr)))}function wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Sr={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},xr={},Ir={};function Ar(e){if(xr[e])return xr[e];if(!Sr[e])return e;var t,n=Sr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Ir)return xr[e]=n[t];return e}u&&(Ir=document.createElement("div").style,"AnimationEvent"in window||(delete Sr.animationend.animation,delete Sr.animationiteration.animation,delete Sr.animationstart.animation),"TransitionEvent"in window||delete Sr.transitionend.transition);var Cr=Ar("animationend"),kr=Ar("animationiteration"),Er=Ar("animationstart"),Tr=Ar("transitionend"),Pr=new Map,Mr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Or(e,t){Pr.set(e,t),c(t,[e])}for(var Dr=0;Dr<Mr.length;Dr++){var Rr=Mr[Dr];Or(Rr.toLowerCase(),"on"+(Rr[0].toUpperCase()+Rr.slice(1)))}Or(Cr,"onAnimationEnd"),Or(kr,"onAnimationIteration"),Or(Er,"onAnimationStart"),Or("dblclick","onDoubleClick"),Or("focusin","onFocus"),Or("focusout","onBlur"),Or(Tr,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Nr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Fr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Nr));function Lr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,o,s,a,c,l){if(Ue.apply(this,arguments),Fe){if(!Fe)throw Error(i(198));var u=Le;Fe=!1,Le=null,Be||(Be=!0,$e=u)}}(r,t,void 0,e),e.currentTarget=null}function Br(e,t){t=!!(4&t);for(var n=0;n<e.length;n++){var r=e[n],o=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var s=r.length-1;0<=s;s--){var a=r[s],c=a.instance,l=a.currentTarget;if(a=a.listener,c!==i&&o.isPropagationStopped())break e;Lr(o,a,l),i=c}else for(s=0;s<r.length;s++){if(c=(a=r[s]).instance,l=a.currentTarget,a=a.listener,c!==i&&o.isPropagationStopped())break e;Lr(o,a,l),i=c}}}if(Be)throw e=$e,Be=!1,$e=null,e}function $r(e,t){var n=t[mo];void 0===n&&(n=t[mo]=new Set);var r=e+"__bubble";n.has(r)||(Vr(t,e,2,!1),n.add(r))}function jr(e,t,n){var r=0;t&&(r|=4),Vr(n,e,r,t)}var Ur="_reactListening"+Math.random().toString(36).slice(2);function zr(e){if(!e[Ur]){e[Ur]=!0,s.forEach(function(t){"selectionchange"!==t&&(Fr.has(t)||jr(t,!1,e),jr(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Ur]||(t[Ur]=!0,jr("selectionchange",!1,t))}}function Vr(e,t,n,r){switch(Jt(t)){case 1:var o=Ht;break;case 4:o=Gt;break;default:o=Wt}n=o.bind(null,t,n,e),o=void 0,!De||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(o=!0),r?void 0!==o?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):void 0!==o?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function qr(e,t,n,r,o){var i=r;if(!(1&t||2&t||null===r))e:for(;;){if(null===r)return;var s=r.tag;if(3===s||4===s){var a=r.stateNode.containerInfo;if(a===o||8===a.nodeType&&a.parentNode===o)break;if(4===s)for(s=r.return;null!==s;){var c=s.tag;if((3===c||4===c)&&((c=s.stateNode.containerInfo)===o||8===c.nodeType&&c.parentNode===o))return;s=s.return}for(;null!==a;){if(null===(s=vo(a)))return;if(5===(c=s.tag)||6===c){r=i=s;continue e}a=a.parentNode}}r=r.return}Me(function(){var r=i,o=we(n),s=[];e:{var a=Pr.get(e);if(void 0!==a){var c=un,l=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":c=kn;break;case"focusin":l="focus",c=mn;break;case"focusout":l="blur",c=mn;break;case"beforeblur":case"afterblur":c=mn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":c=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":c=gn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":c=Tn;break;case Cr:case kr:case Er:c=yn;break;case Tr:c=Pn;break;case"scroll":c=fn;break;case"wheel":c=On;break;case"copy":case"cut":case"paste":c=vn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":c=En}var u=!!(4&t),d=!u&&"scroll"===e,f=u?null!==a?a+"Capture":null:a;u=[];for(var h,p=r;null!==p;){var g=(h=p).stateNode;if(5===h.tag&&null!==g&&(h=g,null!==f&&null!=(g=Oe(p,f))&&u.push(Hr(p,g,h))),d)break;p=p.return}0<u.length&&(a=new c(a,l,null,n,o),s.push({event:a,listeners:u}))}}if(!(7&t)){if(c="mouseout"===e||"pointerout"===e,(!(a="mouseover"===e||"pointerover"===e)||n===_e||!(l=n.relatedTarget||n.fromElement)||!vo(l)&&!l[go])&&(c||a)&&(a=o.window===o?o:(a=o.ownerDocument)?a.defaultView||a.parentWindow:window,c?(c=r,null!==(l=(l=n.relatedTarget||n.toElement)?vo(l):null)&&(l!==(d=ze(l))||5!==l.tag&&6!==l.tag)&&(l=null)):(c=null,l=r),c!==l)){if(u=pn,g="onMouseLeave",f="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(u=En,g="onPointerLeave",f="onPointerEnter",p="pointer"),d=null==c?a:wo(c),h=null==l?a:wo(l),(a=new u(g,p+"leave",c,n,o)).target=d,a.relatedTarget=h,g=null,vo(o)===r&&((u=new u(f,p+"enter",l,n,o)).target=h,u.relatedTarget=d,g=u),d=g,c&&l)e:{for(f=l,p=0,h=u=c;h;h=Wr(h))p++;for(h=0,g=f;g;g=Wr(g))h++;for(;0<p-h;)u=Wr(u),p--;for(;0<h-p;)f=Wr(f),h--;for(;p--;){if(u===f||null!==f&&u===f.alternate)break e;u=Wr(u),f=Wr(f)}u=null}else u=null;null!==c&&Kr(s,a,c,u,!1),null!==l&&null!==d&&Kr(s,d,l,u,!0)}if("select"===(c=(a=r?wo(r):window).nodeName&&a.nodeName.toLowerCase())||"input"===c&&"file"===a.type)var m=Jn;else if(qn(a))if(Xn)m=sr;else{m=or;var y=rr}else(c=a.nodeName)&&"input"===c.toLowerCase()&&("checkbox"===a.type||"radio"===a.type)&&(m=ir);switch(m&&(m=m(e,r))?Hn(s,m,n,o):(y&&y(e,a,r),"focusout"===e&&(y=a._wrapperState)&&y.controlled&&"number"===a.type&&ee(a,"number",a.value)),y=r?wo(r):window,e){case"focusin":(qn(y)||"true"===y.contentEditable)&&(mr=y,yr=r,br=null);break;case"focusout":br=yr=mr=null;break;case"mousedown":vr=!0;break;case"contextmenu":case"mouseup":case"dragend":vr=!1,_r(s,n,o);break;case"selectionchange":if(gr)break;case"keydown":case"keyup":_r(s,n,o)}var b;if(Rn)e:{switch(e){case"compositionstart":var v="onCompositionStart";break e;case"compositionend":v="onCompositionEnd";break e;case"compositionupdate":v="onCompositionUpdate";break e}v=void 0}else zn?jn(e,n)&&(v="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(v="onCompositionStart");v&&(Ln&&"ko"!==n.locale&&(zn||"onCompositionStart"!==v?"onCompositionEnd"===v&&zn&&(b=en()):(Zt="value"in(Xt=o)?Xt.value:Xt.textContent,zn=!0)),0<(y=Gr(r,v)).length&&(v=new _n(v,e,null,n,o),s.push({event:v,listeners:y}),(b||null!==(b=Un(n)))&&(v.data=b))),(b=Fn?function(e,t){switch(e){case"compositionend":return Un(t);case"keypress":return 32!==t.which?null:($n=!0,Bn);case"textInput":return(e=t.data)===Bn&&$n?null:e;default:return null}}(e,n):function(e,t){if(zn)return"compositionend"===e||!Rn&&jn(e,t)?(e=en(),Qt=Zt=Xt=null,zn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ln&&"ko"!==t.locale?null:t.data}}(e,n))&&0<(r=Gr(r,"onBeforeInput")).length&&(o=new _n("onBeforeInput","beforeinput",null,n,o),s.push({event:o,listeners:r}),o.data=b)}Br(s,t)})}function Hr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Gr(e,t){for(var n=t+"Capture",r=[];null!==e;){var o=e,i=o.stateNode;5===o.tag&&null!==i&&(o=i,null!=(i=Oe(e,n))&&r.unshift(Hr(e,i,o)),null!=(i=Oe(e,t))&&r.push(Hr(e,i,o))),e=e.return}return r}function Wr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Kr(e,t,n,r,o){for(var i=t._reactName,s=[];null!==n&&n!==r;){var a=n,c=a.alternate,l=a.stateNode;if(null!==c&&c===r)break;5===a.tag&&null!==l&&(a=l,o?null!=(c=Oe(n,i))&&s.unshift(Hr(n,c,a)):o||null!=(c=Oe(n,i))&&s.push(Hr(n,c,a))),n=n.return}0!==s.length&&e.push({event:t,listeners:s})}var Yr=/\r\n?/g,Jr=/\u0000|\uFFFD/g;function Xr(e){return("string"==typeof e?e:""+e).replace(Yr,"\n").replace(Jr,"")}function Zr(e,t,n){if(t=Xr(t),Xr(e)!==t&&n)throw Error(i(425))}function Qr(){}var eo=null,to=null;function no(e,t){return"textarea"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ro="function"==typeof setTimeout?setTimeout:void 0,oo="function"==typeof clearTimeout?clearTimeout:void 0,io="function"==typeof Promise?Promise:void 0,so="function"==typeof queueMicrotask?queueMicrotask:void 0!==io?function(e){return io.resolve(null).then(e).catch(ao)}:ro;function ao(e){setTimeout(function(){throw e})}function co(e,t){var n=t,r=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&8===o.nodeType)if("/$"===(n=o.data)){if(0===r)return e.removeChild(o),void zt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=o}while(n);zt(t)}function lo(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function uo(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var fo=Math.random().toString(36).slice(2),ho="__reactFiber$"+fo,po="__reactProps$"+fo,go="__reactContainer$"+fo,mo="__reactEvents$"+fo,yo="__reactListeners$"+fo,bo="__reactHandles$"+fo;function vo(e){var t=e[ho];if(t)return t;for(var n=e.parentNode;n;){if(t=n[go]||n[ho]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=uo(e);null!==e;){if(n=e[ho])return n;e=uo(e)}return t}n=(e=n).parentNode}return null}function _o(e){return!(e=e[ho]||e[go])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function wo(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(i(33))}function So(e){return e[po]||null}var xo=[],Io=-1;function Ao(e){return{current:e}}function Co(e){0>Io||(e.current=xo[Io],xo[Io]=null,Io--)}function ko(e,t){Io++,xo[Io]=e.current,e.current=t}var Eo={},To=Ao(Eo),Po=Ao(!1),Mo=Eo;function Oo(e,t){var n=e.type.contextTypes;if(!n)return Eo;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var o,i={};for(o in n)i[o]=t[o];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Do(e){return null!=e.childContextTypes}function Ro(){Co(Po),Co(To)}function No(e,t,n){if(To.current!==Eo)throw Error(i(168));ko(To,t),ko(Po,n)}function Fo(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!=typeof r.getChildContext)return n;for(var o in r=r.getChildContext())if(!(o in t))throw Error(i(108,V(e)||"Unknown",o));return L({},n,r)}function Lo(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Eo,Mo=To.current,ko(To,e),ko(Po,Po.current),!0}function Bo(e,t,n){var r=e.stateNode;if(!r)throw Error(i(169));n?(e=Fo(e,t,Mo),r.__reactInternalMemoizedMergedChildContext=e,Co(Po),Co(To),ko(To,e)):Co(Po),ko(Po,n)}var $o=null,jo=!1,Uo=!1;function zo(e){null===$o?$o=[e]:$o.push(e)}function Vo(){if(!Uo&&null!==$o){Uo=!0;var e=0,t=vt;try{var n=$o;for(vt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}$o=null,jo=!1}catch(t){throw null!==$o&&($o=$o.slice(e+1)),We(Qe,Vo),t}finally{vt=t,Uo=!1}}return null}var qo=[],Ho=0,Go=null,Wo=0,Ko=[],Yo=0,Jo=null,Xo=1,Zo="";function Qo(e,t){qo[Ho++]=Wo,qo[Ho++]=Go,Go=e,Wo=t}function ei(e,t,n){Ko[Yo++]=Xo,Ko[Yo++]=Zo,Ko[Yo++]=Jo,Jo=e;var r=Xo;e=Zo;var o=32-st(r)-1;r&=~(1<<o),n+=1;var i=32-st(t)+o;if(30<i){var s=o-o%5;i=(r&(1<<s)-1).toString(32),r>>=s,o-=s,Xo=1<<32-st(t)+o|n<<o|r,Zo=i+e}else Xo=1<<i|n<<o|r,Zo=e}function ti(e){null!==e.return&&(Qo(e,1),ei(e,1,0))}function ni(e){for(;e===Go;)Go=qo[--Ho],qo[Ho]=null,Wo=qo[--Ho],qo[Ho]=null;for(;e===Jo;)Jo=Ko[--Yo],Ko[Yo]=null,Zo=Ko[--Yo],Ko[Yo]=null,Xo=Ko[--Yo],Ko[Yo]=null}var ri=null,oi=null,ii=!1,si=null;function ai(e,t){var n=Ml(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function ci(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ri=e,oi=lo(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ri=e,oi=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Jo?{id:Xo,overflow:Zo}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Ml(18,null,null,0)).stateNode=t,n.return=e,e.child=n,ri=e,oi=null,!0);default:return!1}}function li(e){return!(!(1&e.mode)||128&e.flags)}function ui(e){if(ii){var t=oi;if(t){var n=t;if(!ci(e,t)){if(li(e))throw Error(i(418));t=lo(n.nextSibling);var r=ri;t&&ci(e,t)?ai(r,n):(e.flags=-4097&e.flags|2,ii=!1,ri=e)}}else{if(li(e))throw Error(i(418));e.flags=-4097&e.flags|2,ii=!1,ri=e}}}function di(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ri=e}function fi(e){if(e!==ri)return!1;if(!ii)return di(e),ii=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!no(e.type,e.memoizedProps)),t&&(t=oi)){if(li(e))throw hi(),Error(i(418));for(;t;)ai(e,t),t=lo(t.nextSibling)}if(di(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(i(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){oi=lo(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}oi=null}}else oi=ri?lo(e.stateNode.nextSibling):null;return!0}function hi(){for(var e=oi;e;)e=lo(e.nextSibling)}function pi(){oi=ri=null,ii=!1}function gi(e){null===si?si=[e]:si.push(e)}var mi=_.ReactCurrentBatchConfig;function yi(e,t,n){if(null!==(e=n.ref)&&"function"!=typeof e&&"object"!=typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(i(309));var r=n.stateNode}if(!r)throw Error(i(147,e));var o=r,s=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===s?t.ref:(t=function(e){var t=o.refs;null===e?delete t[s]:t[s]=e},t._stringRef=s,t)}if("string"!=typeof e)throw Error(i(284));if(!n._owner)throw Error(i(290,e))}return e}function bi(e,t){throw e=Object.prototype.toString.call(t),Error(i(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function vi(e){return(0,e._init)(e._payload)}function _i(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function o(e,t){return(e=Dl(e,t)).index=0,e.sibling=null,e}function s(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function a(t){return e&&null===t.alternate&&(t.flags|=2),t}function c(e,t,n,r){return null===t||6!==t.tag?((t=Ll(n,e.mode,r)).return=e,t):((t=o(t,n)).return=e,t)}function l(e,t,n,r){var i=n.type;return i===x?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===i||"object"==typeof i&&null!==i&&i.$$typeof===O&&vi(i)===t.type)?((r=o(t,n.props)).ref=yi(e,t,n),r.return=e,r):((r=Rl(n.type,n.key,n.props,null,e.mode,r)).ref=yi(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Bl(n,e.mode,r)).return=e,t):((t=o(t,n.children||[])).return=e,t)}function d(e,t,n,r,i){return null===t||7!==t.tag?((t=Nl(n,e.mode,r,i)).return=e,t):((t=o(t,n)).return=e,t)}function f(e,t,n){if("string"==typeof t&&""!==t||"number"==typeof t)return(t=Ll(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Rl(t.type,t.key,t.props,null,e.mode,n)).ref=yi(e,null,t),n.return=e,n;case S:return(t=Bl(t,e.mode,n)).return=e,t;case O:return f(e,(0,t._init)(t._payload),n)}if(te(t)||N(t))return(t=Nl(t,e.mode,n,null)).return=e,t;bi(e,t)}return null}function h(e,t,n,r){var o=null!==t?t.key:null;if("string"==typeof n&&""!==n||"number"==typeof n)return null!==o?null:c(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===o?l(e,t,n,r):null;case S:return n.key===o?u(e,t,n,r):null;case O:return h(e,t,(o=n._init)(n._payload),r)}if(te(n)||N(n))return null!==o?null:d(e,t,n,r,null);bi(e,n)}return null}function p(e,t,n,r,o){if("string"==typeof r&&""!==r||"number"==typeof r)return c(t,e=e.get(n)||null,""+r,o);if("object"==typeof r&&null!==r){switch(r.$$typeof){case w:return l(t,e=e.get(null===r.key?n:r.key)||null,r,o);case S:return u(t,e=e.get(null===r.key?n:r.key)||null,r,o);case O:return p(e,t,n,(0,r._init)(r._payload),o)}if(te(r)||N(r))return d(t,e=e.get(n)||null,r,o,null);bi(t,r)}return null}function g(o,i,a,c){for(var l=null,u=null,d=i,g=i=0,m=null;null!==d&&g<a.length;g++){d.index>g?(m=d,d=null):m=d.sibling;var y=h(o,d,a[g],c);if(null===y){null===d&&(d=m);break}e&&d&&null===y.alternate&&t(o,d),i=s(y,i,g),null===u?l=y:u.sibling=y,u=y,d=m}if(g===a.length)return n(o,d),ii&&Qo(o,g),l;if(null===d){for(;g<a.length;g++)null!==(d=f(o,a[g],c))&&(i=s(d,i,g),null===u?l=d:u.sibling=d,u=d);return ii&&Qo(o,g),l}for(d=r(o,d);g<a.length;g++)null!==(m=p(d,o,g,a[g],c))&&(e&&null!==m.alternate&&d.delete(null===m.key?g:m.key),i=s(m,i,g),null===u?l=m:u.sibling=m,u=m);return e&&d.forEach(function(e){return t(o,e)}),ii&&Qo(o,g),l}function m(o,a,c,l){var u=N(c);if("function"!=typeof u)throw Error(i(150));if(null==(c=u.call(c)))throw Error(i(151));for(var d=u=null,g=a,m=a=0,y=null,b=c.next();null!==g&&!b.done;m++,b=c.next()){g.index>m?(y=g,g=null):y=g.sibling;var v=h(o,g,b.value,l);if(null===v){null===g&&(g=y);break}e&&g&&null===v.alternate&&t(o,g),a=s(v,a,m),null===d?u=v:d.sibling=v,d=v,g=y}if(b.done)return n(o,g),ii&&Qo(o,m),u;if(null===g){for(;!b.done;m++,b=c.next())null!==(b=f(o,b.value,l))&&(a=s(b,a,m),null===d?u=b:d.sibling=b,d=b);return ii&&Qo(o,m),u}for(g=r(o,g);!b.done;m++,b=c.next())null!==(b=p(g,o,m,b.value,l))&&(e&&null!==b.alternate&&g.delete(null===b.key?m:b.key),a=s(b,a,m),null===d?u=b:d.sibling=b,d=b);return e&&g.forEach(function(e){return t(o,e)}),ii&&Qo(o,m),u}return function e(r,i,s,c){if("object"==typeof s&&null!==s&&s.type===x&&null===s.key&&(s=s.props.children),"object"==typeof s&&null!==s){switch(s.$$typeof){case w:e:{for(var l=s.key,u=i;null!==u;){if(u.key===l){if((l=s.type)===x){if(7===u.tag){n(r,u.sibling),(i=o(u,s.props.children)).return=r,r=i;break e}}else if(u.elementType===l||"object"==typeof l&&null!==l&&l.$$typeof===O&&vi(l)===u.type){n(r,u.sibling),(i=o(u,s.props)).ref=yi(r,u,s),i.return=r,r=i;break e}n(r,u);break}t(r,u),u=u.sibling}s.type===x?((i=Nl(s.props.children,r.mode,c,s.key)).return=r,r=i):((c=Rl(s.type,s.key,s.props,null,r.mode,c)).ref=yi(r,i,s),c.return=r,r=c)}return a(r);case S:e:{for(u=s.key;null!==i;){if(i.key===u){if(4===i.tag&&i.stateNode.containerInfo===s.containerInfo&&i.stateNode.implementation===s.implementation){n(r,i.sibling),(i=o(i,s.children||[])).return=r,r=i;break e}n(r,i);break}t(r,i),i=i.sibling}(i=Bl(s,r.mode,c)).return=r,r=i}return a(r);case O:return e(r,i,(u=s._init)(s._payload),c)}if(te(s))return g(r,i,s,c);if(N(s))return m(r,i,s,c);bi(r,s)}return"string"==typeof s&&""!==s||"number"==typeof s?(s=""+s,null!==i&&6===i.tag?(n(r,i.sibling),(i=o(i,s)).return=r,r=i):(n(r,i),(i=Ll(s,r.mode,c)).return=r,r=i),a(r)):n(r,i)}}var wi=_i(!0),Si=_i(!1),xi=Ao(null),Ii=null,Ai=null,Ci=null;function ki(){Ci=Ai=Ii=null}function Ei(e){var t=xi.current;Co(xi),e._currentValue=t}function Ti(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Pi(e,t){Ii=e,Ci=Ai=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(va=!0),e.firstContext=null)}function Mi(e){var t=e._currentValue;if(Ci!==e)if(e={context:e,memoizedValue:t,next:null},null===Ai){if(null===Ii)throw Error(i(308));Ai=e,Ii.dependencies={lanes:0,firstContext:e}}else Ai=Ai.next=e;return t}var Oi=null;function Di(e){null===Oi?Oi=[e]:Oi.push(e)}function Ri(e,t,n,r){var o=t.interleaved;return null===o?(n.next=n,Di(t)):(n.next=o.next,o.next=n),t.interleaved=n,Ni(e,r)}function Ni(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Fi=!1;function Li(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Bi(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function $i(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function ji(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,2&Ec){var o=r.pending;return null===o?t.next=t:(t.next=o.next,o.next=t),r.pending=t,Ni(e,n)}return null===(o=r.interleaved)?(t.next=t,Di(r)):(t.next=o.next,o.next=t),r.interleaved=t,Ni(e,n)}function Ui(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,bt(e,n)}}function zi(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var o=null,i=null;if(null!==(n=n.firstBaseUpdate)){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===i?o=i=s:i=i.next=s,n=n.next}while(null!==n);null===i?o=i=t:i=i.next=t}else o=i=t;return n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:i,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Vi(e,t,n,r){var o=e.updateQueue;Fi=!1;var i=o.firstBaseUpdate,s=o.lastBaseUpdate,a=o.shared.pending;if(null!==a){o.shared.pending=null;var c=a,l=c.next;c.next=null,null===s?i=l:s.next=l,s=c;var u=e.alternate;null!==u&&(a=(u=u.updateQueue).lastBaseUpdate)!==s&&(null===a?u.firstBaseUpdate=l:a.next=l,u.lastBaseUpdate=c)}if(null!==i){var d=o.baseState;for(s=0,u=l=c=null,a=i;;){var f=a.lane,h=a.eventTime;if((r&f)===f){null!==u&&(u=u.next={eventTime:h,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=e,g=a;switch(f=t,h=n,g.tag){case 1:if("function"==typeof(p=g.payload)){d=p.call(h,d,f);break e}d=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null==(f="function"==typeof(p=g.payload)?p.call(h,d,f):p))break e;d=L({},d,f);break e;case 2:Fi=!0}}null!==a.callback&&0!==a.lane&&(e.flags|=64,null===(f=o.effects)?o.effects=[a]:f.push(a))}else h={eventTime:h,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===u?(l=u=h,c=d):u=u.next=h,s|=f;if(null===(a=a.next)){if(null===(a=o.shared.pending))break;a=(f=a).next,f.next=null,o.lastBaseUpdate=f,o.shared.pending=null}}if(null===u&&(c=d),o.baseState=c,o.firstBaseUpdate=l,o.lastBaseUpdate=u,null!==(t=o.shared.interleaved)){o=t;do{s|=o.lane,o=o.next}while(o!==t)}else null===i&&(o.shared.lanes=0);Fc|=s,e.lanes=s,e.memoizedState=d}}function qi(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],o=r.callback;if(null!==o){if(r.callback=null,r=n,"function"!=typeof o)throw Error(i(191,o));o.call(r)}}}var Hi={},Gi=Ao(Hi),Wi=Ao(Hi),Ki=Ao(Hi);function Yi(e){if(e===Hi)throw Error(i(174));return e}function Ji(e,t){switch(ko(Ki,t),ko(Wi,e),ko(Gi,Hi),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ce(null,"");break;default:t=ce(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Co(Gi),ko(Gi,t)}function Xi(){Co(Gi),Co(Wi),Co(Ki)}function Zi(e){Yi(Ki.current);var t=Yi(Gi.current),n=ce(t,e.type);t!==n&&(ko(Wi,e),ko(Gi,n))}function Qi(e){Wi.current===e&&(Co(Gi),Co(Wi))}var es=Ao(0);function ts(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(128&t.flags)return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ns=[];function rs(){for(var e=0;e<ns.length;e++)ns[e]._workInProgressVersionPrimary=null;ns.length=0}var os=_.ReactCurrentDispatcher,is=_.ReactCurrentBatchConfig,ss=0,as=null,cs=null,ls=null,us=!1,ds=!1,fs=0,hs=0;function ps(){throw Error(i(321))}function gs(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ar(e[n],t[n]))return!1;return!0}function ms(e,t,n,r,o,s){if(ss=s,as=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,os.current=null===e||null===e.memoizedState?Qs:ea,e=n(r,o),ds){s=0;do{if(ds=!1,fs=0,25<=s)throw Error(i(301));s+=1,ls=cs=null,t.updateQueue=null,os.current=ta,e=n(r,o)}while(ds)}if(os.current=Zs,t=null!==cs&&null!==cs.next,ss=0,ls=cs=as=null,us=!1,t)throw Error(i(300));return e}function ys(){var e=0!==fs;return fs=0,e}function bs(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ls?as.memoizedState=ls=e:ls=ls.next=e,ls}function vs(){if(null===cs){var e=as.alternate;e=null!==e?e.memoizedState:null}else e=cs.next;var t=null===ls?as.memoizedState:ls.next;if(null!==t)ls=t,cs=e;else{if(null===e)throw Error(i(310));e={memoizedState:(cs=e).memoizedState,baseState:cs.baseState,baseQueue:cs.baseQueue,queue:cs.queue,next:null},null===ls?as.memoizedState=ls=e:ls=ls.next=e}return ls}function _s(e,t){return"function"==typeof t?t(e):t}function ws(e){var t=vs(),n=t.queue;if(null===n)throw Error(i(311));n.lastRenderedReducer=e;var r=cs,o=r.baseQueue,s=n.pending;if(null!==s){if(null!==o){var a=o.next;o.next=s.next,s.next=a}r.baseQueue=o=s,n.pending=null}if(null!==o){s=o.next,r=r.baseState;var c=a=null,l=null,u=s;do{var d=u.lane;if((ss&d)===d)null!==l&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===l?(c=l=f,a=r):l=l.next=f,as.lanes|=d,Fc|=d}u=u.next}while(null!==u&&u!==s);null===l?a=r:l.next=c,ar(r,t.memoizedState)||(va=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=l,n.lastRenderedState=r}if(null!==(e=n.interleaved)){o=e;do{s=o.lane,as.lanes|=s,Fc|=s,o=o.next}while(o!==e)}else null===o&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ss(e){var t=vs(),n=t.queue;if(null===n)throw Error(i(311));n.lastRenderedReducer=e;var r=n.dispatch,o=n.pending,s=t.memoizedState;if(null!==o){n.pending=null;var a=o=o.next;do{s=e(s,a.action),a=a.next}while(a!==o);ar(s,t.memoizedState)||(va=!0),t.memoizedState=s,null===t.baseQueue&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function xs(){}function Is(e,t){var n=as,r=vs(),o=t(),s=!ar(r.memoizedState,o);if(s&&(r.memoizedState=o,va=!0),r=r.queue,Fs(ks.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||null!==ls&&1&ls.memoizedState.tag){if(n.flags|=2048,Ms(9,Cs.bind(null,n,r,o,t),void 0,null),null===Tc)throw Error(i(349));30&ss||As(n,t,o)}return o}function As(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=as.updateQueue)?(t={lastEffect:null,stores:null},as.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Cs(e,t,n,r){t.value=n,t.getSnapshot=r,Es(t)&&Ts(e)}function ks(e,t,n){return n(function(){Es(t)&&Ts(e)})}function Es(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ar(e,n)}catch(e){return!0}}function Ts(e){var t=Ni(e,1);null!==t&&nl(t,e,1,-1)}function Ps(e){var t=bs();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:_s,lastRenderedState:e},t.queue=e,e=e.dispatch=Ks.bind(null,as,e),[t.memoizedState,e]}function Ms(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=as.updateQueue)?(t={lastEffect:null,stores:null},as.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Os(){return vs().memoizedState}function Ds(e,t,n,r){var o=bs();as.flags|=e,o.memoizedState=Ms(1|t,n,void 0,void 0===r?null:r)}function Rs(e,t,n,r){var o=vs();r=void 0===r?null:r;var i=void 0;if(null!==cs){var s=cs.memoizedState;if(i=s.destroy,null!==r&&gs(r,s.deps))return void(o.memoizedState=Ms(t,n,i,r))}as.flags|=e,o.memoizedState=Ms(1|t,n,i,r)}function Ns(e,t){return Ds(8390656,8,e,t)}function Fs(e,t){return Rs(2048,8,e,t)}function Ls(e,t){return Rs(4,2,e,t)}function Bs(e,t){return Rs(4,4,e,t)}function $s(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function js(e,t,n){return n=null!=n?n.concat([e]):null,Rs(4,4,$s.bind(null,t,e),n)}function Us(){}function zs(e,t){var n=vs();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&gs(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Vs(e,t){var n=vs();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&gs(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function qs(e,t,n){return 21&ss?(ar(n,t)||(n=gt(),as.lanes|=n,Fc|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,va=!0),e.memoizedState=n)}function Hs(e,t){var n=vt;vt=0!==n&&4>n?n:4,e(!0);var r=is.transition;is.transition={};try{e(!1),t()}finally{vt=n,is.transition=r}}function Gs(){return vs().memoizedState}function Ws(e,t,n){var r=tl(e);n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Ys(e)?Js(t,n):null!==(n=Ri(e,t,n,r))&&(nl(n,e,r,el()),Xs(n,t,r))}function Ks(e,t,n){var r=tl(e),o={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ys(e))Js(t,o);else{var i=e.alternate;if(0===e.lanes&&(null===i||0===i.lanes)&&null!==(i=t.lastRenderedReducer))try{var s=t.lastRenderedState,a=i(s,n);if(o.hasEagerState=!0,o.eagerState=a,ar(a,s)){var c=t.interleaved;return null===c?(o.next=o,Di(t)):(o.next=c.next,c.next=o),void(t.interleaved=o)}}catch(e){}null!==(n=Ri(e,t,o,r))&&(nl(n,e,r,o=el()),Xs(n,t,r))}}function Ys(e){var t=e.alternate;return e===as||null!==t&&t===as}function Js(e,t){ds=us=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Xs(e,t,n){if(4194240&n){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,bt(e,n)}}var Zs={readContext:Mi,useCallback:ps,useContext:ps,useEffect:ps,useImperativeHandle:ps,useInsertionEffect:ps,useLayoutEffect:ps,useMemo:ps,useReducer:ps,useRef:ps,useState:ps,useDebugValue:ps,useDeferredValue:ps,useTransition:ps,useMutableSource:ps,useSyncExternalStore:ps,useId:ps,unstable_isNewReconciler:!1},Qs={readContext:Mi,useCallback:function(e,t){return bs().memoizedState=[e,void 0===t?null:t],e},useContext:Mi,useEffect:Ns,useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,Ds(4194308,4,$s.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ds(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ds(4,2,e,t)},useMemo:function(e,t){var n=bs();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=bs();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Ws.bind(null,as,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},bs().memoizedState=e},useState:Ps,useDebugValue:Us,useDeferredValue:function(e){return bs().memoizedState=e},useTransition:function(){var e=Ps(!1),t=e[0];return e=Hs.bind(null,e[1]),bs().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=as,o=bs();if(ii){if(void 0===n)throw Error(i(407));n=n()}else{if(n=t(),null===Tc)throw Error(i(349));30&ss||As(r,t,n)}o.memoizedState=n;var s={value:n,getSnapshot:t};return o.queue=s,Ns(ks.bind(null,r,s,e),[e]),r.flags|=2048,Ms(9,Cs.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=bs(),t=Tc.identifierPrefix;if(ii){var n=Zo;t=":"+t+"R"+(n=(Xo&~(1<<32-st(Xo)-1)).toString(32)+n),0<(n=fs++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=hs++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ea={readContext:Mi,useCallback:zs,useContext:Mi,useEffect:Fs,useImperativeHandle:js,useInsertionEffect:Ls,useLayoutEffect:Bs,useMemo:Vs,useReducer:ws,useRef:Os,useState:function(){return ws(_s)},useDebugValue:Us,useDeferredValue:function(e){return qs(vs(),cs.memoizedState,e)},useTransition:function(){return[ws(_s)[0],vs().memoizedState]},useMutableSource:xs,useSyncExternalStore:Is,useId:Gs,unstable_isNewReconciler:!1},ta={readContext:Mi,useCallback:zs,useContext:Mi,useEffect:Fs,useImperativeHandle:js,useInsertionEffect:Ls,useLayoutEffect:Bs,useMemo:Vs,useReducer:Ss,useRef:Os,useState:function(){return Ss(_s)},useDebugValue:Us,useDeferredValue:function(e){var t=vs();return null===cs?t.memoizedState=e:qs(t,cs.memoizedState,e)},useTransition:function(){return[Ss(_s)[0],vs().memoizedState]},useMutableSource:xs,useSyncExternalStore:Is,useId:Gs,unstable_isNewReconciler:!1};function na(e,t){if(e&&e.defaultProps){for(var n in t=L({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function ra(e,t,n,r){n=null==(n=n(r,t=e.memoizedState))?t:L({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var oa={isMounted:function(e){return!!(e=e._reactInternals)&&ze(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=el(),o=tl(e),i=$i(r,o);i.payload=t,null!=n&&(i.callback=n),null!==(t=ji(e,i,o))&&(nl(t,e,o,r),Ui(t,e,o))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=el(),o=tl(e),i=$i(r,o);i.tag=1,i.payload=t,null!=n&&(i.callback=n),null!==(t=ji(e,i,o))&&(nl(t,e,o,r),Ui(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=el(),r=tl(e),o=$i(n,r);o.tag=2,null!=t&&(o.callback=t),null!==(t=ji(e,o,r))&&(nl(t,e,r,n),Ui(t,e,r))}};function ia(e,t,n,r,o,i,s){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,i,s):!(t.prototype&&t.prototype.isPureReactComponent&&cr(n,r)&&cr(o,i))}function sa(e,t,n){var r=!1,o=Eo,i=t.contextType;return"object"==typeof i&&null!==i?i=Mi(i):(o=Do(t)?Mo:To.current,i=(r=null!=(r=t.contextTypes))?Oo(e,o):Eo),t=new t(n,i),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=oa,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=i),t}function aa(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&oa.enqueueReplaceState(t,t.state,null)}function ca(e,t,n,r){var o=e.stateNode;o.props=n,o.state=e.memoizedState,o.refs={},Li(e);var i=t.contextType;"object"==typeof i&&null!==i?o.context=Mi(i):(i=Do(t)?Mo:To.current,o.context=Oo(e,i)),o.state=e.memoizedState,"function"==typeof(i=t.getDerivedStateFromProps)&&(ra(e,t,i,n),o.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof o.getSnapshotBeforeUpdate||"function"!=typeof o.UNSAFE_componentWillMount&&"function"!=typeof o.componentWillMount||(t=o.state,"function"==typeof o.componentWillMount&&o.componentWillMount(),"function"==typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount(),t!==o.state&&oa.enqueueReplaceState(o,o.state,null),Vi(e,n,o,r),o.state=e.memoizedState),"function"==typeof o.componentDidMount&&(e.flags|=4194308)}function la(e,t){try{var n="",r=t;do{n+=U(r),r=r.return}while(r);var o=n}catch(e){o="\nError generating stack: "+e.message+"\n"+e.stack}return{value:e,source:t,stack:o,digest:null}}function ua(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function da(e,t){try{console.error(t.value)}catch(e){setTimeout(function(){throw e})}}var fa="function"==typeof WeakMap?WeakMap:Map;function ha(e,t,n){(n=$i(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){qc||(qc=!0,Hc=r),da(0,t)},n}function pa(e,t,n){(n=$i(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"==typeof r){var o=t.value;n.payload=function(){return r(o)},n.callback=function(){da(0,t)}}var i=e.stateNode;return null!==i&&"function"==typeof i.componentDidCatch&&(n.callback=function(){da(0,t),"function"!=typeof r&&(null===Gc?Gc=new Set([this]):Gc.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ga(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new fa;var o=new Set;r.set(t,o)}else void 0===(o=r.get(t))&&(o=new Set,r.set(t,o));o.has(n)||(o.add(n),e=Al.bind(null,e,t,n),t.then(e,e))}function ma(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function ya(e,t,n,r,o){return 1&e.mode?(e.flags|=65536,e.lanes=o,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=$i(-1,1)).tag=2,ji(n,t,1))),n.lanes|=1),e)}var ba=_.ReactCurrentOwner,va=!1;function _a(e,t,n,r){t.child=null===e?Si(t,null,n,r):wi(t,e.child,n,r)}function wa(e,t,n,r,o){n=n.render;var i=t.ref;return Pi(t,o),r=ms(e,t,n,r,i,o),n=ys(),null===e||va?(ii&&n&&ti(t),t.flags|=1,_a(e,t,r,o),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,qa(e,t,o))}function Sa(e,t,n,r,o){if(null===e){var i=n.type;return"function"!=typeof i||Ol(i)||void 0!==i.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Rl(n.type,null,r,t,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=i,xa(e,t,i,r,o))}if(i=e.child,0===(e.lanes&o)){var s=i.memoizedProps;if((n=null!==(n=n.compare)?n:cr)(s,r)&&e.ref===t.ref)return qa(e,t,o)}return t.flags|=1,(e=Dl(i,r)).ref=t.ref,e.return=t,t.child=e}function xa(e,t,n,r,o){if(null!==e){var i=e.memoizedProps;if(cr(i,r)&&e.ref===t.ref){if(va=!1,t.pendingProps=r=i,0===(e.lanes&o))return t.lanes=e.lanes,qa(e,t,o);131072&e.flags&&(va=!0)}}return Ca(e,t,n,r,o)}function Ia(e,t,n){var r=t.pendingProps,o=r.children,i=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(1&t.mode){if(!(1073741824&n))return e=null!==i?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ko(Dc,Oc),Oc|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==i?i.baseLanes:n,ko(Dc,Oc),Oc|=r}else t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ko(Dc,Oc),Oc|=n;else null!==i?(r=i.baseLanes|n,t.memoizedState=null):r=n,ko(Dc,Oc),Oc|=r;return _a(e,t,o,n),t.child}function Aa(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ca(e,t,n,r,o){var i=Do(n)?Mo:To.current;return i=Oo(t,i),Pi(t,o),n=ms(e,t,n,r,i,o),r=ys(),null===e||va?(ii&&r&&ti(t),t.flags|=1,_a(e,t,n,o),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,qa(e,t,o))}function ka(e,t,n,r,o){if(Do(n)){var i=!0;Lo(t)}else i=!1;if(Pi(t,o),null===t.stateNode)Va(e,t),sa(t,n,r),ca(t,n,r,o),r=!0;else if(null===e){var s=t.stateNode,a=t.memoizedProps;s.props=a;var c=s.context,l=n.contextType;l="object"==typeof l&&null!==l?Mi(l):Oo(t,l=Do(n)?Mo:To.current);var u=n.getDerivedStateFromProps,d="function"==typeof u||"function"==typeof s.getSnapshotBeforeUpdate;d||"function"!=typeof s.UNSAFE_componentWillReceiveProps&&"function"!=typeof s.componentWillReceiveProps||(a!==r||c!==l)&&aa(t,s,r,l),Fi=!1;var f=t.memoizedState;s.state=f,Vi(t,r,s,o),c=t.memoizedState,a!==r||f!==c||Po.current||Fi?("function"==typeof u&&(ra(t,n,u,r),c=t.memoizedState),(a=Fi||ia(t,n,a,r,f,c,l))?(d||"function"!=typeof s.UNSAFE_componentWillMount&&"function"!=typeof s.componentWillMount||("function"==typeof s.componentWillMount&&s.componentWillMount(),"function"==typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"==typeof s.componentDidMount&&(t.flags|=4194308)):("function"==typeof s.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),s.props=r,s.state=c,s.context=l,r=a):("function"==typeof s.componentDidMount&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,Bi(e,t),a=t.memoizedProps,l=t.type===t.elementType?a:na(t.type,a),s.props=l,d=t.pendingProps,f=s.context,c="object"==typeof(c=n.contextType)&&null!==c?Mi(c):Oo(t,c=Do(n)?Mo:To.current);var h=n.getDerivedStateFromProps;(u="function"==typeof h||"function"==typeof s.getSnapshotBeforeUpdate)||"function"!=typeof s.UNSAFE_componentWillReceiveProps&&"function"!=typeof s.componentWillReceiveProps||(a!==d||f!==c)&&aa(t,s,r,c),Fi=!1,f=t.memoizedState,s.state=f,Vi(t,r,s,o);var p=t.memoizedState;a!==d||f!==p||Po.current||Fi?("function"==typeof h&&(ra(t,n,h,r),p=t.memoizedState),(l=Fi||ia(t,n,l,r,f,p,c)||!1)?(u||"function"!=typeof s.UNSAFE_componentWillUpdate&&"function"!=typeof s.componentWillUpdate||("function"==typeof s.componentWillUpdate&&s.componentWillUpdate(r,p,c),"function"==typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(r,p,c)),"function"==typeof s.componentDidUpdate&&(t.flags|=4),"function"==typeof s.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!=typeof s.componentDidUpdate||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!=typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),s.props=r,s.state=p,s.context=c,r=l):("function"!=typeof s.componentDidUpdate||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!=typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return Ea(e,t,n,r,i,o)}function Ea(e,t,n,r,o,i){Aa(e,t);var s=!!(128&t.flags);if(!r&&!s)return o&&Bo(t,n,!1),qa(e,t,i);r=t.stateNode,ba.current=t;var a=s&&"function"!=typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&s?(t.child=wi(t,e.child,null,i),t.child=wi(t,null,a,i)):_a(e,t,a,i),t.memoizedState=r.state,o&&Bo(t,n,!0),t.child}function Ta(e){var t=e.stateNode;t.pendingContext?No(0,t.pendingContext,t.pendingContext!==t.context):t.context&&No(0,t.context,!1),Ji(e,t.containerInfo)}function Pa(e,t,n,r,o){return pi(),gi(o),t.flags|=256,_a(e,t,n,r),t.child}var Ma,Oa,Da,Ra,Na={dehydrated:null,treeContext:null,retryLane:0};function Fa(e){return{baseLanes:e,cachePool:null,transitions:null}}function La(e,t,n){var r,o=t.pendingProps,s=es.current,a=!1,c=!!(128&t.flags);if((r=c)||(r=(null===e||null!==e.memoizedState)&&!!(2&s)),r?(a=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(s|=1),ko(es,1&s),null===e)return ui(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(1&t.mode?"$!"===e.data?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(c=o.children,e=o.fallback,a?(o=t.mode,a=t.child,c={mode:"hidden",children:c},1&o||null===a?a=Fl(c,o,0,null):(a.childLanes=0,a.pendingProps=c),e=Nl(e,o,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Fa(n),t.memoizedState=Na,e):Ba(t,c));if(null!==(s=e.memoizedState)&&null!==(r=s.dehydrated))return function(e,t,n,r,o,s,a){if(n)return 256&t.flags?(t.flags&=-257,$a(e,t,a,r=ua(Error(i(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(s=r.fallback,o=t.mode,r=Fl({mode:"visible",children:r.children},o,0,null),(s=Nl(s,o,a,null)).flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,1&t.mode&&wi(t,e.child,null,a),t.child.memoizedState=Fa(a),t.memoizedState=Na,s);if(!(1&t.mode))return $a(e,t,a,null);if("$!"===o.data){if(r=o.nextSibling&&o.nextSibling.dataset)var c=r.dgst;return r=c,$a(e,t,a,r=ua(s=Error(i(419)),r,void 0))}if(c=0!==(a&e.childLanes),va||c){if(null!==(r=Tc)){switch(a&-a){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}0!==(o=0!==(o&(r.suspendedLanes|a))?0:o)&&o!==s.retryLane&&(s.retryLane=o,Ni(e,o),nl(r,e,o,-1))}return gl(),$a(e,t,a,r=ua(Error(i(421))))}return"$?"===o.data?(t.flags|=128,t.child=e.child,t=kl.bind(null,e),o._reactRetry=t,null):(e=s.treeContext,oi=lo(o.nextSibling),ri=t,ii=!0,si=null,null!==e&&(Ko[Yo++]=Xo,Ko[Yo++]=Zo,Ko[Yo++]=Jo,Xo=e.id,Zo=e.overflow,Jo=t),(t=Ba(t,r.children)).flags|=4096,t)}(e,t,c,o,r,s,n);if(a){a=o.fallback,c=t.mode,r=(s=e.child).sibling;var l={mode:"hidden",children:o.children};return 1&c||t.child===s?(o=Dl(s,l)).subtreeFlags=14680064&s.subtreeFlags:((o=t.child).childLanes=0,o.pendingProps=l,t.deletions=null),null!==r?a=Dl(r,a):(a=Nl(a,c,n,null)).flags|=2,a.return=t,o.return=t,o.sibling=a,t.child=o,o=a,a=t.child,c=null===(c=e.child.memoizedState)?Fa(n):{baseLanes:c.baseLanes|n,cachePool:null,transitions:c.transitions},a.memoizedState=c,a.childLanes=e.childLanes&~n,t.memoizedState=Na,o}return e=(a=e.child).sibling,o=Dl(a,{mode:"visible",children:o.children}),!(1&t.mode)&&(o.lanes=n),o.return=t,o.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=o,t.memoizedState=null,o}function Ba(e,t){return(t=Fl({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function $a(e,t,n,r){return null!==r&&gi(r),wi(t,e.child,null,n),(e=Ba(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function ja(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Ti(e.return,t,n)}function Ua(e,t,n,r,o){var i=e.memoizedState;null===i?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=o)}function za(e,t,n){var r=t.pendingProps,o=r.revealOrder,i=r.tail;if(_a(e,t,r.children,n),2&(r=es.current))r=1&r|2,t.flags|=128;else{if(null!==e&&128&e.flags)e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&ja(e,n,t);else if(19===e.tag)ja(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ko(es,r),1&t.mode)switch(o){case"forwards":for(n=t.child,o=null;null!==n;)null!==(e=n.alternate)&&null===ts(e)&&(o=n),n=n.sibling;null===(n=o)?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),Ua(t,!1,o,n,i);break;case"backwards":for(n=null,o=t.child,t.child=null;null!==o;){if(null!==(e=o.alternate)&&null===ts(e)){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}Ua(t,!0,n,null,i);break;case"together":Ua(t,!1,null,null,void 0);break;default:t.memoizedState=null}else t.memoizedState=null;return t.child}function Va(e,t){!(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function qa(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Fc|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(i(153));if(null!==t.child){for(n=Dl(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Dl(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ha(e,t){if(!ii)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ga(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var o=e.child;null!==o;)n|=o.lanes|o.childLanes,r|=14680064&o.subtreeFlags,r|=14680064&o.flags,o.return=e,o=o.sibling;else for(o=e.child;null!==o;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Wa(e,t,n){var r=t.pendingProps;switch(ni(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ga(t),null;case 1:case 17:return Do(t.type)&&Ro(),Ga(t),null;case 3:return r=t.stateNode,Xi(),Co(Po),Co(To),rs(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(fi(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&!(256&t.flags)||(t.flags|=1024,null!==si&&(sl(si),si=null))),Oa(e,t),Ga(t),null;case 5:Qi(t);var o=Yi(Ki.current);if(n=t.type,null!==e&&null!=t.stateNode)Da(e,t,n,r,o),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(i(166));return Ga(t),null}if(e=Yi(Gi.current),fi(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[ho]=t,r[po]=s,e=!!(1&t.mode),n){case"dialog":$r("cancel",r),$r("close",r);break;case"iframe":case"object":case"embed":$r("load",r);break;case"video":case"audio":for(o=0;o<Nr.length;o++)$r(Nr[o],r);break;case"source":$r("error",r);break;case"img":case"image":case"link":$r("error",r),$r("load",r);break;case"details":$r("toggle",r);break;case"input":J(r,s),$r("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},$r("invalid",r);break;case"textarea":oe(r,s),$r("invalid",r)}for(var c in be(n,s),o=null,s)if(s.hasOwnProperty(c)){var l=s[c];"children"===c?"string"==typeof l?r.textContent!==l&&(!0!==s.suppressHydrationWarning&&Zr(r.textContent,l,e),o=["children",l]):"number"==typeof l&&r.textContent!==""+l&&(!0!==s.suppressHydrationWarning&&Zr(r.textContent,l,e),o=["children",""+l]):a.hasOwnProperty(c)&&null!=l&&"onScroll"===c&&$r("scroll",r)}switch(n){case"input":G(r),Q(r,s,!0);break;case"textarea":G(r),se(r);break;case"select":case"option":break;default:"function"==typeof s.onClick&&(r.onclick=Qr)}r=o,t.updateQueue=r,null!==r&&(t.flags|=4)}else{c=9===o.nodeType?o:o.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ae(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=c.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"==typeof r.is?e=c.createElement(n,{is:r.is}):(e=c.createElement(n),"select"===n&&(c=e,r.multiple?c.multiple=!0:r.size&&(c.size=r.size))):e=c.createElementNS(e,n),e[ho]=t,e[po]=r,Ma(e,t,!1,!1),t.stateNode=e;e:{switch(c=ve(n,r),n){case"dialog":$r("cancel",e),$r("close",e),o=r;break;case"iframe":case"object":case"embed":$r("load",e),o=r;break;case"video":case"audio":for(o=0;o<Nr.length;o++)$r(Nr[o],e);o=r;break;case"source":$r("error",e),o=r;break;case"img":case"image":case"link":$r("error",e),$r("load",e),o=r;break;case"details":$r("toggle",e),o=r;break;case"input":J(e,r),o=Y(e,r),$r("invalid",e);break;case"option":default:o=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},o=L({},r,{value:void 0}),$r("invalid",e);break;case"textarea":oe(e,r),o=re(e,r),$r("invalid",e)}for(s in be(n,o),l=o)if(l.hasOwnProperty(s)){var u=l[s];"style"===s?me(e,u):"dangerouslySetInnerHTML"===s?null!=(u=u?u.__html:void 0)&&de(e,u):"children"===s?"string"==typeof u?("textarea"!==n||""!==u)&&fe(e,u):"number"==typeof u&&fe(e,""+u):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(a.hasOwnProperty(s)?null!=u&&"onScroll"===s&&$r("scroll",e):null!=u&&v(e,s,u,c))}switch(n){case"input":G(e),Q(e,r,!1);break;case"textarea":G(e),se(e);break;case"option":null!=r.value&&e.setAttribute("value",""+q(r.value));break;case"select":e.multiple=!!r.multiple,null!=(s=r.value)?ne(e,!!r.multiple,s,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"==typeof o.onClick&&(e.onclick=Qr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Ga(t),null;case 6:if(e&&null!=t.stateNode)Ra(e,t,e.memoizedProps,r);else{if("string"!=typeof r&&null===t.stateNode)throw Error(i(166));if(n=Yi(Ki.current),Yi(Gi.current),fi(t)){if(r=t.stateNode,n=t.memoizedProps,r[ho]=t,(s=r.nodeValue!==n)&&null!==(e=ri))switch(e.tag){case 3:Zr(r.nodeValue,n,!!(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Zr(r.nodeValue,n,!!(1&e.mode))}s&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[ho]=t,t.stateNode=r}return Ga(t),null;case 13:if(Co(es),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ii&&null!==oi&&1&t.mode&&!(128&t.flags))hi(),pi(),t.flags|=98560,s=!1;else if(s=fi(t),null!==r&&null!==r.dehydrated){if(null===e){if(!s)throw Error(i(318));if(!(s=null!==(s=t.memoizedState)?s.dehydrated:null))throw Error(i(317));s[ho]=t}else pi(),!(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Ga(t),s=!1}else null!==si&&(sl(si),si=null),s=!0;if(!s)return 65536&t.flags?t:null}return 128&t.flags?(t.lanes=n,t):((r=null!==r)!=(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,1&t.mode&&(null===e||1&es.current?0===Rc&&(Rc=3):gl())),null!==t.updateQueue&&(t.flags|=4),Ga(t),null);case 4:return Xi(),Oa(e,t),null===e&&zr(t.stateNode.containerInfo),Ga(t),null;case 10:return Ei(t.type._context),Ga(t),null;case 19:if(Co(es),null===(s=t.memoizedState))return Ga(t),null;if(r=!!(128&t.flags),null===(c=s.rendering))if(r)Ha(s,!1);else{if(0!==Rc||null!==e&&128&e.flags)for(e=t.child;null!==e;){if(null!==(c=ts(e))){for(t.flags|=128,Ha(s,!1),null!==(r=c.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(s=n).flags&=14680066,null===(c=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=c.childLanes,s.lanes=c.lanes,s.child=c.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=c.memoizedProps,s.memoizedState=c.memoizedState,s.updateQueue=c.updateQueue,s.type=c.type,e=c.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ko(es,1&es.current|2),t.child}e=e.sibling}null!==s.tail&&Xe()>zc&&(t.flags|=128,r=!0,Ha(s,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=ts(c))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Ha(s,!0),null===s.tail&&"hidden"===s.tailMode&&!c.alternate&&!ii)return Ga(t),null}else 2*Xe()-s.renderingStartTime>zc&&1073741824!==n&&(t.flags|=128,r=!0,Ha(s,!1),t.lanes=4194304);s.isBackwards?(c.sibling=t.child,t.child=c):(null!==(n=s.last)?n.sibling=c:t.child=c,s.last=c)}return null!==s.tail?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Xe(),t.sibling=null,n=es.current,ko(es,r?1&n|2:1&n),t):(Ga(t),null);case 22:case 23:return dl(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&1&t.mode?!!(1073741824&Oc)&&(Ga(t),6&t.subtreeFlags&&(t.flags|=8192)):Ga(t),null;case 24:case 25:return null}throw Error(i(156,t.tag))}function Ka(e,t){switch(ni(t),t.tag){case 1:return Do(t.type)&&Ro(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Xi(),Co(Po),Co(To),rs(),65536&(e=t.flags)&&!(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Qi(t),null;case 13:if(Co(es),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(i(340));pi()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Co(es),null;case 4:return Xi(),null;case 10:return Ei(t.type._context),null;case 22:case 23:return dl(),null;default:return null}}Ma=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Oa=function(){},Da=function(e,t,n,r){var o=e.memoizedProps;if(o!==r){e=t.stateNode,Yi(Gi.current);var i,s=null;switch(n){case"input":o=Y(e,o),r=Y(e,r),s=[];break;case"select":o=L({},o,{value:void 0}),r=L({},r,{value:void 0}),s=[];break;case"textarea":o=re(e,o),r=re(e,r),s=[];break;default:"function"!=typeof o.onClick&&"function"==typeof r.onClick&&(e.onclick=Qr)}for(u in be(n,r),n=null,o)if(!r.hasOwnProperty(u)&&o.hasOwnProperty(u)&&null!=o[u])if("style"===u){var c=o[u];for(i in c)c.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(a.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(c=null!=o?o[u]:void 0,r.hasOwnProperty(u)&&l!==c&&(null!=l||null!=c))if("style"===u)if(c){for(i in c)!c.hasOwnProperty(i)||l&&l.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in l)l.hasOwnProperty(i)&&c[i]!==l[i]&&(n||(n={}),n[i]=l[i])}else n||(s||(s=[]),s.push(u,n)),n=l;else"dangerouslySetInnerHTML"===u?(l=l?l.__html:void 0,c=c?c.__html:void 0,null!=l&&c!==l&&(s=s||[]).push(u,l)):"children"===u?"string"!=typeof l&&"number"!=typeof l||(s=s||[]).push(u,""+l):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(a.hasOwnProperty(u)?(null!=l&&"onScroll"===u&&$r("scroll",e),s||c===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(t.updateQueue=u)&&(t.flags|=4)}},Ra=function(e,t,n,r){n!==r&&(t.flags|=4)};var Ya=!1,Ja=!1,Xa="function"==typeof WeakSet?WeakSet:Set,Za=null;function Qa(e,t){var n=e.ref;if(null!==n)if("function"==typeof n)try{n(null)}catch(n){Il(e,t,n)}else n.current=null}function ec(e,t,n){try{n()}catch(n){Il(e,t,n)}}var tc=!1;function nc(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var o=r=r.next;do{if((o.tag&e)===e){var i=o.destroy;o.destroy=void 0,void 0!==i&&ec(t,n,i)}o=o.next}while(o!==r)}}function rc(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function oc(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"==typeof t?t(e):t.current=e}}function ic(e){var t=e.alternate;null!==t&&(e.alternate=null,ic(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&null!==(t=e.stateNode)&&(delete t[ho],delete t[po],delete t[mo],delete t[yo],delete t[bo]),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function sc(e){return 5===e.tag||3===e.tag||4===e.tag}function ac(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||sc(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function cc(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!=(n=n._reactRootContainer)||null!==t.onclick||(t.onclick=Qr));else if(4!==r&&null!==(e=e.child))for(cc(e,t,n),e=e.sibling;null!==e;)cc(e,t,n),e=e.sibling}function lc(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(lc(e,t,n),e=e.sibling;null!==e;)lc(e,t,n),e=e.sibling}var uc=null,dc=!1;function fc(e,t,n){for(n=n.child;null!==n;)hc(e,t,n),n=n.sibling}function hc(e,t,n){if(it&&"function"==typeof it.onCommitFiberUnmount)try{it.onCommitFiberUnmount(ot,n)}catch(e){}switch(n.tag){case 5:Ja||Qa(n,t);case 6:var r=uc,o=dc;uc=null,fc(e,t,n),dc=o,null!==(uc=r)&&(dc?(e=uc,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):uc.removeChild(n.stateNode));break;case 18:null!==uc&&(dc?(e=uc,n=n.stateNode,8===e.nodeType?co(e.parentNode,n):1===e.nodeType&&co(e,n),zt(e)):co(uc,n.stateNode));break;case 4:r=uc,o=dc,uc=n.stateNode.containerInfo,dc=!0,fc(e,t,n),uc=r,dc=o;break;case 0:case 11:case 14:case 15:if(!Ja&&null!==(r=n.updateQueue)&&null!==(r=r.lastEffect)){o=r=r.next;do{var i=o,s=i.destroy;i=i.tag,void 0!==s&&(2&i||4&i)&&ec(n,t,s),o=o.next}while(o!==r)}fc(e,t,n);break;case 1:if(!Ja&&(Qa(n,t),"function"==typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(e){Il(n,t,e)}fc(e,t,n);break;case 21:fc(e,t,n);break;case 22:1&n.mode?(Ja=(r=Ja)||null!==n.memoizedState,fc(e,t,n),Ja=r):fc(e,t,n);break;default:fc(e,t,n)}}function pc(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Xa),t.forEach(function(t){var r=El.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))})}}function gc(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var o=n[r];try{var s=e,a=t,c=a;e:for(;null!==c;){switch(c.tag){case 5:uc=c.stateNode,dc=!1;break e;case 3:case 4:uc=c.stateNode.containerInfo,dc=!0;break e}c=c.return}if(null===uc)throw Error(i(160));hc(s,a,o),uc=null,dc=!1;var l=o.alternate;null!==l&&(l.return=null),o.return=null}catch(e){Il(o,t,e)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)mc(t,e),t=t.sibling}function mc(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(gc(t,e),yc(e),4&r){try{nc(3,e,e.return),rc(3,e)}catch(t){Il(e,e.return,t)}try{nc(5,e,e.return)}catch(t){Il(e,e.return,t)}}break;case 1:gc(t,e),yc(e),512&r&&null!==n&&Qa(n,n.return);break;case 5:if(gc(t,e),yc(e),512&r&&null!==n&&Qa(n,n.return),32&e.flags){var o=e.stateNode;try{fe(o,"")}catch(t){Il(e,e.return,t)}}if(4&r&&null!=(o=e.stateNode)){var s=e.memoizedProps,a=null!==n?n.memoizedProps:s,c=e.type,l=e.updateQueue;if(e.updateQueue=null,null!==l)try{"input"===c&&"radio"===s.type&&null!=s.name&&X(o,s),ve(c,a);var u=ve(c,s);for(a=0;a<l.length;a+=2){var d=l[a],f=l[a+1];"style"===d?me(o,f):"dangerouslySetInnerHTML"===d?de(o,f):"children"===d?fe(o,f):v(o,d,f,u)}switch(c){case"input":Z(o,s);break;case"textarea":ie(o,s);break;case"select":var h=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!s.multiple;var p=s.value;null!=p?ne(o,!!s.multiple,p,!1):h!==!!s.multiple&&(null!=s.defaultValue?ne(o,!!s.multiple,s.defaultValue,!0):ne(o,!!s.multiple,s.multiple?[]:"",!1))}o[po]=s}catch(t){Il(e,e.return,t)}}break;case 6:if(gc(t,e),yc(e),4&r){if(null===e.stateNode)throw Error(i(162));o=e.stateNode,s=e.memoizedProps;try{o.nodeValue=s}catch(t){Il(e,e.return,t)}}break;case 3:if(gc(t,e),yc(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{zt(t.containerInfo)}catch(t){Il(e,e.return,t)}break;case 4:default:gc(t,e),yc(e);break;case 13:gc(t,e),yc(e),8192&(o=e.child).flags&&(s=null!==o.memoizedState,o.stateNode.isHidden=s,!s||null!==o.alternate&&null!==o.alternate.memoizedState||(Uc=Xe())),4&r&&pc(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?(Ja=(u=Ja)||d,gc(t,e),Ja=u):gc(t,e),yc(e),8192&r){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!d&&1&e.mode)for(Za=e,d=e.child;null!==d;){for(f=Za=d;null!==Za;){switch(p=(h=Za).child,h.tag){case 0:case 11:case 14:case 15:nc(4,h,h.return);break;case 1:Qa(h,h.return);var g=h.stateNode;if("function"==typeof g.componentWillUnmount){r=h,n=h.return;try{t=r,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(e){Il(r,n,e)}}break;case 5:Qa(h,h.return);break;case 22:if(null!==h.memoizedState){wc(f);continue}}null!==p?(p.return=h,Za=p):wc(f)}d=d.sibling}e:for(d=null,f=e;;){if(5===f.tag){if(null===d){d=f;try{o=f.stateNode,u?"function"==typeof(s=o.style).setProperty?s.setProperty("display","none","important"):s.display="none":(c=f.stateNode,a=null!=(l=f.memoizedProps.style)&&l.hasOwnProperty("display")?l.display:null,c.style.display=ge("display",a))}catch(t){Il(e,e.return,t)}}}else if(6===f.tag){if(null===d)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(t){Il(e,e.return,t)}}else if((22!==f.tag&&23!==f.tag||null===f.memoizedState||f===e)&&null!==f.child){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;null===f.sibling;){if(null===f.return||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:gc(t,e),yc(e),4&r&&pc(e);case 21:}}function yc(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(sc(n)){var r=n;break e}n=n.return}throw Error(i(160))}switch(r.tag){case 5:var o=r.stateNode;32&r.flags&&(fe(o,""),r.flags&=-33),lc(e,ac(e),o);break;case 3:case 4:var s=r.stateNode.containerInfo;cc(e,ac(e),s);break;default:throw Error(i(161))}}catch(t){Il(e,e.return,t)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function bc(e,t,n){Za=e,vc(e,t,n)}function vc(e,t,n){for(var r=!!(1&e.mode);null!==Za;){var o=Za,i=o.child;if(22===o.tag&&r){var s=null!==o.memoizedState||Ya;if(!s){var a=o.alternate,c=null!==a&&null!==a.memoizedState||Ja;a=Ya;var l=Ja;if(Ya=s,(Ja=c)&&!l)for(Za=o;null!==Za;)c=(s=Za).child,22===s.tag&&null!==s.memoizedState?Sc(o):null!==c?(c.return=s,Za=c):Sc(o);for(;null!==i;)Za=i,vc(i,t,n),i=i.sibling;Za=o,Ya=a,Ja=l}_c(e)}else 8772&o.subtreeFlags&&null!==i?(i.return=o,Za=i):_c(e)}}function _c(e){for(;null!==Za;){var t=Za;if(8772&t.flags){var n=t.alternate;try{if(8772&t.flags)switch(t.tag){case 0:case 11:case 15:Ja||rc(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Ja)if(null===n)r.componentDidMount();else{var o=t.elementType===t.type?n.memoizedProps:na(t.type,n.memoizedProps);r.componentDidUpdate(o,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;null!==s&&qi(t,s,r);break;case 3:var a=t.updateQueue;if(null!==a){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}qi(t,a,n)}break;case 5:var c=t.stateNode;if(null===n&&4&t.flags){n=c;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var d=u.memoizedState;if(null!==d){var f=d.dehydrated;null!==f&&zt(f)}}}break;default:throw Error(i(163))}Ja||512&t.flags&&oc(t)}catch(e){Il(t,t.return,e)}}if(t===e){Za=null;break}if(null!==(n=t.sibling)){n.return=t.return,Za=n;break}Za=t.return}}function wc(e){for(;null!==Za;){var t=Za;if(t===e){Za=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Za=n;break}Za=t.return}}function Sc(e){for(;null!==Za;){var t=Za;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rc(4,t)}catch(e){Il(t,n,e)}break;case 1:var r=t.stateNode;if("function"==typeof r.componentDidMount){var o=t.return;try{r.componentDidMount()}catch(e){Il(t,o,e)}}var i=t.return;try{oc(t)}catch(e){Il(t,i,e)}break;case 5:var s=t.return;try{oc(t)}catch(e){Il(t,s,e)}}}catch(e){Il(t,t.return,e)}if(t===e){Za=null;break}var a=t.sibling;if(null!==a){a.return=t.return,Za=a;break}Za=t.return}}var xc,Ic=Math.ceil,Ac=_.ReactCurrentDispatcher,Cc=_.ReactCurrentOwner,kc=_.ReactCurrentBatchConfig,Ec=0,Tc=null,Pc=null,Mc=0,Oc=0,Dc=Ao(0),Rc=0,Nc=null,Fc=0,Lc=0,Bc=0,$c=null,jc=null,Uc=0,zc=1/0,Vc=null,qc=!1,Hc=null,Gc=null,Wc=!1,Kc=null,Yc=0,Jc=0,Xc=null,Zc=-1,Qc=0;function el(){return 6&Ec?Xe():-1!==Zc?Zc:Zc=Xe()}function tl(e){return 1&e.mode?2&Ec&&0!==Mc?Mc&-Mc:null!==mi.transition?(0===Qc&&(Qc=gt()),Qc):0!==(e=vt)?e:e=void 0===(e=window.event)?16:Jt(e.type):1}function nl(e,t,n,r){if(50<Jc)throw Jc=0,Xc=null,Error(i(185));yt(e,n,r),2&Ec&&e===Tc||(e===Tc&&(!(2&Ec)&&(Lc|=n),4===Rc&&al(e,Mc)),rl(e,r),1===n&&0===Ec&&!(1&t.mode)&&(zc=Xe()+500,jo&&Vo()))}function rl(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,o=e.expirationTimes,i=e.pendingLanes;0<i;){var s=31-st(i),a=1<<s,c=o[s];-1===c?0!==(a&n)&&0===(a&r)||(o[s]=ht(a,t)):c<=t&&(e.expiredLanes|=a),i&=~a}}(e,t);var r=ft(e,e===Tc?Mc:0);if(0===r)null!==n&&Ke(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Ke(n),1===t)0===e.tag?function(e){jo=!0,zo(e)}(cl.bind(null,e)):zo(cl.bind(null,e)),so(function(){!(6&Ec)&&Vo()}),n=null;else{switch(_t(r)){case 1:n=Qe;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Tl(n,ol.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ol(e,t){if(Zc=-1,Qc=0,6&Ec)throw Error(i(327));var n=e.callbackNode;if(Sl()&&e.callbackNode!==n)return null;var r=ft(e,e===Tc?Mc:0);if(0===r)return null;if(30&r||0!==(r&e.expiredLanes)||t)t=ml(e,r);else{t=r;var o=Ec;Ec|=2;var s=pl();for(Tc===e&&Mc===t||(Vc=null,zc=Xe()+500,fl(e,t));;)try{bl();break}catch(t){hl(e,t)}ki(),Ac.current=s,Ec=o,null!==Pc?t=0:(Tc=null,Mc=0,t=Rc)}if(0!==t){if(2===t&&0!==(o=pt(e))&&(r=o,t=il(e,o)),1===t)throw n=Nc,fl(e,0),al(e,r),rl(e,Xe()),n;if(6===t)al(e,r);else{if(o=e.current.alternate,!(30&r||function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var o=n[r],i=o.getSnapshot;o=o.value;try{if(!ar(i(),o))return!1}catch(e){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(o)||(t=ml(e,r),2===t&&(s=pt(e),0!==s&&(r=s,t=il(e,s))),1!==t)))throw n=Nc,fl(e,0),al(e,r),rl(e,Xe()),n;switch(e.finishedWork=o,e.finishedLanes=r,t){case 0:case 1:throw Error(i(345));case 2:case 5:wl(e,jc,Vc);break;case 3:if(al(e,r),(130023424&r)===r&&10<(t=Uc+500-Xe())){if(0!==ft(e,0))break;if(((o=e.suspendedLanes)&r)!==r){el(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=ro(wl.bind(null,e,jc,Vc),t);break}wl(e,jc,Vc);break;case 4:if(al(e,r),(4194240&r)===r)break;for(t=e.eventTimes,o=-1;0<r;){var a=31-st(r);s=1<<a,(a=t[a])>o&&(o=a),r&=~s}if(r=o,10<(r=(120>(r=Xe()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Ic(r/1960))-r)){e.timeoutHandle=ro(wl.bind(null,e,jc,Vc),r);break}wl(e,jc,Vc);break;default:throw Error(i(329))}}}return rl(e,Xe()),e.callbackNode===n?ol.bind(null,e):null}function il(e,t){var n=$c;return e.current.memoizedState.isDehydrated&&(fl(e,t).flags|=256),2!==(e=ml(e,t))&&(t=jc,jc=n,null!==t&&sl(t)),e}function sl(e){null===jc?jc=e:jc.push.apply(jc,e)}function al(e,t){for(t&=~Bc,t&=~Lc,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-st(t),r=1<<n;e[n]=-1,t&=~r}}function cl(e){if(6&Ec)throw Error(i(327));Sl();var t=ft(e,0);if(!(1&t))return rl(e,Xe()),null;var n=ml(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=il(e,r))}if(1===n)throw n=Nc,fl(e,0),al(e,t),rl(e,Xe()),n;if(6===n)throw Error(i(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,wl(e,jc,Vc),rl(e,Xe()),null}function ll(e,t){var n=Ec;Ec|=1;try{return e(t)}finally{0===(Ec=n)&&(zc=Xe()+500,jo&&Vo())}}function ul(e){null!==Kc&&0===Kc.tag&&!(6&Ec)&&Sl();var t=Ec;Ec|=1;var n=kc.transition,r=vt;try{if(kc.transition=null,vt=1,e)return e()}finally{vt=r,kc.transition=n,!(6&(Ec=t))&&Vo()}}function dl(){Oc=Dc.current,Co(Dc)}function fl(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,oo(n)),null!==Pc)for(n=Pc.return;null!==n;){var r=n;switch(ni(r),r.tag){case 1:null!=(r=r.type.childContextTypes)&&Ro();break;case 3:Xi(),Co(Po),Co(To),rs();break;case 5:Qi(r);break;case 4:Xi();break;case 13:case 19:Co(es);break;case 10:Ei(r.type._context);break;case 22:case 23:dl()}n=n.return}if(Tc=e,Pc=e=Dl(e.current,null),Mc=Oc=t,Rc=0,Nc=null,Bc=Lc=Fc=0,jc=$c=null,null!==Oi){for(t=0;t<Oi.length;t++)if(null!==(r=(n=Oi[t]).interleaved)){n.interleaved=null;var o=r.next,i=n.pending;if(null!==i){var s=i.next;i.next=o,r.next=s}n.pending=r}Oi=null}return e}function hl(e,t){for(;;){var n=Pc;try{if(ki(),os.current=Zs,us){for(var r=as.memoizedState;null!==r;){var o=r.queue;null!==o&&(o.pending=null),r=r.next}us=!1}if(ss=0,ls=cs=as=null,ds=!1,fs=0,Cc.current=null,null===n||null===n.return){Rc=1,Nc=t,Pc=null;break}e:{var s=e,a=n.return,c=n,l=t;if(t=Mc,c.flags|=32768,null!==l&&"object"==typeof l&&"function"==typeof l.then){var u=l,d=c,f=d.tag;if(!(1&d.mode||0!==f&&11!==f&&15!==f)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=ma(a);if(null!==p){p.flags&=-257,ya(p,a,c,0,t),1&p.mode&&ga(s,u,t),l=u;var g=(t=p).updateQueue;if(null===g){var m=new Set;m.add(l),t.updateQueue=m}else g.add(l);break e}if(!(1&t)){ga(s,u,t),gl();break e}l=Error(i(426))}else if(ii&&1&c.mode){var y=ma(a);if(null!==y){!(65536&y.flags)&&(y.flags|=256),ya(y,a,c,0,t),gi(la(l,c));break e}}s=l=la(l,c),4!==Rc&&(Rc=2),null===$c?$c=[s]:$c.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t,zi(s,ha(0,l,t));break e;case 1:c=l;var b=s.type,v=s.stateNode;if(!(128&s.flags||"function"!=typeof b.getDerivedStateFromError&&(null===v||"function"!=typeof v.componentDidCatch||null!==Gc&&Gc.has(v)))){s.flags|=65536,t&=-t,s.lanes|=t,zi(s,pa(s,c,t));break e}}s=s.return}while(null!==s)}_l(n)}catch(e){t=e,Pc===n&&null!==n&&(Pc=n=n.return);continue}break}}function pl(){var e=Ac.current;return Ac.current=Zs,null===e?Zs:e}function gl(){0!==Rc&&3!==Rc&&2!==Rc||(Rc=4),null===Tc||!(268435455&Fc)&&!(268435455&Lc)||al(Tc,Mc)}function ml(e,t){var n=Ec;Ec|=2;var r=pl();for(Tc===e&&Mc===t||(Vc=null,fl(e,t));;)try{yl();break}catch(t){hl(e,t)}if(ki(),Ec=n,Ac.current=r,null!==Pc)throw Error(i(261));return Tc=null,Mc=0,Rc}function yl(){for(;null!==Pc;)vl(Pc)}function bl(){for(;null!==Pc&&!Ye();)vl(Pc)}function vl(e){var t=xc(e.alternate,e,Oc);e.memoizedProps=e.pendingProps,null===t?_l(e):Pc=t,Cc.current=null}function _l(e){var t=e;do{var n=t.alternate;if(e=t.return,32768&t.flags){if(null!==(n=Ka(n,t)))return n.flags&=32767,void(Pc=n);if(null===e)return Rc=6,void(Pc=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}else if(null!==(n=Wa(n,t,Oc)))return void(Pc=n);if(null!==(t=t.sibling))return void(Pc=t);Pc=t=e}while(null!==t);0===Rc&&(Rc=5)}function wl(e,t,n){var r=vt,o=kc.transition;try{kc.transition=null,vt=1,function(e,t,n,r){do{Sl()}while(null!==Kc);if(6&Ec)throw Error(i(327));n=e.finishedWork;var o=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(i(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var o=31-st(n),i=1<<o;t[o]=0,r[o]=-1,e[o]=-1,n&=~i}}(e,s),e===Tc&&(Pc=Tc=null,Mc=0),!(2064&n.subtreeFlags)&&!(2064&n.flags)||Wc||(Wc=!0,Tl(tt,function(){return Sl(),null})),s=!!(15990&n.flags),15990&n.subtreeFlags||s){s=kc.transition,kc.transition=null;var a=vt;vt=1;var c=Ec;Ec|=4,Cc.current=null,function(e,t){if(eo=qt,hr(e=fr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var o=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch(e){n=null;break e}var a=0,c=-1,l=-1,u=0,d=0,f=e,h=null;t:for(;;){for(var p;f!==n||0!==o&&3!==f.nodeType||(c=a+o),f!==s||0!==r&&3!==f.nodeType||(l=a+r),3===f.nodeType&&(a+=f.nodeValue.length),null!==(p=f.firstChild);)h=f,f=p;for(;;){if(f===e)break t;if(h===n&&++u===o&&(c=a),h===s&&++d===r&&(l=a),null!==(p=f.nextSibling))break;h=(f=h).parentNode}f=p}n=-1===c||-1===l?null:{start:c,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(to={focusedElem:e,selectionRange:n},qt=!1,Za=t;null!==Za;)if(e=(t=Za).child,1028&t.subtreeFlags&&null!==e)e.return=t,Za=e;else for(;null!==Za;){t=Za;try{var g=t.alternate;if(1024&t.flags)switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==g){var m=g.memoizedProps,y=g.memoizedState,b=t.stateNode,v=b.getSnapshotBeforeUpdate(t.elementType===t.type?m:na(t.type,m),y);b.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var _=t.stateNode.containerInfo;1===_.nodeType?_.textContent="":9===_.nodeType&&_.documentElement&&_.removeChild(_.documentElement);break;default:throw Error(i(163))}}catch(e){Il(t,t.return,e)}if(null!==(e=t.sibling)){e.return=t.return,Za=e;break}Za=t.return}g=tc,tc=!1}(e,n),mc(n,e),pr(to),qt=!!eo,to=eo=null,e.current=n,bc(n,e,o),Je(),Ec=c,vt=a,kc.transition=s}else e.current=n;if(Wc&&(Wc=!1,Kc=e,Yc=o),0===(s=e.pendingLanes)&&(Gc=null),function(e){if(it&&"function"==typeof it.onCommitFiberRoot)try{it.onCommitFiberRoot(ot,e,void 0,!(128&~e.current.flags))}catch(e){}}(n.stateNode),rl(e,Xe()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)r((o=t[n]).value,{componentStack:o.stack,digest:o.digest});if(qc)throw qc=!1,e=Hc,Hc=null,e;!!(1&Yc)&&0!==e.tag&&Sl(),1&(s=e.pendingLanes)?e===Xc?Jc++:(Jc=0,Xc=e):Jc=0,Vo()}(e,t,n,r)}finally{kc.transition=o,vt=r}return null}function Sl(){if(null!==Kc){var e=_t(Yc),t=kc.transition,n=vt;try{if(kc.transition=null,vt=16>e?16:e,null===Kc)var r=!1;else{if(e=Kc,Kc=null,Yc=0,6&Ec)throw Error(i(331));var o=Ec;for(Ec|=4,Za=e.current;null!==Za;){var s=Za,a=s.child;if(16&Za.flags){var c=s.deletions;if(null!==c){for(var l=0;l<c.length;l++){var u=c[l];for(Za=u;null!==Za;){var d=Za;switch(d.tag){case 0:case 11:case 15:nc(8,d,s)}var f=d.child;if(null!==f)f.return=d,Za=f;else for(;null!==Za;){var h=(d=Za).sibling,p=d.return;if(ic(d),d===u){Za=null;break}if(null!==h){h.return=p,Za=h;break}Za=p}}}var g=s.alternate;if(null!==g){var m=g.child;if(null!==m){g.child=null;do{var y=m.sibling;m.sibling=null,m=y}while(null!==m)}}Za=s}}if(2064&s.subtreeFlags&&null!==a)a.return=s,Za=a;else e:for(;null!==Za;){if(2048&(s=Za).flags)switch(s.tag){case 0:case 11:case 15:nc(9,s,s.return)}var b=s.sibling;if(null!==b){b.return=s.return,Za=b;break e}Za=s.return}}var v=e.current;for(Za=v;null!==Za;){var _=(a=Za).child;if(2064&a.subtreeFlags&&null!==_)_.return=a,Za=_;else e:for(a=v;null!==Za;){if(2048&(c=Za).flags)try{switch(c.tag){case 0:case 11:case 15:rc(9,c)}}catch(e){Il(c,c.return,e)}if(c===a){Za=null;break e}var w=c.sibling;if(null!==w){w.return=c.return,Za=w;break e}Za=c.return}}if(Ec=o,Vo(),it&&"function"==typeof it.onPostCommitFiberRoot)try{it.onPostCommitFiberRoot(ot,e)}catch(e){}r=!0}return r}finally{vt=n,kc.transition=t}}return!1}function xl(e,t,n){e=ji(e,t=ha(0,t=la(n,t),1),1),t=el(),null!==e&&(yt(e,1,t),rl(e,t))}function Il(e,t,n){if(3===e.tag)xl(e,e,n);else for(;null!==t;){if(3===t.tag){xl(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"==typeof t.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===Gc||!Gc.has(r))){t=ji(t,e=pa(t,e=la(n,e),1),1),e=el(),null!==t&&(yt(t,1,e),rl(t,e));break}}t=t.return}}function Al(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=el(),e.pingedLanes|=e.suspendedLanes&n,Tc===e&&(Mc&n)===n&&(4===Rc||3===Rc&&(130023424&Mc)===Mc&&500>Xe()-Uc?fl(e,0):Bc|=n),rl(e,t)}function Cl(e,t){0===t&&(1&e.mode?(t=ut,!(130023424&(ut<<=1))&&(ut=4194304)):t=1);var n=el();null!==(e=Ni(e,t))&&(yt(e,t,n),rl(e,n))}function kl(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Cl(e,n)}function El(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,o=e.memoizedState;null!==o&&(n=o.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(i(314))}null!==r&&r.delete(t),Cl(e,n)}function Tl(e,t){return We(e,t)}function Pl(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ml(e,t,n,r){return new Pl(e,t,n,r)}function Ol(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Dl(e,t){var n=e.alternate;return null===n?((n=Ml(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Rl(e,t,n,r,o,s){var a=2;if(r=e,"function"==typeof e)Ol(e)&&(a=1);else if("string"==typeof e)a=5;else e:switch(e){case x:return Nl(n.children,o,s,t);case I:a=8,o|=8;break;case A:return(e=Ml(12,n,t,2|o)).elementType=A,e.lanes=s,e;case T:return(e=Ml(13,n,t,o)).elementType=T,e.lanes=s,e;case P:return(e=Ml(19,n,t,o)).elementType=P,e.lanes=s,e;case D:return Fl(n,o,s,t);default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case C:a=10;break e;case k:a=9;break e;case E:a=11;break e;case M:a=14;break e;case O:a=16,r=null;break e}throw Error(i(130,null==e?e:typeof e,""))}return(t=Ml(a,n,t,o)).elementType=e,t.type=r,t.lanes=s,t}function Nl(e,t,n,r){return(e=Ml(7,e,r,t)).lanes=n,e}function Fl(e,t,n,r){return(e=Ml(22,e,r,t)).elementType=D,e.lanes=n,e.stateNode={isHidden:!1},e}function Ll(e,t,n){return(e=Ml(6,e,null,t)).lanes=n,e}function Bl(e,t,n){return(t=Ml(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function $l(e,t,n,r,o){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mt(0),this.expirationTimes=mt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mt(0),this.identifierPrefix=r,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function jl(e,t,n,r,o,i,s,a,c){return e=new $l(e,t,n,a,c),1===t?(t=1,!0===i&&(t|=8)):t=0,i=Ml(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Li(i),e}function Ul(e){if(!e)return Eo;e:{if(ze(e=e._reactInternals)!==e||1!==e.tag)throw Error(i(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Do(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(i(171))}if(1===e.tag){var n=e.type;if(Do(n))return Fo(e,n,t)}return t}function zl(e,t,n,r,o,i,s,a,c){return(e=jl(n,r,!0,e,0,i,0,a,c)).context=Ul(null),n=e.current,(i=$i(r=el(),o=tl(n))).callback=null!=t?t:null,ji(n,i,o),e.current.lanes=o,yt(e,o,r),rl(e,r),e}function Vl(e,t,n,r){var o=t.current,i=el(),s=tl(o);return n=Ul(n),null===t.context?t.context=n:t.pendingContext=n,(t=$i(i,s)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=ji(o,t,s))&&(nl(e,o,s,i),Ui(e,o,s)),s}function ql(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Hl(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Gl(e,t){Hl(e,t),(e=e.alternate)&&Hl(e,t)}xc=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Po.current)va=!0;else{if(0===(e.lanes&n)&&!(128&t.flags))return va=!1,function(e,t,n){switch(t.tag){case 3:Ta(t),pi();break;case 5:Zi(t);break;case 1:Do(t.type)&&Lo(t);break;case 4:Ji(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,o=t.memoizedProps.value;ko(xi,r._currentValue),r._currentValue=o;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(ko(es,1&es.current),t.flags|=128,null):0!==(n&t.child.childLanes)?La(e,t,n):(ko(es,1&es.current),null!==(e=qa(e,t,n))?e.sibling:null);ko(es,1&es.current);break;case 19:if(r=0!==(n&t.childLanes),128&e.flags){if(r)return za(e,t,n);t.flags|=128}if(null!==(o=t.memoizedState)&&(o.rendering=null,o.tail=null,o.lastEffect=null),ko(es,es.current),r)break;return null;case 22:case 23:return t.lanes=0,Ia(e,t,n)}return qa(e,t,n)}(e,t,n);va=!!(131072&e.flags)}else va=!1,ii&&1048576&t.flags&&ei(t,Wo,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Va(e,t),e=t.pendingProps;var o=Oo(t,To.current);Pi(t,n),o=ms(null,t,r,e,o,n);var s=ys();return t.flags|=1,"object"==typeof o&&null!==o&&"function"==typeof o.render&&void 0===o.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Do(r)?(s=!0,Lo(t)):s=!1,t.memoizedState=null!==o.state&&void 0!==o.state?o.state:null,Li(t),o.updater=oa,t.stateNode=o,o._reactInternals=t,ca(t,r,e,n),t=Ea(null,t,r,!0,s,n)):(t.tag=0,ii&&s&&ti(t),_a(null,t,o,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Va(e,t),e=t.pendingProps,r=(o=r._init)(r._payload),t.type=r,o=t.tag=function(e){if("function"==typeof e)return Ol(e)?1:0;if(null!=e){if((e=e.$$typeof)===E)return 11;if(e===M)return 14}return 2}(r),e=na(r,e),o){case 0:t=Ca(null,t,r,e,n);break e;case 1:t=ka(null,t,r,e,n);break e;case 11:t=wa(null,t,r,e,n);break e;case 14:t=Sa(null,t,r,na(r.type,e),n);break e}throw Error(i(306,r,""))}return t;case 0:return r=t.type,o=t.pendingProps,Ca(e,t,r,o=t.elementType===r?o:na(r,o),n);case 1:return r=t.type,o=t.pendingProps,ka(e,t,r,o=t.elementType===r?o:na(r,o),n);case 3:e:{if(Ta(t),null===e)throw Error(i(387));r=t.pendingProps,o=(s=t.memoizedState).element,Bi(e,t),Vi(t,r,null,n);var a=t.memoizedState;if(r=a.element,s.isDehydrated){if(s={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=s,t.memoizedState=s,256&t.flags){t=Pa(e,t,r,n,o=la(Error(i(423)),t));break e}if(r!==o){t=Pa(e,t,r,n,o=la(Error(i(424)),t));break e}for(oi=lo(t.stateNode.containerInfo.firstChild),ri=t,ii=!0,si=null,n=Si(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(pi(),r===o){t=qa(e,t,n);break e}_a(e,t,r,n)}t=t.child}return t;case 5:return Zi(t),null===e&&ui(t),r=t.type,o=t.pendingProps,s=null!==e?e.memoizedProps:null,a=o.children,no(r,o)?a=null:null!==s&&no(r,s)&&(t.flags|=32),Aa(e,t),_a(e,t,a,n),t.child;case 6:return null===e&&ui(t),null;case 13:return La(e,t,n);case 4:return Ji(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=wi(t,null,r,n):_a(e,t,r,n),t.child;case 11:return r=t.type,o=t.pendingProps,wa(e,t,r,o=t.elementType===r?o:na(r,o),n);case 7:return _a(e,t,t.pendingProps,n),t.child;case 8:case 12:return _a(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,o=t.pendingProps,s=t.memoizedProps,a=o.value,ko(xi,r._currentValue),r._currentValue=a,null!==s)if(ar(s.value,a)){if(s.children===o.children&&!Po.current){t=qa(e,t,n);break e}}else for(null!==(s=t.child)&&(s.return=t);null!==s;){var c=s.dependencies;if(null!==c){a=s.child;for(var l=c.firstContext;null!==l;){if(l.context===r){if(1===s.tag){(l=$i(-1,n&-n)).tag=2;var u=s.updateQueue;if(null!==u){var d=(u=u.shared).pending;null===d?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}s.lanes|=n,null!==(l=s.alternate)&&(l.lanes|=n),Ti(s.return,n,t),c.lanes|=n;break}l=l.next}}else if(10===s.tag)a=s.type===t.type?null:s.child;else if(18===s.tag){if(null===(a=s.return))throw Error(i(341));a.lanes|=n,null!==(c=a.alternate)&&(c.lanes|=n),Ti(a,n,t),a=s.sibling}else a=s.child;if(null!==a)a.return=s;else for(a=s;null!==a;){if(a===t){a=null;break}if(null!==(s=a.sibling)){s.return=a.return,a=s;break}a=a.return}s=a}_a(e,t,o.children,n),t=t.child}return t;case 9:return o=t.type,r=t.pendingProps.children,Pi(t,n),r=r(o=Mi(o)),t.flags|=1,_a(e,t,r,n),t.child;case 14:return o=na(r=t.type,t.pendingProps),Sa(e,t,r,o=na(r.type,o),n);case 15:return xa(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:na(r,o),Va(e,t),t.tag=1,Do(r)?(e=!0,Lo(t)):e=!1,Pi(t,n),sa(t,r,o),ca(t,r,o,n),Ea(null,t,r,!0,e,n);case 19:return za(e,t,n);case 22:return Ia(e,t,n)}throw Error(i(156,t.tag))};var Wl="function"==typeof reportError?reportError:function(e){console.error(e)};function Kl(e){this._internalRoot=e}function Yl(e){this._internalRoot=e}function Jl(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Xl(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Zl(){}function Ql(e,t,n,r,o){var i=n._reactRootContainer;if(i){var s=i;if("function"==typeof o){var a=o;o=function(){var e=ql(s);a.call(e)}}Vl(t,s,e,o)}else s=function(e,t,n,r,o){if(o){if("function"==typeof r){var i=r;r=function(){var e=ql(s);i.call(e)}}var s=zl(t,r,e,0,null,!1,0,"",Zl);return e._reactRootContainer=s,e[go]=s.current,zr(8===e.nodeType?e.parentNode:e),ul(),s}for(;o=e.lastChild;)e.removeChild(o);if("function"==typeof r){var a=r;r=function(){var e=ql(c);a.call(e)}}var c=jl(e,0,!1,null,0,!1,0,"",Zl);return e._reactRootContainer=c,e[go]=c.current,zr(8===e.nodeType?e.parentNode:e),ul(function(){Vl(t,c,n,r)}),c}(n,t,e,o,r);return ql(s)}Yl.prototype.render=Kl.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(i(409));Vl(e,t,null,null)},Yl.prototype.unmount=Kl.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;ul(function(){Vl(null,e,null,null)}),t[go]=null}},Yl.prototype.unstable_scheduleHydration=function(e){if(e){var t=It();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Dt.length&&0!==t&&t<Dt[n].priority;n++);Dt.splice(n,0,e),0===n&&Lt(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=dt(t.pendingLanes);0!==n&&(bt(t,1|n),rl(t,Xe()),!(6&Ec)&&(zc=Xe()+500,Vo()))}break;case 13:ul(function(){var t=Ni(e,1);if(null!==t){var n=el();nl(t,e,1,n)}}),Gl(e,1)}},St=function(e){if(13===e.tag){var t=Ni(e,134217728);null!==t&&nl(t,e,134217728,el()),Gl(e,134217728)}},xt=function(e){if(13===e.tag){var t=tl(e),n=Ni(e,t);null!==n&&nl(n,e,t,el()),Gl(e,t)}},It=function(){return vt},At=function(e,t){var n=vt;try{return vt=e,t()}finally{vt=n}},Se=function(e,t,n){switch(t){case"input":if(Z(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var o=So(r);if(!o)throw Error(i(90));W(r),Z(r,o)}}}break;case"textarea":ie(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ee=ll,Te=ul;var eu={usingClientEntryPoint:!1,Events:[_o,wo,So,Ce,ke,ll]},tu={findFiberByHostInstance:vo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nu={bundleType:tu.bundleType,version:tu.version,rendererPackageName:tu.rendererPackageName,rendererConfig:tu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:_.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=He(e))?null:e.stateNode},findFiberByHostInstance:tu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ru=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ru.isDisabled&&ru.supportsFiber)try{ot=ru.inject(nu),it=ru}catch(ue){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=eu,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Jl(t))throw Error(i(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:S,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Jl(e))throw Error(i(299));var n=!1,r="",o=Wl;return null!=t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(o=t.onRecoverableError)),t=jl(e,1,!1,null,0,n,0,r,o),e[go]=t.current,zr(8===e.nodeType?e.parentNode:e),new Kl(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"==typeof e.render)throw Error(i(188));throw e=Object.keys(e).join(","),Error(i(268,e))}return null===(e=He(t))?null:e.stateNode},t.flushSync=function(e){return ul(e)},t.hydrate=function(e,t,n){if(!Xl(t))throw Error(i(200));return Ql(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Jl(e))throw Error(i(405));var r=null!=n&&n.hydratedSources||null,o=!1,s="",a=Wl;if(null!=n&&(!0===n.unstable_strictMode&&(o=!0),void 0!==n.identifierPrefix&&(s=n.identifierPrefix),void 0!==n.onRecoverableError&&(a=n.onRecoverableError)),t=zl(t,null,e,1,null!=n?n:null,o,0,s,a),e[go]=t.current,zr(e),r)for(e=0;e<r.length;e++)o=(o=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,o]:t.mutableSourceEagerHydrationData.push(n,o);return new Yl(t)},t.render=function(e,t,n){if(!Xl(t))throw Error(i(200));return Ql(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Xl(e))throw Error(i(40));return!!e._reactRootContainer&&(ul(function(){Ql(null,null,e,!1,function(){e._reactRootContainer=null,e[go]=null})}),!0)},t.unstable_batchedUpdates=ll,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Xl(n))throw Error(i(200));if(null==e||void 0===e._reactInternals)throw Error(i(38));return Ql(e,t,n,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},22696:function(e,t,n){var r;e.exports=(r=n(19021),n(80754),n(84636),n(39506),n(57165),function(){var e=r,t=e.lib.StreamCipher,n=e.algo,o=[],i=[],s=[],a=n.RabbitLegacy=t.extend({_doReset:function(){var e=this._key.words,t=this.cfg.iv,n=this._X=[e[0],e[3]<<16|e[2]>>>16,e[1],e[0]<<16|e[3]>>>16,e[2],e[1]<<16|e[0]>>>16,e[3],e[2]<<16|e[1]>>>16],r=this._C=[e[2]<<16|e[2]>>>16,4294901760&e[0]|65535&e[1],e[3]<<16|e[3]>>>16,4294901760&e[1]|65535&e[2],e[0]<<16|e[0]>>>16,4294901760&e[2]|65535&e[3],e[1]<<16|e[1]>>>16,4294901760&e[3]|65535&e[0]];this._b=0;for(var o=0;o<4;o++)c.call(this);for(o=0;o<8;o++)r[o]^=n[o+4&7];if(t){var i=t.words,s=i[0],a=i[1],l=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8),u=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),d=l>>>16|4294901760&u,f=u<<16|65535&l;for(r[0]^=l,r[1]^=d,r[2]^=u,r[3]^=f,r[4]^=l,r[5]^=d,r[6]^=u,r[7]^=f,o=0;o<4;o++)c.call(this)}},_doProcessBlock:function(e,t){var n=this._X;c.call(this),o[0]=n[0]^n[5]>>>16^n[3]<<16,o[1]=n[2]^n[7]>>>16^n[5]<<16,o[2]=n[4]^n[1]>>>16^n[7]<<16,o[3]=n[6]^n[3]>>>16^n[1]<<16;for(var r=0;r<4;r++)o[r]=16711935&(o[r]<<8|o[r]>>>24)|4278255360&(o[r]<<24|o[r]>>>8),e[t+r]^=o[r]},blockSize:4,ivSize:2});function c(){for(var e=this._X,t=this._C,n=0;n<8;n++)i[n]=t[n];for(t[0]=t[0]+1295307597+this._b|0,t[1]=t[1]+3545052371+(t[0]>>>0<i[0]>>>0?1:0)|0,t[2]=t[2]+886263092+(t[1]>>>0<i[1]>>>0?1:0)|0,t[3]=t[3]+1295307597+(t[2]>>>0<i[2]>>>0?1:0)|0,t[4]=t[4]+3545052371+(t[3]>>>0<i[3]>>>0?1:0)|0,t[5]=t[5]+886263092+(t[4]>>>0<i[4]>>>0?1:0)|0,t[6]=t[6]+1295307597+(t[5]>>>0<i[5]>>>0?1:0)|0,t[7]=t[7]+3545052371+(t[6]>>>0<i[6]>>>0?1:0)|0,this._b=t[7]>>>0<i[7]>>>0?1:0,n=0;n<8;n++){var r=e[n]+t[n],o=65535&r,a=r>>>16,c=((o*o>>>17)+o*a>>>15)+a*a,l=((4294901760&r)*r|0)+((65535&r)*r|0);s[n]=c^l}e[0]=s[0]+(s[7]<<16|s[7]>>>16)+(s[6]<<16|s[6]>>>16)|0,e[1]=s[1]+(s[0]<<8|s[0]>>>24)+s[7]|0,e[2]=s[2]+(s[1]<<16|s[1]>>>16)+(s[0]<<16|s[0]>>>16)|0,e[3]=s[3]+(s[2]<<8|s[2]>>>24)+s[1]|0,e[4]=s[4]+(s[3]<<16|s[3]>>>16)+(s[2]<<16|s[2]>>>16)|0,e[5]=s[5]+(s[4]<<8|s[4]>>>24)+s[3]|0,e[6]=s[6]+(s[5]<<16|s[5]>>>16)+(s[4]<<16|s[4]>>>16)|0,e[7]=s[7]+(s[6]<<8|s[6]>>>24)+s[5]|0}e.RabbitLegacy=t._createHelper(a)}(),r.RabbitLegacy)},22699:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var r=n(84051),o=n(54746),i=n(64493),s=n(71429);const a=({trigger:e,className:t,bubbleClassName:n,children:a,transformOriginX:c,transformOriginY:l,positionX:u="left",positionY:d="top",footer:f,forceOpen:h,onOpen:p,onClose:g,onTransitionEnd:m,onMouseEnterBackdrop:y,onHide:b,autoClose:v=!0})=>{const _=(0,r.li)(),[w,S]=(0,r.J0)(!1),x=(0,r.hb)(()=>{S(!1),g?.()},[g]),I=(0,r.Kr)(()=>e||(({onTrigger:e,isOpen:t})=>r.Ay.createElement(i.A,{round:!0,size:"smaller",color:"translucent",className:t?"active":"",onClick:e,ariaLabel:"More actions"},r.Ay.createElement(o.A,{name:"more"}))),[e]);return r.Ay.createElement("div",{className:`DropdownMenu ${t||""}`,onKeyDown:e=>{const t=_.current;if(!w||40!==e.keyCode||!t)return;const n=document.activeElement,r=Array.from(t.children);n&&-1!==r.indexOf(n)||r[0].focus()},onTransitionEnd:m},I({onTrigger:()=>{S(!w),w?g?.():p?.()},isOpen:w}),r.Ay.createElement(s.A,{ref:_,isOpen:w||Boolean(h),className:t||"",bubbleClassName:n||"",transformOriginX:c,transformOriginY:l,positionX:u,positionY:d,footer:f,autoClose:v,onClose:x,onCloseAnimationEnd:b,onMouseEnterBackdrop:y},a))}},22799:(e,t)=>{"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),c=Symbol.for("react.context"),l=Symbol.for("react.server_context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.suspense_list"),h=Symbol.for("react.memo"),p=Symbol.for("react.lazy");Symbol.for("react.offscreen");Symbol.for("react.module.reference"),t.ForwardRef=u,t.isMemo=function(e){return function(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:switch(e=e.type){case o:case s:case i:case d:case f:return e;default:switch(e=e&&e.$$typeof){case l:case c:case u:case p:case h:case a:return e;default:return t}}case r:return t}}}(e)===h}},22802:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(84051),o=n(68323);const i="backdrop";function s(e,t,n,s,a){(0,r.vJ)(()=>{if(!e||!n)return;const r=e=>{const r=t.current,c=e.target;!r||!c||s&&2===e.button||(0,o.x)()||r.contains(e.target)&&!c.classList.contains(i)||a&&(c.matches(a)||c.closest(a))||(e.preventDefault(),e.stopPropagation(),n?.())};return document.addEventListener("mousedown",r),()=>{document.removeEventListener("mousedown",r)}},[a,s,e,t,n])}},22986:(e,t,n)=>{"use strict";function r(e,t){const n=typeof e;if(n!==typeof t)return!1;if("object"!==n||null===e||null===t)return e===t;const o=Array.isArray(e);if(o!==Array.isArray(t))return!1;if(o){const n=e,o=t;return n.length===o.length&&n.every((e,t)=>r(e,o[t]))}const i=e,s=t,a=Object.keys(i);return a.length===Object.keys(s).length&&a.every(e=>r(i[e],s[e]))}n.d(t,{T:()=>r})},23029:(e,t,n)=>{"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,{A:()=>r})},23174:(e,t,n)=>{"use strict";n.d(t,{C7:()=>r.C7,K1:()=>r.K1,l3:()=>r.l3,qZ:()=>o.q});var r=n(84448),o=n(35710)},23450:(e,t,n)=>{"use strict";n.r(t),n.d(t,{InferenceSession:()=>p,Tensor:()=>f,env:()=>s,registerBackend:()=>i});const r={},o=[],i=(e,t,n)=>{if(t&&"function"==typeof t.init&&"function"==typeof t.createSessionHandler){const i=r[e];if(void 0===i)r[e]={backend:t,priority:n};else{if(i.priority>n)return;if(i.priority===n&&i.backend!==t)throw new Error(`cannot register backend "${e}" using priority ${n}`)}if(n>=0){const t=o.indexOf(e);-1!==t&&o.splice(t,1);for(let t=0;t<o.length;t++)if(r[o[t]].priority<=n)return void o.splice(t,0,e);o.push(e)}return}throw new TypeError("not a valid backend")},s=new class{constructor(){this.wasm={},this.webgl={},this.logLevelInternal="warning"}set logLevel(e){if(void 0!==e){if("string"!=typeof e||-1===["verbose","info","warning","error","fatal"].indexOf(e))throw new Error(`Unsupported logging level: ${e}`);this.logLevelInternal=e}}get logLevel(){return this.logLevelInternal}},a="undefined"!=typeof BigInt64Array&&"function"==typeof BigInt64Array.from,c="undefined"!=typeof BigUint64Array&&"function"==typeof BigUint64Array.from,l=new Map([["float32",Float32Array],["uint8",Uint8Array],["int8",Int8Array],["uint16",Uint16Array],["int16",Int16Array],["int32",Int32Array],["bool",Uint8Array],["float64",Float64Array],["uint32",Uint32Array]]),u=new Map([[Float32Array,"float32"],[Uint8Array,"uint8"],[Int8Array,"int8"],[Uint16Array,"uint16"],[Int16Array,"int16"],[Int32Array,"int32"],[Float64Array,"float64"],[Uint32Array,"uint32"]]);a&&(l.set("int64",BigInt64Array),u.set(BigInt64Array,"int64")),c&&(l.set("uint64",BigUint64Array),u.set(BigUint64Array,"uint64"));class d{constructor(e,t,n){let r,o,i;if("string"==typeof e)if(r=e,i=n,"string"===e){if(!Array.isArray(t))throw new TypeError("A string tensor's data must be a string array.");o=t}else{const n=l.get(e);if(void 0===n)throw new TypeError(`Unsupported tensor type: ${e}.`);if(Array.isArray(t))o=n.from(t);else{if(!(t instanceof n))throw new TypeError(`A ${r} tensor's data must be type of ${n}`);o=t}}else if(i=t,Array.isArray(e)){if(0===e.length)throw new TypeError("Tensor type cannot be inferred from an empty array.");const t=typeof e[0];if("string"===t)r="string",o=e;else{if("boolean"!==t)throw new TypeError(`Invalid element type of data array: ${t}.`);r="bool",o=Uint8Array.from(e)}}else{const t=u.get(e.constructor);if(void 0===t)throw new TypeError(`Unsupported type for tensor data: ${e.constructor}.`);r=t,o=e}if(void 0===i)i=[o.length];else if(!Array.isArray(i))throw new TypeError("A tensor's dims must be a number array");const s=(e=>{let t=1;for(let n=0;n<e.length;n++){const r=e[n];if("number"!=typeof r||!Number.isSafeInteger(r))throw new TypeError(`dims[${n}] must be an integer, got: ${r}`);if(r<0)throw new RangeError(`dims[${n}] must be a non-negative integer, got: ${r}`);t*=r}return t})(i);if(s!==o.length)throw new Error(`Tensor's size(${s}) does not match data length(${o.length}).`);this.dims=i,this.type=r,this.data=o,this.size=s}static bufferToTensor(e,t){if(void 0===e)throw new Error("Image buffer must be defined");if(void 0===t.height||void 0===t.width)throw new Error("Image height and width must be defined");const{height:n,width:r}=t,o=t.norm;let i,s;i=void 0===o||void 0===o.mean?255:o.mean,s=void 0===o||void 0===o.bias?0:o.bias;const a=void 0!==t.bitmapFormat?t.bitmapFormat:"RGBA",c=void 0!==t.tensorFormat&&void 0!==t.tensorFormat?t.tensorFormat:"RGB",l=n*r,u="RGBA"===c?new Float32Array(4*l):new Float32Array(3*l);let f=4,h=0,p=1,g=2,m=3,y=0,b=l,v=2*l,_=-1;"RGB"===a&&(f=3,h=0,p=1,g=2,m=-1),"RGBA"===c?_=3*l:"RBG"===c?(y=0,v=l,b=2*l):"BGR"===c&&(v=0,b=l,y=2*l);for(let t=0;t<l;t++,h+=f,g+=f,p+=f,m+=f)u[y++]=(e[h]+s)/i,u[b++]=(e[p]+s)/i,u[v++]=(e[g]+s)/i,-1!==_&&-1!==m&&(u[_++]=(e[m]+s)/i);return new d("float32",u,"RGBA"===c?[1,4,n,r]:[1,3,n,r])}static async fromImage(e,t){const n="undefined"!=typeof HTMLImageElement&&e instanceof HTMLImageElement,r="undefined"!=typeof ImageData&&e instanceof ImageData,o="undefined"!=typeof ImageBitmap&&e instanceof ImageBitmap,i="undefined"!=typeof String&&(e instanceof String||"string"==typeof e);let s,a={};if(n){const n=document.createElement("canvas"),r=n.getContext("2d");if(null==r)throw new Error("Can not access image data");{let o=e.naturalHeight,i=e.naturalWidth;if(void 0!==t&&void 0!==t.resizedHeight&&void 0!==t.resizedWidth&&(o=t.resizedHeight,i=t.resizedWidth),void 0!==t){if(a=t,void 0!==t.tensorFormat)throw new Error("Image input config format must be RGBA for HTMLImageElement");if(a.tensorFormat="RGBA",void 0!==t.height&&t.height!==o)throw new Error("Image input config height doesn't match HTMLImageElement height");if(a.height=o,void 0!==t.width&&t.width!==i)throw new Error("Image input config width doesn't match HTMLImageElement width");a.width=i}else a.tensorFormat="RGBA",a.height=o,a.width=i;n.width=i,n.height=o,r.drawImage(e,0,0,i,o),s=r.getImageData(0,0,i,o).data}}else{if(!r){if(o){if(void 0===t)throw new Error("Please provide image config with format for Imagebitmap");if(void 0!==t.bitmapFormat)throw new Error("Image input config format must be defined for ImageBitmap");const n=document.createElement("canvas").getContext("2d");if(null!=n){const r=e.height,o=e.width;if(n.drawImage(e,0,0,o,r),s=n.getImageData(0,0,o,r).data,void 0!==t){if(void 0!==t.height&&t.height!==r)throw new Error("Image input config height doesn't match ImageBitmap height");if(a.height=r,void 0!==t.width&&t.width!==o)throw new Error("Image input config width doesn't match ImageBitmap width");a.width=o}else a.height=r,a.width=o;return d.bufferToTensor(s,a)}throw new Error("Can not access image data")}if(i)return new Promise((n,r)=>{const o=document.createElement("canvas"),i=o.getContext("2d");if(!e||!i)return r();const s=new Image;s.crossOrigin="Anonymous",s.src=e,s.onload=()=>{o.width=s.width,o.height=s.height,i.drawImage(s,0,0,o.width,o.height);const e=i.getImageData(0,0,o.width,o.height);if(void 0!==t){if(void 0!==t.height&&t.height!==o.height)throw new Error("Image input config height doesn't match ImageBitmap height");if(a.height=o.height,void 0!==t.width&&t.width!==o.width)throw new Error("Image input config width doesn't match ImageBitmap width");a.width=o.width}else a.height=o.height,a.width=o.width;n(d.bufferToTensor(e.data,a))}});throw new Error("Input data provided is not supported - aborted tensor creation")}{const n="RGBA";let r,o;if(void 0!==t&&void 0!==t.resizedWidth&&void 0!==t.resizedHeight?(r=t.resizedHeight,o=t.resizedWidth):(r=e.height,o=e.width),void 0!==t){if(a=t,void 0!==t.bitmapFormat&&t.bitmapFormat!==n)throw new Error("Image input config format must be RGBA for ImageData");a.bitmapFormat="RGBA"}else a.bitmapFormat="RGBA";if(a.height=r,a.width=o,void 0!==t){const t=document.createElement("canvas");t.width=o,t.height=r;const n=t.getContext("2d");if(null==n)throw new Error("Can not access image data");n.putImageData(e,0,0),s=n.getImageData(0,0,o,r).data}else s=e.data}}if(void 0!==s)return d.bufferToTensor(s,a);throw new Error("Input data provided is not supported - aborted tensor creation")}toImageData(e){var t,n;const r=document.createElement("canvas").getContext("2d");let o;if(null==r)throw new Error("Can not access image data");{const i=this.dims[3],s=this.dims[2],a=this.dims[1],c=void 0!==e&&void 0!==e.format?e.format:"RGB",l=void 0!==e&&void 0!==(null===(t=e.norm)||void 0===t?void 0:t.mean)?e.norm.mean:255,u=void 0!==e&&void 0!==(null===(n=e.norm)||void 0===n?void 0:n.bias)?e.norm.bias:0,d=s*i;if(void 0!==e){if(void 0!==e.height&&e.height!==s)throw new Error("Image output config height doesn't match tensor height");if(void 0!==e.width&&e.width!==i)throw new Error("Image output config width doesn't match tensor width");if(void 0!==e.format&&4===a&&"RGBA"!==e.format||3===a&&"RGB"!==e.format&&"BGR"!==e.format)throw new Error("Tensor format doesn't match input tensor dims")}const f=4;let h=0,p=1,g=2,m=3,y=0,b=d,v=2*d,_=-1;"RGBA"===c?(y=0,b=d,v=2*d,_=3*d):"RGB"===c?(y=0,b=d,v=2*d):"RBG"===c&&(y=0,v=d,b=2*d),o=r.createImageData(i,s);for(let e=0;e<s*i;h+=f,p+=f,g+=f,m+=f,e++)o.data[h]=(this.data[y++]-u)*l,o.data[p]=(this.data[b++]-u)*l,o.data[g]=(this.data[v++]-u)*l,o.data[m]=-1===_?255:(this.data[_++]-u)*l}return o}reshape(e){return new d(this.type,this.data,e)}}const f=d;class h{constructor(e){this.handler=e}async run(e,t,n){const r={};let o={};if("object"!=typeof e||null===e||e instanceof f||Array.isArray(e))throw new TypeError("'feeds' must be an object that use input names as keys and OnnxValue as corresponding values.");let i=!0;if("object"==typeof t){if(null===t)throw new TypeError("Unexpected argument[1]: cannot be null.");if(t instanceof f)throw new TypeError("'fetches' cannot be a Tensor");if(Array.isArray(t)){if(0===t.length)throw new TypeError("'fetches' cannot be an empty array.");i=!1;for(const e of t){if("string"!=typeof e)throw new TypeError("'fetches' must be a string array or an object.");if(-1===this.outputNames.indexOf(e))throw new RangeError(`'fetches' contains invalid output name: ${e}.`);r[e]=null}if("object"==typeof n&&null!==n)o=n;else if(void 0!==n)throw new TypeError("'options' must be an object.")}else{let e=!1;const s=Object.getOwnPropertyNames(t);for(const n of this.outputNames)if(-1!==s.indexOf(n)){const o=t[n];(null===o||o instanceof f)&&(e=!0,i=!1,r[n]=o)}if(e){if("object"==typeof n&&null!==n)o=n;else if(void 0!==n)throw new TypeError("'options' must be an object.")}else o=t}}else if(void 0!==t)throw new TypeError("Unexpected argument[1]: must be 'fetches' or 'options'.");for(const t of this.inputNames)if(void 0===e[t])throw new Error(`input '${t}' is missing in 'feeds'.`);if(i)for(const e of this.outputNames)r[e]=null;const s=await this.handler.run(e,r,o),a={};for(const e in s)Object.hasOwnProperty.call(s,e)&&(a[e]=new f(s[e].type,s[e].data,s[e].dims));return a}static async create(e,t,n,i){let s,a={};if("string"==typeof e){if(s=e,"object"==typeof t&&null!==t)a=t;else if(void 0!==t)throw new TypeError("'options' must be an object.")}else if(e instanceof Uint8Array){if(s=e,"object"==typeof t&&null!==t)a=t;else if(void 0!==t)throw new TypeError("'options' must be an object.")}else{if(!(e instanceof ArrayBuffer||"undefined"!=typeof SharedArrayBuffer&&e instanceof SharedArrayBuffer))throw new TypeError("Unexpected argument[0]: must be 'path' or 'buffer'.");{const r=e;let o=0,c=e.byteLength;if("object"==typeof t&&null!==t)a=t;else if("number"==typeof t){if(o=t,!Number.isSafeInteger(o))throw new RangeError("'byteOffset' must be an integer.");if(o<0||o>=r.byteLength)throw new RangeError(`'byteOffset' is out of range [0, ${r.byteLength}).`);if(c=e.byteLength-o,"number"==typeof n){if(c=n,!Number.isSafeInteger(c))throw new RangeError("'byteLength' must be an integer.");if(c<=0||o+c>r.byteLength)throw new RangeError(`'byteLength' is out of range (0, ${r.byteLength-o}].`);if("object"==typeof i&&null!==i)a=i;else if(void 0!==i)throw new TypeError("'options' must be an object.")}else if(void 0!==n)throw new TypeError("'byteLength' must be a number.")}else if(void 0!==t)throw new TypeError("'options' must be an object.");s=new Uint8Array(r,o,c)}}const c=(a.executionProviders||[]).map(e=>"string"==typeof e?e:e.name),l=await(async e=>{const t=0===e.length?o:e,n=[];for(const e of t){const t=r[e];if(t){if(t.initialized)return t.backend;if(t.aborted)continue;const r=!!t.initPromise;try{return r||(t.initPromise=t.backend.init()),await t.initPromise,t.initialized=!0,t.backend}catch(o){r||n.push({name:e,err:o}),t.aborted=!0}finally{delete t.initPromise}}}throw new Error(`no available backend found. ERR: ${n.map(e=>`[${e.name}] ${e.err}`).join(", ")}`)})(c),u=await l.createSessionHandler(s,a);return new h(u)}startProfiling(){this.handler.startProfiling()}endProfiling(){this.handler.endProfiling()}get inputNames(){return this.handler.inputNames}get outputNames(){return this.handler.outputNames}}const p=h},23723:(e,t,n)=>{"use strict";n.d(t,{A:()=>l,b:()=>c});var r=n(62279);const o=()=>({height:0,opacity:0}),i=e=>{const{scrollHeight:t}=e;return{height:t,opacity:1}},s=e=>({height:e?e.offsetHeight:0}),a=(e,t)=>!0===(null==t?void 0:t.deadline)||"height"===t.propertyName,c=(e,t,n)=>void 0!==n?n:`${e}-${t}`,l=(e=r.yH)=>({motionName:`${e}-motion-collapse`,onAppearStart:o,onEnterStart:o,onAppearActive:i,onEnterActive:i,onLeaveStart:s,onLeaveActive:o,onAppearEnd:a,onEnterEnd:a,onLeaveEnd:a,motionDeadline:500})},24282:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(98221);const o=[[/\u{1f3f3}\u200d\u{1f308}/gu,"🏳️‍🌈"],[/\u{1f3f3}\u200d\u26a7\ufe0f?/gu,"🏳️‍⚧️"],[/\u26d3\u200d\u{1f4a5}/gu,"⛓️‍💥"],[/\u200d([\u2640\u2642])(?!\ufe0f)/gu,"‍$1️"]];function i(e){if(!e.match(r.A))return e;for(const[t,n]of o)e=e.replace(t,n);return e}},24433:(e,t,n)=>{"use strict";n.d(t,{A:()=>u});var r=n(84051),o=n(31481),i=n(87357),s=n(43874),a=n(17712),c=n(59030),l=n(54746);const u=e=>{const{icon:t,isCharIcon:n,customIcon:u,className:d,children:f,onClick:h,href:p,target:g,download:m,disabled:y,destructive:b,ariaLabel:v,withWrap:_,rel:w="noopener noreferrer",onContextMenu:S,clickArg:x,withPreventDefaultOnMouseDown:I}=e,A=(0,c.A)(),{isTouchScreen:C}=(0,s.Ay)(),k=(0,a.A)(e=>{!y&&h?h(e,x):e.preventDefault()}),E=(0,a.A)(e=>{13!==e.keyCode&&32!==e.keyCode||(!y&&h?h(e,x):e.preventDefault())}),T=(0,a.A)(e=>{I&&e.preventDefault()}),P=(0,i.A)("MenuItem",d,y&&"disabled",b&&"destructive",!C&&"compact",_&&"wrap"),M=r.Ay.createElement(r.Ay.Fragment,null,!u&&t&&r.Ay.createElement(l.A,{name:n?"char":t,character:n?t:void 0}),u,f);return p&&!y?r.Ay.createElement("a",{tabIndex:0,className:P,href:p,download:m,"aria-label":v,title:v,target:g||(p.startsWith(window.location.origin)||o.W75?"_self":"_blank"),rel:w,dir:A.isRtl?"rtl":void 0,onClick:h,onMouseDown:T},M):r.Ay.createElement("div",{role:"menuitem",tabIndex:0,className:P,onClick:k,onKeyDown:E,onMouseDown:T,onContextMenu:S,"aria-label":v,title:v,dir:A.isRtl?"rtl":void 0},M)}},24896:(e,t,n)=>{"use strict";function r(e,t){return`${e}_${t}`}n.d(t,{W:()=>r})},24909:(e,t,n)=>{"use strict";n.d(t,{s:()=>i,y:()=>s});var r=n(48894);const o=240;function i(e,t,n="image/png"){const r=e instanceof Blob?URL.createObjectURL(e):e,o=new Image;return new Promise(i=>{o.onload=()=>{a(o,o.width*t,o.height*t,n).then(e=>{if(!e)throw new Error("Image resize failed!");return URL.createObjectURL(e)}).then(i).finally(()=>{e instanceof Blob&&URL.revokeObjectURL(r)})},o.src=r})}function s(e,t,n,r="image/png"){const o=e instanceof Blob?URL.createObjectURL(e):e,i=new Image;return new Promise(s=>{i.onload=()=>{a(i,t,n,r).then(e=>{if(!e)throw new Error("Image resize failed!");return URL.createObjectURL(e)}).then(s).finally(()=>{e instanceof Blob&&URL.revokeObjectURL(o)})},i.src=o})}async function a(e,t,n,i="image/png"){if(!("createImageBitmap"in window))return c(e,t,n,void 0,i);try{const s=await window.createImageBitmap(e,{resizeWidth:t,resizeHeight:n,resizeQuality:"high"});if(s.height!==n||s.width!==t)throw new Error("Image bitmap resize not supported!");const a=await(0,r.rX)(e.src),c=(0,r.LS)(a)<o?"#fff":"#000";return await new Promise(e=>{const t=document.createElement("canvas");t.width=s.width,t.height=s.height;const n=t.getContext("2d");n.fillStyle=c,n.fillRect(0,0,t.width,t.height);const r=t.getContext("bitmaprenderer");r?r.transferFromImageBitmap(s):n.drawImage(s,0,0),t.toBlob(e,i)})}catch(r){return c(e,t,n,void 0,i)}}async function c(e,t,n,i=.5,s="image/png"){const a=document.createElement("canvas"),c=a.getContext("2d"),l=document.createElement("canvas"),u=l.getContext("2d");if(a.width=t,a.height=n,e.width*i>t){const n=1/i;let r={width:Math.floor(e.width*i),height:Math.floor(e.height*i)};for(l.width=r.width,l.height=r.height,u.drawImage(e,0,0,r.width,r.height);r.width*i>t;)r={width:Math.floor(r.width*i),height:Math.floor(r.height*i)},u.drawImage(l,0,0,r.width*n,r.height*n,0,0,r.width,r.height);c.drawImage(l,0,0,r.width,r.height,0,0,a.width,a.height)}else c.drawImage(e,0,0,a.width,a.height);const d=await(0,r.rX)(e.src),f=(0,r.LS)(d)<o?"#fff":"#000";return c.fillStyle=f,c.globalCompositeOperation="destination-over",c.fillRect(0,0,a.width,a.height),new Promise(e=>{a.toBlob(e,s)})}},25279:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});const r={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let o;const i=new Uint8Array(16),s=[];for(let e=0;e<256;++e)s.push((e+256).toString(16).slice(1));const a=function(e,t,n){if(r.randomUUID&&!t&&!e)return r.randomUUID();const a=(e=e||{}).random??e.rng?.()??function(){if(!o){if("undefined"==typeof crypto||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");o=crypto.getRandomValues.bind(crypto)}return o(i)}();if(a.length<16)throw new Error("Random bytes length must be >= 16");if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,t){if((n=n||0)<0||n+16>t.length)throw new RangeError(`UUID byte range ${n}:${n+15} is out of buffer bounds`);for(let e=0;e<16;++e)t[n+e]=a[e];return t}return function(e,t=0){return(s[e[t+0]]+s[e[t+1]]+s[e[t+2]]+s[e[t+3]]+"-"+s[e[t+4]]+s[e[t+5]]+"-"+s[e[t+6]]+s[e[t+7]]+"-"+s[e[t+8]]+s[e[t+9]]+"-"+s[e[t+10]]+s[e[t+11]]+s[e[t+12]]+s[e[t+13]]+s[e[t+14]]+s[e[t+15]]).toLowerCase()}(a)}},25371:(e,t,n)=>{"use strict";n.d(t,{A:()=>l});var r=function(e){return+setTimeout(e,16)},o=function(e){return clearTimeout(e)};"undefined"!=typeof window&&"requestAnimationFrame"in window&&(r=function(e){return window.requestAnimationFrame(e)},o=function(e){return window.cancelAnimationFrame(e)});var i=0,s=new Map;function a(e){s.delete(e)}var c=function(e){var t=i+=1;return function n(o){if(0===o)a(t),e();else{var i=r(function(){n(o-1)});s.set(t,i)}}(arguments.length>1&&void 0!==arguments[1]?arguments[1]:1),t};c.cancel=function(e){var t=s.get(e);return a(e),o(t)};const l=c},25624:(e,t,n)=>{"use strict";n.d(t,{x:()=>g});var r=n(84448),o=n(31481),i=n(13439),s=n(60919),a=n(60048),c=n(68144),l=n(77787),u=n(96140),d=n(2543),f=n(72531),h=n(38644);const p=6048e5,g=new class{constructor(){var e,t,n;e=this,n=!1,(t=function(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t="inited"))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}async initTask(){this.inited||(this.inited=!0,setInterval(async()=>{console.log(u.FR+"initTask"),this.classifyChatMessageByCount()},p),setTimeout(()=>{this.classifyChatMessageByCount()},5e3))}async runAIChatFolders(e){if(!Object.keys(e).length)return console.log(u.FR+"chatMessages=0, pass"),void(0,u.E8)(h.H.classify);try{const t=await(0,u.qA)(e,20);console.log(u.FR+"aiClassify: ",t),(0,u.tw)(t),await(l.zs.general?.set(l.TW,(new Date).getTime())),(0,u.Ry)(),console.log(u.FR+"classify-end",new Date)}catch(e){return void(0,u.E8)(h.H.classify)}}async applyChatFolder(){try{console.log(u.FR+"apply-start",new Date),f.A.emit(f.E.UpdateAIChatFoldersApplying,{loading:!0}),f.A.emit(f.E.UpdateSettingAIChatFoldersLoading,{loading:!0,isApply:!0});const e=(0,i.mS)(),t=e?.chatFolders?.nextAiChatFolders;if(!t||0===t?.length)return void(0,u.E8)(h.H.apply);const n=(0,u.TV)(t),r=Object.keys(n);if(!r.length)return void(0,u.E8)(h.H.apply);const{addChatFolder:o,editChatFolder:s}=(0,i.ko)();console.log(u.FR+"updateChatFolder: ",r),await(0,u.$y)();for(let e=0;e<r.length;e++){const t=r[e];if(n[t].length){const r={id:e+2,title:{text:t,desc:"AI"},includedChatIds:n[t].map(e=>e+""),excludedChatIds:[]},a=await(l.zs.folder?.getFolder(t)),c=(0,i.mS)().chatFolders?.byId,f=(0,d.flatMap)(c)?.find(e=>e?.title?.text===t),h=a||f;h?(r.id=Number(h.id),r.includedChatIds=(0,d.uniq)(r.includedChatIds.concat(h.includedChatIds)),await(s?.({id:r.id,folderUpdate:r,from:"AI"})),console.log(u.FR+"update: "+t,r)):(await(o?.({folder:r,from:"AI"})),console.log(u.FR+"add: "+t,r)),await(0,u.yy)(3e3)}}(0,u.VH)(t),await this.sortChatFolder(),l.zs.general?.set(l.TW,(new Date).getTime()),(0,u.E8)(h.H.apply),f.A.emit(f.E.UpdateAIChatFoldersApplying,{loading:!1}),console.log(u.FR+"apply-end",new Date)}catch(e){return void(0,u.E8)(h.H.apply)}}async sortChatFolder(){const e=(0,i.mS)(),t=Object.keys(e.chatFolders.byId)?.sort((t,n)=>(u.eE?.findIndex(n=>n===(e.chatFolders.byId[Number(t)]?.title?.text??""))??0)-(u.eE?.findIndex(t=>t===(e.chatFolders.byId[Number(n)]?.title?.text??""))??0))?.map(e=>Number(e));t.indexOf(o.DSF)<0&&t.unshift(o.DSF),t.indexOf(o.LFk)<0&&t.push(o.LFk),t.indexOf(o.Sab)<0&&t.push(o.Sab),t.indexOf(o.j7l)<0&&t.splice(3,0,o.j7l),await(0,i.ko)().sortChatFolders({folderIds:t}),console.log(u.FR+"sort: ",t,e.chatFolders)}async classifyChatMessageByCount(){try{console.log(u.FR+"classify-start",new Date),f.A.emit(f.E.UpdateSettingAIChatFoldersLoading,{loading:!0,isApply:!1});const e=(0,i.mS)(),{currentUserId:t}=e;if(!t)return console.log(u.FR+"Not logged, pass"),this.inited=!1,void(0,u.E8)(h.H.classify);const n=await(l.zs.general?.get(l.TW));if(n&&(new Date).getTime()-n<p)return console.log(u.FR+"pass",n,e.chatFolders),void(0,u.E8)(h.H.classify);console.log(u.FR+"running",n,e.chatFolders);let d={};const g=((0,a.YA)(o.DSF)||[])?.filter(e=>e!==o.zv8);console.log(u.FR+"orderedIds:",g);for(let t=0;t<g.length;t++){const n=g[t],o=(0,s.hds)(e,n),i=(0,u.uw)(n),a=(0,s.ZZX)(e,n)||0;if(o&&!i&&a){const e=await(0,c.qq)({chat:o,offsetId:a,addOffset:-1,sliceSize:30,threadId:r.l3,maxCount:100});e.length&&(d[n]=e)}}console.log(u.FR+"fetchMsg",Object.keys(d).length,new Date),await this.runAIChatFolders(d)}catch(e){return void(0,u.E8)(h.H.classify)}}}},25903:(e,t,n)=>{"use strict";n.d(t,{e:()=>i,j:()=>o});const r=50;function o(e,t,n,r){return s("transitionend",e,t,n,r)}function i(e,t,n,r){return s("animationend",e,t,n,r)}function s(e,t,n,o,i){let s=!1;function a(){t.removeEventListener(e,c)}function c(e){s||e.target!==e.currentTarget||o&&(e instanceof TransitionEvent&&e.propertyName===o||e instanceof AnimationEvent&&e.animationName===o)||(s=!0,a(),setTimeout(()=>{n()},r))}return t.addEventListener(e,c),i&&setTimeout(()=>{s||(a(),n())},i),a}},25905:(e,t,n)=>{"use strict";n.d(t,{K8:()=>d,L9:()=>o,Nk:()=>s,Y1:()=>h,av:()=>c,dF:()=>i,jk:()=>u,jz:()=>f,t6:()=>a,vj:()=>l});var r=n(52187);const o={overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"},i=(e,t=!1)=>({boxSizing:"border-box",margin:0,padding:0,color:e.colorText,fontSize:e.fontSize,lineHeight:e.lineHeight,listStyle:"none",fontFamily:t?"inherit":e.fontFamily}),s=()=>({display:"inline-flex",alignItems:"center",color:"inherit",fontStyle:"normal",lineHeight:0,textAlign:"center",textTransform:"none",verticalAlign:"-0.125em",textRendering:"optimizeLegibility","-webkit-font-smoothing":"antialiased","-moz-osx-font-smoothing":"grayscale","> *":{lineHeight:1},svg:{display:"inline-block"}}),a=()=>({"&::before":{display:"table",content:'""'},"&::after":{display:"table",clear:"both",content:'""'}}),c=e=>({a:{color:e.colorLink,textDecoration:e.linkDecoration,backgroundColor:"transparent",outline:"none",cursor:"pointer",transition:`color ${e.motionDurationSlow}`,"-webkit-text-decoration-skip":"objects","&:hover":{color:e.colorLinkHover},"&:active":{color:e.colorLinkActive},"&:active, &:hover":{textDecoration:e.linkHoverDecoration,outline:0},"&:focus":{textDecoration:e.linkFocusDecoration,outline:0},"&[disabled]":{color:e.colorTextDisabled,cursor:"not-allowed"}}}),l=(e,t,n,r)=>{const o=`[class^="${t}"], [class*=" ${t}"]`,i=n?`.${n}`:o,s={boxSizing:"border-box","&::before, &::after":{boxSizing:"border-box"}};let a={};return!1!==r&&(a={fontFamily:e.fontFamily,fontSize:e.fontSize}),{[i]:Object.assign(Object.assign(Object.assign({},a),s),{[o]:s})}},u=(e,t)=>({outline:`${(0,r.zA)(e.lineWidthFocus)} solid ${e.colorPrimaryBorder}`,outlineOffset:null!=t?t:1,transition:"outline-offset 0s, outline 0s"}),d=(e,t)=>({"&:focus-visible":u(e,t)}),f=e=>({[`.${e}`]:Object.assign(Object.assign({},s()),{[`.${e} .${e}-icon`]:{display:"block"}})}),h=e=>Object.assign(Object.assign({color:e.colorLink,textDecoration:e.linkDecoration,outline:"none",cursor:"pointer",transition:`all ${e.motionDurationSlow}`,border:0,padding:0,background:"none",userSelect:"none"},d(e)),{"&:focus, &:hover":{color:e.colorLinkHover},"&:active":{color:e.colorLinkActive}})},26072:(e,t,n)=>{"use strict";n.d(t,{A:()=>C});var r=n(84051),o=n(13439),i=n(31481),s=n(66644),a=n(96454),c=n(15283),l=n(17712),u=n(35297);const d=`${window.location.pathname}${window.location.search}`,f=Number(new Date);let h,p,g=!1,m=[],y=[],b=!1;function v(){b&&setTimeout(()=>{b=!1},350)}function _(){const e=m.filter(e=>"go"===e.type),t=m.filter(e=>"go"!==e.type),n=e.reduce((e,t)=>e+t.delta,0);m=[],n&&(window.history.go(n),t.length)?y.push(...t):w(t)}function w(e){e.forEach(e=>window.history[e.type](e.data,"",e.hash))}function S(e){m.length||(0,s.YS)(_),m.push(e)}function x(){p=0,h=[{index:0,onBack:()=>window.history.back()}],window.history.replaceState({index:0,historyUniqueSessionId:f},"",d)}function I(e=1){let t=e;for(let e=p-1;e>0&&h[e].isClosed;e--)t++;return t&&(g=!0,S({type:"go",delta:-t})),t}function A(){let e=!1;for(let t=h.length-1;t>0;t--)h[t].isClosed||(!e&&b&&((0,o.ko)().disableHistoryAnimations(),e=!0),h[t].onBack?.());x()}function C({isActive:e,shouldBeReplaced:t,shouldResetUrlHash:n,hash:o,onBack:i}){const s=(0,l.A)(i),a=(0,r.li)(),d=(0,r.li)(!1),g=(0,r.li)(!0),m=(0,r.hb)((e=!1)=>{const r=e||h[p].shouldBeReplaced;a.current=r?p:++p,p=a.current;const i=h[a.current];i&&!i.isClosed&&i.markReplaced?.(),h[a.current]={index:a.current,onBack:s,shouldBeReplaced:t,markReplaced:()=>{d.current=!0}},S({type:r?"replaceState":"pushState",data:{index:a.current,historyUniqueSessionId:f},hash:o?`#${o}`:n?" ":void 0})},[o,t,n]),y=(0,r.hb)(()=>{a.current&&h[a.current]&&!d.current&&(h[a.current].isClosed=!0,d.current=!0,a.current!==p||t||(p-=I()))},[t]);(0,c.A)(()=>(g.current=!1,()=>{e&&!d.current&&y()})),(0,u.A)(([t])=>{t!==e&&(g.current&&!e||(e?m():y()))},[e,y,m])}i.W75&&(window.TEST_getHistoryState=()=>h,window.TEST_getHistoryCursor=()=>p),a.pz&&(window.addEventListener("touchstart",function(e){const t=e.touches[0].pageX;(t<=300||t>=window.innerWidth-300)&&(b=!0)}),window.addEventListener("touchend",v),window.addEventListener("popstate",v)),x(),window.addEventListener("popstate",({state:e})=>{if(g)return g=!1,void(y.length&&(w(y),y=[]));if(!e)return A(),void window.location.hash;const{index:t,historyUniqueSessionId:n}=e;if(n===f){if(t!==p)if(t<p){let e=0,n=!1;for(let r=p;r>t-e;r--)h[r].isClosed?e++:(!n&&b&&((0,o.ko)().disableHistoryAnimations(),n=!0),h[r].onBack?.());const r=I(e);p+=t-p-r,p<0&&(p=0)}else t>p&&(g=!0,S({type:"go",delta:-(t-p)}))}else A()})},26076:(e,t,n)=>{"use strict";n.d(t,{A:()=>x});var r=n(58168),o=n(96540),i=n(82546),s=(n(68210),n(89379)),a=n(82284),c=n(66588),l=n(8719),u=o.createContext(null),d=n(43591),f=new Map,h=new d.A(function(e){e.forEach(function(e){var t,n=e.target;null===(t=f.get(n))||void 0===t||t.forEach(function(e){return e(n)})})}),p=n(23029),g=n(92901),m=n(85501),y=n(29426),b=function(e){(0,m.A)(n,e);var t=(0,y.A)(n);function n(){return(0,p.A)(this,n),t.apply(this,arguments)}return(0,g.A)(n,[{key:"render",value:function(){return this.props.children}}]),n}(o.Component);function v(e,t){var n=e.children,r=e.disabled,i=o.useRef(null),d=o.useRef(null),p=o.useContext(u),g="function"==typeof n,m=g?n(i):n,y=o.useRef({width:-1,height:-1,offsetWidth:-1,offsetHeight:-1}),v=!g&&o.isValidElement(m)&&(0,l.f3)(m),_=v?(0,l.A9)(m):null,w=(0,l.xK)(_,i),S=function(){var e;return(0,c.Ay)(i.current)||(i.current&&"object"===(0,a.A)(i.current)?(0,c.Ay)(null===(e=i.current)||void 0===e?void 0:e.nativeElement):null)||(0,c.Ay)(d.current)};o.useImperativeHandle(t,function(){return S()});var x=o.useRef(e);x.current=e;var I=o.useCallback(function(e){var t=x.current,n=t.onResize,r=t.data,o=e.getBoundingClientRect(),i=o.width,a=o.height,c=e.offsetWidth,l=e.offsetHeight,u=Math.floor(i),d=Math.floor(a);if(y.current.width!==u||y.current.height!==d||y.current.offsetWidth!==c||y.current.offsetHeight!==l){var f={width:u,height:d,offsetWidth:c,offsetHeight:l};y.current=f;var h=c===Math.round(i)?i:c,g=l===Math.round(a)?a:l,m=(0,s.A)((0,s.A)({},f),{},{offsetWidth:h,offsetHeight:g});null==p||p(m,e,r),n&&Promise.resolve().then(function(){n(m,e)})}},[]);return o.useEffect(function(){var e,t,n=S();return n&&!r&&(e=n,t=I,f.has(e)||(f.set(e,new Set),h.observe(e)),f.get(e).add(t)),function(){return function(e,t){f.has(e)&&(f.get(e).delete(t),f.get(e).size||(h.unobserve(e),f.delete(e)))}(n,I)}},[i.current,r]),o.createElement(b,{ref:d},v?o.cloneElement(m,{ref:w}):m)}const _=o.forwardRef(v);function w(e,t){var n=e.children;return("function"==typeof n?[n]:(0,i.A)(n)).map(function(n,i){var s=(null==n?void 0:n.key)||"".concat("rc-observer-key","-").concat(i);return o.createElement(_,(0,r.A)({},e,{key:s,ref:0===i?t:void 0}),n)})}var S=o.forwardRef(w);S.Collection=function(e){var t=e.children,n=e.onBatchResize,r=o.useRef(0),i=o.useRef([]),s=o.useContext(u),a=o.useCallback(function(e,t,o){r.current+=1;var a=r.current;i.current.push({size:e,element:t,data:o}),Promise.resolve().then(function(){a===r.current&&(null==n||n(i.current),i.current=[])}),null==s||s(e,t,o)},[n,s]);return o.createElement(u.Provider,{value:a},t)};const x=S},26120:(e,t,n)=>{"use strict";n.d(t,{q:()=>s});var r=n(13439),o=n(31481),i=n(60919);function s(e){(0,i.nTw)((0,r.mS)()).isMasterTab&&"function"==typeof window.navigator.setAppBadge&&window.navigator.setAppBadge(e).catch(e=>{o.Oig&&console.error(e)})}},26129:(e,t,n)=>{"use strict";function r(e){const{replyInfo:t}=e;if(t&&"message"===t.type)return t}function o(e){const{replyInfo:t}=e;if(t&&"story"===t.type)return t}n.d(t,{Q:()=>r,W:()=>o})},26943:(e,t,n)=>{"use strict";var r=n(89925),o=n(31481),i=n(14487),s=n(87894),a=n(5560),c=n(6e4),l=n(33204),u=n(80140),d=n(51580),f=n(90709),h=n(13439),p=n(17872),g=n(32989),m=n(60919),y=n(30708);(0,h.aJ)("updateProfile",async(e,t,n)=>{const{photo:o,firstName:s,lastName:a,bio:c,username:l,tabId:u=(0,i.g0)()}=n,{currentUserId:f}=e;if(f){if(e=(0,g.w)(e,{profileEdit:{progress:r.DV.InProgress}},u),(0,h.UF)(e),o&&await(0,d.px)("uploadProfilePhoto",o),(s||a||c)&&await(0,d.px)("updateProfile",{firstName:s,lastName:a,about:c})){e=(0,h.mS)();const t=f&&(0,m.mBe)(e,f);t&&(e=(0,p.TKu)(e,t.id,{firstName:s,lastName:a}),e=(0,p.weB)(e,t.id,{bio:c}),(0,h.UF)(e))}if(void 0!==l){const t=await(0,d.px)("updateUsername",l);e=(0,h.mS)();const n=f&&(0,m.mBe)(e,f);if(t&&n){const t=n.usernames?.find(e=>e.isEditable),r=t?n.usernames?.map(e=>e.isEditable?{...e,username:l}:e):[{username:l,isEditable:!0,isActive:!0},...n.usernames||[]];e=(0,p.TKu)(e,f,{usernames:r}),(0,h.UF)(e)}}e=(0,h.mS)(),e=(0,g.w)(e,{profileEdit:{progress:r.DV.Complete}},u),(0,h.UF)(e),o&&t.loadFullUser({userId:f,withPhotos:!0})}}),(0,h.aJ)("updateProfilePhoto",async(e,t,n)=>{const{photo:r,isFallback:o}=n,{currentUserId:i}=e;i&&(0,m.mBe)(e,i)&&(e=(0,p.TKu)(e,i,{avatarPhotoId:void 0}),e=(0,p.weB)(e,i,{profilePhoto:void 0}),(0,h.UF)(e),await(0,d.px)("updateProfilePhoto",r,o)&&t.loadFullUser({userId:i,withPhotos:!0}))}),(0,h.aJ)("deleteProfilePhoto",async(e,t,n)=>{const{photo:r}=n,{currentUserId:o}=e;o&&await(0,d.px)("deleteProfilePhotos",[r])&&(e=(0,h.mS)(),e=(0,p.sol)(e,o,r.id),(0,h.UF)(e),t.loadFullUser({userId:o,withPhotos:!0}))}),(0,h.aJ)("checkUsername",async(e,t,n)=>{const{username:o,tabId:s=(0,i.g0)()}=n;let a=(0,m.nTw)(e,s);if(a.profileEdit&&a.profileEdit.progress===r.DV.InProgress)return;e=(0,g.w)(e,{profileEdit:{progress:a.profileEdit?a.profileEdit.progress:r.DV.Idle,checkedUsername:void 0,isUsernameAvailable:void 0,error:void 0}},s),(0,h.UF)(e);const{result:c,error:l}=await(0,d.px)("checkUsername",o);e=(0,h.mS)(),a=(0,m.nTw)(e,s),e=(0,g.w)(e,{profileEdit:{...a.profileEdit,checkedUsername:o,isUsernameAvailable:!0===c,error:l}},s),(0,h.UF)(e)}),(0,h.aJ)("loadWallpapers",async e=>{const t=await(0,d.px)("fetchWallpapers");t&&(e=(0,h.mS)(),e={...e,settings:{...e.settings,loadedWallpapers:t.wallpapers}},(0,h.UF)(e))}),(0,h.aJ)("uploadWallpaper",async(e,t,n)=>{const o=n,i=URL.createObjectURL(o);e={...e,settings:{...e.settings,loadedWallpapers:[{slug:r.Vw,document:{mediaType:"document",fileName:"",size:o.size,mimeType:o.type,previewBlobUrl:i}},...e.settings.loadedWallpapers||[]]}},(0,h.UF)(e);const s=await(0,d.px)("uploadWallpaper",o);if(!s)return;const{wallpaper:a}=s;if(!(e=(0,h.mS)()).settings.loadedWallpapers)return;const c=e.settings.loadedWallpapers[0];if(!c||c.slug!==r.Vw)return;const l={...a,document:{...a.document,previewBlobUrl:i}};e={...e,settings:{...e.settings,loadedWallpapers:[l,...e.settings.loadedWallpapers.slice(1)]}},(0,h.UF)(e)}),(0,h.aJ)("loadBlockedUsers",async e=>{const t=await(0,d.px)("fetchBlockedUsers",{});t&&(e=(0,h.mS)(),e={...e,blocked:{ids:t.blockedIds,totalCount:t.totalCount}},(0,h.UF)(e))}),(0,h.aJ)("blockUser",async(e,t,n)=>{const{userId:r,isOnlyStories:o}=n,i=(0,m.mBe)(e,r);i&&await(0,d.px)("blockUser",{user:i,isOnlyStories:o||void 0})&&(e=(0,h.mS)(),e=(0,p.P6h)(e,r),(0,h.UF)(e))}),(0,h.aJ)("unblockUser",async(e,t,n)=>{const{userId:r,isOnlyStories:o}=n,i=(0,m.mBe)(e,r);i&&await(0,d.px)("unblockUser",{user:i,isOnlyStories:o||void 0})&&(e=(0,h.mS)(),e=(0,p.OW3)(e,r),(0,h.UF)(e))}),(0,h.aJ)("loadNotificationExceptions",async e=>{const t=await(0,d.px)("fetchNotificationExceptions");t&&(e=(0,h.mS)(),e=(0,p.DeY)(e,t),(0,h.UF)(e))}),(0,h.aJ)("loadNotificationSettings",async e=>{const[t,n]=await Promise.all([(0,d.px)("fetchContactSignUpSetting"),(0,d.px)("fetchNotifyDefaultSettings")]);n&&(e=(0,h.mS)(),e=(0,p.qpc)(e,{hasContactJoinedNotifications:t}),e={...e,settings:{...e.settings,notifyDefaults:n}},(0,h.UF)(e))}),(0,h.aJ)("updateNotificationSettings",async(e,t,n)=>{const{peerType:r,isMuted:i,shouldShowPreviews:s}=n;await(0,d.px)("updateNotificationSettings",r,{isMuted:i,shouldShowPreviews:s})&&(e=(0,h.mS)(),e=(0,p.m1I)(e,r,{mutedUntil:i?o.fRl:void 0,shouldShowPreviews:s}),(0,h.UF)(e))}),(0,h.aJ)("updateWebNotificationSettings",async(e,t,n)=>{const r=e.settings.byKey;e=(0,p.qpc)(e,n),(0,h.UF)(e);const{hasWebNotifications:o,hasPushNotifications:i}=e.settings.byKey;!r.hasPushNotifications&&i&&await(0,a.B1)(),r.hasPushNotifications&&!i&&await(0,a.al)(),!r.hasWebNotifications&&o&&(await(0,a.xe)()||(e=(0,h.mS)(),e=(0,p.qpc)(e,{hasWebNotifications:!1}),(0,h.UF)(e)))}),(0,h.aJ)("updateContactSignUpNotification",async(e,t,n)=>{const{isSilent:r}=n;await(0,d.px)("updateContactSignUpNotification",r)&&(e=(0,h.mS)(),e=(0,p.qpc)(e,{hasContactJoinedNotifications:!r}),(0,h.UF)(e))}),(0,h.aJ)("loadLanguages",async e=>{const t=await(0,d.px)("fetchLanguages");t&&(e=(0,h.mS)(),e=(0,p.qoo)(e,{languages:t}),(0,h.UF)(e))}),(0,h.aJ)("loadPrivacySettings",async e=>{if((0,m.trm)(e))return;const t=await Promise.all([(0,d.px)("fetchPrivacySettings","phoneNumber"),(0,d.px)("fetchPrivacySettings","addByPhone"),(0,d.px)("fetchPrivacySettings","lastSeen"),(0,d.px)("fetchPrivacySettings","profilePhoto"),(0,d.px)("fetchPrivacySettings","forwards"),(0,d.px)("fetchPrivacySettings","chatInvite"),(0,d.px)("fetchPrivacySettings","phoneCall"),(0,d.px)("fetchPrivacySettings","phoneP2P"),(0,d.px)("fetchPrivacySettings","voiceMessages"),(0,d.px)("fetchPrivacySettings","bio"),(0,d.px)("fetchPrivacySettings","birthday"),(0,d.px)("fetchPrivacySettings","gifts"),(0,d.px)("fetchPrivacySettings","noPaidMessages")]);if(t.some(e=>void 0===e))return;const[n,r,o,i,s,a,c,l,u,f,p,g,y]=t;e=(0,h.mS)(),e={...e,settings:{...e.settings,privacy:{...e.settings.privacy,phoneNumber:n.rules,addByPhone:r.rules,lastSeen:o.rules,profilePhoto:i.rules,forwards:s.rules,chatInvite:a.rules,phoneCall:c.rules,phoneP2P:l.rules,voiceMessages:u.rules,bio:f.rules,birthday:p.rules,gifts:g.rules,noPaidMessages:y.rules}}},(0,h.UF)(e)}),(0,h.aJ)("setPrivacyVisibility",async(e,t,n)=>{const{privacyKey:r,visibility:o,onSuccess:i}=n;if(!e.settings.privacy[r]){const t=await(0,d.px)("fetchPrivacySettings",r);if(!t)return;e=(0,h.mS)(),e={...e,settings:{...e.settings,privacy:{...e.settings.privacy,[r]:t.rules}}},(0,h.UF)(e)}const{privacy:{[r]:s}}=e.settings;if(!s)return;const a=(0,f.wT)(e,{visibility:o,allowedIds:[...s.allowUserIds,...s.allowChatIds],blockedIds:[...s.blockUserIds,...s.blockChatIds],botsPrivacy:s.botsPrivacy}),c=await(0,d.px)("setPrivacySettings",r,a);c&&(i?.(),e=(0,h.mS)(),e={...e,settings:{...e.settings,privacy:{...e.settings.privacy,[r]:c.rules}}},(0,h.UF)(e))}),(0,h.aJ)("setPrivacySettings",async(e,t,n)=>{const{privacyKey:r,isAllowList:o,updatedIds:i,isPremiumAllowed:s,botsPrivacy:a}=n,{privacy:{[r]:c}}=e.settings;if(!c)return;"noPaidMessages"===r&&(e=(0,h.mS)(),[...i.filter(e=>!c.allowUserIds.includes(e)),...c.allowUserIds.filter(e=>!i.includes(e))].forEach(t=>{e=(0,p.weB)(e,t,{settings:void 0})}),(0,h.UF)(e));const l=(0,f.wT)(e,{visibility:c.visibility,isUnspecified:c.isUnspecified,shouldAllowPremium:s,allowedIds:o?i:[...c.allowUserIds,...c.allowChatIds],blockedIds:o?[...c.blockUserIds,...c.blockChatIds]:i,botsPrivacy:a}),u=await(0,d.px)("setPrivacySettings",r,l);u&&(e=(0,h.mS)(),e={...e,settings:{...e.settings,privacy:{...e.settings.privacy,[r]:u.rules}}},(0,h.UF)(e))}),(0,h.aJ)("updateIsOnline",(e,t,n)=>{"connectionStateReady"===e.connectionState&&(0,d.px)("updateIsOnline",n.isOnline)}),(0,h.aJ)("loadContentSettings",async e=>{if((0,m.trm)(e))return;const t=await(0,d.px)("fetchContentSettings");t&&(e=(0,h.mS)(),e=(0,p.qpc)(e,t),(0,h.UF)(e))}),(0,h.aJ)("updateContentSettings",async(e,t,n)=>{e=(0,p.qpc)(e,{isSensitiveEnabled:n.isSensitiveEnabled}),(0,h.UF)(e),await(0,d.px)("updateContentSettings",n.isSensitiveEnabled)||(e=(0,h.mS)(),e=(0,p.qpc)(e,{isSensitiveEnabled:!n.isSensitiveEnabled}),(0,h.UF)(e))}),(0,h.aJ)("loadCountryList",async(e,t,n)=>{let{langCode:r}=n;r||(r=(0,y.l)(e).language);const o=await(0,d.px)("fetchCountryList",{langCode:r});o&&(e=(0,h.mS)(),e={...e,countryList:o},(0,h.UF)(e))}),(0,h.aJ)("ensureTimeFormat",async(e,t)=>{if(e.authNearestCountry){const n=o.wEk.has(e.authNearestCountry.toUpperCase())?"12h":"24h";t.setSharedSettingOption({timeFormat:n}),(0,c.bV)(n)}if((0,y.l)(e).wasTimeFormatSetManually)return;const n=await(0,d.px)("fetchNearestCountry");if(n){const e=o.wEk.has(n.toUpperCase())?"12h":"24h";t.setSharedSettingOption({timeFormat:e}),(0,c.bV)(e)}}),(0,h.aJ)("loadAppConfig",async(e,t,n)=>{const r=n?.hash,i=await(0,d.px)("fetchAppConfig",r);i&&((0,l.A)({action:"loadAppConfig",payload:{hash:i.hash}},o.Xrp),e=(0,h.mS)(),e={...e,appConfig:i,isAppConfigLoaded:!0},(0,h.UF)(e))}),(0,h.aJ)("loadConfig",async e=>{const t=await(0,d.px)("fetchConfig");if(!t)return;e=(0,h.mS)();const n=t.expiresAt-(0,u.Fm)();(0,l.A)({action:"loadConfig",payload:void 0},1e3*n),e={...e,config:t},(0,h.UF)(e)}),(0,h.aJ)("loadPeerColors",async e=>{const t=e.peerColors?.generalHash,n=await(0,d.px)("fetchPeerColors",t);n&&(e=(0,h.mS)(),e={...e,peerColors:{...e.peerColors,general:n.colors,generalHash:n.hash}},(0,h.UF)(e))}),(0,h.aJ)("loadTimezones",async e=>{const t=e.timezones?.hash,n=await(0,d.px)("fetchTimezones",t);n&&(e=(0,h.mS)(),e={...e,timezones:{byId:(0,s.dU)(n.timezones,"id"),hash:n.hash}},(0,h.UF)(e))}),(0,h.aJ)("loadGlobalPrivacySettings",async e=>{const t=await(0,d.px)("fetchGlobalPrivacySettings");t&&(e=(0,h.mS)(),e=(0,p.qpc)(e,{...t}),(0,h.UF)(e))}),(0,h.aJ)("updateGlobalPrivacySettings",async(e,t,n)=>{const r=n.shouldArchiveAndMuteNewNonContact??Boolean(e.settings.byKey.shouldArchiveAndMuteNewNonContact),o=n.shouldHideReadMarks??Boolean(e.settings.byKey.shouldHideReadMarks),i=n.shouldNewNonContactPeersRequirePremium??Boolean(e.settings.byKey.shouldNewNonContactPeersRequirePremium),s=null===n.nonContactPeersPaidStars?void 0:n.nonContactPeersPaidStars||e.settings.byKey.nonContactPeersPaidStars,a=n.shouldDisplayGiftsButton??Boolean(e.settings.byKey.shouldDisplayGiftsButton),c=n.disallowedGifts??e.settings.byKey.disallowedGifts,l=null===n.nonContactPeersPaidStars||n.nonContactPeersPaidStars;e=(0,h.mS)(),e=(0,p.qpc)(e,{shouldArchiveAndMuteNewNonContact:r,shouldHideReadMarks:o,shouldNewNonContactPeersRequirePremium:i,nonContactPeersPaidStars:s,shouldDisplayGiftsButton:a,disallowedGifts:c}),(0,h.UF)(e);const u=await(0,d.px)("updateGlobalPrivacySettings",{shouldArchiveAndMuteNewNonContact:r,shouldHideReadMarks:o,shouldNewNonContactPeersRequirePremium:i,nonContactPeersPaidStars:s,shouldDisplayGiftsButton:a,disallowedGifts:c});e=(0,h.mS)(),e=(0,p.qpc)(e,{shouldArchiveAndMuteNewNonContact:u?u.shouldArchiveAndMuteNewNonContact:!r,shouldHideReadMarks:u?u.shouldHideReadMarks:!o,shouldNewNonContactPeersRequirePremium:u?u.shouldNewNonContactPeersRequirePremium:!i,nonContactPeersPaidStars:u?u.nonContactPeersPaidStars:void 0,shouldDisplayGiftsButton:u?u.shouldDisplayGiftsButton:!a,disallowedGifts:u?u.disallowedGifts:c}),l&&Object.keys(e.users.fullInfoById).forEach(t=>{e=(0,p.weB)(e,t,{settings:void 0})}),(0,h.UF)(e)}),(0,h.aJ)("toggleUsername",async(e,t,n)=>{const{username:r,isActive:o}=n,{currentUserId:i}=e;if(!i)return;const s=(0,m.mBe)(e,i);if(!s?.usernames)return;const a=s.usernames.map(e=>e.username!==r?e:{...e,isActive:o||void 0});e=(0,p.TKu)(e,i,{usernames:a}),(0,h.UF)(e),await(0,d.px)("toggleUsername",{username:r,isActive:o})||t.loadFullUser({userId:i})}),(0,h.aJ)("toggleChatUsername",async(e,t,n)=>{const{chatId:r,username:o,isActive:i}=n,s=(0,m.hds)(e,r);if(!s?.usernames)return;const a=s.usernames.map(e=>e.username!==o?e:{...e,isActive:i||void 0});e=(0,p.wix)(e,r,{usernames:a}),(0,h.UF)(e),await(0,d.px)("toggleUsername",{chatId:s.id,accessHash:s.accessHash,username:o,isActive:i})||t.loadFullChat({chatId:r})}),(0,h.aJ)("sortUsernames",async(e,t,n)=>{const{usernames:r}=n,{currentUserId:o}=e;o&&(await(0,d.px)("reorderUsernames",{usernames:r})||t.loadUser({userId:o}))}),(0,h.aJ)("sortChatUsernames",async(e,t,n)=>{const{chatId:r,usernames:o}=n,i=(0,m.hds)(e,r);if(!i)return;const s=[...i.usernames],a=i.usernames.reduce((e,t)=>(e[o.findIndex(e=>e===t.username)]=t,e),[]);e=(0,p.wix)(e,r,{usernames:a}),(0,h.UF)(e),await(0,d.px)("reorderUsernames",{chatId:i.id,accessHash:i.accessHash,usernames:o})||(e=(0,h.mS)(),e=(0,p.wix)(e,r,{usernames:s}),(0,h.UF)(e))})},26956:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(96540);function o(e){var t=r.useRef();t.current=e;var n=r.useCallback(function(){for(var e,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return null===(e=t.current)||void 0===e?void 0:e.call.apply(e,[t].concat(r))},[]);return n}},27109:(e,t,n)=>{"use strict";n.d(t,{If:()=>a,RY:()=>u,o3:()=>l,sh:()=>c});var r=n(9716),o=n(87894),i=n(80140),s=n(62214);function a(e,t,n){const r=u(e,t,n);return!!r?.mutedUntil&&(0,i.Fm)()<r.mutedUntil}function c(e,t,n){const r=u(e,t,n);return!!r&&!r.hasSound}function l(e,t,n){const r=u(e,t,n);return Boolean(r?.shouldShowPreviews)}function u(e,t,n){const i=t?.[function(e){if((0,r.L8)(e.id))return"users";const t=e;return(0,s.WX)(t)?"channels":"groups"}(e)];if(n||i)return{...i,...n&&(0,o.Oy)(n)}}},27484:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(2616);function o(e,{generateColorPalettes:t,generateNeutralColorPalettes:n}){const{colorSuccess:o,colorWarning:i,colorError:s,colorInfo:a,colorPrimary:c,colorBgBase:l,colorTextBase:u}=e,d=t(c),f=t(o),h=t(i),p=t(s),g=t(a),m=n(l,u),y=t(e.colorLink||e.colorInfo),b=new r.Y(p[1]).mix(new r.Y(p[3]),50).toHexString();return Object.assign(Object.assign({},m),{colorPrimaryBg:d[1],colorPrimaryBgHover:d[2],colorPrimaryBorder:d[3],colorPrimaryBorderHover:d[4],colorPrimaryHover:d[5],colorPrimary:d[6],colorPrimaryActive:d[7],colorPrimaryTextHover:d[8],colorPrimaryText:d[9],colorPrimaryTextActive:d[10],colorSuccessBg:f[1],colorSuccessBgHover:f[2],colorSuccessBorder:f[3],colorSuccessBorderHover:f[4],colorSuccessHover:f[4],colorSuccess:f[6],colorSuccessActive:f[7],colorSuccessTextHover:f[8],colorSuccessText:f[9],colorSuccessTextActive:f[10],colorErrorBg:p[1],colorErrorBgHover:p[2],colorErrorBgFilledHover:b,colorErrorBgActive:p[3],colorErrorBorder:p[3],colorErrorBorderHover:p[4],colorErrorHover:p[5],colorError:p[6],colorErrorActive:p[7],colorErrorTextHover:p[8],colorErrorText:p[9],colorErrorTextActive:p[10],colorWarningBg:h[1],colorWarningBgHover:h[2],colorWarningBorder:h[3],colorWarningBorderHover:h[4],colorWarningHover:h[4],colorWarning:h[6],colorWarningActive:h[7],colorWarningTextHover:h[8],colorWarningText:h[9],colorWarningTextActive:h[10],colorInfoBg:g[1],colorInfoBgHover:g[2],colorInfoBorder:g[3],colorInfoBorderHover:g[4],colorInfoHover:g[4],colorInfo:g[6],colorInfoActive:g[7],colorInfoTextHover:g[8],colorInfoText:g[9],colorInfoTextActive:g[10],colorLinkHover:y[4],colorLink:y[6],colorLinkActive:y[7],colorBgMask:new r.Y("#000").setA(.45).toRgbString(),colorWhite:"#fff"})}},27800:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(43145);function o(e,t){if(e){if("string"==typeof e)return(0,r.A)(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?(0,r.A)(e,t):void 0}}},27806:()=>{},28104:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(96540);function o(e,t,n){var o=r.useRef({});return"value"in o.current&&!n(o.current.condition,t)||(o.current.value=e(),o.current.condition=t),o.current.value}},28470:(e,t,n)=>{"use strict";n.d(t,{e:()=>u,z:()=>l});var r=n(31481),o=n(66644),i=n(6842),s=n(14235);const a=new Map;let c;function l(e,t){t??(t=(0,s.A)()),e.props.id=t;const n=(0,i.A)(e)[0];return a.set(e.props.id,n),function(e){(0,o.RK)(()=>{c||function(){if(c)return;const e=document.createElementNS(r.jNX,"svg");e.setAttribute("width","0"),e.setAttribute("height","0"),e.setAttribute("viewBox","0 0 1 1"),e.classList.add("svg-definitions"),document.body.appendChild(e),c=document.createElementNS(r.jNX,"defs"),e.appendChild(c)}(),c.appendChild(e)})}(n),t}function u(e){const t=a.get(e);t&&((0,o.RK)(()=>{t.remove()}),a.delete(e))}},29356:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(96540),o=n(87357);const i=({name:e,ref:t,className:n,style:i,role:s,ariaLabel:a,character:c,onClick:l})=>r.createElement("i",{ref:t,className:(0,o.A)(`icon icon-${e}`,n),style:i,"aria-hidden":!a,"aria-label":a,"data-char":c,role:s,onClick:l})},29426:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(53954),o=n(52176),i=n(56822);function s(e){var t=(0,o.A)();return function(){var n,o=(0,r.A)(e);if(t){var s=(0,r.A)(this).constructor;n=Reflect.construct(o,arguments,s)}else n=o.apply(this,arguments);return(0,i.A)(this,n)}}},30163:(e,t,n)=>{"use strict";n.d(t,{Bm:()=>f,Cz:()=>I,GH:()=>w,Ij:()=>d,Nr:()=>S,OD:()=>k,Q3:()=>b,WL:()=>C,Wy:()=>h,oZ:()=>y,oe:()=>_,r8:()=>m,t0:()=>A,tK:()=>x,wg:()=>g,yc:()=>p});var r=n(31481),o=n(14487),i=n(17142),s=n(5056),a=n(19926);const c={1:"1️⃣",3:"2️⃣",6:"3️⃣",12:"4️⃣",24:"5️⃣"},l={1e3:"2️⃣",2500:"3️⃣",5e3:"4️⃣"},u={1:"1️⃣",10:"2️⃣",50:"3️⃣"};function d(e,t){const{stickers:n}=e.stickers.favorite;return n&&n.some(({id:e})=>e===t.id)}function f(e,...[t=(0,o.g0)()]){return(0,s.n)(e,t).stickerSearch}function h(e,...[t=(0,o.g0)()]){return(0,s.n)(e,t).gifSearch}function p(e,t){return"string"==typeof t?e.stickers.setsById[t]:"id"in t?e.stickers.setsById[t.id]:"isMissing"in t?void 0:Object.values(e.stickers.setsById).find(({shortName:e})=>e.toLowerCase()===t.shortName.toLowerCase())}function g(e,t){const n=e.stickers.added.setIds;let r=[];return e.stickers.favorite.stickers.forEach(e=>{e.emoji===t&&r.push(e)}),n?.forEach(n=>{const o=e.stickers.setsById[n].packs;o&&(r=r.concat(o[t]||[],o[v(t)]||[]))}),r}function m(e,t){const n=(0,a.g2)(e),r=e.customEmojis.added.setIds;let o=[];return r?.forEach(n=>{const r=e.stickers.setsById[n].packs;r&&(o=o.concat(r[t]||[],r[v(t)]||[]))}),n?o:o.filter(({isFree:e})=>e)}function y(e,t){const n=(0,a.g2)(e),r=e.customEmojis.added.setIds;let o=[];return r?.forEach(n=>{const r=e.stickers.setsById[n].packs;if(!r)return;const i=Object.entries(r).filter(([e])=>t.includes(e)||t.includes(v(e))).flatMap(([,e])=>e);o=o.concat(i)}),n?o:o.filter(({isFree:e})=>e)}function b(e){return e.isEmoji&&e.stickers?.some(e=>!e.isFree)}function v(e){return e.replace("️","")}function _(e,t){const{animatedEmojis:n}=e;if(!n||!n.stickers)return;const r=v(t);return n.stickers.find(e=>e.emoji===t||e.emoji===r)}function w(e,t){const{restrictedEmoji:n}=e;if(!n||!n.stickers)return;const r=v(t);return n.stickers.find(e=>{if(e.emoji)return v(e.emoji)===r})}function S(e,t){const{animatedEmojiEffects:n}=e;if(!n||!n.stickers)return;const r=v(t);return n.stickers.find(e=>e.emoji===t||e.emoji===r)}function x(e,t){return e?.appConfig?.emojiSounds[v(t)]}function I(e,t){return"id"in t&&(t.id===e.appConfig?.defaultEmojiStatusesStickerSetId||t.id===r.QkL)}function A(e,t=1){const n=e.premiumGifts?.stickers;if(!n)return;const r=c[t];return n.find(e=>e.emoji===r)||n[0]}function C(e,t){const n=e.premiumGifts?.stickers;if(!n||!t)return;let r;return r=t<=1e3?l[1e3]:t<2500?l[2500]:l[5e3],n.find(e=>e.emoji===r)||n[0]}function k(e,t){const n=e.tonGifts?.stickers;if(!n||!t)return;const o=(0,i.UL)(t,r.ykW);let s;return s=o<10?u[1]:o<50?u[10]:u[50],n.find(e=>e.emoji===s)||n[0]}},30708:(e,t,n)=>{"use strict";function r(e){return function(e){return e.sharedState}(e).settings}n.d(t,{l:()=>r})},30757:(e,t,n)=>{"use strict";n.d(t,{BS:()=>u,Iv:()=>d,K5:()=>i,KI:()=>f,Nt:()=>c,P5:()=>s,Qq:()=>l,eC:()=>h,wm:()=>a});var r=n(4350),o=n(30708);function i(e){return e.settings.notifyDefaults}function s(e,t){return e.chats.notifyExceptionById?.[t]}function a(e){return(0,o.l)(e).language.replace("-raw","")}function c(e){const t=(0,r.zk)();return e.authRememberMe&&!r.Xz&&1===Object.keys(t).length}function l(e){return e.settings.byKey.translationLanguage||a(e)}function u(e){return e.settings.byKey.shouldNewNonContactPeersRequirePremium}function d(e){return e.settings.byKey.nonContactPeersPaidStars}function f(e){return e.settings.byKey.shouldHideReadMarks}function h(e){return e.settings.byKey}},30857:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(84051);const o=()=>{const[,e]=(0,r.J0)(!1);return(0,r.hb)(()=>{e(e=>!e)},[])}},30981:(e,t,n)=>{"use strict";n.d(t,{A:()=>a,o:()=>s});var r=n(96540),o=(0,n(20998).A)()?r.useLayoutEffect:r.useEffect,i=function(e,t){var n=r.useRef(!0);o(function(){return e(n.current)},t),o(function(){return n.current=!1,function(){n.current=!0}},[])},s=function(e,t){i(function(t){if(!t)return e()},t)};const a=i},31481:(e,t,n)=>{"use strict";n.d(t,{$$v:()=>Je,$4F:()=>Ue,$gx:()=>J,$nk:()=>nn,ACj:()=>N,AGC:()=>ne,Apc:()=>fn,BJU:()=>Le,BSg:()=>Ye,BYH:()=>on,B_P:()=>xe,C$_:()=>ve,C1b:()=>l,C39:()=>o,C7Y:()=>kr,CH0:()=>qr,CQG:()=>Er,CV:()=>Y,CVm:()=>Qe,CVv:()=>$,CfG:()=>ht,Ckz:()=>sr,Cmz:()=>m,Cyx:()=>kt,D$I:()=>jr,D2Y:()=>b,D3G:()=>vt,D3m:()=>_,DSF:()=>lr,DUo:()=>B,EPW:()=>pn,FHx:()=>E,FZw:()=>vr,G38:()=>Jn,G3A:()=>hn,GOOGLE_APP_CLIENT_ID:()=>d,GOOGLE_APP_CLIENT_SECRET:()=>f,GW0:()=>z,GhT:()=>tn,Gjs:()=>hr,H4O:()=>qt,H6l:()=>Gt,HGU:()=>ae,H_r:()=>qn,HaM:()=>O,HxB:()=>Cr,Hz7:()=>Xe,IH3:()=>Fn,IRc:()=>oe,Iz7:()=>H,J$1:()=>dn,Jg3:()=>yr,KFG:()=>wt,K_A:()=>tr,Ka6:()=>wr,Kh8:()=>En,Kp3:()=>bn,L1q:()=>Qn,L3V:()=>Z,LFk:()=>pr,LWg:()=>Vr,LX5:()=>Xn,LaL:()=>P,Lj4:()=>At,M$8:()=>Xr,M3$:()=>Ce,M8B:()=>et,MVx:()=>S,MkD:()=>Lr,Msx:()=>Dn,MyF:()=>wn,N89:()=>$n,NjX:()=>Yn,NkL:()=>_r,O2i:()=>Yr,O4t:()=>Ot,OFc:()=>Vn,OMf:()=>ln,OUy:()=>Et,OVC:()=>kn,Oig:()=>w,OkV:()=>cr,OzO:()=>jt,P3f:()=>Ze,PAU:()=>ke,PGI:()=>Dr,Pje:()=>Ar,PqE:()=>Nr,Q$7:()=>U,QU5:()=>Ie,Qep:()=>Pe,QkL:()=>ar,RCH:()=>Xt,Rqe:()=>en,S4O:()=>Lt,SKD:()=>$t,Sab:()=>mr,T7t:()=>le,TBj:()=>Zt,U$s:()=>Te,UAx:()=>zr,UdF:()=>Re,Um:()=>de,UuV:()=>F,UyP:()=>Wt,Uyp:()=>sn,VIF:()=>St,ViI:()=>j,Vjs:()=>c,Vz3:()=>Mn,W75:()=>g,WF4:()=>eo,WG3:()=>ye,WHU:()=>Oe,XLD:()=>Rr,XQO:()=>ze,Xab:()=>Nt,Xrp:()=>dt,Y3M:()=>Wn,YAK:()=>X,YVZ:()=>gt,YfK:()=>Wr,ZhW:()=>be,_Bb:()=>Or,_E9:()=>ur,_tP:()=>Ae,aFH:()=>Gn,b5_:()=>ir,bVP:()=>Bn,bcN:()=>we,be8:()=>Fr,bkT:()=>Kt,bnE:()=>zn,bpX:()=>xn,c2m:()=>Mt,c59:()=>Pn,cK8:()=>r,cLl:()=>W,cOD:()=>i,cUY:()=>In,cX7:()=>Me,cgU:()=>Tr,cnh:()=>It,cqp:()=>ut,dK5:()=>Ur,dR$:()=>Gr,dnp:()=>tt,dqH:()=>ct,dxe:()=>Kr,e0F:()=>pt,eKB:()=>_n,eqO:()=>ie,es:()=>Vt,f51:()=>or,f84:()=>Dt,fNs:()=>Nn,fRl:()=>Rt,fSF:()=>st,fng:()=>p,frj:()=>je,fwn:()=>an,g0Q:()=>Yt,g0p:()=>$r,g25:()=>gr,gQx:()=>Tt,gXr:()=>he,gex:()=>Rn,gyE:()=>Se,hYe:()=>Qr,hfH:()=>vn,i11:()=>ot,iIc:()=>He,iJx:()=>L,iKt:()=>bt,iRY:()=>Hr,ikg:()=>On,irO:()=>We,j0M:()=>T,j1l:()=>mn,j3k:()=>ee,j41:()=>Qt,j7l:()=>fr,j7z:()=>Pt,jNX:()=>Tn,jQ1:()=>xt,jhT:()=>Jr,jhd:()=>Cn,jht:()=>y,jsp:()=>Hn,kNZ:()=>jn,kgD:()=>Ne,lFE:()=>x,lYi:()=>Fe,laV:()=>fe,m$5:()=>mt,mD0:()=>cn,mFn:()=>s,mH$:()=>ge,mPG:()=>lt,map:()=>_e,mxD:()=>Ln,naf:()=>Ht,nfi:()=>K,nnT:()=>me,npx:()=>ft,nqT:()=>$e,nxZ:()=>Ut,oBq:()=>R,ozB:()=>V,pX9:()=>dr,pZc:()=>at,pk8:()=>it,pkx:()=>Ir,qGQ:()=>C,qJR:()=>a,qKY:()=>M,qLe:()=>A,qbC:()=>Pr,qj6:()=>Ge,r2x:()=>rn,r6P:()=>u,r9K:()=>xr,rBM:()=>qe,rgX:()=>Zn,rkj:()=>I,rph:()=>h,s8T:()=>zt,sR2:()=>gn,sXR:()=>Un,tBS:()=>Zr,tNZ:()=>nr,tOS:()=>Be,tP8:()=>Br,tRH:()=>yn,tek:()=>Ee,u4b:()=>Ve,uCr:()=>ue,ukY:()=>Sr,um6:()=>D,uyj:()=>k,vVF:()=>An,wAs:()=>pe,wEk:()=>er,wVm:()=>yt,wZe:()=>Ke,wwD:()=>v,x6_:()=>Jt,xB5:()=>Ft,xJs:()=>q,xMZ:()=>un,xcU:()=>Ct,xw7:()=>ce,y67:()=>Mr,ykW:()=>De,ynd:()=>br,yo2:()=>re,yq1:()=>se,z2M:()=>Q,zHL:()=>nt,zLi:()=>Kn,zNY:()=>Sn,zP3:()=>rt,zPk:()=>_t,zq7:()=>Bt,zrf:()=>G,zv8:()=>rr});const r="A",o="TelyAI",i=1760952018707,s="web.telegram.org",a="https://web.telegram.org/",c="https://telegpt-phi.vercel.app",l="https://aquaverse.github.io/telegpt-web-app/",u="account",d="538884342692-p4m10vr5uvmscb3tk75fkd50nli8n8ot.apps.googleusercontent.com",f="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",h="AIzaSyDFV09Q1o2Zi48fJb269ORt4K-_jaHOEv4",p=!1,g=!1,m=!1,y=!1,b="tt-electron-window-drag-start",v="tt-electron-window-drag-end",_="paid_messages",w=!1,S=!1,x="tt-log.json",I=w,A=20,C="https://telegra.ph/WebA-Beta-03-20",k="https://telegram-a-host",E="Shoot!\nSomething went wrong, please see the error details in Dev Tools Console.",T="Telegram",P="[Inactive]",M=!1,O="user_auth",D="account",R="tt-passcode",N=6,F=!1,L="tt-global-state",B="tt-shared-state",$=500,j=200,U=10,z=150,V="tt-is-screen-locked",q=!1,H="tt-media",G="tt-media-avatars",W="tt-media-progressive",K="tt-custom-bg",Y="tt-lang-packs-v50",J=[1,5,10,50,100,500],X="tt-global",Z="tt-establish",Q="tt-multitab",ee=[1,2,3,4,5],te="undefined"!=typeof window&&window.innerHeight>=900,ne=1,re=te?60:40,oe=2*re,ie=36,se=72,ae=65,ce=56,le=te?30:25,ue=100,de=42,fe=42,he=42,pe=20,ge=5,me=30,ye=200,be=500,ve=600,_e=100,we=50,Se=30,xe=32,Ie=64,Ae=10,Ce=2,ke=1e5,Ee=5,Te=850,Pe=86400,Me=2678400,Oe=300,De="TON",Re=850,Ne=3,Fe=18,Le="https://fragment.com/ads/topup",Be=1e7,$e=1e13,je=15,Ue=10,ze=20,Ve=30,qe="global",He=20,Ge=500,We=20,Ke=250,Ye=1,Je=1e4,Xe=1,Ze=1,Qe=1200,et=-1,tt=0,nt=1,rt=2,ot=nt,it=16,st=17,at=15,ct=3,lt=1e4,ut=3e3,dt=1e7,ft=36e5,ht="editable-message-text",pt="editable-message-text-modal",gt="editable-story-input-text",mt=`.messages-layout .Transition_slide-active #${ht}, .messages-layout .Transition > .Transition_slide-to #${ht}`,yt=`#${pt}`,bt=`#${gt}`,vt="data-has-custom-appendix",_t="message-content",wt=".message-content",St="active-view-transition",xt="resizeHandle",It=`.${xt}`,At="snap-effect-container",Ct="snap-effect",kt="⭐",Et="XTR",Tt=1275,Pt=925,Mt=600,Ot=950,Dt=450,Rt=2**31-1,Nt="0",Ft=100,Lt=200,Bt=10,$t=300,jt=600,Ut=800,zt=300,Vt=(Math.round(($t+jt)/2),new Set(["newMessage","newScheduledMessage","deleteMessages","deleteScheduledMessages","deleteHistory","deleteParticipantHistory"]),200),qt=13,Ht=11,Gt=160,Wt=120,Kt=72,Yt=36,Jt=32,Xt=40,Zt=32,Qt=20,en=72,tn=72,nn=36,rn=160,on=160,sn=140,an=100,cn=100,ln=140,un=140,dn=2,fn=7,hn="top",pn="popular",gn="recent",mn="collectibleStatus",yn="favorite",bn="effectStickers",vn="effectEmojis",_n="chatStickers",wn="topic-default-icon",Sn="status-default-icon",xn=/<img[^>]+alt="([^"]+)"(?![^>]*data-document-id)[^>]*>/gm,In="en",An=200,Cn=450,kn="FestiveFontEmoji",En="RestrictedEmoji",Tn="http://www.w3.org/2000/svg",Pn=new Set(["svg","svgz"]),Mn="image/gif",On="application/x-tgsticker",Dn="video/webm",Rn=new Set(["image/png","image/jpeg",Mn]),Nn=new Set(["video/mp4","video/quicktime"]),Fn=new Set(["audio/mp3","audio/ogg","audio/wav","audio/mpeg","audio/flac","audio/aac","audio/m4a","audio/mp4","audio/x-m4a"]),Ln=new Set([...Rn,...Nn]),Bn="The message is not supported on this version of Telegram.",$n=["en","ar","be","ca","zh","nl","fr","de","id","it","ja","ko","pl","pt","ru","es","uk","af","sq","am","hy","az","eu","bn","bs","bg","ceb","zh-CN","zh-TW","co","hr","cs","da","eo","et","fi","fy","gl","ka","el","gu","ht","ha","haw","he","iw","hi","hmn","hu","is","ig","ga","jv","kn","kk","km","rw","ku","ky","lo","la","lv","lt","lb","mk","mg","ms","ml","mt","mi","mr","mn","my","ne","no","ny","or","ps","fa","pa","ro","sm","gd","sr","st","sn","sd","si","sk","sl","so","su","sw","sv","tl","tg","ta","tt","te","th","tr","tk","ur","ug","uz","vi","cy","xh","yi","yo","zu"],jn="((ftp|https?):\\/\\/)?((www\\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\\.[a-zA-Z][-a-zA-Z0-9]{1,62})\\b([-a-zA-Z0-9()@:%_+.,~#?&/=]*)",Un="(@[\\w\\d_-]+)",zn=/^tg:(\/\/)?/i,Vn=/^(https?:\/\/)?([-a-zA-Z0-9@:%_+~#=]{1,32}\.)?t\.me/i,qn=/^(https?:\/\/)?telegram\.org\//i,Hn="https://t.me/",Gn="botfather",Wn="USERNAME_PURCHASE_AVAILABLE",Kn="MESSAGE_ID_REQUIRED",Yn="auction",Jn=(new Set([Wn,"USERNAME_INVALID"]),new Set(["t.me","web.t.me","a.t.me","k.t.me","z.t.me"])),Xn="weba",Zn="weba",Qn="sensitive",er=new Set(["AU","BD","CA","CO","EG","HN","IE","IN","JO","MX","MY","NI","NZ","PH","PK","SA","SV","US"]),tr=["bots","channels","chats","users","groups"],nr={type:"emoji",emoticon:"❤"},rr="777000",or="1271266957",ir="489000",sr="2666000",ar="7173162320003080",cr=10**12,lr=0,ur=1,dr=-1,fr=-2,hr="Unread",pr=-3,gr="Preset",mr=-4,yr="AI",br=10,vr=5,_r=2147483646,wr=["android","ios","tdesktop","macos"],Sr="https://bugs.telegram.org/?tag_ids=41&sort=time",xr="https://telegram.org/faq",Ir="https://telegram.org/privacy",Ar="https://telegram.org/tos/mini-apps",Cr=1,kr=86400,Er=4,Tr=10,Pr=10,Mr=10,Or="888",Dr=11,Rr="#99BA92",Nr="#0F0F0F",Fr="#4A8E3A8C",Lr="#0A0A0A8C",Br="1a",$r="2b",jr=5,Ur=524288,zr=11,Vr=new Set(["USER_CANCELED"]),qr=100,Hr=100*qr,Gr={uploadMaxFileparts:[4e3,8e3],stickersFaved:[5,10],savedGifs:[200,400],dialogFiltersChats:[100,200],dialogFilters:[10,20],dialogFolderPinned:[5,10],captionLength:[1024,4096],channels:[500,1e3],channelsPublic:[10,20],aboutLength:[70,140],chatlistInvites:[3,100],chatlistJoined:[2,20],recommendedChannels:[10,100],savedDialogsPinned:[5,100],moreAccounts:[3,N]},Wr=4096,Kr=2147483647,Yr=["stories","double_limits","more_upload","faster_download","voice_to_text","no_ads","infinite_reactions","premium_stickers","animated_emoji","advanced_chat_management","profile_badge","animated_userpics","emoji_status","translations","saved_tags","last_seen","message_privacy","effects","todo"],Jr=["faster_download","voice_to_text","advanced_chat_management","infinite_reactions","profile_badge","animated_userpics","emoji_status","translations","saved_tags","last_seen","message_privacy","effects","todo"],Xr=["channels","dialogFolderPinned","channelsPublic","savedGifs","stickersFaved","aboutLength","captionLength","dialogFilters","dialogFiltersChats","moreAccounts","recommendedChannels"],Zr={sortType:"byDate",shouldIncludeUnlimited:!0,shouldIncludeLimited:!0,shouldIncludeUnique:!0,shouldIncludeDisplayed:!0,shouldIncludeHidden:!0},Qr={sortType:"byDate"},eo=[1,3,6,12,18,24]},31511:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(6e4),o=n(96540);var i=n(48154);const s=()=>{const e=(0,i.A)();return t=()=>r.DW(e),(0,o.useEffect)(t,[]),r.Yw();var t}},32625:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(84051),o=n(17712);const i=function(e,t,n=!1){const i=(0,o.A)(e);(0,r.vJ)(()=>{if(void 0===t)return;const e=setInterval(()=>i(),t);return n||i(),()=>clearInterval(e)},[t,n])}},32989:(e,t,n)=>{"use strict";n.d(t,{w:()=>o});var r=n(14487);function o(e,t,...[n=(0,r.g0)()]){return{...e,byTabId:{...e.byTabId,[n]:{...e.byTabId[n],...t}}}}},33204:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(13439);const o=new Map;function i(e,t){const n=e.action;clearTimeout(o.get(n));const i=window.setTimeout(()=>{(0,r.ko)()[n](e.payload)},t);o.set(n,i)}},33554:(e,t,n)=>{"use strict";n.d(t,{$:()=>o});var r=n(87894);function o(e,t){return e===t?t:(0,r.Vh)(t)?(0,r.Vh)(e)?"__deleteAllChildren"in t?{}:(0,r.Am)(Object.keys(e).concat(Object.keys(t))).reduce((n,r)=>{const i=e[r];if(t.hasOwnProperty(r)){const e=t[r];e?.__delete||(n[r]=o(i,e))}else n[r]=i;return n},{}):i(t):t}function i(e){return e.__deleteAllChildren?{}:Object.entries(e).reduce((e,[t,n])=>(n?.__delete||(e[t]=(0,r.Vh)(n)?i(n):n),e),{})}},34164:(e,t,n)=>{"use strict";function r(e){var t,n,o="";if("string"==typeof e||"number"==typeof e)o+=e;else if("object"==typeof e)if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=r(e[t]))&&(o&&(o+=" "),o+=n)}else for(n in e)e[n]&&(o&&(o+=" "),o+=n);return o}function o(){for(var e,t,n=0,o="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=r(e))&&(o&&(o+=" "),o+=t);return o}n.d(t,{$:()=>o})},34201:(e,t,n)=>{"use strict";n.d(t,{A:()=>h});var r=n(84051),o=n(61433),i=n(66644),s=n(83414),a=n(19129),c=n(17712),l=n(41257),u=n(35297),d=n(66230);const f=350;function h(e){const{isOpen:t,noMountTransition:n=!1,noOpenTransition:h=!1,noCloseTransition:p=!1,closeDuration:g=f,className:m="fast",prefix:y="",shouldForceOpen:b,onCloseAnimationEnd:v}=e,_=(0,r.li)(),w=e.ref||_,S=(0,r.li)(),[x,I]=(0,r.Ul)(),A=(0,l.i)({closeDuration:g,noMountTransition:n,noOpenTransition:h,noCloseTransition:p}),C=(0,c.A)(v);(0,d.A)(([e])=>{const n=A.current;b?I("open"):t?(S.current&&(clearTimeout(S.current),S.current=void 0),n.noOpenTransition||void 0===e&&n.noMountTransition?I("open"):(I("scheduled-open"),(0,i.YS)(()=>{I("open")}))):void 0===e||n.noCloseTransition?I("closed"):(I("closing"),S.current=window.setTimeout(()=>{I("closed"),C()},n.closeDuration))},[t,b]);const k=(0,c.A)(()=>{const e=w.current;if(!e)return;!1!==m&&((0,o.YM)(e,"opacity-transition"),(0,o.YM)(e,m));const t=x(),n="closed"!==t,r="open"===t,i="closing"===t;(0,o.dH)(e,`${y}shown`,n),(0,o.dH)(e,`${y}not-shown`,!n),(0,o.dH)(e,`${y}open`,r),(0,o.dH)(e,`${y}not-open`,!r),(0,o.dH)(e,`${y}closing`,i)});(0,u.A)(()=>{w.onChange=()=>{w.onChange=void 0,k()}},[k,w]),(0,r.Nf)(k,[k,x]);const E="withShouldRender"in e&&e.withShouldRender,T=(0,a.A)(()=>E&&"closed"!==x(),[E,x]),P=(0,s.A)(()=>"closing"===x(),[x]);return E?{ref:w,shouldRender:T,getIsClosing:P}:{ref:w,getIsClosing:P}}},34780:(e,t,n)=>{"use strict";n.d(t,{Ay:()=>f,c_:()=>u,w4:()=>d});var r=n(84051),o=n(46536),i=n(17712);const s=(0,o.h)(),a=(0,o.h)();let c,l=!1;function u(){return l}function d(){return l||(l=!0,s.runCallbacks()),c&&(clearTimeout(c),c=void 0),function(){c&&(clearTimeout(c),c=void 0),l=!1,a.runCallbacks()}}const f=(e,t,n=!1)=>{const o=(0,i.A)(e),c=(0,i.A)(t);(0,r.vJ)(()=>{if(!n)return l&&o(),s.addCallback(o),a.addCallback(c),()=>{a.removeCallback(c),s.removeCallback(o)}},[n,o,c])}},35049:(e,t,n)=>{"use strict";n.d(t,{a:()=>i,y:()=>o});var r=n(90709);function o(e,t,n){if(!e){if(!n)return;return t?"peer-color-count-1":"peer-color-0"}if("isCustomPeer"in e){if(void 0===e.peerColorId)return;return`peer-color-${e.peerColorId}`}return t?`peer-color-count-${(0,r.PX)(e)}`:`peer-color-${(0,r.Zg)(e)}`}function i(e){return`peer-color-${e.color}`}},35104:(e,t,n)=>{"use strict";function r(e,t){return[e.date,e.fromId,e.gift.id,"starGiftUnique"===e.gift.type?e.gift.number:void 0,t?void 0:e.localTag].filter(Boolean).join("-")}n.d(t,{p:()=>r})},35297:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(84051),o=n(73767);function i(e,t){const n=(0,o.A)(t),i=(0,r.li)();n&&!t.some((e,t)=>e!==n[t])||(i.current?.(),i.current=e(n||[])??void 0),(0,r._W)(()=>{i.current?.()})}},35710:(e,t,n)=>{"use strict";n.d(t,{q:()=>r});let r=function(e){return e[e.BlobUrl=0]="BlobUrl",e[e.Progressive=1]="Progressive",e[e.DownloadUrl=2]="DownloadUrl",e[e.Text=3]="Text",e}({})},36029:(e,t,n)=>{"use strict";n.d(t,{A:()=>c});var r=n(58168),o=n(96540);const i={icon:{tag:"svg",attrs:{"fill-rule":"evenodd",viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64c247.4 0 448 200.6 448 448S759.4 960 512 960 64 759.4 64 512 264.6 64 512 64zm127.98 274.82h-.04l-.08.06L512 466.75 384.14 338.88c-.04-.05-.06-.06-.08-.06a.12.12 0 00-.07 0c-.03 0-.05.01-.09.05l-45.02 45.02a.2.2 0 00-.05.09.12.12 0 000 .07v.02a.27.27 0 00.06.06L466.75 512 338.88 639.86c-.05.04-.06.06-.06.08a.12.12 0 000 .07c0 .03.01.05.05.09l45.02 45.02a.2.2 0 00.09.05.12.12 0 00.07 0c.02 0 .04-.01.08-.05L512 557.25l127.86 127.87c.04.04.06.05.08.05a.12.12 0 00.07 0c.03 0 .05-.01.09-.05l45.02-45.02a.2.2 0 00.05-.09.12.12 0 000-.07v-.02a.27.27 0 00-.05-.06L557.25 512l127.87-127.86c.04-.04.05-.06.05-.08a.12.12 0 000-.07c0-.03-.01-.05-.05-.09l-45.02-45.02a.2.2 0 00-.09-.05.12.12 0 00-.07 0z"}}]},name:"close-circle",theme:"filled"};var s=n(87064),a=function(e,t){return o.createElement(s.A,(0,r.A)({},e,{ref:t,icon:i}))};const c=o.forwardRef(a)},36308:function(e,t,n){var r,o,i,s,a,c;e.exports=(c=n(19021),n(63009),o=(r=c).lib.WordArray,i=r.algo,s=i.SHA256,a=i.SHA224=s.extend({_doReset:function(){this._hash=new o.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var e=s._doFinalize.call(this);return e.sigBytes-=4,e}}),r.SHA224=s._createHelper(a),r.HmacSHA224=s._createHmacHelper(a),c.SHA224)},37358:(e,t,n)=>{"use strict";n.d(t,{OF:()=>c,Or:()=>l,bf:()=>u});var r=n(96540),o=n(14277),i=n(62279),s=n(25905),a=n(11320);const{genStyleHooks:c,genComponentStyleHook:l,genSubStyleComponent:u}=(0,o.L_)({usePrefix:()=>{const{getPrefixCls:e,iconPrefixCls:t}=(0,r.useContext)(i.QO);return{rootPrefixCls:e(),iconPrefixCls:t}},useToken:()=>{const[e,t,n,r,o]=(0,a.Ay)();return{theme:e,realToken:t,hashId:n,token:r,cssVar:o}},useCSP:()=>{const{csp:e}=(0,r.useContext)(i.QO);return null!=e?e:{}},getResetStyles:(e,t)=>{var n;const r=(0,s.av)(e);return[r,{"&":r},(0,s.jz)(null!==(n=null==t?void 0:t.prefix.iconPrefixCls)&&void 0!==n?n:i.pM)]},getCommonStyle:s.vj,getCompUnitless:()=>a.Is})},37479:(e,t,n)=>{"use strict";n.d(t,{A:()=>u});var r=n(84051),o=n(31481),i=n(28470),s=n(71322);function a(e,t,n){return(t=function(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const c=new Map;class l{constructor(e){this.color=e,a(this,"filterId",void 0),a(this,"referenceCount",0),this.filterId=`color-filter-${e.slice(1)}`;const t=(0,s.E2)(e);(0,i.z)(r.Ay.createElement("filter",{"color-interpolation-filters":"sRGB",xmlns:o.jNX},r.Ay.createElement("feColorMatrix",{type:"matrix",values:`0 0 0 0 ${t.r/255} 0 0 0 0 ${t.g/255} 0 0 0 0 ${t.b/255} 0 0 0 1 0`})),this.filterId)}getFilterId(){return this.referenceCount+=1,this.filterId}removeReference(){this.referenceCount-=1,0===this.referenceCount&&(0,i.e)(this.filterId)}isUsed(){return this.referenceCount>0}}function u(e,t){if((0,r.vJ)(()=>{if(e)return()=>{const t=c.get(e);t&&(t.removeReference(),t.isUsed()||c.delete(t.color))}},[e]),!e)return;if(c.has(e))return d(c.get(e).getFilterId(),t);const n=new l(e);return c.set(e,n),d(n.getFilterId(),t)}function d(e,t){return t?`url(#${e})`:`filter: url(#${e});`}},37661:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(84051);const o=(e=!1,t)=>{const[n,o]=(0,r.J0)(e,t);return[n,(0,r.hb)(()=>{o(!0)},[]),(0,r.hb)(()=>{o(!1)},[])]}},37836:(e,t,n)=>{"use strict";function r(e,t,n=!0,r=!0){let o;return(...i)=>{o?(clearTimeout(o),o=void 0):n&&e(...i),o=self.setTimeout(()=>{r&&e(...i),o=void 0},t)}}function o(e,t,n=!0){let r,o,i;return(...s)=>{o=!0,i=s,r||(n&&(o=!1,e(...i)),r=self.setInterval(()=>{if(!o)return self.clearInterval(r),void(r=void 0);o=!1,e(...i)},t))}}function i(e){return s(g,e)}function s(e,t){let n,r=!1;return(...o)=>{n=o,r||(r=!0,e(()=>{r=!1,t(...n)}))}}n.d(t,{Fe:()=>i,IJ:()=>p,P_:()=>c,aj:()=>g,kI:()=>v,nF:()=>o,nb:()=>s,sg:()=>r,v7:()=>a,yu:()=>_});const a=e=>new Promise(t=>{setTimeout(()=>t(),e)});function c(){return new Promise(e=>{p(e)})}const l=35;let u,d,f,h;function p(e,t=!1){u?u.add(e):(u=new Set([e]),requestAnimationFrame(()=>{const e=u;u=void 0,d=void 0,f&&(clearTimeout(f),f=void 0),e.forEach(e=>e())})),t&&(d?d.add(e):d=new Set([e]),f||(f=window.setTimeout(()=>{const e=d;if(u){const t=u;e.forEach(e=>t.delete(e))}d=void 0,f&&(clearTimeout(f),f=void 0),e.forEach(e=>e())},l)))}function g(e){h?h.push(e):(h=[e],Promise.resolve().then(()=>{const e=h;h=void 0,e.forEach(e=>e())}))}const m=500;let y,b;function v(e){self.requestIdleCallback?y?y.push(e):(y=[e],requestIdleCallback(e=>{const t=y;for(y=void 0;t.length&&(t.shift()(),e.timeRemaining()););t.length&&(y?y=t.concat(y):t.forEach(v))},{timeout:m})):g(e)}function _(e,t=!1){return b||(b=[],self.addEventListener("beforeunload",()=>{b.forEach(e=>e())})),t?b.push(e):b.unshift(e),()=>{b=b.filter(t=>t!==e)}}},37932:(e,t,n)=>{"use strict";n.d(t,{Ay:()=>h,Cn:()=>P,DW:()=>T,cl:()=>D});var r=n(31481),o=n(5930),i=n(9705),s=n(2188),a=n(87894),c=n(37836),l=n(84051),u=n(30857),d=n(14745);function f(){return f=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},f.apply(null,arguments)}const h=l.Ay;let p,g={isInited:!1};const m=(0,c.Fe)(()=>{p=Math.random()}),y={},b=[function(){let e;r.Oig&&(e=performance.now());for(const e of _.values()){const{mapStateToProps:t,ownProps:n,mappedProps:i,forceUpdate:a}=e;if(!O(e,g,n))continue;let c;try{c=t(g,n)}catch(e){return void(0,s.H)(e)}r.Oig&&Object.values(c).some(Number.isNaN)&&console.warn(`[TeactN] Some of \`${e.DEBUG_componentName}\` mappers contain NaN values. This may cause redundant updates because of incorrect equality check.`),Object.keys(c).length&&!(0,o.A)(i,c)&&(r.MVx&&(0,o.q)(i,c,`[TeactN] Will update ${e.DEBUG_componentName} caused by:`),e.mappedProps=c,e.DEBUG_updates++,a())}if(r.Oig){const t=performance.now()-e;t>7&&console.warn(`[TeactN] Slow containers update: ${Math.round(t)} ms`)}}],v={},_=new Map,w=(0,c.Fe)(x);let S=!0;function x(){if(S)S=!1;else if((0,l.OV)())return void l.OV.once(w);b.forEach(e=>e(g))}function I(e,t){if("object"==typeof e&&e!==g){if(r.Oig){if(!t?.forceOutdated&&e.DEBUG_randomId&&e.DEBUG_randomId!==p)throw new Error("[TeactN.setGlobal] Attempt to set an outdated global");p=Math.random()}g=e,t?.forceSyncOnIOs?(S=!0,x()):(t?.forceOnHeavyAnimation&&(S=!0),w())}}function A(){return r.Oig&&(g={...g,DEBUG_randomId:p},m()),g}function C(){return v}let k=[];function E(e,t){y[e]||(y[e]=[],v[e]=(t,n)=>function(e,t,n){const o=new i.A;if(k.push(()=>{y[e]?.forEach(e=>{const i=e(r.Oig?A():g,v,t);i?"function"!=typeof i.then?(I(i,n),o.resolve()):i.then(()=>{o.resolve()}):o.resolve()})}),1===k.length)try{for(;k.length;)k[0](),k.shift()}finally{k=[]}return o.promise}(e,t,n)),y[e].push(t)}function T(e){b.push(e)}function P(e){const t=b.indexOf(e);-1!==t&&b.splice(t,1)}function M(e=()=>({}),t){return n=>{function r(r){const i=(0,d.A)(),a=(0,u.A)();(0,l._W)(()=>{_.delete(i)});let c=_.get(i);if(c||(c={mapStateToProps:e,activationFn:t,ownProps:r,forceUpdate:a,DEBUG_updates:0,DEBUG_componentName:n.name},_.set(i,c)),(!c.mappedProps||!(0,o.A)(c.ownProps,r))&&O(c,g,r))try{c.mappedProps=e(g,r)}catch(e){(0,s.H)(e)}return c.ownProps=r,l.Ay.createElement(n,f({},c.mappedProps,r))}return r.DEBUG_contentComponentName=(0,l.$Z)(n),r}}function O(e,t,n){const{activationFn:r,stuckTo:o}=e;return!r||r(t,n,t=>o?o===t:(void 0!==t&&(e.stuckTo=t),!0))}function D(){return{getGlobal:A,setGlobal:I,getActions:C,getPromiseActions:C,addActionHandler:E,withGlobal:M}}r.Oig&&(window.getGlobal=A,window.setGlobal=I,window.getActions=C,document.addEventListener("dblclick",()=>{console.warn("GLOBAL CONTAINERS",(0,a.My)(Array.from(_.values()).map(({DEBUG_componentName:e,DEBUG_updates:t})=>({DEBUG_componentName:e,DEBUG_updates:t})),"DEBUG_updates","desc"))}))},37960:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(34201);function o(e){return(0,r.A)({isOpen:e.hasMediaData,noMountTransition:e.hasMediaData,className:"slow",...e})}},38027:(e,t,n)=>{"use strict";e.exports=n.p+"grey.45da821d56a68ea86203.svg"},38454:function(e,t,n){var r,o;e.exports=(o=n(19021),n(57165),o.mode.ECB=((r=o.lib.BlockCipherMode.extend()).Encryptor=r.extend({processBlock:function(e,t){this._cipher.encryptBlock(e,t)}}),r.Decryptor=r.extend({processBlock:function(e,t){this._cipher.decryptBlock(e,t)}}),r),o.mode.ECB)},38644:(e,t,n)=>{"use strict";n.d(t,{H:()=>m,A:()=>y});var r=n(84051),o=n(98015),i=n(21736);const s=n.p+"chat_ai_folder_border.54ce270e31f752a75d49.png";var a=n(54746),c=n(77787),l=n(13439),u=n(25624),d=n(69036),f=n(60919),h=n(57474),p=n(64493),g=n(96140);let m=function(e){return e.classify="classify",e.apply="apply",e}({});const y=(0,r.ph)((0,l.EK)(e=>{const t=e.chatFolders.nextAiChatFolders;return{theme:(0,f.SJA)(e),nextAiChatFolders:t}})(({step:e,loading:t,theme:n,onClose:f})=>{const[y,v]=(0,r.J0)(!0);function _(){y&&d.Ay.open({content:"You can enable this feature later in the settings page if needed.",icon:null,className:"aichatfolders-tip-message"}),(0,g.E8)(m.classify),c.zs.general?.set(c._9,!1),f?.()}return(0,r.vJ)(()=>{c.zs.general?.get(c._9)?.then(e=>{v(void 0===e)})},[t]),r.Ay.createElement("div",{className:"py-2 flex flex-row items-center relative px-3 gap-3",style:`background-image: url(${"dark"===n?i:o}); background-size: 100% 100%;`},r.Ay.createElement("div",{className:"text-[var(--color-aichatfolders-tag-text)]"},r.Ay.createElement(b,null)),r.Ay.createElement("div",{className:"leading-[16px] text-[13px] text-[var(--color-aichatfolders-tag-text)]"},"Your chat has been automatically organized in folders by TelyAI."),(y||e===m.apply)&&r.Ay.createElement(r.Ay.Fragment,null,r.Ay.createElement(p.A,{color:"translucent",className:"w-[46px] h-[24px] mr-3 rounded-[28px] cursor-pointer hover:opacity-80",style:`background-image: url(${s}); background-size: 100% 100%; text-transform: none; color: #000;`,onClick:async function(){if(!t){if(y){const{setSharedSettingOption:e}=(0,l.ko)();e({aiChatFolders:!0})}await u.x.applyChatFolder(),_()}}},t?r.Ay.createElement(h.A,{className:"w-[12px] h-[12px]",color:"dark"===n?"white":"black"}):r.Ay.createElement("div",{className:"text-[var(--color-aichatfolders-tag-text)] text-[12px]"},"Apply")),r.Ay.createElement("div",{className:"absolute right-2 top-1"},!t&&r.Ay.createElement(a.A,{name:"close",className:"text-[var(--color-aichatfolders-tag-close-color)] cursor-pointer hover:opacity-50",style:"width:6px;height:6px",onClick:_}))))})),b=()=>r.Ay.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:21,height:21,fill:"none"},r.Ay.createElement("path",{fill:"currentColor",d:"M13.375 7.625 9.54 6.187l3.834-1.439L14.812.917l1.44 3.831 3.831 1.44-3.832 1.437-1.439 3.833-1.437-3.833ZM5.708 15.29.917 13.375l4.791-1.917 1.917-4.792 1.916 4.792 4.792 1.917-4.792 1.916-1.916 4.792-1.917-4.791Z"}))},38691:(e,t,n)=>{"use strict";n.d(t,{A:()=>c});var r=n(84051),o=n(46536),i=n(15283);const s=(0,o.h)();function a(){window.matchMedia(`(resolution: ${window.devicePixelRatio}dppx)`).addEventListener("change",s.runCallbacks,{once:!0})}function c(){const[e,t]=(0,r.J0)(window.devicePixelRatio);return(0,i.A)(()=>s.addCallback(()=>{t(window.devicePixelRatio)})),e}a(),s.addCallback(a)},38811:(e,t,n)=>{"use strict";n.d(t,{A:()=>c});var r=n(58168),o=n(96540);const i={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm193.5 301.7l-210.6 292a31.8 31.8 0 01-51.7 0L318.5 484.9c-3.8-5.3 0-12.7 6.5-12.7h46.9c10.2 0 19.9 4.9 25.9 13.3l71.2 98.8 157.2-218c6-8.3 15.6-13.3 25.9-13.3H699c6.5 0 10.3 7.4 6.5 12.7z"}}]},name:"check-circle",theme:"filled"};var s=n(87064),a=function(e,t){return o.createElement(s.A,(0,r.A)({},e,{ref:t,icon:i}))};const c=o.forwardRef(a)},39351:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(43044),o=n(15283),i=n(30857);const s=()=>{const e=(0,i.A)();return(0,o.A)(()=>(0,r.iV)(e)),(0,r.Yw)()}},39449:(e,t,n)=>{"use strict";n.d(t,{Ap:()=>c,DU:()=>l,u1:()=>d,uR:()=>f});var r=n(60436),o=n(96540),i=n(40682),s=n(13950);const a=/^[\u4E00-\u9FA5]{2}$/,c=a.test.bind(a);function l(e){return"danger"===e?{danger:!0}:{type:e}}function u(e){return"string"==typeof e}function d(e){return"text"===e||"link"===e}function f(e,t){let n=!1;const r=[];return o.Children.forEach(e,e=>{const t=typeof e,o="string"===t||"number"===t;if(n&&o){const t=r.length-1,n=r[t];r[t]=`${n}${e}`}else r.push(e);n=o}),o.Children.map(r,e=>function(e,t){if(null==e)return;const n=t?" ":"";return"string"!=typeof e&&"number"!=typeof e&&u(e.type)&&c(e.props.children)?(0,i.Ob)(e,{children:e.props.children.split("").join(n)}):u(e)?c(e)?o.createElement("span",null,e.split("").join(n)):o.createElement("span",null,e):(0,i.zv)(e)?o.createElement("span",null,e):e}(e,t))}["default","primary","danger"].concat((0,r.A)(s.s))},39506:function(e,t,n){var r,o,i,s,a,c,l,u;e.exports=(u=n(19021),n(45471),n(51025),i=(o=(r=u).lib).Base,s=o.WordArray,c=(a=r.algo).MD5,l=a.EvpKDF=i.extend({cfg:i.extend({keySize:4,hasher:c,iterations:1}),init:function(e){this.cfg=this.cfg.extend(e)},compute:function(e,t){for(var n,r=this.cfg,o=r.hasher.create(),i=s.create(),a=i.words,c=r.keySize,l=r.iterations;a.length<c;){n&&o.update(n),n=o.update(e).finalize(t),o.reset();for(var u=1;u<l;u++)n=o.finalize(n),o.reset();i.concat(n)}return i.sigBytes=4*c,i}}),r.EvpKDF=function(e,t,n){return l.create(n).compute(e,t)},u.EvpKDF)},39751:(e,t,n)=>{"use strict";n.d(t,{A:()=>c});var r=n(84051),o=n(37836),i=n(43503),s=n(16581);const a=250;function c(){const{width:e,height:t}=i.A.get(),[n,c]=(0,r.J0)(e),[l,u]=(0,r.J0)(t),[d,f]=(0,r.J0)(!1),h=(0,s.A)(f,[f],a,!0);return(0,r.vJ)(()=>{const e=(0,o.nF)(()=>{f(!0)},a,!0),t=(0,o.nF)(()=>{const{width:e,height:t}=i.A.get();c(e),u(t),h(!1)},a,!1),n=()=>{e(),t()};return window.addEventListener("resize",n),()=>{window.removeEventListener("resize",n)}},[h]),(0,r.Kr)(()=>({width:n,height:l,isResizing:d}),[l,d,n])}},39761:(e,t,n)=>{"use strict";function r(e){for(e.pause(),e.removeAttribute("src");e.firstChild;)e.removeChild(e.firstChild);e.load()}n.d(t,{A:()=>r})},39875:(e,t,n)=>{"use strict";n.d(t,{Ay:()=>G,cr:()=>V});var r=n(96540),o=n.t(r,2),i=n(52187),s=n(61053),a=n(28104),c=n(20488),l=n(18877);const u=(0,r.createContext)(void 0);var d=n(21815),f=n(60685);const h=e=>{const{locale:t={},children:n,_ANT_MARK__:o}=e;r.useEffect(()=>(0,d.L)(null==t?void 0:t.Modal),[t]);const i=r.useMemo(()=>Object.assign(Object.assign({},t),{exist:!0}),[t]);return r.createElement(f.A.Provider,{value:i},n)};var p=n(83480),g=n(17595),m=n(49806),y=n(50723),b=n(62279),v=n(45748),_=n(2616),w=n(20998),S=n(85089);const x=`-ant-${Date.now()}-${Math.random()}`;var I=n(98119),A=n(48224);var C=n(43210);const k=Object.assign({},o),{useId:E}=k,T=void 0===E?()=>"":E;var P=n(90754),M=n(11320);const O=r.createContext(!0);function D(e){const t=r.useContext(O),{children:n}=e,[,o]=(0,M.Ay)(),{motion:i}=o,s=r.useRef(!1);return s.current||(s.current=t!==i),s.current?r.createElement(O.Provider,{value:i},r.createElement(P.Kq,{motion:i},n)):n}const R=()=>null;var N=n(25905);const F=["getTargetContainer","getPopupContainer","renderEmpty","input","pagination","form","select","button"];let L,B,$,j;function U(){return L||b.yH}function z(){return B||b.pM}const V=()=>({getPrefixCls:(e,t)=>t||(e?`${U()}-${e}`:U()),getIconPrefixCls:z,getRootPrefixCls:()=>L||U(),getTheme:()=>$,holderRender:j}),q=e=>{const{children:t,csp:n,autoInsertSpaceInButton:o,alert:d,anchor:f,form:v,locale:_,componentSize:w,direction:S,space:x,splitter:k,virtual:E,dropdownMatchSelectWidth:P,popupMatchSelectWidth:O,popupOverflow:L,legacyLocale:B,parentContext:$,iconPrefixCls:j,theme:U,componentDisabled:z,segmented:V,statistic:q,spin:H,calendar:G,carousel:W,cascader:K,collapse:Y,typography:J,checkbox:X,descriptions:Z,divider:Q,drawer:ee,skeleton:te,steps:ne,image:re,layout:oe,list:ie,mentions:se,modal:ae,progress:ce,result:le,slider:ue,breadcrumb:de,menu:fe,pagination:he,input:pe,textArea:ge,empty:me,badge:ye,radio:be,rate:ve,switch:_e,transfer:we,avatar:Se,message:xe,tag:Ie,table:Ae,card:Ce,tabs:ke,timeline:Ee,timePicker:Te,upload:Pe,notification:Me,tree:Oe,colorPicker:De,datePicker:Re,rangePicker:Ne,flex:Fe,wave:Le,dropdown:Be,warning:$e,tour:je,tooltip:Ue,popover:ze,popconfirm:Ve,floatButton:qe,floatButtonGroup:He,variant:Ge,inputNumber:We,treeSelect:Ke}=e,Ye=r.useCallback((t,n)=>{const{prefixCls:r}=e;if(n)return n;const o=r||$.getPrefixCls("");return t?`${o}-${t}`:o},[$.getPrefixCls,e.prefixCls]),Je=j||$.iconPrefixCls||b.pM,Xe=n||$.csp;((e,t)=>{const[n,r]=(0,M.Ay)();(0,i.IV)({theme:n,token:r,hashId:"",path:["ant-design-icons",e],nonce:()=>null==t?void 0:t.nonce,layer:{name:"antd"}},()=>(0,N.jz)(e))})(Je,Xe);const Ze=function(e,t,n){var r;(0,l.rJ)("ConfigProvider");const o=e||{},i=!1!==o.inherit&&t?t:Object.assign(Object.assign({},m.sb),{hashed:null!==(r=null==t?void 0:t.hashed)&&void 0!==r?r:m.sb.hashed,cssVar:null==t?void 0:t.cssVar}),s=T();return(0,a.A)(()=>{var r,a;if(!e)return t;const c=Object.assign({},i.components);Object.keys(e.components||{}).forEach(t=>{c[t]=Object.assign(Object.assign({},c[t]),e.components[t])});const l=`css-var-${s.replace(/:/g,"")}`,u=(null!==(r=o.cssVar)&&void 0!==r?r:i.cssVar)&&Object.assign(Object.assign(Object.assign({prefix:null==n?void 0:n.prefixCls},"object"==typeof i.cssVar?i.cssVar:{}),"object"==typeof o.cssVar?o.cssVar:{}),{key:"object"==typeof o.cssVar&&(null===(a=o.cssVar)||void 0===a?void 0:a.key)||l});return Object.assign(Object.assign(Object.assign({},i),o),{token:Object.assign(Object.assign({},i.token),o.token),components:c,cssVar:u})},[o,i],(e,t)=>e.some((e,n)=>{const r=t[n];return!(0,C.A)(e,r,!0)}))}(U,$.theme,{prefixCls:Ye("")}),Qe={csp:Xe,autoInsertSpaceInButton:o,alert:d,anchor:f,locale:_||B,direction:S,space:x,splitter:k,virtual:E,popupMatchSelectWidth:null!=O?O:P,popupOverflow:L,getPrefixCls:Ye,iconPrefixCls:Je,theme:Ze,segmented:V,statistic:q,spin:H,calendar:G,carousel:W,cascader:K,collapse:Y,typography:J,checkbox:X,descriptions:Z,divider:Q,drawer:ee,skeleton:te,steps:ne,image:re,input:pe,textArea:ge,layout:oe,list:ie,mentions:se,modal:ae,progress:ce,result:le,slider:ue,breadcrumb:de,menu:fe,pagination:he,empty:me,badge:ye,radio:be,rate:ve,switch:_e,transfer:we,avatar:Se,message:xe,tag:Ie,table:Ae,card:Ce,tabs:ke,timeline:Ee,timePicker:Te,upload:Pe,notification:Me,tree:Oe,colorPicker:De,datePicker:Re,rangePicker:Ne,flex:Fe,wave:Le,dropdown:Be,warning:$e,tour:je,tooltip:Ue,popover:ze,popconfirm:Ve,floatButton:qe,floatButtonGroup:He,variant:Ge,inputNumber:We,treeSelect:Ke},et=Object.assign({},$);Object.keys(Qe).forEach(e=>{void 0!==Qe[e]&&(et[e]=Qe[e])}),F.forEach(t=>{const n=e[t];n&&(et[t]=n)}),void 0!==o&&(et.button=Object.assign({autoInsertSpace:o},et.button));const tt=(0,a.A)(()=>et,et,(e,t)=>{const n=Object.keys(e),r=Object.keys(t);return n.length!==r.length||n.some(n=>e[n]!==t[n])}),{layer:nt}=r.useContext(i.J),rt=r.useMemo(()=>({prefixCls:Je,csp:Xe,layer:nt?"antd":void 0}),[Je,Xe,nt]);let ot=r.createElement(r.Fragment,null,r.createElement(R,{dropdownMatchSelectWidth:P}),t);const it=r.useMemo(()=>{var e,t,n,r;return(0,c.h)((null===(e=p.A.Form)||void 0===e?void 0:e.defaultValidateMessages)||{},(null===(n=null===(t=tt.locale)||void 0===t?void 0:t.Form)||void 0===n?void 0:n.defaultValidateMessages)||{},(null===(r=tt.form)||void 0===r?void 0:r.validateMessages)||{},(null==v?void 0:v.validateMessages)||{})},[tt,null==v?void 0:v.validateMessages]);Object.keys(it).length>0&&(ot=r.createElement(u.Provider,{value:it},ot)),_&&(ot=r.createElement(h,{locale:_,_ANT_MARK__:"internalMark"},ot)),(Je||Xe)&&(ot=r.createElement(s.A.Provider,{value:rt},ot)),w&&(ot=r.createElement(A.c,{size:w},ot)),ot=r.createElement(D,null,ot);const st=r.useMemo(()=>{const e=Ze||{},{algorithm:t,token:n,components:r,cssVar:o}=e,s=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(e,["algorithm","token","components","cssVar"]),a=t&&(!Array.isArray(t)||t.length>0)?(0,i.an)(t):g.A,c={};Object.entries(r||{}).forEach(([e,t])=>{const n=Object.assign({},t);"algorithm"in n&&(!0===n.algorithm?n.theme=a:(Array.isArray(n.algorithm)||"function"==typeof n.algorithm)&&(n.theme=(0,i.an)(n.algorithm)),delete n.algorithm),c[e]=n});const l=Object.assign(Object.assign({},y.A),n);return Object.assign(Object.assign({},s),{theme:a,token:l,components:c,override:Object.assign({override:l},c),cssVar:o})},[Ze]);return U&&(ot=r.createElement(m.vG.Provider,{value:st},ot)),tt.warning&&(ot=r.createElement(l._n.Provider,{value:tt.warning},ot)),void 0!==z&&(ot=r.createElement(I.X,{disabled:z},ot)),r.createElement(b.QO.Provider,{value:tt},ot)},H=e=>{const t=r.useContext(b.QO),n=r.useContext(f.A);return r.createElement(q,Object.assign({parentContext:t,legacyLocale:n},e))};H.ConfigContext=b.QO,H.SizeContext=A.A,H.config=e=>{const{prefixCls:t,iconPrefixCls:n,theme:r,holderRender:o}=e;void 0!==t&&(L=t),void 0!==n&&(B=n),"holderRender"in e&&(j=o),r&&(function(e){return Object.keys(e).some(e=>e.endsWith("Color"))}(r)?function(e,t){const n=function(e,t){const n={},r=(e,t)=>{let n=e.clone();return n=(null==t?void 0:t(n))||n,n.toRgbString()},o=(e,t)=>{const o=new _.Y(e),i=(0,v.cM)(o.toRgbString());n[`${t}-color`]=r(o),n[`${t}-color-disabled`]=i[1],n[`${t}-color-hover`]=i[4],n[`${t}-color-active`]=i[6],n[`${t}-color-outline`]=o.clone().setA(.2).toRgbString(),n[`${t}-color-deprecated-bg`]=i[0],n[`${t}-color-deprecated-border`]=i[2]};if(t.primaryColor){o(t.primaryColor,"primary");const e=new _.Y(t.primaryColor),i=(0,v.cM)(e.toRgbString());i.forEach((e,t)=>{n[`primary-${t+1}`]=e}),n["primary-color-deprecated-l-35"]=r(e,e=>e.lighten(35)),n["primary-color-deprecated-l-20"]=r(e,e=>e.lighten(20)),n["primary-color-deprecated-t-20"]=r(e,e=>e.tint(20)),n["primary-color-deprecated-t-50"]=r(e,e=>e.tint(50)),n["primary-color-deprecated-f-12"]=r(e,e=>e.setA(.12*e.a));const s=new _.Y(i[0]);n["primary-color-active-deprecated-f-30"]=r(s,e=>e.setA(.3*e.a)),n["primary-color-active-deprecated-d-02"]=r(s,e=>e.darken(2))}return t.successColor&&o(t.successColor,"success"),t.warningColor&&o(t.warningColor,"warning"),t.errorColor&&o(t.errorColor,"error"),t.infoColor&&o(t.infoColor,"info"),`\n  :root {\n    ${Object.keys(n).map(t=>`--${e}-${t}: ${n[t]};`).join("\n")}\n  }\n  `.trim()}(e,t);(0,w.A)()&&(0,S.BD)(n,`${x}-dynamic-theme`)}(U(),r):$=r)},H.useConfig=function(){return{componentDisabled:(0,r.useContext)(I.A),componentSize:(0,r.useContext)(A.A)}},Object.defineProperty(H,"SizeContext",{get:()=>A.A});const G=H},39877:(e,t,n)=>{"use strict";n.d(t,{A:()=>v});var r=n(84051),o=n(66644),i=n(90709),s=n(87357),a=n(87679),c=n(76023),l=n(87094),u=n(84080),d=n(17712),f=n(62587),h=n(59030),p=n(93545),g=n(38691),m=n(47483);const y=[{inline:22,block:38,opacity:.35,scale:.75},{inline:32,block:12,opacity:.3,scale:1},{inline:60,block:22,opacity:.25,scale:.75},{inline:75,block:44,opacity:.25,scale:1},{inline:75,block:2,opacity:.2,scale:.625},{inline:95,block:18,opacity:.2,scale:1},{inline:115,block:38,opacity:.2,scale:.625},{inline:125,block:12,opacity:.1,scale:.75}],b=c.$,v=(0,r.ph)(({emojiDocumentId:e,className:t})=>{const n=(0,r.li)(),c=(0,r.li)(),[v,_]=(0,r.J0)(),w=(0,g.A)(),S=(0,h.A)(),{customEmoji:x}=(0,m.A)(e),I=x?(0,i.Mw)(x,"preview"):void 0,A=(0,f.A)(I),C=(0,l.A)(c),k=(0,u.KE)(()=>{A&&(0,a.NN)(A).then(_)},[A]);(0,r.vJ)(()=>{k()},[k]);const E=(0,d.A)(()=>{const e=n.current;if(!e||!v||!C)return;const t=e.getContext("2d"),{width:r,height:o}=e;t.clearRect(0,0,r,o),y.forEach(({inline:e,block:n,opacity:o,scale:i})=>{const s=(S.isRtl?e:r/w-e)*w,a=n*w,c=b*w;t.save(),t.globalAlpha=o,t.translate(s,a),t.scale(i,i),t.drawImage(v,-c/2,-c/2,c,c),t.restore()});const i=`${C}${x.isLottie?"ff":"bb"}`;t.save(),t.fillStyle=i,t.globalCompositeOperation="source-atop",t.fillRect(0,0,r,o),t.restore()}),T=(0,u.KE)(E,[E]);(0,r.vJ)(()=>{T()},[v,S.isRtl,C,T]);const P=(0,u.KE)((e,t)=>{(0,o.RK)(()=>{const r=n.current;r&&(r.width=e*w,r.height=t*w,r.style.width=`${e}px`,r.style.height=`${t}px`,E())})},[w]),M=(0,u.KE)(e=>{const{width:t,height:n}=e.contentRect;P(t,n)},[P]);return(0,p.A)(c,M),(0,r.vJ)(()=>{const e=c.current;if(!e)return;const{width:t,height:n}=e.getBoundingClientRect();P(t,n)},[P]),r.Ay.createElement("div",{className:(0,s.A)("pTWe_CYU",t),ref:c},r.Ay.createElement("canvas",{ref:n}))})},40459:(e,t,n)=>{"use strict";n.d(t,{G:()=>i});var r=n(93900),o=n(77787);async function i(e){try{const t=await(o.zs.knowledge?.getAllKnowledge());if(!t||0===t.length)return;const n=await(0,r.TkF)("feature-extraction","Xenova/all-MiniLM-L6-v2"),i=(await n(e)).data;let s,a=0;for(const e of t){if(!e.question)continue;const t=(await n(e.question)).data;let r=0,o=0,c=0;for(let e=0;e<i.length&&e<t.length;e++)r+=i[e]*t[e],o+=i[e]**2,c+=t[e]**2;if(0===o||0===c||!isFinite(r)||!isFinite(o)||!isFinite(c))continue;const l=r/(Math.sqrt(o)*Math.sqrt(c));isFinite(l)&&!isNaN(l)&&l>a&&(a=l,s={answer:e.plainText,score:l})}return s}catch(e){return void console.error("获取最佳知识库匹配失败:",e)}}},40664:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(84051),o=n(87357),i=n(59030);const s=(0,r.ph)(({ref:e,id:t,className:n,value:s,label:a,error:c,success:l,disabled:u,readOnly:d,placeholder:f,autoComplete:h,inputMode:p,maxLength:g,tabIndex:m,teactExperimentControlled:y,onChange:b,onInput:v,onKeyPress:_,onKeyDown:w,onBlur:S,onPaste:x})=>{const I=(0,i.A)(),A=c||l||a,C=(0,o.A)("input-group",s&&"touched",c?"error":l&&"success",u&&"disabled",d&&"disabled",A&&"with-label",n);return r.Ay.createElement("div",{className:C,dir:I.isRtl?"rtl":void 0},r.Ay.createElement("input",{ref:e,className:"form-control",type:"text",id:t,dir:"auto",value:s||"",tabIndex:m,placeholder:f,maxLength:g,autoComplete:h,inputMode:p,disabled:u,readOnly:d,onChange:b,onInput:v,onKeyPress:_,onKeyDown:w,onBlur:S,onPaste:x,"aria-label":A,teactExperimentControlled:y}),A&&r.Ay.createElement("label",{htmlFor:t},A))})},40682:(e,t,n)=>{"use strict";n.d(t,{Ob:()=>s,zv:()=>o});var r=n(96540);function o(e){return e&&r.isValidElement(e)&&e.type===r.Fragment}const i=(e,t,n)=>r.isValidElement(e)?r.cloneElement(e,"function"==typeof n?n(e.props||{}):n):t;function s(e,t){return i(e,e,t)}},40708:(e,t,n)=>{"use strict";n.d(t,{bL:()=>r});const r="777888"},40955:function(e,t,n){var r;e.exports=(r=n(19021),n(80754),n(84636),n(39506),n(57165),function(){var e=r,t=e.lib.BlockCipher,n=e.algo,o=[],i=[],s=[],a=[],c=[],l=[],u=[],d=[],f=[],h=[];!function(){for(var e=[],t=0;t<256;t++)e[t]=t<128?t<<1:t<<1^283;var n=0,r=0;for(t=0;t<256;t++){var p=r^r<<1^r<<2^r<<3^r<<4;p=p>>>8^255&p^99,o[n]=p,i[p]=n;var g=e[n],m=e[g],y=e[m],b=257*e[p]^16843008*p;s[n]=b<<24|b>>>8,a[n]=b<<16|b>>>16,c[n]=b<<8|b>>>24,l[n]=b,b=16843009*y^65537*m^257*g^16843008*n,u[p]=b<<24|b>>>8,d[p]=b<<16|b>>>16,f[p]=b<<8|b>>>24,h[p]=b,n?(n=g^e[e[e[y^g]]],r^=e[e[r]]):n=r=1}}();var p=[0,1,2,4,8,16,32,64,128,27,54],g=n.AES=t.extend({_doReset:function(){if(!this._nRounds||this._keyPriorReset!==this._key){for(var e=this._keyPriorReset=this._key,t=e.words,n=e.sigBytes/4,r=4*((this._nRounds=n+6)+1),i=this._keySchedule=[],s=0;s<r;s++)s<n?i[s]=t[s]:(l=i[s-1],s%n?n>6&&s%n==4&&(l=o[l>>>24]<<24|o[l>>>16&255]<<16|o[l>>>8&255]<<8|o[255&l]):(l=o[(l=l<<8|l>>>24)>>>24]<<24|o[l>>>16&255]<<16|o[l>>>8&255]<<8|o[255&l],l^=p[s/n|0]<<24),i[s]=i[s-n]^l);for(var a=this._invKeySchedule=[],c=0;c<r;c++){if(s=r-c,c%4)var l=i[s];else l=i[s-4];a[c]=c<4||s<=4?l:u[o[l>>>24]]^d[o[l>>>16&255]]^f[o[l>>>8&255]]^h[o[255&l]]}}},encryptBlock:function(e,t){this._doCryptBlock(e,t,this._keySchedule,s,a,c,l,o)},decryptBlock:function(e,t){var n=e[t+1];e[t+1]=e[t+3],e[t+3]=n,this._doCryptBlock(e,t,this._invKeySchedule,u,d,f,h,i),n=e[t+1],e[t+1]=e[t+3],e[t+3]=n},_doCryptBlock:function(e,t,n,r,o,i,s,a){for(var c=this._nRounds,l=e[t]^n[0],u=e[t+1]^n[1],d=e[t+2]^n[2],f=e[t+3]^n[3],h=4,p=1;p<c;p++){var g=r[l>>>24]^o[u>>>16&255]^i[d>>>8&255]^s[255&f]^n[h++],m=r[u>>>24]^o[d>>>16&255]^i[f>>>8&255]^s[255&l]^n[h++],y=r[d>>>24]^o[f>>>16&255]^i[l>>>8&255]^s[255&u]^n[h++],b=r[f>>>24]^o[l>>>16&255]^i[u>>>8&255]^s[255&d]^n[h++];l=g,u=m,d=y,f=b}g=(a[l>>>24]<<24|a[u>>>16&255]<<16|a[d>>>8&255]<<8|a[255&f])^n[h++],m=(a[u>>>24]<<24|a[d>>>16&255]<<16|a[f>>>8&255]<<8|a[255&l])^n[h++],y=(a[d>>>24]<<24|a[f>>>16&255]<<16|a[l>>>8&255]<<8|a[255&u])^n[h++],b=(a[f>>>24]<<24|a[l>>>16&255]<<16|a[u>>>8&255]<<8|a[255&d])^n[h++],e[t]=g,e[t+1]=m,e[t+2]=y,e[t+3]=b},keySize:8});e.AES=t._createHelper(g)}(),r.AES)},40961:(e,t,n)=>{"use strict";!function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){console.error(e)}}(),e.exports=n(22551)},41036:(e,t,n)=>{"use strict";n.d(t,{Ay:()=>x,VY:()=>w,uo:()=>_});var r=n(84051),o=n(61433),i=n(13439),s=n(66644),a=n(60919),c=n(87357),l=n(25903),u=n(41402),d=n(87894),f=n(55994),h=n(30857),p=n(73767),g=n(66230);const m="Transition_slide-active",y="Transition_slide-from",b="Transition_slide-to",v="Transition_slide-inactive",_=m,w=b,S=new Set(["slide","slideRtl","slideFade","zoomFade","zoomBounceSemiFade","slideLayers","pushSlide","reveal","slideOptimized","slideOptimizedRtl","slideVertical","slideVerticalFade"]),x=function({ref:e,activeKey:t,nextKey:n,name:_,direction:w="auto",renderCount:x,shouldRestoreHeight:I,shouldCleanup:A,cleanupExceptionKey:C,cleanupOnlyKey:k,shouldWrap:E,wrapExceptionKey:T,id:P,className:M,slideClassName:O,withSwipeControl:D,isBlockingAnimation:R,onStart:N,onStop:F,onScroll:L,onMouseDown:B,children:$}){const j=(0,r.li)(),U=S.has(_)&&!(0,a.PKK)((0,i.mS)());let z=(0,r.li)();e&&(z=e);const V=(0,r.li)({}),q=(0,p.A)(t),H=(0,h.A)(),G=(0,r.li)(!1),W=(0,r.li)(!1),K=void 0!==q&&t!==q;!x&&K&&(V.current={[q]:V.current[q]}),V.current[t]=$,n&&(V.current[n]=$),(0,g.A)(([e])=>{if(!e)return;const n="slideOptimized"===e||"slideOptimizedRtl"===e,r="slideOptimized"===_||"slideOptimizedRtl"===_;(n&&!r||!n&&r)&&(V.current={[t]:$},n&&(0,s.RK)(()=>{const e=z.current;["slideOptimized","slideOptimizedBackwards","slideOptimizedRtl","slideOptimizedRtlBackwards"].forEach(t=>(0,o.HW)(e,`Transition-${t}`))}))},[_]);const Y=-1===w||"auto"===w&&q>t||"inverse"===w&&q<t;(0,r.Nf)(()=>{function e(){A&&(V.current=void 0!==C?{[C]:V.current[C]}:void 0!==k?(0,d.cJ)(V.current,[k]):{},H())}const n="slideOptimized"===_||"slideOptimizedRtl"===_,i=z.current,a=Object.keys(V.current).map(Number),c=x?q:a.indexOf(q),h=x?t:a.indexOf(t),p=Array.from(i.childNodes);if(!p.length)return;const g=Array.from(i.children);if(g.forEach(e=>{(0,o.YM)(e,"Transition_slide"),O&&O.split(/\s+/).forEach(t=>{(0,o.YM)(e,t)})}),!K){if(G.current)return;return void g.forEach(e=>{e===p[h]?((0,o.YM)(e,m),n&&(0,o.Tv)(e,{transition:"none",transform:"translate3d(0, 0, 0)"})):n||(0,o.YM)(e,v)})}if(j.current=t,n){if(!p[h])return;return void function(e,t,n,i,a,c,d,f,h,p,g,y,b,v){if(e)return(0,o.dH)(f,`Transition-${t}`,!n),(0,o.dH)(f,`Transition-${t}Backwards`,n),p instanceof HTMLElement&&((0,o.HW)(p,m),(0,o.Tv)(p,{transition:"none",transform:""})),h instanceof HTMLElement&&((0,o.YM)(h,m),(0,o.Tv)(h,{transition:"none",transform:"translate3d(0, 0, 0)"})),void i();"slideOptimizedRtl"===t&&(n=!n),d.current=!0;const _=(0,r.VK)(void 0,y);b?.(),(0,o.dH)(f,`Transition-${t}`,!n),(0,o.dH)(f,`Transition-${t}Backwards`,n),p instanceof HTMLElement&&(0,o.Tv)(p,{transition:"none",transform:"translate3d(0, 0, 0)"}),h instanceof HTMLElement&&(0,o.Tv)(h,{transition:"none",transform:`translate3d(${n?"-":""}100%, 0, 0)`}),(0,s.gm)(()=>(h instanceof HTMLElement&&(0,u.A)(h),()=>{p instanceof HTMLElement&&((0,o.HW)(p,m),(0,o.Tv)(p,{transition:"",transform:`translate3d(${n?"":"-"}100%, 0, 0)`})),h instanceof HTMLElement&&((0,o.YM)(h,m),(0,o.Tv)(h,{transition:"",transform:"translate3d(0, 0, 0)"}))})),(0,l.j)(h,()=>{const e=h instanceof HTMLElement?h.clientHeight:void 0;(0,s.RK)(()=>{a===c.current?(p instanceof HTMLElement&&(0,o.Tv)(p,{transition:"none",transform:""}),g&&e&&h instanceof HTMLElement&&((0,o.Tv)(h,{height:"auto"}),(0,o.Tv)(f,{height:`${e}px`})),v?.(),_(),d.current=!1,i()):_()})})}(U,_,Y,e,t,j,G,i,p[h],p[c],I,R,N,F)}if("none"===_||U||W.current)return W.current&&(W.current=!1),p.forEach((e,t)=>{e instanceof HTMLElement&&((0,o.HW)(e,y),(0,o.HW)(e,b),(0,o.dH)(e,m,t===h),(0,o.dH)(e,v,t!==h))}),void e();p.forEach((e,t)=>{e instanceof HTMLElement&&((0,o.HW)(e,m),(0,o.dH)(e,y,t===c),(0,o.dH)(e,b,t===h),(0,o.dH)(e,v,t!==c&&t!==h))}),G.current=!0;const w=(0,r.VK)(void 0,R);function S(){const n=i.querySelector(`.${m}`),{clientHeight:r}=n||{};(0,s.RK)(()=>{t===j.current?((0,o.HW)(i,`Transition-${_}`),(0,o.HW)(i,`Transition-${_}Backwards`),p.forEach((e,t)=>{e instanceof HTMLElement&&((0,o.HW)(e,y),(0,o.HW)(e,b),(0,o.dH)(e,m,t===h),(0,o.dH)(e,v,t!==h))}),I&&n&&((0,o.Tv)(n,{height:"auto"}),(0,o.Tv)(i,{height:`${r}px`})),F?.(),w(),G.current=!1,e()):w()})}N?.(),(0,o.dH)(i,`Transition-${_}`,!Y),(0,o.dH)(i,`Transition-${_}Backwards`,Y);const E="reveal"!==_&&"slideFadeAndroid"!==_||!Y?p[h]:p[c];if(E)if(D&&p[c]){const e=(0,l.e)(E,S);(0,f.R)(p[c],p[h],()=>{e(),W.current=!0,F?.(),w(),G.current=!1})}else(0,l.e)(E,S,void 0,1e3);else S()},[t,n,q,K,Y,_,N,F,x,I,A,O,C,U,H,D,R,k]),(0,r.vJ)(()=>{if(!I)return;const e=z.current,t=e.querySelector(`:scope > .${m}`)||e.querySelector(`:scope > .${y}`);if(!t)return;const{clientHeight:n,clientWidth:r}=t||{};n&&r&&(0,s.RK)(()=>{(0,o.Tv)(t,{height:"auto"}),(0,o.Tv)(e,{height:`${n}px`,flexBasis:`${n}px`})})},[I,$]);const J=!x,X=V.current,Z=Object.keys(x?new Array(x).fill(void 0):X).map(Number).map(e=>{const n=X[e];if(!n)return;const o="function"==typeof n?n(e===t,e===q,e,t):n;return E&&e!==T||J?r.Ay.createElement("div",{key:e,teactOrderKey:e},o):o});return r.Ay.createElement("div",{ref:z,id:P,className:(0,c.A)("Transition",M),teactFastList:J,onScroll:L,onMouseDown:B},Z)}},41240:(e,t,n)=>{"use strict";n.d(t,{B:()=>r});const r=n(96540).createContext({})},41257:(e,t,n)=>{"use strict";n.d(t,{i:()=>o});var r=n(84051);function o(e){const t=(0,r.li)(e);return t.current=e,t}},41402:(e,t,n)=>{"use strict";function r(e){e.offsetWidth}n.d(t,{A:()=>r})},41733:(e,t,n)=>{"use strict";n.d(t,{A:()=>i,e:()=>o});var r=n(31481);const o=e=>e.currentTime>0&&!e.paused&&!e.ended&&e.readyState>2,i=e=>{e.play().catch(t=>{r.Oig&&console.warn(t,e)})}},42073:function(e,t,n){var r;e.exports=(r=n(19021),n(57165),r.pad.AnsiX923={pad:function(e,t){var n=e.sigBytes,r=4*t,o=r-n%r,i=n+o-1;e.clamp(),e.words[i>>>2]|=o<<24-i%4*8,e.sigBytes+=o},unpad:function(e){var t=255&e.words[e.sigBytes-1>>>2];e.sigBytes-=t}},r.pad.Ansix923)},42347:(e,t,n)=>{"use strict";n.d(t,{A$:()=>F,Jm:()=>j,ad:()=>N,qg:()=>R});var r=n(23174),o=n(89925),i=n(31481),s=n(85982),a=n(55148),c=n(46275),l=n(9716),u=n(14487),d=n(60048),f=n(87894),h=n(60343),p=n(6e4),g=n(37836),m=n(59852),y=n(51580),b=n(96140),v=n(77787),_=n(90709),w=n(13439),S=n(17872),x=n(80840),I=n(32989),A=n(60919),C=n(71331),k=n(64520),E=n(30708);const T=new Set(["FILTERS_TOO_MUCH","CHATLISTS_TOO_MUCH","INVITES_TOO_MUCH"]),P=(0,g.nF)(e=>e(),3e3,!0),M=(0,g.sg)(e=>e(),500,!1,!0);function O(e,t){(0,y.px)("abortChatRequests",{chatId:e,threadId:t})}function D(e,t,n,...[r=(0,u.g0)()]){const o=(0,A.Xf0)(e,r),i=o?.chatId,s=o?.threadId;if(i&&(i!==t||s!==n)){const[n,o]=Object.values(e.byTabId).reduce(([t,n],{id:o})=>{if(o===r||t&&n)return[t,n];const a=(0,A.Xf0)(e,o),c=a?.chatId===i;return[t||c,n||c&&a?.threadId===s]},[i===t,!1]);(!n||!o)&&O(i,n?s:void 0)}}async function R(e,t,n){let o=(0,w.mS)(),s=(0,A.xzS)(o)?.id;const a=n?{}:(0,A.$TA)(o,e),c=a.nextOffsetPeerId?(0,A.PVB)(o,a.nextOffsetPeerId):void 0,l=a.nextOffsetDate,u=a.nextOffsetId,d=!(n||c||l||u),h="active"===e&&d,p=(0,A.trm)(o),g="saved"===e?await(0,y.px)("fetchSavedChats",{limit:i.uCr,offsetDate:l,offsetId:u,offsetPeer:c,withPinned:d&&!p}):await(0,y.px)("fetchChats",{limit:i.uCr,offsetDate:l,offsetId:u,offsetPeer:c,archived:"archived"===e,withPinned:d&&!p,lastLocalServiceMessageId:s});if(!g)return;const{chatIds:m}=g;o=(0,w.mS)(),s=(0,A.xzS)(o)?.id;const b=(0,f.dU)(g.chats,"id");o=(0,S.CKT)(o,(0,f.dU)(g.users,"id")),o=(0,S.h7P)(o,b),o=d?(0,S.hOQ)(o,e,m):(0,S.ec2)(o,e,m),h?(o=(0,S.wWy)(o,g.userStatusesById),o=(0,S.GEE)(o,g.notifyExceptionById)):(o=(0,S.d2X)(o,g.userStatusesById),o=(0,S.DeY)(o,g.notifyExceptionById)),o=(0,S.qwk)(o,e,g),o=(0,S.tTf)(o,g.messages),o=(0,S.XUr)(o,g.lastMessageByChatId,e),n||(o=(0,S.tPq)(o,e,g.nextOffsetId,g.nextOffsetPeerId,g.nextOffsetDate)),(t?g.chatIds:Object.keys(g.draftsById)).forEach(e=>{const t=g.draftsById[e],n=(0,A.$jd)(o,e,r.l3);(t||n)&&((0,A.GA4)(o,e,r.l3)?.isLocal||(o=(0,S.eww)(o,e,r.l3,"draft",t)))}),0!==m.length&&m.length!==g.totalChatCount||o.chats.isFullyLoaded[e]||(o={...o,chats:{...o.chats,isFullyLoaded:{...o.chats.isFullyLoaded,[e]:!0}}}),(0,w.UF)(o)}async function N(e,t,n){if((0,A.trm)(e))return;const r=await(0,y.px)("fetchFullChat",n);if(!r)return;const{chats:o,userStatusesById:i,fullInfo:s,groupCall:a,membersCount:c,isForumAsMessages:l}=r;if(e=(0,w.mS)(),e=(0,S.h7P)(e,(0,f.dU)(o,"id")),i&&(e=(0,S.d2X)(e,i)),a){const t=(0,C.Ip)(e,a.id);e=(0,x.h9)(e,a.id,(0,f.cJ)(a,["connectionState","isLoaded"]),void 0,t?void 0:a.participantsCount)}void 0!==c&&(e=(0,S.wix)(e,n.id,{membersCount:c})),n.isForum&&(e=(0,S.wix)(e,n.id,{isForumAsMessages:l})),e=(0,S.iW2)(e,n.id,s),(0,w.UF)(e);const u=s.stickerSet,d=u&&(0,A.ycM)(e,u);u&&!d&&t.loadStickers({stickerSetInfo:{id:u.id,accessHash:u.accessHash}});const h=s.emojiSet,p=h&&(0,A.ycM)(e,h);return h&&!p&&t.loadStickers({stickerSetInfo:{id:h.id,accessHash:h.accessHash}}),r}async function F(e,t,n){e=(0,w.mS)();const r=n?void 0:(0,A.qn$)(e,t);if(r&&!r.isMin)return r;const{chat:o,user:i}=await(0,y.px)("getChatByUsername",t,n)||{};return o?(e=(0,w.mS)(),e=(0,S.wix)(e,o.id,o),i&&(e=(0,S.TKu)(e,i.id,i)),(0,w.UF)(e),o):void 0}async function L(e,t,n,...[r=(0,u.g0)()]){const o=await F(e,n);if(!o)return;e=(0,w.mS)();const i=(0,A.mBe)(e,o.id);if(!i)return;if(!(0,_.tv)(i))return;const s=await(0,y.px)("loadAttachBot",{bot:i});if(e=(0,w.mS)(),s)return(0,w.UF)(e),s.bot;t.showNotification({message:p.yE("WebApp.AddToAttachmentUnavailableError"),tabId:r})}async function B(e,t,n,o,...[i=(0,u.g0)()]){const{isCurrentChat:s,threadId:a,messageId:c,startParam:l,referrer:d,startAttach:f,attach:h,text:p,timestamp:g}=o;if(c){let r=!1;if(n.isForum&&!a){let o=(0,A.pSx)(e,n.id)?.[c];if(!o){const e=await(0,y.px)("fetchTopicById",{chat:n,topicId:c});o=e?.topic}o&&(t.openThread({chatId:n.id,threadId:o.id,tabId:i}),r=!0)}r||t.focusMessage({chatId:n.id,threadId:a,messageId:c,timestamp:g,tabId:i})}else s||t.openThread({chatId:n.id,threadId:a??r.l3,tabId:i});l&&!d&&t.startBot({botId:n.id,param:l}),h&&$(e=(0,w.mS)(),t,n.id,h,f,i),p&&t.openChatWithDraft({chatId:n.id,text:{text:p},tabId:i}),c&&g&&t.openMediaFromTimestamp({chatId:n.id,threadId:a,messageId:c,timestamp:g,tabId:i})}async function $(e,t,n,r,o,...[i=(0,u.g0)()]){e=(0,w.mS)();const s=await L(e,t,r,i);s&&t.callAttachBot({bot:s,chatId:n,..."string"==typeof o&&{startParam:o},tabId:i})}async function j(e,t,n,...[r=(0,u.g0)()]){const o=(0,A.hds)(e,n);if(!o||!(0,_.yn)(o))return o;const i=await async function(e,t,n,...[r=(0,u.g0)()]){try{return await(0,y.px)("migrateChat",n)}catch(e){return void("CHANNELS_TOO_MUCH"===e.message?t.openLimitReachedModal({limit:"channels",tabId:r}):t.showDialog({data:{...e,hasErrorKey:!0},tabId:r}))}}(0,t,o,r);return i?(t.loadFullChat({chatId:i.id}),t.openChat({id:i.id,tabId:r}),i):void 0}(0,w.aJ)("preloadTopChatMessages",async(e,t)=>{const n=new Set;for(let o=0;o<i.irO;o++){await(0,g.v7)(100),e=(0,w.mS)();const o=Object.values(e.byTabId).map(({id:t})=>(0,A.Xf0)(e,t)?.chatId).filter(Boolean),s=(0,d.YA)(i.DSF),a=s?.find(e=>!o.includes(e)&&!n.has(e));if(!a)return;n.add(a),t.loadViewportMessages({chatId:a,threadId:r.l3,tabId:(0,u.g0)()})}}),(0,w.aJ)("openChat",(e,t,n)=>{const{id:o,type:s,noForumTopicPanel:a,shouldReplaceHistory:c,shouldReplaceLast:l,tabId:d=(0,u.g0)()}=n;if(t.processOpenChatOrThread({chatId:o,type:s,threadId:r.l3,noForumTopicPanel:a,shouldReplaceHistory:c,shouldReplaceLast:l,tabId:d}),D(e,o,r.l3,d),!o||o===i.Xab)return;const f=(0,A.hds)(e,o);f?.hasUnreadMark&&t.markChatRead({id:o});const h=!(0,A.ZZX)(e,o);if(f)h&&!f.isMin&&t.requestChatUpdate({chatId:o});else if((0,A.nZ4)(e,o))(0,y.px)("fetchChat",{type:"self"});else{const t=(0,A.mBe)(e,o);t&&(0,y.px)("fetchChat",{type:"user",user:t})}}),(0,w.aJ)("openSavedDialog",(e,t,n)=>{const{chatId:r,tabId:o=(0,u.g0)(),...i}=n;t.openThread({chatId:e.currentUserId,threadId:r,tabId:o,...i})}),(0,w.aJ)("openThread",async(e,t,n)=>{const{type:o,isComments:i,noForumTopicPanel:s,shouldReplaceHistory:a,shouldReplaceLast:c,focusMessageId:l,tabId:d=(0,u.g0)()}=n;let h,g,m,{chatId:b}=n;if(i){const{originChannelId:e,originMessageId:t}=n;g=e,m=t}else{g=n.chatId,h=n.threadId,m=h;const l=(0,A.hds)(e,g);if(h===r.l3)return void t.openChat({id:b,type:o,noForumTopicPanel:s,shouldReplaceHistory:a,shouldReplaceLast:c,tabId:d});if(l?.isForum||b&&(0,_.cG)(b,h,e.currentUserId))return void t.processOpenChatOrThread({chatId:b,type:o,threadId:h,isComments:i,noForumTopicPanel:s,shouldReplaceHistory:a,shouldReplaceLast:c,tabId:d})}const v=(0,A.hds)(e,g),x=(0,A.Vw0)(e,g,m),C=(0,A.$jd)(e,g,m);if(!v)return;if(D(e,g,m,d),b&&x?.threadId&&(i||C?.listedIds?.length&&C.listedIds.includes(Number(x.threadId))))return e=(0,I.w)(e,{loadingThread:void 0},d),(0,w.UF)(e),void t.processOpenChatOrThread({chatId:b,type:o,threadId:x.threadId,isComments:i,noForumTopicPanel:s,shouldReplaceHistory:a,shouldReplaceLast:c,tabId:d});let{loadingThread:k}=(0,A.nTw)(e,d);k&&O(k.loadingChatId,k.loadingMessageId),e=(0,I.w)(e,{loadingThread:{loadingChatId:g,loadingMessageId:Number(m)}},d),(0,w.UF)(e);const E=()=>{const e=(0,w.mS)();i||(0,A.Xf0)(e,d)?.chatId!==g||(0,A.Xf0)(e,d)?.threadId!==m||t.openPreviousChat({tabId:d})};i||t.processOpenChatOrThread({chatId:b,type:o,threadId:h,tabId:d,isComments:i,noForumTopicPanel:s,shouldReplaceHistory:a,shouldReplaceLast:c});const T=(0,A.trm)(e)?void 0:await(0,y.px)("fetchDiscussionMessage",{chat:(0,A.hds)(e,g),messageId:Number(m)});if(e=(0,w.mS)(),k=(0,A.nTw)(e,d).loadingThread,k?.loadingChatId===g&&k?.loadingMessageId===m){if(!T)return e=(0,I.w)(e,{loadingThread:void 0},d),(0,w.UF)(e),t.showNotification({message:p.yE(i?"ChannelPostDeleted":"lng_message_not_found"),tabId:d}),void E();h??(h=T.threadId),b??(b=T.chatId),b?(e=(0,w.mS)(),e=(0,S.KcS)(e,T.messages),i&&(e=(0,S.eAk)(e,g,m,{threadId:h}),e=(0,S.eAk)(e,b,h,{isCommentsInfo:!1,threadId:h,chatId:b,fromChannelId:g,fromMessageId:m,...x&&(0,f.Up)(x,["messagesCount","lastMessageId","lastReadInboxMessageId","recentReplierIds"])})),e=(0,S.e49)(e,b,h,{firstMessageId:T.firstMessageId}),(0,w.UF)(e),l&&t.focusMessage({chatId:b,threadId:h,messageId:l,tabId:d}),t.loadViewportMessages({chatId:b,threadId:h,tabId:d,onError:()=>{e=(0,w.mS)(),e=(0,I.w)(e,{loadingThread:void 0},d),(0,w.UF)(e),t.showNotification({message:p.yE("Group.ErrorAccessDenied"),tabId:d})},onLoaded:()=>{e=(0,w.mS)(),k=(0,A.nTw)(e,d).loadingThread,k?.loadingChatId===g&&k?.loadingMessageId===m&&(e=(0,I.w)(e,{loadingThread:void 0},d),(0,w.UF)(e),t.processOpenChatOrThread({chatId:b,type:o,threadId:h,tabId:d,isComments:i,noForumTopicPanel:s,shouldReplaceHistory:a,shouldReplaceLast:c}))}})):E()}else E()}),(0,w.aJ)("openLinkedChat",async(e,t,n)=>{const{id:r,tabId:o=(0,u.g0)()}=n,i=(0,A.hds)(e,r);if(!i)return;const s=await(0,y.px)("fetchFullChat",i);s?.fullInfo?.linkedChatId&&t.openChat({id:s.fullInfo.linkedChatId,tabId:o})}),(0,w.aJ)("openSupportChat",async(e,t,n)=>{const{tabId:r=(0,u.g0)()}=n||{},o=(0,A.ke9)(e);if(o)return void t.openChat({id:o.id,shouldReplaceHistory:!0,tabId:r});t.openChat({id:i.Xab,shouldReplaceHistory:!0,tabId:r});const s=await(0,y.px)("fetchChat",{type:"support"});s&&t.openChat({id:s.chatId,shouldReplaceHistory:!0,tabId:r})}),(0,w.aJ)("loadAllChats",async(e,t,n)=>{const{whenFirstBatchDone:r}=n,o=n.listType;let s=!1,a=0;for(;!e.chats.isFullyLoaded[o];){if(a++>=100)return void(i.Oig&&console.error("`actions/loadAllChats`: Infinite loop detected"));if("connectionStateReady"!==(e=(0,w.mS)()).connectionState||"authorizationStateReady"!==e.authState)return;await R(o,!0),s||(await(r?.()),s=!0),e=(0,w.mS)()}}),(0,w.aJ)("loadPinnedDialogs",async(e,t,n)=>{const{listType:r}=n,o=await(0,y.px)("fetchPinnedDialogs",{listType:r});if(!o)return;const{dialogIds:i,messages:s,chats:a,users:c}=o;e=(0,w.mS)(),e=(0,S.h7P)(e,(0,f.dU)(a,"id")),e=(0,S.CKT)(e,(0,f.dU)(c,"id")),e=(0,S.tTf)(e,s),e={...e,chats:{...e.chats,orderedPinnedIds:{...e.chats.orderedPinnedIds,[r]:i.length?i:void 0}}},(0,w.UF)(e)}),(0,w.aJ)("loadFullChat",(e,t,n)=>{const{chatId:r,force:o,withPhotos:i}=n,s=(0,A.hds)(e,r);if(!s)return;const a=async()=>{await N(e,t,s),i&&t.loadMoreProfilePhotos({peerId:r,shouldInvalidateCache:!0})};o?a():M(a)}),(0,w.aJ)("invalidateFullInfo",(e,t,n)=>{const{peerId:r}=n;return(0,l.L8)(r)?{...e,users:{...e.users,fullInfoById:(0,f.cJ)(e.users.fullInfoById,[r])}}:{...e,chats:{...e.chats,fullInfoById:(0,f.cJ)(e.chats.fullInfoById,[r])}}}),(0,w.aJ)("loadTopChats",()=>{P(()=>{R("active",void 0,!0),R("archived",void 0,!0)})}),(0,w.aJ)("requestChatUpdate",(e,t,n)=>{const{chatId:r}=n,o=(0,A.hds)(e,r);o&&(0,y.px)("requestChatUpdate",{chat:o,...r===i.zv8&&{lastLocalMessage:(0,A.xzS)(e)?.message}})}),(0,w.aJ)("requestSavedDialogUpdate",async(e,t,n)=>{const{chatId:r}=n,o=(0,A.hds)(e,r);if(!o)return;const i=await(0,y.px)("fetchMessages",{chat:o,isSavedDialog:!0,limit:1});i&&(e=(0,w.mS)(),e=(0,S.KcS)(e,i.messages),i.messages.length?(e=(0,S.yKC)(e,r,i.messages[0].id,"saved"),e=(0,S.ec2)(e,"saved",[r]),(0,w.UF)(e)):(e=(0,S.SJu)(e,r,"saved"),(0,w.UF)(e),Object.values(e.byTabId).forEach(({id:n})=>{const o=(0,A.Xf0)(e,n);if(!o)return;const{chatId:i,threadId:s}=o;(0,A.nZ4)(e,i)&&s===r&&t.openChat({id:void 0,tabId:n})})))}),(0,w.aJ)("updateChatMutedState",(e,t,n)=>{const{chatId:r,isMuted:o}=n;let{mutedUntil:s}=n;if((0,A.trm)(e))return void t.openFrozenAccountModal({tabId:(0,u.g0)()});const a=(0,A.hds)(e,r);a&&(o&&!s&&(s=i.fRl),(0,y.px)("updateChatNotifySettings",{chat:a,settings:{mutedUntil:s}}))}),(0,w.aJ)("updateChatSilentPosting",(e,t,n)=>{const{chatId:r,isEnabled:o}=n,i=(0,A.hds)(e,r);i&&(0,y.px)("updateChatNotifySettings",{chat:i,settings:{isSilentPosting:o}})}),(0,w.aJ)("updateTopicMutedState",(e,t,n)=>{const{chatId:r,topicId:o,isMuted:i,mutedUntil:s}=n,a=(0,A.hds)(e,r);a&&(0,y.px)("updateTopicMutedState",{chat:a,topicId:o,isMuted:i,mutedUntil:s})}),(0,w.aJ)("createChannel",async(e,t,n)=>{const{title:r,about:i,photo:s,memberIds:a,discussionChannelId:c,tabId:l=(0,u.g0)()}=n,d="isChannel"in n?n.isChannel:void 0,f="isSuperGroup"in n?n.isSuperGroup:void 0,h=a?.map(t=>(0,A.mBe)(e,t)).filter(Boolean);let p,g;e=(0,I.w)(e,{chatCreation:{progress:o.n7.InProgress}},l),(0,w.UF)(e);try{const e=await(0,y.px)("createChannel",{title:r,about:i,users:h,isBroadcast:d,isMegagroup:f});p=e?.channel,g=e?.missingUsers}catch(n){e=(0,w.mS)(),e=(0,I.w)(e,{chatCreation:{progress:o.n7.Error}},l),(0,w.UF)(e),"CHANNELS_TOO_MUCH"===n.message?t.openLimitReachedModal({limit:"channels",tabId:l}):t.showDialog({data:{...n,hasErrorKey:!0},tabId:l})}if(!p)return;const{id:m,accessHash:b}=p;e=(0,w.mS)(),e=(0,S.wix)(e,m,p),e=(0,I.w)(e,{chatCreation:{...(0,A.nTw)(e,l).chatCreation,progress:p?o.n7.Complete:o.n7.Error}},l),(0,w.UF)(e),c&&m&&t.linkDiscussionGroup({channelId:c,chatId:m,tabId:l}),t.openChat({id:m,shouldReplaceHistory:!0,tabId:l}),g&&(e=(0,w.mS)(),e=(0,S.hQe)(e,m,g,l),(0,w.UF)(e)),m&&b&&s&&await(0,y.px)("editChatPhoto",{chatId:m,accessHash:b,photo:s})}),(0,w.aJ)("joinChannel",async(e,t,n)=>{const{chatId:r,tabId:o=(0,u.g0)()}=n,i=(0,A.hds)(e,r);if(!i)return;const{id:s,accessHash:a}=i;if(s&&a)try{await(0,y.px)("joinChannel",{channelId:s,accessHash:a})}catch(e){"CHANNELS_TOO_MUCH"===e.message?t.openLimitReachedModal({limit:"channels",tabId:o}):t.showDialog({data:{...e,hasErrorKey:!0},tabId:o})}}),(0,w.aJ)("deleteChatUser",(e,t,n)=>{const{chatId:r,userId:o,shouldRevokeHistory:i,tabId:s=(0,u.g0)()}=n,a=(0,A.hds)(e,r),c=(0,A.mBe)(e,o);a&&c&&(e=(0,S.CX_)(e,r),(0,w.UF)(e),(0,A.Xf0)(e,s)?.chatId===r&&t.openChat({id:void 0,tabId:s}),(0,y.px)("deleteChatUser",{chat:a,user:c,shouldRevokeHistory:i}))}),(0,w.aJ)("deleteChat",(e,t,n)=>{const{chatId:r,tabId:o=(0,u.g0)()}=n,i=(0,A.hds)(e,r);i&&(e=(0,S.CX_)(e,r),(0,w.UF)(e),(0,A.Xf0)(e,o)?.chatId===r&&t.openChat({id:void 0,tabId:o}),(0,y.px)("deleteChat",{chatId:i.id}))}),(0,w.aJ)("leaveChannel",async(e,t,n)=>{const{chatId:r,tabId:o=(0,u.g0)()}=n,i=(0,A.hds)(e,r);if(!i)return;e=(0,S.CX_)(e,r),(0,w.UF)(e),(0,A.Xf0)(e,o)?.chatId===r&&t.openChat({id:void 0,tabId:o});const{id:s,accessHash:a}=i;if(s&&a){await(0,y.px)("leaveChannel",{channelId:s,accessHash:a}),e=(0,w.mS)();const t=(0,A.zeq)(e,r),n=Object.keys(t).map(Number).filter(h.iL);e=(0,S.AH0)(e,r,n),(0,w.UF)(e)}}),(0,w.aJ)("deleteChannel",(e,t,n)=>{const{chatId:r,tabId:o=(0,u.g0)()}=n,i=(0,A.hds)(e,r);if(!i)return;e=(0,S.CX_)(e,r),(0,w.UF)(e),(0,A.Xf0)(e,o)?.chatId===r&&t.openChat({id:void 0,tabId:o});const{id:s,accessHash:a}=i;s&&a&&(0,y.px)("deleteChannel",{channelId:s,accessHash:a})}),(0,w.aJ)("createGroupChat",async(e,t,n)=>{const{title:r,memberIds:i,photo:s,tabId:a=(0,u.g0)()}=n,c=i.map(t=>(0,A.mBe)(e,t)).filter(Boolean);e=(0,I.w)(e,{chatCreation:{progress:o.n7.InProgress}},a),(0,w.UF)(e);try{const{chat:n,missingUsers:i}=await(0,y.px)("createGroupChat",{title:r,users:c})??{};if(!n)return;const{id:l}=n;e=(0,w.mS)(),e=(0,S.wix)(e,l,n),e=(0,I.w)(e,{chatCreation:{...(0,A.nTw)(e,a).chatCreation,progress:n?o.n7.Complete:o.n7.Error}},a),(0,w.UF)(e),t.openChat({id:l,shouldReplaceHistory:!0,tabId:a}),i&&(e=(0,w.mS)(),e=(0,S.hQe)(e,l,i,a),(0,w.UF)(e)),l&&s&&await(0,y.px)("editChatPhoto",{chatId:l,photo:s})}catch(t){"USERS_TOO_FEW"===t.message&&(e=(0,w.mS)(),e=(0,I.w)(e,{chatCreation:{...(0,A.nTw)(e,a).chatCreation,progress:o.n7.Error,error:"CreateGroupError"}},a),(0,w.UF)(e))}}),(0,w.aJ)("toggleChatPinned",(e,t,n)=>{const{id:r,folderId:o,tabId:s=(0,u.g0)()}=n;if((0,A.trm)(e))return void t.openFrozenAccountModal({tabId:s});const a=(0,A.hds)(e,r);if(!a)return;const c=(0,k.d)(e,"dialogFolderPinned");if(o){const t=(0,A.$aQ)(e,o);if(t){const n=!(0,A.D3D)(e,r,o),{pinnedChatIds:i,includedChatIds:s}=t,a=n?[r,...i||[]]:(i||[]).filter(e=>e!==r),c=[r,...s];(0,y.px)("editChatFolder",{id:o,folderUpdate:{...t,pinnedChatIds:a,includedChatIds:c}})}}else{const n=(0,A.P4G)(e,r),o=(0,A.D3D)(e,r,"archived"===n?i._E9:void 0),l=e.chats.orderedPinnedIds["archived"===n?"archived":"active"];if((l?.length||0)>=c&&!o)return void t.openLimitReachedModal({limit:"dialogFolderPinned",tabId:s});(0,y.px)("toggleChatPinned",{chat:a,shouldBePinned:!o})}}),(0,w.aJ)("toggleChatArchived",(e,t,n)=>{const{id:r}=n;if((0,A.trm)(e))return void t.openFrozenAccountModal({tabId:(0,u.g0)()});const o=(0,A.hds)(e,r);o&&(0,y.px)("toggleChatArchived",{chat:o,folderId:(0,_.TJ)(o)?0:i._E9})}),(0,w.aJ)("toggleSavedDialogPinned",(e,t,n)=>{const{id:r,tabId:o=(0,u.g0)()}=n;if((0,A.trm)(e))return void t.openFrozenAccountModal({tabId:o});const s=(0,A.hds)(e,r);if(!s)return;const a=(0,k.d)(e,"savedDialogsPinned"),c=(0,A.D3D)(e,r,i.pX9),l=e.chats.orderedPinnedIds.saved;(l?.length||0)>=a&&!c?t.openLimitReachedModal({limit:"savedDialogsPinned",tabId:o}):(0,y.px)("toggleSavedDialogPinned",{chat:s,shouldBePinned:!c})}),(0,w.aJ)("loadChatFolders",async e=>{const t=await(0,y.px)("fetchChatFolders");if(t&&(e=(0,w.mS)(),e={...e,chatFolders:{...e.chatFolders,...t}},(0,w.UF)(e)),t?.byId&&Object.keys(t?.byId).length>0){const e=await(v.zs.folder?.getAllFolders());e?.forEach(async e=>{Object.keys(t?.byId).indexOf(`${e?.id}`)<0&&await(v.zs.folder?.deleteFolder(e?.title))}),Object.keys(t?.byId)?.forEach(async n=>{const r=t?.byId[Number(n)],o=e?.findIndex(e=>e?.title===r.title?.text);o&&o<0&&await(v.zs.folder?.addFolder({id:Number(n),title:r?.title?.text,includedChatIds:r?.includedChatIds,excludedChatIds:r?.excludedChatIds,from:"user"}))})}const{aiChatFolders:n}=(0,E.l)(e);if(!0===n){const n=await(v.zs.aIChatFolders?.getAllAIChatFolders()),r=await(v.zs.general?.get(v.HM)),o=await(v.zs.general?.get(v.al));if(n&&n?.length>0){e=(0,w.mS)();const s=t?.orderedIds??[];e.chatFolders.aiChatFolders?.list&&e.chatFolders.aiChatFolders?.list?.length>0&&(s.splice(3,0,i.j7l),s.push(i.LFk),s.push(i.Sab)),e={...e,chatFolders:{...e.chatFolders,orderedIds:s,aiChatFolders:{activePresetTag:r,activeAITag:o,list:n}}},(0,w.UF)(e)}}else e=(0,w.mS)(),e={...e,chatFolders:{...e.chatFolders,orderedIds:(0,b.hc)(t?.orderedIds??[]),aiChatFolders:{activePresetTag:[],activeAITag:[],list:[]}}},(0,w.UF)(e)}),(0,w.aJ)("loadRecommendedChatFolders",async e=>{const t=await(0,y.px)("fetchRecommendedChatFolders");t&&(e=(0,w.mS)(),e={...e,chatFolders:{...e.chatFolders,recommended:t}},(0,w.UF)(e))}),(0,w.aJ)("editChatFolders",(e,t,n)=>{const{chatId:r,idsToRemove:o,idsToAdd:i,tabId:s=(0,u.g0)()}=n,a=(0,k.d)(e,"dialogFiltersChats");i.some(t=>(0,A.$aQ)(e,t).includedChatIds.length>=a)?t.openLimitReachedModal({limit:"dialogFiltersChats",tabId:s}):(o.forEach(t=>{const n=(0,A.$aQ)(e,t);n&&(0,y.px)("editChatFolder",{id:t,folderUpdate:{...n,pinnedChatIds:n.pinnedChatIds?.filter(e=>e!==r),includedChatIds:n.includedChatIds.filter(e=>e!==r)}})}),i.forEach(t=>{const n=(0,A.$aQ)(e,t);n&&(0,y.px)("editChatFolder",{id:t,folderUpdate:{...n,includedChatIds:n.includedChatIds.concat(r)}})}))}),(0,w.aJ)("editChatFolder",(e,t,n)=>{const{id:r,folderUpdate:o,from:i="user"}=n,s=(0,A.$aQ)(e,r);s&&((0,y.px)("editChatFolder",{id:r,folderUpdate:{id:r,emoticon:s.emoticon,pinnedChatIds:s.pinnedChatIds,...o}}),v.zs.folder?.addFolder({id:r,title:o?.title?.text,includedChatIds:o?.includedChatIds,excludedChatIds:o?.excludedChatIds,from:i}))}),(0,w.aJ)("addChatFolder",async(e,t,n)=>{const{folder:r,tabId:o=(0,u.g0)(),from:s="user"}=n,{orderedIds:a,byId:c}=e.chatFolders,l=(0,k.d)(e,"dialogFilters");if(Object.keys(c).length>=l)return void t.openLimitReachedModal({limit:"dialogFilters",tabId:o});const d=Math.max(...a||[],i._E9),{id:f,description:h,...p}=r,g=d+1,m={id:g,...p};if(await(0,y.px)("editChatFolder",{id:g,folderUpdate:m}),t.apiUpdate({"@type":"updateChatFolder",id:g,folder:m}),await(v.zs.folder?.addFolder({id:g,title:m?.title?.text,includedChatIds:m?.includedChatIds,excludedChatIds:m?.excludedChatIds,from:s})),t.requestNextFoldersAction({foldersAction:{type:"setFolderId",payload:d+1},tabId:o}),!h)return;e=(0,w.mS)();const{recommended:b}=e.chatFolders;b&&(e={...e,chatFolders:{...e.chatFolders,recommended:b.filter(({id:e})=>e!==f)}},(0,w.UF)(e))}),(0,w.aJ)("sortChatFolders",async(e,t,n)=>{const{folderIds:r}=n;await(0,y.px)("sortChatFolders",r)&&(e=(0,w.mS)(),e={...e,chatFolders:{...e.chatFolders,orderedIds:r}},(0,w.UF)(e))}),(0,w.aJ)("deleteChatFolder",async(e,t,n)=>{const{id:r}=n,o=(0,A.$aQ)(e,r);o&&(await(0,y.px)("deleteChatFolder",r),await(v.zs.folder?.deleteFolder(o.title.text)))}),(0,w.aJ)("markChatUnread",(e,t,n)=>{const{id:r}=n;if((0,A.trm)(e))return void t.openFrozenAccountModal({tabId:(0,u.g0)()});const o=(0,A.hds)(e,r);o&&(0,y.px)("toggleDialogUnread",{chat:o,hasUnreadMark:!o.hasUnreadMark})}),(0,w.aJ)("markChatMessagesRead",async(e,t,n)=>{if((0,A.trm)(e))return;const{id:o}=n;if((0,A.trm)(e))return void t.openFrozenAccountModal({tabId:(0,u.g0)()});const i=(0,A.hds)(e,o);if(!i)return;if(!i.isForum)return await(0,y.px)("markMessageListRead",{chat:i,threadId:r.l3}),t.readAllMentions({chatId:o}),t.readAllReactions({chatId:o}),void(i.hasUnreadMark&&t.markChatRead({id:o}));let s,a=!0,c=0;for(;a;){const e=await(0,y.px)("fetchTopics",{chat:i,offsetDate:s?.date,offsetTopicId:s?.id,offsetId:s?.lastMessageId,limit:100});if(!e?.topics?.length)return;e.topics.forEach(e=>{(e.unreadCount||e.unreadMentionsCount||e.unreadReactionsCount)&&t.markTopicRead({chatId:o,topicId:e.id})}),s=e.topics[e.topics.length-1],c+=e.topics.length,e.count<=c&&(a=!1)}}),(0,w.aJ)("markChatRead",(e,t,n)=>{const{id:r}=n,o=(0,A.hds)(e,r);o&&(0,y.px)("toggleDialogUnread",{chat:o,hasUnreadMark:!o.hasUnreadMark})}),(0,w.aJ)("markTopicRead",(e,t,n)=>{if((0,A.trm)(e))return;const{chatId:r,topicId:o}=n,i=(0,A.hds)(e,r);if(!i)return;const s=(0,A.S0q)(e,r,o),a=s?.lastMessageId;a&&((0,y.px)("markMessageListRead",{chat:i,threadId:o,maxId:a}),t.readAllMentions({chatId:r,threadId:o}),t.readAllReactions({chatId:r,threadId:o}),e=(0,w.mS)(),e=(0,S.TwA)(e,r,o,{unreadCount:0}),e=(0,S.eAk)(e,r,o,{lastReadInboxMessageId:a}),(0,w.UF)(e))}),(0,w.aJ)("checkChatInvite",async(e,t,n)=>{const{hash:r,tabId:o=(0,u.g0)()}=n,i=await(0,y.px)("checkChatInvite",r);if(i){if(e=(0,w.mS)(),i.users&&(e=(0,S.g18)(e,(0,f.dU)(i.users,"id"))),i.chat)return e=(0,S.Nl5)(e,(0,f.dU)([i.chat],"id")),(0,w.UF)(e),void t.openChat({id:i.chat.id,tabId:o});if(i.invite.subscriptionFormId)return e=(0,I.w)(e,{starsPayment:{inputInvoice:{type:"chatInviteSubscription",hash:r},subscriptionInfo:i.invite,status:"pending"}},o),void(0,w.UF)(e);e=(0,I.w)(e,{chatInviteModal:{hash:r,inviteInfo:i.invite}},o),(0,w.UF)(e)}}),(0,w.aJ)("openChatByPhoneNumber",async(e,t,n)=>{const{phoneNumber:r,startAttach:o,attach:s,text:a,tabId:c=(0,u.g0)()}=n;t.openChat({id:i.Xab,tabId:c});const l=await async function(e,t){e=(0,w.mS)();const n=(0,A.gTO)(e,t);if(n&&!n.isMin)return(0,A.hds)(e,n.id);const{chat:r,user:o}=await(0,y.px)("getChatByPhoneNumber",t)||{};return r?(e=(0,w.mS)(),e=(0,S.wix)(e,r.id,r),o&&(e=(0,S.TKu)(e,o.id,o)),(0,w.UF)(e),r):void 0}(e,r);if(!l)return t.openPreviousChat({tabId:c}),void t.showNotification({message:p.yE("lng_username_by_phone_not_found").replace("{phone}",r),tabId:c});a?t.openChatWithDraft({chatId:l.id,text:{text:a},tabId:c}):t.openChat({id:l.id,tabId:c}),s&&$(e=(0,w.mS)(),t,l.id,s,o,c)}),(0,w.aJ)("openTelegramLink",async(e,t,n)=>{const{url:r,shouldIgnoreCache:o,tabId:s=(0,u.g0)()}=n,{openChatByPhoneNumber:l,checkChatInvite:d,openStickerSet:f,openChatWithDraft:h,joinVoiceChatByLink:p,openInvoice:g,checkChatlistInvite:m,openChatByUsername:b,openStoryViewerByUsername:v,checkGiftCode:_}=t;if((0,c.zq)(r)&&((0,a._)(r)||r.match(i.bnE)))return;const S=new URL(r.toLowerCase().startsWith("http")?r:`https://${r}`);if(i.G38.has(S.hostname)&&"/"===S.pathname)return void window.open(S.toString(),"_blank","noopener");const x=(i.G38.has(S.hostname)?"t.me":S.hostname).split(".");if(x.length>3)return;const I=S.pathname.replace(/^\/?s\//,""),C=3===x.length?`${x[0]}/${I}`:I,[k,E,T]=C.split("/").filter(Boolean).map(e=>decodeURI(e)),P=Object.fromEntries(S.searchParams);let M;"joinchat"===k&&(M=E);const O="s"===E&&(Number(T)||void 0);if(k.match(/^\+([0-9]+)(\?|$)/))return void l({phoneNumber:k.substr(1,k.length-1),startAttach:P.startattach,attach:P.attach,text:P.text,tabId:s});if(O)return void v({username:k,storyId:O,tabId:s});if((k.startsWith(" ")||k.startsWith("+"))&&(M=k.substr(1,k.length-1)),M)return void d({hash:M,tabId:s});if("addstickers"===k||"addemoji"===k)return void f({stickerSetInfo:{shortName:E},shouldIgnoreCache:o,tabId:s});if("share"===k)return void h({text:(0,a.E)(P.url,P.text),tabId:s});if("addlist"===k)return void m({slug:E,tabId:s});if("giftcode"===k)return void _({slug:E,tabId:s});const D=E||void 0,R=T?Number(T):void 0,N=P.comment?Number(P.comment):void 0,L=await async function(e,t,n){if(!t||!n)return!1;e=(0,w.mS)();const r=await F(e,t);e=(0,w.mS)();const o=r&&(0,A.mBe)(e,r.id),i=o&&await(0,y.px)("fetchBotApp",{bot:o,appName:n});return Boolean(i)}(e,k,E),B=k&&!E||Number.isInteger(Number(E))||L;P.hasOwnProperty("voicechat")||P.hasOwnProperty("livestream")?p({username:k,inviteHash:P.voicechat||P.livestream,tabId:s}):k.startsWith("$")?g({type:"slug",slug:k.substring(1),tabId:s}):"invoice"===k?g({type:"slug",slug:E,tabId:s}):B?b({username:k,messageId:R||Number(D),threadId:R?Number(D):void 0,commentId:N,startParam:P.start,startAttach:P.startattach,attach:P.attach,startApp:P.startapp,mode:P.mode,originalParts:[k,E,T],tabId:s}):t.openUrl({url:r,shouldSkipModal:!0,tabId:s,ignoreDeepLinks:!0})}),(0,w.aJ)("processBoostParameters",async(e,t,n)=>{const{usernameOrId:r,isPrivate:o,tabId:i=(0,u.g0)()}=n;let s;if(o){if(s=(0,A.hds)(e,r),!s)return void t.showNotification({message:{key:"PrivateChannelInaccessible"},tabId:i})}else if(s=await F(e,r),!s)return void t.showNotification({message:{key:"NoUsernameFound"},tabId:i});(0,_.WX)(s)||(0,_.Vs)(s)?t.openBoostModal({chatId:s.id,tabId:i}):t.openChat({id:s.id,tabId:i})}),(0,w.aJ)("acceptChatInvite",async(e,t,n)=>{const{hash:r,tabId:o=(0,u.g0)()}=n,i=await(0,y.px)("importChatInvite",{hash:r});i&&t.openChat({id:i.id,tabId:o})}),(0,w.aJ)("openChatByUsername",async(e,t,n)=>{const{username:r,messageId:o,commentId:s,startParam:a,startAttach:c,attach:l,threadId:d,originalParts:f,startApp:h,shouldStartMainApp:p,mode:g,text:y,onChatChanged:b,choose:v,ref:_,timestamp:S,tabId:x=(0,u.g0)()}=n,I=(0,A.meB)(e,x),C=f?.[1],k=C&&!Number(C)&&!f?.[2];if(!s){if(void 0===c&&o&&!a&&!_&&I?.usernames?.some(e=>e.username===r))return void t.focusMessage({chatId:I.id,threadId:d,messageId:o,timestamp:S,tabId:x});if(void 0!==c&&v)return void t.processAttachBotParameters({username:r,filter:v,startParam:c||h,tabId:x});if(void 0!==h&&!C||p){const n=(0,m.A)(),o=await F(e,r);e=(0,w.mS)();const i=o&&(0,A.mBe)(e,o.id);if(!o||!i?.hasMainMiniApp)return;return void t.requestMainWebView({botId:o.id,peerId:I?.id||o.id,theme:n,startParam:h,mode:g,tabId:x})}if(!k)return await async function(e,t,n,...[r=(0,u.g0)()]){const{username:o,threadId:s,channelPostId:a,startParam:c,ref:l,startAttach:d,attach:f,text:h,timestamp:p}=n,g=(0,A.meB)(e,r);if(void 0!==d&&!f){const n=await L(e,t,o,r);if(!n)return;return void t.callAttachBot({bot:n,chatId:g?.id||n.id,startParam:d,tabId:r})}const m=g?.usernames?.some(e=>e.username===o);m||t.openChat({id:i.Xab,tabId:r});const y=e.appConfig?.starRefStartPrefixes;let b=l;if(c&&y?.length){const e=y.find(e=>c.startsWith(e));e&&(b=c.slice(e.length))}const v=await F(e,o,b);v?B(e,t,v,{isCurrentChat:m,threadId:s,messageId:a,startParam:c,referrer:b,startAttach:d,attach:f,text:h,timestamp:p},r):m||(t.openPreviousChat({tabId:r}),t.showNotification({message:"User does not exist",tabId:r}))}(e,t,{username:r,threadId:d,channelPostId:o,startParam:a,ref:_,startAttach:c,attach:l,text:y,timestamp:S},x),void(b&&t[b.action](b.payload))}const E=(0,A.qn$)(e,r);if(s&&o&&E)return t.openThread({isComments:!0,originChannelId:E.id,originMessageId:o,tabId:x,focusMessageId:s}),void(S&&t.openMediaFromTimestamp({chatId:E.id,messageId:s,timestamp:S,tabId:x}));k||t.openChat({id:i.Xab,tabId:x});const T=await F(e,r);if(T){if(k&&T){const e=(0,m.A)();return void t.requestAppWebView({appName:C,botId:T.id,tabId:x,startApp:h,mode:g,theme:e})}o&&(t.openThread({isComments:!0,originChannelId:T.id,originMessageId:o,tabId:x,focusMessageId:s}),S&&t.openMediaFromTimestamp({chatId:T.id,messageId:s||o,timestamp:S,tabId:x}),b&&t[b.action](b.payload))}}),(0,w.aJ)("openPrivateChannel",(e,t,n)=>{const{id:r,commentId:o,messageId:i,threadId:s,timestamp:a,tabId:c=(0,u.g0)()}=n,l=(0,A.hds)(e,r);l?o||i||s?(a&&t.openMediaFromTimestamp({chatId:r,messageId:o||i,timestamp:a,tabId:c}),o&&i?t.openThread({isComments:!0,originChannelId:r,originMessageId:i,tabId:c,focusMessageId:o}):B(e,t,l,{messageId:i,threadId:s,timestamp:a},c)):t.openChat({id:r,tabId:c}):t.showNotification({message:{key:"PrivateChannelInaccessible"},tabId:c})}),(0,w.aJ)("togglePreHistoryHidden",async(e,t,n)=>{const{chatId:r,isEnabled:o,tabId:i=(0,u.g0)()}=n,s=await j(e,t,r,i);s&&(e=(0,w.mS)(),e=(0,S.ltr)(e,s.id,{isPreHistoryHidden:o}),(0,w.UF)(e),(0,y.px)("togglePreHistoryHidden",{chat:s,isEnabled:o}))}),(0,w.aJ)("updateChatDefaultBannedRights",(e,t,n)=>{const{chatId:r,bannedRights:o}=n,i=(0,A.hds)(e,r);i&&(0,y.px)("updateChatDefaultBannedRights",{chat:i,bannedRights:o})}),(0,w.aJ)("updateChatMemberBannedRights",async(e,t,n)=>{const{chatId:r,userId:o,bannedRights:i,tabId:s=(0,u.g0)()}=n,a=(0,A.mBe)(e,o);if(!a)return;const c=await j(e,t,r,s);if(!c)return;await(0,y.px)("updateChatMemberBannedRights",{chat:c,user:a,bannedRights:i}),e=(0,w.mS)();const l=(0,A.AWZ)(e,c.id);if(!l)return;const{members:d,kickedMembers:f}=l,h=Boolean(i.viewMessages),p=!Object.keys(i).length;e=(0,S.ltr)(e,c.id,{...d&&h&&{members:d.filter(e=>e.userId!==o)},...d&&!h&&{members:d.map(e=>e.userId===o?{...e,bannedRights:i}:e)},...p&&f&&{kickedMembers:f.filter(e=>e.userId!==o)}}),(0,w.UF)(e)}),(0,w.aJ)("updateChatAdmin",async(e,t,n)=>{if((0,A.trm)(e))return;const{chatId:r,userId:o,adminRights:i,customTitle:s,tabId:a=(0,u.g0)()}=n,c=(0,A.mBe)(e,o);if(!c)return;const l=await j(e,t,r,a);if(!l)return;await(0,y.px)("updateChatAdmin",{chat:l,user:c,adminRights:i,customTitle:s});const d=await(0,y.px)("fetchFullChat",l);if(!d?.fullInfo)return;const{adminMembersById:f}=d.fullInfo,h=!Object.keys(i).length;let p;if(f)if(h){const{[o]:e,...t}=f;p=t}else p={...f,[o]:{...f[o],adminRights:i,customTitle:s}};p&&(e=(0,w.mS)(),e=(0,S.ltr)(e,l.id,{adminMembersById:p}),(0,w.UF)(e))}),(0,w.aJ)("updateChat",async(e,t,n)=>{const{chatId:r,title:i,about:s,photo:a,tabId:c=(0,u.g0)()}=n,l=(0,A.hds)(e,r),d=(0,A.AWZ)(e,r);l&&(e=(0,w.mS)(),e=(0,S.G42)(e,o.TD.InProgress,c),(0,w.UF)(e),await Promise.all([l.title!==i?(0,y.px)("updateChatTitle",l,i):void 0,d?.about!==s?(0,y.px)("updateChatAbout",l,s):void 0,a?(0,y.px)("editChatPhoto",{chatId:r,accessHash:l.accessHash,photo:a}):void 0]),e=(0,w.mS)(),e=(0,S.G42)(e,o.TD.Complete,c),(0,w.UF)(e),a&&t.loadFullChat({chatId:r,withPhotos:!0}))}),(0,w.aJ)("updateChatPhoto",async(e,t,n)=>{const{photo:r,chatId:o}=n,i=(0,A.hds)(e,o);i&&(await(0,y.px)("editChatPhoto",{chatId:o,accessHash:i.accessHash,photo:r}),t.loadFullChat({chatId:o,withPhotos:!0}))}),(0,w.aJ)("deleteChatPhoto",async(e,t,n)=>{const{photo:r,chatId:o}=n,i=(0,A.hds)(e,o);if(!i)return;let s;s=r.id===i.avatarPhotoId?await(0,y.px)("editChatPhoto",{chatId:o,accessHash:i.accessHash}):await(0,y.px)("deleteProfilePhotos",[r]),s&&(e=(0,w.mS)(),e=(0,S.sol)(e,o,r.id),(0,w.UF)(e),t.loadFullChat({chatId:o,withPhotos:!0}))}),(0,w.aJ)("toggleSignatures",(e,t,n)=>{const{chatId:r,areProfilesEnabled:o,areSignaturesEnabled:i}=n,s=(0,A.hds)(e,r);s&&(0,y.px)("toggleSignatures",{chat:s,areProfilesEnabled:o,areSignaturesEnabled:i})}),(0,w.aJ)("loadGroupsForDiscussion",async e=>{const t=await(0,y.px)("fetchGroupsForDiscussion");if(!t)return;const n=t.reduce((e,t)=>(t&&!t.isForum&&(e[t.id]=t),e),{});e=(0,w.mS)(),e={...e,chats:{...e.chats,forDiscussionIds:Object.keys(n)}},(0,w.UF)(e)}),(0,w.aJ)("linkDiscussionGroup",async(e,t,n)=>{if((0,A.trm)(e))return;const{channelId:r,chatId:o,tabId:i=(0,u.g0)()}=n||{},s=(0,A.hds)(e,r);if(!s)return;const a=await j(e,t,o,i);if(!a)return;let c=(0,A.AWZ)(e,a.id);if(!c){const e=await(0,y.px)("fetchFullChat",a);if(!e)return;c=e.fullInfo}c.isPreHistoryHidden&&(e=(0,w.mS)(),e=(0,S.ltr)(e,a.id,{isPreHistoryHidden:!1}),(0,w.UF)(e),await(0,y.px)("togglePreHistoryHidden",{chat:a,isEnabled:!1})),(0,y.px)("setDiscussionGroup",{channel:s,chat:a})}),(0,w.aJ)("unlinkDiscussionGroup",async(e,t,n)=>{const{channelId:r}=n,o=(0,A.hds)(e,r);if(!o)return;const i=(0,A.AWZ)(e,r);let s;i?.linkedChatId&&(s=(0,A.hds)(e,i.linkedChatId)),await(0,y.px)("setDiscussionGroup",{channel:o}),s&&N(e=(0,w.mS)(),t,s)}),(0,w.aJ)("setActiveChatFolder",(e,t,n)=>{const{activeChatFolder:r,tabId:o=(0,u.g0)()}=n;if(!(r+1>(0,k.d)(e,"dialogFilters")))return(0,I.w)(e,{activeChatFolder:r},o);t.openLimitReachedModal({limit:"dialogFilters",tabId:o})}),(0,w.aJ)("resetOpenChatWithDraft",(e,t,n)=>{const{tabId:r=(0,u.g0)()}=n||{};return(0,I.w)(e,{requestedDraft:void 0},r)}),(0,w.aJ)("loadMoreMembers",async(e,t,n)=>{const{chatId:r}=n||{};if((0,A.trm)(e))return;const o=(0,A.hds)(e,r);if(!o||(0,_.yn)(o)||(0,_.Ve)(o))return;const i=(0,A.AWZ)(e,o.id)?.members?.length;if(void 0!==i&&void 0!==o.membersCount&&i>=o.membersCount)return;const s=await(0,y.px)("fetchMembers",{chat:o,offset:i});if(!s)return;const{members:a,userStatusesById:c}=s;a&&a.length&&(e=(0,w.mS)(),e=(0,S.d2X)(e,c),e=(0,S.t_k)(e,o,a),(0,w.UF)(e))}),(0,w.aJ)("addChatMembers",async(e,t,n)=>{const{chatId:r,memberIds:i,tabId:s=(0,u.g0)()}=n,a=(0,A.hds)(e,r),c=i.map(t=>(0,A.mBe)(e,t)).filter(Boolean);if(!a||!c.length)return;t.setNewChatMembersDialogState({newChatMembersProgress:o.D7.Loading,tabId:s});const l=await(0,y.px)("addChatMembers",a,c);l&&(e=(0,w.mS)(),e=(0,S.hQe)(e,r,l,s),(0,w.UF)(e)),t.setNewChatMembersDialogState({newChatMembersProgress:o.D7.Closed,tabId:s}),N(e=(0,w.mS)(),t,a)}),(0,w.aJ)("deleteChatMember",async(e,t,n)=>{const{chatId:r,userId:o}=n,i=(0,A.hds)(e,r),s=(0,A.mBe)(e,o);i&&s&&(await(0,y.px)("deleteChatMember",i,s),N(e=(0,w.mS)(),t,i))}),(0,w.aJ)("toggleIsProtected",(e,t,n)=>{const{chatId:r,isProtected:o}=n,i=(0,A.hds)(e,r);i&&(0,y.px)("toggleIsProtected",{chat:i,isProtected:o})}),(0,w.aJ)("setChatEnabledReactions",async(e,t,n)=>{const{chatId:r,enabledReactions:o,reactionsLimit:i}=n,s=(0,A.hds)(e,r);s&&(await(0,y.px)("setChatEnabledReactions",{chat:s,enabledReactions:o,reactionsLimit:i}),N(e=(0,w.mS)(),t,s))}),(0,w.aJ)("fetchChat",(e,t,n)=>{const{chatId:r}=n;if(!(0,A.hds)(e,r))if((0,A.nZ4)(e,r))(0,y.px)("fetchChat",{type:"self"});else{const t=(0,A.mBe)(e,r);t&&(0,y.px)("fetchChat",{type:"user",user:t})}}),(0,w.aJ)("toggleJoinToSend",async(e,t,n)=>{const{chatId:r,isEnabled:o}=n,i=(0,A.hds)(e,r);i&&((0,_.Vs)(i)||(0,_.WX)(i))&&await(0,y.px)("toggleJoinToSend",i,o)}),(0,w.aJ)("toggleJoinRequest",async(e,t,n)=>{const{chatId:r,isEnabled:o}=n,i=(0,A.hds)(e,r);i&&((0,_.Vs)(i)||(0,_.WX)(i))&&await(0,y.px)("toggleJoinRequest",i,o)}),(0,w.aJ)("openForumPanel",(e,t,n)=>{const{chatId:r,tabId:o=(0,u.g0)()}=n;return t.toggleStoryRibbon({isShown:!1,tabId:o}),t.toggleStoryRibbon({isShown:!1,isArchived:!0,tabId:o}),(0,I.w)(e,{forumPanelChatId:r},o)}),(0,w.aJ)("closeForumPanel",(e,t,n)=>{const{tabId:r=(0,u.g0)()}=n||{};return(0,I.w)(e,{forumPanelChatId:void 0},r)}),(0,w.aJ)("processAttachBotParameters",async(e,t,n)=>{const{username:r,filter:o,startParam:i,tabId:s=(0,u.g0)()}=n,a=await L(e,t,r,s);if(!a)return;if(!Boolean(o))return void t.callAttachBot({isFromSideMenu:!0,bot:a,startParam:i,tabId:s});e=(0,w.mS)();const{attachMenu:{bots:c}}=e;if(!c[a.id])return e=(0,I.w)(e,{requestedAttachBotInstall:{bot:a,onConfirm:{action:"requestAttachBotInChat",payload:{bot:a,filter:o,startParam:i}}}},s),void(0,w.UF)(e);t.requestAttachBotInChat({bot:a,filter:o,startParam:i,tabId:s})}),(0,w.aJ)("loadTopics",async(e,t,n)=>{if((0,A.trm)(e))return;const{chatId:r,force:o}=n;if((0,A.trm)(e))return;const s=(0,A.hds)(e,r);if(!s)return;const a=(0,A.xyP)(e,r);if(!o&&a?.listedTopicIds&&a.listedTopicIds.length===a.totalCount)return;const c=o?void 0:a?.listedTopicIds?.reduce((t,n)=>{const o=(0,A.S0q)(e,r,n),i=(0,A.S0q)(e,r,t);return o&&(!i||o.lastMessageId<i.lastMessageId)?n:t}),{id:l,date:u,lastMessageId:d}=c&&(0,A.S0q)(e,r,c)||{},f=await(0,y.px)("fetchTopics",{chat:s,offsetTopicId:l,offsetId:d,offsetDate:u,limit:l?i.iIc:i.qj6});f&&(e=(0,w.mS)(),e=(0,S.KcS)(e,f.messages),e=(0,S.mIA)(e,r,f.count,f.topics),e=(0,S.Y4o)(e,r,f.topics.map(e=>e.id)),Object.entries(f.draftsById||{}).forEach(([t,n])=>{e=(0,S.eww)(e,r,Number(t),"draft",n)}),Object.entries(f.readInboxMessageIdByTopicId||{}).forEach(([t,n])=>{e=(0,S.eAk)(e,r,Number(t),{lastReadInboxMessageId:n})}),(0,w.UF)(e))}),(0,w.aJ)("loadTopicById",async(e,t,n)=>{const{chatId:r,topicId:o}=n,i=(0,A.hds)(e,r);if(!i)return;const s=await(0,y.px)("fetchTopicById",{chat:i,topicId:o});if(s)e=(0,w.mS)(),e=(0,S.KcS)(e,s.messages),e=(0,S.TwA)(e,r,o,s.topic),(0,w.UF)(e);else if("tabId"in n&&n.shouldCloseChatOnError){const{tabId:e=(0,u.g0)()}=n;t.openChat({id:void 0,tabId:e})}}),(0,w.aJ)("toggleForum",async(e,t,n)=>{const{chatId:r,isEnabled:o,tabId:i=(0,u.g0)()}=n,s=await j(e,t,r,i);if(!s)return;let a;try{a=await(0,y.px)("toggleForum",{chat:s,isEnabled:o})}catch(e){"FLOOD"===e.message?t.showNotification({message:p.yE("FloodWait"),tabId:i}):t.showDialog({data:{...e,hasErrorKey:!0},tabId:i})}a&&(e=(0,w.mS)(),e=(0,S.wix)(e,s.id,{isForum:o}),(0,w.UF)(e),o?t.openForumPanel({chatId:s.id,tabId:i}):t.closeForumPanel({tabId:i}))}),(0,w.aJ)("toggleParticipantsHidden",async(e,t,n)=>{const{chatId:r,isEnabled:o}=n,i=(0,A.hds)(e,r);if(!i)return;const s=(0,A.AWZ)(e,i.id)?.areParticipantsHidden;e=(0,S.ltr)(e,r,{areParticipantsHidden:o}),(0,w.UF)(e),await(0,y.px)("toggleParticipantsHidden",{chat:i,isEnabled:o})||void 0===s||(e=(0,w.mS)(),e=(0,S.ltr)(e,r,{areParticipantsHidden:s}),(0,w.UF)(e))}),(0,w.aJ)("createTopic",async(e,t,n)=>{const{chatId:r,title:o,iconColor:i,iconEmojiId:s,tabId:a=(0,u.g0)()}=n,c=(0,A.hds)(e,r);if(!c)return;(0,A.nTw)(e,a).createTopicPanel&&(e=(0,I.w)(e,{createTopicPanel:{chatId:r,isLoading:!0}},a),(0,w.UF)(e));const l=await(0,y.px)("createTopic",{chat:c,title:o,iconColor:i,iconEmojiId:s});l&&t.openThread({chatId:r,threadId:l,shouldReplaceHistory:!0,tabId:a}),t.closeCreateTopicPanel({tabId:a})}),(0,w.aJ)("deleteTopic",async(e,t,n)=>{const{chatId:r,topicId:o}=n,i=(0,A.hds)(e,r);i&&(await(0,y.px)("deleteTopic",{chat:i,topicId:o}),e=(0,w.mS)(),e=(0,S.do9)(e,r,o),(0,w.UF)(e))}),(0,w.aJ)("editTopic",async(e,t,n)=>{const{chatId:r,topicId:o,tabId:i=(0,u.g0)(),...s}=n,a=(0,A.hds)(e,r),c=(0,A.S0q)(e,r,o);a&&c&&((0,A.nTw)(e,i).editTopicPanel&&(e=(0,I.w)(e,{editTopicPanel:{chatId:r,topicId:o,isLoading:!0}},i),(0,w.UF)(e)),await(0,y.px)("editTopic",{chat:a,topicId:o,...s})&&(e=(0,w.mS)(),e=(0,S.TwA)(e,r,o,s),(0,w.UF)(e),t.closeEditTopicPanel({tabId:i})))}),(0,w.aJ)("toggleTopicPinned",(e,t,n)=>{const{chatId:r,topicId:o,isPinned:i,tabId:s=(0,u.g0)()}=n,{topicsPinnedLimit:a}=e.appConfig||{},c=(0,A.hds)(e,r),l=(0,A.pSx)(e,r);c&&l&&a&&(i&&Object.values(l).filter(e=>e.isPinned).length>=a?t.showNotification({message:p.yE("LimitReachedPinnedTopics",a,"i"),tabId:s}):(0,y.px)("togglePinnedTopic",{chat:c,topicId:o,isPinned:i}))}),(0,w.aJ)("checkChatlistInvite",async(e,t,n)=>{const{slug:r,tabId:o=(0,u.g0)()}=n,i=await(0,y.px)("checkChatlistInvite",{slug:r});i?(e=(0,w.mS)(),e=(0,I.w)(e,{chatlistModal:{invite:i.invite}},o),(0,w.UF)(e)):t.showNotification({message:p.yE("lng_group_invite_bad_link"),tabId:o})}),(0,w.aJ)("joinChatlistInvite",async(e,t,n)=>{const{invite:r,peerIds:o,tabId:i=(0,u.g0)()}=n,s=o.map(t=>(0,A.hds)(e,t)).filter(Boolean),a=s.filter(e=>e.isNotJoined).length,c="folderId"in r?(0,A.$aQ)(e,r.folderId):void 0,l="title"in r?r.title:c?.title;try{if(!await(0,y.px)("joinChatlistInvite",{slug:r.slug,peers:s}))return;if(c)return void t.showNotification({title:{key:"FolderLinkNotificationUpdatedTitle",variables:{title:l.text}},message:{key:"FolderLinkNotificationUpdatedSubtitle",variables:{count:a},options:{pluralValue:a}},tabId:i});t.showNotification({title:{key:"FolderLinkNotificationAddedTitle",variables:{title:l.text}},message:{key:"FolderLinkNotificationAddedSubtitle",variables:{count:a},options:{pluralValue:a}},tabId:i})}catch(e){"CHATLISTS_TOO_MUCH"===e.message?t.openLimitReachedModal({limit:"chatlistJoined",tabId:i}):t.showDialog({data:{...e,hasErrorKey:!0},tabId:i})}}),(0,w.aJ)("leaveChatlist",async(e,t,n)=>{const{folderId:r,peerIds:o,tabId:i=(0,u.g0)()}=n,s=(0,A.$aQ)(e,r),a=o?.map(t=>(0,A.hds)(e,t)).filter(Boolean)||[];await(0,y.px)("leaveChatlist",{folderId:r,peers:a})&&s&&t.showNotification({title:{key:"FolderLinkNotificationDeletedTitle",variables:{title:s.title.text}},message:{key:"FolderLinkNotificationDeletedSubtitle",variables:{count:a.length},options:{pluralValue:a.length}},tabId:i})}),(0,w.aJ)("loadChatlistInvites",async(e,t,n)=>{const{folderId:r}=n,o=await(0,y.px)("fetchChatlistInvites",{folderId:r});o&&(e=(0,w.mS)(),e={...e,chatFolders:{...e.chatFolders,invites:{...e.chatFolders.invites,[r]:o.invites}}},(0,w.UF)(e))}),(0,w.aJ)("createChatlistInvite",async(e,t,n)=>{const{folderId:r,tabId:i=(0,u.g0)()}=n,s=(0,A.$aQ)(e,r);if(!s)return;let a;e=(0,I.w)(e,{shareFolderScreen:{...(0,A.nTw)(e,i).shareFolderScreen,isLoading:!0}},i),(0,w.UF)(e);try{a=await(0,y.px)("createChalistInvite",{folderId:r,peers:s.includedChatIds.concat(s.pinnedChatIds||[]).map(t=>(0,A.hds)(e,t)||(0,A.mBe)(e,t)).filter(Boolean)})}catch(e){T.has(e.message)?(t.openLimitReachedModal({limit:"chatlistInvites",tabId:i}),t.openSettingsScreen({screen:o.VS.Folders,tabId:i})):t.showDialog({data:{...e,hasErrorKey:!0},tabId:i})}if(!a||!a.invite)return;const{shareFolderScreen:c}=(0,A.nTw)(e,i);c&&(e=(0,w.mS)(),e={...e,chatFolders:{...e.chatFolders,byId:{...e.chatFolders.byId,[r]:{...e.chatFolders.byId[r],...a.filter}},invites:{...e.chatFolders.invites,[r]:[...e.chatFolders.invites[r]||[],a.invite]}}},e=(0,I.w)(e,{shareFolderScreen:{...c,url:a.invite.url,isLoading:!1}},i),(0,w.UF)(e))}),(0,w.aJ)("editChatlistInvite",async(e,t,n)=>{const{folderId:r,peerIds:o,url:i,tabId:s=(0,u.g0)()}=n,a=i.split("/").pop();if(!a)return;const c=o.map(t=>(0,A.hds)(e,t)||(0,A.mBe)(e,t)).filter(Boolean);e=(0,I.w)(e,{shareFolderScreen:{...(0,A.nTw)(e,s).shareFolderScreen,isLoading:!0}},s),(0,w.UF)(e);try{const t=await(0,y.px)("editChatlistInvite",{folderId:r,slug:a,peers:c});if(!t)return;e=(0,w.mS)(),e={...e,chatFolders:{...e.chatFolders,invites:{...e.chatFolders.invites,[r]:e.chatFolders.invites[r]?.map(e=>e.url===i?t:e)}}},(0,w.UF)(e)}catch(e){t.showDialog({data:{...e,hasErrorKey:!0},tabId:s})}finally{e=(0,w.mS)(),e=(0,I.w)(e,{shareFolderScreen:{...(0,A.nTw)(e,s).shareFolderScreen,isLoading:!1}},s),(0,w.UF)(e)}}),(0,w.aJ)("deleteChatlistInvite",async(e,t,n)=>{const{folderId:r,url:o}=n,i=o.split("/").pop();i&&await(0,y.px)("deleteChatlistInvite",{folderId:r,slug:i})&&(e=(0,w.mS)(),e={...e,chatFolders:{...e.chatFolders,invites:{...e.chatFolders.invites,[r]:e.chatFolders.invites[r]?.filter(e=>e.url!==o)}}},(0,w.UF)(e))}),(0,w.aJ)("openDeleteChatFolderModal",async(e,t,n)=>{const{folderId:r,isConfirmedForChatlist:o,tabId:i=(0,u.g0)()}=n,s=(0,A.$aQ)(e,r);if(s){if(s.isChatList&&(!s.hasMyInvites||o)){const t=(0,d.YA)(r),n=await(0,y.px)("fetchLeaveChatlistSuggestions",{folderId:r});return e=(0,w.mS)(),e=(0,I.w)(e,{chatlistModal:{removal:{folderId:r,suggestedPeerIds:(0,f.Am)([...n||[],...t||[]])}}},i),void(0,w.UF)(e)}e=(0,I.w)(e,{deleteFolderDialogModal:r},i),(0,w.UF)(e)}}),(0,w.aJ)("updateChatDetectedLanguage",(e,t,n)=>{const{chatId:r,detectedLanguage:o}=n;return e=(0,w.mS)(),(0,S.wix)(e,r,{detectedLanguage:o},void 0,!0)}),(0,w.aJ)("togglePeerTranslations",async(e,t,n)=>{const{chatId:r,isEnabled:o}=n,i=(0,A.hds)(e,r);i&&void 0!==await(0,y.px)("togglePeerTranslations",{chat:i,isEnabled:o})&&(e=(0,w.mS)(),e=(0,S.zTz)(e,r,{isTranslationDisabled:!o||void 0}),(0,w.UF)(e))}),(0,w.aJ)("setViewForumAsMessages",(e,t,n)=>{const{chatId:r,isEnabled:o}=n,i=(0,A.hds)(e,r);i?.isForum&&i.isForumAsMessages!==o&&(e=(0,S.wix)(e,r,{isForumAsMessages:o||void 0}),(0,w.UF)(e),(0,y.px)("setViewForumAsMessages",{chat:i,isEnabled:o}))}),(0,w.aJ)("loadChannelRecommendations",async(e,t,n)=>{if((0,A.trm)(e))return;const{chatId:r}=n,o=r?(0,A.hds)(e,r):void 0;if(r&&!o)return;if(!r&&(0,A.dg4)(e,i.rBM))return;const s=await(0,y.px)("fetchChannelRecommendations",{chat:o});if(!s)return;const{similarChannels:a,count:c}=s,l=(0,f.dU)(a,"id");e=(0,w.mS)(),e=(0,S.czZ)(e,r||i.rBM,Object.keys(l),c),(0,w.UF)(e)}),(0,w.aJ)("loadBotRecommendations",async(e,t,n)=>{if((0,A.trm)(e))return;const{userId:r}=n,o=(0,A.hds)(e,r);if(!o)return;const i=await(0,y.px)("fetchBotsRecommendations",{user:o});if(!i)return;const{similarBots:s,count:a}=i,c=(0,f.dU)(s,"id");e=(0,w.mS)(),e=(0,S.g18)(e,c),e=(0,S.tNY)(e,r,Object.keys(c),a),(0,w.UF)(e)}),(0,w.aJ)("toggleChannelRecommendations",(e,t,n)=>{const{chatId:r}=n;(0,A.hds)(e,r)&&(e=(0,S.Cbr)(e,r),(0,w.UF)(e))}),(0,w.aJ)("updatePaidMessagesPrice",async(e,t,n)=>{const{chatId:r,paidMessagesStars:i,tabId:s=(0,u.g0)()}=n,a=r?(0,A.hds)(e,r):void 0;a&&(e=(0,S.G42)(e,o.TD.InProgress,s),(0,w.UF)(e),await(0,y.px)("updatePaidMessagesPrice",{chat:a,paidMessagesStars:i})&&(e=(0,w.mS)(),e=(0,S.G42)(e,o.TD.Complete,s),e=(0,S.wix)(e,r,{paidMessagesStars:i}),(0,w.UF)(e)))}),(0,w.aJ)("toggleAutoTranslation",async(e,t,n)=>{const{chatId:r,isEnabled:o}=n,i=(0,A.hds)(e,r);i&&await(0,y.px)("toggleAutoTranslation",{chat:i,isEnabled:o})&&(e=(0,w.mS)(),e=(0,S.wix)(e,r,{hasAutoTranslation:o||void 0}),(0,w.UF)(e))}),(0,w.aJ)("resolveBusinessChatLink",async(e,t,n)=>{const{slug:r,tabId:o=(0,u.g0)()}=n,i=await(0,y.px)("resolveBusinessChatLink",{slug:r});if(!i)return void t.showNotification({message:p.yE("BusinessLink.ErrorExpired"),tabId:o});const{chatLink:s}=i;t.openChatWithDraft({chatId:s.chatId,text:s.text,tabId:o})}),(0,w.aJ)("requestCollectibleInfo",async(e,t,n)=>{const{type:r,collectible:o,peerId:i,tabId:a=(0,u.g0)()}=n;let c;if("phone"===r&&(c={phone:o}),"username"===r&&(c={username:o}),!c)return;const l=await(0,y.px)("fetchCollectionInfo",c);l?(e=(0,w.mS)(),e=(0,I.w)(e,{collectibleInfoModal:{...l,type:r,collectible:o,peerId:i}},a),(0,w.UF)(e)):(0,s.eM)(o)})},42385:(e,t,n)=>{"use strict";n.d(t,{Bo:()=>L,Jr:()=>k,Lj:()=>O,Mm:()=>$,ZJ:()=>D,bN:()=>T,e:()=>N,r2:()=>M,s1:()=>E,z0:()=>R});var r=n(84051),o=n(37932),i=n(23174),s=n(31481),a=n(70758),c=n(9716),l=n(60048),u=n(87894),d=n(4350),f=n(70934),h=n(37836),p=n(57751),g=n(13439),m=n(20714),y=n(17872),b=n(60919),v=n(43874);const _=(0,h.nF)(()=>(0,r.qF)(()=>F()),5e3,!1),w=()=>F(!0);let S,x=!1,I=!1;function A(e){return a.qc.set(d.pg,e)}function C(e){return a.qc.set(s.DUo,e)}function k(){return a.qc.get(s.DUo)}function E(){return a.qc.del(d.pg)}function T(){return a.qc.del(s.DUo)}function P(e){e?.passcode?.isScreenLocked&&localStorage.setItem(s.ozB,"true")}function M(){s.UuV||((0,g.aJ)("saveSession",()=>{x||(D(),w())}),(0,g.aJ)("reset",()=>{I=!0,E().finally(()=>{localStorage.removeItem(s.ozB),I=!1,x&&R()})}))}async function O(e){if(s.UuV)return;const t=await async function(e){s.Oig&&console.time("global-state-cache-read");const t=localStorage.getItem(d.pg),n=t?JSON.parse(t):void 0;n&&localStorage.removeItem(d.pg);let r=n||await a.qc.get(d.pg);const o=await k()||e.sharedState;r&&(r={...r,sharedState:o}),s.Oig&&console.timeEnd("global-state-cache-read"),r&&N(r,e);return{...e,...r,sharedState:{...o,...r?.sharedState}}}(e);return t.passcode.hasPasscode||(0,p.wr)()?(D(),t):void R()}function D(){x=!0,S=(0,h.yu)(w,!0),window.addEventListener("blur",w),(0,o.DW)(_)}function R(){x=!1,(0,o.Cn)(_),window.removeEventListener("blur",w),S&&S()}function N(e,t){try{!function(e,t){const n=e;e.settings.byKey={...t.settings.byKey,...e.settings.byKey},e.chatFolders={...t.chatFolders,...e.chatFolders},e.appConfig&&!e.appConfig.limits&&(e.appConfig.limits=s.dR$),e.chats.similarChannelsById||(e.chats.similarChannelsById=t.chats.similarChannelsById),e.chats.similarBotsById||(e.chats.similarBotsById=t.chats.similarBotsById),e.chats.lastMessageIds||(e.chats.lastMessageIds=t.chats.lastMessageIds),n?.appConfig?.peerColors&&(n.appConfig.peerColors=void 0,n.appConfig.darkPeerColors=void 0),e.fileUploads.byMessageKey||(e.fileUploads.byMessageKey={}),e.reactions||(e.reactions=t.reactions),e.quickReplies||(e.quickReplies=t.quickReplies),e.users.previewMediaByBotId||(e.users.previewMediaByBotId=t.users.previewMediaByBotId),e.chats.loadingParameters||(e.chats.loadingParameters=t.chats.loadingParameters),e.topBotApps||(e.topBotApps=t.topBotApps),e.reactions.defaultTags?.[0]?.type||(e.reactions=t.reactions),e.users.commonChatsById||(e.users.commonChatsById=t.users.commonChatsById),e.users.botAppPermissionsById||(e.users.botAppPermissionsById=t.users.botAppPermissionsById),e.chats.topicsInfoById||(e.chats.topicsInfoById=t.chats.topicsInfoById),e.messages.pollById||(e.messages.pollById=t.messages.pollById),e.settings.botVerificationShownPeerIds||(e.settings.botVerificationShownPeerIds=t.settings.botVerificationShownPeerIds),e.peers||(e.peers=t.peers),e.settings.accountDaysTtl||(e.settings.accountDaysTtl=t.settings.accountDaysTtl),e.cacheVersion||(e.cacheVersion=t.cacheVersion,e.messages=t.messages,e.chats.listIds=t.chats.listIds),e.messages.playbackByChatId||(e.messages.playbackByChatId=t.messages.playbackByChatId),e.cacheVersion<2&&(n.settings.themes.dark&&(n.settings.themes.dark.patternColor=t.settings.themes.dark.patternColor),n.settings.themes.light&&(n.settings.themes.light.patternColor=t.settings.themes.light.patternColor),e.cacheVersion=2),e.appConfig?.limits&&!e.appConfig.limits.moreAccounts&&(e.appConfig.limits.moreAccounts=s.dR$.moreAccounts),e.chats.notifyExceptionById||(e.chats.notifyExceptionById=t.chats.notifyExceptionById),e.sharedState||(e.sharedState=t.sharedState,e.sharedState.settings={canDisplayChatInTitle:n.settings.byKey.canDisplayChatInTitle,animationLevel:n.settings.byKey.animationLevel,messageSendKeyCombo:n.settings.byKey.messageSendKeyCombo,messageTextSize:n.settings.byKey.messageTextSize,performance:n.settings.performance,theme:n.settings.byKey.theme,timeFormat:n.settings.byKey.timeFormat,wasTimeFormatSetManually:n.settings.byKey.wasTimeFormatSetManually,shouldUseSystemTheme:n.settings.byKey.shouldUseSystemTheme,isConnectionStatusMinimized:n.settings.byKey.isConnectionStatusMinimized,shouldForceHttpTransport:n.settings.byKey.shouldForceHttpTransport,language:n.settings.byKey.language,languages:n.settings.languages,shouldSkipWebAppCloseConfirmation:n.settings.byKey.shouldSkipWebAppCloseConfirmation,miniAppsCachedPosition:n.settings.miniAppsCachedPosition,miniAppsCachedSize:n.settings.miniAppsCachedSize,shouldAllowHttpTransport:n.settings.byKey.shouldAllowHttpTransport,shouldCollectDebugLogs:n.settings.byKey.shouldCollectDebugLogs,shouldDebugExportedSenders:n.settings.byKey.shouldDebugExportedSenders,shouldWarnAboutSvg:n.settings.byKey.shouldWarnAboutSvg}),e.settings.themes||(e.settings.themes=t.settings.themes),e.messages.webPageById||(e.messages.webPageById=t.messages.webPageById);const r=e.sharedState.settings;r.wasAnimationLevelSetManually||(r.animationLevel=s.i11,r.performance=m.tS)}(e,t)}catch(e){console.error(e)}}function F(e){const t=(0,g.mS)();I||!x||t.isLoggingOut||!e&&(0,r.OV)()||L()}function L(e=!1){const t=(0,g.mS)(),{hasPasscode:n,isScreenLocked:r}=t.passcode;if(n){if(!r&&!e){const e=$(t);(0,f.yp)(void 0,e)}return P(t),A((0,y.nYM)(t,!1)),void C((0,y.i_d)(t.sharedState))}var o;P(t),A(B(t)),C((o=t.sharedState,{...o,settings:{...o.settings,languages:void 0},isInitial:void 0}))}function B(e){var t;return{...m.HB,...(0,u.Up)(e,["appConfig","config","authState","authPhoneNumber","authRememberMe","authNearestCountry","attachMenu","currentUserId","contactList","topPeers","topInlineBots","topBotApps","recentEmojis","recentCustomEmojis","push","serviceNotifications","attachmentSettings","leftColumnWidth","archiveSettings","mediaViewer","audioPlayer","shouldShowContextMenuHint","trustedBotIds","recentlyFoundChatIds","peerColors","savedReactionTags","timezones","availableEffectById"]),lastIsChatInfoShown:(0,v.Ny)()?void 0:e.lastIsChatInfoShown,customEmojis:j(e),users:U(e),chats:z(e),messages:V(e),settings:q(e),chatFolders:H(e),groupCalls:G(e),reactions:{...(0,u.Up)(e.reactions,["defaultTags","recentReactions","topReactions","effectReactions","hash"]),availableReactions:(t=e.reactions.availableReactions,t?.map(e=>(0,u.Up)(e,["reaction","staticIcon","title","isInactive"])))},passcode:(0,u.Up)(e.passcode,["isScreenLocked","hasPasscode","invalidAttemptsCount","timeoutUntil"])}}function $(e){return JSON.stringify(B(e))}function j(e){const{lastRendered:t,byId:n}=e.customEmojis,r=t.slice(0,s.GW0);return{byId:(0,u.Up)(n,r),lastRendered:r,forEmoji:{},added:{},statusRecent:{}}}function U(e){const{users:{byId:t,statusesById:n,fullInfoById:r,botAppPermissionsById:o},currentUserId:i}=e,a=(0,u.oE)(Object.values(e.byTabId).map(({id:t})=>(0,b.Xf0)(e,t))).map(({chatId:e})=>e).filter(e=>(0,c.L8)(e)),d=(0,u.Am)((0,u.oE)(Object.values(e.byTabId).flatMap(({id:t})=>(0,b.NHc)(e,t)?.map(e=>e.id)||[]))),f=a.flatMap(t=>Object.values((0,b.zeq)(e,t)||{})).map(t=>{const n=(0,b.k9R)(e,t);return t.content.storyData?.peerId||n?.story?.peerId}).filter(e=>Boolean(e)&&(0,c.L8)(e)),h=Object.keys(e.attachMenu?.bots||{}),p=(0,u.Am)([...i?[i]:[],...a,...f,...d||[],...h,...e.topPeers.userIds||[],...e.recentlyFoundChatIds?.filter(c.L8)||[],...(0,l.YA)(s._E9)?.slice(0,s.Q$7).filter(c.L8)||[],...(0,l.YA)(s.DSF)?.filter(c.L8)||[],...e.contactList?.userIds||[],...Object.keys(t)]).slice(0,s.CVv);return{...m.HB.users,byId:(0,u._E)(t,p),statusesById:(0,u._E)(n,p),fullInfoById:(0,u._E)(r,p),botAppPermissionsById:o}}function z(e){const{chats:{byId:t},currentUserId:n}=e,r=(0,u.oE)(Object.values(e.byTabId).map(({id:t})=>(0,b.Xf0)(e,t))).map(({chatId:e})=>e),o=(0,u.oE)(Object.values(e.byTabId).flatMap(({id:t})=>{const n=(0,b.Xf0)(e,t);if(!n)return;const r=(0,b.zeq)(e,n.chatId),o=(0,b.rA3)(e,n.chatId,n.threadId,t);return o?.map(t=>{const n=r[t];if(!n)return;const o=n.content,i=(0,b.k9R)(e,n),s="message"===n.replyInfo?.type&&n.replyInfo.replyToPeerId;return o.storyData?.peerId||i?.story?.peerId||s})})),i=[...n?[n]:[],...r,...o,...e.recentlyFoundChatIds||[],...(0,l.YA)(s._E9)?.slice(0,s.Q$7)||[],...(0,l.YA)(s.DSF)||[],...(0,l.YA)(s.pX9)||[],...Object.keys(t)];let a=[];for(const e of i){const n=t[e];n&&(a.push(e),n.linkedMonoforumId&&a.push(n.linkedMonoforumId))}return a=(0,u.Am)(a).slice(0,s.ViI),{...e.chats,similarChannelsById:{},similarBotsById:{},isFullyLoaded:{},notifyExceptionById:(0,u._E)(e.chats.notifyExceptionById,i),loadingParameters:m.HB.chats.loadingParameters,byId:(0,u._E)(e.chats.byId,i),fullInfoById:(0,u._E)(e.chats.fullInfoById,i),lastMessageIds:{all:(0,u._E)(e.chats.lastMessageIds.all||{},i),saved:e.chats.lastMessageIds.saved},topicsInfoById:(0,u._E)(e.chats.topicsInfoById,r)}}function V(e){const{currentUserId:t}=e,n={},r=(0,u.oE)(Object.values(e.byTabId).map(({id:t})=>(0,b.Xf0)(e,t))).map(({chatId:e})=>e),o=(0,u.oE)(Object.values(e.byTabId).map(({forumPanelChatId:e})=>e)),a=(0,u.Am)([...r,...t?[t]:[],...o,...(0,l.YA)(s.DSF)||[],...(0,l.YA)(s._E9)?.slice(0,s.Q$7)||[]]),c=Object.values(e.byTabId).reduce((t,{id:n})=>{const{chatId:r,threadId:o}=(0,b.Xf0)(e,n)||{};if(!r||!o||o===i.l3)return t;const s=t[r]||new Set;return s.add(o),t[r]=s,t},{}),d=[],f=[];return a.forEach(r=>{const s=e.messages.byChatId[r];if(!s)return;const a=(0,b.ZZX)(e,r),l=Array.from(c[r]||[]),h=Object.values(e.messages.byChatId[r].threadsById||{}).map(({threadInfo:e})=>e?.isCommentsInfo?e?.originMessageId:void 0).filter(Boolean),p=(0,u.Am)(l.concat(h)),g=(0,u._E)(s.threadsById,[i.l3,...p]),m=(0,u.Am)(Object.values(g).flatMap(e=>e.lastViewportIds||[])),y=(0,b.pSx)(e,r),v=y&&o.includes(r)?Object.values(y).map(({lastMessageId:e})=>e):[],_=r===t&&e.chats.lastMessageIds.saved?Object.values(e.chats.lastMessageIds.saved):[],w=[a].concat(v).concat(_).filter(Boolean),S=(0,u.Up)(s.byId,m.concat(w)),x=Object.keys(g).reduce((e,t)=>{const n=g[Number(t)];return e[Number(t)]={...n,listedIds:n.lastViewportIds,pinnedIds:void 0,typingStatus:void 0},e},{}),I=Object.values(S).reduce((e,t)=>{if(!t)return e;let n=function(e){const{photo:t,video:n,document:r,sticker:o}=e.content;return{...e,content:{...e.content,photo:t&&{...t,blobUrl:void 0},video:n&&{...n,blobUrl:void 0,previewBlobUrl:void 0},document:r&&{...r,previewBlobUrl:void 0},sticker:o&&{...o,isPreloadedGlobally:void 0}},previousLocalId:void 0}}(t);return n=function(e){return e.reactions?.results.length?{...e,reactions:{...e.reactions,results:e.reactions.results.map(e=>e.localAmount?{...e,localAmount:void 0}:e)}}:e}(n),e[t.id]=n,t.content.pollId&&d.push(t.content.pollId),t.content.webPage&&f.push(t.content.webPage.id),e},{});n[r]={byId:I,threadsById:x}}),{byChatId:n,pollById:(0,u._E)(e.messages.pollById,d),webPageById:(0,u._E)(e.messages.webPageById,f),sponsoredByChatId:{},playbackByChatId:{}}}function q(e){const{byKey:t,botVerificationShownPeerIds:n,notifyDefaults:r,lastPremiumBandwithNotificationDate:o,themes:i,accountDaysTtl:s}=e.settings;return{byKey:t,privacy:{},botVerificationShownPeerIds:n,lastPremiumBandwithNotificationDate:o,notifyDefaults:r,themes:i,accountDaysTtl:s}}function H(e){return{...e.chatFolders}}function G(e){return{...e.groupCalls,byId:{},activeGroupCallId:void 0}}},42452:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(84051),o=n(37836),i=n(17712);const s=(0,r.ph)(()=>{const[e,t]=(0,r.J0)([]),n=(0,r.Kr)(()=>(0,o.sg)(()=>{t([])},700,!1),[]),s=(0,i.A)(r=>{if(0!==r.button)return;const o=r.currentTarget,i=o.getBoundingClientRect(),s=o.offsetWidth/2;t([...e,{x:r.clientX-i.x-s/2,y:r.clientY-i.y-s/2,size:s}]),n()});return r.Ay.createElement("div",{className:"ripple-container",onMouseDown:s},e.map(({x:e,y:t,size:n})=>r.Ay.createElement("div",{className:"ripple-wave",style:`left: ${e}px; top: ${t}px; width: ${n}px; height: ${n}px;`})))})},42467:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=function(e){if(!e)return!1;if(e instanceof Element){if(e.offsetParent)return!0;if(e.getBBox){var t=e.getBBox(),n=t.width,r=t.height;if(n||r)return!0}if(e.getBoundingClientRect){var o=e.getBoundingClientRect(),i=o.width,s=o.height;if(i||s)return!0}}return!1}},43044:(e,t,n)=>{"use strict";n.d(t,{iV:()=>P,DV:()=>U,Yw:()=>X,S7:()=>H,qY:()=>W,CO:()=>te,K1:()=>G,eg:()=>K});var r=n(83649),o=n(31481),i=n(51580),s=n(4961),a=n(63495),c=n(70758),l=n(59607),u=n(46536);function d(e){let t,n=!1,r=!1;for(let o=0;o<e.length;o++){const i=e[o];if("\\"!==i)if('"'!==i||n){if("="===i&&!r){t=o;break}n=!1}else r=!r;else n=!n}if(void 0!==t&&t!==e.length-1)try{return[JSON.parse(e.slice(0,t)),JSON.parse(e.slice(t+1))]}catch(t){o.Oig&&console.error("Error parsing line:",e,t)}}const f="en",h=0,p="https://translations.telegram.org/en/weba";var g=n(14487),m=n(87894),y=n(98607),b=n(37836),v=n(9705),_=n(84947);const w={WrongNumber:"Wrong number?",SentAppCode:"We've sent the code to the **Telegram** app on your other device.",LoginJustSentSms:"We've sent you a code via SMS. Please enter it above.",LoginHeaderPassword:"Enter Password",LoginEnterPasswordDescription:"You have Two-Step Verification enabled, so your account is protected with an additional password.",StartText:"Please confirm your country code\nand enter your phone number.",LoginPhonePlaceholder:"Your phone number",LoginNext:"Next",LoginQRLogin:"Log in by QR Code",LoginQRTitle:"Log in to Telegram by QR Code",LoginQRHelp1:"Open Telegram on your phone",LoginQRHelp2:"Go to **Settings** > **Devices** > **Link Desktop Device**",LoginQRHelp3:"Point your phone at this screen to confirm login",LoginQRCancel:"Log in by phone Number",YourName:"Your Name",LoginRegisterDesc:"Enter your name and add a profile photo.",LoginRegisterFirstNamePlaceholder:"First Name",LoginRegisterLastNamePlaceholder:"Last Name",LoginSelectCountryTitle:"Country",CountryNone:"Country not found",PleaseEnterPassword:"Enter your new password",ErrorPhoneNumberInvalid:"Invalid phone number, please try again.",ErrorCodeInvalid:"Invalid code, please try again.",ErrorIncorrectPassword:"Invalid password, please try again.",ErrorPasswordFlood:"Too many attempts, please try again later.",ErrorPhoneBanned:"This phone number is banned.",ErrorFloodTime:"Too many attempts, please try again in {time}.",ErrorUnexpected:"Unexpected error",ErrorUnexpectedMessage:"Unexpected error: {error}"},S="langpack-",x="en",I=new _.A(400);let A,C,k,E,T=J();const{addCallback:P,removeCallback:M,runCallbacks:O}=(0,u.h)();let D=!1;function R(){D||(D=!0,(0,b.IJ)(()=>{O(),D=!1}))}const N=new v.A;function F(e){return c.qc.get(`${S}${e}`)}function L(e){return(0,l.yK)(e.language.langCode),c.qc.set(`${S}${e.language.langCode}`,e)}let B;async function $(){if(E||B)return;B=async function(e){let t;t=e?(await n.e(5269).then(n.t.bind(n,25269,23))).readFileSync("./src/assets/localization/fallback.strings","utf8"):(await n.e(695).then(n.t.bind(n,50695,17))).default;const r=function(e){const t=e.split(/;\r?\n?/),n={};for(const e of t){if(!e.startsWith('"'))continue;const[t,r]=d(e)||[];t&&r?(n[t]&&console.warn("Duplicate key:",t),n[t]=r):console.warn("Bad formatting in line:",e)}return n}(t),o={};Object.entries(r).forEach(([e,t])=>{const[n,r]=e.split("_");if(!r)return void(o[n]=t);const i=o[n]||{};i[r]=t,o[n]=i});const i={langCode:f,version:h,strings:o},s=Object.keys(o).length;return{langPack:i,language:{langCode:f,name:"English",nativeName:"English",pluralCode:f,stringsCount:s,translatedCount:s,translationsUrl:p}}}();const e=await B;E=e.langPack,I.clear(),A?(T=J(),R()):z(e.language)}async function j(){if(!k||!A)return void(o.Oig&&console.warn("[Localization] Trying to fetch difference without loaded data"));if(await g.T_,!(0,g.ve)())return;const e=await(0,i.px)("fetchLangDifference",{langPack:o.rgX,langCode:k.langCode,fromVersion:k.version});e&&U(e.version,e.strings,e.keysToRemove)}function U(e,t,n){if(!k||!A||e===k.version)return;const r={...k,version:e,strings:{...(0,m.cJ)(k.strings,n),...t}};q(r),L({langPack:r,language:A}),R()}function z(e){A=e,V(),T=J(),R()}function V(){if(!A)return;const e=A.pluralCode,t={format:e=>e.join(", "),formatToParts:e=>{const t=[];return e.forEach((e,n)=>{n>0&&t.push({type:"literal",value:", "}),t.push({type:"element",value:e})}),t}};function n(e,n){return a.Ld?new Intl.ListFormat(e,{type:n}):t}try{C={pluralRules:new Intl.PluralRules(e),region:new Intl.DisplayNames(e,{type:"region"}),conjunction:n(e,"conjunction"),disjunction:n(e,"disjunction"),number:new Intl.NumberFormat(e),preciseNumber:new Intl.NumberFormat(e,{minimumFractionDigits:0,maximumFractionDigits:10})}}catch(e){console.warn("Failed to create formatters:",e),C={pluralRules:new Intl.PluralRules(x),region:new Intl.DisplayNames(x,{type:"region"}),conjunction:n(x,"conjunction"),disjunction:n(x,"disjunction"),number:new Intl.NumberFormat(x),preciseNumber:new Intl.NumberFormat(x,{minimumFractionDigits:0,maximumFractionDigits:10})}}}function q(e){k=e,I.clear(),R()}async function H(e,t){if(A)return;const n=await F(e);n?(k=n.langPack,A=n.language,V(),j()):t&&await W(e),$(),T=J(),R(),N.resolve()}async function G(e){if((0,g.ve)())return;const t=await F(e);t&&(q(t.langPack),z(t.language))}async function W(e,t){if(t){const t=await F(e);if(t)return Y(t.language)}if(await g.T_,!(0,g.ve)())return;const n=await(0,i.px)("fetchLanguage",{langPack:o.rgX,langCode:e});if(n)return Y(n);o.Oig&&console.warn("Failed to fetch language",e)}function K(e){A?.langCode===e&&j()}async function Y(e){if(k&&A?.langCode===e.langCode)return;const t=await F(e.langCode);if(t)q(t.langPack),z(t.language),j();else{if(await g.T_,!(0,g.ve)())return;const t=await(0,i.px)("fetchLangPack",{langPack:o.rgX,langCode:e.langCode});if(!t)return void console.warn("Failed to fetch lang pack");q({langCode:e.langCode,version:t.version,strings:t.strings}),z(e),L({langPack:k,language:e})}document.documentElement.lang=e.baseLangCode||e.langCode,R()}function J(){const e=(e,t,n)=>n&&(0,r.Zh)(n)?ee(e,t,n):Q(e,t,n);return e.rawCode=A?.langCode||x,e.isRtl=A?.isRtl,e.code=A?.pluralCode||x,e.with=({key:e,variables:t,options:n})=>n&&(0,r.Zh)(n)?ee(e,t,n):Q(e,t,n),e.withRegular=({key:e,variables:t,options:n})=>Q(e,t,n),e.withAdvanced=({key:e,variables:t,options:n})=>ee(e,t,n),e.region=e=>C?.region.of(e),e.conjunction=e=>C?.conjunction.format(e)||e.join(", "),e.disjunction=e=>C?.disjunction.format(e)||e.join(", "),e.number=e=>C?.number.format(e)||String(e),e.preciseNumber=e=>C?.preciseNumber.format(e)||String(e),e.internalFormatters=C,e.languageInfo=A,e}function X(){return T}function Z(e,t){let n=k?.strings[e];if(n||E||$(),n||(n=E?.strings[e]),n||(n=w[e]),!n||(0,r.JR)(n))return;const o=C?.pluralRules.select(t)||"other";return(0,r.Qw)(n)?n[o]||n.other:n}function Q(e,t,n){const r=`${e}-${JSON.stringify(t)}-${JSON.stringify(n)}`;if(I.has(r))return I.get(r);const o=Z(e,n&&"pluralValue"in n?Number(n.pluralValue):0);if(!o)return e;const i=(t?Object.entries(t):[]).reduce((e,[t,n])=>{if(void 0===n)return e;"object"==typeof n&&(n=Q(n.key,n.variables,n.options));const r=Number.isFinite(n)?C.number.format(n):String(n);return e.replaceAll(`{${t}}`,r)},o);return I.set(r,i),i}function ee(e,t,n){const r=Z(e,n&&"pluralValue"in n?Number(n.pluralValue):0);if(!r)return e;const o=t?Object.entries(t):[];let i=[r];if(n?.specialReplacement&&(i=Object.entries(n.specialReplacement).reduce((e,[t,n])=>(0,y.t)(e,t,n),i)),n?.withMarkdown||n?.renderTextFilters){const e=n?.withMarkdown?(0,m.Am)((n.renderTextFilters||[]).concat(["simple_markdown","emoji"])):n.renderTextFilters;return i.flatMap(t=>"string"!=typeof t?t:(0,s.A)(t,e,{markdownPostProcessor:e=>o.reduce((e,[t,n])=>{if(void 0===n)return e;const r=Number.isFinite(n)?C.number.format(n):n;return(0,y.t)(e,`{${t}}`,(0,s.A)(r))},[e])}))}return o.reduce((e,[t,n])=>{if(void 0===n)return e;const r=Number.isFinite(n)?C.number.format(n):n;return(0,y.t)(e,`{${t}}`,(0,s.A)(r))},i)}const te=N.promise},43128:function(e,t,n){var r;e.exports=(r=n(19021),n(80754),n(84636),n(39506),n(57165),function(){var e=r,t=e.lib.BlockCipher,n=e.algo;const o=16,i=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],s=[[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946],[1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055],[3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504],[976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462]];var a={pbox:[],sbox:[]};function c(e,t){let n=t>>24&255,r=t>>16&255,o=t>>8&255,i=255&t,s=e.sbox[0][n]+e.sbox[1][r];return s^=e.sbox[2][o],s+=e.sbox[3][i],s}function l(e,t,n){let r,i=t,s=n;for(let t=0;t<o;++t)i^=e.pbox[t],s=c(e,i)^s,r=i,i=s,s=r;return r=i,i=s,s=r,s^=e.pbox[o],i^=e.pbox[17],{left:i,right:s}}var u=n.Blowfish=t.extend({_doReset:function(){if(this._keyPriorReset!==this._key){var e=this._keyPriorReset=this._key,t=e.words,n=e.sigBytes/4;!function(e,t,n){for(let t=0;t<4;t++){e.sbox[t]=[];for(let n=0;n<256;n++)e.sbox[t][n]=s[t][n]}let r=0;for(let o=0;o<18;o++)e.pbox[o]=i[o]^t[r],r++,r>=n&&(r=0);let o=0,a=0,c=0;for(let t=0;t<18;t+=2)c=l(e,o,a),o=c.left,a=c.right,e.pbox[t]=o,e.pbox[t+1]=a;for(let t=0;t<4;t++)for(let n=0;n<256;n+=2)c=l(e,o,a),o=c.left,a=c.right,e.sbox[t][n]=o,e.sbox[t][n+1]=a}(a,t,n)}},encryptBlock:function(e,t){var n=l(a,e[t],e[t+1]);e[t]=n.left,e[t+1]=n.right},decryptBlock:function(e,t){var n=function(e,t,n){let r,o=t,i=n;for(let t=17;t>1;--t)o^=e.pbox[t],i=c(e,o)^i,r=o,o=i,i=r;return r=o,o=i,i=r,i^=e.pbox[1],o^=e.pbox[0],{left:o,right:i}}(a,e[t],e[t+1]);e[t]=n.left,e[t+1]=n.right},blockSize:2,keySize:4,ivSize:2});e.Blowfish=t._createHelper(u)}(),r.Blowfish)},43145:(e,t,n)=>{"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}n.d(t,{A:()=>r})},43210:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(82284),o=n(68210);const i=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=new Set;return function e(t,s){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,c=i.has(t);if((0,o.Ay)(!c,"Warning: There may be circular references"),c)return!1;if(t===s)return!0;if(n&&a>1)return!1;i.add(t);var l=a+1;if(Array.isArray(t)){if(!Array.isArray(s)||t.length!==s.length)return!1;for(var u=0;u<t.length;u++)if(!e(t[u],s[u],l))return!1;return!0}if(t&&s&&"object"===(0,r.A)(t)&&"object"===(0,r.A)(s)){var d=Object.keys(t);return d.length===Object.keys(s).length&&d.every(function(n){return e(t[n],s[n],l)})}return!1}(e,t)}},43240:function(e,t,n){var r,o,i,s,a,c;e.exports=(r=n(19021),i=(o=r).lib,s=i.Base,a=i.WordArray,(c=o.x64={}).Word=s.extend({init:function(e,t){this.high=e,this.low=t}}),c.WordArray=s.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=null!=t?t:8*e.length},toX32:function(){for(var e=this.words,t=e.length,n=[],r=0;r<t;r++){var o=e[r];n.push(o.high),n.push(o.low)}return a.create(n,this.sigBytes)},clone:function(){for(var e=s.clone.call(this),t=e.words=this.words.slice(0),n=t.length,r=0;r<n;r++)t[r]=t[r].clone();return e}}),r)},43336:(e,t,n)=>{"use strict";n.d(t,{Bt:()=>o,Cc:()=>a,Ki:()=>c,LI:()=>i,RI:()=>s,qE:()=>r});const r=(e,t,n)=>Math.min(n,Math.max(t,e)),o=(e,t,n)=>e>=t&&e<=n,i=(e,t=0)=>Math.round(e*10**t)/10**t,s=(e,t=0)=>Math.floor(e*10**t)/10**t,a=(e,t,n)=>(1-n)*e+n*t;function c(e){return 2*Math.round(e/2)}},43503:(e,t,n)=>{"use strict";n.d(t,{A:()=>d,u:()=>u});var r=n(66644),o=n(96454),i=n(37836);let s=window.innerHeight,a=u();const c=(0,i.nF)(()=>{a=u()},250,!0),l=(0,i.nF)(()=>{s=window.innerHeight,c()},100,!1);function u(){let e;return e=o.pz?window.visualViewport.height+window.visualViewport.pageTop:window.innerHeight,(0,r.RK)(()=>{const t=.01*e;document.documentElement.style.setProperty("--vh",`${t}px`)}),{width:window.innerWidth,height:window.innerHeight}}window.addEventListener("orientationchange",l),o.pz?window.visualViewport.addEventListener("resize",c):window.addEventListener("resize",c);const d={get:()=>a,getIsKeyboardVisible:()=>s>a.height}},43591:(e,t,n)=>{"use strict";n.d(t,{A:()=>x});var r=function(){if("undefined"!=typeof Map)return Map;function e(e,t){var n=-1;return e.some(function(e,r){return e[0]===t&&(n=r,!0)}),n}return function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(t){var n=e(this.__entries__,t),r=this.__entries__[n];return r&&r[1]},t.prototype.set=function(t,n){var r=e(this.__entries__,t);~r?this.__entries__[r][1]=n:this.__entries__.push([t,n])},t.prototype.delete=function(t){var n=this.__entries__,r=e(n,t);~r&&n.splice(r,1)},t.prototype.has=function(t){return!!~e(this.__entries__,t)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(e,t){void 0===t&&(t=null);for(var n=0,r=this.__entries__;n<r.length;n++){var o=r[n];e.call(t,o[1],o[0])}},t}()}(),o="undefined"!=typeof window&&"undefined"!=typeof document&&window.document===document,i=void 0!==n.g&&n.g.Math===Math?n.g:"undefined"!=typeof self&&self.Math===Math?self:"undefined"!=typeof window&&window.Math===Math?window:Function("return this")(),s="function"==typeof requestAnimationFrame?requestAnimationFrame.bind(i):function(e){return setTimeout(function(){return e(Date.now())},1e3/60)},a=["top","right","bottom","left","width","height","size","weight"],c="undefined"!=typeof MutationObserver,l=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(e){var t=!1,n=!1,r=0;function o(){t&&(t=!1,e()),n&&a()}function i(){s(o)}function a(){var e=Date.now();if(t){if(e-r<2)return;n=!0}else t=!0,n=!1,setTimeout(i,20);r=e}return a}(this.refresh.bind(this))}return e.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},e.prototype.removeObserver=function(e){var t=this.observers_,n=t.indexOf(e);~n&&t.splice(n,1),!t.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},e.prototype.updateObservers_=function(){var e=this.observers_.filter(function(e){return e.gatherActive(),e.hasActive()});return e.forEach(function(e){return e.broadcastActive()}),e.length>0},e.prototype.connect_=function(){o&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),c?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){o&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(e){var t=e.propertyName,n=void 0===t?"":t;a.some(function(e){return!!~n.indexOf(e)})&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e}(),u=function(e,t){for(var n=0,r=Object.keys(t);n<r.length;n++){var o=r[n];Object.defineProperty(e,o,{value:t[o],enumerable:!1,writable:!1,configurable:!0})}return e},d=function(e){return e&&e.ownerDocument&&e.ownerDocument.defaultView||i},f=y(0,0,0,0);function h(e){return parseFloat(e)||0}function p(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.reduce(function(t,n){return t+h(e["border-"+n+"-width"])},0)}var g="undefined"!=typeof SVGGraphicsElement?function(e){return e instanceof d(e).SVGGraphicsElement}:function(e){return e instanceof d(e).SVGElement&&"function"==typeof e.getBBox};function m(e){return o?g(e)?function(e){var t=e.getBBox();return y(0,0,t.width,t.height)}(e):function(e){var t=e.clientWidth,n=e.clientHeight;if(!t&&!n)return f;var r=d(e).getComputedStyle(e),o=function(e){for(var t={},n=0,r=["top","right","bottom","left"];n<r.length;n++){var o=r[n],i=e["padding-"+o];t[o]=h(i)}return t}(r),i=o.left+o.right,s=o.top+o.bottom,a=h(r.width),c=h(r.height);if("border-box"===r.boxSizing&&(Math.round(a+i)!==t&&(a-=p(r,"left","right")+i),Math.round(c+s)!==n&&(c-=p(r,"top","bottom")+s)),!function(e){return e===d(e).document.documentElement}(e)){var l=Math.round(a+i)-t,u=Math.round(c+s)-n;1!==Math.abs(l)&&(a-=l),1!==Math.abs(u)&&(c-=u)}return y(o.left,o.top,a,c)}(e):f}function y(e,t,n,r){return{x:e,y:t,width:n,height:r}}var b=function(){function e(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=y(0,0,0,0),this.target=e}return e.prototype.isActive=function(){var e=m(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},e}(),v=function(e,t){var n,r,o,i,s,a,c,l=(r=(n=t).x,o=n.y,i=n.width,s=n.height,a="undefined"!=typeof DOMRectReadOnly?DOMRectReadOnly:Object,c=Object.create(a.prototype),u(c,{x:r,y:o,width:i,height:s,top:o,right:r+i,bottom:s+o,left:r}),c);u(this,{target:e,contentRect:l})},_=function(){function e(e,t,n){if(this.activeObservations_=[],this.observations_=new r,"function"!=typeof e)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=n}return e.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof d(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new b(e)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof d(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach(function(t){t.isActive()&&e.activeObservations_.push(t)})},e.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map(function(e){return new v(e.target,e.broadcastRect())});this.callback_.call(e,t,e),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e}(),w="undefined"!=typeof WeakMap?new WeakMap:new r,S=function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=l.getInstance(),r=new _(t,n,this);w.set(this,r)};["observe","unobserve","disconnect"].forEach(function(e){S.prototype[e]=function(){var t;return(t=w.get(this))[e].apply(t,arguments)}});const x=void 0!==i.ResizeObserver?i.ResizeObserver:S},43874:(e,t,n)=>{"use strict";n.d(t,{Ay:()=>v,Bb:()=>m,Ny:()=>g,cB:()=>y});var r=n(84051),o=n(31481),i=n(96454),s=n(46536),a=n(43503),c=n(30857);const l=new Map,u=(0,s.h)();let d,f,h,p;function g(){return d}function m(){return f}function y(){return!g()}function b(){d=l.get("mobile")?.matches||!1,f=!d&&(l.get("tablet")?.matches||!1),h=l.get("landscape")?.matches||!1,p=l.get("touch")?.matches||!1,(0,a.u)(),u.runCallbacks()}function v(){const e=(0,c.A)();return(0,r.vJ)(()=>u.addCallback(e),[e]),{isMobile:d,isTablet:f,isLandscape:h,isDesktop:!d&&!f,isTouchScreen:p}}!function(){const e=window.matchMedia(`(max-width: ${o.c2m}px),   (max-width: ${o.O4t}px and max-height: ${o.f84}px)`);l.set("mobile",e),e.addEventListener("change",b);const t=window.matchMedia(`(max-width: ${o.j7z}px)`);l.set("tablet",t),t.addEventListener("change",b);const n=window.matchMedia(i.pz?"(orientation: landscape)":"screen and (min-device-aspect-ratio: 1/1) and (orientation: landscape)");l.set("landscape",n),n.addEventListener("change",b);const r=window.matchMedia("(pointer: coarse)");l.set("touch",r),r.addEventListener("change",b)}(),b()},44363:(e,t,n)=>{"use strict";e.exports=n(22799)},45062:(e,t,n)=>{"use strict";n.d(t,{A:()=>b});var r=n(5544),o=n(96540),i=n(40961),s=n(20998),a=(n(68210),n(8719));const c=o.createContext(null);var l=n(60436),u=n(30981),d=[],f=n(85089),h=n(82987),p="rc-util-locker-".concat(Date.now()),g=0;var m=!1,y=function(e){return!1!==e&&((0,s.A)()&&e?"string"==typeof e?document.querySelector(e):"function"==typeof e?e():e:null)};const b=o.forwardRef(function(e,t){var n=e.open,b=e.autoLock,v=e.getContainer,_=(e.debug,e.autoDestroy),w=void 0===_||_,S=e.children,x=o.useState(n),I=(0,r.A)(x,2),A=I[0],C=I[1],k=A||n;o.useEffect(function(){(w||n)&&C(n)},[n,w]);var E=o.useState(function(){return y(v)}),T=(0,r.A)(E,2),P=T[0],M=T[1];o.useEffect(function(){var e=y(v);M(null!=e?e:null)});var O=function(e){var t=o.useState(function(){return(0,s.A)()?document.createElement("div"):null}),n=(0,r.A)(t,1)[0],i=o.useRef(!1),a=o.useContext(c),f=o.useState(d),h=(0,r.A)(f,2),p=h[0],g=h[1],m=a||(i.current?void 0:function(e){g(function(t){return[e].concat((0,l.A)(t))})});function y(){n.parentElement||document.body.appendChild(n),i.current=!0}function b(){var e;null===(e=n.parentElement)||void 0===e||e.removeChild(n),i.current=!1}return(0,u.A)(function(){return e?a?a(y):y():b(),b},[e]),(0,u.A)(function(){p.length&&(p.forEach(function(e){return e()}),g(d))},[p]),[n,m]}(k&&!P),D=(0,r.A)(O,2),R=D[0],N=D[1],F=null!=P?P:R;!function(e){var t=!!e,n=o.useState(function(){return g+=1,"".concat(p,"_").concat(g)}),i=(0,r.A)(n,1)[0];(0,u.A)(function(){if(t){var e=(0,h.V)(document.body).width,n=document.body.scrollHeight>(window.innerHeight||document.documentElement.clientHeight)&&window.innerWidth>document.body.offsetWidth;(0,f.BD)("\nhtml body {\n  overflow-y: hidden;\n  ".concat(n?"width: calc(100% - ".concat(e,"px);"):"","\n}"),i)}else(0,f.m6)(i);return function(){(0,f.m6)(i)}},[t,i])}(b&&n&&(0,s.A)()&&(F===R||F===document.body));var L=null;S&&(0,a.f3)(S)&&t&&(L=S.ref);var B=(0,a.xK)(L,t);if(!k||!(0,s.A)()||void 0===P)return null;var $=!1===F||m,j=S;return t&&(j=o.cloneElement(S,{ref:B})),o.createElement(c.Provider,{value:N},$?j:(0,i.createPortal)(j,F))})},45471:function(e,t,n){var r,o,i,s,a,c,l,u;e.exports=(o=(r=u=n(19021)).lib,i=o.WordArray,s=o.Hasher,a=r.algo,c=[],l=a.SHA1=s.extend({_doReset:function(){this._hash=new i.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(e,t){for(var n=this._hash.words,r=n[0],o=n[1],i=n[2],s=n[3],a=n[4],l=0;l<80;l++){if(l<16)c[l]=0|e[t+l];else{var u=c[l-3]^c[l-8]^c[l-14]^c[l-16];c[l]=u<<1|u>>>31}var d=(r<<5|r>>>27)+a+c[l];d+=l<20?1518500249+(o&i|~o&s):l<40?1859775393+(o^i^s):l<60?(o&i|o&s|i&s)-1894007588:(o^i^s)-899497514,a=s,s=i,i=o<<30|o>>>2,o=r,r=d}n[0]=n[0]+r|0,n[1]=n[1]+o|0,n[2]=n[2]+i|0,n[3]=n[3]+s|0,n[4]=n[4]+a|0},_doFinalize:function(){var e=this._data,t=e.words,n=8*this._nDataBytes,r=8*e.sigBytes;return t[r>>>5]|=128<<24-r%32,t[14+(r+64>>>9<<4)]=Math.floor(n/4294967296),t[15+(r+64>>>9<<4)]=n,e.sigBytes=4*t.length,this._process(),this._hash},clone:function(){var e=s.clone.call(this);return e._hash=this._hash.clone(),e}}),r.SHA1=s._createHelper(l),r.HmacSHA1=s._createHmacHelper(l),u.SHA1)},45503:function(e,t,n){var r;e.exports=(r=n(19021),function(){var e=r,t=e.lib.WordArray,n=e.enc;function o(e){return e<<8&4278255360|e>>>8&16711935}n.Utf16=n.Utf16BE={stringify:function(e){for(var t=e.words,n=e.sigBytes,r=[],o=0;o<n;o+=2){var i=t[o>>>2]>>>16-o%4*8&65535;r.push(String.fromCharCode(i))}return r.join("")},parse:function(e){for(var n=e.length,r=[],o=0;o<n;o++)r[o>>>1]|=e.charCodeAt(o)<<16-o%2*16;return t.create(r,2*n)}},n.Utf16LE={stringify:function(e){for(var t=e.words,n=e.sigBytes,r=[],i=0;i<n;i+=2){var s=o(t[i>>>2]>>>16-i%4*8&65535);r.push(String.fromCharCode(s))}return r.join("")},parse:function(e){for(var n=e.length,r=[],i=0;i<n;i++)r[i>>>1]|=o(e.charCodeAt(i)<<16-i%2*16);return t.create(r,2*n)}}}(),r.enc.Utf16)},45748:(e,t,n)=>{"use strict";n.d(t,{z1:()=>A,cM:()=>g,UA:()=>P,uy:()=>m});var r=n(2616),o=2,i=.16,s=.05,a=.05,c=.15,l=5,u=4,d=[{index:7,amount:15},{index:6,amount:25},{index:5,amount:30},{index:5,amount:45},{index:5,amount:65},{index:5,amount:85},{index:4,amount:90},{index:3,amount:95},{index:2,amount:97},{index:1,amount:98}];function f(e,t,n){var r;return(r=Math.round(e.h)>=60&&Math.round(e.h)<=240?n?Math.round(e.h)-o*t:Math.round(e.h)+o*t:n?Math.round(e.h)+o*t:Math.round(e.h)-o*t)<0?r+=360:r>=360&&(r-=360),r}function h(e,t,n){return 0===e.h&&0===e.s?e.s:((r=n?e.s-i*t:t===u?e.s+i:e.s+s*t)>1&&(r=1),n&&t===l&&r>.1&&(r=.1),r<.06&&(r=.06),Math.round(100*r)/100);var r}function p(e,t,n){var r;return r=n?e.v+a*t:e.v-c*t,r=Math.max(0,Math.min(1,r)),Math.round(100*r)/100}function g(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=[],o=new r.Y(e),i=o.toHsv(),s=l;s>0;s-=1){var a=new r.Y({h:f(i,s,!0),s:h(i,s,!0),v:p(i,s,!0)});n.push(a)}n.push(o);for(var c=1;c<=u;c+=1){var g=new r.Y({h:f(i,c),s:h(i,c),v:p(i,c)});n.push(g)}return"dark"===t.theme?d.map(function(e){var o=e.index,i=e.amount;return new r.Y(t.backgroundColor||"#141414").mix(n[o],i).toHexString()}):n.map(function(e){return e.toHexString()})}var m={red:"#F5222D",volcano:"#FA541C",orange:"#FA8C16",gold:"#FAAD14",yellow:"#FADB14",lime:"#A0D911",green:"#52C41A",cyan:"#13C2C2",blue:"#1677FF",geekblue:"#2F54EB",purple:"#722ED1",magenta:"#EB2F96",grey:"#666666"},y=["#fff1f0","#ffccc7","#ffa39e","#ff7875","#ff4d4f","#f5222d","#cf1322","#a8071a","#820014","#5c0011"];y.primary=y[5];var b=["#fff2e8","#ffd8bf","#ffbb96","#ff9c6e","#ff7a45","#fa541c","#d4380d","#ad2102","#871400","#610b00"];b.primary=b[5];var v=["#fff7e6","#ffe7ba","#ffd591","#ffc069","#ffa940","#fa8c16","#d46b08","#ad4e00","#873800","#612500"];v.primary=v[5];var _=["#fffbe6","#fff1b8","#ffe58f","#ffd666","#ffc53d","#faad14","#d48806","#ad6800","#874d00","#613400"];_.primary=_[5];var w=["#feffe6","#ffffb8","#fffb8f","#fff566","#ffec3d","#fadb14","#d4b106","#ad8b00","#876800","#614700"];w.primary=w[5];var S=["#fcffe6","#f4ffb8","#eaff8f","#d3f261","#bae637","#a0d911","#7cb305","#5b8c00","#3f6600","#254000"];S.primary=S[5];var x=["#f6ffed","#d9f7be","#b7eb8f","#95de64","#73d13d","#52c41a","#389e0d","#237804","#135200","#092b00"];x.primary=x[5];var I=["#e6fffb","#b5f5ec","#87e8de","#5cdbd3","#36cfc9","#13c2c2","#08979c","#006d75","#00474f","#002329"];I.primary=I[5];var A=["#e6f4ff","#bae0ff","#91caff","#69b1ff","#4096ff","#1677ff","#0958d9","#003eb3","#002c8c","#001d66"];A.primary=A[5];var C=["#f0f5ff","#d6e4ff","#adc6ff","#85a5ff","#597ef7","#2f54eb","#1d39c4","#10239e","#061178","#030852"];C.primary=C[5];var k=["#f9f0ff","#efdbff","#d3adf7","#b37feb","#9254de","#722ed1","#531dab","#391085","#22075e","#120338"];k.primary=k[5];var E=["#fff0f6","#ffd6e7","#ffadd2","#ff85c0","#f759ab","#eb2f96","#c41d7f","#9e1068","#780650","#520339"];E.primary=E[5];var T=["#a6a6a6","#999999","#8c8c8c","#808080","#737373","#666666","#404040","#1a1a1a","#000000","#000000"];T.primary=T[5];var P={red:y,volcano:b,orange:v,gold:_,yellow:w,lime:S,green:x,cyan:I,blue:A,geekblue:C,purple:k,magenta:E,grey:T},M=["#2a1215","#431418","#58181c","#791a1f","#a61d24","#d32029","#e84749","#f37370","#f89f9a","#fac8c3"];M.primary=M[5];var O=["#2b1611","#441d12","#592716","#7c3118","#aa3e19","#d84a1b","#e87040","#f3956a","#f8b692","#fad4bc"];O.primary=O[5];var D=["#2b1d11","#442a11","#593815","#7c4a15","#aa6215","#d87a16","#e89a3c","#f3b765","#f8cf8d","#fae3b7"];D.primary=D[5];var R=["#2b2111","#443111","#594214","#7c5914","#aa7714","#d89614","#e8b339","#f3cc62","#f8df8b","#faedb5"];R.primary=R[5];var N=["#2b2611","#443b11","#595014","#7c6e14","#aa9514","#d8bd14","#e8d639","#f3ea62","#f8f48b","#fafab5"];N.primary=N[5];var F=["#1f2611","#2e3c10","#3e4f13","#536d13","#6f9412","#8bbb11","#a9d134","#c9e75d","#e4f88b","#f0fab5"];F.primary=F[5];var L=["#162312","#1d3712","#274916","#306317","#3c8618","#49aa19","#6abe39","#8fd460","#b2e58b","#d5f2bb"];L.primary=L[5];var B=["#112123","#113536","#144848","#146262","#138585","#13a8a8","#33bcb7","#58d1c9","#84e2d8","#b2f1e8"];B.primary=B[5];var $=["#111a2c","#112545","#15325b","#15417e","#1554ad","#1668dc","#3c89e8","#65a9f3","#8dc5f8","#b7dcfa"];$.primary=$[5];var j=["#131629","#161d40","#1c2755","#203175","#263ea0","#2b4acb","#5273e0","#7f9ef3","#a8c1f8","#d2e0fa"];j.primary=j[5];var U=["#1a1325","#24163a","#301c4d","#3e2069","#51258f","#642ab5","#854eca","#ab7ae0","#cda8f0","#ebd7fa"];U.primary=U[5];var z=["#291321","#40162f","#551c3b","#75204f","#a02669","#cb2b83","#e0529c","#f37fb7","#f8a8cc","#fad2e3"];z.primary=z[5];var V=["#151515","#1f1f1f","#2d2d2d","#393939","#494949","#5a5a5a","#6a6a6a","#7b7b7b","#888888","#969696"];V.primary=V[5]},45953:function(e,t,n){var r;e.exports=(r=n(19021),n(43240),function(e){var t=r,n=t.lib,o=n.WordArray,i=n.Hasher,s=t.x64.Word,a=t.algo,c=[],l=[],u=[];!function(){for(var e=1,t=0,n=0;n<24;n++){c[e+5*t]=(n+1)*(n+2)/2%64;var r=(2*e+3*t)%5;e=t%5,t=r}for(e=0;e<5;e++)for(t=0;t<5;t++)l[e+5*t]=t+(2*e+3*t)%5*5;for(var o=1,i=0;i<24;i++){for(var a=0,d=0,f=0;f<7;f++){if(1&o){var h=(1<<f)-1;h<32?d^=1<<h:a^=1<<h-32}128&o?o=o<<1^113:o<<=1}u[i]=s.create(a,d)}}();var d=[];!function(){for(var e=0;e<25;e++)d[e]=s.create()}();var f=a.SHA3=i.extend({cfg:i.cfg.extend({outputLength:512}),_doReset:function(){for(var e=this._state=[],t=0;t<25;t++)e[t]=new s.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(e,t){for(var n=this._state,r=this.blockSize/2,o=0;o<r;o++){var i=e[t+2*o],s=e[t+2*o+1];i=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8),s=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8),(E=n[o]).high^=s,E.low^=i}for(var a=0;a<24;a++){for(var f=0;f<5;f++){for(var h=0,p=0,g=0;g<5;g++)h^=(E=n[f+5*g]).high,p^=E.low;var m=d[f];m.high=h,m.low=p}for(f=0;f<5;f++){var y=d[(f+4)%5],b=d[(f+1)%5],v=b.high,_=b.low;for(h=y.high^(v<<1|_>>>31),p=y.low^(_<<1|v>>>31),g=0;g<5;g++)(E=n[f+5*g]).high^=h,E.low^=p}for(var w=1;w<25;w++){var S=(E=n[w]).high,x=E.low,I=c[w];I<32?(h=S<<I|x>>>32-I,p=x<<I|S>>>32-I):(h=x<<I-32|S>>>64-I,p=S<<I-32|x>>>64-I);var A=d[l[w]];A.high=h,A.low=p}var C=d[0],k=n[0];for(C.high=k.high,C.low=k.low,f=0;f<5;f++)for(g=0;g<5;g++){var E=n[w=f+5*g],T=d[w],P=d[(f+1)%5+5*g],M=d[(f+2)%5+5*g];E.high=T.high^~P.high&M.high,E.low=T.low^~P.low&M.low}E=n[0];var O=u[a];E.high^=O.high,E.low^=O.low}},_doFinalize:function(){var t=this._data,n=t.words,r=(this._nDataBytes,8*t.sigBytes),i=32*this.blockSize;n[r>>>5]|=1<<24-r%32,n[(e.ceil((r+1)/i)*i>>>5)-1]|=128,t.sigBytes=4*n.length,this._process();for(var s=this._state,a=this.cfg.outputLength/8,c=a/8,l=[],u=0;u<c;u++){var d=s[u],f=d.high,h=d.low;f=16711935&(f<<8|f>>>24)|4278255360&(f<<24|f>>>8),h=16711935&(h<<8|h>>>24)|4278255360&(h<<24|h>>>8),l.push(h),l.push(f)}return new o.init(l,a)},clone:function(){for(var e=i.clone.call(this),t=e._state=this._state.slice(0),n=0;n<25;n++)t[n]=t[n].clone();return e}});t.SHA3=i._createHelper(f),t.HmacSHA3=i._createHmacHelper(f)}(Math),r.SHA3)},46211:(e,t,n)=>{"use strict";n.d(t,{FD:()=>h,IV:()=>d,PV:()=>u,WA:()=>p,X2:()=>f});var r=n(31481),o=n(9716),i=n(14487),s=n(90709),a=n(21133),c=n(5056),l=n(19926);function u(e,t){return(0,l.mB)(e,t)||(0,a.hd)(e,t)}function d(e,t){return e.peers.profilePhotosById[t]}function f(e,t){const n=(0,l.yp)(e,t),o=(0,l.mB)(e,t);return o?!n&&t!==r.zv8&&!(0,s.PL)(o):(0,a.AW)(e,t)?.areStarGiftsAvailable}function h(e,t,...[n=(0,i.g0)()]){return(0,c.n)(e,n).savedGifts.giftsByPeerId[t]}function p(e,t){const n=(0,o.L8)(t);if(n){const r=n?(0,l.vG)(e,t):void 0;return r?.paidMessagesStars}const r=(0,a.hd)(e,t);if(r&&!(0,s.SJ)(r))return r.paidMessagesStars}},46275:(e,t,n)=>{"use strict";n.d(t,{l8:()=>f,vG:()=>d,zq:()=>u});var r=n(31481),o=n(63495),i=n(93578),s=n(70874),a=n(9716),c=n(11116);const l=new Set(["t.me","telegram.me","telegram.dog"]);function u(e){return Boolean(e.match(r.OFc)||e.match(r.bnE))}function d(e){if(u(e))try{return function(e){const t=(0,i.Tc)(e);if(t){if(t.startsWith("https:")||t.startsWith("http:"))return function(e){if(!l.has(e.hostname))return;const t=C(e),n=A(e);switch(function(e,t){const n=t.length,r=t[0];if(1===n){if("share"===r)return"shareLink";if("boost"===r||void 0!==e.boost)return"chatBoostLink";if((0,c.BU)(r))return"publicUsernameOrBotLink"}else if(2===n){if("addlist"===r)return"chatFolderLink";if("login"===r)return"loginCodeLink";if("m"===r)return"businessChatLink";if("boost"===r)return"chatBoostLink";if("nft"===r)return"giftUniqueLink";if("c"===r)return void 0!==e.boost?"chatBoostLink":"privateChannelLink";if((0,c.BU)(t[0])&&I(t[1]))return"publicMessageLink"}else if(3===n){if("c"===r&&t.slice(1).every(I))return"privateMessageLink";if((0,c.BU)(t[0])&&t.slice(1).every(I))return"publicMessageLink";if("nft"===r)return"giftUniqueLink"}else if(4===n&&"c"===r&&t.slice(1).every(I))return"privateMessageLink";return"unknown"}(t,n)){case"publicMessageLink":{const{single:e,comment:r,t:o}=t,{username:i,thread:s,messageId:a}=2===n.length?{username:n[0],thread:t.thread,messageId:n[1]}:{username:n[0],thread:n[1],messageId:n[2]};return p({username:i,messageId:a,single:e,threadId:s,commentId:r,timestamp:o})}case"privateMessageLink":{const{single:e,comment:r,t:o}=t,{channelId:i,thread:s,messageId:a}=3===n.length?{channelId:n[1],thread:t.thread,messageId:n[2]}:{channelId:n[1],thread:n[2],messageId:n[3]};return g({channelId:i,messageId:a,single:e,threadId:s,commentId:r,timestamp:o})}case"shareLink":return h({text:t.text,url:t.url});case"chatFolderLink":return m({slug:n[1]});case"loginCodeLink":return y({code:n[1]});case"publicUsernameOrBotLink":return b({username:n[0],start:t.start,text:t.text,startApp:t.startapp,mode:t.mode,appName:void 0,startAttach:t.startattach,attach:t.attach,choose:t.choose,ref:t.ref});case"privateChannelLink":return v({channelId:n[1]});case"businessChatLink":return w({slug:n[1]});case"chatBoostLink":{if("boost"===n[0])return _({username:n[1],id:t.c});const e="c"===n[0];return _({username:e?void 0:n[0],id:e?n[1]:void 0})}case"giftUniqueLink":return S({slug:n.slice(1).join("/")})}}(new URL(t));if(t.startsWith("tg:")){const e=o.fM?t.replace(/^tg:\/\//,"https://"):t;return function(e){const{hostname:t}=e,n=C(e),r=A(e);switch(function(e,t,n){switch(n){case"resolve":{const{domain:t,post:n,bot_id:r,scope:o,public_key:i,nonce:s}=e;if("telegrampassport"===t&&r&&o&&i&&s)return"telegramPassportLink";if(t&&n)return"publicMessageLink";if((0,c.BU)(t))return"publicUsernameOrBotLink";break}case"privatepost":{const{channel:t,post:n}=e;if(t)return n?"privateMessageLink":"privateChannelLink";break}case"msg_url":return"shareLink";case"addlist":return"chatFolderLink";case"login":return"loginCodeLink";case"passport":return"telegramPassportLink";case"message":return"businessChatLink";case"premium_offer":return"premiumReferrerLink";case"premium_multigift":return"premiumMultigiftLink";case"boost":return"chatBoostLink";case"nft":return"giftUniqueLink";case"stars":return"stars";case"ton":return"ton";case"settings":return"settings"}return"unknown"}(n,0,t)){case"publicMessageLink":{const{domain:e,post:t,single:r,thread:o,comment:i,t:s}=n;return p({username:e,messageId:t,single:r,threadId:o,commentId:i,timestamp:s})}case"privateMessageLink":{const{channel:e,post:t,single:r,thread:o,comment:i,t:s}=n;return g({channelId:e,messageId:t,single:r,threadId:o,commentId:i,timestamp:s})}case"shareLink":return h({text:n.text,url:n.url});case"chatFolderLink":return m({slug:n.slug});case"loginCodeLink":return y({code:n.code});case"telegramPassportLink":return function(e){const{botId:t,scope:n,publicKey:r,nonce:o,callbackUrl:i,payload:s}=e;if(t&&I(t)&&n&&r&&o)return{type:"telegramPassportLink",botId:Number(t),scope:n,publicKey:r,nonce:o,callbackUrl:i,payload:s}}({botId:n.bot_id,scope:n.scope,publicKey:n.public_key,nonce:n.nonce,callbackUrl:n.callback_url,payload:n.payload});case"publicUsernameOrBotLink":return b({username:n.domain,start:n.start,text:n.text,appName:n.appname,startApp:n.startapp,mode:n.mode,startAttach:n.startattach,attach:n.attach,choose:n.choose,ref:n.ref});case"privateChannelLink":return v({channelId:n.channel});case"businessChatLink":return w({slug:n.slug});case"premiumReferrerLink":return function(e){const{referrer:t}=e;if(t)return{type:"premiumReferrerLink",referrer:t}}({referrer:n.ref});case"premiumMultigiftLink":return function(e){const{referrer:t}=e;if(t)return{type:"premiumMultigiftLink",referrer:t}}({referrer:n.ref});case"chatBoostLink":return _({username:n.domain,id:n.channel});case"giftUniqueLink":return S({slug:n.slug});case"stars":return{type:"stars"};case"ton":return{type:"ton"};case"settings":return function(e){const{screen:t}=e;return{type:"settings",screen:t?x(t):void 0}}({screen:1===r.length?r[0]:void 0})}}(new URL(e))}}}(e)}catch(e){return}}function f(e){const t=d(e);if("publicUsernameOrBotLink"===t?.type)return t.username}function h(e){const{url:t,text:n}=e;if(t)return{type:"shareLink",url:t,text:n}}function p(e){const{messageId:t,threadId:n,commentId:r,username:o,single:i,timestamp:a}=e;if(o&&(0,c.BU)(o)&&t&&I(t)&&(!n||I(n))&&(!r||I(r)))return{type:"publicMessageLink",username:o,messageId:Number(t),isSingle:""===i,threadId:n?Number(n):void 0,commentId:r?Number(r):void 0,timestamp:a?(0,s.W)(a):void 0}}function g(e){const{messageId:t,threadId:n,commentId:r,channelId:o,single:i,timestamp:c}=e;if(o&&I(o)&&t&&I(t)&&(!n||I(n))&&(!r||I(r)))return{type:"privateMessageLink",channelId:(0,a.QE)(o),messageId:Number(t),isSingle:""===i,threadId:n?Number(n):void 0,commentId:r?Number(r):void 0,timestamp:c?(0,s.W)(c):void 0}}function m(e){const{slug:t}=e;if(t)return{type:"chatFolderLink",slug:t}}function y(e){const{code:t}=e;if(t)return{type:"loginCodeLink",code:t}}function b(e){const{username:t,start:n,text:r,startApp:o,mode:i,startAttach:s,attach:a,appName:l,choose:u,ref:d}=e;if(t&&(0,c.BU)(t))return{type:"publicUsernameOrBotLink",username:t,start:n,startApp:o,mode:i,appName:l,startAttach:s,attach:a,text:r,choose:u,ref:d}}function v(e){const{channelId:t}=e;if(t)return{type:"privateChannelLink",channelId:(0,a.QE)(t)}}function _(e){const{username:t,id:n}=e;if(t||n)return{type:"chatBoostLink",username:t,id:n?(0,a.QE)(n):void 0}}function w(e){const{slug:t}=e;if(t)return{type:"businessChatLink",slug:t}}function S(e){const{slug:t}=e;if(t)return{type:"giftUniqueLink",slug:t}}function x(e){switch(e){case"devices":return"devices";case"folders":return"folders";case"language":return"language";case"privacy":return"privacy";case"edit_profile":return"editProfile";case"theme":return"theme"}}function I(e){return/^-?\d+$/.test(e)}function A(e){const t=e.pathname.split("/").filter(Boolean);return"s"===t[0]&&t.shift(),t.map(decodeURI)}function C(e){return Object.fromEntries(e.searchParams)}},46536:(e,t,n)=>{"use strict";function r(){const e=new Set;function t(t){e.delete(t)}return{runCallbacks:function(...t){e.forEach(e=>{e(...t)})},addCallback:function(n){return e.add(n),()=>{t(n)}},removeCallback:t,hasCallbacks:function(){return Boolean(e.size)}}}n.d(t,{h:()=>r})},46637:(e,t,n)=>{"use strict";n.d(t,{A:()=>c});var r=n(84051),o=n(66644),i=n(46536),s=n(17712);const a=new Map;function c(e,t,n=!1){const c=(0,s.A)(t);(0,r.vJ)(()=>{const t=e&&"current"in e?e.current:e;if(!t||n)return;const s=new Map;function l(){for(const e of s.values())e.target.offsetParent&&c(e);s.clear()}const u=([e])=>{s.set(e.target,e),(0,r.OV)()?r.OV.once(()=>{(0,o.YS)(l)}):l()};let[d,f]=a.get(t)||[void 0,void 0];return d||(f=(0,i.h)(),d=new IntersectionObserver(f.runCallbacks),a.set(t,[d,f]),d.observe(t)),f.addCallback(u),()=>{f.removeCallback(u),f.hasCallbacks()||(d.unobserve(t),d.disconnect(),a.delete(t))}},[n,e])}},46942:(e,t)=>{var n;!function(){"use strict";var r={}.hasOwnProperty;function o(){for(var e="",t=0;t<arguments.length;t++){var n=arguments[t];n&&(e=s(e,i(n)))}return e}function i(e){if("string"==typeof e||"number"==typeof e)return e;if("object"!=typeof e)return"";if(Array.isArray(e))return o.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var t="";for(var n in e)r.call(e,n)&&e[n]&&(t=s(t,n));return t}function s(e,t){return t?e?e+" "+t:e+t:e}e.exports?(o.default=o,e.exports=o):void 0===(n=function(){return o}.apply(t,[]))||(e.exports=n)}()},47483:(e,t,n)=>{"use strict";n.d(t,{A:()=>p});var r=n(84051),o=n(13439),i=n(60919),s=n(60261),a=n(37836);let c=new Set;const l=new Set,u=(0,a.nF)(()=>{const e=[...c],t=e.slice(0,100),n=e.slice(101);(0,o.ko)().loadCustomEmojis({ids:t}),c=new Set(n),c.size&&u()},200,!1),d=(0,a.nF)(()=>{(0,o.ko)().updateLastRenderedCustomEmojis({ids:[...l].reverse()}),l.clear()},200,!1);function f(e){l.add(e),d()}(0,s.K3)(f);var h=n(17712);function p(e){const[t,n]=(0,r.J0)(e?(0,o.mS)().customEmojis.byId[e]:void 0),[a,l]=(0,r.J0)((0,i.BWX)((0,o.mS)()));var d;(d=e)&&(f(d),(0,o.mS)().customEmojis.byId[d]||(c.add(d),u()));const p=(0,h.A)(t=>{if(!e)return;const r=(0,o.mS)();n((t??r.customEmojis).byId[e]),l((0,i.BWX)(r))});return(0,r.vJ)(p,[e,p]),(0,r.vJ)(()=>{if(e)return(0,s.Il)(p,e),()=>{(0,s.LQ)(p)}},[t,e,p]),{customEmoji:t,canPlay:a}}},47852:(e,t,n)=>{"use strict";n.d(t,{A:()=>c});var r=n(58168),o=n(96540);const i={icon:{tag:"svg",attrs:{"fill-rule":"evenodd",viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M799.86 166.31c.02 0 .04.02.08.06l57.69 57.7c.04.03.05.05.06.08a.12.12 0 010 .06c0 .03-.02.05-.06.09L569.93 512l287.7 287.7c.04.04.05.06.06.09a.12.12 0 010 .07c0 .02-.02.04-.06.08l-57.7 57.69c-.03.04-.05.05-.07.06a.12.12 0 01-.07 0c-.03 0-.05-.02-.09-.06L512 569.93l-287.7 287.7c-.04.04-.06.05-.09.06a.12.12 0 01-.07 0c-.02 0-.04-.02-.08-.06l-57.69-57.7c-.04-.03-.05-.05-.06-.07a.12.12 0 010-.07c0-.03.02-.05.06-.09L454.07 512l-287.7-287.7c-.04-.04-.05-.06-.06-.09a.12.12 0 010-.07c0-.02.02-.04.06-.08l57.7-57.69c.03-.04.05-.05.07-.06a.12.12 0 01.07 0c.03 0 .05.02.09.06L512 454.07l287.7-287.7c.04-.04.06-.05.09-.06a.12.12 0 01.07 0z"}}]},name:"close",theme:"outlined"};var s=n(87064),a=function(e,t){return o.createElement(s.A,(0,r.A)({},e,{ref:t,icon:i}))};const c=o.forwardRef(a)},48154:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(96540);const o=()=>{const[,e]=(0,r.useState)(!1);return(0,r.useCallback)(()=>{e(e=>!e)},[])}},48224:(e,t,n)=>{"use strict";n.d(t,{A:()=>s,c:()=>i});var r=n(96540);const o=r.createContext(void 0),i=({children:e,size:t})=>{const n=r.useContext(o);return r.createElement(o.Provider,{value:t||n},e)},s=o},48287:(e,t,n)=>{"use strict";const r=n(67526),o=n(251),i="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;t.hp=c,t.IS=50;const s=2147483647;function a(e){if(e>s)throw new RangeError('The value "'+e+'" is invalid for option "size"');const t=new Uint8Array(e);return Object.setPrototypeOf(t,c.prototype),t}function c(e,t,n){if("number"==typeof e){if("string"==typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return d(e)}return l(e,t,n)}function l(e,t,n){if("string"==typeof e)return function(e,t){if("string"==typeof t&&""!==t||(t="utf8"),!c.isEncoding(t))throw new TypeError("Unknown encoding: "+t);const n=0|g(e,t);let r=a(n);const o=r.write(e,t);return o!==n&&(r=r.slice(0,o)),r}(e,t);if(ArrayBuffer.isView(e))return function(e){if(Y(e,Uint8Array)){const t=new Uint8Array(e);return h(t.buffer,t.byteOffset,t.byteLength)}return f(e)}(e);if(null==e)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(Y(e,ArrayBuffer)||e&&Y(e.buffer,ArrayBuffer))return h(e,t,n);if("undefined"!=typeof SharedArrayBuffer&&(Y(e,SharedArrayBuffer)||e&&Y(e.buffer,SharedArrayBuffer)))return h(e,t,n);if("number"==typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');const r=e.valueOf&&e.valueOf();if(null!=r&&r!==e)return c.from(r,t,n);const o=function(e){if(c.isBuffer(e)){const t=0|p(e.length),n=a(t);return 0===n.length||e.copy(n,0,0,t),n}return void 0!==e.length?"number"!=typeof e.length||J(e.length)?a(0):f(e):"Buffer"===e.type&&Array.isArray(e.data)?f(e.data):void 0}(e);if(o)return o;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return c.from(e[Symbol.toPrimitive]("string"),t,n);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function u(e){if("number"!=typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function d(e){return u(e),a(e<0?0:0|p(e))}function f(e){const t=e.length<0?0:0|p(e.length),n=a(t);for(let r=0;r<t;r+=1)n[r]=255&e[r];return n}function h(e,t,n){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(n||0))throw new RangeError('"length" is outside of buffer bounds');let r;return r=void 0===t&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,t):new Uint8Array(e,t,n),Object.setPrototypeOf(r,c.prototype),r}function p(e){if(e>=s)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s.toString(16)+" bytes");return 0|e}function g(e,t){if(c.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||Y(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);const n=e.length,r=arguments.length>2&&!0===arguments[2];if(!r&&0===n)return 0;let o=!1;for(;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":return G(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return W(e).length;default:if(o)return r?-1:G(e).length;t=(""+t).toLowerCase(),o=!0}}function m(e,t,n){let r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return P(this,t,n);case"utf8":case"utf-8":return C(this,t,n);case"ascii":return E(this,t,n);case"latin1":case"binary":return T(this,t,n);case"base64":return A(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return M(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function y(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function b(e,t,n,r,o){if(0===e.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),J(n=+n)&&(n=o?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(o)return-1;n=e.length-1}else if(n<0){if(!o)return-1;n=0}if("string"==typeof t&&(t=c.from(t,r)),c.isBuffer(t))return 0===t.length?-1:v(e,t,n,r,o);if("number"==typeof t)return t&=255,"function"==typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):v(e,[t],n,r,o);throw new TypeError("val must be string, number or Buffer")}function v(e,t,n,r,o){let i,s=1,a=e.length,c=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;s=2,a/=2,c/=2,n/=2}function l(e,t){return 1===s?e[t]:e.readUInt16BE(t*s)}if(o){let r=-1;for(i=n;i<a;i++)if(l(e,i)===l(t,-1===r?0:i-r)){if(-1===r&&(r=i),i-r+1===c)return r*s}else-1!==r&&(i-=i-r),r=-1}else for(n+c>a&&(n=a-c),i=n;i>=0;i--){let n=!0;for(let r=0;r<c;r++)if(l(e,i+r)!==l(t,r)){n=!1;break}if(n)return i}return-1}function _(e,t,n,r){n=Number(n)||0;const o=e.length-n;r?(r=Number(r))>o&&(r=o):r=o;const i=t.length;let s;for(r>i/2&&(r=i/2),s=0;s<r;++s){const r=parseInt(t.substr(2*s,2),16);if(J(r))return s;e[n+s]=r}return s}function w(e,t,n,r){return K(G(t,e.length-n),e,n,r)}function S(e,t,n,r){return K(function(e){const t=[];for(let n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function x(e,t,n,r){return K(W(t),e,n,r)}function I(e,t,n,r){return K(function(e,t){let n,r,o;const i=[];for(let s=0;s<e.length&&!((t-=2)<0);++s)n=e.charCodeAt(s),r=n>>8,o=n%256,i.push(o),i.push(r);return i}(t,e.length-n),e,n,r)}function A(e,t,n){return 0===t&&n===e.length?r.fromByteArray(e):r.fromByteArray(e.slice(t,n))}function C(e,t,n){n=Math.min(e.length,n);const r=[];let o=t;for(;o<n;){const t=e[o];let i=null,s=t>239?4:t>223?3:t>191?2:1;if(o+s<=n){let n,r,a,c;switch(s){case 1:t<128&&(i=t);break;case 2:n=e[o+1],128==(192&n)&&(c=(31&t)<<6|63&n,c>127&&(i=c));break;case 3:n=e[o+1],r=e[o+2],128==(192&n)&&128==(192&r)&&(c=(15&t)<<12|(63&n)<<6|63&r,c>2047&&(c<55296||c>57343)&&(i=c));break;case 4:n=e[o+1],r=e[o+2],a=e[o+3],128==(192&n)&&128==(192&r)&&128==(192&a)&&(c=(15&t)<<18|(63&n)<<12|(63&r)<<6|63&a,c>65535&&c<1114112&&(i=c))}}null===i?(i=65533,s=1):i>65535&&(i-=65536,r.push(i>>>10&1023|55296),i=56320|1023&i),r.push(i),o+=s}return function(e){const t=e.length;if(t<=k)return String.fromCharCode.apply(String,e);let n="",r=0;for(;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=k));return n}(r)}c.TYPED_ARRAY_SUPPORT=function(){try{const e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}(),c.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(c.prototype,"parent",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.buffer}}),Object.defineProperty(c.prototype,"offset",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.byteOffset}}),c.poolSize=8192,c.from=function(e,t,n){return l(e,t,n)},Object.setPrototypeOf(c.prototype,Uint8Array.prototype),Object.setPrototypeOf(c,Uint8Array),c.alloc=function(e,t,n){return function(e,t,n){return u(e),e<=0?a(e):void 0!==t?"string"==typeof n?a(e).fill(t,n):a(e).fill(t):a(e)}(e,t,n)},c.allocUnsafe=function(e){return d(e)},c.allocUnsafeSlow=function(e){return d(e)},c.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==c.prototype},c.compare=function(e,t){if(Y(e,Uint8Array)&&(e=c.from(e,e.offset,e.byteLength)),Y(t,Uint8Array)&&(t=c.from(t,t.offset,t.byteLength)),!c.isBuffer(e)||!c.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;let n=e.length,r=t.length;for(let o=0,i=Math.min(n,r);o<i;++o)if(e[o]!==t[o]){n=e[o],r=t[o];break}return n<r?-1:r<n?1:0},c.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return c.alloc(0);let n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;const r=c.allocUnsafe(t);let o=0;for(n=0;n<e.length;++n){let t=e[n];if(Y(t,Uint8Array))o+t.length>r.length?(c.isBuffer(t)||(t=c.from(t)),t.copy(r,o)):Uint8Array.prototype.set.call(r,t,o);else{if(!c.isBuffer(t))throw new TypeError('"list" argument must be an Array of Buffers');t.copy(r,o)}o+=t.length}return r},c.byteLength=g,c.prototype._isBuffer=!0,c.prototype.swap16=function(){const e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let t=0;t<e;t+=2)y(this,t,t+1);return this},c.prototype.swap32=function(){const e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let t=0;t<e;t+=4)y(this,t,t+3),y(this,t+1,t+2);return this},c.prototype.swap64=function(){const e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let t=0;t<e;t+=8)y(this,t,t+7),y(this,t+1,t+6),y(this,t+2,t+5),y(this,t+3,t+4);return this},c.prototype.toString=function(){const e=this.length;return 0===e?"":0===arguments.length?C(this,0,e):m.apply(this,arguments)},c.prototype.toLocaleString=c.prototype.toString,c.prototype.equals=function(e){if(!c.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===c.compare(this,e)},c.prototype.inspect=function(){let e="";const n=t.IS;return e=this.toString("hex",0,n).replace(/(.{2})/g,"$1 ").trim(),this.length>n&&(e+=" ... "),"<Buffer "+e+">"},i&&(c.prototype[i]=c.prototype.inspect),c.prototype.compare=function(e,t,n,r,o){if(Y(e,Uint8Array)&&(e=c.from(e,e.offset,e.byteLength)),!c.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===o&&(o=this.length),t<0||n>e.length||r<0||o>this.length)throw new RangeError("out of range index");if(r>=o&&t>=n)return 0;if(r>=o)return-1;if(t>=n)return 1;if(this===e)return 0;let i=(o>>>=0)-(r>>>=0),s=(n>>>=0)-(t>>>=0);const a=Math.min(i,s),l=this.slice(r,o),u=e.slice(t,n);for(let e=0;e<a;++e)if(l[e]!==u[e]){i=l[e],s=u[e];break}return i<s?-1:s<i?1:0},c.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},c.prototype.indexOf=function(e,t,n){return b(this,e,t,n,!0)},c.prototype.lastIndexOf=function(e,t,n){return b(this,e,t,n,!1)},c.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(n)?(n>>>=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}const o=this.length-t;if((void 0===n||n>o)&&(n=o),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");let i=!1;for(;;)switch(r){case"hex":return _(this,e,t,n);case"utf8":case"utf-8":return w(this,e,t,n);case"ascii":case"latin1":case"binary":return S(this,e,t,n);case"base64":return x(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return I(this,e,t,n);default:if(i)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),i=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const k=4096;function E(e,t,n){let r="";n=Math.min(e.length,n);for(let o=t;o<n;++o)r+=String.fromCharCode(127&e[o]);return r}function T(e,t,n){let r="";n=Math.min(e.length,n);for(let o=t;o<n;++o)r+=String.fromCharCode(e[o]);return r}function P(e,t,n){const r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);let o="";for(let r=t;r<n;++r)o+=X[e[r]];return o}function M(e,t,n){const r=e.slice(t,n);let o="";for(let e=0;e<r.length-1;e+=2)o+=String.fromCharCode(r[e]+256*r[e+1]);return o}function O(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function D(e,t,n,r,o,i){if(!c.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>o||t<i)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function R(e,t,n,r,o){z(t,r,o,e,n,7);let i=Number(t&BigInt(4294967295));e[n++]=i,i>>=8,e[n++]=i,i>>=8,e[n++]=i,i>>=8,e[n++]=i;let s=Number(t>>BigInt(32)&BigInt(4294967295));return e[n++]=s,s>>=8,e[n++]=s,s>>=8,e[n++]=s,s>>=8,e[n++]=s,n}function N(e,t,n,r,o){z(t,r,o,e,n,7);let i=Number(t&BigInt(4294967295));e[n+7]=i,i>>=8,e[n+6]=i,i>>=8,e[n+5]=i,i>>=8,e[n+4]=i;let s=Number(t>>BigInt(32)&BigInt(4294967295));return e[n+3]=s,s>>=8,e[n+2]=s,s>>=8,e[n+1]=s,s>>=8,e[n]=s,n+8}function F(e,t,n,r,o,i){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function L(e,t,n,r,i){return t=+t,n>>>=0,i||F(e,0,n,4),o.write(e,t,n,r,23,4),n+4}function B(e,t,n,r,i){return t=+t,n>>>=0,i||F(e,0,n,8),o.write(e,t,n,r,52,8),n+8}c.prototype.slice=function(e,t){const n=this.length;(e=~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),(t=void 0===t?n:~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e);const r=this.subarray(e,t);return Object.setPrototypeOf(r,c.prototype),r},c.prototype.readUintLE=c.prototype.readUIntLE=function(e,t,n){e>>>=0,t>>>=0,n||O(e,t,this.length);let r=this[e],o=1,i=0;for(;++i<t&&(o*=256);)r+=this[e+i]*o;return r},c.prototype.readUintBE=c.prototype.readUIntBE=function(e,t,n){e>>>=0,t>>>=0,n||O(e,t,this.length);let r=this[e+--t],o=1;for(;t>0&&(o*=256);)r+=this[e+--t]*o;return r},c.prototype.readUint8=c.prototype.readUInt8=function(e,t){return e>>>=0,t||O(e,1,this.length),this[e]},c.prototype.readUint16LE=c.prototype.readUInt16LE=function(e,t){return e>>>=0,t||O(e,2,this.length),this[e]|this[e+1]<<8},c.prototype.readUint16BE=c.prototype.readUInt16BE=function(e,t){return e>>>=0,t||O(e,2,this.length),this[e]<<8|this[e+1]},c.prototype.readUint32LE=c.prototype.readUInt32LE=function(e,t){return e>>>=0,t||O(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},c.prototype.readUint32BE=c.prototype.readUInt32BE=function(e,t){return e>>>=0,t||O(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},c.prototype.readBigUInt64LE=Z(function(e){V(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||q(e,this.length-8);const r=t+256*this[++e]+65536*this[++e]+this[++e]*2**24,o=this[++e]+256*this[++e]+65536*this[++e]+n*2**24;return BigInt(r)+(BigInt(o)<<BigInt(32))}),c.prototype.readBigUInt64BE=Z(function(e){V(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||q(e,this.length-8);const r=t*2**24+65536*this[++e]+256*this[++e]+this[++e],o=this[++e]*2**24+65536*this[++e]+256*this[++e]+n;return(BigInt(r)<<BigInt(32))+BigInt(o)}),c.prototype.readIntLE=function(e,t,n){e>>>=0,t>>>=0,n||O(e,t,this.length);let r=this[e],o=1,i=0;for(;++i<t&&(o*=256);)r+=this[e+i]*o;return o*=128,r>=o&&(r-=Math.pow(2,8*t)),r},c.prototype.readIntBE=function(e,t,n){e>>>=0,t>>>=0,n||O(e,t,this.length);let r=t,o=1,i=this[e+--r];for(;r>0&&(o*=256);)i+=this[e+--r]*o;return o*=128,i>=o&&(i-=Math.pow(2,8*t)),i},c.prototype.readInt8=function(e,t){return e>>>=0,t||O(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},c.prototype.readInt16LE=function(e,t){e>>>=0,t||O(e,2,this.length);const n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},c.prototype.readInt16BE=function(e,t){e>>>=0,t||O(e,2,this.length);const n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},c.prototype.readInt32LE=function(e,t){return e>>>=0,t||O(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},c.prototype.readInt32BE=function(e,t){return e>>>=0,t||O(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},c.prototype.readBigInt64LE=Z(function(e){V(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||q(e,this.length-8);const r=this[e+4]+256*this[e+5]+65536*this[e+6]+(n<<24);return(BigInt(r)<<BigInt(32))+BigInt(t+256*this[++e]+65536*this[++e]+this[++e]*2**24)}),c.prototype.readBigInt64BE=Z(function(e){V(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||q(e,this.length-8);const r=(t<<24)+65536*this[++e]+256*this[++e]+this[++e];return(BigInt(r)<<BigInt(32))+BigInt(this[++e]*2**24+65536*this[++e]+256*this[++e]+n)}),c.prototype.readFloatLE=function(e,t){return e>>>=0,t||O(e,4,this.length),o.read(this,e,!0,23,4)},c.prototype.readFloatBE=function(e,t){return e>>>=0,t||O(e,4,this.length),o.read(this,e,!1,23,4)},c.prototype.readDoubleLE=function(e,t){return e>>>=0,t||O(e,8,this.length),o.read(this,e,!0,52,8)},c.prototype.readDoubleBE=function(e,t){return e>>>=0,t||O(e,8,this.length),o.read(this,e,!1,52,8)},c.prototype.writeUintLE=c.prototype.writeUIntLE=function(e,t,n,r){e=+e,t>>>=0,n>>>=0,r||D(this,e,t,n,Math.pow(2,8*n)-1,0);let o=1,i=0;for(this[t]=255&e;++i<n&&(o*=256);)this[t+i]=e/o&255;return t+n},c.prototype.writeUintBE=c.prototype.writeUIntBE=function(e,t,n,r){e=+e,t>>>=0,n>>>=0,r||D(this,e,t,n,Math.pow(2,8*n)-1,0);let o=n-1,i=1;for(this[t+o]=255&e;--o>=0&&(i*=256);)this[t+o]=e/i&255;return t+n},c.prototype.writeUint8=c.prototype.writeUInt8=function(e,t,n){return e=+e,t>>>=0,n||D(this,e,t,1,255,0),this[t]=255&e,t+1},c.prototype.writeUint16LE=c.prototype.writeUInt16LE=function(e,t,n){return e=+e,t>>>=0,n||D(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},c.prototype.writeUint16BE=c.prototype.writeUInt16BE=function(e,t,n){return e=+e,t>>>=0,n||D(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},c.prototype.writeUint32LE=c.prototype.writeUInt32LE=function(e,t,n){return e=+e,t>>>=0,n||D(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},c.prototype.writeUint32BE=c.prototype.writeUInt32BE=function(e,t,n){return e=+e,t>>>=0,n||D(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},c.prototype.writeBigUInt64LE=Z(function(e,t=0){return R(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))}),c.prototype.writeBigUInt64BE=Z(function(e,t=0){return N(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))}),c.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t>>>=0,!r){const r=Math.pow(2,8*n-1);D(this,e,t,n,r-1,-r)}let o=0,i=1,s=0;for(this[t]=255&e;++o<n&&(i*=256);)e<0&&0===s&&0!==this[t+o-1]&&(s=1),this[t+o]=(e/i|0)-s&255;return t+n},c.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t>>>=0,!r){const r=Math.pow(2,8*n-1);D(this,e,t,n,r-1,-r)}let o=n-1,i=1,s=0;for(this[t+o]=255&e;--o>=0&&(i*=256);)e<0&&0===s&&0!==this[t+o+1]&&(s=1),this[t+o]=(e/i|0)-s&255;return t+n},c.prototype.writeInt8=function(e,t,n){return e=+e,t>>>=0,n||D(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},c.prototype.writeInt16LE=function(e,t,n){return e=+e,t>>>=0,n||D(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},c.prototype.writeInt16BE=function(e,t,n){return e=+e,t>>>=0,n||D(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},c.prototype.writeInt32LE=function(e,t,n){return e=+e,t>>>=0,n||D(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},c.prototype.writeInt32BE=function(e,t,n){return e=+e,t>>>=0,n||D(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},c.prototype.writeBigInt64LE=Z(function(e,t=0){return R(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),c.prototype.writeBigInt64BE=Z(function(e,t=0){return N(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),c.prototype.writeFloatLE=function(e,t,n){return L(this,e,t,!0,n)},c.prototype.writeFloatBE=function(e,t,n){return L(this,e,t,!1,n)},c.prototype.writeDoubleLE=function(e,t,n){return B(this,e,t,!0,n)},c.prototype.writeDoubleBE=function(e,t,n){return B(this,e,t,!1,n)},c.prototype.copy=function(e,t,n,r){if(!c.isBuffer(e))throw new TypeError("argument should be a Buffer");if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);const o=r-n;return this===e&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,n,r):Uint8Array.prototype.set.call(e,this.subarray(n,r),t),o},c.prototype.fill=function(e,t,n,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!c.isEncoding(r))throw new TypeError("Unknown encoding: "+r);if(1===e.length){const t=e.charCodeAt(0);("utf8"===r&&t<128||"latin1"===r)&&(e=t)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;let o;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(o=t;o<n;++o)this[o]=e;else{const i=c.isBuffer(e)?e:c.from(e,r),s=i.length;if(0===s)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(o=0;o<n-t;++o)this[o+t]=i[o%s]}return this};const $={};function j(e,t,n){$[e]=class extends n{constructor(){super(),Object.defineProperty(this,"message",{value:t.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${e}]`,this.stack,delete this.name}get code(){return e}set code(e){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:e,writable:!0})}toString(){return`${this.name} [${e}]: ${this.message}`}}}function U(e){let t="",n=e.length;const r="-"===e[0]?1:0;for(;n>=r+4;n-=3)t=`_${e.slice(n-3,n)}${t}`;return`${e.slice(0,n)}${t}`}function z(e,t,n,r,o,i){if(e>n||e<t){const r="bigint"==typeof t?"n":"";let o;throw o=i>3?0===t||t===BigInt(0)?`>= 0${r} and < 2${r} ** ${8*(i+1)}${r}`:`>= -(2${r} ** ${8*(i+1)-1}${r}) and < 2 ** ${8*(i+1)-1}${r}`:`>= ${t}${r} and <= ${n}${r}`,new $.ERR_OUT_OF_RANGE("value",o,e)}!function(e,t,n){V(t,"offset"),void 0!==e[t]&&void 0!==e[t+n]||q(t,e.length-(n+1))}(r,o,i)}function V(e,t){if("number"!=typeof e)throw new $.ERR_INVALID_ARG_TYPE(t,"number",e)}function q(e,t,n){if(Math.floor(e)!==e)throw V(e,n),new $.ERR_OUT_OF_RANGE(n||"offset","an integer",e);if(t<0)throw new $.ERR_BUFFER_OUT_OF_BOUNDS;throw new $.ERR_OUT_OF_RANGE(n||"offset",`>= ${n?1:0} and <= ${t}`,e)}j("ERR_BUFFER_OUT_OF_BOUNDS",function(e){return e?`${e} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),j("ERR_INVALID_ARG_TYPE",function(e,t){return`The "${e}" argument must be of type number. Received type ${typeof t}`},TypeError),j("ERR_OUT_OF_RANGE",function(e,t,n){let r=`The value of "${e}" is out of range.`,o=n;return Number.isInteger(n)&&Math.abs(n)>2**32?o=U(String(n)):"bigint"==typeof n&&(o=String(n),(n>BigInt(2)**BigInt(32)||n<-(BigInt(2)**BigInt(32)))&&(o=U(o)),o+="n"),r+=` It must be ${t}. Received ${o}`,r},RangeError);const H=/[^+/0-9A-Za-z-_]/g;function G(e,t){let n;t=t||1/0;const r=e.length;let o=null;const i=[];for(let s=0;s<r;++s){if(n=e.charCodeAt(s),n>55295&&n<57344){if(!o){if(n>56319){(t-=3)>-1&&i.push(239,191,189);continue}if(s+1===r){(t-=3)>-1&&i.push(239,191,189);continue}o=n;continue}if(n<56320){(t-=3)>-1&&i.push(239,191,189),o=n;continue}n=65536+(o-55296<<10|n-56320)}else o&&(t-=3)>-1&&i.push(239,191,189);if(o=null,n<128){if((t-=1)<0)break;i.push(n)}else if(n<2048){if((t-=2)<0)break;i.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;i.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;i.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return i}function W(e){return r.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(H,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function K(e,t,n,r){let o;for(o=0;o<r&&!(o+n>=t.length||o>=e.length);++o)t[o+n]=e[o];return o}function Y(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function J(e){return e!=e}const X=function(){const e="0123456789abcdef",t=new Array(256);for(let n=0;n<16;++n){const r=16*n;for(let o=0;o<16;++o)t[r+o]=e[n]+e[o]}return t}();function Z(e){return"undefined"==typeof BigInt?Q:e}function Q(){throw new Error("BigInt not supported")}},48544:(e,t,n)=>{"use strict";var r=n(89925),o=n(31481),i=n(26120),s=n(70758),a=n(96454),c=n(74824),l=n(14487),u=n(4350),d=n(5560),f=n(70934),h=n(66414),p=n(37836),g=n(57751),m=n(84553),y=n(51580),b=n(42385),v=n(13439),_=n(17872),w=n(30708),S=n(55232);(0,v.aJ)("initApi",(e,t)=>{const n=(0,h.f4)(),{shouldAllowHttpTransport:r,shouldForceHttpTransport:o,shouldDebugExportedSenders:i,shouldCollectDebugLogs:s,language:c}=(0,w.l)(e),l=window.location.search.includes("test")||"1"===n?.tgWebAuthTest,d=e.config?.isTestServer,f=(0,u.zk)(),p=Object.values(f).filter(e=>e.isTest===d).map(({userId:e})=>e).filter(Boolean);(0,y.Ru)(t.apiUpdate,{userAgent:navigator.userAgent,platform:a.Aw,sessionData:(0,g.CX)(),isWebmSupported:a.OF,maxBufferSize:a.kn,webAuthToken:n?.tgWebAuthToken,dcId:n?.tgWebAuthDcId?Number(n?.tgWebAuthDcId):void 0,mockScenario:n?.mockScenario,shouldAllowHttpTransport:r,shouldForceHttpTransport:o,shouldDebugExportedSenders:i,langCode:c,isTestServerRequested:l,accountIds:p}),(0,y.eu)(Boolean(s))}),(0,v.aJ)("setAuthPhoneNumber",(e,t,n)=>{const{phoneNumber:r}=n;return(0,y.px)("provideAuthPhoneNumber",r.replace(/[^\d]/g,"")),{...e,authIsLoading:!0,authErrorKey:void 0}}),(0,v.aJ)("setAuthCode",(e,t,n)=>{const{code:r}=n;return(0,y.px)("provideAuthCode",r),{...e,authIsLoading:!0,authErrorKey:void 0}}),(0,v.aJ)("setAuthPassword",(e,t,n)=>{const{password:r}=n;return(0,y.px)("provideAuthPassword",r),{...e,authIsLoading:!0,authErrorKey:void 0}}),(0,v.aJ)("uploadProfilePhoto",async(e,t,n)=>{const{file:o,isFallback:i,isVideo:s,videoTs:a,bot:c,tabId:u=(0,l.g0)()}=n;e=(0,_.G42)(e,r.TD.InProgress,u),(0,v.UF)(e),await(0,y.px)("uploadProfilePhoto",o,i,s,a,c)&&(e=(0,v.mS)(),e=(0,_.G42)(e,r.TD.Complete,u),(0,v.UF)(e),t.loadFullUser({userId:e.currentUserId}))}),(0,v.aJ)("signUp",(e,t,n)=>{const{firstName:r,lastName:o}=n;return(0,y.px)("provideAuthRegistration",{firstName:r,lastName:o}),{...e,authIsLoading:!0,authErrorKey:void 0}}),(0,v.aJ)("returnToAuthPhoneNumber",e=>((0,y.px)("restartAuth"),{...e,authErrorKey:void 0})),(0,v.aJ)("goToAuthQrCode",e=>((0,y.px)("restartAuthWithQr"),{...e,authIsLoadingQrCode:!0,authErrorKey:void 0})),(0,v.aJ)("saveSession",(e,t,n)=>{if(e.passcode.isScreenLocked)return;const{sessionData:r}=n;r?(0,g.AA)(r):(0,g.rE)()}),(0,v.aJ)("signOut",async(e,t,n)=>{"hangUp"in t&&t.hangUp({tabId:(0,l.g0)()}),"leaveGroupCall"in t&&t.leaveGroupCall({tabId:(0,l.g0)()});try{(0,h.lD)(),(0,h.vO)(),await(0,d.al)(),await Promise.race([(0,y.px)("destroy"),(0,p.v7)(3e3)]),await(0,m.nv)(!1)}catch(e){}t.reset(),n?.forceInitApi&&t.initApi()}),(0,v.aJ)("requestChannelDifference",(e,t,n)=>{const{chatId:r}=n;(0,y.px)("requestChannelDifference",r)}),(0,v.aJ)("reset",(e,t)=>{(0,g.rE)(u.Xz),(0,f.WN)(),c.clear(o.Iz7),c.clear(o.zrf),c.clear(o.cLl),c.clear(o.nfi),(0,b.s1)(),(0,S.m)();const n=(0,u.zk)();Object.values(n).length||(s.B6.clear(),(0,b.bN)());const r=o.CV.replace(/\d+$/,""),a=Number((o.CV.match(/\d+$/)||["0"])[0]);for(let e=0;e<a;e++)c.clear(`${r}${0===e?"":e}`);(0,i.q)(0),t.initShared({force:!0}),Object.values(e.byTabId).forEach(({id:e,isMasterTab:n})=>{t.init({tabId:e,isMasterTab:n})})}),(0,v.aJ)("disconnect",()=>{(0,y.eZ)("disconnect")}),(0,v.aJ)("destroyConnection",()=>{(0,y.eZ)("destroy",!0,!0)}),(0,v.aJ)("loadNearestCountry",async e=>{if("connectionStateReady"!==e.connectionState)return;const t=await(0,y.px)("fetchNearestCountry");e=(0,v.mS)(),e={...e,authNearestCountry:t},(0,v.UF)(e)}),(0,v.aJ)("setDeviceToken",(e,t,n)=>{const{token:r}=n;return{...e,push:{deviceToken:r,subscribedAt:Date.now()}}}),(0,v.aJ)("deleteDeviceToken",e=>({...e,push:void 0})),(0,v.aJ)("lockScreen",async e=>{const t=JSON.stringify({...(0,g.CX)(),userId:e.currentUserId}),n=(0,b.Mm)(e);await(0,f.yp)(t,n),(0,f.m)(),(0,g.rE)(),(0,i.q)(0),e=(0,v.mS)(),e=(0,_.Vg3)(e,{isScreenLocked:!0,invalidAttemptsCount:0,timeoutUntil:void 0}),(0,v.UF)(e),setTimeout(()=>{e=(0,v.mS)(),e=(0,_.nYM)(e),(0,v.UF)(e)},o.es);try{await(0,d.al)(),await(0,y.px)("destroy",!0)}catch(e){}})},48775:(e,t,n)=>{"use strict";n.d(t,{Kk:()=>l,Ms:()=>d,QH:()=>u,U2:()=>f});var r=n(84051),o=n(31481),i=n(17142),s=n(87357),a=n(54746),c=n(9267);function l(e,t){return e("StarsAmountText",{amount:t},{pluralValue:t})}function u(e,t,n){const r=n?(0,i.wD)(Number(t)):t;return e("TonAmountText",{amount:e.preciseNumber(r)},{pluralValue:r})}function d(e,t,n){const{className:o,containerClassName:c,shouldConvertFromNanos:l}=n||{},u=l?(0,i.wD)(Number(t)):t,d=r.Ay.createElement(a.A,{name:"toncoin",className:(0,s.A)("ton-amount-icon",o)});return c?r.Ay.createElement("span",{className:c},e("TonAmount",{amount:u},{withNodes:!0,specialReplacement:{"💎":d}})):e("TonAmount",{amount:u},{withNodes:!0,specialReplacement:{"💎":d}})}function f(e,t,n){const{asFont:i,className:l,containerClassName:u}=n||{},d=i?r.Ay.createElement(a.A,{name:"star",className:(0,s.A)("star-amount-icon",l)}):r.Ay.createElement(c.A,{type:"gold",className:(0,s.A)("star-amount-icon",l),size:"adaptive"});return u?r.Ay.createElement("span",{className:u},e("StarsAmount",{amount:t},{withNodes:!0,specialReplacement:{[o.Cyx]:d}})):e("StarsAmount",{amount:t},{withNodes:!0,specialReplacement:{[o.Cyx]:d}})}},48799:(e,t,n)=>{"use strict";n.d(t,{LW:()=>d,Nn:()=>c,ec:()=>l,hD:()=>i,hL:()=>u,o9:()=>s,wE:()=>a});var r=n(84051);function o(){return o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o.apply(null,arguments)}const i=({size:e=20})=>r.Ay.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:e,height:e,viewBox:"0 0 20 20",fill:"none"},r.Ay.createElement("g",{"clip-path":"url(#clip0_8953_117765)"},r.Ay.createElement("g",{"clip-path":"url(#clip1_8953_117765)"},r.Ay.createElement("path",{d:"M10.3086 8.01685C9.96693 8.01685 9.68359 7.73351 9.68359 7.39185C9.68359 7.05018 9.96693 6.76685 10.3086 6.76685H14.6836C15.0253 6.76685 15.3086 7.05018 15.3086 7.39185C15.3086 7.73351 15.0336 8.01685 14.6836 8.01685H10.3086Z",fill:"currentColor"}),r.Ay.createElement("path",{d:"M5.4918 8.46644L4.8668 7.84144C4.62513 7.59977 4.62513 7.19977 4.8668 6.95811C5.10846 6.71644 5.50846 6.71644 5.75013 6.95811L5.93346 7.14144L7.3668 5.70811C7.60846 5.46644 8.00846 5.46644 8.25013 5.70811C8.4918 5.94977 8.4918 6.34977 8.25013 6.59144L6.37513 8.46644C6.25846 8.58311 6.10013 8.64977 5.93346 8.64977C5.77513 8.64977 5.6168 8.59144 5.4918 8.46644Z",fill:"currentColor"}),r.Ay.createElement("path",{d:"M10.3086 13.8501C9.96693 13.8501 9.68359 13.5668 9.68359 13.2251C9.68359 12.8834 9.96693 12.6001 10.3086 12.6001H14.6836C15.0253 12.6001 15.3086 12.8834 15.3086 13.2251C15.3086 13.5668 15.0336 13.8501 14.6836 13.8501H10.3086Z",fill:"currentColor"}),r.Ay.createElement("path",{d:"M5.4918 14.2999L4.8668 13.6749C4.62513 13.4333 4.62513 13.0333 4.8668 12.7916C5.10846 12.5499 5.50846 12.5499 5.75013 12.7916L5.93346 12.9749L7.3668 11.5416C7.60846 11.2999 8.00846 11.2999 8.25013 11.5416C8.4918 11.7833 8.4918 12.1833 8.25013 12.4249L6.37513 14.2999C6.25846 14.4166 6.10013 14.4833 5.93346 14.4833C5.77513 14.4833 5.6168 14.4249 5.4918 14.2999Z",fill:"currentColor"}),r.Ay.createElement("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M7.49935 18.9584C2.97435 18.9584 1.04102 17.0251 1.04102 12.5001V7.50008C1.04102 2.97508 2.97435 1.04175 7.49935 1.04175H12.4993C17.0243 1.04175 18.9577 2.97508 18.9577 7.50008V12.5001C18.9577 17.0251 17.0243 18.9584 12.4993 18.9584H7.49935ZM2.29102 7.50008V12.5001C2.29102 16.3417 3.65768 17.7084 7.49935 17.7084H12.4993C16.341 17.7084 17.7077 16.3417 17.7077 12.5001V7.50008C17.7077 3.65841 16.341 2.29175 12.4993 2.29175H7.49935C3.65768 2.29175 2.29102 3.65841 2.29102 7.50008Z",fill:"currentColor"}))),r.Ay.createElement("defs",null,r.Ay.createElement("clipPath",{id:"clip0_8953_117765"},r.Ay.createElement("rect",{width:"20",height:"20",fill:"currentColor"})),r.Ay.createElement("clipPath",{id:"clip1_8953_117765"},r.Ay.createElement("rect",{width:"20",height:"20",fill:"currentColor"})))),s=({size:e=20})=>r.Ay.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:e,height:e,viewBox:"0 0 20 20",fill:"none"},r.Ay.createElement("g",{"clip-path":"url(#clip0_8953_117781)"},r.Ay.createElement("g",{"clip-path":"url(#clip1_8953_117781)"},r.Ay.createElement("path",{d:"M4.12343 8.27197C4.2892 8.68201 4.68181 8.94979 5.14421 8.94979C5.60662 8.94979 6.00796 8.68201 6.165 8.27197L6.78445 6.66527C6.8019 6.60669 6.84552 6.56485 6.90659 6.54812L8.58173 5.95398C9.00924 5.79498 9.28843 5.41841 9.28843 4.9749C9.28843 4.53138 9.00924 4.14644 8.58173 3.99582L6.90659 3.40167C6.87872 3.3916 6.8534 3.37594 6.83234 3.35574C6.81128 3.33554 6.79495 3.31126 6.78445 3.28452L6.165 1.67782C5.99923 1.26778 5.60662 1 5.14421 1C4.68181 1 4.28047 1.26778 4.12343 1.67782L3.50398 3.28452C3.48653 3.3431 3.4429 3.38494 3.38183 3.40167L1.7067 3.99582C1.27919 4.15481 1 4.53138 1 4.9749C1 5.41841 1.27919 5.80335 1.7067 5.95398L3.38183 6.54812C3.4429 6.57322 3.48653 6.61506 3.50398 6.66527L4.12343 8.27197ZM3.83551 5.3682L2.72748 4.9749L3.83551 4.58159C4.2543 4.43096 4.57711 4.12134 4.73415 3.71967L5.14421 2.6569L5.55427 3.71967C5.71132 4.11297 6.04285 4.43096 6.45291 4.57322L7.56094 4.96653L6.45291 5.35983C6.03413 5.51046 5.71132 5.82008 5.55427 6.22176L5.14421 7.28452L4.73415 6.22176C4.57711 5.82845 4.24557 5.51046 3.83551 5.3682ZM4.6174 18.364C4.6174 18.7071 4.91404 18.9916 5.27175 18.9916H6.58045L6.57172 19C7.67975 19 8.29048 19 8.88376 18.7657C9.47703 18.5314 9.90454 18.1213 10.6898 17.3682L17.8004 10.5481L17.8405 10.5096C18.3125 10.0494 18.5821 9.78661 18.7513 9.46109C19.0829 8.8251 19.0829 8.07197 18.7513 7.43598C18.5926 7.10711 18.3299 6.85523 17.8632 6.40837L17.8004 6.34812L17.7594 6.30962C17.2795 5.85607 17.0055 5.59833 16.6662 5.43598C16.0031 5.11799 15.2179 5.11799 14.5548 5.43598C14.2119 5.58828 13.9493 5.84017 13.4834 6.28703L13.4206 6.34812L12.1293 7.58661L6.31871 13.1598C5.54221 13.9046 5.10598 14.323 4.86169 14.8921C4.6174 15.4611 4.6174 16.0469 4.6174 17.1096V18.364ZM5.93482 17.7364V17.1172C5.93482 16.1799 5.93482 15.7197 6.08314 15.3766C6.23146 15.0335 6.57172 14.7071 7.26097 14.046L12.6179 8.90795L13.4468 9.70293C13.6998 9.94561 14.1186 9.94561 14.3716 9.70293C14.6246 9.46025 14.6246 9.05858 14.3716 8.8159L13.5427 8.02092L14.3716 7.22594C14.7642 6.84937 14.9997 6.62343 15.1568 6.54812C15.4534 6.40586 15.8111 6.40586 16.1078 6.54812C16.2648 6.62343 16.5004 6.84937 16.893 7.22594C17.2856 7.60251 17.5212 7.82845 17.5997 7.97908C17.748 8.2636 17.748 8.6067 17.5997 8.89121C17.5212 9.04184 17.2856 9.26778 16.893 9.64435L9.7824 16.4644C9.04953 17.1674 8.73544 17.4603 8.39518 17.5941C8.03746 17.7364 7.54888 17.7364 6.58045 17.7364H5.93482Z",fill:"currentColor"}))),r.Ay.createElement("defs",null,r.Ay.createElement("clipPath",{id:"clip0_8953_117781"},r.Ay.createElement("rect",{width:"20",height:"20",fill:"currentColor"})),r.Ay.createElement("clipPath",{id:"clip1_8953_117781"},r.Ay.createElement("rect",{width:"20",height:"20",fill:"currentColor"})))),a=({size:e=20})=>r.Ay.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:e,height:e,viewBox:"0 0 20 20",fill:"none"},r.Ay.createElement("g",{"clip-path":"url(#clip0_8953_117760)"},r.Ay.createElement("path",{d:"M2 3.77778H7.74359M7.74359 3.77778H11.4359M7.74359 3.77778V2M13.4872 3.77778H11.4359M11.4359 3.77778C10.7631 6.20889 9.35262 8.50667 7.74359 10.5271M7.74359 10.5271C6.41108 12.1991 4.94154 13.6809 3.64103 14.8889M7.74359 10.5271C6.92308 9.55556 5.61026 7.6 5.28205 6.88889M7.74359 10.5271L10.2051 13.1111M11.4359 18L12.3737 15.3333M12.3737 15.3333L14.7179 8.66667L17.0622 15.3333M12.3737 15.3333H17.0622M18 18L17.0622 15.3333",stroke:"currentColor","stroke-width":"1.2","stroke-linecap":"round","stroke-linejoin":"round"}),r.Ay.createElement("path",{d:"M16.7922 6.80565L16.946 6.45218C17.216 5.82675 17.7109 5.32517 18.3329 5.04641L18.8079 4.83532C18.8652 4.8088 18.9138 4.76641 18.9479 4.71319C18.9819 4.65996 19 4.59811 19 4.53494C19 4.47176 18.9819 4.40991 18.9479 4.35668C18.9138 4.30346 18.8652 4.26108 18.8079 4.23455L18.3591 4.0347C17.7215 3.74801 17.2182 3.22788 16.9528 2.58147L16.7947 2.20052C16.7715 2.14141 16.731 2.09067 16.6785 2.0549C16.626 2.01913 16.5639 2 16.5003 2C16.4368 2 16.3747 2.01913 16.3222 2.0549C16.2697 2.09067 16.2292 2.14141 16.206 2.20052L16.0478 2.58209C15.7822 3.22839 15.2787 3.74829 14.6409 4.0347L14.1928 4.23392C14.1353 4.26037 14.0865 4.30276 14.0523 4.35606C14.0182 4.40935 14 4.47132 14 4.53462C14 4.59792 14.0182 4.65989 14.0523 4.71319C14.0865 4.76648 14.1353 4.80887 14.1928 4.83532L14.6672 5.04703C15.2893 5.32551 15.7844 5.82687 16.0547 6.45218L16.2085 6.80565C16.2325 6.86321 16.273 6.91238 16.325 6.94696C16.3769 6.98155 16.4379 7 16.5003 7C16.5628 7 16.6238 6.98155 16.6757 6.94696C16.7277 6.91238 16.7682 6.86321 16.7922 6.80565Z",fill:"currentColor"})),r.Ay.createElement("defs",null,r.Ay.createElement("clipPath",{id:"clip0_8953_117760"},r.Ay.createElement("rect",{width:"20",height:"20",fill:"currentColor"})))),c=({size:e=20})=>r.Ay.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:e,height:e,viewBox:"0 0 20 20",fill:"none"},r.Ay.createElement("g",{"clip-path":"url(#clip0_8953_117797)"},r.Ay.createElement("path",{d:"M2 9.59995C2 6.58315 2 5.07435 2.9376 4.13755C3.8752 3.20075 5.3832 3.19995 8.4 3.19995H11.6C14.6168 3.19995 16.1256 3.19995 17.0624 4.13755C17.9992 5.07515 18 6.58315 18 9.59995V11.2C18 14.2168 18 15.7256 17.0624 16.6624C16.1248 17.5992 14.6168 17.6 11.6 17.6H8.4C5.3832 17.6 3.8744 17.6 2.9376 16.6624C2.0008 15.7248 2 14.2168 2 11.2V9.59995Z",stroke:"currentColor","stroke-width":"1.2"}),r.Ay.createElement("path",{d:"M6.00039 3.2V2M14.0004 3.2V2M2.40039 7.2H17.6004",stroke:"currentColor","stroke-width":"1.2","stroke-linecap":"round"}),r.Ay.createElement("path",{d:"M14.7992 13.6001C14.7992 13.8123 14.7149 14.0158 14.5649 14.1658C14.4149 14.3158 14.2114 14.4001 13.9992 14.4001C13.787 14.4001 13.5836 14.3158 13.4335 14.1658C13.2835 14.0158 13.1992 13.8123 13.1992 13.6001C13.1992 13.3879 13.2835 13.1844 13.4335 13.0344C13.5836 12.8844 13.787 12.8001 13.9992 12.8001C14.2114 12.8001 14.4149 12.8844 14.5649 13.0344C14.7149 13.1844 14.7992 13.3879 14.7992 13.6001ZM14.7992 10.4001C14.7992 10.6123 14.7149 10.8158 14.5649 10.9658C14.4149 11.1158 14.2114 11.2001 13.9992 11.2001C13.787 11.2001 13.5836 11.1158 13.4335 10.9658C13.2835 10.8158 13.1992 10.6123 13.1992 10.4001C13.1992 10.1879 13.2835 9.98444 13.4335 9.83441C13.5836 9.68438 13.787 9.6001 13.9992 9.6001C14.2114 9.6001 14.4149 9.68438 14.5649 9.83441C14.7149 9.98444 14.7992 10.1879 14.7992 10.4001ZM10.7992 13.6001C10.7992 13.8123 10.7149 14.0158 10.5649 14.1658C10.4149 14.3158 10.2114 14.4001 9.99922 14.4001C9.78705 14.4001 9.58356 14.3158 9.43353 14.1658C9.2835 14.0158 9.19922 13.8123 9.19922 13.6001C9.19922 13.3879 9.2835 13.1844 9.43353 13.0344C9.58356 12.8844 9.78705 12.8001 9.99922 12.8001C10.2114 12.8001 10.4149 12.8844 10.5649 13.0344C10.7149 13.1844 10.7992 13.3879 10.7992 13.6001ZM10.7992 10.4001C10.7992 10.6123 10.7149 10.8158 10.5649 10.9658C10.4149 11.1158 10.2114 11.2001 9.99922 11.2001C9.78705 11.2001 9.58356 11.1158 9.43353 10.9658C9.2835 10.8158 9.19922 10.6123 9.19922 10.4001C9.19922 10.1879 9.2835 9.98444 9.43353 9.83441C9.58356 9.68438 9.78705 9.6001 9.99922 9.6001C10.2114 9.6001 10.4149 9.68438 10.5649 9.83441C10.7149 9.98444 10.7992 10.1879 10.7992 10.4001ZM6.79922 13.6001C6.79922 13.8123 6.71493 14.0158 6.5649 14.1658C6.41487 14.3158 6.21139 14.4001 5.99922 14.4001C5.78705 14.4001 5.58356 14.3158 5.43353 14.1658C5.2835 14.0158 5.19922 13.8123 5.19922 13.6001C5.19922 13.3879 5.2835 13.1844 5.43353 13.0344C5.58356 12.8844 5.78705 12.8001 5.99922 12.8001C6.21139 12.8001 6.41487 12.8844 6.5649 13.0344C6.71493 13.1844 6.79922 13.3879 6.79922 13.6001ZM6.79922 10.4001C6.79922 10.6123 6.71493 10.8158 6.5649 10.9658C6.41487 11.1158 6.21139 11.2001 5.99922 11.2001C5.78705 11.2001 5.58356 11.1158 5.43353 10.9658C5.2835 10.8158 5.19922 10.6123 5.19922 10.4001C5.19922 10.1879 5.2835 9.98444 5.43353 9.83441C5.58356 9.68438 5.78705 9.6001 5.99922 9.6001C6.21139 9.6001 6.41487 9.68438 6.5649 9.83441C6.71493 9.98444 6.79922 10.1879 6.79922 10.4001Z",fill:"currentColor"})),r.Ay.createElement("defs",null,r.Ay.createElement("clipPath",{id:"clip0_8953_117797"},r.Ay.createElement("rect",{width:"20",height:"20",fill:"currentColor"})))),l=e=>r.Ay.createElement("svg",o({xmlns:"http://www.w3.org/2000/svg",width:18,height:18,fill:"none"},e),r.Ay.createElement("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M18.333 5.417h-5M5 5.417H1.667"}),r.Ay.createElement("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M8.333 8.333a2.917 2.917 0 1 1 0-5.833 2.917 2.917 0 0 1 0 5.833Z",clipRule:"evenodd"}),r.Ay.createElement("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M18.333 14.584H15M6.667 14.584h-5"}),r.Ay.createElement("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M11.667 17.5a2.917 2.917 0 1 1 0-5.833 2.917 2.917 0 0 1 0 5.833Z",clipRule:"evenodd"})),u=e=>r.Ay.createElement("svg",o({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none"},e),r.Ay.createElement("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"m10 7-.516 1.394c-.676 1.828-1.014 2.742-1.681 3.409-.667.667-1.581 1.005-3.409 1.681L3 14l1.394.516c1.828.676 2.742 1.015 3.409 1.681.667.666 1.005 1.581 1.681 3.409L10 21l.516-1.394c.676-1.828 1.015-2.742 1.681-3.409.666-.667 1.581-1.005 3.409-1.681L17 14l-1.394-.516c-1.828-.676-2.742-1.014-3.409-1.681-.667-.667-1.005-1.581-1.681-3.409L10 7Zm8-4-.221.597c-.29.784-.435 1.176-.72 1.461-.286.286-.678.431-1.462.72L15 6l.598.221c.783.29 1.175.435 1.46.72.286.286.431.678.72 1.462L18 9l.221-.597c.29-.784.435-1.176.72-1.461.286-.286.678-.431 1.462-.72L21 6l-.598-.221c-.783-.29-1.175-.435-1.46-.72-.286-.286-.431-.678-.72-1.462L18 3Z"})),d=e=>r.Ay.createElement("svg",o({xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",fill:"none"},e),r.Ay.createElement("path",{stroke:"#7D40FF",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.2,d:"M6.488 4.331c-.907.037-1.812.11-2.713.218A3.24 3.24 0 0 0 .928 7.403C.81 8.503.71 9.633.71 10.784c0 1.152.1 2.281.218 3.382a3.24 3.24 0 0 0 2.847 2.854c1.106.122 2.242.229 3.4.229s2.294-.107 3.401-.23a3.24 3.24 0 0 0 2.847-2.854c.101-.945.189-1.912.212-2.896m-2.256-8.456c.63-.63.727-1.209 1.186-1.791a.883.883 0 0 1 1.395 0c.458.582.556 1.161 1.187 1.791.63.63 1.209.728 1.791 1.187a.882.882 0 0 1 0 1.395c-.582.459-1.161.556-1.791 1.186-.63.63-.729 1.209-1.187 1.791a.884.884 0 0 1-1.395 0c-.459-.58-.556-1.16-1.186-1.79-.63-.63-1.209-.727-1.791-1.186a.883.883 0 0 1 0-1.395c.582-.458 1.16-.557 1.79-1.188Z"}),r.Ay.createElement("path",{stroke:"#7D40FF",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.2,d:"M7.176 17.249c-1.158 0-2.294-.107-3.401-.23a3.216 3.216 0 0 1-.505-.098 4.204 4.204 0 0 1 1.395-2.316 3.966 3.966 0 0 1 6.397 2.282v.039c-.16.043-.322.074-.486.093-1.105.123-2.242.23-3.4.23Zm-.01-5.565c1.331 0 2.08-.748 2.08-2.078 0-1.33-.749-2.079-2.08-2.079-1.33 0-2.078.749-2.078 2.08 0 1.329.748 2.077 2.079 2.077Z"}))},48862:(e,t,n)=>{"use strict";n.d(t,{EM:()=>cr,rB:()=>lr,Hk:()=>dr});var r=n(92096),o=n.n(r),i=n(13439);var s=new Uint8Array(256),a=new Uint8Array(256),c=new Uint32Array(256),l=new Uint32Array(256),u=new Uint32Array(256),d=new Uint32Array(256),f=new Uint32Array(256),h=new Uint32Array(256),p=new Uint32Array(256),g=new Uint32Array(256);function m(e,t){return e.charCodeAt(t)<<24^e.charCodeAt(t+1)<<16^e.charCodeAt(t+2)<<8^e.charCodeAt(t+3)}function y(e){if(e instanceof Uint32Array)return e;if("string"==typeof e){if(e.length%4!=0)for(var t=e.length%4;t<=4;t++)e+="\0x00";var n=new Uint32Array(e.length/4);for(t=0;t<e.length;t+=4)n[t/4]=m(e,t);return n}if(e instanceof Uint8Array){for(n=new Uint32Array(e.length/4),t=0;t<e.length;t+=4)n[t/4]=e[t]<<24^e[t+1]<<16^e[t+2]<<8^e[t+3];return n}throw new Error("Unable to create 32-bit words")}function b(e,t,n){void 0===n&&(n=e);for(var r=0;r<e.length;r++)n[r]=e[r]^t[r]}!function(){for(var e,t,n,r,o,i=new Uint8Array(256),m=new Uint8Array(256),y=0,b=0,v=0;v<256;v++)i[v]=v<<1^283*(v>>7),m[i[v]^v]=v;for(;!s[y];y^=e||1)n=(n=b^b<<1^b<<2^b<<3^b<<4)>>8^255&n^99,s[y]=n,a[n]=y,o=16843009*i[t=i[e=i[y]]]^65537*t^257*e^16843008*y,r=257*i[n]^16843008*n,c[y]=r=r<<24^r>>>8,l[y]=r=r<<24^r>>>8,u[y]=r=r<<24^r>>>8,d[y]=r=r<<24^r>>>8,f[n]=o=o<<24^o>>>8,h[n]=o=o<<24^o>>>8,p[n]=o=o<<24^o>>>8,g[n]=o=o<<24^o>>>8,b=m[b]||1}();var v=function(){function e(e){var t=y(e);if(4!==t.length&&6!==t.length&&8!==t.length)throw new Error("Invalid key size");this.encKey=new Uint32Array(4*t.length+28),this.decKey=new Uint32Array(4*t.length+28),this.encKey.set(t);for(var n,r=1,o=t.length;o<4*t.length+28;o++)n=this.encKey[o-1],(o%t.length===0||8===t.length&&o%t.length===4)&&(n=s[n>>>24]<<24^s[n>>16&255]<<16^s[n>>8&255]<<8^s[255&n],o%t.length===0&&(n=n<<8^n>>>24^r<<24,r=r<<1^283*(r>>7))),this.encKey[o]=this.encKey[o-t.length]^n;for(var i=0;o;i++,o--)n=this.encKey[3&i?o:o-4],this.decKey[i]=o<=4||i<4?n:f[s[n>>>24]]^h[s[n>>16&255]]^p[s[n>>8&255]]^g[s[255&n]]}return e.prototype.encrypt=function(e){for(var t,n,r,o=y(e),i=new Uint32Array(4),a=o[0]^this.encKey[0],f=o[1]^this.encKey[1],h=o[2]^this.encKey[2],p=o[3]^this.encKey[3],g=this.encKey.length/4-2,m=4,b=0;b<g;b++)t=c[a>>>24]^l[f>>16&255]^u[h>>8&255]^d[255&p]^this.encKey[m],n=c[f>>>24]^l[h>>16&255]^u[p>>8&255]^d[255&a]^this.encKey[m+1],r=c[h>>>24]^l[p>>16&255]^u[a>>8&255]^d[255&f]^this.encKey[m+2],p=c[p>>>24]^l[a>>16&255]^u[f>>8&255]^d[255&h]^this.encKey[m+3],a=t,f=n,h=r,m+=4;for(b=0;b<4;b++)i[b]=s[a>>>24]<<24^s[f>>16&255]<<16^s[h>>8&255]<<8^s[255&p]^this.encKey[m++],t=a,a=f,f=h,h=p,p=t;return i},e.prototype.decrypt=function(e){for(var t,n,r,o=y(e),i=new Uint32Array(4),s=o[0]^this.decKey[0],c=o[3]^this.decKey[1],l=o[2]^this.decKey[2],u=o[1]^this.decKey[3],d=this.decKey.length/4-2,m=4,b=0;b<d;b++)t=f[s>>>24]^h[c>>16&255]^p[l>>8&255]^g[255&u]^this.decKey[m],n=f[c>>>24]^h[l>>16&255]^p[u>>8&255]^g[255&s]^this.decKey[m+1],r=f[l>>>24]^h[u>>16&255]^p[s>>8&255]^g[255&c]^this.decKey[m+2],u=f[u>>>24]^h[s>>16&255]^p[c>>8&255]^g[255&l]^this.decKey[m+3],s=t,c=n,l=r,m+=4;for(b=0;b<4;b++)i[3&-b]=a[s>>>24]<<24^a[c>>16&255]<<16^a[l>>8&255]<<8^a[255&u]^this.decKey[m++],t=s,s=c,c=l,l=u,u=t;return i},e}(),_=function(){function e(e,t,n){void 0===n&&(n=16),this.key=y(e),this.iv=y(t),this.cipher=new v(e),this.blockSize=n/4}return e.prototype.encrypt=function(e,t){for(var n=y(e),r=t||new Uint32Array(n.length),o=this.iv.subarray(this.blockSize,this.iv.length),i=this.iv.subarray(0,this.blockSize),s=new Uint32Array(this.blockSize),a=0;a<n.length;a+=this.blockSize){var c=n.subarray(a,a+this.blockSize);b(c,i,s);var l=this.cipher.encrypt(s);b(l,o),o=c,i=l;for(var u=a,d=0;u<n.length&&d<4;u++,d++)r[u]=l[d]}return r},e.prototype.decrypt=function(e,t){for(var n=y(e),r=t||new Uint32Array(n.length),o=this.iv.subarray(this.blockSize,this.iv.length),i=this.iv.subarray(0,this.blockSize),s=new Uint32Array(this.blockSize),a=0;a<r.length;a+=this.blockSize){var c=n.subarray(a,a+this.blockSize);b(c,o,s);var l=this.cipher.decrypt(s);b(l,i),i=c,o=l;for(var u=a,d=0;u<r.length&&d<4;u++,d++)r[u]=l[d]}return r},e}();!function(){function e(e,t,n){if(void 0===n&&(n=16),this.offset=0,this.key=y(e),this.counter=y(t),this.cipher=new v(e),this.blockSize=n/4,4!==this.counter.length)throw new Error("AES-CTR mode counter must be 16 bytes length")}e.prototype.encrypt=function(e,t){for(var n=y(e),r=t||new Uint32Array(n.length),o=this.offset,i=0;i<n.length;i+=this.blockSize){for(var s=this.cipher.encrypt(this.counter),a=i,c=o;a<n.length&&c<this.blockSize;a++,c++)r[a]=s[c]^n[a];n.length-i>=this.blockSize&&this.incrementCounter(),o&&(i-=o,o=0)}return this.offset=(this.offset+n.length%4)%4,r},e.prototype.decrypt=function(e,t){return this.encrypt(e,t)},e.prototype.incrementCounter=function(){for(var e=this.counter.length-1;e>=0&&!(++this.counter[e]<4294967295);e--);}}();const w=v,S=1===new Uint8Array(new Uint32Array([16909060]))[0],x=S?function(e){return e.buffer}:function(e){const t=new Uint8Array(4*e.length);let n=0;for(let r=0;r<e.length;r++){const o=e[r];t[n++]=o>>>24,t[n++]=o>>16&255,t[n++]=o>>8&255,t[n++]=255&o}return t.buffer},I=S?function(e){return new Uint32Array(e)}:function(e){const t=new Uint8Array(e),n=new Uint32Array(t.length/4);for(let e=0;e<t.length;e+=4)n[e/4]=t[e]<<24^t[e+1]<<16^t[e+2]<<8^t[e+3];return n};function A(e,t){return e.charCodeAt(t)<<24^e.charCodeAt(t+1)<<16^e.charCodeAt(t+2)<<8^e.charCodeAt(t+3)}var C=n(48287).hp;function k(e,t,n){return(t=function(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class E{constructor(e){k(this,"_counter",void 0),this._counter=C.from(e)}increment(){for(let e=15;e>=0;e--){if(255!==this._counter[e]){this._counter[e]++;break}this._counter[e]=0}}}class T{constructor(e,t){k(this,"_counter",void 0),k(this,"_remainingCounter",void 0),k(this,"_remainingCounterIndex",void 0),k(this,"_aes",void 0),t instanceof E||(t=new E(t)),this._counter=t,this._remainingCounter=void 0,this._remainingCounterIndex=16,this._aes=new w(function(e){if(e instanceof Uint32Array)return e;if("string"==typeof e){if(e.length%4!=0)for(let t=e.length%4;t<=4;t++)e+="\0x00";const t=new Uint32Array(e.length/4);for(let n=0;n<e.length;n+=4)t[n/4]=A(e,n);return t}if(e instanceof Uint8Array){const t=new Uint32Array(e.length/4);for(let n=0;n<e.length;n+=4)t[n/4]=e[n]<<24^e[n+1]<<16^e[n+2]<<8^e[n+3];return t}throw new Error("Unable to create 32-bit words")}(e))}update(e){return this.encrypt(e)}encrypt(e){const t=C.from(e);for(let e=0;e<t.length;e++)16===this._remainingCounterIndex&&(this._remainingCounter=C.from(x(this._aes.encrypt(I(this._counter._counter)))),this._remainingCounterIndex=0,this._counter.increment()),this._remainingCounter&&(t[e]^=this._remainingCounter[this._remainingCounterIndex++]);return t}}class P{constructor(e){this.algorithm=e,k(this,"data",new Uint8Array(0))}update(e){this.data=new Uint8Array(e)}async digest(){return"sha1"===this.algorithm?C.from(await self.crypto.subtle.digest("SHA-1",this.data)):C.from(await self.crypto.subtle.digest("SHA-256",this.data))}}function M(e){return new P(e)}var O=n(48287).hp;function D(e,t=!0,n=!1){let r=O.from(e);const i=r.length;t&&(r=r.reverse());let s=o()(r.toString("hex"),16);return n&&Math.floor(s.toString(2).length/8)>=i&&(s=s.subtract(o()(2).pow(o()(8*i)))),s}function R(e,t=8){const n=o()(e),r=[];for(let e=0;e<t;e++)r[e]=n.shiftRight(8*e).and(255).toJSNumber();return O.from(r)}function N(e,t,n=!0,r=!1){const i=e.bitLength().toJSNumber();if(t<Math.ceil(i/8))throw new Error("OverflowError: int too big to convert");if(!r&&e.lesser(o()(0)))throw new Error("Cannot convert to unsigned");let s=!1;e.lesser(o()(0))&&(s=!0,e=e.abs());const a=e.toString(16).padStart(2*t,"0");let c=O.from(a,"hex");if(r&&s){c[c.length-1]=256-c[c.length-1];for(let e=0;e<c.length-1;e++)c[e]=255-c[e]}return n&&(c=c.reverse()),c}function F(e,t){return e.remainder(t).add(t).remainder(t)}function L(e){return O.from(function(e){const t=new Uint8Array(e);return crypto.getRandomValues(t),t}(e))}function B(e){const t=O.alloc(4*e.length);for(let n=0;n<e.length;n++)t.writeUInt32BE(e[n],4*n);return t}function $(e){const t=M("sha1");return t.update(e),t.digest()}function j(e){const t=M("sha256");return t.update(e),t.digest()}function U(e,t,n){e=e.remainder(n);let r=o().one,i=e;for(;t.greater(o().zero);){const e=t.remainder(o()(2));t=t.divide(o()(2)),e.eq(o().one)&&(r=r.multiply(i),r=r.remainder(n)),i=i.multiply(i),i=i.remainder(n)}return r}function z(e,t=!1){const n=e.toString(2).length,r=Math.floor((n+8-1)/8);return N(o()(e),r,!1,t)}function V(e){return new Promise(t=>{setTimeout(t,e)})}function q(e,t){const n=[];for(let r=0;r<e.length;r++)n.push(e[r]^t[r]);return O.from(n)}const H=(()=>{let e;const t=[];for(let n=0;n<256;n++){e=n;for(let t=0;t<8;t++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t})();function G(e){O.isBuffer(e)||(e=O.from(e));let t=-1;for(let n=0;n<e.length;n++){const r=e[n];t=H[255&(t^r)]^t>>>8}return(-1^t)>>>0}var W=n(48287).hp;const K=e=>e.replace(/([-_][a-z])/g,e=>e.toUpperCase().replace("-","").replace("_","")),Y=new Set([3162085175,2574415285,1072550713,3300522427,1450380236]),J=new Set([85337187,2211011308,2851430293,1013613780,1459478408,3504867164,3045658042,1715713620,3608339646,4110704415,812830625]),X=(e,t,n=[])=>{e.flags.includes("g")||(e=new RegExp(e.source,"g"));const r=e.exec(t);return r&&(n.push(r.slice(1)),X(e,t,n)),n},Z=(e,t)=>{const n=e.match(/([\w.]+)(?:#([0-9a-fA-F]+))?(?:\s{?\w+:[\w\d<>#.?!]+}?)*\s=\s([\w\d<>#.?]+);$/);if(!n)throw new Error(`Cannot parse TLObject ${e}`);const r=X(/({)?(\w+):([\w\d<>#.?!]+)}?/,e),o={name:n[1],constructorId:parseInt(n[2],16),argsConfig:{},subclassOfId:G(n[3]),result:n[3],isFunction:t,namespace:void 0};if(!o.constructorId){const e="";let t;t=Object.values(o.argsConfig).length?` ${Object.keys(o.argsConfig).map(e=>e.toString()).join(" ")}`:"";const n=`${o.name}${e}${t} = ${o.result}`.replace(/(:|\?)bytes /g,"$1string ").replace(/</g," ").replace(/>|{|}/g,"").replace(/ \w+:flags\d*\.\d+\?true/g,"");"inputMediaInvoice"===o.name&&o.name,o.constructorId=G(W.from(n,"utf8"))}for(const[e,t,n]of r)void 0===e&&(o.argsConfig[K(t)]=Q(t,n));return o.name.includes(".")&&([o.namespace,o.name]=o.name.split(/\.(.+)/)),o.name=(e=>e.replace(/(?:^|_)([a-z])/g,(e,t)=>t.toUpperCase()).replace(/_/g,""))(o.name),o};function Q(e,t){e="self"===e?"is_self":e;const n={isVector:!1,isFlag:!1,skipConstructorId:!1,flagGroup:0,flagIndex:-1,flagIndicator:!0,type:"",useVectorId:void 0};if("#"!==t){n.flagIndicator=!1,n.type=t.replace(/^!+/,"");const e=n.type.match(/flags(\d*)\.(\d+)\?([\w<>.]+)/);e&&(n.isFlag=!0,n.flagGroup=Number(e[1]||1),n.flagIndex=Number(e[2]),[,,,n.type]=e);const r=n.type.match(/[Vv]ector<([\w\d.]+)>/);r&&(n.isVector=!0,n.useVectorId="V"===n.type.charAt(0),[,n.type]=r),/^[a-z]$/.test(n.type.split(".").pop().charAt(0))&&(n.skipConstructorId=!0)}return n}function ee(e){if(!(e instanceof W)){if("string"!=typeof e)throw Error(`Bytes or str expected, not ${e.constructor.name}`);e=W.from(e)}const t=[];let n;return e.length<254?(n=(e.length+1)%4,0!==n&&(n=4-n),t.push(W.from([e.length])),t.push(e)):(n=e.length%4,0!==n&&(n=4-n),t.push(W.from([254,e.length%256,(e.length>>8)%256,(e.length>>16)%256])),t.push(e)),t.push(W.alloc(n).fill(0)),W.concat(t)}var te=n(48287).hp;function ne(e,t,n){return(t=function(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const re="undefined"!=typeof self&&void 0!==self.localStorage,oe="GramJs:apiCache";function ie(e){const t=function*(e,t=[],n=Y){(t||[]).reduce((e,t)=>({...e,[t.name]:t}),{});const r=[],o={},i={},s=e;let a=!1;for(let e of s.split("\n")){const t=e.indexOf("//");if(-1!==t&&(e=e.slice(0,t)),e=e.trim(),!e)continue;const s=e.match(/---(\w+)---/);if(s){const[,e]=s;a="functions"===e;continue}try{const t=Z(e,a);if(n.has(t.constructorId))continue;r.push(t),t.isFunction||(i[t.result]||(i[t.result]=[]),o[t.name]=t,i[t.result].push(t))}catch(e){if(!e.toString().includes("vector#1cb5c415"))throw e}}for(const e of r)if(J.has(e.constructorId))for(const t in e.argsConfig)"string"===e.argsConfig[t].type&&(e.argsConfig[t].type="bytes");for(const e of r)yield e}(e),n=[],r=[];for(const e of t)e.isFunction?r.push(e):n.push(e);return[n,r]}function se(e,t){switch(t){case"int":{const t=te.alloc(4);return t.writeInt32LE(e,0),t}case"long":return R(e,8);case"int128":return R(e,16);case"int256":return R(e,32);case"double":{const t=te.alloc(8);return t.writeDoubleLE(e,0),t}case"string":case"bytes":return ee(e);case"Bool":return e?te.from("b5757299","hex"):te.from("379779bc","hex");case"true":return te.alloc(0);case"date":return function(e){if(!e)return W.alloc(4).fill(0);if(e instanceof Date&&(e=Math.floor((Date.now()-e.getTime())/1e3)),"number"==typeof e){const t=W.alloc(4);return t.writeInt32LE(e,0),t}throw Error(`Cannot interpret "${e}" as a date`)}(e);default:return e.getBytes()}}function ae(e,t){if(t.isVector){t.useVectorId&&e.readInt();const n=[],r=e.readInt();t.isVector=!1;for(let o=0;o<r;o++)n.push(ae(e,t));return t.isVector=!0,n}if(t.flagIndicator)return e.readInt();switch(t.type){case"int":return e.readInt();case"long":return e.readLong();case"int128":return e.readLargeInt(128);case"int256":return e.readLargeInt(256);case"double":return e.readDouble();case"string":return e.tgReadString();case"Bool":return e.tgReadBool();case"true":return!0;case"bytes":return e.tgReadBytes();case"date":return e.tgReadDate();default:if(t.skipConstructorId)throw new Error(`Unknown type ${t}`);return e.tgReadObject()}}function ce(e,t){const n={};for(const r of t){const{name:t,constructorId:o,subclassOfId:i,argsConfig:s,namespace:a,result:c}=r,l=[a,t].join(".").replace(/^\./,"");class u{constructor(t){ne(this,"CONSTRUCTOR_ID",o),ne(this,"SUBCLASS_OF_ID",i),ne(this,"className",l),ne(this,"classType",e),t=t||{},Object.keys(t).forEach(e=>{this[e]=t[e]})}static fromReader(e){const t={};for(const n in s)if(s.hasOwnProperty(n)){const r=s[n];if(r.isFlag){const o=t[`flags${r.flagGroup>1?r.flagGroup:""}`]&1<<r.flagIndex;if("true"===r.type){t[n]=Boolean(o);continue}t[n]=o?ae(e,r):void 0}else t[n]=ae(e,r)}return new u(t)}getBytes(){const e=this.CONSTRUCTOR_ID,t=te.alloc(4);t.writeUInt32LE(e,0);const n=[t];for(const e in s)if(s.hasOwnProperty(e)){if(s[e].isFlag&&(!1===this[e]&&"true"===s[e].type||void 0===this[e]))continue;if(s[e].isVector){s[e].useVectorId&&n.push(te.from("15c4b51c","hex"));const t=te.alloc(4);t.writeInt32LE(this[e].length,0),n.push(t,te.concat(this[e].map(t=>se(t,s[e].type))))}else if(s[e].flagIndicator)if(Object.values(s).some(e=>e.isFlag)){let e=0;for(const t in s)s[t].isFlag&&(!1===this[t]&&"true"===s[t].type||void 0===this[t]?e|=0:e|=1<<s[t].flagIndex);const t=te.alloc(4);t.writeUInt32LE(e,0),n.push(t)}else n.push(te.alloc(4));else if(n.push(se(this[e],s[e].type)),this[e]&&"function"==typeof this[e].getBytes){const t=s[e].type.charAt(s[e].type.indexOf(".")+1);t===t.toUpperCase()||n.shift()}}return te.concat(n)}readResult(t){if("request"!==e)throw new Error("`readResult()` called for non-request instance");const n=c.match(/Vector<(int|long)>/);if(n){t.readInt();const e=[],r=t.readInt();if("int"===n[1])for(let n=0;n<r;n++)e.push(t.readInt());else for(let n=0;n<r;n++)e.push(t.readLong());return e}return t.tgReadObject()}}ne(u,"CONSTRUCTOR_ID",o),ne(u,"SUBCLASS_OF_ID",i),ne(u,"className",l),ne(u,"classType",e),a?(n[a]||(n[a]={}),n[a][t]=u):n[t]=u}return n}const le=function(){let e;const t=re&&function(){const e=localStorage.getItem(oe);return e&&JSON.parse(e)}();return t?e=t:(e=function(){const[e,t]=ie("boolFalse#bc799737 = Bool;\nboolTrue#997275b5 = Bool;\ntrue#3fedd339 = True;\nvector#1cb5c415 {t:Type} # [ t ] = Vector t;\nerror#c4b9f9bb code:int text:string = Error;\nnull#56730bcc = Null;\ninputPeerEmpty#7f3b18ea = InputPeer;\ninputPeerSelf#7da07ec9 = InputPeer;\ninputPeerChat#35a95cb9 chat_id:long = InputPeer;\ninputPeerUser#dde8a54c user_id:long access_hash:long = InputPeer;\ninputPeerChannel#27bcbbfc channel_id:long access_hash:long = InputPeer;\ninputPeerUserFromMessage#a87b0a1c peer:InputPeer msg_id:int user_id:long = InputPeer;\ninputPeerChannelFromMessage#bd2a0840 peer:InputPeer msg_id:int channel_id:long = InputPeer;\ninputUserEmpty#b98886cf = InputUser;\ninputUserSelf#f7c1b13f = InputUser;\ninputUser#f21158c6 user_id:long access_hash:long = InputUser;\ninputUserFromMessage#1da448e2 peer:InputPeer msg_id:int user_id:long = InputUser;\ninputPhoneContact#f392b7f4 client_id:long phone:string first_name:string last_name:string = InputContact;\ninputFile#f52ff27f id:long parts:int name:string md5_checksum:string = InputFile;\ninputFileBig#fa4f0bb5 id:long parts:int name:string = InputFile;\ninputFileStoryDocument#62dc8b48 id:InputDocument = InputFile;\ninputMediaEmpty#9664f57f = InputMedia;\ninputMediaUploadedPhoto#1e287d04 flags:# spoiler:flags.2?true file:InputFile stickers:flags.0?Vector<InputDocument> ttl_seconds:flags.1?int = InputMedia;\ninputMediaPhoto#b3ba0635 flags:# spoiler:flags.1?true id:InputPhoto ttl_seconds:flags.0?int = InputMedia;\ninputMediaGeoPoint#f9c44144 geo_point:InputGeoPoint = InputMedia;\ninputMediaContact#f8ab7dfb phone_number:string first_name:string last_name:string vcard:string = InputMedia;\ninputMediaUploadedDocument#37c9330 flags:# nosound_video:flags.3?true force_file:flags.4?true spoiler:flags.5?true file:InputFile thumb:flags.2?InputFile mime_type:string attributes:Vector<DocumentAttribute> stickers:flags.0?Vector<InputDocument> video_cover:flags.6?InputPhoto video_timestamp:flags.7?int ttl_seconds:flags.1?int = InputMedia;\ninputMediaDocument#a8763ab5 flags:# spoiler:flags.2?true id:InputDocument video_cover:flags.3?InputPhoto video_timestamp:flags.4?int ttl_seconds:flags.0?int query:flags.1?string = InputMedia;\ninputMediaVenue#c13d1c11 geo_point:InputGeoPoint title:string address:string provider:string venue_id:string venue_type:string = InputMedia;\ninputMediaPhotoExternal#e5bbfe1a flags:# spoiler:flags.1?true url:string ttl_seconds:flags.0?int = InputMedia;\ninputMediaDocumentExternal#779600f9 flags:# spoiler:flags.1?true url:string ttl_seconds:flags.0?int video_cover:flags.2?InputPhoto video_timestamp:flags.3?int = InputMedia;\ninputMediaGame#d33f43f3 id:InputGame = InputMedia;\ninputMediaInvoice#405fef0d flags:# title:string description:string photo:flags.0?InputWebDocument invoice:Invoice payload:bytes provider:flags.3?string provider_data:DataJSON start_param:flags.1?string extended_media:flags.2?InputMedia = InputMedia;\ninputMediaGeoLive#971fa843 flags:# stopped:flags.0?true geo_point:InputGeoPoint heading:flags.2?int period:flags.1?int proximity_notification_radius:flags.3?int = InputMedia;\ninputMediaPoll#f94e5f1 flags:# poll:Poll correct_answers:flags.0?Vector<bytes> solution:flags.1?string solution_entities:flags.1?Vector<MessageEntity> = InputMedia;\ninputMediaDice#e66fbf7b emoticon:string = InputMedia;\ninputMediaStory#89fdd778 peer:InputPeer id:int = InputMedia;\ninputMediaWebPage#c21b8849 flags:# force_large_media:flags.0?true force_small_media:flags.1?true optional:flags.2?true url:string = InputMedia;\ninputMediaPaidMedia#c4103386 flags:# stars_amount:long extended_media:Vector<InputMedia> payload:flags.0?string = InputMedia;\ninputMediaTodo#9fc55fde todo:TodoList = InputMedia;\ninputChatPhotoEmpty#1ca48f57 = InputChatPhoto;\ninputChatUploadedPhoto#bdcdaec0 flags:# file:flags.0?InputFile video:flags.1?InputFile video_start_ts:flags.2?double video_emoji_markup:flags.3?VideoSize = InputChatPhoto;\ninputChatPhoto#8953ad37 id:InputPhoto = InputChatPhoto;\ninputGeoPointEmpty#e4c123d6 = InputGeoPoint;\ninputGeoPoint#48222faf flags:# lat:double long:double accuracy_radius:flags.0?int = InputGeoPoint;\ninputPhotoEmpty#1cd7bf0d = InputPhoto;\ninputPhoto#3bb3b94a id:long access_hash:long file_reference:bytes = InputPhoto;\ninputFileLocation#dfdaabe1 volume_id:long local_id:int secret:long file_reference:bytes = InputFileLocation;\ninputEncryptedFileLocation#f5235d55 id:long access_hash:long = InputFileLocation;\ninputDocumentFileLocation#bad07584 id:long access_hash:long file_reference:bytes thumb_size:string = InputFileLocation;\ninputSecureFileLocation#cbc7ee28 id:long access_hash:long = InputFileLocation;\ninputTakeoutFileLocation#29be5899 = InputFileLocation;\ninputPhotoFileLocation#40181ffe id:long access_hash:long file_reference:bytes thumb_size:string = InputFileLocation;\ninputPhotoLegacyFileLocation#d83466f3 id:long access_hash:long file_reference:bytes volume_id:long local_id:int secret:long = InputFileLocation;\ninputPeerPhotoFileLocation#37257e99 flags:# big:flags.0?true peer:InputPeer photo_id:long = InputFileLocation;\ninputStickerSetThumb#9d84f3db stickerset:InputStickerSet thumb_version:int = InputFileLocation;\ninputGroupCallStream#598a92a flags:# call:InputGroupCall time_ms:long scale:int video_channel:flags.0?int video_quality:flags.0?int = InputFileLocation;\npeerUser#59511722 user_id:long = Peer;\npeerChat#36c6019a chat_id:long = Peer;\npeerChannel#a2a5371e channel_id:long = Peer;\nstorage.fileUnknown#aa963b05 = storage.FileType;\nstorage.filePartial#40bc6f52 = storage.FileType;\nstorage.fileJpeg#7efe0e = storage.FileType;\nstorage.fileGif#cae1aadf = storage.FileType;\nstorage.filePng#a4f63c0 = storage.FileType;\nstorage.filePdf#ae1e508d = storage.FileType;\nstorage.fileMp3#528a0677 = storage.FileType;\nstorage.fileMov#4b09ebbc = storage.FileType;\nstorage.fileMp4#b3cea0e4 = storage.FileType;\nstorage.fileWebp#1081464c = storage.FileType;\nuserEmpty#d3bc4b7a id:long = User;\nuser#20b1422 flags:# self:flags.10?true contact:flags.11?true mutual_contact:flags.12?true deleted:flags.13?true bot:flags.14?true bot_chat_history:flags.15?true bot_nochats:flags.16?true verified:flags.17?true restricted:flags.18?true min:flags.20?true bot_inline_geo:flags.21?true support:flags.23?true scam:flags.24?true apply_min_photo:flags.25?true fake:flags.26?true bot_attach_menu:flags.27?true premium:flags.28?true attach_menu_enabled:flags.29?true flags2:# bot_can_edit:flags2.1?true close_friend:flags2.2?true stories_hidden:flags2.3?true stories_unavailable:flags2.4?true contact_require_premium:flags2.10?true bot_business:flags2.11?true bot_has_main_app:flags2.13?true id:long access_hash:flags.0?long first_name:flags.1?string last_name:flags.2?string username:flags.3?string phone:flags.4?string photo:flags.5?UserProfilePhoto status:flags.6?UserStatus bot_info_version:flags.14?int restriction_reason:flags.18?Vector<RestrictionReason> bot_inline_placeholder:flags.19?string lang_code:flags.22?string emoji_status:flags.30?EmojiStatus usernames:flags2.0?Vector<Username> stories_max_id:flags2.5?int color:flags2.8?PeerColor profile_color:flags2.9?PeerColor bot_active_users:flags2.12?int bot_verification_icon:flags2.14?long send_paid_messages_stars:flags2.15?long = User;\nuserProfilePhotoEmpty#4f11bae1 = UserProfilePhoto;\nuserProfilePhoto#82d1f706 flags:# has_video:flags.0?true personal:flags.2?true photo_id:long stripped_thumb:flags.1?bytes dc_id:int = UserProfilePhoto;\nuserStatusEmpty#9d05049 = UserStatus;\nuserStatusOnline#edb93949 expires:int = UserStatus;\nuserStatusOffline#8c703f was_online:int = UserStatus;\nuserStatusRecently#7b197dc8 flags:# by_me:flags.0?true = UserStatus;\nuserStatusLastWeek#541a1d1a flags:# by_me:flags.0?true = UserStatus;\nuserStatusLastMonth#65899777 flags:# by_me:flags.0?true = UserStatus;\nchatEmpty#29562865 id:long = Chat;\nchat#41cbf256 flags:# creator:flags.0?true left:flags.2?true deactivated:flags.5?true call_active:flags.23?true call_not_empty:flags.24?true noforwards:flags.25?true id:long title:string photo:ChatPhoto participants_count:int date:int version:int migrated_to:flags.6?InputChannel admin_rights:flags.14?ChatAdminRights default_banned_rights:flags.18?ChatBannedRights = Chat;\nchatForbidden#6592a1a7 id:long title:string = Chat;\nchannel#fe685355 flags:# creator:flags.0?true left:flags.2?true broadcast:flags.5?true verified:flags.7?true megagroup:flags.8?true restricted:flags.9?true signatures:flags.11?true min:flags.12?true scam:flags.19?true has_link:flags.20?true has_geo:flags.21?true slowmode_enabled:flags.22?true call_active:flags.23?true call_not_empty:flags.24?true fake:flags.25?true gigagroup:flags.26?true noforwards:flags.27?true join_to_send:flags.28?true join_request:flags.29?true forum:flags.30?true flags2:# stories_hidden:flags2.1?true stories_hidden_min:flags2.2?true stories_unavailable:flags2.3?true signature_profiles:flags2.12?true autotranslation:flags2.15?true broadcast_messages_allowed:flags2.16?true monoforum:flags2.17?true forum_tabs:flags2.19?true id:long access_hash:flags.13?long title:string username:flags.6?string photo:ChatPhoto date:int restriction_reason:flags.9?Vector<RestrictionReason> admin_rights:flags.14?ChatAdminRights banned_rights:flags.15?ChatBannedRights default_banned_rights:flags.18?ChatBannedRights participants_count:flags.17?int usernames:flags2.0?Vector<Username> stories_max_id:flags2.4?int color:flags2.7?PeerColor profile_color:flags2.8?PeerColor emoji_status:flags2.9?EmojiStatus level:flags2.10?int subscription_until_date:flags2.11?int bot_verification_icon:flags2.13?long send_paid_messages_stars:flags2.14?long linked_monoforum_id:flags2.18?long = Chat;\nchannelForbidden#17d493d5 flags:# broadcast:flags.5?true megagroup:flags.8?true id:long access_hash:long title:string until_date:flags.16?int = Chat;\nchatFull#2633421b flags:# can_set_username:flags.7?true has_scheduled:flags.8?true translations_disabled:flags.19?true id:long about:string participants:ChatParticipants chat_photo:flags.2?Photo notify_settings:PeerNotifySettings exported_invite:flags.13?ExportedChatInvite bot_info:flags.3?Vector<BotInfo> pinned_msg_id:flags.6?int folder_id:flags.11?int call:flags.12?InputGroupCall ttl_period:flags.14?int groupcall_default_join_as:flags.15?Peer theme_emoticon:flags.16?string requests_pending:flags.17?int recent_requesters:flags.17?Vector<long> available_reactions:flags.18?ChatReactions reactions_limit:flags.20?int = ChatFull;\nchannelFull#e07429de flags:# can_view_participants:flags.3?true can_set_username:flags.6?true can_set_stickers:flags.7?true hidden_prehistory:flags.10?true can_set_location:flags.16?true has_scheduled:flags.19?true can_view_stats:flags.20?true blocked:flags.22?true flags2:# can_delete_channel:flags2.0?true antispam:flags2.1?true participants_hidden:flags2.2?true translations_disabled:flags2.3?true stories_pinned_available:flags2.5?true view_forum_as_messages:flags2.6?true restricted_sponsored:flags2.11?true can_view_revenue:flags2.12?true paid_media_allowed:flags2.14?true can_view_stars_revenue:flags2.15?true paid_reactions_available:flags2.16?true stargifts_available:flags2.19?true paid_messages_available:flags2.20?true id:long about:string participants_count:flags.0?int admins_count:flags.1?int kicked_count:flags.2?int banned_count:flags.2?int online_count:flags.13?int read_inbox_max_id:int read_outbox_max_id:int unread_count:int chat_photo:Photo notify_settings:PeerNotifySettings exported_invite:flags.23?ExportedChatInvite bot_info:Vector<BotInfo> migrated_from_chat_id:flags.4?long migrated_from_max_id:flags.4?int pinned_msg_id:flags.5?int stickerset:flags.8?StickerSet available_min_id:flags.9?int folder_id:flags.11?int linked_chat_id:flags.14?long location:flags.15?ChannelLocation slowmode_seconds:flags.17?int slowmode_next_send_date:flags.18?int stats_dc:flags.12?int pts:int call:flags.21?InputGroupCall ttl_period:flags.24?int pending_suggestions:flags.25?Vector<string> groupcall_default_join_as:flags.26?Peer theme_emoticon:flags.27?string requests_pending:flags.28?int recent_requesters:flags.28?Vector<long> default_send_as:flags.29?Peer available_reactions:flags.30?ChatReactions reactions_limit:flags2.13?int stories:flags2.4?PeerStories wallpaper:flags2.7?WallPaper boosts_applied:flags2.8?int boosts_unrestrict:flags2.9?int emojiset:flags2.10?StickerSet bot_verification:flags2.17?BotVerification stargifts_count:flags2.18?int send_paid_messages_stars:flags2.21?long = ChatFull;\nchatParticipant#c02d4007 user_id:long inviter_id:long date:int = ChatParticipant;\nchatParticipantCreator#e46bcee4 user_id:long = ChatParticipant;\nchatParticipantAdmin#a0933f5b user_id:long inviter_id:long date:int = ChatParticipant;\nchatParticipantsForbidden#8763d3e1 flags:# chat_id:long self_participant:flags.0?ChatParticipant = ChatParticipants;\nchatParticipants#3cbc93f8 chat_id:long participants:Vector<ChatParticipant> version:int = ChatParticipants;\nchatPhotoEmpty#37c1011c = ChatPhoto;\nchatPhoto#1c6e1c11 flags:# has_video:flags.0?true photo_id:long stripped_thumb:flags.1?bytes dc_id:int = ChatPhoto;\nmessageEmpty#90a6ca84 flags:# id:int peer_id:flags.0?Peer = Message;\nmessage#9815cec8 flags:# out:flags.1?true mentioned:flags.4?true media_unread:flags.5?true silent:flags.13?true post:flags.14?true from_scheduled:flags.18?true legacy:flags.19?true edit_hide:flags.21?true pinned:flags.24?true noforwards:flags.26?true invert_media:flags.27?true flags2:# offline:flags2.1?true video_processing_pending:flags2.4?true paid_suggested_post_stars:flags2.8?true paid_suggested_post_ton:flags2.9?true id:int from_id:flags.8?Peer from_boosts_applied:flags.29?int peer_id:Peer saved_peer_id:flags.28?Peer fwd_from:flags.2?MessageFwdHeader via_bot_id:flags.11?long via_business_bot_id:flags2.0?long reply_to:flags.3?MessageReplyHeader date:int message:string media:flags.9?MessageMedia reply_markup:flags.6?ReplyMarkup entities:flags.7?Vector<MessageEntity> views:flags.10?int forwards:flags.10?int replies:flags.23?MessageReplies edit_date:flags.15?int post_author:flags.16?string grouped_id:flags.17?long reactions:flags.20?MessageReactions restriction_reason:flags.22?Vector<RestrictionReason> ttl_period:flags.25?int quick_reply_shortcut_id:flags.30?int effect:flags2.2?long factcheck:flags2.3?FactCheck report_delivery_until_date:flags2.5?int paid_message_stars:flags2.6?long suggested_post:flags2.7?SuggestedPost = Message;\nmessageService#7a800e0a flags:# out:flags.1?true mentioned:flags.4?true media_unread:flags.5?true reactions_are_possible:flags.9?true silent:flags.13?true post:flags.14?true legacy:flags.19?true id:int from_id:flags.8?Peer peer_id:Peer saved_peer_id:flags.28?Peer reply_to:flags.3?MessageReplyHeader date:int action:MessageAction reactions:flags.20?MessageReactions ttl_period:flags.25?int = Message;\nmessageMediaEmpty#3ded6320 = MessageMedia;\nmessageMediaPhoto#695150d7 flags:# spoiler:flags.3?true photo:flags.0?Photo ttl_seconds:flags.2?int = MessageMedia;\nmessageMediaGeo#56e0d474 geo:GeoPoint = MessageMedia;\nmessageMediaContact#70322949 phone_number:string first_name:string last_name:string vcard:string user_id:long = MessageMedia;\nmessageMediaUnsupported#9f84f49e = MessageMedia;\nmessageMediaDocument#52d8ccd9 flags:# nopremium:flags.3?true spoiler:flags.4?true video:flags.6?true round:flags.7?true voice:flags.8?true document:flags.0?Document alt_documents:flags.5?Vector<Document> video_cover:flags.9?Photo video_timestamp:flags.10?int ttl_seconds:flags.2?int = MessageMedia;\nmessageMediaWebPage#ddf10c3b flags:# force_large_media:flags.0?true force_small_media:flags.1?true manual:flags.3?true safe:flags.4?true webpage:WebPage = MessageMedia;\nmessageMediaVenue#2ec0533f geo:GeoPoint title:string address:string provider:string venue_id:string venue_type:string = MessageMedia;\nmessageMediaGame#fdb19008 game:Game = MessageMedia;\nmessageMediaInvoice#f6a548d3 flags:# shipping_address_requested:flags.1?true test:flags.3?true title:string description:string photo:flags.0?WebDocument receipt_msg_id:flags.2?int currency:string total_amount:long start_param:string extended_media:flags.4?MessageExtendedMedia = MessageMedia;\nmessageMediaGeoLive#b940c666 flags:# geo:GeoPoint heading:flags.0?int period:int proximity_notification_radius:flags.1?int = MessageMedia;\nmessageMediaPoll#4bd6e798 poll:Poll results:PollResults = MessageMedia;\nmessageMediaDice#3f7ee58b value:int emoticon:string = MessageMedia;\nmessageMediaStory#68cb6283 flags:# via_mention:flags.1?true peer:Peer id:int story:flags.0?StoryItem = MessageMedia;\nmessageMediaGiveaway#aa073beb flags:# only_new_subscribers:flags.0?true winners_are_visible:flags.2?true channels:Vector<long> countries_iso2:flags.1?Vector<string> prize_description:flags.3?string quantity:int months:flags.4?int stars:flags.5?long until_date:int = MessageMedia;\nmessageMediaGiveawayResults#ceaa3ea1 flags:# only_new_subscribers:flags.0?true refunded:flags.2?true channel_id:long additional_peers_count:flags.3?int launch_msg_id:int winners_count:int unclaimed_count:int winners:Vector<long> months:flags.4?int stars:flags.5?long prize_description:flags.1?string until_date:int = MessageMedia;\nmessageMediaPaidMedia#a8852491 stars_amount:long extended_media:Vector<MessageExtendedMedia> = MessageMedia;\nmessageMediaToDo#8a53b014 flags:# todo:TodoList completions:flags.0?Vector<TodoCompletion> = MessageMedia;\nmessageActionEmpty#b6aef7b0 = MessageAction;\nmessageActionChatCreate#bd47cbad title:string users:Vector<long> = MessageAction;\nmessageActionChatEditTitle#b5a1ce5a title:string = MessageAction;\nmessageActionChatEditPhoto#7fcb13a8 photo:Photo = MessageAction;\nmessageActionChatDeletePhoto#95e3fbef = MessageAction;\nmessageActionChatAddUser#15cefd00 users:Vector<long> = MessageAction;\nmessageActionChatDeleteUser#a43f30cc user_id:long = MessageAction;\nmessageActionChatJoinedByLink#31224c3 inviter_id:long = MessageAction;\nmessageActionChannelCreate#95d2ac92 title:string = MessageAction;\nmessageActionChatMigrateTo#e1037f92 channel_id:long = MessageAction;\nmessageActionChannelMigrateFrom#ea3948e9 title:string chat_id:long = MessageAction;\nmessageActionPinMessage#94bd38ed = MessageAction;\nmessageActionHistoryClear#9fbab604 = MessageAction;\nmessageActionGameScore#92a72876 game_id:long score:int = MessageAction;\nmessageActionPaymentSentMe#ffa00ccc flags:# recurring_init:flags.2?true recurring_used:flags.3?true currency:string total_amount:long payload:bytes info:flags.0?PaymentRequestedInfo shipping_option_id:flags.1?string charge:PaymentCharge subscription_until_date:flags.4?int = MessageAction;\nmessageActionPaymentSent#c624b16e flags:# recurring_init:flags.2?true recurring_used:flags.3?true currency:string total_amount:long invoice_slug:flags.0?string subscription_until_date:flags.4?int = MessageAction;\nmessageActionPhoneCall#80e11a7f flags:# video:flags.2?true call_id:long reason:flags.0?PhoneCallDiscardReason duration:flags.1?int = MessageAction;\nmessageActionScreenshotTaken#4792929b = MessageAction;\nmessageActionCustomAction#fae69f56 message:string = MessageAction;\nmessageActionBotAllowed#c516d679 flags:# attach_menu:flags.1?true from_request:flags.3?true domain:flags.0?string app:flags.2?BotApp = MessageAction;\nmessageActionSecureValuesSentMe#1b287353 values:Vector<SecureValue> credentials:SecureCredentialsEncrypted = MessageAction;\nmessageActionSecureValuesSent#d95c6154 types:Vector<SecureValueType> = MessageAction;\nmessageActionContactSignUp#f3f25f76 = MessageAction;\nmessageActionGeoProximityReached#98e0d697 from_id:Peer to_id:Peer distance:int = MessageAction;\nmessageActionGroupCall#7a0d7f42 flags:# call:InputGroupCall duration:flags.0?int = MessageAction;\nmessageActionInviteToGroupCall#502f92f7 call:InputGroupCall users:Vector<long> = MessageAction;\nmessageActionSetMessagesTTL#3c134d7b flags:# period:int auto_setting_from:flags.0?long = MessageAction;\nmessageActionGroupCallScheduled#b3a07661 call:InputGroupCall schedule_date:int = MessageAction;\nmessageActionSetChatTheme#aa786345 emoticon:string = MessageAction;\nmessageActionChatJoinedByRequest#ebbca3cb = MessageAction;\nmessageActionWebViewDataSentMe#47dd8079 text:string data:string = MessageAction;\nmessageActionWebViewDataSent#b4c38cb5 text:string = MessageAction;\nmessageActionGiftPremium#6c6274fa flags:# currency:string amount:long months:int crypto_currency:flags.0?string crypto_amount:flags.0?long message:flags.1?TextWithEntities = MessageAction;\nmessageActionTopicCreate#d999256 flags:# title:string icon_color:int icon_emoji_id:flags.0?long = MessageAction;\nmessageActionTopicEdit#c0944820 flags:# title:flags.0?string icon_emoji_id:flags.1?long closed:flags.2?Bool hidden:flags.3?Bool = MessageAction;\nmessageActionSuggestProfilePhoto#57de635e photo:Photo = MessageAction;\nmessageActionRequestedPeer#31518e9b button_id:int peers:Vector<Peer> = MessageAction;\nmessageActionSetChatWallPaper#5060a3f4 flags:# same:flags.0?true for_both:flags.1?true wallpaper:WallPaper = MessageAction;\nmessageActionGiftCode#56d03994 flags:# via_giveaway:flags.0?true unclaimed:flags.5?true boost_peer:flags.1?Peer months:int slug:string currency:flags.2?string amount:flags.2?long crypto_currency:flags.3?string crypto_amount:flags.3?long message:flags.4?TextWithEntities = MessageAction;\nmessageActionGiveawayLaunch#a80f51e4 flags:# stars:flags.0?long = MessageAction;\nmessageActionGiveawayResults#87e2f155 flags:# stars:flags.0?true winners_count:int unclaimed_count:int = MessageAction;\nmessageActionBoostApply#cc02aa6d boosts:int = MessageAction;\nmessageActionRequestedPeerSentMe#93b31848 button_id:int peers:Vector<RequestedPeer> = MessageAction;\nmessageActionPaymentRefunded#41b3e202 flags:# peer:Peer currency:string total_amount:long payload:flags.0?bytes charge:PaymentCharge = MessageAction;\nmessageActionGiftStars#45d5b021 flags:# currency:string amount:long stars:long crypto_currency:flags.0?string crypto_amount:flags.0?long transaction_id:flags.1?string = MessageAction;\nmessageActionPrizeStars#b00c47a2 flags:# unclaimed:flags.0?true stars:long transaction_id:string boost_peer:Peer giveaway_msg_id:int = MessageAction;\nmessageActionStarGift#4717e8a4 flags:# name_hidden:flags.0?true saved:flags.2?true converted:flags.3?true upgraded:flags.5?true refunded:flags.9?true can_upgrade:flags.10?true gift:StarGift message:flags.1?TextWithEntities convert_stars:flags.4?long upgrade_msg_id:flags.5?int upgrade_stars:flags.8?long from_id:flags.11?Peer peer:flags.12?Peer saved_id:flags.12?long = MessageAction;\nmessageActionStarGiftUnique#34f762f3 flags:# upgrade:flags.0?true transferred:flags.1?true saved:flags.2?true refunded:flags.5?true gift:StarGift can_export_at:flags.3?int transfer_stars:flags.4?long from_id:flags.6?Peer peer:flags.7?Peer saved_id:flags.7?long resale_amount:flags.8?StarsAmount can_transfer_at:flags.9?int can_resell_at:flags.10?int = MessageAction;\nmessageActionPaidMessagesRefunded#ac1f1fcd count:int stars:long = MessageAction;\nmessageActionPaidMessagesPrice#84b88578 flags:# broadcast_messages_allowed:flags.0?true stars:long = MessageAction;\nmessageActionConferenceCall#2ffe2f7a flags:# missed:flags.0?true active:flags.1?true video:flags.4?true call_id:long duration:flags.2?int other_participants:flags.3?Vector<Peer> = MessageAction;\nmessageActionTodoCompletions#cc7c5c89 completed:Vector<int> incompleted:Vector<int> = MessageAction;\nmessageActionTodoAppendTasks#c7edbc83 list:Vector<TodoItem> = MessageAction;\nmessageActionSuggestedPostApproval#ee7a1596 flags:# rejected:flags.0?true balance_too_low:flags.1?true reject_comment:flags.2?string schedule_date:flags.3?int price:flags.4?StarsAmount = MessageAction;\nmessageActionSuggestedPostSuccess#95ddcf69 price:StarsAmount = MessageAction;\nmessageActionSuggestedPostRefund#69f916f8 flags:# payer_initiated:flags.0?true = MessageAction;\nmessageActionGiftTon#a8a3c699 flags:# currency:string amount:long crypto_currency:string crypto_amount:long transaction_id:flags.0?string = MessageAction;\ndialog#d58a08c6 flags:# pinned:flags.2?true unread_mark:flags.3?true view_forum_as_messages:flags.6?true peer:Peer top_message:int read_inbox_max_id:int read_outbox_max_id:int unread_count:int unread_mentions_count:int unread_reactions_count:int notify_settings:PeerNotifySettings pts:flags.0?int draft:flags.1?DraftMessage folder_id:flags.4?int ttl_period:flags.5?int = Dialog;\ndialogFolder#71bd134c flags:# pinned:flags.2?true folder:Folder peer:Peer top_message:int unread_muted_peers_count:int unread_unmuted_peers_count:int unread_muted_messages_count:int unread_unmuted_messages_count:int = Dialog;\nphotoEmpty#2331b22d id:long = Photo;\nphoto#fb197a65 flags:# has_stickers:flags.0?true id:long access_hash:long file_reference:bytes date:int sizes:Vector<PhotoSize> video_sizes:flags.1?Vector<VideoSize> dc_id:int = Photo;\nphotoSizeEmpty#e17e23c type:string = PhotoSize;\nphotoSize#75c78e60 type:string w:int h:int size:int = PhotoSize;\nphotoCachedSize#21e1ad6 type:string w:int h:int bytes:bytes = PhotoSize;\nphotoStrippedSize#e0b0bc2e type:string bytes:bytes = PhotoSize;\nphotoSizeProgressive#fa3efb95 type:string w:int h:int sizes:Vector<int> = PhotoSize;\nphotoPathSize#d8214d41 type:string bytes:bytes = PhotoSize;\ngeoPointEmpty#1117dd5f = GeoPoint;\ngeoPoint#b2a2f663 flags:# long:double lat:double access_hash:long accuracy_radius:flags.0?int = GeoPoint;\nauth.sentCode#5e002502 flags:# type:auth.SentCodeType phone_code_hash:string next_type:flags.1?auth.CodeType timeout:flags.2?int = auth.SentCode;\nauth.sentCodeSuccess#2390fe44 authorization:auth.Authorization = auth.SentCode;\nauth.sentCodePaymentRequired#d7cef980 store_product:string phone_code_hash:string = auth.SentCode;\nauth.authorization#2ea2c0d4 flags:# setup_password_required:flags.1?true otherwise_relogin_days:flags.1?int tmp_sessions:flags.0?int future_auth_token:flags.2?bytes user:User = auth.Authorization;\nauth.authorizationSignUpRequired#44747e9a flags:# terms_of_service:flags.0?help.TermsOfService = auth.Authorization;\nauth.exportedAuthorization#b434e2b8 id:long bytes:bytes = auth.ExportedAuthorization;\ninputNotifyPeer#b8bc5b0c peer:InputPeer = InputNotifyPeer;\ninputNotifyUsers#193b4417 = InputNotifyPeer;\ninputNotifyChats#4a95e84e = InputNotifyPeer;\ninputNotifyBroadcasts#b1db7c7e = InputNotifyPeer;\ninputNotifyForumTopic#5c467992 peer:InputPeer top_msg_id:int = InputNotifyPeer;\ninputPeerNotifySettings#cacb6ae2 flags:# show_previews:flags.0?Bool silent:flags.1?Bool mute_until:flags.2?int sound:flags.3?NotificationSound stories_muted:flags.6?Bool stories_hide_sender:flags.7?Bool stories_sound:flags.8?NotificationSound = InputPeerNotifySettings;\npeerNotifySettings#99622c0c flags:# show_previews:flags.0?Bool silent:flags.1?Bool mute_until:flags.2?int ios_sound:flags.3?NotificationSound android_sound:flags.4?NotificationSound other_sound:flags.5?NotificationSound stories_muted:flags.6?Bool stories_hide_sender:flags.7?Bool stories_ios_sound:flags.8?NotificationSound stories_android_sound:flags.9?NotificationSound stories_other_sound:flags.10?NotificationSound = PeerNotifySettings;\npeerSettings#f47741f7 flags:# report_spam:flags.0?true add_contact:flags.1?true block_contact:flags.2?true share_contact:flags.3?true need_contacts_exception:flags.4?true report_geo:flags.5?true autoarchived:flags.7?true invite_members:flags.8?true request_chat_broadcast:flags.10?true business_bot_paused:flags.11?true business_bot_can_reply:flags.12?true geo_distance:flags.6?int request_chat_title:flags.9?string request_chat_date:flags.9?int business_bot_id:flags.13?long business_bot_manage_url:flags.13?string charge_paid_message_stars:flags.14?long registration_month:flags.15?string phone_country:flags.16?string name_change_date:flags.17?int photo_change_date:flags.18?int = PeerSettings;\nwallPaper#a437c3ed id:long flags:# creator:flags.0?true default:flags.1?true pattern:flags.3?true dark:flags.4?true access_hash:long slug:string document:Document settings:flags.2?WallPaperSettings = WallPaper;\nwallPaperNoFile#e0804116 id:long flags:# default:flags.1?true dark:flags.4?true settings:flags.2?WallPaperSettings = WallPaper;\ninputReportReasonSpam#58dbcab8 = ReportReason;\ninputReportReasonViolence#1e22c78d = ReportReason;\ninputReportReasonPornography#2e59d922 = ReportReason;\ninputReportReasonChildAbuse#adf44ee3 = ReportReason;\ninputReportReasonOther#c1e4a2b1 = ReportReason;\ninputReportReasonCopyright#9b89f93a = ReportReason;\ninputReportReasonGeoIrrelevant#dbd4feed = ReportReason;\ninputReportReasonFake#f5ddd6e7 = ReportReason;\ninputReportReasonIllegalDrugs#a8eb2be = ReportReason;\ninputReportReasonPersonalDetails#9ec7863d = ReportReason;\nuserFull#7e63ce1f flags:# blocked:flags.0?true phone_calls_available:flags.4?true phone_calls_private:flags.5?true can_pin_message:flags.7?true has_scheduled:flags.12?true video_calls_available:flags.13?true voice_messages_forbidden:flags.20?true translations_disabled:flags.23?true stories_pinned_available:flags.26?true blocked_my_stories_from:flags.27?true wallpaper_overridden:flags.28?true contact_require_premium:flags.29?true read_dates_private:flags.30?true flags2:# sponsored_enabled:flags2.7?true can_view_revenue:flags2.9?true bot_can_manage_emoji_status:flags2.10?true display_gifts_button:flags2.16?true id:long about:flags.1?string settings:PeerSettings personal_photo:flags.21?Photo profile_photo:flags.2?Photo fallback_photo:flags.22?Photo notify_settings:PeerNotifySettings bot_info:flags.3?BotInfo pinned_msg_id:flags.6?int common_chats_count:int folder_id:flags.11?int ttl_period:flags.14?int theme_emoticon:flags.15?string private_forward_name:flags.16?string bot_group_admin_rights:flags.17?ChatAdminRights bot_broadcast_admin_rights:flags.18?ChatAdminRights wallpaper:flags.24?WallPaper stories:flags.25?PeerStories business_work_hours:flags2.0?BusinessWorkHours business_location:flags2.1?BusinessLocation business_greeting_message:flags2.2?BusinessGreetingMessage business_away_message:flags2.3?BusinessAwayMessage business_intro:flags2.4?BusinessIntro birthday:flags2.5?Birthday personal_channel_id:flags2.6?long personal_channel_message:flags2.6?int stargifts_count:flags2.8?int starref_program:flags2.11?StarRefProgram bot_verification:flags2.12?BotVerification send_paid_messages_stars:flags2.14?long disallowed_gifts:flags2.15?DisallowedGiftsSettings stars_rating:flags2.17?StarsRating stars_my_pending_rating:flags2.18?StarsRating stars_my_pending_rating_date:flags2.18?int = UserFull;\ncontact#145ade0b user_id:long mutual:Bool = Contact;\nimportedContact#c13e3c50 user_id:long client_id:long = ImportedContact;\ncontactStatus#16d9703b user_id:long status:UserStatus = ContactStatus;\ncontacts.contactsNotModified#b74ba9d2 = contacts.Contacts;\ncontacts.contacts#eae87e42 contacts:Vector<Contact> saved_count:int users:Vector<User> = contacts.Contacts;\ncontacts.importedContacts#77d01c3b imported:Vector<ImportedContact> popular_invites:Vector<PopularContact> retry_contacts:Vector<long> users:Vector<User> = contacts.ImportedContacts;\ncontacts.blocked#ade1591 blocked:Vector<PeerBlocked> chats:Vector<Chat> users:Vector<User> = contacts.Blocked;\ncontacts.blockedSlice#e1664194 count:int blocked:Vector<PeerBlocked> chats:Vector<Chat> users:Vector<User> = contacts.Blocked;\nmessages.dialogs#15ba6c40 dialogs:Vector<Dialog> messages:Vector<Message> chats:Vector<Chat> users:Vector<User> = messages.Dialogs;\nmessages.dialogsSlice#71e094f3 count:int dialogs:Vector<Dialog> messages:Vector<Message> chats:Vector<Chat> users:Vector<User> = messages.Dialogs;\nmessages.dialogsNotModified#f0e3e596 count:int = messages.Dialogs;\nmessages.messages#8c718e87 messages:Vector<Message> chats:Vector<Chat> users:Vector<User> = messages.Messages;\nmessages.messagesSlice#762b263d flags:# inexact:flags.1?true count:int next_rate:flags.0?int offset_id_offset:flags.2?int search_flood:flags.3?SearchPostsFlood messages:Vector<Message> chats:Vector<Chat> users:Vector<User> = messages.Messages;\nmessages.channelMessages#c776ba4e flags:# inexact:flags.1?true pts:int count:int offset_id_offset:flags.2?int messages:Vector<Message> topics:Vector<ForumTopic> chats:Vector<Chat> users:Vector<User> = messages.Messages;\nmessages.messagesNotModified#74535f21 count:int = messages.Messages;\nmessages.chats#64ff9fd5 chats:Vector<Chat> = messages.Chats;\nmessages.chatsSlice#9cd81144 count:int chats:Vector<Chat> = messages.Chats;\nmessages.chatFull#e5d7d19c full_chat:ChatFull chats:Vector<Chat> users:Vector<User> = messages.ChatFull;\nmessages.affectedHistory#b45c69d1 pts:int pts_count:int offset:int = messages.AffectedHistory;\ninputMessagesFilterEmpty#57e2f66c = MessagesFilter;\ninputMessagesFilterPhotos#9609a51c = MessagesFilter;\ninputMessagesFilterVideo#9fc00e65 = MessagesFilter;\ninputMessagesFilterPhotoVideo#56e9f0e4 = MessagesFilter;\ninputMessagesFilterDocument#9eddf188 = MessagesFilter;\ninputMessagesFilterUrl#7ef0dd87 = MessagesFilter;\ninputMessagesFilterGif#ffc86587 = MessagesFilter;\ninputMessagesFilterVoice#50f5c392 = MessagesFilter;\ninputMessagesFilterMusic#3751b49e = MessagesFilter;\ninputMessagesFilterChatPhotos#3a20ecb8 = MessagesFilter;\ninputMessagesFilterPhoneCalls#80c99768 flags:# missed:flags.0?true = MessagesFilter;\ninputMessagesFilterRoundVoice#7a7c17a4 = MessagesFilter;\ninputMessagesFilterRoundVideo#b549da53 = MessagesFilter;\ninputMessagesFilterMyMentions#c1f8e69a = MessagesFilter;\ninputMessagesFilterGeo#e7026d0d = MessagesFilter;\ninputMessagesFilterContacts#e062db83 = MessagesFilter;\ninputMessagesFilterPinned#1bb00451 = MessagesFilter;\nupdateNewMessage#1f2b0afd message:Message pts:int pts_count:int = Update;\nupdateMessageID#4e90bfd6 id:int random_id:long = Update;\nupdateDeleteMessages#a20db0e5 messages:Vector<int> pts:int pts_count:int = Update;\nupdateUserTyping#c01e857f user_id:long action:SendMessageAction = Update;\nupdateChatUserTyping#83487af0 chat_id:long from_id:Peer action:SendMessageAction = Update;\nupdateChatParticipants#7761198 participants:ChatParticipants = Update;\nupdateUserStatus#e5bdf8de user_id:long status:UserStatus = Update;\nupdateUserName#a7848924 user_id:long first_name:string last_name:string usernames:Vector<Username> = Update;\nupdateNewAuthorization#8951abef flags:# unconfirmed:flags.0?true hash:long date:flags.0?int device:flags.0?string location:flags.0?string = Update;\nupdateNewEncryptedMessage#12bcbd9a message:EncryptedMessage qts:int = Update;\nupdateEncryptedChatTyping#1710f156 chat_id:int = Update;\nupdateEncryption#b4a2e88d chat:EncryptedChat date:int = Update;\nupdateEncryptedMessagesRead#38fe25b7 chat_id:int max_date:int date:int = Update;\nupdateChatParticipantAdd#3dda5451 chat_id:long user_id:long inviter_id:long date:int version:int = Update;\nupdateChatParticipantDelete#e32f3d77 chat_id:long user_id:long version:int = Update;\nupdateDcOptions#8e5e9873 dc_options:Vector<DcOption> = Update;\nupdateNotifySettings#bec268ef peer:NotifyPeer notify_settings:PeerNotifySettings = Update;\nupdateServiceNotification#ebe46819 flags:# popup:flags.0?true invert_media:flags.2?true inbox_date:flags.1?int type:string message:string media:MessageMedia entities:Vector<MessageEntity> = Update;\nupdatePrivacy#ee3b272a key:PrivacyKey rules:Vector<PrivacyRule> = Update;\nupdateUserPhone#5492a13 user_id:long phone:string = Update;\nupdateReadHistoryInbox#9c974fdf flags:# folder_id:flags.0?int peer:Peer max_id:int still_unread_count:int pts:int pts_count:int = Update;\nupdateReadHistoryOutbox#2f2f21bf peer:Peer max_id:int pts:int pts_count:int = Update;\nupdateWebPage#7f891213 webpage:WebPage pts:int pts_count:int = Update;\nupdateReadMessagesContents#f8227181 flags:# messages:Vector<int> pts:int pts_count:int date:flags.0?int = Update;\nupdateChannelTooLong#108d941f flags:# channel_id:long pts:flags.0?int = Update;\nupdateChannel#635b4c09 channel_id:long = Update;\nupdateNewChannelMessage#62ba04d9 message:Message pts:int pts_count:int = Update;\nupdateReadChannelInbox#922e6e10 flags:# folder_id:flags.0?int channel_id:long max_id:int still_unread_count:int pts:int = Update;\nupdateDeleteChannelMessages#c32d5b12 channel_id:long messages:Vector<int> pts:int pts_count:int = Update;\nupdateChannelMessageViews#f226ac08 channel_id:long id:int views:int = Update;\nupdateChatParticipantAdmin#d7ca61a2 chat_id:long user_id:long is_admin:Bool version:int = Update;\nupdateNewStickerSet#688a30aa stickerset:messages.StickerSet = Update;\nupdateStickerSetsOrder#bb2d201 flags:# masks:flags.0?true emojis:flags.1?true order:Vector<long> = Update;\nupdateStickerSets#31c24808 flags:# masks:flags.0?true emojis:flags.1?true = Update;\nupdateSavedGifs#9375341e = Update;\nupdateBotInlineQuery#496f379c flags:# query_id:long user_id:long query:string geo:flags.0?GeoPoint peer_type:flags.1?InlineQueryPeerType offset:string = Update;\nupdateBotInlineSend#12f12a07 flags:# user_id:long query:string geo:flags.0?GeoPoint id:string msg_id:flags.1?InputBotInlineMessageID = Update;\nupdateEditChannelMessage#1b3f4df7 message:Message pts:int pts_count:int = Update;\nupdateBotCallbackQuery#b9cfc48d flags:# query_id:long user_id:long peer:Peer msg_id:int chat_instance:long data:flags.0?bytes game_short_name:flags.1?string = Update;\nupdateEditMessage#e40370a3 message:Message pts:int pts_count:int = Update;\nupdateInlineBotCallbackQuery#691e9052 flags:# query_id:long user_id:long msg_id:InputBotInlineMessageID chat_instance:long data:flags.0?bytes game_short_name:flags.1?string = Update;\nupdateReadChannelOutbox#b75f99a9 channel_id:long max_id:int = Update;\nupdateDraftMessage#edfc111e flags:# peer:Peer top_msg_id:flags.0?int saved_peer_id:flags.1?Peer draft:DraftMessage = Update;\nupdateReadFeaturedStickers#571d2742 = Update;\nupdateRecentStickers#9a422c20 = Update;\nupdateConfig#a229dd06 = Update;\nupdatePtsChanged#3354678f = Update;\nupdateChannelWebPage#2f2ba99f channel_id:long webpage:WebPage pts:int pts_count:int = Update;\nupdateDialogPinned#6e6fe51c flags:# pinned:flags.0?true folder_id:flags.1?int peer:DialogPeer = Update;\nupdatePinnedDialogs#fa0f3ca2 flags:# folder_id:flags.1?int order:flags.0?Vector<DialogPeer> = Update;\nupdateBotWebhookJSON#8317c0c3 data:DataJSON = Update;\nupdateBotWebhookJSONQuery#9b9240a6 query_id:long data:DataJSON timeout:int = Update;\nupdateBotShippingQuery#b5aefd7d query_id:long user_id:long payload:bytes shipping_address:PostAddress = Update;\nupdateBotPrecheckoutQuery#8caa9a96 flags:# query_id:long user_id:long payload:bytes info:flags.0?PaymentRequestedInfo shipping_option_id:flags.1?string currency:string total_amount:long = Update;\nupdatePhoneCall#ab0f6b1e phone_call:PhoneCall = Update;\nupdateLangPackTooLong#46560264 lang_code:string = Update;\nupdateLangPack#56022f4d difference:LangPackDifference = Update;\nupdateFavedStickers#e511996d = Update;\nupdateChannelReadMessagesContents#25f324f7 flags:# channel_id:long top_msg_id:flags.0?int saved_peer_id:flags.1?Peer messages:Vector<int> = Update;\nupdateContactsReset#7084a7be = Update;\nupdateChannelAvailableMessages#b23fc698 channel_id:long available_min_id:int = Update;\nupdateDialogUnreadMark#b658f23e flags:# unread:flags.0?true peer:DialogPeer saved_peer_id:flags.1?Peer = Update;\nupdateMessagePoll#aca1657b flags:# poll_id:long poll:flags.0?Poll results:PollResults = Update;\nupdateChatDefaultBannedRights#54c01850 peer:Peer default_banned_rights:ChatBannedRights version:int = Update;\nupdateFolderPeers#19360dc0 folder_peers:Vector<FolderPeer> pts:int pts_count:int = Update;\nupdatePeerSettings#6a7e7366 peer:Peer settings:PeerSettings = Update;\nupdatePeerLocated#b4afcfb0 peers:Vector<PeerLocated> = Update;\nupdateNewScheduledMessage#39a51dfb message:Message = Update;\nupdateDeleteScheduledMessages#f2a71983 flags:# peer:Peer messages:Vector<int> sent_messages:flags.0?Vector<int> = Update;\nupdateTheme#8216fba3 theme:Theme = Update;\nupdateGeoLiveViewed#871fb939 peer:Peer msg_id:int = Update;\nupdateLoginToken#564fe691 = Update;\nupdateMessagePollVote#24f40e77 poll_id:long peer:Peer options:Vector<bytes> qts:int = Update;\nupdateDialogFilter#26ffde7d flags:# id:int filter:flags.0?DialogFilter = Update;\nupdateDialogFilterOrder#a5d72105 order:Vector<int> = Update;\nupdateDialogFilters#3504914f = Update;\nupdatePhoneCallSignalingData#2661bf09 phone_call_id:long data:bytes = Update;\nupdateChannelMessageForwards#d29a27f4 channel_id:long id:int forwards:int = Update;\nupdateReadChannelDiscussionInbox#d6b19546 flags:# channel_id:long top_msg_id:int read_max_id:int broadcast_id:flags.0?long broadcast_post:flags.0?int = Update;\nupdateReadChannelDiscussionOutbox#695c9e7c channel_id:long top_msg_id:int read_max_id:int = Update;\nupdatePeerBlocked#ebe07752 flags:# blocked:flags.0?true blocked_my_stories_from:flags.1?true peer_id:Peer = Update;\nupdateChannelUserTyping#8c88c923 flags:# channel_id:long top_msg_id:flags.0?int from_id:Peer action:SendMessageAction = Update;\nupdatePinnedMessages#ed85eab5 flags:# pinned:flags.0?true peer:Peer messages:Vector<int> pts:int pts_count:int = Update;\nupdatePinnedChannelMessages#5bb98608 flags:# pinned:flags.0?true channel_id:long messages:Vector<int> pts:int pts_count:int = Update;\nupdateChat#f89a6a4e chat_id:long = Update;\nupdateGroupCallParticipants#f2ebdb4e call:InputGroupCall participants:Vector<GroupCallParticipant> version:int = Update;\nupdateGroupCall#97d64341 flags:# chat_id:flags.0?long call:GroupCall = Update;\nupdatePeerHistoryTTL#bb9bb9a5 flags:# peer:Peer ttl_period:flags.0?int = Update;\nupdateChatParticipant#d087663a flags:# chat_id:long date:int actor_id:long user_id:long prev_participant:flags.0?ChatParticipant new_participant:flags.1?ChatParticipant invite:flags.2?ExportedChatInvite qts:int = Update;\nupdateChannelParticipant#985d3abb flags:# via_chatlist:flags.3?true channel_id:long date:int actor_id:long user_id:long prev_participant:flags.0?ChannelParticipant new_participant:flags.1?ChannelParticipant invite:flags.2?ExportedChatInvite qts:int = Update;\nupdateBotStopped#c4870a49 user_id:long date:int stopped:Bool qts:int = Update;\nupdateGroupCallConnection#b783982 flags:# presentation:flags.0?true params:DataJSON = Update;\nupdateBotCommands#4d712f2e peer:Peer bot_id:long commands:Vector<BotCommand> = Update;\nupdatePendingJoinRequests#7063c3db peer:Peer requests_pending:int recent_requesters:Vector<long> = Update;\nupdateBotChatInviteRequester#11dfa986 peer:Peer date:int user_id:long about:string invite:ExportedChatInvite qts:int = Update;\nupdateMessageReactions#1e297bfa flags:# peer:Peer msg_id:int top_msg_id:flags.0?int saved_peer_id:flags.1?Peer reactions:MessageReactions = Update;\nupdateAttachMenuBots#17b7a20b = Update;\nupdateWebViewResultSent#1592b79d query_id:long = Update;\nupdateBotMenuButton#14b85813 bot_id:long button:BotMenuButton = Update;\nupdateSavedRingtones#74d8be99 = Update;\nupdateTranscribedAudio#84cd5a flags:# pending:flags.0?true peer:Peer msg_id:int transcription_id:long text:string = Update;\nupdateReadFeaturedEmojiStickers#fb4c496c = Update;\nupdateUserEmojiStatus#28373599 user_id:long emoji_status:EmojiStatus = Update;\nupdateRecentEmojiStatuses#30f443db = Update;\nupdateRecentReactions#6f7863f4 = Update;\nupdateMoveStickerSetToTop#86fccf85 flags:# masks:flags.0?true emojis:flags.1?true stickerset:long = Update;\nupdateMessageExtendedMedia#d5a41724 peer:Peer msg_id:int extended_media:Vector<MessageExtendedMedia> = Update;\nupdateChannelPinnedTopic#192efbe3 flags:# pinned:flags.0?true channel_id:long topic_id:int = Update;\nupdateChannelPinnedTopics#fe198602 flags:# channel_id:long order:flags.0?Vector<int> = Update;\nupdateUser#20529438 user_id:long = Update;\nupdateAutoSaveSettings#ec05b097 = Update;\nupdateStory#75b3b798 peer:Peer story:StoryItem = Update;\nupdateReadStories#f74e932b peer:Peer max_id:int = Update;\nupdateStoryID#1bf335b9 id:int random_id:long = Update;\nupdateStoriesStealthMode#2c084dc1 stealth_mode:StoriesStealthMode = Update;\nupdateSentStoryReaction#7d627683 peer:Peer story_id:int reaction:Reaction = Update;\nupdateBotChatBoost#904dd49c peer:Peer boost:Boost qts:int = Update;\nupdateChannelViewForumAsMessages#7b68920 channel_id:long enabled:Bool = Update;\nupdatePeerWallpaper#ae3f101d flags:# wallpaper_overridden:flags.1?true peer:Peer wallpaper:flags.0?WallPaper = Update;\nupdateBotMessageReaction#ac21d3ce peer:Peer msg_id:int date:int actor:Peer old_reactions:Vector<Reaction> new_reactions:Vector<Reaction> qts:int = Update;\nupdateBotMessageReactions#9cb7759 peer:Peer msg_id:int date:int reactions:Vector<ReactionCount> qts:int = Update;\nupdateSavedDialogPinned#aeaf9e74 flags:# pinned:flags.0?true peer:DialogPeer = Update;\nupdatePinnedSavedDialogs#686c85a6 flags:# order:flags.0?Vector<DialogPeer> = Update;\nupdateSavedReactionTags#39c67432 = Update;\nupdateSmsJob#f16269d4 job_id:string = Update;\nupdateQuickReplies#f9470ab2 quick_replies:Vector<QuickReply> = Update;\nupdateNewQuickReply#f53da717 quick_reply:QuickReply = Update;\nupdateDeleteQuickReply#53e6f1ec shortcut_id:int = Update;\nupdateQuickReplyMessage#3e050d0f message:Message = Update;\nupdateDeleteQuickReplyMessages#566fe7cd shortcut_id:int messages:Vector<int> = Update;\nupdateBotBusinessConnect#8ae5c97a connection:BotBusinessConnection qts:int = Update;\nupdateBotNewBusinessMessage#9ddb347c flags:# connection_id:string message:Message reply_to_message:flags.0?Message qts:int = Update;\nupdateBotEditBusinessMessage#7df587c flags:# connection_id:string message:Message reply_to_message:flags.0?Message qts:int = Update;\nupdateBotDeleteBusinessMessage#a02a982e connection_id:string peer:Peer messages:Vector<int> qts:int = Update;\nupdateNewStoryReaction#1824e40b story_id:int peer:Peer reaction:Reaction = Update;\nupdateStarsBalance#4e80a379 balance:StarsAmount = Update;\nupdateBusinessBotCallbackQuery#1ea2fda7 flags:# query_id:long user_id:long connection_id:string message:Message reply_to_message:flags.2?Message chat_instance:long data:flags.0?bytes = Update;\nupdateStarsRevenueStatus#a584b019 peer:Peer status:StarsRevenueStatus = Update;\nupdateBotPurchasedPaidMedia#283bd312 user_id:long payload:string qts:int = Update;\nupdatePaidReactionPrivacy#8b725fce private:PaidReactionPrivacy = Update;\nupdateSentPhoneCode#504aa18f sent_code:auth.SentCode = Update;\nupdateGroupCallChainBlocks#a477288f call:InputGroupCall sub_chain_id:int blocks:Vector<bytes> next_offset:int = Update;\nupdateReadMonoForumInbox#77b0e372 channel_id:long saved_peer_id:Peer read_max_id:int = Update;\nupdateReadMonoForumOutbox#a4a79376 channel_id:long saved_peer_id:Peer read_max_id:int = Update;\nupdateMonoForumNoPaidException#9f812b08 flags:# exception:flags.0?true channel_id:long saved_peer_id:Peer = Update;\nupdates.state#a56c2a3e pts:int qts:int date:int seq:int unread_count:int = updates.State;\nupdates.differenceEmpty#5d75a138 date:int seq:int = updates.Difference;\nupdates.difference#f49ca0 new_messages:Vector<Message> new_encrypted_messages:Vector<EncryptedMessage> other_updates:Vector<Update> chats:Vector<Chat> users:Vector<User> state:updates.State = updates.Difference;\nupdates.differenceSlice#a8fb1981 new_messages:Vector<Message> new_encrypted_messages:Vector<EncryptedMessage> other_updates:Vector<Update> chats:Vector<Chat> users:Vector<User> intermediate_state:updates.State = updates.Difference;\nupdates.differenceTooLong#4afe8f6d pts:int = updates.Difference;\nupdatesTooLong#e317af7e = Updates;\nupdateShortMessage#313bc7f8 flags:# out:flags.1?true mentioned:flags.4?true media_unread:flags.5?true silent:flags.13?true id:int user_id:long message:string pts:int pts_count:int date:int fwd_from:flags.2?MessageFwdHeader via_bot_id:flags.11?long reply_to:flags.3?MessageReplyHeader entities:flags.7?Vector<MessageEntity> ttl_period:flags.25?int = Updates;\nupdateShortChatMessage#4d6deea5 flags:# out:flags.1?true mentioned:flags.4?true media_unread:flags.5?true silent:flags.13?true id:int from_id:long chat_id:long message:string pts:int pts_count:int date:int fwd_from:flags.2?MessageFwdHeader via_bot_id:flags.11?long reply_to:flags.3?MessageReplyHeader entities:flags.7?Vector<MessageEntity> ttl_period:flags.25?int = Updates;\nupdateShort#78d4dec1 update:Update date:int = Updates;\nupdatesCombined#725b04c3 updates:Vector<Update> users:Vector<User> chats:Vector<Chat> date:int seq_start:int seq:int = Updates;\nupdates#74ae4240 updates:Vector<Update> users:Vector<User> chats:Vector<Chat> date:int seq:int = Updates;\nupdateShortSentMessage#9015e101 flags:# out:flags.1?true id:int pts:int pts_count:int date:int media:flags.9?MessageMedia entities:flags.7?Vector<MessageEntity> ttl_period:flags.25?int = Updates;\nphotos.photos#8dca6aa5 photos:Vector<Photo> users:Vector<User> = photos.Photos;\nphotos.photosSlice#15051f54 count:int photos:Vector<Photo> users:Vector<User> = photos.Photos;\nphotos.photo#20212ca8 photo:Photo users:Vector<User> = photos.Photo;\nupload.file#96a18d5 type:storage.FileType mtime:int bytes:bytes = upload.File;\nupload.fileCdnRedirect#f18cda44 dc_id:int file_token:bytes encryption_key:bytes encryption_iv:bytes file_hashes:Vector<FileHash> = upload.File;\ndcOption#18b7a10d flags:# ipv6:flags.0?true media_only:flags.1?true tcpo_only:flags.2?true cdn:flags.3?true static:flags.4?true this_port_only:flags.5?true id:int ip_address:string port:int secret:flags.10?bytes = DcOption;\nconfig#cc1a241e flags:# default_p2p_contacts:flags.3?true preload_featured_stickers:flags.4?true revoke_pm_inbox:flags.6?true blocked_mode:flags.8?true force_try_ipv6:flags.14?true date:int expires:int test_mode:Bool this_dc:int dc_options:Vector<DcOption> dc_txt_domain_name:string chat_size_max:int megagroup_size_max:int forwarded_count_max:int online_update_period_ms:int offline_blur_timeout_ms:int offline_idle_timeout_ms:int online_cloud_timeout_ms:int notify_cloud_delay_ms:int notify_default_delay_ms:int push_chat_period_ms:int push_chat_limit:int edit_time_limit:int revoke_time_limit:int revoke_pm_time_limit:int rating_e_decay:int stickers_recent_limit:int channels_read_media_period:int tmp_sessions:flags.0?int call_receive_timeout_ms:int call_ring_timeout_ms:int call_connect_timeout_ms:int call_packet_timeout_ms:int me_url_prefix:string autoupdate_url_prefix:flags.7?string gif_search_username:flags.9?string venue_search_username:flags.10?string img_search_username:flags.11?string static_maps_provider:flags.12?string caption_length_max:int message_length_max:int webfile_dc_id:int suggested_lang_code:flags.2?string lang_pack_version:flags.2?int base_lang_pack_version:flags.2?int reactions_default:flags.15?Reaction autologin_token:flags.16?string = Config;\nnearestDc#8e1a1775 country:string this_dc:int nearest_dc:int = NearestDc;\nhelp.appUpdate#ccbbce30 flags:# can_not_skip:flags.0?true id:int version:string text:string entities:Vector<MessageEntity> document:flags.1?Document url:flags.2?string sticker:flags.3?Document = help.AppUpdate;\nhelp.noAppUpdate#c45a6536 = help.AppUpdate;\nhelp.inviteText#18cb9f78 message:string = help.InviteText;\nencryptedChatEmpty#ab7ec0a0 id:int = EncryptedChat;\nencryptedChatWaiting#66b25953 id:int access_hash:long date:int admin_id:long participant_id:long = EncryptedChat;\nencryptedChatRequested#48f1d94c flags:# folder_id:flags.0?int id:int access_hash:long date:int admin_id:long participant_id:long g_a:bytes = EncryptedChat;\nencryptedChat#61f0d4c7 id:int access_hash:long date:int admin_id:long participant_id:long g_a_or_b:bytes key_fingerprint:long = EncryptedChat;\nencryptedChatDiscarded#1e1c7c45 flags:# history_deleted:flags.0?true id:int = EncryptedChat;\ninputEncryptedChat#f141b5e1 chat_id:int access_hash:long = InputEncryptedChat;\nencryptedFileEmpty#c21f497e = EncryptedFile;\nencryptedFile#a8008cd8 id:long access_hash:long size:long dc_id:int key_fingerprint:int = EncryptedFile;\ninputEncryptedFileEmpty#1837c364 = InputEncryptedFile;\ninputEncryptedFileUploaded#64bd0306 id:long parts:int md5_checksum:string key_fingerprint:int = InputEncryptedFile;\ninputEncryptedFile#5a17b5e5 id:long access_hash:long = InputEncryptedFile;\ninputEncryptedFileBigUploaded#2dc173c8 id:long parts:int key_fingerprint:int = InputEncryptedFile;\nencryptedMessage#ed18c118 random_id:long chat_id:int date:int bytes:bytes file:EncryptedFile = EncryptedMessage;\nencryptedMessageService#23734b06 random_id:long chat_id:int date:int bytes:bytes = EncryptedMessage;\nmessages.dhConfigNotModified#c0e24635 random:bytes = messages.DhConfig;\nmessages.dhConfig#2c221edd g:int p:bytes version:int random:bytes = messages.DhConfig;\nmessages.sentEncryptedMessage#560f8935 date:int = messages.SentEncryptedMessage;\nmessages.sentEncryptedFile#9493ff32 date:int file:EncryptedFile = messages.SentEncryptedMessage;\ninputDocumentEmpty#72f0eaae = InputDocument;\ninputDocument#1abfb575 id:long access_hash:long file_reference:bytes = InputDocument;\ndocumentEmpty#36f8c871 id:long = Document;\ndocument#8fd4c4d8 flags:# id:long access_hash:long file_reference:bytes date:int mime_type:string size:long thumbs:flags.0?Vector<PhotoSize> video_thumbs:flags.1?Vector<VideoSize> dc_id:int attributes:Vector<DocumentAttribute> = Document;\nhelp.support#17c6b5f6 phone_number:string user:User = help.Support;\nnotifyPeer#9fd40bd8 peer:Peer = NotifyPeer;\nnotifyUsers#b4c83b4c = NotifyPeer;\nnotifyChats#c007cec3 = NotifyPeer;\nnotifyBroadcasts#d612e8ef = NotifyPeer;\nnotifyForumTopic#226e6308 peer:Peer top_msg_id:int = NotifyPeer;\nsendMessageTypingAction#16bf744e = SendMessageAction;\nsendMessageCancelAction#fd5ec8f5 = SendMessageAction;\nsendMessageRecordVideoAction#a187d66f = SendMessageAction;\nsendMessageUploadVideoAction#e9763aec progress:int = SendMessageAction;\nsendMessageRecordAudioAction#d52f73f7 = SendMessageAction;\nsendMessageUploadAudioAction#f351d7ab progress:int = SendMessageAction;\nsendMessageUploadPhotoAction#d1d34a26 progress:int = SendMessageAction;\nsendMessageUploadDocumentAction#aa0cd9e4 progress:int = SendMessageAction;\nsendMessageGeoLocationAction#176f8ba1 = SendMessageAction;\nsendMessageChooseContactAction#628cbc6f = SendMessageAction;\nsendMessageGamePlayAction#dd6a8f48 = SendMessageAction;\nsendMessageRecordRoundAction#88f27fbc = SendMessageAction;\nsendMessageUploadRoundAction#243e1c66 progress:int = SendMessageAction;\nspeakingInGroupCallAction#d92c2285 = SendMessageAction;\nsendMessageHistoryImportAction#dbda9246 progress:int = SendMessageAction;\nsendMessageChooseStickerAction#b05ac6b1 = SendMessageAction;\nsendMessageEmojiInteraction#25972bcb emoticon:string msg_id:int interaction:DataJSON = SendMessageAction;\nsendMessageEmojiInteractionSeen#b665902e emoticon:string = SendMessageAction;\ncontacts.found#b3134d9d my_results:Vector<Peer> results:Vector<Peer> chats:Vector<Chat> users:Vector<User> = contacts.Found;\ninputPrivacyKeyStatusTimestamp#4f96cb18 = InputPrivacyKey;\ninputPrivacyKeyChatInvite#bdfb0426 = InputPrivacyKey;\ninputPrivacyKeyPhoneCall#fabadc5f = InputPrivacyKey;\ninputPrivacyKeyPhoneP2P#db9e70d2 = InputPrivacyKey;\ninputPrivacyKeyForwards#a4dd4c08 = InputPrivacyKey;\ninputPrivacyKeyProfilePhoto#5719bacc = InputPrivacyKey;\ninputPrivacyKeyPhoneNumber#352dafa = InputPrivacyKey;\ninputPrivacyKeyAddedByPhone#d1219bdd = InputPrivacyKey;\ninputPrivacyKeyVoiceMessages#aee69d68 = InputPrivacyKey;\ninputPrivacyKeyAbout#3823cc40 = InputPrivacyKey;\ninputPrivacyKeyBirthday#d65a11cc = InputPrivacyKey;\ninputPrivacyKeyStarGiftsAutoSave#e1732341 = InputPrivacyKey;\ninputPrivacyKeyNoPaidMessages#bdc597b4 = InputPrivacyKey;\nprivacyKeyStatusTimestamp#bc2eab30 = PrivacyKey;\nprivacyKeyChatInvite#500e6dfa = PrivacyKey;\nprivacyKeyPhoneCall#3d662b7b = PrivacyKey;\nprivacyKeyPhoneP2P#39491cc8 = PrivacyKey;\nprivacyKeyForwards#69ec56a3 = PrivacyKey;\nprivacyKeyProfilePhoto#96151fed = PrivacyKey;\nprivacyKeyPhoneNumber#d19ae46d = PrivacyKey;\nprivacyKeyAddedByPhone#42ffd42b = PrivacyKey;\nprivacyKeyVoiceMessages#697f414 = PrivacyKey;\nprivacyKeyAbout#a486b761 = PrivacyKey;\nprivacyKeyBirthday#2000a518 = PrivacyKey;\nprivacyKeyStarGiftsAutoSave#2ca4fdf8 = PrivacyKey;\nprivacyKeyNoPaidMessages#17d348d2 = PrivacyKey;\ninputPrivacyValueAllowContacts#d09e07b = InputPrivacyRule;\ninputPrivacyValueAllowAll#184b35ce = InputPrivacyRule;\ninputPrivacyValueAllowUsers#131cc67f users:Vector<InputUser> = InputPrivacyRule;\ninputPrivacyValueDisallowContacts#ba52007 = InputPrivacyRule;\ninputPrivacyValueDisallowAll#d66b66c9 = InputPrivacyRule;\ninputPrivacyValueDisallowUsers#90110467 users:Vector<InputUser> = InputPrivacyRule;\ninputPrivacyValueAllowChatParticipants#840649cf chats:Vector<long> = InputPrivacyRule;\ninputPrivacyValueDisallowChatParticipants#e94f0f86 chats:Vector<long> = InputPrivacyRule;\ninputPrivacyValueAllowCloseFriends#2f453e49 = InputPrivacyRule;\ninputPrivacyValueAllowPremium#77cdc9f1 = InputPrivacyRule;\ninputPrivacyValueAllowBots#5a4fcce5 = InputPrivacyRule;\ninputPrivacyValueDisallowBots#c4e57915 = InputPrivacyRule;\nprivacyValueAllowContacts#fffe1bac = PrivacyRule;\nprivacyValueAllowAll#65427b82 = PrivacyRule;\nprivacyValueAllowUsers#b8905fb2 users:Vector<long> = PrivacyRule;\nprivacyValueDisallowContacts#f888fa1a = PrivacyRule;\nprivacyValueDisallowAll#8b73e763 = PrivacyRule;\nprivacyValueDisallowUsers#e4621141 users:Vector<long> = PrivacyRule;\nprivacyValueAllowChatParticipants#6b134e8e chats:Vector<long> = PrivacyRule;\nprivacyValueDisallowChatParticipants#41c87565 chats:Vector<long> = PrivacyRule;\nprivacyValueAllowCloseFriends#f7e8d89b = PrivacyRule;\nprivacyValueAllowPremium#ece9814b = PrivacyRule;\nprivacyValueAllowBots#21461b5d = PrivacyRule;\nprivacyValueDisallowBots#f6a5f82f = PrivacyRule;\naccount.privacyRules#50a04e45 rules:Vector<PrivacyRule> chats:Vector<Chat> users:Vector<User> = account.PrivacyRules;\naccountDaysTTL#b8d0afdf days:int = AccountDaysTTL;\ndocumentAttributeImageSize#6c37c15c w:int h:int = DocumentAttribute;\ndocumentAttributeAnimated#11b58939 = DocumentAttribute;\ndocumentAttributeSticker#6319d612 flags:# mask:flags.1?true alt:string stickerset:InputStickerSet mask_coords:flags.0?MaskCoords = DocumentAttribute;\ndocumentAttributeVideo#43c57c48 flags:# round_message:flags.0?true supports_streaming:flags.1?true nosound:flags.3?true duration:double w:int h:int preload_prefix_size:flags.2?int video_start_ts:flags.4?double video_codec:flags.5?string = DocumentAttribute;\ndocumentAttributeAudio#9852f9c6 flags:# voice:flags.10?true duration:int title:flags.0?string performer:flags.1?string waveform:flags.2?bytes = DocumentAttribute;\ndocumentAttributeFilename#15590068 file_name:string = DocumentAttribute;\ndocumentAttributeHasStickers#9801d2f7 = DocumentAttribute;\ndocumentAttributeCustomEmoji#fd149899 flags:# free:flags.0?true text_color:flags.1?true alt:string stickerset:InputStickerSet = DocumentAttribute;\nmessages.stickersNotModified#f1749a22 = messages.Stickers;\nmessages.stickers#30a6ec7e hash:long stickers:Vector<Document> = messages.Stickers;\nstickerPack#12b299d4 emoticon:string documents:Vector<long> = StickerPack;\nmessages.allStickersNotModified#e86602c3 = messages.AllStickers;\nmessages.allStickers#cdbbcebb hash:long sets:Vector<StickerSet> = messages.AllStickers;\nmessages.affectedMessages#84d19185 pts:int pts_count:int = messages.AffectedMessages;\nwebPageEmpty#211a1788 flags:# id:long url:flags.0?string = WebPage;\nwebPagePending#b0d13e47 flags:# id:long url:flags.0?string date:int = WebPage;\nwebPage#e89c45b2 flags:# has_large_media:flags.13?true video_cover_photo:flags.14?true id:long url:string display_url:string hash:int type:flags.0?string site_name:flags.1?string title:flags.2?string description:flags.3?string photo:flags.4?Photo embed_url:flags.5?string embed_type:flags.5?string embed_width:flags.6?int embed_height:flags.6?int duration:flags.7?int author:flags.8?string document:flags.9?Document cached_page:flags.10?Page attributes:flags.12?Vector<WebPageAttribute> = WebPage;\nwebPageNotModified#7311ca11 flags:# cached_page_views:flags.0?int = WebPage;\nauthorization#ad01d61d flags:# current:flags.0?true official_app:flags.1?true password_pending:flags.2?true encrypted_requests_disabled:flags.3?true call_requests_disabled:flags.4?true unconfirmed:flags.5?true hash:long device_model:string platform:string system_version:string api_id:int app_name:string app_version:string date_created:int date_active:int ip:string country:string region:string = Authorization;\naccount.authorizations#4bff8ea0 authorization_ttl_days:int authorizations:Vector<Authorization> = account.Authorizations;\naccount.password#957b50fb flags:# has_recovery:flags.0?true has_secure_values:flags.1?true has_password:flags.2?true current_algo:flags.2?PasswordKdfAlgo srp_B:flags.2?bytes srp_id:flags.2?long hint:flags.3?string email_unconfirmed_pattern:flags.4?string new_algo:PasswordKdfAlgo new_secure_algo:SecurePasswordKdfAlgo secure_random:bytes pending_reset_date:flags.5?int login_email_pattern:flags.6?string = account.Password;\naccount.passwordSettings#9a5c33e5 flags:# email:flags.0?string secure_settings:flags.1?SecureSecretSettings = account.PasswordSettings;\naccount.passwordInputSettings#c23727c9 flags:# new_algo:flags.0?PasswordKdfAlgo new_password_hash:flags.0?bytes hint:flags.0?string email:flags.1?string new_secure_settings:flags.2?SecureSecretSettings = account.PasswordInputSettings;\nauth.passwordRecovery#137948a5 email_pattern:string = auth.PasswordRecovery;\nreceivedNotifyMessage#a384b779 id:int flags:int = ReceivedNotifyMessage;\nchatInviteExported#a22cbd96 flags:# revoked:flags.0?true permanent:flags.5?true request_needed:flags.6?true link:string admin_id:long date:int start_date:flags.4?int expire_date:flags.1?int usage_limit:flags.2?int usage:flags.3?int requested:flags.7?int subscription_expired:flags.10?int title:flags.8?string subscription_pricing:flags.9?StarsSubscriptionPricing = ExportedChatInvite;\nchatInvitePublicJoinRequests#ed107ab7 = ExportedChatInvite;\nchatInviteAlready#5a686d7c chat:Chat = ChatInvite;\nchatInvite#5c9d3702 flags:# channel:flags.0?true broadcast:flags.1?true public:flags.2?true megagroup:flags.3?true request_needed:flags.6?true verified:flags.7?true scam:flags.8?true fake:flags.9?true can_refulfill_subscription:flags.11?true title:string about:flags.5?string photo:Photo participants_count:int participants:flags.4?Vector<User> color:int subscription_pricing:flags.10?StarsSubscriptionPricing subscription_form_id:flags.12?long bot_verification:flags.13?BotVerification = ChatInvite;\nchatInvitePeek#61695cb0 chat:Chat expires:int = ChatInvite;\ninputStickerSetEmpty#ffb62b95 = InputStickerSet;\ninputStickerSetID#9de7a269 id:long access_hash:long = InputStickerSet;\ninputStickerSetShortName#861cc8a0 short_name:string = InputStickerSet;\ninputStickerSetAnimatedEmoji#28703c8 = InputStickerSet;\ninputStickerSetDice#e67f520e emoticon:string = InputStickerSet;\ninputStickerSetAnimatedEmojiAnimations#cde3739 = InputStickerSet;\ninputStickerSetPremiumGifts#c88b3b02 = InputStickerSet;\ninputStickerSetEmojiGenericAnimations#4c4d4ce = InputStickerSet;\ninputStickerSetEmojiDefaultStatuses#29d0f5ee = InputStickerSet;\ninputStickerSetEmojiDefaultTopicIcons#44c1f8e9 = InputStickerSet;\ninputStickerSetEmojiChannelDefaultStatuses#49748553 = InputStickerSet;\ninputStickerSetTonGifts#1cf671a0 = InputStickerSet;\nstickerSet#2dd14edc flags:# archived:flags.1?true official:flags.2?true masks:flags.3?true emojis:flags.7?true text_color:flags.9?true channel_emoji_status:flags.10?true creator:flags.11?true installed_date:flags.0?int id:long access_hash:long title:string short_name:string thumbs:flags.4?Vector<PhotoSize> thumb_dc_id:flags.4?int thumb_version:flags.4?int thumb_document_id:flags.8?long count:int hash:int = StickerSet;\nmessages.stickerSet#6e153f16 set:StickerSet packs:Vector<StickerPack> keywords:Vector<StickerKeyword> documents:Vector<Document> = messages.StickerSet;\nmessages.stickerSetNotModified#d3f924eb = messages.StickerSet;\nbotCommand#c27ac8c7 command:string description:string = BotCommand;\nbotInfo#4d8a0299 flags:# has_preview_medias:flags.6?true user_id:flags.0?long description:flags.1?string description_photo:flags.4?Photo description_document:flags.5?Document commands:flags.2?Vector<BotCommand> menu_button:flags.3?BotMenuButton privacy_policy_url:flags.7?string app_settings:flags.8?BotAppSettings verifier_settings:flags.9?BotVerifierSettings = BotInfo;\nkeyboardButton#a2fa4880 text:string = KeyboardButton;\nkeyboardButtonUrl#258aff05 text:string url:string = KeyboardButton;\nkeyboardButtonCallback#35bbdb6b flags:# requires_password:flags.0?true text:string data:bytes = KeyboardButton;\nkeyboardButtonRequestPhone#b16a6c29 text:string = KeyboardButton;\nkeyboardButtonRequestGeoLocation#fc796b3f text:string = KeyboardButton;\nkeyboardButtonSwitchInline#93b9fbb5 flags:# same_peer:flags.0?true text:string query:string peer_types:flags.1?Vector<InlineQueryPeerType> = KeyboardButton;\nkeyboardButtonGame#50f41ccf text:string = KeyboardButton;\nkeyboardButtonBuy#afd93fbb text:string = KeyboardButton;\nkeyboardButtonUrlAuth#10b78d29 flags:# text:string fwd_text:flags.0?string url:string button_id:int = KeyboardButton;\ninputKeyboardButtonUrlAuth#d02e7fd4 flags:# request_write_access:flags.0?true text:string fwd_text:flags.1?string url:string bot:InputUser = KeyboardButton;\nkeyboardButtonRequestPoll#bbc7515d flags:# quiz:flags.0?Bool text:string = KeyboardButton;\ninputKeyboardButtonUserProfile#e988037b text:string user_id:InputUser = KeyboardButton;\nkeyboardButtonUserProfile#308660c1 text:string user_id:long = KeyboardButton;\nkeyboardButtonWebView#13767230 text:string url:string = KeyboardButton;\nkeyboardButtonSimpleWebView#a0c0505c text:string url:string = KeyboardButton;\nkeyboardButtonRequestPeer#53d7bfd8 text:string button_id:int peer_type:RequestPeerType max_quantity:int = KeyboardButton;\ninputKeyboardButtonRequestPeer#c9662d05 flags:# name_requested:flags.0?true username_requested:flags.1?true photo_requested:flags.2?true text:string button_id:int peer_type:RequestPeerType max_quantity:int = KeyboardButton;\nkeyboardButtonCopy#75d2698e text:string copy_text:string = KeyboardButton;\nkeyboardButtonRow#77608b83 buttons:Vector<KeyboardButton> = KeyboardButtonRow;\nreplyKeyboardHide#a03e5b85 flags:# selective:flags.2?true = ReplyMarkup;\nreplyKeyboardForceReply#86b40b08 flags:# single_use:flags.1?true selective:flags.2?true placeholder:flags.3?string = ReplyMarkup;\nreplyKeyboardMarkup#85dd99d1 flags:# resize:flags.0?true single_use:flags.1?true selective:flags.2?true persistent:flags.4?true rows:Vector<KeyboardButtonRow> placeholder:flags.3?string = ReplyMarkup;\nreplyInlineMarkup#48a30254 rows:Vector<KeyboardButtonRow> = ReplyMarkup;\nmessageEntityUnknown#bb92ba95 offset:int length:int = MessageEntity;\nmessageEntityMention#fa04579d offset:int length:int = MessageEntity;\nmessageEntityHashtag#6f635b0d offset:int length:int = MessageEntity;\nmessageEntityBotCommand#6cef8ac7 offset:int length:int = MessageEntity;\nmessageEntityUrl#6ed02538 offset:int length:int = MessageEntity;\nmessageEntityEmail#64e475c2 offset:int length:int = MessageEntity;\nmessageEntityBold#bd610bc9 offset:int length:int = MessageEntity;\nmessageEntityItalic#826f8b60 offset:int length:int = MessageEntity;\nmessageEntityCode#28a20571 offset:int length:int = MessageEntity;\nmessageEntityPre#73924be0 offset:int length:int language:string = MessageEntity;\nmessageEntityTextUrl#76a6d327 offset:int length:int url:string = MessageEntity;\nmessageEntityMentionName#dc7b1140 offset:int length:int user_id:long = MessageEntity;\ninputMessageEntityMentionName#208e68c9 offset:int length:int user_id:InputUser = MessageEntity;\nmessageEntityPhone#9b69e34b offset:int length:int = MessageEntity;\nmessageEntityCashtag#4c4e743f offset:int length:int = MessageEntity;\nmessageEntityUnderline#9c4e7e8b offset:int length:int = MessageEntity;\nmessageEntityStrike#bf0693d4 offset:int length:int = MessageEntity;\nmessageEntityBankCard#761e6af4 offset:int length:int = MessageEntity;\nmessageEntitySpoiler#32ca960f offset:int length:int = MessageEntity;\nmessageEntityCustomEmoji#c8cf05f8 offset:int length:int document_id:long = MessageEntity;\nmessageEntityBlockquote#f1ccaaac flags:# collapsed:flags.0?true offset:int length:int = MessageEntity;\ninputChannelEmpty#ee8c1e86 = InputChannel;\ninputChannel#f35aec28 channel_id:long access_hash:long = InputChannel;\ninputChannelFromMessage#5b934f9d peer:InputPeer msg_id:int channel_id:long = InputChannel;\ncontacts.resolvedPeer#7f077ad9 peer:Peer chats:Vector<Chat> users:Vector<User> = contacts.ResolvedPeer;\nmessageRange#ae30253 min_id:int max_id:int = MessageRange;\nupdates.channelDifferenceEmpty#3e11affb flags:# final:flags.0?true pts:int timeout:flags.1?int = updates.ChannelDifference;\nupdates.channelDifferenceTooLong#a4bcc6fe flags:# final:flags.0?true timeout:flags.1?int dialog:Dialog messages:Vector<Message> chats:Vector<Chat> users:Vector<User> = updates.ChannelDifference;\nupdates.channelDifference#2064674e flags:# final:flags.0?true pts:int timeout:flags.1?int new_messages:Vector<Message> other_updates:Vector<Update> chats:Vector<Chat> users:Vector<User> = updates.ChannelDifference;\nchannelMessagesFilterEmpty#94d42ee7 = ChannelMessagesFilter;\nchannelMessagesFilter#cd77d957 flags:# exclude_new_messages:flags.1?true ranges:Vector<MessageRange> = ChannelMessagesFilter;\nchannelParticipant#cb397619 flags:# user_id:long date:int subscription_until_date:flags.0?int = ChannelParticipant;\nchannelParticipantSelf#4f607bef flags:# via_request:flags.0?true user_id:long inviter_id:long date:int subscription_until_date:flags.1?int = ChannelParticipant;\nchannelParticipantCreator#2fe601d3 flags:# user_id:long admin_rights:ChatAdminRights rank:flags.0?string = ChannelParticipant;\nchannelParticipantAdmin#34c3bb53 flags:# can_edit:flags.0?true self:flags.1?true user_id:long inviter_id:flags.1?long promoted_by:long date:int admin_rights:ChatAdminRights rank:flags.2?string = ChannelParticipant;\nchannelParticipantBanned#6df8014e flags:# left:flags.0?true peer:Peer kicked_by:long date:int banned_rights:ChatBannedRights = ChannelParticipant;\nchannelParticipantLeft#1b03f006 peer:Peer = ChannelParticipant;\nchannelParticipantsRecent#de3f3c79 = ChannelParticipantsFilter;\nchannelParticipantsAdmins#b4608969 = ChannelParticipantsFilter;\nchannelParticipantsKicked#a3b54985 q:string = ChannelParticipantsFilter;\nchannelParticipantsBots#b0d1865b = ChannelParticipantsFilter;\nchannelParticipantsBanned#1427a5e1 q:string = ChannelParticipantsFilter;\nchannelParticipantsSearch#656ac4b q:string = ChannelParticipantsFilter;\nchannelParticipantsContacts#bb6ae88d q:string = ChannelParticipantsFilter;\nchannelParticipantsMentions#e04b5ceb flags:# q:flags.0?string top_msg_id:flags.1?int = ChannelParticipantsFilter;\nchannels.channelParticipants#9ab0feaf count:int participants:Vector<ChannelParticipant> chats:Vector<Chat> users:Vector<User> = channels.ChannelParticipants;\nchannels.channelParticipantsNotModified#f0173fe9 = channels.ChannelParticipants;\nchannels.channelParticipant#dfb80317 participant:ChannelParticipant chats:Vector<Chat> users:Vector<User> = channels.ChannelParticipant;\nhelp.termsOfService#780a0310 flags:# popup:flags.0?true id:DataJSON text:string entities:Vector<MessageEntity> min_age_confirm:flags.1?int = help.TermsOfService;\nmessages.savedGifsNotModified#e8025ca2 = messages.SavedGifs;\nmessages.savedGifs#84a02a0d hash:long gifs:Vector<Document> = messages.SavedGifs;\ninputBotInlineMessageMediaAuto#3380c786 flags:# invert_media:flags.3?true message:string entities:flags.1?Vector<MessageEntity> reply_markup:flags.2?ReplyMarkup = InputBotInlineMessage;\ninputBotInlineMessageText#3dcd7a87 flags:# no_webpage:flags.0?true invert_media:flags.3?true message:string entities:flags.1?Vector<MessageEntity> reply_markup:flags.2?ReplyMarkup = InputBotInlineMessage;\ninputBotInlineMessageMediaGeo#96929a85 flags:# geo_point:InputGeoPoint heading:flags.0?int period:flags.1?int proximity_notification_radius:flags.3?int reply_markup:flags.2?ReplyMarkup = InputBotInlineMessage;\ninputBotInlineMessageMediaVenue#417bbf11 flags:# geo_point:InputGeoPoint title:string address:string provider:string venue_id:string venue_type:string reply_markup:flags.2?ReplyMarkup = InputBotInlineMessage;\ninputBotInlineMessageMediaContact#a6edbffd flags:# phone_number:string first_name:string last_name:string vcard:string reply_markup:flags.2?ReplyMarkup = InputBotInlineMessage;\ninputBotInlineMessageGame#4b425864 flags:# reply_markup:flags.2?ReplyMarkup = InputBotInlineMessage;\ninputBotInlineMessageMediaInvoice#d7e78225 flags:# title:string description:string photo:flags.0?InputWebDocument invoice:Invoice payload:bytes provider:string provider_data:DataJSON reply_markup:flags.2?ReplyMarkup = InputBotInlineMessage;\ninputBotInlineMessageMediaWebPage#bddcc510 flags:# invert_media:flags.3?true force_large_media:flags.4?true force_small_media:flags.5?true optional:flags.6?true message:string entities:flags.1?Vector<MessageEntity> url:string reply_markup:flags.2?ReplyMarkup = InputBotInlineMessage;\ninputBotInlineResult#88bf9319 flags:# id:string type:string title:flags.1?string description:flags.2?string url:flags.3?string thumb:flags.4?InputWebDocument content:flags.5?InputWebDocument send_message:InputBotInlineMessage = InputBotInlineResult;\ninputBotInlineResultPhoto#a8d864a7 id:string type:string photo:InputPhoto send_message:InputBotInlineMessage = InputBotInlineResult;\ninputBotInlineResultDocument#fff8fdc4 flags:# id:string type:string title:flags.1?string description:flags.2?string document:InputDocument send_message:InputBotInlineMessage = InputBotInlineResult;\ninputBotInlineResultGame#4fa417f2 id:string short_name:string send_message:InputBotInlineMessage = InputBotInlineResult;\nbotInlineMessageMediaAuto#764cf810 flags:# invert_media:flags.3?true message:string entities:flags.1?Vector<MessageEntity> reply_markup:flags.2?ReplyMarkup = BotInlineMessage;\nbotInlineMessageText#8c7f65e2 flags:# no_webpage:flags.0?true invert_media:flags.3?true message:string entities:flags.1?Vector<MessageEntity> reply_markup:flags.2?ReplyMarkup = BotInlineMessage;\nbotInlineMessageMediaGeo#51846fd flags:# geo:GeoPoint heading:flags.0?int period:flags.1?int proximity_notification_radius:flags.3?int reply_markup:flags.2?ReplyMarkup = BotInlineMessage;\nbotInlineMessageMediaVenue#8a86659c flags:# geo:GeoPoint title:string address:string provider:string venue_id:string venue_type:string reply_markup:flags.2?ReplyMarkup = BotInlineMessage;\nbotInlineMessageMediaContact#18d1cdc2 flags:# phone_number:string first_name:string last_name:string vcard:string reply_markup:flags.2?ReplyMarkup = BotInlineMessage;\nbotInlineMessageMediaInvoice#354a9b09 flags:# shipping_address_requested:flags.1?true test:flags.3?true title:string description:string photo:flags.0?WebDocument currency:string total_amount:long reply_markup:flags.2?ReplyMarkup = BotInlineMessage;\nbotInlineMessageMediaWebPage#809ad9a6 flags:# invert_media:flags.3?true force_large_media:flags.4?true force_small_media:flags.5?true manual:flags.7?true safe:flags.8?true message:string entities:flags.1?Vector<MessageEntity> url:string reply_markup:flags.2?ReplyMarkup = BotInlineMessage;\nbotInlineResult#11965f3a flags:# id:string type:string title:flags.1?string description:flags.2?string url:flags.3?string thumb:flags.4?WebDocument content:flags.5?WebDocument send_message:BotInlineMessage = BotInlineResult;\nbotInlineMediaResult#17db940b flags:# id:string type:string photo:flags.0?Photo document:flags.1?Document title:flags.2?string description:flags.3?string send_message:BotInlineMessage = BotInlineResult;\nmessages.botResults#e021f2f6 flags:# gallery:flags.0?true query_id:long next_offset:flags.1?string switch_pm:flags.2?InlineBotSwitchPM switch_webview:flags.3?InlineBotWebView results:Vector<BotInlineResult> cache_time:int users:Vector<User> = messages.BotResults;\nexportedMessageLink#5dab1af4 link:string html:string = ExportedMessageLink;\nmessageFwdHeader#4e4df4bb flags:# imported:flags.7?true saved_out:flags.11?true from_id:flags.0?Peer from_name:flags.5?string date:int channel_post:flags.2?int post_author:flags.3?string saved_from_peer:flags.4?Peer saved_from_msg_id:flags.4?int saved_from_id:flags.8?Peer saved_from_name:flags.9?string saved_date:flags.10?int psa_type:flags.6?string = MessageFwdHeader;\nauth.codeTypeSms#72a3158c = auth.CodeType;\nauth.codeTypeCall#741cd3e3 = auth.CodeType;\nauth.codeTypeFlashCall#226ccefb = auth.CodeType;\nauth.codeTypeMissedCall#d61ad6ee = auth.CodeType;\nauth.codeTypeFragmentSms#6ed998c = auth.CodeType;\nauth.sentCodeTypeApp#3dbb5986 length:int = auth.SentCodeType;\nauth.sentCodeTypeSms#c000bba2 length:int = auth.SentCodeType;\nauth.sentCodeTypeCall#5353e5a7 length:int = auth.SentCodeType;\nauth.sentCodeTypeFlashCall#ab03c6d9 pattern:string = auth.SentCodeType;\nauth.sentCodeTypeMissedCall#82006484 prefix:string length:int = auth.SentCodeType;\nauth.sentCodeTypeEmailCode#f450f59b flags:# apple_signin_allowed:flags.0?true google_signin_allowed:flags.1?true email_pattern:string length:int reset_available_period:flags.3?int reset_pending_date:flags.4?int = auth.SentCodeType;\nauth.sentCodeTypeSetUpEmailRequired#a5491dea flags:# apple_signin_allowed:flags.0?true google_signin_allowed:flags.1?true = auth.SentCodeType;\nauth.sentCodeTypeFragmentSms#d9565c39 url:string length:int = auth.SentCodeType;\nauth.sentCodeTypeFirebaseSms#9fd736 flags:# nonce:flags.0?bytes play_integrity_project_id:flags.2?long play_integrity_nonce:flags.2?bytes receipt:flags.1?string push_timeout:flags.1?int length:int = auth.SentCodeType;\nauth.sentCodeTypeSmsWord#a416ac81 flags:# beginning:flags.0?string = auth.SentCodeType;\nauth.sentCodeTypeSmsPhrase#b37794af flags:# beginning:flags.0?string = auth.SentCodeType;\nmessages.botCallbackAnswer#36585ea4 flags:# alert:flags.1?true has_url:flags.3?true native_ui:flags.4?true message:flags.0?string url:flags.2?string cache_time:int = messages.BotCallbackAnswer;\nmessages.messageEditData#26b5dde6 flags:# caption:flags.0?true = messages.MessageEditData;\ninputBotInlineMessageID#890c3d89 dc_id:int id:long access_hash:long = InputBotInlineMessageID;\ninputBotInlineMessageID64#b6d915d7 dc_id:int owner_id:long id:int access_hash:long = InputBotInlineMessageID;\ninlineBotSwitchPM#3c20629f text:string start_param:string = InlineBotSwitchPM;\nmessages.peerDialogs#3371c354 dialogs:Vector<Dialog> messages:Vector<Message> chats:Vector<Chat> users:Vector<User> state:updates.State = messages.PeerDialogs;\ntopPeer#edcdc05b peer:Peer rating:double = TopPeer;\ntopPeerCategoryBotsPM#ab661b5b = TopPeerCategory;\ntopPeerCategoryBotsInline#148677e2 = TopPeerCategory;\ntopPeerCategoryCorrespondents#637b7ed = TopPeerCategory;\ntopPeerCategoryGroups#bd17a14a = TopPeerCategory;\ntopPeerCategoryChannels#161d9628 = TopPeerCategory;\ntopPeerCategoryPhoneCalls#1e76a78c = TopPeerCategory;\ntopPeerCategoryForwardUsers#a8406ca9 = TopPeerCategory;\ntopPeerCategoryForwardChats#fbeec0f0 = TopPeerCategory;\ntopPeerCategoryBotsApp#fd9e7bec = TopPeerCategory;\ntopPeerCategoryPeers#fb834291 category:TopPeerCategory count:int peers:Vector<TopPeer> = TopPeerCategoryPeers;\ncontacts.topPeersNotModified#de266ef5 = contacts.TopPeers;\ncontacts.topPeers#70b772a8 categories:Vector<TopPeerCategoryPeers> chats:Vector<Chat> users:Vector<User> = contacts.TopPeers;\ncontacts.topPeersDisabled#b52c939d = contacts.TopPeers;\ndraftMessageEmpty#1b0c841a flags:# date:flags.0?int = DraftMessage;\ndraftMessage#96eaa5eb flags:# no_webpage:flags.1?true invert_media:flags.6?true reply_to:flags.4?InputReplyTo message:string entities:flags.3?Vector<MessageEntity> media:flags.5?InputMedia date:int effect:flags.7?long suggested_post:flags.8?SuggestedPost = DraftMessage;\nmessages.featuredStickersNotModified#c6dc0c66 count:int = messages.FeaturedStickers;\nmessages.featuredStickers#be382906 flags:# premium:flags.0?true hash:long count:int sets:Vector<StickerSetCovered> unread:Vector<long> = messages.FeaturedStickers;\nmessages.recentStickersNotModified#b17f890 = messages.RecentStickers;\nmessages.recentStickers#88d37c56 hash:long packs:Vector<StickerPack> stickers:Vector<Document> dates:Vector<int> = messages.RecentStickers;\nmessages.archivedStickers#4fcba9c8 count:int sets:Vector<StickerSetCovered> = messages.ArchivedStickers;\nmessages.stickerSetInstallResultSuccess#38641628 = messages.StickerSetInstallResult;\nmessages.stickerSetInstallResultArchive#35e410a8 sets:Vector<StickerSetCovered> = messages.StickerSetInstallResult;\nstickerSetCovered#6410a5d2 set:StickerSet cover:Document = StickerSetCovered;\nstickerSetMultiCovered#3407e51b set:StickerSet covers:Vector<Document> = StickerSetCovered;\nstickerSetFullCovered#40d13c0e set:StickerSet packs:Vector<StickerPack> keywords:Vector<StickerKeyword> documents:Vector<Document> = StickerSetCovered;\nstickerSetNoCovered#77b15d1c set:StickerSet = StickerSetCovered;\nmaskCoords#aed6dbb2 n:int x:double y:double zoom:double = MaskCoords;\ninputStickeredMediaPhoto#4a992157 id:InputPhoto = InputStickeredMedia;\ninputStickeredMediaDocument#438865b id:InputDocument = InputStickeredMedia;\ngame#bdf9653b flags:# id:long access_hash:long short_name:string title:string description:string photo:Photo document:flags.0?Document = Game;\ninputGameID#32c3e77 id:long access_hash:long = InputGame;\ninputGameShortName#c331e80a bot_id:InputUser short_name:string = InputGame;\nhighScore#73a379eb pos:int user_id:long score:int = HighScore;\nmessages.highScores#9a3bfd99 scores:Vector<HighScore> users:Vector<User> = messages.HighScores;\ntextEmpty#dc3d824f = RichText;\ntextPlain#744694e0 text:string = RichText;\ntextBold#6724abc4 text:RichText = RichText;\ntextItalic#d912a59c text:RichText = RichText;\ntextUnderline#c12622c4 text:RichText = RichText;\ntextStrike#9bf8bb95 text:RichText = RichText;\ntextFixed#6c3f19b9 text:RichText = RichText;\ntextUrl#3c2884c1 text:RichText url:string webpage_id:long = RichText;\ntextEmail#de5a0dd6 text:RichText email:string = RichText;\ntextConcat#7e6260d7 texts:Vector<RichText> = RichText;\ntextSubscript#ed6a8504 text:RichText = RichText;\ntextSuperscript#c7fb5e01 text:RichText = RichText;\ntextMarked#34b8621 text:RichText = RichText;\ntextPhone#1ccb966a text:RichText phone:string = RichText;\ntextImage#81ccf4f document_id:long w:int h:int = RichText;\ntextAnchor#35553762 text:RichText name:string = RichText;\npageBlockUnsupported#13567e8a = PageBlock;\npageBlockTitle#70abc3fd text:RichText = PageBlock;\npageBlockSubtitle#8ffa9a1f text:RichText = PageBlock;\npageBlockAuthorDate#baafe5e0 author:RichText published_date:int = PageBlock;\npageBlockHeader#bfd064ec text:RichText = PageBlock;\npageBlockSubheader#f12bb6e1 text:RichText = PageBlock;\npageBlockParagraph#467a0766 text:RichText = PageBlock;\npageBlockPreformatted#c070d93e text:RichText language:string = PageBlock;\npageBlockFooter#48870999 text:RichText = PageBlock;\npageBlockDivider#db20b188 = PageBlock;\npageBlockAnchor#ce0d37b0 name:string = PageBlock;\npageBlockList#e4e88011 items:Vector<PageListItem> = PageBlock;\npageBlockBlockquote#263d7c26 text:RichText caption:RichText = PageBlock;\npageBlockPullquote#4f4456d3 text:RichText caption:RichText = PageBlock;\npageBlockPhoto#1759c560 flags:# photo_id:long caption:PageCaption url:flags.0?string webpage_id:flags.0?long = PageBlock;\npageBlockVideo#7c8fe7b6 flags:# autoplay:flags.0?true loop:flags.1?true video_id:long caption:PageCaption = PageBlock;\npageBlockCover#39f23300 cover:PageBlock = PageBlock;\npageBlockEmbed#a8718dc5 flags:# full_width:flags.0?true allow_scrolling:flags.3?true url:flags.1?string html:flags.2?string poster_photo_id:flags.4?long w:flags.5?int h:flags.5?int caption:PageCaption = PageBlock;\npageBlockEmbedPost#f259a80b url:string webpage_id:long author_photo_id:long author:string date:int blocks:Vector<PageBlock> caption:PageCaption = PageBlock;\npageBlockCollage#65a0fa4d items:Vector<PageBlock> caption:PageCaption = PageBlock;\npageBlockSlideshow#31f9590 items:Vector<PageBlock> caption:PageCaption = PageBlock;\npageBlockChannel#ef1751b5 channel:Chat = PageBlock;\npageBlockAudio#804361ea audio_id:long caption:PageCaption = PageBlock;\npageBlockKicker#1e148390 text:RichText = PageBlock;\npageBlockTable#bf4dea82 flags:# bordered:flags.0?true striped:flags.1?true title:RichText rows:Vector<PageTableRow> = PageBlock;\npageBlockOrderedList#9a8ae1e1 items:Vector<PageListOrderedItem> = PageBlock;\npageBlockDetails#76768bed flags:# open:flags.0?true blocks:Vector<PageBlock> title:RichText = PageBlock;\npageBlockRelatedArticles#16115a96 title:RichText articles:Vector<PageRelatedArticle> = PageBlock;\npageBlockMap#a44f3ef6 geo:GeoPoint zoom:int w:int h:int caption:PageCaption = PageBlock;\nphoneCallDiscardReasonMissed#85e42301 = PhoneCallDiscardReason;\nphoneCallDiscardReasonDisconnect#e095c1a0 = PhoneCallDiscardReason;\nphoneCallDiscardReasonHangup#57adc690 = PhoneCallDiscardReason;\nphoneCallDiscardReasonBusy#faf7e8c9 = PhoneCallDiscardReason;\nphoneCallDiscardReasonMigrateConferenceCall#9fbbf1f7 slug:string = PhoneCallDiscardReason;\ndataJSON#7d748d04 data:string = DataJSON;\nlabeledPrice#cb296bf8 label:string amount:long = LabeledPrice;\ninvoice#49ee584 flags:# test:flags.0?true name_requested:flags.1?true phone_requested:flags.2?true email_requested:flags.3?true shipping_address_requested:flags.4?true flexible:flags.5?true phone_to_provider:flags.6?true email_to_provider:flags.7?true recurring:flags.9?true currency:string prices:Vector<LabeledPrice> max_tip_amount:flags.8?long suggested_tip_amounts:flags.8?Vector<long> terms_url:flags.10?string subscription_period:flags.11?int = Invoice;\npaymentCharge#ea02c27e id:string provider_charge_id:string = PaymentCharge;\npostAddress#1e8caaeb street_line1:string street_line2:string city:string state:string country_iso2:string post_code:string = PostAddress;\npaymentRequestedInfo#909c3f94 flags:# name:flags.0?string phone:flags.1?string email:flags.2?string shipping_address:flags.3?PostAddress = PaymentRequestedInfo;\npaymentSavedCredentialsCard#cdc27a1f id:string title:string = PaymentSavedCredentials;\nwebDocument#1c570ed1 url:string access_hash:long size:int mime_type:string attributes:Vector<DocumentAttribute> = WebDocument;\nwebDocumentNoProxy#f9c8bcc6 url:string size:int mime_type:string attributes:Vector<DocumentAttribute> = WebDocument;\ninputWebDocument#9bed434d url:string size:int mime_type:string attributes:Vector<DocumentAttribute> = InputWebDocument;\ninputWebFileLocation#c239d686 url:string access_hash:long = InputWebFileLocation;\ninputWebFileGeoPointLocation#9f2221c9 geo_point:InputGeoPoint access_hash:long w:int h:int zoom:int scale:int = InputWebFileLocation;\ninputWebFileAudioAlbumThumbLocation#f46fe924 flags:# small:flags.2?true document:flags.0?InputDocument title:flags.1?string performer:flags.1?string = InputWebFileLocation;\nupload.webFile#21e753bc size:int mime_type:string file_type:storage.FileType mtime:int bytes:bytes = upload.WebFile;\npayments.paymentForm#a0058751 flags:# can_save_credentials:flags.2?true password_missing:flags.3?true form_id:long bot_id:long title:string description:string photo:flags.5?WebDocument invoice:Invoice provider_id:long url:string native_provider:flags.4?string native_params:flags.4?DataJSON additional_methods:flags.6?Vector<PaymentFormMethod> saved_info:flags.0?PaymentRequestedInfo saved_credentials:flags.1?Vector<PaymentSavedCredentials> users:Vector<User> = payments.PaymentForm;\npayments.paymentFormStars#7bf6b15c flags:# form_id:long bot_id:long title:string description:string photo:flags.5?WebDocument invoice:Invoice users:Vector<User> = payments.PaymentForm;\npayments.paymentFormStarGift#b425cfe1 form_id:long invoice:Invoice = payments.PaymentForm;\npayments.validatedRequestedInfo#d1451883 flags:# id:flags.0?string shipping_options:flags.1?Vector<ShippingOption> = payments.ValidatedRequestedInfo;\npayments.paymentResult#4e5f810d updates:Updates = payments.PaymentResult;\npayments.paymentVerificationNeeded#d8411139 url:string = payments.PaymentResult;\npayments.paymentReceipt#70c4fe03 flags:# date:int bot_id:long provider_id:long title:string description:string photo:flags.2?WebDocument invoice:Invoice info:flags.0?PaymentRequestedInfo shipping:flags.1?ShippingOption tip_amount:flags.3?long currency:string total_amount:long credentials_title:string users:Vector<User> = payments.PaymentReceipt;\npayments.paymentReceiptStars#dabbf83a flags:# date:int bot_id:long title:string description:string photo:flags.2?WebDocument invoice:Invoice currency:string total_amount:long transaction_id:string users:Vector<User> = payments.PaymentReceipt;\npayments.savedInfo#fb8fe43c flags:# has_saved_credentials:flags.1?true saved_info:flags.0?PaymentRequestedInfo = payments.SavedInfo;\ninputPaymentCredentialsSaved#c10eb2cf id:string tmp_password:bytes = InputPaymentCredentials;\ninputPaymentCredentials#3417d728 flags:# save:flags.0?true data:DataJSON = InputPaymentCredentials;\ninputPaymentCredentialsApplePay#aa1c39f payment_data:DataJSON = InputPaymentCredentials;\ninputPaymentCredentialsGooglePay#8ac32801 payment_token:DataJSON = InputPaymentCredentials;\naccount.tmpPassword#db64fd34 tmp_password:bytes valid_until:int = account.TmpPassword;\nshippingOption#b6213cdf id:string title:string prices:Vector<LabeledPrice> = ShippingOption;\ninputStickerSetItem#32da9e9c flags:# document:InputDocument emoji:string mask_coords:flags.0?MaskCoords keywords:flags.1?string = InputStickerSetItem;\ninputPhoneCall#1e36fded id:long access_hash:long = InputPhoneCall;\nphoneCallEmpty#5366c915 id:long = PhoneCall;\nphoneCallWaiting#c5226f17 flags:# video:flags.6?true id:long access_hash:long date:int admin_id:long participant_id:long protocol:PhoneCallProtocol receive_date:flags.0?int = PhoneCall;\nphoneCallRequested#14b0ed0c flags:# video:flags.6?true id:long access_hash:long date:int admin_id:long participant_id:long g_a_hash:bytes protocol:PhoneCallProtocol = PhoneCall;\nphoneCallAccepted#3660c311 flags:# video:flags.6?true id:long access_hash:long date:int admin_id:long participant_id:long g_b:bytes protocol:PhoneCallProtocol = PhoneCall;\nphoneCall#30535af5 flags:# p2p_allowed:flags.5?true video:flags.6?true conference_supported:flags.8?true id:long access_hash:long date:int admin_id:long participant_id:long g_a_or_b:bytes key_fingerprint:long protocol:PhoneCallProtocol connections:Vector<PhoneConnection> start_date:int custom_parameters:flags.7?DataJSON = PhoneCall;\nphoneCallDiscarded#50ca4de1 flags:# need_rating:flags.2?true need_debug:flags.3?true video:flags.6?true id:long reason:flags.0?PhoneCallDiscardReason duration:flags.1?int = PhoneCall;\nphoneConnection#9cc123c7 flags:# tcp:flags.0?true id:long ip:string ipv6:string port:int peer_tag:bytes = PhoneConnection;\nphoneConnectionWebrtc#635fe375 flags:# turn:flags.0?true stun:flags.1?true id:long ip:string ipv6:string port:int username:string password:string = PhoneConnection;\nphoneCallProtocol#fc878fc8 flags:# udp_p2p:flags.0?true udp_reflector:flags.1?true min_layer:int max_layer:int library_versions:Vector<string> = PhoneCallProtocol;\nphone.phoneCall#ec82e140 phone_call:PhoneCall users:Vector<User> = phone.PhoneCall;\nupload.cdnFileReuploadNeeded#eea8e46e request_token:bytes = upload.CdnFile;\nupload.cdnFile#a99fca4f bytes:bytes = upload.CdnFile;\ncdnPublicKey#c982eaba dc_id:int public_key:string = CdnPublicKey;\ncdnConfig#5725e40a public_keys:Vector<CdnPublicKey> = CdnConfig;\nlangPackString#cad181f6 key:string value:string = LangPackString;\nlangPackStringPluralized#6c47ac9f flags:# key:string zero_value:flags.0?string one_value:flags.1?string two_value:flags.2?string few_value:flags.3?string many_value:flags.4?string other_value:string = LangPackString;\nlangPackStringDeleted#2979eeb2 key:string = LangPackString;\nlangPackDifference#f385c1f6 lang_code:string from_version:int version:int strings:Vector<LangPackString> = LangPackDifference;\nlangPackLanguage#eeca5ce3 flags:# official:flags.0?true rtl:flags.2?true beta:flags.3?true name:string native_name:string lang_code:string base_lang_code:flags.1?string plural_code:string strings_count:int translated_count:int translations_url:string = LangPackLanguage;\nchannelAdminLogEventActionChangeTitle#e6dfb825 prev_value:string new_value:string = ChannelAdminLogEventAction;\nchannelAdminLogEventActionChangeAbout#55188a2e prev_value:string new_value:string = ChannelAdminLogEventAction;\nchannelAdminLogEventActionChangeUsername#6a4afc38 prev_value:string new_value:string = ChannelAdminLogEventAction;\nchannelAdminLogEventActionChangePhoto#434bd2af prev_photo:Photo new_photo:Photo = ChannelAdminLogEventAction;\nchannelAdminLogEventActionToggleInvites#1b7907ae new_value:Bool = ChannelAdminLogEventAction;\nchannelAdminLogEventActionToggleSignatures#26ae0971 new_value:Bool = ChannelAdminLogEventAction;\nchannelAdminLogEventActionUpdatePinned#e9e82c18 message:Message = ChannelAdminLogEventAction;\nchannelAdminLogEventActionEditMessage#709b2405 prev_message:Message new_message:Message = ChannelAdminLogEventAction;\nchannelAdminLogEventActionDeleteMessage#42e047bb message:Message = ChannelAdminLogEventAction;\nchannelAdminLogEventActionParticipantJoin#183040d3 = ChannelAdminLogEventAction;\nchannelAdminLogEventActionParticipantLeave#f89777f2 = ChannelAdminLogEventAction;\nchannelAdminLogEventActionParticipantInvite#e31c34d8 participant:ChannelParticipant = ChannelAdminLogEventAction;\nchannelAdminLogEventActionParticipantToggleBan#e6d83d7e prev_participant:ChannelParticipant new_participant:ChannelParticipant = ChannelAdminLogEventAction;\nchannelAdminLogEventActionParticipantToggleAdmin#d5676710 prev_participant:ChannelParticipant new_participant:ChannelParticipant = ChannelAdminLogEventAction;\nchannelAdminLogEventActionChangeStickerSet#b1c3caa7 prev_stickerset:InputStickerSet new_stickerset:InputStickerSet = ChannelAdminLogEventAction;\nchannelAdminLogEventActionTogglePreHistoryHidden#5f5c95f1 new_value:Bool = ChannelAdminLogEventAction;\nchannelAdminLogEventActionDefaultBannedRights#2df5fc0a prev_banned_rights:ChatBannedRights new_banned_rights:ChatBannedRights = ChannelAdminLogEventAction;\nchannelAdminLogEventActionStopPoll#8f079643 message:Message = ChannelAdminLogEventAction;\nchannelAdminLogEventActionChangeLinkedChat#50c7ac8 prev_value:long new_value:long = ChannelAdminLogEventAction;\nchannelAdminLogEventActionChangeLocation#e6b76ae prev_value:ChannelLocation new_value:ChannelLocation = ChannelAdminLogEventAction;\nchannelAdminLogEventActionToggleSlowMode#53909779 prev_value:int new_value:int = ChannelAdminLogEventAction;\nchannelAdminLogEventActionStartGroupCall#23209745 call:InputGroupCall = ChannelAdminLogEventAction;\nchannelAdminLogEventActionDiscardGroupCall#db9f9140 call:InputGroupCall = ChannelAdminLogEventAction;\nchannelAdminLogEventActionParticipantMute#f92424d2 participant:GroupCallParticipant = ChannelAdminLogEventAction;\nchannelAdminLogEventActionParticipantUnmute#e64429c0 participant:GroupCallParticipant = ChannelAdminLogEventAction;\nchannelAdminLogEventActionToggleGroupCallSetting#56d6a247 join_muted:Bool = ChannelAdminLogEventAction;\nchannelAdminLogEventActionParticipantJoinByInvite#fe9fc158 flags:# via_chatlist:flags.0?true invite:ExportedChatInvite = ChannelAdminLogEventAction;\nchannelAdminLogEventActionExportedInviteDelete#5a50fca4 invite:ExportedChatInvite = ChannelAdminLogEventAction;\nchannelAdminLogEventActionExportedInviteRevoke#410a134e invite:ExportedChatInvite = ChannelAdminLogEventAction;\nchannelAdminLogEventActionExportedInviteEdit#e90ebb59 prev_invite:ExportedChatInvite new_invite:ExportedChatInvite = ChannelAdminLogEventAction;\nchannelAdminLogEventActionParticipantVolume#3e7f6847 participant:GroupCallParticipant = ChannelAdminLogEventAction;\nchannelAdminLogEventActionChangeHistoryTTL#6e941a38 prev_value:int new_value:int = ChannelAdminLogEventAction;\nchannelAdminLogEventActionParticipantJoinByRequest#afb6144a invite:ExportedChatInvite approved_by:long = ChannelAdminLogEventAction;\nchannelAdminLogEventActionToggleNoForwards#cb2ac766 new_value:Bool = ChannelAdminLogEventAction;\nchannelAdminLogEventActionSendMessage#278f2868 message:Message = ChannelAdminLogEventAction;\nchannelAdminLogEventActionChangeAvailableReactions#be4e0ef8 prev_value:ChatReactions new_value:ChatReactions = ChannelAdminLogEventAction;\nchannelAdminLogEventActionChangeUsernames#f04fb3a9 prev_value:Vector<string> new_value:Vector<string> = ChannelAdminLogEventAction;\nchannelAdminLogEventActionToggleForum#2cc6383 new_value:Bool = ChannelAdminLogEventAction;\nchannelAdminLogEventActionCreateTopic#58707d28 topic:ForumTopic = ChannelAdminLogEventAction;\nchannelAdminLogEventActionEditTopic#f06fe208 prev_topic:ForumTopic new_topic:ForumTopic = ChannelAdminLogEventAction;\nchannelAdminLogEventActionDeleteTopic#ae168909 topic:ForumTopic = ChannelAdminLogEventAction;\nchannelAdminLogEventActionPinTopic#5d8d353b flags:# prev_topic:flags.0?ForumTopic new_topic:flags.1?ForumTopic = ChannelAdminLogEventAction;\nchannelAdminLogEventActionToggleAntiSpam#64f36dfc new_value:Bool = ChannelAdminLogEventAction;\nchannelAdminLogEventActionChangePeerColor#5796e780 prev_value:PeerColor new_value:PeerColor = ChannelAdminLogEventAction;\nchannelAdminLogEventActionChangeProfilePeerColor#5e477b25 prev_value:PeerColor new_value:PeerColor = ChannelAdminLogEventAction;\nchannelAdminLogEventActionChangeWallpaper#31bb5d52 prev_value:WallPaper new_value:WallPaper = ChannelAdminLogEventAction;\nchannelAdminLogEventActionChangeEmojiStatus#3ea9feb1 prev_value:EmojiStatus new_value:EmojiStatus = ChannelAdminLogEventAction;\nchannelAdminLogEventActionChangeEmojiStickerSet#46d840ab prev_stickerset:InputStickerSet new_stickerset:InputStickerSet = ChannelAdminLogEventAction;\nchannelAdminLogEventActionToggleSignatureProfiles#60a79c79 new_value:Bool = ChannelAdminLogEventAction;\nchannelAdminLogEventActionParticipantSubExtend#64642db3 prev_participant:ChannelParticipant new_participant:ChannelParticipant = ChannelAdminLogEventAction;\nchannelAdminLogEventActionToggleAutotranslation#c517f77e new_value:Bool = ChannelAdminLogEventAction;\nchannelAdminLogEvent#1fad68cd id:long date:int user_id:long action:ChannelAdminLogEventAction = ChannelAdminLogEvent;\nchannels.adminLogResults#ed8af74d events:Vector<ChannelAdminLogEvent> chats:Vector<Chat> users:Vector<User> = channels.AdminLogResults;\nchannelAdminLogEventsFilter#ea107ae4 flags:# join:flags.0?true leave:flags.1?true invite:flags.2?true ban:flags.3?true unban:flags.4?true kick:flags.5?true unkick:flags.6?true promote:flags.7?true demote:flags.8?true info:flags.9?true settings:flags.10?true pinned:flags.11?true edit:flags.12?true delete:flags.13?true group_call:flags.14?true invites:flags.15?true send:flags.16?true forums:flags.17?true sub_extend:flags.18?true = ChannelAdminLogEventsFilter;\npopularContact#5ce14175 client_id:long importers:int = PopularContact;\nmessages.favedStickersNotModified#9e8fa6d3 = messages.FavedStickers;\nmessages.favedStickers#2cb51097 hash:long packs:Vector<StickerPack> stickers:Vector<Document> = messages.FavedStickers;\nrecentMeUrlUnknown#46e1d13d url:string = RecentMeUrl;\nrecentMeUrlUser#b92c09e2 url:string user_id:long = RecentMeUrl;\nrecentMeUrlChat#b2da71d2 url:string chat_id:long = RecentMeUrl;\nrecentMeUrlChatInvite#eb49081d url:string chat_invite:ChatInvite = RecentMeUrl;\nrecentMeUrlStickerSet#bc0a57dc url:string set:StickerSetCovered = RecentMeUrl;\nhelp.recentMeUrls#e0310d7 urls:Vector<RecentMeUrl> chats:Vector<Chat> users:Vector<User> = help.RecentMeUrls;\ninputSingleMedia#1cc6e91f flags:# media:InputMedia random_id:long message:string entities:flags.0?Vector<MessageEntity> = InputSingleMedia;\nwebAuthorization#a6f8f452 hash:long bot_id:long domain:string browser:string platform:string date_created:int date_active:int ip:string region:string = WebAuthorization;\naccount.webAuthorizations#ed56c9fc authorizations:Vector<WebAuthorization> users:Vector<User> = account.WebAuthorizations;\ninputMessageID#a676a322 id:int = InputMessage;\ninputMessageReplyTo#bad88395 id:int = InputMessage;\ninputMessagePinned#86872538 = InputMessage;\ninputMessageCallbackQuery#acfa1a7e id:int query_id:long = InputMessage;\ninputDialogPeer#fcaafeb7 peer:InputPeer = InputDialogPeer;\ninputDialogPeerFolder#64600527 folder_id:int = InputDialogPeer;\ndialogPeer#e56dbf05 peer:Peer = DialogPeer;\ndialogPeerFolder#514519e2 folder_id:int = DialogPeer;\nmessages.foundStickerSetsNotModified#d54b65d = messages.FoundStickerSets;\nmessages.foundStickerSets#8af09dd2 hash:long sets:Vector<StickerSetCovered> = messages.FoundStickerSets;\nfileHash#f39b035c offset:long limit:int hash:bytes = FileHash;\ninputClientProxy#75588b3f address:string port:int = InputClientProxy;\nhelp.termsOfServiceUpdateEmpty#e3309f7f expires:int = help.TermsOfServiceUpdate;\nhelp.termsOfServiceUpdate#28ecf961 expires:int terms_of_service:help.TermsOfService = help.TermsOfServiceUpdate;\ninputSecureFileUploaded#3334b0f0 id:long parts:int md5_checksum:string file_hash:bytes secret:bytes = InputSecureFile;\ninputSecureFile#5367e5be id:long access_hash:long = InputSecureFile;\nsecureFileEmpty#64199744 = SecureFile;\nsecureFile#7d09c27e id:long access_hash:long size:long dc_id:int date:int file_hash:bytes secret:bytes = SecureFile;\nsecureData#8aeabec3 data:bytes data_hash:bytes secret:bytes = SecureData;\nsecurePlainPhone#7d6099dd phone:string = SecurePlainData;\nsecurePlainEmail#21ec5a5f email:string = SecurePlainData;\nsecureValueTypePersonalDetails#9d2a81e3 = SecureValueType;\nsecureValueTypePassport#3dac6a00 = SecureValueType;\nsecureValueTypeDriverLicense#6e425c4 = SecureValueType;\nsecureValueTypeIdentityCard#a0d0744b = SecureValueType;\nsecureValueTypeInternalPassport#99a48f23 = SecureValueType;\nsecureValueTypeAddress#cbe31e26 = SecureValueType;\nsecureValueTypeUtilityBill#fc36954e = SecureValueType;\nsecureValueTypeBankStatement#89137c0d = SecureValueType;\nsecureValueTypeRentalAgreement#8b883488 = SecureValueType;\nsecureValueTypePassportRegistration#99e3806a = SecureValueType;\nsecureValueTypeTemporaryRegistration#ea02ec33 = SecureValueType;\nsecureValueTypePhone#b320aadb = SecureValueType;\nsecureValueTypeEmail#8e3ca7ee = SecureValueType;\nsecureValue#187fa0ca flags:# type:SecureValueType data:flags.0?SecureData front_side:flags.1?SecureFile reverse_side:flags.2?SecureFile selfie:flags.3?SecureFile translation:flags.6?Vector<SecureFile> files:flags.4?Vector<SecureFile> plain_data:flags.5?SecurePlainData hash:bytes = SecureValue;\ninputSecureValue#db21d0a7 flags:# type:SecureValueType data:flags.0?SecureData front_side:flags.1?InputSecureFile reverse_side:flags.2?InputSecureFile selfie:flags.3?InputSecureFile translation:flags.6?Vector<InputSecureFile> files:flags.4?Vector<InputSecureFile> plain_data:flags.5?SecurePlainData = InputSecureValue;\nsecureValueHash#ed1ecdb0 type:SecureValueType hash:bytes = SecureValueHash;\nsecureValueErrorData#e8a40bd9 type:SecureValueType data_hash:bytes field:string text:string = SecureValueError;\nsecureValueErrorFrontSide#be3dfa type:SecureValueType file_hash:bytes text:string = SecureValueError;\nsecureValueErrorReverseSide#868a2aa5 type:SecureValueType file_hash:bytes text:string = SecureValueError;\nsecureValueErrorSelfie#e537ced6 type:SecureValueType file_hash:bytes text:string = SecureValueError;\nsecureValueErrorFile#7a700873 type:SecureValueType file_hash:bytes text:string = SecureValueError;\nsecureValueErrorFiles#666220e9 type:SecureValueType file_hash:Vector<bytes> text:string = SecureValueError;\nsecureValueError#869d758f type:SecureValueType hash:bytes text:string = SecureValueError;\nsecureValueErrorTranslationFile#a1144770 type:SecureValueType file_hash:bytes text:string = SecureValueError;\nsecureValueErrorTranslationFiles#34636dd8 type:SecureValueType file_hash:Vector<bytes> text:string = SecureValueError;\nsecureCredentialsEncrypted#33f0ea47 data:bytes hash:bytes secret:bytes = SecureCredentialsEncrypted;\naccount.authorizationForm#ad2e1cd8 flags:# required_types:Vector<SecureRequiredType> values:Vector<SecureValue> errors:Vector<SecureValueError> users:Vector<User> privacy_policy_url:flags.0?string = account.AuthorizationForm;\naccount.sentEmailCode#811f854f email_pattern:string length:int = account.SentEmailCode;\nhelp.deepLinkInfoEmpty#66afa166 = help.DeepLinkInfo;\nhelp.deepLinkInfo#6a4ee832 flags:# update_app:flags.0?true message:string entities:flags.1?Vector<MessageEntity> = help.DeepLinkInfo;\nsavedPhoneContact#1142bd56 phone:string first_name:string last_name:string date:int = SavedContact;\naccount.takeout#4dba4501 id:long = account.Takeout;\npasswordKdfAlgoUnknown#d45ab096 = PasswordKdfAlgo;\npasswordKdfAlgoSHA256SHA256PBKDF2HMACSHA512iter100000SHA256ModPow#3a912d4a salt1:bytes salt2:bytes g:int p:bytes = PasswordKdfAlgo;\nsecurePasswordKdfAlgoUnknown#4a8537 = SecurePasswordKdfAlgo;\nsecurePasswordKdfAlgoPBKDF2HMACSHA512iter100000#bbf2dda0 salt:bytes = SecurePasswordKdfAlgo;\nsecurePasswordKdfAlgoSHA512#86471d92 salt:bytes = SecurePasswordKdfAlgo;\nsecureSecretSettings#1527bcac secure_algo:SecurePasswordKdfAlgo secure_secret:bytes secure_secret_id:long = SecureSecretSettings;\ninputCheckPasswordEmpty#9880f658 = InputCheckPasswordSRP;\ninputCheckPasswordSRP#d27ff082 srp_id:long A:bytes M1:bytes = InputCheckPasswordSRP;\nsecureRequiredType#829d99da flags:# native_names:flags.0?true selfie_required:flags.1?true translation_required:flags.2?true type:SecureValueType = SecureRequiredType;\nsecureRequiredTypeOneOf#27477b4 types:Vector<SecureRequiredType> = SecureRequiredType;\nhelp.passportConfigNotModified#bfb9f457 = help.PassportConfig;\nhelp.passportConfig#a098d6af hash:int countries_langs:DataJSON = help.PassportConfig;\ninputAppEvent#1d1b1245 time:double type:string peer:long data:JSONValue = InputAppEvent;\njsonObjectValue#c0de1bd9 key:string value:JSONValue = JSONObjectValue;\njsonNull#3f6d7b68 = JSONValue;\njsonBool#c7345e6a value:Bool = JSONValue;\njsonNumber#2be0dfa4 value:double = JSONValue;\njsonString#b71e767a value:string = JSONValue;\njsonArray#f7444763 value:Vector<JSONValue> = JSONValue;\njsonObject#99c1d49d value:Vector<JSONObjectValue> = JSONValue;\npageTableCell#34566b6a flags:# header:flags.0?true align_center:flags.3?true align_right:flags.4?true valign_middle:flags.5?true valign_bottom:flags.6?true text:flags.7?RichText colspan:flags.1?int rowspan:flags.2?int = PageTableCell;\npageTableRow#e0c0c5e5 cells:Vector<PageTableCell> = PageTableRow;\npageCaption#6f747657 text:RichText credit:RichText = PageCaption;\npageListItemText#b92fb6cd text:RichText = PageListItem;\npageListItemBlocks#25e073fc blocks:Vector<PageBlock> = PageListItem;\npageListOrderedItemText#5e068047 num:string text:RichText = PageListOrderedItem;\npageListOrderedItemBlocks#98dd8936 num:string blocks:Vector<PageBlock> = PageListOrderedItem;\npageRelatedArticle#b390dc08 flags:# url:string webpage_id:long title:flags.0?string description:flags.1?string photo_id:flags.2?long author:flags.3?string published_date:flags.4?int = PageRelatedArticle;\npage#98657f0d flags:# part:flags.0?true rtl:flags.1?true v2:flags.2?true url:string blocks:Vector<PageBlock> photos:Vector<Photo> documents:Vector<Document> views:flags.3?int = Page;\nhelp.supportName#8c05f1c9 name:string = help.SupportName;\nhelp.userInfoEmpty#f3ae2eed = help.UserInfo;\nhelp.userInfo#1eb3758 message:string entities:Vector<MessageEntity> author:string date:int = help.UserInfo;\npollAnswer#ff16e2ca text:TextWithEntities option:bytes = PollAnswer;\npoll#58747131 id:long flags:# closed:flags.0?true public_voters:flags.1?true multiple_choice:flags.2?true quiz:flags.3?true question:TextWithEntities answers:Vector<PollAnswer> close_period:flags.4?int close_date:flags.5?int = Poll;\npollAnswerVoters#3b6ddad2 flags:# chosen:flags.0?true correct:flags.1?true option:bytes voters:int = PollAnswerVoters;\npollResults#7adf2420 flags:# min:flags.0?true results:flags.1?Vector<PollAnswerVoters> total_voters:flags.2?int recent_voters:flags.3?Vector<Peer> solution:flags.4?string solution_entities:flags.4?Vector<MessageEntity> = PollResults;\nchatOnlines#f041e250 onlines:int = ChatOnlines;\nstatsURL#47a971e0 url:string = StatsURL;\nchatAdminRights#5fb224d5 flags:# change_info:flags.0?true post_messages:flags.1?true edit_messages:flags.2?true delete_messages:flags.3?true ban_users:flags.4?true invite_users:flags.5?true pin_messages:flags.7?true add_admins:flags.9?true anonymous:flags.10?true manage_call:flags.11?true other:flags.12?true manage_topics:flags.13?true post_stories:flags.14?true edit_stories:flags.15?true delete_stories:flags.16?true manage_direct_messages:flags.17?true = ChatAdminRights;\nchatBannedRights#9f120418 flags:# view_messages:flags.0?true send_messages:flags.1?true send_media:flags.2?true send_stickers:flags.3?true send_gifs:flags.4?true send_games:flags.5?true send_inline:flags.6?true embed_links:flags.7?true send_polls:flags.8?true change_info:flags.10?true invite_users:flags.15?true pin_messages:flags.17?true manage_topics:flags.18?true send_photos:flags.19?true send_videos:flags.20?true send_roundvideos:flags.21?true send_audios:flags.22?true send_voices:flags.23?true send_docs:flags.24?true send_plain:flags.25?true until_date:int = ChatBannedRights;\ninputWallPaper#e630b979 id:long access_hash:long = InputWallPaper;\ninputWallPaperSlug#72091c80 slug:string = InputWallPaper;\ninputWallPaperNoFile#967a462e id:long = InputWallPaper;\naccount.wallPapersNotModified#1c199183 = account.WallPapers;\naccount.wallPapers#cdc3858c hash:long wallpapers:Vector<WallPaper> = account.WallPapers;\ncodeSettings#ad253d78 flags:# allow_flashcall:flags.0?true current_number:flags.1?true allow_app_hash:flags.4?true allow_missed_call:flags.5?true allow_firebase:flags.7?true unknown_number:flags.9?true logout_tokens:flags.6?Vector<bytes> token:flags.8?string app_sandbox:flags.8?Bool = CodeSettings;\nwallPaperSettings#372efcd0 flags:# blur:flags.1?true motion:flags.2?true background_color:flags.0?int second_background_color:flags.4?int third_background_color:flags.5?int fourth_background_color:flags.6?int intensity:flags.3?int rotation:flags.4?int emoticon:flags.7?string = WallPaperSettings;\nautoDownloadSettings#baa57628 flags:# disabled:flags.0?true video_preload_large:flags.1?true audio_preload_next:flags.2?true phonecalls_less_data:flags.3?true stories_preload:flags.4?true photo_size_max:int video_size_max:long file_size_max:long video_upload_maxbitrate:int small_queue_active_operations_max:int large_queue_active_operations_max:int = AutoDownloadSettings;\naccount.autoDownloadSettings#63cacf26 low:AutoDownloadSettings medium:AutoDownloadSettings high:AutoDownloadSettings = account.AutoDownloadSettings;\nemojiKeyword#d5b3b9f9 keyword:string emoticons:Vector<string> = EmojiKeyword;\nemojiKeywordDeleted#236df622 keyword:string emoticons:Vector<string> = EmojiKeyword;\nemojiKeywordsDifference#5cc761bd lang_code:string from_version:int version:int keywords:Vector<EmojiKeyword> = EmojiKeywordsDifference;\nemojiURL#a575739d url:string = EmojiURL;\nemojiLanguage#b3fb5361 lang_code:string = EmojiLanguage;\nfolder#ff544e65 flags:# autofill_new_broadcasts:flags.0?true autofill_public_groups:flags.1?true autofill_new_correspondents:flags.2?true id:int title:string photo:flags.3?ChatPhoto = Folder;\ninputFolderPeer#fbd2c296 peer:InputPeer folder_id:int = InputFolderPeer;\nfolderPeer#e9baa668 peer:Peer folder_id:int = FolderPeer;\nmessages.searchCounter#e844ebff flags:# inexact:flags.1?true filter:MessagesFilter count:int = messages.SearchCounter;\nurlAuthResultRequest#92d33a0e flags:# request_write_access:flags.0?true bot:User domain:string = UrlAuthResult;\nurlAuthResultAccepted#8f8c0e4e url:string = UrlAuthResult;\nurlAuthResultDefault#a9d6db1f = UrlAuthResult;\nchannelLocationEmpty#bfb5ad8b = ChannelLocation;\nchannelLocation#209b82db geo_point:GeoPoint address:string = ChannelLocation;\npeerLocated#ca461b5d peer:Peer expires:int distance:int = PeerLocated;\npeerSelfLocated#f8ec284b expires:int = PeerLocated;\nrestrictionReason#d072acb4 platform:string reason:string text:string = RestrictionReason;\ninputTheme#3c5693e9 id:long access_hash:long = InputTheme;\ninputThemeSlug#f5890df1 slug:string = InputTheme;\ntheme#a00e67d6 flags:# creator:flags.0?true default:flags.1?true for_chat:flags.5?true id:long access_hash:long slug:string title:string document:flags.2?Document settings:flags.3?Vector<ThemeSettings> emoticon:flags.6?string installs_count:flags.4?int = Theme;\naccount.themesNotModified#f41eb622 = account.Themes;\naccount.themes#9a3d8c6d hash:long themes:Vector<Theme> = account.Themes;\nauth.loginToken#629f1980 expires:int token:bytes = auth.LoginToken;\nauth.loginTokenMigrateTo#68e9916 dc_id:int token:bytes = auth.LoginToken;\nauth.loginTokenSuccess#390d5c5e authorization:auth.Authorization = auth.LoginToken;\naccount.contentSettings#57e28221 flags:# sensitive_enabled:flags.0?true sensitive_can_change:flags.1?true = account.ContentSettings;\nmessages.inactiveChats#a927fec5 dates:Vector<int> chats:Vector<Chat> users:Vector<User> = messages.InactiveChats;\nbaseThemeClassic#c3a12462 = BaseTheme;\nbaseThemeDay#fbd81688 = BaseTheme;\nbaseThemeNight#b7b31ea8 = BaseTheme;\nbaseThemeTinted#6d5f77ee = BaseTheme;\nbaseThemeArctic#5b11125a = BaseTheme;\ninputThemeSettings#8fde504f flags:# message_colors_animated:flags.2?true base_theme:BaseTheme accent_color:int outbox_accent_color:flags.3?int message_colors:flags.0?Vector<int> wallpaper:flags.1?InputWallPaper wallpaper_settings:flags.1?WallPaperSettings = InputThemeSettings;\nthemeSettings#fa58b6d4 flags:# message_colors_animated:flags.2?true base_theme:BaseTheme accent_color:int outbox_accent_color:flags.3?int message_colors:flags.0?Vector<int> wallpaper:flags.1?WallPaper = ThemeSettings;\nwebPageAttributeTheme#54b56617 flags:# documents:flags.0?Vector<Document> settings:flags.1?ThemeSettings = WebPageAttribute;\nwebPageAttributeStory#2e94c3e7 flags:# peer:Peer id:int story:flags.0?StoryItem = WebPageAttribute;\nwebPageAttributeStickerSet#50cc03d3 flags:# emojis:flags.0?true text_color:flags.1?true stickers:Vector<Document> = WebPageAttribute;\nwebPageAttributeUniqueStarGift#cf6f6db8 gift:StarGift = WebPageAttribute;\nwebPageAttributeStarGiftCollection#31cad303 icons:Vector<Document> = WebPageAttribute;\nmessages.votesList#4899484e flags:# count:int votes:Vector<MessagePeerVote> chats:Vector<Chat> users:Vector<User> next_offset:flags.0?string = messages.VotesList;\nbankCardOpenUrl#f568028a url:string name:string = BankCardOpenUrl;\npayments.bankCardData#3e24e573 title:string open_urls:Vector<BankCardOpenUrl> = payments.BankCardData;\ndialogFilter#aa472651 flags:# contacts:flags.0?true non_contacts:flags.1?true groups:flags.2?true broadcasts:flags.3?true bots:flags.4?true exclude_muted:flags.11?true exclude_read:flags.12?true exclude_archived:flags.13?true title_noanimate:flags.28?true id:int title:TextWithEntities emoticon:flags.25?string color:flags.27?int pinned_peers:Vector<InputPeer> include_peers:Vector<InputPeer> exclude_peers:Vector<InputPeer> = DialogFilter;\ndialogFilterDefault#363293ae = DialogFilter;\ndialogFilterChatlist#96537bd7 flags:# has_my_invites:flags.26?true title_noanimate:flags.28?true id:int title:TextWithEntities emoticon:flags.25?string color:flags.27?int pinned_peers:Vector<InputPeer> include_peers:Vector<InputPeer> = DialogFilter;\ndialogFilterSuggested#77744d4a filter:DialogFilter description:string = DialogFilterSuggested;\nstatsDateRangeDays#b637edaf min_date:int max_date:int = StatsDateRangeDays;\nstatsAbsValueAndPrev#cb43acde current:double previous:double = StatsAbsValueAndPrev;\nstatsPercentValue#cbce2fe0 part:double total:double = StatsPercentValue;\nstatsGraphAsync#4a27eb2d token:string = StatsGraph;\nstatsGraphError#bedc9822 error:string = StatsGraph;\nstatsGraph#8ea464b6 flags:# json:DataJSON zoom_token:flags.0?string = StatsGraph;\nstats.broadcastStats#396ca5fc period:StatsDateRangeDays followers:StatsAbsValueAndPrev views_per_post:StatsAbsValueAndPrev shares_per_post:StatsAbsValueAndPrev reactions_per_post:StatsAbsValueAndPrev views_per_story:StatsAbsValueAndPrev shares_per_story:StatsAbsValueAndPrev reactions_per_story:StatsAbsValueAndPrev enabled_notifications:StatsPercentValue growth_graph:StatsGraph followers_graph:StatsGraph mute_graph:StatsGraph top_hours_graph:StatsGraph interactions_graph:StatsGraph iv_interactions_graph:StatsGraph views_by_source_graph:StatsGraph new_followers_by_source_graph:StatsGraph languages_graph:StatsGraph reactions_by_emotion_graph:StatsGraph story_interactions_graph:StatsGraph story_reactions_by_emotion_graph:StatsGraph recent_posts_interactions:Vector<PostInteractionCounters> = stats.BroadcastStats;\nhelp.promoDataEmpty#98f6ac75 expires:int = help.PromoData;\nhelp.promoData#8a4d87a flags:# proxy:flags.0?true expires:int peer:flags.3?Peer psa_type:flags.1?string psa_message:flags.2?string pending_suggestions:Vector<string> dismissed_suggestions:Vector<string> custom_pending_suggestion:flags.4?PendingSuggestion chats:Vector<Chat> users:Vector<User> = help.PromoData;\nvideoSize#de33b094 flags:# type:string w:int h:int size:int video_start_ts:flags.0?double = VideoSize;\nvideoSizeEmojiMarkup#f85c413c emoji_id:long background_colors:Vector<int> = VideoSize;\nvideoSizeStickerMarkup#da082fe stickerset:InputStickerSet sticker_id:long background_colors:Vector<int> = VideoSize;\nstatsGroupTopPoster#9d04af9b user_id:long messages:int avg_chars:int = StatsGroupTopPoster;\nstatsGroupTopAdmin#d7584c87 user_id:long deleted:int kicked:int banned:int = StatsGroupTopAdmin;\nstatsGroupTopInviter#535f779d user_id:long invitations:int = StatsGroupTopInviter;\nstats.megagroupStats#ef7ff916 period:StatsDateRangeDays members:StatsAbsValueAndPrev messages:StatsAbsValueAndPrev viewers:StatsAbsValueAndPrev posters:StatsAbsValueAndPrev growth_graph:StatsGraph members_graph:StatsGraph new_members_by_source_graph:StatsGraph languages_graph:StatsGraph messages_graph:StatsGraph actions_graph:StatsGraph top_hours_graph:StatsGraph weekdays_graph:StatsGraph top_posters:Vector<StatsGroupTopPoster> top_admins:Vector<StatsGroupTopAdmin> top_inviters:Vector<StatsGroupTopInviter> users:Vector<User> = stats.MegagroupStats;\nglobalPrivacySettings#fe41b34f flags:# archive_and_mute_new_noncontact_peers:flags.0?true keep_archived_unmuted:flags.1?true keep_archived_folders:flags.2?true hide_read_marks:flags.3?true new_noncontact_peers_require_premium:flags.4?true display_gifts_button:flags.7?true noncontact_peers_paid_stars:flags.5?long disallowed_gifts:flags.6?DisallowedGiftsSettings = GlobalPrivacySettings;\nhelp.countryCode#4203c5ef flags:# country_code:string prefixes:flags.0?Vector<string> patterns:flags.1?Vector<string> = help.CountryCode;\nhelp.country#c3878e23 flags:# hidden:flags.0?true iso2:string default_name:string name:flags.1?string country_codes:Vector<help.CountryCode> = help.Country;\nhelp.countriesListNotModified#93cc1f32 = help.CountriesList;\nhelp.countriesList#87d0759e countries:Vector<help.Country> hash:int = help.CountriesList;\nmessageViews#455b853d flags:# views:flags.0?int forwards:flags.1?int replies:flags.2?MessageReplies = MessageViews;\nmessages.messageViews#b6c4f543 views:Vector<MessageViews> chats:Vector<Chat> users:Vector<User> = messages.MessageViews;\nmessages.discussionMessage#a6341782 flags:# messages:Vector<Message> max_id:flags.0?int read_inbox_max_id:flags.1?int read_outbox_max_id:flags.2?int unread_count:int chats:Vector<Chat> users:Vector<User> = messages.DiscussionMessage;\nmessageReplyHeader#6917560b flags:# reply_to_scheduled:flags.2?true forum_topic:flags.3?true quote:flags.9?true reply_to_msg_id:flags.4?int reply_to_peer_id:flags.0?Peer reply_from:flags.5?MessageFwdHeader reply_media:flags.8?MessageMedia reply_to_top_id:flags.1?int quote_text:flags.6?string quote_entities:flags.7?Vector<MessageEntity> quote_offset:flags.10?int todo_item_id:flags.11?int = MessageReplyHeader;\nmessageReplyStoryHeader#e5af939 peer:Peer story_id:int = MessageReplyHeader;\nmessageReplies#83d60fc2 flags:# comments:flags.0?true replies:int replies_pts:int recent_repliers:flags.1?Vector<Peer> channel_id:flags.0?long max_id:flags.2?int read_max_id:flags.3?int = MessageReplies;\npeerBlocked#e8fd8014 peer_id:Peer date:int = PeerBlocked;\nstats.messageStats#7fe91c14 views_graph:StatsGraph reactions_by_emotion_graph:StatsGraph = stats.MessageStats;\ngroupCallDiscarded#7780bcb4 id:long access_hash:long duration:int = GroupCall;\ngroupCall#553b0ba1 flags:# join_muted:flags.1?true can_change_join_muted:flags.2?true join_date_asc:flags.6?true schedule_start_subscribed:flags.8?true can_start_video:flags.9?true record_video_active:flags.11?true rtmp_stream:flags.12?true listeners_hidden:flags.13?true conference:flags.14?true creator:flags.15?true id:long access_hash:long participants_count:int title:flags.3?string stream_dc_id:flags.4?int record_start_date:flags.5?int schedule_date:flags.7?int unmuted_video_count:flags.10?int unmuted_video_limit:int version:int invite_link:flags.16?string = GroupCall;\ninputGroupCall#d8aa840f id:long access_hash:long = InputGroupCall;\ninputGroupCallSlug#fe06823f slug:string = InputGroupCall;\ninputGroupCallInviteMessage#8c10603f msg_id:int = InputGroupCall;\ngroupCallParticipant#eba636fe flags:# muted:flags.0?true left:flags.1?true can_self_unmute:flags.2?true just_joined:flags.4?true versioned:flags.5?true min:flags.8?true muted_by_you:flags.9?true volume_by_admin:flags.10?true self:flags.12?true video_joined:flags.15?true peer:Peer date:int active_date:flags.3?int source:int volume:flags.7?int about:flags.11?string raise_hand_rating:flags.13?long video:flags.6?GroupCallParticipantVideo presentation:flags.14?GroupCallParticipantVideo = GroupCallParticipant;\nphone.groupCall#9e727aad call:GroupCall participants:Vector<GroupCallParticipant> participants_next_offset:string chats:Vector<Chat> users:Vector<User> = phone.GroupCall;\nphone.groupParticipants#f47751b6 count:int participants:Vector<GroupCallParticipant> next_offset:string chats:Vector<Chat> users:Vector<User> version:int = phone.GroupParticipants;\ninlineQueryPeerTypeSameBotPM#3081ed9d = InlineQueryPeerType;\ninlineQueryPeerTypePM#833c0fac = InlineQueryPeerType;\ninlineQueryPeerTypeChat#d766c50a = InlineQueryPeerType;\ninlineQueryPeerTypeMegagroup#5ec4be43 = InlineQueryPeerType;\ninlineQueryPeerTypeBroadcast#6334ee9a = InlineQueryPeerType;\ninlineQueryPeerTypeBotPM#e3b2d0c = InlineQueryPeerType;\nmessages.historyImport#1662af0b id:long = messages.HistoryImport;\nmessages.historyImportParsed#5e0fb7b9 flags:# pm:flags.0?true group:flags.1?true title:flags.2?string = messages.HistoryImportParsed;\nmessages.affectedFoundMessages#ef8d3e6c pts:int pts_count:int offset:int messages:Vector<int> = messages.AffectedFoundMessages;\nchatInviteImporter#8c5adfd9 flags:# requested:flags.0?true via_chatlist:flags.3?true user_id:long date:int about:flags.2?string approved_by:flags.1?long = ChatInviteImporter;\nmessages.exportedChatInvites#bdc62dcc count:int invites:Vector<ExportedChatInvite> users:Vector<User> = messages.ExportedChatInvites;\nmessages.exportedChatInvite#1871be50 invite:ExportedChatInvite users:Vector<User> = messages.ExportedChatInvite;\nmessages.exportedChatInviteReplaced#222600ef invite:ExportedChatInvite new_invite:ExportedChatInvite users:Vector<User> = messages.ExportedChatInvite;\nmessages.chatInviteImporters#81b6b00a count:int importers:Vector<ChatInviteImporter> users:Vector<User> = messages.ChatInviteImporters;\nchatAdminWithInvites#f2ecef23 admin_id:long invites_count:int revoked_invites_count:int = ChatAdminWithInvites;\nmessages.chatAdminsWithInvites#b69b72d7 admins:Vector<ChatAdminWithInvites> users:Vector<User> = messages.ChatAdminsWithInvites;\nmessages.checkedHistoryImportPeer#a24de717 confirm_text:string = messages.CheckedHistoryImportPeer;\nphone.joinAsPeers#afe5623f peers:Vector<Peer> chats:Vector<Chat> users:Vector<User> = phone.JoinAsPeers;\nphone.exportedGroupCallInvite#204bd158 link:string = phone.ExportedGroupCallInvite;\ngroupCallParticipantVideoSourceGroup#dcb118b7 semantics:string sources:Vector<int> = GroupCallParticipantVideoSourceGroup;\ngroupCallParticipantVideo#67753ac8 flags:# paused:flags.0?true endpoint:string source_groups:Vector<GroupCallParticipantVideoSourceGroup> audio_source:flags.1?int = GroupCallParticipantVideo;\nstickers.suggestedShortName#85fea03f short_name:string = stickers.SuggestedShortName;\nbotCommandScopeDefault#2f6cb2ab = BotCommandScope;\nbotCommandScopeUsers#3c4f04d8 = BotCommandScope;\nbotCommandScopeChats#6fe1a881 = BotCommandScope;\nbotCommandScopeChatAdmins#b9aa606a = BotCommandScope;\nbotCommandScopePeer#db9d897d peer:InputPeer = BotCommandScope;\nbotCommandScopePeerAdmins#3fd863d1 peer:InputPeer = BotCommandScope;\nbotCommandScopePeerUser#a1321f3 peer:InputPeer user_id:InputUser = BotCommandScope;\naccount.resetPasswordFailedWait#e3779861 retry_date:int = account.ResetPasswordResult;\naccount.resetPasswordRequestedWait#e9effc7d until_date:int = account.ResetPasswordResult;\naccount.resetPasswordOk#e926d63e = account.ResetPasswordResult;\nsponsoredMessage#7dbf8673 flags:# recommended:flags.5?true can_report:flags.12?true random_id:bytes url:string title:string message:string entities:flags.1?Vector<MessageEntity> photo:flags.6?Photo media:flags.14?MessageMedia color:flags.13?PeerColor button_text:string sponsor_info:flags.7?string additional_info:flags.8?string min_display_duration:flags.15?int max_display_duration:flags.15?int = SponsoredMessage;\nmessages.sponsoredMessages#ffda656d flags:# posts_between:flags.0?int start_delay:flags.1?int between_delay:flags.2?int messages:Vector<SponsoredMessage> chats:Vector<Chat> users:Vector<User> = messages.SponsoredMessages;\nmessages.sponsoredMessagesEmpty#1839490f = messages.SponsoredMessages;\nsearchResultsCalendarPeriod#c9b0539f date:int min_msg_id:int max_msg_id:int count:int = SearchResultsCalendarPeriod;\nmessages.searchResultsCalendar#147ee23c flags:# inexact:flags.0?true count:int min_date:int min_msg_id:int offset_id_offset:flags.1?int periods:Vector<SearchResultsCalendarPeriod> messages:Vector<Message> chats:Vector<Chat> users:Vector<User> = messages.SearchResultsCalendar;\nsearchResultPosition#7f648b67 msg_id:int date:int offset:int = SearchResultsPosition;\nmessages.searchResultsPositions#53b22baf count:int positions:Vector<SearchResultsPosition> = messages.SearchResultsPositions;\nchannels.sendAsPeers#f496b0c6 peers:Vector<SendAsPeer> chats:Vector<Chat> users:Vector<User> = channels.SendAsPeers;\nusers.userFull#3b6d152e full_user:UserFull chats:Vector<Chat> users:Vector<User> = users.UserFull;\nmessages.peerSettings#6880b94d settings:PeerSettings chats:Vector<Chat> users:Vector<User> = messages.PeerSettings;\nauth.loggedOut#c3a2835f flags:# future_auth_token:flags.0?bytes = auth.LoggedOut;\nreactionCount#a3d1cb80 flags:# chosen_order:flags.0?int reaction:Reaction count:int = ReactionCount;\nmessageReactions#a339f0b flags:# min:flags.0?true can_see_list:flags.2?true reactions_as_tags:flags.3?true results:Vector<ReactionCount> recent_reactions:flags.1?Vector<MessagePeerReaction> top_reactors:flags.4?Vector<MessageReactor> = MessageReactions;\nmessages.messageReactionsList#31bd492d flags:# count:int reactions:Vector<MessagePeerReaction> chats:Vector<Chat> users:Vector<User> next_offset:flags.0?string = messages.MessageReactionsList;\navailableReaction#c077ec01 flags:# inactive:flags.0?true premium:flags.2?true reaction:string title:string static_icon:Document appear_animation:Document select_animation:Document activate_animation:Document effect_animation:Document around_animation:flags.1?Document center_icon:flags.1?Document = AvailableReaction;\nmessages.availableReactionsNotModified#9f071957 = messages.AvailableReactions;\nmessages.availableReactions#768e3aad hash:int reactions:Vector<AvailableReaction> = messages.AvailableReactions;\nmessagePeerReaction#8c79b63c flags:# big:flags.0?true unread:flags.1?true my:flags.2?true peer_id:Peer date:int reaction:Reaction = MessagePeerReaction;\ngroupCallStreamChannel#80eb48af channel:int scale:int last_timestamp_ms:long = GroupCallStreamChannel;\nphone.groupCallStreamChannels#d0e482b2 channels:Vector<GroupCallStreamChannel> = phone.GroupCallStreamChannels;\nphone.groupCallStreamRtmpUrl#2dbf3432 url:string key:string = phone.GroupCallStreamRtmpUrl;\nattachMenuBotIconColor#4576f3f0 name:string color:int = AttachMenuBotIconColor;\nattachMenuBotIcon#b2a7386b flags:# name:string icon:Document colors:flags.0?Vector<AttachMenuBotIconColor> = AttachMenuBotIcon;\nattachMenuBot#d90d8dfe flags:# inactive:flags.0?true has_settings:flags.1?true request_write_access:flags.2?true show_in_attach_menu:flags.3?true show_in_side_menu:flags.4?true side_menu_disclaimer_needed:flags.5?true bot_id:long short_name:string peer_types:flags.3?Vector<AttachMenuPeerType> icons:Vector<AttachMenuBotIcon> = AttachMenuBot;\nattachMenuBotsNotModified#f1d88a5c = AttachMenuBots;\nattachMenuBots#3c4301c0 hash:long bots:Vector<AttachMenuBot> users:Vector<User> = AttachMenuBots;\nattachMenuBotsBot#93bf667f bot:AttachMenuBot users:Vector<User> = AttachMenuBotsBot;\nwebViewResultUrl#4d22ff98 flags:# fullsize:flags.1?true fullscreen:flags.2?true query_id:flags.0?long url:string = WebViewResult;\nwebViewMessageSent#c94511c flags:# msg_id:flags.0?InputBotInlineMessageID = WebViewMessageSent;\nbotMenuButtonDefault#7533a588 = BotMenuButton;\nbotMenuButtonCommands#4258c205 = BotMenuButton;\nbotMenuButton#c7b57ce6 text:string url:string = BotMenuButton;\naccount.savedRingtonesNotModified#fbf6e8b1 = account.SavedRingtones;\naccount.savedRingtones#c1e92cc5 hash:long ringtones:Vector<Document> = account.SavedRingtones;\nnotificationSoundDefault#97e8bebe = NotificationSound;\nnotificationSoundNone#6f0c34df = NotificationSound;\nnotificationSoundLocal#830b9ae4 title:string data:string = NotificationSound;\nnotificationSoundRingtone#ff6c8049 id:long = NotificationSound;\naccount.savedRingtone#b7263f6d = account.SavedRingtone;\naccount.savedRingtoneConverted#1f307eb7 document:Document = account.SavedRingtone;\nattachMenuPeerTypeSameBotPM#7d6be90e = AttachMenuPeerType;\nattachMenuPeerTypeBotPM#c32bfa1a = AttachMenuPeerType;\nattachMenuPeerTypePM#f146d31f = AttachMenuPeerType;\nattachMenuPeerTypeChat#509113f = AttachMenuPeerType;\nattachMenuPeerTypeBroadcast#7bfbdefc = AttachMenuPeerType;\ninputInvoiceMessage#c5b56859 peer:InputPeer msg_id:int = InputInvoice;\ninputInvoiceSlug#c326caef slug:string = InputInvoice;\ninputInvoicePremiumGiftCode#98986c0d purpose:InputStorePaymentPurpose option:PremiumGiftCodeOption = InputInvoice;\ninputInvoiceStars#65f00ce3 purpose:InputStorePaymentPurpose = InputInvoice;\ninputInvoiceChatInviteSubscription#34e793f1 hash:string = InputInvoice;\ninputInvoiceStarGift#e8625e92 flags:# hide_name:flags.0?true include_upgrade:flags.2?true peer:InputPeer gift_id:long message:flags.1?TextWithEntities = InputInvoice;\ninputInvoiceStarGiftUpgrade#4d818d5d flags:# keep_original_details:flags.0?true stargift:InputSavedStarGift = InputInvoice;\ninputInvoiceStarGiftTransfer#4a5f5bd9 stargift:InputSavedStarGift to_id:InputPeer = InputInvoice;\ninputInvoicePremiumGiftStars#dabab2ef flags:# user_id:InputUser months:int message:flags.0?TextWithEntities = InputInvoice;\ninputInvoiceBusinessBotTransferStars#f4997e42 bot:InputUser stars:long = InputInvoice;\ninputInvoiceStarGiftResale#c39f5324 flags:# ton:flags.0?true slug:string to_id:InputPeer = InputInvoice;\npayments.exportedInvoice#aed0cbd9 url:string = payments.ExportedInvoice;\nmessages.transcribedAudio#cfb9d957 flags:# pending:flags.0?true transcription_id:long text:string trial_remains_num:flags.1?int trial_remains_until_date:flags.1?int = messages.TranscribedAudio;\nhelp.premiumPromo#5334759c status_text:string status_entities:Vector<MessageEntity> video_sections:Vector<string> videos:Vector<Document> period_options:Vector<PremiumSubscriptionOption> users:Vector<User> = help.PremiumPromo;\ninputStorePaymentPremiumSubscription#a6751e66 flags:# restore:flags.0?true upgrade:flags.1?true = InputStorePaymentPurpose;\ninputStorePaymentGiftPremium#616f7fe8 user_id:InputUser currency:string amount:long = InputStorePaymentPurpose;\ninputStorePaymentPremiumGiftCode#fb790393 flags:# users:Vector<InputUser> boost_peer:flags.0?InputPeer currency:string amount:long message:flags.1?TextWithEntities = InputStorePaymentPurpose;\ninputStorePaymentPremiumGiveaway#160544ca flags:# only_new_subscribers:flags.0?true winners_are_visible:flags.3?true boost_peer:InputPeer additional_peers:flags.1?Vector<InputPeer> countries_iso2:flags.2?Vector<string> prize_description:flags.4?string random_id:long until_date:int currency:string amount:long = InputStorePaymentPurpose;\ninputStorePaymentStarsTopup#dddd0f56 stars:long currency:string amount:long = InputStorePaymentPurpose;\ninputStorePaymentStarsGift#1d741ef7 user_id:InputUser stars:long currency:string amount:long = InputStorePaymentPurpose;\ninputStorePaymentStarsGiveaway#751f08fa flags:# only_new_subscribers:flags.0?true winners_are_visible:flags.3?true stars:long boost_peer:InputPeer additional_peers:flags.1?Vector<InputPeer> countries_iso2:flags.2?Vector<string> prize_description:flags.4?string random_id:long until_date:int currency:string amount:long users:int = InputStorePaymentPurpose;\ninputStorePaymentAuthCode#9bb2636d flags:# restore:flags.0?true phone_number:string phone_code_hash:string currency:string amount:long = InputStorePaymentPurpose;\npaymentFormMethod#88f8f21b url:string title:string = PaymentFormMethod;\nemojiStatusEmpty#2de11aae = EmojiStatus;\nemojiStatus#e7ff068a flags:# document_id:long until:flags.0?int = EmojiStatus;\nemojiStatusCollectible#7184603b flags:# collectible_id:long document_id:long title:string slug:string pattern_document_id:long center_color:int edge_color:int pattern_color:int text_color:int until:flags.0?int = EmojiStatus;\ninputEmojiStatusCollectible#7141dbf flags:# collectible_id:long until:flags.0?int = EmojiStatus;\naccount.emojiStatusesNotModified#d08ce645 = account.EmojiStatuses;\naccount.emojiStatuses#90c467d1 hash:long statuses:Vector<EmojiStatus> = account.EmojiStatuses;\nreactionEmpty#79f5d419 = Reaction;\nreactionEmoji#1b2286b8 emoticon:string = Reaction;\nreactionCustomEmoji#8935fc73 document_id:long = Reaction;\nreactionPaid#523da4eb = Reaction;\nchatReactionsNone#eafc32bc = ChatReactions;\nchatReactionsAll#52928bca flags:# allow_custom:flags.0?true = ChatReactions;\nchatReactionsSome#661d4037 reactions:Vector<Reaction> = ChatReactions;\nmessages.reactionsNotModified#b06fdbdf = messages.Reactions;\nmessages.reactions#eafdf716 hash:long reactions:Vector<Reaction> = messages.Reactions;\nemailVerifyPurposeLoginSetup#4345be73 phone_number:string phone_code_hash:string = EmailVerifyPurpose;\nemailVerifyPurposeLoginChange#527d22eb = EmailVerifyPurpose;\nemailVerifyPurposePassport#bbf51685 = EmailVerifyPurpose;\nemailVerificationCode#922e55a9 code:string = EmailVerification;\nemailVerificationGoogle#db909ec2 token:string = EmailVerification;\nemailVerificationApple#96d074fd token:string = EmailVerification;\naccount.emailVerified#2b96cd1b email:string = account.EmailVerified;\naccount.emailVerifiedLogin#e1bb0d61 email:string sent_code:auth.SentCode = account.EmailVerified;\npremiumSubscriptionOption#5f2d1df2 flags:# current:flags.1?true can_purchase_upgrade:flags.2?true transaction:flags.3?string months:int currency:string amount:long bot_url:string store_product:flags.0?string = PremiumSubscriptionOption;\nsendAsPeer#b81c7034 flags:# premium_required:flags.0?true peer:Peer = SendAsPeer;\nmessageExtendedMediaPreview#ad628cc8 flags:# w:flags.0?int h:flags.0?int thumb:flags.1?PhotoSize video_duration:flags.2?int = MessageExtendedMedia;\nmessageExtendedMedia#ee479c64 media:MessageMedia = MessageExtendedMedia;\nstickerKeyword#fcfeb29c document_id:long keyword:Vector<string> = StickerKeyword;\nusername#b4073647 flags:# editable:flags.0?true active:flags.1?true username:string = Username;\nforumTopicDeleted#23f109b id:int = ForumTopic;\nforumTopic#71701da9 flags:# my:flags.1?true closed:flags.2?true pinned:flags.3?true short:flags.5?true hidden:flags.6?true id:int date:int title:string icon_color:int icon_emoji_id:flags.0?long top_message:int read_inbox_max_id:int read_outbox_max_id:int unread_count:int unread_mentions_count:int unread_reactions_count:int from_id:Peer notify_settings:PeerNotifySettings draft:flags.4?DraftMessage = ForumTopic;\nmessages.forumTopics#367617d3 flags:# order_by_create_date:flags.0?true count:int topics:Vector<ForumTopic> messages:Vector<Message> chats:Vector<Chat> users:Vector<User> pts:int = messages.ForumTopics;\ndefaultHistoryTTL#43b46b20 period:int = DefaultHistoryTTL;\nexportedContactToken#41bf109b url:string expires:int = ExportedContactToken;\nrequestPeerTypeUser#5f3b8a00 flags:# bot:flags.0?Bool premium:flags.1?Bool = RequestPeerType;\nrequestPeerTypeChat#c9f06e1b flags:# creator:flags.0?true bot_participant:flags.5?true has_username:flags.3?Bool forum:flags.4?Bool user_admin_rights:flags.1?ChatAdminRights bot_admin_rights:flags.2?ChatAdminRights = RequestPeerType;\nrequestPeerTypeBroadcast#339bef6c flags:# creator:flags.0?true has_username:flags.3?Bool user_admin_rights:flags.1?ChatAdminRights bot_admin_rights:flags.2?ChatAdminRights = RequestPeerType;\nemojiListNotModified#481eadfa = EmojiList;\nemojiList#7a1e11d1 hash:long document_id:Vector<long> = EmojiList;\nemojiGroup#7a9abda9 title:string icon_emoji_id:long emoticons:Vector<string> = EmojiGroup;\nemojiGroupGreeting#80d26cc7 title:string icon_emoji_id:long emoticons:Vector<string> = EmojiGroup;\nemojiGroupPremium#93bcf34 title:string icon_emoji_id:long = EmojiGroup;\nmessages.emojiGroupsNotModified#6fb4ad87 = messages.EmojiGroups;\nmessages.emojiGroups#881fb94b hash:int groups:Vector<EmojiGroup> = messages.EmojiGroups;\ntextWithEntities#751f3146 text:string entities:Vector<MessageEntity> = TextWithEntities;\nmessages.translateResult#33db32f8 result:Vector<TextWithEntities> = messages.TranslatedText;\nautoSaveSettings#c84834ce flags:# photos:flags.0?true videos:flags.1?true video_max_size:flags.2?long = AutoSaveSettings;\nautoSaveException#81602d47 peer:Peer settings:AutoSaveSettings = AutoSaveException;\naccount.autoSaveSettings#4c3e069d users_settings:AutoSaveSettings chats_settings:AutoSaveSettings broadcasts_settings:AutoSaveSettings exceptions:Vector<AutoSaveException> chats:Vector<Chat> users:Vector<User> = account.AutoSaveSettings;\nhelp.appConfigNotModified#7cde641d = help.AppConfig;\nhelp.appConfig#dd18782e hash:int config:JSONValue = help.AppConfig;\ninputBotAppID#a920bd7a id:long access_hash:long = InputBotApp;\ninputBotAppShortName#908c0407 bot_id:InputUser short_name:string = InputBotApp;\nbotAppNotModified#5da674b7 = BotApp;\nbotApp#95fcd1d6 flags:# id:long access_hash:long short_name:string title:string description:string photo:Photo document:flags.0?Document hash:long = BotApp;\nmessages.botApp#eb50adf5 flags:# inactive:flags.0?true request_write_access:flags.1?true has_settings:flags.2?true app:BotApp = messages.BotApp;\ninlineBotWebView#b57295d5 text:string url:string = InlineBotWebView;\nreadParticipantDate#4a4ff172 user_id:long date:int = ReadParticipantDate;\ninputChatlistDialogFilter#f3e0da33 filter_id:int = InputChatlist;\nexportedChatlistInvite#c5181ac flags:# title:string url:string peers:Vector<Peer> = ExportedChatlistInvite;\nchatlists.exportedChatlistInvite#10e6e3a6 filter:DialogFilter invite:ExportedChatlistInvite = chatlists.ExportedChatlistInvite;\nchatlists.exportedInvites#10ab6dc7 invites:Vector<ExportedChatlistInvite> chats:Vector<Chat> users:Vector<User> = chatlists.ExportedInvites;\nchatlists.chatlistInviteAlready#fa87f659 filter_id:int missing_peers:Vector<Peer> already_peers:Vector<Peer> chats:Vector<Chat> users:Vector<User> = chatlists.ChatlistInvite;\nchatlists.chatlistInvite#f10ece2f flags:# title_noanimate:flags.1?true title:TextWithEntities emoticon:flags.0?string peers:Vector<Peer> chats:Vector<Chat> users:Vector<User> = chatlists.ChatlistInvite;\nchatlists.chatlistUpdates#93bd878d missing_peers:Vector<Peer> chats:Vector<Chat> users:Vector<User> = chatlists.ChatlistUpdates;\nbots.botInfo#e8a775b0 name:string about:string description:string = bots.BotInfo;\nmessagePeerVote#b6cc2d5c peer:Peer option:bytes date:int = MessagePeerVote;\nmessagePeerVoteInputOption#74cda504 peer:Peer date:int = MessagePeerVote;\nmessagePeerVoteMultiple#4628f6e6 peer:Peer options:Vector<bytes> date:int = MessagePeerVote;\nstoryViews#8d595cd6 flags:# has_viewers:flags.1?true views_count:int forwards_count:flags.2?int reactions:flags.3?Vector<ReactionCount> reactions_count:flags.4?int recent_viewers:flags.0?Vector<long> = StoryViews;\nstoryItemDeleted#51e6ee4f id:int = StoryItem;\nstoryItemSkipped#ffadc913 flags:# close_friends:flags.8?true id:int date:int expire_date:int = StoryItem;\nstoryItem#edf164f1 flags:# pinned:flags.5?true public:flags.7?true close_friends:flags.8?true min:flags.9?true noforwards:flags.10?true edited:flags.11?true contacts:flags.12?true selected_contacts:flags.13?true out:flags.16?true id:int date:int from_id:flags.18?Peer fwd_from:flags.17?StoryFwdHeader expire_date:int caption:flags.0?string entities:flags.1?Vector<MessageEntity> media:MessageMedia media_areas:flags.14?Vector<MediaArea> privacy:flags.2?Vector<PrivacyRule> views:flags.3?StoryViews sent_reaction:flags.15?Reaction albums:flags.19?Vector<int> = StoryItem;\nstories.allStoriesNotModified#1158fe3e flags:# state:string stealth_mode:StoriesStealthMode = stories.AllStories;\nstories.allStories#6efc5e81 flags:# has_more:flags.0?true count:int state:string peer_stories:Vector<PeerStories> chats:Vector<Chat> users:Vector<User> stealth_mode:StoriesStealthMode = stories.AllStories;\nstories.stories#63c3dd0a flags:# count:int stories:Vector<StoryItem> pinned_to_top:flags.0?Vector<int> chats:Vector<Chat> users:Vector<User> = stories.Stories;\nstoryView#b0bdeac5 flags:# blocked:flags.0?true blocked_my_stories_from:flags.1?true user_id:long date:int reaction:flags.2?Reaction = StoryView;\nstoryViewPublicForward#9083670b flags:# blocked:flags.0?true blocked_my_stories_from:flags.1?true message:Message = StoryView;\nstoryViewPublicRepost#bd74cf49 flags:# blocked:flags.0?true blocked_my_stories_from:flags.1?true peer_id:Peer story:StoryItem = StoryView;\nstories.storyViewsList#59d78fc5 flags:# count:int views_count:int forwards_count:int reactions_count:int views:Vector<StoryView> chats:Vector<Chat> users:Vector<User> next_offset:flags.0?string = stories.StoryViewsList;\nstories.storyViews#de9eed1d views:Vector<StoryViews> users:Vector<User> = stories.StoryViews;\ninputReplyToMessage#869fbe10 flags:# reply_to_msg_id:int top_msg_id:flags.0?int reply_to_peer_id:flags.1?InputPeer quote_text:flags.2?string quote_entities:flags.3?Vector<MessageEntity> quote_offset:flags.4?int monoforum_peer_id:flags.5?InputPeer todo_item_id:flags.6?int = InputReplyTo;\ninputReplyToStory#5881323a peer:InputPeer story_id:int = InputReplyTo;\ninputReplyToMonoForum#69d66c45 monoforum_peer_id:InputPeer = InputReplyTo;\nexportedStoryLink#3fc9053b link:string = ExportedStoryLink;\nstoriesStealthMode#712e27fd flags:# active_until_date:flags.0?int cooldown_until_date:flags.1?int = StoriesStealthMode;\nmediaAreaCoordinates#cfc9e002 flags:# x:double y:double w:double h:double rotation:double radius:flags.0?double = MediaAreaCoordinates;\nmediaAreaVenue#be82db9c coordinates:MediaAreaCoordinates geo:GeoPoint title:string address:string provider:string venue_id:string venue_type:string = MediaArea;\ninputMediaAreaVenue#b282217f coordinates:MediaAreaCoordinates query_id:long result_id:string = MediaArea;\nmediaAreaGeoPoint#cad5452d flags:# coordinates:MediaAreaCoordinates geo:GeoPoint address:flags.0?GeoPointAddress = MediaArea;\nmediaAreaSuggestedReaction#14455871 flags:# dark:flags.0?true flipped:flags.1?true coordinates:MediaAreaCoordinates reaction:Reaction = MediaArea;\nmediaAreaChannelPost#770416af coordinates:MediaAreaCoordinates channel_id:long msg_id:int = MediaArea;\ninputMediaAreaChannelPost#2271f2bf coordinates:MediaAreaCoordinates channel:InputChannel msg_id:int = MediaArea;\nmediaAreaUrl#37381085 coordinates:MediaAreaCoordinates url:string = MediaArea;\nmediaAreaWeather#49a6549c coordinates:MediaAreaCoordinates emoji:string temperature_c:double color:int = MediaArea;\nmediaAreaStarGift#5787686d coordinates:MediaAreaCoordinates slug:string = MediaArea;\npeerStories#9a35e999 flags:# peer:Peer max_read_id:flags.0?int stories:Vector<StoryItem> = PeerStories;\nstories.peerStories#cae68768 stories:PeerStories chats:Vector<Chat> users:Vector<User> = stories.PeerStories;\nmessages.webPage#fd5e12bd webpage:WebPage chats:Vector<Chat> users:Vector<User> = messages.WebPage;\npremiumGiftCodeOption#257e962b flags:# users:int months:int store_product:flags.0?string store_quantity:flags.1?int currency:string amount:long = PremiumGiftCodeOption;\npayments.checkedGiftCode#284a1096 flags:# via_giveaway:flags.2?true from_id:flags.4?Peer giveaway_msg_id:flags.3?int to_id:flags.0?long date:int months:int used_date:flags.1?int chats:Vector<Chat> users:Vector<User> = payments.CheckedGiftCode;\npayments.giveawayInfo#4367daa0 flags:# participating:flags.0?true preparing_results:flags.3?true start_date:int joined_too_early_date:flags.1?int admin_disallowed_chat_id:flags.2?long disallowed_country:flags.4?string = payments.GiveawayInfo;\npayments.giveawayInfoResults#e175e66f flags:# winner:flags.0?true refunded:flags.1?true start_date:int gift_code_slug:flags.3?string stars_prize:flags.4?long finish_date:int winners_count:int activated_count:flags.2?int = payments.GiveawayInfo;\nprepaidGiveaway#b2539d54 id:long months:int quantity:int date:int = PrepaidGiveaway;\nprepaidStarsGiveaway#9a9d77e0 id:long stars:long quantity:int boosts:int date:int = PrepaidGiveaway;\nboost#4b3e14d6 flags:# gift:flags.1?true giveaway:flags.2?true unclaimed:flags.3?true id:string user_id:flags.0?long giveaway_msg_id:flags.2?int date:int expires:int used_gift_slug:flags.4?string multiplier:flags.5?int stars:flags.6?long = Boost;\npremium.boostsList#86f8613c flags:# count:int boosts:Vector<Boost> next_offset:flags.0?string users:Vector<User> = premium.BoostsList;\nmyBoost#c448415c flags:# slot:int peer:flags.0?Peer date:int expires:int cooldown_until_date:flags.1?int = MyBoost;\npremium.myBoosts#9ae228e2 my_boosts:Vector<MyBoost> chats:Vector<Chat> users:Vector<User> = premium.MyBoosts;\npremium.boostsStatus#4959427a flags:# my_boost:flags.2?true level:int current_level_boosts:int boosts:int gift_boosts:flags.4?int next_level_boosts:flags.0?int premium_audience:flags.1?StatsPercentValue boost_url:string prepaid_giveaways:flags.3?Vector<PrepaidGiveaway> my_boost_slots:flags.2?Vector<int> = premium.BoostsStatus;\nstoryFwdHeader#b826e150 flags:# modified:flags.3?true from:flags.0?Peer from_name:flags.1?string story_id:flags.2?int = StoryFwdHeader;\npostInteractionCountersMessage#e7058e7f msg_id:int views:int forwards:int reactions:int = PostInteractionCounters;\npostInteractionCountersStory#8a480e27 story_id:int views:int forwards:int reactions:int = PostInteractionCounters;\nstats.storyStats#50cd067c views_graph:StatsGraph reactions_by_emotion_graph:StatsGraph = stats.StoryStats;\npublicForwardMessage#1f2bf4a message:Message = PublicForward;\npublicForwardStory#edf3add0 peer:Peer story:StoryItem = PublicForward;\nstats.publicForwards#93037e20 flags:# count:int forwards:Vector<PublicForward> next_offset:flags.0?string chats:Vector<Chat> users:Vector<User> = stats.PublicForwards;\npeerColor#b54b5acf flags:# color:flags.0?int background_emoji_id:flags.1?long = PeerColor;\nhelp.peerColorSet#26219a58 colors:Vector<int> = help.PeerColorSet;\nhelp.peerColorProfileSet#767d61eb palette_colors:Vector<int> bg_colors:Vector<int> story_colors:Vector<int> = help.PeerColorSet;\nhelp.peerColorOption#adec6ebe flags:# hidden:flags.0?true color_id:int colors:flags.1?help.PeerColorSet dark_colors:flags.2?help.PeerColorSet channel_min_level:flags.3?int group_min_level:flags.4?int = help.PeerColorOption;\nhelp.peerColorsNotModified#2ba1f5ce = help.PeerColors;\nhelp.peerColors#f8ed08 hash:int colors:Vector<help.PeerColorOption> = help.PeerColors;\nstoryReaction#6090d6d5 peer_id:Peer date:int reaction:Reaction = StoryReaction;\nstoryReactionPublicForward#bbab2643 message:Message = StoryReaction;\nstoryReactionPublicRepost#cfcd0f13 peer_id:Peer story:StoryItem = StoryReaction;\nstories.storyReactionsList#aa5f789c flags:# count:int reactions:Vector<StoryReaction> chats:Vector<Chat> users:Vector<User> next_offset:flags.0?string = stories.StoryReactionsList;\nsavedDialog#bd87cb6c flags:# pinned:flags.2?true peer:Peer top_message:int = SavedDialog;\nmonoForumDialog#64407ea7 flags:# unread_mark:flags.3?true nopaid_messages_exception:flags.4?true peer:Peer top_message:int read_inbox_max_id:int read_outbox_max_id:int unread_count:int unread_reactions_count:int draft:flags.1?DraftMessage = SavedDialog;\nmessages.savedDialogs#f83ae221 dialogs:Vector<SavedDialog> messages:Vector<Message> chats:Vector<Chat> users:Vector<User> = messages.SavedDialogs;\nmessages.savedDialogsSlice#44ba9dd9 count:int dialogs:Vector<SavedDialog> messages:Vector<Message> chats:Vector<Chat> users:Vector<User> = messages.SavedDialogs;\nmessages.savedDialogsNotModified#c01f6fe8 count:int = messages.SavedDialogs;\nsavedReactionTag#cb6ff828 flags:# reaction:Reaction title:flags.0?string count:int = SavedReactionTag;\nmessages.savedReactionTagsNotModified#889b59ef = messages.SavedReactionTags;\nmessages.savedReactionTags#3259950a tags:Vector<SavedReactionTag> hash:long = messages.SavedReactionTags;\noutboxReadDate#3bb842ac date:int = OutboxReadDate;\nsmsjobs.eligibleToJoin#dc8b44cf terms_url:string monthly_sent_sms:int = smsjobs.EligibilityToJoin;\nsmsjobs.status#2aee9191 flags:# allow_international:flags.0?true recent_sent:int recent_since:int recent_remains:int total_sent:int total_since:int last_gift_slug:flags.1?string terms_url:string = smsjobs.Status;\nsmsJob#e6a1eeb8 job_id:string phone_number:string text:string = SmsJob;\nbusinessWeeklyOpen#120b1ab9 start_minute:int end_minute:int = BusinessWeeklyOpen;\nbusinessWorkHours#8c92b098 flags:# open_now:flags.0?true timezone_id:string weekly_open:Vector<BusinessWeeklyOpen> = BusinessWorkHours;\nbusinessLocation#ac5c1af7 flags:# geo_point:flags.0?GeoPoint address:string = BusinessLocation;\ninputBusinessRecipients#6f8b32aa flags:# existing_chats:flags.0?true new_chats:flags.1?true contacts:flags.2?true non_contacts:flags.3?true exclude_selected:flags.5?true users:flags.4?Vector<InputUser> = InputBusinessRecipients;\nbusinessRecipients#21108ff7 flags:# existing_chats:flags.0?true new_chats:flags.1?true contacts:flags.2?true non_contacts:flags.3?true exclude_selected:flags.5?true users:flags.4?Vector<long> = BusinessRecipients;\nbusinessAwayMessageScheduleAlways#c9b9e2b9 = BusinessAwayMessageSchedule;\nbusinessAwayMessageScheduleOutsideWorkHours#c3f2f501 = BusinessAwayMessageSchedule;\nbusinessAwayMessageScheduleCustom#cc4d9ecc start_date:int end_date:int = BusinessAwayMessageSchedule;\ninputBusinessGreetingMessage#194cb3b shortcut_id:int recipients:InputBusinessRecipients no_activity_days:int = InputBusinessGreetingMessage;\nbusinessGreetingMessage#e519abab shortcut_id:int recipients:BusinessRecipients no_activity_days:int = BusinessGreetingMessage;\ninputBusinessAwayMessage#832175e0 flags:# offline_only:flags.0?true shortcut_id:int schedule:BusinessAwayMessageSchedule recipients:InputBusinessRecipients = InputBusinessAwayMessage;\nbusinessAwayMessage#ef156a5c flags:# offline_only:flags.0?true shortcut_id:int schedule:BusinessAwayMessageSchedule recipients:BusinessRecipients = BusinessAwayMessage;\ntimezone#ff9289f5 id:string name:string utc_offset:int = Timezone;\nhelp.timezonesListNotModified#970708cc = help.TimezonesList;\nhelp.timezonesList#7b74ed71 timezones:Vector<Timezone> hash:int = help.TimezonesList;\nquickReply#697102b shortcut_id:int shortcut:string top_message:int count:int = QuickReply;\ninputQuickReplyShortcut#24596d41 shortcut:string = InputQuickReplyShortcut;\ninputQuickReplyShortcutId#1190cf1 shortcut_id:int = InputQuickReplyShortcut;\nmessages.quickReplies#c68d6695 quick_replies:Vector<QuickReply> messages:Vector<Message> chats:Vector<Chat> users:Vector<User> = messages.QuickReplies;\nmessages.quickRepliesNotModified#5f91eb5b = messages.QuickReplies;\nconnectedBot#cd64636c flags:# bot_id:long recipients:BusinessBotRecipients rights:BusinessBotRights = ConnectedBot;\naccount.connectedBots#17d7f87b connected_bots:Vector<ConnectedBot> users:Vector<User> = account.ConnectedBots;\nmessages.dialogFilters#2ad93719 flags:# tags_enabled:flags.0?true filters:Vector<DialogFilter> = messages.DialogFilters;\nbirthday#6c8e1e06 flags:# day:int month:int year:flags.0?int = Birthday;\nbotBusinessConnection#8f34b2f5 flags:# disabled:flags.1?true connection_id:string user_id:long dc_id:int date:int rights:flags.2?BusinessBotRights = BotBusinessConnection;\ninputBusinessIntro#9c469cd flags:# title:string description:string sticker:flags.0?InputDocument = InputBusinessIntro;\nbusinessIntro#5a0a066d flags:# title:string description:string sticker:flags.0?Document = BusinessIntro;\nmessages.myStickers#faff629d count:int sets:Vector<StickerSetCovered> = messages.MyStickers;\ninputCollectibleUsername#e39460a9 username:string = InputCollectible;\ninputCollectiblePhone#a2e214a4 phone:string = InputCollectible;\nfragment.collectibleInfo#6ebdff91 purchase_date:int currency:string amount:long crypto_currency:string crypto_amount:long url:string = fragment.CollectibleInfo;\ninputBusinessBotRecipients#c4e5921e flags:# existing_chats:flags.0?true new_chats:flags.1?true contacts:flags.2?true non_contacts:flags.3?true exclude_selected:flags.5?true users:flags.4?Vector<InputUser> exclude_users:flags.6?Vector<InputUser> = InputBusinessBotRecipients;\nbusinessBotRecipients#b88cf373 flags:# existing_chats:flags.0?true new_chats:flags.1?true contacts:flags.2?true non_contacts:flags.3?true exclude_selected:flags.5?true users:flags.4?Vector<long> exclude_users:flags.6?Vector<long> = BusinessBotRecipients;\ncontactBirthday#1d998733 contact_id:long birthday:Birthday = ContactBirthday;\ncontacts.contactBirthdays#114ff30d contacts:Vector<ContactBirthday> users:Vector<User> = contacts.ContactBirthdays;\nmissingInvitee#628c9224 flags:# premium_would_allow_invite:flags.0?true premium_required_for_pm:flags.1?true user_id:long = MissingInvitee;\nmessages.invitedUsers#7f5defa6 updates:Updates missing_invitees:Vector<MissingInvitee> = messages.InvitedUsers;\ninputBusinessChatLink#11679fa7 flags:# message:string entities:flags.0?Vector<MessageEntity> title:flags.1?string = InputBusinessChatLink;\nbusinessChatLink#b4ae666f flags:# link:string message:string entities:flags.0?Vector<MessageEntity> title:flags.1?string views:int = BusinessChatLink;\naccount.businessChatLinks#ec43a2d1 links:Vector<BusinessChatLink> chats:Vector<Chat> users:Vector<User> = account.BusinessChatLinks;\naccount.resolvedBusinessChatLinks#9a23af21 flags:# peer:Peer message:string entities:flags.0?Vector<MessageEntity> chats:Vector<Chat> users:Vector<User> = account.ResolvedBusinessChatLinks;\nrequestedPeerUser#d62ff46a flags:# user_id:long first_name:flags.0?string last_name:flags.0?string username:flags.1?string photo:flags.2?Photo = RequestedPeer;\nrequestedPeerChat#7307544f flags:# chat_id:long title:flags.0?string photo:flags.2?Photo = RequestedPeer;\nrequestedPeerChannel#8ba403e4 flags:# channel_id:long title:flags.0?string username:flags.1?string photo:flags.2?Photo = RequestedPeer;\nsponsoredMessageReportOption#430d3150 text:string option:bytes = SponsoredMessageReportOption;\nchannels.sponsoredMessageReportResultChooseOption#846f9e42 title:string options:Vector<SponsoredMessageReportOption> = channels.SponsoredMessageReportResult;\nchannels.sponsoredMessageReportResultAdsHidden#3e3bcf2f = channels.SponsoredMessageReportResult;\nchannels.sponsoredMessageReportResultReported#ad798849 = channels.SponsoredMessageReportResult;\nreactionNotificationsFromContacts#bac3a61a = ReactionNotificationsFrom;\nreactionNotificationsFromAll#4b9e22a0 = ReactionNotificationsFrom;\nreactionsNotifySettings#56e34970 flags:# messages_notify_from:flags.0?ReactionNotificationsFrom stories_notify_from:flags.1?ReactionNotificationsFrom sound:NotificationSound show_previews:Bool = ReactionsNotifySettings;\navailableEffect#93c3e27e flags:# premium_required:flags.2?true id:long emoticon:string static_icon_id:flags.0?long effect_sticker_id:long effect_animation_id:flags.1?long = AvailableEffect;\nmessages.availableEffectsNotModified#d1ed9a5b = messages.AvailableEffects;\nmessages.availableEffects#bddb616e hash:int effects:Vector<AvailableEffect> documents:Vector<Document> = messages.AvailableEffects;\nfactCheck#b89bfccf flags:# need_check:flags.0?true country:flags.1?string text:flags.1?TextWithEntities hash:long = FactCheck;\nstarsTransactionPeerUnsupported#95f2bfe4 = StarsTransactionPeer;\nstarsTransactionPeerAppStore#b457b375 = StarsTransactionPeer;\nstarsTransactionPeerPlayMarket#7b560a0b = StarsTransactionPeer;\nstarsTransactionPeerPremiumBot#250dbaf8 = StarsTransactionPeer;\nstarsTransactionPeerFragment#e92fd902 = StarsTransactionPeer;\nstarsTransactionPeer#d80da15d peer:Peer = StarsTransactionPeer;\nstarsTransactionPeerAds#60682812 = StarsTransactionPeer;\nstarsTransactionPeerAPI#f9677aad = StarsTransactionPeer;\nstarsTopupOption#bd915c0 flags:# extended:flags.1?true stars:long store_product:flags.0?string currency:string amount:long = StarsTopupOption;\nstarsTransaction#13659eb0 flags:# refund:flags.3?true pending:flags.4?true failed:flags.6?true gift:flags.10?true reaction:flags.11?true stargift_upgrade:flags.18?true business_transfer:flags.21?true stargift_resale:flags.22?true posts_search:flags.24?true id:string amount:StarsAmount date:int peer:StarsTransactionPeer title:flags.0?string description:flags.1?string photo:flags.2?WebDocument transaction_date:flags.5?int transaction_url:flags.5?string bot_payload:flags.7?bytes msg_id:flags.8?int extended_media:flags.9?Vector<MessageMedia> subscription_period:flags.12?int giveaway_post_id:flags.13?int stargift:flags.14?StarGift floodskip_number:flags.15?int starref_commission_permille:flags.16?int starref_peer:flags.17?Peer starref_amount:flags.17?StarsAmount paid_messages:flags.19?int premium_gift_months:flags.20?int ads_proceeds_from_date:flags.23?int ads_proceeds_to_date:flags.23?int = StarsTransaction;\npayments.starsStatus#6c9ce8ed flags:# balance:StarsAmount subscriptions:flags.1?Vector<StarsSubscription> subscriptions_next_offset:flags.2?string subscriptions_missing_balance:flags.4?long history:flags.3?Vector<StarsTransaction> next_offset:flags.0?string chats:Vector<Chat> users:Vector<User> = payments.StarsStatus;\nfoundStory#e87acbc0 peer:Peer story:StoryItem = FoundStory;\nstories.foundStories#e2de7737 flags:# count:int stories:Vector<FoundStory> next_offset:flags.0?string chats:Vector<Chat> users:Vector<User> = stories.FoundStories;\ngeoPointAddress#de4c5d93 flags:# country_iso2:string state:flags.0?string city:flags.1?string street:flags.2?string = GeoPointAddress;\nstarsRevenueStatus#febe5491 flags:# withdrawal_enabled:flags.0?true current_balance:StarsAmount available_balance:StarsAmount overall_revenue:StarsAmount next_withdrawal_at:flags.1?int = StarsRevenueStatus;\npayments.starsRevenueStats#6c207376 flags:# top_hours_graph:flags.0?StatsGraph revenue_graph:StatsGraph status:StarsRevenueStatus usd_rate:double = payments.StarsRevenueStats;\npayments.starsRevenueWithdrawalUrl#1dab80b7 url:string = payments.StarsRevenueWithdrawalUrl;\npayments.starsRevenueAdsAccountUrl#394e7f21 url:string = payments.StarsRevenueAdsAccountUrl;\ninputStarsTransaction#206ae6d1 flags:# refund:flags.0?true id:string = InputStarsTransaction;\nstarsGiftOption#5e0589f1 flags:# extended:flags.1?true stars:long store_product:flags.0?string currency:string amount:long = StarsGiftOption;\nbots.popularAppBots#1991b13b flags:# next_offset:flags.0?string users:Vector<User> = bots.PopularAppBots;\nbotPreviewMedia#23e91ba3 date:int media:MessageMedia = BotPreviewMedia;\nbots.previewInfo#ca71d64 media:Vector<BotPreviewMedia> lang_codes:Vector<string> = bots.PreviewInfo;\nstarsSubscriptionPricing#5416d58 period:int amount:long = StarsSubscriptionPricing;\nstarsSubscription#2e6eab1a flags:# canceled:flags.0?true can_refulfill:flags.1?true missing_balance:flags.2?true bot_canceled:flags.7?true id:string peer:Peer until_date:int pricing:StarsSubscriptionPricing chat_invite_hash:flags.3?string title:flags.4?string photo:flags.5?WebDocument invoice_slug:flags.6?string = StarsSubscription;\nmessageReactor#4ba3a95a flags:# top:flags.0?true my:flags.1?true anonymous:flags.2?true peer_id:flags.3?Peer count:int = MessageReactor;\nstarsGiveawayOption#94ce852a flags:# extended:flags.0?true default:flags.1?true stars:long yearly_boosts:int store_product:flags.2?string currency:string amount:long winners:Vector<StarsGiveawayWinnersOption> = StarsGiveawayOption;\nstarsGiveawayWinnersOption#54236209 flags:# default:flags.0?true users:int per_user_stars:long = StarsGiveawayWinnersOption;\nstarGift#bcff5b flags:# limited:flags.0?true sold_out:flags.1?true birthday:flags.2?true require_premium:flags.7?true limited_per_user:flags.8?true id:long sticker:Document stars:long availability_remains:flags.0?int availability_total:flags.0?int availability_resale:flags.4?long convert_stars:long first_sale_date:flags.1?int last_sale_date:flags.1?int upgrade_stars:flags.3?long resell_min_stars:flags.4?long title:flags.5?string released_by:flags.6?Peer per_user_total:flags.8?int per_user_remains:flags.8?int = StarGift;\nstarGiftUnique#3a274d50 flags:# require_premium:flags.6?true resale_ton_only:flags.7?true id:long title:string slug:string num:int owner_id:flags.0?Peer owner_name:flags.1?string owner_address:flags.2?string attributes:Vector<StarGiftAttribute> availability_issued:int availability_total:int gift_address:flags.3?string resell_amount:flags.4?Vector<StarsAmount> released_by:flags.5?Peer = StarGift;\npayments.starGiftsNotModified#a388a368 = payments.StarGifts;\npayments.starGifts#2ed82995 hash:int gifts:Vector<StarGift> chats:Vector<Chat> users:Vector<User> = payments.StarGifts;\nmessageReportOption#7903e3d9 text:string option:bytes = MessageReportOption;\nreportResultChooseOption#f0e4e0b6 title:string options:Vector<MessageReportOption> = ReportResult;\nreportResultAddComment#6f09ac31 flags:# optional:flags.0?true option:bytes = ReportResult;\nreportResultReported#8db33c4b = ReportResult;\nmessages.botPreparedInlineMessage#8ecf0511 id:string expire_date:int = messages.BotPreparedInlineMessage;\nmessages.preparedInlineMessage#ff57708d query_id:long result:BotInlineResult peer_types:Vector<InlineQueryPeerType> cache_time:int users:Vector<User> = messages.PreparedInlineMessage;\nbotAppSettings#c99b1950 flags:# placeholder_path:flags.0?bytes background_color:flags.1?int background_dark_color:flags.2?int header_color:flags.3?int header_dark_color:flags.4?int = BotAppSettings;\nstarRefProgram#dd0c66f2 flags:# bot_id:long commission_permille:int duration_months:flags.0?int end_date:flags.1?int daily_revenue_per_user:flags.2?StarsAmount = StarRefProgram;\nconnectedBotStarRef#19a13f71 flags:# revoked:flags.1?true url:string date:int bot_id:long commission_permille:int duration_months:flags.0?int participants:long revenue:long = ConnectedBotStarRef;\npayments.connectedStarRefBots#98d5ea1d count:int connected_bots:Vector<ConnectedBotStarRef> users:Vector<User> = payments.ConnectedStarRefBots;\npayments.suggestedStarRefBots#b4d5d859 flags:# count:int suggested_bots:Vector<StarRefProgram> users:Vector<User> next_offset:flags.0?string = payments.SuggestedStarRefBots;\nstarsAmount#bbb6b4a3 amount:long nanos:int = StarsAmount;\nstarsTonAmount#74aee3e0 amount:long = StarsAmount;\nmessages.foundStickersNotModified#6010c534 flags:# next_offset:flags.0?int = messages.FoundStickers;\nmessages.foundStickers#82c9e290 flags:# next_offset:flags.0?int hash:long stickers:Vector<Document> = messages.FoundStickers;\nbotVerifierSettings#b0cd6617 flags:# can_modify_custom_description:flags.1?true icon:long company:string custom_description:flags.0?string = BotVerifierSettings;\nbotVerification#f93cd45c bot_id:long icon:long description:string = BotVerification;\nstarGiftAttributeModel#39d99013 name:string document:Document rarity_permille:int = StarGiftAttribute;\nstarGiftAttributePattern#13acff19 name:string document:Document rarity_permille:int = StarGiftAttribute;\nstarGiftAttributeBackdrop#d93d859c name:string backdrop_id:int center_color:int edge_color:int pattern_color:int text_color:int rarity_permille:int = StarGiftAttribute;\nstarGiftAttributeOriginalDetails#e0bff26c flags:# sender_id:flags.0?Peer recipient_id:Peer date:int message:flags.1?TextWithEntities = StarGiftAttribute;\npayments.starGiftUpgradePreview#167bd90b sample_attributes:Vector<StarGiftAttribute> = payments.StarGiftUpgradePreview;\nusers.users#62d706b8 users:Vector<User> = users.Users;\nusers.usersSlice#315a4974 count:int users:Vector<User> = users.Users;\npayments.uniqueStarGift#caa2f60b gift:StarGift users:Vector<User> = payments.UniqueStarGift;\nmessages.webPagePreview#b53e8b21 media:MessageMedia users:Vector<User> = messages.WebPagePreview;\nsavedStarGift#1ea646df flags:# name_hidden:flags.0?true unsaved:flags.5?true refunded:flags.9?true can_upgrade:flags.10?true pinned_to_top:flags.12?true from_id:flags.1?Peer date:int gift:StarGift message:flags.2?TextWithEntities msg_id:flags.3?int saved_id:flags.11?long convert_stars:flags.4?long upgrade_stars:flags.6?long can_export_at:flags.7?int transfer_stars:flags.8?long can_transfer_at:flags.13?int can_resell_at:flags.14?int collection_id:flags.15?Vector<int> = SavedStarGift;\npayments.savedStarGifts#95f389b1 flags:# count:int chat_notifications_enabled:flags.1?Bool gifts:Vector<SavedStarGift> next_offset:flags.0?string chats:Vector<Chat> users:Vector<User> = payments.SavedStarGifts;\ninputSavedStarGiftUser#69279795 msg_id:int = InputSavedStarGift;\ninputSavedStarGiftChat#f101aa7f peer:InputPeer saved_id:long = InputSavedStarGift;\ninputSavedStarGiftSlug#2085c238 slug:string = InputSavedStarGift;\npayments.starGiftWithdrawalUrl#84aa3a9c url:string = payments.StarGiftWithdrawalUrl;\npaidReactionPrivacyDefault#206ad49e = PaidReactionPrivacy;\npaidReactionPrivacyAnonymous#1f0c1ad9 = PaidReactionPrivacy;\npaidReactionPrivacyPeer#dc6cfcf0 peer:InputPeer = PaidReactionPrivacy;\naccount.paidMessagesRevenue#1e109708 stars_amount:long = account.PaidMessagesRevenue;\nrequirementToContactEmpty#50a9839 = RequirementToContact;\nrequirementToContactPremium#e581e4e9 = RequirementToContact;\nrequirementToContactPaidMessages#b4f67e93 stars_amount:long = RequirementToContact;\nbusinessBotRights#a0624cf7 flags:# reply:flags.0?true read_messages:flags.1?true delete_sent_messages:flags.2?true delete_received_messages:flags.3?true edit_name:flags.4?true edit_bio:flags.5?true edit_profile_photo:flags.6?true edit_username:flags.7?true view_gifts:flags.8?true sell_gifts:flags.9?true change_gift_settings:flags.10?true transfer_and_upgrade_gifts:flags.11?true transfer_stars:flags.12?true manage_stories:flags.13?true = BusinessBotRights;\ndisallowedGiftsSettings#71f276c4 flags:# disallow_unlimited_stargifts:flags.0?true disallow_limited_stargifts:flags.1?true disallow_unique_stargifts:flags.2?true disallow_premium_gifts:flags.3?true = DisallowedGiftsSettings;\nsponsoredPeer#c69708d3 flags:# random_id:bytes peer:Peer sponsor_info:flags.0?string additional_info:flags.1?string = SponsoredPeer;\ncontacts.sponsoredPeersEmpty#ea32b4b1 = contacts.SponsoredPeers;\ncontacts.sponsoredPeers#eb032884 peers:Vector<SponsoredPeer> chats:Vector<Chat> users:Vector<User> = contacts.SponsoredPeers;\nstarGiftAttributeIdModel#48aaae3c document_id:long = StarGiftAttributeId;\nstarGiftAttributeIdPattern#4a162433 document_id:long = StarGiftAttributeId;\nstarGiftAttributeIdBackdrop#1f01c757 backdrop_id:int = StarGiftAttributeId;\nstarGiftAttributeCounter#2eb1b658 attribute:StarGiftAttributeId count:int = StarGiftAttributeCounter;\npayments.resaleStarGifts#947a12df flags:# count:int gifts:Vector<StarGift> next_offset:flags.0?string attributes:flags.1?Vector<StarGiftAttribute> attributes_hash:flags.1?long chats:Vector<Chat> counters:flags.2?Vector<StarGiftAttributeCounter> users:Vector<User> = payments.ResaleStarGifts;\nstories.canSendStoryCount#c387c04e count_remains:int = stories.CanSendStoryCount;\npendingSuggestion#e7e82e12 suggestion:string title:TextWithEntities description:TextWithEntities url:string = PendingSuggestion;\ntodoItem#cba9a52f id:int title:TextWithEntities = TodoItem;\ntodoList#49b92a26 flags:# others_can_append:flags.0?true others_can_complete:flags.1?true title:TextWithEntities list:Vector<TodoItem> = TodoList;\ntodoCompletion#4cc120b7 id:int completed_by:long date:int = TodoCompletion;\nsuggestedPost#e8e37e5 flags:# accepted:flags.1?true rejected:flags.2?true price:flags.3?StarsAmount schedule_date:flags.0?int = SuggestedPost;\nstarsRating#1b0e4f07 flags:# level:int current_level_stars:long stars:long next_level_stars:flags.0?long = StarsRating;\nstarGiftCollection#9d6b13b0 flags:# collection_id:int title:string icon:flags.0?Document gifts_count:int hash:long = StarGiftCollection;\npayments.starGiftCollectionsNotModified#a0ba4f17 = payments.StarGiftCollections;\npayments.starGiftCollections#8a2932f3 collections:Vector<StarGiftCollection> = payments.StarGiftCollections;\nstoryAlbum#9325705a flags:# album_id:int title:string icon_photo:flags.0?Photo icon_video:flags.1?Document = StoryAlbum;\nstories.albumsNotModified#564edaeb = stories.Albums;\nstories.albums#c3987a3a hash:long albums:Vector<StoryAlbum> = stories.Albums;\nsearchPostsFlood#3e0b5b6a flags:# query_is_free:flags.0?true total_daily:int remains:int wait_till:flags.1?int stars_amount:long = SearchPostsFlood;\n---functions---\ninvokeAfterMsg#cb9f372d {X:Type} msg_id:long query:!X = X;\ninitConnection#c1cd5ea9 {X:Type} flags:# api_id:int device_model:string system_version:string app_version:string system_lang_code:string lang_pack:string lang_code:string proxy:flags.0?InputClientProxy params:flags.1?JSONValue query:!X = X;\ninvokeWithLayer#da9b0d0d {X:Type} layer:int query:!X = X;\nauth.sendCode#a677244f phone_number:string api_id:int api_hash:string settings:CodeSettings = auth.SentCode;\nauth.signUp#aac7b717 flags:# no_joined_notifications:flags.0?true phone_number:string phone_code_hash:string first_name:string last_name:string = auth.Authorization;\nauth.signIn#8d52a951 flags:# phone_number:string phone_code_hash:string phone_code:flags.0?string email_verification:flags.1?EmailVerification = auth.Authorization;\nauth.logOut#3e72ba19 = auth.LoggedOut;\nauth.resetAuthorizations#9fab0d1a = Bool;\nauth.exportAuthorization#e5bfffcd dc_id:int = auth.ExportedAuthorization;\nauth.importAuthorization#a57a7dad id:long bytes:bytes = auth.Authorization;\nauth.bindTempAuthKey#cdd42a05 perm_auth_key_id:long nonce:long expires_at:int encrypted_message:bytes = Bool;\nauth.checkPassword#d18b4d16 password:InputCheckPasswordSRP = auth.Authorization;\nauth.requestPasswordRecovery#d897bc66 = auth.PasswordRecovery;\nauth.resendCode#cae47523 flags:# phone_number:string phone_code_hash:string reason:flags.0?string = auth.SentCode;\nauth.cancelCode#1f040578 phone_number:string phone_code_hash:string = Bool;\nauth.dropTempAuthKeys#8e48a188 except_auth_keys:Vector<long> = Bool;\nauth.exportLoginToken#b7e085fe api_id:int api_hash:string except_ids:Vector<long> = auth.LoginToken;\nauth.importLoginToken#95ac5ce4 token:bytes = auth.LoginToken;\nauth.importWebTokenAuthorization#2db873a9 api_id:int api_hash:string web_auth_token:string = auth.Authorization;\naccount.registerDevice#ec86017a flags:# no_muted:flags.0?true token_type:int token:string app_sandbox:Bool secret:bytes other_uids:Vector<long> = Bool;\naccount.unregisterDevice#6a0d3206 token_type:int token:string other_uids:Vector<long> = Bool;\naccount.updateNotifySettings#84be5b93 peer:InputNotifyPeer settings:InputPeerNotifySettings = Bool;\naccount.getNotifySettings#12b3ad31 peer:InputNotifyPeer = PeerNotifySettings;\naccount.updateProfile#78515775 flags:# first_name:flags.0?string last_name:flags.1?string about:flags.2?string = User;\naccount.updateStatus#6628562c offline:Bool = Bool;\naccount.getWallPapers#7967d36 hash:long = account.WallPapers;\naccount.reportPeer#c5ba3d86 peer:InputPeer reason:ReportReason message:string = Bool;\naccount.checkUsername#2714d86c username:string = Bool;\naccount.updateUsername#3e0bdd7c username:string = User;\naccount.getPrivacy#dadbc950 key:InputPrivacyKey = account.PrivacyRules;\naccount.setPrivacy#c9f81ce8 key:InputPrivacyKey rules:Vector<InputPrivacyRule> = account.PrivacyRules;\naccount.getAccountTTL#8fc711d = AccountDaysTTL;\naccount.setAccountTTL#2442485e ttl:AccountDaysTTL = Bool;\naccount.getAuthorizations#e320c158 = account.Authorizations;\naccount.resetAuthorization#df77f3bc hash:long = Bool;\naccount.getPassword#548a30f5 = account.Password;\naccount.getPasswordSettings#9cd4eaf9 password:InputCheckPasswordSRP = account.PasswordSettings;\naccount.updatePasswordSettings#a59b102f password:InputCheckPasswordSRP new_settings:account.PasswordInputSettings = Bool;\naccount.sendConfirmPhoneCode#1b3faa88 hash:string settings:CodeSettings = auth.SentCode;\naccount.confirmPhone#5f2178c3 phone_code_hash:string phone_code:string = Bool;\naccount.getTmpPassword#449e0b51 password:InputCheckPasswordSRP period:int = account.TmpPassword;\naccount.getWebAuthorizations#182e6d6f = account.WebAuthorizations;\naccount.resetWebAuthorization#2d01b9ef hash:long = Bool;\naccount.resetWebAuthorizations#682d2594 = Bool;\naccount.sendVerifyPhoneCode#a5a356f9 phone_number:string settings:CodeSettings = auth.SentCode;\naccount.confirmPasswordEmail#8fdf1920 code:string = Bool;\naccount.getContactSignUpNotification#9f07c728 = Bool;\naccount.setContactSignUpNotification#cff43f61 silent:Bool = Bool;\naccount.getNotifyExceptions#53577479 flags:# compare_sound:flags.1?true compare_stories:flags.2?true peer:flags.0?InputNotifyPeer = Updates;\naccount.uploadWallPaper#e39a8f03 flags:# for_chat:flags.0?true file:InputFile mime_type:string settings:WallPaperSettings = WallPaper;\naccount.setContentSettings#b574b16b flags:# sensitive_enabled:flags.0?true = Bool;\naccount.getContentSettings#8b9b4dae = account.ContentSettings;\naccount.getGlobalPrivacySettings#eb2b4cf6 = GlobalPrivacySettings;\naccount.setGlobalPrivacySettings#1edaaac2 settings:GlobalPrivacySettings = GlobalPrivacySettings;\naccount.reportProfilePhoto#fa8cc6f5 peer:InputPeer photo_id:InputPhoto reason:ReportReason message:string = Bool;\naccount.setAuthorizationTTL#bf899aa0 authorization_ttl_days:int = Bool;\naccount.changeAuthorizationSettings#40f48462 flags:# confirmed:flags.3?true hash:long encrypted_requests_disabled:flags.0?Bool call_requests_disabled:flags.1?Bool = Bool;\naccount.updateEmojiStatus#fbd3de6b emoji_status:EmojiStatus = Bool;\naccount.getRecentEmojiStatuses#f578105 hash:long = account.EmojiStatuses;\naccount.reorderUsernames#ef500eab order:Vector<string> = Bool;\naccount.toggleUsername#58d6b376 username:string active:Bool = Bool;\naccount.resolveBusinessChatLink#5492e5ee slug:string = account.ResolvedBusinessChatLinks;\naccount.toggleSponsoredMessages#b9d9a38d enabled:Bool = Bool;\naccount.getCollectibleEmojiStatuses#2e7b4543 hash:long = account.EmojiStatuses;\naccount.getPaidMessagesRevenue#19ba4a67 flags:# parent_peer:flags.0?InputPeer user_id:InputUser = account.PaidMessagesRevenue;\naccount.toggleNoPaidMessagesException#fe2eda76 flags:# refund_charged:flags.0?true require_payment:flags.2?true parent_peer:flags.1?InputPeer user_id:InputUser = Bool;\nusers.getUsers#d91a548 id:Vector<InputUser> = Vector<User>;\nusers.getFullUser#b60f5918 id:InputUser = users.UserFull;\ncontacts.getContacts#5dd69e12 hash:long = contacts.Contacts;\ncontacts.importContacts#2c800be5 contacts:Vector<InputContact> = contacts.ImportedContacts;\ncontacts.deleteContacts#96a0e00 id:Vector<InputUser> = Updates;\ncontacts.block#2e2e8734 flags:# my_stories_from:flags.0?true id:InputPeer = Bool;\ncontacts.unblock#b550d328 flags:# my_stories_from:flags.0?true id:InputPeer = Bool;\ncontacts.getBlocked#9a868f80 flags:# my_stories_from:flags.0?true offset:int limit:int = contacts.Blocked;\ncontacts.search#11f812d8 q:string limit:int = contacts.Found;\ncontacts.resolveUsername#725afbbc flags:# username:string referer:flags.0?string = contacts.ResolvedPeer;\ncontacts.getTopPeers#973478b6 flags:# correspondents:flags.0?true bots_pm:flags.1?true bots_inline:flags.2?true phone_calls:flags.3?true forward_users:flags.4?true forward_chats:flags.5?true groups:flags.10?true channels:flags.15?true bots_app:flags.16?true offset:int limit:int hash:long = contacts.TopPeers;\ncontacts.addContact#e8f463d0 flags:# add_phone_privacy_exception:flags.0?true id:InputUser first_name:string last_name:string phone:string = Updates;\ncontacts.resolvePhone#8af94344 phone:string = contacts.ResolvedPeer;\ncontacts.editCloseFriends#ba6705f0 id:Vector<long> = Bool;\ncontacts.getSponsoredPeers#b6c8c393 q:string = contacts.SponsoredPeers;\nmessages.getMessages#63c66506 id:Vector<InputMessage> = messages.Messages;\nmessages.getDialogs#a0f4cb4f flags:# exclude_pinned:flags.0?true folder_id:flags.1?int offset_date:int offset_id:int offset_peer:InputPeer limit:int hash:long = messages.Dialogs;\nmessages.getHistory#4423e6c5 peer:InputPeer offset_id:int offset_date:int add_offset:int limit:int max_id:int min_id:int hash:long = messages.Messages;\nmessages.search#29ee847a flags:# peer:InputPeer q:string from_id:flags.0?InputPeer saved_peer_id:flags.2?InputPeer saved_reaction:flags.3?Vector<Reaction> top_msg_id:flags.1?int filter:MessagesFilter min_date:int max_date:int offset_id:int add_offset:int limit:int max_id:int min_id:int hash:long = messages.Messages;\nmessages.readHistory#e306d3a peer:InputPeer max_id:int = messages.AffectedMessages;\nmessages.deleteHistory#b08f922a flags:# just_clear:flags.0?true revoke:flags.1?true peer:InputPeer max_id:int min_date:flags.2?int max_date:flags.3?int = messages.AffectedHistory;\nmessages.deleteMessages#e58e95d2 flags:# revoke:flags.0?true id:Vector<int> = messages.AffectedMessages;\nmessages.receivedMessages#5a954c0 max_id:int = Vector<ReceivedNotifyMessage>;\nmessages.setTyping#58943ee2 flags:# peer:InputPeer top_msg_id:flags.0?int action:SendMessageAction = Bool;\nmessages.sendMessage#fe05dc9a flags:# no_webpage:flags.1?true silent:flags.5?true background:flags.6?true clear_draft:flags.7?true noforwards:flags.14?true update_stickersets_order:flags.15?true invert_media:flags.16?true allow_paid_floodskip:flags.19?true peer:InputPeer reply_to:flags.0?InputReplyTo message:string random_id:long reply_markup:flags.2?ReplyMarkup entities:flags.3?Vector<MessageEntity> schedule_date:flags.10?int send_as:flags.13?InputPeer quick_reply_shortcut:flags.17?InputQuickReplyShortcut effect:flags.18?long allow_paid_stars:flags.21?long suggested_post:flags.22?SuggestedPost = Updates;\nmessages.sendMedia#ac55d9c1 flags:# silent:flags.5?true background:flags.6?true clear_draft:flags.7?true noforwards:flags.14?true update_stickersets_order:flags.15?true invert_media:flags.16?true allow_paid_floodskip:flags.19?true peer:InputPeer reply_to:flags.0?InputReplyTo media:InputMedia message:string random_id:long reply_markup:flags.2?ReplyMarkup entities:flags.3?Vector<MessageEntity> schedule_date:flags.10?int send_as:flags.13?InputPeer quick_reply_shortcut:flags.17?InputQuickReplyShortcut effect:flags.18?long allow_paid_stars:flags.21?long suggested_post:flags.22?SuggestedPost = Updates;\nmessages.forwardMessages#978928ca flags:# silent:flags.5?true background:flags.6?true with_my_score:flags.8?true drop_author:flags.11?true drop_media_captions:flags.12?true noforwards:flags.14?true allow_paid_floodskip:flags.19?true from_peer:InputPeer id:Vector<int> random_id:Vector<long> to_peer:InputPeer top_msg_id:flags.9?int reply_to:flags.22?InputReplyTo schedule_date:flags.10?int send_as:flags.13?InputPeer quick_reply_shortcut:flags.17?InputQuickReplyShortcut video_timestamp:flags.20?int allow_paid_stars:flags.21?long suggested_post:flags.23?SuggestedPost = Updates;\nmessages.reportSpam#cf1592db peer:InputPeer = Bool;\nmessages.getPeerSettings#efd9a6a2 peer:InputPeer = messages.PeerSettings;\nmessages.report#fc78af9b peer:InputPeer id:Vector<int> option:bytes message:string = ReportResult;\nmessages.getChats#49e9528f id:Vector<long> = messages.Chats;\nmessages.getFullChat#aeb00b34 chat_id:long = messages.ChatFull;\nmessages.editChatTitle#73783ffd chat_id:long title:string = Updates;\nmessages.editChatPhoto#35ddd674 chat_id:long photo:InputChatPhoto = Updates;\nmessages.addChatUser#cbc6d107 chat_id:long user_id:InputUser fwd_limit:int = messages.InvitedUsers;\nmessages.deleteChatUser#a2185cab flags:# revoke_history:flags.0?true chat_id:long user_id:InputUser = Updates;\nmessages.createChat#92ceddd4 flags:# users:Vector<InputUser> title:string ttl_period:flags.0?int = messages.InvitedUsers;\nmessages.getDhConfig#26cf8950 version:int random_length:int = messages.DhConfig;\nmessages.readMessageContents#36a73f77 id:Vector<int> = messages.AffectedMessages;\nmessages.getStickers#d5a5d3a1 emoticon:string hash:long = messages.Stickers;\nmessages.getAllStickers#b8a0a1a8 hash:long = messages.AllStickers;\nmessages.getWebPagePreview#570d6f6f flags:# message:string entities:flags.3?Vector<MessageEntity> = messages.WebPagePreview;\nmessages.exportChatInvite#a455de90 flags:# legacy_revoke_permanent:flags.2?true request_needed:flags.3?true peer:InputPeer expire_date:flags.0?int usage_limit:flags.1?int title:flags.4?string subscription_pricing:flags.5?StarsSubscriptionPricing = ExportedChatInvite;\nmessages.checkChatInvite#3eadb1bb hash:string = ChatInvite;\nmessages.importChatInvite#6c50051c hash:string = Updates;\nmessages.getStickerSet#c8a0ec74 stickerset:InputStickerSet hash:int = messages.StickerSet;\nmessages.installStickerSet#c78fe460 stickerset:InputStickerSet archived:Bool = messages.StickerSetInstallResult;\nmessages.uninstallStickerSet#f96e55de stickerset:InputStickerSet = Bool;\nmessages.startBot#e6df7378 bot:InputUser peer:InputPeer random_id:long start_param:string = Updates;\nmessages.getMessagesViews#5784d3e1 peer:InputPeer id:Vector<int> increment:Bool = messages.MessageViews;\nmessages.migrateChat#a2875319 chat_id:long = Updates;\nmessages.searchGlobal#4bc6589a flags:# broadcasts_only:flags.1?true groups_only:flags.2?true users_only:flags.3?true folder_id:flags.0?int q:string filter:MessagesFilter min_date:int max_date:int offset_rate:int offset_peer:InputPeer offset_id:int limit:int = messages.Messages;\nmessages.getDocumentByHash#b1f2061f sha256:bytes size:long mime_type:string = Document;\nmessages.getSavedGifs#5cf09635 hash:long = messages.SavedGifs;\nmessages.saveGif#327a30cb id:InputDocument unsave:Bool = Bool;\nmessages.getInlineBotResults#514e999d flags:# bot:InputUser peer:InputPeer geo_point:flags.0?InputGeoPoint query:string offset:string = messages.BotResults;\nmessages.sendInlineBotResult#c0cf7646 flags:# silent:flags.5?true background:flags.6?true clear_draft:flags.7?true hide_via:flags.11?true peer:InputPeer reply_to:flags.0?InputReplyTo random_id:long query_id:long id:string schedule_date:flags.10?int send_as:flags.13?InputPeer quick_reply_shortcut:flags.17?InputQuickReplyShortcut allow_paid_stars:flags.21?long = Updates;\nmessages.editMessage#dfd14005 flags:# no_webpage:flags.1?true invert_media:flags.16?true peer:InputPeer id:int message:flags.11?string media:flags.14?InputMedia reply_markup:flags.2?ReplyMarkup entities:flags.3?Vector<MessageEntity> schedule_date:flags.15?int quick_reply_shortcut_id:flags.17?int = Updates;\nmessages.getBotCallbackAnswer#9342ca07 flags:# game:flags.1?true peer:InputPeer msg_id:int data:flags.0?bytes password:flags.2?InputCheckPasswordSRP = messages.BotCallbackAnswer;\nmessages.getPeerDialogs#e470bcfd peers:Vector<InputDialogPeer> = messages.PeerDialogs;\nmessages.saveDraft#54ae308e flags:# no_webpage:flags.1?true invert_media:flags.6?true reply_to:flags.4?InputReplyTo peer:InputPeer message:string entities:flags.3?Vector<MessageEntity> media:flags.5?InputMedia effect:flags.7?long suggested_post:flags.8?SuggestedPost = Bool;\nmessages.getFeaturedStickers#64780b14 hash:long = messages.FeaturedStickers;\nmessages.readFeaturedStickers#5b118126 id:Vector<long> = Bool;\nmessages.getRecentStickers#9da9403b flags:# attached:flags.0?true hash:long = messages.RecentStickers;\nmessages.saveRecentSticker#392718f8 flags:# attached:flags.0?true id:InputDocument unsave:Bool = Bool;\nmessages.clearRecentStickers#8999602d flags:# attached:flags.0?true = Bool;\nmessages.getCommonChats#e40ca104 user_id:InputUser max_id:long limit:int = messages.Chats;\nmessages.getWebPage#8d9692a3 url:string hash:int = messages.WebPage;\nmessages.toggleDialogPin#a731e257 flags:# pinned:flags.0?true peer:InputDialogPeer = Bool;\nmessages.getPinnedDialogs#d6b94df2 folder_id:int = messages.PeerDialogs;\nmessages.uploadMedia#14967978 flags:# business_connection_id:flags.0?string peer:InputPeer media:InputMedia = MessageMedia;\nmessages.getFavedStickers#4f1aaa9 hash:long = messages.FavedStickers;\nmessages.faveSticker#b9ffc55b id:InputDocument unfave:Bool = Bool;\nmessages.getUnreadMentions#f107e790 flags:# peer:InputPeer top_msg_id:flags.0?int offset_id:int add_offset:int limit:int max_id:int min_id:int = messages.Messages;\nmessages.readMentions#36e5bf4d flags:# peer:InputPeer top_msg_id:flags.0?int = messages.AffectedHistory;\nmessages.sendMultiMedia#1bf89d74 flags:# silent:flags.5?true background:flags.6?true clear_draft:flags.7?true noforwards:flags.14?true update_stickersets_order:flags.15?true invert_media:flags.16?true allow_paid_floodskip:flags.19?true peer:InputPeer reply_to:flags.0?InputReplyTo multi_media:Vector<InputSingleMedia> schedule_date:flags.10?int send_as:flags.13?InputPeer quick_reply_shortcut:flags.17?InputQuickReplyShortcut effect:flags.18?long allow_paid_stars:flags.21?long = Updates;\nmessages.searchStickerSets#35705b8a flags:# exclude_featured:flags.0?true q:string hash:long = messages.FoundStickerSets;\nmessages.markDialogUnread#8c5006f8 flags:# unread:flags.0?true parent_peer:flags.1?InputPeer peer:InputDialogPeer = Bool;\nmessages.updatePinnedMessage#d2aaf7ec flags:# silent:flags.0?true unpin:flags.1?true pm_oneside:flags.2?true peer:InputPeer id:int = Updates;\nmessages.sendVote#10ea6184 peer:InputPeer msg_id:int options:Vector<bytes> = Updates;\nmessages.getOnlines#6e2be050 peer:InputPeer = ChatOnlines;\nmessages.editChatAbout#def60797 peer:InputPeer about:string = Bool;\nmessages.editChatDefaultBannedRights#a5866b41 peer:InputPeer banned_rights:ChatBannedRights = Updates;\nmessages.getEmojiKeywordsDifference#1508b6af lang_code:string from_version:int = EmojiKeywordsDifference;\nmessages.requestUrlAuth#198fb446 flags:# peer:flags.1?InputPeer msg_id:flags.1?int button_id:flags.1?int url:flags.2?string = UrlAuthResult;\nmessages.acceptUrlAuth#b12c7125 flags:# write_allowed:flags.0?true peer:flags.1?InputPeer msg_id:flags.1?int button_id:flags.1?int url:flags.2?string = UrlAuthResult;\nmessages.hidePeerSettingsBar#4facb138 peer:InputPeer = Bool;\nmessages.getScheduledHistory#f516760b peer:InputPeer hash:long = messages.Messages;\nmessages.sendScheduledMessages#bd38850a peer:InputPeer id:Vector<int> = Updates;\nmessages.deleteScheduledMessages#59ae2b16 peer:InputPeer id:Vector<int> = Updates;\nmessages.getPollVotes#b86e380e flags:# peer:InputPeer id:int option:flags.0?bytes offset:flags.1?string limit:int = messages.VotesList;\nmessages.getDialogFilters#efd48c89 = messages.DialogFilters;\nmessages.getSuggestedDialogFilters#a29cd42c = Vector<DialogFilterSuggested>;\nmessages.updateDialogFilter#1ad4a04a flags:# id:int filter:flags.0?DialogFilter = Bool;\nmessages.updateDialogFiltersOrder#c563c1e4 order:Vector<int> = Bool;\nmessages.getReplies#22ddd30c peer:InputPeer msg_id:int offset_id:int offset_date:int add_offset:int limit:int max_id:int min_id:int hash:long = messages.Messages;\nmessages.getDiscussionMessage#446972fd peer:InputPeer msg_id:int = messages.DiscussionMessage;\nmessages.readDiscussion#f731a9f4 peer:InputPeer msg_id:int read_max_id:int = Bool;\nmessages.unpinAllMessages#62dd747 flags:# peer:InputPeer top_msg_id:flags.0?int saved_peer_id:flags.1?InputPeer = messages.AffectedHistory;\nmessages.deleteChat#5bd0ee50 chat_id:long = Bool;\nmessages.getExportedChatInvites#a2b5a3f6 flags:# revoked:flags.3?true peer:InputPeer admin_id:InputUser offset_date:flags.2?int offset_link:flags.2?string limit:int = messages.ExportedChatInvites;\nmessages.editExportedChatInvite#bdca2f75 flags:# revoked:flags.2?true peer:InputPeer link:string expire_date:flags.0?int usage_limit:flags.1?int request_needed:flags.3?Bool title:flags.4?string = messages.ExportedChatInvite;\nmessages.deleteRevokedExportedChatInvites#56987bd5 peer:InputPeer admin_id:InputUser = Bool;\nmessages.deleteExportedChatInvite#d464a42b peer:InputPeer link:string = Bool;\nmessages.getChatInviteImporters#df04dd4e flags:# requested:flags.0?true subscription_expired:flags.3?true peer:InputPeer link:flags.1?string q:flags.2?string offset_date:int offset_user:InputUser limit:int = messages.ChatInviteImporters;\nmessages.getMessageReadParticipants#31c1c44f peer:InputPeer msg_id:int = Vector<ReadParticipantDate>;\nmessages.hideChatJoinRequest#7fe7e815 flags:# approved:flags.0?true peer:InputPeer user_id:InputUser = Updates;\nmessages.hideAllChatJoinRequests#e085f4ea flags:# approved:flags.0?true peer:InputPeer link:flags.1?string = Updates;\nmessages.toggleNoForwards#b11eafa2 peer:InputPeer enabled:Bool = Updates;\nmessages.saveDefaultSendAs#ccfddf96 peer:InputPeer send_as:InputPeer = Bool;\nmessages.sendReaction#d30d78d4 flags:# big:flags.1?true add_to_recent:flags.2?true peer:InputPeer msg_id:int reaction:flags.0?Vector<Reaction> = Updates;\nmessages.getMessagesReactions#8bba90e6 peer:InputPeer id:Vector<int> = Updates;\nmessages.getMessageReactionsList#461b3f48 flags:# peer:InputPeer id:int reaction:flags.0?Reaction offset:flags.1?string limit:int = messages.MessageReactionsList;\nmessages.setChatAvailableReactions#864b2581 flags:# peer:InputPeer available_reactions:ChatReactions reactions_limit:flags.0?int paid_enabled:flags.1?Bool = Updates;\nmessages.getAvailableReactions#18dea0ac hash:int = messages.AvailableReactions;\nmessages.setDefaultReaction#4f47a016 reaction:Reaction = Bool;\nmessages.translateText#63183030 flags:# peer:flags.0?InputPeer id:flags.0?Vector<int> text:flags.1?Vector<TextWithEntities> to_lang:string = messages.TranslatedText;\nmessages.getUnreadReactions#bd7f90ac flags:# peer:InputPeer top_msg_id:flags.0?int saved_peer_id:flags.1?InputPeer offset_id:int add_offset:int limit:int max_id:int min_id:int = messages.Messages;\nmessages.readReactions#9ec44f93 flags:# peer:InputPeer top_msg_id:flags.0?int saved_peer_id:flags.1?InputPeer = messages.AffectedHistory;\nmessages.getAttachMenuBots#16fcc2cb hash:long = AttachMenuBots;\nmessages.getAttachMenuBot#77216192 bot:InputUser = AttachMenuBotsBot;\nmessages.toggleBotInAttachMenu#69f59d69 flags:# write_allowed:flags.0?true bot:InputUser enabled:Bool = Bool;\nmessages.requestWebView#269dc2c1 flags:# from_bot_menu:flags.4?true silent:flags.5?true compact:flags.7?true fullscreen:flags.8?true peer:InputPeer bot:InputUser url:flags.1?string start_param:flags.3?string theme_params:flags.2?DataJSON platform:string reply_to:flags.0?InputReplyTo send_as:flags.13?InputPeer = WebViewResult;\nmessages.prolongWebView#b0d81a83 flags:# silent:flags.5?true peer:InputPeer bot:InputUser query_id:long reply_to:flags.0?InputReplyTo send_as:flags.13?InputPeer = Bool;\nmessages.requestSimpleWebView#413a3e73 flags:# from_switch_webview:flags.1?true from_side_menu:flags.2?true compact:flags.7?true fullscreen:flags.8?true bot:InputUser url:flags.3?string start_param:flags.4?string theme_params:flags.0?DataJSON platform:string = WebViewResult;\nmessages.sendWebViewResultMessage#a4314f5 bot_query_id:string result:InputBotInlineResult = WebViewMessageSent;\nmessages.sendWebViewData#dc0242c8 bot:InputUser random_id:long button_text:string data:string = Updates;\nmessages.transcribeAudio#269e9a49 peer:InputPeer msg_id:int = messages.TranscribedAudio;\nmessages.getCustomEmojiDocuments#d9ab0f54 document_id:Vector<long> = Vector<Document>;\nmessages.getEmojiStickers#fbfca18f hash:long = messages.AllStickers;\nmessages.getFeaturedEmojiStickers#ecf6736 hash:long = messages.FeaturedStickers;\nmessages.getTopReactions#bb8125ba limit:int hash:long = messages.Reactions;\nmessages.getRecentReactions#39461db2 limit:int hash:long = messages.Reactions;\nmessages.clearRecentReactions#9dfeefb4 = Bool;\nmessages.getExtendedMedia#84f80814 peer:InputPeer id:Vector<int> = Updates;\nmessages.togglePeerTranslations#e47cb579 flags:# disabled:flags.0?true peer:InputPeer = Bool;\nmessages.getBotApp#34fdc5c3 app:InputBotApp hash:long = messages.BotApp;\nmessages.requestAppWebView#53618bce flags:# write_allowed:flags.0?true compact:flags.7?true fullscreen:flags.8?true peer:InputPeer app:InputBotApp start_param:flags.1?string theme_params:flags.2?DataJSON platform:string = WebViewResult;\nmessages.getSavedDialogs#1e91fc99 flags:# exclude_pinned:flags.0?true parent_peer:flags.1?InputPeer offset_date:int offset_id:int offset_peer:InputPeer limit:int hash:long = messages.SavedDialogs;\nmessages.getSavedHistory#998ab009 flags:# parent_peer:flags.0?InputPeer peer:InputPeer offset_id:int offset_date:int add_offset:int limit:int max_id:int min_id:int hash:long = messages.Messages;\nmessages.deleteSavedHistory#4dc5085f flags:# parent_peer:flags.0?InputPeer peer:InputPeer max_id:int min_date:flags.2?int max_date:flags.3?int = messages.AffectedHistory;\nmessages.getPinnedSavedDialogs#d63d94e0 = messages.SavedDialogs;\nmessages.toggleSavedDialogPin#ac81bbde flags:# pinned:flags.0?true peer:InputDialogPeer = Bool;\nmessages.getSavedReactionTags#3637e05b flags:# peer:flags.0?InputPeer hash:long = messages.SavedReactionTags;\nmessages.updateSavedReactionTag#60297dec flags:# reaction:Reaction title:flags.0?string = Bool;\nmessages.getDefaultTagReactions#bdf93428 hash:long = messages.Reactions;\nmessages.getOutboxReadDate#8c4bfe5d peer:InputPeer msg_id:int = OutboxReadDate;\nmessages.getQuickReplies#d483f2a8 hash:long = messages.QuickReplies;\nmessages.getQuickReplyMessages#94a495c3 flags:# shortcut_id:int id:flags.0?Vector<int> hash:long = messages.Messages;\nmessages.sendQuickReplyMessages#6c750de1 peer:InputPeer shortcut_id:int id:Vector<int> random_id:Vector<long> = Updates;\nmessages.getAvailableEffects#dea20a39 hash:int = messages.AvailableEffects;\nmessages.getFactCheck#b9cdc5ee peer:InputPeer msg_id:Vector<int> = Vector<FactCheck>;\nmessages.requestMainWebView#c9e01e7b flags:# compact:flags.7?true fullscreen:flags.8?true peer:InputPeer bot:InputUser start_param:flags.1?string theme_params:flags.0?DataJSON platform:string = WebViewResult;\nmessages.sendPaidReaction#58bbcb50 flags:# peer:InputPeer msg_id:int count:int random_id:long private:flags.0?PaidReactionPrivacy = Updates;\nmessages.getPaidReactionPrivacy#472455aa = Updates;\nmessages.viewSponsoredMessage#269e3643 random_id:bytes = Bool;\nmessages.clickSponsoredMessage#8235057e flags:# media:flags.0?true fullscreen:flags.1?true random_id:bytes = Bool;\nmessages.reportSponsoredMessage#12cbf0c4 random_id:bytes option:bytes = channels.SponsoredMessageReportResult;\nmessages.getSponsoredMessages#3d6ce850 flags:# peer:InputPeer msg_id:flags.0?int = messages.SponsoredMessages;\nmessages.getPreparedInlineMessage#857ebdb8 bot:InputUser id:string = messages.PreparedInlineMessage;\nmessages.reportMessagesDelivery#5a6d7395 flags:# push:flags.0?true peer:InputPeer id:Vector<int> = Bool;\nmessages.toggleTodoCompleted#d3e03124 peer:InputPeer msg_id:int completed:Vector<int> incompleted:Vector<int> = Updates;\nmessages.appendTodoList#21a61057 peer:InputPeer msg_id:int list:Vector<TodoItem> = Updates;\nmessages.toggleSuggestedPostApproval#8107455c flags:# reject:flags.1?true peer:InputPeer msg_id:int schedule_date:flags.0?int reject_comment:flags.2?string = Updates;\nupdates.getState#edd4882a = updates.State;\nupdates.getDifference#19c2f763 flags:# pts:int pts_limit:flags.1?int pts_total_limit:flags.0?int date:int qts:int qts_limit:flags.2?int = updates.Difference;\nupdates.getChannelDifference#3173d78 flags:# force:flags.0?true channel:InputChannel filter:ChannelMessagesFilter pts:int limit:int = updates.ChannelDifference;\nphotos.updateProfilePhoto#9e82039 flags:# fallback:flags.0?true bot:flags.1?InputUser id:InputPhoto = photos.Photo;\nphotos.uploadProfilePhoto#388a3b5 flags:# fallback:flags.3?true bot:flags.5?InputUser file:flags.0?InputFile video:flags.1?InputFile video_start_ts:flags.2?double video_emoji_markup:flags.4?VideoSize = photos.Photo;\nphotos.deletePhotos#87cf7f2f id:Vector<InputPhoto> = Vector<long>;\nphotos.getUserPhotos#91cd32a8 user_id:InputUser offset:int max_id:long limit:int = photos.Photos;\nphotos.uploadContactProfilePhoto#e14c4a71 flags:# suggest:flags.3?true save:flags.4?true user_id:InputUser file:flags.0?InputFile video:flags.1?InputFile video_start_ts:flags.2?double video_emoji_markup:flags.5?VideoSize = photos.Photo;\nupload.saveFilePart#b304a621 file_id:long file_part:int bytes:bytes = Bool;\nupload.getFile#be5335be flags:# precise:flags.0?true cdn_supported:flags.1?true location:InputFileLocation offset:long limit:int = upload.File;\nupload.saveBigFilePart#de7b673d file_id:long file_part:int file_total_parts:int bytes:bytes = Bool;\nupload.getWebFile#24e6818d location:InputWebFileLocation offset:int limit:int = upload.WebFile;\nhelp.getConfig#c4f9186b = Config;\nhelp.getNearestDc#1fb33026 = NearestDc;\nhelp.getSupport#9cdf08cd = help.Support;\nhelp.acceptTermsOfService#ee72f79a id:DataJSON = Bool;\nhelp.getAppConfig#61e3f854 hash:int = help.AppConfig;\nhelp.getCountriesList#735787a8 lang_code:string hash:int = help.CountriesList;\nhelp.getPremiumPromo#b81b93d4 = help.PremiumPromo;\nhelp.getPeerColors#da80f42f hash:int = help.PeerColors;\nhelp.getTimezonesList#49b30240 hash:int = help.TimezonesList;\nchannels.readHistory#cc104937 channel:InputChannel max_id:int = Bool;\nchannels.deleteMessages#84c1fd4e channel:InputChannel id:Vector<int> = messages.AffectedMessages;\nchannels.reportSpam#f44a8315 channel:InputChannel participant:InputPeer id:Vector<int> = Bool;\nchannels.getMessages#ad8c9a23 channel:InputChannel id:Vector<InputMessage> = messages.Messages;\nchannels.getParticipants#77ced9d0 channel:InputChannel filter:ChannelParticipantsFilter offset:int limit:int hash:long = channels.ChannelParticipants;\nchannels.getParticipant#a0ab6cc6 channel:InputChannel participant:InputPeer = channels.ChannelParticipant;\nchannels.getChannels#a7f6bbb id:Vector<InputChannel> = messages.Chats;\nchannels.getFullChannel#8736a09 channel:InputChannel = messages.ChatFull;\nchannels.createChannel#91006707 flags:# broadcast:flags.0?true megagroup:flags.1?true for_import:flags.3?true forum:flags.5?true title:string about:string geo_point:flags.2?InputGeoPoint address:flags.2?string ttl_period:flags.4?int = Updates;\nchannels.editAdmin#d33c8902 channel:InputChannel user_id:InputUser admin_rights:ChatAdminRights rank:string = Updates;\nchannels.editTitle#566decd0 channel:InputChannel title:string = Updates;\nchannels.editPhoto#f12e57c9 channel:InputChannel photo:InputChatPhoto = Updates;\nchannels.checkUsername#10e6bd2c channel:InputChannel username:string = Bool;\nchannels.updateUsername#3514b3de channel:InputChannel username:string = Bool;\nchannels.joinChannel#24b524c5 channel:InputChannel = Updates;\nchannels.leaveChannel#f836aa95 channel:InputChannel = Updates;\nchannels.inviteToChannel#c9e33d54 channel:InputChannel users:Vector<InputUser> = messages.InvitedUsers;\nchannels.deleteChannel#c0111fe3 channel:InputChannel = Updates;\nchannels.exportMessageLink#e63fadeb flags:# grouped:flags.0?true thread:flags.1?true channel:InputChannel id:int = ExportedMessageLink;\nchannels.toggleSignatures#418d549c flags:# signatures_enabled:flags.0?true profiles_enabled:flags.1?true channel:InputChannel = Updates;\nchannels.editBanned#96e6cd81 channel:InputChannel participant:InputPeer banned_rights:ChatBannedRights = Updates;\nchannels.readMessageContents#eab5dc38 channel:InputChannel id:Vector<int> = Bool;\nchannels.togglePreHistoryHidden#eabbb94c channel:InputChannel enabled:Bool = Updates;\nchannels.getGroupsForDiscussion#f5dad378 = messages.Chats;\nchannels.setDiscussionGroup#40582bb2 broadcast:InputChannel group:InputChannel = Bool;\nchannels.getSendAs#e785a43f flags:# for_paid_reactions:flags.0?true peer:InputPeer = channels.SendAsPeers;\nchannels.deleteParticipantHistory#367544db channel:InputChannel participant:InputPeer = messages.AffectedHistory;\nchannels.toggleJoinToSend#e4cb9580 channel:InputChannel enabled:Bool = Updates;\nchannels.toggleJoinRequest#4c2985b6 channel:InputChannel enabled:Bool = Updates;\nchannels.reorderUsernames#b45ced1d channel:InputChannel order:Vector<string> = Bool;\nchannels.toggleUsername#50f24105 channel:InputChannel username:string active:Bool = Bool;\nchannels.deactivateAllUsernames#a245dd3 channel:InputChannel = Bool;\nchannels.toggleForum#3ff75734 channel:InputChannel enabled:Bool tabs:Bool = Updates;\nchannels.createForumTopic#f40c0224 flags:# channel:InputChannel title:string icon_color:flags.0?int icon_emoji_id:flags.3?long random_id:long send_as:flags.2?InputPeer = Updates;\nchannels.getForumTopics#de560d1 flags:# channel:InputChannel q:flags.0?string offset_date:int offset_id:int offset_topic:int limit:int = messages.ForumTopics;\nchannels.getForumTopicsByID#b0831eb9 channel:InputChannel topics:Vector<int> = messages.ForumTopics;\nchannels.editForumTopic#f4dfa185 flags:# channel:InputChannel topic_id:int title:flags.0?string icon_emoji_id:flags.1?long closed:flags.2?Bool hidden:flags.3?Bool = Updates;\nchannels.updatePinnedForumTopic#6c2d9026 channel:InputChannel topic_id:int pinned:Bool = Updates;\nchannels.deleteTopicHistory#34435f2d channel:InputChannel top_msg_id:int = messages.AffectedHistory;\nchannels.toggleParticipantsHidden#6a6e7854 channel:InputChannel enabled:Bool = Updates;\nchannels.toggleViewForumAsMessages#9738bb15 channel:InputChannel enabled:Bool = Updates;\nchannels.getChannelRecommendations#25a71742 flags:# channel:flags.0?InputChannel = messages.Chats;\nchannels.searchPosts#f2c4f24d flags:# hashtag:flags.0?string query:flags.1?string offset_rate:int offset_peer:InputPeer offset_id:int limit:int allow_paid_stars:flags.2?long = messages.Messages;\nchannels.updatePaidMessagesPrice#4b12327b flags:# broadcast_messages_allowed:flags.0?true channel:InputChannel send_paid_messages_stars:long = Updates;\nchannels.toggleAutotranslation#167fc0a1 channel:InputChannel enabled:Bool = Updates;\nchannels.checkSearchPostsFlood#22567115 flags:# query:flags.0?string = SearchPostsFlood;\nbots.setBotInfo#10cf3123 flags:# bot:flags.2?InputUser lang_code:string name:flags.3?string about:flags.0?string description:flags.1?string = Bool;\nbots.canSendMessage#1359f4e6 bot:InputUser = Bool;\nbots.allowSendMessage#f132e3ef bot:InputUser = Updates;\nbots.invokeWebViewCustomMethod#87fc5e7 bot:InputUser custom_method:string params:DataJSON = DataJSON;\nbots.getPopularAppBots#c2510192 offset:string limit:int = bots.PopularAppBots;\nbots.getPreviewMedias#a2a5594d bot:InputUser = Vector<BotPreviewMedia>;\nbots.toggleUserEmojiStatusPermission#6de6392 bot:InputUser enabled:Bool = Bool;\nbots.checkDownloadFileParams#50077589 bot:InputUser file_name:string url:string = Bool;\nbots.getBotRecommendations#a1b70815 bot:InputUser = users.Users;\npayments.getPaymentForm#37148dbb flags:# invoice:InputInvoice theme_params:flags.0?DataJSON = payments.PaymentForm;\npayments.getPaymentReceipt#2478d1cc peer:InputPeer msg_id:int = payments.PaymentReceipt;\npayments.validateRequestedInfo#b6c8f12b flags:# save:flags.0?true invoice:InputInvoice info:PaymentRequestedInfo = payments.ValidatedRequestedInfo;\npayments.sendPaymentForm#2d03522f flags:# form_id:long invoice:InputInvoice requested_info_id:flags.0?string shipping_option_id:flags.1?string credentials:InputPaymentCredentials tip_amount:flags.2?long = payments.PaymentResult;\npayments.getSavedInfo#227d824b = payments.SavedInfo;\npayments.getPremiumGiftCodeOptions#2757ba54 flags:# boost_peer:flags.0?InputPeer = Vector<PremiumGiftCodeOption>;\npayments.checkGiftCode#8e51b4c1 slug:string = payments.CheckedGiftCode;\npayments.applyGiftCode#f6e26854 slug:string = Updates;\npayments.getGiveawayInfo#f4239425 peer:InputPeer msg_id:int = payments.GiveawayInfo;\npayments.launchPrepaidGiveaway#5ff58f20 peer:InputPeer giveaway_id:long purpose:InputStorePaymentPurpose = Updates;\npayments.getStarsTopupOptions#c00ec7d3 = Vector<StarsTopupOption>;\npayments.getStarsStatus#4ea9b3bf flags:# ton:flags.0?true peer:InputPeer = payments.StarsStatus;\npayments.getStarsTransactions#69da4557 flags:# inbound:flags.0?true outbound:flags.1?true ascending:flags.2?true ton:flags.4?true subscription_id:flags.3?string peer:InputPeer offset:string limit:int = payments.StarsStatus;\npayments.sendStarsForm#7998c914 form_id:long invoice:InputInvoice = payments.PaymentResult;\npayments.refundStarsCharge#25ae8f4a user_id:InputUser charge_id:string = Updates;\npayments.getStarsTransactionsByID#2dca16b8 flags:# ton:flags.0?true peer:InputPeer id:Vector<InputStarsTransaction> = payments.StarsStatus;\npayments.getStarsGiftOptions#d3c96bc8 flags:# user_id:flags.0?InputUser = Vector<StarsGiftOption>;\npayments.getStarsSubscriptions#32512c5 flags:# missing_balance:flags.0?true peer:InputPeer offset:string = payments.StarsStatus;\npayments.changeStarsSubscription#c7770878 flags:# peer:InputPeer subscription_id:string canceled:flags.0?Bool = Bool;\npayments.fulfillStarsSubscription#cc5bebb3 peer:InputPeer subscription_id:string = Bool;\npayments.getStarsGiveawayOptions#bd1efd3e = Vector<StarsGiveawayOption>;\npayments.getStarGifts#c4563590 hash:int = payments.StarGifts;\npayments.saveStarGift#2a2a697c flags:# unsave:flags.0?true stargift:InputSavedStarGift = Bool;\npayments.convertStarGift#74bf076b stargift:InputSavedStarGift = Bool;\npayments.getStarGiftUpgradePreview#9c9abcb1 gift_id:long = payments.StarGiftUpgradePreview;\npayments.upgradeStarGift#aed6e4f5 flags:# keep_original_details:flags.0?true stargift:InputSavedStarGift = Updates;\npayments.transferStarGift#7f18176a stargift:InputSavedStarGift to_id:InputPeer = Updates;\npayments.getUniqueStarGift#a1974d72 slug:string = payments.UniqueStarGift;\npayments.getSavedStarGifts#a319e569 flags:# exclude_unsaved:flags.0?true exclude_saved:flags.1?true exclude_unlimited:flags.2?true exclude_limited:flags.3?true exclude_unique:flags.4?true sort_by_value:flags.5?true peer:InputPeer collection_id:flags.6?int offset:string limit:int = payments.SavedStarGifts;\npayments.getStarGiftWithdrawalUrl#d06e93a8 stargift:InputSavedStarGift password:InputCheckPasswordSRP = payments.StarGiftWithdrawalUrl;\npayments.toggleStarGiftsPinnedToTop#1513e7b0 peer:InputPeer stargift:Vector<InputSavedStarGift> = Bool;\npayments.getResaleStarGifts#7a5fa236 flags:# sort_by_price:flags.1?true sort_by_num:flags.2?true attributes_hash:flags.0?long gift_id:long attributes:flags.3?Vector<StarGiftAttributeId> offset:string limit:int = payments.ResaleStarGifts;\npayments.updateStarGiftPrice#edbe6ccb stargift:InputSavedStarGift resell_amount:StarsAmount = Updates;\nphone.requestCall#42ff96ed flags:# video:flags.0?true user_id:InputUser random_id:int g_a_hash:bytes protocol:PhoneCallProtocol = phone.PhoneCall;\nphone.acceptCall#3bd2b4a0 peer:InputPhoneCall g_b:bytes protocol:PhoneCallProtocol = phone.PhoneCall;\nphone.confirmCall#2efe1722 peer:InputPhoneCall g_a:bytes key_fingerprint:long protocol:PhoneCallProtocol = phone.PhoneCall;\nphone.receivedCall#17d54f61 peer:InputPhoneCall = Bool;\nphone.discardCall#b2cbc1c0 flags:# video:flags.0?true peer:InputPhoneCall duration:int reason:PhoneCallDiscardReason connection_id:long = Updates;\nphone.setCallRating#59ead627 flags:# user_initiative:flags.0?true peer:InputPhoneCall rating:int comment:string = Updates;\nphone.saveCallDebug#277add7e peer:InputPhoneCall debug:DataJSON = Bool;\nphone.sendSignalingData#ff7a9383 peer:InputPhoneCall data:bytes = Bool;\nphone.createGroupCall#48cdc6d8 flags:# rtmp_stream:flags.2?true peer:InputPeer random_id:int title:flags.0?string schedule_date:flags.1?int = Updates;\nphone.joinGroupCall#8fb53057 flags:# muted:flags.0?true video_stopped:flags.2?true call:InputGroupCall join_as:InputPeer invite_hash:flags.1?string public_key:flags.3?int256 block:flags.3?bytes params:DataJSON = Updates;\nphone.leaveGroupCall#500377f9 call:InputGroupCall source:int = Updates;\nphone.discardGroupCall#7a777135 call:InputGroupCall = Updates;\nphone.getGroupCall#41845db call:InputGroupCall limit:int = phone.GroupCall;\nphone.getGroupParticipants#c558d8ab call:InputGroupCall ids:Vector<InputPeer> sources:Vector<int> offset:string limit:int = phone.GroupParticipants;\nphone.editGroupCallParticipant#a5273abf flags:# call:InputGroupCall participant:InputPeer muted:flags.0?Bool volume:flags.1?int raise_hand:flags.2?Bool video_stopped:flags.3?Bool video_paused:flags.4?Bool presentation_paused:flags.5?Bool = Updates;\nphone.exportGroupCallInvite#e6aa647f flags:# can_self_unmute:flags.0?true call:InputGroupCall = phone.ExportedGroupCallInvite;\nphone.toggleGroupCallStartSubscription#219c34e6 call:InputGroupCall subscribed:Bool = Updates;\nphone.joinGroupCallPresentation#cbea6bc4 call:InputGroupCall params:DataJSON = Updates;\nphone.leaveGroupCallPresentation#1c50d144 call:InputGroupCall = Updates;\nlangpack.getLangPack#f2f2330a lang_pack:string lang_code:string = LangPackDifference;\nlangpack.getStrings#efea3803 lang_pack:string lang_code:string keys:Vector<string> = Vector<LangPackString>;\nlangpack.getDifference#cd984aa5 lang_pack:string lang_code:string from_version:int = LangPackDifference;\nlangpack.getLanguages#42c6978f lang_pack:string = Vector<LangPackLanguage>;\nlangpack.getLanguage#6a596502 lang_pack:string lang_code:string = LangPackLanguage;\nfolders.editPeerFolders#6847d0ab folder_peers:Vector<InputFolderPeer> = Updates;\nstats.getBroadcastStats#ab42441a flags:# dark:flags.0?true channel:InputChannel = stats.BroadcastStats;\nstats.loadAsyncGraph#621d5fa0 flags:# token:string x:flags.0?long = StatsGraph;\nstats.getMegagroupStats#dcdf8607 flags:# dark:flags.0?true channel:InputChannel = stats.MegagroupStats;\nstats.getMessagePublicForwards#5f150144 channel:InputChannel msg_id:int offset:string limit:int = stats.PublicForwards;\nstats.getMessageStats#b6e0a3f5 flags:# dark:flags.0?true channel:InputChannel msg_id:int = stats.MessageStats;\nstats.getStoryStats#374fef40 flags:# dark:flags.0?true peer:InputPeer id:int = stats.StoryStats;\nstats.getStoryPublicForwards#a6437ef6 peer:InputPeer id:int offset:string limit:int = stats.PublicForwards;\nchatlists.exportChatlistInvite#8472478e chatlist:InputChatlist title:string peers:Vector<InputPeer> = chatlists.ExportedChatlistInvite;\nchatlists.deleteExportedInvite#719c5c5e chatlist:InputChatlist slug:string = Bool;\nchatlists.editExportedInvite#653db63d flags:# chatlist:InputChatlist slug:string title:flags.1?string peers:flags.2?Vector<InputPeer> = ExportedChatlistInvite;\nchatlists.getExportedInvites#ce03da83 chatlist:InputChatlist = chatlists.ExportedInvites;\nchatlists.checkChatlistInvite#41c10fff slug:string = chatlists.ChatlistInvite;\nchatlists.joinChatlistInvite#a6b1e39a slug:string peers:Vector<InputPeer> = Updates;\nchatlists.getLeaveChatlistSuggestions#fdbcd714 chatlist:InputChatlist = Vector<Peer>;\nchatlists.leaveChatlist#74fae13a chatlist:InputChatlist peers:Vector<InputPeer> = Updates;\nstories.editStory#b583ba46 flags:# peer:InputPeer id:int media:flags.0?InputMedia media_areas:flags.3?Vector<MediaArea> caption:flags.1?string entities:flags.1?Vector<MessageEntity> privacy_rules:flags.2?Vector<InputPrivacyRule> = Updates;\nstories.deleteStories#ae59db5f peer:InputPeer id:Vector<int> = Vector<int>;\nstories.togglePinned#9a75a1ef peer:InputPeer id:Vector<int> pinned:Bool = Vector<int>;\nstories.getAllStories#eeb0d625 flags:# next:flags.1?true hidden:flags.2?true state:flags.0?string = stories.AllStories;\nstories.getPinnedStories#5821a5dc peer:InputPeer offset_id:int limit:int = stories.Stories;\nstories.getStoriesArchive#b4352016 peer:InputPeer offset_id:int limit:int = stories.Stories;\nstories.getStoriesByID#5774ca74 peer:InputPeer id:Vector<int> = stories.Stories;\nstories.readStories#a556dac8 peer:InputPeer max_id:int = Vector<int>;\nstories.incrementStoryViews#b2028afb peer:InputPeer id:Vector<int> = Bool;\nstories.getStoryViewsList#7ed23c57 flags:# just_contacts:flags.0?true reactions_first:flags.2?true forwards_first:flags.3?true peer:InputPeer q:flags.1?string id:int offset:string limit:int = stories.StoryViewsList;\nstories.getStoriesViews#28e16cc8 peer:InputPeer id:Vector<int> = stories.StoryViews;\nstories.exportStoryLink#7b8def20 peer:InputPeer id:int = ExportedStoryLink;\nstories.report#19d8eb45 peer:InputPeer id:Vector<int> option:bytes message:string = ReportResult;\nstories.activateStealthMode#57bbd166 flags:# past:flags.0?true future:flags.1?true = Updates;\nstories.sendReaction#7fd736b2 flags:# add_to_recent:flags.0?true peer:InputPeer story_id:int reaction:Reaction = Updates;\nstories.getPeerStories#2c4ada50 peer:InputPeer = stories.PeerStories;\nstories.getPeerMaxIDs#535983c3 id:Vector<InputPeer> = Vector<int>;\nstories.togglePeerStoriesHidden#bd0415c4 peer:InputPeer hidden:Bool = Bool;\nstories.togglePinnedToTop#b297e9b peer:InputPeer id:Vector<int> = Bool;\npremium.getBoostsList#60f67660 flags:# gifts:flags.0?true peer:InputPeer offset:string limit:int = premium.BoostsList;\npremium.getMyBoosts#be77b4a = premium.MyBoosts;\npremium.applyBoost#6b7da746 flags:# slots:flags.0?Vector<int> peer:InputPeer = premium.MyBoosts;\npremium.getBoostsStatus#42f1f61 peer:InputPeer = premium.BoostsStatus;\nfragment.getCollectibleInfo#be1e85ba collectible:InputCollectible = fragment.CollectibleInfo;"),[n,r]=ie("resPQ#05162463 nonce:int128 server_nonce:int128 pq:string server_public_key_fingerprints:Vector<long> = ResPQ;\np_q_inner_data#83c95aec pq:string p:string q:string nonce:int128 server_nonce:int128 new_nonce:int256 = P_Q_inner_data;\np_q_inner_data_dc#a9f55f95 pq:string p:string q:string nonce:int128 server_nonce:int128 new_nonce:int256 dc:int = P_Q_inner_data;\np_q_inner_data_temp#3c6a84d4 pq:string p:string q:string nonce:int128 server_nonce:int128 new_nonce:int256 expires_in:int = P_Q_inner_data;\np_q_inner_data_temp_dc#56fddf88 pq:string p:string q:string nonce:int128 server_nonce:int128 new_nonce:int256 dc:int expires_in:int = P_Q_inner_data;\nserver_DH_params_fail#79cb045d nonce:int128 server_nonce:int128 new_nonce_hash:int128 = Server_DH_Params;\nserver_DH_params_ok#d0e8075c nonce:int128 server_nonce:int128 encrypted_answer:string = Server_DH_Params;\nserver_DH_inner_data#b5890dba nonce:int128 server_nonce:int128 g:int dh_prime:string g_a:string server_time:int = Server_DH_inner_data;\nclient_DH_inner_data#6643b654 nonce:int128 server_nonce:int128 retry_id:long g_b:string = Client_DH_Inner_Data;\ndh_gen_ok#3bcbf734 nonce:int128 server_nonce:int128 new_nonce_hash1:int128 = Set_client_DH_params_answer;\ndh_gen_retry#46dc1fb9 nonce:int128 server_nonce:int128 new_nonce_hash2:int128 = Set_client_DH_params_answer;\ndh_gen_fail#a69dae02 nonce:int128 server_nonce:int128 new_nonce_hash3:int128 = Set_client_DH_params_answer;\ndestroy_auth_key_ok#f660e1d4 = DestroyAuthKeyRes;\ndestroy_auth_key_none#0a9f2259 = DestroyAuthKeyRes;\ndestroy_auth_key_fail#ea109b13 = DestroyAuthKeyRes;\n---functions---\nreq_pq#60469778 nonce:int128 = ResPQ;\nreq_pq_multi#be7e8ef1 nonce:int128 = ResPQ;\nreq_pq_multi_new#51b410fd nonce:int128 = ResPQ;\nreq_DH_params#d712e4be nonce:int128 server_nonce:int128 p:string q:string public_key_fingerprint:long encrypted_data:string = Server_DH_Params;\nset_client_DH_params#f5045f1f nonce:int128 server_nonce:int128 encrypted_data:string = Set_client_DH_params_answer;\ndestroy_auth_key#d1435160 = DestroyAuthKeyRes;\n---types---\nmsgs_ack#62d6b459 msg_ids:Vector<long> = MsgsAck;\nbad_msg_notification#a7eff811 bad_msg_id:long bad_msg_seqno:int error_code:int = BadMsgNotification;\nbad_server_salt#edab447b bad_msg_id:long bad_msg_seqno:int error_code:int new_server_salt:long = BadMsgNotification;\nmsgs_state_req#da69fb52 msg_ids:Vector<long> = MsgsStateReq;\nmsgs_state_info#04deb57d req_msg_id:long info:string = MsgsStateInfo;\nmsgs_all_info#8cc0d131 msg_ids:Vector<long> info:string = MsgsAllInfo;\nmsg_detailed_info#276d3ec6 msg_id:long answer_msg_id:long bytes:int status:int = MsgDetailedInfo;\nmsg_new_detailed_info#809db6df answer_msg_id:long bytes:int status:int = MsgDetailedInfo;\nmsg_resend_req#7d861a08 msg_ids:Vector<long> = MsgResendReq;\nrpc_error#2144ca19 error_code:int error_message:string = RpcError;\nrpc_answer_unknown#5e2ad36e = RpcDropAnswer;\nrpc_answer_dropped_running#cd78e586 = RpcDropAnswer;\nrpc_answer_dropped#a43ad8b7 msg_id:long seq_no:int bytes:int = RpcDropAnswer;\nfuture_salt#0949d9dc valid_since:int valid_until:int salt:long = FutureSalt;\nfuture_salts#ae500895 req_msg_id:long now:int salts:vector<FutureSalt> = FutureSalts;\npong#347773c5 msg_id:long ping_id:long = Pong;\ndestroy_session_ok#e22045fc session_id:long = DestroySessionRes;\ndestroy_session_none#62d350c9 session_id:long = DestroySessionRes;\nnew_session_created#9ec20908 first_msg_id:long unique_id:long server_salt:long = NewSession;\nhttp_wait#9299359f max_delay:int wait_after:int max_wait:int = HttpWait;\nipPort#d433ad73 ipv4:int port:int = IpPort;\nipPortSecret#37982646 ipv4:int port:int secret:bytes = IpPort;\naccessPointRule#4679b65f phone_prefix_rules:string dc_id:int ips:vector<IpPort> = AccessPointRule;\nhelp.configSimple#5a592a6c date:int expires:int rules:vector<AccessPointRule> = help.ConfigSimple;\ntlsClientHello blocks:vector<TlsBlock> = TlsClientHello;\ntlsBlockString data:string = TlsBlock;\ntlsBlockRandom length:int = TlsBlock;\ntlsBlockZero length:int = TlsBlock;\ntlsBlockDomain = TlsBlock;\ntlsBlockGrease seed:int = TlsBlock;\ntlsBlockScope entries:Vector<TlsBlock> = TlsBlock;\n---functions---\nping#7abe77ec ping_id:long = Pong;\nping_delay_disconnect#f3427b8c ping_id:long disconnect_delay:int = Pong;");return{constructors:[].concat(e,n),requests:[].concat(t,r)}}(),re&&localStorage.setItem(oe,JSON.stringify(e))),function(e,t){const n={...e};return Object.keys(t).forEach(e=>{"function"!=typeof t[e]&&n[e]?Object.assign(n[e],t[e]):n[e]=t[e]}),n}(ce("constructor",e.constructors),ce("request",e.requests))}();function ue(e,t,n){return(t=function(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class de extends Error{constructor(e,t,n){super("RPCError {0}: {1}{2}".replace("{0}",n?.toString()||"").replace("{1}",e).replace("{2}",de._fmtRequest(t))),ue(this,"code",void 0),ue(this,"errorMessage",void 0),this.code=n,this.errorMessage=e}static _fmtRequest(e){return e?` (caused by ${e.className})`:""}}class fe extends de{constructor(e,t,n){super(e,t,n),this.code=n||303,this.errorMessage=e||"ERROR_SEE_OTHER"}}class he extends de{constructor(...e){super(...e),ue(this,"code",400),ue(this,"errorMessage","BAD_REQUEST")}}class pe extends de{constructor(...e){super(...e),ue(this,"code",420),ue(this,"errorMessage","FLOOD")}}class ge extends de{constructor(...e){super(...e),ue(this,"code",500),ue(this,"errorMessage","INTERNAL")}}class me extends de{constructor(...e){super(...e),ue(this,"code",503),ue(this,"errorMessage","Timeout")}}function ye(e,t,n){return(t=function(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class be extends fe{constructor(e){const t=Number(e.capture||0);super(`The user whose identity is being used to execute queries is associated with DC ${t}${de._fmtRequest(e.request)}`,e.request),ye(this,"newDc",void 0),this.message=`The user whose identity is being used to execute queries is associated with DC ${t}${de._fmtRequest(e.request)}`,this.newDc=t}}class ve extends fe{constructor(e){const t=Number(e.capture||0);super(`The phone number a user is trying to use for authorization is associated with DC ${t}${de._fmtRequest(e.request)}`,e.request),ye(this,"newDc",void 0),this.message=`The phone number a user is trying to use for authorization is associated with DC ${t}${de._fmtRequest(e.request)}`,this.newDc=t}}class _e extends pe{constructor(e){const t=Number(e.capture||0);super(`A wait of ${t} seconds is required${de._fmtRequest(e.request)}`,e.request),ye(this,"seconds",void 0),this.message=`A wait of ${t} seconds is required${de._fmtRequest(e.request)}`,this.seconds=t}}class we extends _e{constructor(e){const t=Number(e.capture||0);super(`A wait of ${t} seconds is required${de._fmtRequest(e.request)}`),this.message=`A wait of ${t} seconds is required${de._fmtRequest(e.request)}`,this.seconds=t}}class Se extends pe{constructor(e){super(`Message failed to be sent.${de._fmtRequest(e.request)}`,e.request),this.message=`Message failed to be sent.${de._fmtRequest(e.request)}`}}class xe extends pe{constructor(e){const t=Number(e.capture||0);super(`A wait of ${t} seconds is required in the test servers${de._fmtRequest(e.request)}`,e.request),ye(this,"seconds",void 0),this.message=`A wait of ${t} seconds is required in the test servers${de._fmtRequest(e.request)}`,this.seconds=t}}class Ie extends fe{constructor(e){const t=Number(e.capture||0);super(`The source IP address is associated with DC ${t}${de._fmtRequest(e.request)}`,e.request),ye(this,"newDc",void 0),this.message=`The source IP address is associated with DC ${t}${de._fmtRequest(e.request)}`,this.newDc=t}}class Ae extends he{constructor(e){const t=Number(e.capture||0);super(`Email unconfirmed, the length of the code must be ${t}${de._fmtRequest(e.request)}`,e.request,400),ye(this,"codeLength",void 0),this.message=`Email unconfirmed, the length of the code must be ${t}${de._fmtRequest(e.request)}`,this.codeLength=t}}const Ce=new Map([[/FILE_MIGRATE_(\d+)/,class extends fe{constructor(e){const t=Number(e.capture||0);super(`The file to be accessed is currently stored in DC ${t}${de._fmtRequest(e.request)}`,e.request),ye(this,"newDc",void 0),this.message=`The file to be accessed is currently stored in DC ${t}${de._fmtRequest(e.request)}`,this.newDc=t}}],[/FLOOD_TEST_PHONE_WAIT_(\d+)/,xe],[/FLOOD_WAIT_(\d+)/,_e],[/FLOOD_PREMIUM_WAIT_(\d+)/,we],[/MSG_WAIT_(.*)/,Se],[/PHONE_MIGRATE_(\d+)/,ve],[/SLOWMODE_WAIT_(\d+)/,class extends pe{constructor(e){const t=Number(e.capture||0);super(`A wait of ${t} seconds is required before sending another message in this chat ${de._fmtRequest(e.request)}`,e.request),ye(this,"seconds",void 0),this.message=`A wait of ${t} seconds is required before sending another message in this chat${de._fmtRequest(e.request)}`,this.seconds=t}}],[/USER_MIGRATE_(\d+)/,be],[/NETWORK_MIGRATE_(\d+)/,Ie],[/EMAIL_UNCONFIRMED_(\d+)/,Ae],[/PASSWORD_TOO_FRESH_(\d+)/,class extends he{constructor(e){const t=Number(e.capture||0);super(`The password was modified less than 24 hours ago, try again in ${t} seconds.`,e.request),ye(this,"seconds",void 0),this.message=`The password was modified less than 24 hours ago, try again in ${t} seconds.`,this.seconds=t}}],[/^Timeout$/,me]]);function ke(e,t,n){return(t=function(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Error;class Ee extends Error{constructor(e,t){super(`Could not find a matching Constructor ID for the TLObject that was supposed to be\n        read with ID ${e}. Most likely, a TLObject was trying to be read when\n         it should not be read. Remaining bytes: ${t.length}`),ke(this,"invalidConstructorId",void 0),ke(this,"remaining",void 0),"undefined"!=typeof alert&&alert(`Missing MTProto Entity: Please, make sure to add TL definition for ID ${e}`),this.invalidConstructorId=e,this.remaining=t}}Error;class Te extends Error{constructor(e){let t;4===e.length?(t=-e.readInt32LE(0),super(`Invalid response buffer (HTTP code ${t})`),ke(this,"code",void 0),ke(this,"payload",void 0)):(super(`Invalid response buffer (too short ${e.toString()})`),ke(this,"code",void 0),ke(this,"payload",void 0)),this.code=t,this.payload=e}}class Pe extends Error{constructor(...e){e.length||(e=["A security check failed."]),super(...e)}}class Me extends Error{constructor(e,t){let n=Me.ErrorMessages[t]||`Unknown error code (this should not happen): ${t}.`;n+=`  Caused by ${e.className}`,super(n),ke(this,"code",void 0),ke(this,"errorMessage",void 0),this.errorMessage=n,this.code=t}}function Oe(e,t,n){return(t=function(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}ke(Me,"ErrorMessages",{16:"msg_id too low (most likely, client time is wrong it would be worthwhile to synchronize it using msg_id notifications and re-send the original message with the “correct” msg_id or wrap it in a container with a new msg_id if the original message had waited too long on the client to be transmitted).",17:"msg_id too high (similar to the previous case, the client time has to be synchronized, and the message re-sent with the correct msg_id).",18:"Incorrect two lower order msg_id bits (the server expects client message msg_id to be divisible by 4).",19:"Container msg_id is the same as msg_id of a previously received message (this must never happen).",20:"Message too old, and it cannot be verified whether the server has received a message with this msg_id or not.",32:"msg_seqno too low (the server has already received a message with a lower msg_id but with either a higher or an equal and odd seqno).",33:"msg_seqno too high (similarly, there is a message with a higher msg_id but with either a lower or an equal and odd seqno).",34:"An even msg_seqno expected (irrelevant message), but odd received.",35:"Odd msg_seqno expected (relevant message), but even received.",48:"Incorrect server salt (in this case, the bad_server_salt response is received with the correct salt, and the message is to be re-sent with it).",64:"Invalid container."});class De{constructor(){Oe(this,"_queue",void 0),Oe(this,"canGet",void 0),Oe(this,"resolveGet",void 0),Oe(this,"canPush",void 0),Oe(this,"resolvePush",void 0),this._queue=[],this.resolvePush=()=>{},this.resolveGet=()=>{},this.canGet=new Promise(e=>{this.resolveGet=e}),this.canPush=!0}async push(e){await this.canPush,this._queue.push(e),this.resolveGet(!0),this.canPush=new Promise(e=>{this.resolvePush=e})}async pop(){await this.canGet;const e=this._queue.pop();return this.resolvePush(!0),this.canGet=new Promise(e=>{this.resolveGet=e}),e}}var Re=n(87784),Ne=n(48287).hp;function Fe(e,t,n){return(t=function(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class Le{constructor(e){Fe(this,"data",void 0),Fe(this,"CONSTRUCTOR_ID",void 0),Fe(this,"classType",void 0),this.data=e,this.CONSTRUCTOR_ID=812830625,this.classType="constructor"}static async gzipIfSmaller(e,t){if(e&&t.length>512){const e=await new Le(t).toBytes();if(e.length<t.length)return e}return t}static gzip(e){return Ne.from(e)}static ungzip(e){return Ne.from((0,Re.inflate)(e))}async toBytes(){const e=Ne.alloc(4);return e.writeUInt32LE(Le.CONSTRUCTOR_ID,0),Ne.concat([e,ee(await Le.gzip(this.data))])}static read(e){if(e.readInt(!1)!==Le.CONSTRUCTOR_ID)throw new Error("not equal");return Le.gzip(e.tgReadBytes())}static async fromReader(e){const t=e.tgReadBytes();return new Le(await Le.ungzip(t))}}function Be(e,t,n){return(t=function(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Fe(Le,"CONSTRUCTOR_ID",812830625),Fe(Le,"classType","constructor");class $e{constructor(e,t,n){Be(this,"msgId",void 0),Be(this,"seqNo",void 0),Be(this,"obj",void 0),this.msgId=e,this.seqNo=t,this.obj=n}}function je(e,t,n){return(t=function(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Be($e,"SIZE_OVERHEAD",12),Be($e,"classType","constructor");class Ue{constructor(e){je(this,"CONSTRUCTOR_ID",void 0),je(this,"messages",void 0),je(this,"classType",void 0),this.CONSTRUCTOR_ID=1945237724,this.messages=e,this.classType="constructor"}static fromReader(e){const t=[],n=e.readInt();for(let r=0;r<n;r++){const n=e.readLong(),r=e.readInt(),o=e.readInt(),i=e.tellPosition(),s=e.tgReadObject();e.setPosition(i+o);const a=new $e(n,r,s);t.push(a)}return new Ue(t)}}function ze(e,t,n){return(t=function(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}je(Ue,"CONSTRUCTOR_ID",1945237724),je(Ue,"classType","constructor"),je(Ue,"MAXIMUM_SIZE",1044448),je(Ue,"MAXIMUM_LENGTH",100);class Ve{constructor(e,t,n){ze(this,"CONSTRUCTOR_ID",void 0),ze(this,"reqMsgId",void 0),ze(this,"body",void 0),ze(this,"error",void 0),ze(this,"classType",void 0),this.CONSTRUCTOR_ID=4082920705,this.reqMsgId=e,this.body=t,this.error=n,this.classType="constructor"}static async fromReader(e){const t=e.readLong(),n=e.readInt(!1);return n===le.RpcError.CONSTRUCTOR_ID?new Ve(t,void 0,le.RpcError.fromReader(e)):n===Le.CONSTRUCTOR_ID?new Ve(t,(await Le.fromReader(e)).data):(e.seek(-4),new Ve(t,e.read(),void 0))}}ze(Ve,"CONSTRUCTOR_ID",4082920705),ze(Ve,"classType","constructor");const qe=new Map([[Ve.CONSTRUCTOR_ID,Ve],[Le.CONSTRUCTOR_ID,Le],[Ue.CONSTRUCTOR_ID,Ue]]),He={};for(const e of Object.values(le))if("CONSTRUCTOR_ID"in e)He[e.CONSTRUCTOR_ID]=e;else for(const t of Object.values(e))He[t.CONSTRUCTOR_ID]=t;function Ge(e,t,n){return(t=function(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class We{constructor(e){Ge(this,"stream",void 0),Ge(this,"_last",void 0),Ge(this,"offset",void 0),this.stream=e,this._last=void 0,this.offset=0}readByte(){return this.read(1)[0]}readInt(e=!0){let t;return t=e?this.stream.readInt32LE(this.offset):this.stream.readUInt32LE(this.offset),this.offset+=4,t}readLong(e=!0){return this.readLargeInt(64,e)}readFloat(){return this.read(4).readFloatLE(0)}readDouble(){return this.read(8).readDoubleLE(0)}readLargeInt(e,t=!0){return D(this.read(Math.floor(e/8)),!0,t)}read(e=-1){-1===e&&(e=this.stream.length-this.offset);const t=this.stream.slice(this.offset,this.offset+e);if(this.offset+=e,t.length!==e)throw Error(`No more data left to read (need ${e}, got ${t.length}: ${t.toString()}); last read ${this._last?.toString()}`);return this._last=t,t}getBuffer(){return this.stream}tgReadBytes(){const e=this.readByte();let t,n;254===e?(n=this.readByte()|this.readByte()<<8|this.readByte()<<16,t=n%4):(n=e,t=(n+1)%4);const r=this.read(n);return t>0&&(t=4-t,this.read(t)),r}tgReadString(){return this.tgReadBytes().toString("utf-8")}tgReadBool(){const e=this.readInt(!1);if(2574415285===e)return!0;if(3162085175===e)return!1;throw new Error(`Invalid boolean code ${e.toString(16)}`)}tgReadDate(){const e=this.readInt();return new Date(1e3*e)}tgReadObject(){const e=this.readInt(!1);let t=He[e];if(void 0===t){if(2574415285===e)return!0;if(3162085175===e)return!1;if(481674261===e){const e=[],t=this.readInt();for(let n=0;n<t;n++)e.push(this.tgReadObject());return e}if(t=qe.get(e),void 0===t){this.seek(-4);const t=this.tellPosition(),n=new Ee(e,this.read());throw this.setPosition(t),n}}return t.fromReader(this)}tgReadVector(){if(481674261!==this.readInt(!1))throw new Error("Invalid constructor code, vector was expected");const e=this.readInt(),t=[];for(let n=0;n<e;n++)t.push(this.tgReadObject());return t}tellPosition(){return this.offset}setPosition(e){this.offset=e}seek(e){this.offset+=e}}var Ke=n(48287).hp;class Ye{constructor(e){var t,n,r;t=this,r=void 0,(n=function(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(n="_buffers"))in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,this._buffers=[e]}write(e){this._buffers.push(e)}getValue(){return Ke.concat(this._buffers)}}var Je,Xe=n(48287).hp;function Ze(e,t,n){return(t=function(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Qe=new Error("HttpStream was closed");(Je=AbortSignal).timeout??(Je.timeout=function(e){const t=new AbortController;return setTimeout(()=>t.abort(),e),t.signal});class et{constructor(e){Ze(this,"url",void 0),Ze(this,"isClosed",void 0),Ze(this,"stream",[]),Ze(this,"canRead",Promise.resolve()),Ze(this,"resolveRead",void 0),Ze(this,"rejectRead",void 0),Ze(this,"disconnectedCallback",void 0),this.isClosed=!0,this.disconnectedCallback=e}async readExactly(e){let t=Xe.alloc(0);for(;;){const n=await this.read();if(t=Xe.concat([t,n]),(e-=n.length)<=0)return t}}async read(){await this.canRead;const e=this.stream.shift();return 0===this.stream.length&&(this.canRead=new Promise((e,t)=>{this.resolveRead=e,this.rejectRead=t})),e}static getURL(e,t,n,r){return 443===t?`https://${e}:${t}/apiw1${n?"_test":""}${r?"_premium":""}`:`http://${e}:${t}/apiw1${n?"_test":""}${r?"_premium":""}`}async connect(e,t,n=!1,r=!1){this.stream=[],this.canRead=new Promise((e,t)=>{this.resolveRead=e,this.rejectRead=t}),this.url=et.getURL(t,e,n,r),await fetch(this.url,{method:"POST",body:Xe.from([]),mode:"cors",signal:AbortSignal.timeout(1e4)}),this.isClosed=!1}write(e){if(this.isClosed||!this.url)throw this.handleDisconnect(),Qe;return fetch(this.url,{method:"POST",body:e,mode:"cors",signal:AbortSignal.timeout(1e4)}).then(async e=>{if(this.isClosed)return void this.handleDisconnect();if(200!==e.status)throw Qe;const t=await e.arrayBuffer();this.stream=this.stream.concat(Xe.from(t)),this.resolveRead&&!this.isClosed&&this.resolveRead()}).catch(e=>{throw this.handleDisconnect(),e})}handleDisconnect(){this.disconnectedCallback?.(),this.rejectRead&&this.rejectRead()}close(){this.isClosed=!0,this.handleDisconnect(),this.disconnectedCallback=void 0}}function tt(e,t,n){return(t=function(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let nt;class rt{constructor(e){tt(this,"colors",void 0),tt(this,"messageFormat",void 0),nt||(nt=e||"debug"),this.colors={start:"%c",warn:"color : #ff00ff",info:"color : #ffff00",debug:"color : #00ffff",error:"color : #ff0000",end:""},this.messageFormat="[%t] [%l] - [%m]"}static setLevel(e){nt=e}canSend(e){return!!nt&&rt.LEVEL_MAP.get(nt).has(e)}warn(e){this._log("warn",e,this.colors.warn)}info(e){this._log("info",e,this.colors.info)}debug(e){this._log("debug",e,this.colors.debug)}error(e){this._log("error",e,this.colors.error)}format(e,t){return this.messageFormat.replace("%t",(new Date).toISOString()).replace("%l",t.toUpperCase()).replace("%m",e)}_log(e,t,n){nt&&this.canSend(e)&&console.log(this.colors.start+this.format(t,e),n)}}tt(rt,"LEVEL_MAP",new Map([["error",new Set(["error"])],["warn",new Set(["error","warn"])],["info",new Set(["error","warn","info"])],["debug",new Set(["error","warn","info","debug"])]]));var ot=n(48287).hp;function it(e,t,n){return(t=function(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const st=new Set(["messages.SendMessage","messages.SendMedia","messages.SendMultiMedia","messages.ForwardMessages","messages.SendInlineBotResult"]);class at{constructor(e,t){it(this,"_state",void 0),it(this,"_pendingStates",void 0),it(this,"_queue",void 0),it(this,"_ready",void 0),it(this,"setReady",void 0),it(this,"_log",void 0),this._state=e,this._queue=[],this._pendingStates=[],this._ready=new Promise(e=>{this.setReady=e}),this._log=t}values(){return this._queue}clear(){this._queue=[],this.append(void 0)}append(e,t=!0,n=!1){if(e&&st.has(e.request.className))if(n){for(let t=0;t<this._queue.length;t++)if(st.has(this._queue[t]?.request.className)){this._queue[t].after=e;break}}else for(let t=this._queue.length-1;t>=0;t--)if(st.has(this._queue[t]?.request.className)){e.after=this._queue[t];break}n?this._queue.unshift(e):this._queue.push(e),t&&this.setReady?.(!0),e&&1658238041!==e.request.CONSTRUCTOR_ID&&(this._pendingStates.push(e),e.promise?.catch(()=>{}).finally(()=>{this._pendingStates=this._pendingStates.filter(t=>t!==e)}))}prepend(e){e.reverse().forEach(e=>{this.append(e,!1,!0)}),this.setReady?.(!0)}extend(e){e.forEach(e=>{this.append(e,!1)}),this.setReady?.(!0)}async getBeacon(e){const t=new Ye(ot.alloc(0));if(e.data.length+$e.SIZE_OVERHEAD<=Ue.MAXIMUM_SIZE){let n;return e.after&&(n=e.after.msgId),e.msgId=await this._state.writeDataAsMessage(t,e.data,"request"===e.request.classType,n),this._log.debug(`Assigned msgId = ${e.msgId.toString()} to ${e.request.className||e.request.constructor.name}`),t.getValue()}this._log.warn(`Message payload for ${e.request.className||e.request.constructor.name} is too long ${e.data.length} and cannot be sent`),e.reject?.(new Error("Request Payload is too big"))}async wait(){this._queue.length||(this._ready=new Promise(e=>{this.setReady=e}),await this._ready)}async get(){if(!this._queue[this._queue.length-1])return void(this._queue=this._queue.filter(Boolean));let e,t=new Ye(ot.alloc(0));const n=[];let r=0;for(;this._queue.length&&n.length<=Ue.MAXIMUM_LENGTH;){const e=this._queue.shift();if(e)if(e.abortSignal?.aborted)e.reject?.(new Error("Request aborted"));else{if(r+=e.data.length+$e.SIZE_OVERHEAD,r<=Ue.MAXIMUM_SIZE){let r;e.after&&(r=e.after.msgId),e.msgId=await this._state.writeDataAsMessage(t,e.data,"request"===e.request.classType,r),this._log.debug(`Assigned msgId = ${e.msgId.toString()} to ${e.request.className||e.request.constructor.name}`),n.push(e);continue}if(n.length){this._queue.unshift(e);break}this._log.warn(`Message payload for ${e.request.className||e.request.constructor.name} is too long ${e.data.length} and cannot be sent`),e.reject?.(new Error("Request Payload is too big")),r=0}}if(n.length){if(n.length>1){const r=ot.alloc(8);r.writeUInt32LE(Ue.CONSTRUCTOR_ID,0),r.writeInt32LE(n.length,4),e=ot.concat([r,t.getValue()]),t=new Ye(ot.alloc(0));const o=await this._state.writeDataAsMessage(t,e,!1);for(const e of n)e.containerId=o}return e=t.getValue(),{batch:n,data:e}}}}new Error("timeout while waiting for mutex to become available"),new Error("mutex already locked");const ct=new Error("request for lock canceled");class lt{constructor(e,t=ct){this._value=e,this._cancelError=t,this._queue=[],this._weightedWaiters=[]}acquire(e=1,t=0){if(e<=0)throw new Error(`invalid weight ${e}: must be positive`);return new Promise((n,r)=>{const o={resolve:n,reject:r,weight:e,priority:t},i=ut(this._queue,e=>t<=e.priority);-1===i&&e<=this._value?this._dispatchItem(o):this._queue.splice(i+1,0,o)})}runExclusive(e){return t=this,n=arguments,o=function*(e,t=1,n=0){const[r,o]=yield this.acquire(t,n);try{return yield e(r)}finally{o()}},new((r=void 0)||(r=Promise))(function(e,i){function s(e){try{c(o.next(e))}catch(e){i(e)}}function a(e){try{c(o.throw(e))}catch(e){i(e)}}function c(t){var n;t.done?e(t.value):(n=t.value,n instanceof r?n:new r(function(e){e(n)})).then(s,a)}c((o=o.apply(t,n||[])).next())});var t,n,r,o}waitForUnlock(e=1,t=0){if(e<=0)throw new Error(`invalid weight ${e}: must be positive`);return this._couldLockImmediately(e,t)?Promise.resolve():new Promise(n=>{this._weightedWaiters[e-1]||(this._weightedWaiters[e-1]=[]),function(e,t){const n=ut(e,e=>t.priority<=e.priority);e.splice(n+1,0,t)}(this._weightedWaiters[e-1],{resolve:n,priority:t})})}isLocked(){return this._value<=0}getValue(){return this._value}setValue(e){this._value=e,this._dispatchQueue()}release(e=1){if(e<=0)throw new Error(`invalid weight ${e}: must be positive`);this._value+=e,this._dispatchQueue()}cancel(){this._queue.forEach(e=>e.reject(this._cancelError)),this._queue=[]}_dispatchQueue(){for(this._drainUnlockWaiters();this._queue.length>0&&this._queue[0].weight<=this._value;)this._dispatchItem(this._queue.shift()),this._drainUnlockWaiters()}_dispatchItem(e){const t=this._value;this._value-=e.weight,e.resolve([t,this._newReleaser(e.weight)])}_newReleaser(e){let t=!1;return()=>{t||(t=!0,this.release(e))}}_drainUnlockWaiters(){if(0===this._queue.length)for(let e=this._value;e>0;e--){const t=this._weightedWaiters[e-1];t&&(t.forEach(e=>e.resolve()),this._weightedWaiters[e-1]=[])}else{const e=this._queue[0].priority;for(let t=this._value;t>0;t--){const n=this._weightedWaiters[t-1];if(!n)continue;const r=n.findIndex(t=>t.priority<=e);(-1===r?n:n.splice(0,r)).forEach(e=>e.resolve())}}}_couldLockImmediately(e,t){return(0===this._queue.length||this._queue[0].priority<t)&&e<=this._value}}function ut(e,t){for(let n=e.length-1;n>=0;n--)if(t(e[n]))return n;return-1}var dt=n(48287).hp;function ft(e,t,n){return(t=function(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const ht=new class{constructor(e){this._semaphore=new lt(1,e)}acquire(){return e=this,t=arguments,r=function*(e=0){const[,t]=yield this._semaphore.acquire(1,e);return t},new((n=void 0)||(n=Promise))(function(o,i){function s(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(s,a)}c((r=r.apply(e,t||[])).next())});var e,t,n,r}runExclusive(e,t=0){return this._semaphore.runExclusive(()=>e(),1,t)}isLocked(){return this._semaphore.isLocked()}waitForUnlock(e=0){return this._semaphore.waitForUnlock(1,e)}release(){this._semaphore.isLocked()&&this._semaphore.release()}cancel(){return this._semaphore.cancel()}},pt=new Error("WebSocket was closed");class gt{constructor(e){ft(this,"closed",void 0),ft(this,"timeout",void 0),ft(this,"stream",void 0),ft(this,"canRead",void 0),ft(this,"resolveRead",void 0),ft(this,"client",void 0),ft(this,"website",void 0),ft(this,"disconnectedCallback",void 0),this.client=void 0,this.closed=!0,this.stream=dt.alloc(0),this.disconnectedCallback=e,this.timeout=3e3}async readExactly(e){let t=dt.alloc(0);for(;;){const n=await this.read(e);if(t=dt.concat([t,n]),!(e-=n.length))return t}}async read(e){if(this.closed)throw pt;if(await this.canRead,this.closed)throw pt;const t=this.stream.slice(0,e);return this.stream=this.stream.slice(e),0===this.stream.length&&(this.canRead=new Promise(e=>{this.resolveRead=e})),t}async readAll(){if(this.closed||!await this.canRead)throw pt;const e=this.stream;return this.stream=dt.alloc(0),this.canRead=new Promise(e=>{this.resolveRead=e}),e}getWebSocketLink(e,t,n,r){return 443===t?`wss://${e}:${t}/apiws${n?"_test":""}${r?"_premium":""}`:`ws://${e}:${t}/apiws${n?"_test":""}${r?"_premium":""}`}connect(e,t,n=!1,r=!1){return this.stream=dt.alloc(0),this.canRead=new Promise(e=>{this.resolveRead=e}),this.closed=!1,this.website=this.getWebSocketLink(t,e,n,r),this.client=new WebSocket(this.website,"binary"),new Promise((e,n)=>{if(!this.client)return;let r,o=!1;this.client.onopen=()=>{this.receive(),e(this),o=!0,r&&clearTimeout(r)},this.client.onerror=e=>{console.error("WebSocket error",e),n(e),o=!0,r&&clearTimeout(r)},this.client.onclose=e=>{const{code:n,reason:i,wasClean:s}=e;1e3!==n&&console.error(`Socket ${t} closed. Code: ${n}, reason: ${i}, was clean: ${s}`),this.resolveRead?.(!1),this.closed=!0,this.disconnectedCallback&&this.disconnectedCallback(),o=!0,r&&clearTimeout(r)},r=setTimeout(()=>{o||(n(new Error("WebSocket connection timeout")),this.resolveRead?.(!1),this.closed=!0,this.disconnectedCallback&&this.disconnectedCallback(),this.client?.close(),this.timeout*=2,this.timeout=Math.min(this.timeout,3e4),r=void 0)},this.timeout),self.addEventListener("offline",()=>{this.close(),this.resolveRead?.(!1)})})}write(e){if(this.closed)throw pt;this.client?.send(e)}close(){this.client?.close(),this.closed=!0}receive(){this.client&&(this.client.onmessage=async e=>{await ht.runExclusive(async()=>{const t=e.data instanceof ArrayBuffer?dt.from(e.data):dt.from(await new Response(e.data).arrayBuffer());this.stream=dt.concat([this.stream,t]),this.resolveRead?.(!0)})})}}function mt(e,t,n){return(t=function(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class yt{constructor({ip:e,port:t,dcId:n,loggers:r,isPremium:o,isTestServer:i}){mt(this,"PacketCodecClass",void 0),mt(this,"_ip",void 0),mt(this,"_port",void 0),mt(this,"_dcId",void 0),mt(this,"_log",void 0),mt(this,"_connected",void 0),mt(this,"_isPremium",void 0),mt(this,"shouldLongPoll",void 0),mt(this,"_sendTask",void 0),mt(this,"_recvTask",void 0),mt(this,"_codec",void 0),mt(this,"_obfuscation",void 0),mt(this,"_sendArray",void 0),mt(this,"_recvArray",void 0),mt(this,"socket",void 0),mt(this,"_isTestServer",void 0),this._ip=e,this._port=t,this._dcId=n,this._log=r,this._isTestServer=i,this._isPremium=o,this._connected=!1,this._sendTask=void 0,this._recvTask=void 0,this._codec=void 0,this._obfuscation=void 0,this._sendArray=new De,this._recvArray=new De,this.shouldLongPoll=!1,this.socket=new gt(this.disconnectCallback.bind(this))}isConnected(){return this._connected}disconnectCallback(){this.disconnect(!0)}async _connect(){this._log.debug("Connecting"),this._codec=new this.PacketCodecClass(this),await this.socket.connect(this._port,this._ip,this._isTestServer,this._isPremium),this._log.debug("Finished connecting"),await this._initConn()}async connect(){await this._connect(),this._connected=!0,this._sendTask||(this._sendTask=this._sendLoop()),this._recvTask=this._recvLoop()}disconnect(e=!1){this._connected&&(this._connected=!1,this._recvArray.push(void 0),e||this.socket.close())}async send(e){if(!this._connected)throw new Error("Not connected");await this._sendArray.push(e)}async recv(){for(;this._connected;){const e=await this._recvArray.pop();if(e)return e}throw new Error("Not connected")}async _sendLoop(){try{for(;this._connected;){const e=await this._sendArray.pop();if(!e)return void(this._sendTask=void 0);this._send(e)}}catch(e){this._log.info("The server closed the connection while sending")}}async _recvLoop(){let e;for(;this._connected;){try{if(e=await this._recv(),!e)throw new Error("no data received")}catch(e){return this._log.info("connection closed"),void this.disconnect()}await this._recvArray.push(e)}}async _initConn(){this._codec.tag&&await this.socket.write(this._codec.tag)}_send(e){const t=this._codec.encodePacket(e);this.socket.write(t)}_recv(){return this._codec.readPacket(this.socket)}toString(){return`${this._ip}:${this._port}/${this.constructor.name.replace("Connection","")}`}}class bt extends yt{constructor(...e){super(...e),mt(this,"ObfuscatedIO",void 0)}async _initConn(){this._obfuscation=new this.ObfuscatedIO(this),await this.socket.write(this._obfuscation.header)}_send(e){this._obfuscation.write(this._codec.encodePacket(e))}_recv(){return this._codec.readPacket(this._obfuscation)}}class vt{constructor(e){mt(this,"_conn",void 0),this._conn=e}encodePacket(e){throw new Error("Not Implemented")}readPacket(e){throw new Error("Not Implemented")}}class _t extends yt{constructor(e){super(e),mt(this,"socket",void 0),mt(this,"href",void 0),this.shouldLongPoll=!0,this.socket=new et(this.disconnectCallback.bind(this)),this.href=et.getURL(this._ip,this._port,this._isTestServer,this._isPremium)}send(e){return this.socket.write(e)}recv(){return this.socket.read()}async _connect(){this._log.debug("Connecting"),await this.socket.connect(this._port,this._ip,this._isTestServer,this._isPremium),this._log.debug("Finished connecting")}async connect(){await this._connect(),this._connected=!0}}var wt=n(48287).hp;function St(e,t,n){return(t=function(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class xt extends vt{constructor(e){super(e),St(this,"tag",void 0),St(this,"obfuscateTag",void 0),this.tag=xt.tag,this.obfuscateTag=xt.obfuscateTag}encodePacket(e){const t=e.length>>2;let n;if(t<127){const e=wt.alloc(1);e.writeUInt8(t,0),n=e}else n=wt.concat([wt.from("7f","hex"),N(o()(t),3)]);return wt.concat([n,e])}async readPacket(e){let t=(await e.read(1))[0];return t>=127&&(t=wt.concat([await e.read(3),wt.alloc(1)]).readInt32LE(0)),e.read(t<<2)}}St(xt,"tag",wt.from("ef","hex")),St(xt,"obfuscateTag",wt.from("efefefef","hex"));var It=n(48287).hp;function At(e,t,n){return(t=function(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class Ct{constructor(e,t){if(At(this,"cipher",void 0),At(this,"decipher",void 0),!It.isBuffer(e)||!It.isBuffer(t)||16!==t.length)throw new Error("Key and iv need to be a buffer");this.cipher=function(e,t,n){if("AES-256-CTR".includes("ECB"))throw new Error("Not supported");return new T(t,n)}(0,e,t),this.decipher=function(e,t,n){if("AES-256-CTR".includes("ECB"))throw new Error("Not supported");return new T(t,n)}(0,e,t)}encrypt(e){return It.from(this.cipher.update(e))}decrypt(e){return It.from(this.decipher.update(e))}}var kt=n(48287).hp;function Et(e,t,n){return(t=function(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class Tt{constructor(e){Et(this,"header",void 0),Et(this,"connection",void 0),Et(this,"_encrypt",void 0),Et(this,"_decrypt",void 0),this.connection=e.socket;const t=this.initHeader(e.PacketCodecClass);this.header=t.random,this._encrypt=t.encryptor,this._decrypt=t.decryptor}initHeader(e){const t=[kt.from("50567247","hex"),kt.from("474554","hex"),kt.from("504f5354","hex"),kt.from("eeeeeeee","hex")];let n;for(;;)if(n=L(64),239!==n[0]&&!n.slice(4,8).equals(kt.alloc(4))){let e=!0;for(const r of t)if(r.equals(n.slice(0,4))){e=!1;break}if(e)break}n=n.toJSON().data;const r=kt.from(n.slice(8,56)).reverse(),o=kt.from(n.slice(8,40)),i=kt.from(n.slice(40,56)),s=kt.from(r.slice(0,32)),a=kt.from(r.slice(32,48)),c=new Ct(o,i),l=new Ct(s,a);return n=kt.concat([kt.from(n.slice(0,56)),e.obfuscateTag,kt.from(n.slice(60))]),n=kt.concat([kt.from(n.slice(0,56)),kt.from(c.encrypt(n).slice(56,64)),kt.from(n.slice(64))]),{random:n,encryptor:c,decryptor:l}}async read(e){const t=await this.connection.readExactly(e);return this._decrypt.encrypt(t)}write(e){this.connection.write(this._encrypt.encrypt(e))}}function Pt(e,t,n){return(t=function(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class Mt{constructor(e){Pt(this,"state",void 0),this.state=e}}Pt(Mt,"disconnected",-1),Pt(Mt,"connected",1),Pt(Mt,"broken",0);class Ot{constructor(e){Pt(this,"timeOffset",void 0),this.timeOffset=e}}var Dt=n(48287).hp;class Rt{constructor(e,t){var n,r,o;n=this,o=void 0,(r=function(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(r="ige"))in n?Object.defineProperty(n,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[r]=o,this.ige=new _(e,t)}decryptIge(e){return B(this.ige.decrypt(e))}encryptIge(e){const t=e.length%16;return t&&(e=Dt.concat([e,L(16-t)])),B(this.ige.encrypt(e))}}var Nt=n(48287).hp;function Ft(e,t,n){return(t=function(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class Lt{constructor(e,t,n=!1,r=!1){Ft(this,"authKey",void 0),Ft(this,"_log",void 0),Ft(this,"timeOffset",void 0),Ft(this,"salt",void 0),Ft(this,"id",void 0),Ft(this,"_sequence",void 0),Ft(this,"_isCall",void 0),Ft(this,"_isOutgoing",void 0),Ft(this,"_lastMsgId",void 0),Ft(this,"msgIds",void 0),this.authKey=e,this._log=t,this._isCall=n,this._isOutgoing=r,this.timeOffset=0,this.salt=o().zero,this.id=o().zero,this._sequence=0,this._lastMsgId=o().zero,this.msgIds=[],this.reset()}reset(){this.id=function(e=!0){return D(L(8),!0,e)}(!0),this._sequence=0,this._lastMsgId=o()(0),this.msgIds=[]}updateMessageId(e){e.msgId=this._getNewMsgId()}async _calcKey(e,t,n){const r=this._isCall?128+(this._isOutgoing!==n?8:0):n?0:8,[o,i]=await Promise.all([j(Nt.concat([t,e.slice(r,r+36)])),j(Nt.concat([e.slice(r+40,r+76),t]))]),s=Nt.concat([o.slice(0,8),i.slice(8,24),o.slice(24,32)]);return this._isCall?{key:s,iv:Nt.concat([i.slice(0,4),o.slice(8,16),i.slice(24,28)])}:{key:s,iv:Nt.concat([i.slice(0,8),o.slice(8,24),i.slice(24,32)])}}async writeDataAsMessage(e,t,n,r){const o=this._getNewMsgId(),i=this._getSeqNo(n);let s;s=r?await Le.gzipIfSmaller(n,new le.InvokeAfterMsg({msgId:r,query:{getBytes:()=>t}}).getBytes()):await Le.gzipIfSmaller(n,t);const a=Nt.alloc(4);a.writeInt32LE(i,0);const c=Nt.alloc(4);c.writeInt32LE(s.length,0);const l=R(o,8);return e.write(Nt.concat([l,a,c])),e.write(s),o}async encryptMessageData(e){if(!this.authKey)throw new Error("Auth key unset");await this.authKey.waitForKey();const t=this.authKey.getKey();if(!t)throw new Error("Auth key unset");if(!(this.salt&&this.id&&t&&this.authKey.keyId))throw new Error("Unset params");if(this._isCall){const n=128+(this._isOutgoing?0:8),r=e.length;e=Nt.from(e),r%4!=0&&(e=Nt.concat([e,Nt.from(new Array(4-r%4).fill(32))]));const o=(await j(Nt.concat([t.slice(88+n,88+n+32),Nt.from(e)]))).slice(8,24),{iv:i,key:s}=await this._calcKey(t,o,!0);return e=new Ct(s,i).encrypt(e),Nt.concat([o,e])}{const n=R(this.salt,8),r=R(this.id,8),o=L((-((e=Nt.concat([Nt.concat([n,r]),e])).length+12)%16+16)%16+12),i=(await j(Nt.concat([t.slice(88,120),e,o]))).slice(8,24),{iv:s,key:a}=await this._calcKey(t,i,!0),c=N(this.authKey.keyId,8);return Nt.concat([c,i,new Rt(a,s).encryptIge(Nt.concat([e,o]))])}}async decryptMessageData(e){if(!this.authKey)throw new Error("Auth key unset");if(e.length<8)throw new Te(e);if(e.length<0)throw new Pe("Server replied with negative length");if(e.length%4!=0&&!this._isCall)throw new Pe("Server replied with length not divisible by 4");if(!this._isCall){const t=D(e.slice(0,8));if(!this.authKey.keyId||t.neq(this.authKey.keyId))throw new Pe("Server replied with an invalid auth key")}const t=this.authKey.getKey();if(!t)throw new Pe("Unset AuthKey");const n=this._isCall?e.slice(0,16):e.slice(8,24),r=this._isCall?128+(this._isOutgoing?8:0):0,{iv:o,key:i}=await this._calcKey(t,n,!1);if(this._isCall){const t=(e=e.slice(16)).length;e=Nt.concat([e,Nt.from(new Array(4-t%4).fill(0))]),e=(e=new Ct(i,o).decrypt(e)).slice(0,t)}else e=new Rt(i,o).decryptIge(this._isCall?e.slice(16):e.slice(24));const s=this._isCall?await j(Nt.concat([t.slice(88+r,88+r+32),e])):await j(Nt.concat([t.slice(96,128),e]));if(!this._isCall&&!n.equals(s.slice(8,24)))throw new Pe("Received msg_key doesn't match with expected one");const a=new We(e);if(this._isCall)return a.readInt(!1),a.read(e.length-4);{if(a.readLong(),!a.readLong().eq(this.id))throw new Pe("Server replied with a wrong session ID");const t=a.readLong();if(this.msgIds.includes(t.toString()))throw new Pe("Duplicate msgIds");this.msgIds.length>500&&this.msgIds.shift();const n=a.readInt(),r=a.readInt(),o=e.length-r;if(o<12||o>1024)throw new Pe("Server replied with the wrong message padding");const i=await a.tgReadObject();if(i?.className?.startsWith("Update")){const e=Math.floor(Date.now()/1e3),n=this.getMsgIdTimeLocal(t);if(n&&(n-e>30||e-n>300))throw new Pe("The message time is incorrect.")}return i&&!("errorCode"in i)&&this.msgIds.push(t.toString()),new $e(t,n,i)}}_getNewMsgId(){const e=Date.now()/1e3+this.timeOffset,t=Math.floor(1e9*(e-Math.floor(e)));let n=o()(Math.floor(e)).shiftLeft(o()(32)).or(o()(t).shiftLeft(o()(2)));return this._lastMsgId.greaterOrEquals(n)&&(n=this._lastMsgId.add(o()(4))),this._lastMsgId=n,n}getMsgIdTimeLocal(e){return!this._lastMsgId.eq(0)&&e.shiftRight(o()(32)).toJSNumber()-this.timeOffset}updateTimeOffset(e){const t=this._getNewMsgId(),n=this.timeOffset,r=Math.floor(Date.now()/1e3),i=e.shiftRight(o()(32)).toJSNumber();return this.timeOffset=i-r,this.timeOffset!==n&&(this._lastMsgId=o()(0),this._log.debug(`Updated time offset (old offset ${n}, bad ${t.toString()}, good ${e.toString()}, new ${this.timeOffset})`)),this.timeOffset}_getSeqNo(e){if(e){const e=2*this._sequence+1;return this._sequence+=1,e}return 2*this._sequence}}var Bt=n(48287).hp;function $t(e,t,n){return(t=function(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class jt{constructor(e,t){$t(this,"_state",void 0),$t(this,"_connection",void 0),this._state=new Lt(void 0,t),this._connection=e}async send(e){let t=e.getBytes(),n=this._state._getNewMsgId();const r=R(n,8),i=Bt.alloc(4);i.writeInt32LE(t.length,0);const s=Bt.concat([Bt.concat([Bt.alloc(8),r,i]),t]);if(await this._connection.send(s),t=await this._connection.recv(),t.length<8)throw new Te(t);const a=new We(t);if(a.readLong().neq(o()(0)))throw new Error("Bad authKeyId");if(n=a.readLong(),n.eq(o()(0)))throw new Error("Bad msgId");if(a.readInt()<=0)throw new Error("Bad length");return a.tgReadObject()}}var Ut=n(48287).hp;function zt(e,t,n){return(t=function(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class Vt{constructor(e,t){if(zt(this,"_key",void 0),zt(this,"_hash",void 0),zt(this,"auxHash",void 0),zt(this,"keyId",void 0),!t||!e)return;this._key=e,this._hash=t;const n=new We(t);this.auxHash=n.readLong(!1),n.read(4),this.keyId=n.readLong(!1)}async setKey(e){if(!e)return this._key=void 0,this.auxHash=void 0,this.keyId=void 0,void(this._hash=void 0);if(e instanceof Vt)return this._key=e._key,this.auxHash=e.auxHash,this.keyId=e.keyId,void(this._hash=e._hash);this._key=e,this._hash=await $(this._key);const t=new We(this._hash);this.auxHash=t.readLong(!1),t.read(4),this.keyId=t.readLong(!1)}async waitForKey(){for(;!this.keyId;)await V(20)}getKey(){return this._key}async calcNewNonceHash(e,t){if(!this.auxHash)throw new Error("Auth key not set");const n=R(e,32),r=Ut.alloc(1);r.writeUInt8(t,0);const o=Ut.concat([n,Ut.concat([r,N(this.auxHash,8,!0)])]);return D((await $(o)).slice(4,20),!0,!0)}equals(e){return e instanceof this.constructor&&this._key&&Ut.isBuffer(e.getKey())&&e.getKey()?.equals(this._key)}}class qt{constructor(){var e,t,n;e=this,n=void 0,(t=function(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t="_pending"))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,this._pending=new Map}set(e,t){this._pending.set(e.toString(),t)}get(e){return this._pending.get(e.toString())}getAndDelete(e){const t=this.get(e);return this.delete(e),t}values(){return Array.from(this._pending.values())}delete(e){this._pending.delete(e.toString())}clear(){this._pending.clear()}}n(48287).hp;const Ht=[{fingerprint:o()("-3414540481677951611"),n:o()("29379598170669337022986177149456128565388431120058863768162556424047512191330847455146576344487764408661701890505066208632169112269581063774293102577308490531282748465986139880977280302242772832972539403531316010870401287642763009136156734339538042419388722777357134487746169093539093850251243897188928735903389451772730245253062963384108812842079887538976360465290946139638691491496062099570836476454855996319192747663615955633778034897140982517446405334423701359108810182097749467210509584293428076654573384828809574217079944388301239431309115013843331317877374435868468779972014486325557807783825502498215169806323"),e:65537},{fingerprint:o()("-5595554452916591101"),n:o()("25342889448840415564971689590713473206898847759084779052582026594546022463853940585885215951168491965708222649399180603818074200620463776135424884632162512403163793083921641631564740959529419359595852941166848940585952337613333022396096584117954892216031229237302943701877588456738335398602461675225081791820393153757504952636234951323237820036543581047826906120927972487366805292115792231423684261262330394324750785450942589751755390156647751460719351439969059949569615302809050721500330239005077889855323917509948255722081644689442127297605422579707142646660768825302832201908302295573257427896031830742328565032949"),e:65537}].reduce((e,{fingerprint:t,...n})=>(e.set(t.toString(),n),e),new Map);class Gt{static gcd(e,t){for(;t.neq(o().zero);){const n=t;t=e.remainder(t),e=n}return e}static factorize(e){if(e.remainder(2).equals(o().zero))return{p:o()(2),q:e.divide(o()(2))};let t=o().randBetween(o()(1),e.minus(1));const n=o().randBetween(o()(1),e.minus(1)),r=o().randBetween(o()(1),e.minus(1));let i,s=o().one,a=o().one,c=o().one,l=o().zero,u=o().zero;for(;s.eq(o().one);){l=t;for(let r=0;o()(r).lesser(a);r++)t=U(t,o()(2),e).add(n).remainder(e);for(i=o().zero;i.lesser(a)&&s.eq(o().one);){u=t;const d=o().min(r,a.minus(i));for(let r=0;o()(r).lesser(d);r++)t=U(t,o()(2),e).add(n).remainder(e),c=c.multiply(l.minus(t).abs()).remainder(e);s=Gt.gcd(c,e),i=i.add(r)}a=a.multiply(2)}if(s.eq(e))for(;u=U(u,o()(2),e).add(n).remainder(e),s=Gt.gcd(l.minus(u).abs(),e),!s.greater(1););const d=s;return c=e.divide(s),d<c?{p:d,q:c}:{p:c,q:d}}}var Wt=n(48287).hp;var Kt=n(9705);function Yt(e,t,n){return(t=function(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class Jt{constructor(e,t){Yt(this,"containerId",void 0),Yt(this,"msgId",void 0),Yt(this,"request",void 0),Yt(this,"data",void 0),Yt(this,"after",void 0),Yt(this,"result",void 0),Yt(this,"finished",void 0),Yt(this,"promise",void 0),Yt(this,"abortSignal",void 0),Yt(this,"resolve",void 0),Yt(this,"reject",void 0),this.containerId=void 0,this.msgId=void 0,this.request=e,this.data=e.getBytes(),this.after=void 0,this.result=void 0,this.abortSignal=t,this.finished=new Kt.A,this.resetPromise()}isReady(){return!this.after||this.after.finished.promise}resetPromise(){this.reject?.(),this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}var Xt=n(48287).hp;function Zt(e,t,n){return(t=function(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class Qt{constructor(e,t){Zt(this,"_connection",void 0),Zt(this,"_fallbackConnection",void 0),Zt(this,"_shouldForceHttpTransport",void 0),Zt(this,"_shouldAllowHttpTransport",void 0),Zt(this,"_retriesToFallback",void 0),Zt(this,"_log",void 0),Zt(this,"_dcId",void 0),Zt(this,"_senderIndex",void 0),Zt(this,"_retries",void 0),Zt(this,"_delay",void 0),Zt(this,"_retryMainConnectionDelay",void 0),Zt(this,"_isFallback",void 0),Zt(this,"_authKeyCallback",void 0),Zt(this,"_updateCallback",void 0),Zt(this,"_autoReconnectCallback",void 0),Zt(this,"_isMainSender",void 0),Zt(this,"_isExported",void 0),Zt(this,"_sendQueue",void 0),Zt(this,"_sendQueueLongPoll",void 0),Zt(this,"isSendingLongPoll",void 0),Zt(this,"_pendingAck",void 0),Zt(this,"_lastAcks",void 0),Zt(this,"_pendingState",void 0),Zt(this,"_userConnected",void 0),Zt(this,"isReconnecting",void 0),Zt(this,"_disconnected",void 0),Zt(this,"_sendLoopHandle",void 0),Zt(this,"_recvLoopHandle",void 0),Zt(this,"_longPollLoopHandle",void 0),Zt(this,"_isReconnectingToMain",!1),Zt(this,"authKey",void 0),Zt(this,"_state",void 0),Zt(this,"_getShouldDebugExportedSenders",void 0),Zt(this,"_handlers",void 0),Zt(this,"_onConnectionBreak",void 0),Zt(this,"userDisconnected",void 0),Zt(this,"isConnecting",!1),Zt(this,"_authenticated",!1),Zt(this,"logWithIndex",{debug:this.logWithIndexCallback("debug"),log:this.logWithIndexCallback("log"),warn:this.logWithIndexCallback("warn"),error:this.logWithIndexCallback("error")});const n={...Qt.DEFAULT_OPTIONS,...t};this._connection=void 0,this._fallbackConnection=void 0,this._shouldForceHttpTransport=n.shouldForceHttpTransport,this._shouldAllowHttpTransport=n.shouldAllowHttpTransport,this._log=n.logger,this._dcId=n.dcId,this._senderIndex=n.senderIndex||0,this._retries=n.retries,this._retriesToFallback=n.retriesToFallback,this._delay=n.delay,this._retryMainConnectionDelay=n.retryMainConnectionDelay,this._authKeyCallback=n.authKeyCallback,this._updateCallback=n.updateCallback,this._autoReconnectCallback=n.autoReconnectCallback,this._isMainSender=Boolean(n.isMainSender),this._isExported=Boolean(n.isExported),this._onConnectionBreak=n.onConnectionBreak,this._isFallback=!1,this._getShouldDebugExportedSenders=n.getShouldDebugExportedSenders,this.userDisconnected=!1,this._userConnected=!1,this.isReconnecting=!1,this._disconnected=!0,this._sendLoopHandle=void 0,this._longPollLoopHandle=void 0,this._recvLoopHandle=void 0,this.authKey=e||new Vt,this._state=new Lt(this.authKey,this._log),this._sendQueue=new at(this._state,this._log),this._sendQueueLongPoll=new at(this._state,this._log),this._pendingState=new qt,this._pendingAck=new Set,this._lastAcks=[],this._handlers={[Ve.CONSTRUCTOR_ID]:this._handleRPCResult.bind(this),[Ue.CONSTRUCTOR_ID]:this._handleContainer.bind(this),[Le.CONSTRUCTOR_ID]:this._handleGzipPacked.bind(this),[le.Pong.CONSTRUCTOR_ID]:this._handlePong.bind(this),[le.BadServerSalt.CONSTRUCTOR_ID]:this._handleBadServerSalt.bind(this),[le.BadMsgNotification.CONSTRUCTOR_ID]:this._handleBadNotification.bind(this),[le.MsgDetailedInfo.CONSTRUCTOR_ID]:this._handleDetailedInfo.bind(this),[le.MsgNewDetailedInfo.CONSTRUCTOR_ID]:this._handleNewDetailedInfo.bind(this),[le.NewSessionCreated.CONSTRUCTOR_ID]:this._handleNewSessionCreated.bind(this),[le.MsgsAck.CONSTRUCTOR_ID]:this._handleAck.bind(this),[le.FutureSalts.CONSTRUCTOR_ID]:this._handleFutureSalts.bind(this),[le.MsgsStateReq.CONSTRUCTOR_ID]:this._handleStateForgotten.bind(this),[le.MsgResendReq.CONSTRUCTOR_ID]:this._handleStateForgotten.bind(this),[le.MsgsAllInfo.CONSTRUCTOR_ID]:this._handleMsgAll.bind(this)}}logWithIndexCallback(e){return(...t)=>{this._getShouldDebugExportedSenders&&this._getShouldDebugExportedSenders()&&console[e](`[${this._isExported?`idx=${this._senderIndex} `:"M "}dcId=${this._dcId}]`,...t)}}getConnection(){return this._isFallback?this._fallbackConnection:this._connection}async connect(e,t,n){if(this.userDisconnected=!1,this._userConnected&&!t)return this._log.info("User is already connected!"),!1;this.isConnecting=!0,this._isFallback=this._shouldForceHttpTransport&&this._shouldAllowHttpTransport,this._connection=e,this._fallbackConnection=n;for(let e=0;e<this._retries+this._retriesToFallback;e++)try{e>=this._retriesToFallback&&this._shouldAllowHttpTransport&&(this._isFallback=!0,this.logWithIndex.warn("Using fallback connection"),this._log.warn("Using fallback connection")),this.logWithIndex.warn("Connecting..."),await this._connect(this.getConnection()),this.logWithIndex.warn("Connected!"),this._isExported||this._updateCallback?.(new Mt(Mt.connected));break}catch(t){this._isExported||0!==e||this._updateCallback?.(new Mt(Mt.disconnected)),this._log.error(`${this._isFallback?"HTTP":"WebSocket"} connection failed attempt: ${e+1}`),console.error(t),await V(this._delay)}return this.isConnecting=!1,this._isFallback&&!this._shouldForceHttpTransport&&this.tryReconnectToMain(),!0}async tryReconnectToMain(){if(this.isConnecting||!this._isFallback||this._isReconnectingToMain||this.isReconnecting||this._shouldForceHttpTransport||this._isExported)await V(this._retryMainConnectionDelay);else{this._log.debug("Trying to reconnect to main connection"),this._isReconnectingToMain=!0;try{await this._connection.connect(),this._log.info("Reconnected to main connection"),this.logWithIndex.warn("Reconnected to main connection"),this.isReconnecting=!0,this._fallbackConnection&&this._disconnect(this._fallbackConnection),await this.connect(this._connection,!0,this._fallbackConnection),this.isReconnecting=!1,this._isReconnectingToMain=!1}catch(e){this.isReconnecting=!1,this._isReconnectingToMain=!1,this._log.error(`Failed to reconnect to main connection, retrying in ${this._retryMainConnectionDelay}ms`),await V(this._retryMainConnectionDelay),this.tryReconnectToMain()}}}isConnected(){return this._userConnected}disconnect(){this.userDisconnected=!0,this.logWithIndex.warn("Disconnecting...");const e=this.getConnection();e&&this._disconnect(e)}destroy(){this._sendQueue.clear()}send(e,t,n=!1){const r=new Jt(e,t);return n?this._sendQueueLongPoll.append(r):(this.logWithIndex.debug(`Send ${e.className}`),this._sendQueue.append(r)),r.promise}addStateToQueue(e){this._sendQueue.append(e)}async sendBeacon(e){if(!(this._userConnected&&this._fallbackConnection instanceof _t))throw new Error("Cannot send requests while disconnected");const t=new Jt(e,void 0),n=await this._sendQueue.getBeacon(t);if(!n)return;const r=await this._state.encryptMessageData(n);postMessage({type:"sendBeacon",data:r,url:this._fallbackConnection.href})}async _connect(e){if(e.isConnected()||(this._log.info("Connecting to {0}...".replace("{0}",e._ip)),await e.connect(),this._log.debug("Connection success!")),this.authKey.getKey())this._authenticated=!0,this._log.debug("Already have an auth key ...");else{const t=new jt(e,this._log);this._log.debug("New auth_key attempt ...");const n=await async function(e,t){let n=L(16);const r=D(n,!1,!0),i=await e.send(new le.ReqPqMulti({nonce:r}));if(t.debug("Starting authKey generation step 1"),!(i instanceof le.ResPQ))throw new Pe(`Step 1 answer was ${i}`);if(i.nonce.neq(r))throw new Pe("Step 1 invalid nonce from server");const s=D(i.pq,!1,!0);t.debug("Finished authKey generation step 1");const{p:a,q:c}=Gt.factorize(s),l=z(a),u=z(c);n=L(32);const d=D(n,!0,!0),f=new le.PQInnerData({pq:z(s),p:l,q:u,nonce:i.nonce,serverNonce:i.serverNonce,newNonce:d}).getBytes();if(f.length>144)throw new Pe("Step 1 invalid nonce from server");let h,p;for(const e of i.serverPublicKeyFingerprints)if(p=Ht.get(e.toString()),void 0!==p){h=e;break}if(void 0===h||void 0===p)throw new Pe("Step 2 could not find a valid key for fingerprints");const g=L(192-f.length),m=Wt.concat([f,g]),y=Wt.from(m).reverse();let b;for(let e=0;e<20;e++){const e=L(32),n=await j(Wt.concat([e,m])),r=Wt.concat([y,n]),i=new Rt(e,Wt.alloc(32)).encryptIge(r),s=q(e,await j(i)),a=D(Wt.concat([s,i]),!1,!1);if(!a.greaterOrEquals(p.n)){b=N(U(a,o()(p.e),p.n),256,!1,!1);break}t.debug("Aes key greater than RSA. retrying")}if(void 0===b)throw new Pe("Step 2 could create a secure encrypted key");t.debug("Step 2 : Generated a secure aes encrypted data");const v=await e.send(new le.ReqDHParams({nonce:i.nonce,serverNonce:i.serverNonce,p:l,q:u,publicKeyFingerprint:h,encryptedData:b}));if(!(v instanceof le.ServerDHParamsOk||v instanceof le.ServerDHParamsFail))throw new Error(`Step 2.1 answer was ${v}`);if(v.nonce.neq(i.nonce))throw new Pe("Step 2 invalid nonce from server");if(v.serverNonce.neq(i.serverNonce))throw new Pe("Step 2 invalid server nonce from server");if(v instanceof le.ServerDHParamsFail){const e=D(await $(R(d,32).slice(4,20)),!0,!0);if(v.newNonceHash.neq(e))throw new Pe("Step 2 invalid DH fail nonce from server")}if(!(v instanceof le.ServerDHParamsOk))throw new Error(`Step 2.2 answer was ${v.className}`);t.debug("Finished authKey generation step 2"),t.debug("Starting authKey generation step 3");const{key:_,iv:w}=await async function(e,t){const n=R(e,16),r=R(t,32),[o,i,s]=await Promise.all([$(O.concat([r,n])),$(O.concat([n,r])),$(O.concat([r,r]))]);return{key:O.concat([o,i.slice(0,12)]),iv:O.concat([i.slice(12,20),s,r.slice(0,4)])}}(i.serverNonce,d);if(v.encryptedAnswer.length%16!=0)throw new Pe("Step 3 AES block size mismatch");const S=new Rt(_,w),x=S.decryptIge(v.encryptedAnswer),I=new We(x),A=I.read(20),C=I.tgReadObject();if(!(C instanceof le.ServerDHInnerData))throw new Error(`Step 3 answer was ${C}`);const k=await $(C.getBytes());if(!A.equals(k))throw new Pe("Step 3 Invalid hash answer");if(C.nonce.neq(i.nonce))throw new Pe("Step 3 Invalid nonce in encrypted answer");if(C.serverNonce.neq(i.serverNonce))throw new Pe("Step 3 Invalid server nonce in encrypted answer");if(3!==C.g||"c71caeb9c6b1c9048e6c522f70f13f73980d40238e3e21c14934d037563d930f48198a0aa7c14058229493d22530f4dbfa336f6e0ac925139543aed44cce7c3720fd51f69458705ac68cd4fe6b6b13abdc9746512969328454f18faf8c595f642477fe96bb2a941d5bcd1d4ac8cc49880708fa9b378e3c4f3a9060bee67cf9a4a4a695811051907e162753b56b0f6b410dba74d8a84b2a14b3144e0ef1284754fd17ed950d5965b4b9dd46582db1178d169c6bc465b0d6ff9ca3928fef5b9ae4e418fc15e83ebea0f87fa9ff5eed70050ded2849f47bf959d956850ce929851f0d8115f635b105ee2e4e15d04b2454bf6f4fadf034b10403119cd8e3b92fcc5b"!==C.dhPrime.toString("hex"))throw new Pe("Step 3 invalid dhPrime or g");const E=D(C.dhPrime,!1,!1),T=D(C.gA,!1,!1),P=C.serverTime-Math.floor(Date.now()/1e3),M=D(L(256),!1,!1),F=U(o()(C.g),M,E),B=U(T,M,E);if(T.lesserOrEquals(1))throw new Pe("Step 3 failed ga > 1 check");if(F.lesserOrEquals(1))throw new Pe("Step 3 failed gb > 1 check");if(T.greater(E.minus(1)))throw new Pe("Step 3 failed ga > dh_prime - 1 check");const V=o()(2).pow(1984);if(!T.greaterOrEquals(V)||!T.lesserOrEquals(E.minus(V)))throw new Pe("Step 3 failed dh_prime - 2^{2048-64} < ga < 2^{2048-64} check");if(!F.greaterOrEquals(V)||!F.lesserOrEquals(E.minus(V)))throw new Pe("Step 3 failed dh_prime - 2^{2048-64} < gb < 2^{2048-64} check");const H=new le.ClientDHInnerData({nonce:i.nonce,serverNonce:i.serverNonce,retryId:o().zero,gB:z(F,!1)}).getBytes(),G=Wt.concat([await $(H),H]),W=S.encryptIge(G),K=await e.send(new le.SetClientDHParams({nonce:i.nonce,serverNonce:i.serverNonce,encryptedData:W})),Y=[le.DhGenOk,le.DhGenRetry,le.DhGenFail];if(!(K instanceof Y[0]||K instanceof Y[1]||K instanceof Y[2]))throw new Error(`Step 3.1 answer was ${K}`);const{name:J}=K.constructor;if(K.nonce.neq(i.nonce))throw new Pe(`Step 3 invalid ${J} nonce from server`);if(K.serverNonce.neq(i.serverNonce))throw new Pe(`Step 3 invalid ${J} server nonce from server`);const X=new Vt;await X.setKey(z(B));const Z=1+["DhGenOk","DhGenRetry","DhGenFail"].indexOf(K.className),Q=await X.calcNewNonceHash(d,Z);if(K[`newNonceHash${Z}`].neq(Q))throw new Pe("Step 3 invalid new nonce hash");if(!(K instanceof le.DhGenOk))throw new Error(`Step 3.2 answer was ${K.className}`);return t.debug("Finished authKey generation step 3"),{authKey:X,timeOffset:P}}(t,this._log);this._log.debug("Generated new auth_key successfully"),await this.authKey.setKey(n.authKey),this._state.timeOffset=n.timeOffset,this._isExported||this._updateCallback?.(new Ot(this._state.timeOffset)),this._authKeyCallback&&await this._authKeyCallback(this.authKey,this._dcId)}this._userConnected=!0,this.isReconnecting=!1,this._sendLoopHandle||(this._log.debug("Starting send loop"),this._sendLoopHandle=this._sendLoop()),this._recvLoopHandle||(this._log.debug("Starting receive loop"),this._recvLoopHandle=this._recvLoop()),!this._longPollLoopHandle&&e.shouldLongPoll&&(this._log.debug("Starting long-poll loop"),this._longPollLoopHandle=this._longPollLoop()),this._log.info("Connection to %s complete!".replace("%s",e.toString()))}_disconnect(e){this._isExported||this._updateCallback?.(new Mt(Mt.disconnected)),void 0!==e?(this._log.info("Disconnecting from %s...".replace("%s",e.toString())),this._userConnected=!1,this._log.debug("Closing current connection..."),this.logWithIndex.warn("Disconnecting"),e.disconnect()):this._log.info("Not disconnecting (already have no connection)")}async _longPollLoop(){for(;this._userConnected&&!this.isReconnecting&&this._isFallback&&this.getConnection().shouldLongPoll;){await this._sendQueueLongPoll.wait();const e=await this._sendQueueLongPoll.get();if(this.isReconnecting||!this._isFallback)return void(this._longPollLoopHandle=void 0);if(!e)continue;let{data:t}=e;const{batch:n}=e;this._log.debug(`Encrypting ${n.length} message(s) in ${t.length} bytes for sending`),t=await this._state.encryptMessageData(t);try{await(this._fallbackConnection?.send(t))}catch(e){return this._log.error(e),this._log.info("Connection closed while sending data"),this._longPollLoopHandle=void 0,this.isSendingLongPoll=!1,void(this.userDisconnected||this.reconnect())}this.isSendingLongPoll=!1,this.checkLongPoll()}this._longPollLoopHandle=void 0}async _sendLoop(){for(this._sendQueue.prepend(this._pendingState.values()),this._pendingState.clear();this._userConnected&&!this.isReconnecting;){const e=()=>{if(this._pendingAck.size){const e=new Jt(new le.MsgsAck({msgIds:Array(...this._pendingAck)}));this._sendQueue.append(e),this._lastAcks.push(e),this._lastAcks.length>=10&&this._lastAcks.shift(),this._pendingAck.clear()}};e(),this.logWithIndex.debug(`Waiting for messages to send... ${this.isReconnecting}`),this._log.debug(`Waiting for messages to send... ${this.isReconnecting}`),await this._sendQueue.wait(),this._isFallback&&this.send(new le.HttpWait({maxDelay:0,waitAfter:0,maxWait:0})),e();const t=await this._sendQueue.get();if(this.logWithIndex.debug(`Got ${t?.batch.length} message(s) to send`),!t)continue;let{data:n}=t;const{batch:r}=t;for(const e of r)if(Array.isArray(e))for(const t of e)"request"===t.request.classType&&"HttpWait"!==t.request.className&&this._pendingState.set(t.msgId,t);else"request"===e.request.classType&&"HttpWait"!==e.request.className&&this._pendingState.set(e.msgId,e);if(this.isReconnecting)return this.logWithIndex.debug("Reconnecting :("),void(this._sendLoopHandle=void 0);this._log.debug(`Encrypting ${r.length} message(s) in ${n.length} bytes for sending`),this.logWithIndex.debug("Sending",r.map(e=>e.request.className)),n=await this._state.encryptMessageData(n);try{await this.getConnection().send(n)}catch(e){return this.logWithIndex.debug(`Connection closed while sending data ${e}`),this._log.error(e),this._log.info("Connection closed while sending data"),this._sendLoopHandle=void 0,void(this.userDisconnected||this.reconnect())}finally{for(const e of r)if(Array.isArray(e))for(const t of e)"HttpWait"===t.request.className&&e.resolve?.();else"HttpWait"===e.request.className&&e.resolve?.();this.logWithIndex.debug("Encrypted messages put in a queue to be sent"),this._log.debug("Encrypted messages put in a queue to be sent")}}this._sendLoopHandle=void 0}async _recvLoop(){let e,t;for(;this._userConnected&&!this.isReconnecting;){this._log.debug("Receiving items from the network..."),this.logWithIndex.debug("Receiving items from the network...");try{e=await this.getConnection().recv()}catch(e){return this.userDisconnected||(this._log.error(e),this._log.warn("Connection closed while receiving data"),this.reconnect()),void(this._recvLoopHandle=void 0)}try{t=await this._state.decryptMessageData(e)}catch(e){if(this.logWithIndex.debug(`Error while receiving items from the network ${e.toString()}`),e instanceof Ee){this._log.info(`Type ${e.invalidConstructorId} not found, remaining data ${e.remaining.length} bytes`);continue}if(e instanceof Pe){this._log.warn(`Security error while unpacking a received message: ${e.message}`);continue}return e instanceof Te?(404===e.code?this._handleBadAuthKey():(this._log.warn(`Invalid buffer ${e.code} for dc ${this._dcId}`),this.reconnect()),void(this._recvLoopHandle=void 0)):(this._log.error("Unhandled error while receiving data"),this._log.error(e),this.reconnect(),void(this._recvLoopHandle=void 0))}try{await this._processMessage(t)}catch(e){e instanceof de?"AUTH_KEY_UNREGISTERED"!==e.errorMessage&&"SESSION_REVOKED"!==e.errorMessage&&"USER_DEACTIVATED"!==e.errorMessage||this._handleBadAuthKey(!0):(this._log.error("Unhandled error while receiving data"),this._log.error(e))}this.checkLongPoll()}this._recvLoopHandle=void 0}checkLongPoll(){!this.isSendingLongPoll&&this._isFallback&&(this.isSendingLongPoll=!0,this.send(new le.HttpWait({maxDelay:500,waitAfter:150,maxWait:3e3}),void 0,!0))}_handleBadAuthKey(e){e&&this._isMainSender||(this._log.warn(`Broken authorization key for dc ${this._dcId}, resetting...`),this._isMainSender&&!this._isExported?this._updateCallback?.(new Mt(Mt.broken)):!this._isMainSender&&this._onConnectionBreak&&this._onConnectionBreak(this._dcId))}async _processMessage(e){if("MsgsAck"===e.obj.className)return;this.logWithIndex.debug(`Process message ${e.obj.className}`),this._pendingAck.add(e.msgId),this.getConnection().shouldLongPoll&&this._sendQueue.setReady?.(!0),e.obj=await e.obj;let t=this._handlers[e.obj.CONSTRUCTOR_ID];t||(t=this._handleUpdate.bind(this)),t(e)}_popStates(e){const t=this._pendingState.getAndDelete(e);if(t)return[t];const n=[];for(const t of this._pendingState.values())t.containerId?.equals(e)&&n.push(t.msgId);if(n.length){const e=[];for(const t of n)e.push(this._pendingState.getAndDelete(t));return e}for(const t of this._lastAcks)if(t.msgId===e)return[t];return[]}_handleRPCResult(e){const t=e.obj,n=this._pendingState.getAndDelete(t.reqMsgId);if(this._log.debug(`Handling RPC result for message ${t.reqMsgId}`),n){if(t.error){const e=function(e,t){for(const[n,r]of Ce){const o=e.errorMessage.match(n);if(o)return new r({request:t,capture:2===o.length?parseInt(o[1],10):void 0})}return new de(e.errorMessage,t,e.errorCode)}(t.error,n.request);throw this._sendQueue.append(new Jt(new le.MsgsAck({msgIds:[n.msgId]}))),n.reject?.(e),e}try{const e=new We(t.body),r=n.request.readResult(e);this.logWithIndex.debug("Handling RPC result",r),n.resolve?.(r)}catch(e){throw n.reject?.(e),e}}else try{if(!(new We(t.body).tgReadObject()instanceof le.upload.File))throw new Ee(0,Xt.alloc(0))}catch(e){if(e instanceof Ee)return void this._log.info(`Received response without parent request: ${t.body}`);if(this._isFallback)return;throw e}}async _handleContainer(e){this._log.debug("Handling container");for(const t of e.obj.messages)await this._processMessage(t)}async _handleGzipPacked(e){this._log.debug("Handling gzipped data");const t=new We(e.obj.data);e.obj=t.tgReadObject(),await this._processMessage(e)}_handleUpdate(e){2331323052===e.obj.SUBCLASS_OF_ID?(this._log.debug(`Handling update ${e.obj.className}`),this._isExported||this._updateCallback?.(e.obj)):this._log.warn(`Note: ${e.obj.className} is not an update, not dispatching it`)}_handlePong(e){const t=e.obj,n=this._state.updateTimeOffset(e.msgId);this._isExported||this._updateCallback?.(new Ot(n)),this._log.debug(`Handling pong for message ${t.msgId}`);const r=this._pendingState.getAndDelete(t.msgId);r&&r.resolve?.(t)}_handleBadServerSalt(e){const t=e.obj;this._log.debug(`Handling bad salt for message ${t.badMsgId}`),this._state.salt=t.newServerSalt;const n=this._popStates(t.badMsgId);this._sendQueue.extend(n),this._log.debug(`${n.length} message(s) will be resent`)}_handleBadNotification(e){const t=e.obj,n=this._popStates(t.badMsgId);if(this._log.debug(`Handling bad msg ${JSON.stringify(t)}`),[16,17].includes(t.errorCode)){const t=this._state.updateTimeOffset(e.msgId);this._isExported||this._updateCallback?.(new Ot(t)),this._log.info(`System clock is wrong, set time offset to ${t}s`)}else if(32===t.errorCode)this._state._sequence+=64;else{if(33!==t.errorCode){for(const e of n)e.reject(new Me(e.request,t.errorCode));return}this._state._sequence-=16}this._sendQueue.extend(n),this._log.debug(`${n.length} messages will be resent due to bad msg`)}_handleDetailedInfo(e){const t=e.obj.answerMsgId;this._log.debug(`Handling detailed info for message ${t}`),this._pendingAck.add(t)}_handleNewDetailedInfo(e){const t=e.obj.answerMsgId;this._log.debug(`Handling new detailed info for message ${t}`),this._pendingAck.add(t)}_handleNewSessionCreated(e){this._log.debug("Handling new session created"),this._state.salt=e.obj.serverSalt}_handleAck(){}_handleFutureSalts(e){this._log.debug(`Handling future salts for message ${e.msgId.toString()}`);const t=this._pendingState.getAndDelete(e.msgId);t&&t.resolve?.(e.obj)}_handleStateForgotten(e){this._sendQueue.append(new Jt(new le.MsgsStateInfo({reqMsgId:e.msgId,info:String.fromCharCode(1).repeat(e.obj.msgIds)})))}_handleMsgAll(e){}reconnect(){this._userConnected&&!this.isReconnecting&&(this.isReconnecting=!0,V(1e3).then(()=>{this.logWithIndex.log("Reconnecting..."),this._log.info("Started reconnecting"),this._reconnect()}))}async _reconnect(){const e=this._connection,t=this._fallbackConnection;this._log.debug("Closing current connection...");try{this.logWithIndex.warn("[Reconnect] Closing current connection..."),e&&this._disconnect(e),t&&this._disconnect(t)}catch(e){this._log.warn(e)}this._sendQueue.append(void 0),this._state.reset();const n=new e.constructor({ip:e._ip,port:e._port,dcId:e._dcId,loggers:e._log,isTestServer:e._isTestServer,isPremium:e._isPremium}),r=new this._fallbackConnection.constructor({ip:e._ip,port:e._port,dcId:e._dcId,loggers:e._log,isTestServer:e._isTestServer,isPremium:e._isPremium});await this.connect(n,!0,r),this.isReconnecting=!1,this._sendQueue.prepend(this._pendingState.values()),this._pendingState.clear(),this._autoReconnectCallback&&await this._autoReconnectCallback()}}Zt(Qt,"DEFAULT_OPTIONS",{logger:void 0,retries:1/0,retriesToFallback:1,delay:2e3,retryMainConnectionDelay:1e4,shouldForceHttpTransport:!1,shouldAllowHttpTransport:!1,autoReconnect:!0,connectTimeout:void 0,authKeyCallback:void 0,updateCallback:void 0,autoReconnectCallback:void 0,isMainSender:void 0,onConnectionBreak:void 0,isExported:void 0,getShouldDebugExportedSenders:void 0});var en=n(48287).hp;const tn=en.from("ffd8ffe000104a46494600010100000100010000ffdb004300281c1e231e19282321232d2b28303c64413c37373c7b585d4964918099968f808c8aa0b4e6c3a0aadaad8a8cc8ffcbdaeef5ffffff9bc1fffffffaffe6fdfff8ffdb0043012b2d2d3c353c76414176f8a58ca5f8f8f8f8f8f8f8f8f8f8f8f8f8f8f8f8f8f8f8f8f8f8f8f8f8f8f8f8f8f8f8f8f8f8f8f8f8f8f8f8f8f8f8f8f8f8f8f8f8f8ffc00011080000000003012200021101031101ffc4001f0000010501010101010100000000000000000102030405060708090a0bffc400b5100002010303020403050504040000017d01020300041105122131410613516107227114328191a1082342b1c11552d1f02433627282090a161718191a25262728292a3435363738393a434445464748494a535455565758595a636465666768696a737475767778797a838485868788898a92939495969798999aa2a3a4a5a6a7a8a9aab2b3b4b5b6b7b8b9bac2c3c4c5c6c7c8c9cad2d3d4d5d6d7d8d9dae1e2e3e4e5e6e7e8e9eaf1f2f3f4f5f6f7f8f9faffc4001f0100030101010101010101010000000000000102030405060708090a0bffc400b51100020102040403040705040400010277000102031104052131061241510761711322328108144291a1b1c109233352f0156272d10a162434e125f11718191a262728292a35363738393a434445464748494a535455565758595a636465666768696a737475767778797a82838485868788898a92939495969798999aa2a3a4a5a6a7a8a9aab2b3b4b5b6b7b8b9bac2c3c4c5c6c7c8c9cad2d3d4d5d6d7d8d9dae2e3e4e5e6e7e8e9eaf2f3f4f5f6f7f8f9faffda000c03010002110311003f00","hex"),nn=en.from("ffd9","hex");function rn(e,t=!0,n=!0){if(e instanceof le.User){if(e.self&&t)return new le.InputPeerSelf;if(void 0===e.accessHash&&n)throw new Error("User without accessHash or min info cannot be input");return new le.InputPeerUser({userId:e.id,accessHash:e.accessHash})}if(e instanceof le.Chat||e instanceof le.ChatEmpty||e instanceof le.ChatForbidden)return new le.InputPeerChat({chatId:e.id});if(e instanceof le.Channel){if(void 0===e.accessHash&&n)throw new TypeError("Channel without accessHash or min info cannot be input");return new le.InputPeerChannel({channelId:e.id,accessHash:e.accessHash})}return e instanceof le.ChannelForbidden?new le.InputPeerChannel({channelId:e.id,accessHash:e.accessHash}):(e instanceof le.UserEmpty||function(e){throw new Error(`Cannot cast ${e.className} to any kind of InputPeer`)}(e),new le.InputPeerEmpty)}function on(e,t=!1){switch(e){case 1:return{id:1,ipAddress:`zws1${t?"-1":""}.web.telegram.org`,port:443};case 2:return{id:2,ipAddress:`zws2${t?"-1":""}.web.telegram.org`,port:443};case 3:return{id:3,ipAddress:`zws3${t?"-1":""}.web.telegram.org`,port:443};case 4:return{id:4,ipAddress:`zws4${t?"-1":""}.web.telegram.org`,port:443};case 5:return{id:5,ipAddress:`zws5${t?"-1":""}.web.telegram.org`,port:443};default:throw new Error(`Cannot find the DC with the ID of ${e}`)}}class sn{}function an(e,t,n){return(t=function(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class cn extends sn{constructor(){super(),an(this,"_serverAddress",void 0),an(this,"_dcId",void 0),an(this,"_port",void 0),an(this,"_takeoutId",void 0),an(this,"_entities",void 0),an(this,"_isTestServer",void 0),this._serverAddress=void 0,this._dcId=0,this._port=void 0,this._takeoutId=void 0,this._isTestServer=!1,this._entities=new Set}get dcId(){return this._dcId}get serverAddress(){return this._serverAddress}get port(){return this._port}get isTestServer(){return this._isTestServer}setDC(e,t,n,r){this._dcId=0|e,this._serverAddress=t,this._port=n,this._isTestServer=r}getAuthKey(e){return new Vt}setAuthKey(e,t){}async load(){}save(){}delete(){}}n(48287).hp;var ln=n(51072),un=n(48287).hp;function dn(e,t){if(!un.from([199,28,174,185,198,177,201,4,142,108,82,47,112,241,63,115,152,13,64,35,142,62,33,193,73,52,208,55,86,61,147,15,72,25,138,10,167,193,64,88,34,148,147,210,37,48,244,219,250,51,111,110,10,201,37,19,149,67,174,212,76,206,124,55,32,253,81,246,148,88,112,90,198,140,212,254,107,107,19,171,220,151,70,81,41,105,50,132,84,241,143,175,140,89,95,100,36,119,254,150,187,42,148,29,91,205,29,74,200,204,73,136,7,8,250,155,55,142,60,79,58,144,96,190,230,124,249,164,164,166,149,129,16,81,144,126,22,39,83,181,107,15,107,65,13,186,116,216,168,75,42,20,179,20,78,14,241,40,71,84,253,23,237,149,13,89,101,180,185,221,70,88,45,177,23,141,22,156,107,196,101,176,214,255,156,163,146,143,239,91,154,228,228,24,252,21,232,62,190,160,248,127,169,255,94,237,112,5,13,237,40,73,244,123,249,89,217,86,133,12,233,41,133,31,13,129,21,246,53,177,5,238,46,78,21,208,75,36,84,191,111,79,173,240,52,177,4,3,17,156,216,227,185,47,204,91]).equals(e)||![3,4,5,7].includes(t))throw new Error("Changing passwords unsupported")}function fn(e){return un.concat([un.alloc(256-e.length),e])}function hn(e){return N(e,256,!1)}function pn(e,t){const n=t.subtract(e);return!(n.lesser(o()(0))||n.bitLength().toJSNumber()<1984||e.bitLength().toJSNumber()<1984||Math.floor((e.bitLength().toJSNumber()+7)/8)>256)}function gn(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++)e[r]^=t[r];return e}async function mn(e,t){const n=await j(un.concat([e.salt1,un.from(t,"utf-8"),e.salt1])),r=await j(un.concat([e.salt2,n,e.salt2])),o=await function(e,t,n){return async function(e,t,n){const r=await crypto.subtle.importKey("raw",e,{name:"PBKDF2"},!1,["deriveBits"]);return C.from(await crypto.subtle.deriveBits({name:"PBKDF2",hash:"SHA-512",salt:t,iterations:n},r,512))}(e,t,n)}(r,e.salt1,1e5);return j(un.concat([e.salt2,o,e.salt2]))}async function yn(e,t){try{dn(e.p,e.g)}catch(e){throw new Error("bad p/g in password")}return hn(U(o()(e.g),D(await mn(e,t),!1),D(e.p,!1)))}async function bn(e,t){const n=e.currentAlgo;if(!(n instanceof le.PasswordKdfAlgoSHA256SHA256PBKDF2HMACSHA512iter100000SHA256ModPow))throw new Error(`Unsupported password algorithm ${n?.className}`);const r=e.srp_B,i=e.srpId;if(!r||!i)throw new Error(`Undefined srp_b  ${e.className}`);const s=await mn(n,t),a=D(n.p,!1),{g:c}=n,l=D(r,!1);try{dn(n.p,c)}catch(e){throw new Error("bad /g in password")}if(!function(e,t){return e.greater(o()(0))&&t.subtract(e).greater(o()(0))}(l,a))throw new Error("bad b in check");const u=D(s,!1),d=fn(n.p),f=hn(o()(c)),h=fn(r),p=U(o()(c),u,a),g=F(D(await j(un.concat([d,f])),!1).multiply(p),a),{a:m,aForHash:y,u:b}=await(async()=>{for(;;){const e=D(L(256),!1),t=U(o()(c),e,a);if(pn(t,a)){const n=hn(t),r=D(await j(un.concat([n,h])),!1);if(r.greater(o()(0)))return{a:e,aForHash:n,u:r}}}})(),v=F(l.subtract(g),a);if(!pn(v,a))throw new Error("bad gB");const _=b.multiply(u),w=U(v,m.add(_),a),[S,x,I,A,C]=await Promise.all([j(hn(w)),j(d),j(f),j(n.salt1),j(n.salt2)]),k=await j(un.concat([gn(x,I),A,C,y,h,S]));return new le.InputCheckPasswordSRP({srpId:i,A:un.from(y),M1:k})}var vn=n(48287).hp,_n=n(80140),wn=(n(23174),n(31481));n(48287).hp;var Sn=n(4350),xn=n(37836),In=n(48287).hp;const An=new BroadcastChannel(Sn.rL);let Cn=[];const kn=(0,xn.nF)(()=>{An.postMessage({type:"localDbUpdate",batchedUpdates:Cn}),Cn=[]},100);function En(e){if(e instanceof Uint8Array)return In.from(e);if("object"==typeof e&&1===Object.keys(e).length&&"value"===Object.keys(e)[0])return o()(e.value);if(Array.isArray(e))return e.map(En);if("object"!=typeof e||!("CONSTRUCTOR_ID"in e))return e;const t=e.className.split(".").reduce((e,t)=>e[t],le),n=function(e){const{flags:t,CONSTRUCTOR_ID:n,SUBCLASS_OF_ID:r,className:o,classType:i,getBytes:s,...a}=e;return a}(e);return new t(Object.keys(n).reduce((e,t)=>(e[t]=En(n[t]),e),{}))}const Tn=["localMessages","chats","users","messages","documents","stickerSets","photos","webDocuments","stories","commonBoxState","channelPtsById"].reduce((e,t)=>{const n=Pn?.[t]??{},r=Object.keys(n).reduce((e,r)=>{if("commonBoxState"===t||"channelPtsById"===t){const t=n;return e[r]=t[r],e}return e[r]=En(n[r]),e},{});return e[t]=function(e,t){return new Proxy(t,{get:(e,t,n)=>Reflect.get(e,t,n),set:(t,n,r)=>(Cn.push({name:e,prop:n,value:r}),kn(),Reflect.set(t,n,r))})}(t,r),e},{});var Pn;wn.Oig&&(globalThis.getLocalDb=()=>Tn),n(48287).hp,o()(0);const Mn="phoneNumber";function On(e,t,n){const{initialMethod:r=Mn}=n;return"phoneNumber"===r?Rn(e,t,n):Nn(e,t,n)}async function Dn(e,t=!1){try{return await e.invoke(new le.updates.GetState),!0}catch(e){if(e instanceof Error&&"Disconnect"===e.message||t)throw e;return!1}}async function Rn(e,t,n){let r,o,i,s=!1;for(;;)try{if("function"==typeof n.phoneNumber)try{r=await n.phoneNumber()}catch(r){if(r instanceof Error&&"RESTART_AUTH_WITH_QR"===r.message)return Nn(e,t,n);throw r}else r=n.phoneNumber;const i=await Fn(e,t,r,n.forceSMS);if(o=i.phoneCodeHash,s=i.isCodeViaApp,"string"!=typeof o)throw new Error("Failed to retrieve phone code hash");break}catch(e){if("function"!=typeof n.phoneNumber)throw e;n.onError(e)}let a,c=!1;for(;;)try{try{i=await n.phoneCode(s)}catch(r){if(r instanceof Error&&"RESTART_AUTH"===r.message)return Rn(e,t,n)}if(!i)throw new Error("Code is empty");const l=await e.invoke(new le.auth.SignIn({phoneNumber:r,phoneCodeHash:o,phoneCode:i}));if(l instanceof le.auth.AuthorizationSignUpRequired){c=!0,a=l.termsOfService;break}return l.user}catch(t){if(t instanceof de&&"SESSION_PASSWORD_NEEDED"===t.errorMessage)return Ln(e,0,n);t instanceof Error?n.onError(t):console.warn("Unexpected error:",t)}if(c)for(;;)try{const[t,i]=await n.firstAndLastNames();if(!t)throw new Error("First name is required");const{user:s}=await e.invoke(new le.auth.SignUp({phoneNumber:r,phoneCodeHash:o,firstName:t,lastName:i||""}));return a&&await e.invoke(new le.help.AcceptTermsOfService({id:a.id})),s}catch(e){n.onError(e)}return n.onError(new Error("Auth failed")),Rn(e,t,n)}async function Nn(e,t,n){let r=!1;const{apiId:i,apiHash:s}=t,a=(async()=>{for(;!r;){const t=await e.invoke(new le.auth.ExportLoginToken({apiId:i,apiHash:s,exceptIds:n.accountIds?.map(e=>o()(e))||[]}));if(!(t instanceof le.auth.LoginToken))throw new Error("Unexpected");const{token:r,expires:a}=t;await Promise.race([n.qrCode({token:r,expires:a}),V(1e3*(a-(0,_n.Fm)()))])}})(),c=new Promise(t=>{e.addEventHandler(e=>{e instanceof le.UpdateLoginToken&&t()},{build:e=>e})});try{await Promise.race([c,a])}catch(r){if(r instanceof Error&&"RESTART_AUTH"===r.message)return await Rn(e,t,n);throw r}finally{r=!0}try{const t=await e.invoke(new le.auth.ExportLoginToken({apiId:i,apiHash:s,exceptIds:n.accountIds?.map(e=>o()(e))||[]}));if(t instanceof le.auth.LoginTokenSuccess&&t.authorization instanceof le.auth.Authorization)return t.authorization.user;if(t instanceof le.auth.LoginTokenMigrateTo){await e._switchDC(t.dcId);const n=await e.invoke(new le.auth.ImportLoginToken({token:t.token}));if(n instanceof le.auth.LoginTokenSuccess&&n.authorization instanceof le.auth.Authorization)return n.authorization.user}}catch(t){if(t instanceof de&&"SESSION_PASSWORD_NEEDED"===t.errorMessage)return Ln(e,0,n);throw t}throw void 0}async function Fn(e,t,n,r=!1){try{const{apiId:o,apiHash:i}=t,s=await e.invoke(new le.auth.SendCode({phoneNumber:n,apiId:o,apiHash:i,settings:new le.CodeSettings}));if(!(s instanceof le.auth.SentCode))throw Error("Unexpected SentCodeSuccess");if(!r||s.type instanceof le.auth.SentCodeTypeSms)return{phoneCodeHash:s.phoneCodeHash,isCodeViaApp:s.type instanceof le.auth.SentCodeTypeApp};const a=await e.invoke(new le.auth.ResendCode({phoneNumber:n,phoneCodeHash:s.phoneCodeHash}));if(!(a instanceof le.auth.SentCode))throw Error("Unexpected SentCodeSuccess");return{phoneCodeHash:a.phoneCodeHash,isCodeViaApp:a.type instanceof le.auth.SentCodeTypeApp}}catch(o){if(o instanceof de&&"AUTH_RESTART"===o.errorMessage)return Fn(e,t,n,r);throw o}}async function Ln(e,t,n,r=!1){for(;;)try{const t=await e.invoke(new le.account.GetPassword),o=await n.password(t.hint,r);if(!o)throw new Error("Password is empty");const i=await bn(t,o),{user:s}=await e.invoke(new le.auth.CheckPassword({password:i}));return s}catch(e){n.onError(e)}}function Bn(e,t,n){return(t=function(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class $n{constructor(e){this.maxWorkers=e,Bn(this,"deferreds",[]),Bn(this,"priorityDeferreds",[]),Bn(this,"activeWorkers",0)}requestWorker(e){if(this.activeWorkers===this.maxWorkers){const t=new Kt.A;return e?this.priorityDeferreds.push(t):this.deferreds.push(t),t.promise}return this.activeWorkers++,Promise.resolve()}releaseWorker(){this.queueLength?(this.priorityDeferreds.shift()||this.deferreds.shift()).resolve():this.activeWorkers--}get queueLength(){return this.deferreds.length+this.priorityDeferreds.length}}class jn{constructor(e){this.isUpload=e}}var Un=n(48287).hp;function zn(e,t,n){return(t=function(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Vn=4096,qn=1048576;class Hn{constructor(e){zn(this,"type",void 0),zn(this,"size",void 0),zn(this,"buffer",void 0),zn(this,"largeFile",void 0),zn(this,"largeFileAccessHandle",void 0),this.size=e,this.type=e&&e>self.maxBufferSize?"opfs":"memory"}async init(){if("opfs"===this.type){if(!FileSystemFileHandle?.prototype.createSyncAccessHandle)throw new Error("`createSyncAccessHandle` is not available. Cannot download files larger than 2GB.");const e=await navigator.storage.getDirectory(),t=await e.getDirectoryHandle("downloads",{create:!0});this.largeFile=await t.getFileHandle(Math.random().toString(),{create:!0}),this.largeFileAccessHandle=await this.largeFile.createSyncAccessHandle()}else this.buffer=this.size?Un.alloc(this.size):Un.alloc(0)}write(e,t){if("opfs"===this.type)this.largeFileAccessHandle.write(e,{at:t});else if(this.size)for(let n=0;n<e.length;n++){if(t+n>=this.buffer.length)return;this.buffer.writeUInt8(e[n],t+n)}else this.buffer=Un.concat([this.buffer,e])}async getData(){return"opfs"===this.type?this.largeFile.getFile():Promise.resolve(this.buffer)}}const Gn=Array(6).fill(void 0).map(()=>new $n(10));async function Wn(e,t,n,r){let{partSizeKb:i,end:s=0}=n;const{fileSize:a,dcId:c,progressCallback:l,isPriority:u,start:d=0}=n,f="id"in t?t.id:void 0,h=(...e)=>{r&&console.log(`⬇️ [${f?.toString()}/${n.dcId}]`,...e)};h("Downloading file...");const p=Boolean(e.isPremium);a&&(s=s&&s<a?s:a-1);const g=s?s-d+1:void 0;i||(i=a?function(e){if(e<=65536)return 64;if(e<=104857600)return 128;if(e<=786432e3)return 256;if(e<=2097152e3)return 512;if(e<=4194304e3)return 1024;throw new Error("File size too large")}(g||a):64);const m=1024*i,y=g?Math.ceil(g/m):1,b=!s,v=Boolean(a)&&a>=10485760&&!b;let _;if(m%Vn!==0)throw new Error("The part size must be evenly divisible by 4096");e._log.info(`Downloading file in chunks of ${m} bytes`);const w=new Hn(g),S=[];let x=d,I=!1,A=0;l&&l(A);let C=!1;for(await w.init();;){let n=m,i=!1;Math.floor(x/qn)!==Math.floor((x+n-1)/qn)&&(n=qn-x%qn,i=!0),x%Vn===0&&n%Vn===0||(i=!0);const a=Kn(p,v);if(await Gn[a].requestWorker(u),_&&await _.promise,b&&(_=new Kt.A),I){Gn[a].releaseWorker();break}const f=(...e)=>{h(`[${a}/${c}]`,...e)};if(S.push((async u=>{for(;;){let h;try{let g=!1;r&&setTimeout(()=>{g||f(`❗️️ getSender took too long ${u}`)},8e3),h=await e.getSender(c,a,p),g=!0;let m=!1;r&&setTimeout(()=>{m||f(`❗️️ sender.send took too long ${u}`)},6e3);const b=await Promise.race([h.send(new le.upload.GetFile({location:t,offset:o()(u),limit:n,precise:i||void 0})),V(6e4).then(()=>c===e.session.dcId?(f(`Download timed out ${u}`),Promise.reject(new Error("USER_CANCELED"))):(f(`Download timed out [not main] ${u}`),Promise.reject(new Error("SESSION_REVOKED"))))]);if(e.releaseExportedSender(h),b instanceof le.upload.FileCdnRedirect)throw new Error("CDN download not supported");if(m=!0,l){if(l.isCanceled)throw new Error("USER_CANCELED");A+=1/y,f(`⬇️️ ${100*A}%`),l(A)}return!s&&b.bytes.length<n&&(I=!0),Gn[a].releaseWorker(),_&&_.resolve(),void w.write(b.bytes,u-d)}catch(t){if(h&&!h.isConnected()){await V(1e3);continue}if(t instanceof _e){t instanceof we&&!C&&(h?._updateCallback(new jn(!1)),C=!0),await V(1e3*t.seconds);continue}throw f(`Ended not gracefully ${u}`),Gn[a].releaseWorker(),_&&_.resolve(),I=!0,h&&e.releaseExportedSender(h),t}}})(x)),x+=n,s&&x>s)break}return await Promise.all(S),w.getData()}function Kn(e,t){const n=e?6:3;let r=0,o=1/0;for(let e=0;e<n;e++){const n=Gn[e];if(!n.queueLength)return e;if(!t&&n.queueLength<=5)return e;n.queueLength<=o&&(r=e,o=n.activeWorkers)}return r}var Yn=n(48287).hp;const Jn=Array(6).fill(void 0).map(()=>new $n(10));var Xn=n(48287).hp;function Zn(e,t,n){return(t=function(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Qn=131072,er=["u","v","w","y","d","x","c","m","b","a","s","f","i","j"];class tr{constructor(e,t,n,r=tr.DEFAULT_OPTIONS){if(Zn(this,"_args",void 0),Zn(this,"session",void 0),Zn(this,"apiHash",void 0),Zn(this,"apiId",void 0),Zn(this,"defaultDcId",void 0),Zn(this,"_useIPV6",void 0),Zn(this,"_shouldForceHttpTransport",void 0),Zn(this,"_shouldAllowHttpTransport",void 0),Zn(this,"_shouldDebugExportedSenders",void 0),Zn(this,"_log",void 0),Zn(this,"floodSleepLimit",void 0),Zn(this,"_connection",void 0),Zn(this,"_fallbackConnection",void 0),Zn(this,"_sender",void 0),Zn(this,"_eventBuilders",void 0),Zn(this,"_requestRetries",void 0),Zn(this,"_connectionRetries",void 0),Zn(this,"_connectionRetriesToFallback",void 0),Zn(this,"_retryDelay",void 0),Zn(this,"_retryMainConnectionDelay",void 0),Zn(this,"_timeout",void 0),Zn(this,"_autoReconnect",void 0),Zn(this,"_config",void 0),Zn(this,"_exportedSenderPromises",{}),Zn(this,"_exportedSenderRefCounter",{}),Zn(this,"_waitingForAuthKey",{}),Zn(this,"_exportedSenderReleaseTimeouts",{}),Zn(this,"_loopStarted",!1),Zn(this,"_isSwitchingDc",!1),Zn(this,"_destroyed",!1),Zn(this,"_connectedDeferred",new Kt.A),Zn(this,"pingCallback",void 0),Zn(this,"_initWith",void 0),Zn(this,"isPremium",!1),Zn(this,"_lastRequest",Date.now()),!t||!n||!Number.isFinite(t))throw Error('Your API ID or Hash are invalid. Please read "Requirements" on README.md');const o={...tr.DEFAULT_OPTIONS,...r};if(this.apiId=t,this.apiHash=n,this.defaultDcId=o.dcId||2,this._useIPV6=o.useIPV6,this._shouldForceHttpTransport=o.shouldForceHttpTransport,this._shouldAllowHttpTransport=o.shouldAllowHttpTransport,this._shouldDebugExportedSenders=o.shouldDebugExportedSenders,"string"==typeof o.baseLogger?this._log=new rt:this._log=o.baseLogger,"string"!=typeof e&&e){if(!(e instanceof sn))throw new Error("The given session must be str or a session instance")}else try{throw new Error("not implemented")}catch(t){e=new cn}this.session=e,this.floodSleepLimit=o.floodSleepLimit,this._eventBuilders=[],this._requestRetries=o.requestRetries,this._connectionRetries=o.connectionRetries,this._connectionRetriesToFallback=o.connectionRetriesToFallback,this._retryDelay=o.retryDelay||0,this._retryMainConnectionDelay=o.retryMainConnectionDelay||0,this._timeout=o.timeout,this._autoReconnect=o.autoReconnect,this._connection=o.connection,this._fallbackConnection=o.fallbackConnection,this._initWith=e=>new le.InvokeWithLayer({layer:211,query:new le.InitConnection({apiId:this.apiId,deviceModel:o.deviceModel||ln.type().toString()||"Unknown",systemVersion:o.systemVersion||ln.release().toString()||"1.0",appVersion:o.appVersion||"1.0",langCode:o.langCode,langPack:o.langPack,systemLangCode:o.systemLangCode,query:e,proxy:void 0})}),this._args=o}async connect(){await this._initSession(),void 0===this._sender&&(this._sender=new Qt(this.session.getAuthKey(),{logger:this._log,dcId:this.session.dcId,retries:this._connectionRetries,retriesToFallback:this._connectionRetriesToFallback,shouldForceHttpTransport:this._shouldForceHttpTransport,shouldAllowHttpTransport:this._shouldAllowHttpTransport,delay:this._retryDelay,retryMainConnectionDelay:this._retryMainConnectionDelay,autoReconnect:this._autoReconnect,connectTimeout:this._timeout,authKeyCallback:this._authKeyCallback.bind(this),updateCallback:this._handleUpdate.bind(this),getShouldDebugExportedSenders:this.getShouldDebugExportedSenders.bind(this),isMainSender:!0}));const e=new this._connection({ip:this.session.serverAddress,port:this.session.port,dcId:this.session.dcId,loggers:this._log,isTestServer:this.session.isTestServer}),t=new this._fallbackConnection({ip:this.session.serverAddress,port:this.session.port,dcId:this.session.dcId,loggers:this._log,isTestServer:this.session.isTestServer});if(!await this._sender.connect(e,!1,t))return void(this._loopStarted||(this._updateLoop(),this._loopStarted=!0));this.session.setAuthKey(this._sender.authKey),await this._sender.send(this._initWith(new le.help.GetConfig)),this._loopStarted||(this._updateLoop(),this._loopStarted=!0),this._connectedDeferred.resolve(),this._isSwitchingDc=!1;const n=await this._borrowExportedSender(this.session.dcId,!1,void 0,0,this.isPremium);n&&this.releaseExportedSender(n)}async _initSession(){if(await this.session.load(),!this.session.serverAddress||this.session.serverAddress.includes(":")!==this._useIPV6){const e=on(this.defaultDcId);this.session.setDC(this.defaultDcId,e.ipAddress,this._args.useWSS?443:80,this._args.isTestServerRequested)}}setPingCallback(e){this.pingCallback=e}async setForceHttpTransport(e){this._shouldForceHttpTransport=e,await this.disconnect(),this._sender=void 0,await this.connect()}async setAllowHttpTransport(e){this._shouldAllowHttpTransport=e,await this.disconnect(),this._sender=void 0,await this.connect()}setShouldDebugExportedSenders(e){this._shouldDebugExportedSenders=e}getShouldDebugExportedSenders(){return this._shouldDebugExportedSenders}async _updateLoop(){let e;const t=this._sender;if(!t)throw new Error("Sender is not initialized");for(;!this._destroyed;)if(await V(3e3),t.isReconnecting||this._isSwitchingDc)e=void 0;else{try{const n=()=>{var e,n;if(!this._destroyed)return t.send(new le.PingDelayDisconnect({pingId:o()((e=Number.MIN_SAFE_INTEGER,n=Number.MAX_SAFE_INTEGER,e=Math.ceil(e),n=Math.floor(n),Math.floor(Math.random()*(n-e+1))+e)),disconnectDelay:6e4}))},r=Date.now(),i=e?r-e:void 0;if(!i||i<5e3)await rr(()=>nr(n,5e3),3,100);else{let e=setTimeout(()=>{this._handleUpdate(new Mt(Mt.disconnected)),e=void 0},1e3);await nr(n,3e3),e&&(clearTimeout(e),e=void 0),this._handleUpdate(new Mt(Mt.connected))}e=Date.now()}catch(n){if(console.warn(n),e=void 0,t.isReconnecting||this._isSwitchingDc)continue;if(this._destroyed)break;t.reconnect()}if(Date.now()-this._lastRequest>18e5){try{await(this.pingCallback?.())}catch(e){}e=void 0}}await this.disconnect()}async disconnect(){this._sender?.disconnect(),await Promise.all(Object.values(this._exportedSenderPromises).map(e=>Object.values(e).map(e=>e?.then(e=>e?.disconnect()))).flat()),Object.values(this._exportedSenderReleaseTimeouts).forEach(e=>{Object.values(e).forEach(e=>{clearTimeout(e)})}),this._exportedSenderRefCounter={},this._exportedSenderPromises={},this._waitingForAuthKey={}}async destroy(){this._destroyed=!0;try{await this.disconnect(),this._sender?.destroy()}catch(e){}this.session.delete(),this._eventBuilders=[]}async _switchDC(e){if(!this._sender)throw new Error("Sender is not initialized");this._log.info(`Reconnecting to new data center ${e}`);const t=on(e),n=this.session.isTestServer||this._args.isTestServerRequested;return this.session.setDC(e,t.ipAddress,t.port,n),await this._sender.authKey.setKey(void 0),this.session.setAuthKey(void 0),this._isSwitchingDc=!0,await this.disconnect(),this._sender=void 0,this.connect()}_authKeyCallback(e,t){this.session.setAuthKey(e,t)}async _cleanupExportedSender(e,t){this.session.dcId!==e&&this.session.setAuthKey(void 0,e),this._shouldDebugExportedSenders&&console.log(`🧹 Cleanup idx=${t} dcId=${e}`);const n=await this._exportedSenderPromises[e][t];delete this._exportedSenderPromises[e][t],delete this._exportedSenderRefCounter[e][t],n?.disconnect()}async _cleanupExportedSenders(e){const t=Object.values(this._exportedSenderPromises[e]);t.length&&(this.session.dcId!==e&&this.session.setAuthKey(void 0,e),this._exportedSenderPromises[e]={},this._exportedSenderRefCounter[e]={},await Promise.all(t.map(async e=>{const t=await e;t?.disconnect()})))}async _connectSender(e,t,n,r=!1){let o,i=Boolean(e.authKey.getKey());if(!i)if(this._waitingForAuthKey[t]){await this._waitingForAuthKey[t];const n=this.session.getAuthKey(t);i=Boolean(e.authKey?.getKey()),i&&await e.authKey.setKey(n.getKey())}else this._waitingForAuthKey[t]=new Promise(e=>{o=e});const s=on(t,i);for(;;)try{return await e.connect(new this._connection({ip:s.ipAddress,port:s.port,dcId:t,loggers:this._log,isTestServer:this.session.isTestServer,isPremium:!!i&&r}),!1,new this._fallbackConnection({ip:s.ipAddress,port:s.port,dcId:t,loggers:this._log,isTestServer:this.session.isTestServer,isPremium:!!i&&r})),this.session.dcId===t||e._authenticated||await navigator.locks.request("GRAMJS_AUTH_EXPORT",async()=>{this._log.info(`Exporting authorization for data center ${s.ipAddress}`);const n=await this.invoke(new le.auth.ExportAuthorization({dcId:t})),r=this._initWith(new le.auth.ImportAuthorization({id:n.id,bytes:n.bytes}));await e.send(r),e._authenticated=!0}),e._dcId=t,e.userDisconnected=!1,o&&(o(),delete this._waitingForAuthKey[t]),this._shouldDebugExportedSenders&&console.warn(`✅ Connected to exported sender idx=${n} dc=${t}`),e}catch(r){this._shouldDebugExportedSenders&&console.error(`☠️ ERROR! idx=${n} dcId=${t} ${r.message}`),console.error(r),await V(1e3),e.disconnect()}}releaseExportedSender(e){const t=e._dcId,n=e._senderIndex;this._exportedSenderRefCounter[t]&&this._exportedSenderRefCounter[t][n]&&(this._exportedSenderRefCounter[t][n]-=1,this._exportedSenderRefCounter[t][n]<=0&&(this._exportedSenderReleaseTimeouts[t]||(this._exportedSenderReleaseTimeouts[t]={}),this._exportedSenderReleaseTimeouts[t][n]=setTimeout(()=>{this._shouldDebugExportedSenders&&console.log(`[CC] [idx=${n} dcId=${t}] 🚪 Release`),e.disconnect(),this._exportedSenderReleaseTimeouts[t][n]=void 0,this._exportedSenderPromises[t][n]=void 0},3e4)))}async _borrowExportedSender(e,t,n,r,o){const i=r||0;let s,a=!1;this._exportedSenderPromises[e]||(this._exportedSenderPromises[e]={},a=!0),this._exportedSenderRefCounter[e]||(this._exportedSenderRefCounter[e]={}),this._exportedSenderPromises[e][i]&&!t||(this._shouldDebugExportedSenders&&console.warn(`🕒 Connecting to exported sender idx=${i} dc=${e} `+(t?"(reconnect)":"")),this._exportedSenderRefCounter[e][i]=0,this._exportedSenderPromises[e][i]=this._connectSender(n||this._createExportedSender(e,i),e,r,o));try{if(s=await this._exportedSenderPromises[e][i],!s?.isConnected())return s?.isConnecting?(await V(1e3),this._borrowExportedSender(e,!1,s,i,o)):this._borrowExportedSender(e,!0,s,i,o)}catch(t){return console.error(t),this._borrowExportedSender(e,!0,void 0,i,o)}return this._exportedSenderRefCounter[e][i]+=1,this._exportedSenderReleaseTimeouts[e]||(this._exportedSenderReleaseTimeouts[e]={}),this._exportedSenderReleaseTimeouts[e][i]&&(clearTimeout(this._exportedSenderReleaseTimeouts[e][i]),this._exportedSenderReleaseTimeouts[e][i]=void 0),a&&s.send(this._initWith(new le.help.GetConfig)),s}_createExportedSender(e,t){return new Qt(this.session.getAuthKey(e),{logger:this._log,dcId:e,senderIndex:t,retries:this._connectionRetries,retriesToFallback:this._connectionRetriesToFallback,delay:this._retryDelay,retryMainConnectionDelay:this._retryMainConnectionDelay,shouldForceHttpTransport:this._shouldForceHttpTransport,shouldAllowHttpTransport:this._shouldAllowHttpTransport,autoReconnect:this._autoReconnect,connectTimeout:this._timeout,authKeyCallback:this._authKeyCallback.bind(this),isMainSender:e===this.session.dcId,isExported:!0,updateCallback:this._handleUpdate.bind(this),getShouldDebugExportedSenders:this.getShouldDebugExportedSenders.bind(this),onConnectionBreak:()=>this._cleanupExportedSender(e,t)})}getSender(e,t,n){return e?this._borrowExportedSender(e,void 0,void 0,t,n):Promise.resolve(this._sender)}downloadFile(e,t){return async function(e,t,n,r){const{dcId:o}=n;for(let i=0;i<5;i++)try{return await Wn(e,t,n,r)}catch(t){if(!(t instanceof de&&(t.errorMessage.startsWith("SESSION_REVOKED")||t.errorMessage.startsWith("CONNECTION_NOT_INITED"))&&i<4))throw t;await e._cleanupExportedSenders(o)}}(this,e,t,this._shouldDebugExportedSenders)}downloadMedia(e,t){let n;if(e instanceof le.Message||e instanceof le.StoryItem)n=e.media;else if(e instanceof le.MessageService){const t=e.action;"photo"in t&&(n=t.photo)}else n=e;return n instanceof le.MessageMediaWebPage&&n.webpage instanceof le.WebPage&&(n=n.webpage.document||n.webpage.photo),n instanceof le.MessageMediaPhoto||n instanceof le.Photo?this._downloadPhoto(n,t):n instanceof le.MessageMediaDocument||n instanceof le.Document?this._downloadDocument(n,t):n instanceof le.WebDocument||n instanceof le.WebDocumentNoProxy?this._downloadWebDocument(n):void 0}downloadProfilePhoto(e,t=!1){const n=e.photo;if(!(n instanceof le.UserProfilePhoto||n instanceof le.ChatPhoto))return;const r=n.dcId,o=new le.InputPeerPhotoFileLocation({peer:rn(e),photoId:n.photoId,big:t||void 0});return this.downloadFile(o,{dcId:r,isPriority:!0})}downloadStickerSetThumb(e){if(!e.thumbs?.length&&!e.thumbDocumentId)return;const t=e.thumbVersion;return e.thumbDocumentId?this.invoke(new le.messages.GetCustomEmojiDocuments({documentId:[e.thumbDocumentId]})).then(e=>{const t=e[0];if(t&&!(t instanceof le.DocumentEmpty))return this.downloadFile(new le.InputDocumentFileLocation({id:t.id,accessHash:t.accessHash,fileReference:t.fileReference,thumbSize:""}),{fileSize:t.size.toJSNumber(),dcId:t.dcId})}):this.downloadFile(new le.InputStickerSetThumb({stickerset:new le.InputStickerSetID({id:e.id,accessHash:e.accessHash}),thumbVersion:t}),{dcId:e.thumbDcId})}pickFileSize(e,t){if(!e?.length)return;if(!t)return e.reduce((e,t)=>"w"in t?e&&"w"in e&&e.w>t.w?e:t:e,void 0);let n;for(let r=er.indexOf(t);r<er.length;r++)if(n=e.find(e=>"type"in e&&e.type===er[r]),n)return n}_downloadCachedPhotoSize(e){let t;return t=e instanceof le.PhotoStrippedSize?function(e){if(e.length<3||1!==e[0])return e;const t=en.from(tn);return t[164]=e[1],t[166]=e[2],en.concat([t,e.slice(3),nn])}(e.bytes):e.bytes,t}_downloadPhoto(e,t){let n=e;if(e instanceof le.MessageMediaPhoto&&e.photo instanceof le.Photo&&(n=e.photo),!(n instanceof le.Photo))return;const r="u"===t.sizeType||"v"===t.sizeType?n.videoSizes:[],o=this.pickFileSize([...r,...n.sizes],t.sizeType);if(!o||o instanceof le.PhotoSizeEmpty||o instanceof le.VideoSizeEmojiMarkup||o instanceof le.VideoSizeStickerMarkup)return;if(o instanceof le.PhotoCachedSize||o instanceof le.PhotoStrippedSize)return this._downloadCachedPhotoSize(o);let i;return i=o instanceof le.PhotoSizeProgressive?Math.max(...o.sizes):"size"in o?o.size:512,this.downloadFile(new le.InputPhotoFileLocation({id:n.id,accessHash:n.accessHash,fileReference:n.fileReference,thumbSize:o.type}),{dcId:n.dcId,fileSize:i,progressCallback:t.progressCallback})}_downloadDocument(e,t){let n,r=e;if(r instanceof le.MessageMediaDocument&&r.document instanceof le.Document&&(r=r.document),r instanceof le.Document){if(t.sizeType){if(n=this.pickFileSize([...r.thumbs||[],...r.videoThumbs||[]],t.sizeType),!n&&r.mimeType.startsWith("video/"))return;if(n&&(n instanceof le.PhotoCachedSize||n instanceof le.PhotoStrippedSize))return this._downloadCachedPhotoSize(n)}return this.downloadFile(new le.InputDocumentFileLocation({id:r.id,accessHash:r.accessHash,fileReference:r.fileReference,thumbSize:n&&"type"in n?n.type:""}),{fileSize:n&&"size"in n?n.size:r.size.toJSNumber(),progressCallback:t.progressCallback,start:t.start,end:t.end,dcId:r.dcId,workers:t.workers})}}async _downloadWebDocument(e){if(e instanceof le.WebDocumentNoProxy){const t=await fetch(e.url).then(e=>e.arrayBuffer());return Xn.from(t)}try{const t=[];let n=0;for(;;){const r=new le.upload.GetWebFile({location:new le.InputWebFileLocation({url:e.url,accessHash:e.accessHash}),offset:n,limit:Qn}),o=await this._borrowExportedSender(this._config?.webfileDcId||4);if(!o)throw new Error("Failed to obtain sender");const i=await o.send(r);if(this.releaseExportedSender(o),n+=Qn,!i.bytes.length)break;if(t.push(i.bytes),i.bytes.length<Qn)break}return Xn.concat(t)}catch(e){if(e instanceof de&&"WEBFILE_NOT_AVAILABLE"===e.errorMessage)return Xn.alloc(0);throw e}}async downloadStaticMap(e,t,n,r,o,i,s,a){try{const c=[];let l=0;for(;;)try{const u=new le.upload.GetWebFile({location:new le.InputWebFileGeoPointLocation({geoPoint:new le.InputGeoPoint({lat:n,long:t,accuracyRadius:a}),accessHash:e,w:r,h:o,zoom:i,scale:s}),offset:l,limit:Qn}),d=await this._borrowExportedSender(4);if(!d)throw new Error("Failed to obtain sender");const f=await d.send(u);if(this.releaseExportedSender(d),l+=Qn,!f.bytes.length)break;if(c.push(f.bytes),f.bytes.length<Qn)break}catch(e){if(e instanceof _e){console.warn(`getWebFile: sleeping for ${e.seconds}s on flood wait`),await V(1e3*e.seconds);continue}}return Xn.concat(c)}catch(e){if(e instanceof de&&"WEBFILE_NOT_AVAILABLE"===e.errorMessage)return Xn.alloc(0);throw e}}async invoke(e,t,n,r){if("request"!==e.classType)throw new Error("You can only invoke MTProtoRequests");const o=void 0!==t;let i=o?await this.getSender(t):this._sender;this._lastRequest=Date.now(),await this._connectedDeferred.promise;const s=new Jt(e,n);let a=0;for(a=0;a<this._requestRetries;a++){i.addStateToQueue(s);try{const e=await s.promise;return s.finished.resolve(),o&&this.releaseExportedSender(i),e}catch(e){if(e instanceof ge||e instanceof de&&("RPC_CALL_FAIL"===e.errorMessage||"RPC_MCGET_FAIL"===e.errorMessage||e.errorMessage.match(/INTERDC_\d_CALL(_RICH)?_ERROR/)))this._log.warn(`Telegram is having internal issues ${e.constructor.name}`),await V(2e3);else if(e instanceof _e||e instanceof xe){if(!(e.seconds<=this.floodSleepLimit))throw s.finished.resolve(),o&&this.releaseExportedSender(i),e;this._log.info(`Sleeping for ${e.seconds}s on flood wait`),await V(1e3*e.seconds)}else if(e instanceof ve||e instanceof Ie||e instanceof be){if(this._log.info(`Phone migrated to ${e.newDc}`),(e instanceof ve||e instanceof Ie)&&await Dn(this))throw s.finished.resolve(),o&&this.releaseExportedSender(i),e;await this._switchDC(e.newDc),o&&this.releaseExportedSender(i),i=void 0===t?this._sender:await this.getSender(t)}else if(e instanceof Se)await s.isReady(),s.after=void 0;else if(e instanceof de&&"CONNECTION_NOT_INITED"===e.errorMessage)await this.disconnect(),await V(2e3),await this.connect();else{if(!(e instanceof me))throw s.finished.resolve(),o&&this.releaseExportedSender(i),e;if(!r)throw s.finished.resolve(),o&&this.releaseExportedSender(i),e}}s.resetPromise()}throw o&&this.releaseExportedSender(i),new Error(`Request was unsuccessful ${a} time(s)`)}async invokeBeacon(e,t){if("request"!==e.classType)throw new Error("You can only invoke MTProtoRequests");const n=void 0!==t,r=n?await this.getSender(t):this._sender;r.sendBeacon(e),n&&this.releaseExportedSender(r)}setIsPremium(e){this.isPremium=e}async getMe(){try{return(await this.invoke(new le.users.GetUsers({id:[new le.InputUserSelf]})))[0]}catch(e){this._log.warn("error while getting me"),this._log.warn(e)}}async loadConfig(){this._config||(this._config=await this.invoke(new le.help.GetConfig))}async start(e){if(this.isConnected()||await this.connect(),this.loadConfig(),await Dn(this,e.shouldThrowIfUnauthorized))return;const t={apiId:this.apiId,apiHash:this.apiHash};await async function(e,t,n){let r;var o;r="botAuthToken"in n?await async function(e,t,n){const{apiId:r,apiHash:o}=t,{botAuthToken:i}=n,{user:s}=await e.invoke(new le.auth.ImportBotAuthorization({apiId:r,apiHash:o,botAuthToken:i}));return s}(e,t,n):"webAuthToken"in n&&n.webAuthToken?await async function(e,t,n){try{const{apiId:r,apiHash:o}=t,i=await e.invoke(new le.auth.ImportWebTokenAuthorization({webAuthToken:n.webAuthToken,apiId:r,apiHash:o}));if(i instanceof le.auth.Authorization)return i.user;throw new Error("SIGN_UP_REQUIRED")}catch(r){return r instanceof de&&"SESSION_PASSWORD_NEEDED"===r.errorMessage?Ln(e,0,n,!0):(e._log.error(`Failed to login with web token: ${String(r)}`),n.webAuthTokenFailed(),On(e,t,{...n,webAuthToken:void 0}))}}(e,t,n):await On(e,t,n),e._log.info(`Signed in successfully as ${o=r,o instanceof le.User?o.lastName&&o.firstName?`${o.firstName} ${o.lastName}`:o.firstName?o.firstName:o.lastName?o.lastName:"":o instanceof le.Chat||o instanceof le.Channel?o.title:""}`)}(this,t,e)}uploadFile(e){return async function(e,t,n){const{file:r,onProgress:o}=t,i=Boolean(e.isPremium),{name:s,size:a}=r,c=D(L(8),!0,!0),l=a>10485760,u=(...e)=>{n&&console.log(`⬆️ [${c.toString()}]`,...e)};u("Uploading file...");const d=1024*function(e){if(e<=104857600)return 128;if(e<=786432e3)return 256;if(e<=2097152e3)return 512;if(e<=4194304e3)return 512;throw new Error("File size too large")}(a),f=Math.floor((a+d-1)/d),h=Jn.map(({activeWorkers:e})=>e);let p=h.indexOf(Math.min(...h)),g=0;o&&o(g);let m=!1;const y=[];for(let t=0;t<f;t++){const s=p%(i?6:3);if(await Jn[s].requestWorker(),o?.isCanceled){Jn[s].releaseWorker();break}const a=(...e)=>{u(`[${s}]`,...e)},h=r.slice(t*d,(t+1)*d);y.push((async(t,r)=>{for(;;){let u;try{let o=!1;n&&setTimeout(()=>{o||a(`❗️️ getSender took too long j=${t}`)},8e3),u=await e.getSender(e.session.dcId,s,i),o=!0;let d=!1;const h=await r.arrayBuffer();n&&setTimeout(()=>{d||a(`❗️️ sender.send took too long j=${t}`)},6e3),await u.send(l?new le.upload.SaveBigFilePart({fileId:c,filePart:t,fileTotalParts:f,bytes:Yn.from(h)}):new le.upload.SaveFilePart({fileId:c,filePart:t,bytes:Yn.from(h)})),e.releaseExportedSender(u),d=!0}catch(n){if(a(`❗️️️Upload part failed ${n?.toString()} j=${t}`),u&&!u.isConnected()){await V(1e3);continue}if(n instanceof _e){n instanceof we&&!m&&(u?._updateCallback(new jn(!0)),m=!0),await V(1e3*n.seconds);continue}throw Jn[s].releaseWorker(),u&&e.releaseExportedSender(u),n}if(Jn[s].releaseWorker(),o){if(o.isCanceled)throw new Error("USER_CANCELED");g+=1/f,a(100*g+"%"),o(g)}break}})(t,h)),p++}return await Promise.all(y),l?new le.InputFileBig({id:c,parts:f,name:s}):new le.InputFile({id:c,parts:f,name:s,md5Checksum:""})}(this,e,this._shouldDebugExportedSenders)}updateTwoFaSettings(e){return async function(e,{isCheckPassword:t,currentPassword:n,newPassword:r,hint:o="",email:i,emailCodeCallback:s,onEmailCodeError:a}){if(!r&&!n)throw new Error("Neither `currentPassword` nor `newPassword` is present");if(i&&(!s||!a))throw new Error("`email` present without `emailCodeCallback` and `onEmailCodeError`");const c=await e.invoke(new le.account.GetPassword),l=c.newAlgo;if(l instanceof le.PasswordKdfAlgoUnknown)throw new Error("Password algorithm is unknown");l.salt1=vn.concat([l.salt1,L(32)]),!c.hasPassword&&n&&(n=void 0);const u=n?await bn(c,n):new le.InputCheckPasswordEmpty;if(t)await e.invoke(new le.auth.CheckPassword({password:u}));else try{await e.invoke(new le.account.UpdatePasswordSettings({password:u,newSettings:new le.account.PasswordInputSettings({newAlgo:l,newPasswordHash:r?await yn(l,r):vn.alloc(0),hint:o,email:i,newSecureSettings:void 0})}))}catch(t){if(!(t instanceof Ae))throw t;for(;;)try{const n=await s(t.codeLength);if(!n)throw new Error("Code is empty");await e.invoke(new le.account.ConfirmPasswordEmail({code:n}));break}catch(e){a(e)}}}(this,e)}getTmpPassword(e,t){return async function(e,t,n=60){const r=await e.invoke(new le.account.GetPassword);if(!r)return;const o=await bn(r,t);return await e.invoke(new le.account.GetTmpPassword({password:o,period:n}))}(this,e,t)}getCurrentPassword(e){return async function(e,t){const n=await e.invoke(new le.account.GetPassword);if(n)return t?await bn(n,t):new le.InputCheckPasswordEmpty}(this,e)}addEventHandler(e,t){this._eventBuilders.push([t,e])}_handleUpdate(e){if(e instanceof le.Updates||e instanceof le.UpdatesCombined){const t=[];for(const n of[...e.users,...e.chats])t.push(n);this._processUpdate(e,t)}else e instanceof le.UpdateShort?this._processUpdate(e.update,void 0):this._processUpdate(e,void 0)}_processUpdate(e,t){e._entities=t||[];const n={update:e};this._dispatchUpdate(n)}async _dispatchUpdate(e){for(const[t,n]of this._eventBuilders){const r=t.build(e.update);r&&await n(r)}}isConnected(){return!(!this._sender||!this._sender.isConnected())}}function nr(e,t){let n=!1;return Promise.race([e(),V(t).then(()=>n?void 0:Promise.reject(new Error("TIMEOUT")))]).finally(()=>{n=!0})}async function rr(e,t,n){for(let r=0;r<t;r++)try{return await e()}catch(e){if(r===t-1)throw e;await V(n)}}Zn(tr,"DEFAULT_OPTIONS",{connection:class extends bt{constructor(...e){super(...e),Et(this,"ObfuscatedIO",Tt),Et(this,"PacketCodecClass",xt)}},fallbackConnection:_t,useIPV6:!1,timeout:10,requestRetries:5,connectionRetries:1/0,connectionRetriesToFallback:1,retryDelay:1e3,retryMainConnectionDelay:1e4,autoReconnect:!0,sequentialUpdates:!1,floodSleepLimit:60,deviceModel:void 0,systemVersion:void 0,appVersion:void 0,langCode:"en",langPack:"weba",systemLangCode:"en",baseLogger:"gramjs",useWSS:!1,additionalDcsDisabled:!1,dcId:2,isTestServerRequested:!1,shouldAllowHttpTransport:!1,shouldForceHttpTransport:!1,shouldDebugExportedSenders:!1}),n(48894);var or=n(73039);function ir(e,t,n){return(t=function(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const sr={user:0,chat:1,channel:2},ar={0:"user",1:"chat",2:"channel"},cr=e=>e.map(e=>{const t=function(e){const t=Number(e);return t>0?"user":t<-wn.OkV?"channel":"chat"}(e),n=function(e,t){if("user"===t)return o()(e);const n=Number(e);return"channel"===t?o()(-n-wn.OkV):o()(-1*n)}(e,t);return{id:Number(n),type:sr[t]}}),lr=e=>e.map(e=>{if("object"==typeof e){const r=ar[e.type];return t=o()(e.id),"user"===(n=r)?t.toString():"channel"===n?t.add(wn.OkV).negate().toString():t.negate().toString()}var t,n;return!1}).filter(Boolean),ur={user_id:"",curious_info:[],curious_id:[],urgent_info:[],summary_chat_ids:[],ignored_summary_chat_ids:[],urgent_chat_ids:[],ignored_urgent_chat_ids:[],fanorite_chat_ids:[],block_chat_ids:[],chat_ids:[],phone:"",autotranslate:!1,autotranslatelanguage:"en",subscription_info:{subscriptionType:"free",creditBalance:0,subscriptionExpiresAt:"",createdAt:"",updatedAt:"",isExpirated:!1},globalsummarytemplate:"summary-by-chat"},dr=new class{constructor(){ir(this,"settings",ur),ir(this,"user_id",""),ir(this,"timer",void 0),this.intervalUpdate()}intervalUpdate(){const e=localStorage.getItem("telegpt-settings");this.settings=e?JSON.parse(e):ur,this.timer&&clearInterval(this.timer),this.timer=setInterval(()=>{this.getGptSettings()},6e5)}getGptSettings(){this.user_id&&(0,or.cv)(this.user_id).then(e=>{0===e.code&&e.data&&(this.settings=e.data,localStorage.setItem("telegpt-settings",JSON.stringify(this.settings)),this.setGlobalSettings(e.data),e.data.subscription_info&&(0,i.ko)().updateSubscriptionInfo({subscriptionType:e.data.subscription_info.subscriptionType,creditBalance:e.data.subscription_info.creditBalance,createdAt:e.data.subscription_info.createdAt,subscriptionExpiresAt:e.data.subscription_info.subscriptionExpiresAt,isExpirated:e.data.subscription_info.isExpirated}))})}updateGptSettings(e,t){(0,or.P1)(this.user_id,{user_id:this.user_id,settings:e}).then(n=>{t?.(n),0===n.code&&(localStorage.setItem("telegpt-settings",JSON.stringify(this.settings)),this.setGlobalSettings(e))})}set userId(e){this.user_id=e,this.settings.user_id=e}get telegptSettings(){return this.settings}setSettingOption(e,t){const n={...this.settings,...e};this.updateGptSettings(n,t)}setGlobalSettings(e){const{autotranslate:t,autotranslatelanguage:n}=e;(0,i.ko)().setSettingOption({autoTranslate:t||!1}),(0,i.ko)().setSettingOption({autoTranslateLanguage:n||"en"}),(0,i.ko)().setSettingOption({translationLanguage:n||"en"})}updateSummarizeTemplate(e){return new Promise((t,n)=>{(0,or.p)({...e,user_id:this.user_id}).then(n=>{0===n.code&&n.data&&(e.id?this.settings.curious_info=this.settings.curious_info.map(t=>t.id===e.id?n.data:t):this.settings.curious_info.push(n.data)),t(n)}).catch(e=>{n(e)})})}deleteSummarizeTemplate(e){return new Promise((t,n)=>{(0,or.B1)(this.user_id,e).then(n=>{0===n.code&&n.data&&(this.settings.curious_info=this.settings.curious_info.filter(t=>t.id!==e)),t(n)}).catch(e=>{n(e)})})}updateUrgentTopic(e){return new Promise((t,n)=>{(0,or.P3)({...e,user_id:this.user_id}).then(n=>{0===n.code&&n.data&&(e.id?this.settings.urgent_info=this.settings.urgent_info.map(t=>t.id===e.id?n.data:t):this.settings.urgent_info.push(n.data)),t(n)}).catch(e=>{n(e)})})}deleteUrgentTopic(e){return new Promise((t,n)=>{(0,or.T_)(this.user_id,e).then(n=>{0===n.code&&n.data&&(this.settings.urgent_info=this.settings.urgent_info.filter(t=>t.id!==e)),t(n)}).catch(e=>{n(e)})})}}},48894:(e,t,n)=>{"use strict";n.d(t,{Bz:()=>d,LS:()=>l,Yi:()=>u,Zf:()=>a,bM:()=>s,rX:()=>c,v2:()=>i,vG:()=>f,xp:()=>o});var r=n(87679);function o(e){return[parseInt(e.substring(0,2),16),parseInt(e.substring(2,4),16),parseInt(e.substring(4,6),16)]}function i(e){const t=e[0].toString(16),n=e[1].toString(16),r=e[2].toString(16);return(1==t.length?"0"+t:t)+(1==n.length?"0"+n:n)+(1==r.length?"0"+r:r)}function s([e,t,n]){e/=255,t/=255,n/=255;let r,o,i=Math.max(e,t,n),s=Math.min(e,t,n),a=i,c=i-s;if(o=0==i?0:c/i,i==s)r=0;else{switch(i){case e:r=(t-n)/c+(t<n?6:0);break;case t:r=(n-e)/c+2;break;case n:r=(e-t)/c+4}r/=6}return[r,o,a]}function a([e,t,n]){let r,o,i,s=Math.floor(6*e),a=6*e-s,c=n*(1-t),l=n*(1-a*t),u=n*(1-(1-a)*t);switch(s%6){case 0:r=n,o=u,i=c;break;case 1:r=l,o=n,i=c;break;case 2:r=c,o=n,i=u;break;case 3:r=c,o=l,i=n;break;case 4:r=u,o=c,i=n;break;case 5:r=n,o=c,i=l}return[Math.round(255*r),Math.round(255*o),Math.round(255*i)]}async function c(e){const t=[0,0,0];let n,o,i,s,a=-4,c=[0,0,0],l=0;const u=document.createElement("canvas"),d=u.getContext&&u.getContext("2d");if(!d)return t;const f=await(0,r.NN)(e);i=f.naturalHeight||f.offsetHeight||f.height,o=f.naturalWidth||f.offsetWidth||f.width,u.height=i,u.width=o,d.drawImage(f,0,0);try{n=d.getImageData(0,0,o,i)}catch(e){return t}for(s=n.data.length;(a+=20)<s;)0!==n.data[a+3]&&(++l,c[0]+=n.data[a],c[1]+=n.data[a+1],c[2]+=n.data[a+2]);return c[0]=Math.floor(c[0]/l),c[1]=Math.floor(c[1]/l),c[2]=Math.floor(c[2]/l),c}function l(e){const[t,n,r]=e;return.2126*t+.7152*n+.0722*r}function u(e){let[t,n,r]=s(e);return n=Math.min(1,n+.05+.1*(1-n)),r=r>.5?Math.max(0,.65*r):Math.max(0,Math.min(1,1-.65*r)),`#${i(function([e,t,n]){let r=t*Math.min(n,1-n),o=(t,o=(t+e/30)%12)=>n-r*Math.max(Math.min(o-3,9-o,1),-1);return[o(0),o(8),o(4)]}([360*t,n,r]).map(e=>Math.floor(255*e)))}66`}const d=e=>`rgba(${e>>16&255}, ${e>>8&255}, ${255&e}, ${(e>>24&255)/255})`,f=e=>l([e>>16&255,e>>8&255,255&e])>128?"black":"white"},49806:(e,t,n)=>{"use strict";n.d(t,{sb:()=>i,vG:()=>s});var r=n(96540),o=n(50723);const i={token:o.A,override:{override:o.A},hashed:!0},s=r.createContext(i)},50110:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(31481),o=n(2188);const i=!r.MVx;function s(e,t){if(!i)return e();const{rescue:n,always:r,shouldIgnoreError:s}=t??{};try{return e()}catch(e){return n?.(e),void(s||(0,o.H)(e))}finally{r?.()}}},50442:(e,t,n)=>{"use strict";n.d(t,{h6:()=>l,no:()=>u,fG:()=>d,ez:()=>c,wJ:()=>_});var r=n(96454);function o(e,t,n){return(t=function(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var i=n(43336),s=n(37836),a=n(43503);let c=function(e){return e[e.Up=0]="Up",e[e.Down=1]="Down",e[e.Left=2]="Left",e[e.Right=3]="Right",e}({});const l=20,u=10,d=1.5,f=15,h=20,p=150,g=150;function m(e,t){return t?Math.hypot(t.pageX-e.pageX,t.pageY-e.pageY):0}function y(e,t){return{x:(e.pageX+t.pageX)/2,y:(e.pageY+t.pageY)/2}}let b=0;const v=new class{constructor({stability:e=8,sensitivity:t=100,tolerance:n=1.1,delay:r=150}={}){o(this,"stability",void 0),o(this,"sensitivity",void 0),o(this,"tolerance",void 0),o(this,"delay",void 0),o(this,"lastUpDeltas",void 0),o(this,"lastDownDeltas",void 0),o(this,"deltasTimestamp",void 0),this.stability=e,this.sensitivity=t,this.tolerance=n,this.delay=r,this.lastUpDeltas=new Array(2*this.stability).fill(0),this.lastDownDeltas=new Array(2*this.stability).fill(0),this.deltasTimestamp=new Array(2*this.stability).fill(0)}check(e){let t;return void 0!==(e=e.originalEvent||e).wheelDelta?t=e.wheelDelta:void 0!==e.deltaY?t=-40*e.deltaY:void 0===e.detail&&0!==e.detail||(t=-40*e.detail),this.deltasTimestamp.push(Date.now()),this.deltasTimestamp.shift(),t>0?(this.lastUpDeltas.push(t),this.lastUpDeltas.shift(),this.isInertia(1)):(this.lastDownDeltas.push(t),this.lastDownDeltas.shift(),this.isInertia(-1))}isInertia(e){const t=-1===e?this.lastDownDeltas:this.lastUpDeltas;if(void 0===t[0])return e;if(this.deltasTimestamp[2*this.stability-2]+this.delay>Date.now()&&t[0]===t[2*this.stability-1])return!1;const n=t.slice(0,this.stability),r=t.slice(this.stability,2*this.stability),o=n.reduce((e,t)=>e+t),i=r.reduce((e,t)=>e+t),s=o/n.length,a=i/r.length;return Math.abs(s)<=Math.abs(a*this.tolerance)&&this.sensitivity<Math.abs(a)}}({stability:5,sensitivity:25,tolerance:r.H8?1:.6,delay:150});function _(e,t){let n,o=!1,u=!1,d=!1,_=0,w=t.initialZoom??1,S={x:0,y:0},x={x:!1,y:!1};const I=a.A.get();let A,C={x:I.width/2,y:I.height/2};const k=t.minZoom??1,E=t.maxZoom??4;let T=!1;function P(o){const i=o.target,{excludedClosestSelector:s,includedClosestSelector:c,withNativeDrag:u,withCursor:d,onDrag:f}=t;if((e===i||e.contains(i))&&"INPUT"!==i.tagName&&"TEXTAREA"!==i.tagName&&!(s&&(i.matches(s)||i.closest(s))||c&&!i.matches(c)&&!i.closest(c))){if(n=o,"mousedown"===o.type)!u&&f&&o.preventDefault(),document.addEventListener("mousemove",O),document.addEventListener("mouseup",M);else if("touchstart"===o.type){if(r.pz){const e=o.touches[0].pageX;T=e<=l||e>=a.A.get().width-l}i.addEventListener("touchmove",O,{passive:!0}),i.addEventListener("touchend",M,{passive:!0}),i.addEventListener("touchcancel",M,{passive:!0}),"touches"in o&&(void 0===o.pageX&&(o.pageX=o.touches[0].pageX),void 0===o.pageY&&(o.pageY=o.touches[0].pageY),2===o.touches.length&&(_=m(o.touches[0],o.touches[1]),C=y(o.touches[0],o.touches[1])))}d&&document.body.classList.add("cursor-grabbing"),t.onCapture?.(o)}}function M(e){n&&(t.withCursor&&document.body.classList.remove("cursor-grabbing"),document.removeEventListener("mouseup",M),document.removeEventListener("mousemove",O),n.target.removeEventListener("touchcancel",M),n.target.removeEventListener("touchend",M),n.target.removeEventListener("touchmove",O),r.pz&&t.selectorToPreventScroll&&Array.from(document.querySelectorAll(t.selectorToPreventScroll)).forEach(e=>{e.style.overflow=""}),e&&(o?t.onRelease&&t.onRelease(e):"mouseup"===e.type&&(t.onDoubleClick&&Date.now()-b<300?t.onDoubleClick(e,{centerX:n.pageX,centerY:n.pageY}):!t.onClick||"button"in e&&0!==e.button||t.onClick(e),b=Date.now()))),o=!1,u=!1,d=!1,_=0,w=(0,i.qE)(w,k,E),A=void 0,S={x:0,y:0},x={x:!1,y:!1};const s=a.A.get();C={x:s.width/2,y:s.height/2},n=void 0,T=!1}function O(e){if(n){if("touchmove"===e.type&&"touches"in e&&(void 0===e.pageX&&(e.pageX=e.touches[0].pageX),void 0===e.pageY&&(e.pageY=e.touches[0].pageY),t.onZoom&&_>0&&2===e.touches.length)){const n=m(e.touches[0],e.touches[1]),r=y(e.touches[0],e.touches[1]),i=r.x-C.x,s=r.y-C.y,a=n/_;t.onZoom(e,{zoomFactor:a,initialCenterX:C.x,initialCenterY:C.y,dragOffsetX:i,dragOffsetY:s,currentCenterX:r.x,currentCenterY:r.y}),1!==a&&(o=!0)}const i=e.pageX-n.pageX,s=e.pageY-n.pageY;(Math.abs(i)>=f||Math.abs(s)>=f)&&(o=!0);let a=!1;t.onDrag&&(t.onDrag(e,n,{dragOffsetX:i,dragOffsetY:s}),a=!0),t.onSwipe&&!u&&(u=function(e,n,o){if(r.pz&&T)return!1;const i=Math.abs(n),s=Math.abs(o),a=t.swipeThreshold??h;let l;if(i>s&&i>=a?l="x":s>i&&s>=a&&(l="y"),!l)return!1;if(A){if(A!==l)return!1}else A=l;return function(e,t,n,r,o){const i={dragOffsetX:n,dragOffsetY:r};return"x"===t?o(e,n<0?c.Left:c.Right,i):"y"===t&&o(e,r<0?c.Up:c.Down,i)}(e,l,n,o,t.onSwipe)}(e,i,s),a=u),r.pz&&a&&t.selectorToPreventScroll&&Array.from(document.querySelectorAll(t.selectorToPreventScroll)).forEach(e=>{e.style.overflow="hidden"})}}const D=(0,s.sg)(M,g,!1),R=(0,s.sg)(M,p,!1);function N(e){o||(P(e),o=!0,C={x:e.x,y:e.y})}function F(e){if(!t.onZoom&&!t.onDrag)return;if(t.excludedClosestSelector&&(e.target.matches(t.excludedClosestSelector)||e.target.closest(t.excludedClosestSelector)))return;e.preventDefault(),e.stopPropagation();const{doubleTapZoom:r=3}=t;if(t.onDoubleClick&&Object.is(e.deltaX,-0)&&Object.is(e.deltaY,-0)&&e.ctrlKey)return N(e),w=w>1?1:r,t.onDoubleClick(e,{centerX:e.pageX,centerY:e.pageY}),void(o=!1);const s=e.metaKey||e.ctrlKey||e.shiftKey;if(s&&function(e){if(!t.onZoom)return;N(e);const n=e.x-C.x,r=e.y-C.y,o=(0,i.qE)(e.deltaY,-25,25);w-=.01*o,w=(0,i.qE)(w,.5*k,3*E),d=!0,t.onZoom(e,{zoom:(0,i.LI)(w,2),initialCenterX:C.x,initialCenterY:C.y,dragOffsetX:n,dragOffsetY:r,currentCenterX:e.x,currentCenterY:e.y}),R(e)}(e),!s&&!d){const r=v.check(e);(1!==w||r)&&function(e){if(!t.onDrag)return;N(e),x.x&&Math.sign(S.x)!==Math.sign(e.deltaX)||(S.x-=e.deltaX),x.y&&Math.sign(S.y)!==Math.sign(e.deltaY)||(S.y-=e.deltaY);const{x:r,y:o}=S;t.onDrag(e,n,{dragOffsetX:r,dragOffsetY:o},(e,t)=>{x={x:e,y:t}}),D(e)}(e)}}return t.withWheelDrag&&e.addEventListener("wheel",F),e.addEventListener("mousedown",P),document.body.addEventListener("touchstart",P,{passive:!t.isNotPassive}),()=>{M(),document.body.removeEventListener("touchstart",P),e.removeEventListener("mousedown",P),e.removeEventListener("wheel",F)}}},50477:()=>{},50680:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(84051),o=n(87357);const i=(e=!1,t,n=!1,i="fast",s=!1,a=350,c=!1)=>{const[l,u]=(0,r.J0)(!e),d=(0,r.li)(),[f,h]=(0,r.J0)(e&&n);if(e)u(!1),h(!0),d.current&&(window.clearTimeout(d.current),d.current=void 0);else if(h(!1),!l&&!d.current){const e=()=>{u(!0),t&&t(),d.current=void 0};s?e():d.current=window.setTimeout(e,a)}const p=f&&!(s&&!e)||c&&e,g=Boolean(d.current),m=e||g;return{shouldRender:m,transitionClassNames:(0,o.A)(i&&"opacity-transition",i,p&&"open",!p&&"not-open",m&&"shown",!m&&"not-shown",g&&"closing"),hasShownClass:m,hasOpenClass:p,isClosing:g}}},50723:(e,t,n)=>{"use strict";n.d(t,{A:()=>o,r:()=>r});const r={blue:"#1677FF",purple:"#722ED1",cyan:"#13C2C2",green:"#52C41A",magenta:"#EB2F96",pink:"#EB2F96",red:"#F5222D",orange:"#FA8C16",yellow:"#FADB14",volcano:"#FA541C",geekblue:"#2F54EB",gold:"#FAAD14",lime:"#A0D911"},o=Object.assign(Object.assign({},r),{colorPrimary:"#1677ff",colorSuccess:"#52c41a",colorWarning:"#faad14",colorError:"#ff4d4f",colorInfo:"#1677ff",colorLink:"",colorTextBase:"",colorBgBase:"",fontFamily:"-apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial,\n'Noto Sans', sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol',\n'Noto Color Emoji'",fontFamilyCode:"'SFMono-Regular', Consolas, 'Liberation Mono', Menlo, Courier, monospace",fontSize:14,lineWidth:1,lineType:"solid",motionUnit:.1,motionBase:0,motionEaseOutCirc:"cubic-bezier(0.08, 0.82, 0.17, 1)",motionEaseInOutCirc:"cubic-bezier(0.78, 0.14, 0.15, 0.86)",motionEaseOut:"cubic-bezier(0.215, 0.61, 0.355, 1)",motionEaseInOut:"cubic-bezier(0.645, 0.045, 0.355, 1)",motionEaseOutBack:"cubic-bezier(0.12, 0.4, 0.29, 1.46)",motionEaseInBack:"cubic-bezier(0.71, -0.46, 0.88, 0.6)",motionEaseInQuint:"cubic-bezier(0.755, 0.05, 0.855, 0.06)",motionEaseOutQuint:"cubic-bezier(0.23, 1, 0.32, 1)",borderRadius:6,sizeUnit:4,sizeStep:4,sizePopupArrow:16,controlHeight:32,zIndexBase:0,zIndexPopupBase:1e3,opacityImage:1,wireframe:!1,motion:!0})},50805:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r={root:"W4ndaFuS",contentBox:"qIESjPFU",textContent:"cgQoy2xy",hasFullContent:"x0D811xX",inlineWrapper:"CrZTrncJ",singleLine:"j1bGIpWD",strong:"d5ep97lr",messageLink:"Soqky8rY",noEllipsis:"m6kJl7zG",contextContainer:"Rz1leKMF",fluidMultiline:"oL3NoM4Y",fluidBackground:"faqkTF52",info:"Jcta1qBG",stickerWrapper:"F8w9vDlr",channelPhoto:"wnjg6GZj",suggestedAvatar:"ClHX4zX1",suggestedText:"jT6o01vL",actionButton:"LB5i9s3a",title:"Cp_BJqe5",subtitle:"VCJyqpS8",starGift:"lcncBNHa",uniqueGift:"jxcv_A2w",uniqueBackgroundWrapper:"lsTgPDw1",uniqueBackground:"uzTnIOE7",uniqueValue:"pae10ItJ",suggestedPostContainer:"eNm2vJJr",suggestedPostTitle:"mp_JlS2o",suggestedPostInfo:"S5yKhYOF",suggestedPostBalanceTooLowBox:"lYK4izyG",suggestedPostRejectedContentBox:"b_UHz9Pn",suggestedPostContentBox:"HiG8V3U2",hoverable:"Ohq5zfvI",suggestedPostBalanceTooLowTitle:"v8H6hMhz",suggestedPostApprovalTitle:"sx65zyR6",suggestedPostApprovalSection:"jmVfnkV0",suggestedPostRejectedComment:"hrUNI578",suggestedPostRejectedTitle:"xm2OfRXs",rejectedIcon:"PnwAfQgJ"}},50856:(e,t,n)=>{"use strict";n.d(t,{QP:()=>ce});const r=e=>{const t=a(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:e=>{const n=e.split("-");return""===n[0]&&1!==n.length&&n.shift(),o(n,t)||s(e)},getConflictingClassGroupIds:(e,t)=>{const o=n[e]||[];return t&&r[e]?[...o,...r[e]]:o}}},o=(e,t)=>{if(0===e.length)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),i=r?o(e.slice(1),r):void 0;if(i)return i;if(0===t.validators.length)return;const s=e.join("-");return t.validators.find(({validator:e})=>e(s))?.classGroupId},i=/^\[(.+)\]$/,s=e=>{if(i.test(e)){const t=i.exec(e)[1],n=t?.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},a=e=>{const{theme:t,classGroups:n}=e,r={nextPart:new Map,validators:[]};for(const e in n)c(n[e],r,e,t);return r},c=(e,t,n,r)=>{e.forEach(e=>{if("string"!=typeof e)return"function"==typeof e?u(e)?void c(e(r),t,n,r):void t.validators.push({validator:e,classGroupId:n}):void Object.entries(e).forEach(([e,o])=>{c(o,l(t,e),n,r)});(""===e?t:l(t,e)).classGroupId=n})},l=(e,t)=>{let n=e;return t.split("-").forEach(e=>{n.nextPart.has(e)||n.nextPart.set(e,{nextPart:new Map,validators:[]}),n=n.nextPart.get(e)}),n},u=e=>e.isThemeGetter,d=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const o=(o,i)=>{n.set(o,i),t++,t>e&&(t=0,r=n,n=new Map)};return{get(e){let t=n.get(e);return void 0!==t?t:void 0!==(t=r.get(e))?(o(e,t),t):void 0},set(e,t){n.has(e)?n.set(e,t):o(e,t)}}},f=e=>{const{prefix:t,experimentalParseClassName:n}=e;let r=e=>{const t=[];let n,r=0,o=0,i=0;for(let s=0;s<e.length;s++){let a=e[s];if(0===r&&0===o){if(":"===a){t.push(e.slice(i,s)),i=s+1;continue}if("/"===a){n=s;continue}}"["===a?r++:"]"===a?r--:"("===a?o++:")"===a&&o--}const s=0===t.length?e:e.substring(i),a=h(s);return{modifiers:t,hasImportantModifier:a!==s,baseClassName:a,maybePostfixModifierPosition:n&&n>i?n-i:void 0}};if(t){const e=t+":",n=r;r=t=>t.startsWith(e)?n(t.substring(e.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:t,maybePostfixModifierPosition:void 0}}if(n){const e=r;r=t=>n({className:t,parseClassName:e})}return r},h=e=>e.endsWith("!")?e.substring(0,e.length-1):e.startsWith("!")?e.substring(1):e,p=e=>{const t=Object.fromEntries(e.orderSensitiveModifiers.map(e=>[e,!0]));return e=>{if(e.length<=1)return e;const n=[];let r=[];return e.forEach(e=>{"["===e[0]||t[e]?(n.push(...r.sort(),e),r=[]):r.push(e)}),n.push(...r.sort()),n}},g=/\s+/;function m(){let e,t,n=0,r="";for(;n<arguments.length;)(e=arguments[n++])&&(t=y(e))&&(r&&(r+=" "),r+=t);return r}const y=e=>{if("string"==typeof e)return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=y(e[r]))&&(n&&(n+=" "),n+=t);return n};function b(e,...t){let n,o,i,s=function(c){const l=t.reduce((e,t)=>t(e),e());return n=(e=>({cache:d(e.cacheSize),parseClassName:f(e),sortModifiers:p(e),...r(e)}))(l),o=n.cache.get,i=n.cache.set,s=a,a(c)};function a(e){const t=o(e);if(t)return t;const r=((e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:o,sortModifiers:i}=t,s=[],a=e.trim().split(g);let c="";for(let e=a.length-1;e>=0;e-=1){const t=a[e],{isExternal:l,modifiers:u,hasImportantModifier:d,baseClassName:f,maybePostfixModifierPosition:h}=n(t);if(l){c=t+(c.length>0?" "+c:c);continue}let p=!!h,g=r(p?f.substring(0,h):f);if(!g){if(!p){c=t+(c.length>0?" "+c:c);continue}if(g=r(f),!g){c=t+(c.length>0?" "+c:c);continue}p=!1}const m=i(u).join(":"),y=d?m+"!":m,b=y+g;if(s.includes(b))continue;s.push(b);const v=o(g,p);for(let e=0;e<v.length;++e){const t=v[e];s.push(y+t)}c=t+(c.length>0?" "+c:c)}return c})(e,n);return i(e,r),r}return function(){return s(m.apply(null,arguments))}}const v=e=>{const t=t=>t[e]||[];return t.isThemeGetter=!0,t},_=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,w=/^\((?:(\w[\w-]*):)?(.+)\)$/i,S=/^\d+\/\d+$/,x=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,I=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,A=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,C=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,k=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,E=e=>S.test(e),T=e=>!!e&&!Number.isNaN(Number(e)),P=e=>!!e&&Number.isInteger(Number(e)),M=e=>e.endsWith("%")&&T(e.slice(0,-1)),O=e=>x.test(e),D=()=>!0,R=e=>I.test(e)&&!A.test(e),N=()=>!1,F=e=>C.test(e),L=e=>k.test(e),B=e=>!j(e)&&!G(e),$=e=>Q(e,re,N),j=e=>_.test(e),U=e=>Q(e,oe,R),z=e=>Q(e,ie,T),V=e=>Q(e,te,N),q=e=>Q(e,ne,L),H=e=>Q(e,ae,F),G=e=>w.test(e),W=e=>ee(e,oe),K=e=>ee(e,se),Y=e=>ee(e,te),J=e=>ee(e,re),X=e=>ee(e,ne),Z=e=>ee(e,ae,!0),Q=(e,t,n)=>{const r=_.exec(e);return!!r&&(r[1]?t(r[1]):n(r[2]))},ee=(e,t,n=!1)=>{const r=w.exec(e);return!!r&&(r[1]?t(r[1]):n)},te=e=>"position"===e||"percentage"===e,ne=e=>"image"===e||"url"===e,re=e=>"length"===e||"size"===e||"bg-size"===e,oe=e=>"length"===e,ie=e=>"number"===e,se=e=>"family-name"===e,ae=e=>"shadow"===e,ce=b((Symbol.toStringTag,()=>{const e=v("color"),t=v("font"),n=v("text"),r=v("font-weight"),o=v("tracking"),i=v("leading"),s=v("breakpoint"),a=v("container"),c=v("spacing"),l=v("radius"),u=v("shadow"),d=v("inset-shadow"),f=v("text-shadow"),h=v("drop-shadow"),p=v("blur"),g=v("perspective"),m=v("aspect"),y=v("ease"),b=v("animate"),_=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom",G,j],w=()=>[G,j,c],S=()=>[E,"full","auto",...w()],x=()=>[P,"none","subgrid",G,j],I=()=>["auto",{span:["full",P,G,j]},P,G,j],A=()=>[P,"auto",G,j],C=()=>["auto","min","max","fr",G,j],k=()=>["auto",...w()],R=()=>[E,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...w()],N=()=>[e,G,j],F=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom",Y,V,{position:[G,j]}],L=()=>["auto","cover","contain",J,$,{size:[G,j]}],Q=()=>[M,W,U],ee=()=>["","none","full",l,G,j],te=()=>["",T,W,U],ne=()=>[T,M,Y,V],re=()=>["","none",p,G,j],oe=()=>["none",T,G,j],ie=()=>["none",T,G,j],se=()=>[T,G,j],ae=()=>[E,"full",...w()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[O],breakpoint:[O],color:[D],container:[O],"drop-shadow":[O],ease:["in","out","in-out"],font:[B],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[O],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[O],shadow:[O],spacing:["px",T],text:[O],"text-shadow":[O],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",E,j,G,m]}],container:["container"],columns:[{columns:[T,j,G,a]}],"break-after":[{"break-after":["auto","avoid","all","avoid-page","page","left","right","column"]}],"break-before":[{"break-before":["auto","avoid","all","avoid-page","page","left","right","column"]}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:_()}],overflow:[{overflow:["auto","hidden","clip","visible","scroll"]}],"overflow-x":[{"overflow-x":["auto","hidden","clip","visible","scroll"]}],"overflow-y":[{"overflow-y":["auto","hidden","clip","visible","scroll"]}],overscroll:[{overscroll:["auto","contain","none"]}],"overscroll-x":[{"overscroll-x":["auto","contain","none"]}],"overscroll-y":[{"overscroll-y":["auto","contain","none"]}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:S()}],"inset-x":[{"inset-x":S()}],"inset-y":[{"inset-y":S()}],start:[{start:S()}],end:[{end:S()}],top:[{top:S()}],right:[{right:S()}],bottom:[{bottom:S()}],left:[{left:S()}],visibility:["visible","invisible","collapse"],z:[{z:[P,"auto",G,j]}],basis:[{basis:[E,"full","auto",a,...w()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[T,E,"auto","initial","none",j]}],grow:[{grow:["",T,G,j]}],shrink:[{shrink:["",T,G,j]}],order:[{order:[P,"first","last","none",G,j]}],"grid-cols":[{"grid-cols":x()}],"col-start-end":[{col:I()}],"col-start":[{"col-start":A()}],"col-end":[{"col-end":A()}],"grid-rows":[{"grid-rows":x()}],"row-start-end":[{row:I()}],"row-start":[{"row-start":A()}],"row-end":[{"row-end":A()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":C()}],"auto-rows":[{"auto-rows":C()}],gap:[{gap:w()}],"gap-x":[{"gap-x":w()}],"gap-y":[{"gap-y":w()}],"justify-content":[{justify:["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe","normal"]}],"justify-items":[{"justify-items":["start","end","center","stretch","center-safe","end-safe","normal"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch","center-safe","end-safe"]}],"align-content":[{content:["normal","start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"]}],"align-items":[{items:["start","end","center","stretch","center-safe","end-safe",{baseline:["","last"]}]}],"align-self":[{self:["auto","start","end","center","stretch","center-safe","end-safe",{baseline:["","last"]}]}],"place-content":[{"place-content":["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"]}],"place-items":[{"place-items":["start","end","center","stretch","center-safe","end-safe","baseline"]}],"place-self":[{"place-self":["auto","start","end","center","stretch","center-safe","end-safe"]}],p:[{p:w()}],px:[{px:w()}],py:[{py:w()}],ps:[{ps:w()}],pe:[{pe:w()}],pt:[{pt:w()}],pr:[{pr:w()}],pb:[{pb:w()}],pl:[{pl:w()}],m:[{m:k()}],mx:[{mx:k()}],my:[{my:k()}],ms:[{ms:k()}],me:[{me:k()}],mt:[{mt:k()}],mr:[{mr:k()}],mb:[{mb:k()}],ml:[{ml:k()}],"space-x":[{"space-x":w()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":w()}],"space-y-reverse":["space-y-reverse"],size:[{size:R()}],w:[{w:[a,"screen",...R()]}],"min-w":[{"min-w":[a,"screen","none",...R()]}],"max-w":[{"max-w":[a,"screen","none","prose",{screen:[s]},...R()]}],h:[{h:["screen","lh",...R()]}],"min-h":[{"min-h":["screen","lh","none",...R()]}],"max-h":[{"max-h":["screen","lh",...R()]}],"font-size":[{text:["base",n,W,U]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,G,z]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",M,j]}],"font-family":[{font:[K,j,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[o,G,j]}],"line-clamp":[{"line-clamp":[T,"none",G,z]}],leading:[{leading:[i,...w()]}],"list-image":[{"list-image":["none",G,j]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",G,j]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:N()}],"text-color":[{text:N()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:["solid","dashed","dotted","double","wavy"]}],"text-decoration-thickness":[{decoration:[T,"from-font","auto",G,U]}],"text-decoration-color":[{decoration:N()}],"underline-offset":[{"underline-offset":[T,"auto",G,j]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:w()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",G,j]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",G,j]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:F()}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","space","round"]}]}],"bg-size":[{bg:L()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},P,G,j],radial:["",G,j],conic:[P,G,j]},X,q]}],"bg-color":[{bg:N()}],"gradient-from-pos":[{from:Q()}],"gradient-via-pos":[{via:Q()}],"gradient-to-pos":[{to:Q()}],"gradient-from":[{from:N()}],"gradient-via":[{via:N()}],"gradient-to":[{to:N()}],rounded:[{rounded:ee()}],"rounded-s":[{"rounded-s":ee()}],"rounded-e":[{"rounded-e":ee()}],"rounded-t":[{"rounded-t":ee()}],"rounded-r":[{"rounded-r":ee()}],"rounded-b":[{"rounded-b":ee()}],"rounded-l":[{"rounded-l":ee()}],"rounded-ss":[{"rounded-ss":ee()}],"rounded-se":[{"rounded-se":ee()}],"rounded-ee":[{"rounded-ee":ee()}],"rounded-es":[{"rounded-es":ee()}],"rounded-tl":[{"rounded-tl":ee()}],"rounded-tr":[{"rounded-tr":ee()}],"rounded-br":[{"rounded-br":ee()}],"rounded-bl":[{"rounded-bl":ee()}],"border-w":[{border:te()}],"border-w-x":[{"border-x":te()}],"border-w-y":[{"border-y":te()}],"border-w-s":[{"border-s":te()}],"border-w-e":[{"border-e":te()}],"border-w-t":[{"border-t":te()}],"border-w-r":[{"border-r":te()}],"border-w-b":[{"border-b":te()}],"border-w-l":[{"border-l":te()}],"divide-x":[{"divide-x":te()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":te()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:["solid","dashed","dotted","double","hidden","none"]}],"divide-style":[{divide:["solid","dashed","dotted","double","hidden","none"]}],"border-color":[{border:N()}],"border-color-x":[{"border-x":N()}],"border-color-y":[{"border-y":N()}],"border-color-s":[{"border-s":N()}],"border-color-e":[{"border-e":N()}],"border-color-t":[{"border-t":N()}],"border-color-r":[{"border-r":N()}],"border-color-b":[{"border-b":N()}],"border-color-l":[{"border-l":N()}],"divide-color":[{divide:N()}],"outline-style":[{outline:["solid","dashed","dotted","double","none","hidden"]}],"outline-offset":[{"outline-offset":[T,G,j]}],"outline-w":[{outline:["",T,W,U]}],"outline-color":[{outline:N()}],shadow:[{shadow:["","none",u,Z,H]}],"shadow-color":[{shadow:N()}],"inset-shadow":[{"inset-shadow":["none",d,Z,H]}],"inset-shadow-color":[{"inset-shadow":N()}],"ring-w":[{ring:te()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:N()}],"ring-offset-w":[{"ring-offset":[T,U]}],"ring-offset-color":[{"ring-offset":N()}],"inset-ring-w":[{"inset-ring":te()}],"inset-ring-color":[{"inset-ring":N()}],"text-shadow":[{"text-shadow":["none",f,Z,H]}],"text-shadow-color":[{"text-shadow":N()}],opacity:[{opacity:[T,G,j]}],"mix-blend":[{"mix-blend":["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"]}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[T]}],"mask-image-linear-from-pos":[{"mask-linear-from":ne()}],"mask-image-linear-to-pos":[{"mask-linear-to":ne()}],"mask-image-linear-from-color":[{"mask-linear-from":N()}],"mask-image-linear-to-color":[{"mask-linear-to":N()}],"mask-image-t-from-pos":[{"mask-t-from":ne()}],"mask-image-t-to-pos":[{"mask-t-to":ne()}],"mask-image-t-from-color":[{"mask-t-from":N()}],"mask-image-t-to-color":[{"mask-t-to":N()}],"mask-image-r-from-pos":[{"mask-r-from":ne()}],"mask-image-r-to-pos":[{"mask-r-to":ne()}],"mask-image-r-from-color":[{"mask-r-from":N()}],"mask-image-r-to-color":[{"mask-r-to":N()}],"mask-image-b-from-pos":[{"mask-b-from":ne()}],"mask-image-b-to-pos":[{"mask-b-to":ne()}],"mask-image-b-from-color":[{"mask-b-from":N()}],"mask-image-b-to-color":[{"mask-b-to":N()}],"mask-image-l-from-pos":[{"mask-l-from":ne()}],"mask-image-l-to-pos":[{"mask-l-to":ne()}],"mask-image-l-from-color":[{"mask-l-from":N()}],"mask-image-l-to-color":[{"mask-l-to":N()}],"mask-image-x-from-pos":[{"mask-x-from":ne()}],"mask-image-x-to-pos":[{"mask-x-to":ne()}],"mask-image-x-from-color":[{"mask-x-from":N()}],"mask-image-x-to-color":[{"mask-x-to":N()}],"mask-image-y-from-pos":[{"mask-y-from":ne()}],"mask-image-y-to-pos":[{"mask-y-to":ne()}],"mask-image-y-from-color":[{"mask-y-from":N()}],"mask-image-y-to-color":[{"mask-y-to":N()}],"mask-image-radial":[{"mask-radial":[G,j]}],"mask-image-radial-from-pos":[{"mask-radial-from":ne()}],"mask-image-radial-to-pos":[{"mask-radial-to":ne()}],"mask-image-radial-from-color":[{"mask-radial-from":N()}],"mask-image-radial-to-color":[{"mask-radial-to":N()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"]}],"mask-image-conic-pos":[{"mask-conic":[T]}],"mask-image-conic-from-pos":[{"mask-conic-from":ne()}],"mask-image-conic-to-pos":[{"mask-conic-to":ne()}],"mask-image-conic-from-color":[{"mask-conic-from":N()}],"mask-image-conic-to-color":[{"mask-conic-to":N()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:F()}],"mask-repeat":[{mask:["no-repeat",{repeat:["","x","y","space","round"]}]}],"mask-size":[{mask:L()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",G,j]}],filter:[{filter:["","none",G,j]}],blur:[{blur:re()}],brightness:[{brightness:[T,G,j]}],contrast:[{contrast:[T,G,j]}],"drop-shadow":[{"drop-shadow":["","none",h,Z,H]}],"drop-shadow-color":[{"drop-shadow":N()}],grayscale:[{grayscale:["",T,G,j]}],"hue-rotate":[{"hue-rotate":[T,G,j]}],invert:[{invert:["",T,G,j]}],saturate:[{saturate:[T,G,j]}],sepia:[{sepia:["",T,G,j]}],"backdrop-filter":[{"backdrop-filter":["","none",G,j]}],"backdrop-blur":[{"backdrop-blur":re()}],"backdrop-brightness":[{"backdrop-brightness":[T,G,j]}],"backdrop-contrast":[{"backdrop-contrast":[T,G,j]}],"backdrop-grayscale":[{"backdrop-grayscale":["",T,G,j]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[T,G,j]}],"backdrop-invert":[{"backdrop-invert":["",T,G,j]}],"backdrop-opacity":[{"backdrop-opacity":[T,G,j]}],"backdrop-saturate":[{"backdrop-saturate":[T,G,j]}],"backdrop-sepia":[{"backdrop-sepia":["",T,G,j]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":w()}],"border-spacing-x":[{"border-spacing-x":w()}],"border-spacing-y":[{"border-spacing-y":w()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",G,j]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[T,"initial",G,j]}],ease:[{ease:["linear","initial",y,G,j]}],delay:[{delay:[T,G,j]}],animate:[{animate:["none",b,G,j]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[g,G,j]}],"perspective-origin":[{"perspective-origin":_()}],rotate:[{rotate:oe()}],"rotate-x":[{"rotate-x":oe()}],"rotate-y":[{"rotate-y":oe()}],"rotate-z":[{"rotate-z":oe()}],scale:[{scale:ie()}],"scale-x":[{"scale-x":ie()}],"scale-y":[{"scale-y":ie()}],"scale-z":[{"scale-z":ie()}],"scale-3d":["scale-3d"],skew:[{skew:se()}],"skew-x":[{"skew-x":se()}],"skew-y":[{"skew-y":se()}],transform:[{transform:[G,j,"","none","gpu","cpu"]}],"transform-origin":[{origin:_()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:ae()}],"translate-x":[{"translate-x":ae()}],"translate-y":[{"translate-y":ae()}],"translate-z":[{"translate-z":ae()}],"translate-none":["translate-none"],accent:[{accent:N()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:N()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",G,j]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":w()}],"scroll-mx":[{"scroll-mx":w()}],"scroll-my":[{"scroll-my":w()}],"scroll-ms":[{"scroll-ms":w()}],"scroll-me":[{"scroll-me":w()}],"scroll-mt":[{"scroll-mt":w()}],"scroll-mr":[{"scroll-mr":w()}],"scroll-mb":[{"scroll-mb":w()}],"scroll-ml":[{"scroll-ml":w()}],"scroll-p":[{"scroll-p":w()}],"scroll-px":[{"scroll-px":w()}],"scroll-py":[{"scroll-py":w()}],"scroll-ps":[{"scroll-ps":w()}],"scroll-pe":[{"scroll-pe":w()}],"scroll-pt":[{"scroll-pt":w()}],"scroll-pr":[{"scroll-pr":w()}],"scroll-pb":[{"scroll-pb":w()}],"scroll-pl":[{"scroll-pl":w()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",G,j]}],fill:[{fill:["none",...N()]}],"stroke-w":[{stroke:[T,W,U,z]}],stroke:[{stroke:["none",...N()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}}))},51025:function(e,t,n){var r,o,i;e.exports=(o=(r=n(19021)).lib.Base,i=r.enc.Utf8,void(r.algo.HMAC=o.extend({init:function(e,t){e=this._hasher=new e.init,"string"==typeof t&&(t=i.parse(t));var n=e.blockSize,r=4*n;t.sigBytes>r&&(t=e.finalize(t)),t.clamp();for(var o=this._oKey=t.clone(),s=this._iKey=t.clone(),a=o.words,c=s.words,l=0;l<n;l++)a[l]^=1549556828,c[l]^=909522486;o.sigBytes=s.sigBytes=r,this.reset()},reset:function(){var e=this._hasher;e.reset(),e.update(this._iKey)},update:function(e){return this._hasher.update(e),this},finalize:function(e){var t=this._hasher,n=t.finalize(e);return t.reset(),t.finalize(this._oKey.clone().concat(n))}})))},51072:(e,t)=>{t.endianness=function(){return"LE"},t.hostname=function(){return"undefined"!=typeof location?location.hostname:""},t.loadavg=function(){return[]},t.uptime=function(){return 0},t.freemem=function(){return Number.MAX_VALUE},t.totalmem=function(){return Number.MAX_VALUE},t.cpus=function(){return[]},t.type=function(){return"Browser"},t.release=function(){return"undefined"!=typeof navigator?navigator.appVersion:""},t.networkInterfaces=t.getNetworkInterfaces=function(){return{}},t.arch=function(){return"javascript"},t.platform=function(){return"browser"},t.tmpdir=t.tmpDir=function(){return"/tmp"},t.EOL="\n",t.homedir=function(){return"/"}},51217:(e,t,n)=>{"use strict";n.d(t,{Ho:()=>s,Su:()=>a,od:()=>i});var r=n(2543),o=n(13439);function i(e){const t=(0,o.mS)(),n=t?.chatFolders?.aiChatFolders?.activePresetTag;if(!e||!n||!n?.length)return e;const i=t?.chatFolders?.aiChatFolders?.list;return i?.length?i?.filter(e=>(0,r.intersection)(e?.presetTag,n).length)?.map(e=>e?.id??""):e}function s(e){const t=(0,o.mS)(),n=t?.chatFolders?.aiChatFolders?.activeAITag;if(!e||!n||!n?.length)return e;const i=t?.chatFolders?.aiChatFolders?.list;return i?.length?i?.filter(e=>(0,r.intersection)(e?.AITag,n).length)?.map(e=>e?.id??""):e}function a(){const e=(0,o.mS)(),t=e?.chatFolders?.aiChatFolders?.list;if(!Array.isArray(t))return[];const n={};return t.forEach(e=>{(e?.AITag??[]).forEach(e=>{n[e]=(n[e]||0)+1})}),Object.entries(n).sort((e,t)=>t[1]-e[1]).map(([e])=>e).slice(0,10)}},51580:(e,t,n)=>{"use strict";n.d(t,{px:()=>Q,eZ:()=>Z,om:()=>ee,Ar:()=>te,PH:()=>ie,Hn:()=>oe,Ru:()=>K,eu:()=>X,iB:()=>J,fj:()=>Y});var r=n(13439),o=n(31481),i=n(90709),s=n(60919),a=n(30708),c=n(61182),l=n(9705),u=n(9716),d=n(14487),f=n(14235),h=n(4350),p=n(37836),g=n(76526),m=n(72531),y=n(62718),b=n(77787),v=n(95815),_=n(8063),w=n(5556),S=n(9390),x=n(97676);const I=class{static add(e){console.log("[ChatAIMessageQuene] add",e.id);const t=(0,r.mS)(),n=e.content.text?.text;if(n){const o=e.chatId,a=(0,s.hds)(t,o),c=(0,i.DX)(o)?void 0:(0,s.yps)(t,o);if(a&&!c){const{isRestricted:t}=a;e.isOutgoing||t||((0,i.YE)(a)&&!e.isMentioned||S.n.addNewMessage(e),x.J.addNewMessage(e))}const l=(0,s.meB)(t),{emails:u,calendlyUrls:d}=w.s.informations;if(l?.id===e.chatId&&!e.isOutgoing)if(n===_.eW&&d.length){const t=(0,y.lc)({chatId:e.chatId,messageId:e.id,senderId:e.senderId,suggestType:"time"});b.zs?.message?.storeMessage((0,v.Jr)(l.id,[t])[0]),(0,r.ko)().openChatAIWithInfo({chatId:e.chatId}),m.A.emit(m.E.AddRoomAIMessage,t)}else if(n===_.Dq&&u.length){const t=(0,y.lc)({chatId:e.chatId,messageId:e.id,senderId:e.senderId,suggestType:"email"});b.zs?.message?.storeMessage((0,v.Jr)(l.id,[t])[0]),(0,r.ko)().openChatAIWithInfo({chatId:e.chatId}),m.A.emit(m.E.AddRoomAIMessage,t)}}}};var A=n(93900);const C={meeting:["meeting","conference","discussion","call","session"],schedule:["schedule","arrange","plan","organize","book","set up"],time:["time","when","available","free","appointment"],zh:{meeting:["会议","会面","讨论","开会","商讨","洽谈"],schedule:["安排","预定","预约","约","定","组织"],time:["时间","什么时候","何时","方便","有空","空闲"]},en:{meeting:["meeting","conference","discussion","call","session","talk"],schedule:["schedule","arrange","plan","organize","book","set up"],time:["time","when","available","free","appointment","slot"]},fr:{meeting:["réunion","conférence","discussion","rendez-vous","entretien"],schedule:["programmer","organiser","planifier","réserver","fixer"],time:["temps","quand","disponible","libre","créneau"]},de:{meeting:["Meeting","Besprechung","Konferenz","Termin","Gespräch"],schedule:["planen","organisieren","vereinbaren","buchen","einrichten","können wir"],time:["Zeit","wann","verfügbar","frei","Termin","wann haben sie zeit","für eine besprechung"]},es:{meeting:["reunión","conferencia","discusión","cita","encuentro"],schedule:["programar","organizar","agendar","planificar","coordinar"],time:["tiempo","cuándo","disponible","libre","horario"]},ja:{meeting:["会議","ミーティング","打ち合わせ","相談","話し合い"],schedule:["予定","調整","設定","手配","準備","ミーティングの時間を調整","時間を調整しましょう"],time:["時間","いつ","都合","空き","スケジュール","いつお時間ありますか"]},ko:{meeting:["회의","미팅","상담","논의","만남"],schedule:["예정","조율","계획","준비","설정"],time:["시간","언제","가능","여유","일정"]},hi:{meeting:["बैठक","मीटिंग","चर्चा","सभा","मुलाकात"],schedule:["आयोजित","व्यवस्थित","निर्धारित","तय","योजना"],time:["समय","कब","उपलब्ध","खाली","मौका"]}},k=["schedule a meeting","arrange meeting time","plan discussion","organize conference","book appointment","set up call","when are you available","let us meet","安排会议","预定时间","约个会","什么时候方便"],E=new Map;async function T(e){if(E.has(e))return E.get(e);const t=await(0,A.TkF)("feature-extraction","Xenova/all-MiniLM-L6-v2");try{const n=await t(e),r=Array.from(n.data);return E.set(e,r),r}catch(t){return console.warn(`向量计算失败: ${e}`,t),null}}function P(e,t){if(!e||!t||e.length!==t.length)return 0;const n=e.reduce((e,n,r)=>e+n*t[r],0),r=Math.sqrt(e.reduce((e,t)=>e+t*t,0)),o=Math.sqrt(t.reduce((e,t)=>e+t*t,0));return 0===r||0===o?0:n/(r*o)}const M=async function(e){return!(!e||"string"!=typeof e)&&(await async function(e){const t=function(e){const t=e.toLowerCase(),n=function(e){return/[\u3040-\u309f\u30a0-\u30ff]/.test(e)?"ja":/[\uac00-\ud7af]/.test(e)?"ko":/[\u0900-\u097f]/.test(e)?"hi":/[äöüß]/.test(e.toLowerCase())?"de":/[àâéèêëïîôöùûüÿç]/.test(e.toLowerCase())?"fr":/[ñáéíóúü¿¡]/.test(e.toLowerCase())?"es":/[\u4e00-\u9fff]/.test(e)?"zh":"en"}(e),r=C[n]||C.en;let o=0,i=0,s=0;for(const e of r.meeting)t.includes(e.toLowerCase())&&(o+=1);for(const e of r.schedule)t.includes(e.toLowerCase())&&(i+=1);for(const e of r.time)t.includes(e.toLowerCase())&&(s+=1);const a=o+i+s;return{isMeetingIntent:o>0&&(i>0||s>0)||a>=2,confidence:Math.min(a/3,1),details:{language:n,meetingScore:o,scheduleScore:i,timeScore:s,totalScore:a}}}(e),n=await async function(e){try{const t=await T(e);if(!t)return{isMeetingIntent:!1,confidence:0,details:{error:"Vector computation failed"}};let n=0,r="";for(const e of k){const o=await T(e);if(o){const i=P(t,o);i>n&&(n=i,r=e)}}const o=.4;return{isMeetingIntent:n>=o,confidence:n,details:{bestMatch:r,similarity:n,threshold:o}}}catch(e){return console.warn("语义检测失败:",e),{isMeetingIntent:!1,confidence:0,details:{error:e}}}}(e);let r=!1,o=0,i="";return t.isMeetingIntent&&t.confidence>=.5?(r=!0,o=t.confidence,i="keyword"):n.isMeetingIntent&&n.confidence>=.5?(r=!0,o=n.confidence,i="semantic"):(t.isMeetingIntent||n.isMeetingIntent)&&(t.confidence>=n.confidence?(r=t.isMeetingIntent,o=t.confidence,i="keyword"):(r=n.isMeetingIntent,o=n.confidence,i="semantic")),console.log(`检测: "${e}"`),console.log(`语言: ${t.details.language}`),console.log(`关键词: ${t.isMeetingIntent} (置信度: ${t.confidence.toFixed(3)})`),console.log(`语义: ${n.isMeetingIntent} (置信度: ${n.confidence.toFixed(3)})`),console.log(`最终: ${r} (方法: ${i}, 置信度: ${o.toFixed(3)})\n`),{isMeetingIntent:r,confidence:o,method:i,details:{keyword:t,semantic:n}}}(e)).isMeetingIntent},O=150,D=5e3,R=new Set(["destroy"]);let N;const F=new Map,L=new Map;let B=[];const $={chats:{},users:{},documents:{},stickerSets:{},photos:{},webDocuments:{},commonBoxState:{},channelPtsById:{}};let j=!0;(0,d.wr)(e=>{j=e});const U=new BroadcastChannel(h.rL),z=(0,p.Fe)(()=>{const e=B;B=[],N?.postMessage({payloads:e})});function V(e){B.push(e),z()}let q,H=[],G=[],W=!1;function K(e,t){if(q=e,!j)return function(e){U.postMessage({type:"initApi",token:(0,d.g0)(),initialArgs:e})}(t),Promise.resolve();if(!N){o.Oig&&console.log(">>> START LOAD WORKER");const r=new URLSearchParams;h.Xz&&r.set("account",String(h.Xz)),N=new Worker(new URL(n.p+n.u(138),n.b),{name:r.toString()}),function(e){N?.addEventListener("message",({data:t})=>{t?.payloads.forEach(t=>{if("updates"===t.type){let n;if(o.Oig&&(n=performance.now()),t.updates.forEach(ne),t.updates.forEach(e),t.updates.forEach(re),o.Oig){const e=performance.now()-n;e>5&&console.warn(`[API] Slow updates processing: ${t.updates.length} updates in ${e} ms`)}}else if("methodResponse"===t.type)oe(t);else if("methodCallback"===t.type)ie(t);else{if("unhandledError"===t.type){const e=t.error?.message;if(e&&o.LWg.has(e))return;throw new Error(e)}"sendBeacon"===t.type?navigator.sendBeacon(t.url,t.data):"debugLog"===t.type&&(0,c.bO)(t.level,...t.args)}})})}(e),"iOS"===t.platform&&window.addEventListener("focus",()=>{ce(),setTimeout(()=>ce(),1e3)})}return se({type:"initApi",args:[t,$]}).then(()=>{W=!0,G.forEach(e=>{Q(e.fnName,...e.args).then(e.deferred.resolve).catch(e.deferred.reject)}),G=[],H.forEach(e=>{Z(e.fnName,...e.args).then(e.deferred.resolve).catch(e.deferred.reject)}),H=[]})}function Y(e,t,n){$[e][t]=n}function J(e){Object.assign($,e)}function X(e){return se({type:"toggleDebugMode",isEnabled:e})}function Z(e,...t){if(!W){if(R.has(e))return Promise.resolve(void 0);const n=new l.A;return H.push({fnName:e,args:t,deferred:n}),n.promise}const n=se({type:"callMethod",name:e,args:t});return o.Oig&&(async()=>{try{await n}catch(e){}})(),n}function Q(e,...t){if(!W&&j){if(R.has(e))return Promise.resolve(void 0);const n=new l.A;return G.push({fnName:e,args:t,deferred:n}),n.promise}const n=j?se({type:"callMethod",name:e,args:t}):function(e){const t=(0,f.A)(),n={messageId:t,...e},r={messageId:t},o=new Promise((e,t)=>{Object.assign(r,{resolve:e,reject:t})});if("args"in n&&"name"in n&&"function"==typeof n.args[1]){n.withCallback=!0;const e=n.args.pop();r.callback=e,L.set(e,r)}return F.set(t,r),o.catch(()=>{}).finally(()=>{F.delete(t),r.callback&&L.delete(r.callback)}),function(e){U.postMessage({type:"callApi",token:(0,d.g0)(),...e})}(n),o}({name:e,args:t});return o.Oig&&(async()=>{try{await n}catch(e){}})(),n}function ee(e){e.isCanceled=!0;const{messageId:t}=L.get(e)||{};t&&(j?te(t):U.postMessage({type:"cancelApiProgress",token:(0,d.g0)(),messageId:t}))}function te(e){V({type:"cancelProgress",messageId:e})}function ne(e){if("updateMessage"===e["@type"]){if(e.message&&e.message.content&&(0,i.XR)(e.message)){m.A.emit(m.E.NewTextMessage,{message:e.message}),I.add(e.message);const{date:t,id:n,senderId:o,chatId:i}=e.message,s=e.message?.content?.text?.text;if(i&&s){const a=(0,u.L8)(i)?"private":"group";if("private"===a&&async function(e){const{subscriptionInfo:t}=(0,r.mS)();if(("plus"===t.subscriptionType||"pro"===t.subscriptionType)&&!t.isExpirated){const t=e?.content?.text?.text;await M(t)&&m.A.emit(m.E.IntentionToScheduleMeeting,{message:e})}}(e.message),b.zs.tgMessage){const e="private"===a?i:o||"";b.zs.tgMessage.storeTgMessage({chatId:i,sender:e,messageId:n,content:s,chatType:a,timestamp:t||Math.floor(Date.now()/1e3)}).catch(()=>{})}}}}else"updateStory"===e["@type"]?(0,g.ML)(e):"deleteStory"===e["@type"]&&(0,g.Gn)(e)}async function re(e){const t=(0,r.mS)(),o=(0,s.meB)(t);if(!o)return;let i;if("updateMessage"===e["@type"]&&(i=e.message),!i||!i?.id)return;if(o?.id!==i?.chatId)return;const{realTimeAssistants:c}=(0,a.l)(t);if(c?.[o?.id]&&c?.[o?.id]&&("updateMessage"!==e["@type"]||!(i?.content?.video&&!i?.content?.video?.id||i?.content?.document&&!i?.content?.document?.id||i?.content?.voice&&!i?.content?.voice?.id||i?.content?.audio&&!i?.content?.audio?.id))&&t?.currentUserId!==i?.senderId&&o?.id===i?.chatId){const{default:e}=await Promise.all([n.e(5231),n.e(2163)]).then(n.bind(n,58725));e.messageListener(i)}}function oe(e){const t=F.get(e.messageId);t&&(e.error?t.reject(e.error):t.resolve(e.response))}function ie(e){F.get(e.messageId)?.callback?.(...e.callbackArgs)}function se(e){const t=(0,f.A)(),n={messageId:t,...e},r={messageId:t},o=new Promise((e,t)=>{Object.assign(r,{resolve:e,reject:t})});if("args"in n&&"name"in n&&"function"==typeof n.args[1]){n.withCallback=!0;const e=n.args.pop();r.callback=e,L.set(e,r)}return r.DEBUG_payload=n,F.set(t,r),o.catch(()=>{}).finally(()=>{F.delete(t),r.callback&&L.delete(r.callback)}),V(n),o}const ae=Date.now();async function ce(){let e=!1;try{await Promise.race([se({type:"ping"}),(0,p.v7)(O).then(()=>e?void 0:Promise.reject(new Error("HEALTH_CHECK_TIMEOUT")))])}catch(e){console.error(e),Date.now()-ae>=D&&(N?.terminate(),N=void 0,q({"@type":"requestReconnectApi"}))}finally{e=!0}}},51679:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=function(...e){const t={};return e.forEach(e=>{e&&Object.keys(e).forEach(n=>{void 0!==e[n]&&(t[n]=e[n])})}),t}},51892:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(94925);const o=e=>{const t=(0,r.A)(e),n=t.map(e=>e.size),o=t.map(e=>e.lineHeight),i=n[1],s=n[0],a=n[2],c=o[1],l=o[0],u=o[2];return{fontSizeSM:s,fontSize:i,fontSizeLG:a,fontSizeXL:n[3],fontSizeHeading1:n[6],fontSizeHeading2:n[5],fontSizeHeading3:n[4],fontSizeHeading4:n[3],fontSizeHeading5:n[2],lineHeight:c,lineHeightLG:u,lineHeightSM:l,fontHeight:Math.round(c*i),fontHeightLG:Math.round(u*a),fontHeightSM:Math.round(l*s),lineHeightHeading1:o[6],lineHeightHeading2:o[5],lineHeightHeading3:o[4],lineHeightHeading4:o[3],lineHeightHeading5:o[2]}}},52155:function(e,t,n){var r;e.exports=(r=n(19021),n(57165),r.pad.ZeroPadding={pad:function(e,t){var n=4*t;e.clamp(),e.sigBytes+=n-(e.sigBytes%n||n)},unpad:function(e){var t=e.words,n=e.sigBytes-1;for(n=e.sigBytes-1;n>=0;n--)if(t[n>>>2]>>>24-n%4*8&255){e.sigBytes=n+1;break}}},r.pad.ZeroPadding)},52176:(e,t,n)=>{"use strict";function r(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(r=function(){return!!e})()}n.d(t,{A:()=>r})},52187:(e,t,n)=>{"use strict";n.d(t,{Mo:()=>tt,J:()=>v,an:()=>k,lO:()=>Y,Ki:()=>F,zA:()=>R,RC:()=>et,hV:()=>X,IV:()=>Ze});var r=n(64467),o=n(5544),i=n(60436),s=n(89379);const a=function(e){for(var t,n=0,r=0,o=e.length;o>=4;++r,o-=4)t=1540483477*(65535&(t=255&e.charCodeAt(r)|(255&e.charCodeAt(++r))<<8|(255&e.charCodeAt(++r))<<16|(255&e.charCodeAt(++r))<<24))+(59797*(t>>>16)<<16),n=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(o){case 3:n^=(255&e.charCodeAt(r+2))<<16;case 2:n^=(255&e.charCodeAt(r+1))<<8;case 1:n=1540483477*(65535&(n^=255&e.charCodeAt(r)))+(59797*(n>>>16)<<16)}return(((n=1540483477*(65535&(n^=n>>>13))+(59797*(n>>>16)<<16))^n>>>15)>>>0).toString(36)};var c=n(85089),l=n(96540),u=n.t(l,2),d=(n(28104),n(43210),n(23029)),f=n(92901),h="%";function p(e){return e.join(h)}const g=function(){function e(t){(0,d.A)(this,e),(0,r.A)(this,"instanceId",void 0),(0,r.A)(this,"cache",new Map),(0,r.A)(this,"extracted",new Set),this.instanceId=t}return(0,f.A)(e,[{key:"get",value:function(e){return this.opGet(p(e))}},{key:"opGet",value:function(e){return this.cache.get(e)||null}},{key:"update",value:function(e,t){return this.opUpdate(p(e),t)}},{key:"opUpdate",value:function(e,t){var n=t(this.cache.get(e));null===n?this.cache.delete(e):this.cache.set(e,n)}}]),e}();var m="data-token-hash",y="data-css-hash",b="__cssinjs_instance__";const v=l.createContext({hashPriority:"low",cache:function(){var e=Math.random().toString(12).slice(2);if("undefined"!=typeof document&&document.head&&document.body){var t=document.body.querySelectorAll("style[".concat(y,"]"))||[],n=document.head.firstChild;Array.from(t).forEach(function(t){t[b]=t[b]||e,t[b]===e&&document.head.insertBefore(t,n)});var r={};Array.from(document.querySelectorAll("style[".concat(y,"]"))).forEach(function(t){var n,o=t.getAttribute(y);r[o]?t[b]===e&&(null===(n=t.parentNode)||void 0===n||n.removeChild(t)):r[o]=!0})}return new g(e)}(),defaultCache:!0});var _=n(82284),w=n(20998);new RegExp("CALC_UNIT","g");var S=function(){function e(){(0,d.A)(this,e),(0,r.A)(this,"cache",void 0),(0,r.A)(this,"keys",void 0),(0,r.A)(this,"cacheCallTimes",void 0),this.cache=new Map,this.keys=[],this.cacheCallTimes=0}return(0,f.A)(e,[{key:"size",value:function(){return this.keys.length}},{key:"internalGet",value:function(e){var t,n,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o={map:this.cache};return e.forEach(function(e){var t;o=o?null===(t=o)||void 0===t||null===(t=t.map)||void 0===t?void 0:t.get(e):void 0}),null!==(t=o)&&void 0!==t&&t.value&&r&&(o.value[1]=this.cacheCallTimes++),null===(n=o)||void 0===n?void 0:n.value}},{key:"get",value:function(e){var t;return null===(t=this.internalGet(e,!0))||void 0===t?void 0:t[0]}},{key:"has",value:function(e){return!!this.internalGet(e)}},{key:"set",value:function(t,n){var r=this;if(!this.has(t)){if(this.size()+1>e.MAX_CACHE_SIZE+e.MAX_CACHE_OFFSET){var i=this.keys.reduce(function(e,t){var n=(0,o.A)(e,2)[1];return r.internalGet(t)[1]<n?[t,r.internalGet(t)[1]]:e},[this.keys[0],this.cacheCallTimes]),s=(0,o.A)(i,1)[0];this.delete(s)}this.keys.push(t)}var a=this.cache;t.forEach(function(e,o){if(o===t.length-1)a.set(e,{value:[n,r.cacheCallTimes++]});else{var i=a.get(e);i?i.map||(i.map=new Map):a.set(e,{map:new Map}),a=a.get(e).map}})}},{key:"deleteByPath",value:function(e,t){var n,r=e.get(t[0]);if(1===t.length)return r.map?e.set(t[0],{map:r.map}):e.delete(t[0]),null===(n=r.value)||void 0===n?void 0:n[0];var o=this.deleteByPath(r.map,t.slice(1));return r.map&&0!==r.map.size||r.value||e.delete(t[0]),o}},{key:"delete",value:function(e){if(this.has(e))return this.keys=this.keys.filter(function(t){return!function(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}(t,e)}),this.deleteByPath(this.cache,e)}}]),e}();(0,r.A)(S,"MAX_CACHE_SIZE",20),(0,r.A)(S,"MAX_CACHE_OFFSET",5);var x=n(68210),I=0,A=function(){function e(t){(0,d.A)(this,e),(0,r.A)(this,"derivatives",void 0),(0,r.A)(this,"id",void 0),this.derivatives=Array.isArray(t)?t:[t],this.id=I,0===t.length&&(0,x.$e)(t.length>0,"[Ant Design CSS-in-JS] Theme should have at least one derivative function."),I+=1}return(0,f.A)(e,[{key:"getDerivativeToken",value:function(e){return this.derivatives.reduce(function(t,n){return n(e,t)},void 0)}}]),e}(),C=new S;function k(e){var t=Array.isArray(e)?e:[e];return C.has(t)||C.set(t,new A(t)),C.get(t)}var E=new WeakMap,T={},P=new WeakMap;function M(e){var t=P.get(e)||"";return t||(Object.keys(e).forEach(function(n){var r=e[n];t+=n,r instanceof A?t+=r.id:r&&"object"===(0,_.A)(r)?t+=M(r):t+=r}),t=a(t),P.set(e,t)),t}function O(e,t){return a("".concat(t,"_").concat(M(e)))}"random-".concat(Date.now(),"-").concat(Math.random()).replace(/\./g,"");var D=(0,w.A)();function R(e){return"number"==typeof e?"".concat(e,"px"):e}function N(e,t,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(arguments.length>4&&void 0!==arguments[4]&&arguments[4])return e;var i=(0,s.A)((0,s.A)({},o),{},(0,r.A)((0,r.A)({},m,t),y,n)),a=Object.keys(i).map(function(e){var t=i[e];return t?"".concat(e,'="').concat(t,'"'):null}).filter(function(e){return e}).join(" ");return"<style ".concat(a,">").concat(e,"</style>")}var F=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return"--".concat(t?"".concat(t,"-"):"").concat(e).replace(/([a-z0-9])([A-Z])/g,"$1-$2").replace(/([A-Z]+)([A-Z][a-z0-9]+)/g,"$1-$2").replace(/([a-z])([A-Z0-9])/g,"$1-$2").toLowerCase()},L=function(e,t,n){return Object.keys(e).length?".".concat(t).concat(null!=n&&n.scope?".".concat(n.scope):"","{").concat(Object.entries(e).map(function(e){var t=(0,o.A)(e,2),n=t[0],r=t[1];return"".concat(n,":").concat(r,";")}).join(""),"}"):""},B=function(e,t,n){var r={},i={};return Object.entries(e).forEach(function(e){var t,s,a=(0,o.A)(e,2),c=a[0],l=a[1];if(null!=n&&null!==(t=n.preserve)&&void 0!==t&&t[c])i[c]=l;else if(!("string"!=typeof l&&"number"!=typeof l||null!=n&&null!==(s=n.ignore)&&void 0!==s&&s[c])){var u,d=F(c,null==n?void 0:n.prefix);r[d]="number"!=typeof l||null!=n&&null!==(u=n.unitless)&&void 0!==u&&u[c]?String(l):"".concat(l,"px"),i[c]="var(".concat(d,")")}}),[i,L(r,t,{scope:null==n?void 0:n.scope})]},$=n(30981),j=(0,s.A)({},u).useInsertionEffect;const U=j?function(e,t,n){return j(function(){return e(),t()},n)}:function(e,t,n){l.useMemo(e,n),(0,$.A)(function(){return t(!0)},n)},z=void 0!==(0,s.A)({},u).useInsertionEffect?function(e){var t=[],n=!1;return l.useEffect(function(){return n=!1,function(){n=!0,t.length&&t.forEach(function(e){return e()})}},e),function(e){n||t.push(e)}}:function(){return function(e){e()}},V=function(){return!1};function q(e,t,n,r,s){var a=l.useContext(v).cache,c=p([e].concat((0,i.A)(t))),u=z([c]),d=(V(),function(e){a.opUpdate(c,function(t){var r=t||[void 0,void 0],i=(0,o.A)(r,2),s=i[0],a=[void 0===s?0:s,i[1]||n()];return e?e(a):a})});l.useMemo(function(){d()},[c]);var f=a.opGet(c)[1];return U(function(){null==s||s(f)},function(e){return d(function(t){var n=(0,o.A)(t,2),r=n[0],i=n[1];return e&&0===r&&(null==s||s(f)),[r+1,i]}),function(){a.opUpdate(c,function(t){var n=t||[],i=(0,o.A)(n,2),s=i[0],l=void 0===s?0:s,d=i[1];return 0==l-1?(u(function(){!e&&a.opGet(c)||null==r||r(d,!1)}),null):[l-1,d]})}},[c]),f}var H={},G="css",W=new Map,K=0;var Y=function(e,t,n,r){var o=n.getDerivativeToken(e),i=(0,s.A)((0,s.A)({},o),t);return r&&(i=r(i)),i},J="token";function X(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=(0,l.useContext)(v),u=r.cache.instanceId,d=r.container,f=n.salt,h=void 0===f?"":f,p=n.override,g=void 0===p?H:p,_=n.formatToken,w=n.getComputedToken,S=n.cssVar,x=function(e,n){for(var r=E,o=0;o<n.length;o+=1){var s=n[o];r.has(s)||r.set(s,new WeakMap),r=r.get(s)}return r.has(T)||r.set(T,Object.assign.apply(Object,[{}].concat((0,i.A)(t)))),r.get(T)}(0,t),I=M(x),A=M(g),C=S?M(S):"",k=q(J,[h,e.id,I,A,C],function(){var t,n=w?w(x,g,e):Y(x,g,e,_),r=(0,s.A)({},n),i="";if(S){var c=B(n,S.key,{prefix:S.prefix,ignore:S.ignore,unitless:S.unitless,preserve:S.preserve}),l=(0,o.A)(c,2);n=l[0],i=l[1]}var u=O(n,h);n._tokenKey=u,r._tokenKey=O(r,h);var d=null!==(t=null==S?void 0:S.key)&&void 0!==t?t:u;n._themeKey=d,function(e){W.set(e,(W.get(e)||0)+1)}(d);var f="".concat(G,"-").concat(a(u));return n._hashId=f,[n,f,r,i,(null==S?void 0:S.key)||""]},function(e){!function(e,t){W.set(e,(W.get(e)||0)-1);var n=new Set;W.forEach(function(e,t){e<=0&&n.add(t)}),W.size-n.size>K&&n.forEach(function(e){!function(e,t){"undefined"!=typeof document&&document.querySelectorAll("style[".concat(m,'="').concat(e,'"]')).forEach(function(e){var n;e[b]===t&&(null===(n=e.parentNode)||void 0===n||n.removeChild(e))})}(e,t),W.delete(e)})}(e[0]._themeKey,u)},function(e){var t=(0,o.A)(e,4),n=t[0],r=t[3];if(S&&r){var i=(0,c.BD)(r,a("css-variables-".concat(n._themeKey)),{mark:y,prepend:"queue",attachTo:d,priority:-999});i[b]=u,i.setAttribute(m,n._themeKey)}});return k}var Z=n(58168);const Q={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};var ee="comm",te="rule",ne="decl",re="@import",oe="@namespace",ie="@keyframes",se="@layer",ae=Math.abs,ce=String.fromCharCode;function le(e){return e.trim()}function ue(e,t,n){return e.replace(t,n)}function de(e,t,n){return e.indexOf(t,n)}function fe(e,t){return 0|e.charCodeAt(t)}function he(e,t,n){return e.slice(t,n)}function pe(e){return e.length}function ge(e,t){return t.push(e),e}function me(e,t){for(var n="",r=0;r<e.length;r++)n+=t(e[r],r,e,t)||"";return n}function ye(e,t,n,r){switch(e.type){case se:if(e.children.length)break;case re:case oe:case ne:return e.return=e.return||e.value;case ee:return"";case ie:return e.return=e.value+"{"+me(e.children,r)+"}";case te:if(!pe(e.value=e.props.join(",")))return""}return pe(n=me(e.children,r))?e.return=e.value+"{"+n+"}":""}Object.assign;var be=1,ve=1,_e=0,we=0,Se=0,xe="";function Ie(e,t,n,r,o,i,s,a){return{value:e,root:t,parent:n,type:r,props:o,children:i,line:be,column:ve,length:s,return:"",siblings:a}}function Ae(){return Se=we>0?fe(xe,--we):0,ve--,10===Se&&(ve=1,be--),Se}function Ce(){return Se=we<_e?fe(xe,we++):0,ve++,10===Se&&(ve=1,be++),Se}function ke(){return fe(xe,we)}function Ee(){return we}function Te(e,t){return he(xe,e,t)}function Pe(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function Me(e){return le(Te(we-1,Re(91===e?e+2:40===e?e+1:e)))}function Oe(e){for(;(Se=ke())&&Se<33;)Ce();return Pe(e)>2||Pe(Se)>3?"":" "}function De(e,t){for(;--t&&Ce()&&!(Se<48||Se>102||Se>57&&Se<65||Se>70&&Se<97););return Te(e,Ee()+(t<6&&32==ke()&&32==Ce()))}function Re(e){for(;Ce();)switch(Se){case e:return we;case 34:case 39:34!==e&&39!==e&&Re(Se);break;case 40:41===e&&Re(e);break;case 92:Ce()}return we}function Ne(e,t){for(;Ce()&&e+Se!==57&&(e+Se!==84||47!==ke()););return"/*"+Te(t,we-1)+"*"+ce(47===e?e:Ce())}function Fe(e){for(;!Pe(ke());)Ce();return Te(e,we)}function Le(e){return function(e){return xe="",e}(Be("",null,null,null,[""],e=function(e){return be=ve=1,_e=pe(xe=e),we=0,[]}(e),0,[0],e))}function Be(e,t,n,r,o,i,s,a,c){for(var l=0,u=0,d=s,f=0,h=0,p=0,g=1,m=1,y=1,b=0,v="",_=o,w=i,S=r,x=v;m;)switch(p=b,b=Ce()){case 40:if(108!=p&&58==fe(x,d-1)){-1!=de(x+=ue(Me(b),"&","&\f"),"&\f",ae(l?a[l-1]:0))&&(y=-1);break}case 34:case 39:case 91:x+=Me(b);break;case 9:case 10:case 13:case 32:x+=Oe(p);break;case 92:x+=De(Ee()-1,7);continue;case 47:switch(ke()){case 42:case 47:ge(je(Ne(Ce(),Ee()),t,n,c),c),5!=Pe(p||1)&&5!=Pe(ke()||1)||!pe(x)||" "===he(x,-1,void 0)||(x+=" ");break;default:x+="/"}break;case 123*g:a[l++]=pe(x)*y;case 125*g:case 59:case 0:switch(b){case 0:case 125:m=0;case 59+u:-1==y&&(x=ue(x,/\f/g,"")),h>0&&(pe(x)-d||0===g&&47===p)&&ge(h>32?Ue(x+";",r,n,d-1,c):Ue(ue(x," ","")+";",r,n,d-2,c),c);break;case 59:x+=";";default:if(ge(S=$e(x,t,n,l,u,o,a,v,_=[],w=[],d,i),i),123===b)if(0===u)Be(x,t,S,S,_,i,d,a,w);else{switch(f){case 99:if(110===fe(x,3))break;case 108:if(97===fe(x,2))break;default:u=0;case 100:case 109:case 115:}u?Be(e,S,S,r&&ge($e(e,S,S,0,0,o,a,v,o,_=[],d,w),w),o,w,d,a,r?_:w):Be(x,S,S,S,[""],w,0,a,w)}}l=u=h=0,g=y=1,v=x="",d=s;break;case 58:d=1+pe(x),h=p;default:if(g<1)if(123==b)--g;else if(125==b&&0==g++&&125==Ae())continue;switch(x+=ce(b),b*g){case 38:y=u>0?1:(x+="\f",-1);break;case 44:a[l++]=(pe(x)-1)*y,y=1;break;case 64:45===ke()&&(x+=Me(Ce())),f=ke(),u=d=pe(v=x+=Fe(Ee())),b++;break;case 45:45===p&&2==pe(x)&&(g=0)}}return i}function $e(e,t,n,r,o,i,s,a,c,l,u,d){for(var f=o-1,h=0===o?i:[""],p=function(e){return e.length}(h),g=0,m=0,y=0;g<r;++g)for(var b=0,v=he(e,f+1,f=ae(m=s[g])),_=e;b<p;++b)(_=le(m>0?h[b]+" "+v:ue(v,/&\f/g,h[b])))&&(c[y++]=_);return Ie(e,t,n,0===o?te:a,c,l,u,d)}function je(e,t,n,r){return Ie(e,t,n,ee,ce(Se),he(e,2,-2),0,r)}function Ue(e,t,n,r,o){return Ie(e,t,n,ne,he(e,0,r),he(e,r+1,-1),r,o)}var ze,Ve="data-ant-cssinjs-cache-path",qe="_FILE_STYLE__",He=!0;var Ge="_multi_value_";function We(e){return me(Le(e),ye).replace(/\{%%%\:[^;];}/g,";")}var Ke=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{root:!0,parentSelectors:[]},a=r.root,c=r.injectHash,l=r.parentSelectors,u=n.hashId,d=n.layer,f=(n.path,n.hashPriority),h=n.transformers,p=void 0===h?[]:h,g=(n.linters,""),m={};function y(t){var r=t.getName(u);if(!m[r]){var i=e(t.style,n,{root:!1,parentSelectors:l}),s=(0,o.A)(i,1)[0];m[r]="@keyframes ".concat(t.getName(u)).concat(s)}}var b=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return t.forEach(function(t){Array.isArray(t)?e(t,n):t&&n.push(t)}),n}(Array.isArray(t)?t:[t]);return b.forEach(function(t){var r="string"!=typeof t||a?t:{};if("string"==typeof r)g+="".concat(r,"\n");else if(r._keyframe)y(r);else{var d=p.reduce(function(e,t){var n;return(null==t||null===(n=t.visit)||void 0===n?void 0:n.call(t,e))||e},r);Object.keys(d).forEach(function(t){var r=d[t];if("object"!==(0,_.A)(r)||!r||"animationName"===t&&r._keyframe||function(e){return"object"===(0,_.A)(e)&&e&&("_skip_check_"in e||Ge in e)}(r)){var h;function C(e,t){var n=e.replace(/[A-Z]/g,function(e){return"-".concat(e.toLowerCase())}),r=t;Q[e]||"number"!=typeof r||0===r||(r="".concat(r,"px")),"animationName"===e&&null!=t&&t._keyframe&&(y(t),r=t.getName(u)),g+="".concat(n,":").concat(r,";")}var p=null!==(h=null==r?void 0:r.value)&&void 0!==h?h:r;"object"===(0,_.A)(r)&&null!=r&&r[Ge]&&Array.isArray(p)?p.forEach(function(e){C(t,e)}):C(t,p)}else{var b=!1,v=t.trim(),w=!1;(a||c)&&u?v.startsWith("@")?b=!0:v=function(e,t,n){if(!t)return e;var r=".".concat(t),o="low"===n?":where(".concat(r,")"):r;return e.split(",").map(function(e){var t,n=e.trim().split(/\s+/),r=n[0]||"",s=(null===(t=r.match(/^\w+/))||void 0===t?void 0:t[0])||"";return[r="".concat(s).concat(o).concat(r.slice(s.length))].concat((0,i.A)(n.slice(1))).join(" ")}).join(",")}("&"===v?"":t,u,f):!a||u||"&"!==v&&""!==v||(v="",w=!0);var S=e(r,n,{root:w,injectHash:b,parentSelectors:[].concat((0,i.A)(l),[v])}),x=(0,o.A)(S,2),I=x[0],A=x[1];m=(0,s.A)((0,s.A)({},m),A),g+="".concat(v).concat(I)}})}}),a?d&&(g&&(g="@layer ".concat(d.name," {").concat(g,"}")),d.dependencies&&(m["@layer ".concat(d.name)]=d.dependencies.map(function(e){return"@layer ".concat(e,", ").concat(d.name,";")}).join("\n"))):g="{".concat(g,"}"),[g,m]};function Ye(e,t){return a("".concat(e.join("%")).concat(t))}function Je(){return null}var Xe="style";function Ze(e,t){var n=e.token,a=e.path,u=e.hashId,d=e.layer,f=e.nonce,h=e.clientOnly,p=e.order,g=void 0===p?0:p,_=l.useContext(v),S=_.autoClear,x=(_.mock,_.defaultCache),I=_.hashPriority,A=_.container,C=_.ssrInline,k=_.transformers,E=_.linters,T=_.cache,P=_.layer,M=n._tokenKey,O=[M];P&&O.push("layer"),O.push.apply(O,(0,i.A)(a));var R=D,N=q(Xe,O,function(){var e=O.join("|");if(function(e){return function(){if(!ze&&(ze={},(0,w.A)())){var e=document.createElement("div");e.className=Ve,e.style.position="fixed",e.style.visibility="hidden",e.style.top="-9999px",document.body.appendChild(e);var t=getComputedStyle(e).content||"";(t=t.replace(/^"/,"").replace(/"$/,"")).split(";").forEach(function(e){var t=e.split(":"),n=(0,o.A)(t,2),r=n[0],i=n[1];ze[r]=i});var n,r=document.querySelector("style[".concat(Ve,"]"));r&&(He=!1,null===(n=r.parentNode)||void 0===n||n.removeChild(r)),document.body.removeChild(e)}}(),!!ze[e]}(e)){var n=function(e){var t=ze[e],n=null;if(t&&(0,w.A)())if(He)n=qe;else{var r=document.querySelector("style[".concat(y,'="').concat(ze[e],'"]'));r?n=r.innerHTML:delete ze[e]}return[n,t]}(e),r=(0,o.A)(n,2),i=r[0],s=r[1];if(i)return[i,M,s,{},h,g]}var c=t(),l=Ke(c,{hashId:u,hashPriority:I,layer:P?d:void 0,path:a.join("-"),transformers:k,linters:E}),f=(0,o.A)(l,2),p=f[0],m=f[1],b=We(p),v=Ye(O,b);return[b,M,v,m,h,g]},function(e,t){var n=(0,o.A)(e,3)[2];(t||S)&&D&&(0,c.m6)(n,{mark:y,attachTo:A})},function(e){var t=(0,o.A)(e,4),n=t[0],r=(t[1],t[2]),i=t[3];if(R&&n!==qe){var a={mark:y,prepend:!P&&"queue",attachTo:A,priority:g},l="function"==typeof f?f():f;l&&(a.csp={nonce:l});var u=[],d=[];Object.keys(i).forEach(function(e){e.startsWith("@layer")?u.push(e):d.push(e)}),u.forEach(function(e){(0,c.BD)(We(i[e]),"_layer-".concat(e),(0,s.A)((0,s.A)({},a),{},{prepend:!0}))});var h=(0,c.BD)(n,r,a);h[b]=T.instanceId,h.setAttribute(m,M),d.forEach(function(e){(0,c.BD)(We(i[e]),"_effect-".concat(e),a)})}}),F=(0,o.A)(N,3),L=F[0],B=F[1],$=F[2];return function(e){var t;return t=C&&!R&&x?l.createElement("style",(0,Z.A)({},(0,r.A)((0,r.A)({},m,B),y,$),{dangerouslySetInnerHTML:{__html:L}})):l.createElement(Je,null),l.createElement(l.Fragment,null,t,e)}}var Qe="cssVar";const et=function(e,t){var n=e.key,r=e.prefix,s=e.unitless,a=e.ignore,u=e.token,d=e.scope,f=void 0===d?"":d,h=(0,l.useContext)(v),p=h.cache.instanceId,g=h.container,_=u._tokenKey,w=[].concat((0,i.A)(e.path),[n,f,_]);return q(Qe,w,function(){var e=t(),i=B(e,n,{prefix:r,unitless:s,ignore:a,scope:f}),c=(0,o.A)(i,2),l=c[0],u=c[1];return[l,u,Ye(w,u),n]},function(e){var t=(0,o.A)(e,3)[2];D&&(0,c.m6)(t,{mark:y,attachTo:g})},function(e){var t=(0,o.A)(e,3),r=t[1],i=t[2];if(r){var s=(0,c.BD)(r,i,{mark:y,prepend:"queue",attachTo:g,priority:-999});s[b]=p,s.setAttribute(m,n)}})};(0,r.A)((0,r.A)((0,r.A)({},Xe,function(e,t,n){var r=(0,o.A)(e,6),i=r[0],s=r[1],a=r[2],c=r[3],l=r[4],u=r[5],d=(n||{}).plain;if(l)return null;var f=i,h={"data-rc-order":"prependQueue","data-rc-priority":"".concat(u)};return f=N(i,s,a,h,d),c&&Object.keys(c).forEach(function(e){if(!t[e]){t[e]=!0;var n=N(We(c[e]),s,"_effect-".concat(e),h,d);e.startsWith("@layer")?f=n+f:f+=n}}),[u,a,f]}),J,function(e,t,n){var r=(0,o.A)(e,5),i=r[2],s=r[3],a=r[4],c=(n||{}).plain;if(!s)return null;var l=i._tokenKey;return[-999,l,N(s,a,l,{"data-rc-order":"prependQueue","data-rc-priority":"".concat(-999)},c)]}),Qe,function(e,t,n){var r=(0,o.A)(e,4),i=r[1],s=r[2],a=r[3],c=(n||{}).plain;return i?[-999,s,N(i,a,s,{"data-rc-order":"prependQueue","data-rc-priority":"".concat(-999)},c)]:null});const tt=function(){function e(t,n){(0,d.A)(this,e),(0,r.A)(this,"name",void 0),(0,r.A)(this,"style",void 0),(0,r.A)(this,"_keyframe",!0),this.name=t,this.style=n}return(0,f.A)(e,[{key:"getName",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e?"".concat(e,"-").concat(this.name):this.name}}]),e}();function nt(e){return e.notSplit=!0,e}nt(["borderTop","borderBottom"]),nt(["borderTop"]),nt(["borderBottom"]),nt(["borderLeft","borderRight"]),nt(["borderLeft"]),nt(["borderRight"])},52491:(e,t,n)=>{"use strict";n.d(t,{D0:()=>p,On:()=>u,P_:()=>d,cp:()=>h,mS:()=>f});var r=n(61433),o=n(66644),i=n(98221),s=n(19314);const a=["female_sign","male_sign","medical_symbol"],c=127397;function l(e){const t=e.split("-").map(e=>parseInt(e,16));return String.fromCodePoint(...t)}const u=new Set;function d(e){const t=e.currentTarget;u.add(e.currentTarget.dataset.path),(0,o.RK)(()=>{(0,r.YM)(t,"open")})}const f=(0,s.A)(function(e){return function(e){let t;if(1===e.length)t=e.charCodeAt(0).toString(16).padStart(4,"0");else{const n=[];for(let t=0;t<e.length;t++)e.charCodeAt(t)>=55296&&e.charCodeAt(t)<=56319?e.charCodeAt(t+1)>=56320&&e.charCodeAt(t+1)<=57343&&n.push(1024*(e.charCodeAt(t)-55296)+(e.charCodeAt(t+1)-56320)+65536):(e.charCodeAt(t)<55296||e.charCodeAt(t)>57343)&&n.push(e.charCodeAt(t));t=n.map(e=>e.toString(16).padStart(4,"0")).join("-")}return t}((0,i.a)(e))});function h(e){const t={categories:[],emojis:{}};for(let n=0;n<e.length;n+=2){const r={id:e[n][0],name:e[n][1],emojis:[]};for(let o=0;o<e[n+1].length;o++){const i=e[n+1][o];a.includes(i[1][0])||(r.emojis.push(i[1][0]),t.emojis[i[1][0]]={id:i[1][0],names:i[1],native:l(i[0]),image:i[0].toLowerCase()})}t.categories.push(r)}return t}function p(e){if("FT"===e)return"🏴‍☠️";const t=e.toUpperCase();if(!/^[A-Z]{2}$/.test(t))return e;const n=[...t].map(e=>e.codePointAt(0)+c);return String.fromCodePoint(...n)}},52674:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});const r={Enter:"onEnter",Backspace:"onBackspace",Delete:"onDelete",Esc:"onEsc",Escape:"onEsc",ArrowUp:"onUp",ArrowDown:"onDown",ArrowLeft:"onLeft",ArrowRight:"onRight",Tab:"onTab"},o={onEnter:[],onDelete:[],onBackspace:[],onEsc:[],onUp:[],onDown:[],onLeft:[],onRight:[],onTab:[]};function i(e){return s()||document.addEventListener("keydown",a,!0),Object.keys(e).forEach(t=>{const n=e[t];if(!n)return;const r=o[t];r&&r.push(n)}),()=>{!function(e){Object.keys(e).forEach(t=>{const n=e[t],r=o[t];if(r){const e=r.findIndex(e=>e===n);-1!==e&&r.splice(e,1)}}),s()||document.removeEventListener("keydown",a,!1)}(e)}}function s(){return Object.values(o).some(e=>Boolean(e.length))}function a(e){const t=r[e.key];if(!t)return;const{length:n}=o[t];if(n)for(let r=n-1;r>=0;r--)if(!1!==(0,o[t][r])(e)){e.stopPropagation();break}}},52745:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(84051),o=n(87357),i=n(57474);const s=(0,r.ph)(({color:e="blue",backgroundColor:t,className:n,onClick:s})=>r.Ay.createElement("div",{className:(0,o.A)("Loading",s&&"interactive",n),onClick:s},r.Ay.createElement(i.A,{color:e,backgroundColor:t})))},53425:(e,t,n)=>{"use strict";n.d(t,{A:()=>c,U:()=>a});var r=n(96540),o=n(12533),i=n(39875),s=n(62279);function a(e){return t=>r.createElement(i.Ay,{theme:{token:{motion:!1,zIndexPopupBase:0}}},r.createElement(e,Object.assign({},t)))}const c=(e,t,n,i,c)=>a(a=>{const{prefixCls:l,style:u}=a,d=r.useRef(null),[f,h]=r.useState(0),[p,g]=r.useState(0),[m,y]=(0,o.A)(!1,{value:a.open}),{getPrefixCls:b}=r.useContext(s.QO),v=b(i||"select",l);r.useEffect(()=>{if(y(!0),"undefined"!=typeof ResizeObserver){const e=new ResizeObserver(e=>{const t=e[0].target;h(t.offsetHeight+8),g(t.offsetWidth)}),t=setInterval(()=>{var n;const r=c?`.${c(v)}`:`.${v}-dropdown`,o=null===(n=d.current)||void 0===n?void 0:n.querySelector(r);o&&(clearInterval(t),e.observe(o))},10);return()=>{clearInterval(t),e.disconnect()}}},[]);let _=Object.assign(Object.assign({},a),{style:Object.assign(Object.assign({},u),{margin:0}),open:m,visible:m,getPopupContainer:()=>d.current});n&&(_=n(_)),t&&Object.assign(_,{[t]:{overflow:{adjustX:!1,adjustY:!1}}});const w={paddingBottom:f,position:"relative",minWidth:p};return r.createElement("div",{ref:d,style:w},r.createElement(e,Object.assign({},_)))})},53954:(e,t,n)=>{"use strict";function r(e){return r=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},r(e)}n.d(t,{A:()=>r})},53986:(e,t,n)=>{"use strict";function r(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}n.d(t,{A:()=>r})},54464:(e,t,n)=>{"use strict";n.d(t,{l:()=>i,u:()=>s});var r=n(31481),o=n(96454);function i(e,t=!1){o.pz||!document.activeElement||document.activeElement.id!==r.CfG||!t&&e.target!==e.currentTarget||e.preventDefault()}function s(e){i(e,!0)}},54746:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var r=n(84051),o=n(87357);const i=n.p+"user_portrait_icon.d1c82100a3969b611a57.svg";var s=n(48799);const a=({name:e,ref:t,className:n,style:a,role:c,ariaLabel:l,character:u,onClick:d})=>"portrait-icon"===e?r.Ay.createElement("div",{className:(0,o.A)(`icon icon-${e}`,n)},r.Ay.createElement(s.LW,null)):"portrait-large-icon"===e?r.Ay.createElement("div",{className:(0,o.A)(`icon icon-${e}`,n)},r.Ay.createElement("img",{src:i,alt:"",draggable:!1})):r.Ay.createElement("i",{ref:t,className:(0,o.A)(`icon icon-${e}`,n),style:a,"aria-hidden":!l,"aria-label":l,"data-char":u,role:c,onClick:d})},54808:(e,t,n)=>{"use strict";function r(e,t){if(!e)return!1;if(e.contains)return e.contains(t);for(var n=t;n;){if(n===e)return!0;n=n.parentNode}return!1}n.d(t,{A:()=>r})},54905:function(e,t,n){var r;e.exports=(r=n(19021),n(57165),r.pad.Iso10126={pad:function(e,t){var n=4*t,o=n-e.sigBytes%n;e.concat(r.lib.WordArray.random(o-1)).concat(r.lib.WordArray.create([o<<24],1))},unpad:function(e){var t=255&e.words[e.sigBytes-1>>>2];e.sigBytes-=t}},r.pad.Iso10126)},55041:(e,t,n)=>{"use strict";function r(e,t){this.v=e,this.k=t}function o(e,t,n,r){var i=Object.defineProperty;try{i({},"",{})}catch(e){i=0}o=function(e,t,n,r){function s(t,n){o(e,t,function(e){return this._invoke(t,n,e)})}t?i?i(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(s("next",0),s("throw",1),s("return",2))},o(e,t,n,r)}function i(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",s=n.toStringTag||"@@toStringTag";function a(n,r,i,s){var a=r&&r.prototype instanceof l?r:l,u=Object.create(a.prototype);return o(u,"_invoke",function(n,r,o){var i,s,a,l=0,u=o||[],d=!1,f={p:0,n:0,v:e,a:h,f:h.bind(e,4),d:function(t,n){return i=t,s=0,a=e,f.n=n,c}};function h(n,r){for(s=n,a=r,t=0;!d&&l&&!o&&t<u.length;t++){var o,i=u[t],h=f.p,p=i[2];n>3?(o=p===r)&&(a=i[(s=i[4])?5:(s=3,3)],i[4]=i[5]=e):i[0]<=h&&((o=n<2&&h<i[1])?(s=0,f.v=r,f.n=i[1]):h<p&&(o=n<3||i[0]>r||r>p)&&(i[4]=n,i[5]=r,f.n=p,s=0))}if(o||n>1)return c;throw d=!0,r}return function(o,u,p){if(l>1)throw TypeError("Generator is already running");for(d&&1===u&&h(u,p),s=u,a=p;(t=s<2?e:a)||!d;){i||(s?s<3?(s>1&&(f.n=-1),h(s,a)):f.n=a:f.v=a);try{if(l=2,i){if(s||(o="next"),t=i[o]){if(!(t=t.call(i,a)))throw TypeError("iterator result is not an object");if(!t.done)return t;a=t.value,s<2&&(s=0)}else 1===s&&(t=i.return)&&t.call(i),s<2&&(a=TypeError("The iterator does not provide a '"+o+"' method"),s=1);i=e}else if((t=(d=f.n<0)?a:n.call(r,f))!==c)break}catch(t){i=e,s=1,a=t}finally{l=1}}return{value:t,done:d}}}(n,i,s),!0),u}var c={};function l(){}function u(){}function d(){}t=Object.getPrototypeOf;var f=[][r]?t(t([][r]())):(o(t={},r,function(){return this}),t),h=d.prototype=l.prototype=Object.create(f);function p(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,o(e,s,"GeneratorFunction")),e.prototype=Object.create(h),e}return u.prototype=d,o(h,"constructor",d),o(d,"constructor",u),u.displayName="GeneratorFunction",o(d,s,"GeneratorFunction"),o(h),o(h,s,"Generator"),o(h,r,function(){return this}),o(h,"toString",function(){return"[object Generator]"}),(i=function(){return{w:a,m:p}})()}function s(e,t){function n(o,i,s,a){try{var c=e[o](i),l=c.value;return l instanceof r?t.resolve(l.v).then(function(e){n("next",e,s,a)},function(e){n("throw",e,s,a)}):t.resolve(l).then(function(e){c.value=e,s(c)},function(e){return n("throw",e,s,a)})}catch(e){a(e)}}var i;this.next||(o(s.prototype),o(s.prototype,"function"==typeof Symbol&&Symbol.asyncIterator||"@asyncIterator",function(){return this})),o(this,"_invoke",function(e,r,o){function s(){return new t(function(t,r){n(e,o,t,r)})}return i=i?i.then(s,s):s()},!0)}function a(e,t,n,r,o){return new s(i().w(e,t,n,r),o||Promise)}function c(e,t,n,r,o){var i=a(e,t,n,r,o);return i.next().then(function(e){return e.done?e.value:i.next()})}function l(e){var t=Object(e),n=[];for(var r in t)n.unshift(r);return function e(){for(;n.length;)if((r=n.pop())in t)return e.value=r,e.done=!1,e;return e.done=!0,e}}n.d(t,{A:()=>f});var u=n(82284);function d(e){if(null!=e){var t=e["function"==typeof Symbol&&Symbol.iterator||"@@iterator"],n=0;if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length))return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}}throw new TypeError((0,u.A)(e)+" is not iterable")}function f(){var e=i(),t=e.m(f),n=(Object.getPrototypeOf?Object.getPrototypeOf(t):t.__proto__).constructor;function o(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===n||"GeneratorFunction"===(t.displayName||t.name))}var u={throw:1,return:2,break:3,continue:3};function h(e){var t,n;return function(r){t||(t={stop:function(){return n(r.a,2)},catch:function(){return r.v},abrupt:function(e,t){return n(r.a,u[e],t)},delegateYield:function(e,o,i){return t.resultName=o,n(r.d,d(e),i)},finish:function(e){return n(r.f,e)}},n=function(e,n,o){r.p=t.prev,r.n=t.next;try{return e(n,o)}finally{t.next=r.n}}),t.resultName&&(t[t.resultName]=r.v,t.resultName=void 0),t.sent=r.v,t.next=r.n;try{return e.call(this,t)}finally{r.p=t.prev,r.n=t.next}}}return(f=function(){return{wrap:function(t,n,r,o){return e.w(h(t),n,r,o&&o.reverse())},isGeneratorFunction:o,mark:e.m,awrap:function(e,t){return new r(e,t)},AsyncIterator:s,async:function(e,t,n,r,i){return(o(t)?a:c)(h(e),t,n,r,i)},keys:l,values:d}})()}},55148:(e,t,n)=>{"use strict";n.d(t,{E:()=>l,_:()=>c});var r=n(13439),o=n(89925),i=n(31481),s=n(63495),a=n(46275);const c=e=>{const t=(0,r.ko)(),n=(0,a.vG)(e);if(n)switch(n.type){case"privateMessageLink":return t.openPrivateChannel({id:n.channelId,threadId:n.threadId,messageId:n.messageId,commentId:n.commentId,timestamp:n.timestamp}),!0;case"publicMessageLink":return t.openChatByUsername({username:n.username,threadId:n.threadId,messageId:n.messageId,commentId:n.commentId,timestamp:n.timestamp}),!0;case"publicUsernameOrBotLink":{const e=function(e){if(!e)return;return e.toLowerCase().split(" ").flatMap(e=>"groups"===e?["chats","groups"]:[e]).filter(e=>i.K_A.includes(e))}(n.choose);return t.openChatByUsername({username:n.username,startParam:n.start,ref:n.ref,text:n.text,startApp:n.startApp,mode:n.mode,startAttach:n.startAttach,attach:n.attach,choose:e,originalParts:[n.username,n.appName]}),!0}case"privateChannelLink":return t.openPrivateChannel({id:n.channelId}),!0;case"businessChatLink":return t.resolveBusinessChatLink({slug:n.slug}),!0;case"premiumReferrerLink":return t.openPremiumModal(),!0;case"premiumMultigiftLink":return t.openGiftRecipientPicker(),!0;case"chatBoostLink":return t.processBoostParameters({usernameOrId:n.username||n.id,isPrivate:Boolean(n.id)}),!0;case"giftUniqueLink":return t.openUniqueGiftBySlug({slug:n.slug}),!0;case"settings":if(!n.screen)return t.openLeftColumnContent({contentKey:o.Bn.Settings}),!0;switch(n.screen){case"editProfile":t.openSettingsScreen({screen:o.VS.EditProfile});break;case"language":t.openSettingsScreen({screen:o.VS.Language});break;case"devices":t.openSettingsScreen({screen:o.VS.ActiveSessions});break;case"privacy":t.openSettingsScreen({screen:o.VS.Privacy});break;case"folders":t.openSettingsScreen({screen:o.VS.Folders});break;case"theme":t.openSettingsScreen({screen:o.VS.General})}return!0;case"stars":t.openStarsBalanceModal({});break;case"ton":t.openStarsBalanceModal({currency:i.ykW})}if(!e.match(i.bnE))return!1;const c=s.fM?e.replace(/^tg:\/\//,"https://"):e,{protocol:u,searchParams:d,hostname:f}=new URL(c);if("tg:"!==u)return!1;const h=f,p=Object.fromEntries(d),{checkChatInvite:g,openChatByUsername:m,openChatByPhoneNumber:y,openStickerSet:b,joinVoiceChatByLink:v,openInvoice:_,openChatWithDraft:w,checkChatlistInvite:S,openStoryViewerByUsername:x,checkGiftCode:I,openStarsBalanceModal:A}=t;switch(h){case"resolve":{const{domain:e,phone:t,post:n,comment:r,voicechat:o,livestream:i,start:s,startattach:a,attach:c,thread:l,topic:u,appname:d,startapp:f,mode:h,story:g,text:b}=p,_=Number(l)||Number(u)||void 0;"telegrampassport"!==e&&(d?m({username:e,startApp:f,mode:h,originalParts:[e,d],text:b}):p.hasOwnProperty("voicechat")||p.hasOwnProperty("livestream")?v({username:e,inviteHash:o||i}):t?y({phoneNumber:t,startAttach:a,attach:c,text:b}):g?x({username:e,storyId:Number(g)}):m({username:e,messageId:n?Number(n):void 0,commentId:r?Number(r):void 0,startParam:s,mode:h,startAttach:a,attach:c,threadId:_}));break}case"bg":case"login":break;case"join":{const{invite:e}=p;g({hash:e});break}case"addemoji":case"addstickers":{const{set:e}=p;b({stickerSetInfo:{shortName:e}});break}case"share":case"msg":case"msg_url":{const{url:e,text:t}=p;w({text:l(e,t)});break}case"addlist":S({slug:p.slug});break;case"invoice":{const{slug:e}=p;_({type:"slug",slug:e});break}case"stars_topup":{const{balance:e,purpose:t}=p,n=Number(e);if(!n||n<0)return!0;A({topup:{balanceNeeded:n,purpose:t}});break}case"giftcode":{const{slug:e}=p;I({slug:e});break}default:return!1}return!0};function l(e,t,n){return{text:[e,n,t].filter(Boolean).join("\n")}}},55153:(e,t,n)=>{"use strict";n.d(t,{A:()=>d,L:()=>f});var r=n(31481),o=n(87679),i=n(24909);const s=1280,a=2560,c=40,l=20,u=/\.[^/.]+$/;async function d(e,t,l){const f=URL.createObjectURL(t),{type:p,size:g}=t;let m,y,b,v;const _=l?.shouldSendInHighQuality;if(r.gex.has(p)){const n=await(0,o.NN)(f),{width:g,height:y}=n;v=!h(g,y);const w=_?a:s,S=Math.max(g,y)>w,x=p===r.Vz3;if(!v){if(!l?.compressedBlobUrl&&!x&&(S||"image/jpeg"!==p)){const n=await(0,i.s)(f,S?w/Math.max(g,y):1,"image/jpeg");return URL.revokeObjectURL(f),d(e,t,{...l,compressedBlobUrl:n})}"image/jpeg"===p&&(e=e.replace(u,".jpg")),m={width:g,height:y}}b=Math.max(g,y)>c?await(0,i.s)(f,c/Math.max(g,y),"image/jpeg"):f}else if(r.fNs.has(p)){try{const{videoWidth:e,videoHeight:t,duration:n}=await(0,o.FW)(f);v=!h(e,t),v||(m={width:e,height:t,duration:n})}catch(e){v=!0}b=await(0,o.eT)(f)}else if(r.IH3.has(p)){const{duration:e,title:t,performer:r,coverUrl:i}=await async function(e){const{parseBlob:t,selectCover:r}=await n.e(3246).then(n.bind(n,3246)),i=await(0,o.sZ)(e),s=await t(i),{common:{title:a,artist:c,picture:l},format:{duration:u}}=s,d=r(l),f=d?new Blob([d.data],{type:d.format}):void 0;return{title:a,performer:c,duration:u,coverUrl:f?URL.createObjectURL(f):void 0}}(f);y={duration:e||0,title:t,performer:r},b=i}return{blob:t,blobUrl:f,filename:e,mimeType:p,size:g,quick:m,audio:y,previewBlobUrl:b,shouldSendAsFile:v||void 0,uniqueId:`${Date.now()}-${Math.random()}`,...l}}function f(e,t){return e.map(e=>t?e.compressedBlobUrl?{...e,blobUrl:e.compressedBlobUrl}:e:{...e,shouldSendAsFile:!(e.voice||e.audio)||void 0,shouldSendAsSpoiler:void 0})}function h(e,t){return Math.max(e,t)/Math.min(e,t)<=l}},55232:(e,t,n)=>{"use strict";n.d(t,{X:()=>h,m:()=>m});var r=n(37932),o=n(31481),i=n(95175),s=n(33554),a=n(37836),c=n(20714),l=n(13439);let u,d=!1,f=c.$8;function h(e){u=new SharedWorker(new URL(n.p+n.u(5060),n.b),{name:o.C39}),u.port.addEventListener("message",g),u.port.start(),v({type:"reqGetFullState",localState:e}),(0,r.DW)(p)}function p(){const e=(0,l.mS)();e.sharedState!==f&&(e.sharedState.isInitial||function(e){if(!d)return;const t=(0,i.K)(f,e);f=e,"symbol"!=typeof t&&v({type:"reqUpdateState",update:t})}(e.sharedState))}function g(e){const t=e.data;switch(t.type){case"stateUpdate":_((0,s.$)(f,t.update));break;case"fullState":d=!0,_(t.state)}}function m(){u&&(u.port.removeEventListener("message",g),u.port.close(),u=void 0,(0,r.Cn)(p))}const y=new Set,b=(0,a.Fe)(()=>{if(!u)throw new Error("Shared worker not initialized");for(const e of y)u.port.postMessage(e);y.clear()});function v(e){if(!u)throw new Error("Shared worker not initialized");y.add(e),b()}function _(e){let t=(0,l.mS)();f={...t.sharedState,...e},t={...t,sharedState:f},(0,l.UF)(t)}},55974:(e,t,n)=>{"use strict";function r(e,t,n,r){const{focusElCls:o,focus:i,borderElCls:s}=n,a=s?"> *":"",c=["hover",i?"focus":null,"active"].filter(Boolean).map(e=>`&:${e} ${a}`).join(",");return{[`&-item:not(${t}-last-item)`]:{marginInlineEnd:e.calc(e.lineWidth).mul(-1).equal()},[`&-item:not(${r}-status-success)`]:{zIndex:2},"&-item":Object.assign(Object.assign({[c]:{zIndex:3}},o?{[`&${o}`]:{zIndex:3}}:{}),{[`&[disabled] ${a}`]:{zIndex:0}})}}function o(e,t,n){const{borderElCls:r}=n,o=r?`> ${r}`:"";return{[`&-item:not(${t}-first-item):not(${t}-last-item) ${o}`]:{borderRadius:0},[`&-item:not(${t}-last-item)${t}-first-item`]:{[`& ${o}, &${e}-sm ${o}, &${e}-lg ${o}`]:{borderStartEndRadius:0,borderEndEndRadius:0}},[`&-item:not(${t}-first-item)${t}-last-item`]:{[`& ${o}, &${e}-sm ${o}, &${e}-lg ${o}`]:{borderStartStartRadius:0,borderEndStartRadius:0}}}}function i(e,t={focus:!0}){const{componentCls:n}=e,i=`${n}-compact`;return{[i]:Object.assign(Object.assign({},r(e,i,t,n)),o(n,i,t))}}n.d(t,{G:()=>i})},55994:(e,t,n)=>{"use strict";n.d(t,{P:()=>m,R:()=>y});var r=n(66644),o=n(96454),i=n(19822),s=n(50442),a=n(25903),c=n(43336);const l=300,u=i.qM.easeOutCubic;let d,f,h,p,g=!1;function m(e,t){return(0,s.wJ)(e,{excludedClosestSelector:t.excludedClosestSelector,selectorToPreventScroll:t.selectorToPreventScroll,swipeThreshold:10,onSwipe(e,n,r){if(n===s.ez.Left)t.onSwipeLeftStart?.();else{if(n!==s.ez.Right)return!1;t.onSwipeRightStart?.()}return o.pz&&(g=!0,d=r),!0},onDrag(e,t,n){g&&f?.(n)},onRelease(){g&&(g=!1,h?.(t.onCancel),f=void 0,h=void 0)}})}function y(e,t,n){if(p?.(),!g)return;const o=function(e){for(const t of e.getAnimations())if(t.effect instanceof KeyframeEffect)for(const e of t.effect.getKeyframes()){if(1!==e.offset||!e.transform)continue;const t=v(e.transform);if(t)return t}}(e);if(!o)return;let s;e.getAnimations().forEach(e=>e.pause()),t.getAnimations().forEach(e=>e.pause()),e.style.animationTimingFunction="linear",t.style.animationTimingFunction="linear",(0,r.YS)(()=>{const g=(m=getComputedStyle(e).transform,y=o.axis,m.slice(7,-1).split(",").map(Number)["X"===y?4:5]);var m,y;const v=("px"===o.units?o.value:o.value/100*("X"===o.axis?e.offsetWidth:e.offsetHeight))-g;let _=0;f=({dragOffsetX:n,dragOffsetY:r})=>{const i="X"===o.axis?n-d.dragOffsetX:r-d.dragOffsetY,a=(0,c.qE)(i/v,0,1);s=a>_?1:-1,_=a,b([e,t],_)},h=o=>{const c=-1===s;function d(){e.getAnimations().forEach(e=>e.cancel()),t.getAnimations().forEach(e=>e.cancel()),(0,r.RK)(()=>{e.style.animationTimingFunction="",t.style.animationTimingFunction=""})}c||(0,a.e)(e,d),p=(0,i.Hd)({from:_,to:c?0:1,duration:l,timing:u,onUpdate(n){b([e,t],n)},onEnd(e=!1){p=void 0,(e||c)&&(d(),n(),o())}})}})}function b(e,t){e.map(e=>e.getAnimations()).flat().forEach(e=>{e.currentTime=e.effect.getTiming().duration*t})}function v(e){const t=e.match(/([XY])\((-?\d+)(%|px)\)/);if(t)return{axis:t[1],value:Number(t[2]),units:t[3]}}},56362:(e,t,n)=>{"use strict";n.d(t,{A:()=>c});var r=n(84051),o=n(13439),i=n(23174),s=n(60919),a=n(43874);const c=(0,o.EK)((e,{userId:t})=>({userOrChat:t?(0,s.mBe)(e,t):void 0}))(({userId:e,username:t,userOrChat:n,children:s})=>{const{openChat:c,openChatByUsername:l,closeStoryViewer:u,setShouldCloseRightColumn:d}=(0,o.ko)(),{isMobile:f}=(0,a.Ay)();return r.Ay.createElement("a",{onClick:()=>{f&&d({value:!0}),n?c({id:n.id}):t&&(u(),l({username:t.substring(1)}))},className:"text-entity-link",dir:"auto","data-entity-type":e?i.C7.MentionName:i.C7.Mention},s)})},56494:(e,t,n)=>{"use strict";n.d(t,{B9:()=>c,Y9:()=>d,iS:()=>l,if:()=>u,ly:()=>f,me:()=>h,xd:()=>p});var r=n(31481),o=n(90709),i=n(21133),s=n(19408),a=n(30757);function c(e,t){const{isSensitiveEnabled:n}=(0,a.eC)(e),o=(0,i.hd)(e,t.chatId);if(n)return!1;const c=(0,s.G6)(e,o?.restrictionReasons),l=(0,s.G6)(e,t.restrictionReasons);return c.some(e=>e.reason===r.L1q)||l.some(e=>e.reason===r.L1q)}function l(e,t){const n=(0,s.Pn)(e,t);return(0,o.yl)(t)||(0,o.zX)(t)||(0,o.zC)(t)||(0,o.fP)(t)||(0,o.wp)(t)||(0,o.gB)(t)||(0,o.eY)(n)||(0,o.rU)(n)||(0,o.y3)(n)}function u(e,t){const n=function(e,t){const n=(0,s.Pn)(e,t),r=(0,o.yl)(t)||(0,o.zX)(t)||(0,o.zC)(t)||(0,o.fP)(t)||(0,o.eY)(n)||(0,o.rU)(n)||(0,o.NO)(t)?.extendedMedia;if(r)return r.thumbnail}(e,t);return n?.dataUri}function d(e,t){const{audio:n,voice:r,video:i}=(0,o.r_)(t),a=(0,s.Pn)(e,t),c=n||r||i||(0,o.rU)(a)||(0,o.y3)(a);if(c)return c.duration}function f(e,t){const n=(0,s.Pn)(e,t),r=(0,o.zX)(t)||(0,o.rU)(n);return(!r||r.isRound||r.isGif?void 0:r)||(0,o.wp)(t)||(0,o.gB)(t)}function h(e,t,n){const r=n?void 0:(0,s.gM)(e,t),o=f(e,t),i=r&&f(e,r);return o?.duration||i?.duration}function p(e,t,n){return e.messages.playbackByChatId[t]?.byId[n]}},56822:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(82284),o=n(9417);function i(e,t){if(t&&("object"==(0,r.A)(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return(0,o.A)(e)}},56855:(e,t,n)=>{"use strict";var r;n.d(t,{A:()=>l});var o=n(5544),i=n(89379),s=n(96540),a=0,c=(0,i.A)({},r||(r=n.t(s,2))).useId;const l=c?function(e){var t=c();return e||t}:function(e){var t=s.useState("ssr-id"),n=(0,o.A)(t,2),r=n[0],i=n[1];return s.useEffect(function(){var e=a;a+=1,i("rc_unique_".concat(e))},[]),e||r}},56863:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(84051);const o=function(e,t,n){const[o,i]=(0,r.J0)(!1),[s,a]=(0,r.J0)(),[c,l]=(0,r.J0)(n);return(0,r.vJ)(()=>{i(!0);let t=!1;return e().then(e=>{t||(i(!1),l(e))},e=>{t||(i(!1),a(e))}),()=>{t=!0}},t),{isLoading:o,error:s,result:c}}},57165:function(e,t,n){var r,o,i,s,a,c,l,u,d,f,h,p,g,m,y,b,v,_,w;e.exports=(r=n(19021),n(39506),void(r.lib.Cipher||(o=r,i=o.lib,s=i.Base,a=i.WordArray,c=i.BufferedBlockAlgorithm,l=o.enc,l.Utf8,u=l.Base64,d=o.algo.EvpKDF,f=i.Cipher=c.extend({cfg:s.extend(),createEncryptor:function(e,t){return this.create(this._ENC_XFORM_MODE,e,t)},createDecryptor:function(e,t){return this.create(this._DEC_XFORM_MODE,e,t)},init:function(e,t,n){this.cfg=this.cfg.extend(n),this._xformMode=e,this._key=t,this.reset()},reset:function(){c.reset.call(this),this._doReset()},process:function(e){return this._append(e),this._process()},finalize:function(e){return e&&this._append(e),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function e(e){return"string"==typeof e?w:v}return function(t){return{encrypt:function(n,r,o){return e(r).encrypt(t,n,r,o)},decrypt:function(n,r,o){return e(r).decrypt(t,n,r,o)}}}}()}),i.StreamCipher=f.extend({_doFinalize:function(){return this._process(!0)},blockSize:1}),h=o.mode={},p=i.BlockCipherMode=s.extend({createEncryptor:function(e,t){return this.Encryptor.create(e,t)},createDecryptor:function(e,t){return this.Decryptor.create(e,t)},init:function(e,t){this._cipher=e,this._iv=t}}),g=h.CBC=function(){var e=p.extend();function t(e,t,n){var r,o=this._iv;o?(r=o,this._iv=void 0):r=this._prevBlock;for(var i=0;i<n;i++)e[t+i]^=r[i]}return e.Encryptor=e.extend({processBlock:function(e,n){var r=this._cipher,o=r.blockSize;t.call(this,e,n,o),r.encryptBlock(e,n),this._prevBlock=e.slice(n,n+o)}}),e.Decryptor=e.extend({processBlock:function(e,n){var r=this._cipher,o=r.blockSize,i=e.slice(n,n+o);r.decryptBlock(e,n),t.call(this,e,n,o),this._prevBlock=i}}),e}(),m=(o.pad={}).Pkcs7={pad:function(e,t){for(var n=4*t,r=n-e.sigBytes%n,o=r<<24|r<<16|r<<8|r,i=[],s=0;s<r;s+=4)i.push(o);var c=a.create(i,r);e.concat(c)},unpad:function(e){var t=255&e.words[e.sigBytes-1>>>2];e.sigBytes-=t}},i.BlockCipher=f.extend({cfg:f.cfg.extend({mode:g,padding:m}),reset:function(){var e;f.reset.call(this);var t=this.cfg,n=t.iv,r=t.mode;this._xformMode==this._ENC_XFORM_MODE?e=r.createEncryptor:(e=r.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==e?this._mode.init(this,n&&n.words):(this._mode=e.call(r,this,n&&n.words),this._mode.__creator=e)},_doProcessBlock:function(e,t){this._mode.processBlock(e,t)},_doFinalize:function(){var e,t=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(t.pad(this._data,this.blockSize),e=this._process(!0)):(e=this._process(!0),t.unpad(e)),e},blockSize:4}),y=i.CipherParams=s.extend({init:function(e){this.mixIn(e)},toString:function(e){return(e||this.formatter).stringify(this)}}),b=(o.format={}).OpenSSL={stringify:function(e){var t=e.ciphertext,n=e.salt;return(n?a.create([1398893684,1701076831]).concat(n).concat(t):t).toString(u)},parse:function(e){var t,n=u.parse(e),r=n.words;return 1398893684==r[0]&&1701076831==r[1]&&(t=a.create(r.slice(2,4)),r.splice(0,4),n.sigBytes-=16),y.create({ciphertext:n,salt:t})}},v=i.SerializableCipher=s.extend({cfg:s.extend({format:b}),encrypt:function(e,t,n,r){r=this.cfg.extend(r);var o=e.createEncryptor(n,r),i=o.finalize(t),s=o.cfg;return y.create({ciphertext:i,key:n,iv:s.iv,algorithm:e,mode:s.mode,padding:s.padding,blockSize:e.blockSize,formatter:r.format})},decrypt:function(e,t,n,r){return r=this.cfg.extend(r),t=this._parse(t,r.format),e.createDecryptor(n,r).finalize(t.ciphertext)},_parse:function(e,t){return"string"==typeof e?t.parse(e,this):e}}),_=(o.kdf={}).OpenSSL={execute:function(e,t,n,r,o){if(r||(r=a.random(8)),o)i=d.create({keySize:t+n,hasher:o}).compute(e,r);else var i=d.create({keySize:t+n}).compute(e,r);var s=a.create(i.words.slice(t),4*n);return i.sigBytes=4*t,y.create({key:i,iv:s,salt:r})}},w=i.PasswordBasedCipher=v.extend({cfg:v.cfg.extend({kdf:_}),encrypt:function(e,t,n,r){var o=(r=this.cfg.extend(r)).kdf.execute(n,e.keySize,e.ivSize,r.salt,r.hasher);r.iv=o.iv;var i=v.encrypt.call(this,e,t,o.key,r);return i.mixIn(o),i},decrypt:function(e,t,n,r){r=this.cfg.extend(r),t=this._parse(t,r.format);var o=r.kdf.execute(n,e.keySize,e.ivSize,t.salt,r.hasher);return r.iv=o.iv,v.decrypt.call(this,e,t,o.key,r)}}))))},57309:(e,t,n)=>{"use strict";function r(e){const{chatId:t,id:n}=e;return`${t}_${n}`}function o(e){const[t,n]=e.split("_");return[t,Number(n)]}n.d(t,{D:()=>r,a:()=>o})},57474:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(84051),o=n(87357);const i=({color:e="blue",backgroundColor:t,className:n})=>r.Ay.createElement("div",{className:(0,o.A)("Spinner",n,e,t&&"with-background",t&&`bg-${t}`)},r.Ay.createElement("div",{className:"Spinner__inner"}))},57675:(e,t,n)=>{"use strict";n.d(t,{A:()=>u});var r=n(84051),o=n(66644),i=n(91800),s=n(16581),a=n(17712),c=n(39751);const l=200;function u(e,t,n,u){const d=(0,r.li)(!0),f=(0,r.li)(),[h,p]=(0,r.J0)(!u),[g,m]=(0,r.J0)(h);(0,r.Nf)(()=>{const t=(n||e).current;u||!t||d.current||(0,o.RK)(()=>{t.style.maxHeight=g?`${f.current}px`:""})},[n,g,u,e]);const y=(0,a.A)(()=>{if(u||!e.current)return;const n=e.current,{lineHeight:r,totalLines:o}=(0,i.A)(n);o>t?(f.current=r*t,p(!0)):(p(!1),m(!1))}),b=(0,s.A)(()=>(0,o.YS)(y),[y],l);(0,r.Nf)(()=>{!u&&d.current&&(0,o.gm)(()=>(y(),()=>{d.current=!1;const t=(n||e).current;t&&(t.style.maxHeight=f.current?`${f.current}px`:"")}))},[n,u,y,e]);const{width:v}=(0,c.A)();return(0,r.vJ)(()=>{if(u)p(!1),m(!1);else{if(d.current)return;b()}},[b,u,v]),{isCollapsed:g,isCollapsible:h,setIsCollapsed:m}}},57751:(e,t,n)=>{"use strict";n.d(t,{$m:()=>d,AA:()=>s,CX:()=>c,id:()=>u,rE:()=>a,wr:()=>i});var r=n(31481),o=n(4350);function i(){if(d())return!0;const e=l(o.Xz);if(e)return Boolean(e.dcId);if(!o.Xz){const e=localStorage.getItem(r.HaM);if(e)try{const t=JSON.parse(e);return Boolean(t&&t.id&&t.dcID)}catch(e){return!1}}return!1}function s(e){const{mainDcId:t,keys:n,isTest:i}=e,s=l(o.Xz),a={...s,dcId:t,isTest:i};Object.keys(n).map(Number).forEach(e=>{a[`dc${e}_auth_key`]=n[e]}),o.Xz||function(e,t){const{mainDcId:n,keys:o,isTest:i}=e;localStorage.setItem(r.HaM,JSON.stringify({dcID:n,id:t,test:i})),localStorage.setItem("dc",String(n)),Object.keys(o).map(Number).forEach(e=>{localStorage.setItem(`dc${e}_auth_key`,JSON.stringify(o[e]))})}(e,s?.userId),(0,o.gD)(o.Xz,a)}function a(e){e||[r.HaM,"dc",...r.j3k.map(e=>`dc${e}_auth_key`),...r.j3k.map(e=>`dc${e}_hash`),...r.j3k.map(e=>`dc${e}_server_salt`)].forEach(e=>{localStorage.removeItem(e)}),localStorage.removeItem(`${r.um6}${e||1}`)}function c(){if(!i())return;const e=l(o.Xz);if(!e){if(o.Xz)return;return function(){if(!i())return;const e=JSON.parse(localStorage.getItem(r.HaM)||"null");if(!e)return;const t=Number(e.dcID),n=e.test,o={};return r.j3k.forEach(e=>{try{const t=localStorage.getItem(`dc${e}_auth_key`);t&&(o[e]=JSON.parse(t))}catch(e){r.Oig&&console.warn("Failed to load stored session",e)}}),Object.keys(o).length?{mainDcId:t,keys:o,isTest:n}:void 0}()}return{mainDcId:e.dcId,keys:r.j3k.reduce((t,n)=>{const r=e[`dc${n}_auth_key`];return r&&(t[n]=r),t},{}),isTest:e.isTest||void 0}}function l(e){try{const t=JSON.parse(localStorage.getItem(`${r.um6}${e||1}`)||"{}");if(!t.dcId)return;return t}catch(e){return}}function u(e){l(o.Xz)&&(0,o.Ph)(o.Xz,{userId:e})}function d(){return"true"===localStorage.getItem(r.ozB)}},58124:function(e,t,n){var r;e.exports=(r=n(19021),n(57165),r.pad.NoPadding={pad:function(){},unpad:function(){}},r.pad.NoPadding)},58168:(e,t,n)=>{"use strict";function r(){return r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(null,arguments)}n.d(t,{A:()=>r})},58443:(e,t,n)=>{"use strict";n.d(t,{d:()=>j,w:()=>U});const r=n.p+"QrPlane.a921709f266564f65b7e.tgs",o=n.p+"BannedDuck.8278f2d6451ea282d426.tgs",i=n.p+"CameraFlip.1a9fe44cf01fcb22347d.tgs",s=n.p+"HandFilled.f87939d160f1dc288586.tgs",a=n.p+"HandOutline.f9831751ba60df30c484.tgs",c=n.p+"Speaker.04bb3743412b41ff83c5.tgs",l=n.p+"VoiceAllowTalk.a9cc7c39ec438973ddc9.tgs",u=n.p+"VoiceMini.bf00ffdf69625c579569.tgs",d=n.p+"VoiceMuted.a4b4ec6bfd7c6c5fb275.tgs",f=n.p+"VoiceOutlined.91b394ab3562cdfad6bc.tgs",h=n.p+"Diamond.c338df43ca65e19d0532.tgs",p=n.p+"DuckNothingFound.175a7ca3d96c1c328586.tgs",g=n.p+"Flame.d1a2dae178cb492c75ea.tgs",m=n.p+"Fragment.b1bf3a076c00ef525901.tgs",y=n.p+"Mention.810d50783976689ed870.tgs",b=n.p+"PartyPopper.287e4290662b3d2b269c.tgs",v=n.p+"Invite.4502ec3aa4249d6e6723.tgs",_=n.p+"Requests.af9f19772695a8898810.tgs",w=n.p+"LastSeen.b16ff3c97561138c2406.tgs",S=n.p+"TwoFactorSetupMonkeyClose.604c4c833d322b7e6c3e.tgs",x=n.p+"TwoFactorSetupMonkeyIdle.dea4a492c144df84ddab.tgs",I=n.p+"TwoFactorSetupMonkeyPeek.1905436b042520363d7e.tgs",A=n.p+"TwoFactorSetupMonkeyTracking.eb5a7a6f166fb7589c12.tgs",C=n.p+"ReadTime.015d6e6f73f768f1e9fe.tgs",k=n.p+"Report.4a5dda0227ea86f6fa5e.tgs",E=n.p+"Search.6ca2c404467cff8f095a.tgs",T=n.p+"SearchingDuck.bbd2938a3403490d077c.tgs",P=n.p+"Congratulations.b6623b8efc6fedec9d33.tgs",M=n.p+"DiscussionGroupsDucks.9ea453d1be9d1b0ee77a.tgs",O=n.p+"Experimental.43d62096368bf5a00ae3.tgs",D=n.p+"FoldersAll.3f9f9e243d19f0fbf9aa.tgs",R=n.p+"FoldersNew.9a40d71c0c8be70f5bd1.tgs",N=n.p+"FoldersShare.3356f97ced75bf97121c.tgs",F=n.p+"Lock.12547a0228d4fa544e53.tgs",L=n.p+"StarReaction.9079111e9821148b6055.tgs",B=n.p+"StarReactionEffect.8718d0946883c6f031f8.tgs",$=n.p+"Unlock.15931385f7a95ab1a000.tgs",j={DuckNothingFound:n.p+"DuckNothingFound.7c272a7743472fbcc9a9.svg",Search:n.p+"Search.8f089dc19a1c8701b970.svg"},U={MonkeyIdle:x,MonkeyTracking:A,MonkeyClose:S,MonkeyPeek:I,FoldersAll:D,FoldersNew:R,FoldersShare:N,DiscussionGroups:M,Lock:F,CameraFlip:i,HandFilled:s,HandOutline:a,Speaker:c,VoiceAllowTalk:l,VoiceMini:u,VoiceMuted:d,VoiceOutlined:f,JoinRequest:_,Invite:v,QrPlane:r,Congratulations:P,Experimental:O,PartyPopper:b,Flame:g,ReadTime:C,Unlock:$,LastSeen:w,Mention:y,Fragment:m,StarReactionEffect:B,StarReaction:L,Report:k,SearchingDuck:T,BannedDuck:o,Diamond:h,Search:E,DuckNothingFound:p}},58554:(e,t,n)=>{"use strict";n.d(t,{ch:()=>x,hd:()=>w,Ih:()=>S,RB:()=>A,Cn:()=>I});var r=n(23174),o=n(31481),i=n(51580),s=n(96454),a=n(74824),c=n(87679),l=n(4350);const u=48e3,d=16;async function f(e){const t=await new Response(e).arrayBuffer();return new Promise(e=>{const r=new Uint8Array(t);let o=new Worker(new URL(n.p+n.u(4180),n.b)),i=new Worker(new URL(n.p+n.u(3731),n.b));o.onmessage=e=>{null===e.data?i.postMessage({command:"done"}):i.postMessage({command:"encode",buffers:e.data},e.data.map(({buffer:e})=>e))},i.onmessage=t=>{"page"===t.data.message&&(e(new Blob([t.data.page],{type:"audio/wav"})),o.terminate(),o=void 0,i.terminate(),i=void 0)},i.postMessage({command:"init",wavBitDepth:d,wavSampleRate:u}),o.postMessage({command:"init",decoderSampleRate:u,outputBufferSampleRate:u}),o.postMessage({command:"decode",pages:r},[r.buffer])})}const h={[r.qZ.BlobUrl]:a.Type.Blob,[r.qZ.Text]:a.Type.Text,[r.qZ.DownloadUrl]:void 0,[r.qZ.Progressive]:void 0},p=`${o.jht?o.uyj:"."}/progressive/`,g="./download/",m=5,y=new Map,b=new Map,v=new Map,_=new Map;function w(e,t,n=!1,i,a){if(t===r.qZ.Progressive)return s.Uz?Promise.resolve(A(e)):w(e,r.qZ.BlobUrl,n,i,a);if(t===r.qZ.DownloadUrl)return s.Uz?Promise.resolve(function(e){const t=new URL(`${g}${e}`,window.location.href);return l.Xz&&t.searchParams.set("account",l.Xz.toString()),t.href}(e)):w(e,r.qZ.BlobUrl,n,i,a);if(!b.has(e)){const r=C(e,t,n).catch(e=>{o.Oig&&console.warn(e)}).finally(()=>{b.delete(e),v.delete(e),_.delete(e)});b.set(e,r)}if(i&&a){let t=v.get(e);t||(t=new Map,v.set(e,t)),t.set(a,i)}return b.get(e)}function S(e){return y.get(e)}function x(e){v.forEach((t,n)=>{t.forEach(t=>{if(t===e){const e=_.get(n);if(!e)return;(0,i.om)(e),_.delete(n),v.delete(n)}})})}function I(e,t){const n=v.get(e);n&&n.delete(t)}function A(e){const t=new URL(`${p}${e}`,window.location.href);return l.Xz&&t.searchParams.set("account",l.Xz.toString()),y.set(e,t.href),t.href}async function C(e,t,n,r=0){if(!o.xJs){const r=e.startsWith("avatar")?o.zrf:o.Iz7,i=await a.fetch(r,e,h[t],n);if(i){let t=i;"audio/ogg"!==i.type||s.Oo||(t=await f(t));const n=k(t);return y.set(e,n),n}}const l=function(e){const t=n=>{v.get(e)?.forEach(e=>{e(n),e.isCanceled&&(t.isCanceled=!0)})};return t}(e);_.set(e,l);const u=await(0,i.px)("downloadMedia",{url:e,mediaFormat:t,isHtmlAllowed:n},l);if(!u){if(r>=m)throw new Error(`Failed to fetch media ${e}`);return await new Promise(e=>{setTimeout(e,E(r))}),o.Oig&&console.debug(`Retrying to fetch media ${e}`),C(e,t,n,r+1)}let{mimeType:d}=u,p=k(u.dataBlob);if("audio/ogg"===d&&!s.Oo){const e=await(0,c.sZ)(p);URL.revokeObjectURL(p);const t=await f(e);p=k(t),d=t.type}return y.set(e,p),p}function k(e){return e instanceof Blob?URL.createObjectURL(e):e}function E(e){return 250*2**e}s.Uz&&navigator.serviceWorker.addEventListener("message",async e=>{const{type:t,messageId:n,params:s}=e.data;if("requestPart"!==t)return;const a=await async function e(t=0){return await(0,i.px)("downloadMedia",{mediaFormat:r.qZ.Progressive,...s})||(t>=m?void(o.Oig&&console.warn(`Failed to download media part after ${m} retries:`,s.url)):(await new Promise(e=>{setTimeout(e,E(t))}),o.Oig&&console.debug(`Retrying to download media part ${s.url}, attempt ${t+1}`),e(t+1)))}();if(!a)return;const{arrayBuffer:c,mimeType:l,fullSize:u}=a;navigator.serviceWorker.controller.postMessage({type:"partResponse",messageId:n,result:{arrayBuffer:c,mimeType:l,fullSize:u}},[c])})},58734:(e,t,n)=>{"use strict";n.d(t,{Rr:()=>f,Y5:()=>d,_p:()=>l,hB:()=>u});var r=n(13439),o=n(23174),i=n(31481),s=n(87357),a=n(60261),c=n(76023);const l="img[data-document-id]";function u(e){const[t,n,r]=(0,a.Qy)(e);return`<img\n    class="${(0,s.A)("custom-emoji","emoji","emoji-small",t&&"placeholder",e.shouldUseTextColor&&"colorable")}"\n    draggable="false"\n    alt="${e.emoji}"\n    data-document-id="${e.id}"\n    ${r?`data-unique-id="${r}"`:""}\n    data-entity-type="${o.C7.CustomEmoji}"\n    src="${n}"\n  />`}function d(e,t){const n=(0,r.mS)().customEmojis.byId[t.documentId],[i,c,l]=(0,a.Qy)(n);return`<img\n    class="${(0,s.A)("custom-emoji","emoji","emoji-small",i&&"placeholder",n?.shouldUseTextColor&&"colorable")}"\n    draggable="false"\n    alt="${e}"\n    data-document-id="${t.documentId}"\n    ${l?`data-unique-id="${l}"`:""}\n    data-entity-type="${o.C7.CustomEmoji}"\n    src="${c}"\n  />`}function f(e){if(e)return e>i.Apc?2.25*c.$:1===e?7*c.$:Math.min(7.5-.75*e,5.625)*c.$}},58849:(e,t,n)=>{"use strict";function r(e,t){return!e||!t||e.length<=t?e:`${e.substring(0,t)}...`}n.d(t,{A:()=>r})},59030:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(6e4),o=n(15283),i=n(30857);const s=()=>{const e=(0,i.A)();return(0,o.A)(()=>r.DW(e)),r.Yw()}},59607:(e,t,n)=>{"use strict";n.d(t,{Ld:()=>x,mY:()=>w,yK:()=>I});var r=n(84051),o=n(37932),i=n(13439),s=n(60919),a=n(51580),c=n(95175),l=n(33554),u=n(14487),d=n(87894),f=n(4350);const h=800;let p,g,m=!1,y=!1;const b=new BroadcastChannel(f.rL);let v,_=!1;function w(){(0,u.VS)(e=>{if(e===(0,u.g0)()){b.removeEventListener("message",S),y=!0;const t=(0,i.mS)(),n={...t,byTabId:(0,d.cJ)(t.byTabId,[e])},r=(0,c.K)(t,n);return void("symbol"!=typeof r&&b.postMessage({type:"globalDiffUpdate",diff:r}))}let t=(0,i.mS)();t={...t,byTabId:(0,d.cJ)(t.byTabId,[e])},(0,i.UF)(t)}),(0,o.DW)(e=>{if(m&&!y){if(g!==e){if(!g)return g=e,void b.postMessage({type:"globalUpdate",global:e});_||(_=!0,v=g,(0,r.qF)(()=>{const e=(0,c.K)(v,g);"symbol"!=typeof e&&b.postMessage({type:"globalDiffUpdate",diff:e}),_=!1})),g=e}}else g=e}),b.addEventListener("message",S)}function S({data:e}){if(e)switch(e.type){case"initApi":{const t=(0,i.mS)();if(!(0,s.nTw)(t).isMasterTab)return;const{initialArgs:n}=e;(0,a.Ru)((0,i.ko)().apiUpdate,n);break}case"globalDiffUpdate":{if(!m)return;const{diff:t}=e,n=(0,i.mS)(),r=(0,l.$)(n,t);r.DEBUG_randomId=n.DEBUG_randomId,g=r,(0,i.UF)(r);break}case"globalUpdate":{if(m)return;const t=(0,i.mS)();e.global.DEBUG_randomId=t.DEBUG_randomId,g=e.global,(0,i.UF)(e.global),p&&(p(),p=void 0,m=!0);break}case"requestGlobal":{const{appVersion:t}=e;if("0.0.20"!==t)return void window.location.reload();if(!m)return;const n=(0,i.mS)();if(!(0,s.nTw)(n).isMasterTab)return;b.postMessage({type:"globalUpdate",global:n}),(0,u.ZQ)();break}case"messageCallback":{if(!m)return;const t=(0,i.mS)();if((0,s.nTw)(t).isMasterTab)return;(0,a.PH)(e);break}case"localDbUpdate":{if(!m)return;const t=(0,i.mS)();if((0,s.nTw)(t).isMasterTab)return;const{batchedUpdates:n}=e;n.forEach(({name:e,prop:t,value:n})=>{(0,a.fj)(e,t,n)});break}case"localDbUpdateFull":{if(!m)return;const t=(0,i.mS)();if((0,s.nTw)(t).isMasterTab)return;const{localDb:n}=e;(0,a.iB)(n);break}case"messageResponse":{if(!m)return;const t=(0,i.mS)();if((0,s.nTw)(t).isMasterTab)return;(0,a.Hn)(e);break}case"cancelApiProgress":{if(!m)return;const t=(0,i.mS)();if(!(0,s.nTw)(t).isMasterTab)return;const{messageId:n}=e;(0,a.Ar)(n);break}case"callApi":{if(!m)return;const t=(0,i.mS)();if(!(0,s.nTw)(t).isMasterTab)return;const{name:n,messageId:r,token:o,args:c,withCallback:l}=e,u=l?[...c,(...e)=>{b.postMessage({type:"messageCallback",token:o,messageId:r,callbackArgs:e})}]:c;(async()=>{const e=await(0,a.eZ)(n,...u);b.postMessage({type:"messageResponse",token:o,messageId:r,response:e})})();break}case"langpackRefresh":(0,i.ko)().refreshLangPackFromCache({langCode:e.langCode})}}function x(e){b.postMessage({type:"requestGlobal",appVersion:e});const t=()=>{p&&(p(),p=void 0),m=!0};return localStorage.getItem(f.pn)?(setTimeout(t,h),new Promise(e=>{p=e})):(t(),Promise.resolve())}function I(e){b.postMessage({type:"langpackRefresh",langCode:e})}},59852:(e,t,n)=>{"use strict";function r(){const e=getComputedStyle(document.documentElement),t=i(e,"--color-background"),n=i(e,"--color-text-secondary"),r=t,o=i(e,"--color-text"),s=i(e,"--color-primary"),a=i(e,"--color-white"),c=i(e,"--color-links"),l=n,u=i(e,"--color-background-secondary"),d=i(e,"--color-divider");return{bg_color:r,text_color:o,hint_color:l,link_color:c,button_color:s,button_text_color:a,secondary_bg_color:u,header_bg_color:t,accent_text_color:i(e,"--color-primary"),section_bg_color:t,section_header_text_color:n,subtitle_text_color:l,destructive_text_color:i(e,"--color-error"),section_separator_color:d}}function o(e){return/^#[0-9A-F]{6}$/i.test(e)}function i(e,t){const n=e.getPropertyValue(t);if(n)return s(n.trim())}function s(e){return o(e)?e:`#${e.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d+\.{0,1}\d*))?\)$/).slice(1).map((e,t)=>(3===t?Math.round(255*parseFloat(e)):parseFloat(e)).toString(16).padStart(2,"0").replace("NaN","")).join("")}`}n.d(t,{A:()=>r,To:()=>o,yY:()=>s})},6e4:(e,t,n)=>{"use strict";n.d(t,{DW:()=>y,Yw:()=>A,bV:()=>k,wT:()=>C,yE:()=>I});var r=n(13439),o=n(31481),i=n(30708),s=n(51580),a=n(74824),c=n(46536),l=n(43044),u=n(14242);const d=/%\d?\$?[sdf@]/g,f=["value","zeroValue","oneValue","twoValue","fewValue","manyValue","otherValue"],h={en:e=>1!==e?6:2,ar:e=>0===e?1:1===e?2:2===e?3:e%100>=3&&e%100<=10?4:e%100>=11?5:6,be:e=>{const t=String(e).split("."),n=Number(t[0])===e,r=n?Number(t[0].slice(-1)):0,o=n?Number(t[0].slice(-2)):0;return 1===r&&11!==o?2:r>=2&&r<=4&&(o<12||o>14)?4:n&&0===r||r>=5&&r<=9||o>=11&&o<=14?5:6},ca:e=>1!==e?6:2,cs:e=>{const t=String(e).split("."),n=Number(t[0]),r=!t[1];return 1===e&&r?2:n>=2&&n<=4&&r?4:r?6:5},de:e=>1!==e?6:2,es:e=>1!==e?6:2,fa:e=>e>1?6:2,fi:e=>1!==e?6:2,fr:e=>e>1?6:2,id:()=>0,it:e=>1!==e?6:2,hr:e=>{const t=String(e).split("."),n=t[0],r=t[1]||"",o=!t[1],i=Number(n.slice(-1)),s=Number(n.slice(-2)),a=Number(r.slice(-1)),c=Number(r.slice(-2));return o&&1===i&&11!==s||1===a&&11!==c?2:o&&i>=2&&i<=4&&(s<12||s>14)||a>=2&&a<=4&&(c<12||c>14)?4:6},hu:e=>e>1?6:2,ko:()=>0,ms:()=>0,nb:e=>e>1?6:2,nl:e=>1!==e?6:2,pl:e=>1===e?2:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?4:5,"pt-br":e=>e>1?6:2,ru:e=>e%10==1&&e%100!=11?2:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?4:5,sk:e=>{const t=String(e).split("."),n=Number(t[0]),r=!t[1];return 1===e&&r?2:n>=2&&n<=4&&r?4:r?6:5},sr:e=>{const t=String(e).split("."),n=t[0],r=t[1]||"",o=!t[1],i=Number(n.slice(-1)),s=Number(n.slice(-2)),a=Number(r.slice(-1)),c=Number(r.slice(-2));return o&&1===i&&11!==s||1===a&&11!==c?2:o&&i>=2&&i<=4&&(s<12||s>14)||a>=2&&a<=4&&(c<12||c>14)?4:6},tr:e=>e>1?6:2,uk:e=>e%10==1&&e%100!=11?2:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?4:5,uz:e=>e>1?6:2},p=new Map;let g,m;const{addCallback:y,removeCallback:b,runCallbacks:v}=(0,c.h)();let _,w;function S(){return(e,t,n,r)=>{if(void 0!==t){const o=Array.isArray(t)?JSON.stringify(t):t,i=p.get(`${e}_${o}_${n}${r?`_${r}`:""}`);if(i)return i}m||E();const o=g?.[e]||m?.[e];return o?function(e,t,n,r,o){const i="number"==typeof n||void 0!==o?function(e){const t=_||"en",n=h[t]?h[t](e):0;return f[n]}(o??n):"value",s="string"==typeof e?e:"value"===i?"object"==typeof e?e.value:e:"object"==typeof e?e[i]||e.otherValue:void 0;if(!s?.trim()){const e=t.split(".");return e[e.length-1]}if(void 0!==n){const e=function(e,t){t=Array.isArray(t)?t:[t];const n=e.split(d),r=n.shift();return n.reduce((e,n,r)=>`${e}${String(t[r]??"")}${n}`,r||"")}(s,"i"===r?(0,u.Sm)(n):n),i=Array.isArray(n)?JSON.stringify(n):n;return p.set(`${t}_${i}_${r}${o?`_${o}`:""}`,e),e}return s}(o,e,t,n,r):e}}let x=S();function I(...e){return x(...e)}function A(){return x}async function C(e,t,n=!1){if((0,l.qY)(e,!0),g&&e===_)return void(t&&t());let c=await a.fetch(o.CV,e,a.Type.Json);if(!c&&(n&&await E(),c=await async function(e){const t=await(0,s.px)("oldFetchLangPack",{sourceLangPacks:o.Ka6,langCode:e});if(t)return await a.save(o.CV,e,t.langPack),t.langPack}(e),!c))return;p.clear(),_=e,g=c,document.documentElement.lang=e;const u=(0,r.mS)(),{languages:d,timeFormat:f}=(0,i.l)(u),h=d?.find(t=>t.langCode===e);x=S(),x.isRtl=Boolean(h?.isRtl),x.code=e.replace("-raw",""),x.langName=h?.nativeName,x.timeFormat=f,t&&t(),v()}function k(e){e&&e===w||(w=e,x.timeFormat=e,v())}async function E(){m||(m=(await n.e(5193).then(n.bind(n,65193))).default,v())}},60048:(e,t,n)=>{"use strict";n.d(t,{BU:()=>L,Yw:()=>F,dk:()=>B,P1:()=>$,p2:()=>j,vp:()=>R,jn:()=>M,uk:()=>N,YA:()=>T,zm:()=>P,Xq:()=>D,PZ:()=>O,Ts:()=>E});var r=n(84051),o=n(37932),i=n(13439),s=n(31481),a=n(27109),c=n(60919),l=n(30708),u=n(40708),d=n(5930),f=n(46536),h=n(95547);const p={enableEngagementSorting:!0,groupSizeThreshold:30,weights:{messageCount:.6,stayDuration:.3,clickCount:.1}};function g(e,t,n){return n===t?0:(e-t)/(n-t)}function m(e,t){const n=t[e];return n?.lastActiveTime?n.lastActiveTime:function(e){const t=(0,i.mS)(),n=(0,c.yHC)(t,e);return n?.date||0}(e)}var y=function(e){return e[e.UnreadPrivate=1]="UnreadPrivate",e[e.UnreadSmallGroup=2]="UnreadSmallGroup",e[e.Others=3]="Others",e}(y||{});var b=n(87894),v=n(37836);const _=6,w=W();let S=w.prevGlobal,x=w.prepared,I=w.results,A=w.callbacks;s.Oig&&(window.DEBUG_getFolderManager=()=>({prepared:x,results:I}));const C=(0,v.nF)(()=>{(0,r.qF)(()=>{U((0,i.mS)())})},500);let k=!1;function E(){k=!0,(0,o.DW)(C),(0,i.aJ)("reset",K);const e=(0,i.mS)();(0,c.nTw)(e).isMasterTab||V(e,!0,!0,!0,!0),U(e)}function T(e){return k||E(),I.orderedIdsByFolderId[e]}function P(e){return k||E(),I.pinnedCountByFolderId[e]||0}function M(){return k||E(),I.chatsCountByFolderId}function O(){return k||E(),I.unreadCountersByFolderId}function D(){return k||E(),I.unreadChatIdsByFolderId}function R(){return O()[s.DSF]?.notificationsCount||0}function N(e,t){try{const n=x.chatSummariesById.get(e);return t?n.orderInSaved:n.orderInAll}catch(e){return 0}}function F(e,t){return A.orderedIdsByFolderId[e]||(A.orderedIdsByFolderId[e]=(0,f.h)()),A.orderedIdsByFolderId[e].addCallback(t)}function L(e){return A.chatsCountByFolderId.addCallback(e)}function B(e){return A.unreadChatIdsByFolderId.addCallback(e)}function $(e){return A.unreadCountersByFolderId.addCallback(e)}function j(e){const{pinnedCount:t,orderedIds:n}=G(e);n&&(I.orderedIdsByFolderId[e]=n,I.pinnedCountByFolderId[e]=t,A.orderedIdsByFolderId[e]?.runCallbacks(n))}function U(e){let t;s.Oig&&(t=performance.now());const n=Boolean(e.chats.listIds.active&&z(s.DSF,e.chats.listIds.active,e.chats.orderedPinnedIds.active)),r=Boolean(e.chats.listIds.archived&&z(s._E9,e.chats.listIds.archived,e.chats.orderedPinnedIds.archived)),o=Boolean(e.chats.listIds.saved&&z(s.pX9,e.chats.listIds.saved,e.chats.orderedPinnedIds.saved)),i=e.chats.isFullyLoaded.active!==S.isAllFolderFullyLoaded,l=e.chats.isFullyLoaded.archived!==S.isArchivedFolderFullyLoaded,f=e.chats.isFullyLoaded.saved!==S.isSavedFolderFullyLoaded,h=e.chatFolders.byId!==S.foldersById,p=e.chats.byId!==S.chatsById,g=e.chats.lastMessageIds.saved!==S.lastSavedMessageIds,m=e.chats.lastMessageIds.all!==S.lastAllMessageIds,y=e.chats.topicsInfoById!==S.topicsInfoById,v=e.users.byId!==S.usersById,w=(0,c.K52)(e)!==S.notifyDefaults,A=e.chats.notifyExceptionById!==S.notifyExceptions;let C=[];if((i||l||f)&&(C=C.concat(function(e,t=!1,n=!1){let r=[];t&&r.push(s._E9),n&&r.push(s.pX9);const o=e.chats.isFullyLoaded.active,i=e.chats.isFullyLoaded.archived,a=e.chats.isFullyLoaded.saved;if(o&&i){const e=Object.keys(x.folderSummariesById).filter(e=>!I.orderedIdsByFolderId[e]).map(Number);r=r.concat(e)}return S.isAllFolderFullyLoaded=o,S.isArchivedFolderFullyLoaded=i,S.isSavedFolderFullyLoaded=a,r}(e,l,f))),!(n||r||o||h||p||v||y||w||A||g||m))return void(C.length&&H(C));const k=S.allFolderListIds,E=S.archivedFolderListIds,T=S.savedFolderListIds;if(V(e,n,r,o,h),C=C.concat(function(e,t,n,r,o,i,l){const f=e.chats.byId,h=e.users.byId,p=e.chats.lastMessageIds.all,g=e.chats.lastMessageIds.saved,m=(0,c.K52)(e),y=e.chats.notifyExceptionById,v=Object.values(x.folderSummariesById),_=new Set,w=e.chats.listIds.active,A=e.chats.listIds.archived,C=e.chats.listIds.saved,k=[...w||[],...A||[]];let E=[...k,...C||[],u.bL];return w===o&&A===i&&C===l||(E=(0,b.Am)(E.concat(o||[],i||[],l||[]))),E.forEach(o=>{const i=f[o];if(!t&&!n&&!r&&i===S.chatsById[o]&&h[o]===S.usersById[o]&&p?.[o]===S.lastAllMessageIds?.[o]&&g?.[o]===S.lastSavedMessageIds?.[o])return;let l;if(i){const n=x.chatSummariesById.get(o),r=!k.includes(o),u=!C?.includes(o),f=function(e,t,n,r,o,i,l){const{id:u,type:d,isNotJoined:f,migratedTo:h,folderId:p,unreadCount:g,unreadMentionsCount:m,hasUnreadMark:y,isForum:b}=t,v=(0,c._ls)(e,u),_=(0,c.pSx)(e,t.id),{unreadCount:w,unreadMentionsCount:S}=b?Object.values(_||{}).reduce((e,t)=>(e.unreadCount+=t.unreadCount,e.unreadMentionsCount+=t.unreadMentionsCount,e),{unreadCount:0,unreadMentionsCount:0}):{unreadCount:g,unreadMentionsCount:m},x="chatTypePrivate"===d&&o,I=(0,c.yHC)(e,t.id),A=t.id===s.zv8&&(!I||"historyClear"===I.content.action?.type),C=Math.max(t.creationDate||0,t.draftDate||0,I?.date||0),k=(0,c.yHC)(e,t.id,"saved"),E=k?.date||0;return{id:u,type:d,isListedInAll:Boolean(!(v||f||h||A||i)),isListedInSaved:!l,isArchived:p===s._E9,isMuted:(0,a.If)(t,n,r?.[t.id]),isUnread:Boolean(w||S||y),unreadCount:w,unreadMentionsCount:S,isUserBot:x?"userTypeBot"===x.type:void 0,isUserContact:x?x.isContact:void 0,orderInAll:C,orderInSaved:E}}(e,i,m,y,h[o],r,u);if(!t&&n&&(0,d.A)(f,n))return;x.chatSummariesById.set(o,f),l=function(e,t){return t.reduce((t,n)=>(function(e,t){if(!(t.id===s.pX9?e.isListedInSaved:e.isListedInAll))return!1;const{id:n,type:r}=e;if(t.listIds)return!(e.isArchived&&t.id===s.DSF||!e.isArchived&&t.id===s._E9)&&t.listIds.has(n);if(t.excludedChatIds?.has(n))return!1;if(t.includedChatIds?.has(n))return!0;if(t.pinnedChatIds?.has(n))return!0;if(t.excludeArchived&&e.isArchived)return!1;if(t.excludeRead&&!e.isUnread)return!1;if(t.excludeMuted&&e.isMuted&&!e.unreadMentionsCount)return!1;if("chatTypePrivate"===r)if(e.isUserBot){if(t.bots)return!0}else{if(t.contacts&&e.isUserContact)return!0;if(t.nonContacts&&!e.isUserContact)return!0}else{if("chatTypeChannel"===r)return Boolean(t.channels);if("chatTypeBasicGroup"===r||"chatTypeSuperGroup"===r)return Boolean(t.groups)}return!1}(e,n)&&t.push(n.id),t),[]).sort()}(f,v),l.forEach(e=>{_.add(e)})}else x.chatSummariesById.delete(o),l=[];const u=x.folderIdsByChatId[o]||[];if((0,b.k)(l,u))return;const w=function(e,t,n){const r=new Set(t),o=new Set(n),i=[];return(0,b.Am)([...t,...n]).forEach(t=>{let n=I.orderedIdsByFolderId[t];r.has(t)&&!o.has(t)?(x.chatIdsByFolderId[t].delete(e),i.push(t),n&&(n=n.filter(t=>t!==e),x.isOrderedListJustPatched[t]=!0)):!r.has(t)&&o.has(t)&&(x.chatIdsByFolderId[t]||(x.chatIdsByFolderId[t]=new Set),x.chatIdsByFolderId[t].add(e),n&&(n.push(e),x.isOrderedListJustPatched[t]=!0)),I.orderedIdsByFolderId[t]=n}),x.folderIdsByChatId[e]=n,i}(o,u,l);w.forEach(e=>{_.add(e)})}),S.chatsById=f,S.usersById=h,S.lastAllMessageIds=p,S.lastSavedMessageIds=g,S.notifyDefaults=m,S.notifyExceptions=y,Array.from(_)}(e,h||n||r||o,w,A,k,E,T)),H((0,b.Am)(C)),s.Oig){const e=performance.now()-t;e>_&&console.warn(`Slow \`updateFolderManager\`: ${Math.round(e)} ms`)}}function z(e,t,n){const r=e===s.DSF?S.allFolderListIds:e===s.pX9?S.savedFolderListIds:S.archivedFolderListIds,o=e===s.DSF?S.allFolderPinnedIds:e===s.pX9?S.savedFolderPinnedIds:S.archivedFolderPinnedIds;return r!==t||o!==n}function V(e,t,n,r,o){const i=[];if(t){const t=e.chats.listIds.active,n=e.chats.orderedPinnedIds.active;x.folderSummariesById[s.DSF]=q(s.DSF,t,n),S.allFolderListIds=t,S.allFolderPinnedIds=n,i.push(s.DSF)}if(n){const t=e.chats.listIds.archived,n=e.chats.orderedPinnedIds.archived;x.folderSummariesById[s._E9]=q(s._E9,t,n),S.archivedFolderListIds=t,S.archivedFolderPinnedIds=n,i.push(s._E9)}if(r){const t=e.chats.listIds.saved,n=e.chats.orderedPinnedIds.saved;x.folderSummariesById[s.pX9]=q(s.pX9,t,n),S.savedFolderListIds=t,S.savedFolderPinnedIds=n,i.push(s.pX9)}if(o){const t=e.chatFolders.byId;Object.values(t).forEach(e=>{e!==S.foldersById[e.id]&&(x.folderSummariesById[e.id]=function(e){return{...e,orderedPinnedIds:e.pinnedChatIds,excludedChatIds:e.excludedChatIds?new Set(e.excludedChatIds):void 0,includedChatIds:e.excludedChatIds?new Set(e.includedChatIds):void 0,pinnedChatIds:e.excludedChatIds?new Set(e.pinnedChatIds):void 0}}(e),i.push(e.id))}),S.foldersById=t}return i}function q(e,t,n){return{id:e,listIds:new Set(t),orderedPinnedIds:n,pinnedChatIds:new Set(n)}}function H(e){let t=!1,n=!1,r=!1;if(Array.from(e).forEach(e=>{const{pinnedCount:o,orderedIds:i}=G(e);if(!i)return;const s=I.orderedIdsByFolderId[e],a=I.pinnedCountByFolderId[e];(!s||void 0===a||a!==o||x.isOrderedListJustPatched[e]||!(0,b.k)(i,s))&&(x.isOrderedListJustPatched[e]=!1,I.orderedIdsByFolderId[e]=i,I.pinnedCountByFolderId[e]=o,A.orderedIdsByFolderId[e]?.runCallbacks(i));const c=I.chatsCountByFolderId[e],l=i.length;n||(n=c!==l),I.chatsCountByFolderId[e]=l;const u=I.unreadCountersByFolderId[e],f=function(e){const{chatSummariesById:t}=x,{orderedIdsByFolderId:{[e]:n}}=I;return n.reduce((e,n)=>{const r=t.get(n);return r?(r.isUnread&&(e.chatsCount++,r.unreadMentionsCount&&(e.notificationsCount+=r.unreadMentionsCount),r.isMuted||(r.unreadCount?e.notificationsCount+=r.unreadCount:r.unreadMentionsCount||(e.notificationsCount+=1))),e):e},{chatsCount:0,notificationsCount:0})}(e);t||(t=!u||!(0,d.A)(f,u)),I.unreadCountersByFolderId[e]=f;const h=I.unreadChatIdsByFolderId[e],p=function(e){const{chatSummariesById:t}=x,{orderedIdsByFolderId:{[e]:n}}=I;return n.filter(e=>{const n=t.get(e);return n?.isUnread})}(e);r||(r=!h||!(0,b.k)(p,h)),I.unreadChatIdsByFolderId[e]=p}),n){const e={...I.chatsCountByFolderId};I.chatsCountByFolderId=e,A.chatsCountByFolderId.runCallbacks(e)}if(t){const e={...I.unreadCountersByFolderId};I.unreadCountersByFolderId=e,A.unreadCountersByFolderId.runCallbacks(e)}r&&A.unreadChatIdsByFolderId.runCallbacks(I.unreadChatIdsByFolderId)}function G(e){const t=x.folderSummariesById[e];if(!t)return{};const{orderedPinnedIds:n,pinnedChatIds:r}=t,{chatIdsByFolderId:{[e]:o}}=x,{orderedIdsByFolderId:{[e]:a}}=I,d=e===s.pX9,f=o?n?.filter(e=>o.has(e)):n,b=a||o&&Array.from(o)||[],v=r?b.filter(e=>!r.has(e)):b;let _;const w=(0,i.mS)(),{enableChatSorting:S}=(0,l.l)(w);return _=e===s.DSF&&S?function(e,t=(0,i.mS)()){if(!p.enableEngagementSorting)return e;const n=h.default.getAllEngagementData(),r=e.map(e=>{const r=(0,c.hds)(t,e);if(!r)return;const o=function(e,t=p){const n=e.unreadCount&&e.unreadCount>0;return n&&function(e){return"chatTypePrivate"===e.type}(e)?y.UnreadPrivate:n&&function(e,t){return("chatTypeBasicGroup"===e.type||"chatTypeSuperGroup"===e.type)&&(e.membersCount||0)<t}(e,t.groupSizeThreshold)?y.UnreadSmallGroup:y.Others}(r,p),i=function(e,t,n=p){const r=t[e];if(!r)return 0;const o=Object.values(t);if(0===o.length)return 0;const i=o.map(e=>e.messageCount||0),s=o.map(e=>e.stayDuration||0),a=o.map(e=>e.clickCount||0),c=Math.min(...i),l=Math.max(...i),u=Math.min(...s),d=Math.max(...s),f=Math.min(...a),h=Math.max(...a),m=g(r.messageCount||0,c,l),y=g(r.stayDuration||0,u,d),b=g(r.clickCount||0,f,h);return n.weights.messageCount*m+n.weights.stayDuration*y+n.weights.clickCount*b}(e,n,p);return{chatId:e,chat:r,category:o,engagementWeight:i,lastActiveTime:m(e,n)}}).filter(Boolean);return r.sort((e,t)=>e.category!==t.category?e.category-t.category:Math.abs(e.engagementWeight-t.engagementWeight)>.001?t.engagementWeight-e.engagementWeight:t.lastActiveTime-e.lastActiveTime),r.map(e=>e.chatId)}(v.filter(e=>e!==u.bL)):v.filter(e=>e!==u.bL).sort((e,t)=>N(t,d)-N(e,d)),{pinnedCount:f?.length||0,orderedIds:[...f||[],..._]}}function W(){return{prevGlobal:{foldersById:{},chatsById:{},usersById:{},topicsInfoById:{}},prepared:{folderSummariesById:{},chatSummariesById:new Map,folderIdsByChatId:{},chatIdsByFolderId:{},isOrderedListJustPatched:{}},results:{orderedIdsByFolderId:{},pinnedCountByFolderId:{},chatsCountByFolderId:{},unreadCountersByFolderId:{},unreadChatIdsByFolderId:{}},callbacks:{orderedIdsByFolderId:{},chatsCountByFolderId:(0,f.h)(),unreadCountersByFolderId:(0,f.h)(),unreadChatIdsByFolderId:(0,f.h)()}}}function K(){const e=W();S=e.prevGlobal,x=e.prepared,I=e.results,A=e.callbacks}},60143:()=>{},60261:(e,t,n)=>{"use strict";n.d(t,{Il:()=>_,K3:()=>S,ZR:()=>A,Qy:()=>k,VU:()=>I,LQ:()=>w});var r=n(37932),o=n(13439),i=n(23174),s=n(66644),a=n(90709),c=n(60919),l=n(96454),u=n(46536),d=n(14235),f=n(58554),h=n(37836),p=n(61911);const g=n.p+"square.370a4828a4f2afc14ada.svg",m=new Set,y=new Map,b=(0,u.h)();let v;function _(e,t){y.set(e,t)}function w(e){y.delete(e)}(0,r.DW)(e=>{if(e.customEmojis.byId!==v?.customEmojis.byId||(0,c.BWX)(e)!==(0,c.BWX)(v)){for(const t of y){const[n,r]=t;e.customEmojis.byId[r]&&n(e.customEmojis)}!function(e){const t=Array.from(m).filter(t=>Boolean(e.byId[t]));t.length&&(t.forEach(e=>m.delete(e)),I())}(e.customEmojis)}v=e});const S=b.addCallback,x=(0,h.nF)(b.runCallbacks,500),I=(0,h.nF)(function(){document.querySelectorAll(".custom-emoji.placeholder").forEach(e=>{const t=(0,o.mS)().customEmojis.byId[e.dataset.documentId];if(!t)return void m.add(e.dataset.documentId);const[n,r,i]=k(t);t.shouldUseTextColor&&!e.classList.contains("colorable")&&(0,s.RK)(()=>{e.classList.add("colorable")}),n||(0,s.RK)(()=>{e.src=r,e.classList.remove("placeholder"),i&&(e.dataset.uniqueId=i),x(t.id)})})},500);function A(e,t){const n=(0,a.aL)(e,t),r=f.Ih(n);if(r)return r;C(n)}function C(e){return f.hd(e,i.qZ.BlobUrl).then(()=>{I()})}function k(e){if(!e)return[!0,g,void 0];const t=!l.OF&&e.isVideo;if(e.isLottie||e.isVideo&&!t)return C(`sticker${e.id}`),[!1,p,(0,d.A)()];const n=A(e.id,t);return[!n,n||g,void 0]}},60275:(e,t,n)=>{"use strict";n.d(t,{YK:()=>u,jH:()=>a});var r=n(96540),o=n(11320),i=n(72616);const s=100,a=1e3,c={Modal:s,Drawer:s,Popover:s,Popconfirm:s,Tooltip:s,Tour:s,FloatButton:s},l={SelectLike:50,Dropdown:50,DatePicker:50,Menu:50,ImagePreview:1},u=(e,t)=>{const[,n]=(0,o.Ay)(),s=r.useContext(i.A);let a;if(void 0!==t)a=[t,t];else{let r=null!=s?s:0;r+=e in c?(s?0:n.zIndexPopupBase)+c[e]:l[e],a=[void 0===s?t:r,r]}return a}},60343:(e,t,n)=>{"use strict";function r(e){const{chatId:t}=e;return i(t,"randomId"in e?Number(e.randomId):e.previousLocalId||e.id)}function o(e){if(a(e.id))return;const{chatId:t,id:n}=e;return i(t,n)}function i(e,t){return`msg${e}-${t}`}function s(e){const t=e.match(/^msg(-?\d+)-(\d+)/);return{chatId:t[1],messageId:Number(t[2])}}function a(e){return!Number.isInteger(e)}n.d(t,{AD:()=>o,ES:()=>s,bj:()=>r,iL:()=>a})},60371:(e,t,n)=>{"use strict";n.d(t,{m:()=>Ws,bK:()=>qs,Pt:()=>Hs,Qg:()=>Gs});var r=n(96540),o=n(5338),i=n(75951);const s=i.BigInt(0),a=i.BigInt(1),c=i.BigInt(2),l=i.BigInt(10),u=i.BigInt(24),d=i.BigInt(60),f=i.BigInt(1e3),h=i.BigInt(1e6),p=i.BigInt(1e9),g=i.multiply(i.BigInt(3600),p),m=i.multiply(d,p),y=i.multiply(g,u);function b(e){return"bigint"==typeof e?i.BigInt(e.toString(10)):e}function v(e){return i.equal(i.remainder(e,c),s)}function _(e){return i.lessThan(e,s)?i.unaryMinus(e):e}function w(e,t){return i.lessThan(e,t)?-1:i.greaterThan(e,t)?1:0}function S(e,t){return{quotient:i.divide(e,t),remainder:i.remainder(e,t)}}var x,I;const A="slot-epochNanoSeconds",C="slot-iso-date",k="slot-iso-date-time",E="slot-time",T="slot-calendar",P="slot-date-brand",M="slot-year-month-brand",O="slot-month-day-brand",D="slot-time-zone",R="slot-years",N="slot-months",F="slot-weeks",L="slot-days",B="slot-hours",$="slot-minutes",j="slot-seconds",U="slot-milliseconds",z="slot-microseconds",V="slot-nanoseconds",q="date",H="time",G="datetime",W="instant",K="original",Y="timezone-canonical",J="timezone-original",X="calendar-id",Z="locale",Q="options",ee=new WeakMap,te=Symbol.for("@@Temporal__GetSlots");(x=globalThis)[te]||(x[te]=function(e){return ee.get(e)});const ne=globalThis[te],re=Symbol.for("@@Temporal__CreateSlots");(I=globalThis)[re]||(I[re]=function(e){ee.set(e,Object.create(null))});const oe=globalThis[re];function ie(e,...t){if(!e||"object"!=typeof e)return!1;const n=ne(e);return!!n&&t.every(e=>e in n)}function se(e,t){const n=ne(e)?.[t];if(void 0===n)throw new TypeError(`Missing internal slot ${t}`);return n}function ae(e,t,n){const r=ne(e);if(void 0===r)throw new TypeError("Missing slots for the given container");if(r[t])throw new TypeError(`${t} already has set`);r[t]=n}const ce={};function le(e,t){Object.defineProperty(e.prototype,Symbol.toStringTag,{value:t,writable:!1,enumerable:!1,configurable:!0});const n=Object.getOwnPropertyNames(e);for(let t=0;t<n.length;t++){const r=n[t],o=Object.getOwnPropertyDescriptor(e,r);o.configurable&&o.enumerable&&(o.enumerable=!1,Object.defineProperty(e,r,o))}const r=Object.getOwnPropertyNames(e.prototype);for(let t=0;t<r.length;t++){const n=r[t],o=Object.getOwnPropertyDescriptor(e.prototype,n);o.configurable&&o.enumerable&&(o.enumerable=!1,Object.defineProperty(e.prototype,n,o))}ue(t,e),ue(`${t}.prototype`,e.prototype)}function ue(e,t){const n=`%${e}%`;if(void 0!==ce[n])throw new Error(`intrinsic ${e} already exists`);ce[n]=t}function de(e){return ce[e]}function fe(e,t){let n=e;if(0===n)return{div:n,mod:n};const r=Math.sign(n);n=Math.abs(n);const o=Math.trunc(1+Math.log10(n));if(t>=o)return{div:0*r,mod:r*n};if(0===t)return{div:r*n,mod:0*r};const i=n.toPrecision(o);return{div:r*Number.parseInt(i.slice(0,o-t),10),mod:r*Number.parseInt(i.slice(o-t),10)}}function he(e,t,n){let r=e,o=n;if(0===r)return o;const i=Math.sign(r)||Math.sign(o);r=Math.abs(r),o=Math.abs(o);const s=r.toPrecision(Math.trunc(1+Math.log10(r)));if(0===o)return i*Number.parseInt(s+"0".repeat(t),10);const a=s+o.toPrecision(Math.trunc(1+Math.log10(o))).padStart(t,"0");return i*Number.parseInt(a,10)}function pe(e,t){const n="negative"===t;switch(e){case"ceil":return n?"zero":"infinity";case"floor":return n?"infinity":"zero";case"expand":return"infinity";case"trunc":return"zero";case"halfCeil":return n?"half-zero":"half-infinity";case"halfFloor":return n?"half-infinity":"half-zero";case"halfExpand":return"half-infinity";case"halfTrunc":return"half-zero";case"halfEven":return"half-even"}}function ge(e,t,n,r,o){return"zero"===o?e:"infinity"===o?t:n<0?e:n>0?t:"half-zero"===o?e:"half-infinity"===o?t:r?e:t}class me{constructor(e){this.totalNs=b(e),this.sec=i.toNumber(i.divide(this.totalNs,p)),this.subsec=i.toNumber(i.remainder(this.totalNs,p))}static validateNew(e,t){if(i.greaterThan(_(e),me.MAX))throw new RangeError(`${t} of duration time units cannot exceed ${me.MAX} s`);return new me(e)}static fromEpochNsDiff(e,t){const n=i.subtract(b(e),b(t));return new me(n)}static fromComponents(e,t,n,r,o,s){const a=i.add(i.add(i.add(i.add(i.add(i.BigInt(s),i.multiply(i.BigInt(o),f)),i.multiply(i.BigInt(r),h)),i.multiply(i.BigInt(n),p)),i.multiply(i.BigInt(t),m)),i.multiply(i.BigInt(e),g));return me.validateNew(a,"total")}abs(){return new me(_(this.totalNs))}add(e){return me.validateNew(i.add(this.totalNs,e.totalNs),"sum")}add24HourDays(e){return me.validateNew(i.add(this.totalNs,i.multiply(i.BigInt(e),y)),"sum")}addToEpochNs(e){return i.add(b(e),this.totalNs)}cmp(e){return w(this.totalNs,e.totalNs)}divmod(e){const{quotient:t,remainder:n}=S(this.totalNs,i.BigInt(e));return{quotient:i.toNumber(t),remainder:new me(n)}}fdiv(e){const t=b(e),n=i.BigInt(t);let{quotient:r,remainder:o}=S(this.totalNs,n);const a=[];let c;const u=(i.lessThan(this.totalNs,s)?-1:1)*Math.sign(i.toNumber(t));for(;!i.equal(o,s)&&a.length<50;)o=i.multiply(o,l),({quotient:c,remainder:o}=S(o,n)),a.push(Math.abs(i.toNumber(c)));return u*Number(_(r).toString()+"."+a.join(""))}isZero(){return i.equal(this.totalNs,s)}round(e,t){const n=b(e);if(i.equal(n,a))return this;const{quotient:r,remainder:o}=S(this.totalNs,n),l=i.lessThan(this.totalNs,s)?"negative":"positive",u=i.multiply(_(r),n),d=i.add(u,n),f=w(_(i.multiply(o,c)),n),h=pe(t,l),p=i.equal(_(this.totalNs),u)?u:ge(u,d,f,v(r),h),g="positive"===l?p:i.unaryMinus(p);return me.validateNew(g,"rounding")}sign(){return this.cmp(new me(s))}subtract(e){return me.validateNew(i.subtract(this.totalNs,e.totalNs),"difference")}}me.MAX=i.BigInt("9007199254740991999999999"),me.ZERO=new me(s);const ye=/[A-Za-z._][A-Za-z._0-9+-]*/,be=new RegExp(`(?:${/(?:[+-](?:[01][0-9]|2[0-3])(?::?[0-5][0-9])?)/.source}|(?:${ye.source})(?:\\/(?:${ye.source}))*)`),ve=/(?:[+-]\d{6}|\d{4})/,_e=/(?:0[1-9]|1[0-2])/,we=/(?:0[1-9]|[12]\d|3[01])/,Se=new RegExp(`(${ve.source})(?:-(${_e.source})-(${we.source})|(${_e.source})(${we.source}))`),xe=/(\d{2})(?::(\d{2})(?::(\d{2})(?:[.,](\d{1,9}))?)?|(\d{2})(?:(\d{2})(?:[.,](\d{1,9}))?)?)?/,Ie=/((?:[+-])(?:[01][0-9]|2[0-3])(?::?(?:[0-5][0-9])(?::?(?:[0-5][0-9])(?:[.,](?:\d{1,9}))?)?)?)/,Ae=new RegExp(`([zZ])|${Ie.source}?`),Ce=/\[(!)?([a-z_][a-z0-9_-]*)=([A-Za-z0-9]+(?:-[A-Za-z0-9]+)*)\]/g,ke=new RegExp([`^${Se.source}`,`(?:(?:[tT]|\\s+)${xe.source}(?:${Ae.source})?)?`,`(?:\\[!?(${be.source})\\])?`,`((?:${Ce.source})*)$`].join("")),Ee=new RegExp([`^[tT]?${xe.source}`,`(?:${Ae.source})?`,`(?:\\[!?${be.source}\\])?`,`((?:${Ce.source})*)$`].join("")),Te=new RegExp(`^(${ve.source})-?(${_e.source})(?:\\[!?${be.source}\\])?((?:${Ce.source})*)$`),Pe=new RegExp(`^(?:--)?(${_e.source})-?(${we.source})(?:\\[!?${be.source}\\])?((?:${Ce.source})*)$`),Me=/(\d+)(?:[.,](\d{1,9}))?/,Oe=new RegExp(`(?:${Me.source}H)?(?:${Me.source}M)?(?:${Me.source}S)?`),De=new RegExp(`^([+-])?P${/(?:(\d+)Y)?(?:(\d+)M)?(?:(\d+)W)?(?:(\d+)D)?/.source}(?:T(?!$)${Oe.source})?$`,"i"),Re=864e5,Ne=1e6*Re,Fe=1e8*Re,Le=Bo(Fe),Be=i.unaryMinus(Le),$e=i.add(i.subtract(Be,y),a),je=i.subtract(i.add(Le,y),a),Ue=146097*Re,ze=-271821,Ve=275760,qe=Date.UTC(1847,0,1),He=["iso8601","hebrew","islamic","islamic-umalqura","islamic-tbla","islamic-civil","islamic-rgsa","islamicc","persian","ethiopic","ethioaa","ethiopic-amete-alem","coptic","chinese","dangi","roc","indian","buddhist","japanese","gregory"],Ge=new Set(["ACT","AET","AGT","ART","AST","BET","BST","CAT","CNT","CST","CTT","EAT","ECT","IET","IST","JST","MIT","NET","NST","PLT","PNT","PRT","PST","SST","VST"]);function We(e){return"object"==typeof e&&null!==e||"function"==typeof e}function Ke(e){if("bigint"==typeof e)throw new TypeError("Cannot convert BigInt to number");return Number(e)}function Ye(e){if("symbol"==typeof e)throw new TypeError("Cannot convert a Symbol value to a String");return String(e)}function Je(e){const t=Ke(e);if(0===t)return 0;if(Number.isNaN(t)||t===1/0||t===-1/0)throw new RangeError("invalid number value");const n=Math.trunc(t);return 0===n?0:n}function Xe(e,t){const n=Je(e);if(n<=0){if(void 0!==t)throw new RangeError(`property '${t}' cannot be a a number less than one`);throw new RangeError("Cannot convert a number less than one to a positive integer")}return n}function Ze(e){const t=Ke(e);if(Number.isNaN(t))throw new RangeError("not a number");if(t===1/0||t===-1/0)throw new RangeError("infinity is out of range");if(!function(e){if("number"!=typeof e||Number.isNaN(e)||e===1/0||e===-1/0)return!1;const t=Math.abs(e);return Math.floor(t)===t}(t))throw new RangeError(`unsupported fractional value ${e}`);return 0===t?0:t}function Qe(e,t){return String(e).padStart(t,"0")}function et(e){if("string"!=typeof e)throw new TypeError(`expected a string, not ${String(e)}`);return e}function tt(e,t){if(We(e)){const t=e?.toString();if("string"==typeof t||"number"==typeof t)return t;throw new TypeError("Cannot convert object to primitive value")}return e}const nt=["era","eraYear","year","month","monthCode","day","hour","minute","second","millisecond","microsecond","nanosecond","offset","timeZone"],rt={era:Ye,eraYear:Je,year:Je,month:Xe,monthCode:function(e){const t=et(tt(e));if(t.length<3||t.length>4||"M"!==t[0]||-1==="0123456789".indexOf(t[1])||-1==="0123456789".indexOf(t[2])||t[1]+t[2]==="00"&&"L"!==t[3]||"L"!==t[3]&&void 0!==t[3])throw new RangeError(`bad month code ${t}; must match M01-M99 or M00L-M99L`);return t},day:Xe,hour:Je,minute:Je,second:Je,millisecond:Je,microsecond:Je,nanosecond:Je,offset:function(e){const t=et(tt(e));return ur(t),t},timeZone:zn},ot={hour:0,minute:0,second:0,millisecond:0,microsecond:0,nanosecond:0},it=[["years","year","date"],["months","month","date"],["weeks","week","date"],["days","day","date"],["hours","hour","time"],["minutes","minute","time"],["seconds","second","time"],["milliseconds","millisecond","time"],["microseconds","microsecond","time"],["nanoseconds","nanosecond","time"]],st=Object.fromEntries(it.map(e=>[e[0],e[1]])),at=Object.fromEntries(it.map(([e,t])=>[t,e])),ct=it.map(([,e])=>e),lt={day:Ne,hour:36e11,minute:6e10,second:1e9,millisecond:1e6,microsecond:1e3,nanosecond:1},ut=["days","hours","microseconds","milliseconds","minutes","months","nanoseconds","seconds","weeks","years"],dt=Intl.DateTimeFormat,ft=new Map;function ht(e){const t=Wo(e);let n=ft.get(t);return void 0===n&&(n=new dt("en-us",{timeZone:t,hour12:!1,era:"short",year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"}),ft.set(t,n)),n}function pt(e){return ie(e,A)&&!ie(e,D,T)}function gt(e){return ie(e,R,N,L,B,$,j,U,z,V)}function mt(e){return ie(e,P)}function yt(e){return ie(e,E)}function bt(e){return ie(e,k)}function vt(e){return ie(e,M)}function _t(e){return ie(e,O)}function wt(e){return ie(e,A,D,T)}function St(e,t){if(!t(e))throw new TypeError("invalid receiver: method called with the wrong type of this-object")}function xt(e){if(ie(e,T)||ie(e,D))throw new TypeError("with() does not support a calendar or timeZone property");if(yt(e))throw new TypeError("with() does not accept Temporal.PlainTime, use withPlainTime() instead");if(void 0!==e.calendar)throw new TypeError("with() does not support a calendar property");if(void 0!==e.timeZone)throw new TypeError("with() does not support a timeZone property")}function It(e,t){return"never"===t||"auto"===t&&"iso8601"===e?"":`[${"critical"===t?"!":""}u-ca=${e}]`}function At(e){let t,n,r=!1;for(Ce.lastIndex=0;n=Ce.exec(e);){const{1:o,2:i,3:s}=n;if("u-ca"===i){if(void 0===t)t=s,r="!"===o;else if("!"===o||r)throw new RangeError(`Invalid annotations in ${e}: more than one u-ca present with critical flag`)}else if("!"===o)throw new RangeError(`Unrecognized annotation: !${i}=${s}`)}return t}function Ct(e){const t=ke.exec(e);if(!t)throw new RangeError(`invalid RFC 9557 string: ${e}`);const n=At(t[16]);let r=t[1];if("-000000"===r)throw new RangeError(`invalid RFC 9557 string: ${e}`);const o=+r,i=+(t[2]??t[4]??1),s=+(t[3]??t[5]??1),a=void 0!==t[6],c=+(t[6]??0),l=+(t[7]??t[10]??0);let u=+(t[8]??t[11]??0);60===u&&(u=59);const d=(t[9]??t[12]??"")+"000000000",f=+d.slice(0,3),h=+d.slice(3,6),p=+d.slice(6,9);let g,m=!1;t[13]?(g=void 0,m=!0):t[14]&&(g=t[14]);const y=t[15];return Ur(o,i,s,c,l,u,f,h,p),{year:o,month:i,day:s,time:a?{hour:c,minute:l,second:u,millisecond:f,microsecond:h,nanosecond:p}:"start-of-day",tzAnnotation:y,offset:g,z:m,calendar:n}}function kt(e){const t=Ee.exec(e);let n,r,o,i,s,a,c;if(t){c=At(t[10]),n=+(t[1]??0),r=+(t[2]??t[5]??0),o=+(t[3]??t[6]??0),60===o&&(o=59);const e=(t[4]??t[7]??"")+"000000000";if(i=+e.slice(0,3),s=+e.slice(3,6),a=+e.slice(6,9),t[8])throw new RangeError("Z designator not supported for PlainTime")}else{let t,l;if(({time:t,z:l,calendar:c}=Ct(e)),"start-of-day"===t)throw new RangeError(`time is missing in string: ${e}`);if(l)throw new RangeError("Z designator not supported for PlainTime");({hour:n,minute:r,second:o,millisecond:i,microsecond:s,nanosecond:a}=t)}if(jr(n,r,o,i,s,a),/[tT ][0-9][0-9]/.test(e))return{hour:n,minute:r,second:o,millisecond:i,microsecond:s,nanosecond:a,calendar:c};try{const{month:t,day:n}=Tt(e);Br(1972,t,n)}catch{try{const{year:t,month:n}=Et(e);Br(t,n,1)}catch{return{hour:n,minute:r,second:o,millisecond:i,microsecond:s,nanosecond:a,calendar:c}}}throw new RangeError(`invalid RFC 9557 time-only string ${e}; may need a T prefix`)}function Et(e){const t=Te.exec(e);let n,r,o,i;if(t){o=At(t[3]);let s=t[1];if("-000000"===s)throw new RangeError(`invalid RFC 9557 string: ${e}`);if(n=+s,r=+t[2],i=1,void 0!==o&&"iso8601"!==o)throw new RangeError("YYYY-MM format is only valid with iso8601 calendar")}else{let t;if(({year:n,month:r,calendar:o,day:i,z:t}=Ct(e)),t)throw new RangeError("Z designator not supported for PlainYearMonth")}return{year:n,month:r,calendar:o,referenceISODay:i}}function Tt(e){const t=Pe.exec(e);let n,r,o,i;if(t){if(o=At(t[3]),n=+t[1],r=+t[2],void 0!==o&&"iso8601"!==o)throw new RangeError("MM-DD format is only valid with iso8601 calendar")}else{let t;if(({month:n,day:r,calendar:o,year:i,z:t}=Ct(e)),t)throw new RangeError("Z designator not supported for PlainMonthDay")}return{month:n,day:r,calendar:o,referenceISOYear:i}}const Pt=new RegExp(`^${be.source}$`,"i"),Mt=new RegExp(`^${/([+-])([01][0-9]|2[0-3])(?::?([0-5][0-9])?)?/.source}$`);function Ot(e){const t=Yo.test(e)?"Seconds not allowed in offset time zone":"Invalid time zone";throw new RangeError(`${t}: ${e}`)}function Dt(e){return Pt.test(e)||Ot(e),Mt.test(e)?{offsetMinutes:ur(e)/6e10}:{tzName:e}}function Rt(e,t,n,r){let o=e,i=t,s=n;switch(r){case"reject":Br(o,i,s);break;case"constrain":({year:o,month:i,day:s}=Fr(o,i,s))}return{year:o,month:i,day:s}}function Nt(e,t,n,r,o,i,s){let a=e,c=t,l=n,u=r,d=o,f=i;switch(s){case"reject":jr(a,c,l,u,d,f);break;case"constrain":a=Nr(a,0,23),c=Nr(c,0,59),l=Nr(l,0,59),u=Nr(u,0,999),d=Nr(d,0,999),f=Nr(f,0,999)}return{hour:a,minute:c,second:l,millisecond:u,microsecond:d,nanosecond:f}}function Ft(e){if(!We(e))throw new TypeError("invalid duration-like");const t={years:void 0,months:void 0,weeks:void 0,days:void 0,hours:void 0,minutes:void 0,seconds:void 0,milliseconds:void 0,microseconds:void 0,nanoseconds:void 0};let n=!1;for(let r=0;r<ut.length;r++){const o=ut[r],i=e[o];void 0!==i&&(n=!0,t[o]=Ze(i))}if(!n)throw new TypeError("invalid duration-like");return t}function Lt({years:e,months:t,weeks:n,days:r},o,i,s){return{years:e,months:s??t,weeks:i??n,days:o??r}}function Bt(e,t){return{isoDate:e,time:t}}function $t(e){return Ho(e,"overflow",["constrain","reject"],"constrain")}function jt(e){return Ho(e,"disambiguation",["compatible","earlier","later","reject"],"compatible")}function Ut(e,t){return Ho(e,"roundingMode",["ceil","floor","expand","trunc","halfCeil","halfFloor","halfExpand","halfTrunc","halfEven"],t)}function zt(e,t){return Ho(e,"offset",["prefer","use","ignore","reject"],t)}function Vt(e){return Ho(e,"calendarName",["auto","always","never","critical"],"auto")}function qt(e){let t=e.roundingIncrement;if(void 0===t)return 1;const n=Je(t);if(n<1||n>1e9)throw new RangeError(`roundingIncrement must be at least 1 and at most 1e9, not ${t}`);return n}function Ht(e,t,n){const r=n?t:t-1;if(e>r)throw new RangeError(`roundingIncrement must be at least 1 and less than ${r}, not ${e}`);if(t%e!=0)throw new RangeError(`Rounding increment must divide evenly into ${t}`)}function Gt(e){const t=e.fractionalSecondDigits;if(void 0===t)return"auto";if("number"!=typeof t){if("auto"!==Ye(t))throw new RangeError(`fractionalSecondDigits must be 'auto' or 0 through 9, not ${t}`);return"auto"}const n=Math.floor(t);if(!Number.isFinite(n)||n<0||n>9)throw new RangeError(`fractionalSecondDigits must be 'auto' or 0 through 9, not ${t}`);return n}function Wt(e,t){switch(e){case"minute":return{precision:"minute",unit:"minute",increment:1};case"second":return{precision:0,unit:"second",increment:1};case"millisecond":return{precision:3,unit:"millisecond",increment:1};case"microsecond":return{precision:6,unit:"microsecond",increment:1};case"nanosecond":return{precision:9,unit:"nanosecond",increment:1}}switch(t){case"auto":return{precision:t,unit:"nanosecond",increment:1};case 0:return{precision:t,unit:"second",increment:1};case 1:case 2:case 3:return{precision:t,unit:"millisecond",increment:10**(3-t)};case 4:case 5:case 6:return{precision:t,unit:"microsecond",increment:10**(6-t)};case 7:case 8:case 9:return{precision:t,unit:"nanosecond",increment:10**(9-t)};default:throw new RangeError(`fractionalSecondDigits must be 'auto' or 0 through 9, not ${t}`)}}const Kt=Symbol("~required~");function Yt(e,t,n,r,o=[]){let i=[];for(let e=0;e<it.length;e++){const t=it[e],r=t[1],o=t[2];"datetime"!==n&&n!==o||i.push(r)}i=i.concat(o);let s=r;s===Kt?s=void 0:void 0!==s&&i.push(s);let a=[];a=a.concat(i);for(let e=0;e<i.length;e++){const t=i[e],n=at[t];void 0!==n&&a.push(n)}let c=Ho(e,t,a,s);if(void 0===c&&r===Kt)throw new RangeError(`${t} is required`);return c&&c in st?st[c]:c}function Jt(e){const t=e.relativeTo;if(void 0===t)return{};let n,r,o,i,s,a="option",c=!1;if(We(t)){if(wt(t))return{zonedRelativeTo:t};if(mt(t))return{plainRelativeTo:t};if(bt(t))return{plainRelativeTo:vn(se(t,k).isoDate,se(t,T))};o=Ln(t);const e=on(o,t,["year","month","monthCode","day"],["hour","minute","second","millisecond","microsecond","nanosecond","offset","timeZone"],[]);({isoDate:n,time:r}=cn(o,e,"constrain")),({offset:s,timeZone:i}=e),void 0===s&&(a="wall")}else{let e,l,u,d,f;if(({year:u,month:d,day:f,time:r,calendar:o,tzAnnotation:e,offset:s,z:l}=Ct(et(t))),e)i=zn(e),l?a="exact":s||(a="wall"),c=!0;else if(l)throw new RangeError("Z designator not supported for PlainDate relativeTo; either remove the Z or add a bracketed time zone");o||(o="iso8601"),o=Go(o),n={year:u,month:d,day:f}}return void 0===i?{plainRelativeTo:vn(n,o)}:{zonedRelativeTo:Mn(mn(n,r,a,"option"===a?ur(s):0,i,"compatible","reject",c),i,o)}}function Xt(e){return 0!==se(e,R)?"year":0!==se(e,N)?"month":0!==se(e,F)?"week":0!==se(e,L)?"day":0!==se(e,B)?"hour":0!==se(e,$)?"minute":0!==se(e,j)?"second":0!==se(e,U)?"millisecond":0!==se(e,z)?"microsecond":"nanosecond"}function Zt(e,t){return ct.indexOf(e)>ct.indexOf(t)?t:e}function Qt(e){return"year"===e||"month"===e||"week"===e}function en(e){return Qt(e)||"day"===e?"date":"time"}function tn(e){return de("%calendarImpl%")(e)}function nn(e){return de("%calendarImpl%")(se(e,T))}function rn(e,t,n="date"){const r=Object.create(null),o=tn(e).isoToDate(t,{year:!0,monthCode:!0,day:!0});return r.monthCode=o.monthCode,"month-day"!==n&&"date"!==n||(r.day=o.day),"year-month"!==n&&"date"!==n||(r.year=o.year),r}function on(e,t,n,r,o){const i=tn(e).extraFields(n),s=n.concat(r,i),a=Object.create(null);let c=!1;s.sort();for(let e=0;e<s.length;e++){const n=s[e],r=t[n];if(void 0!==r)c=!0,a[n]=(0,rt[n])(r);else if("partial"!==o){if(o.includes(n))throw new TypeError(`required property '${n}' missing or undefined`);a[n]=ot[n]}}if("partial"===o&&!c)throw new TypeError("no supported properties found");return a}function sn(e,t="complete"){const n=["hour","microsecond","millisecond","minute","nanosecond","second"];let r=!1;const o=Object.create(null);for(let i=0;i<n.length;i++){const s=n[i],a=e[s];void 0!==a?(o[s]=Je(a),r=!0):"complete"===t&&(o[s]=0)}if(!r)throw new TypeError("invalid time-like");return o}function an(e,t){if(We(e)){if(mt(e))return $t(Vo(t)),vn(se(e,C),se(e,T));if(wt(e)){const n=Gn(se(e,D),se(e,A));return $t(Vo(t)),vn(n.isoDate,se(e,T))}if(bt(e))return $t(Vo(t)),vn(se(e,k).isoDate,se(e,T));const n=Ln(e);return vn($n(n,on(n,e,["year","month","monthCode","day"],[],[]),$t(Vo(t))),n)}let{year:n,month:r,day:o,calendar:i,z:s}=Ct(et(e));if(s)throw new RangeError("Z designator not supported for PlainDate");return i||(i="iso8601"),i=Go(i),$t(Vo(t)),vn({year:n,month:r,day:o},i)}function cn(e,t,n){return Bt($n(e,t,n),Nt(t.hour,t.minute,t.second,t.millisecond,t.microsecond,t.nanosecond,n))}function ln(e,t){let n,r,o;if(We(e)){if(bt(e))return $t(Vo(t)),wn(se(e,k),se(e,T));if(wt(e)){const n=Gn(se(e,D),se(e,A));return $t(Vo(t)),wn(n,se(e,T))}if(mt(e))return $t(Vo(t)),wn(Bt(se(e,C),{deltaDays:0,hour:0,minute:0,second:0,millisecond:0,microsecond:0,nanosecond:0}),se(e,T));o=Ln(e);const i=on(o,e,["year","month","monthCode","day"],["hour","minute","second","millisecond","microsecond","nanosecond"],[]),s=$t(Vo(t));({isoDate:n,time:r}=cn(o,i,s))}else{let i,s,a,c;if(({year:s,month:a,day:c,time:r,calendar:o,z:i}=Ct(et(e))),i)throw new RangeError("Z designator not supported for PlainDateTime");"start-of-day"===r&&(r={deltaDays:0,hour:0,minute:0,second:0,millisecond:0,microsecond:0,nanosecond:0}),Ur(s,a,c,r.hour,r.minute,r.second,r.millisecond,r.microsecond,r.nanosecond),o||(o="iso8601"),o=Go(o),$t(Vo(t)),n={year:s,month:a,day:c}}return wn(Bt(n,r),o)}function un(e){const t=de("%Temporal.Duration%");if(gt(e))return new t(se(e,R),se(e,N),se(e,F),se(e,L),se(e,B),se(e,$),se(e,j),se(e,U),se(e,z),se(e,V));if(!We(e))return function(e){const{years:t,months:n,weeks:r,days:o,hours:i,minutes:s,seconds:a,milliseconds:c,microseconds:l,nanoseconds:u}=function(e){const t=De.exec(e);if(!t)throw new RangeError(`invalid duration: ${e}`);if(t.every((e,t)=>t<2||void 0===e))throw new RangeError(`invalid duration: ${e}`);const n="-"===t[1]?-1:1,r=void 0===t[2]?0:Je(t[2])*n,o=void 0===t[3]?0:Je(t[3])*n,i=void 0===t[4]?0:Je(t[4])*n,s=void 0===t[5]?0:Je(t[5])*n,a=void 0===t[6]?0:Je(t[6])*n,c=t[7],l=t[8],u=t[9],d=t[10],f=t[11];let h=0,p=0,g=0;if(void 0!==c){if(l??u??d??f)throw new RangeError("only the smallest unit can be fractional");g=3600*Je((c+"000000000").slice(0,9))*n}else if(h=void 0===l?0:Je(l)*n,void 0!==u){if(d??f)throw new RangeError("only the smallest unit can be fractional");g=60*Je((u+"000000000").slice(0,9))*n}else p=void 0===d?0:Je(d)*n,void 0!==f&&(g=Je((f+"000000000").slice(0,9))*n);const m=g%1e3,y=Math.trunc(g/1e3)%1e3,b=Math.trunc(g/1e6)%1e3;return p+=Math.trunc(g/1e9)%60,h+=Math.trunc(g/6e10),Gr(r,o,i,s,a,h,p,b,y,m),{years:r,months:o,weeks:i,days:s,hours:a,minutes:h,seconds:p,milliseconds:b,microseconds:y,nanoseconds:m}}(e);return new(de("%Temporal.Duration%"))(t,n,r,o,i,s,a,c,l,u)}(et(e));const n={years:0,months:0,weeks:0,days:0,hours:0,minutes:0,seconds:0,milliseconds:0,microseconds:0,nanoseconds:0};let r=Ft(e);for(let e=0;e<ut.length;e++){const t=ut[e],o=r[t];void 0!==o&&(n[t]=o)}return new t(n.years,n.months,n.weeks,n.days,n.hours,n.minutes,n.seconds,n.milliseconds,n.microseconds,n.nanoseconds)}function dn(e){let t;if(We(e)){if(pt(e)||wt(e))return Tn(se(e,A));t=tt(e)}else t=e;const{year:n,month:r,day:o,time:i,offset:s,z:a}=function(e){const t=Ct(e);if(!t.z&&!t.offset)throw new RangeError("Temporal.Instant requires a time zone offset");return t}(et(t)),{hour:c=0,minute:l=0,second:u=0,millisecond:d=0,microsecond:f=0,nanosecond:h=0}="start-of-day"===i?{}:i,p=Mr(n,r,o,c,l,u,d,f,h-(a?0:ur(s)));return Qr(p.isoDate),Tn(vr(p))}function fn(e,t){if(We(e)){if(_t(e))return $t(Vo(t)),xn(se(e,C),se(e,T));let n;return ie(e,T)?n=se(e,T):(n=e.calendar,void 0===n&&(n="iso8601"),n=Fn(n)),xn(Un(n,on(n,e,["year","month","monthCode","day"],[],[]),$t(Vo(t))),n)}let{month:n,day:r,referenceISOYear:o,calendar:i}=Tt(et(e));if(void 0===i&&(i="iso8601"),i=Go(i),$t(Vo(t)),"iso8601"===i)return xn({year:1972,month:n,day:r},i);let s={year:o,month:n,day:r};return $r(s),s=Un(i,rn(i,s,"month-day"),"constrain"),xn(s,i)}function hn(e,t){let n;if(We(e)){if(yt(e))return $t(Vo(t)),An(se(e,E));if(bt(e))return $t(Vo(t)),An(se(e,k).time);if(wt(e)){const n=Gn(se(e,D),se(e,A));return $t(Vo(t)),An(n.time)}const{hour:r,minute:o,second:i,millisecond:s,microsecond:a,nanosecond:c}=sn(e);n=Nt(r,o,i,s,a,c,$t(Vo(t)))}else n=kt(et(e)),$t(Vo(t));return An(n)}function pn(e){return void 0===e?{deltaDays:0,hour:0,minute:0,second:0,millisecond:0,microsecond:0,nanosecond:0}:se(hn(e),E)}function gn(e,t){if(We(e)){if(vt(e))return $t(Vo(t)),kn(se(e,C),se(e,T));const n=Ln(e);return kn(jn(n,on(n,e,["year","month","monthCode"],[],[]),$t(Vo(t))),n)}let{year:n,month:r,referenceISODay:o,calendar:i}=Et(et(e));void 0===i&&(i="iso8601"),i=Go(i),$t(Vo(t));let s={year:n,month:r,day:o};return Hr(s),s=jn(i,rn(i,s,"year-month"),"constrain"),kn(s,i)}function mn(e,t,n,r,o,s,a,c){if("start-of-day"===t)return Jn(o,e);const l=Bt(e,t);if("wall"===n||"ignore"===a)return Wn(o,l,s);if("exact"===n||"use"===a){const n=Mr(e.year,e.month,e.day,t.hour,t.minute,t.second,t.millisecond,t.microsecond,t.nanosecond-r);Qr(n.isoDate);const o=vr(n);return qr(o),o}Qr(e);const u=vr(l),d=Yn(o,l);for(let e=0;e<d.length;e++){const t=d[e],n=i.toNumber(i.subtract(u,t)),o=ko(n,6e10,"halfExpand");if(n===r||c&&o===r)return t}if("reject"===a){const e=Hn(r),t=ir(l,"iso8601","auto");throw new RangeError(`Offset ${e} is invalid for ${t} in ${o}`)}return Kn(d,o,l,s)}function yn(e,t){let n,r,o,i,s,a,c,l=!1,u="option";if(We(e)){if(wt(e)){const n=Vo(t);return jt(n),zt(n,"reject"),$t(n),Mn(se(e,A),se(e,D),se(e,T))}s=Ln(e);const l=on(s,e,["year","month","monthCode","day"],["hour","minute","second","millisecond","microsecond","nanosecond","offset","timeZone"],["timeZone"]);({offset:i,timeZone:o}=l),void 0===i&&(u="wall");const d=Vo(t);a=jt(d),c=zt(d,"reject");const f=$t(d);({isoDate:n,time:r}=cn(s,l,f))}else{let d,f,h,p,g;({year:h,month:p,day:g,time:r,tzAnnotation:d,offset:i,z:f,calendar:s}=function(e){const t=Ct(e);if(!t.tzAnnotation)throw new RangeError("Temporal.ZonedDateTime requires a time zone ID in brackets");return t}(et(e))),o=zn(d),f?u="exact":i||(u="wall"),s||(s="iso8601"),s=Go(s),l=!0;const m=Vo(t);a=jt(m),c=zt(m,"reject"),$t(m),n={year:h,month:p,day:g}}let d=0;return"option"===u&&(d=ur(i)),Mn(mn(n,r,u,d,o,a,c,l),o,s)}function bn(e,t,n){$r(t),oe(e),ae(e,C,t),ae(e,T,n),ae(e,P,!0)}function vn(e,t){const n=de("%Temporal.PlainDate%"),r=Object.create(n.prototype);return bn(r,e,t),r}function _n(e,t,n){zr(t),oe(e),ae(e,k,t),ae(e,T,n)}function wn(e,t){const n=de("%Temporal.PlainDateTime%"),r=Object.create(n.prototype);return _n(r,e,t),r}function Sn(e,t,n){$r(t),oe(e),ae(e,C,t),ae(e,T,n),ae(e,O,!0)}function xn(e,t){const n=de("%Temporal.PlainMonthDay%"),r=Object.create(n.prototype);return Sn(r,e,t),r}function In(e,t){oe(e),ae(e,E,t)}function An(e){const t=de("%Temporal.PlainTime%"),n=Object.create(t.prototype);return In(n,e),n}function Cn(e,t,n){Hr(t),oe(e),ae(e,C,t),ae(e,T,n),ae(e,M,!0)}function kn(e,t){const n=de("%Temporal.PlainYearMonth%"),r=Object.create(n.prototype);return Cn(r,e,t),r}function En(e,t){qr(t),oe(e),ae(e,A,t)}function Tn(e){const t=de("%Temporal.Instant%"),n=Object.create(t.prototype);return En(n,e),n}function Pn(e,t,n,r){qr(t),oe(e),ae(e,A,t),ae(e,D,n),ae(e,T,r)}function Mn(e,t,n="iso8601"){const r=de("%Temporal.ZonedDateTime%"),o=Object.create(r.prototype);return Pn(o,e,t,n),o}function On(e){return nt.filter(t=>void 0!==e[t])}function Dn(e,t,n){const r=On(n),o=tn(e).fieldKeysToIgnore(r),i=Object.create(null),s=On(t);for(let e=0;e<nt.length;e++){let a;const c=nt[e];s.includes(c)&&!o.includes(c)&&(a=t[c]),r.includes(c)&&(a=n[c]),void 0!==a&&(i[c]=a)}return i}function Rn(e,t,n,r){const o=tn(e).dateAdd(t,n,r);return $r(o),o}function Nn(e,t,n,r){return tn(e).dateUntil(t,n,r)}function Fn(e){if(We(e)&&ie(e,T))return se(e,T);const t=et(e);try{return Go(t)}catch{}let n;try{({calendar:n}=Ct(t))}catch{try{({calendar:n}=kt(t))}catch{try{({calendar:n}=Et(t))}catch{({calendar:n}=Tt(t))}}}return n||(n="iso8601"),Go(n)}function Ln(e){if(ie(e,T))return se(e,T);const{calendar:t}=e;return void 0===t?"iso8601":Fn(t)}function Bn(e,t){return Go(e)===Go(t)}function $n(e,t,n){const r=tn(e);r.resolveFields(t,"date");const o=r.dateToISO(t,n);return $r(o),o}function jn(e,t,n){const r=tn(e);r.resolveFields(t,"year-month"),t.day=1;const o=r.dateToISO(t,n);return Hr(o),o}function Un(e,t,n){const r=tn(e);r.resolveFields(t,"month-day");const o=r.monthDayToISOReferenceDate(t,n);return $r(o),o}function zn(e){if(We(e)&&wt(e))return se(e,D);const t=et(e);if("UTC"===t)return"UTC";const{tzName:n,offsetMinutes:r}=function(e){const{tzAnnotation:t,offset:n,z:r}=function(e){if(Pt.test(e))return{tzAnnotation:e,offset:void 0,z:!1};try{const{tzAnnotation:t,offset:n,z:r}=Ct(e);if(r||t||n)return{tzAnnotation:t,offset:n,z:r}}catch{}Ot(e)}(e);return t?Dt(t):r?Dt("UTC"):n?Dt(n):void 0}(t);if(void 0!==r)return mr(r);const o=hr(n);if(!o)throw new RangeError(`Unrecognized time zone ${n}`);return o.identifier}function Vn(e,t){if(e===t)return!0;const n=Dt(e).offsetMinutes,r=Dt(t).offsetMinutes;if(void 0===n&&void 0===r){const n=hr(t);if(!n)return!1;const r=hr(e);return!!r&&r.primaryIdentifier===n.primaryIdentifier}return n===r}function qn(e,t){const n=Dt(e).offsetMinutes;return void 0!==n?6e10*n:gr(e,t)}function Hn(e){const t=e<0?"-":"+",n=Math.abs(e),r=Math.floor(n/36e11),o=Math.floor(n/6e10)%60,i=Math.floor(n/1e9)%60,s=n%1e9;return`${t}${er(r,o,i,s,0===i&&0===s?"minute":"auto")}`}function Gn(e,t){const n=qn(e,t);let{isoDate:{year:r,month:o,day:i},time:{hour:s,minute:a,second:c,millisecond:l,microsecond:u,nanosecond:d}}=_r(t);return Mr(r,o,i,s,a,c,l,u,d+n)}function Wn(e,t,n){return Kn(Yn(e,t),e,t,n)}function Kn(e,t,n,r){const o=e.length;if(1===o)return e[0];if(o)switch(r){case"compatible":case"earlier":return e[0];case"later":return e[o-1];case"reject":throw new RangeError("multiple instants found")}if("reject"===r)throw new RangeError("multiple instants found");const s=vr(n),a=i.subtract(s,y);qr(a);const c=qn(t,a),l=i.add(s,y);qr(l);const u=qn(t,l)-c;switch(r){case"earlier":{const e=me.fromComponents(0,0,0,0,0,-u),r=yo(n.time,e);return Yn(t,Bt(Pr(n.isoDate.year,n.isoDate.month,n.isoDate.day+r.deltaDays),r))[0]}case"compatible":case"later":{const e=me.fromComponents(0,0,0,0,0,u),r=yo(n.time,e),o=Yn(t,Bt(Pr(n.isoDate.year,n.isoDate.month,n.isoDate.day+r.deltaDays),r));return o[o.length-1]}}}function Yn(e,t){if("UTC"===e)return Qr(t.isoDate),[vr(t)];const n=Dt(e).offsetMinutes;if(void 0!==n){const e=Mr(t.isoDate.year,t.isoDate.month,t.isoDate.day,t.time.hour,t.time.minute-n,t.time.second,t.time.millisecond,t.time.microsecond,t.time.nanosecond);Qr(e.isoDate);const r=vr(e);return qr(r),[r]}return Qr(t.isoDate),function(e,t){let n=vr(t),r=i.subtract(n,y);i.lessThan(r,Be)&&(r=n);let o=i.add(n,y);i.greaterThan(o,Le)&&(o=n);const s=gr(e,r),a=gr(e,o),c=(s===a?[s]:[s,a]).map(r=>{const o=i.subtract(n,i.BigInt(r)),s=function(e,t){const{epochMilliseconds:n,time:{millisecond:r,microsecond:o,nanosecond:i}}=_r(t),{year:s,month:a,day:c,hour:l,minute:u,second:d}=xr(e,n);return Mr(s,a,c,l,u,d,r,o,i)}(e,o);if(0===No(t,s))return qr(o),o});return c.filter(e=>void 0!==e)}(e,t)}function Jn(e,t){const n=Bt(t,{deltaDays:0,hour:0,minute:0,second:0,millisecond:0,microsecond:0,nanosecond:0}),r=Yn(e,n);if(r.length)return r[0];const o=vr(n),s=i.subtract(o,y);return qr(s),wr(e,s)}function Xn(e){let t;return t=e<0||e>9999?(e<0?"-":"+")+Qe(Math.abs(e),6):Qe(e,4),t}function Zn(e){return Qe(e,2)}function Qn(e,t){let n;if("auto"===t){if(0===e)return"";n=Qe(e,9).replace(/0+$/,"")}else{if(0===t)return"";n=Qe(e,9).slice(0,t)}return`.${n}`}function er(e,t,n,r,o){let i=`${Zn(e)}:${Zn(t)}`;return"minute"===o||(i+=`:${Zn(n)}`,i+=Qn(r,o)),i}function tr(e,t,n){let r=t;void 0===r&&(r="UTC");const o=se(e,A),i=ir(Gn(r,o),"iso8601",n,"never");let s="Z";return void 0!==t&&(s=yr(qn(r,o))),`${i}${s}`}function nr(e,t){const n=se(e,R),r=se(e,N),o=se(e,F),i=se(e,L),s=se(e,B),a=se(e,$),c=Cr(e);let l="";0!==n&&(l+=`${Math.abs(n)}Y`),0!==r&&(l+=`${Math.abs(r)}M`),0!==o&&(l+=`${Math.abs(o)}W`),0!==i&&(l+=`${Math.abs(i)}D`);let u="";0!==s&&(u+=`${Math.abs(s)}H`),0!==a&&(u+=`${Math.abs(a)}M`);const d=me.fromComponents(0,0,se(e,j),se(e,U),se(e,z),se(e,V));d.isZero()&&!["second","millisecond","microsecond","nanosecond"].includes(Xt(e))&&"auto"===t||(u+=`${Math.abs(d.sec)}${Qn(Math.abs(d.subsec),t)}S`);let f=`${c<0?"-":""}P${l}`;return u&&(f=`${f}T${u}`),f}function rr(e,t="auto"){const{year:n,month:r,day:o}=se(e,C);return`${Xn(n)}-${Zn(r)}-${Zn(o)}${It(se(e,T),t)}`}function or({hour:e,minute:t,second:n,millisecond:r,microsecond:o,nanosecond:i},s){return er(e,t,n,1e6*r+1e3*o+i,s)}function ir(e,t,n,r="auto"){const{isoDate:{year:o,month:i,day:s},time:{hour:a,minute:c,second:l,millisecond:u,microsecond:d,nanosecond:f}}=e;return`${Xn(o)}-${Zn(i)}-${Zn(s)}T${er(a,c,l,1e6*u+1e3*d+f,n)}${It(t,r)}`}function sr(e,t="auto"){const{year:n,month:r,day:o}=se(e,C);let i=`${Zn(r)}-${Zn(o)}`;const s=se(e,T);"always"!==t&&"critical"!==t&&"iso8601"===s||(i=`${Xn(n)}-${i}`);const a=It(s,t);return a&&(i+=a),i}function ar(e,t="auto"){const{year:n,month:r,day:o}=se(e,C);let i=`${Xn(n)}-${Zn(r)}`;const s=se(e,T);"always"!==t&&"critical"!==t&&"iso8601"===s||(i+=`-${Zn(o)}`);const a=It(s,t);return a&&(i+=a),i}function cr(e,t,n="auto",r="auto",o="auto",i=void 0){let s=se(e,A);if(i){const{unit:e,increment:t,roundingMode:n}=i;s=Eo(s,t,e,n)}const a=se(e,D),c=qn(a,s);let l=ir(Gn(a,s),"iso8601",t,"never");return"never"!==o&&(l+=yr(c)),"never"!==r&&(l+=`[${"critical"===r?"!":""}${a}]`),l+=It(se(e,T),n),l}function lr(e){return Mt.test(e)}function ur(e){const t=Jo.exec(e);if(!t)throw new RangeError(`invalid time zone offset: ${e}; must match ±HH:MM[:SS.SSSSSSSSS]`);return("-"===t[1]?-1:1)*(1e9*(60*(60*+t[2]+ +(t[3]||0))+ +(t[4]||0))+ +((t[5]||0)+"000000000").slice(0,9))}let dr;const fr=Object.assign(Object.create(null),{"/":!0,"-":!0,_:!0});function hr(e){if(void 0===dr){const e=Intl.supportedValuesOf?.("timeZone");if(e){dr=new Map;for(let t=0;t<e.length;t++){const n=e[t];dr.set(Wo(n),n)}}else dr=null}const t=Wo(e);let n=dr?.get(t);if(n)return{identifier:n,primaryIdentifier:n};try{n=ht(e).resolvedOptions().timeZone}catch{return}if("antarctica/south_pole"===t&&(n="Antarctica/McMurdo"),Ge.has(e))throw new RangeError(`${e} is a legacy time zone identifier from ICU. Use ${n} instead`);const r=[...t].map((e,n)=>0===n||fr[t[n-1]]?e.toUpperCase():e).join("").split("/");if(1===r.length)return"gb-eire"===t?{identifier:"GB-Eire",primaryIdentifier:n}:{identifier:t.length<=3||/[-0-9]/.test(t)?t.toUpperCase():r[0],primaryIdentifier:n};if("Etc"===r[0])return{identifier:`Etc/${["Zulu","Greenwich","Universal"].includes(r[1])?r[1]:r[1].toUpperCase()}`,primaryIdentifier:n};if("Us"===r[0])return{identifier:`US/${r[1]}`,primaryIdentifier:n};const o=new Map([["Act","ACT"],["Lhi","LHI"],["Nsw","NSW"],["Dar_Es_Salaam","Dar_es_Salaam"],["Port_Of_Spain","Port_of_Spain"],["Port-Au-Prince","Port-au-Prince"],["Isle_Of_Man","Isle_of_Man"],["Comodrivadavia","ComodRivadavia"],["Knox_In","Knox_IN"],["Dumontdurville","DumontDUrville"],["Mcmurdo","McMurdo"],["Denoronha","DeNoronha"],["Easterisland","EasterIsland"],["Bajanorte","BajaNorte"],["Bajasur","BajaSur"]]);return r[1]=o.get(r[1])??r[1],r.length>2&&(r[2]=o.get(r[2])??r[2]),{identifier:r.join("/"),primaryIdentifier:n}}function pr(e,t){const{year:n,month:r,day:o,hour:i,minute:s,second:a}=xr(e,t);let c=t%1e3;return c<0&&(c+=1e3),1e6*(br({isoDate:{year:n,month:r,day:o},time:{hour:i,minute:s,second:a,millisecond:c}})-t)}function gr(e,t){return pr(e,Lo(t,"floor"))}function mr(e){const t=e<0?"-":"+",n=Math.abs(e);return`${t}${er(Math.floor(n/60),n%60,0,0,"minute")}`}function yr(e){return mr(ko(e,6e10,"halfExpand")/6e10)}function br({isoDate:{year:e,month:t,day:n},time:{hour:r,minute:o,second:i,millisecond:s}}){const a=e%400,c=(e-a)/400,l=new Date;return l.setUTCHours(r,o,i,s),l.setUTCFullYear(a,t-1,n),l.getTime()+Ue*c}function vr(e){const t=br(e),n=1e3*e.time.microsecond+e.time.nanosecond;return i.add(Bo(t),i.BigInt(n))}function _r(e){let t=Lo(e,"trunc"),n=i.toNumber(i.remainder(e,h));n<0&&(n+=1e6,t-=1);const r=Math.floor(n/1e3)%1e3,o=n%1e3,s=new Date(t);return{epochMilliseconds:t,isoDate:{year:s.getUTCFullYear(),month:s.getUTCMonth()+1,day:s.getUTCDate()},time:{hour:s.getUTCHours(),minute:s.getUTCMinutes(),second:s.getUTCSeconds(),millisecond:s.getUTCMilliseconds(),microsecond:r,nanosecond:o}}}function wr(e,t){if("UTC"===e)return null;const n=Lo(t,"floor");if(n<qe)return wr(e,Bo(qe));const r=Date.now(),o=Math.max(n,r)+366*Re*3;let i=n,s=pr(e,i),a=i,c=s;for(;s===c&&i<o;){if(a=i+2*Re*7,a>Fe)return null;c=pr(e,a),s===c&&(i=a)}return s===c?null:Bo(Xo(t=>pr(e,t),i,a,s,c))}function Sr(e,t){if("UTC"===e)return null;const n=Lo(t,"ceil"),r=Date.now(),o=r+366*Re*3;if(n>o){const t=Sr(e,Bo(o));if(null===t||i.lessThan(t,Bo(r)))return t}if("Africa/Casablanca"===e||"Africa/El_Aaiun"===e){const t=Date.UTC(2088,0,1);if(t<n)return Sr(e,Bo(t))}let s=n-1;if(s<qe)return null;let a=pr(e,s),c=s,l=a;for(;a===l&&s>qe;){if(c=s-2*Re*7,c<qe)return null;l=pr(e,c),a===l&&(s=c)}return a===l?null:Bo(Xo(t=>pr(e,t),c,s,l,a))}function xr(e,t){return function(e){const t=e.split(/[^\w]+/);if(7!==t.length)throw new RangeError(`expected 7 parts in "${e}`);const n=+t[0],r=+t[1];let o=+t[2];const i=t[3];if("b"===i[0]||"B"===i[0])o=1-o;else if("a"!==i[0]&&"A"!==i[0])throw new RangeError(`Unknown era ${i} in "${e}`);const s="24"===t[4]?0:+t[4],a=+t[5],c=+t[6];if(!(Number.isFinite(o)&&Number.isFinite(n)&&Number.isFinite(r)&&Number.isFinite(s)&&Number.isFinite(a)&&Number.isFinite(c)))throw new RangeError(`Invalid number in "${e}`);return{year:o,month:n,day:r,hour:s,minute:a,second:c}}(ht(e).format(t))}function Ir(e){return void 0!==e&&!(e%4!=0||e%100==0&&e%400!=0)}function Ar(e,t){return{standard:[31,28,31,30,31,30,31,31,30,31,30,31],leapyear:[31,29,31,30,31,30,31,31,30,31,30,31]}[Ir(e)?"leapyear":"standard"][t-1]}function Cr(e){const t=[se(e,R),se(e,N),se(e,F),se(e,L),se(e,B),se(e,$),se(e,j),se(e,U),se(e,z),se(e,V)];for(let e=0;e<t.length;e++){const n=t[e];if(0!==n)return n<0?-1:1}return 0}function kr(e){const t=["years","months","weeks","days"];for(let n=0;n<t.length;n++){const r=e[t[n]];if(0!==r)return r<0?-1:1}return 0}function Er(e){const t=kr(e.date);return 0!==t?t:e.time.sign()}function Tr(e,t){let n=e,r=t;if(!Number.isFinite(n)||!Number.isFinite(r))throw new RangeError("infinity is out of range");return r-=1,n+=Math.floor(r/12),r%=12,r<0&&(r+=12),r+=1,{year:n,month:r}}function Pr(e,t,n){let r=e,o=t,i=n;if(!Number.isFinite(i))throw new RangeError("infinity is out of range");({year:r,month:o}=Tr(r,o));const s=146097;if(Math.abs(i)>s){const e=Math.trunc(i/s);r+=400*e,i-=e*s}let a=0,c=o>2?r:r-1;for(;a=Ir(c)?366:365,i<-a;)r-=1,c-=1,i+=a;for(c+=1;a=Ir(c)?366:365,i>a;)r+=1,c+=1,i-=a;for(;i<1;)({year:r,month:o}=Tr(r,o-1)),i+=Ar(r,o);for(;i>Ar(r,o);)i-=Ar(r,o),({year:r,month:o}=Tr(r,o+1));return{year:r,month:o,day:i}}function Mr(e,t,n,r,o,i,s,a,c){const l=Or(r,o,i,s,a,c);return Bt(Pr(e,t,n+l.deltaDays),l)}function Or(e,t,n,r,o,i){let s,a=e,c=t,l=n,u=r,d=o,f=i;({div:s,mod:f}=fe(f,3)),d+=s,f<0&&(d-=1,f+=1e3),({div:s,mod:d}=fe(d,3)),u+=s,d<0&&(u-=1,d+=1e3),l+=Math.trunc(u/1e3),u%=1e3,u<0&&(l-=1,u+=1e3),c+=Math.trunc(l/60),l%=60,l<0&&(c-=1,l+=60),a+=Math.trunc(c/60),c%=60,c<0&&(a-=1,c+=60);let h=Math.trunc(a/24);return a%=24,a<0&&(h-=1,a+=24),h+=0,a+=0,c+=0,l+=0,u+=0,d+=0,f+=0,{deltaDays:h,hour:a,minute:c,second:l,millisecond:u,microsecond:d,nanosecond:f}}function Dr(e,t){const n=Lt(e,0);if(0===kr(n))return e.days;const r=se(t,C),o=Rn(se(t,T),r,n,"constrain"),i=Zr(r.year,r.month-1,r.day),s=Zr(o.year,o.month-1,o.day)-i;return e.days+s}function Rr(e){return new(de("%Temporal.Duration%"))(-se(e,R),-se(e,N),-se(e,F),-se(e,L),-se(e,B),-se(e,$),-se(e,j),-se(e,U),-se(e,z),-se(e,V))}function Nr(e,t,n){return Math.min(n,Math.max(t,e))}function Fr(e,t,n){const r=Nr(t,1,12);return{year:e,month:r,day:Nr(n,1,Ar(e,r))}}function Lr(e,t,n){if(e<t||e>n)throw new RangeError(`value out of range: ${t} <= ${e} <= ${n}`)}function Br(e,t,n){Lr(t,1,12),Lr(n,1,Ar(e,t))}function $r(e){zr(Bt(e,{deltaDays:0,hour:12,minute:0,second:0,millisecond:0,microsecond:0,nanosecond:0}))}function jr(e,t,n,r,o,i){Lr(e,0,23),Lr(t,0,59),Lr(n,0,59),Lr(r,0,999),Lr(o,0,999),Lr(i,0,999)}function Ur(e,t,n,r,o,i,s,a,c){Br(e,t,n),jr(r,o,i,s,a,c)}function zr(e){const t=vr(e);(i.lessThan(t,$e)||i.greaterThan(t,je))&&qr(t)}function Vr(e){vr(e)}function qr(e){if(i.lessThan(e,Be)||i.greaterThan(e,Le))throw new RangeError("date/time value is outside of supported range")}function Hr({year:e,month:t}){Lr(e,ze,Ve),e===ze?Lr(t,4,12):e===Ve&&Lr(t,1,9)}function Gr(e,t,n,r,o,i,s,a,c,l){let u=0;const d=[e,t,n,r,o,i,s,a,c,l];for(let e=0;e<d.length;e++){const t=d[e];if(t===1/0||t===-1/0)throw new RangeError("infinite values not allowed as duration fields");if(0!==t){const e=t<0?-1:1;if(0!==u&&e!==u)throw new RangeError("mixed-sign values not allowed as duration fields");u=e}}if(Math.abs(e)>=2**32||Math.abs(t)>=2**32||Math.abs(n)>=2**32)throw new RangeError("years, months, and weeks must be < 2³²");const f=fe(a,3),h=fe(c,6),p=fe(l,9),g=fe(1e6*f.mod+1e3*h.mod+p.mod,9).div,m=86400*r+3600*o+60*i+s+f.div+h.div+p.div+g;if(!Number.isSafeInteger(m))throw new RangeError("total of duration time units cannot exceed 9007199254740991.999999999 s")}function Wr(e){return{date:{years:se(e,R),months:se(e,N),weeks:se(e,F),days:se(e,L)},time:me.fromComponents(se(e,B),se(e,$),se(e,j),se(e,U),se(e,z),se(e,V))}}function Kr(e){const t=me.fromComponents(se(e,B),se(e,$),se(e,j),se(e,U),se(e,z),se(e,V)).add24HourDays(se(e,L));return{date:{years:se(e,R),months:se(e,N),weeks:se(e,F),days:0},time:t}}function Yr(e){const t=Kr(e),n=Math.trunc(t.time.sec/86400);return Gr(t.date.years,t.date.months,t.date.weeks,n,0,0,0,0,0,0),{...t.date,days:n}}function Jr(e,t){const n=e.time.sign();let r=e.time.abs().subsec,o=0,i=0,s=e.time.abs().sec,a=0,c=0,l=0;switch(t){case"year":case"month":case"week":case"day":o=Math.trunc(r/1e3),r%=1e3,i=Math.trunc(o/1e3),o%=1e3,s+=Math.trunc(i/1e3),i%=1e3,a=Math.trunc(s/60),s%=60,c=Math.trunc(a/60),a%=60,l=Math.trunc(c/24),c%=24;break;case"hour":o=Math.trunc(r/1e3),r%=1e3,i=Math.trunc(o/1e3),o%=1e3,s+=Math.trunc(i/1e3),i%=1e3,a=Math.trunc(s/60),s%=60,c=Math.trunc(a/60),a%=60;break;case"minute":o=Math.trunc(r/1e3),r%=1e3,i=Math.trunc(o/1e3),o%=1e3,s+=Math.trunc(i/1e3),i%=1e3,a=Math.trunc(s/60),s%=60;break;case"second":o=Math.trunc(r/1e3),r%=1e3,i=Math.trunc(o/1e3),o%=1e3,s+=Math.trunc(i/1e3),i%=1e3;break;case"millisecond":o=Math.trunc(r/1e3),r%=1e3,i=he(s,3,Math.trunc(o/1e3)),o%=1e3,s=0;break;case"microsecond":o=he(s,6,Math.trunc(r/1e3)),r%=1e3,s=0;break;case"nanosecond":r=he(s,9,r),s=0}return new(de("%Temporal.Duration%"))(e.date.years,e.date.months,e.date.weeks,e.date.days+n*l,n*c,n*a,n*s,n*i,n*o,n*r)}function Xr(e,t){return kr(e),t.sign(),{date:e,time:t}}function Zr(e,t,n){return br({isoDate:{year:e,month:t+1,day:n},time:{hour:0,minute:0,second:0,millisecond:0}})/Re}function Qr({year:e,month:t,day:n}){if(Math.abs(Zr(e,t-1,n))>1e8)throw new RangeError("date/time value is outside the supported range")}function eo(e,t){const n=t.hour-e.hour,r=t.minute-e.minute,o=t.second-e.second,i=t.millisecond-e.millisecond,s=t.microsecond-e.microsecond,a=t.nanosecond-e.nanosecond;return me.fromComponents(n,r,o,i,s,a)}function to(e,t,n,r,o){let i=me.fromEpochNsDiff(t,e);return i=Mo(i,n,r,o),Xr({years:0,months:0,weeks:0,days:0},i)}function no(e,t,n,r){Vr(e),Vr(t);let o=eo(e.time,t.time);const i=o.sign(),s=Do(e.isoDate,t.isoDate);let a=t.isoDate;s===i&&(a=Pr(a.year,a.month,a.day+i),o=o.add24HourDays(-i));const c=Zt("day",r),l=Nn(n,e.isoDate,a,c);return r!==c&&(o=o.add24HourDays(l.days),l.days=0),Xr(l,o)}function ro(e,t,n,r,o){const a=i.subtract(t,e);if(i.equal(a,s))return{date:{years:0,months:0,weeks:0,days:0},time:me.ZERO};const c=i.lessThan(a,s)?-1:1,l=Gn(n,e),u=Gn(n,t);let d,f=0,h=1===c?2:1,p=eo(l.time,u.time);for(p.sign()===-c&&f++;f<=h;f++){d=Bt(Pr(u.isoDate.year,u.isoDate.month,u.isoDate.day-f*c),l.time);const e=Wn(n,d,"compatible");if(p=me.fromEpochNsDiff(t,e),p.sign()!==-c)break}const g=Zt("day",o);return Xr(Nn(r,l.isoDate,d.isoDate,g),p)}function oo(e,t,n,r,o,s,a,c,l){let u,d,f,h,p=t;switch(c){case"year":{const t=ko(p.date.years,a,"trunc");u=t,d=t+a*e,f={years:u,months:0,weeks:0,days:0},h={...f,years:d};break}case"month":{const t=ko(p.date.months,a,"trunc");u=t,d=t+a*e,f=Lt(p.date,0,0,u),h=Lt(p.date,0,0,d);break}case"week":{const t=Lt(p.date,0,0),n=Rn(s,r.isoDate,t,"constrain"),o=Nn(s,n,Pr(n.year,n.month,n.day+p.date.days),"week"),i=ko(p.date.weeks+o.weeks,a,"trunc");u=i,d=i+a*e,f=Lt(p.date,0,u),h=Lt(p.date,0,d);break}case"day":{const t=ko(p.date.days,a,"trunc");u=t,d=t+a*e,f=Lt(p.date,u),h=Lt(p.date,d);break}}const g=Rn(s,r.isoDate,f,"constrain"),m=Rn(s,r.isoDate,h,"constrain");let y,b;const v=Bt(g,r.time),_=Bt(m,r.time);o?(y=Wn(o,v,"compatible"),b=Wn(o,_,"compatible")):(y=vr(v),b=vr(_));const w=me.fromEpochNsDiff(n,y),S=me.fromEpochNsDiff(b,y),x=pe(l,e<0?"negative":"positive"),I=w.add(w).abs().subtract(S.abs()).sign(),A=Math.abs(u)/a%2==0,C=w.isZero()?Math.abs(u):w.cmp(S)?ge(Math.abs(u),Math.abs(d),I,A,x):Math.abs(d),k=new me(i.add(i.multiply(S.totalNs,i.BigInt(u)),i.multiply(w.totalNs,i.BigInt(a*e)))).fdiv(S.totalNs),E=C===Math.abs(d);return p={date:E?h:f,time:me.ZERO},{nudgeResult:{duration:p,nudgedEpochNs:E?b:y,didExpandCalendarUnit:E},total:k}}function io(e,t,n,r,o,s,a,c,l){let u=e;const d=Qt(c)||r&&"day"===c,f=Er(u)<0?-1:1;let h;return d?({nudgeResult:h}=oo(f,u,t,n,r,o,a,c,l)):h=r?function(e,t,n,r,o,s,a,c){let l=t;const u=Rn(o,n.isoDate,l.date,"constrain"),d=Bt(u,n.time),f=Bt(Pr(u.year,u.month,u.day+e),n.time),h=Wn(r,d,"compatible"),p=Wn(r,f,"compatible"),g=me.fromEpochNsDiff(p,h);if(g.sign()!==e)throw new RangeError("time zone returned inconsistent Instants");const m=i.BigInt(lt[a]*s);let y=l.time.round(m,c);const b=y.subtract(g),v=b.sign()!==-e;let _,w;return v?(_=e,y=b.round(m,c),w=y.addToEpochNs(p)):(_=0,w=y.addToEpochNs(h)),{duration:Xr(Lt(l.date,l.date.days+_),y),nudgedEpochNs:w,didExpandCalendarUnit:v}}(f,u,n,r,o,a,c,l):function(e,t,n,r,o,s){let a=e;const c=a.time.add24HourDays(a.date.days),l=c.round(i.BigInt(r*lt[o]),s),u=l.subtract(c),{quotient:d}=c.divmod(Ne),{quotient:f}=l.divmod(Ne),h=Math.sign(f-d)===c.sign(),p=u.addToEpochNs(t);let g=0,m=l;return"date"===en(n)&&(g=f,m=l.add(me.fromComponents(24*-f,0,0,0,0,0))),{duration:{date:Lt(a.date,g),time:m},nudgedEpochNs:p,didExpandCalendarUnit:h}}(u,t,s,a,c,l),u=h.duration,h.didExpandCalendarUnit&&"week"!==c&&(u=function(e,t,n,r,o,i,s,a){let c=t;if(a===s)return c;const l=ct.indexOf(s);for(let t=ct.indexOf(a)-1;t>=l;t--){const a=ct[t];if("week"===a&&"week"!==s)continue;let l;switch(a){case"year":l={years:c.date.years+e,months:0,weeks:0,days:0};break;case"month":{const t=c.date.months+e;l=Lt(c.date,0,0,t);break}case"week":{const t=c.date.weeks+e;l=Lt(c.date,0,t);break}}const u=Bt(Rn(i,r.isoDate,l,"constrain"),r.time);let d;if(d=o?Wn(o,u,"compatible"):vr(u),w(n,d)===-e)break;c={date:l,time:me.ZERO}}return c}(f,u,h.nudgedEpochNs,n,r,o,s,Zt(c,"day"))),u}function so(e,t,n,r,o,i){return Qt(i)||r&&"day"===i?oo(Er(e)<0?-1:1,e,t,n,r,o,1,i,"trunc").total:Oo(e.time.add24HourDays(e.date.days),i)}function ao(e,t,n,r,o,i,s){if(0==No(e,t))return{date:{years:0,months:0,weeks:0,days:0},time:me.ZERO};zr(e),zr(t);const a=no(e,t,n,r);return"nanosecond"===i&&1===o?a:io(a,vr(t),e,null,n,r,o,i,s)}function co(e,t,n,r,o,i,s,a){if("time"===en(o))return to(e,t,i,s,a);const c=ro(e,t,n,r,o);return"nanosecond"===s&&1===i?c:io(c,t,Gn(n,e),n,r,o,i,s,a)}function lo(e,t,n,r,o,i){const s=it.reduce((e,t)=>{const o=t[0],i=t[1],s=t[2];return"datetime"!==n&&s!==n||r.includes(i)||e.push(i,o),e},[]);let a=Yt(t,"largestUnit",n,"auto");if(r.includes(a))throw new RangeError(`largestUnit must be one of ${s.join(", ")}, not ${a}`);const c=qt(t);let l=Ut(t,"trunc");"since"===e&&(l=function(e){switch(e){case"ceil":return"floor";case"floor":return"ceil";case"halfCeil":return"halfFloor";case"halfFloor":return"halfCeil";default:return e}}(l));const u=Yt(t,"smallestUnit",n,o);if(r.includes(u))throw new RangeError(`smallestUnit must be one of ${s.join(", ")}, not ${u}`);const d=Zt(i,u);if("auto"===a&&(a=d),Zt(a,u)!==a)throw new RangeError(`largestUnit ${a} cannot be smaller than smallestUnit ${u}`);const f={hour:24,minute:60,second:60,millisecond:1e3,microsecond:1e3,nanosecond:1e3}[u];return void 0!==f&&Ht(c,f,!1),{largestUnit:a,roundingIncrement:c,roundingMode:l,smallestUnit:u}}function uo(e,t,n,r){const o=dn(n),i=lo(e,Vo(r),"time",[],"nanosecond","second");let s=Jr(to(se(t,A),se(o,A),i.roundingIncrement,i.smallestUnit,i.roundingMode),i.largestUnit);return"since"===e&&(s=Rr(s)),s}function fo(e,t,n,r){const o=an(n),i=se(t,T),s=se(o,T);if(!Bn(i,s))throw new RangeError(`cannot compute difference between dates of ${i} and ${s} calendars`);const a=lo(e,Vo(r),"date",[],"day","day"),c=de("%Temporal.Duration%"),l=se(t,C),u=se(o,C);if(0===Do(l,u))return new c;let d={date:Nn(i,l,u,a.largestUnit),time:me.ZERO};if("day"!==a.smallestUnit||1!==a.roundingIncrement){const e=Bt(l,{deltaDays:0,hour:0,minute:0,second:0,millisecond:0,microsecond:0,nanosecond:0});d=io(d,vr(Bt(u,{deltaDays:0,hour:0,minute:0,second:0,millisecond:0,microsecond:0,nanosecond:0})),e,null,i,a.largestUnit,a.roundingIncrement,a.smallestUnit,a.roundingMode)}let f=Jr(d,"day");return"since"===e&&(f=Rr(f)),f}function ho(e,t,n,r){const o=ln(n),i=se(t,T),s=se(o,T);if(!Bn(i,s))throw new RangeError(`cannot compute difference between dates of ${i} and ${s} calendars`);const a=lo(e,Vo(r),"datetime",[],"nanosecond","day"),c=de("%Temporal.Duration%"),l=se(t,k),u=se(o,k);if(0===No(l,u))return new c;let d=Jr(ao(l,u,i,a.largestUnit,a.roundingIncrement,a.smallestUnit,a.roundingMode),a.largestUnit);return"since"===e&&(d=Rr(d)),d}function po(e,t,n,r){const o=hn(n),i=lo(e,Vo(r),"time",[],"nanosecond","hour");let s=eo(se(t,E),se(o,E));s=Mo(s,i.roundingIncrement,i.smallestUnit,i.roundingMode);let a=Jr(Xr({years:0,months:0,weeks:0,days:0},s),i.largestUnit);return"since"===e&&(a=Rr(a)),a}function go(e,t,n,r){const o=gn(n),i=se(t,T),s=se(o,T);if(!Bn(i,s))throw new RangeError(`cannot compute difference between months of ${i} and ${s} calendars`);const a=lo(e,Vo(r),"date",["week","day"],"month","year"),c=de("%Temporal.Duration%");if(0==Do(se(t,C),se(o,C)))return new c;const l=rn(i,se(t,C),"year-month");l.day=1;const u=$n(i,l,"constrain"),d=rn(i,se(o,C),"year-month");d.day=1;const f=$n(i,d,"constrain");let h={date:Lt(Nn(i,u,f,a.largestUnit),0,0),time:me.ZERO};if("month"!==a.smallestUnit||1!==a.roundingIncrement){const e=Bt(u,{deltaDays:0,hour:0,minute:0,second:0,millisecond:0,microsecond:0,nanosecond:0});h=io(h,vr(Bt(f,{deltaDays:0,hour:0,minute:0,second:0,millisecond:0,microsecond:0,nanosecond:0})),e,null,i,a.largestUnit,a.roundingIncrement,a.smallestUnit,a.roundingMode)}let p=Jr(h,"day");return"since"===e&&(p=Rr(p)),p}function mo(e,t,n,r){const o=yn(n),s=se(t,T),a=se(o,T);if(!Bn(s,a))throw new RangeError(`cannot compute difference between dates of ${s} and ${a} calendars`);const c=lo(e,Vo(r),"datetime",[],"nanosecond","hour"),l=se(t,A),u=se(o,A),d=de("%Temporal.Duration%");let f;if("date"!==en(c.largestUnit))f=Jr(to(l,u,c.roundingIncrement,c.smallestUnit,c.roundingMode),c.largestUnit);else{const e=se(t,D);if(!Vn(e,se(o,D)))throw new RangeError("When calculating difference between time zones, largestUnit must be 'hours' or smaller because day lengths can vary between time zones due to DST or time zone offset changes.");if(i.equal(l,u))return new d;f=Jr(co(l,u,e,s,c.largestUnit,c.roundingIncrement,c.smallestUnit,c.roundingMode),"hour")}return"since"===e&&(f=Rr(f)),f}function yo({hour:e,minute:t,second:n,millisecond:r,microsecond:o,nanosecond:i},s){let a=n,c=i;return a+=s.sec,c+=s.subsec,Or(e,t,a,r,o,c)}function bo(e,t){const n=t.addToEpochNs(e);return qr(n),n}function vo(e,t,n,r,o="constrain"){if(0===kr(r.date))return bo(e,r.time);const i=Gn(t,e);return bo(Wn(t,Bt(Rn(n,i.isoDate,r.date,o),i.time),"compatible"),r.time)}function _o(e,t,n){let r=un(n);"subtract"===e&&(r=Rr(r));const o=Zt(Xt(t),Xt(r));if(Qt(o))throw new RangeError("For years, months, or weeks arithmetic, use date arithmetic relative to a starting point");const i=Kr(t),s=Kr(r);return Jr(Xr({years:0,months:0,weeks:0,days:0},i.time.add(s.time)),o)}function wo(e,t,n){let r=un(n);"subtract"===e&&(r=Rr(r));const o=Xt(r);if("date"===en(o))throw new RangeError(`Duration field ${o} not supported by Temporal.Instant. Try Temporal.ZonedDateTime instead.`);const i=Kr(r);return Tn(bo(se(t,A),i.time))}function So(e,t,n,r){const o=se(t,T);let i=un(n);"subtract"===e&&(i=Rr(i));const s=Yr(i),a=$t(Vo(r));return vn(Rn(o,se(t,C),s,a),o)}function xo(e,t,n,r){let o=un(n);"subtract"===e&&(o=Rr(o));const i=$t(Vo(r)),s=se(t,T),a=Kr(o),c=se(t,k),l=yo(c.time,a.time),u=Lt(a.date,l.deltaDays);return Gr(u.years,u.months,u.weeks,u.days,0,0,0,0,0,0),wn(Bt(Rn(s,c.isoDate,u,i),l),s)}function Io(e,t,n){let r=un(n);"subtract"===e&&(r=Rr(r));const o=Kr(r),{hour:i,minute:s,second:a,millisecond:c,microsecond:l,nanosecond:u}=yo(se(t,E),o.time);return An(Nt(i,s,a,c,l,u,"reject"))}function Ao(e,t,n,r){let o=un(n);"subtract"===e&&(o=Rr(o));const i=$t(Vo(r)),s=Cr(o),a=se(t,T),c=rn(a,se(t,C),"year-month");c.day=1;let l=$n(a,c,"constrain");if(s<0){const e=Rn(a,l,{months:1},"constrain");l=Pr(e.year,e.month,e.day-1)}const u=Yr(o);return $r(l),kn(jn(a,rn(a,Rn(a,l,u,i),"year-month"),i),a)}function Co(e,t,n,r){let o=un(n);"subtract"===e&&(o=Rr(o));const i=$t(Vo(r)),s=se(t,D),a=se(t,T),c=Wr(o);return Mn(vo(se(t,A),s,a,c,i),s,a)}function ko(e,t,n){const r=Math.trunc(e/t),o=e%t,i=e<0?"negative":"positive",s=Math.abs(r),a=s+1,c=zo(Math.abs(2*o)-t),l=s%2==0,u=pe(n,i),d=0===o?s:ge(s,a,c,l,u);return t*("positive"===i?d:-d)}function Eo(e,t,n,r){const o=lt[n]*t;return function(e,t,n){const r=b(e),o=b(t),l=i.divide(r,o),u=i.remainder(r,o),d=pe(n,"positive");let f,h;i.lessThan(r,s)?(f=i.subtract(l,a),h=l):(f=l,h=i.add(l,a));const p=w(_(i.multiply(u,c)),o)*(i.lessThan(r,s)?-1:1)+0,g=i.equal(u,s)?l:ge(f,h,p,v(f),d);return i.multiply(g,o)}(e,i.BigInt(o),r)}function To(e,t,n,r){Vr(e);const{year:o,month:i,day:s}=e.isoDate,a=Po(e.time,t,n,r);return Bt(Pr(o,i,s+a.deltaDays),a)}function Po({hour:e,minute:t,second:n,millisecond:r,microsecond:o,nanosecond:i},s,a,c){let l;switch(a){case"day":case"hour":l=1e3*(1e3*(1e3*(60*(60*e+t)+n)+r)+o)+i;break;case"minute":l=1e3*(1e3*(1e3*(60*t+n)+r)+o)+i;break;case"second":l=1e3*(1e3*(1e3*n+r)+o)+i;break;case"millisecond":l=1e3*(1e3*r+o)+i;break;case"microsecond":l=1e3*o+i;break;case"nanosecond":l=i}const u=lt[a],d=ko(l,u*s,c)/u;switch(a){case"day":return{deltaDays:d,hour:0,minute:0,second:0,millisecond:0,microsecond:0,nanosecond:0};case"hour":return Or(d,0,0,0,0,0);case"minute":return Or(e,d,0,0,0,0);case"second":return Or(e,t,d,0,0,0);case"millisecond":return Or(e,t,n,d,0,0);case"microsecond":return Or(e,t,n,r,d,0);case"nanosecond":return Or(e,t,n,r,o,d);default:throw new Error(`Invalid unit ${a}`)}}function Mo(e,t,n,r){const o=lt[n];return e.round(i.BigInt(o*t),r)}function Oo(e,t){const n=lt[t];return e.fdiv(i.BigInt(n))}function Do(e,t){return e.year!==t.year?zo(e.year-t.year):e.month!==t.month?zo(e.month-t.month):e.day!==t.day?zo(e.day-t.day):0}function Ro(e,t){return e.hour!==t.hour?zo(e.hour-t.hour):e.minute!==t.minute?zo(e.minute-t.minute):e.second!==t.second?zo(e.second-t.second):e.millisecond!==t.millisecond?zo(e.millisecond-t.millisecond):e.microsecond!==t.microsecond?zo(e.microsecond-t.microsecond):e.nanosecond!==t.nanosecond?zo(e.nanosecond-t.nanosecond):0}function No(e,t){const n=Do(e.isoDate,t.isoDate);return 0!==n?n:Ro(e.time,t.time)}function Fo(e){const t=$o(e);return void 0!==globalThis.BigInt?globalThis.BigInt(t.toString(10)):t}function Lo(e,t){const n=b(e),{quotient:r,remainder:o}=S(n,h);let s=i.toNumber(r);return"floor"===t&&i.toNumber(o)<0&&(s-=1),"ceil"===t&&i.toNumber(o)>0&&(s+=1),s}function Bo(e){if(!Number.isInteger(e))throw new RangeError("epoch milliseconds must be an integer");return i.multiply(i.BigInt(e),h)}function $o(e){let t=e;if("object"==typeof e){const n=e[Symbol.toPrimitive];n&&"function"==typeof n&&(t=n.call(e,"number"))}if("number"==typeof t)throw new TypeError("cannot convert number to bigint");return"bigint"==typeof t?i.BigInt(t.toString(10)):i.BigInt(t)}const jo=(()=>{let e=i.BigInt(Date.now()%1e6);return()=>{const t=Date.now(),n=i.BigInt(t),r=i.add(Bo(t),e);return e=i.remainder(n,h),i.greaterThan(r,Le)?Le:i.lessThan(r,Be)?Be:r}})();function Uo(){return(new Intl.DateTimeFormat).resolvedOptions().timeZone}function zo(e){return e<0?-1:e>0?1:e}function Vo(e){if(void 0===e)return Object.create(null);if(We(e)&&null!==e)return e;throw new TypeError("Options parameter must be an object, not "+(null===e?"null":typeof e))}function qo(e,t){const n=Object.create(null);return n[e]=t,n}function Ho(e,t,n,r){let o=e[t];if(void 0!==o){if(o=Ye(o),!n.includes(o))throw new RangeError(`${t} must be one of ${n.join(", ")}, not ${o}`);return o}if(r===Kt)throw new RangeError(`${t} option is required`);return r}function Go(e){const t=Wo(e);if(!He.includes(Wo(t)))throw new RangeError(`invalid calendar identifier ${t}`);switch(t){case"ethiopic-amete-alem":return"ethioaa";case"islamicc":return"islamic-civil"}return t}function Wo(e){let t="";for(let n=0;n<e.length;n++){const r=e.charCodeAt(n);t+=r>=65&&r<=90?String.fromCharCode(r+32):String.fromCharCode(r)}return t}function Ko(e){throw new TypeError(`Do not use built-in arithmetic operators with Temporal objects. When comparing, use ${"PlainMonthDay"===e?"Temporal.PlainDate.compare(obj1.toPlainDate(year), obj2.toPlainDate(year))":`Temporal.${e}.compare(obj1, obj2)`}, not obj1 > obj2. When coercing to strings, use \`\${obj}\` or String(obj), not '' + obj. When coercing to numbers, use properties or methods of the object, not \`+obj\`. When concatenating with strings, use \`\${str}\${obj}\` or str.concat(obj), not str + obj. In React, coerce to a string before rendering a Temporal object.`)}const Yo=new RegExp(`^${Ie.source}$`),Jo=new RegExp(`^${/([+-])([01][0-9]|2[0-3])(?::?([0-5][0-9])(?::?([0-5][0-9])(?:[.,](\d{1,9}))?)?)?/.source}$`);function Xo(e,t,n,r=e(t),o=e(n)){let i=t,s=n,a=r,c=o;for(;s-i>1;){let t=Math.trunc((i+s)/2);const n=e(t);n===a?(i=t,a=n):n===c&&(s=t,c=n)}return s}function Zo(e){return[...e]}function Qo(e,t){if("gregory"!==e&&"iso8601"!==e)return;const n=ti[e];let r=t.year;const{dayOfWeek:o,dayOfYear:i,daysInYear:s}=n.isoToDate(t,{dayOfWeek:!0,dayOfYear:!0,daysInYear:!0}),a=n.getFirstDayOfWeek(),c=n.getMinimalDaysInFirstWeek();let l=(o+7-a)%7,u=(o-i+7001-a)%7,d=Math.floor((i-1+u)/7);if(7-u>=c&&++d,0==d)d=function(e,t,n,r){let o=(r-e-n+1)%7;o<0&&(o+=7);let i=Math.floor((n+o-1)/7);return 7-o>=t&&++i,i}(a,c,i+n.isoToDate(n.dateAdd(t,{years:-1},"constrain"),{daysInYear:!0}).daysInYear,o),r--;else if(i>=s-5){let e=(l+s-i)%7;e<0&&(e+=7),6-e>=c&&i+7-l>s&&(d=1,r++)}return{week:d,year:r}}function ei(e,t,n,r,o){if(t!==o.year){if(e*(t-o.year)>0)return!0}else if(n!==o.month){if(e*(n-o.month)>0)return!0}else if(r!==o.day&&e*(r-o.day)>0)return!0;return!1}const ti={};function ni(e){if(!e.startsWith("M"))throw new RangeError(`Invalid month code: ${e}.  Month codes must start with M.`);const t=+e.slice(1);if(Number.isNaN(t))throw new RangeError(`Invalid month code: ${e}`);return t}function ri(e,t=!1){return`M${`${e}`.padStart(2,"0")}${t?"L":""}`}function oi(e,t=void 0,n=12){let{month:r,monthCode:o}=e;if(void 0===o){if(void 0===r)throw new TypeError("Either month or monthCode are required");"reject"===t&&Lr(r,1,n),"constrain"===t&&(r=Nr(r,1,n)),o=ri(r)}else{const e=ni(o);if(o!==ri(e))throw new RangeError(`Invalid month code: ${o}`);if(void 0!==r&&r!==e)throw new RangeError(`monthCode ${o} and month ${r} must match if both are present`);if(r=e,r<1||r>n)throw new RangeError(`Invalid monthCode: ${o}`)}return{...e,month:r,monthCode:o}}ti.iso8601={resolveFields(e,t){if(("date"===t||"year-month"===t)&&void 0===e.year)throw new TypeError("year is required");if(("date"===t||"month-day"===t)&&void 0===e.day)throw new TypeError("day is required");Object.assign(e,oi(e))},dateToISO:(e,t)=>Rt(e.year,e.month,e.day,t),monthDayToISOReferenceDate(e,t){const{month:n,day:r}=Rt(e.year??1972,e.month,e.day,t);return{month:n,day:r,year:1972}},extraFields:()=>[],fieldKeysToIgnore(e){const t=new Set;for(let n=0;n<e.length;n++){const r=e[n];t.add(r),"month"===r?t.add("monthCode"):"monthCode"===r&&t.add("month")}return Zo(t)},dateAdd(e,{years:t=0,months:n=0,weeks:r=0,days:o=0},i){let{year:s,month:a,day:c}=e;return s+=t,a+=n,({year:s,month:a}=Tr(s,a)),({year:s,month:a,day:c}=Rt(s,a,c,i)),c+=o+7*r,Pr(s,a,c)},dateUntil(e,t,n){const r=-Do(e,t);if(0===r)return{years:0,months:0,weeks:0,days:0};let o,i=0,s=0;if("year"===n||"month"===n){let a=t.year-e.year;for(0!==a&&(a-=r);!ei(r,e.year+a,e.month,e.day,t);)i=a,a+=r;let c=r;for(o=Tr(e.year+i,e.month+c);!ei(r,o.year,o.month,e.day,t);)s=c,c+=r,o=Tr(o.year,o.month+r);"month"===n&&(s+=12*i,i=0)}o=Tr(e.year+i,e.month+s);const a=Fr(o.year,o.month,e.day);let c=0,l=Zr(t.year,t.month-1,t.day)-Zr(a.year,a.month-1,a.day);return"week"===n&&(c=Math.trunc(l/7),l%=7),{years:i,months:s,weeks:c,days:l}},isoToDate({year:e,month:t,day:n},r){const o={era:void 0,eraYear:void 0,year:e,month:t,day:n,daysInWeek:7,monthsInYear:12};if(r.monthCode&&(o.monthCode=ri(t)),r.dayOfWeek){const r=t+(t<3?10:-2),i=e-(t<3?1:0),s=Math.floor(i/100),a=i-100*s,c=(n+Math.floor(2.6*r-.2)+(a+Math.floor(a/4))+(Math.floor(s/4)-2*s))%7;o.dayOfWeek=c+(c<=0?7:0)}if(r.dayOfYear){let r=n;for(let n=t-1;n>0;n--)r+=Ar(e,n);o.dayOfYear=r}return r.weekOfYear&&(o.weekOfYear=Qo("iso8601",{year:e,month:t,day:n})),r.daysInMonth&&(o.daysInMonth=Ar(e,t)),(r.daysInYear||r.inLeapYear)&&(o.inLeapYear=Ir(e),o.daysInYear=o.inLeapYear?366:365),o},getFirstDayOfWeek:()=>1,getMinimalDaysInFirstWeek:()=>4};class ii{constructor(e){if(this.map=new Map,this.calls=0,this.hits=0,this.misses=0,void 0!==e){let t=0;for(const n of e.map.entries()){if(++t>ii.MAX_CACHE_ENTRIES)break;this.map.set(...n)}}}get(e){const t=this.map.get(e);return t&&(this.hits++,this.report()),this.calls++,t}set(e,t){this.map.set(e,t),this.misses++,this.report()}report(){}setObject(e){if(ii.objectMap.get(e))throw new RangeError("object already cached");ii.objectMap.set(e,this),this.report()}static getCacheForObject(e){let t=ii.objectMap.get(e);return t||(t=new ii,ii.objectMap.set(e,t)),t}}function si({isoYear:e,isoMonth:t,isoDay:n}){return`${Xn(e)}-${Zn(t)}-${Zn(n)}T00:00Z`}function ai(e,t){return{years:e.year-t.year,months:e.month-t.month,days:e.day-t.day}}ii.objectMap=new WeakMap,ii.MAX_CACHE_ENTRIES=1e3;class ci{constructor(){this.eras=[],this.hasEra=!1,this.erasBeginMidYear=!1}getFormatter(){return void 0===this.formatter&&(this.formatter=new Intl.DateTimeFormat(`en-US-u-ca-${this.id}`,{day:"numeric",month:"numeric",year:"numeric",era:"short",timeZone:"UTC"})),this.formatter}getCalendarParts(e){let t=this.getFormatter(),n=new Date(e);if("-271821-04-19T00:00Z"===e){const e=t.resolvedOptions();t=new Intl.DateTimeFormat(e.locale,{...e,timeZone:"Etc/GMT+1"}),n=new Date("-271821-04-20T00:00Z")}try{return t.formatToParts(n)}catch(t){throw new RangeError(`Invalid ISO date: ${e}`)}}isoToCalendarDate(e,t){const{year:n,month:r,day:o}=e,i=JSON.stringify({func:"isoToCalendarDate",isoYear:n,isoMonth:r,isoDay:o,id:this.id}),s=t.get(i);if(s)return s;const a=si({isoYear:n,isoMonth:r,isoDay:o}),c=this.getCalendarParts(a),l={};for(let e=0;e<c.length;e++){const{type:t,value:n}=c[e];if("year"!==t&&"relatedYear"!==t||(this.hasEra?l.eraYear=+n:l.year=+n),"month"===t){const e=/^([0-9]*)(.*?)$/.exec(n);if(!e||3!=e.length||!e[1]&&!e[2])throw new RangeError(`Unexpected month: ${n}`);if(l.month=e[1]?+e[1]:1,l.month<1)throw new RangeError(`Invalid month ${n} from ${a}[u-ca-${this.id}] (probably due to https://bugs.chromium.org/p/v8/issues/detail?id=10527)`);if(l.month>13)throw new RangeError(`Invalid month ${n} from ${a}[u-ca-${this.id}] (probably due to https://bugs.chromium.org/p/v8/issues/detail?id=10529)`);e[2]&&(l.monthExtra=e[2])}"day"===t&&(l.day=+n),this.hasEra&&"era"===t&&null!=n&&""!==n&&(l.era=n.split(" (")[0].normalize("NFD").replace(/[^-0-9 \p{L}]/gu,"").replace(/ /g,"-").toLowerCase())}if(this.hasEra&&void 0===l.eraYear)throw new RangeError(`Intl.DateTimeFormat.formatToParts lacks relatedYear in ${this.id} calendar. Try Node 14+ or modern browsers.`);if(this.hasEra){const e=this.eras.find(e=>l.era===e.genericName);e&&(l.era=e.code)}if(this.reviseIntlEra){const{era:t,eraYear:n}=this.reviseIntlEra(l,e);l.era=t,l.eraYear=n}this.checkIcuBugs&&this.checkIcuBugs(e);const u=this.adjustCalendarDate(l,t,"constrain",!0);if(void 0===u.year)throw new RangeError(`Missing year converting ${JSON.stringify(e)}`);if(void 0===u.month)throw new RangeError(`Missing month converting ${JSON.stringify(e)}`);if(void 0===u.day)throw new RangeError(`Missing day converting ${JSON.stringify(e)}`);return t.set(i,u),["constrain","reject"].forEach(n=>{const r=JSON.stringify({func:"calendarToIsoDate",year:u.year,month:u.month,day:u.day,overflow:n,id:this.id});t.set(r,e)}),u}validateCalendarDate(e){const{month:t,year:n,day:r,eraYear:o,monthCode:i,monthExtra:s}=e;if(void 0!==s)throw new RangeError("Unexpected `monthExtra` value");if(void 0===n&&void 0===o)throw new TypeError("year or eraYear is required");if(void 0===t&&void 0===i)throw new TypeError("month or monthCode is required");if(void 0===r)throw new RangeError("Missing day");if(void 0!==i){if("string"!=typeof i)throw new RangeError("monthCode must be a string, not "+typeof i);if(!/^M([01]?\d)(L?)$/.test(i))throw new RangeError(`Invalid monthCode: ${i}`)}if(this.hasEra&&void 0===e.era!=(void 0===e.eraYear))throw new TypeError("properties era and eraYear must be provided together")}adjustCalendarDate(e,t=void 0,n="constrain",r=!1){if("lunisolar"===this.calendarType)throw new RangeError("Override required for lunisolar calendars");let o=e;this.validateCalendarDate(o);const i=this.monthsInYear(o,t);let{month:s,monthCode:a}=o;return({month:s,monthCode:a}=oi(o,n,i)),{...o,month:s,monthCode:a}}regulateMonthDayNaive(e,t,n){const r=this.monthsInYear(e,n);let{month:o,day:i}=e;return"reject"===t?(Lr(o,1,r),Lr(i,1,this.maximumMonthLength(e))):(o=Nr(o,1,r),i=Nr(i,1,this.maximumMonthLength({...e,month:o}))),{...e,month:o,day:i}}calendarToIsoDate(e,t="constrain",n){const r=e;let o=this.adjustCalendarDate(e,n,t,!1);o=this.regulateMonthDayNaive(o,t,n);const{year:i,month:s,day:a}=o,c=JSON.stringify({func:"calendarToIsoDate",year:i,month:s,day:a,overflow:t,id:this.id});let l,u=n.get(c);if(u)return u;if(void 0!==r.year&&void 0!==r.month&&void 0!==r.day&&(r.year!==o.year||r.month!==o.month||r.day!==o.day)&&(l=JSON.stringify({func:"calendarToIsoDate",year:r.year,month:r.month,day:r.day,overflow:t,id:this.id}),u=n.get(l),u))return u;let d=this.estimateIsoDate({year:i,month:s,day:a});const f=e=>{let r=this.addDaysIso(d,e);if(o.day>this.minimumMonthLength(o)){let e=this.isoToCalendarDate(r,n);for(;e.month!==s||e.year!==i;){if("reject"===t)throw new RangeError(`day ${a} does not exist in month ${s} of year ${i}`);r=this.addDaysIso(r,-1),e=this.isoToCalendarDate(r,n)}}return r};let h=0,p=this.isoToCalendarDate(d,n),g=ai(o,p);if(0!==g.years||0!==g.months||0!==g.days){const e=365*g.years+30*g.months+g.days;d=this.addDaysIso(d,e),p=this.isoToCalendarDate(d,n),g=ai(o,p),0===g.years&&0===g.months?d=f(g.days):h=this.compareCalendarDates(o,p)}let m=8;for(;h;){d=this.addDaysIso(d,h*m);const e=p;p=this.isoToCalendarDate(d,n);const i=h;if(h=this.compareCalendarDates(o,p),h)if(g=ai(o,p),0===g.years&&0===g.months)d=f(g.days),h=0;else if(i&&h!==i)if(m>1)m/=2;else{if("reject"===t)throw new RangeError(`Can't find ISO date from calendar date: ${JSON.stringify({...r})}`);this.compareCalendarDates(p,e)>0&&(d=this.addDaysIso(d,-1)),h=0}}if(n.set(c,d),l&&n.set(l,d),void 0===o.year||void 0===o.month||void 0===o.day||void 0===o.monthCode||this.hasEra&&(void 0===o.era||void 0===o.eraYear))throw new RangeError("Unexpected missing property");return d}compareCalendarDates(e,t){return e.year!==t.year?zo(e.year-t.year):e.month!==t.month?zo(e.month-t.month):e.day!==t.day?zo(e.day-t.day):0}regulateDate(e,t="constrain",n){const r=this.calendarToIsoDate(e,t,n);return this.isoToCalendarDate(r,n)}addDaysIso(e,t){return Pr(e.year,e.month,e.day+t)}addDaysCalendar(e,t,n){const r=this.calendarToIsoDate(e,"constrain",n),o=this.addDaysIso(r,t);return this.isoToCalendarDate(o,n)}addMonthsCalendar(e,t,n,r){let o=e;const{day:i}=o;for(let e=0,n=Math.abs(t);e<n;e++){const{month:e}=o,n=o,s=t<0?-Math.max(i,this.daysInPreviousMonth(o,r)):this.daysInMonth(o,r),a=this.calendarToIsoDate(o,"constrain",r);let c=this.addDaysIso(a,s);if(o=this.isoToCalendarDate(c,r),t>0){const t=this.monthsInYear(n,r);for(;o.month-1!=e%t;)c=this.addDaysIso(c,-1),o=this.isoToCalendarDate(c,r)}o.day!==i&&(o=this.regulateDate({...o,day:i},"constrain",r))}if("reject"===n&&o.day!==i)throw new RangeError(`Day ${i} does not exist in resulting calendar month`);return o}addCalendar(e,{years:t=0,months:n=0,weeks:r=0,days:o=0},i,s){const{year:a,day:c,monthCode:l}=e,u=this.adjustCalendarDate({year:a+t,monthCode:l,day:c},s),d=this.addMonthsCalendar(u,n,i,s),f=o+7*r;return this.addDaysCalendar(d,f,s)}untilCalendar(e,t,n,r){let o=0,i=0,s=0,a=0;switch(n){case"day":o=this.calendarDaysUntil(e,t,r);break;case"week":{const n=this.calendarDaysUntil(e,t,r);o=n%7,i=(n-o)/7;break}case"month":case"year":{const i=this.compareCalendarDates(t,e);if(!i)return{years:0,months:0,weeks:0,days:0};const c=t.year-e.year,l=t.day-e.day;if("year"===n&&c){let n=0;t.monthCode>e.monthCode&&(n=1),t.monthCode<e.monthCode&&(n=-1),n||(n=Math.sign(l)),a=n*i<0?c-i:c}let u,d=a?this.addCalendar(e,{years:a},"constrain",r):e;do{s+=i,u=d,d=this.addMonthsCalendar(u,i,"constrain",r),d.day!==e.day&&(d=this.regulateDate({...d,day:e.day},"constrain",r))}while(this.compareCalendarDates(t,d)*i>=0);s-=i,o=this.calendarDaysUntil(u,t,r);break}}return{years:a,months:s,weeks:i,days:o}}daysInMonth(e,t){const{day:n}=e,r=this.maximumMonthLength(e),o=this.minimumMonthLength(e);if(o===r)return o;const i=n<=r-o?r:o,s=this.calendarToIsoDate(e,"constrain",t),a=this.addDaysIso(s,i),c=this.isoToCalendarDate(a,t),l=this.addDaysIso(a,-c.day);return this.isoToCalendarDate(l,t).day}daysInPreviousMonth(e,t){const{day:n,month:r,year:o}=e;let i={year:r>1?o:o-1,month:r,day:1};const s=r>1?r-1:this.monthsInYear(i,t);i={...i,month:s};const a=this.minimumMonthLength(i),c=this.maximumMonthLength(i);if(a===c)return c;const l=this.calendarToIsoDate(e,"constrain",t),u=this.addDaysIso(l,-n);return this.isoToCalendarDate(u,t).day}startOfCalendarYear(e){return{year:e.year,month:1,monthCode:"M01",day:1}}startOfCalendarMonth(e){return{year:e.year,month:e.month,day:1}}calendarDaysUntil(e,t,n){const r=this.calendarToIsoDate(e,"constrain",n),o=this.calendarToIsoDate(t,"constrain",n);return Zr(o.year,o.month-1,o.day)-Zr(r.year,r.month-1,r.day)}monthDaySearchStartYear(e,t){return 1972}monthDayFromFields(e,t,n){let r,o,i,s,a,{era:c,eraYear:l,year:u,month:d,monthCode:f,day:h}=e;if(void 0!==d&&void 0===u&&(!this.hasEra||void 0===c||void 0===l))throw new TypeError("when month is present, year (or era and eraYear) are required");(void 0===f||void 0!==u||this.hasEra&&void 0!==l)&&({monthCode:f,day:h}=this.isoToCalendarDate(this.calendarToIsoDate(e,t,n),n));const p={year:this.monthDaySearchStartYear(f,h),month:12,day:31},g=this.isoToCalendarDate(p,n),m=g.monthCode>f||g.monthCode===f&&g.day>=h?g.year:g.year-1;for(let e=0;e<20;e++){const c=this.adjustCalendarDate({day:h,monthCode:f,year:m-e},n),l=this.calendarToIsoDate(c,"constrain",n),u=this.isoToCalendarDate(l,n);if(({year:r,month:o,day:i}=l),u.monthCode===f&&u.day===h)return{month:o,day:i,year:r};if("constrain"===t){const e=this.maxLengthOfMonthCodeInAnyYear(u.monthCode);if(u.monthCode===f&&u.day===e&&h>e)return{month:o,day:i,year:r};(void 0===s||u.monthCode===s.monthCode&&u.day>s.day)&&(s=u,a=l)}}if("constrain"===t&&void 0!==a)return a;throw new RangeError(`No recent ${this.id} year with monthCode ${f} and day ${h}`)}getFirstDayOfWeek(){}getMinimalDaysInFirstWeek(){}}class li extends ci{constructor(){super(...arguments),this.id="hebrew",this.calendarType="lunisolar",this.months={Tishri:{leap:1,regular:1,monthCode:"M01",days:30},Heshvan:{leap:2,regular:2,monthCode:"M02",days:{min:29,max:30}},Kislev:{leap:3,regular:3,monthCode:"M03",days:{min:29,max:30}},Tevet:{leap:4,regular:4,monthCode:"M04",days:29},Shevat:{leap:5,regular:5,monthCode:"M05",days:30},Adar:{leap:void 0,regular:6,monthCode:"M06",days:29},"Adar I":{leap:6,regular:void 0,monthCode:"M05L",days:30},"Adar II":{leap:7,regular:void 0,monthCode:"M06",days:29},Nisan:{leap:8,regular:7,monthCode:"M07",days:30},Iyar:{leap:9,regular:8,monthCode:"M08",days:29},Sivan:{leap:10,regular:9,monthCode:"M09",days:30},Tamuz:{leap:11,regular:10,monthCode:"M10",days:29},Av:{leap:12,regular:11,monthCode:"M11",days:30},Elul:{leap:13,regular:12,monthCode:"M12",days:29}}}inLeapYear(e){const{year:t}=e;return(7*t+1)%19<7}monthsInYear(e){return this.inLeapYear(e)?13:12}minimumMonthLength(e){return this.minMaxMonthLength(e,"min")}maximumMonthLength(e){return this.minMaxMonthLength(e,"max")}minMaxMonthLength(e,t){const{month:n,year:r}=e,o=this.getMonthCode(r,n),i=Object.entries(this.months).find(e=>e[1].monthCode===o);if(void 0===i)throw new RangeError(`unmatched Hebrew month: ${n}`);const s=i[1].days;return"number"==typeof s?s:s[t]}maxLengthOfMonthCodeInAnyYear(e){return["M04","M06","M08","M10","M12"].includes(e)?29:30}estimateIsoDate(e){const{year:t}=e;return{year:t-3760,month:1,day:1}}getMonthCode(e,t){return this.inLeapYear({year:e})?6===t?ri(5,!0):ri(t<6?t:t-1):ri(t)}adjustCalendarDate(e,t,n="constrain",r=!1){let{year:o,month:i,monthCode:s,day:a,monthExtra:c}=e;if(void 0===o)throw new TypeError("Missing property: year");if(r){if(c){const e=this.months[c];if(!e)throw new RangeError(`Unrecognized month from formatToParts: ${c}`);i=this.inLeapYear({year:o})?e.leap:e.regular}return s=this.getMonthCode(o,i),{year:o,month:i,day:a,monthCode:s}}if(this.validateCalendarDate(e),void 0===i)if(s.endsWith("L")){if("M05L"!==s)throw new RangeError(`Hebrew leap month must have monthCode M05L, not ${s}`);if(i=6,!this.inLeapYear({year:o})){if("reject"===n)throw new RangeError(`Hebrew monthCode M05L is invalid in year ${o} which is not a leap year`);i=6,s="M06"}}else{i=ni(s),this.inLeapYear({year:o})&&i>=6&&i++;const e=this.monthsInYear({year:o});if(i<1||i>e)throw new RangeError(`Invalid monthCode: ${s}`)}else if("reject"===n?(Lr(i,1,this.monthsInYear({year:o})),Lr(a,1,this.maximumMonthLength({year:o,month:i}))):(i=Nr(i,1,this.monthsInYear({year:o})),a=Nr(a,1,this.maximumMonthLength({year:o,month:i}))),void 0===s)s=this.getMonthCode(o,i);else if(this.getMonthCode(o,i)!==s)throw new RangeError(`monthCode ${s} doesn't correspond to month ${i} in Hebrew year ${o}`);return{...e,day:a,month:i,monthCode:s,year:o}}}class ui extends ci{constructor(){super(...arguments),this.calendarType="lunar",this.DAYS_PER_ISLAMIC_YEAR=354+11/30,this.DAYS_PER_ISO_YEAR=365.2425}inLeapYear(e,t){const n={year:e.year,month:1,monthCode:"M01",day:1},r={year:e.year+1,month:1,monthCode:"M01",day:1};return 355===this.calendarDaysUntil(n,r,t)}monthsInYear(){return 12}minimumMonthLength(){return 29}maximumMonthLength(){return 30}maxLengthOfMonthCodeInAnyYear(){return 30}estimateIsoDate(e){const{year:t}=this.adjustCalendarDate(e);return{year:Math.floor(t*this.DAYS_PER_ISLAMIC_YEAR/this.DAYS_PER_ISO_YEAR)+622,month:1,day:1}}}class di extends ui{constructor(){super(...arguments),this.id="islamic"}}class fi extends ui{constructor(){super(...arguments),this.id="islamic-umalqura"}}class hi extends ui{constructor(){super(...arguments),this.id="islamic-tbla"}}class pi extends ui{constructor(){super(...arguments),this.id="islamic-civil"}}class gi extends ui{constructor(){super(...arguments),this.id="islamic-rgsa"}}class mi extends ui{constructor(){super(...arguments),this.id="islamicc"}}class yi extends ci{constructor(){super(...arguments),this.id="persian",this.calendarType="solar"}inLeapYear(e,t){return 30===this.daysInMonth({year:e.year,month:12,day:1},t)}monthsInYear(){return 12}minimumMonthLength(e){const{month:t}=e;return 12===t?29:t<=6?31:30}maximumMonthLength(e){const{month:t}=e;return 12===t?30:t<=6?31:30}maxLengthOfMonthCodeInAnyYear(e){return ni(e)<=6?31:30}estimateIsoDate(e){const{year:t}=this.adjustCalendarDate(e);return{year:t+621,month:1,day:1}}}class bi extends ci{constructor(){super(...arguments),this.id="indian",this.calendarType="solar",this.months={1:{length:30,month:3,day:22,leap:{length:31,month:3,day:21}},2:{length:31,month:4,day:21},3:{length:31,month:5,day:22},4:{length:31,month:6,day:22},5:{length:31,month:7,day:23},6:{length:31,month:8,day:23},7:{length:30,month:9,day:23},8:{length:30,month:10,day:23},9:{length:30,month:11,day:22},10:{length:30,month:12,day:22},11:{length:30,month:1,nextYear:!0,day:21},12:{length:30,month:2,nextYear:!0,day:20}},this.vulnerableToBceBug="10/11/-79 Saka"!==new Date("0000-01-01T00:00Z").toLocaleDateString("en-US-u-ca-indian",{timeZone:"UTC"})}inLeapYear(e){return vi(e.year+78)}monthsInYear(){return 12}minimumMonthLength(e){return this.getMonthInfo(e).length}maximumMonthLength(e){return this.getMonthInfo(e).length}maxLengthOfMonthCodeInAnyYear(e){const t=ni(e);let n=this.months[t];return n=n.leap??n,n.length}getMonthInfo(e){const{month:t}=e;let n=this.months[t];if(void 0===n)throw new RangeError(`Invalid month: ${t}`);return this.inLeapYear(e)&&n.leap&&(n=n.leap),n}estimateIsoDate(e){const t=this.adjustCalendarDate(e),n=this.getMonthInfo(t);return Pr(t.year+78+(n.nextYear?1:0),n.month,n.day+t.day-1)}checkIcuBugs(e){if(this.vulnerableToBceBug&&e.year<1)throw new RangeError(`calendar '${this.id}' is broken for ISO dates before 0001-01-01 (see https://bugs.chromium.org/p/v8/issues/detail?id=10529)`)}}function vi(e){return e%4==0&&(e%100!=0||e%400==0)}class _i extends ci{constructor(e,t){super(),this.calendarType="solar",this.id=e,this.isoEpoch=t}inLeapYear(e){const{year:t}=this.estimateIsoDate({month:1,day:1,year:e.year});return vi(t)}monthsInYear(){return 12}minimumMonthLength(e){const{month:t}=e;return 2===t?this.inLeapYear(e)?29:28:[4,6,9,11].indexOf(t)>=0?30:31}maximumMonthLength(e){return this.minimumMonthLength(e)}maxLengthOfMonthCodeInAnyYear(e){return[31,29,31,30,31,30,31,31,30,31,30,31][ni(e)-1]}estimateIsoDate(e){const t=this.adjustCalendarDate(e);return Rt(t.year+this.isoEpoch.year,t.month+this.isoEpoch.month,t.day+this.isoEpoch.day,"constrain")}}class wi extends ci{constructor(e,t){super(),this.hasEra=!0,this.calendarType="solar",this.id=e;const{eras:n,anchorEra:r}=function(e){let t,n=e;if(0===n.length)throw new RangeError("Invalid era data: eras are required");if(1===n.length&&n[0].reverseOf)throw new RangeError("Invalid era data: anchor era cannot count years backwards");if(1===n.length&&!n[0].code)throw new RangeError("Invalid era data: at least one named era is required");if(n.filter(e=>null!=e.reverseOf).length>1)throw new RangeError("Invalid era data: only one era can count years backwards");n.forEach(e=>{if(e.isAnchor||!e.anchorEpoch&&!e.reverseOf){if(t)throw new RangeError("Invalid era data: cannot have multiple anchor eras");t=e,e.anchorEpoch={year:e.hasYearZero?0:1}}else if(!e.code)throw new RangeError("If era name is blank, it must be the anchor era")}),n=n.filter(e=>e.code),n.forEach(e=>{const{reverseOf:t}=e;if(t){const r=n.find(e=>e.code===t);if(void 0===r)throw new RangeError(`Invalid era data: unmatched reverseOf era: ${t}`);e.reverseOf=r,e.anchorEpoch=r.anchorEpoch,e.isoEpoch=r.isoEpoch}void 0===e.anchorEpoch.month&&(e.anchorEpoch.month=1),void 0===e.anchorEpoch.day&&(e.anchorEpoch.day=1)}),n.sort((e,t)=>{if(e.reverseOf)return 1;if(t.reverseOf)return-1;if(!e.isoEpoch||!t.isoEpoch)throw new RangeError("Invalid era data: missing ISO epoch");return t.isoEpoch.year-e.isoEpoch.year});const r=n[n.length-1].reverseOf;if(r&&r!==n[n.length-2])throw new RangeError("Invalid era data: invalid reverse-sign era");return n.forEach((e,t)=>{e.genericName="era"+(n.length-1-t)}),{eras:n,anchorEra:t||n[0]}}(t);this.anchorEra=r,this.eras=n}inLeapYear(e){const{year:t}=this.estimateIsoDate({month:1,day:1,year:e.year});return vi(t)}monthsInYear(){return 12}minimumMonthLength(e){const{month:t}=e;return 2===t?this.inLeapYear(e)?29:28:[4,6,9,11].indexOf(t)>=0?30:31}maximumMonthLength(e){return this.minimumMonthLength(e)}maxLengthOfMonthCodeInAnyYear(e){return[31,29,31,30,31,30,31,31,30,31,30,31][ni(e)-1]}completeEraYear(e){const t=(t,n,r)=>{const o=e[t];if(null!=o&&o!=n&&!(r||[]).includes(o)){const e=r?.[0];throw new RangeError(`Input ${t} ${o} doesn't match calculated value ${e?`${n} (also called ${e})`:n}`)}},n=t=>{let n;const r={...e,year:t},o=this.eras.find((e,o)=>{if(o===this.eras.length-1){if(e.reverseOf){if(t>0)throw new RangeError(`Signed year ${t} is invalid for era ${e.code}`);return n=e.anchorEpoch.year-t,!0}return n=t-e.anchorEpoch.year+(e.hasYearZero?0:1),!0}return this.compareCalendarDates(r,e.anchorEpoch)>=0&&(n=t-e.anchorEpoch.year+(e.hasYearZero?0:1),!0)});if(!o)throw new RangeError(`Year ${t} was not matched by any era`);return{eraYear:n,era:o.code,eraNames:o.names}};let{year:r,eraYear:o,era:i}=e;if(null!=r){const e=n(r);({eraYear:o,era:i}=e),t("era",i,e?.eraNames),t("eraYear",o)}else{if(null==o)throw new RangeError("Either year or eraYear and era are required");{if(void 0===i)throw new RangeError("era and eraYear must be provided together");const e=this.eras.find(({code:e,names:t=[]})=>e===i||t.includes(i));if(!e)throw new RangeError(`Era ${i} (ISO year ${o}) was not matched by any era`);r=e.reverseOf?e.anchorEpoch.year-o:o+e.anchorEpoch.year-(e.hasYearZero?0:1),t("year",r),({eraYear:o,era:i}=n(r))}}return{...e,year:r,eraYear:o,era:i}}adjustCalendarDate(e,t,n="constrain"){let r=e;const{month:o,monthCode:i}=r;return void 0===o&&(r={...r,month:ni(i)}),this.validateCalendarDate(r),r=this.completeEraYear(r),super.adjustCalendarDate(r,t,n)}estimateIsoDate(e){const t=this.adjustCalendarDate(e),{year:n,month:r,day:o}=t,{anchorEra:i}=this;return Rt(n+i.isoEpoch.year-(i.hasYearZero?0:1),r,o,"constrain")}}class Si extends wi{constructor(e,t){super(e,t)}isoToCalendarDate(e){const{year:t,month:n,day:r}=e,o=ri(n),i=t-this.anchorEra.isoEpoch.year+1;return this.completeEraYear({year:i,month:n,monthCode:o,day:r})}}const xi={inLeapYear(e){const{year:t}=e;return(t+1)%4==0},monthsInYear:()=>13,minimumMonthLength(e){const{month:t}=e;return 13===t?this.inLeapYear(e)?6:5:30},maximumMonthLength(e){return this.minimumMonthLength(e)},maxLengthOfMonthCodeInAnyYear:e=>"M13"===e?6:30};class Ii extends _i{constructor(e,t){super(e,t),this.inLeapYear=xi.inLeapYear,this.monthsInYear=xi.monthsInYear,this.minimumMonthLength=xi.minimumMonthLength,this.maximumMonthLength=xi.maximumMonthLength,this.maxLengthOfMonthCodeInAnyYear=xi.maxLengthOfMonthCodeInAnyYear}}class Ai extends wi{constructor(e,t){super(e,t),this.inLeapYear=xi.inLeapYear,this.monthsInYear=xi.monthsInYear,this.minimumMonthLength=xi.minimumMonthLength,this.maximumMonthLength=xi.maximumMonthLength,this.maxLengthOfMonthCodeInAnyYear=xi.maxLengthOfMonthCodeInAnyYear}}class Ci extends Ii{constructor(){super("ethioaa",{year:-5492,month:7,day:17})}}class ki extends Ai{constructor(){super("coptic",[{code:"coptic",isoEpoch:{year:284,month:8,day:29}},{code:"coptic-inverse",reverseOf:"coptic"}])}}class Ei extends Ai{constructor(){super("ethiopic",[{code:"ethioaa",names:["ethiopic-amete-alem","mundi"],isoEpoch:{year:-5492,month:7,day:17}},{code:"ethiopic",names:["incar"],isoEpoch:{year:8,month:8,day:27},anchorEpoch:{year:5501}}])}}class Ti extends Si{constructor(){super("roc",[{code:"roc",names:["minguo"],isoEpoch:{year:1912,month:1,day:1}},{code:"roc-inverse",names:["before-roc"],reverseOf:"roc"}])}}class Pi extends _i{constructor(){super("buddhist",{year:-543,month:1,day:1})}}class Mi extends Si{constructor(){super("gregory",[{code:"gregory",names:["ad","ce"],isoEpoch:{year:1,month:1,day:1}},{code:"gregory-inverse",names:["be","bce"],reverseOf:"gregory"}])}reviseIntlEra(e){let{era:t,eraYear:n}=e;return"b"===t&&(t="gregory-inverse"),"a"===t&&(t="gregory"),{era:t,eraYear:n}}getFirstDayOfWeek(){return 1}getMinimalDaysInFirstWeek(){return 1}}class Oi extends Si{constructor(){super("japanese",[{code:"reiwa",isoEpoch:{year:2019,month:5,day:1},anchorEpoch:{year:2019,month:5,day:1}},{code:"heisei",isoEpoch:{year:1989,month:1,day:8},anchorEpoch:{year:1989,month:1,day:8}},{code:"showa",isoEpoch:{year:1926,month:12,day:25},anchorEpoch:{year:1926,month:12,day:25}},{code:"taisho",isoEpoch:{year:1912,month:7,day:30},anchorEpoch:{year:1912,month:7,day:30}},{code:"meiji",isoEpoch:{year:1868,month:9,day:8},anchorEpoch:{year:1868,month:9,day:8}},{code:"japanese",names:["japanese","gregory","ad","ce"],isoEpoch:{year:1,month:1,day:1}},{code:"japanese-inverse",names:["japanese-inverse","gregory-inverse","bc","bce"],reverseOf:"japanese"}]),this.erasBeginMidYear=!0}reviseIntlEra(e,t){const{era:n,eraYear:r}=e,{year:o}=t;return this.eras.find(e=>e.code===n)?{era:n,eraYear:r}:o<1?{era:"japanese-inverse",eraYear:1-o}:{era:"japanese",eraYear:o}}}class Di extends ci{constructor(){super(...arguments),this.calendarType="lunisolar"}inLeapYear(e,t){const n=this.getMonthList(e.year,t);return 13===Object.entries(n).length}monthsInYear(e,t){return this.inLeapYear(e,t)?13:12}minimumMonthLength(){return 29}maximumMonthLength(){return 30}maxLengthOfMonthCodeInAnyYear(e){return["M01L","M09L","M10L","M11L","M12L"].includes(e)?29:30}monthDaySearchStartYear(e,t){const n={M01L:[1651,1651],M02L:[1947,1765],M03L:[1966,1955],M04L:[1963,1944],M05L:[1971,1952],M06L:[1960,1941],M07L:[1968,1938],M08L:[1957,1718],M09L:[1832,1832],M10L:[1870,1870],M11L:[1814,1814],M12L:[1890,1890]}[e]??[1972,1972];return t<30?n[0]:n[1]}getMonthList(e,t){if(void 0===e)throw new TypeError("Missing year");const n=JSON.stringify({func:"getMonthList",calendarYear:e,id:this.id}),r=t.get(n);if(r)return r;const o=this.getFormatter(),i=(e,t)=>{const n=si({isoYear:e,isoMonth:2,isoDay:1}),r=new Date(n);r.setUTCDate(t+1);const i=o.formatToParts(r),s=i.find(e=>"month"===e.type).value,a=+i.find(e=>"day"===e.type).value,c=i.find(e=>"relatedYear"===e.type);let l;if(void 0===c)throw new RangeError(`Intl.DateTimeFormat.formatToParts lacks relatedYear in ${this.id} calendar. Try Node 14+ or modern browsers.`);return l=+c.value,{calendarMonthString:s,calendarDay:a,calendarYearToVerify:l}};let s=17,{calendarMonthString:a,calendarDay:c,calendarYearToVerify:l}=i(e,s);"1"!==a&&(s+=29,({calendarMonthString:a,calendarDay:c}=i(e,s))),s-=c-5;const u={};let d,f,h=1,p=!1;do{({calendarMonthString:a,calendarDay:c,calendarYearToVerify:l}=i(e,s)),d&&(u[f].daysInMonth=d+30-c),l!==e?p=!0:(u[a]={monthIndex:h++},s+=30),d=c,f=a}while(!p);return u[f].daysInMonth=d+30-c,t.set(n,u),u}estimateIsoDate(e){const{year:t,month:n}=e;return{year:t,month:n>=12?12:n+1,day:1}}adjustCalendarDate(e,t,n="constrain",r=!1){let{year:o,month:i,monthExtra:s,day:a,monthCode:c}=e;if(void 0===o)throw new TypeError("Missing property: year");if(r){if(s&&"bis"!==s)throw new RangeError(`Unexpected leap month suffix: ${s}`);const e=ri(i,void 0!==s),n=`${i}${s||""}`,r=this.getMonthList(o,t)[n];if(void 0===r)throw new RangeError(`Unmatched month ${n} in Chinese year ${o}`);return i=r.monthIndex,{year:o,month:i,day:a,monthCode:e}}if(this.validateCalendarDate(e),void 0===i){const e=this.getMonthList(o,t);let r=c.replace(/^M|L$/g,e=>"L"===e?"bis":"");"0"===r[0]&&(r=r.slice(1));let s=e[r];if(i=s&&s.monthIndex,void 0===i&&c.endsWith("L")&&"M13L"!=c&&"constrain"===n){const t=+c.replace(/^M0?|L$/g,"");s=e[t],s&&(i=s.monthIndex,c=ri(t))}if(void 0===i)throw new RangeError(`Unmatched month ${c} in Chinese year ${o}`)}else if(void 0===c){const e=this.getMonthList(o,t),r=Object.entries(e),s=r.length;"reject"===n?(Lr(i,1,s),Lr(a,1,this.maximumMonthLength())):(i=Nr(i,1,s),a=Nr(a,1,this.maximumMonthLength()));const l=r.find(e=>e[1].monthIndex===i);if(void 0===l)throw new RangeError(`Invalid month ${i} in Chinese year ${o}`);c=ri(+l[0].replace("bis",""),-1!==l[0].indexOf("bis"))}else{const e=this.getMonthList(o,t);let n=c.replace(/^M|L$/g,e=>"L"===e?"bis":"");"0"===n[0]&&(n=n.slice(1));const r=e[n];if(!r)throw new RangeError(`Unmatched monthCode ${c} in Chinese year ${o}`);if(i!==r.monthIndex)throw new RangeError(`monthCode ${c} doesn't correspond to month ${i} in Chinese year ${o}`)}return{...e,year:o,month:i,monthCode:c,day:a}}}class Ri extends Di{constructor(){super(...arguments),this.id="chinese"}}class Ni extends Di{constructor(){super(...arguments),this.id="dangi"}}class Fi{constructor(e){this.helper=e}extraFields(e){return this.helper.hasEra&&e.includes("year")?["era","eraYear"]:[]}resolveFields(e){if("lunisolar"!==this.helper.calendarType){const t=new ii;oi(e,void 0,this.helper.monthsInYear({year:e.year??1972},t))}}dateToISO(e,t){const n=new ii,r=this.helper.calendarToIsoDate(e,t,n);return n.setObject(r),r}monthDayToISOReferenceDate(e,t){const n=new ii,r=this.helper.monthDayFromFields(e,t,n);return n.setObject(r),r}fieldKeysToIgnore(e){const t=new Set;for(let n=0;n<e.length;n++){const r=e[n];switch(t.add(r),r){case"era":t.add("eraYear"),t.add("year");break;case"eraYear":t.add("era"),t.add("year");break;case"year":t.add("era"),t.add("eraYear");break;case"month":t.add("monthCode"),this.helper.erasBeginMidYear&&(t.add("era"),t.add("eraYear"));break;case"monthCode":t.add("month"),this.helper.erasBeginMidYear&&(t.add("era"),t.add("eraYear"));break;case"day":this.helper.erasBeginMidYear&&(t.add("era"),t.add("eraYear"))}}return Zo(t)}dateAdd(e,{years:t,months:n,weeks:r,days:o},i){const s=ii.getCacheForObject(e),a=this.helper.isoToCalendarDate(e,s),c=this.helper.addCalendar(a,{years:t,months:n,weeks:r,days:o},i,s),l=this.helper.calendarToIsoDate(c,"constrain",s);return ii.getCacheForObject(l)||new ii(s).setObject(l),l}dateUntil(e,t,n){const r=ii.getCacheForObject(e),o=ii.getCacheForObject(t),i=this.helper.isoToCalendarDate(e,r),s=this.helper.isoToCalendarDate(t,o);return this.helper.untilCalendar(i,s,n,r)}isoToDate(e,t){const n=ii.getCacheForObject(e),r=this.helper.isoToCalendarDate(e,n);if(t.dayOfWeek&&(r.dayOfWeek=ti.iso8601.isoToDate(e,{dayOfWeek:!0}).dayOfWeek),t.dayOfYear){const e=this.helper.startOfCalendarYear(r),t=this.helper.calendarDaysUntil(e,r,n);r.dayOfYear=t+1}if(t.weekOfYear&&(r.weekOfYear=Qo(this.helper.id,e)),r.daysInWeek=7,t.daysInMonth&&(r.daysInMonth=this.helper.daysInMonth(r,n)),t.daysInYear){const e=this.helper.startOfCalendarYear(r),t=this.helper.addCalendar(e,{years:1},"constrain",n);r.daysInYear=this.helper.calendarDaysUntil(e,t,n)}return t.monthsInYear&&(r.monthsInYear=this.helper.monthsInYear(r,n)),t.inLeapYear&&(r.inLeapYear=this.helper.inLeapYear(r,n)),r}getFirstDayOfWeek(){return this.helper.getFirstDayOfWeek()}getMinimalDaysInFirstWeek(){return this.helper.getMinimalDaysInFirstWeek()}}for(const e of[li,yi,Ei,Ci,ki,Ri,Ni,Ti,bi,Pi,Mi,Oi,di,fi,hi,pi,gi,mi]){const t=new e;ti[t.id]=new Fi(t)}ue("calendarImpl",function(e){return ti[e]});const Li=Intl.DateTimeFormat;function Bi(e,t){let n=se(e,t);return"function"==typeof n&&(n=new Li(se(e,Z),n(se(e,Q))),function(e,t,n){const r=ne(e);if(void 0===r)throw new TypeError("Missing slots for the given container");if(void 0===r[t])throw new TypeError(`tried to reset ${t} which was not set`);r[t]=n}(e,t,n)),n}function $i(e){return ie(e,K)}class ji{constructor(e=void 0,t=void 0){!function(e,t,n){const r=void 0!==n;let o;if(r){const e=["localeMatcher","calendar","numberingSystem","hour12","hourCycle","timeZone","weekday","era","year","month","day","dayPeriod","hour","minute","second","fractionalSecondDigits","timeZoneName","formatMatcher","dateStyle","timeStyle"];o=function(e){if(null==e)throw new TypeError(`Expected object not ${e}`);return Object(e)}(n);const t=Object.create(null);for(let n=0;n<e.length;n++){const r=e[n];Object.prototype.hasOwnProperty.call(o,r)&&(t[r]=o[r])}o=t}else o=Object.create(null);const i=new Li(t,o),s=i.resolvedOptions();if(oe(e),r){const t=Object.assign(Object.create(null),s);for(const e in t)Object.prototype.hasOwnProperty.call(o,e)||delete t[e];t.hour12=o.hour12,t.hourCycle=o.hourCycle,ae(e,Q,t)}else ae(e,Q,o);ae(e,Z,s.locale),ae(e,K,i),ae(e,Y,s.timeZone),ae(e,X,s.calendar),ae(e,q,Xi),ae(e,"ym",Yi),ae(e,"md",Ji),ae(e,H,Ki),ae(e,G,Zi),ae(e,W,Qi);const a=r?o.timeZone:void 0;if(void 0===a)ae(e,J,s.timeZone);else{const t=Ye(a);if(t.startsWith("−"))throw new RangeError("Unicode minus (U+2212) is not supported in time zone offsets");ae(e,J,zn(t))}}(this,e,t)}get format(){St(this,$i);const e=Vi.bind(this);return Object.defineProperties(e,{length:{value:1,enumerable:!1,writable:!1,configurable:!0},name:{value:"",enumerable:!1,writable:!1,configurable:!0}}),e}formatRange(e,t){return St(this,$i),Hi.call(this,e,t)}formatToParts(e,...t){return St(this,$i),qi.call(this,e,...t)}formatRangeToParts(e,t){return St(this,$i),Gi.call(this,e,t)}resolvedOptions(){return St(this,$i),zi.call(this)}}"formatToParts"in Li.prototype||delete ji.prototype.formatToParts,"formatRangeToParts"in Li.prototype||delete ji.prototype.formatRangeToParts;const Ui=function(e=void 0,t=void 0){return new ji(e,t)};function zi(){const e=se(this,K).resolvedOptions();return e.timeZone=se(this,J),e}function Vi(e,...t){let n,r,o=ss(e,this);return o.formatter?(n=o.formatter,r=[Lo(o.epochNs,"floor")]):(n=se(this,K),r=[e,...t]),n.format(...r)}function qi(e,...t){let n,r,o=ss(e,this);return o.formatter?(n=o.formatter,r=[Lo(o.epochNs,"floor")]):(n=se(this,K),r=[e,...t]),n.formatToParts(...r)}function Hi(e,t){if(void 0===e||void 0===t)throw new TypeError("Intl.DateTimeFormat.formatRange requires two values");const n=os(e),r=os(t);let o,i=[n,r];if(rs(n)!==rs(r))throw new TypeError("Intl.DateTimeFormat.formatRange accepts two values of the same type");if(rs(n)){if(!is(n,r))throw new TypeError("Intl.DateTimeFormat.formatRange accepts two values of the same type");const{epochNs:e,formatter:t}=ss(n,this),{epochNs:s,formatter:a}=ss(r,this);t&&(o=t,i=[Lo(e,"floor"),Lo(s,"floor")])}return o||(o=se(this,K)),o.formatRange(...i)}function Gi(e,t){if(void 0===e||void 0===t)throw new TypeError("Intl.DateTimeFormat.formatRange requires two values");const n=os(e),r=os(t);let o,i=[n,r];if(rs(n)!==rs(r))throw new TypeError("Intl.DateTimeFormat.formatRangeToParts accepts two values of the same type");if(rs(n)){if(!is(n,r))throw new TypeError("Intl.DateTimeFormat.formatRangeToParts accepts two values of the same type");const{epochNs:e,formatter:t}=ss(n,this),{epochNs:s,formatter:a}=ss(r,this);t&&(o=t,i=[Lo(e,"floor"),Lo(s,"floor")])}return o||(o=se(this,K)),o.formatRangeToParts(...i)}function Wi(e={},t={}){const n=Object.assign({},e),r=["year","month","day","hour","minute","second","weekday","dayPeriod","timeZoneName","dateStyle","timeStyle"];for(let e=0;e<r.length;e++){const o=r[e];n[o]=o in t?t[o]:n[o],!1!==n[o]&&void 0!==n[o]||delete n[o]}return n}function Ki(e){const t=Wi(e,{year:!1,month:!1,day:!1,weekday:!1,timeZoneName:!1,dateStyle:!1});if("long"!==t.timeStyle&&"full"!==t.timeStyle||(delete t.timeStyle,Object.assign(t,{hour:"numeric",minute:"2-digit",second:"2-digit"})),!ts(t)){if(ns(e))throw new TypeError(`cannot format Temporal.PlainTime with options [${Object.keys(e)}]`);Object.assign(t,{hour:"numeric",minute:"numeric",second:"numeric"})}return t}function Yi(e){const t={short:{year:"2-digit",month:"numeric"},medium:{year:"numeric",month:"short"},long:{year:"numeric",month:"long"},full:{year:"numeric",month:"long"}},n=Wi(e,{day:!1,hour:!1,minute:!1,second:!1,weekday:!1,dayPeriod:!1,timeZoneName:!1,timeStyle:!1});if("dateStyle"in n&&n.dateStyle){const e=n.dateStyle;delete n.dateStyle,Object.assign(n,t[e])}if(!("year"in n||"month"in n||"era"in n)){if(ns(e))throw new TypeError(`cannot format PlainYearMonth with options [${Object.keys(e)}]`);Object.assign(n,{year:"numeric",month:"numeric"})}return n}function Ji(e){const t={short:{month:"numeric",day:"numeric"},medium:{month:"short",day:"numeric"},long:{month:"long",day:"numeric"},full:{month:"long",day:"numeric"}},n=Wi(e,{year:!1,hour:!1,minute:!1,second:!1,weekday:!1,dayPeriod:!1,timeZoneName:!1,timeStyle:!1});if("dateStyle"in n&&n.dateStyle){const e=n.dateStyle;delete n.dateStyle,Object.assign(n,t[e])}if(!("month"in n)&&!("day"in n)){if(ns(e))throw new TypeError(`cannot format PlainMonthDay with options [${Object.keys(e)}]`);Object.assign(n,{month:"numeric",day:"numeric"})}return n}function Xi(e){const t=Wi(e,{hour:!1,minute:!1,second:!1,dayPeriod:!1,timeZoneName:!1,timeStyle:!1});if(!es(t)){if(ns(e))throw new TypeError(`cannot format PlainDate with options [${Object.keys(e)}]`);Object.assign(t,{year:"numeric",month:"numeric",day:"numeric"})}return t}function Zi(e){const t=Wi(e,{timeZoneName:!1});if(("long"===t.timeStyle||"full"===t.timeStyle)&&(delete t.timeStyle,Object.assign(t,{hour:"numeric",minute:"2-digit",second:"2-digit"}),t.dateStyle)){const e={short:{year:"numeric",month:"numeric",day:"numeric"},medium:{year:"numeric",month:"short",day:"numeric"},long:{year:"numeric",month:"long",day:"numeric"},full:{year:"numeric",month:"long",day:"numeric",weekday:"long"}};Object.assign(t,e[t.dateStyle]),delete t.dateStyle}if(!ts(t)&&!es(t)){if(ns(e))throw new TypeError(`cannot format PlainDateTime with options [${Object.keys(e)}]`);Object.assign(t,{year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"})}return t}function Qi(e){let t=e;return ts(t)||es(t)||(t=Object.assign({},t,{year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"})),t}function es(e){return"year"in e||"month"in e||"day"in e||"weekday"in e||"dateStyle"in e||"era"in e}function ts(e){return"hour"in e||"minute"in e||"second"in e||"timeStyle"in e||"dayPeriod"in e||"fractionalSecondDigits"in e}function ns(e){return es(e)||ts(e)||"dateStyle"in e||"timeStyle"in e||"timeZoneName"in e}function rs(e){return mt(e)||yt(e)||bt(e)||wt(e)||vt(e)||_t(e)||pt(e)}function os(e){return rs(e)?e:Ke(e)}function is(e,t){return!(!rs(e)||!rs(t)||yt(e)&&!yt(t)||mt(e)&&!mt(t)||bt(e)&&!bt(t)||wt(e)&&!wt(t)||vt(e)&&!vt(t)||_t(e)&&!_t(t)||pt(e)&&!pt(t))}function ss(e,t){if(yt(e)){const n={isoDate:{year:1970,month:1,day:1},time:se(e,E)};return{epochNs:Wn(se(t,Y),n,"compatible"),formatter:Bi(t,H)}}if(vt(e)){const n=se(e,T),r=se(t,X);if(n!==r)throw new RangeError(`cannot format PlainYearMonth with calendar ${n} in locale with calendar ${r}`);const o=Bt(se(e,C),{deltaDays:0,hour:12,minute:0,second:0,millisecond:0,microsecond:0,nanosecond:0});return{epochNs:Wn(se(t,Y),o,"compatible"),formatter:Bi(t,"ym")}}if(_t(e)){const n=se(e,T),r=se(t,X);if(n!==r)throw new RangeError(`cannot format PlainMonthDay with calendar ${n} in locale with calendar ${r}`);const o=Bt(se(e,C),{deltaDays:0,hour:12,minute:0,second:0,millisecond:0,microsecond:0,nanosecond:0});return{epochNs:Wn(se(t,Y),o,"compatible"),formatter:Bi(t,"md")}}if(mt(e)){const n=se(e,T),r=se(t,X);if("iso8601"!==n&&n!==r)throw new RangeError(`cannot format PlainDate with calendar ${n} in locale with calendar ${r}`);const o=Bt(se(e,C),{deltaDays:0,hour:12,minute:0,second:0,millisecond:0,microsecond:0,nanosecond:0});return{epochNs:Wn(se(t,Y),o,"compatible"),formatter:Bi(t,q)}}if(bt(e)){const n=se(e,T),r=se(t,X);if("iso8601"!==n&&n!==r)throw new RangeError(`cannot format PlainDateTime with calendar ${n} in locale with calendar ${r}`);const o=se(e,k);return{epochNs:Wn(se(t,Y),o,"compatible"),formatter:Bi(t,G)}}if(wt(e))throw new TypeError("Temporal.ZonedDateTime not supported in DateTimeFormat methods. Use toLocaleString() instead.");return pt(e)?{epochNs:se(e,A),formatter:Bi(t,W)}:{}}function as(e){const t=Object.create(null);return t.years=se(e,R),t.months=se(e,N),t.weeks=se(e,F),t.days=se(e,L),t.hours=se(e,B),t.minutes=se(e,$),t.seconds=se(e,j),t.milliseconds=se(e,U),t.microseconds=se(e,z),t.nanoseconds=se(e,V),t}ji.prototype.constructor=Ui,Object.defineProperty(Ui,"prototype",{value:ji.prototype,writable:!1,enumerable:!1,configurable:!1}),Ui.supportedLocalesOf=Li.supportedLocalesOf,le(Ui,"Intl.DateTimeFormat");const{format:cs,formatToParts:ls}=Intl.DurationFormat?.prototype??Object.create(null);function us(e){Intl.DurationFormat.prototype.resolvedOptions.call(this);const t=as(un(e));return cs.call(this,t)}Intl.DurationFormat?.prototype&&(Intl.DurationFormat.prototype.format=us,Intl.DurationFormat.prototype.formatToParts=function(e){Intl.DurationFormat.prototype.resolvedOptions.call(this);const t=as(un(e));return ls.call(this,t)}),Object.freeze({__proto__:null,DateTimeFormat:Ui,ModifiedIntlDurationFormatPrototypeFormat:us});class ds{constructor(e){if(arguments.length<1)throw new TypeError("missing argument: epochNanoseconds is required");En(this,$o(e))}get epochMilliseconds(){return St(this,pt),Lo(se(this,A),"floor")}get epochNanoseconds(){return St(this,pt),Fo(i.BigInt(se(this,A)))}add(e){return St(this,pt),wo("add",this,e)}subtract(e){return St(this,pt),wo("subtract",this,e)}until(e,t=void 0){return St(this,pt),uo("until",this,e,t)}since(e,t=void 0){return St(this,pt),uo("since",this,e,t)}round(e){if(St(this,pt),void 0===e)throw new TypeError("options parameter is required");const t="string"==typeof e?qo("smallestUnit",e):Vo(e),n=qt(t),r=Ut(t,"halfExpand"),o=Yt(t,"smallestUnit","time",Kt);return Ht(n,{hour:24,minute:1440,second:86400,millisecond:864e5,microsecond:864e8,nanosecond:864e11}[o],!0),Tn(Eo(se(this,A),n,o,r))}equals(e){St(this,pt);const t=dn(e),n=se(this,A),r=se(t,A);return i.equal(i.BigInt(n),i.BigInt(r))}toString(e=void 0){St(this,pt);const t=Vo(e),n=Gt(t),r=Ut(t,"trunc"),o=Yt(t,"smallestUnit","time",void 0);if("hour"===o)throw new RangeError('smallestUnit must be a time unit other than "hour"');let i=t.timeZone;void 0!==i&&(i=zn(i));const{precision:s,unit:a,increment:c}=Wt(o,n);return tr(Tn(Eo(se(this,A),c,a,r)),i,s)}toJSON(){return St(this,pt),tr(this,void 0,"auto")}toLocaleString(e=void 0,t=void 0){return St(this,pt),new Ui(e,t).format(this)}valueOf(){Ko("Instant")}toZonedDateTimeISO(e){St(this,pt);const t=zn(e);return Mn(se(this,A),t,"iso8601")}static fromEpochMilliseconds(e){return Tn(Bo(Ke(e)))}static fromEpochNanoseconds(e){return Tn($o(e))}static from(e){return dn(e)}static compare(e,t){const n=dn(e),r=dn(t),o=se(n,A),s=se(r,A);return i.lessThan(o,s)?-1:i.greaterThan(o,s)?1:0}}le(ds,"Temporal.Instant");class fs{constructor(e,t,n,r="iso8601"){const o=Je(e),i=Je(t),s=Je(n),a=Go(void 0===r?"iso8601":et(r));Br(o,i,s),bn(this,{year:o,month:i,day:s},a)}get calendarId(){return St(this,mt),se(this,T)}get era(){return hs(this,"era")}get eraYear(){return hs(this,"eraYear")}get year(){return hs(this,"year")}get month(){return hs(this,"month")}get monthCode(){return hs(this,"monthCode")}get day(){return hs(this,"day")}get dayOfWeek(){return hs(this,"dayOfWeek")}get dayOfYear(){return hs(this,"dayOfYear")}get weekOfYear(){return hs(this,"weekOfYear")?.week}get yearOfWeek(){return hs(this,"weekOfYear")?.year}get daysInWeek(){return hs(this,"daysInWeek")}get daysInMonth(){return hs(this,"daysInMonth")}get daysInYear(){return hs(this,"daysInYear")}get monthsInYear(){return hs(this,"monthsInYear")}get inLeapYear(){return hs(this,"inLeapYear")}with(e,t=void 0){if(St(this,mt),!We(e))throw new TypeError("invalid argument");xt(e);const n=se(this,T);let r=rn(n,se(this,C));return r=Dn(n,r,on(n,e,["year","month","monthCode","day"],[],"partial")),vn($n(n,r,$t(Vo(t))),n)}withCalendar(e){St(this,mt);const t=Fn(e);return vn(se(this,C),t)}add(e,t=void 0){return St(this,mt),So("add",this,e,t)}subtract(e,t=void 0){return St(this,mt),So("subtract",this,e,t)}until(e,t=void 0){return St(this,mt),fo("until",this,e,t)}since(e,t=void 0){return St(this,mt),fo("since",this,e,t)}equals(e){St(this,mt);const t=an(e);return 0===Do(se(this,C),se(t,C))&&Bn(se(this,T),se(t,T))}toString(e=void 0){return St(this,mt),rr(this,Vt(Vo(e)))}toJSON(){return St(this,mt),rr(this)}toLocaleString(e=void 0,t=void 0){return St(this,mt),new Ui(e,t).format(this)}valueOf(){Ko("PlainDate")}toPlainDateTime(e=void 0){St(this,mt);const t=pn(e);return wn(Bt(se(this,C),t),se(this,T))}toZonedDateTime(e){let t,n;if(St(this,mt),We(e)){const r=e.timeZone;void 0===r?t=zn(e):(t=zn(r),n=e.plainTime)}else t=zn(e);const r=se(this,C);let o;return void 0===n?o=Jn(t,r):(n=hn(n),o=Wn(t,Bt(r,se(n,E)),"compatible")),Mn(o,t,se(this,T))}toPlainYearMonth(){St(this,mt);const e=se(this,T);return kn(jn(e,rn(e,se(this,C)),"constrain"),e)}toPlainMonthDay(){St(this,mt);const e=se(this,T);return xn(Un(e,rn(e,se(this,C)),"constrain"),e)}static from(e,t=void 0){return an(e,t)}static compare(e,t){const n=an(e),r=an(t);return Do(se(n,C),se(r,C))}}function hs(e,t){St(e,mt);const n=se(e,C);return nn(e).isoToDate(n,{[t]:!0})[t]}le(fs,"Temporal.PlainDate");class ps{constructor(e,t,n,r=0,o=0,i=0,s=0,a=0,c=0,l="iso8601"){const u=Je(e),d=Je(t),f=Je(n),h=void 0===r?0:Je(r),p=void 0===o?0:Je(o),g=void 0===i?0:Je(i),m=void 0===s?0:Je(s),y=void 0===a?0:Je(a),b=void 0===c?0:Je(c),v=Go(void 0===l?"iso8601":et(l));Ur(u,d,f,h,p,g,m,y,b),_n(this,{isoDate:{year:u,month:d,day:f},time:{hour:h,minute:p,second:g,millisecond:m,microsecond:y,nanosecond:b}},v)}get calendarId(){return St(this,bt),se(this,T)}get year(){return gs(this,"year")}get month(){return gs(this,"month")}get monthCode(){return gs(this,"monthCode")}get day(){return gs(this,"day")}get hour(){return ms(this,"hour")}get minute(){return ms(this,"minute")}get second(){return ms(this,"second")}get millisecond(){return ms(this,"millisecond")}get microsecond(){return ms(this,"microsecond")}get nanosecond(){return ms(this,"nanosecond")}get era(){return gs(this,"era")}get eraYear(){return gs(this,"eraYear")}get dayOfWeek(){return gs(this,"dayOfWeek")}get dayOfYear(){return gs(this,"dayOfYear")}get weekOfYear(){return gs(this,"weekOfYear")?.week}get yearOfWeek(){return gs(this,"weekOfYear")?.year}get daysInWeek(){return gs(this,"daysInWeek")}get daysInYear(){return gs(this,"daysInYear")}get daysInMonth(){return gs(this,"daysInMonth")}get monthsInYear(){return gs(this,"monthsInYear")}get inLeapYear(){return gs(this,"inLeapYear")}with(e,t=void 0){if(St(this,bt),!We(e))throw new TypeError("invalid argument");xt(e);const n=se(this,T),r=se(this,k);let o={...rn(n,r.isoDate),...r.time};return o=Dn(n,o,on(n,e,["year","month","monthCode","day"],["hour","minute","second","millisecond","microsecond","nanosecond"],"partial")),wn(cn(n,o,$t(Vo(t))),n)}withPlainTime(e=void 0){St(this,bt);const t=pn(e);return wn(Bt(se(this,k).isoDate,t),se(this,T))}withCalendar(e){St(this,bt);const t=Fn(e);return wn(se(this,k),t)}add(e,t=void 0){return St(this,bt),xo("add",this,e,t)}subtract(e,t=void 0){return St(this,bt),xo("subtract",this,e,t)}until(e,t=void 0){return St(this,bt),ho("until",this,e,t)}since(e,t=void 0){return St(this,bt),ho("since",this,e,t)}round(e){if(St(this,bt),void 0===e)throw new TypeError("options parameter is required");const t="string"==typeof e?qo("smallestUnit",e):Vo(e),n=qt(t),r=Ut(t,"halfExpand"),o=Yt(t,"smallestUnit","time",Kt,["day"]),i={day:1,hour:24,minute:60,second:60,millisecond:1e3,microsecond:1e3,nanosecond:1e3}[o];Ht(n,i,1===i);const s=se(this,k);return wn(1===n&&"nanosecond"===o?s:To(s,n,o,r),se(this,T))}equals(e){St(this,bt);const t=ln(e);return 0===No(se(this,k),se(t,k))&&Bn(se(this,T),se(t,T))}toString(e=void 0){St(this,bt);const t=Vo(e),n=Vt(t),r=Gt(t),o=Ut(t,"trunc"),i=Yt(t,"smallestUnit","time",void 0);if("hour"===i)throw new RangeError('smallestUnit must be a time unit other than "hour"');const{precision:s,unit:a,increment:c}=Wt(i,r),l=To(se(this,k),c,a,o);return zr(l),ir(l,se(this,T),s,n)}toJSON(){return St(this,bt),ir(se(this,k),se(this,T),"auto")}toLocaleString(e=void 0,t=void 0){return St(this,bt),new Ui(e,t).format(this)}valueOf(){Ko("PlainDateTime")}toZonedDateTime(e,t=void 0){St(this,bt);const n=zn(e),r=jt(Vo(t));return Mn(Wn(n,se(this,k),r),n,se(this,T))}toPlainDate(){return St(this,bt),vn(se(this,k).isoDate,se(this,T))}toPlainTime(){return St(this,bt),An(se(this,k).time)}static from(e,t=void 0){return ln(e,t)}static compare(e,t){const n=ln(e),r=ln(t);return No(se(n,k),se(r,k))}}function gs(e,t){St(e,bt);const n=se(e,k).isoDate;return nn(e).isoToDate(n,{[t]:!0})[t]}function ms(e,t){return St(e,bt),se(e,k).time[t]}le(ps,"Temporal.PlainDateTime");class ys{constructor(e=0,t=0,n=0,r=0,o=0,i=0,s=0,a=0,c=0,l=0){const u=void 0===e?0:Ze(e),d=void 0===t?0:Ze(t),f=void 0===n?0:Ze(n),h=void 0===r?0:Ze(r),p=void 0===o?0:Ze(o),g=void 0===i?0:Ze(i),m=void 0===s?0:Ze(s),y=void 0===a?0:Ze(a),b=void 0===c?0:Ze(c),v=void 0===l?0:Ze(l);Gr(u,d,f,h,p,g,m,y,b,v),oe(this),ae(this,R,u),ae(this,N,d),ae(this,F,f),ae(this,L,h),ae(this,B,p),ae(this,$,g),ae(this,j,m),ae(this,U,y),ae(this,z,b),ae(this,V,v)}get years(){return St(this,gt),se(this,R)}get months(){return St(this,gt),se(this,N)}get weeks(){return St(this,gt),se(this,F)}get days(){return St(this,gt),se(this,L)}get hours(){return St(this,gt),se(this,B)}get minutes(){return St(this,gt),se(this,$)}get seconds(){return St(this,gt),se(this,j)}get milliseconds(){return St(this,gt),se(this,U)}get microseconds(){return St(this,gt),se(this,z)}get nanoseconds(){return St(this,gt),se(this,V)}get sign(){return St(this,gt),Cr(this)}get blank(){return St(this,gt),0===Cr(this)}with(e){St(this,gt);const t=Ft(e),{years:n=se(this,R),months:r=se(this,N),weeks:o=se(this,F),days:i=se(this,L),hours:s=se(this,B),minutes:a=se(this,$),seconds:c=se(this,j),milliseconds:l=se(this,U),microseconds:u=se(this,z),nanoseconds:d=se(this,V)}=t;return new ys(n,r,o,i,s,a,c,l,u,d)}negated(){return St(this,gt),Rr(this)}abs(){return St(this,gt),new ys(Math.abs(se(this,R)),Math.abs(se(this,N)),Math.abs(se(this,F)),Math.abs(se(this,L)),Math.abs(se(this,B)),Math.abs(se(this,$)),Math.abs(se(this,j)),Math.abs(se(this,U)),Math.abs(se(this,z)),Math.abs(se(this,V)))}add(e){return St(this,gt),_o("add",this,e)}subtract(e){return St(this,gt),_o("subtract",this,e)}round(e){if(St(this,gt),void 0===e)throw new TypeError("options parameter is required");const t=Xt(this),n="string"==typeof e?qo("smallestUnit",e):Vo(e);let r=Yt(n,"largestUnit","datetime",void 0,["auto"]),{plainRelativeTo:o,zonedRelativeTo:i}=Jt(n);const s=qt(n),a=Ut(n,"halfExpand");let c=Yt(n,"smallestUnit","datetime",void 0),l=!0;c||(l=!1,c="nanosecond");const u=Zt(t,c);let d=!0;if(r||(d=!1,r=u),"auto"===r&&(r=u),!l&&!d)throw new RangeError("at least one of smallestUnit or largestUnit is required");if(Zt(r,c)!==r)throw new RangeError(`largestUnit ${r} cannot be smaller than smallestUnit ${c}`);const f={hour:24,minute:60,second:60,millisecond:1e3,microsecond:1e3,nanosecond:1e3}[c];if(void 0!==f&&Ht(s,f,!1),s>1&&"date"===en(c)&&r!==c)throw new RangeError("For calendar units with roundingIncrement > 1, use largestUnit = smallestUnit");if(i){let e=Wr(this);const t=se(i,D),n=se(i,T),o=se(i,A);return e=co(o,vo(o,t,n,e),t,n,r,s,c,a),"date"===en(r)&&(r="hour"),Jr(e,r)}if(o){let e=Kr(this);const t=yo({deltaDays:0,hour:0,minute:0,second:0,millisecond:0,microsecond:0,nanosecond:0},e.time),n=se(o,C),i=se(o,T),l=Rn(i,n,Lt(e.date,t.deltaDays),"constrain");return e=ao(Bt(n,{deltaDays:0,hour:0,minute:0,second:0,millisecond:0,microsecond:0,nanosecond:0}),Bt(l,t),i,r,s,c,a),Jr(e,r)}if(Qt(t))throw new RangeError(`a starting point is required for ${t}s balancing`);if(Qt(r))throw new RangeError(`a starting point is required for ${r}s balancing`);let h=Kr(this);if("day"===c){const{quotient:e,remainder:t}=h.time.divmod(Ne);let n=h.date.days+e+Oo(t,"day");n=ko(n,s,a),h=Xr({years:0,months:0,weeks:0,days:n},me.ZERO)}else h=Xr({years:0,months:0,weeks:0,days:0},Mo(h.time,s,c,a));return Jr(h,r)}total(e){if(St(this,gt),void 0===e)throw new TypeError("options argument is required");const t="string"==typeof e?qo("unit",e):Vo(e);let{plainRelativeTo:n,zonedRelativeTo:r}=Jt(t);const o=Yt(t,"unit","datetime",Kt);if(r){const e=Wr(this),t=se(r,D),n=se(r,T),i=se(r,A);return function(e,t,n,r,o){return"time"===en(o)?Oo(me.fromEpochNsDiff(t,e),o):so(ro(e,t,n,r,o),t,Gn(n,e),n,r,o)}(i,vo(i,t,n,e),t,n,o)}if(n){const e=Kr(this);let t=yo({deltaDays:0,hour:0,minute:0,second:0,millisecond:0,microsecond:0,nanosecond:0},e.time);const r=se(n,C),s=se(n,T),a=Rn(s,r,Lt(e.date,t.deltaDays),"constrain");return function(e,t,n,r){if(0==No(e,t))return 0;zr(e),zr(t);const o=no(e,t,n,r);return"nanosecond"===r?i.toNumber(o.time.totalNs):so(o,vr(t),e,null,n,r)}(Bt(r,{deltaDays:0,hour:0,minute:0,second:0,millisecond:0,microsecond:0,nanosecond:0}),Bt(a,t),s,o)}const s=Xt(this);if(Qt(s))throw new RangeError(`a starting point is required for ${s}s total`);if(Qt(o))throw new RangeError(`a starting point is required for ${o}s total`);return Oo(Kr(this).time,o)}toString(e=void 0){St(this,gt);const t=Vo(e),n=Gt(t),r=Ut(t,"trunc"),o=Yt(t,"smallestUnit","time",void 0);if("hour"===o||"minute"===o)throw new RangeError('smallestUnit must be a time unit other than "hours" or "minutes"');const{precision:i,unit:s,increment:a}=Wt(o,n);if("nanosecond"===s&&1===a)return nr(this,i);const c=Xt(this);let l=Wr(this);const u=Mo(l.time,a,s,r);return l=Xr(l.date,u),nr(Jr(l,Zt(c,"second")),i)}toJSON(){return St(this,gt),nr(this,"auto")}toLocaleString(e=void 0,t=void 0){if(St(this,gt),"function"==typeof Intl.DurationFormat){const n=new Intl.DurationFormat(e,t);return us.call(n,this)}return console.warn("Temporal.Duration.prototype.toLocaleString() requires Intl.DurationFormat."),nr(this,"auto")}valueOf(){Ko("Duration")}static from(e){return un(e)}static compare(e,t,n=void 0){const r=un(e),o=un(t),s=Vo(n),{plainRelativeTo:a,zonedRelativeTo:c}=Jt(s);if(se(r,R)===se(o,R)&&se(r,N)===se(o,N)&&se(r,F)===se(o,F)&&se(r,L)===se(o,L)&&se(r,B)===se(o,B)&&se(r,$)===se(o,$)&&se(r,j)===se(o,j)&&se(r,U)===se(o,U)&&se(r,z)===se(o,z)&&se(r,V)===se(o,V))return 0;const l=Xt(r),u=Xt(o),d=Wr(r),f=Wr(o);if(c&&("date"===en(l)||"date"===en(u))){const e=se(c,D),t=se(c,T),n=se(c,A),r=vo(n,e,t,d),o=vo(n,e,t,f);return zo(i.toNumber(i.subtract(r,o)))}let h=d.date.days,p=f.date.days;if(Qt(l)||Qt(u)){if(!a)throw new RangeError("A starting point is required for years, months, or weeks comparison");h=Dr(d.date,a),p=Dr(f.date,a)}const g=d.time.add24HourDays(h),m=f.time.add24HourDays(p);return g.cmp(m)}}le(ys,"Temporal.Duration");class bs{constructor(e,t,n="iso8601",r=1972){const o=Je(e),i=Je(t),s=Go(void 0===n?"iso8601":et(n)),a=Je(r);Br(a,o,i),Sn(this,{year:a,month:o,day:i},s)}get monthCode(){return vs(this,"monthCode")}get day(){return vs(this,"day")}get calendarId(){return St(this,_t),se(this,T)}with(e,t=void 0){if(St(this,_t),!We(e))throw new TypeError("invalid argument");xt(e);const n=se(this,T);let r=rn(n,se(this,C),"month-day");return r=Dn(n,r,on(n,e,["year","month","monthCode","day"],[],"partial")),xn(Un(n,r,$t(Vo(t))),n)}equals(e){St(this,_t);const t=fn(e);return 0===Do(se(this,C),se(t,C))&&Bn(se(this,T),se(t,T))}toString(e=void 0){return St(this,_t),sr(this,Vt(Vo(e)))}toJSON(){return St(this,_t),sr(this)}toLocaleString(e=void 0,t=void 0){return St(this,_t),new Ui(e,t).format(this)}valueOf(){Ko("PlainMonthDay")}toPlainDate(e){if(St(this,_t),!We(e))throw new TypeError("argument should be an object");const t=se(this,T);return vn($n(t,Dn(t,rn(t,se(this,C),"month-day"),on(t,e,["year"],[],[])),"constrain"),t)}static from(e,t=void 0){return fn(e,t)}}function vs(e,t){St(e,_t);const n=se(e,C);return nn(e).isoToDate(n,{[t]:!0})[t]}function _s(e){return Gn(e,jo())}le(bs,"Temporal.PlainMonthDay");const ws={instant:()=>Tn(jo()),plainDateTimeISO:(e=Uo())=>wn(_s(zn(e)),"iso8601"),plainDateISO:(e=Uo())=>vn(_s(zn(e)).isoDate,"iso8601"),plainTimeISO:(e=Uo())=>An(_s(zn(e)).time),timeZoneId:()=>Uo(),zonedDateTimeISO:(e=Uo())=>{const t=zn(e);return Mn(jo(),t,"iso8601")},[Symbol.toStringTag]:"Temporal.Now"};Object.defineProperty(ws,Symbol.toStringTag,{value:"Temporal.Now",writable:!1,enumerable:!1,configurable:!0});class Ss{constructor(e=0,t=0,n=0,r=0,o=0,i=0){const s=void 0===e?0:Je(e),a=void 0===t?0:Je(t),c=void 0===n?0:Je(n),l=void 0===r?0:Je(r),u=void 0===o?0:Je(o),d=void 0===i?0:Je(i);jr(s,a,c,l,u,d),In(this,{hour:s,minute:a,second:c,millisecond:l,microsecond:u,nanosecond:d})}get hour(){return St(this,yt),se(this,E).hour}get minute(){return St(this,yt),se(this,E).minute}get second(){return St(this,yt),se(this,E).second}get millisecond(){return St(this,yt),se(this,E).millisecond}get microsecond(){return St(this,yt),se(this,E).microsecond}get nanosecond(){return St(this,yt),se(this,E).nanosecond}with(e,t=void 0){if(St(this,yt),!We(e))throw new TypeError("invalid argument");xt(e);const n=sn(e,"partial"),r=sn(this);let{hour:o,minute:i,second:s,millisecond:a,microsecond:c,nanosecond:l}=Object.assign(r,n);const u=$t(Vo(t));return({hour:o,minute:i,second:s,millisecond:a,microsecond:c,nanosecond:l}=Nt(o,i,s,a,c,l,u)),new Ss(o,i,s,a,c,l)}add(e){return St(this,yt),Io("add",this,e)}subtract(e){return St(this,yt),Io("subtract",this,e)}until(e,t=void 0){return St(this,yt),po("until",this,e,t)}since(e,t=void 0){return St(this,yt),po("since",this,e,t)}round(e){if(St(this,yt),void 0===e)throw new TypeError("options parameter is required");const t="string"==typeof e?qo("smallestUnit",e):Vo(e),n=qt(t),r=Ut(t,"halfExpand"),o=Yt(t,"smallestUnit","time",Kt);return Ht(n,{hour:24,minute:60,second:60,millisecond:1e3,microsecond:1e3,nanosecond:1e3}[o],!1),An(Po(se(this,E),n,o,r))}equals(e){St(this,yt);const t=hn(e);return 0===Ro(se(this,E),se(t,E))}toString(e=void 0){St(this,yt);const t=Vo(e),n=Gt(t),r=Ut(t,"trunc"),o=Yt(t,"smallestUnit","time",void 0);if("hour"===o)throw new RangeError('smallestUnit must be a time unit other than "hour"');const{precision:i,unit:s,increment:a}=Wt(o,n);return or(Po(se(this,E),a,s,r),i)}toJSON(){return St(this,yt),or(se(this,E),"auto")}toLocaleString(e=void 0,t=void 0){return St(this,yt),new Ui(e,t).format(this)}valueOf(){Ko("PlainTime")}static from(e,t=void 0){return hn(e,t)}static compare(e,t){const n=hn(e),r=hn(t);return Ro(se(n,E),se(r,E))}}le(Ss,"Temporal.PlainTime");class xs{constructor(e,t,n="iso8601",r=1){const o=Je(e),i=Je(t),s=Go(void 0===n?"iso8601":et(n)),a=Je(r);Br(o,i,a),Cn(this,{year:o,month:i,day:a},s)}get year(){return Is(this,"year")}get month(){return Is(this,"month")}get monthCode(){return Is(this,"monthCode")}get calendarId(){return St(this,vt),se(this,T)}get era(){return Is(this,"era")}get eraYear(){return Is(this,"eraYear")}get daysInMonth(){return Is(this,"daysInMonth")}get daysInYear(){return Is(this,"daysInYear")}get monthsInYear(){return Is(this,"monthsInYear")}get inLeapYear(){return Is(this,"inLeapYear")}with(e,t=void 0){if(St(this,vt),!We(e))throw new TypeError("invalid argument");xt(e);const n=se(this,T);let r=rn(n,se(this,C),"year-month");return r=Dn(n,r,on(n,e,["year","month","monthCode"],[],"partial")),kn(jn(n,r,$t(Vo(t))),n)}add(e,t=void 0){return St(this,vt),Ao("add",this,e,t)}subtract(e,t=void 0){return St(this,vt),Ao("subtract",this,e,t)}until(e,t=void 0){return St(this,vt),go("until",this,e,t)}since(e,t=void 0){return St(this,vt),go("since",this,e,t)}equals(e){St(this,vt);const t=gn(e);return 0===Do(se(this,C),se(t,C))&&Bn(se(this,T),se(t,T))}toString(e=void 0){return St(this,vt),ar(this,Vt(Vo(e)))}toJSON(){return St(this,vt),ar(this)}toLocaleString(e=void 0,t=void 0){return St(this,vt),new Ui(e,t).format(this)}valueOf(){Ko("PlainYearMonth")}toPlainDate(e){if(St(this,vt),!We(e))throw new TypeError("argument should be an object");const t=se(this,T);return vn($n(t,Dn(t,rn(t,se(this,C),"year-month"),on(t,e,["day"],[],[])),"constrain"),t)}static from(e,t=void 0){return gn(e,t)}static compare(e,t){const n=gn(e),r=gn(t);return Do(se(n,C),se(r,C))}}function Is(e,t){St(e,vt);const n=se(e,C);return nn(e).isoToDate(n,{[t]:!0})[t]}le(xs,"Temporal.PlainYearMonth");const As=Ui.prototype.resolvedOptions;class Cs{constructor(e,t,n="iso8601"){if(arguments.length<1)throw new TypeError("missing argument: epochNanoseconds is required");const r=$o(e);let o=et(t);const{tzName:i,offsetMinutes:s}=Dt(o);if(void 0===s){const e=hr(i);if(!e)throw new RangeError(`unknown time zone ${i}`);o=e.identifier}else o=mr(s);Pn(this,r,o,Go(void 0===n?"iso8601":et(n)))}get calendarId(){return St(this,wt),se(this,T)}get timeZoneId(){return St(this,wt),se(this,D)}get year(){return Es(this,"year")}get month(){return Es(this,"month")}get monthCode(){return Es(this,"monthCode")}get day(){return Es(this,"day")}get hour(){return Ts(this,"hour")}get minute(){return Ts(this,"minute")}get second(){return Ts(this,"second")}get millisecond(){return Ts(this,"millisecond")}get microsecond(){return Ts(this,"microsecond")}get nanosecond(){return Ts(this,"nanosecond")}get era(){return Es(this,"era")}get eraYear(){return Es(this,"eraYear")}get epochMilliseconds(){return St(this,wt),Lo(se(this,A),"floor")}get epochNanoseconds(){return St(this,wt),Fo(se(this,A))}get dayOfWeek(){return Es(this,"dayOfWeek")}get dayOfYear(){return Es(this,"dayOfYear")}get weekOfYear(){return Es(this,"weekOfYear")?.week}get yearOfWeek(){return Es(this,"weekOfYear")?.year}get hoursInDay(){St(this,wt);const e=se(this,D),t=ks(this).isoDate,n=Pr(t.year,t.month,t.day+1),r=Jn(e,t),o=Jn(e,n);return Oo(me.fromEpochNsDiff(o,r),"hour")}get daysInWeek(){return Es(this,"daysInWeek")}get daysInMonth(){return Es(this,"daysInMonth")}get daysInYear(){return Es(this,"daysInYear")}get monthsInYear(){return Es(this,"monthsInYear")}get inLeapYear(){return Es(this,"inLeapYear")}get offset(){return St(this,wt),Hn(qn(se(this,D),se(this,A)))}get offsetNanoseconds(){return St(this,wt),qn(se(this,D),se(this,A))}with(e,t=void 0){if(St(this,wt),!We(e))throw new TypeError("invalid zoned-date-time-like");xt(e);const n=se(this,T),r=se(this,D),o=qn(r,se(this,A)),i=ks(this);let s={...rn(n,i.isoDate),...i.time,offset:Hn(o)};s=Dn(n,s,on(n,e,["year","month","monthCode","day"],["hour","minute","second","millisecond","microsecond","nanosecond","offset"],"partial"));const a=Vo(t),c=jt(a),l=zt(a,"prefer"),u=cn(n,s,$t(a)),d=ur(s.offset);return Mn(mn(u.isoDate,u.time,"option",d,r,c,l,!1),r,n)}withPlainTime(e=void 0){St(this,wt);const t=se(this,D),n=se(this,T),r=ks(this).isoDate;let o;return o=void 0===e?Jn(t,r):Wn(t,Bt(r,se(hn(e),E)),"compatible"),Mn(o,t,n)}withTimeZone(e){St(this,wt);const t=zn(e);return Mn(se(this,A),t,se(this,T))}withCalendar(e){St(this,wt);const t=Fn(e);return Mn(se(this,A),se(this,D),t)}add(e,t=void 0){return St(this,wt),Co("add",this,e,t)}subtract(e,t=void 0){return St(this,wt),Co("subtract",this,e,t)}until(e,t=void 0){return St(this,wt),mo("until",this,e,t)}since(e,t=void 0){return St(this,wt),mo("since",this,e,t)}round(e){if(St(this,wt),void 0===e)throw new TypeError("options parameter is required");const t="string"==typeof e?qo("smallestUnit",e):Vo(e),n=qt(t),r=Ut(t,"halfExpand"),o=Yt(t,"smallestUnit","time",Kt,["day"]),s={day:1,hour:24,minute:60,second:60,millisecond:1e3,microsecond:1e3,nanosecond:1e3}[o];if(Ht(n,s,1===s),"nanosecond"===o&&1===n)return Mn(se(this,A),se(this,D),se(this,T));const a=se(this,D),c=se(this,A),l=ks(this);let u;if("day"===o){const e=l.isoDate,t=Pr(e.year,e.month,e.day+1),n=Jn(a,e),o=Jn(a,t),s=i.subtract(o,n);u=me.fromEpochNsDiff(c,n).round(s,r).addToEpochNs(n)}else{const e=To(l,n,o,r),t=qn(a,c);u=mn(e.isoDate,e.time,"option",t,a,"compatible","prefer",!1)}return Mn(u,a,se(this,T))}equals(e){St(this,wt);const t=yn(e),n=se(this,A),r=se(t,A);return!!i.equal(i.BigInt(n),i.BigInt(r))&&!!Vn(se(this,D),se(t,D))&&Bn(se(this,T),se(t,T))}toString(e=void 0){St(this,wt);const t=Vo(e),n=Vt(t),r=Gt(t),o=function(e){return Ho(e,"offset",["auto","never"],"auto")}(t),i=Ut(t,"trunc"),s=Yt(t,"smallestUnit","time",void 0);if("hour"===s)throw new RangeError('smallestUnit must be a time unit other than "hour"');const a=function(e){return Ho(e,"timeZoneName",["auto","never","critical"],"auto")}(t),{precision:c,unit:l,increment:u}=Wt(s,r);return cr(this,c,n,a,o,{unit:l,increment:u,roundingMode:i})}toLocaleString(e=void 0,t=void 0){St(this,wt);const n=Vo(t),r=Object.create(null);if(function(e,t,n){if(null==t)return;const r=Reflect.ownKeys(t);for(let o=0;o<r.length;o++){const i=r[o];if(!n.some(e=>Object.is(e,i))&&Object.prototype.propertyIsEnumerable.call(t,i)){const n=t[i];e[i]=n}}}(r,n,["timeZone"]),void 0!==n.timeZone)throw new TypeError("ZonedDateTime toLocaleString does not accept a timeZone option");if(void 0===r.year&&void 0===r.month&&void 0===r.day&&void 0===r.era&&void 0===r.weekday&&void 0===r.dateStyle&&void 0===r.hour&&void 0===r.minute&&void 0===r.second&&void 0===r.fractionalSecondDigits&&void 0===r.timeStyle&&void 0===r.dayPeriod&&void 0===r.timeZoneName&&(r.timeZoneName="short"),r.timeZone=se(this,D),lr(r.timeZone))throw new RangeError("toLocaleString does not currently support offset time zones");const o=new Ui(e,r),i=As.call(o).calendar,s=se(this,T);if("iso8601"!==s&&"iso8601"!==i&&!Bn(i,s))throw new RangeError(`cannot format ZonedDateTime with calendar ${s} in locale with calendar ${i}`);return o.format(Tn(se(this,A)))}toJSON(){return St(this,wt),cr(this,"auto")}valueOf(){Ko("ZonedDateTime")}startOfDay(){St(this,wt);const e=se(this,D);return Mn(Jn(e,ks(this).isoDate),e,se(this,T))}getTimeZoneTransition(e){St(this,wt);const t=se(this,D);if(void 0===e)throw new TypeError("options parameter is required");const n=Ho("string"==typeof e?qo("direction",e):Vo(e),"direction",["next","previous"],Kt);if(void 0===n)throw new TypeError("direction option is required");if(lr(t)||"UTC"===t)return null;const r=se(this,A),o="next"===n?wr(t,r):Sr(t,r);return null===o?null:Mn(o,t,se(this,T))}toInstant(){return St(this,wt),Tn(se(this,A))}toPlainDate(){return St(this,wt),vn(ks(this).isoDate,se(this,T))}toPlainTime(){return St(this,wt),An(ks(this).time)}toPlainDateTime(){return St(this,wt),wn(ks(this),se(this,T))}static from(e,t=void 0){return yn(e,t)}static compare(e,t){const n=yn(e),r=yn(t),o=se(n,A),s=se(r,A);return i.lessThan(i.BigInt(o),i.BigInt(s))?-1:i.greaterThan(i.BigInt(o),i.BigInt(s))?1:0}}function ks(e){return Gn(se(e,D),se(e,A))}function Es(e,t){St(e,wt);const n=ks(e).isoDate;return nn(e).isoToDate(n,{[t]:!0})[t]}function Ts(e,t){return St(e,wt),ks(e).time[t]}le(Cs,"Temporal.ZonedDateTime");var Ps=Object.freeze({__proto__:null,Duration:ys,Instant:ds,Now:ws,PlainDate:fs,PlainDateTime:ps,PlainMonthDay:bs,PlainTime:Ss,PlainYearMonth:xs,ZonedDateTime:Cs});const Ms=[ds,fs,ps,ys,bs,Ss,xs,Cs];for(const e of Ms){const t=Object.getOwnPropertyDescriptor(e,"prototype");(t.configurable||t.enumerable||t.writable)&&(t.configurable=!1,t.enumerable=!1,t.writable=!1,Object.defineProperty(e,"prototype",t))}var Os=n(10777),Ds=n(13439),Rs=n(84448),Ns=n(60919),Fs=n(55153),Ls=n(81008);const Bs=n.p+"meet-calendar-icon.9e8a1979b5246af735ef.png",$s=n.p+"meet-guest-icon.a2537757e3345b0c63c5.png",js=n.p+"meet-link-icon.153eb6e1f1b4276884bf.png",Us=n.p+"meet-title-icon.4524d0279e9204035223.png";var zs=n(8235),Vs=n(11780);function qs(e,t,n,r){n=n||Intl.DateTimeFormat().resolvedOptions().timeZone;const o=new Intl.DateTimeFormat("en-US",{weekday:"long",month:"long",day:"numeric",timeZone:n}),i=new Intl.DateTimeFormat("en-US",{hour:"numeric",minute:"2-digit",hour12:!0,timeZone:n}),s=e=>i.format(e).toLowerCase().replace(" ",""),a=new Date(e),c=new Date(t),l=o.format(a),u=s(a),d=s(c);return r?`${l}, ${u}-${d} ${n}`:`${l}, ${u}-${d}`}function Hs(e,t=new Date){const n=new Intl.DateTimeFormat("en-US",{timeZone:e,timeZoneName:"shortOffset"}).formatToParts(t).find(e=>"timeZoneName"===e.type)?.value||"",r=new Intl.DateTimeFormat("en-US",{timeZone:e,timeZoneName:"long"}).formatToParts(t).find(e=>"timeZoneName"===e.type)?.value||e;return`${n} ${r} - ${e.includes("/")?e.split("/")[1].replace("_"," "):e}`}function Gs(e,t){const n=(0,Ds.mS)(),{currentUserId:i}=n,s=(0,Ns.mBe)(n,i),a=document.createElement("div");a.style.position="fixed",a.style.top="0",a.style.left="0",a.style.transform="translateX(-1000000px) translateY(-1000000px)",a.style.zIndex="-9999";const c=document.createElement("div");c.style.cssText="\n      position: relative;\n      width: 330px;\n      border-radius: 20px;\n      background-color: white;\n      color: black;\n      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;\n    ";const l=document.createElement("div");l.style.cssText="\n      height: 48px;\n      display: flex;\n      justify-content: flex-end;\n      align-items: center;\n      padding: 0 20px;\n      position: relative;\n    ";const u=document.createElement("img");u.src=Vs,u.alt="",u.style.cssText="\n      position: absolute;\n      left: 0;\n      top: 0;\n      filter: blur(22px);\n    ",l.appendChild(u);const d=document.createElement("div");d.style.cssText="\n      display: flex;\n      align-items: center;\n      gap: 8px;\n    ";const f=document.createElement("div");f.style.cssText="\n      width: 20px;\n      height: 20px;\n    ",(0,o.createRoot)(f).render(r.createElement(Ls.A,{className:"w-[20px] h-[20px]",peer:s}));const h=document.createElement("span");h.style.color="#979797",h.textContent=`${s?.firstName||"User"} ${s?.lastName||""}`.trim(),d.appendChild(f),d.appendChild(h),l.appendChild(d);const p=document.createElement("div");p.style.cssText="\n      display: flex;\n      flex-direction: column;\n      gap: 12px;\n      padding: 0 20px;\n    ";const g=document.createElement("div");g.textContent="Meeting Invitation",g.style.cssText="\n      font-size: 18px;\n      font-weight: bold;\n      margin-bottom: 8px;\n    ";let m=null;if(e.summary&&"Meeting Invitation"!=e.summary){m=document.createElement("div"),m.style.cssText="\n      display: flex;\n      gap: 8px;\n      background-color: #F8FAFC;\n      padding: 8px;\n      border-radius: 6px;\n    ";const t=document.createElement("img");t.src=Us,t.style.cssText="\n      width: 20px;\n      height: 20px;\n    ";const n=document.createElement("span");n.style.cssText="\n      font-size: 14px;\n      font-weight: 600;\n    ",n.textContent=e.summary||"",m.appendChild(t),m.appendChild(n)}const y=document.createElement("div");y.style.cssText="\n      display: flex;\n      gap: 8px;\n      background-color: #F8FAFC;\n      padding: 8px;\n      border-radius: 6px;\n    ";const b=document.createElement("img");b.src=$s,b.style.cssText="\n      width: 20px;\n      height: 20px;\n    ";const v=document.createElement("div");v.style.cssText="\n      display: flex;\n      flex-direction: column;\n      font-size: 14px;\n      gap: 4px;\n      flex: 1;\n      overflow: hidden;\n    ";const _=document.createElement("div");_.style.fontWeight="600",_.textContent="Guests";const w=document.createElement("div"),S=document.createElement("span");S.style.cssText="\n      overflow: hidden;\n      word-break: break-all;\n      margin-right: 4px;\n    ",S.textContent=e.creator?.email||"";const x=document.createElement("span");x.style.cssText="\n      background-color: #E9EDFF;\n      padding: 0 4px;\n      line-height: 18px;\n      border-radius: 4px;\n      color: #3F6EFF;\n      font-size: 12px;\n    ",x.textContent="Organizer",w.appendChild(S),w.appendChild(x),v.appendChild(_),v.appendChild(w),e.attendees&&e.attendees.length>0&&e.attendees.forEach(e=>{const t=document.createElement("div");t.style.cssText="\n        font-size: 14px;\n        word-break: break-all;\n      ",t.textContent=e.email,v.appendChild(t)}),y.appendChild(b),y.appendChild(v);const I=document.createElement("div");I.style.cssText="\n      display: flex;\n      gap: 8px;\n      background-color: #F8FAFC;\n      padding: 8px;\n      border-radius: 6px;\n    ";const A=document.createElement("img");A.src=Bs,A.style.cssText="\n      width: 20px;\n      height: 20px;\n    ";const C=document.createElement("div");C.style.cssText="\n      display: flex;\n      flex-direction: column;\n    ";const k=document.createElement("span");k.style.cssText="\n      font-size: 14px;\n      font-weight: 600;\n    ",k.textContent=qs(e.start.dateTime,e.end.dateTime,e.start.timeZone);const E=document.createElement("span");E.style.cssText="\n      font-size: 14px;\n      color: #979797;\n    ",E.textContent=Hs(e.start.timeZone),C.appendChild(k),C.appendChild(E),I.appendChild(A),I.appendChild(C);const T=document.createElement("div");T.style.cssText="\n      display: flex;\n      gap: 8px;\n      background-color: #F8FAFC;\n      padding: 8px;\n      border-radius: 6px;\n    ";const P=document.createElement("img");P.src=js,P.style.cssText="\n      width: 20px;\n      height: 20px;\n    ";const M=document.createElement("span");M.style.cssText="\n      font-size: 14px;\n      font-weight: 600;\n    ",M.textContent=e.hangoutLink||"",T.appendChild(P),T.appendChild(M);const O=document.createElement("div");O.style.cssText="\n      height: 48px;\n      margin-top: 24px;\n      font-size: 12px;\n      font-weight: 600;\n      width: 100%;\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      background-color: #F7FAFF;\n    ";const D=document.createElement("img");D.style.cssText="\n      width: 20px;\n      height: 20px;\n      margin-right: 6px;\n      margin-top: -2px;\n    ",D.src=zs,D.alt="Serena";const R=document.createElement("span");R.style.cssText="\n      color: #5E6272;\n      font-size: 12px;\n      font-weight: 500;\n      margin-right: 4px;\n    ",R.textContent="Powered by";const N=document.createElement("span");N.style.color="#2996FF",N.textContent="telyai.org",O.appendChild(D),O.appendChild(R),O.appendChild(N),c.appendChild(l),p.appendChild(g),m&&p.appendChild(m),p.appendChild(I),p.appendChild(y),p.appendChild(T),c.appendChild(p),c.appendChild(O),a.appendChild(c),document.body.appendChild(a),setTimeout(()=>{(0,Os.ZR)(c,{backgroundColor:"white",width:330,pixelRatio:2,quality:1}).then(async e=>{if(e)try{const n=await(0,Fs.A)(`event-details-${t}.png`,e),r=(0,Ds.mS)(),o=(0,Ns.meB)(r);o&&(0,Ds.ko)().sendMessage({messageList:{chatId:o.id,threadId:Rs.l3,type:"thread"},attachments:[n]})}catch(e){console.error("Error sending image:",e)}document.body.removeChild(a)}).catch(e=>{console.error("Error generating screenshot:",e),document.body.contains(a)&&document.body.removeChild(a)})},200)}function Ws(e,t){const n=new Date(e),r=Ps.PlainDateTime.from({year:n.getUTCFullYear(),month:n.getUTCMonth()+1,day:n.getUTCDate(),hour:n.getUTCHours(),minute:n.getUTCMinutes(),second:n.getUTCSeconds(),millisecond:n.getUTCMilliseconds()}).toZonedDateTime(t);return{zonedISO:r.toString(),utcInstant:r.toInstant().toString(),epoch:r.epochMilliseconds,timeZone:t,offset:r.offset}}},60436:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(43145),o=n(73893),i=n(27800);function s(e){return function(e){if(Array.isArray(e))return(0,r.A)(e)}(e)||(0,o.A)(e)||(0,i.A)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},60685:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=(0,n(96540).createContext)(void 0)},60919:(e,t,n)=>{"use strict";n.d(t,{yMZ:()=>l.yM,SpN:()=>u.Sp,yuw:()=>u.yu,ES7:()=>L,WAX:()=>u.WA,oei:()=>j.oe,Nr8:()=>j.Nr,tKM:()=>j.tK,bE$:()=>l.bE,yps:()=>f.yp,XOs:()=>f.XO,PKK:()=>M,MBp:()=>O,Rwe:()=>D,wwb:()=>u.ww,OEt:()=>E,jyG:()=>u.jy,DBV:()=>u.DB,ori:()=>u.or,R4s:()=>u.R4,Y8y:()=>u.Y8,X2D:()=>Q.X2,hXb:()=>l.hX,e5V:()=>g,BWX:()=>P,tOf:()=>u.tO,mDG:()=>u.mD,RBq:()=>u.RB,Ntz:()=>X.Nt,w5O:()=>l.w5,jGY:()=>l.jG,S86:()=>u.S8,ERc:()=>K,rtZ:()=>Y,hds:()=>l.hd,qn$:()=>l.qn,$aQ:()=>l.$,AWZ:()=>l.AW,yHC:()=>l.yH,ZZX:()=>l.ZZ,$TA:()=>l.$T,P4G:()=>l.P4,O5q:()=>u.O5,zeq:()=>u.ze,ToO:()=>l.To,yFI:()=>u.yF,RnX:()=>u.Rn,dfQ:()=>l.df,Egn:()=>u.Eg,meB:()=>u.me,CuV:()=>$.Cu,Wy7:()=>j.Wy,xT4:()=>B,vn8:()=>p,vRX:()=>u.vR,Xf0:()=>u.Xf,TCk:()=>$.TC,BU_:()=>$.BU,BmE:()=>j.Bm,V9I:()=>Z.V9,r8w:()=>j.r8,oZ0:()=>j.oZ,nTJ:()=>u.nT,GA4:()=>u.GA,U0A:()=>u.U0,Ys6:()=>u.Ys,KLw:()=>u.KL,dkp:()=>u.dk,VlN:()=>u.Vl,dU3:()=>u.dU,RjD:()=>u.Rj,kdX:()=>u.kd,VC8:()=>u.VC,Szq:()=>u.Sz,DI:()=>u.DI,lC:()=>u.lC,k9R:()=>u.k9,w0X:()=>J,t0O:()=>j.t0,WLj:()=>j.WL,OD9:()=>j.OD,o45:()=>u.o4,H_s:()=>u.H_,CzR:()=>j.Cz,I_m:()=>l.I_,mJZ:()=>l.mJ,D3D:()=>l.D3,ryq:()=>u.ry,_ls:()=>l._l,ALW:()=>l.AL,nZ4:()=>l.nZ,cwE:()=>R,trm:()=>f.tr,g29:()=>f.g2,SLS:()=>u.SL,sRo:()=>I,clw:()=>x,p5z:()=>u.p5,hc:()=>f.hc,rTV:()=>u.rT,F4N:()=>b,nJv:()=>u.nJ,fo$:()=>u.fo,ynf:()=>u.yn,H1_:()=>u.H1,Jbz:()=>u.Jb,ODG:()=>l.OD,n_C:()=>f.n_,Ani:()=>A,gjV:()=>_,dqr:()=>l.dq,Q31:()=>j.Q3,gd2:()=>Z.gd,nIz:()=>N,nTL:()=>l.nT,apd:()=>f.ap,haw:()=>u.h,wmb:()=>X.wm,rKQ:()=>u.rK,xzS:()=>u.xz,gCU:()=>u.gC,YK:()=>h,cO5:()=>u.cO,S1W:()=>u.S1,D_S:()=>u.D_,OEv:()=>u.OE,a_$:()=>u.a_,k2W:()=>l.k2,BSN:()=>X.BS,tVS:()=>u.tV,rQx:()=>u.rQ,Iv$:()=>X.Iv,K52:()=>X.K5,P5N:()=>X.P5,Tl2:()=>u.Tl,Lzh:()=>u.Lz,JiE:()=>u.Ji,aF2:()=>U,PGw:()=>V,PVB:()=>Q.PV,dNJ:()=>Z.dN,_$$:()=>Z._$,kBv:()=>l.kB,WA9:()=>Q.WA,IVq:()=>Q.IV,FDg:()=>Q.FD,_bp:()=>Z._b,Msb:()=>Z.Ms,Cw0:()=>C,xYJ:()=>k,fcC:()=>u.fc,gVx:()=>Z.gV,KQQ:()=>u.KQ,zcZ:()=>u.zc,Kt9:()=>H,EGt:()=>q,N1i:()=>u.N1,EHH:()=>u.EH,Vz3:()=>u.Vz,gMr:()=>u.gM,jp_:()=>u.jp,qZq:()=>l.qZ,sam:()=>l.s,p6T:()=>l.p6,Rny:()=>u.iL,GHK:()=>j.GH,t75:()=>v,QP5:()=>u.QP,K3w:()=>u.K3,Jl6:()=>u.Jl,j_4:()=>u.j_,ZZ2:()=>u.ZZ,VF$:()=>l.VF,Y7C:()=>u.Y7,HdA:()=>u.Hd,LM$:()=>u.LM,eCL:()=>X.eC,LRV:()=>l.LR,KIM:()=>X.KI,ML4:()=>T,PIP:()=>u.PI,AOG:()=>l.AO,dg4:()=>l.dg,G4m:()=>W,v8U:()=>u.v8,Osl:()=>z,gqw:()=>y,ycM:()=>j.yc,wg6:()=>j.wg,R3Q:()=>Z.R3,e7$:()=>G,ke9:()=>l.ke,nTw:()=>d.n,SJA:()=>w,Gyz:()=>S,$jd:()=>u.$j,Tac:()=>u.T,L_2:()=>u.L_,Vw0:()=>u.Vw,QbG:()=>u.Qb,C5H:()=>u.C5,S0q:()=>ee.S0,nkm:()=>u.nk,sZk:()=>u.sZ,pSx:()=>ee.pS,xyP:()=>ee.xy,Qq_:()=>X.Qq,ldX:()=>u.ld,mBe:()=>f.mB,gTO:()=>f.gT,Ua4:()=>f.U,vGo:()=>f.vG,K0y:()=>f.K0,rA3:()=>u.rA,NHc:()=>u.NH,wtp:()=>F,kgA:()=>u.kg,Pn$:()=>u.Pn});var r=n(89925),o=n(96454),i=n(14487),s=n(77312),a=n(9716),c=n(90709),l=n(21133),u=n(19408),d=n(5056),f=n(19926);function h(e,t,...[n=(0,i.g0)()]){return(0,d.n)(e,n).management.byChatId[t]}function p(e,...[t=(0,i.g0)()]){const{chatId:n,threadId:r}=(0,u.Xf)(e,t)||{};if(!n||!r)return;if((0,f.yp)(e,n))return"bot";if((0,a.L8)(n))return"user";const o=(0,l.hd)(e,n);return o?(0,c.YE)(o)?"group":"channel":void 0}function g(e,t){const n=(0,l.hd)(e,t),r=(0,l._l)(e,t);if(!n||r||n.isMonoforum)return!1;const o=(0,a.L8)(n.id)?(0,f.mB)(e,t):void 0,i=o&&(0,c.Gh)(o),s=o&&(0,c.tv)(o);return Boolean(!i&&n&&!(0,l.nZ)(e,n.id)&&!(0,c.Qe)(n.id)&&((0,a.L8)(n.id)||((0,c.SJ)(n)||n.isCreator)&&!n.isNotJoined)&&!s)}var m=n(30708);function y(e,t,...[n=(0,i.g0)()]){return(0,d.n)(e,n).statistics.byChatId[t]}function b(e,...[t=(0,i.g0)()]){const{mediaViewer:{chatId:n,messageId:r,isAvatarView:o,standaloneMedia:s,isSponsoredMessage:a}}=(0,d.n)(e,t);return Boolean(s||n&&(o||r||a))}function v(e,t,...[n=(0,i.g0)()]){const o=(0,d.n)(e,n);return o.editTopicPanel?r.Ul.EditTopic:o.createTopicPanel?r.Ul.CreateTopic:o.pollResults.messageId?r.Ul.PollResults:function(e,...[t=(0,i.g0)()]){const{chatId:n,threadId:r}=(0,u.Xf)(e,t)||{};if(!n||!r)return;const o=(0,d.n)(e,t).management.byChatId[n];return o?.isActive?o:void 0}(e,n)?r.Ul.Management:o.isStatisticsShown&&o.statistics.currentMessageId?r.Ul.MessageStatistics:o.isStatisticsShown&&o.statistics.currentStoryId?r.Ul.StoryStatistics:function(e,...[t=(0,i.g0)()]){if(!(0,d.n)(e,t).isStatisticsShown)return!1;const{chatId:n}=(0,u.Xf)(e,t)||{};return n?(0,l.AW)(e,n)?.canViewStatistics:void 0}(e,n)?r.Ul.Statistics:o.boostStatistics?r.Ul.BoostStatistics:o.monetizationStatistics?r.Ul.MonetizationStatistics:void 0!==o.stickerSearch.query?r.Ul.StickerSearch:void 0!==o.gifSearch.query?r.Ul.GifSearch:o.newChatMembersProgress!==r.D7.Closed?r.Ul.AddingMembers:o.isUserPortraitShown?r.Ul.UserPortrait:o.isChatAIShown?r.Ul.ChatAI:o.isChatInfoShown&&o.messageLists.length?r.Ul.ChatInfo:void 0}function _(e,t,...[n=(0,i.g0)()]){return void 0!==v(e,0,n)}function w(e){return(0,m.l)(e).theme}function S(e,t){return e.settings.themes[t]}function x(e,...[t=(0,i.g0)()]){const n=(0,d.n)(e,t);return Boolean(n.forumPanelChatId)&&(void 0===n.globalSearch.query||Boolean(n.globalSearch.isClosing))}function I(e,...[t=(0,i.g0)()]){return!x(e,t)}function A(e,...[t=(0,i.g0)()]){const{reactionPicker:n}=(0,d.n)(e,t);return Boolean(n?.position)}function C(e){return(0,m.l)(e).performance}function k(e,t){return C(e)[t]}function E(e,t){const n=(0,u.Pn)(e,t),r=(0,s.zX)(t)||(0,s.rU)(n);if(!r)return;const o=k(e,"autoplayVideos"),i=k(e,"autoplayGifs"),a=r.isGif||r.isRound;return o&&!a||i&&a}function T(e){return k(e,"loopAnimatedStickers")}function P(e){return k(e,"animatedEmoji")}function M(e){return k(e,"pageTransitions")}function O(e){return k(e,"rightColumnAnimations")}function D(e){return o.bW&&k(e,"snapEffect")}function R(e){return k(e,"contextMenuBlur")}function N(e){return e.isSynced}function F(e,t,...[n=(0,i.g0)()]){return(0,d.n)(e,n).webApps.openedWebApps[t]}function L(e,...[t=(0,i.g0)()]){const n=(0,d.n)(e,t).webApps.activeWebAppKey;if(n)return F(e,n,t)}function B(e,...[t=(0,i.g0)()]){return(0,d.n)(e,t).globalSearch.query}var $=n(94137),j=n(30163);function U(e,...[t=(0,i.g0)()]){return(0,d.n)(e,t).payment.inputInvoice}function z(e,...[t=(0,i.g0)()]){return(0,d.n)(e,t).starsPayment}function V(e,...[t=(0,i.g0)()]){return(0,d.n)(e,t).payment.requestId}function q(e,...[t=(0,i.g0)()]){return(0,d.n)(e,t).payment.form?.nativeParams.publishableKey}function H(e,...[t=(0,i.g0)()]){return(0,d.n)(e,t).payment.form?.nativeParams.publicToken}function G(e,...[t=(0,i.g0)()]){return(0,d.n)(e,t).payment.stripeCredentials}function W(e,...[t=(0,i.g0)()]){return(0,d.n)(e,t).payment.smartGlocalCredentials}function K(e,t){const n=(0,l.hd)(e,t);return e.currentUserId===t||n&&(0,c.WX)(n)&&(0,c.SJ)(n)&&(0,c.ub)(n,"postMessages")}function Y(e,t){const n=(0,l.hd)(e,t),r=(0,f.mB)(e,t);return Boolean(r)||n&&(0,c.WX)(n)}function J(e,t,...[n=(0,i.g0)()]){return Y(e,t)?(0,d.n)(e,n).savedGifts.filter:void 0}n(31481);var X=n(30757),Z=n(1903),Q=n(46211),ee=n(88368)},61053:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=(0,n(96540).createContext)({})},61157:(e,t,n)=>{"use strict";n.d(t,{Ay:()=>l,GE:()=>c,g1:()=>u});var r=n(84051),o=n(22237),i=n(17712);const[s,a]=(0,o.n5)(!document.hasFocus()),c=s;function l(e,t,n=!1){const o=(0,i.A)(e),s=(0,i.A)(t);(0,r.vJ)(()=>{if(!n)return c()&&o(),c.subscribe(()=>{c()?o():s()})},[n,o,s])}function u(){return c()}window.addEventListener("blur",function(){a(!0)}),window.addEventListener("focus",function(){a(!1)})},61182:(e,t,n)=>{"use strict";n.d(t,{F8:()=>l,bO:()=>s,fw:()=>a,pF:()=>c});const r=["log","error","warn","info","debug"],o=r.reduce((e,t)=>(e[t]=console[t],e),{});let i=[];function s(e,...t){i.push({level:e,args:t,date:new Date}),o[e](...t)}function a(){i=[],r.forEach(e=>{console[e]=(...t)=>{s(e,...t)}})}function c(){r.forEach(e=>{console[e]=o[e]}),i=[]}function l(){return JSON.stringify(i,(e,t)=>"bigint"==typeof t?t.toString():t)}},61433:(e,t,n)=>{"use strict";n.d(t,{Ay:()=>$,HW:()=>N,Tv:()=>L,YM:()=>R,dH:()=>F});var r=n(31481),o=n(87894),i=n(9935),s=n(84051);const a="http://www.w3.org/2000/svg",c=new Set(["key","ref","teactFastList","teactOrderKey"]),l=new Set(["dir","role","form"]),u=["INPUT","TEXTAREA","SELECT"],d={autoCapitalize:"autocapitalize",autoComplete:"autocomplete",autoCorrect:"autocorrect",autoPlay:"autoplay",spellCheck:"spellcheck"},f="__indexKey#",h="__teactSelectionState",p=new WeakMap,g=new WeakMap,m=new WeakMap;function y(e,t,n,o,i,c,l={}){const{skipComponentUpdate:u,fragment:d}=l;let{nextSibling:f,namespace:h}=l;const p=t?.type===s.wr.Component,g=n?.type===s.wr.Component,m=n,y=!p&&t?.type===s.wr.Fragment,x=!g&&n?.type===s.wr.Fragment;if(n?.type===s.wr.Tag&&("svg"===n.tag&&(h=a),n.props.xmlns&&(h=n.props.xmlns)),!u&&p&&g&&!(0,s.rO)(t,n)&&(n=function(e,t){return e.componentInstance.props=t.componentInstance.props,(0,s.Cc)(e.componentInstance)}(t,n)),!u&&g&&n.componentInstance.mountState===s.pT.Mounted&&v(e,n,o,i,c),t===n)return n;if(r.Oig&&n){const e="target"in n&&n.target;if(e&&(!t||"target"in t&&e!==t.target))throw new Error("[Teact] Cached virtual element was moved within tree")}if(!t&&n)if(g||x)g&&(i=(n=b(e,n,o,i,c)).componentInstance.context??i),_(e,n,i,{nextSibling:f,fragment:d,namespace:h});else if(d||f||m.type!==s.wr.Text||1!==o.children.length||e.firstChild){const t=w(m,i,h);m.target=t,I(d||e,t,f),m.type===s.wr.Tag&&E(m,t)}else e.textContent=m.value,m.target=e.firstChild;else if(t&&!n)S(e,t,i,void 0);else if(t&&n)if((0,s.rO)(t,n))if(f||(f=A(t)),g||x)g&&(i=(n=b(e,n,o,i,c)).componentInstance.context??i),S(e,t,i,void 0),_(e,n,i,{nextSibling:f,fragment:d,namespace:h});else{const n=w(m,i,h);m.target=n,S(e,t,i,n,f),m.type===s.wr.Tag&&E(m,n)}else if(p&&g||y&&x)C(t,n,i,e,f,l.forceMoveToEnd);else{const r=t,o=r.target;if(m.target=o,r.target=void 0,t.type===s.wr.Tag){const r=n;E(t,void 0),E(r,o),(f||l.forceMoveToEnd)&&I(e,o,f),function(e,t,n,r){T(n.tagName,t.props);const o=Object.entries(e.props),i=Object.entries(t.props);for(const[e,r]of o){const o=t.props[e];void 0!==r&&(void 0===o||r!==o&&e.startsWith("on"))&&M(n,e,r)}for(const[t,o]of i){const i=e.props[t];void 0!==o&&o!==i&&P(n,t,o,r)}}(t,r,o,h),C(t,r,i,o,void 0,void 0,h)}}return n}function b(e,t,n,r,o){const{componentInstance:i}=t;return t.componentInstance.context=r,i.mountState===s.pT.Unmounted&&v(e,t=(0,s.bF)(i),n,r,o),t}function v(e,t,n,r,o){const{componentInstance:i}=t;i.onUpdate=()=>{n.children[o]=y(e,n.children[o],i.$element,n,r,o,{skipComponentUpdate:!0})}}function _(e,t,n,r){const{children:o}=t;if(t.type===s.wr.Fragment&&0===o.length){const n=t;return n.placeholderTarget=document.createComment("empty-fragment"),void I(r.fragment||e,n.placeholderTarget,r.nextSibling)}for(let i=0,s=o.length;i<s;i++){const s=o[i],a=y(e,void 0,s,t,n,i,r);a!==s&&(o[i]=a)}}function w(e,t,n="http://www.w3.org/1999/xhtml"){if(e.type===s.wr.Empty)return document.createTextNode("");if(e.type===s.wr.Text)return document.createTextNode(e.value);const{tag:r,props:o,children:i}=e,a=document.createElementNS(n,r);T(r,o);for(const e in o)o.hasOwnProperty(e)&&void 0!==o[e]&&P(a,e,o[e],n);!function(e,t){u.includes(e.tagName)&&(t.defaultValue&&P(e,"value",t.defaultValue),t.defaultChecked&&P(e,"checked",t.defaultChecked))}(a,o);for(let r=0,o=i.length;r<o;r++){const o=i[r],s=y(a,void 0,o,e,t,r,{namespace:n});s!==o&&(i[r]=s)}return a}function S(e,t,n,r,o){const i=t.type===s.wr.Component,a=!i&&t.type===s.wr.Fragment;i||a?(i&&(0,s.s4)(t.componentInstance),function(e,t,n){for(const r of t.children)y(e,r,void 0,t,n,-1)}(e,t,n),r&&I(e,r,o)):(r?e.replaceChild(r,t.target):e.removeChild(t.target),x(t))}function x(e){if(e.type===s.wr.Component)(0,s.s4)(e.componentInstance);else if(e.type===s.wr.Fragment){const t=e;t.placeholderTarget&&0===t.children.length&&(t.placeholderTarget.parentNode?.removeChild(t.placeholderTarget),t.placeholderTarget=void 0)}else if(e.type===s.wr.Tag&&(g.delete(e.target),E(e,void 0),(0,i.iB)(e.target)),e.target=void 0,e.type!==s.wr.Tag)return;for(const t of e.children)x(t)}function I(e,t,n){n?e.insertBefore(t,n):e.appendChild(t)}function A(e){if(e.type===s.wr.Component||e.type===s.wr.Fragment){if(0===e.children.length){const t=e;return t.placeholderTarget&&t.placeholderTarget.nextSibling||void 0}return A(e.children[e.children.length-1])}return e.target.nextSibling||void 0}function C(e,t,n,i,a,c=!1,l){if(r.Oig&&function(e){const t=e[0];if(t&&"props"in t&&void 0!==t.props.key){const t=e.reduce((e,t)=>("props"in t&&t.props.key&&e.push(t.props.key),e),[]);if(t.length!==(0,o.Am)(t).length)throw console.warn("[Teact] Duplicated keys:",t.filter((e,t,n)=>n.indexOf(e)!==t),e),new Error("[Teact] Children keys are not unique")}}(t.children),"props"in t&&t.props.teactFastList)return void function(e,t,n,o){const i=e.children,a=t.children,c=new Set;for(const e of a){const t="props"in e?e.props.key:void 0;if(r.Oig&&(0,s.jo)(e)&&(null==t&&console.warn("Missing `key` in `teactFastList`"),e.type===s.wr.Fragment))throw new Error("[Teact] Fragment can not be child of container with `teactFastList`");c.add(t)}let l=0;const u={};for(let e=0,r=i.length;e<r;e++){const r=i[e];let s="props"in r?r.props.key:void 0;const d=null!=s;if(!d||c.has(s)){if(!d){const i=a[e],c=i&&"props"in i?i.props.key:void 0;if(!i||c){y(o,r,void 0,t,n,-1);continue}s=`${f}${e}`}u[s]={$element:r,index:l++,orderKey:"props"in r?r.props.teactOrderKey:void 0}}else y(o,r,void 0,t,n,-1)}let d,h,p=0;for(let e=0,r=a.length;e<r;e++){const r=a[e],i=u["props"in r?r.props.key:`${f}${e}`];if(!i){void 0===h&&(d=e,h=0),h++;continue}h&&(k(d,h,o,t,n),h=void 0,d=void 0);const s="props"in r?r.props.teactOrderKey:void 0,c=i.index!==p&&(!s||i.orderKey!==s),l=c&&p>i.index;c&&!l||p++;const g=o.childNodes[l?e+1:e],m=c?g?{nextSibling:g}:{forceMoveToEnd:!0}:void 0,b=y(o,i.$element,r,t,n,e,m);b!==r&&(a[e]=b)}h&&k(d,h,o,t,n)}(e,t,n,i);if(e.type===s.wr.Fragment&&t.type===s.wr.Fragment){const n=e,r=t;if(0===n.children.length&&r.children.length>0&&n.placeholderTarget&&(a=n.placeholderTarget.nextSibling||void 0,n.placeholderTarget.parentNode?.removeChild(n.placeholderTarget),n.placeholderTarget=void 0),n.children.length>0&&0===r.children.length){const e=A(n.children[n.children.length-1]);r.placeholderTarget=document.createComment("empty-fragment"),I(i,r.placeholderTarget,e)}}const u=e.children,d=t.children,h=u.length,p=d.length,g=Math.max(h,p),m=p>h?document.createDocumentFragment():void 0,b=e.children[h-1],v=m&&(a||(b?A(b):void 0));for(let e=0;e<g;e++){const r=y(i,u[e],d[e],t,n,e,e>=h?{fragment:m,namespace:l}:{nextSibling:a,forceMoveToEnd:c,namespace:l});r&&r!==d[e]&&(d[e]=r)}m&&I(i,m,v)}function k(e,t,n,r,o){const i=n.childNodes[e];if(1===t){const t=r.children[e],s=y(n,void 0,t,r,o,e,{nextSibling:i});return void(s!==t&&(r.children[e]=s))}const s=document.createDocumentFragment();for(let i=e;i<e+t;i++){const e=r.children[i],t=y(n,void 0,e,r,o,i,{fragment:s});t!==e&&(r.children[i]=t)}I(n,s,i)}function E(e,t){const{ref:n}=e.props;"object"==typeof n?(n.current=t,n.onChange?.()):"function"==typeof n&&n(t)}function T(e,t){if(!t.teactExperimentControlled)return;const n=void 0!==t.value,r=void 0!==t.checked;if(!n&&!r||!u.includes(e.toUpperCase()))return;const{value:o,checked:i,onInput:s,onChange:a,onBlur:c}=t;t.onChange=void 0,t.onInput=e=>{if(s?.(e),a?.(e),void 0!==o&&o!==e.currentTarget.value){const{selectionStart:t,selectionEnd:n}=e.currentTarget,r=t===n&&n===e.currentTarget.value.length;if(e.currentTarget.value=o,"number"==typeof t&&"number"==typeof n){e.currentTarget.setSelectionRange(t,n);const o={selectionStart:t,selectionEnd:n,isCaretAtEnd:r};e.currentTarget.dataset[h]=JSON.stringify(o)}}void 0!==i&&(e.currentTarget.checked=i)},t.onBlur=e=>{delete e.currentTarget.dataset[h],c?.(e)}}function P(e,t,n,r){if("className"===t)O(e,n,r);else if("value"===t){const t=e;if(t.value!==n){t.value=n;const e=t.dataset[h];if(e){const{selectionStart:n,selectionEnd:r,isCaretAtEnd:o}=JSON.parse(e);if(o){const e=t.value.length;t.setSelectionRange(e,e)}else"number"==typeof n&&"number"==typeof r&&t.setSelectionRange(n,r)}}}else"style"===t?D(e,n):"dangerouslySetInnerHTML"===t?e.innerHTML=n.__html:t.startsWith("on")?(0,i.q2)(e,t,n,t.endsWith("Capture")):r===a||t.startsWith("data-")||t.startsWith("aria-")||l.has(t)?e.setAttribute(t,n):c.has(t)||(e[d[t]||t]=n)}function M(e,t,n){"className"===t?O(e,""):"value"===t?e.value="":"style"===t?D(e,""):"dangerouslySetInnerHTML"===t?e.innerHTML="":t.startsWith("on")?(0,i.f)(e,t,n,t.endsWith("Capture")):c.has(t)||e.removeAttribute(t)}function O(e,t,n){if(n===a)return void e.setAttribute("class",t);const r=e,o=g.get(e);if(!o)return void(r.className=t);const i=Array.from(o);t&&i.push(t),r.className=i.join(" ")}function D(e,t){e.style.cssText=t,m.get(e)&&B(e)}function R(e,t){e.classList.add(t);const n=g.get(e);n?n.add(t):g.set(e,new Set([t]))}function N(e,t){e.classList.remove(t);const n=g.get(e);n&&(n.delete(t),n.size||g.delete(e))}function F(e,t,n){!0===n?R(e,t):!1===n||g.get(e)?.has(t)?N(e,t):R(e,t)}function L(e,t){m.set(e,t),B(e)}function B(e){const t=Object.entries(m.get(e)).reduce((t,[n,r])=>(n.startsWith("--")?e.style.setProperty(n,r):t[n]=r,t),{});Object.assign(e.style,t)}const $={render:function(e,t){p.has(t)||p.set(t,{children:[]});const n=(0,s.ek)(),r=p.get(t),o=y(t,r.children[0],e,r,{},0);n?.(),r.children=o?[o]:[]}}},61911:(e,t,n)=>{"use strict";e.exports=n.p+"blank.8dd283bceccca95a48d8.png"},62214:(e,t,n)=>{"use strict";n.d(t,{A5:()=>L,CO:()=>$,Gg:()=>S,IC:()=>F,Js:()=>I,L7:()=>A,PX:()=>U,Q_:()=>O,Qe:()=>w,Rl:()=>_,SJ:()=>k,Sq:()=>P,TJ:()=>N,VN:()=>b,Ve:()=>y,Vs:()=>g,WX:()=>m,YE:()=>h,Zg:()=>j,__:()=>M,cG:()=>z,cP:()=>C,e7:()=>x,gA:()=>B,gU:()=>D,i7:()=>H,kE:()=>v,l1:()=>T,nr:()=>q,sT:()=>V,ub:()=>E,yn:()=>p,zc:()=>R});var r=n(23174),o=n(31481),i=n(17663),s=n(9716),a=n(80140),c=n(60919),l=n(13439),u=n(20179),d=n(79089);const f=Date.now()/1e3+31622400;function h(e){return p(e)||g(e)}function p(e){return"chatTypeBasicGroup"===e.type}function g(e){return"chatTypeSuperGroup"===e.type}function m(e){return"chatTypeChannel"===e.type}function y(e){return e.isMonoforum}function b(e){return"chatTypePrivate"===e.type||"chatTypeBasicGroup"===e.type}function v(e){return e===o.f51}function _(e){return e===o.b5_}function w(e){return e===o.Ckz}function S(e){switch(e.type){case"chatTypePrivate":return"PrivateChat";case"chatTypeBasicGroup":case"chatTypeSuperGroup":return"AccDescrGroup";case"chatTypeChannel":return"AccDescrChannel";default:return"Chat"}}function x(e){if("chatTypePrivate"===e.type||"chatTypeSecret"===e.type)return e.id}function I(e,t,n=!1){return n?e("SavedMessages"):t.title||e("HiddenName")}function A(e){const t=(0,d.Kl)(e);return t?`${o.jsp}${t}`:void 0}function C(e,t="normal",n=e.avatarPhotoId){if(n)return"big"===t?`profile${e.id}?${n}`:`avatar${e.id}?${n}`}function k(e){return Boolean(e.adminRights||e.isCreator)}function E(e,t){return e.adminRights?.[t]||!1}function T(e,t){return t.id===o.HxB?e.isCreator:e.isCreator||E(e,"manageTopics")||t.isOwner}function P(e,t,n){const r=n?.boostsToUnrestrict&&(n.boostsApplied||0)>=n.boostsToUnrestrict;return Boolean(e.currentUserBannedRights?.[t]||e.defaultBannedRights?.[t]&&!r)}function M(e,t,n,r){if(t&&e.isForum){if(e.isNotJoined)return!1;if(t?.isClosed&&!t.isOwner&&!E(e,"manageTopics"))return!1}const o=(0,l.mS)();return!((0,c._ls)(o,e.id)||e.isForbidden||e.migratedTo||e.isNotJoined&&!y(e)&&!n||(0,u.DX)(e.id)||w(e.id))&&(!!e.isCreator||!!(0,s.L8)(e.id)||(m(e)?E(e,"postMessages"):k(e)||!P(e,"sendMessages",r)))}function O(e,t,n=!1,r=!1,o=!1,i,a=!1){if(!e||i&&a)return{canAttachMedia:!1,canAttachPolls:!1,canSendStickers:!1,canSendGifs:!1,canAttachEmbedLinks:!1,canSendPhotos:!1,canSendVideos:!1,canSendRoundVideos:!1,canSendAudios:!1,canSendVoices:!1,canSendPlainText:!1,canSendDocuments:!1,canAttachToDoLists:!1};const c=k(e);return{canAttachMedia:c||o||!P(e,"sendMedia",t),canAttachPolls:!o&&!e.isMonoforum&&(c||!P(e,"sendPolls",t))&&(!(0,s.L8)(e.id)||n||r),canAttachToDoLists:!o&&!e.isMonoforum&&!m(e),canSendStickers:c||o||!P(e,"sendStickers",t),canSendGifs:c||o||!P(e,"sendGifs",t),canAttachEmbedLinks:!o&&(c||!P(e,"embedLinks",t)),canSendPhotos:c||o||!P(e,"sendPhotos",t),canSendVideos:c||o||!P(e,"sendVideos",t),canSendRoundVideos:c||o||!P(e,"sendRoundvideos",t),canSendAudios:c||o||!P(e,"sendAudios",t),canSendVoices:c||o||!P(e,"sendVoices",t),canSendPlainText:c||o||!P(e,"sendPlain",t),canSendDocuments:c||o||!P(e,"sendDocs",t)}}function D(e,t,n){if(t?.sendMessages){const{untilDate:n}=t;return n&&n<f?e("Channel.Persmission.Denied.SendMessages.Until",e("formatDateAtTime",[(0,i.A)(new Date(1e3*n),e.code),(0,i.fU)(e,1e3*n)])):e("Channel.Persmission.Denied.SendMessages.Forever")}if(n?.sendMessages)return e("Channel.Persmission.Denied.SendMessages.DefaultRestrictedText")}function R(e,t,n=r.l3,i,s){if(!t?.isForum)return;if(n===r.l3){if(s||i&&!i[o.HxB]?.isClosed)return;return e("lng_forum_replies_only")}const a=i?.[Number(n)];return a?!a.isClosed||a.isOwner||E(t,"manageTopics")?void 0:e("TopicClosedByAdmin"):void 0}function N(e){return e.folderId===o._E9}function F(e){return p(e)||(g(e)||m(e))&&e.isCreator}function L(e,t,n){const{excludedChatIds:r,includedChatIds:o,bots:i,groups:s,contacts:a,nonContacts:c,channels:l}=t,u=[i,s,a,c,l];return void 0!==n&&(Object.values(u).filter(Boolean).length>1||r?.length||o?.length)?e("Chats",n):i?e("FilterBots"):s?e("FilterGroups"):l?e("FilterChannels"):a?e("FilterContacts"):c?e("FilterNonContacts"):void 0}function B(e){return e.hasUsername}function $(e,t,n=!1){if(n)return e.sort((e,t)=>t.lastMessageId-e.lastMessageId);{const n=e.filter(e=>e.isPinned),r=e.filter(e=>!e.isPinned&&!e.isHidden).sort((e,t)=>t.lastMessageId-e.lastMessageId),o=e.filter(e=>!e.isPinned&&e.isHidden).sort((e,t)=>t.lastMessageId-e.lastMessageId);return[...t?t.map(e=>n.find(t=>t.id===e)).filter(Boolean):n,...r,...o]}}function j(e){return e?.color?.color?e.color.color:e?(0,s.hy)(e.id)%7:0}function U(e){const t=j(e),n=(0,l.mS)();return n.peerColors?.general[t].colors?.length||1}function z(e,t,n){return e===n&&t!==r.l3}function V(e,t){const n=e(S(t)),{membersCount:r}=t,o=(0,l.mS)();return(0,c._ls)(o,t.id)?"Channel"===n?"channel is inaccessible":"group is inaccessible":r?e("Channel"===n?"Subscribers":"Members",r,"i"):n}function q(e){const{title:t,color:n,isVerified:r,isFake:o,isScam:i}=e;return{isCustomPeer:!0,title:t,peerColorId:n,isVerified:r,fakeType:o?"fake":i?"scam":void 0}}function H(e,t){const{result:n}=t,r=n?.sendMessage?.replyMarkup?.inlineButtons;return{chatId:e,content:n.sendMessage.content,date:(0,a.Fm)(),id:0,isOutgoing:!0,viaBotId:e,inlineButtons:r}}},62279:(e,t,n)=>{"use strict";n.d(t,{QO:()=>a,TP:()=>u,lJ:()=>s,pM:()=>i,yH:()=>o});var r=n(96540);const o="ant",i="anticon",s=["outlined","borderless","filled","underlined"],a=r.createContext({getPrefixCls:(e,t)=>t||(e?`${o}-${e}`:o),iconPrefixCls:i}),{Consumer:c}=a,l={};function u(e){const t=r.useContext(a),{getPrefixCls:n,direction:o,getPopupContainer:i}=t,s=t[e];return Object.assign(Object.assign({classNames:l,styles:l},s),{getPrefixCls:n,direction:o,getPopupContainer:i})}},62427:(e,t,n)=>{"use strict";n.d(t,{A:()=>z});var r=n(89379),o=n(5544),i=n(53986),s=n(45062),a=n(46942),c=n.n(a),l=n(26076),u=n(66588),d=n(72633),f=n(26956),h=n(56855),p=n(30981),g=n(68430),m=n(96540),y=n(58168),b=n(90754),v=n(8719);function _(e){var t=e.prefixCls,n=e.align,r=e.arrow,o=e.arrowPos,i=r||{},s=i.className,a=i.content,l=o.x,u=void 0===l?0:l,d=o.y,f=void 0===d?0:d,h=m.useRef();if(!n||!n.points)return null;var p={position:"absolute"};if(!1!==n.autoArrow){var g=n.points[0],y=n.points[1],b=g[0],v=g[1],_=y[0],w=y[1];b!==_&&["t","b"].includes(b)?"t"===b?p.top=0:p.bottom=0:p.top=f,v!==w&&["l","r"].includes(v)?"l"===v?p.left=0:p.right=0:p.left=u}return m.createElement("div",{ref:h,className:c()("".concat(t,"-arrow"),s),style:p},a)}function w(e){var t=e.prefixCls,n=e.open,r=e.zIndex,o=e.mask,i=e.motion;return o?m.createElement(b.Ay,(0,y.A)({},i,{motionAppear:!0,visible:n,removeOnLeave:!0}),function(e){var n=e.className;return m.createElement("div",{style:{zIndex:r},className:c()("".concat(t,"-mask"),n)})}):null}const S=m.memo(function(e){return e.children},function(e,t){return t.cache}),x=m.forwardRef(function(e,t){var n=e.popup,i=e.className,s=e.prefixCls,a=e.style,u=e.target,d=e.onVisibleChanged,f=e.open,h=e.keepDom,g=e.fresh,x=e.onClick,I=e.mask,A=e.arrow,C=e.arrowPos,k=e.align,E=e.motion,T=e.maskMotion,P=e.forceRender,M=e.getPopupContainer,O=e.autoDestroy,D=e.portal,R=e.zIndex,N=e.onMouseEnter,F=e.onMouseLeave,L=e.onPointerEnter,B=e.onPointerDownCapture,$=e.ready,j=e.offsetX,U=e.offsetY,z=e.offsetR,V=e.offsetB,q=e.onAlign,H=e.onPrepare,G=e.stretch,W=e.targetWidth,K=e.targetHeight,Y="function"==typeof n?n():n,J=f||h,X=(null==M?void 0:M.length)>0,Z=m.useState(!M||!X),Q=(0,o.A)(Z,2),ee=Q[0],te=Q[1];if((0,p.A)(function(){!ee&&X&&u&&te(!0)},[ee,X,u]),!ee)return null;var ne="auto",re={left:"-1000vw",top:"-1000vh",right:ne,bottom:ne};if($||!f){var oe,ie=k.points,se=k.dynamicInset||(null===(oe=k._experimental)||void 0===oe?void 0:oe.dynamicInset),ae=se&&"r"===ie[0][1],ce=se&&"b"===ie[0][0];ae?(re.right=z,re.left=ne):(re.left=j,re.right=ne),ce?(re.bottom=V,re.top=ne):(re.top=U,re.bottom=ne)}var le={};return G&&(G.includes("height")&&K?le.height=K:G.includes("minHeight")&&K&&(le.minHeight=K),G.includes("width")&&W?le.width=W:G.includes("minWidth")&&W&&(le.minWidth=W)),f||(le.pointerEvents="none"),m.createElement(D,{open:P||J,getContainer:M&&function(){return M(u)},autoDestroy:O},m.createElement(w,{prefixCls:s,open:f,zIndex:R,mask:I,motion:T}),m.createElement(l.A,{onResize:q,disabled:!f},function(e){return m.createElement(b.Ay,(0,y.A)({motionAppear:!0,motionEnter:!0,motionLeave:!0,removeOnLeave:!1,forceRender:P,leavedClassName:"".concat(s,"-hidden")},E,{onAppearPrepare:H,onEnterPrepare:H,visible:f,onVisibleChanged:function(e){var t;null==E||null===(t=E.onVisibleChanged)||void 0===t||t.call(E,e),d(e)}}),function(n,o){var l=n.className,u=n.style,d=c()(s,l,i);return m.createElement("div",{ref:(0,v.K4)(e,t,o),className:d,style:(0,r.A)((0,r.A)((0,r.A)((0,r.A)({"--arrow-x":"".concat(C.x||0,"px"),"--arrow-y":"".concat(C.y||0,"px")},re),le),u),{},{boxSizing:"border-box",zIndex:R},a),onMouseEnter:N,onMouseLeave:F,onPointerEnter:L,onClick:x,onPointerDownCapture:B},A&&m.createElement(_,{prefixCls:s,arrow:A,arrowPos:C,align:k}),m.createElement(S,{cache:!f&&!g},Y))})}))}),I=m.forwardRef(function(e,t){var n=e.children,r=e.getTriggerDOMNode,o=(0,v.f3)(n),i=m.useCallback(function(e){(0,v.Xf)(t,r?r(e):e)},[r]),s=(0,v.xK)(i,(0,v.A9)(n));return o?m.cloneElement(n,{ref:s}):n}),A=m.createContext(null);function C(e){return e?Array.isArray(e)?e:[e]:[]}var k=n(42467);function E(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return(arguments.length>2?arguments[2]:void 0)?e[0]===t[0]:e[0]===t[0]&&e[1]===t[1]}function T(e,t,n,r){return t||(n?{motionName:"".concat(e,"-").concat(n)}:r?{motionName:r}:null)}function P(e){return e.ownerDocument.defaultView}function M(e){for(var t=[],n=null==e?void 0:e.parentElement,r=["hidden","scroll","clip","auto"];n;){var o=P(n).getComputedStyle(n);[o.overflowX,o.overflowY,o.overflow].some(function(e){return r.includes(e)})&&t.push(n),n=n.parentElement}return t}function O(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return Number.isNaN(e)?t:e}function D(e){return O(parseFloat(e),0)}function R(e,t){var n=(0,r.A)({},e);return(t||[]).forEach(function(e){if(!(e instanceof HTMLBodyElement||e instanceof HTMLHtmlElement)){var t=P(e).getComputedStyle(e),r=t.overflow,o=t.overflowClipMargin,i=t.borderTopWidth,s=t.borderBottomWidth,a=t.borderLeftWidth,c=t.borderRightWidth,l=e.getBoundingClientRect(),u=e.offsetHeight,d=e.clientHeight,f=e.offsetWidth,h=e.clientWidth,p=D(i),g=D(s),m=D(a),y=D(c),b=O(Math.round(l.width/f*1e3)/1e3),v=O(Math.round(l.height/u*1e3)/1e3),_=(f-h-m-y)*b,w=(u-d-p-g)*v,S=p*v,x=g*v,I=m*b,A=y*b,C=0,k=0;if("clip"===r){var E=D(o);C=E*b,k=E*v}var T=l.x+I-C,M=l.y+S-k,R=T+l.width+2*C-I-A-_,N=M+l.height+2*k-S-x-w;n.left=Math.max(n.left,T),n.top=Math.max(n.top,M),n.right=Math.min(n.right,R),n.bottom=Math.min(n.bottom,N)}}),n}function N(e){var t="".concat(arguments.length>1&&void 0!==arguments[1]?arguments[1]:0),n=t.match(/^(.*)\%$/);return n?e*(parseFloat(n[1])/100):parseFloat(t)}function F(e,t){var n=t||[],r=(0,o.A)(n,2),i=r[0],s=r[1];return[N(e.width,i),N(e.height,s)]}function L(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return[e[0],e[1]]}function B(e,t){var n,r=t[0],o=t[1];return n="t"===r?e.y:"b"===r?e.y+e.height:e.y+e.height/2,{x:"l"===o?e.x:"r"===o?e.x+e.width:e.x+e.width/2,y:n}}function $(e,t){var n={t:"b",b:"t",l:"r",r:"l"};return e.map(function(e,r){return r===t?n[e]||"c":e}).join("")}var j=n(60436);n(68210);var U=["prefixCls","children","action","showAction","hideAction","popupVisible","defaultPopupVisible","onPopupVisibleChange","afterPopupVisibleChange","mouseEnterDelay","mouseLeaveDelay","focusDelay","blurDelay","mask","maskClosable","getPopupContainer","forceRender","autoDestroy","destroyPopupOnHide","popup","popupClassName","popupStyle","popupPlacement","builtinPlacements","popupAlign","zIndex","stretch","getPopupClassNameFromAlign","fresh","alignPoint","onPopupClick","onPopupAlign","arrow","popupMotion","maskMotion","popupTransitionName","popupAnimation","maskTransitionName","maskAnimation","className","getTriggerDOMNode"];const z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s.A;return m.forwardRef(function(t,n){var s=t.prefixCls,a=void 0===s?"rc-trigger-popup":s,y=t.children,b=t.action,v=void 0===b?"hover":b,_=t.showAction,w=t.hideAction,S=t.popupVisible,D=t.defaultPopupVisible,N=t.onPopupVisibleChange,z=t.afterPopupVisibleChange,V=t.mouseEnterDelay,q=t.mouseLeaveDelay,H=void 0===q?.1:q,G=t.focusDelay,W=t.blurDelay,K=t.mask,Y=t.maskClosable,J=void 0===Y||Y,X=t.getPopupContainer,Z=t.forceRender,Q=t.autoDestroy,ee=t.destroyPopupOnHide,te=t.popup,ne=t.popupClassName,re=t.popupStyle,oe=t.popupPlacement,ie=t.builtinPlacements,se=void 0===ie?{}:ie,ae=t.popupAlign,ce=t.zIndex,le=t.stretch,ue=t.getPopupClassNameFromAlign,de=t.fresh,fe=t.alignPoint,he=t.onPopupClick,pe=t.onPopupAlign,ge=t.arrow,me=t.popupMotion,ye=t.maskMotion,be=t.popupTransitionName,ve=t.popupAnimation,_e=t.maskTransitionName,we=t.maskAnimation,Se=t.className,xe=t.getTriggerDOMNode,Ie=(0,i.A)(t,U),Ae=Q||ee||!1,Ce=m.useState(!1),ke=(0,o.A)(Ce,2),Ee=ke[0],Te=ke[1];(0,p.A)(function(){Te((0,g.A)())},[]);var Pe=m.useRef({}),Me=m.useContext(A),Oe=m.useMemo(function(){return{registerSubPopup:function(e,t){Pe.current[e]=t,null==Me||Me.registerSubPopup(e,t)}}},[Me]),De=(0,h.A)(),Re=m.useState(null),Ne=(0,o.A)(Re,2),Fe=Ne[0],Le=Ne[1],Be=m.useRef(null),$e=(0,f.A)(function(e){Be.current=e,(0,u.fk)(e)&&Fe!==e&&Le(e),null==Me||Me.registerSubPopup(De,e)}),je=m.useState(null),Ue=(0,o.A)(je,2),ze=Ue[0],Ve=Ue[1],qe=m.useRef(null),He=(0,f.A)(function(e){(0,u.fk)(e)&&ze!==e&&(Ve(e),qe.current=e)}),Ge=m.Children.only(y),We=(null==Ge?void 0:Ge.props)||{},Ke={},Ye=(0,f.A)(function(e){var t,n,r=ze;return(null==r?void 0:r.contains(e))||(null===(t=(0,d.j)(r))||void 0===t?void 0:t.host)===e||e===r||(null==Fe?void 0:Fe.contains(e))||(null===(n=(0,d.j)(Fe))||void 0===n?void 0:n.host)===e||e===Fe||Object.values(Pe.current).some(function(t){return(null==t?void 0:t.contains(e))||e===t})}),Je=T(a,me,ve,be),Xe=T(a,ye,we,_e),Ze=m.useState(D||!1),Qe=(0,o.A)(Ze,2),et=Qe[0],tt=Qe[1],nt=null!=S?S:et,rt=(0,f.A)(function(e){void 0===S&&tt(e)});(0,p.A)(function(){tt(S||!1)},[S]);var ot=m.useRef(nt);ot.current=nt;var it=m.useRef([]);it.current=[];var st=(0,f.A)(function(e){var t;rt(e),(null!==(t=it.current[it.current.length-1])&&void 0!==t?t:nt)!==e&&(it.current.push(e),null==N||N(e))}),at=m.useRef(),ct=function(){clearTimeout(at.current)},lt=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;ct(),0===t?st(e):at.current=setTimeout(function(){st(e)},1e3*t)};m.useEffect(function(){return ct},[]);var ut=m.useState(!1),dt=(0,o.A)(ut,2),ft=dt[0],ht=dt[1];(0,p.A)(function(e){e&&!nt||ht(!0)},[nt]);var pt=m.useState(null),gt=(0,o.A)(pt,2),mt=gt[0],yt=gt[1],bt=m.useState(null),vt=(0,o.A)(bt,2),_t=vt[0],wt=vt[1],St=function(e){wt([e.clientX,e.clientY])},xt=function(e,t,n,i,s,a,c){var l=m.useState({ready:!1,offsetX:0,offsetY:0,offsetR:0,offsetB:0,arrowX:0,arrowY:0,scaleX:1,scaleY:1,align:s[i]||{}}),d=(0,o.A)(l,2),h=d[0],g=d[1],y=m.useRef(0),b=m.useMemo(function(){return t?M(t):[]},[t]),v=m.useRef({});e||(v.current={});var _=(0,f.A)(function(){if(t&&n&&e){var l,d,f,h,p,m=t,y=m.ownerDocument,_=P(m),w=_.getComputedStyle(m).position,S=m.style.left,x=m.style.top,I=m.style.right,A=m.style.bottom,C=m.style.overflow,E=(0,r.A)((0,r.A)({},s[i]),a),T=y.createElement("div");if(null===(l=m.parentElement)||void 0===l||l.appendChild(T),T.style.left="".concat(m.offsetLeft,"px"),T.style.top="".concat(m.offsetTop,"px"),T.style.position=w,T.style.height="".concat(m.offsetHeight,"px"),T.style.width="".concat(m.offsetWidth,"px"),m.style.left="0",m.style.top="0",m.style.right="auto",m.style.bottom="auto",m.style.overflow="hidden",Array.isArray(n))p={x:n[0],y:n[1],width:0,height:0};else{var M,D,N=n.getBoundingClientRect();N.x=null!==(M=N.x)&&void 0!==M?M:N.left,N.y=null!==(D=N.y)&&void 0!==D?D:N.top,p={x:N.x,y:N.y,width:N.width,height:N.height}}var j=m.getBoundingClientRect(),U=_.getComputedStyle(m),z=U.height,V=U.width;j.x=null!==(d=j.x)&&void 0!==d?d:j.left,j.y=null!==(f=j.y)&&void 0!==f?f:j.top;var q=y.documentElement,H=q.clientWidth,G=q.clientHeight,W=q.scrollWidth,K=q.scrollHeight,Y=q.scrollTop,J=q.scrollLeft,X=j.height,Z=j.width,Q=p.height,ee=p.width,te={left:0,top:0,right:H,bottom:G},ne={left:-J,top:-Y,right:W-J,bottom:K-Y},re=E.htmlRegion,oe="visible",ie="visibleFirst";"scroll"!==re&&re!==ie&&(re=oe);var se=re===ie,ae=R(ne,b),ce=R(te,b),le=re===oe?ce:ae,ue=se?ce:le;m.style.left="auto",m.style.top="auto",m.style.right="0",m.style.bottom="0";var de=m.getBoundingClientRect();m.style.left=S,m.style.top=x,m.style.right=I,m.style.bottom=A,m.style.overflow=C,null===(h=m.parentElement)||void 0===h||h.removeChild(T);var fe=O(Math.round(Z/parseFloat(V)*1e3)/1e3),he=O(Math.round(X/parseFloat(z)*1e3)/1e3);if(0===fe||0===he||(0,u.fk)(n)&&!(0,k.A)(n))return;var pe=E.offset,ge=E.targetOffset,me=F(j,pe),ye=(0,o.A)(me,2),be=ye[0],ve=ye[1],_e=F(p,ge),we=(0,o.A)(_e,2),Se=we[0],xe=we[1];p.x-=Se,p.y-=xe;var Ie=E.points||[],Ae=(0,o.A)(Ie,2),Ce=Ae[0],ke=L(Ae[1]),Ee=L(Ce),Te=B(p,ke),Pe=B(j,Ee),Me=(0,r.A)({},E),Oe=Te.x-Pe.x+be,De=Te.y-Pe.y+ve;function Ct(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:le,r=j.x+e,o=j.y+t,i=r+Z,s=o+X,a=Math.max(r,n.left),c=Math.max(o,n.top),l=Math.min(i,n.right),u=Math.min(s,n.bottom);return Math.max(0,(l-a)*(u-c))}var Re,Ne,Fe,Le,Be=Ct(Oe,De),$e=Ct(Oe,De,ce),je=B(p,["t","l"]),Ue=B(j,["t","l"]),ze=B(p,["b","r"]),Ve=B(j,["b","r"]),qe=E.overflow||{},He=qe.adjustX,Ge=qe.adjustY,We=qe.shiftX,Ke=qe.shiftY,Ye=function(e){return"boolean"==typeof e?e:e>=0};function kt(){Re=j.y+De,Ne=Re+X,Fe=j.x+Oe,Le=Fe+Z}kt();var Je=Ye(Ge),Xe=Ee[0]===ke[0];if(Je&&"t"===Ee[0]&&(Ne>ue.bottom||v.current.bt)){var Ze=De;Xe?Ze-=X-Q:Ze=je.y-Ve.y-ve;var Qe=Ct(Oe,Ze),et=Ct(Oe,Ze,ce);Qe>Be||Qe===Be&&(!se||et>=$e)?(v.current.bt=!0,De=Ze,ve=-ve,Me.points=[$(Ee,0),$(ke,0)]):v.current.bt=!1}if(Je&&"b"===Ee[0]&&(Re<ue.top||v.current.tb)){var tt=De;Xe?tt+=X-Q:tt=ze.y-Ue.y-ve;var nt=Ct(Oe,tt),rt=Ct(Oe,tt,ce);nt>Be||nt===Be&&(!se||rt>=$e)?(v.current.tb=!0,De=tt,ve=-ve,Me.points=[$(Ee,0),$(ke,0)]):v.current.tb=!1}var ot=Ye(He),it=Ee[1]===ke[1];if(ot&&"l"===Ee[1]&&(Le>ue.right||v.current.rl)){var st=Oe;it?st-=Z-ee:st=je.x-Ve.x-be;var at=Ct(st,De),ct=Ct(st,De,ce);at>Be||at===Be&&(!se||ct>=$e)?(v.current.rl=!0,Oe=st,be=-be,Me.points=[$(Ee,1),$(ke,1)]):v.current.rl=!1}if(ot&&"r"===Ee[1]&&(Fe<ue.left||v.current.lr)){var lt=Oe;it?lt+=Z-ee:lt=ze.x-Ue.x-be;var ut=Ct(lt,De),dt=Ct(lt,De,ce);ut>Be||ut===Be&&(!se||dt>=$e)?(v.current.lr=!0,Oe=lt,be=-be,Me.points=[$(Ee,1),$(ke,1)]):v.current.lr=!1}kt();var ft=!0===We?0:We;"number"==typeof ft&&(Fe<ce.left&&(Oe-=Fe-ce.left-be,p.x+ee<ce.left+ft&&(Oe+=p.x-ce.left+ee-ft)),Le>ce.right&&(Oe-=Le-ce.right-be,p.x>ce.right-ft&&(Oe+=p.x-ce.right+ft)));var ht=!0===Ke?0:Ke;"number"==typeof ht&&(Re<ce.top&&(De-=Re-ce.top-ve,p.y+Q<ce.top+ht&&(De+=p.y-ce.top+Q-ht)),Ne>ce.bottom&&(De-=Ne-ce.bottom-ve,p.y>ce.bottom-ht&&(De+=p.y-ce.bottom+ht)));var pt=j.x+Oe,gt=pt+Z,mt=j.y+De,yt=mt+X,bt=p.x,vt=bt+ee,_t=p.y,wt=_t+Q,St=(Math.max(pt,bt)+Math.min(gt,vt))/2-pt,xt=(Math.max(mt,_t)+Math.min(yt,wt))/2-mt;null==c||c(t,Me);var It=de.right-j.x-(Oe+j.width),At=de.bottom-j.y-(De+j.height);1===fe&&(Oe=Math.round(Oe),It=Math.round(It)),1===he&&(De=Math.round(De),At=Math.round(At)),g({ready:!0,offsetX:Oe/fe,offsetY:De/he,offsetR:It/fe,offsetB:At/he,arrowX:St/fe,arrowY:xt/he,scaleX:fe,scaleY:he,align:Me})}}),w=function(){g(function(e){return(0,r.A)((0,r.A)({},e),{},{ready:!1})})};return(0,p.A)(w,[i]),(0,p.A)(function(){e||w()},[e]),[h.ready,h.offsetX,h.offsetY,h.offsetR,h.offsetB,h.arrowX,h.arrowY,h.scaleX,h.scaleY,h.align,function(){y.current+=1;var e=y.current;Promise.resolve().then(function(){y.current===e&&_()})}]}(nt,Fe,fe&&null!==_t?_t:ze,oe,se,ae,pe),It=(0,o.A)(xt,11),At=It[0],Ct=It[1],kt=It[2],Et=It[3],Tt=It[4],Pt=It[5],Mt=It[6],Ot=It[7],Dt=It[8],Rt=It[9],Nt=It[10],Ft=function(e,t,n,r){return m.useMemo(function(){var o=C(null!=n?n:t),i=C(null!=r?r:t),s=new Set(o),a=new Set(i);return e&&(s.has("hover")&&(s.delete("hover"),s.add("click")),a.has("hover")&&(a.delete("hover"),a.add("click"))),[s,a]},[e,t,n,r])}(Ee,v,_,w),Lt=(0,o.A)(Ft,2),Bt=Lt[0],$t=Lt[1],jt=Bt.has("click"),Ut=$t.has("click")||$t.has("contextMenu"),zt=(0,f.A)(function(){ft||Nt()});!function(e,t,n,r){(0,p.A)(function(){if(e&&t&&n){var o=n,i=M(t),s=M(o),a=P(o),c=new Set([a].concat((0,j.A)(i),(0,j.A)(s)));function l(){r(),ot.current&&fe&&Ut&&lt(!1)}return c.forEach(function(e){e.addEventListener("scroll",l,{passive:!0})}),a.addEventListener("resize",l,{passive:!0}),r(),function(){c.forEach(function(e){e.removeEventListener("scroll",l),a.removeEventListener("resize",l)})}}},[e,t,n])}(nt,ze,Fe,zt),(0,p.A)(function(){zt()},[_t,oe]),(0,p.A)(function(){!nt||null!=se&&se[oe]||zt()},[JSON.stringify(ae)]);var Vt=m.useMemo(function(){var e=function(e,t,n,r){for(var o=n.points,i=Object.keys(e),s=0;s<i.length;s+=1){var a,c=i[s];if(E(null===(a=e[c])||void 0===a?void 0:a.points,o,r))return"".concat(t,"-placement-").concat(c)}return""}(se,a,Rt,fe);return c()(e,null==ue?void 0:ue(Rt))},[Rt,ue,se,a,fe]);m.useImperativeHandle(n,function(){return{nativeElement:qe.current,popupElement:Be.current,forceAlign:zt}});var qt=m.useState(0),Ht=(0,o.A)(qt,2),Gt=Ht[0],Wt=Ht[1],Kt=m.useState(0),Yt=(0,o.A)(Kt,2),Jt=Yt[0],Xt=Yt[1],Zt=function(){if(le&&ze){var e=ze.getBoundingClientRect();Wt(e.width),Xt(e.height)}};function Qt(e,t,n,r){Ke[e]=function(o){var i;null==r||r(o),lt(t,n);for(var s=arguments.length,a=new Array(s>1?s-1:0),c=1;c<s;c++)a[c-1]=arguments[c];null===(i=We[e])||void 0===i||i.call.apply(i,[We,o].concat(a))}}(0,p.A)(function(){mt&&(Nt(),mt(),yt(null))},[mt]),(jt||Ut)&&(Ke.onClick=function(e){var t;ot.current&&Ut?lt(!1):!ot.current&&jt&&(St(e),lt(!0));for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];null===(t=We.onClick)||void 0===t||t.call.apply(t,[We,e].concat(r))});var en,tn,nn=function(e,t,n,r,o,i,s,a){var c=m.useRef(e);c.current=e;var l=m.useRef(!1);return m.useEffect(function(){if(t&&r&&(!o||i)){var e=function(){l.current=!1},u=function(e){var t;!c.current||s((null===(t=e.composedPath)||void 0===t||null===(t=t.call(e))||void 0===t?void 0:t[0])||e.target)||l.current||a(!1)},f=P(r);f.addEventListener("pointerdown",e,!0),f.addEventListener("mousedown",u,!0),f.addEventListener("contextmenu",u,!0);var h=(0,d.j)(n);return h&&(h.addEventListener("mousedown",u,!0),h.addEventListener("contextmenu",u,!0)),function(){f.removeEventListener("pointerdown",e,!0),f.removeEventListener("mousedown",u,!0),f.removeEventListener("contextmenu",u,!0),h&&(h.removeEventListener("mousedown",u,!0),h.removeEventListener("contextmenu",u,!0))}}},[t,n,r,o,i]),function(){l.current=!0}}(nt,Ut,ze,Fe,K,J,Ye,lt),rn=Bt.has("hover"),on=$t.has("hover");rn&&(Qt("onMouseEnter",!0,V,function(e){St(e)}),Qt("onPointerEnter",!0,V,function(e){St(e)}),en=function(e){(nt||ft)&&null!=Fe&&Fe.contains(e.target)&&lt(!0,V)},fe&&(Ke.onMouseMove=function(e){var t;null===(t=We.onMouseMove)||void 0===t||t.call(We,e)})),on&&(Qt("onMouseLeave",!1,H),Qt("onPointerLeave",!1,H),tn=function(){lt(!1,H)}),Bt.has("focus")&&Qt("onFocus",!0,G),$t.has("focus")&&Qt("onBlur",!1,W),Bt.has("contextMenu")&&(Ke.onContextMenu=function(e){var t;ot.current&&$t.has("contextMenu")?lt(!1):(St(e),lt(!0)),e.preventDefault();for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];null===(t=We.onContextMenu)||void 0===t||t.call.apply(t,[We,e].concat(r))}),Se&&(Ke.className=c()(We.className,Se));var sn=m.useRef(!1);sn.current||(sn.current=Z||nt||ft);var an=(0,r.A)((0,r.A)({},We),Ke),cn={};["onContextMenu","onClick","onMouseDown","onTouchStart","onMouseEnter","onMouseLeave","onFocus","onBlur"].forEach(function(e){Ie[e]&&(cn[e]=function(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];null===(t=an[e])||void 0===t||t.call.apply(t,[an].concat(r)),Ie[e].apply(Ie,r)})});var ln=m.cloneElement(Ge,(0,r.A)((0,r.A)({},an),cn)),un={x:Pt,y:Mt},dn=ge?(0,r.A)({},!0!==ge?ge:{}):null;return m.createElement(m.Fragment,null,m.createElement(l.A,{disabled:!nt,ref:He,onResize:function(){Zt(),zt()}},m.createElement(I,{getTriggerDOMNode:xe},ln)),sn.current&&m.createElement(A.Provider,{value:Oe},m.createElement(x,{portal:e,ref:$e,prefixCls:a,popup:te,className:c()(ne,Vt),style:re,target:ze,onMouseEnter:en,onMouseLeave:tn,onPointerEnter:en,zIndex:ce,open:nt,keepDom:ft,fresh:de,onClick:he,onPointerDownCapture:nn,mask:K,motion:Je,maskMotion:Xe,onVisibleChanged:function(e){ht(!1),Nt(),null==z||z(e)},onPrepare:function(){return new Promise(function(e){Zt(),yt(function(){return e})})},forceRender:Z,autoDestroy:Ae,getPopupContainer:X,align:Rt,arrow:dn,arrowPos:un,ready:At,offsetX:Ct,offsetY:kt,offsetR:Et,offsetB:Tt,onAlign:zt,stretch:le,targetWidth:Gt/Ot,targetHeight:Jt/Dt})))})}(s.A)},62587:(e,t,n)=>{"use strict";n.d(t,{A:()=>l});var r=n(84051),o=n(23174),i=n(60919),s=n(58554),a=n(63527),c=n(30857);const l=(e,t=!1,n=o.qZ.BlobUrl,l)=>{const u=e?s.Ih(e):void 0,d=(0,c.A)(),f=(0,a.A)(i.nIz);return(0,r.vJ)(()=>{if(!t&&e&&!u){const t=Date.now();s.hd(e,n).then(()=>{const e=Date.now()-t;!l||e>=l?d():setTimeout(d,l-e)})}},[t,e,u,n,l,f]),u}},62718:(e,t,n)=>{"use strict";n.d(t,{DY:()=>p,Ej:()=>h,He:()=>u,NH:()=>_,R2:()=>g,WL:()=>v,dL:()=>y,gz:()=>m,lc:()=>b,s2:()=>d,wi:()=>f});var r=n(25279),o=n(13439),i=n(23174),s=n(60919),a=n(81120),c=n(68144),l=n(80395);const u=e=>({role:"assistant",id:(0,r.A)(),createdAt:new Date,content:e,annotations:[{type:"room-ai-description"}]}),d=()=>({role:"assistant",id:(0,r.A)(),createdAt:new Date,content:"Please login first",annotations:[{type:"google-auth"}]}),f=()=>({role:"assistant",id:(0,r.A)(),createdAt:new Date,content:"",annotations:[{type:"google-event-insert"}]}),h=async(e,t)=>{const n=(0,l.IM)();n&&await(0,l.G6)(n)?e(f()):e(d()),t?.()},p=async(e,t,n)=>{const l=(0,o.mS)(),{autoTranslateLanguage:u="en"}=l.settings.byKey,d=(0,s.hds)(l,e),f=(0,s.ZZX)(l,e,"all")||0;if(d){const e=await(0,c.Np)({chat:d,offsetId:f,addOffset:-1,sliceSize:20,threadId:i.l3,maxCount:20}),o=(0,c.iZ)(e);if(!o.length){n?.();const e={timestamp:(new Date).getTime(),content:"No significant topics or valid data detected. We will continue monitoring.",id:(0,r.A)(),createdAt:new Date,role:"assistant"};return void t(e)}const s={summaryTime:(new Date).getTime(),messageCount:o.length,userIds:Array.from(new Set(o.map(e=>e.senderId)))};(0,a.oi)({messages:o,language:new Intl.DisplayNames([u],{type:"language"}).of(u)}).then(e=>{const o={...e.data,summaryInfo:s},i={timestamp:(new Date).getTime(),content:JSON.stringify(o),id:(0,r.A)(),createdAt:new Date,role:"assistant",annotations:[{type:"room-summary"}]};t(i),n?.()}).catch(e=>{console.log(e),n?.();const o={timestamp:(new Date).getTime(),content:"Summarization failed. Try again later.",id:(0,r.A)(),createdAt:new Date,role:"assistant"};t(o)})}},g=async(e,t,n)=>{const l=(0,o.mS)(),{autoTranslateLanguage:u}=l.settings.byKey,d=(0,s.hds)(l,e),f=(0,s.ZZX)(l,e)||0;if(d){const e=(await(0,c.Np)({chat:d,offsetId:f,addOffset:-1,sliceSize:20,threadId:i.l3,maxCount:20})).map(e=>{if(e.content.text?.text){const t=e.senderId?(0,s.mBe)(l,e.senderId):void 0;return{senderId:e?.senderId||e?.chatId,senderName:t?`${t.firstName||""} ${t.lastName||""}`:"",date:e.date,messageId:Math.floor(e.id),content:e.content.text?.text??""}}return null}).filter(Boolean);if(!e.length)return;const o={summaryTime:(new Date).getTime(),messageCount:e.length,userIds:Array.from(new Set(e.map(e=>e.senderId)))};(0,a.lF)({messages:e,language:u}).then(e=>{const i={...e.data,summaryInfo:o},s={timestamp:(new Date).getTime(),content:JSON.stringify(i),id:(0,r.A)(),createdAt:new Date,role:"assistant",annotations:[{type:"room-actions"}]};t(s),n?.()}).catch(e=>{console.log(e),n?.()})}},m=({chatId:e,startTime:t,duration:n,email:o,timeZone:i})=>({role:"assistant",id:(0,r.A)(),createdAt:new Date,content:JSON.stringify({chatId:e,startTime:t,duration:n,email:o,timeZone:i,isConfirmed:!1}),annotations:[{type:"google-meet-time-confirm"}]}),y=e=>({role:"assistant",id:(0,r.A)(),createdAt:new Date,content:JSON.stringify({...e,isConfirmed:!1}),annotations:[{type:"google-meet-mention"}]}),b=e=>({role:"assistant",id:(0,r.A)(),createdAt:new Date,content:JSON.stringify({...e,emailConfirmed:!1,calendlyConfirmed:!1}),annotations:[{type:"google-meet-information-suggest"}]}),v=(e="Comming soon!")=>({role:"assistant",id:(0,r.A)(),createdAt:new Date,content:e,annotations:[{type:"new-feature-reminder"}]}),_=()=>({role:"assistant",id:(0,r.A)(),createdAt:new Date,content:"Upgrade to Room AI Pro to unlock more features.",annotations:[{type:"upgrade-tip"}]})},62897:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(96540),o=n(94241),i=n(76327);const s=e=>{const{space:t,form:n,children:s}=e;if(null==s)return null;let a=s;return n&&(a=r.createElement(o.XB,{override:!0,status:!0},a)),t&&(a=r.createElement(i.K6,null,a)),a}},63009:function(e,t,n){var r;e.exports=(r=n(19021),function(e){var t=r,n=t.lib,o=n.WordArray,i=n.Hasher,s=t.algo,a=[],c=[];!function(){function t(t){for(var n=e.sqrt(t),r=2;r<=n;r++)if(!(t%r))return!1;return!0}function n(e){return 4294967296*(e-(0|e))|0}for(var r=2,o=0;o<64;)t(r)&&(o<8&&(a[o]=n(e.pow(r,.5))),c[o]=n(e.pow(r,1/3)),o++),r++}();var l=[],u=s.SHA256=i.extend({_doReset:function(){this._hash=new o.init(a.slice(0))},_doProcessBlock:function(e,t){for(var n=this._hash.words,r=n[0],o=n[1],i=n[2],s=n[3],a=n[4],u=n[5],d=n[6],f=n[7],h=0;h<64;h++){if(h<16)l[h]=0|e[t+h];else{var p=l[h-15],g=(p<<25|p>>>7)^(p<<14|p>>>18)^p>>>3,m=l[h-2],y=(m<<15|m>>>17)^(m<<13|m>>>19)^m>>>10;l[h]=g+l[h-7]+y+l[h-16]}var b=r&o^r&i^o&i,v=(r<<30|r>>>2)^(r<<19|r>>>13)^(r<<10|r>>>22),_=f+((a<<26|a>>>6)^(a<<21|a>>>11)^(a<<7|a>>>25))+(a&u^~a&d)+c[h]+l[h];f=d,d=u,u=a,a=s+_|0,s=i,i=o,o=r,r=_+(v+b)|0}n[0]=n[0]+r|0,n[1]=n[1]+o|0,n[2]=n[2]+i|0,n[3]=n[3]+s|0,n[4]=n[4]+a|0,n[5]=n[5]+u|0,n[6]=n[6]+d|0,n[7]=n[7]+f|0},_doFinalize:function(){var t=this._data,n=t.words,r=8*this._nDataBytes,o=8*t.sigBytes;return n[o>>>5]|=128<<24-o%32,n[14+(o+64>>>9<<4)]=e.floor(r/4294967296),n[15+(o+64>>>9<<4)]=r,t.sigBytes=4*n.length,this._process(),this._hash},clone:function(){var e=i.clone.call(this);return e._hash=this._hash.clone(),e}});t.SHA256=i._createHelper(u),t.HmacSHA256=i._createHmacHelper(u)}(Math),r.SHA256)},63495:(e,t,n)=>{"use strict";n.d(t,{G9:()=>s,Ld:()=>o,fM:()=>i,vM:()=>r});const r="SharedWorker"in globalThis,o="ListFormat"in Intl,i="host"!==new URL("tg://host").host,s="VideoDecoder"in globalThis},63527:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(19129),o=n(98255);function i(e){const t=(0,o.A)(e);return(0,r.A)(t)}},63662:(e,t,n)=>{"use strict";function r(e,t){return r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},r(e,t)}n.d(t,{A:()=>r})},64467:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(20816);function o(e,t,n){return(t=(0,r.A)(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},64493:(e,t,n)=>{"use strict";n.d(t,{A:()=>f});var r=n(84051),o=n(96454),i=n(87357),s=n(95807),a=n(17712),c=n(59030),l=n(85118),u=n(42452),d=n(57474);const f=({ref:e,type:t="button",id:n,onClick:f,onContextMenu:h,onMouseDown:p,onMouseUp:g,onMouseEnter:m,onMouseLeave:y,onFocus:b,children:v,size:_="default",color:w="primary",backgroundImage:S,className:x,round:I,pill:A,badge:C,fluid:k,isText:E,isLoading:T,isShiny:P,withPremiumGradient:M,withSparkleEffect:O,onTransitionEnd:D,ariaLabel:R,ariaControls:N,hasPopup:F,href:L,download:B,disabled:$,nonInteractive:j,allowDisabledClick:U,noFastClick:z="danger"===w,ripple:V,faded:q,tabIndex:H,isRtl:G,isRectangular:W,noPreventDefault:K,shouldStopPropagation:Y,noForcedUpperCase:J,style:X})=>{let Z=(0,r.li)();e&&(Z=e);const Q=(0,c.A)(),[ee,te]=(0,r.J0)(!1),ne=$||j,re=(0,i.A)("Button",x,_,w,I&&"round",A&&"pill",k&&"fluid",C&&"badge",ne&&"disabled",j&&"non-interactive",U&&"click-allowed",E&&"text",T&&"loading",V&&"has-ripple",q&&"faded",ee&&"clicked",S&&"with-image",P&&"shiny",M&&"premium",W&&"rectangular",J&&"no-upper-case"),oe=(0,a.A)(e=>{!U&&ne||!f||f(e),Y&&e.stopPropagation(),te(!0),setTimeout(()=>{te(!1)},400)}),ie=(0,a.A)(e=>{K||e.preventDefault(),!U&&ne||!p||p(e),o.TF||e.button!==o.w3.Main||z||oe(e)}),se=r.Ay.createElement(r.Ay.Fragment,null,O&&r.Ay.createElement(l.A,{preset:"button"}),T?r.Ay.createElement("div",null,r.Ay.createElement("span",{dir:G?"auto":void 0},Q("Cache.ClearProgress")),r.Ay.createElement(d.A,{color:E?"blue":"white"})):v,!ne&&V&&r.Ay.createElement(u.A,null));return L?r.Ay.createElement("a",{ref:Z,id:n,className:re,href:L,title:R,download:B,tabIndex:H,dir:G?"rtl":void 0,"aria-label":R,"aria-controls":N,style:X,onTransitionEnd:D,target:"_blank",rel:"noreferrer"},se):r.Ay.createElement("button",{ref:Z,id:n,type:t,className:re,onClick:o.TF||z?oe:void 0,onContextMenu:h,onMouseDown:ie,onMouseUp:g,onMouseEnter:m&&!ne?m:void 0,onMouseLeave:y&&!ne?y:void 0,onTransitionEnd:D,onFocus:b&&!ne?b:void 0,"aria-label":R,"aria-controls":N,"aria-haspopup":F,title:R,tabIndex:H,dir:G?"rtl":void 0,style:(0,s.A)(X,S&&`background-image: url(${S})`)||void 0},se)}},64520:(e,t,n)=>{"use strict";n.d(t,{B:()=>s,d:()=>i});var r=n(31481),o=n(19926);function i(e,t){const{appConfig:n}=e;if(!n)return r.dR$[t][0];const i=(0,o.g2)(e),{limits:s}=n,a=s[t]?.[i?1:0]??r.dR$[t][i?1:0];return"dialogFilters"===t?a+1:a}function s(e,t){const{appConfig:n}=e;if(!n)return r.dR$[t][1];const{limits:o}=n;return o[t][1]}},64713:(e,t,n)=>{"use strict";n.d(t,{Ox:()=>c,gH:()=>i,n4:()=>a,oL:()=>s});const r="X",o="XXX XXX XXX XXX";function i(e,t){return e.find(e=>e.iso2===t)}function s(e,t=""){let n=t.replace(/[^\d+]+/g,"");n.startsWith("+")&&(n=n.substr(1));const r=e.filter(e=>n.startsWith(e.countryCode)).map(e=>(e.prefixes||[""]).map(t=>({code:`${e.countryCode}${t}`,country:e}))).flat().filter(({code:e})=>n.startsWith(e)).sort((e,t)=>e.code.length-t.code.length);return r[r.length-1]?.country}function a(e,t){if(!e)return"";let n=e.replace(/[^\d]+/g,"");if(t)n=n.substr(t.countryCode.length);else if(e.startsWith("+"))return e;const i=function(e,t){if(!t||0===t.length)return o;if(1===t.length)return t[0];const n=t.find(e=>e.startsWith(r))||o,i=t.filter(t=>{const n=t.replace(/[^\dX]+/g,"");if(n.startsWith(r))return!1;for(let t=0;t<e.length;t++)if(t>n.length-1||n[t]!==r&&n[t]!==e[t])return!1;return!0});return 1===i.length?i[0]:n}(n,t?.patterns),s=[];let a=0;for(let e=0;e<n.length;e++){for(;i[a]!==r&&a<i.length&&(s.push(i[a]),i[a]!==n[e]||(e++,e!==n.length));)a++;s.push(n[e]),a++}return s.join("")}function c(e,t){if(!t)return"";const n=t.startsWith("+")?t:`+${t}`,r=s(e,n);return r?`+${r.countryCode} ${a(n,r)}`:n}},64725:function(e,t,n){var r,o,i;e.exports=(r=n(19021),i=(o=r).lib.WordArray,o.enc.Base64url={stringify:function(e,t){void 0===t&&(t=!0);var n=e.words,r=e.sigBytes,o=t?this._safe_map:this._map;e.clamp();for(var i=[],s=0;s<r;s+=3)for(var a=(n[s>>>2]>>>24-s%4*8&255)<<16|(n[s+1>>>2]>>>24-(s+1)%4*8&255)<<8|n[s+2>>>2]>>>24-(s+2)%4*8&255,c=0;c<4&&s+.75*c<r;c++)i.push(o.charAt(a>>>6*(3-c)&63));var l=o.charAt(64);if(l)for(;i.length%4;)i.push(l);return i.join("")},parse:function(e,t){void 0===t&&(t=!0);var n=e.length,r=t?this._safe_map:this._map,o=this._reverseMap;if(!o){o=this._reverseMap=[];for(var s=0;s<r.length;s++)o[r.charCodeAt(s)]=s}var a=r.charAt(64);if(a){var c=e.indexOf(a);-1!==c&&(n=c)}return function(e,t,n){for(var r=[],o=0,s=0;s<t;s++)if(s%4){var a=n[e.charCodeAt(s-1)]<<s%4*2|n[e.charCodeAt(s)]>>>6-s%4*2;r[o>>>2]|=a<<24-o%4*8,o++}return i.create(r,o)}(e,n,o)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_safe_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"},r.enc.Base64url)},65341:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r={placeholder:"Select time",rangePlaceholder:["Start time","End time"]}},65843:(e,t,n)=>{"use strict";n.d(t,{A:()=>p});var r=n(84051),o=n(71533),i=n(17712),s=n(35297),a=n(73622),c=n(66644),l=n(84080),u=n(34780),d=n(61157);function f(){return(0,r.OV)()||(0,u.c_)()||(0,d.g1)()}function h(){return h=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},h.apply(null,arguments)}const p=(0,r.ph)(function({ref:e,isPriority:t,canPlay:n,children:p,onReady:g,onBroken:m,onTimeUpdate:y,...b}){const v=(0,r.li)();e||(e=v);const{handlePlaying:_}=function(e,t,n){const o=(0,r.li)();o.current=t;const{play:s,pause:a}=function(e){const t=(0,r.li)(!1),n=(0,r.li)(!1);return{play:(0,i.A)(()=>{t.current=!1,e.current&&!n.current&&document.body.contains(e.current)&&(n.current=!0,e.current.play().then(()=>{n.current=!1,t.current&&(e.current?.pause(),t.current=!1)}).catch(e=>{console.warn(e)}))}),pause:(0,i.A)(()=>{n.current?t.current=!0:e.current?.pause()})}}(e),h=(0,i.A)(()=>{!o.current||!n&&f()||s()}),p=(0,i.A)(()=>{(0,c.YS)(h)});(0,d.Ay)(a,p,!t||n),(0,l.Ay)(a,h,!t||n),(0,u.Ay)(a,h,!t||n);const g=(0,i.A)(()=>{(!o.current||!n&&f())&&a()});return(0,r.vJ)(()=>{t?!n&&f()||s():a()},[t,s,a,n]),{handlePlaying:g}}(e,n,t),w=(0,r.li)(!1),S=(0,i.A)(()=>{w.current||(g?.(),w.current=!0)}),{isBuffered:x,bufferingHandlers:I}=(0,o.A)(!0,y,m),{onPlaying:A,...C}=I;(0,s.A)(([e])=>{void 0!==e&&S()},[x,S]);const k=(0,i.A)(e=>{_(),A(e),S(),b.onPlaying?.(e)}),E=(0,r.Kr)(()=>{const e={};return Object.keys(C).forEach(t=>{const n=t;e[n]=e=>{b[n]?.(e),C[n]?.(e)}}),e},[C,b]);return(0,a.A)(e,E),r.Ay.createElement("video",h({ref:e,autoPlay:!0},b,E,{onPlaying:k}),p)})},66230:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(84051),o=n(35297);const i=(e,t)=>{const n=(0,r.li)();return(0,o.A)(()=>{const r=n.current;return n.current=t,e(r||[])},t)}},66414:(e,t,n)=>{"use strict";n.d(t,{az:()=>d,cA:()=>m,dk:()=>h,f4:()=>p,fY:()=>g,lD:()=>l,vO:()=>u,xV:()=>f});var r=n(23174),o=n(31481);let i,s,a=!1,c=window.location.hash;function l(){a=!1,s=void 0,i=void 0,c=""}function u(){window.location.hash=""}const d=(e,t,n)=>{const o="thread"===t?void 0:t;return(n===r.l3?[e,o]:[e,n,o]).filter(Boolean).join("_")};function f(e){if(p(),!s)return;const t=s.split("_");let n,o,i;if(1===t.length)n=t[0];else if(2===t.length){const e=["thread","pinned","scheduled"].includes(t[1]);n=t[0],o=e?t[1]:"thread",i=e?void 0:t[1]}else t.length>=3&&([n,i,o]=t);if(!n?.match(/^-?\d+$/))return;const a=["thread","pinned","scheduled"].includes(o);return{chatId:n,type:o&&a?o:"thread",threadId:(n===e?i:Number(i))||r.l3}}const h=(e,t,n)=>{const r=new URL(window.location.href);return r.hash=d(e,t,n),r.href};function p(){if(i)return i;if(a)return;const e=m();if(!e)return;let t=e.replace(/^#/,"");return t.includes("?")?([s,t]=t.split("?"),o.fng||(window.location.hash=s)):t.includes("=")&&(o.fng||(window.location.hash="")),i=t.includes("=")?t.split("&").reduce((e,t)=>{const[n,r]=t.split("=");return e[n]=r,e},{}):void 0,a=!0,i||(s=t),i}function g(){i&&delete i.tgWebAuthToken}function m(){return c}},66550:(e,t,n)=>{"use strict";n.d(t,{A:()=>ct});var r=n(60436),o=n(96540),i=n(62279),s=n(39875),a=n(74642),c=n(38811),l=n(36029),u=n(7541),d=n(17850),f=n(46942),h=n.n(f),p=n(60275),g=n(23723),m=n(19155),y=n(11320),b=n(1233),v=n(21468),_=n(39449);function w(e){return!!(null==e?void 0:e.then)}const S=e=>{const{type:t,children:n,prefixCls:r,buttonProps:i,close:s,autoFocus:a,emitEvent:c,isSilent:l,quitOnNullishReturnValue:u,actionFn:d}=e,f=o.useRef(!1),h=o.useRef(null),[p,g]=(0,b.A)(!1),m=(...e)=>{null==s||s.apply(void 0,e)};return o.useEffect(()=>{let e=null;return a&&(e=setTimeout(()=>{var e;null===(e=h.current)||void 0===e||e.focus({preventScroll:!0})})),()=>{e&&clearTimeout(e)}},[]),o.createElement(v.Ay,Object.assign({},(0,_.DU)(t),{onClick:e=>{if(f.current)return;if(f.current=!0,!d)return void m();let t;if(c){if(t=d(e),u&&!w(t))return f.current=!1,void m(e)}else if(d.length)t=d(s),f.current=!1;else if(t=d(),!w(t))return void m();(e=>{w(e)&&(g(!0),e.then((...e)=>{g(!1,!0),m.apply(void 0,e),f.current=!1},e=>{if(g(!1,!0),f.current=!1,!(null==l?void 0:l()))return Promise.reject(e)}))})(t)},loading:p,prefixCls:r},i,{ref:h}),n)},x=o.createContext({}),{Provider:I}=x,A=()=>{const{autoFocusButton:e,cancelButtonProps:t,cancelTextLocale:n,isSilent:r,mergedOkCancel:i,rootPrefixCls:s,close:a,onCancel:c,onConfirm:l}=(0,o.useContext)(x);return i?o.createElement(S,{isSilent:r,actionFn:c,close:(...e)=>{null==a||a.apply(void 0,e),null==l||l(!1)},autoFocus:"cancel"===e,buttonProps:t,prefixCls:`${s}-btn`},n):null},C=()=>{const{autoFocusButton:e,close:t,isSilent:n,okButtonProps:r,rootPrefixCls:i,okTextLocale:s,okType:a,onConfirm:c,onOk:l}=(0,o.useContext)(x);return o.createElement(S,{isSilent:n,type:a||"primary",actionFn:l,close:(...e)=>{null==t||t.apply(void 0,e),null==c||c(!0)},autoFocus:"ok"===e,buttonProps:r,prefixCls:`${i}-btn`},s)};var k=n(47852),E=n(58168),T=n(5544),P=n(45062),M=o.createContext({}),O=n(89379),D=n(54808),R=n(56855),N=n(16928),F=n(72065);function L(e,t,n){var r=t;return!r&&n&&(r="".concat(e,"-").concat(n)),r}function B(e,t){var n=e["page".concat(t?"Y":"X","Offset")],r="scroll".concat(t?"Top":"Left");if("number"!=typeof n){var o=e.document;"number"!=typeof(n=o.documentElement[r])&&(n=o.body[r])}return n}var $=n(90754),j=n(82284),U=n(8719);const z=o.memo(function(e){return e.children},function(e,t){return!t.shouldUpdate});var V={width:0,height:0,overflow:"hidden",outline:"none"},q={outline:"none"},H=o.forwardRef(function(e,t){var n=e.prefixCls,r=e.className,i=e.style,s=e.title,a=e.ariaId,c=e.footer,l=e.closable,u=e.closeIcon,d=e.onClose,f=e.children,p=e.bodyStyle,g=e.bodyProps,m=e.modalRender,y=e.onMouseDown,b=e.onMouseUp,v=e.holderRef,_=e.visible,w=e.forceRender,S=e.width,x=e.height,I=e.classNames,A=e.styles,C=o.useContext(M).panel,k=(0,U.xK)(v,C),T=(0,o.useRef)(),P=(0,o.useRef)();o.useImperativeHandle(t,function(){return{focus:function(){var e;null===(e=T.current)||void 0===e||e.focus({preventScroll:!0})},changeActive:function(e){var t=document.activeElement;e&&t===P.current?T.current.focus({preventScroll:!0}):e||t!==T.current||P.current.focus({preventScroll:!0})}}});var D={};void 0!==S&&(D.width=S),void 0!==x&&(D.height=x);var R=c?o.createElement("div",{className:h()("".concat(n,"-footer"),null==I?void 0:I.footer),style:(0,O.A)({},null==A?void 0:A.footer)},c):null,N=s?o.createElement("div",{className:h()("".concat(n,"-header"),null==I?void 0:I.header),style:(0,O.A)({},null==A?void 0:A.header)},o.createElement("div",{className:"".concat(n,"-title"),id:a},s)):null,L=(0,o.useMemo)(function(){return"object"===(0,j.A)(l)&&null!==l?l:l?{closeIcon:null!=u?u:o.createElement("span",{className:"".concat(n,"-close-x")})}:{}},[l,u,n]),B=(0,F.A)(L,!0),$="object"===(0,j.A)(l)&&l.disabled,H=l?o.createElement("button",(0,E.A)({type:"button",onClick:d,"aria-label":"Close"},B,{className:"".concat(n,"-close"),disabled:$}),L.closeIcon):null,G=o.createElement("div",{className:h()("".concat(n,"-content"),null==I?void 0:I.content),style:null==A?void 0:A.content},H,N,o.createElement("div",(0,E.A)({className:h()("".concat(n,"-body"),null==I?void 0:I.body),style:(0,O.A)((0,O.A)({},p),null==A?void 0:A.body)},g),f),R);return o.createElement("div",{key:"dialog-element",role:"dialog","aria-labelledby":s?a:null,"aria-modal":"true",ref:k,style:(0,O.A)((0,O.A)({},i),D),className:h()(n,r),onMouseDown:y,onMouseUp:b},o.createElement("div",{ref:T,tabIndex:0,style:q},o.createElement(z,{shouldUpdate:_||w},m?m(G):G)),o.createElement("div",{tabIndex:0,ref:P,style:V}))});const G=H;var W=o.forwardRef(function(e,t){var n=e.prefixCls,r=e.title,i=e.style,s=e.className,a=e.visible,c=e.forceRender,l=e.destroyOnClose,u=e.motionName,d=e.ariaId,f=e.onVisibleChanged,p=e.mousePosition,g=(0,o.useRef)(),m=o.useState(),y=(0,T.A)(m,2),b=y[0],v=y[1],_={};function w(){var e,t,n,r,o,i=(n={left:(t=(e=g.current).getBoundingClientRect()).left,top:t.top},o=(r=e.ownerDocument).defaultView||r.parentWindow,n.left+=B(o),n.top+=B(o,!0),n);v(p&&(p.x||p.y)?"".concat(p.x-i.left,"px ").concat(p.y-i.top,"px"):"")}return b&&(_.transformOrigin=b),o.createElement($.Ay,{visible:a,onVisibleChanged:f,onAppearPrepare:w,onEnterPrepare:w,forceRender:c,motionName:u,removeOnLeave:l,ref:g},function(a,c){var l=a.className,u=a.style;return o.createElement(G,(0,E.A)({},e,{ref:t,title:r,ariaId:d,prefixCls:n,holderRef:c,style:(0,O.A)((0,O.A)((0,O.A)({},u),i),_),className:h()(s,l)}))})});W.displayName="Content";const K=W,Y=function(e){var t=e.prefixCls,n=e.style,r=e.visible,i=e.maskProps,s=e.motionName,a=e.className;return o.createElement($.Ay,{key:"mask",visible:r,motionName:s,leavedClassName:"".concat(t,"-mask-hidden")},function(e,r){var s=e.className,c=e.style;return o.createElement("div",(0,E.A)({ref:r,style:(0,O.A)((0,O.A)({},c),n),className:h()("".concat(t,"-mask"),s,a)},i))})};n(68210);const J=function(e){var t=e.prefixCls,n=void 0===t?"rc-dialog":t,r=e.zIndex,i=e.visible,s=void 0!==i&&i,a=e.keyboard,c=void 0===a||a,l=e.focusTriggerAfterClose,u=void 0===l||l,d=e.wrapStyle,f=e.wrapClassName,p=e.wrapProps,g=e.onClose,m=e.afterOpenChange,y=e.afterClose,b=e.transitionName,v=e.animation,_=e.closable,w=void 0===_||_,S=e.mask,x=void 0===S||S,I=e.maskTransitionName,A=e.maskAnimation,C=e.maskClosable,k=void 0===C||C,P=e.maskStyle,M=e.maskProps,B=e.rootClassName,$=e.classNames,j=e.styles,U=(0,o.useRef)(),z=(0,o.useRef)(),V=(0,o.useRef)(),q=o.useState(s),H=(0,T.A)(q,2),G=H[0],W=H[1],J=(0,R.A)();function X(e){null==g||g(e)}var Z=(0,o.useRef)(!1),Q=(0,o.useRef)(),ee=null;k&&(ee=function(e){Z.current?Z.current=!1:z.current===e.target&&X(e)}),(0,o.useEffect)(function(){s&&(W(!0),(0,D.A)(z.current,document.activeElement)||(U.current=document.activeElement))},[s]),(0,o.useEffect)(function(){return function(){clearTimeout(Q.current)}},[]);var te=(0,O.A)((0,O.A)((0,O.A)({zIndex:r},d),null==j?void 0:j.wrapper),{},{display:G?null:"none"});return o.createElement("div",(0,E.A)({className:h()("".concat(n,"-root"),B)},(0,F.A)(e,{data:!0})),o.createElement(Y,{prefixCls:n,visible:x&&s,motionName:L(n,I,A),style:(0,O.A)((0,O.A)({zIndex:r},P),null==j?void 0:j.mask),maskProps:M,className:null==$?void 0:$.mask}),o.createElement("div",(0,E.A)({tabIndex:-1,onKeyDown:function(e){if(c&&e.keyCode===N.A.ESC)return e.stopPropagation(),void X(e);s&&e.keyCode===N.A.TAB&&V.current.changeActive(!e.shiftKey)},className:h()("".concat(n,"-wrap"),f,null==$?void 0:$.wrapper),ref:z,onClick:ee,style:te},p),o.createElement(K,(0,E.A)({},e,{onMouseDown:function(){clearTimeout(Q.current),Z.current=!0},onMouseUp:function(){Q.current=setTimeout(function(){Z.current=!1})},ref:V,closable:w,ariaId:J,prefixCls:n,visible:s&&G,onClose:X,onVisibleChanged:function(e){if(e)(0,D.A)(z.current,document.activeElement)||null===(t=V.current)||void 0===t||t.focus();else{if(W(!1),x&&U.current&&u){try{U.current.focus({preventScroll:!0})}catch(e){}U.current=null}G&&(null==y||y())}var t;null==m||m(e)},motionName:L(n,b,v)}))))};var X=function(e){var t=e.visible,n=e.getContainer,r=e.forceRender,i=e.destroyOnClose,s=void 0!==i&&i,a=e.afterClose,c=e.panelRef,l=o.useState(t),u=(0,T.A)(l,2),d=u[0],f=u[1],h=o.useMemo(function(){return{panel:c}},[c]);return o.useEffect(function(){t&&f(!0)},[t]),r||!s||d?o.createElement(M.Provider,{value:h},o.createElement(P.A,{open:t||r||d,autoDestroy:!1,getContainer:n,autoLock:t||d},o.createElement(J,(0,E.A)({},e,{destroyOnClose:s,afterClose:function(){null==a||a(),f(!1)}})))):null};X.displayName="Dialog";const Z=X;var Q=n(62897),ee=n(83480),te=n(51679);function ne(e){if(!e)return;const{closable:t,closeIcon:n}=e;return{closable:t,closeIcon:n}}function re(e){const{closable:t,closeIcon:n}=e||{};return o.useMemo(()=>{if(!t&&(!1===t||!1===n||null===n))return!1;if(void 0===t&&void 0===n)return null;let e={closeIcon:"boolean"!=typeof n&&null!==n?n:void 0};return t&&"object"==typeof t&&(e=Object.assign(Object.assign({},e),t)),e},[t,n])}const oe={};var ie=n(20998),se=n(72616),ae=n(20934),ce=n(97072),le=n(26956);function ue(){}const de=o.createContext({add:ue,remove:ue});var fe=n(98119);const he=()=>{const{cancelButtonProps:e,cancelTextLocale:t,onCancel:n}=(0,o.useContext)(x);return o.createElement(v.Ay,Object.assign({onClick:n},e),t)},pe=()=>{const{confirmLoading:e,okButtonProps:t,okType:n,okTextLocale:r,onOk:i}=(0,o.useContext)(x);return o.createElement(v.Ay,Object.assign({},(0,_.DU)(n),{loading:e,onClick:i},t),r)};var ge=n(21815);function me(e,t){return o.createElement("span",{className:`${e}-close-x`},t||o.createElement(k.A,{className:`${e}-close-icon`}))}const ye=e=>{const{okText:t,okType:n="primary",cancelText:i,confirmLoading:s,onOk:a,onCancel:c,okButtonProps:l,cancelButtonProps:u,footer:d}=e,[f]=(0,m.A)("Modal",(0,ge.l)()),h={confirmLoading:s,okButtonProps:l,cancelButtonProps:u,okTextLocale:t||(null==f?void 0:f.okText),cancelTextLocale:i||(null==f?void 0:f.cancelText),okType:n,onOk:a,onCancel:c},p=o.useMemo(()=>h,(0,r.A)(Object.values(h)));let g;return"function"==typeof d||void 0===d?(g=o.createElement(o.Fragment,null,o.createElement(he,null),o.createElement(pe,null)),"function"==typeof d&&(g=d(g,{OkBtn:pe,CancelBtn:he})),g=o.createElement(I,{value:p},g)):g=d,o.createElement(fe.X,{disabled:!1},g)};var be=n(52187),ve=n(37358),_e=n(14277);const we=e=>{const{componentCls:t}=e;return{[t]:{position:"relative",maxWidth:"100%",minHeight:1}}},Se=(e,t)=>((e,t)=>{const{prefixCls:n,componentCls:r,gridColumns:o}=e,i={};for(let e=o;e>=0;e--)0===e?(i[`${r}${t}-${e}`]={display:"none"},i[`${r}-push-${e}`]={insetInlineStart:"auto"},i[`${r}-pull-${e}`]={insetInlineEnd:"auto"},i[`${r}${t}-push-${e}`]={insetInlineStart:"auto"},i[`${r}${t}-pull-${e}`]={insetInlineEnd:"auto"},i[`${r}${t}-offset-${e}`]={marginInlineStart:0},i[`${r}${t}-order-${e}`]={order:0}):(i[`${r}${t}-${e}`]=[{"--ant-display":"block",display:"block"},{display:"var(--ant-display)",flex:`0 0 ${e/o*100}%`,maxWidth:e/o*100+"%"}],i[`${r}${t}-push-${e}`]={insetInlineStart:e/o*100+"%"},i[`${r}${t}-pull-${e}`]={insetInlineEnd:e/o*100+"%"},i[`${r}${t}-offset-${e}`]={marginInlineStart:e/o*100+"%"},i[`${r}${t}-order-${e}`]={order:e});return i[`${r}${t}-flex`]={flex:`var(--${n}${t}-flex)`},i})(e,t),xe=((0,ve.OF)("Grid",e=>{const{componentCls:t}=e;return{[t]:{display:"flex",flexFlow:"row wrap",minWidth:0,"&::before, &::after":{display:"flex"},"&-no-wrap":{flexWrap:"nowrap"},"&-start":{justifyContent:"flex-start"},"&-center":{justifyContent:"center"},"&-end":{justifyContent:"flex-end"},"&-space-between":{justifyContent:"space-between"},"&-space-around":{justifyContent:"space-around"},"&-space-evenly":{justifyContent:"space-evenly"},"&-top":{alignItems:"flex-start"},"&-middle":{alignItems:"center"},"&-bottom":{alignItems:"flex-end"}}}},()=>({})),e=>({xs:e.screenXSMin,sm:e.screenSMMin,md:e.screenMDMin,lg:e.screenLGMin,xl:e.screenXLMin,xxl:e.screenXXLMin}));(0,ve.OF)("Grid",e=>{const t=(0,_e.oX)(e,{gridColumns:24}),n=xe(t);return delete n.xs,[we(t),Se(t,""),Se(t,"-xs"),Object.keys(n).map(e=>((e,t,n)=>({[`@media (min-width: ${(0,be.zA)(t)})`]:Object.assign({},Se(e,n))}))(t,n[e],`-${e}`)).reduce((e,t)=>Object.assign(Object.assign({},e),t),{})]},()=>({}));var Ie=n(25905),Ae=n(14980);const Ce=new be.Mo("antFadeIn",{"0%":{opacity:0},"100%":{opacity:1}}),ke=new be.Mo("antFadeOut",{"0%":{opacity:1},"100%":{opacity:0}}),Ee=(e,t=!1)=>{const{antCls:n}=e,r=`${n}-fade`,o=t?"&":"";return[(0,Ae.b)(r,Ce,ke,e.motionDurationMid,t),{[`\n        ${o}${r}-enter,\n        ${o}${r}-appear\n      `]:{opacity:0,animationTimingFunction:"linear"},[`${o}${r}-leave`]:{animationTimingFunction:"linear"}}]};var Te=n(99077);function Pe(e){return{position:e,inset:0}}const Me=e=>{const{componentCls:t,antCls:n}=e;return[{[`${t}-root`]:{[`${t}${n}-zoom-enter, ${t}${n}-zoom-appear`]:{transform:"none",opacity:0,animationDuration:e.motionDurationSlow,userSelect:"none"},[`${t}${n}-zoom-leave ${t}-content`]:{pointerEvents:"none"},[`${t}-mask`]:Object.assign(Object.assign({},Pe("fixed")),{zIndex:e.zIndexPopupBase,height:"100%",backgroundColor:e.colorBgMask,pointerEvents:"none",[`${t}-hidden`]:{display:"none"}}),[`${t}-wrap`]:Object.assign(Object.assign({},Pe("fixed")),{zIndex:e.zIndexPopupBase,overflow:"auto",outline:0,WebkitOverflowScrolling:"touch"})}},{[`${t}-root`]:Ee(e)}]},Oe=e=>{const{componentCls:t}=e;return[{[`${t}-root`]:{[`${t}-wrap-rtl`]:{direction:"rtl"},[`${t}-centered`]:{textAlign:"center","&::before":{display:"inline-block",width:0,height:"100%",verticalAlign:"middle",content:'""'},[t]:{top:0,display:"inline-block",paddingBottom:0,textAlign:"start",verticalAlign:"middle"}},[`@media (max-width: ${e.screenSMMax}px)`]:{[t]:{maxWidth:"calc(100vw - 16px)",margin:`${(0,be.zA)(e.marginXS)} auto`},[`${t}-centered`]:{[t]:{flex:1}}}}},{[t]:Object.assign(Object.assign({},(0,Ie.dF)(e)),{pointerEvents:"none",position:"relative",top:100,width:"auto",maxWidth:`calc(100vw - ${(0,be.zA)(e.calc(e.margin).mul(2).equal())})`,margin:"0 auto",paddingBottom:e.paddingLG,[`${t}-title`]:{margin:0,color:e.titleColor,fontWeight:e.fontWeightStrong,fontSize:e.titleFontSize,lineHeight:e.titleLineHeight,wordWrap:"break-word"},[`${t}-content`]:{position:"relative",backgroundColor:e.contentBg,backgroundClip:"padding-box",border:0,borderRadius:e.borderRadiusLG,boxShadow:e.boxShadow,pointerEvents:"auto",padding:e.contentPadding},[`${t}-close`]:Object.assign({position:"absolute",top:e.calc(e.modalHeaderHeight).sub(e.modalCloseBtnSize).div(2).equal(),insetInlineEnd:e.calc(e.modalHeaderHeight).sub(e.modalCloseBtnSize).div(2).equal(),zIndex:e.calc(e.zIndexPopupBase).add(10).equal(),padding:0,color:e.modalCloseIconColor,fontWeight:e.fontWeightStrong,lineHeight:1,textDecoration:"none",background:"transparent",borderRadius:e.borderRadiusSM,width:e.modalCloseBtnSize,height:e.modalCloseBtnSize,border:0,outline:0,cursor:"pointer",transition:`color ${e.motionDurationMid}, background-color ${e.motionDurationMid}`,"&-x":{display:"flex",fontSize:e.fontSizeLG,fontStyle:"normal",lineHeight:(0,be.zA)(e.modalCloseBtnSize),justifyContent:"center",textTransform:"none",textRendering:"auto"},"&:disabled":{pointerEvents:"none"},"&:hover":{color:e.modalCloseIconHoverColor,backgroundColor:e.colorBgTextHover,textDecoration:"none"},"&:active":{backgroundColor:e.colorBgTextActive}},(0,Ie.K8)(e)),[`${t}-header`]:{color:e.colorText,background:e.headerBg,borderRadius:`${(0,be.zA)(e.borderRadiusLG)} ${(0,be.zA)(e.borderRadiusLG)} 0 0`,marginBottom:e.headerMarginBottom,padding:e.headerPadding,borderBottom:e.headerBorderBottom},[`${t}-body`]:{fontSize:e.fontSize,lineHeight:e.lineHeight,wordWrap:"break-word",padding:e.bodyPadding,[`${t}-body-skeleton`]:{width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center",margin:`${(0,be.zA)(e.margin)} auto`}},[`${t}-footer`]:{textAlign:"end",background:e.footerBg,marginTop:e.footerMarginTop,padding:e.footerPadding,borderTop:e.footerBorderTop,borderRadius:e.footerBorderRadius,[`> ${e.antCls}-btn + ${e.antCls}-btn`]:{marginInlineStart:e.marginXS}},[`${t}-open`]:{overflow:"hidden"}})},{[`${t}-pure-panel`]:{top:"auto",padding:0,display:"flex",flexDirection:"column",[`${t}-content,\n          ${t}-body,\n          ${t}-confirm-body-wrapper`]:{display:"flex",flexDirection:"column",flex:"auto"},[`${t}-confirm-body`]:{marginBottom:"auto"}}}]},De=e=>{const{componentCls:t}=e;return{[`${t}-root`]:{[`${t}-wrap-rtl`]:{direction:"rtl",[`${t}-confirm-body`]:{direction:"rtl"}}}}},Re=e=>{const{componentCls:t}=e,n=xe(e),o=Object.assign({},n);delete o.xs;const i=`--${t.replace(".","")}-`,s=Object.keys(o).map(e=>({[`@media (min-width: ${(0,be.zA)(o[e])})`]:{width:`var(${i}${e}-width)`}}));return{[`${t}-root`]:{[t]:[].concat((0,r.A)(Object.keys(n).map((e,t)=>{const r=Object.keys(n)[t-1];return r?{[`${i}${e}-width`]:`var(${i}${r}-width)`}:null})),[{width:`var(${i}xs-width)`}],(0,r.A)(s))}}},Ne=e=>{const t=e.padding,n=e.fontSizeHeading5,r=e.lineHeightHeading5;return(0,_e.oX)(e,{modalHeaderHeight:e.calc(e.calc(r).mul(n).equal()).add(e.calc(t).mul(2).equal()).equal(),modalFooterBorderColorSplit:e.colorSplit,modalFooterBorderStyle:e.lineType,modalFooterBorderWidth:e.lineWidth,modalCloseIconColor:e.colorIcon,modalCloseIconHoverColor:e.colorIconHover,modalCloseBtnSize:e.controlHeight,modalConfirmIconSize:e.fontHeight,modalTitleHeight:e.calc(e.titleFontSize).mul(e.titleLineHeight).equal()})},Fe=e=>({footerBg:"transparent",headerBg:e.colorBgElevated,titleLineHeight:e.lineHeightHeading5,titleFontSize:e.fontSizeHeading5,contentBg:e.colorBgElevated,titleColor:e.colorTextHeading,contentPadding:e.wireframe?0:`${(0,be.zA)(e.paddingMD)} ${(0,be.zA)(e.paddingContentHorizontalLG)}`,headerPadding:e.wireframe?`${(0,be.zA)(e.padding)} ${(0,be.zA)(e.paddingLG)}`:0,headerBorderBottom:e.wireframe?`${(0,be.zA)(e.lineWidth)} ${e.lineType} ${e.colorSplit}`:"none",headerMarginBottom:e.wireframe?0:e.marginXS,bodyPadding:e.wireframe?e.paddingLG:0,footerPadding:e.wireframe?`${(0,be.zA)(e.paddingXS)} ${(0,be.zA)(e.padding)}`:0,footerBorderTop:e.wireframe?`${(0,be.zA)(e.lineWidth)} ${e.lineType} ${e.colorSplit}`:"none",footerBorderRadius:e.wireframe?`0 0 ${(0,be.zA)(e.borderRadiusLG)} ${(0,be.zA)(e.borderRadiusLG)}`:0,footerMarginTop:e.wireframe?0:e.marginSM,confirmBodyPadding:e.wireframe?`${(0,be.zA)(2*e.padding)} ${(0,be.zA)(2*e.padding)} ${(0,be.zA)(e.paddingLG)}`:0,confirmIconMarginInlineEnd:e.wireframe?e.margin:e.marginSM,confirmBtnsMarginTop:e.wireframe?e.marginLG:e.marginSM}),Le=(0,ve.OF)("Modal",e=>{const t=Ne(e);return[Oe(t),De(t),Me(t),(0,Te.aB)(t,"zoom"),Re(t)]},Fe,{unitless:{titleLineHeight:!0}});let Be;(0,ie.A)()&&window.document.documentElement&&document.documentElement.addEventListener("click",e=>{Be={x:e.pageX,y:e.pageY},setTimeout(()=>{Be=null},100)},!0);const $e=e=>{const{prefixCls:t,className:n,rootClassName:r,open:s,wrapClassName:a,centered:c,getContainer:l,focusTriggerAfterClose:u=!0,style:d,visible:f,width:y=520,footer:b,classNames:v,styles:_,children:w,loading:S,confirmLoading:x,zIndex:I,mousePosition:A,onOk:C,onCancel:E,destroyOnHidden:T,destroyOnClose:P,panelRef:M=null}=e,O=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(e,["prefixCls","className","rootClassName","open","wrapClassName","centered","getContainer","focusTriggerAfterClose","style","visible","width","footer","classNames","styles","children","loading","confirmLoading","zIndex","mousePosition","onOk","onCancel","destroyOnHidden","destroyOnClose","panelRef"]),{getPopupContainer:D,getPrefixCls:R,direction:N,modal:L}=o.useContext(i.QO),B=e=>{x||null==E||E(e)},$=R("modal",t),j=R(),z=(0,ae.A)($),[V,q,H]=Le($,z),G=h()(a,{[`${$}-centered`]:null!=c?c:null==L?void 0:L.centered,[`${$}-wrap-rtl`]:"rtl"===N}),W=null===b||S?null:o.createElement(ye,Object.assign({},e,{onOk:e=>{null==C||C(e)},onCancel:B})),[K,Y,J,X]=function(e,t,n=oe){const r=re(e),i=re(t),[s]=(0,m.A)("global",ee.A.global),a="boolean"!=typeof r&&!!(null==r?void 0:r.disabled),c=o.useMemo(()=>Object.assign({closeIcon:o.createElement(k.A,null)},n),[n]),l=o.useMemo(()=>!1!==r&&(r?(0,te.A)(c,i,r):!1!==i&&(i?(0,te.A)(c,i):!!c.closable&&c)),[r,i,c]);return o.useMemo(()=>{var e,t;if(!1===l)return[!1,null,a,{}];const{closeIconRender:n}=c,{closeIcon:r}=l;let i=r;const u=(0,F.A)(l,!0);return null!=i&&(n&&(i=n(r)),i=o.isValidElement(i)?o.cloneElement(i,Object.assign(Object.assign(Object.assign({},i.props),{"aria-label":null!==(t=null===(e=i.props)||void 0===e?void 0:e["aria-label"])&&void 0!==t?t:s.close}),u)):o.createElement("span",Object.assign({"aria-label":s.close},u),i)),[!0,i,a,u]},[l,c])}(ne(e),ne(L),{closable:!0,closeIcon:o.createElement(k.A,{className:`${$}-close-icon`}),closeIconRender:e=>me($,e)}),ie=function(e){const t=o.useContext(de),n=o.useRef(null);return(0,le.A)(r=>{if(r){const o=e?r.querySelector(e):r;t.add(o),n.current=o}else t.remove(n.current)})}(`.${$}-content`),ue=(0,U.K4)(M,ie),[fe,he]=(0,p.YK)("Modal",I),[pe,ge]=o.useMemo(()=>y&&"object"==typeof y?[void 0,y]:[y,void 0],[y]),be=o.useMemo(()=>{const e={};return ge&&Object.keys(ge).forEach(t=>{const n=ge[t];void 0!==n&&(e[`--${$}-${t}-width`]="number"==typeof n?`${n}px`:n)}),e},[ge]);return V(o.createElement(Q.A,{form:!0,space:!0},o.createElement(se.A.Provider,{value:he},o.createElement(Z,Object.assign({width:pe},O,{zIndex:fe,getContainer:void 0===l?D:l,prefixCls:$,rootClassName:h()(q,r,H,z),footer:W,visible:null!=s?s:f,mousePosition:null!=A?A:Be,onClose:B,closable:K?Object.assign({disabled:J,closeIcon:Y},X):K,closeIcon:Y,focusTriggerAfterClose:u,transitionName:(0,g.b)(j,"zoom",e.transitionName),maskTransitionName:(0,g.b)(j,"fade",e.maskTransitionName),className:h()(q,n,null==L?void 0:L.className),style:Object.assign(Object.assign(Object.assign({},null==L?void 0:L.style),d),be),classNames:Object.assign(Object.assign(Object.assign({},null==L?void 0:L.classNames),v),{wrapper:h()(G,null==v?void 0:v.wrapper)}),styles:Object.assign(Object.assign({},null==L?void 0:L.styles),_),panelRef:ue,destroyOnClose:null!=T?T:P}),S?o.createElement(ce.A,{active:!0,title:!1,paragraph:{rows:4},className:`${$}-body-skeleton`}):w))))},je=(0,ve.bf)(["Modal","confirm"],e=>(e=>{const{componentCls:t,titleFontSize:n,titleLineHeight:r,modalConfirmIconSize:o,fontSize:i,lineHeight:s,modalTitleHeight:a,fontHeight:c,confirmBodyPadding:l}=e,u=`${t}-confirm`;return{[u]:{"&-rtl":{direction:"rtl"},[`${e.antCls}-modal-header`]:{display:"none"},[`${u}-body-wrapper`]:Object.assign({},(0,Ie.t6)()),[`&${t} ${t}-body`]:{padding:l},[`${u}-body`]:{display:"flex",flexWrap:"nowrap",alignItems:"start",[`> ${e.iconCls}`]:{flex:"none",fontSize:o,marginInlineEnd:e.confirmIconMarginInlineEnd,marginTop:e.calc(e.calc(c).sub(o).equal()).div(2).equal()},[`&-has-title > ${e.iconCls}`]:{marginTop:e.calc(e.calc(a).sub(o).equal()).div(2).equal()}},[`${u}-paragraph`]:{display:"flex",flexDirection:"column",flex:"auto",rowGap:e.marginXS,maxWidth:`calc(100% - ${(0,be.zA)(e.marginSM)})`},[`${e.iconCls} + ${u}-paragraph`]:{maxWidth:`calc(100% - ${(0,be.zA)(e.calc(e.modalConfirmIconSize).add(e.marginSM).equal())})`},[`${u}-title`]:{color:e.colorTextHeading,fontWeight:e.fontWeightStrong,fontSize:n,lineHeight:r},[`${u}-content`]:{color:e.colorText,fontSize:i,lineHeight:s},[`${u}-btns`]:{textAlign:"end",marginTop:e.confirmBtnsMarginTop,[`${e.antCls}-btn + ${e.antCls}-btn`]:{marginBottom:0,marginInlineStart:e.marginXS}}},[`${u}-error ${u}-body > ${e.iconCls}`]:{color:e.colorError},[`${u}-warning ${u}-body > ${e.iconCls},\n        ${u}-confirm ${u}-body > ${e.iconCls}`]:{color:e.colorWarning},[`${u}-info ${u}-body > ${e.iconCls}`]:{color:e.colorInfo},[`${u}-success ${u}-body > ${e.iconCls}`]:{color:e.colorSuccess}}})(Ne(e)),Fe,{order:-1e3});function Ue(e){const{prefixCls:t,icon:n,okText:i,cancelText:s,confirmPrefixCls:a,type:f,okCancel:p,footer:g,locale:y}=e,b=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(e,["prefixCls","icon","okText","cancelText","confirmPrefixCls","type","okCancel","footer","locale"]);let v=n;if(!n&&null!==n)switch(f){case"info":v=o.createElement(d.A,null);break;case"success":v=o.createElement(c.A,null);break;case"error":v=o.createElement(l.A,null);break;default:v=o.createElement(u.A,null)}const _=null!=p?p:"confirm"===f,w=null!==e.autoFocusButton&&(e.autoFocusButton||"ok"),[S]=(0,m.A)("Modal"),x=y||S,k=i||(_?null==x?void 0:x.okText:null==x?void 0:x.justOkText),E=s||(null==x?void 0:x.cancelText),T=Object.assign({autoFocusButton:w,cancelTextLocale:E,okTextLocale:k,mergedOkCancel:_},b),P=o.useMemo(()=>T,(0,r.A)(Object.values(T))),M=o.createElement(o.Fragment,null,o.createElement(A,null),o.createElement(C,null)),O=void 0!==e.title&&null!==e.title,D=`${a}-body`;return o.createElement("div",{className:`${a}-body-wrapper`},o.createElement("div",{className:h()(D,{[`${D}-has-title`]:O})},v,o.createElement("div",{className:`${a}-paragraph`},O&&o.createElement("span",{className:`${a}-title`},e.title),o.createElement("div",{className:`${a}-content`},e.content))),void 0===g||"function"==typeof g?o.createElement(I,{value:P},o.createElement("div",{className:`${a}-btns`},"function"==typeof g?g(M,{OkBtn:C,CancelBtn:A}):M)):g,o.createElement(je,{prefixCls:t}))}const ze=e=>{const{close:t,zIndex:n,maskStyle:r,direction:i,prefixCls:s,wrapClassName:a,rootPrefixCls:c,bodyStyle:l,closable:u=!1,onConfirm:d,styles:f}=e,m=`${s}-confirm`,b=e.width||416,v=e.style||{},_=void 0===e.mask||e.mask,w=void 0!==e.maskClosable&&e.maskClosable,S=h()(m,`${m}-${e.type}`,{[`${m}-rtl`]:"rtl"===i},e.className),[,x]=(0,y.Ay)(),I=o.useMemo(()=>void 0!==n?n:x.zIndexPopupBase+p.jH,[n,x]);return o.createElement($e,Object.assign({},e,{className:S,wrapClassName:h()({[`${m}-centered`]:!!e.centered},a),onCancel:()=>{null==t||t({triggerCancel:!0}),null==d||d(!1)},title:"",footer:null,transitionName:(0,g.b)(c||"","zoom",e.transitionName),maskTransitionName:(0,g.b)(c||"","fade",e.maskTransitionName),mask:_,maskClosable:w,style:v,styles:Object.assign({body:l,mask:r},f),width:b,zIndex:I,closable:u}),o.createElement(Ue,Object.assign({},e,{confirmPrefixCls:m})))},Ve=e=>{const{rootPrefixCls:t,iconPrefixCls:n,direction:r,theme:i}=e;return o.createElement(s.Ay,{prefixCls:t,iconPrefixCls:n,direction:r,theme:i},o.createElement(ze,Object.assign({},e)))},qe=[];let He="";function Ge(){return He}const We=e=>{var t,n;const{prefixCls:r,getContainer:s,direction:a}=e,c=(0,ge.l)(),l=(0,o.useContext)(i.QO),u=Ge()||l.getPrefixCls(),d=r||`${u}-modal`;let f=s;return!1===f&&(f=void 0),o.createElement(Ve,Object.assign({},e,{rootPrefixCls:u,prefixCls:d,iconPrefixCls:l.iconPrefixCls,theme:l.theme,direction:null!=a?a:l.direction,locale:null!==(n=null===(t=l.locale)||void 0===t?void 0:t.Modal)&&void 0!==n?n:c,getContainer:f}))};function Ke(e){const t=(0,s.cr)(),n=document.createDocumentFragment();let i,c,l=Object.assign(Object.assign({},e),{close:f,open:!0});function u(...t){var n,o;t.some(e=>null==e?void 0:e.triggerCancel)&&(null===(n=e.onCancel)||void 0===n||(o=n).call.apply(o,[e,()=>{}].concat((0,r.A)(t.slice(1)))));for(let e=0;e<qe.length;e++)if(qe[e]===f){qe.splice(e,1);break}c()}function d(e){clearTimeout(i),i=setTimeout(()=>{const r=t.getPrefixCls(void 0,Ge()),i=t.getIconPrefixCls(),l=t.getTheme(),u=o.createElement(We,Object.assign({},e)),d=(0,a.L)();c=d(o.createElement(s.Ay,{prefixCls:r,iconPrefixCls:i,theme:l},t.holderRender?t.holderRender(u):u),n)})}function f(...t){l=Object.assign(Object.assign({},l),{open:!1,afterClose:()=>{"function"==typeof e.afterClose&&e.afterClose(),u.apply(this,t)}}),l.visible&&delete l.visible,d(l)}return d(l),qe.push(f),{destroy:f,update:function(e){l="function"==typeof e?e(l):Object.assign(Object.assign({},l),e),d(l)}}}function Ye(e){return Object.assign(Object.assign({},e),{type:"warning"})}function Je(e){return Object.assign(Object.assign({},e),{type:"info"})}function Xe(e){return Object.assign(Object.assign({},e),{type:"success"})}function Ze(e){return Object.assign(Object.assign({},e),{type:"error"})}function Qe(e){return Object.assign(Object.assign({},e),{type:"confirm"})}var et=n(53425);const tt=(0,et.U)(e=>{const{prefixCls:t,className:n,closeIcon:r,closable:s,type:a,title:c,children:l,footer:u}=e,d=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(e,["prefixCls","className","closeIcon","closable","type","title","children","footer"]),{getPrefixCls:f}=o.useContext(i.QO),p=f(),g=t||f("modal"),m=(0,ae.A)(p),[y,b,v]=Le(g,m),_=`${g}-confirm`;let w={};return w=a?{closable:null!=s&&s,title:"",footer:"",children:o.createElement(Ue,Object.assign({},e,{prefixCls:g,confirmPrefixCls:_,rootPrefixCls:p,content:l}))}:{closable:null==s||s,title:c,footer:null!==u&&o.createElement(ye,Object.assign({},e)),children:l},y(o.createElement(G,Object.assign({prefixCls:g,className:h()(b,`${g}-pure-panel`,a&&_,a&&`${_}-${a}`,n,v,m)},d,{closeIcon:me(g,r),closable:s},w)))});const nt=(e,t)=>{var n,{afterClose:s,config:a}=e,c=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(e,["afterClose","config"]);const[l,u]=o.useState(!0),[d,f]=o.useState(a),{direction:h,getPrefixCls:p}=o.useContext(i.QO),g=p("modal"),y=p(),b=(...e)=>{var t,n;u(!1),e.some(e=>null==e?void 0:e.triggerCancel)&&(null===(t=d.onCancel)||void 0===t||(n=t).call.apply(n,[d,()=>{}].concat((0,r.A)(e.slice(1)))))};o.useImperativeHandle(t,()=>({destroy:b,update:e=>{f(t=>{const n="function"==typeof e?e(t):e;return Object.assign(Object.assign({},t),n)})}}));const v=null!==(n=d.okCancel)&&void 0!==n?n:"confirm"===d.type,[_]=(0,m.A)("Modal",ee.A.Modal);return o.createElement(Ve,Object.assign({prefixCls:g,rootPrefixCls:y},d,{close:b,open:l,afterClose:()=>{var e;s(),null===(e=d.afterClose)||void 0===e||e.call(d)},okText:d.okText||(v?null==_?void 0:_.okText:null==_?void 0:_.justOkText),direction:d.direction||h,cancelText:d.cancelText||(null==_?void 0:_.cancelText)},c))},rt=o.forwardRef(nt);let ot=0;const it=o.memo(o.forwardRef((e,t)=>{const[n,i]=function(){const[e,t]=o.useState([]);return[e,o.useCallback(e=>(t(t=>[].concat((0,r.A)(t),[e])),()=>{t(t=>t.filter(t=>t!==e))}),[])]}();return o.useImperativeHandle(t,()=>({patchElement:i}),[]),o.createElement(o.Fragment,null,n)}));function st(e){return Ke(Ye(e))}const at=$e;at.useModal=function(){const e=o.useRef(null),[t,n]=o.useState([]);o.useEffect(()=>{t.length&&((0,r.A)(t).forEach(e=>{e()}),n([]))},[t]);const i=o.useCallback(t=>function(i){var s;ot+=1;const a=o.createRef();let c;const l=new Promise(e=>{c=e});let u,d=!1;const f=o.createElement(rt,{key:`modal-${ot}`,config:t(i),ref:a,afterClose:()=>{null==u||u()},isSilent:()=>d,onConfirm:e=>{c(e)}});u=null===(s=e.current)||void 0===s?void 0:s.patchElement(f),u&&qe.push(u);const h={destroy:()=>{function e(){var e;null===(e=a.current)||void 0===e||e.destroy()}a.current?e():n(t=>[].concat((0,r.A)(t),[e]))},update:e=>{function t(){var t;null===(t=a.current)||void 0===t||t.update(e)}a.current?t():n(e=>[].concat((0,r.A)(e),[t]))},then:e=>(d=!0,l.then(e))};return h},[]);return[o.useMemo(()=>({info:i(Je),success:i(Xe),error:i(Ze),warning:i(Ye),confirm:i(Qe)}),[]),o.createElement(it,{key:"modal-holder",ref:e})]},at.info=function(e){return Ke(Je(e))},at.success=function(e){return Ke(Xe(e))},at.error=function(e){return Ke(Ze(e))},at.warning=st,at.warn=st,at.confirm=function(e){return Ke(Qe(e))},at.destroyAll=function(){for(;qe.length;){const e=qe.pop();e&&e()}},at.config=function({rootPrefixCls:e}){He=e},at._InternalPanelDoNotUseOrYouWillBeFired=tt;const ct=at},66588:(e,t,n)=>{"use strict";n.d(t,{Ay:()=>c,fk:()=>s,rb:()=>a});var r=n(82284),o=n(96540),i=n(40961);function s(e){return e instanceof HTMLElement||e instanceof SVGElement}function a(e){return e&&"object"===(0,r.A)(e)&&s(e.nativeElement)?e.nativeElement:s(e)?e:null}function c(e){var t;return a(e)||(e instanceof o.Component?null===(t=i.findDOMNode)||void 0===t?void 0:t.call(i,e):null)}},66644:(e,t,n)=>{"use strict";n.d(t,{RK:()=>f,Uj:()=>i.Uj,Uz:()=>h,YS:()=>d,Z3:()=>i.Z3,dL:()=>i.dL,gm:()=>p});var r=n(50110),o=n(37836),i=n(75357);let s=[],a=[],c=[];const l=(u=()=>{const e=s;s=[],e.forEach(e=>{(0,r.A)(e)}),Promise.resolve().then(()=>{(0,i.A)("mutate");const e=a;a=[],e.forEach(e=>{(0,r.A)(e)})}).then(()=>{(0,i.A)("measure");const e=[];for(const t of c)(0,r.A)(()=>{const n=t();n&&e.push(n)});return c=[],e}).then(e=>{(0,i.A)("mutate");for(const t of e)(0,r.A)(t)}).then(()=>{(0,i.A)("measure")})},(0,o.nb)(e=>{(0,o.IJ)(e,!0)},u));var u;function d(e){s.push(e),l()}function f(e){a.push(e),l()}function h(e){d(()=>{f(e)})}function p(e){c.push(e),l()}},67526:(e,t)=>{"use strict";t.byteLength=function(e){var t=a(e),n=t[0],r=t[1];return 3*(n+r)/4-r},t.toByteArray=function(e){var t,n,i=a(e),s=i[0],c=i[1],l=new o(function(e,t,n){return 3*(t+n)/4-n}(0,s,c)),u=0,d=c>0?s-4:s;for(n=0;n<d;n+=4)t=r[e.charCodeAt(n)]<<18|r[e.charCodeAt(n+1)]<<12|r[e.charCodeAt(n+2)]<<6|r[e.charCodeAt(n+3)],l[u++]=t>>16&255,l[u++]=t>>8&255,l[u++]=255&t;return 2===c&&(t=r[e.charCodeAt(n)]<<2|r[e.charCodeAt(n+1)]>>4,l[u++]=255&t),1===c&&(t=r[e.charCodeAt(n)]<<10|r[e.charCodeAt(n+1)]<<4|r[e.charCodeAt(n+2)]>>2,l[u++]=t>>8&255,l[u++]=255&t),l},t.fromByteArray=function(e){for(var t,r=e.length,o=r%3,i=[],s=16383,a=0,c=r-o;a<c;a+=s)i.push(l(e,a,a+s>c?c:a+s));return 1===o?(t=e[r-1],i.push(n[t>>2]+n[t<<4&63]+"==")):2===o&&(t=(e[r-2]<<8)+e[r-1],i.push(n[t>>10]+n[t>>4&63]+n[t<<2&63]+"=")),i.join("")};for(var n=[],r=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0;s<64;++s)n[s]=i[s],r[i.charCodeAt(s)]=s;function a(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function c(e){return n[e>>18&63]+n[e>>12&63]+n[e>>6&63]+n[63&e]}function l(e,t,n){for(var r,o=[],i=t;i<n;i+=3)r=(e[i]<<16&16711680)+(e[i+1]<<8&65280)+(255&e[i+2]),o.push(c(r));return o.join("")}r["-".charCodeAt(0)]=62,r["_".charCodeAt(0)]=63},68144:(e,t,n)=>{"use strict";n.d(t,{GJ:()=>f,Np:()=>l,Rq:()=>c,iZ:()=>u,qq:()=>d});var r=n(13439),o=n(89925),i=n(90709),s=n(60919),a=n(51580);const c=async e=>{let t=[],{offsetId:n,deadline:r,sliceSize:o,maxCount:s=100}=e;for(;(!t.length||t[0]?.date>=r)&&t.length<s;){const c=await(0,a.px)("fetchMessages",{...e,offsetId:n,limit:o});if(!c||!c.messages?.length)break;const l=c.messages.filter(e=>(0,i.XR)(e));if(c.messages[c.messages.length-1].date<r){const e=l.filter(e=>e.date>=r);t=t.concat(e);break}if(t.length+l.length>s){t=t.concat(l.slice(0,s-t.length));break}if(t=t.concat(l),n=c.messages[c.messages.length-1].id,c.messages.length<e.sliceSize)break}return t.reverse()},l=async e=>{let t=[],{offsetId:n,sliceSize:r,maxCount:o=100}=e;for(;!t.length&&t.length<o;){const s=await(0,a.px)("fetchMessages",{...e,offsetId:n,limit:r});if(!s||!s.messages?.length)break;const c=s.messages.filter(e=>(0,i.XR)(e));if(t.length+c.length>=o){t=t.concat(c.slice(0,o-t.length));break}if(t=t.concat(c),n=s.messages[s.messages.length-1].id,s.messages.length<e.sliceSize)break}return t.reverse()},u=e=>{const t=(0,r.mS)();return e.map(e=>{if(e.content.text?.text){const n=e.senderId?(0,s.mBe)(t,e.senderId):void 0;return{senderId:e?.senderId||e?.chatId,senderName:n?`${n.firstName||""} ${n.lastName||""}`:"",date:e.date,messageId:Math.floor(e.id),content:e.content.text?.text??""}}return null}).filter(Boolean)},d=async e=>{let t=[],{offsetId:n,sliceSize:r,maxCount:o=100}=e;for(;!t.length||t.length<o;){const i=await(0,a.px)("fetchMessages",{...e,offsetId:n,limit:r});if(!i||!i.messages?.length)break;if(t.length+i.messages.length>=o){t=t.concat(i.messages.slice(0,o-t.length));break}if(t=t.concat(i.messages),n=i.messages[i.messages.length-1].id,i.messages.length<e.sliceSize)break}return t.reverse()},f=async({chat:e,sliceSize:t,threadId:n,offsetId:r,direction:s,maxCount:c=100})=>{let l,u=[];switch(s){case o.TN.Backwards:r?(l=-1,t+=1):l=void 0;break;case o.TN.Forwards:l=-(t+1),r&&(t+=1)}for(;!u.length&&u.length<c;){const o=await(0,a.px)("fetchMessages",{chat:e,offsetId:r,addOffset:l,limit:t,threadId:n});if(!o||!o.messages?.length)break;const s=o.messages.filter(e=>(0,i.XR)(e));if(u.length+s.length>=c){u=u.concat(s.slice(0,c-u.length));break}if(u=u.concat(s),r=o.messages[o.messages.length-1].id,o.messages.length<t)break}return u.reverse()}},68210:(e,t,n)=>{"use strict";n.d(t,{$e:()=>i,Ay:()=>l});var r={},o=[];function i(e,t){}function s(e,t){}function a(e,t,n){t||r[n]||(e(!1,n),r[n]=!0)}function c(e,t){a(i,e,t)}c.preMessage=function(e){o.push(e)},c.resetWarned=function(){r={}},c.noteOnce=function(e,t){a(s,e,t)};const l=c},68323:(e,t,n)=>{"use strict";n.d(t,{Y:()=>u,x:()=>l});var r=n(84051),o=n(31481),i=n(66644),s=n(96454),a=n(9705);let c=!1;function l(){return c}function u(){const e=(0,r.li)(),[t,n]=(0,r.J0)("idle");return(0,r.vJ)(()=>{if("capturing-old"!==t)return;const r=document.startViewTransition(async()=>{n("capturing-new"),e.current&&await e.current();const t=new a.A;return(0,i.Uz)(()=>{t.resolve()}),t.promise});r.finished.then(()=>{n("idle"),(0,i.RK)(()=>{document.body.classList.remove(o.VIF)}),c=!1}),r.ready.then(()=>{n("animating")}).catch(e=>{console.error(e),n("skipped"),(0,i.RK)(()=>{document.body.classList.remove(o.VIF)}),c=!1})},[t]),{shouldApplyVtn:"capturing-old"===t||"capturing-new"===t||"animating"===t,transitionState:t,startViewTransition:function(t){s.ir?(e.current=t,n("capturing-old"),(0,i.RK)(()=>{document.body.classList.add(o.VIF)}),c=!0):t&&t()}}}},68344:(e,t,n)=>{"use strict";n.d(t,{$R:()=>u,PK:()=>S,Qb:()=>v,Tu:()=>m,Vm:()=>h,_5:()=>p,cs:()=>w,jU:()=>y,lw:()=>I,ol:()=>b,tX:()=>x,zd:()=>d});var r=n(14487),o=n(87894),i=n(90709),s=n(60919),a=n(94137),c=n(32989);function l(e,t,n,...[i=(0,r.g0)()]){const a=(0,s.nTw)(e,i).middleSearch.byChatThreadKey;if(!n)return(0,c.w)(e,{middleSearch:{byChatThreadKey:(0,o.cJ)(a,[t])}},i);const{type:l="chat",...u}=n;return(0,c.w)(e,{middleSearch:{byChatThreadKey:{...(0,s.nTw)(e,i).middleSearch.byChatThreadKey,[t]:{type:l,...u}}}},i)}function u(e,t,n,o,...[a=(0,r.g0)()]){const c=(0,i.Wi)(t,n),u=(0,s.nTw)(e,a).middleSearch.byChatThreadKey[c],d={type:"chat",...u,...o};return d.isHashtag||(d.type="chat"),!u||u.type===d.type&&u.savedTag===d.savedTag||(d.results=void 0),l(e,c,d,a)}function d(e,t,n,...[o=(0,r.g0)()]){return l(e,(0,i.Wi)(t,n),{type:"chat"},o)}function f(e,t,n,o,...[i=(0,r.g0)()]){return u(e,t,n,{results:o,fetchingQuery:void 0},i)}function h(e,t,n,a,...[c=(0,r.g0)()]){const l=(0,i.Wi)(t,n),{results:u}=(0,s.nTw)(e,c).middleSearch.byChatThreadKey[l]||{},d=u?.query||"";if(a.query!==d)return f(e,t,n,a,c);const h=u?.foundIds||[],{query:p,foundIds:g,totalCount:m,nextOffsetId:y,nextOffsetPeerId:b,nextOffsetRate:v}=a,_=(0,o.Am)(Array.prototype.concat(h,g));return f(e,t,n,{query:p,foundIds:(0,o.k)(h,_)?h:_,totalCount:m,nextOffsetId:y,nextOffsetRate:v,nextOffsetPeerId:b},c)}function p(e,t,n,...[o=(0,r.g0)()]){return l(e,(0,i.Wi)(t,n),void 0,o)}function g(e,t,n,o,...[a=(0,r.g0)()]){const l=(0,i.Wi)(t,n);return(0,c.w)(e,{sharedMediaSearch:{byChatThreadKey:{...(0,s.nTw)(e,a).sharedMediaSearch.byChatThreadKey,[l]:o}}},a)}function m(e,t,n,o,...[a=(0,r.g0)()]){const c=(0,i.Wi)(t,n);return g(e,t,n,{...(0,s.nTw)(e,a).sharedMediaSearch.byChatThreadKey[c],currentType:o},a)}function y(e,t,n,a,c,l,u,...[d=(0,r.g0)()]){const f=(0,i.Wi)(t,n),{resultsByType:h}=(0,s.nTw)(e,d).sharedMediaSearch.byChatThreadKey[f]||{},p=h?.[a]?h[a].foundIds:[],m=(0,o.Am)(Array.prototype.concat(p,c)).sort((e,t)=>t-e);return function(e,t,n,o,a,c,l,...[u=(0,r.g0)()]){const d=(0,i.Wi)(t,n);return g(e,t,n,{...(0,s.nTw)(e,u).sharedMediaSearch.byChatThreadKey[d],resultsByType:{...((0,s.nTw)(e,u).sharedMediaSearch.byChatThreadKey[d]||{}).resultsByType,[o]:{foundIds:a,totalCount:c,nextOffsetId:l}}},u)}(e,t,n,a,(0,o.k)(p,m)?p:m,l,u,d)}function b(e,t,n){if(!n)return{foundIds:e,loadingState:t};const r=(0,o.Am)(Array.prototype.concat(n.foundIds,e)).sort((e,t)=>e-t);(0,o.k)(n.foundIds,e)||(n.foundIds=r);const i={areAllItemsLoadedForwards:t.areAllItemsLoadedForwards||n.loadingState.areAllItemsLoadedForwards,areAllItemsLoadedBackwards:t.areAllItemsLoadedBackwards||n.loadingState.areAllItemsLoadedBackwards};return n.loadingState=i,n}function v(e,t,n,a,c,...[l=(0,r.g0)()]){const u=function(e,t){return t.reduce((t,n)=>((0,o.h8)(n.foundIds,e.foundIds)?e=b(e.foundIds,e.loadingState,n):t.push(n),t),[])}(a,c.segments);return function(e,t,n,o,a,...[c=(0,r.g0)()]){const l=(0,i.Wi)(t,n);return A(e,t,n,{...(0,s.nTw)(e,c).chatMediaSearch.byChatThreadKey[l],currentSegment:o,segments:a},c)}(e,t,n,a,u,l)}function _(e,t){const n=t.foundIds.filter(t=>t!==e);return{...t,foundIds:n}}function w(e,t,n,o,...[i=(0,r.g0)()]){const s=(0,a.f5)(e,t,n,i);if(!s)return e;const c=function(e,t){const n=_(e,t.currentSegment),r=t.segments.map(t=>_(e,t));return{...t,currentSegment:n,segments:r}}(o,s);return A(e,t,n,c,i)}function S(e,t,n,o,...[s=(0,r.g0)()]){if(!(0,i.iZ)(t))return e;const c=(0,a.f5)(e,n,o,s);return c?(function(e){e.currentSegment.loadingState.areAllItemsLoadedForwards=!1,e.segments.forEach(e=>{e.loadingState.areAllItemsLoadedForwards=!1})}(c),A(e,n,o,c,s)):e}function x(e,t,n,...[o=(0,r.g0)()]){return A(e,t,n,{currentSegment:{foundIds:[],loadingState:{areAllItemsLoadedForwards:!1,areAllItemsLoadedBackwards:!1}},segments:[],isLoading:!1},o)}function I(e,t,n,o,...[a=(0,r.g0)()]){const c=(0,i.Wi)(t,n),l=(0,s.nTw)(e,a).chatMediaSearch.byChatThreadKey[c];return l?A(e,t,n,{...l,isLoading:o},a):e}function A(e,t,n,o,...[a=(0,r.g0)()]){const l=(0,i.Wi)(t,n);return(0,c.w)(e,{chatMediaSearch:{byChatThreadKey:{...(0,s.nTw)(e,a).chatMediaSearch.byChatThreadKey,[l]:o}}},a)}},68430:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=function(){if("undefined"==typeof navigator||"undefined"==typeof window)return!1;var e=navigator.userAgent||navigator.vendor||window.opera;return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(null==e?void 0:e.substr(0,4))}},68734:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var r=n(2616),o=n(50723),i=n(85045),s=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};function a(e){const{override:t}=e,n=s(e,["override"]),a=Object.assign({},t);Object.keys(o.A).forEach(e=>{delete a[e]});const c=Object.assign(Object.assign({},n),a);if(!1===c.motion){const e="0s";c.motionDurationFast=e,c.motionDurationMid=e,c.motionDurationSlow=e}return Object.assign(Object.assign(Object.assign({},c),{colorFillContent:c.colorFillSecondary,colorFillContentHover:c.colorFill,colorFillAlter:c.colorFillQuaternary,colorBgContainerDisabled:c.colorFillTertiary,colorBorderBg:c.colorBgContainer,colorSplit:(0,i.A)(c.colorBorderSecondary,c.colorBgContainer),colorTextPlaceholder:c.colorTextQuaternary,colorTextDisabled:c.colorTextQuaternary,colorTextHeading:c.colorText,colorTextLabel:c.colorTextSecondary,colorTextDescription:c.colorTextTertiary,colorTextLightSolid:c.colorWhite,colorHighlight:c.colorError,colorBgTextHover:c.colorFillSecondary,colorBgTextActive:c.colorFill,colorIcon:c.colorTextTertiary,colorIconHover:c.colorText,colorErrorOutline:(0,i.A)(c.colorErrorBg,c.colorBgContainer),colorWarningOutline:(0,i.A)(c.colorWarningBg,c.colorBgContainer),fontSizeIcon:c.fontSizeSM,lineWidthFocus:3*c.lineWidth,lineWidth:c.lineWidth,controlOutlineWidth:2*c.lineWidth,controlInteractiveSize:c.controlHeight/2,controlItemBgHover:c.colorFillTertiary,controlItemBgActive:c.colorPrimaryBg,controlItemBgActiveHover:c.colorPrimaryBgHover,controlItemBgActiveDisabled:c.colorFill,controlTmpOutline:c.colorFillQuaternary,controlOutline:(0,i.A)(c.colorPrimaryBg,c.colorBgContainer),lineType:c.lineType,borderRadius:c.borderRadius,borderRadiusXS:c.borderRadiusXS,borderRadiusSM:c.borderRadiusSM,borderRadiusLG:c.borderRadiusLG,fontWeightStrong:600,opacityLoading:.65,linkDecoration:"none",linkHoverDecoration:"none",linkFocusDecoration:"none",controlPaddingHorizontal:12,controlPaddingHorizontalSM:8,paddingXXS:c.sizeXXS,paddingXS:c.sizeXS,paddingSM:c.sizeSM,padding:c.size,paddingMD:c.sizeMD,paddingLG:c.sizeLG,paddingXL:c.sizeXL,paddingContentHorizontalLG:c.sizeLG,paddingContentVerticalLG:c.sizeMS,paddingContentHorizontal:c.sizeMS,paddingContentVertical:c.sizeSM,paddingContentHorizontalSM:c.size,paddingContentVerticalSM:c.sizeXS,marginXXS:c.sizeXXS,marginXS:c.sizeXS,marginSM:c.sizeSM,margin:c.size,marginMD:c.sizeMD,marginLG:c.sizeLG,marginXL:c.sizeXL,marginXXL:c.sizeXXL,boxShadow:"\n      0 6px 16px 0 rgba(0, 0, 0, 0.08),\n      0 3px 6px -4px rgba(0, 0, 0, 0.12),\n      0 9px 28px 8px rgba(0, 0, 0, 0.05)\n    ",boxShadowSecondary:"\n      0 6px 16px 0 rgba(0, 0, 0, 0.08),\n      0 3px 6px -4px rgba(0, 0, 0, 0.12),\n      0 9px 28px 8px rgba(0, 0, 0, 0.05)\n    ",boxShadowTertiary:"\n      0 1px 2px 0 rgba(0, 0, 0, 0.03),\n      0 1px 6px -1px rgba(0, 0, 0, 0.02),\n      0 2px 4px 0 rgba(0, 0, 0, 0.02)\n    ",screenXS:480,screenXSMin:480,screenXSMax:575,screenSM:576,screenSMMin:576,screenSMMax:767,screenMD:768,screenMDMin:768,screenMDMax:991,screenLG:992,screenLGMin:992,screenLGMax:1199,screenXL:1200,screenXLMin:1200,screenXLMax:1599,screenXXL:1600,screenXXLMin:1600,boxShadowPopoverArrow:"2px 2px 5px rgba(0, 0, 0, 0.05)",boxShadowCard:`\n      0 1px 2px -2px ${new r.Y("rgba(0, 0, 0, 0.16)").toRgbString()},\n      0 3px 6px 0 ${new r.Y("rgba(0, 0, 0, 0.12)").toRgbString()},\n      0 5px 12px 4px ${new r.Y("rgba(0, 0, 0, 0.09)").toRgbString()}\n    `,boxShadowDrawerRight:"\n      -6px 0 16px 0 rgba(0, 0, 0, 0.08),\n      -3px 0 6px -4px rgba(0, 0, 0, 0.12),\n      -9px 0 28px 8px rgba(0, 0, 0, 0.05)\n    ",boxShadowDrawerLeft:"\n      6px 0 16px 0 rgba(0, 0, 0, 0.08),\n      3px 0 6px -4px rgba(0, 0, 0, 0.12),\n      9px 0 28px 8px rgba(0, 0, 0, 0.05)\n    ",boxShadowDrawerUp:"\n      0 6px 16px 0 rgba(0, 0, 0, 0.08),\n      0 3px 6px -4px rgba(0, 0, 0, 0.12),\n      0 9px 28px 8px rgba(0, 0, 0, 0.05)\n    ",boxShadowDrawerDown:"\n      0 -6px 16px 0 rgba(0, 0, 0, 0.08),\n      0 -3px 6px -4px rgba(0, 0, 0, 0.12),\n      0 -9px 28px 8px rgba(0, 0, 0, 0.05)\n    ",boxShadowTabsOverflowLeft:"inset 10px 0 8px -8px rgba(0, 0, 0, 0.08)",boxShadowTabsOverflowRight:"inset -10px 0 8px -8px rgba(0, 0, 0, 0.08)",boxShadowTabsOverflowTop:"inset 0 10px 8px -8px rgba(0, 0, 0, 0.08)",boxShadowTabsOverflowBottom:"inset 0 -10px 8px -8px rgba(0, 0, 0, 0.08)"}),a)}},69036:(e,t,n)=>{"use strict";n.d(t,{Ay:()=>q});var r=n(60436),o=n(96540),i=n(41240),s=n(62279),a=n(39875),c=n(74642),l=n(38811),u=n(36029),d=n(7541),f=n(17850),h=n(93567),p=n(46942),g=n.n(p),m=n(22370),y=n(20934),b=n(52187),v=n(60275),_=n(25905),w=n(37358),S=n(14277);const x=(0,w.OF)("Message",e=>(e=>{const{componentCls:t,iconCls:n,boxShadow:r,colorText:o,colorSuccess:i,colorError:s,colorWarning:a,colorInfo:c,fontSizeLG:l,motionEaseInOutCirc:u,motionDurationSlow:d,marginXS:f,paddingXS:h,borderRadiusLG:p,zIndexPopup:g,contentPadding:m,contentBg:y}=e,v=`${t}-notice`,w=new b.Mo("MessageMoveIn",{"0%":{padding:0,transform:"translateY(-100%)",opacity:0},"100%":{padding:h,transform:"translateY(0)",opacity:1}}),S=new b.Mo("MessageMoveOut",{"0%":{maxHeight:e.height,padding:h,opacity:1},"100%":{maxHeight:0,padding:0,opacity:0}}),x={padding:h,textAlign:"center",[`${t}-custom-content`]:{display:"flex",alignItems:"center"},[`${t}-custom-content > ${n}`]:{marginInlineEnd:f,fontSize:l},[`${v}-content`]:{display:"inline-block",padding:m,background:y,borderRadius:p,boxShadow:r,pointerEvents:"all"},[`${t}-success > ${n}`]:{color:i},[`${t}-error > ${n}`]:{color:s},[`${t}-warning > ${n}`]:{color:a},[`${t}-info > ${n},\n      ${t}-loading > ${n}`]:{color:c}};return[{[t]:Object.assign(Object.assign({},(0,_.dF)(e)),{color:o,position:"fixed",top:f,width:"100%",pointerEvents:"none",zIndex:g,[`${t}-move-up`]:{animationFillMode:"forwards"},[`\n        ${t}-move-up-appear,\n        ${t}-move-up-enter\n      `]:{animationName:w,animationDuration:d,animationPlayState:"paused",animationTimingFunction:u},[`\n        ${t}-move-up-appear${t}-move-up-appear-active,\n        ${t}-move-up-enter${t}-move-up-enter-active\n      `]:{animationPlayState:"running"},[`${t}-move-up-leave`]:{animationName:S,animationDuration:d,animationPlayState:"paused",animationTimingFunction:u},[`${t}-move-up-leave${t}-move-up-leave-active`]:{animationPlayState:"running"},"&-rtl":{direction:"rtl",span:{direction:"rtl"}}})},{[t]:{[`${v}-wrapper`]:Object.assign({},x)}},{[`${t}-notice-pure-panel`]:Object.assign(Object.assign({},x),{padding:0,textAlign:"start"})}]})((0,S.oX)(e,{height:150})),e=>({zIndexPopup:e.zIndexPopupBase+v.jH+10,contentBg:e.colorBgElevated,contentPadding:`${(e.controlHeightLG-e.fontSize*e.lineHeight)/2}px ${e.paddingSM}px`}));const I={info:o.createElement(f.A,null),success:o.createElement(l.A,null),error:o.createElement(u.A,null),warning:o.createElement(d.A,null),loading:o.createElement(h.A,null)},A=({prefixCls:e,type:t,icon:n,children:r})=>o.createElement("div",{className:g()(`${e}-custom-content`,`${e}-${t}`)},n||I[t],o.createElement("span",null,r));var C=n(47852),k=n(18877);function E(e){let t;const n=new Promise(n=>{t=e(()=>{n(!0)})}),r=()=>{null==t||t()};return r.then=(e,t)=>n.then(e,t),r.promise=n,r}const T=3,P=({children:e,prefixCls:t})=>{const n=(0,y.A)(t),[r,i,s]=x(t,n);return r(o.createElement(m.ph,{classNames:{list:g()(i,s,n)}},e))},M=(e,{prefixCls:t,key:n})=>o.createElement(P,{prefixCls:t,key:n},e),O=o.forwardRef((e,t)=>{const{top:n,prefixCls:r,getContainer:i,maxCount:a,duration:c=T,rtl:l,transitionName:u,onAllRemoved:d}=e,{getPrefixCls:f,getPopupContainer:h,message:p,direction:y}=o.useContext(s.QO),b=r||f("message"),v=o.createElement("span",{className:`${b}-close-x`},o.createElement(C.A,{className:`${b}-close-icon`})),[_,w]=(0,m.hN)({prefixCls:b,style:()=>({left:"50%",transform:"translateX(-50%)",top:null!=n?n:8}),className:()=>g()({[`${b}-rtl`]:null!=l?l:"rtl"===y}),motion:()=>function(e,t){return{motionName:null!=t?t:`${e}-move-up`}}(b,u),closable:!1,closeIcon:v,duration:c,getContainer:()=>(null==i?void 0:i())||(null==h?void 0:h())||document.body,maxCount:a,onAllRemoved:d,renderNotifications:M});return o.useImperativeHandle(t,()=>Object.assign(Object.assign({},_),{prefixCls:b,message:p})),w});let D=0;function R(e){const t=o.useRef(null),n=((0,k.rJ)("Message"),o.useMemo(()=>{const e=e=>{var n;null===(n=t.current)||void 0===n||n.close(e)},n=n=>{if(!t.current){const e=()=>{};return e.then=()=>{},e}const{open:r,prefixCls:i,message:s}=t.current,a=`${i}-notice`,{content:c,icon:l,type:u,key:d,className:f,style:h,onClose:p}=n,m=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(n,["content","icon","type","key","className","style","onClose"]);let y=d;return null==y&&(D+=1,y=`antd-message-${D}`),E(t=>(r(Object.assign(Object.assign({},m),{key:y,content:o.createElement(A,{prefixCls:i,type:u,icon:l},c),placement:"top",className:g()(u&&`${a}-${u}`,f,null==s?void 0:s.className),style:Object.assign(Object.assign({},null==s?void 0:s.style),h),onClose:()=>{null==p||p(),t()}})),()=>{e(y)}))},r={open:n,destroy:n=>{var r;void 0!==n?e(n):null===(r=t.current)||void 0===r||r.destroy()}};return["info","success","warning","error","loading"].forEach(e=>{r[e]=(t,r,o)=>{let i,s,a;i=t&&"object"==typeof t&&"content"in t?t:{content:t},"function"==typeof r?a=r:(s=r,a=o);const c=Object.assign(Object.assign({onClose:a,duration:s},i),{type:e});return n(c)}}),r},[]));return[n,o.createElement(O,Object.assign({key:"message-holder"},e,{ref:t}))]}let N=null,F=e=>e(),L=[],B={};function $(){const{getContainer:e,duration:t,rtl:n,maxCount:r,top:o}=B,i=(null==e?void 0:e())||document.body;return{getContainer:()=>i,duration:t,rtl:n,maxCount:r,top:o}}const j=o.forwardRef((e,t)=>{const{messageConfig:n,sync:r}=e,{getPrefixCls:a}=(0,o.useContext)(s.QO),c=B.prefixCls||a("message"),l=(0,o.useContext)(i.B),[u,d]=R(Object.assign(Object.assign(Object.assign({},n),{prefixCls:c}),l.message));return o.useImperativeHandle(t,()=>{const e=Object.assign({},u);return Object.keys(e).forEach(t=>{e[t]=(...e)=>(r(),u[t].apply(u,e))}),{instance:e,sync:r}}),d}),U=o.forwardRef((e,t)=>{const[n,r]=o.useState($),i=()=>{r($)};o.useEffect(i,[]);const s=(0,a.cr)(),c=s.getRootPrefixCls(),l=s.getIconPrefixCls(),u=s.getTheme(),d=o.createElement(j,{ref:t,sync:i,messageConfig:n});return o.createElement(a.Ay,{prefixCls:c,iconPrefixCls:l,theme:u},s.holderRender?s.holderRender(d):d)}),z=()=>{if(!N){const e=document.createDocumentFragment(),t={fragment:e};return N=t,void F(()=>{(0,c.L)()(o.createElement(U,{ref:e=>{const{instance:n,sync:r}=e||{};Promise.resolve().then(()=>{!t.instance&&n&&(t.instance=n,t.sync=r,z())})}}),e)})}N.instance&&(L.forEach(e=>{const{type:t,skipped:n}=e;if(!n)switch(t){case"open":F(()=>{const t=N.instance.open(Object.assign(Object.assign({},B),e.config));null==t||t.then(e.resolve),e.setCloseFn(t)});break;case"destroy":F(()=>{null==N||N.instance.destroy(e.key)});break;default:F(()=>{var n;const o=(n=N.instance)[t].apply(n,(0,r.A)(e.args));null==o||o.then(e.resolve),e.setCloseFn(o)})}}),L=[])},V={open:function(e){const t=E(t=>{let n;const r={type:"open",config:e,resolve:t,setCloseFn:e=>{n=e}};return L.push(r),()=>{n?F(()=>{n()}):r.skipped=!0}});return z(),t},destroy:e=>{L.push({type:"destroy",key:e}),z()},config:function(e){B=Object.assign(Object.assign({},B),e),F(()=>{var e;null===(e=null==N?void 0:N.sync)||void 0===e||e.call(N)})},useMessage:function(e){return R(e)},_InternalPanelDoNotUseOrYouWillBeFired:e=>{const{prefixCls:t,className:n,type:r,icon:i,content:a}=e,c=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(e,["prefixCls","className","type","icon","content"]),{getPrefixCls:l}=o.useContext(s.QO),u=t||l("message"),d=(0,y.A)(u),[f,h,p]=x(u,d);return f(o.createElement(m.$T,Object.assign({},c,{prefixCls:u,className:g()(n,h,`${u}-notice-pure-panel`,p,d),eventKey:"pure",duration:null,content:o.createElement(A,{prefixCls:u,type:r,icon:i},a)})))}};["success","info","warning","error","loading"].forEach(e=>{V[e]=(...t)=>function(e,t){(0,a.cr)();const n=E(n=>{let r;const o={type:e,args:t,resolve:n,setCloseFn:e=>{r=e}};return L.push(o),()=>{r?F(()=>{r()}):o.skipped=!0}});return z(),n}(e,t)});const q=V},69982:(e,t,n)=>{"use strict";e.exports=n(7463)},70019:function(e,t,n){var r,o,i,s,a,c,l,u,d;e.exports=(d=n(19021),n(63009),n(51025),i=(o=(r=d).lib).Base,s=o.WordArray,c=(a=r.algo).SHA256,l=a.HMAC,u=a.PBKDF2=i.extend({cfg:i.extend({keySize:4,hasher:c,iterations:25e4}),init:function(e){this.cfg=this.cfg.extend(e)},compute:function(e,t){for(var n=this.cfg,r=l.create(n.hasher,e),o=s.create(),i=s.create([1]),a=o.words,c=i.words,u=n.keySize,d=n.iterations;a.length<u;){var f=r.update(t).finalize(i);r.reset();for(var h=f.words,p=h.length,g=f,m=1;m<d;m++){g=r.finalize(g),r.reset();for(var y=g.words,b=0;b<p;b++)h[b]^=y[b]}o.concat(f),c[0]++}return o.sigBytes=4*u,o}}),r.PBKDF2=function(e,t,n){return u.create(n).compute(e,t)},d.PBKDF2)},70025:function(e,t,n){var r,o,i,s;e.exports=(s=n(19021),n(57165),o=(r=s).lib.CipherParams,i=r.enc.Hex,r.format.Hex={stringify:function(e){return e.ciphertext.toString(i)},parse:function(e){var t=i.parse(e);return o.create({ciphertext:t})}},s.format.Hex)},70636:(e,t,n)=>{"use strict";n.d(t,{F9:()=>g,PU:()=>h,Q5:()=>y,cy:()=>p,em:()=>m,mO:()=>f,vj:()=>d});var r=n(31481),o=n(9716),i=n(43044),s=n(529),a=n(60919),c=n(13439),l=n(62214),u=n(79089);function d(e){return"title"in e}function f(e){return!d(e)}function h({ids:e,query:t,type:n="peer"}){if(!t)return e;const r=(0,c.mS)(),o=(0,i.Yw)(),u=(0,s.l)(t),f="chat"===n?a.hds:"user"===n?a.mBe:a.PVB;return e.filter(e=>{const t=f(r,e);if(!t)return!1;const n=d(t)?(0,l.Js)(o,t):e===r.currentUserId?o("SavedMessages"):void 0,i=n?u(n):void 0,s=m(o,t);return i||s&&u(s)||Boolean(t.usernames?.find(({username:e})=>u(e)))})}function p(e){return d(e)?"chatTypeBasicGroup"===e.type||"chatTypeSuperGroup"===e.type?"ChatList.PeerTypeGroup":"chatTypeChannel"===e.type?"ChatList.PeerTypeChannel":"chatTypePrivate"===e.type?"ChatList.PeerTypeNonContact":void 0:e.id===r.zv8?"ServiceNotifications":e.isSupport?"SupportStatus":e.type&&"userTypeBot"===e.type?"ChatList.PeerTypeBot":e.isContact?"ChatList.PeerTypeContact":"ChatList.PeerTypeNonContactUser"}function g(e,t){if(t)return"isCustomPeer"in t?t.titleKey?e(t.titleKey):t.title:f(t)?(0,u.u0)(t):(0,l.Js)(e,t)}function m(e,t){if(t)return"isCustomPeer"in t?t.titleKey?e(t.titleKey):t.title:f(t)?(0,u.Yg)(t):(0,l.Js)(e,t)}function y(e,t,n){if(!(0,o.L8)(t)){if(d(n)){if(t===n.id)return;return n.title}return n.isSelf?e("FromYou"):g(e,n)}}},70758:(e,t,n)=>{"use strict";function r(e){return new Promise((t,n)=>{e.oncomplete=e.onsuccess=()=>t(e.result),e.onabort=e.onerror=()=>n(e.error)})}function o(e,t){let n;return(o,i)=>(()=>{if(n)return n;const o=indexedDB.open(e);return o.onupgradeneeded=()=>o.result.createObjectStore(t),n=r(o),n.then(e=>{e.onclose=()=>n=void 0},()=>{}),n})().then(e=>i(e.transaction(t,o).objectStore(t)))}let i;function s(){return i||(i=o("keyval-store","keyval")),i}function a(e,t){return e.openCursor().onsuccess=function(){this.result&&(t(this.result),this.result.continue())},r(e.transaction)}n.d(t,{xS:()=>d,qc:()=>l,B6:()=>u});class c{constructor(e){var t,n,r;t=this,r=void 0,(n=function(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(n="store"))in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,this.store=o(e,"store")}set(e,t){return function(e,t,n=s()){return n("readwrite",n=>(n.put(t,e),r(n.transaction)))}(e,t,this.store)}setMany(e){return function(e,t=s()){return t("readwrite",t=>(e.forEach(e=>t.put(e[1],e[0])),r(t.transaction)))}(e,this.store)}get(e){return function(e,t=s()){return t("readonly",t=>r(t.get(e)))}(e,this.store)}getMany(e){return function(e,t=s()){return t("readonly",t=>Promise.all(e.map(e=>r(t.get(e)))))}(e,this.store)}clear(){return function(e=s()){return e("readwrite",e=>(e.clear(),r(e.transaction)))}(this.store)}del(e){return function(e,t=s()){return t("readwrite",t=>(t.delete(e),r(t.transaction)))}(e,this.store)}delMany(e){return function(e,t=s()){return t("readwrite",t=>(e.forEach(e=>t.delete(e)),r(t.transaction)))}(e,this.store)}entries(){return function(e=s()){return e("readonly",t=>{if(t.getAll&&t.getAllKeys)return Promise.all([r(t.getAllKeys()),r(t.getAll())]).then(([e,t])=>e.map((e,n)=>[e,t[n]]));const n=[];return e("readonly",e=>a(e,e=>n.push([e.key,e.value])).then(()=>n))})}(this.store)}keys(){return function(e=s()){return e("readonly",e=>{if(e.getAllKeys)return r(e.getAllKeys());const t=[];return a(e,e=>t.push(e.key)).then(()=>t)})}(this.store)}values(){return function(e=s()){return e("readonly",e=>{if(e.getAll)return r(e.getAll());const t=[];return a(e,e=>t.push(e.value)).then(()=>t)})}(this.store)}update(e,t){return function(e,t,n=s()){return n("readwrite",n=>new Promise((o,i)=>{n.get(e).onsuccess=function(){try{n.put(t(this.result),e),o(r(n.transaction))}catch(e){i(e)}}}))}(e,t,this.store)}}const l=new c("tt-data"),u=new c("tt-passcode"),d=new c("tt-chatai-data")},70874:(e,t,n)=>{"use strict";n.d(t,{W:()=>a,j:()=>s});var r=n(23174),o=n(21309);const i=/\b(?:(\d{1,2}):)?([0-5]?\d):([0-5]\d)\b/g;function s(e){const t={text:e.text,entities:e.entities?.filter(e=>e.type!==r.C7.Timestamp)||[]},n=t.text;for(const e of n.matchAll(i)){const n=e[0],i=e[1],s=e[2],a=e[3],c=e.index??0,l=n.length,u=parseInt(s,10),d=parseInt(a,10);if(u>59||d>59)continue;let f;if(void 0!==i){const e=parseInt(i,10);f=(0,o.Sy)(e,u,d)}else f=(0,o.Sy)(0,u,d);let h=!1;for(const e of t.entities)if(c<e.offset+e.length&&c+l>e.offset){h=!0;break}if(h)continue;const p={type:r.C7.Timestamp,offset:c,length:l,timestamp:f};let g=!1;for(let e=0;e<t.entities.length;e++)if(c<t.entities[e].offset){t.entities.splice(e,0,p),g=!0;break}g||t.entities.push(p)}return t}function a(e){if(!(e=e.trim()).startsWith("-")&&Number.isInteger(Number(e)))return parseInt(e,10);if(e.includes(":")){const t=e.split(":");if(2===t.length){const e=parseInt(t[0],10),n=parseInt(t[1],10);if(Number.isNaN(e)||Number.isNaN(n)||e<0||n<0||n>=60)return;return 60*e+n}if(3===t.length){const e=parseInt(t[0],10),n=parseInt(t[1],10),r=parseInt(t[2],10);if(Number.isNaN(e)||Number.isNaN(n)||Number.isNaN(r)||e<0||n<0||r<0||n>=60||r>=60)return;return 3600*e+60*n+r}return}const t=e.match(/^(?:(\d+)h)?(?:(\d+)m)?(?:(\d+)s)?$/i);if(!t)return;const n=t[1]?parseInt(t[1],10):0,r=t[2]?parseInt(t[2],10):0,o=t[3]?parseInt(t[3],10):0;return Number.isNaN(n)||Number.isNaN(r)||Number.isNaN(o)||r>=60||o>=60?void 0:3600*n+60*r+o}},70934:(e,t,n)=>{"use strict";n.d(t,{H:()=>_,IG:()=>f,Mv:()=>l,UQ:()=>g,WN:()=>y,dl:()=>u,m:()=>m,tn:()=>d,ug:()=>p,yp:()=>h});var r=n(31481),o=n(70758),i=n(74824);const s=12,a="harder better faster stronger";let c;class l extends Error{}function u(){return c}function d(e){c=e}async function f(e){c=await b(e)}async function h(e,t){if(!c)throw console.error("[api/passcode] Missing current passcode"),new Error("[api/passcode] Missing current passcode");await Promise.all([(async()=>{if(!e)return;const t=await S(e,c);await v("sessionEncrypted",t)})(),(async()=>{if(!t)return;const e=await S(t,c);await v("globalEncrypted",e)})()])}async function p(){if(!c)throw console.error("[api/passcode] Missing current passcode"),new Error("[api/passcode] Missing current passcode");const[e,t]=await Promise.all([w("sessionEncrypted"),w("globalEncrypted")]);if(!e||!t)throw console.error("[api/passcode] Missing required stored fields"),new Error("[api/passcode] Missing required stored fields");try{const[n,r]=await Promise.all([x(e,c),x(t,c)]);return{sessionJson:n,globalJson:r}}catch(e){throw console.error("[api/passcode] Error decrypting session",e),e}}async function g(e){const t=await b(e),[n,r]=await Promise.all([w("sessionEncrypted"),w("globalEncrypted")]);if(!n||!r)throw console.error("[api/passcode] Missing required stored fields"),new l("[api/passcode] Missing required stored fields");try{const[e,o]=await Promise.all([x(n,t),x(r,t)]);return c=t,{sessionJson:e,globalJson:o}}catch(e){throw console.error("[api/passcode] Error decrypting session",e),e}}function m(){c=void 0}function y(){return m(),o.B6.clear(),i.clear(r.oBq)}function b(e){return crypto.subtle.digest("SHA-256",(new TextEncoder).encode(`${e}${a}`))}function v(e,t){const n=Array.from(new Uint8Array(t));return o.B6.set(e,n)}function _(){return o.B6.get("sessionEncrypted")}async function w(e){const t=await o.B6.get(e);return t?new Uint8Array(t).buffer:i.fetch(r.oBq,e,i.Type.ArrayBuffer)}async function S(e,t){const n=crypto.getRandomValues(new Uint8Array(s)),r={name:"AES-GCM",iv:n},o=await crypto.subtle.importKey("raw",t,r,!1,["encrypt"]),i=(new TextEncoder).encode(e),a=await crypto.subtle.encrypt(r,o,i),c=new Uint8Array(a),l=new Uint8Array(s+c.length);return l.set(n,0),l.set(c,s),l.buffer}async function x(e,t){const n=new Uint8Array(e),r={name:"AES-GCM",iv:n.slice(0,s)},o=await crypto.subtle.importKey("raw",t,r,!1,["decrypt"]),i=n.slice(s),a=await crypto.subtle.decrypt(r,o,i);return(new TextDecoder).decode(a)}},71322:(e,t,n)=>{"use strict";n.d(t,{Ay:()=>p,E2:()=>d,dD:()=>f});var r=n(66644);const o=JSON.parse('{"--color-primary":["#3390EC","#8774E1"],"--color-primary-opacity":["#50A2E91E","#8378DB1E"],"--color-primary-opacity-hover":["#50A2E940","#8378DB40"],"--color-primary-tint":["#3390ec1a","#8774e11a"],"--color-primary-shade":["#4a95d6","#7b71c6"],"--color-background":["#FFFFFF","#212121"],"--color-background-compact-menu":["#FFFFFFBB","#212121DD"],"--color-web-app-browser":["#FFFFFFBB","#0303038F"],"--color-background-compact-menu-reactions":["#FFFFFFEB","#212121DD"],"--color-background-compact-menu-hover":["#00000011","#00000066"],"--color-background-secondary":["#f4f4f5","#0F0F0F"],"--color-background-secondary-accent":["#E4E4E5","#191919"],"--color-background-own":["#EEFFDE","#766AC8"],"--color-background-own-apple":["#DCF8C5","#766AC8"],"--color-background-selected":["#F4F4F5","#2C2C2C"],"--color-background-own-selected":["#d0ffac","#6549d4"],"--color-chat-hover":["#F4F4F5","#2C2C2C"],"--color-chat-active":["#3390EC","#766AC8"],"--color-chat-active-greyed":["#60a7f0","#9288d3"],"--color-item-hover":["#f4f4f5","#2c2c2c"],"--color-item-active":["#ededed","#292929"],"--color-text":["#000000","#FFFFFF"],"--color-text-secondary":["#707579","#AAAAAA"],"--color-icon-secondary":["#707579","#AAAAAA"],"--color-text-secondary-apple":["#8E8E92","#AAAAAA"],"--color-borders":["#DADCE0","#303030"],"--color-borders-input":["#DADCE0","#5B5B5A"],"--color-dividers":["#C8C6CC","#3B3B3D"],"--color-dividers-android":["#E7E7E7","#0F0F0F"],"--color-links":["#3390EC","#8774E1"],"--color-gray":["#C4C9CC","#717579"],"--color-list-icon":["#ABAFB1","#A2A2A2"],"--color-default-shadow":["#72727240","#1010109c"],"--color-light-shadow":["#7272722B","#00000040"],"--color-green":["#00C73E","#8774E1"],"--color-green-darker":["#00a734","#7b71c6"],"--color-success":["#00C73E","#00C73E"],"--color-text-meta-colored":["#4DCD5E","#8378DB"],"--color-reply-hover":["#F4F4F4","#272727"],"--color-reply-active":["#E8E9E9","#2E2F2F"],"--color-reply-own-hover":["#D9F5CE","#8775DA"],"--color-reply-own-hover-apple":["#cbefb7","#8775DA"],"--color-reply-own-active":["#C5ECBE","#917DEA"],"--color-reply-own-active-apple":["#bae6a8","#917DEA"],"--color-accent-own":["#45AF54","#FFFFFF"],"--color-message-meta-own":["#4FAE4EFF","#FFFFFF88"],"--color-own-links":["#3390EC","#FFFFFF"],"--color-code":["#4a729a","#8774E1"],"--color-code-own":["#3c7940","#FFFFFF"],"--color-code-bg":["#70757914","#00000080"],"--color-code-own-bg":["#70757914","#00000050"],"--color-composer-button":["#707579CC","#AAAAAACC"],"--color-message-reaction":["#ebf3fd","#2b2a35"],"--color-message-reaction-hover":["#c5def9","#343147"],"--color-message-reaction-own":["#c6eab2","#675CAF"],"--color-message-reaction-hover-own":["#b5e0a4","#5B529B"],"--color-message-reaction-chosen-hover":["#1a82ea","#7864dd"],"--color-message-reaction-chosen-hover-own":["#3f9d4b","#f5f5f5"],"--color-message-non-contact":["#cceebf","#AAAAAA"],"--color-voice-transcribe-button":["#e8f3ff","#2a2a3c"],"--color-voice-transcribe-button-own":["#cceebf","#8373d3"],"--color-topic-blue":["#2F7772","#6ff9f0"],"--color-topic-yellow":["#7F693B","#ffd67e"],"--color-topic-violet":["#8B5A96","#cb86db"],"--color-topic-green":["#44774A","#8eee98"],"--color-topic-rose":["#9B576B","#ff93b2"],"--color-topic-red":["#EB6858","#fb6f5f"],"--color-topic-grey":["#6C6C6C","#999999"],"--color-forum-unread-topic-hover":["#e9e9e9","#363636"],"--color-forum-hover-unread-topic-hover":["#e2e2e2","#3f3f3f"],"--color-chat-username":["#3C7EB0","#E9EEF4"],"--color-borders-read-story":["#C4C9CC","#737373"],"--color-background-menu-separator":["#0000001a","#ffffff1a"],"--color-hover-overlay":["#00000006","#ffffff06"],"--color-urgent-message-bg":["#FFF9F9","#212121"],"--color-aichatfolders-tag-bg-active":["#3290EC","#8774E1"],"--color-aichatfolders-tag-bg":["#EFF8FE","#3C3C3C"],"--color-aichatfolders-tag-text":["#000000","#ffffff"],"--color-aichatfolders-tag-border":["#ffffff","#212121"],"--color-aichatfolders-tag-close-color":["#00000029","#FFFFFF33"],"--color-menu-submenu-bg":["#f2f9ef","#312f3b"],"--color-ai-room-bubble-bg":["#E5D9FF","#8774E1"],"--color-ai-room-mention-reply-bg":["#F4F4F4","#383838"],"--color-ai-room-media-bg":["#FFFFFF","#383838"],"--color-avatar-menu-bg":["#FBFBFB","#212121DD"]}');var i=n(19822),s=n(43336);let a=!1;const c=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})?$/i,l=new Set(["--color-text","--color-primary-shade","--color-text-secondary","--color-accent-own"]),u=Object.keys(o).map(e=>({property:e,colors:[d(o[e][0]),d(o[e][1])]}));function d(e){const t=c.exec(e);return{r:parseInt(t[1],16),g:parseInt(t[2],16),b:parseInt(t[3],16),a:void 0!==t[4]?parseInt(t[4],16):void 0}}function f(e,t,n){return{r:Math.round((0,s.Cc)(e.r,t.r,n)),g:Math.round((0,s.Cc)(e.g,t.g,n)),b:Math.round((0,s.Cc)(e.b,t.b,n)),a:void 0!==e.a?Math.round((0,s.Cc)(e.a,t.a,n)):void 0}}function h(e,t,n=1){u.forEach(({property:r,colors:o})=>{const{r:i,g:s,b:a,a:c}=f(o[e],o[t],n),u=void 0!==c?Math.round(c/255*1e3)/1e3:void 0;document.documentElement.style.setProperty(r,`rgb(${i},${s},${a}${u?`,${u}`:""})`),l.has(r)&&document.documentElement.style.setProperty(`${r}-rgb`,`${i},${s},${a}`)})}const p=(e,t)=>{const n=`theme-${e}`;if(document.documentElement.classList.contains(n))return;const o="dark"===e,s=a&&t,c=o?0:1,l=o?1:0,u=Date.now(),d=document.querySelector('meta[name="theme-color"]');(0,r.RK)(()=>{let e;document.documentElement.classList.remove("theme-"+(o?"light":"dark")),a&&(e=(()=>{const e=document.createElement("style");return e.textContent="\n.no-animations #root *,\n.no-animations #root *::before,\n.no-animations #root *::after {\n  transition: none !important;\n}",document.head.appendChild(e),()=>{document.head.removeChild(e)}})(),document.documentElement.classList.add("no-animations")),document.documentElement.classList.add(n),d&&d.setAttribute("content",o?"#212121":"#fff"),setTimeout(()=>{(0,r.RK)(()=>{e?.(),document.documentElement.classList.remove("no-animations")})},500),a=!0,s?(0,i.i0)(()=>{const e=Math.min((Date.now()-u)/200,1);return h(c,l,function(e){return 1-(1-e)**3.5}(e)),e<1},r.RK):h(c,l)})}},71331:(e,t,n)=>{"use strict";n.d(t,{Ip:()=>a,O7:()=>f,iT:()=>u,mD:()=>s,n5:()=>c,qI:()=>l,uu:()=>d});var r=n(90709),o=n(21133),i=n(19926);function s(e,t){const n=(0,o.AW)(e,t);if(n&&n.groupCallId)return a(e,n.groupCallId)}function a(e,t){return e.groupCalls.byId[t]}function c(e,t,n){return a(e,t)?.participants[n]}function l(e){const t=u(e)?.chatId;if(!t)return!1;const n=(0,o.hd)(e,t);return!!n&&((0,r.yn)(n)&&n.isCreator||Boolean(n.adminRights?.manageCall))}function u(e){const{groupCalls:{activeGroupCallId:t}}=e;if(t)return a(e,t)}function d(e){const{phoneCall:t,currentUserId:n}=e;if(!t||!t.participantId||!t.adminId)return;const r=t.adminId===n?t.participantId:t.adminId;return(0,i.mB)(e,r)}function f(e){const t=u(e);if(!t||!t.chatId)return!1;const n=(0,o.hd)(e,t.chatId);if(!n)return!1;if(Boolean((0,r.Kl)(n)))return!0;const i=(0,o.AW)(e,n.id)?.inviteLink;return Boolean(i)}},71429:(e,t,n)=>{"use strict";n.d(t,{A:()=>w});var r=n(84051),o=n(96454),i=n(87357),s=n(11778),a=n(54464),c=n(43874),l=n(82117),u=n(26072),d=n(10328),f=n(17712),h=n(61433),p=n(66644),g=n(41257);const m={width:0,left:0,height:0,top:0};function y(e,t,{positionX:n="left",positionY:r="top",transformOriginX:o,transformOriginY:i,style:s,bubbleStyle:a}){const c=e.current,l=t.current;s&&(c.style.cssText=s),a&&(l.style.cssText=a),n&&((0,h.HW)(l,"left"===n?"right":"left"),(0,h.YM)(l,n)),r&&((0,h.HW)(l,"top"===r?"bottom":"top"),(0,h.YM)(l,r)),(0,h.Tv)(l,{transformOrigin:[o?`${o}px`:n,i?`${i}px`:r].join(" ")})}var b=n(34201),v=n(22802),_=n(3325);const w=(0,r.ph)(({ref:e,shouldCloseFast:t,isOpen:n,id:h,className:w,bubbleClassName:S,ariaLabelledBy:x,children:I,autoClose:A=!1,footer:C,noCloseOnBackdrop:k=!1,backdropExcludedSelector:E,noCompact:T,onCloseAnimationEnd:P,onClose:M,onMouseEnter:O,onMouseLeave:D,withPortal:R,onMouseEnterBackdrop:N,...F})=>{const{isTouchScreen:L}=(0,c.Ay)(),B=(0,r.li)(),{ref:$}=(0,b.A)({isOpen:n,ref:e,onCloseAnimationEnd:P});(function(e,t,n,o){const i=(0,g.i)(o);(0,r.Nf)(()=>{if(!e)return;const r=i.current;"getTriggerElement"in r?(0,p.gm)(()=>{const e=function(e,t,{anchor:n,getRootElement:r,getMenuElement:o,getTriggerElement:i,getLayout:s,withMaxHeight:a}){const c=i();let{x:l,y:u}=n;const d=l,f=u,h=o(),p=r(),{extraPaddingX:g=0,extraTopPadding:y=0,extraMarginTop:b=0,topShiftY:v=0,menuElMinWidth:_=0,deltaX:w=0,shouldAvoidNegativePosition:S=!1,withPortal:x=!1,isDense:I=!1}=s?.()||{},A=h?parseInt(getComputedStyle(h).marginTop,10)+b:void 0,{offsetWidth:C,offsetHeight:k}=h||{offsetWidth:0,offsetHeight:0},E=h?{width:Math.max(C,_),height:k+A}:m,T=p?p.getBoundingClientRect():m;let P,M;I||l+E.width+g<T.width+T.left?(l+=3,P="left"):l-E.width-T.left>0?(P="right",l-=3):(P="left",l=16),l+=w;const O=u+v;I||O+E.height<T.height+T.top?(M="top",u=O):(M="bottom",u-E.height<T.top+y&&(u=T.top+T.height));const D=c.getBoundingClientRect(),R=x?D.top:0,N=x?D.left:0,F=Math.min(l-D.left,T.width-E.width-16);let L=("left"===P?x||S?Math.max(16,F):F:l-D.left)+N,B=u-D.top+R;I&&(L=Math.min(L,T.width-E.width-16),B=Math.min(B,T.height-E.height-16));const $=_?Math.max(0,(_-C)/2):0;L-$<0&&S&&(L=$+16);const j=d+N-D.left-L,U=f+R-D.top-B-(A||0),z="left"===P?j:E.width+j,V="bottom"===M?E.height+U:U,q=`left: ${L}px; top: ${B}px`;let H;return a&&(H=`max-height: ${T.height-12-(A||0)}px;`),{positionX:P,positionY:M,transformOriginX:z,transformOriginY:V,style:q,bubbleStyle:H}}(0,0,r);return()=>{y(t,n,e)}}):y(t,n,r)},[e,t,n,i])})(n,B,$,F),(0,r.vJ)(()=>n?(0,s.A)(M):void 0,[n,M]),(0,u.A)({isActive:n,onBack:M,shouldBeReplaced:!0}),(0,l.A)(([e])=>{(n||!n&&!0===e)&&(0,r.VK)(200)},[n]);const j=(0,d.A)($,n,A?M:void 0,void 0,!0);(0,v.A)(n,B,k?void 0:M,void 0,E);const U=(0,i.A)("bubble menu-container custom-scroll",C&&"with-footer",S,t&&"close-fast"),z=(0,f.A)(e=>{e.stopPropagation(),A&&M()}),V=r.Ay.createElement("div",{ref:B,id:h,className:(0,i.A)("Menu",!T&&!L&&"compact",!o.Fy&&"no-blur",R&&"in-portal",w),"aria-labelledby":x,role:x?"menu":void 0,onKeyDown:n?j:void 0,onMouseEnter:O,onMouseLeave:n?D:void 0},n&&r.Ay.createElement("div",{className:"backdrop",onMouseDown:a.u,onMouseEnter:N}),r.Ay.createElement("div",{role:"presentation",ref:$,className:U,onClick:z},I,C&&r.Ay.createElement("div",{className:"footer"},C)));return R?r.Ay.createElement(_.A,null,V):V})},71533:(e,t,n)=>{"use strict";n.d(t,{A:()=>c});var r=n(84051),o=n(22986),i=n(80853),s=n(37836),a=n(17712);const c=(e=!1,t,n)=>{const[c,l]=(0,r.J0)(!e),[u,d]=(0,r.J0)(!1),[f,h]=(0,r.J0)(0),[p,g]=(0,r.J0)([]),m=(0,r.Kr)(()=>(0,s.sg)(l,200,!1,!0),[]),y=(0,a.A)(e=>{const r=e.currentTarget;if(r.duration<.1)n?.();else if("timeupdate"===e.type&&t?.(e),!(0,i.f)(r)){if(r.buffered.length){const e=function(e,t){const n=[];for(let r=0;r<e.length;r++)n.push({start:e.start(r)/t,end:e.end(r)/t});return n}(r.buffered,r.duration),t=e.reduce((e,{start:t,end:n})=>e+n-t,0);h(t/r.duration),g(t=>(0,o.T)(t,e)?t:e)}m(r.readyState>=3||r.currentTime>0),d(e=>e||r.readyState>3)}});return{isReady:u,isBuffered:c,bufferedProgress:f,bufferedRanges:p,bufferingHandlers:{onPLay:y,onLoadedData:y,onPlaying:y,onLoadStart:y,onPause:y,onTimeUpdate:y,onProgress:y},checkBuffering(e){m(e.readyState>=3)}}}},72065:(e,t,n)=>{"use strict";n.d(t,{A:()=>c});var r=n(89379),o="".concat("accept acceptCharset accessKey action allowFullScreen allowTransparency\n    alt async autoComplete autoFocus autoPlay capture cellPadding cellSpacing challenge\n    charSet checked classID className colSpan cols content contentEditable contextMenu\n    controls coords crossOrigin data dateTime default defer dir disabled download draggable\n    encType form formAction formEncType formMethod formNoValidate formTarget frameBorder\n    headers height hidden high href hrefLang htmlFor httpEquiv icon id inputMode integrity\n    is keyParams keyType kind label lang list loop low manifest marginHeight marginWidth max maxLength media\n    mediaGroup method min minLength multiple muted name noValidate nonce open\n    optimum pattern placeholder poster preload radioGroup readOnly rel required\n    reversed role rowSpan rows sandbox scope scoped scrolling seamless selected\n    shape size sizes span spellCheck src srcDoc srcLang srcSet start step style\n    summary tabIndex target title type useMap value width wmode wrap"," ").concat("onCopy onCut onPaste onCompositionEnd onCompositionStart onCompositionUpdate onKeyDown\n    onKeyPress onKeyUp onFocus onBlur onChange onInput onSubmit onClick onContextMenu onDoubleClick\n    onDrag onDragEnd onDragEnter onDragExit onDragLeave onDragOver onDragStart onDrop onMouseDown\n    onMouseEnter onMouseLeave onMouseMove onMouseOut onMouseOver onMouseUp onSelect onTouchCancel\n    onTouchEnd onTouchMove onTouchStart onScroll onWheel onAbort onCanPlay onCanPlayThrough\n    onDurationChange onEmptied onEncrypted onEnded onError onLoadedData onLoadedMetadata\n    onLoadStart onPause onPlay onPlaying onProgress onRateChange onSeeked onSeeking onStalled onSuspend onTimeUpdate onVolumeChange onWaiting onLoad onError").split(/[\s\n]+/),i="aria-",s="data-";function a(e,t){return 0===e.indexOf(t)}function c(e){var t,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t=!1===n?{aria:!0,data:!0,attr:!0}:!0===n?{aria:!0}:(0,r.A)({},n);var c={};return Object.keys(e).forEach(function(n){(t.aria&&("role"===n||a(n,i))||t.data&&a(n,s)||t.attr&&o.includes(n))&&(c[n]=e[n])}),c}},72531:(e,t,n)=>{"use strict";function r(e,t,n){return(t=function(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,{A:()=>s,E:()=>o});let o=function(e){return e.HideMenu="HideMenu",e.ShowMenu="ShowMenu",e.ShowTranslateModal="ShowTranslateModal",e.ChatAIStoreReady="ChatAIStoreReady",e.NewTextMessage="NewTextMessage",e.AddUrgentMessage="AddUrgentMessage",e.AddSummaryMessage="AddSummaryMessage",e.UpdateSummaryChats="UpdateSummaryChats",e.CreateCalendarSuccess="CreateCalendarSuccess",e.GoogleAuthSuccess="GoogleAuthSuccess",e.UpdateGoogleToken="UpdateGoogleToken",e.AddRoomAIMessage="AddRoomAIMessage",e.UpdateRoomAIUnreadCount="UpdateRoomAIUnreadCount",e.UpdateRoomAISummaryState="UpdateRoomAISummaryState",e.IntentionToScheduleMeeting="IntentionToScheduleMeeting",e.RoomAIActions="RoomAIActions",e.UpdateAIChatFoldersApplying="UpdateAIChatFoldersApplying",e.UpdateSettingAIChatFoldersLoading="UpdateSettingAIChatFoldersLoading",e.UpdateFirebaseConfig="UpdateFirebaseConfig",e}({});class i{constructor(){r(this,"events",void 0),this.events={}}on(e,t){this.events[e]||(this.events[e]=[]),this.events[e].push(t)}emit(e,...t){this.events[e]&&this.events[e].forEach(e=>e(...t))}off(e,t){this.events[e]&&(this.events[e]=this.events[e].filter(e=>e!==t))}once(e,t){const n=(...r)=>{t(...r),this.off(e,n)};this.on(e,n)}static getInstance(){return i.instance||(i.instance=new i),i.instance}}r(i,"instance",void 0);const s=i.getInstance()},72603:()=>{},72616:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=n(96540).createContext(void 0)},72633:(e,t,n)=>{"use strict";function r(e){var t;return null==e||null===(t=e.getRootNode)||void 0===t?void 0:t.call(e)}function o(e){return function(e){return r(e)instanceof ShadowRoot}(e)?r(e):null}n.d(t,{j:()=>o})},73039:(e,t,n)=>{"use strict";n.d(t,{AG:()=>o,B1:()=>u,G3:()=>p,GH:()=>h,O9:()=>s,P1:()=>c,P3:()=>d,T_:()=>f,V:()=>i,cv:()=>a,p:()=>l});var r=n(85935);const o=()=>new Promise((e,t)=>{(0,r.ub)("/invitation?action=get_my_invitation","GET").then(t=>{e(t)}).catch(e=>{t(e)})}),i=e=>{const t={action:"submit_invite_code",inviteCode:e};return new Promise((e,n)=>{(0,r.ub)("/invitation","POST",JSON.stringify(t)).then(t=>{e(t)}).catch(e=>{n(e)})})},s=e=>new Promise((t,n)=>{(0,r.ub)(`/invitation?action=get_my_invite_codes&page=${e}&pageSize=6`,"GET").then(e=>{t(e)}).catch(e=>{n(e)})}),a=e=>new Promise((t,n)=>{(0,r.ub)(`/settings/personalized-settings?user_id=${e}`,"GET").then(e=>{t(e)}).catch(e=>{n(e)})}),c=(e,t)=>new Promise((n,o)=>{(0,r.ub)(`/settings/personalized-settings?user_id=${e}`,"POST",JSON.stringify(t)).then(e=>{n(e)}).catch(e=>{o(e)})}),l=e=>new Promise((t,n)=>{(0,r.ub)("/settings/update-summarize","POST",JSON.stringify(e)).then(e=>{t(e)}).catch(e=>{n(e)})}),u=(e,t)=>new Promise((n,o)=>{(0,r.ub)(`/settings/update-summarize?id=${t}&user_id=${e}`,"DELETE").then(e=>{n(e)}).catch(e=>{o(e)})}),d=e=>new Promise((t,n)=>{(0,r.ub)("/settings/update-urgent","POST",JSON.stringify(e)).then(e=>{t(e)}).catch(e=>{n(e)})}),f=(e,t)=>new Promise((n,o)=>{(0,r.ub)(`/settings/update-urgent?id=${t}&user_id=${e}`,"DELETE").then(e=>{n(e)}).catch(e=>{o(e)})}),h=()=>new Promise((e,t)=>{(0,r.ub)("/subscription/subscription-info","GET").then(t=>{e(t)}).catch(e=>{t(e)})}),p=e=>new Promise((t,n)=>{(0,r.ub)(`/subscription/credit-history?page=${e}&pageSize=10`,"GET").then(e=>{t(e)}).catch(e=>{n(e)})})},73622:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var r=n(9935),o=n(84051),i=n(39761),s=n(41257);function a(e,t){const n=(0,s.i)(t);(0,o.Nf)(()=>{const t=e.current;if(t)return()=>{const e=n.current;e&&Object.entries(e).forEach(([e,n])=>{t.removeEventListener((0,r.xE)(e,t),n,!1)}),(0,o.qF)(()=>{(0,i.A)(t)})}},[n,e])}},73767:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(84051);const o=function(e,t){const n=(0,r.li)(),{current:o}=n;return t&&void 0===e||(n.current=e),o}},73797:function(e,t,n){var r,o,i;e.exports=(i=n(19021),n(57165),i.mode.OFB=(o=(r=i.lib.BlockCipherMode.extend()).Encryptor=r.extend({processBlock:function(e,t){var n=this._cipher,r=n.blockSize,o=this._iv,i=this._keystream;o&&(i=this._keystream=o.slice(0),this._iv=void 0),n.encryptBlock(i,0);for(var s=0;s<r;s++)e[t+s]^=i[s]}}),r.Decryptor=o,r),i.mode.OFB)},73893:(e,t,n)=>{"use strict";function r(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}n.d(t,{A:()=>r})},74065:(e,t,n)=>{"use strict";n.d(t,{E:()=>h});var r=n(31481),o=n(37836);const i=new Map,s=new Map,a=new Map,c=document.createElement("style");function l(e,t,n){n?(i.delete(e),s.set(e,t),a.set(e,n)):(i.set(e,t),s.delete(e),a.delete(e)),u||(u=!0,(0,o.IJ)(d))}document.head.appendChild(c);let u=!1;function d(){const e=f(i),t=f(s),n=f(a);c.textContent=`\n    html {\n      ${e}\n    }\n\n    html.theme-light {\n      ${t}\n    }\n\n    html.theme-dark {\n      ${n}\n    }\n  `}function f(e){return Array.from(e.entries()).map(([e,t])=>`--${e}: ${t};`).join(" ")}function h(e){p("0",["#D45246"]),p("1",["#F68136"]),p("2",["#6C61DF"]),p("3",["#46BA43"]),p("4",["#5CAFFA"]),p("5",["#408ACF"]),p("6",["#D95574"]),Object.entries(e).forEach(([e,t])=>{t.colors&&p(e,t.colors,t.darkColors)})}function p(e,t,n){const o=t[0],i=n?.[0];if(!o)return;const s=`${o}${r.tP8}`,a=i?`${i}${r.tP8}`:void 0,c=`${o}${r.g0p}`,u=i?`${i}${r.g0p}`:void 0;if(l(`color-peer-${e}`,o,i),l(`color-peer-bg-${e}`,s,a),l(`color-peer-bg-active-${e}`,c,u),t.length>1){const o=t.map((e,t)=>`${e} ${t*r.D$I}px, ${e} ${(t+1)*r.D$I}px`),i=n?.map((e,t)=>`${e} ${t*r.D$I}px, ${e} ${(t+1)*r.D$I}px`);l(`color-peer-gradient-${e}`,`repeating-linear-gradient(-45deg, ${o.join(", ")})`,i?`repeating-linear-gradient(-45deg, ${i.join(", ")})`:void 0)}}},74353:function(e){e.exports=function(){"use strict";var e=6e4,t=36e5,n="millisecond",r="second",o="minute",i="hour",s="day",a="week",c="month",l="quarter",u="year",d="date",f="Invalid Date",h=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,p=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,g={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(e){var t=["th","st","nd","rd"],n=e%100;return"["+e+(t[(n-20)%10]||t[n]||t[0])+"]"}},m=function(e,t,n){var r=String(e);return!r||r.length>=t?e:""+Array(t+1-r.length).join(n)+e},y={s:m,z:function(e){var t=-e.utcOffset(),n=Math.abs(t),r=Math.floor(n/60),o=n%60;return(t<=0?"+":"-")+m(r,2,"0")+":"+m(o,2,"0")},m:function e(t,n){if(t.date()<n.date())return-e(n,t);var r=12*(n.year()-t.year())+(n.month()-t.month()),o=t.clone().add(r,c),i=n-o<0,s=t.clone().add(r+(i?-1:1),c);return+(-(r+(n-o)/(i?o-s:s-o))||0)},a:function(e){return e<0?Math.ceil(e)||0:Math.floor(e)},p:function(e){return{M:c,y:u,w:a,d:s,D:d,h:i,m:o,s:r,ms:n,Q:l}[e]||String(e||"").toLowerCase().replace(/s$/,"")},u:function(e){return void 0===e}},b="en",v={};v[b]=g;var _="$isDayjsObject",w=function(e){return e instanceof A||!(!e||!e[_])},S=function e(t,n,r){var o;if(!t)return b;if("string"==typeof t){var i=t.toLowerCase();v[i]&&(o=i),n&&(v[i]=n,o=i);var s=t.split("-");if(!o&&s.length>1)return e(s[0])}else{var a=t.name;v[a]=t,o=a}return!r&&o&&(b=o),o||!r&&b},x=function(e,t){if(w(e))return e.clone();var n="object"==typeof t?t:{};return n.date=e,n.args=arguments,new A(n)},I=y;I.l=S,I.i=w,I.w=function(e,t){return x(e,{locale:t.$L,utc:t.$u,x:t.$x,$offset:t.$offset})};var A=function(){function g(e){this.$L=S(e.locale,null,!0),this.parse(e),this.$x=this.$x||e.x||{},this[_]=!0}var m=g.prototype;return m.parse=function(e){this.$d=function(e){var t=e.date,n=e.utc;if(null===t)return new Date(NaN);if(I.u(t))return new Date;if(t instanceof Date)return new Date(t);if("string"==typeof t&&!/Z$/i.test(t)){var r=t.match(h);if(r){var o=r[2]-1||0,i=(r[7]||"0").substring(0,3);return n?new Date(Date.UTC(r[1],o,r[3]||1,r[4]||0,r[5]||0,r[6]||0,i)):new Date(r[1],o,r[3]||1,r[4]||0,r[5]||0,r[6]||0,i)}}return new Date(t)}(e),this.init()},m.init=function(){var e=this.$d;this.$y=e.getFullYear(),this.$M=e.getMonth(),this.$D=e.getDate(),this.$W=e.getDay(),this.$H=e.getHours(),this.$m=e.getMinutes(),this.$s=e.getSeconds(),this.$ms=e.getMilliseconds()},m.$utils=function(){return I},m.isValid=function(){return!(this.$d.toString()===f)},m.isSame=function(e,t){var n=x(e);return this.startOf(t)<=n&&n<=this.endOf(t)},m.isAfter=function(e,t){return x(e)<this.startOf(t)},m.isBefore=function(e,t){return this.endOf(t)<x(e)},m.$g=function(e,t,n){return I.u(e)?this[t]:this.set(n,e)},m.unix=function(){return Math.floor(this.valueOf()/1e3)},m.valueOf=function(){return this.$d.getTime()},m.startOf=function(e,t){var n=this,l=!!I.u(t)||t,f=I.p(e),h=function(e,t){var r=I.w(n.$u?Date.UTC(n.$y,t,e):new Date(n.$y,t,e),n);return l?r:r.endOf(s)},p=function(e,t){return I.w(n.toDate()[e].apply(n.toDate("s"),(l?[0,0,0,0]:[23,59,59,999]).slice(t)),n)},g=this.$W,m=this.$M,y=this.$D,b="set"+(this.$u?"UTC":"");switch(f){case u:return l?h(1,0):h(31,11);case c:return l?h(1,m):h(0,m+1);case a:var v=this.$locale().weekStart||0,_=(g<v?g+7:g)-v;return h(l?y-_:y+(6-_),m);case s:case d:return p(b+"Hours",0);case i:return p(b+"Minutes",1);case o:return p(b+"Seconds",2);case r:return p(b+"Milliseconds",3);default:return this.clone()}},m.endOf=function(e){return this.startOf(e,!1)},m.$set=function(e,t){var a,l=I.p(e),f="set"+(this.$u?"UTC":""),h=(a={},a[s]=f+"Date",a[d]=f+"Date",a[c]=f+"Month",a[u]=f+"FullYear",a[i]=f+"Hours",a[o]=f+"Minutes",a[r]=f+"Seconds",a[n]=f+"Milliseconds",a)[l],p=l===s?this.$D+(t-this.$W):t;if(l===c||l===u){var g=this.clone().set(d,1);g.$d[h](p),g.init(),this.$d=g.set(d,Math.min(this.$D,g.daysInMonth())).$d}else h&&this.$d[h](p);return this.init(),this},m.set=function(e,t){return this.clone().$set(e,t)},m.get=function(e){return this[I.p(e)]()},m.add=function(n,l){var d,f=this;n=Number(n);var h=I.p(l),p=function(e){var t=x(f);return I.w(t.date(t.date()+Math.round(e*n)),f)};if(h===c)return this.set(c,this.$M+n);if(h===u)return this.set(u,this.$y+n);if(h===s)return p(1);if(h===a)return p(7);var g=(d={},d[o]=e,d[i]=t,d[r]=1e3,d)[h]||1,m=this.$d.getTime()+n*g;return I.w(m,this)},m.subtract=function(e,t){return this.add(-1*e,t)},m.format=function(e){var t=this,n=this.$locale();if(!this.isValid())return n.invalidDate||f;var r=e||"YYYY-MM-DDTHH:mm:ssZ",o=I.z(this),i=this.$H,s=this.$m,a=this.$M,c=n.weekdays,l=n.months,u=n.meridiem,d=function(e,n,o,i){return e&&(e[n]||e(t,r))||o[n].slice(0,i)},h=function(e){return I.s(i%12||12,e,"0")},g=u||function(e,t,n){var r=e<12?"AM":"PM";return n?r.toLowerCase():r};return r.replace(p,function(e,r){return r||function(e){switch(e){case"YY":return String(t.$y).slice(-2);case"YYYY":return I.s(t.$y,4,"0");case"M":return a+1;case"MM":return I.s(a+1,2,"0");case"MMM":return d(n.monthsShort,a,l,3);case"MMMM":return d(l,a);case"D":return t.$D;case"DD":return I.s(t.$D,2,"0");case"d":return String(t.$W);case"dd":return d(n.weekdaysMin,t.$W,c,2);case"ddd":return d(n.weekdaysShort,t.$W,c,3);case"dddd":return c[t.$W];case"H":return String(i);case"HH":return I.s(i,2,"0");case"h":return h(1);case"hh":return h(2);case"a":return g(i,s,!0);case"A":return g(i,s,!1);case"m":return String(s);case"mm":return I.s(s,2,"0");case"s":return String(t.$s);case"ss":return I.s(t.$s,2,"0");case"SSS":return I.s(t.$ms,3,"0");case"Z":return o}return null}(e)||o.replace(":","")})},m.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},m.diff=function(n,d,f){var h,p=this,g=I.p(d),m=x(n),y=(m.utcOffset()-this.utcOffset())*e,b=this-m,v=function(){return I.m(p,m)};switch(g){case u:h=v()/12;break;case c:h=v();break;case l:h=v()/3;break;case a:h=(b-y)/6048e5;break;case s:h=(b-y)/864e5;break;case i:h=b/t;break;case o:h=b/e;break;case r:h=b/1e3;break;default:h=b}return f?h:I.a(h)},m.daysInMonth=function(){return this.endOf(c).$D},m.$locale=function(){return v[this.$L]},m.locale=function(e,t){if(!e)return this.$L;var n=this.clone(),r=S(e,t,!0);return r&&(n.$L=r),n},m.clone=function(){return I.w(this.$d,this)},m.toDate=function(){return new Date(this.valueOf())},m.toJSON=function(){return this.isValid()?this.toISOString():null},m.toISOString=function(){return this.$d.toISOString()},m.toString=function(){return this.$d.toUTCString()},g}(),C=A.prototype;return x.prototype=C,[["$ms",n],["$s",r],["$m",o],["$H",i],["$W",s],["$M",c],["$y",u],["$D",d]].forEach(function(e){C[e[1]]=function(t){return this.$g(t,e[0],e[1])}}),x.extend=function(e,t){return e.$i||(e(t,A,x),e.$i=!0),x},x.locale=S,x.isDayjs=w,x.unix=function(e){return x(1e3*e)},x.en=v[b],x.Ls=v,x.p={},x}()},74642:(e,t,n)=>{"use strict";n.d(t,{L:()=>_}),n(96540);var r,o=n(40961),i=n.t(o,2),s=n(55041),a=n(10467),c=n(82284),l=(0,n(89379).A)({},i),u=l.version,d=l.render,f=l.unmountComponentAtNode;try{Number((u||"").split(".")[0])>=18&&(r=l.createRoot)}catch(e){}function h(e){var t=l.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;t&&"object"===(0,c.A)(t)&&(t.usingClientEntryPoint=e)}var p="__rc_react_root__";function g(e){return m.apply(this,arguments)}function m(){return(m=(0,a.A)((0,s.A)().mark(function e(t){return(0,s.A)().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.resolve().then(function(){var e;null===(e=t[p])||void 0===e||e.unmount(),delete t[p]}));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function y(e){f(e)}function b(){return(b=(0,a.A)((0,s.A)().mark(function e(t){return(0,s.A)().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===r){e.next=2;break}return e.abrupt("return",g(t));case 2:y(t);case 3:case"end":return e.stop()}},e)}))).apply(this,arguments)}let v=(e,t)=>(function(e,t){r?function(e,t){h(!0);var n=t[p]||r(t);h(!1),n.render(e),t[p]=n}(e,t):function(e,t){null==d||d(e,t)}(e,t)}(e,t),()=>function(e){return b.apply(this,arguments)}(t));function _(e){return e&&(v=e),v}},74824:(e,t,n)=>{"use strict";n.d(t,{Type:()=>l,clear:()=>f,fetch:()=>u,isCacheApiSupported:()=>c,save:()=>d});var r=n(31481),o=n(4350);const i=self.caches,s=o.Xz?`_${o.Xz}`:"";let a;async function c(){return!!i&&(a=a??await i.has("test").then(()=>!0).catch(()=>!1),a)}let l=function(e){return e[e.Text=0]="Text",e[e.Blob=1]="Blob",e[e.Json=2]="Json",e[e.ArrayBuffer=3]="ArrayBuffer",e}({});async function u(e,t,n,o=!1){if(i)try{const a=r.jht?`${r.uyj}/${t.replace(/:/g,"_")}`:new Request(t.replace(/:/g,"_")),c=await i.open(`${e}${s}`),u=await c.match(a);if(!u)return;const d=u.headers.get("Content-Type");switch(n){case l.Text:return await u.text();case l.Blob:{if(t.startsWith("avatar")&&d&&d.startsWith("text"))return;const e=await u.blob(),n=!e.type||!o&&e.type.includes("html");let r=e.type||d;return n&&r?(o||(r=r.replace(/html/gi,"")),new Blob([e],{type:r})):e}case l.Json:return await u.json();case l.ArrayBuffer:return await u.arrayBuffer();default:return}}catch(e){return void console.warn(e)}}async function d(e,t,n){if(!i)return!1;try{const o="string"==typeof n||n instanceof Blob||n instanceof ArrayBuffer?n:JSON.stringify(n),a=r.jht?`${r.uyj}/${t.replace(/:/g,"_")}`:new Request(t.replace(/:/g,"_")),c=new Response(o),l=await i.open(`${e}${s}`);return await l.put(a,c),!0}catch(e){return console.warn(e),!1}}async function f(e){try{if(!i)return;return await i.delete(`${e}${s}`)}catch(e){return void console.warn(e)}}},74936:(e,t,n)=>{"use strict";n.d(t,{A:()=>d});var r=n(84051),o=n(23174),i=n(31481),s=n(90709),a=n(58849),c=n(18501),l=n(35297),u=n(14745);const d=(0,r.ph)(function({messageOrStory:e,translatedText:t,isForAnimation:n,emojiSize:d,highlight:f,asPreview:h,truncateLength:p,isProtected:g,observeIntersectionForLoading:m,observeIntersectionForPlaying:y,withTranslucentThumbs:b,shouldRenderAsHtml:v,inChatList:_,forcePlayback:w,focusedQuote:S,focusedQuoteOffset:x,isInSelectMode:I,canBeEmpty:A,maxTimestamp:C,threadId:k}){const E=(0,r.li)(),T=(0,r.li)(),P=(0,r.li)(0),M=t||(0,s.Sb)(e,_),O=n&&M?(0,s.m4)(M):M,{text:D,entities:R}=O||{},N=(0,r.Kr)(()=>{if(!D||!S)return R;const e=D.indexOf(S,x),t=e>=0?e:D.indexOf(S),n=S.length;return t>=0?(0,c.kf)(R||[],{offset:t,length:n,type:o.C7.QuoteFocus}):R},[D,R,S,x]),F=(0,u.A)();(0,l.A)(()=>{P.current+=1},[D,N]);const L=(0,r.Kr)(()=>{const e=N?.some(e=>e.type===o.C7.Spoiler);return!e&&(N?.filter(e=>e.type===o.C7.CustomEmoji).length||0)>=3},[N])||0;return D||A?r.Ay.createElement(r.Ay.Fragment,null,[L&&r.Ay.createElement("canvas",{ref:E,className:"shared-canvas"}),L&&r.Ay.createElement("canvas",{ref:T,className:"shared-canvas"}),(0,c.fd)({text:(0,a.A)(D,p),entities:N,highlight:f,emojiSize:d,shouldRenderAsHtml:v,containerId:F,asPreview:h,isProtected:g,observeIntersectionForLoading:m,observeIntersectionForPlaying:y,withTranslucentThumbs:b,sharedCanvasRef:E,sharedCanvasHqRef:T,cacheBuster:P.current.toString(),forcePlayback:w,isInSelectMode:I,maxTimestamp:C,chatId:"chatId"in e?e.chatId:void 0,messageId:e.id,threadId:k})].flat().filter(Boolean)):r.Ay.createElement("span",{className:"content-unsupported"},i.bVP)})},75357:(e,t,n)=>{"use strict";n.d(t,{oA:()=>d,Z3:()=>u,Uj:()=>f,dL:()=>p,A:()=>l});const r={Element:{props:["clientLeft","clientTop","clientWidth","clientHeight","scrollWidth","scrollHeight","scrollLeft","scrollTop"],methods:["getClientRects","getBoundingClientRect","scrollBy","scrollTo","scrollIntoView","scrollIntoViewIfNeeded"]},HTMLElement:{props:["offsetLeft","offsetTop","offsetWidth","offsetHeight","offsetParent","innerText"],methods:["focus"]},window:{props:["scrollX","scrollY","innerHeight","innerWidth"],methods:["getComputedStyle"]},VisualViewport:{props:["height","width","offsetTop","offsetLeft"]},Document:{props:["scrollingElement"],methods:["elementFromPoint"]},HTMLInputElement:{methods:["select"]},MouseEvent:{props:["layerX","layerY","offsetX","offsetY"]},Range:{methods:["getClientRects","getBoundingClientRect"]}};let o=console.error;const i=new Map;let s,a="measure",c=!1;function l(e){a=e}function u(){c||(c=!0,Object.entries(r).forEach(([e,t])=>{const n=window[e];if(!n)return;const r="object"==typeof n?n:n.prototype;"props"in t&&t.props.forEach(t=>{const n=Object.getOwnPropertyDescriptor(r,t)?.get;n&&(i.set(`${e}#${t}`,n),Object.defineProperty(r,t,{get(){return g(t),n.call(this)}}))}),"methods"in t&&t.methods.forEach(t=>{const n=r[t];i.set(`${e}#${t}`,n),r[t]=function(...e){return g(t),n.apply(this,e)}})}))}function d(){c&&(s?.disconnect(),s=void 0,Object.entries(r).forEach(([e,t])=>{const n=window[e];if(!n)return;const r="object"==typeof n?n:n.prototype;"props"in t&&t.props.forEach(t=>{const n=i.get(`${e}#${t}`);n&&Object.defineProperty(r,t,{get:n})}),"methods"in t&&t.methods.forEach(t=>{r[t]=i.get(`${e}#${t}`)})}),i.clear(),c=!1)}function f(e){if("mutate"!==a)throw new Error("The current phase is 'measure'");a="measure";const t=e();return a="mutate",t}const h=new Set;function p(e,t){if("measure"!==a)throw new Error("The current phase is 'mutate'");return c&&(Array.isArray(t)?t.forEach(e=>{h.add(e)}):h.add(t)),e()}function g(e){"measure"!==a&&o(new Error(`Unexpected measurement detected: \`${e}\``))}},75951:function(e){e.exports=function(){"use strict";var e=Math.imul,t=Math.clz32;function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function r(e,t,n){return t=i(t),function(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,s()?Reflect.construct(t,n||[],i(e).constructor):t.apply(e,n))}function o(e,t){for(var n,r=0;r<t.length;r++)(n=t[r]).enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,l(n.key),n)}function i(e){return i=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},i(e)}function s(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(s=function(){return!!e})()}function a(e,t){return a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},a(e,t)}function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,s,a=[],c=!0,l=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(a.push(r.value),a.length!==t);c=!0);}catch(e){l=!0,o=e}finally{try{if(!c&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(l)throw o}}return a}}(e,t)||d(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}function u(e){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u(e)}function d(e,t){if(e){if("string"==typeof e)return n(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(e,t):void 0}}function f(e){var t="function"==typeof Map?new Map:void 0;return f=function(e){function n(){return function(e,t,n){if(s())return Reflect.construct.apply(null,arguments);var r=[null];r.push.apply(r,t);var o=new(e.bind.apply(e,r));return n&&a(o,n.prototype),o}(e,arguments,i(this).constructor)}if(null===e||!function(e){try{return-1!==Function.toString.call(e).indexOf("[native code]")}catch(t){return"function"==typeof e}}(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),a(n,e)},f(e)}var h=function(e){var t=Math.abs,n=Math.max,i=Math.floor;function s(e,t){var n;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(n=r(this,s,[e])).sign=t,Object.setPrototypeOf(n,s.prototype),e>s.__kMaxLength)throw new RangeError("Maximum BigInt size exceeded");return n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&a(e,t)}(s,e),function(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(s,[{key:"toDebugString",value:function e(){var t,n=["BigInt["],r=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=d(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,s=!0,a=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){a=!0,i=e},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw i}}}}(this);try{for(r.s();!(t=r.n()).done;){var o=t.value;n.push((o?(o>>>0).toString(16):o)+", ")}}catch(e){r.e(e)}finally{r.f()}return n.push("]"),n.join("")}},{key:"toString",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:10;if(2>e||36<e)throw new RangeError("toString() radix argument must be between 2 and 36");return 0===this.length?"0":e&e-1?s.__toStringGeneric(this,e,!1):s.__toStringBasePowerOfTwo(this,e)}},{key:"valueOf",value:function(){throw new Error("Convert JSBI instances to native numbers using `toNumber`.")}},{key:"__copy",value:function(){for(var e=new s(this.length,this.sign),t=0;t<this.length;t++)e[t]=this[t];return e}},{key:"__trim",value:function(){for(var e=this.length,t=this[e-1];0===t;)t=this[--e-1],this.pop();return 0===e&&(this.sign=!1),this}},{key:"__initializeDigits",value:function(){for(var e=0;e<this.length;e++)this[e]=0}},{key:"__clzmsd",value:function(){return s.__clz30(this.__digit(this.length-1))}},{key:"__inplaceMultiplyAdd",value:function(e,t,n){n>this.length&&(n=this.length);for(var r=32767&e,o=e>>>15,i=0,a=t,c=0;c<n;c++){var l=this.__digit(c),u=32767&l,d=l>>>15,f=s.__imul(u,r),h=s.__imul(u,o),p=s.__imul(d,r),g=a+f+i;i=g>>>30,g&=1073741823,i+=(g+=((32767&h)<<15)+((32767&p)<<15))>>>30,a=s.__imul(d,o)+(h>>>15)+(p>>>15),this.__setDigit(c,1073741823&g)}if(0!==i||0!==a)throw new Error("implementation bug")}},{key:"__inplaceAdd",value:function(e,t,n){for(var r,o=0,i=0;i<n;i++)o=(r=this.__halfDigit(t+i)+e.__halfDigit(i)+o)>>>15,this.__setHalfDigit(t+i,32767&r);return o}},{key:"__inplaceSub",value:function(e,t,n){var r=n-1>>>1,o=0;if(1&t){t>>=1;for(var i=this.__digit(t),s=32767&i,a=0;a<r;a++){var c=e.__digit(a),l=(i>>>15)-(32767&c)-o;o=1&l>>>15,this.__setDigit(t+a,(32767&l)<<15|32767&s),o=1&(s=(32767&(i=this.__digit(t+a+1)))-(c>>>15)-o)>>>15}var u=e.__digit(a),d=(i>>>15)-(32767&u)-o;o=1&d>>>15,this.__setDigit(t+a,(32767&d)<<15|32767&s);var f=u>>>15;if(t+a+1>=this.length)throw new RangeError("out of bounds");!(1&n)&&(o=1&(s=(32767&(i=this.__digit(t+a+1)))-f-o)>>>15,this.__setDigit(t+e.length,1073709056&i|32767&s))}else{t>>=1;for(var h=0;h<e.length-1;h++){var p=this.__digit(t+h),g=e.__digit(h),m=(32767&p)-(32767&g)-o,y=(p>>>15)-(g>>>15)-(o=1&m>>>15);o=1&y>>>15,this.__setDigit(t+h,(32767&y)<<15|32767&m)}var b=this.__digit(t+h),v=e.__digit(h),_=(32767&b)-(32767&v)-o;o=1&_>>>15;var w=0;!(1&n)&&(o=1&(w=(b>>>15)-(v>>>15)-o)>>>15),this.__setDigit(t+h,(32767&w)<<15|32767&_)}return o}},{key:"__inplaceRightShift",value:function(e){if(0!==e){for(var t,n=this.__digit(0)>>>e,r=this.length-1,o=0;o<r;o++)t=this.__digit(o+1),this.__setDigit(o,1073741823&t<<30-e|n),n=t>>>e;this.__setDigit(r,n)}}},{key:"__digit",value:function(e){return this[e]}},{key:"__unsignedDigit",value:function(e){return this[e]>>>0}},{key:"__setDigit",value:function(e,t){this[e]=0|t}},{key:"__setDigitGrow",value:function(e,t){this[e]=0|t}},{key:"__halfDigitLength",value:function(){var e=this.length;return 32767>=this.__unsignedDigit(e-1)?2*e-1:2*e}},{key:"__halfDigit",value:function(e){return 32767&this[e>>>1]>>>15*(1&e)}},{key:"__setHalfDigit",value:function(e,t){var n=e>>>1,r=this.__digit(n),o=1&e?32767&r|t<<15:1073709056&r|32767&t;this.__setDigit(n,o)}}],[{key:"BigInt",value:function(e){var t=Number.isFinite;if("number"==typeof e){if(0===e)return s.__zero();if(s.__isOneDigitInt(e))return 0>e?s.__oneDigit(-e,!0):s.__oneDigit(e,!1);if(!t(e)||i(e)!==e)throw new RangeError("The number "+e+" cannot be converted to BigInt because it is not an integer");return s.__fromDouble(e)}if("string"==typeof e){var n=s.__fromString(e);if(null===n)throw new SyntaxError("Cannot convert "+e+" to a BigInt");return n}if("boolean"==typeof e)return!0===e?s.__oneDigit(1,!1):s.__zero();if("object"===u(e)){if(e.constructor===s)return e;var r=s.__toPrimitive(e);return s.BigInt(r)}throw new TypeError("Cannot convert "+e+" to a BigInt")}},{key:"toNumber",value:function(e){var t=e.length;if(0===t)return 0;if(1===t){var n=e.__unsignedDigit(0);return e.sign?-n:n}var r=e.__digit(t-1),o=s.__clz30(r),i=30*t-o;if(1024<i)return e.sign?-1/0:1/0;var a=i-1,c=r,l=t-1,u=o+3,d=32===u?0:c<<u;d>>>=12;var f=u-12,h=12<=u?0:c<<20+u,p=20+u;for(0<f&&0<l&&(l--,d|=(c=e.__digit(l))>>>30-f,h=c<<f+2,p=f+2);0<p&&0<l;)l--,c=e.__digit(l),h|=30<=p?c<<p-30:c>>>30-p,p-=30;var g=s.__decideRounding(e,p,l,c);if((1===g||0===g&&!(1&~h))&&0==(h=h+1>>>0)&&0!=++d>>>20&&(d=0,1023<++a))return e.sign?-1/0:1/0;var m=e.sign?-2147483648:0;return a=a+1023<<20,s.__kBitConversionInts[s.__kBitConversionIntHigh]=m|a|d,s.__kBitConversionInts[s.__kBitConversionIntLow]=h,s.__kBitConversionDouble[0]}},{key:"unaryMinus",value:function(e){if(0===e.length)return e;var t=e.__copy();return t.sign=!e.sign,t}},{key:"bitwiseNot",value:function(e){return e.sign?s.__absoluteSubOne(e).__trim():s.__absoluteAddOne(e,!0)}},{key:"exponentiate",value:function(e,t){if(t.sign)throw new RangeError("Exponent must be positive");if(0===t.length)return s.__oneDigit(1,!1);if(0===e.length)return e;if(1===e.length&&1===e.__digit(0))return!e.sign||1&t.__digit(0)?e:s.unaryMinus(e);if(1<t.length)throw new RangeError("BigInt too big");var n=t.__unsignedDigit(0);if(1===n)return e;if(n>=s.__kMaxLengthBits)throw new RangeError("BigInt too big");if(1===e.length&&2===e.__digit(0)){var r=1+(0|n/30),o=new s(r,e.sign&&!!(1&n));o.__initializeDigits();var i=1<<n%30;return o.__setDigit(r-1,i),o}var a=null,c=e;for(!!(1&n)&&(a=e),n>>=1;0!==n;n>>=1)c=s.multiply(c,c),1&n&&(a=null===a?c:s.multiply(a,c));return a}},{key:"multiply",value:function(e,t){if(0===e.length)return e;if(0===t.length)return t;var n=e.length+t.length;30<=e.__clzmsd()+t.__clzmsd()&&n--;var r=new s(n,e.sign!==t.sign);r.__initializeDigits();for(var o=0;o<e.length;o++)s.__multiplyAccumulate(t,e.__digit(o),r,o);return r.__trim()}},{key:"divide",value:function(e,t){if(0===t.length)throw new RangeError("Division by zero");if(0>s.__absoluteCompare(e,t))return s.__zero();var n,r=e.sign!==t.sign,o=t.__unsignedDigit(0);if(1===t.length&&32767>=o){if(1===o)return r===e.sign?e:s.unaryMinus(e);n=s.__absoluteDivSmall(e,o,null)}else n=s.__absoluteDivLarge(e,t,!0,!1);return n.sign=r,n.__trim()}},{key:"remainder",value:function(e,t){if(0===t.length)throw new RangeError("Division by zero");if(0>s.__absoluteCompare(e,t))return e;var n=t.__unsignedDigit(0);if(1===t.length&&32767>=n){if(1===n)return s.__zero();var r=s.__absoluteModSmall(e,n);return 0===r?s.__zero():s.__oneDigit(r,e.sign)}var o=s.__absoluteDivLarge(e,t,!1,!0);return o.sign=e.sign,o.__trim()}},{key:"add",value:function(e,t){var n=e.sign;return n===t.sign?s.__absoluteAdd(e,t,n):0<=s.__absoluteCompare(e,t)?s.__absoluteSub(e,t,n):s.__absoluteSub(t,e,!n)}},{key:"subtract",value:function(e,t){var n=e.sign;return n===t.sign?0<=s.__absoluteCompare(e,t)?s.__absoluteSub(e,t,n):s.__absoluteSub(t,e,!n):s.__absoluteAdd(e,t,n)}},{key:"leftShift",value:function(e,t){return 0===t.length||0===e.length?e:t.sign?s.__rightShiftByAbsolute(e,t):s.__leftShiftByAbsolute(e,t)}},{key:"signedRightShift",value:function(e,t){return 0===t.length||0===e.length?e:t.sign?s.__leftShiftByAbsolute(e,t):s.__rightShiftByAbsolute(e,t)}},{key:"unsignedRightShift",value:function(){throw new TypeError("BigInts have no unsigned right shift; use >> instead")}},{key:"lessThan",value:function(e,t){return 0>s.__compareToBigInt(e,t)}},{key:"lessThanOrEqual",value:function(e,t){return 0>=s.__compareToBigInt(e,t)}},{key:"greaterThan",value:function(e,t){return 0<s.__compareToBigInt(e,t)}},{key:"greaterThanOrEqual",value:function(e,t){return 0<=s.__compareToBigInt(e,t)}},{key:"equal",value:function(e,t){if(e.sign!==t.sign)return!1;if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e.__digit(n)!==t.__digit(n))return!1;return!0}},{key:"notEqual",value:function(e,t){return!s.equal(e,t)}},{key:"bitwiseAnd",value:function(e,t){if(!e.sign&&!t.sign)return s.__absoluteAnd(e,t).__trim();if(e.sign&&t.sign){var r=n(e.length,t.length)+1,o=s.__absoluteSubOne(e,r),i=s.__absoluteSubOne(t);return o=s.__absoluteOr(o,i,o),s.__absoluteAddOne(o,!0,o).__trim()}if(e.sign){var a=[t,e];e=a[0],t=a[1]}return s.__absoluteAndNot(e,s.__absoluteSubOne(t)).__trim()}},{key:"bitwiseXor",value:function(e,t){if(!e.sign&&!t.sign)return s.__absoluteXor(e,t).__trim();if(e.sign&&t.sign){var r=n(e.length,t.length),o=s.__absoluteSubOne(e,r),i=s.__absoluteSubOne(t);return s.__absoluteXor(o,i,o).__trim()}var a=n(e.length,t.length)+1;if(e.sign){var c=[t,e];e=c[0],t=c[1]}var l=s.__absoluteSubOne(t,a);return l=s.__absoluteXor(l,e,l),s.__absoluteAddOne(l,!0,l).__trim()}},{key:"bitwiseOr",value:function(e,t){var r=n(e.length,t.length);if(!e.sign&&!t.sign)return s.__absoluteOr(e,t).__trim();if(e.sign&&t.sign){var o=s.__absoluteSubOne(e,r),i=s.__absoluteSubOne(t);return o=s.__absoluteAnd(o,i,o),s.__absoluteAddOne(o,!0,o).__trim()}if(e.sign){var a=[t,e];e=a[0],t=a[1]}var c=s.__absoluteSubOne(t,r);return c=s.__absoluteAndNot(c,e,c),s.__absoluteAddOne(c,!0,c).__trim()}},{key:"asIntN",value:function(e,t){if(0===t.length)return t;if(0>(e=i(e)))throw new RangeError("Invalid value: not (convertible to) a safe integer");if(0===e)return s.__zero();if(e>=s.__kMaxLengthBits)return t;var n=0|(e+29)/30;if(t.length<n)return t;var r=t.__unsignedDigit(n-1),o=1<<(e-1)%30;if(t.length===n&&r<o)return t;if((r&o)!==o)return s.__truncateToNBits(e,t);if(!t.sign)return s.__truncateAndSubFromPowerOfTwo(e,t,!0);if(!(r&o-1)){for(var a=n-2;0<=a;a--)if(0!==t.__digit(a))return s.__truncateAndSubFromPowerOfTwo(e,t,!1);return t.length===n&&r===o?t:s.__truncateToNBits(e,t)}return s.__truncateAndSubFromPowerOfTwo(e,t,!1)}},{key:"asUintN",value:function(e,t){if(0===t.length)return t;if(0>(e=i(e)))throw new RangeError("Invalid value: not (convertible to) a safe integer");if(0===e)return s.__zero();if(t.sign){if(e>s.__kMaxLengthBits)throw new RangeError("BigInt too big");return s.__truncateAndSubFromPowerOfTwo(e,t,!1)}if(e>=s.__kMaxLengthBits)return t;var n=0|(e+29)/30;if(t.length<n)return t;var r=e%30;if(t.length==n){if(0===r)return t;if(0==t.__digit(n-1)>>>r)return t}return s.__truncateToNBits(e,t)}},{key:"ADD",value:function(e,t){if(e=s.__toPrimitive(e),t=s.__toPrimitive(t),"string"==typeof e)return"string"!=typeof t&&(t=t.toString()),e+t;if("string"==typeof t)return e.toString()+t;if(e=s.__toNumeric(e),t=s.__toNumeric(t),s.__isBigInt(e)&&s.__isBigInt(t))return s.add(e,t);if("number"==typeof e&&"number"==typeof t)return e+t;throw new TypeError("Cannot mix BigInt and other types, use explicit conversions")}},{key:"LT",value:function(e,t){return s.__compare(e,t,0)}},{key:"LE",value:function(e,t){return s.__compare(e,t,1)}},{key:"GT",value:function(e,t){return s.__compare(e,t,2)}},{key:"GE",value:function(e,t){return s.__compare(e,t,3)}},{key:"EQ",value:function(e,t){for(;;){if(s.__isBigInt(e))return s.__isBigInt(t)?s.equal(e,t):s.EQ(t,e);if("number"==typeof e){if(s.__isBigInt(t))return s.__equalToNumber(t,e);if("object"!==u(t))return e==t;t=s.__toPrimitive(t)}else if("string"==typeof e){if(s.__isBigInt(t))return null!==(e=s.__fromString(e))&&s.equal(e,t);if("object"!==u(t))return e==t;t=s.__toPrimitive(t)}else if("boolean"==typeof e){if(s.__isBigInt(t))return s.__equalToNumber(t,+e);if("object"!==u(t))return e==t;t=s.__toPrimitive(t)}else if("symbol"===u(e)){if(s.__isBigInt(t))return!1;if("object"!==u(t))return e==t;t=s.__toPrimitive(t)}else{if("object"!==u(e))return e==t;if("object"===u(t)&&t.constructor!==s)return e==t;e=s.__toPrimitive(e)}}}},{key:"NE",value:function(e,t){return!s.EQ(e,t)}},{key:"DataViewGetBigInt64",value:function(e,t){var n=!!(2<arguments.length&&void 0!==arguments[2])&&arguments[2];return s.asIntN(64,s.DataViewGetBigUint64(e,t,n))}},{key:"DataViewGetBigUint64",value:function(e,t){var n=!!(2<arguments.length&&void 0!==arguments[2])&&arguments[2],r=c(n?[4,0]:[0,4],2),o=r[0],i=r[1],a=e.getUint32(t+o,n),l=e.getUint32(t+i,n),u=new s(3,!1);return u.__setDigit(0,1073741823&l),u.__setDigit(1,(268435455&a)<<2|l>>>30),u.__setDigit(2,a>>>28),u.__trim()}},{key:"DataViewSetBigInt64",value:function(e,t,n){var r=!!(3<arguments.length&&void 0!==arguments[3])&&arguments[3];s.DataViewSetBigUint64(e,t,n,r)}},{key:"DataViewSetBigUint64",value:function(e,t,n){var r=!!(3<arguments.length&&void 0!==arguments[3])&&arguments[3],o=0,i=0;if(0<(n=s.asUintN(64,n)).length&&(i=n.__digit(0),1<n.length)){var a=n.__digit(1);i|=a<<30,o=a>>>2,2<n.length&&(o|=n.__digit(2)<<28)}var l=c(r?[4,0]:[0,4],2),u=l[0],d=l[1];e.setUint32(t+u,o,r),e.setUint32(t+d,i,r)}},{key:"__zero",value:function(){return new s(0,!1)}},{key:"__oneDigit",value:function(e,t){var n=new s(1,t);return n.__setDigit(0,e),n}},{key:"__decideRounding",value:function(e,t,n,r){if(0<t)return-1;var o;if(0>t)o=-t-1;else{if(0===n)return-1;n--,r=e.__digit(n),o=29}var i=1<<o;if(0==(r&i))return-1;if(r&(i-=1))return 1;for(;0<n;)if(n--,0!==e.__digit(n))return 1;return 0}},{key:"__fromDouble",value:function(e){var t=0>e;s.__kBitConversionDouble[0]=e;var n,r=(2047&s.__kBitConversionInts[s.__kBitConversionIntHigh]>>>20)-1023,o=1+(0|r/30),i=new s(o,t),a=1048575&s.__kBitConversionInts[s.__kBitConversionIntHigh]|1048576,c=s.__kBitConversionInts[s.__kBitConversionIntLow],l=r%30,u=0;if(l<20){var d=20-l;u=d+32,n=a>>>d,a=a<<32-d|c>>>d,c<<=32-d}else if(20===l)u=32,n=a,a=c,c=0;else{var f=l-20;u=32-f,n=a<<f|c>>>32-f,a=c<<f,c=0}i.__setDigit(o-1,n);for(var h=o-2;0<=h;h--)0<u?(u-=30,n=a>>>2,a=a<<30|c>>>2,c<<=30):n=0,i.__setDigit(h,n);return i.__trim()}},{key:"__isWhitespace",value:function(e){return!!(13>=e&&9<=e)||(159>=e?32==e:131071>=e?160==e||5760==e:196607>=e?10>=(e&=131071)||40==e||41==e||47==e||95==e||4096==e:65279==e)}},{key:"__fromString",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,n=0,r=e.length,o=0;if(o===r)return s.__zero();for(var i=e.charCodeAt(o);s.__isWhitespace(i);){if(++o===r)return s.__zero();i=e.charCodeAt(o)}if(43===i){if(++o===r)return null;i=e.charCodeAt(o),n=1}else if(45===i){if(++o===r)return null;i=e.charCodeAt(o),n=-1}if(0===t){if(t=10,48===i){if(++o===r)return s.__zero();if(88===(i=e.charCodeAt(o))||120===i){if(t=16,++o===r)return null;i=e.charCodeAt(o)}else if(79===i||111===i){if(t=8,++o===r)return null;i=e.charCodeAt(o)}else if(66===i||98===i){if(t=2,++o===r)return null;i=e.charCodeAt(o)}}}else if(16===t&&48===i){if(++o===r)return s.__zero();if(88===(i=e.charCodeAt(o))||120===i){if(++o===r)return null;i=e.charCodeAt(o)}}if(0!==n&&10!==t)return null;for(;48===i;){if(++o===r)return s.__zero();i=e.charCodeAt(o)}var a=r-o,c=s.__kMaxBitsPerChar[t],l=s.__kBitsPerCharTableMultiplier-1;if(a>1073741824/c)return null;var u=new s(0|((c*a+l>>>s.__kBitsPerCharTableShift)+29)/30,!1),d=10>t?t:10,f=10<t?t-10:0;if(t&t-1){u.__initializeDigits();var h=!1,p=0;do{for(var g,m=0,y=1;;){if(g=void 0,i-48>>>0<d)g=i-48;else{if(!((32|i)-97>>>0<f)){h=!0;break}g=(32|i)-87}var b=y*t;if(1073741823<b)break;if(y=b,m=m*t+g,p++,++o===r){h=!0;break}i=e.charCodeAt(o)}var v=0|(c*p+(l=30*s.__kBitsPerCharTableMultiplier-1)>>>s.__kBitsPerCharTableShift)/30;u.__inplaceMultiplyAdd(y,m,v)}while(!h)}else{c>>=s.__kBitsPerCharTableShift;var _=[],w=[],S=!1;do{for(var x,I=0,A=0;;){if(x=void 0,i-48>>>0<d)x=i-48;else{if(!((32|i)-97>>>0<f)){S=!0;break}x=(32|i)-87}if(A+=c,I=I<<c|x,++o===r){S=!0;break}if(i=e.charCodeAt(o),30<A+c)break}_.push(I),w.push(A)}while(!S);s.__fillFromParts(u,_,w)}if(o!==r){if(!s.__isWhitespace(i))return null;for(o++;o<r;o++)if(i=e.charCodeAt(o),!s.__isWhitespace(i))return null}return u.sign=-1===n,u.__trim()}},{key:"__fillFromParts",value:function(e,t,n){for(var r=0,o=0,i=0,s=t.length-1;0<=s;s--){var a=t[s],c=n[s];o|=a<<i,30===(i+=c)?(e.__setDigit(r++,o),i=0,o=0):30<i&&(e.__setDigit(r++,1073741823&o),o=a>>>c-(i-=30))}if(0!==o){if(r>=e.length)throw new Error("implementation bug");e.__setDigit(r++,o)}for(;r<e.length;r++)e.__setDigit(r,0)}},{key:"__toStringBasePowerOfTwo",value:function(e,t){var n=e.length,r=t-1,o=r=(15&(r=(51&(r=(85&r>>>1)+(85&r))>>>2)+(51&r))>>>4)+(15&r),i=t-1,a=e.__digit(n-1),c=0|(30*n-s.__clz30(a)+o-1)/o;if(e.sign&&c++,268435456<c)throw new Error("string too long");for(var l=Array(c),u=c-1,d=0,f=0,h=0;h<n-1;h++){var p=e.__digit(h),g=(d|p<<f)&i;l[u--]=s.__kConversionChars[g];var m=o-f;for(d=p>>>m,f=30-m;f>=o;)l[u--]=s.__kConversionChars[d&i],d>>>=o,f-=o}var y=(d|a<<f)&i;for(l[u--]=s.__kConversionChars[y],d=a>>>o-f;0!==d;)l[u--]=s.__kConversionChars[d&i],d>>>=o;if(e.sign&&(l[u--]="-"),-1!==u)throw new Error("implementation bug");return l.join("")}},{key:"__toStringGeneric",value:function(e,t,n){var r=e.length;if(0===r)return"";if(1===r){var o=e.__unsignedDigit(0).toString(t);return!1===n&&e.sign&&(o="-"+o),o}var i,a,c=30*r-s.__clz30(e.__digit(r-1)),l=s.__kMaxBitsPerChar[t]-1,u=c*s.__kBitsPerCharTableMultiplier,d=1+(u=0|(u+=l-1)/l)>>1,f=s.exponentiate(s.__oneDigit(t,!1),s.__oneDigit(d,!1)),h=f.__unsignedDigit(0);if(1===f.length&&32767>=h){(i=new s(e.length,!1)).__initializeDigits();for(var p,g=0,m=2*e.length-1;0<=m;m--)p=g<<15|e.__halfDigit(m),i.__setHalfDigit(m,0|p/h),g=0|p%h;a=g.toString(t)}else{var y=s.__absoluteDivLarge(e,f,!0,!0);i=y.quotient;var b=y.remainder.__trim();a=s.__toStringGeneric(b,t,!0)}i.__trim();for(var v=s.__toStringGeneric(i,t,!0);a.length<d;)a="0"+a;return!1===n&&e.sign&&(v="-"+v),v+a}},{key:"__unequalSign",value:function(e){return e?-1:1}},{key:"__absoluteGreater",value:function(e){return e?-1:1}},{key:"__absoluteLess",value:function(e){return e?1:-1}},{key:"__compareToBigInt",value:function(e,t){var n=e.sign;if(n!==t.sign)return s.__unequalSign(n);var r=s.__absoluteCompare(e,t);return 0<r?s.__absoluteGreater(n):0>r?s.__absoluteLess(n):0}},{key:"__compareToNumber",value:function(e,n){if(s.__isOneDigitInt(n)){var r=e.sign,o=0>n;if(r!==o)return s.__unequalSign(r);if(0===e.length){if(o)throw new Error("implementation bug");return 0===n?0:-1}if(1<e.length)return s.__absoluteGreater(r);var i=t(n),a=e.__unsignedDigit(0);return a>i?s.__absoluteGreater(r):a<i?s.__absoluteLess(r):0}return s.__compareToDouble(e,n)}},{key:"__compareToDouble",value:function(e,t){if(t!=t)return t;if(t===1/0)return-1;if(t===-1/0)return 1;var n=e.sign;if(n!==0>t)return s.__unequalSign(n);if(0===t)throw new Error("implementation bug: should be handled elsewhere");if(0===e.length)return-1;s.__kBitConversionDouble[0]=t;var r=2047&s.__kBitConversionInts[s.__kBitConversionIntHigh]>>>20;if(2047==r)throw new Error("implementation bug: handled elsewhere");var o=r-1023;if(0>o)return s.__absoluteGreater(n);var i=e.length,a=e.__digit(i-1),c=s.__clz30(a),l=30*i-c,u=o+1;if(l<u)return s.__absoluteLess(n);if(l>u)return s.__absoluteGreater(n);var d=1048576|1048575&s.__kBitConversionInts[s.__kBitConversionIntHigh],f=s.__kBitConversionInts[s.__kBitConversionIntLow],h=29-c;if(h!==(0|(l-1)%30))throw new Error("implementation bug");var p,g=0;if(h<20){var m=20-h;g=m+32,p=d>>>m,d=d<<32-m|f>>>m,f<<=32-m}else if(20===h)g=32,p=d,d=f,f=0;else{var y=h-20;g=32-y,p=d<<y|f>>>32-y,d=f<<y,f=0}if((a>>>=0)>(p>>>=0))return s.__absoluteGreater(n);if(a<p)return s.__absoluteLess(n);for(var b=i-2;0<=b;b--){0<g?(g-=30,p=d>>>2,d=d<<30|f>>>2,f<<=30):p=0;var v=e.__unsignedDigit(b);if(v>p)return s.__absoluteGreater(n);if(v<p)return s.__absoluteLess(n)}if(0!==d||0!==f){if(0===g)throw new Error("implementation bug");return s.__absoluteLess(n)}return 0}},{key:"__equalToNumber",value:function(e,n){return s.__isOneDigitInt(n)?0===n?0===e.length:1===e.length&&e.sign===0>n&&e.__unsignedDigit(0)===t(n):0===s.__compareToDouble(e,n)}},{key:"__comparisonResultToBool",value:function(e,t){return 0===t?0>e:1===t?0>=e:2===t?0<e:3===t?0<=e:void 0}},{key:"__compare",value:function(e,t,n){if(e=s.__toPrimitive(e),t=s.__toPrimitive(t),"string"==typeof e&&"string"==typeof t)switch(n){case 0:return e<t;case 1:return e<=t;case 2:return e>t;case 3:return e>=t}if(s.__isBigInt(e)&&"string"==typeof t)return null!==(t=s.__fromString(t))&&s.__comparisonResultToBool(s.__compareToBigInt(e,t),n);if("string"==typeof e&&s.__isBigInt(t))return null!==(e=s.__fromString(e))&&s.__comparisonResultToBool(s.__compareToBigInt(e,t),n);if(e=s.__toNumeric(e),t=s.__toNumeric(t),s.__isBigInt(e)){if(s.__isBigInt(t))return s.__comparisonResultToBool(s.__compareToBigInt(e,t),n);if("number"!=typeof t)throw new Error("implementation bug");return s.__comparisonResultToBool(s.__compareToNumber(e,t),n)}if("number"!=typeof e)throw new Error("implementation bug");if(s.__isBigInt(t))return s.__comparisonResultToBool(s.__compareToNumber(t,e),2^n);if("number"!=typeof t)throw new Error("implementation bug");return 0===n?e<t:1===n?e<=t:2===n?e>t:3===n?e>=t:void 0}},{key:"__absoluteAdd",value:function(e,t,n){if(e.length<t.length)return s.__absoluteAdd(t,e,n);if(0===e.length)return e;if(0===t.length)return e.sign===n?e:s.unaryMinus(e);var r=e.length;(0===e.__clzmsd()||t.length===e.length&&0===t.__clzmsd())&&r++;for(var o,i=new s(r,n),a=0,c=0;c<t.length;c++)a=(o=e.__digit(c)+t.__digit(c)+a)>>>30,i.__setDigit(c,1073741823&o);for(;c<e.length;c++){var l=e.__digit(c)+a;a=l>>>30,i.__setDigit(c,1073741823&l)}return c<i.length&&i.__setDigit(c,a),i.__trim()}},{key:"__absoluteSub",value:function(e,t,n){if(0===e.length)return e;if(0===t.length)return e.sign===n?e:s.unaryMinus(e);for(var r,o=new s(e.length,n),i=0,a=0;a<t.length;a++)i=1&(r=e.__digit(a)-t.__digit(a)-i)>>>30,o.__setDigit(a,1073741823&r);for(;a<e.length;a++){var c=e.__digit(a)-i;i=1&c>>>30,o.__setDigit(a,1073741823&c)}return o.__trim()}},{key:"__absoluteAddOne",value:function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,r=e.length;null===n?n=new s(r,t):n.sign=t;for(var o,i=1,a=0;a<r;a++)i=(o=e.__digit(a)+i)>>>30,n.__setDigit(a,1073741823&o);return 0!==i&&n.__setDigitGrow(r,1),n}},{key:"__absoluteSubOne",value:function(e,t){for(var n,r=e.length,o=new s(t=t||r,!1),i=1,a=0;a<r;a++)i=1&(n=e.__digit(a)-i)>>>30,o.__setDigit(a,1073741823&n);if(0!==i)throw new Error("implementation bug");for(var c=r;c<t;c++)o.__setDigit(c,0);return o}},{key:"__absoluteAnd",value:function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,r=e.length,o=t.length,i=o;if(r<o){i=r;var a=e,c=r;e=t,r=o,t=a,o=c}var l=i;null===n?n=new s(l,!1):l=n.length;for(var u=0;u<i;u++)n.__setDigit(u,e.__digit(u)&t.__digit(u));for(;u<l;u++)n.__setDigit(u,0);return n}},{key:"__absoluteAndNot",value:function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,r=e.length,o=t.length,i=o;r<o&&(i=r);var a=r;null===n?n=new s(a,!1):a=n.length;for(var c=0;c<i;c++)n.__setDigit(c,e.__digit(c)&~t.__digit(c));for(;c<r;c++)n.__setDigit(c,e.__digit(c));for(;c<a;c++)n.__setDigit(c,0);return n}},{key:"__absoluteOr",value:function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,r=e.length,o=t.length,i=o;if(r<o){i=r;var a=e,c=r;e=t,r=o,t=a,o=c}var l=r;null===n?n=new s(l,!1):l=n.length;for(var u=0;u<i;u++)n.__setDigit(u,e.__digit(u)|t.__digit(u));for(;u<r;u++)n.__setDigit(u,e.__digit(u));for(;u<l;u++)n.__setDigit(u,0);return n}},{key:"__absoluteXor",value:function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,r=e.length,o=t.length,i=o;if(r<o){i=r;var a=e,c=r;e=t,r=o,t=a,o=c}var l=r;null===n?n=new s(l,!1):l=n.length;for(var u=0;u<i;u++)n.__setDigit(u,e.__digit(u)^t.__digit(u));for(;u<r;u++)n.__setDigit(u,e.__digit(u));for(;u<l;u++)n.__setDigit(u,0);return n}},{key:"__absoluteCompare",value:function(e,t){var n=e.length-t.length;if(0!=n)return n;for(var r=e.length-1;0<=r&&e.__digit(r)===t.__digit(r);)r--;return 0>r?0:e.__unsignedDigit(r)>t.__unsignedDigit(r)?1:-1}},{key:"__multiplyAccumulate",value:function(e,t,n,r){if(0!==t){for(var o=32767&t,i=t>>>15,a=0,c=0,l=0;l<e.length;l++,r++){var u=n.__digit(r),d=e.__digit(l),f=32767&d,h=d>>>15,p=s.__imul(f,o),g=s.__imul(f,i),m=s.__imul(h,o);a=(u+=c+p+a)>>>30,u&=1073741823,a+=(u+=((32767&g)<<15)+((32767&m)<<15))>>>30,c=s.__imul(h,i)+(g>>>15)+(m>>>15),n.__setDigit(r,1073741823&u)}for(;0!==a||0!==c;r++){var y=n.__digit(r);y+=a+c,c=0,a=y>>>30,n.__setDigit(r,1073741823&y)}}}},{key:"__internalMultiplyAdd",value:function(e,t,n,r,o){for(var i=n,a=0,c=0;c<r;c++){var l=e.__digit(c),u=s.__imul(32767&l,t),d=s.__imul(l>>>15,t),f=u+((32767&d)<<15)+a+i;i=f>>>30,a=d>>>15,o.__setDigit(c,1073741823&f)}if(o.length>r)for(o.__setDigit(r++,i+a);r<o.length;)o.__setDigit(r++,0);else if(0!==i+a)throw new Error("implementation bug")}},{key:"__absoluteDivSmall",value:function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;null===n&&(n=new s(e.length,!1));for(var r=0,o=2*e.length-1;0<=o;o-=2){var i=(r<<15|e.__halfDigit(o))>>>0,a=0|i/t,c=0|(i=((r=0|i%t)<<15|e.__halfDigit(o-1))>>>0)/t;r=0|i%t,n.__setDigit(o>>>1,a<<15|c)}return n}},{key:"__absoluteModSmall",value:function(e,t){for(var n=0,r=2*e.length-1;0<=r;r--)n=0|((n<<15|e.__halfDigit(r))>>>0)%t;return n}},{key:"__absoluteDivLarge",value:function(e,t,n,r){var o=t.__halfDigitLength(),i=t.length,a=e.__halfDigitLength()-o,c=null;n&&(c=new s(a+2>>>1,!1)).__initializeDigits();var l=new s(o+2>>>1,!1);l.__initializeDigits();var u=s.__clz15(t.__halfDigit(o-1));0<u&&(t=s.__specialLeftShift(t,u,0));for(var d=s.__specialLeftShift(e,u,1),f=t.__halfDigit(o-1),h=0,p=a;0<=p;p--){var g=32767,m=d.__halfDigit(p+o);if(m!==f){var y=(m<<15|d.__halfDigit(p+o-1))>>>0;g=0|y/f;for(var b=0|y%f,v=t.__halfDigit(o-2),_=d.__halfDigit(p+o-2);s.__imul(g,v)>>>0>(b<<16|_)>>>0&&(g--,!(32767<(b+=f))););}s.__internalMultiplyAdd(t,g,0,i,l);var w=d.__inplaceSub(l,p,o+1);0!==w&&(w=d.__inplaceAdd(t,p,o),d.__setHalfDigit(p+o,32767&d.__halfDigit(p+o)+w),g--),n&&(1&p?h=g<<15:c.__setDigit(p>>>1,h|g))}if(r)return d.__inplaceRightShift(u),n?{quotient:c,remainder:d}:d;if(n)return c;throw new Error("unreachable")}},{key:"__clz15",value:function(e){return s.__clz30(e)-15}},{key:"__specialLeftShift",value:function(e,t,n){var r=e.length,o=new s(r+n,!1);if(0===t){for(var i=0;i<r;i++)o.__setDigit(i,e.__digit(i));return 0<n&&o.__setDigit(r,0),o}for(var a,c=0,l=0;l<r;l++)a=e.__digit(l),o.__setDigit(l,1073741823&a<<t|c),c=a>>>30-t;return 0<n&&o.__setDigit(r,c),o}},{key:"__leftShiftByAbsolute",value:function(e,t){var n=s.__toShiftAmount(t);if(0>n)throw new RangeError("BigInt too big");var r=0|n/30,o=n%30,i=e.length,a=0!==o&&0!=e.__digit(i-1)>>>30-o,c=i+r+(a?1:0),l=new s(c,e.sign);if(0===o){for(var u=0;u<r;u++)l.__setDigit(u,0);for(;u<c;u++)l.__setDigit(u,e.__digit(u-r))}else{for(var d=0,f=0;f<r;f++)l.__setDigit(f,0);for(var h,p=0;p<i;p++)h=e.__digit(p),l.__setDigit(p+r,1073741823&h<<o|d),d=h>>>30-o;if(a)l.__setDigit(i+r,d);else if(0!==d)throw new Error("implementation bug")}return l.__trim()}},{key:"__rightShiftByAbsolute",value:function(e,t){var n=e.length,r=e.sign,o=s.__toShiftAmount(t);if(0>o)return s.__rightShiftByMaximum(r);var i=0|o/30,a=o%30,c=n-i;if(0>=c)return s.__rightShiftByMaximum(r);var l=!1;if(r){var u=(1<<a)-1;if(0!=(e.__digit(i)&u))l=!0;else for(var d=0;d<i;d++)if(0!==e.__digit(d)){l=!0;break}}l&&0===a&&0==~e.__digit(n-1)&&c++;var f=new s(c,r);if(0===a){f.__setDigit(c-1,0);for(var h=i;h<n;h++)f.__setDigit(h-i,e.__digit(h))}else{for(var p,g=e.__digit(i)>>>a,m=n-i-1,y=0;y<m;y++)p=e.__digit(y+i+1),f.__setDigit(y,1073741823&p<<30-a|g),g=p>>>a;f.__setDigit(m,g)}return l&&(f=s.__absoluteAddOne(f,!0,f)),f.__trim()}},{key:"__rightShiftByMaximum",value:function(e){return e?s.__oneDigit(1,!0):s.__zero()}},{key:"__toShiftAmount",value:function(e){if(1<e.length)return-1;var t=e.__unsignedDigit(0);return t>s.__kMaxLengthBits?-1:t}},{key:"__toPrimitive",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"default";if("object"!==u(e))return e;if(e.constructor===s)return e;if("undefined"!=typeof Symbol&&"symbol"===u(Symbol.toPrimitive)&&e[Symbol.toPrimitive]){var n=e[Symbol.toPrimitive](t);if("object"!==u(n))return n;throw new TypeError("Cannot convert object to primitive value")}var r=e.valueOf;if(r){var o=r.call(e);if("object"!==u(o))return o}var i=e.toString;if(i){var a=i.call(e);if("object"!==u(a))return a}throw new TypeError("Cannot convert object to primitive value")}},{key:"__toNumeric",value:function(e){return s.__isBigInt(e)?e:+e}},{key:"__isBigInt",value:function(e){return"object"===u(e)&&null!==e&&e.constructor===s}},{key:"__truncateToNBits",value:function(e,t){for(var n=0|(e+29)/30,r=new s(n,t.sign),o=n-1,i=0;i<o;i++)r.__setDigit(i,t.__digit(i));var a=t.__digit(o);if(0!=e%30){var c=32-e%30;a=a<<c>>>c}return r.__setDigit(o,a),r.__trim()}},{key:"__truncateAndSubFromPowerOfTwo",value:function(e,t,n){for(var r,o=Math.min,i=0|(e+29)/30,a=new s(i,n),c=0,l=i-1,u=0,d=o(l,t.length);c<d;c++)u=1&(r=0-t.__digit(c)-u)>>>30,a.__setDigit(c,1073741823&r);for(;c<l;c++)a.__setDigit(c,1073741823&-u);var f,h=l<t.length?t.__digit(l):0,p=e%30;if(0===p)f=0-h-u,f&=1073741823;else{var g=32-p,m=1<<32-g;f=m-(h=h<<g>>>g)-u,f&=m-1}return a.__setDigit(l,f),a.__trim()}},{key:"__digitPow",value:function(e,t){for(var n=1;0<t;)1&t&&(n*=e),t>>>=1,e*=e;return n}},{key:"__detectBigEndian",value:function(){return s.__kBitConversionDouble[0]=-0,0!==s.__kBitConversionInts[0]}},{key:"__isOneDigitInt",value:function(e){return(1073741823&e)===e}}])}(f(Array));return h.__kMaxLength=33554432,h.__kMaxLengthBits=h.__kMaxLength<<5,h.__kMaxBitsPerChar=[0,0,32,51,64,75,83,90,96,102,107,111,115,119,122,126,128,131,134,136,139,141,143,145,147,149,151,153,154,156,158,159,160,162,163,165,166],h.__kBitsPerCharTableShift=5,h.__kBitsPerCharTableMultiplier=1<<h.__kBitsPerCharTableShift,h.__kConversionChars=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],h.__kBitConversionBuffer=new ArrayBuffer(8),h.__kBitConversionDouble=new Float64Array(h.__kBitConversionBuffer),h.__kBitConversionInts=new Int32Array(h.__kBitConversionBuffer),h.__kBitConversionIntHigh=h.__detectBigEndian()?0:1,h.__kBitConversionIntLow=h.__detectBigEndian()?1:0,h.__clz30=t?function(e){return t(e)-2}:function(e){var t=Math.LN2,n=Math.log;return 0===e?30:0|29-(0|n(e>>>0)/t)},h.__imul=e||function(e,t){return 0|e*t},h}()},76023:(e,t,n)=>{"use strict";n.d(t,{$:()=>c,$w:()=>I,AC:()=>h,Wd:()=>l,_e:()=>f,bu:()=>P,cf:()=>d,ck:()=>A,kn:()=>x,ky:()=>O,mr:()=>E,rO:()=>C,ri:()=>k,sk:()=>M,tP:()=>T,w4:()=>S,wy:()=>a});var r=n(31481),o=n(90709),i=n(96454),s=n(43503);const a="(max-height: 640px)",c=parseInt(getComputedStyle(document.documentElement).fontSize,10),l=240,u=300,d={width:640,height:640},f={width:800,height:800},h="4986041492570112461",p={width:100,height:100},g=4.5,m=7,y=29,b=30;let v,_,w;function S(e,t,n,r){const o=t?1.625:0,i=function(e,t,n){if(!n)return e?b:y;const{width:r}=s.A.get();return v||(v=Math.min(b,r/c-g)),_||(_=Math.min(y,r/c-m)),w||(w=Math.min(y,r/c-g)),e?v:t?w:_}(e,n,r)-o;return i*c}function x({width:e,height:t,fromOwnMessage:n,isWebPageMedia:r,isGif:o,noAvatars:i,isMobile:s}){const a=t/e,l=S(n,r,i,s),d=function(e,t){return e&&t&&t>=.75&&t<=1.25?20*c:27*c}(o,a),f=o?Math.max(u,e):e;return O(l,d,f,o?t*(f/e):t)}function I(e,t){const n=window.matchMedia(a),{width:r,height:o}=s.A.get();let l=t&&n.matches?10:8.25;return e&&!i.TF&&(l=n.matches?10:12.5),{width:r,height:o-l*c}}function A(e,t,n,r,i,s){const{width:a,height:c}=(0,o.xi)(e)||p;return x({width:a,height:c,fromOwnMessage:t,asForwarded:n,isWebPageMedia:r,noAvatars:i,isMobile:s})}function C(e,t,n,r,i,s){const{width:a,height:c}=(0,o.NZ)(e)||p;return x({width:a,height:c,fromOwnMessage:t,asForwarded:n,isWebPageMedia:r,isGif:e.isGif,noAvatars:i,isMobile:s})}function k(e,t,n,r,o,i){const{width:s=p.width,height:a=p.height}=e;return x({width:s,height:a,fromOwnMessage:t,asForwarded:n,isWebPageMedia:r,noAvatars:o,isMobile:i})}function E(){return{width:2*c,height:2*c}}function T(e){return e?{width:3*c,height:3*c}:{width:3.375*c,height:3.375*c}}function P(e,t){const{width:n}=e;let{height:o}=e;e.id===h&&(o=n);const i=o&&n&&o/n,s=c*(t?r.naf:r.H4O),a=i?s*i:s;return i&&a>s?{width:Math.round(s/i),height:s}:{width:s,height:a}}function M({width:e,height:t},n,r=!1){const{width:o,height:i}=I(n,r);return O(o,i,e,t)}function O(e,t,n,r){const o=r/n,i=Math.min(n,e);return Math.round(i*o)>t?{width:Math.round(t/o),height:t}:{width:i,height:Math.round(i*o)}}},76288:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var r=n(82284),o=Symbol.for("react.element"),i=Symbol.for("react.transitional.element"),s=Symbol.for("react.fragment");function a(e){return e&&"object"===(0,r.A)(e)&&(e.$$typeof===o||e.$$typeof===i)&&e.type===s}},76327:(e,t,n)=>{"use strict";n.d(t,{Ay:()=>g,K6:()=>h,RQ:()=>f});var r=n(96540),o=n(46942),i=n.n(o),s=n(82546),a=n(62279),c=n(829),l=n(85447),u=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};const d=r.createContext(null),f=(e,t)=>{const n=r.useContext(d),o=r.useMemo(()=>{if(!n)return"";const{compactDirection:r,isFirstItem:o,isLastItem:s}=n,a="vertical"===r?"-vertical-":"-";return i()(`${e}-compact${a}item`,{[`${e}-compact${a}first-item`]:o,[`${e}-compact${a}last-item`]:s,[`${e}-compact${a}item-rtl`]:"rtl"===t})},[e,t,n]);return{compactSize:null==n?void 0:n.compactSize,compactDirection:null==n?void 0:n.compactDirection,compactItemClassnames:o}},h=e=>{const{children:t}=e;return r.createElement(d.Provider,{value:null},t)},p=e=>{const{children:t}=e,n=u(e,["children"]);return r.createElement(d.Provider,{value:r.useMemo(()=>n,[n])},t)},g=e=>{const{getPrefixCls:t,direction:n}=r.useContext(a.QO),{size:o,direction:f,block:h,prefixCls:g,className:m,rootClassName:y,children:b}=e,v=u(e,["size","direction","block","prefixCls","className","rootClassName","children"]),_=(0,c.A)(e=>null!=o?o:e),w=t("space-compact",g),[S,x]=(0,l.A)(w),I=i()(w,x,{[`${w}-rtl`]:"rtl"===n,[`${w}-block`]:h,[`${w}-vertical`]:"vertical"===f},m,y),A=r.useContext(d),C=(0,s.A)(b),k=r.useMemo(()=>C.map((e,t)=>{const n=(null==e?void 0:e.key)||`${w}-item-${t}`;return r.createElement(p,{key:n,compactSize:_,compactDirection:f,isFirstItem:0===t&&(!A||(null==A?void 0:A.isFirstItem)),isLastItem:t===C.length-1&&(!A||(null==A?void 0:A.isLastItem))},e)}),[o,C,A]);return 0===C.length?null:S(r.createElement("div",Object.assign({className:I},v),k))}},76471:(e,t,n)=>{"use strict";n.d(t,{A:()=>d});var r=n(84051),o=n(31481),i=n(87357),s=n(90603),a=n(14242),c=n(4961),l=n(54746);const u="A72KeAmh",d=(0,r.ph)(({className:e,letterClassName:t,topicId:n,iconColor:d,title:f,onClick:h})=>{const p=(0,s.GR)(d);return n===o.HxB?r.Ay.createElement(l.A,{name:"hashtag",className:(0,i.A)(u,e,"general-forum-icon"),onClick:h}):r.Ay.createElement("div",{className:(0,i.A)(u,e),onClick:h},r.Ay.createElement("img",{className:"eLEPgwPj",src:p,alt:"",draggable:!1}),r.Ay.createElement("div",{className:(0,i.A)("ZQJO2BKn",t,"topic-icon-letter")},(0,c.A)((0,a.Qh)(f,1))))})},76526:(e,t,n)=>{"use strict";n.d(t,{Gn:()=>l,ML:()=>c,cZ:()=>a,kU:()=>s});var r=n(74353),o=n.n(r),i=n(77787);function s(e){const t=[],n={};return e.forEach(e=>{const{timestamp:t}=e,r=new Date(1e3*t),i=r.getHours(),s=r.getMinutes(),a=o()(1e3*t).format("YYYY-MM-DD");let c;if(s<30)c=`${i.toString().padStart(2,"0")}:00-${i.toString().padStart(2,"0")}:30`;else{const e=(i+1)%24;c=`${i.toString().padStart(2,"0")}:30-${e.toString().padStart(2,"0")}:00`}const l=`${a}_${c}`;n[l]||(n[l]=[]),n[l].push(e)}),Object.entries(n).forEach(([e,n])=>{const[r,o]=e.split("_"),i={};n.forEach(e=>{i[e.chatId]||(i[e.chatId]=[]),i[e.chatId].push(e)});const s=Object.entries(i).map(([e,t])=>({chatId:e,messages:t?.slice(0,100)?.map(e=>({content:e.content,messageId:e.messageId,timestamp:e.timestamp}))}));t.push({timeRange:o,time:r,chatGroups:s})}),t}async function a(e,t=50){if(!i.zs.tgMessage)return[];try{return(await i.zs.tgMessage.getTgMessagesBySenderId(e,t)).messages.map(e=>({messageId:e.messageId,content:e.content,chatId:e.chatId,senderId:e.sender,timestamp:e.timestamp}))}catch(e){return[]}}function c(e){const{peerId:t,story:n}=e,r={id:`${t}-story-${n?.id}`,senderId:t,isSummary:!1,time:o()(1e3*n.date).format("YYYY-MM-DD HH:mm:ss"),message:n};i.zs.userPortraitMessage?.addUserPortraitMessage(r)}function l(e){const t=`${e?.peerId}-story-${e?.storyId}`;i.zs.userPortraitMessage?.deleteUserPortraitMessage(t)}},76562:(e,t,n)=>{"use strict";function r(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}n.d(t,{A:()=>r})},77193:function(e,t,n){var r;e.exports=(r=n(19021),n(80754),n(84636),n(39506),n(57165),function(){var e=r,t=e.lib.StreamCipher,n=e.algo,o=n.RC4=t.extend({_doReset:function(){for(var e=this._key,t=e.words,n=e.sigBytes,r=this._S=[],o=0;o<256;o++)r[o]=o;o=0;for(var i=0;o<256;o++){var s=o%n,a=t[s>>>2]>>>24-s%4*8&255;i=(i+r[o]+a)%256;var c=r[o];r[o]=r[i],r[i]=c}this._i=this._j=0},_doProcessBlock:function(e,t){e[t]^=i.call(this)},keySize:8,ivSize:0});function i(){for(var e=this._S,t=this._i,n=this._j,r=0,o=0;o<4;o++){n=(n+e[t=(t+1)%256])%256;var i=e[t];e[t]=e[n],e[n]=i,r|=e[(e[t]+e[n])%256]<<24-8*o}return this._i=t,this._j=n,r}e.RC4=t._createHelper(o);var s=n.RC4Drop=o.extend({cfg:o.cfg.extend({drop:192}),_doReset:function(){o._doReset.call(this);for(var e=this.cfg.drop;e>0;e--)i.call(this)}});e.RC4Drop=t._createHelper(s)}(),r.RC4)},77264:(module,__unused_webpack_exports,__webpack_require__)=>{var e;self,e=__WEBPACK_EXTERNAL_MODULE__1670__=>(()=>{var __webpack_modules__={3474:(e,t,n)=>{var r,o=(r=(r="undefined"!=typeof document&&document.currentScript?document.currentScript.src:void 0)||"/index.js",function(e){function t(){return O.buffer!=R&&G(O.buffer),N}function o(){return O.buffer!=R&&G(O.buffer),F}function i(){return O.buffer!=R&&G(O.buffer),L}function s(){return O.buffer!=R&&G(O.buffer),B}function a(){return O.buffer!=R&&G(O.buffer),$}var c,l,u;e=e||{},c||(c=void 0!==e?e:{}),c.ready=new Promise(function(e,t){l=e,u=t});var d,f,h,p,g,m,y=Object.assign({},c),b="./this.program",v=(e,t)=>{throw t},_="object"==typeof window,w="function"==typeof importScripts,S="object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node,x=c.ENVIRONMENT_IS_PTHREAD||!1,I="";function A(e){return c.locateFile?c.locateFile(e,I):I+e}if(S){let t;I=w?n(908).dirname(I)+"/":"//",m=()=>{g||(p=n(1384),g=n(908))},d=function(e,t){return m(),e=g.normalize(e),p.readFileSync(e,t?void 0:"utf8")},h=e=>((e=d(e,!0)).buffer||(e=new Uint8Array(e)),e),f=(e,t,n)=>{m(),e=g.normalize(e),p.readFile(e,function(e,r){e?n(e):t(r.buffer)})},1<process.argv.length&&(b=process.argv[1].replace(/\\/g,"/")),process.argv.slice(2),process.on("uncaughtException",function(e){if(!(e instanceof le))throw e}),process.on("unhandledRejection",function(e){throw e}),v=(e,t)=>{if(Q())throw process.exitCode=e,t;t instanceof le||P("exiting due to exception: "+t),process.exit(e)},c.inspect=function(){return"[Emscripten Module object]"};try{t=n(9925)}catch(e){throw console.error('The "worker_threads" module is not supported in this node.js build - perhaps a newer version is needed?'),e}n.g.Worker=t.Worker}else(_||w)&&(w?I=self.location.href:"undefined"!=typeof document&&document.currentScript&&(I=document.currentScript.src),r&&(I=r),I=0!==I.indexOf("blob:")?I.substr(0,I.replace(/[?#].*/,"").lastIndexOf("/")+1):"",S||(d=e=>{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.send(null),t.responseText},w&&(h=e=>{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)}),f=(e,t,n)=>{var r=new XMLHttpRequest;r.open("GET",e,!0),r.responseType="arraybuffer",r.onload=()=>{200==r.status||0==r.status&&r.response?t(r.response):n()},r.onerror=n,r.send(null)}));S&&"undefined"==typeof performance&&(n.g.performance=n(6953).performance);var C=console.log.bind(console),k=console.warn.bind(console);S&&(m(),C=e=>p.writeSync(1,e+"\n"),k=e=>p.writeSync(2,e+"\n"));var E,T=c.print||C,P=c.printErr||k;Object.assign(c,y),y=null,c.thisProgram&&(b=c.thisProgram),c.quit&&(v=c.quit),c.wasmBinary&&(E=c.wasmBinary);var M=c.noExitRuntime||!1;"object"!=typeof WebAssembly&&ie("no native wasm support detected");var O,D,R,N,F,L,B,$,j=!1,U="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0;function z(e,t,n){var r=(t>>>=0)+n;for(n=t;e[n]&&!(n>=r);)++n;if(16<n-t&&e.buffer&&U)return U.decode(e.buffer instanceof SharedArrayBuffer?e.slice(t,n):e.subarray(t,n));for(r="";t<n;){var o=e[t++];if(128&o){var i=63&e[t++];if(192==(224&o))r+=String.fromCharCode((31&o)<<6|i);else{var s=63&e[t++];65536>(o=224==(240&o)?(15&o)<<12|i<<6|s:(7&o)<<18|i<<12|s<<6|63&e[t++])?r+=String.fromCharCode(o):(o-=65536,r+=String.fromCharCode(55296|o>>10,56320|1023&o))}}else r+=String.fromCharCode(o)}return r}function V(e,t){return(e>>>=0)?z(o(),e,t):""}function q(e,t,n,r){if(!(0<r))return 0;var o=n>>>=0;r=n+r-1;for(var i=0;i<e.length;++i){var s=e.charCodeAt(i);if(55296<=s&&57343>=s&&(s=65536+((1023&s)<<10)|1023&e.charCodeAt(++i)),127>=s){if(n>=r)break;t[n++>>>0]=s}else{if(2047>=s){if(n+1>=r)break;t[n++>>>0]=192|s>>6}else{if(65535>=s){if(n+2>=r)break;t[n++>>>0]=224|s>>12}else{if(n+3>=r)break;t[n++>>>0]=240|s>>18,t[n++>>>0]=128|s>>12&63}t[n++>>>0]=128|s>>6&63}t[n++>>>0]=128|63&s}}return t[n>>>0]=0,n-o}function H(e){for(var t=0,n=0;n<e.length;++n){var r=e.charCodeAt(n);127>=r?t++:2047>=r?t+=2:55296<=r&&57343>=r?(t+=4,++n):t+=3}return t}function G(e){R=e,c.HEAP8=N=new Int8Array(e),c.HEAP16=new Int16Array(e),c.HEAP32=L=new Int32Array(e),c.HEAPU8=F=new Uint8Array(e),c.HEAPU16=new Uint16Array(e),c.HEAPU32=B=new Uint32Array(e),c.HEAPF32=new Float32Array(e),c.HEAPF64=$=new Float64Array(e)}x&&(R=c.buffer);var W=c.INITIAL_MEMORY||16777216;if(x)O=c.wasmMemory,R=c.buffer;else if(c.wasmMemory)O=c.wasmMemory;else if(!((O=new WebAssembly.Memory({initial:W/65536,maximum:65536,shared:!0})).buffer instanceof SharedArrayBuffer))throw P("requested a shared WebAssembly.Memory but the returned buffer is not a SharedArrayBuffer, indicating that while the browser has SharedArrayBuffer it does not have WebAssembly threads support - you may need to set a flag"),S&&console.log("(on node you may need: --experimental-wasm-threads --experimental-wasm-bulk-memory and also use a recent version)"),Error("bad memory");O&&(R=O.buffer),W=R.byteLength,G(R);var K,Y=[],J=[],X=[],Z=[];function Q(){return M||!1}function ee(){var e=c.preRun.shift();Y.unshift(e)}var te,ne=0,re=null,oe=null;function ie(e){throw x?postMessage({cmd:"onAbort",arg:e}):c.onAbort&&c.onAbort(e),P(e="Aborted("+e+")"),j=!0,e=new WebAssembly.RuntimeError(e+". Build with -sASSERTIONS for more info."),u(e),e}function se(){return te.startsWith("data:application/octet-stream;base64,")}function ae(){var e=te;try{if(e==te&&E)return new Uint8Array(E);if(h)return h(e);throw"both async and sync fetching of the wasm failed"}catch(e){ie(e)}}te="ort-wasm-threaded.wasm",se()||(te=A(te));var ce={};function le(e){this.name="ExitStatus",this.message="Program terminated with exit("+e+")",this.status=e}function ue(e){(e=pe.Vb[e])||ie(),pe.mc(e)}function de(e){var t=pe.Cc();if(!t)return 6;pe.ac.push(t),pe.Vb[e.Ub]=t,t.Ub=e.Ub;var n={cmd:"run",start_routine:e.Ic,arg:e.zc,pthread_ptr:e.Ub};return t.$b=()=>{n.time=performance.now(),t.postMessage(n,e.Nc)},t.loaded&&(t.$b(),delete t.$b),0}function fe(e){if(x)return We(1,1,e);Q()||(pe.oc(),c.onExit&&c.onExit(e),j=!0),v(e,new le(e))}function he(e,t){if(!t&&x)throw me(e),"unwind";Q()||x||(yt(),ge(X),mt(0),rt[1].length&&ot(1,10),rt[2].length&&ot(2,10),pe.oc()),fe(e)}var pe={Yb:[],ac:[],qc:[],Vb:{},fc:function(){x&&pe.Ec()},Pc:function(){},Ec:function(){pe.receiveObjectTransfer=pe.Gc,pe.threadInitTLS=pe.pc,pe.setExitStatus=pe.nc,M=!1},nc:function(){},oc:function(){for(var e of Object.values(pe.Vb))pe.mc(e);for(e of pe.Yb)e.terminate();pe.Yb=[]},mc:function(e){var t=e.Ub;delete pe.Vb[t],pe.Yb.push(e),pe.ac.splice(pe.ac.indexOf(e),1),e.Ub=0,St(t)},Gc:function(){},pc:function(){pe.qc.forEach(e=>e())},Fc:function(e,t){e.onmessage=n=>{var r=(n=n.data).cmd;if(e.Ub&&(pe.Bc=e.Ub),n.targetThread&&n.targetThread!=ht()){var o=pe.Vb[n.Qc];o?o.postMessage(n,n.transferList):P('Internal error! Worker sent a message "'+r+'" to target pthread '+n.targetThread+", but that thread no longer exists!")}else"processProxyingQueue"===r?Ue(n.queue):"spawnThread"===r?de(n):"cleanupThread"===r?ue(n.thread):"killThread"===r?(n=n.thread,r=pe.Vb[n],delete pe.Vb[n],r.terminate(),St(n),pe.ac.splice(pe.ac.indexOf(r),1),r.Ub=0):"cancelThread"===r?pe.Vb[n.thread].postMessage({cmd:"cancel"}):"loaded"===r?(e.loaded=!0,t&&t(e),e.$b&&(e.$b(),delete e.$b)):"print"===r?T("Thread "+n.threadId+": "+n.text):"printErr"===r?P("Thread "+n.threadId+": "+n.text):"alert"===r?alert("Thread "+n.threadId+": "+n.text):"setimmediate"===n.target?e.postMessage(n):"onAbort"===r?c.onAbort&&c.onAbort(n.arg):r&&P("worker sent an unknown command "+r);pe.Bc=void 0},e.onerror=e=>{throw P("worker sent an error! "+e.filename+":"+e.lineno+": "+e.message),e},S&&(e.on("message",function(t){e.onmessage({data:t})}),e.on("error",function(t){e.onerror(t)}),e.on("detachedExit",function(){})),e.postMessage({cmd:"load",urlOrBlob:c.mainScriptUrlOrBlob||r,wasmMemory:O,wasmModule:D})},yc:function(){var e=A("ort-wasm-threaded.worker.js");pe.Yb.push(new Worker(e))},Cc:function(){return 0==pe.Yb.length&&(pe.yc(),pe.Fc(pe.Yb[0])),pe.Yb.pop()}};function ge(e){for(;0<e.length;)e.shift()(c)}function me(e){if(x)return We(2,0,e);try{he(e)}catch(e){e instanceof le||"unwind"==e||v(1,e)}}c.PThread=pe,c.establishStackSpace=function(){var e=ht(),t=i()[e+44>>2>>>0];e=i()[e+48>>2>>>0],At(t,t-e),kt(t)};var ye=[];function be(e){var t=ye[e];return t||(e>=ye.length&&(ye.length=e+1),ye[e]=t=K.get(e)),t}c.invokeEntryPoint=function(e,t){e=be(e)(t),Q()?pe.nc(e):xt(e)};var ve,_e,we=[],Se=0,xe=0;function Ie(e){this.Zb=e,this.Sb=e-24,this.xc=function(e){s()[this.Sb+4>>2>>>0]=e},this.bc=function(){return s()[this.Sb+4>>2>>>0]},this.wc=function(e){s()[this.Sb+8>>2>>>0]=e},this.Dc=function(){return s()[this.Sb+8>>2>>>0]},this.rc=function(){i()[this.Sb>>2>>>0]=0},this.hc=function(e){e=e?1:0,t()[(this.Sb+12|0)>>>0]=e},this.uc=function(){return 0!=t()[(this.Sb+12|0)>>>0]},this.ic=function(e){e=e?1:0,t()[(this.Sb+13|0)>>>0]=e},this.kc=function(){return 0!=t()[(this.Sb+13|0)>>>0]},this.fc=function(e,t){this.cc(0),this.xc(e),this.wc(t),this.rc(),this.hc(!1),this.ic(!1)},this.sc=function(){Atomics.add(i(),this.Sb>>2,1)},this.Hc=function(){return 1===Atomics.sub(i(),this.Sb>>2,1)},this.cc=function(e){s()[this.Sb+16>>2>>>0]=e},this.tc=function(){return s()[this.Sb+16>>2>>>0]},this.vc=function(){if(Pt(this.bc()))return s()[this.Zb>>2>>>0];var e=this.tc();return 0!==e?e:this.Zb}}function Ae(e){return gt(new Ie(e).Sb)}function Ce(e,t,n,r){return x?We(3,1,e,t,n,r):ke(e,t,n,r)}function ke(e,t,n,r){if("undefined"==typeof SharedArrayBuffer)return P("Current environment does not support SharedArrayBuffer, pthreads are not available!"),6;var o=[];return x&&0===o.length?Ce(e,t,n,r):(e={Ic:n,Ub:e,zc:r,Nc:o},x?(e.Oc="spawnThread",postMessage(e,o),0):de(e))}function Ee(e,t,n){return x?We(4,1,e,t,n):0}function Te(e,t){if(x)return We(5,1,e,t)}function Pe(e,t){if(x)return We(6,1,e,t)}function Me(e,t,n){if(x)return We(7,1,e,t,n)}function Oe(e,t,n){return x?We(8,1,e,t,n):0}function De(e,t){if(x)return We(9,1,e,t)}function Re(e,t,n){if(x)return We(10,1,e,t,n)}function Ne(e,t,n,r){if(x)return We(11,1,e,t,n,r)}function Fe(e,t,n,r){if(x)return We(12,1,e,t,n,r)}function Le(e,t,n,r){if(x)return We(13,1,e,t,n,r)}function Be(e){if(x)return We(14,1,e)}function $e(e,t){if(x)return We(15,1,e,t)}function je(e,t,n){if(x)return We(16,1,e,t,n)}function Ue(e){Atomics.store(i(),e>>2,1),ht()&&wt(e),Atomics.compareExchange(i(),e>>2,1,0)}function ze(e){return s()[e>>>2]+4294967296*i()[e+4>>>2]}function Ve(e,t,n,r,o,i){return x?We(17,1,e,t,n,r,o,i):-52}function qe(e,t,n,r,o,i){if(x)return We(18,1,e,t,n,r,o,i)}function He(e){var n=H(e)+1,r=pt(n);return r&&q(e,t(),r,n),r}function Ge(e,t,n){function r(e){return(e=e.toTimeString().match(/\(([A-Za-z ]+)\)$/))?e[1]:"GMT"}if(x)return We(19,1,e,t,n);var o=(new Date).getFullYear(),a=new Date(o,0,1),c=new Date(o,6,1);o=a.getTimezoneOffset();var l=c.getTimezoneOffset(),u=Math.max(o,l);i()[e>>2>>>0]=60*u,i()[t>>2>>>0]=Number(o!=l),e=r(a),t=r(c),e=He(e),t=He(t),l<o?(s()[n>>2>>>0]=e,s()[n+4>>2>>>0]=t):(s()[n>>2>>>0]=t,s()[n+4>>2>>>0]=e)}function We(e,t){var n=arguments.length-2,r=arguments;return function(e){var t=Ct();return e=e(),kt(t),e}(()=>{for(var o=Et(8*n),i=o>>3,s=0;s<n;s++){var c=r[2+s];a()[i+s>>>0]=c}return _t(e,n,o,t)})}c.executeNotifiedProxyingQueue=Ue,_e=S?()=>{var e=process.hrtime();return 1e3*e[0]+e[1]/1e6}:x?()=>performance.now()-c.__performance_now_clock_drift:()=>performance.now();var Ke,Ye=[],Je={};function Xe(){if(!Ke){var e,t={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:b||"./this.program"};for(e in Je)void 0===Je[e]?delete t[e]:t[e]=Je[e];var n=[];for(e in t)n.push(e+"="+t[e]);Ke=n}return Ke}function Ze(e,n){if(x)return We(20,1,e,n);var r=0;return Xe().forEach(function(o,i){var a=n+r;for(i=s()[e+4*i>>2>>>0]=a,a=0;a<o.length;++a)t()[(0|i++)>>>0]=o.charCodeAt(a);t()[(0|i)>>>0]=0,r+=o.length+1}),0}function Qe(e,t){if(x)return We(21,1,e,t);var n=Xe();s()[e>>2>>>0]=n.length;var r=0;return n.forEach(function(e){r+=e.length+1}),s()[t>>2>>>0]=r,0}function et(e){return x?We(22,1,e):52}function tt(e,t,n,r){return x?We(23,1,e,t,n,r):52}function nt(e,t,n,r,o){return x?We(24,1,e,t,n,r,o):70}var rt=[null,[],[]];function ot(e,t){var n=rt[e];0===t||10===t?((1===e?T:P)(z(n,0)),n.length=0):n.push(t)}function it(e,t,n,r){if(x)return We(25,1,e,t,n,r);for(var i=0,a=0;a<n;a++){var c=s()[t>>2>>>0],l=s()[t+4>>2>>>0];t+=8;for(var u=0;u<l;u++)ot(e,o()[c+u>>>0]);i+=l}return s()[r>>2>>>0]=i,0}var st=0;function at(e){return 0==e%4&&(0!=e%100||0==e%400)}var ct=[31,29,31,30,31,30,31,31,30,31,30,31],lt=[31,28,31,30,31,30,31,31,30,31,30,31];function ut(e,n,r,o){function s(e,t,n){for(e="number"==typeof e?e.toString():e||"";e.length<t;)e=n[0]+e;return e}function a(e,t){return s(e,t,"0")}function c(e,t){function n(e){return 0>e?-1:0<e?1:0}var r;return 0===(r=n(e.getFullYear()-t.getFullYear()))&&0===(r=n(e.getMonth()-t.getMonth()))&&(r=n(e.getDate()-t.getDate())),r}function l(e){switch(e.getDay()){case 0:return new Date(e.getFullYear()-1,11,29);case 1:return e;case 2:return new Date(e.getFullYear(),0,3);case 3:return new Date(e.getFullYear(),0,2);case 4:return new Date(e.getFullYear(),0,1);case 5:return new Date(e.getFullYear()-1,11,31);case 6:return new Date(e.getFullYear()-1,11,30)}}function u(e){var t=e.Wb;for(e=new Date(new Date(e.Xb+1900,0,1).getTime());0<t;){var n=e.getMonth(),r=(at(e.getFullYear())?ct:lt)[n];if(!(t>r-e.getDate())){e.setDate(e.getDate()+t);break}t-=r-e.getDate()+1,e.setDate(1),11>n?e.setMonth(n+1):(e.setMonth(0),e.setFullYear(e.getFullYear()+1))}return n=new Date(e.getFullYear()+1,0,4),t=l(new Date(e.getFullYear(),0,4)),n=l(n),0>=c(t,e)?0>=c(n,e)?e.getFullYear()+1:e.getFullYear():e.getFullYear()-1}var d=i()[o+40>>2>>>0];for(var f in o={Lc:i()[o>>2>>>0],Kc:i()[o+4>>2>>>0],dc:i()[o+8>>2>>>0],jc:i()[o+12>>2>>>0],ec:i()[o+16>>2>>>0],Xb:i()[o+20>>2>>>0],Tb:i()[o+24>>2>>>0],Wb:i()[o+28>>2>>>0],Rc:i()[o+32>>2>>>0],Jc:i()[o+36>>2>>>0],Mc:d?V(d):""},r=V(r),d={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"})r=r.replace(new RegExp(f,"g"),d[f]);var h="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),p="January February March April May June July August September October November December".split(" ");for(f in d={"%a":function(e){return h[e.Tb].substring(0,3)},"%A":function(e){return h[e.Tb]},"%b":function(e){return p[e.ec].substring(0,3)},"%B":function(e){return p[e.ec]},"%C":function(e){return a((e.Xb+1900)/100|0,2)},"%d":function(e){return a(e.jc,2)},"%e":function(e){return s(e.jc,2," ")},"%g":function(e){return u(e).toString().substring(2)},"%G":function(e){return u(e)},"%H":function(e){return a(e.dc,2)},"%I":function(e){return 0==(e=e.dc)?e=12:12<e&&(e-=12),a(e,2)},"%j":function(e){for(var t=0,n=0;n<=e.ec-1;t+=(at(e.Xb+1900)?ct:lt)[n++]);return a(e.jc+t,3)},"%m":function(e){return a(e.ec+1,2)},"%M":function(e){return a(e.Kc,2)},"%n":function(){return"\n"},"%p":function(e){return 0<=e.dc&&12>e.dc?"AM":"PM"},"%S":function(e){return a(e.Lc,2)},"%t":function(){return"\t"},"%u":function(e){return e.Tb||7},"%U":function(e){return a(Math.floor((e.Wb+7-e.Tb)/7),2)},"%V":function(e){var t=Math.floor((e.Wb+7-(e.Tb+6)%7)/7);if(2>=(e.Tb+371-e.Wb-2)%7&&t++,t)53==t&&(4==(n=(e.Tb+371-e.Wb)%7)||3==n&&at(e.Xb)||(t=1));else{t=52;var n=(e.Tb+7-e.Wb-1)%7;(4==n||5==n&&at(e.Xb%400-1))&&t++}return a(t,2)},"%w":function(e){return e.Tb},"%W":function(e){return a(Math.floor((e.Wb+7-(e.Tb+6)%7)/7),2)},"%y":function(e){return(e.Xb+1900).toString().substring(2)},"%Y":function(e){return e.Xb+1900},"%z":function(e){var t=0<=(e=e.Jc);return e=Math.abs(e)/60,(t?"+":"-")+String("0000"+(e/60*100+e%60)).slice(-4)},"%Z":function(e){return e.Mc},"%%":function(){return"%"}},r=r.replace(/%%/g,"\0\0"),d)r.includes(f)&&(r=r.replace(new RegExp(f,"g"),d[f](o)));return f=function(e){var t=Array(H(e)+1);return q(e,t,0,t.length),t}(r=r.replace(/\0\0/g,"%")),f.length>n?0:(function(e,n){t().set(e,n>>>0)}(f,e),f.length-1)}pe.fc();var dt=[null,fe,me,Ce,Ee,Te,Pe,Me,Oe,De,Re,Ne,Fe,Le,Be,$e,je,Ve,qe,Ge,Ze,Qe,et,tt,nt,it],ft={b:function(e){return pt(e+24)+24},n:function(e){return(e=new Ie(e)).uc()||(e.hc(!0),Se--),e.ic(!1),we.push(e),e.sc(),e.vc()},ma:function(e){throw P("Unexpected exception thrown, this is not properly supported - aborting"),j=!0,e},x:function(){It(0);var e=we.pop();if(e.Hc()&&!e.kc()){var t=e.Dc();t&&be(t)(e.Zb),Ae(e.Zb)}xe=0},e:function(){var e=xe;if(!e)return st=0;var t=new Ie(e);t.cc(e);var n=t.bc();if(!n)return st=0,e;for(var r=Array.prototype.slice.call(arguments),o=0;o<r.length;o++){var i=r[o];if(0===i||i===n)break;if(Tt(i,n,t.Sb+16))return st=i,e}return st=n,e},l:function(){var e=xe;if(!e)return st=0;var t=new Ie(e);t.cc(e);var n=t.bc();if(!n)return st=0,e;for(var r=Array.prototype.slice.call(arguments),o=0;o<r.length;o++){var i=r[o];if(0===i||i===n)break;if(Tt(i,n,t.Sb+16))return st=i,e}return st=n,e},h:function(){var e=xe;if(!e)return st=0;var t=new Ie(e);t.cc(e);var n=t.bc();if(!n)return st=0,e;for(var r=Array.prototype.slice.call(arguments),o=0;o<r.length;o++){var i=r[o];if(0===i||i===n)break;if(Tt(i,n,t.Sb+16))return st=i,e}return st=n,e},t:Ae,M:function(){var e=we.pop();e||ie("no exception to throw");var t=e.Zb;throw e.kc()||(we.push(e),e.ic(!0),e.hc(!1),Se++),xe=t,t},c:function(e,t,n){throw new Ie(e).fc(t,n),xe=e,Se++,e},pa:function(){return Se},Fa:function(e){bt(e,!w,1,!_),pe.pc()},T:function(e){x?postMessage({cmd:"cleanupThread",thread:e}):ue(e)},xa:ke,j:function(e){throw xe||(xe=e),e},H:Ee,Ma:Te,ua:Pe,wa:Me,oa:Oe,Ka:De,Ca:Re,Ja:Ne,V:Fe,va:Le,sa:Be,La:$e,ta:je,Ta:function(){},X:function(){ie("To use dlopen, you need enable dynamic linking, see https://github.com/emscripten-core/emscripten/wiki/Linking")},Ua:function(){ie("To use dlopen, you need enable dynamic linking, see https://github.com/emscripten-core/emscripten/wiki/Linking")},W:function(){return Date.now()},ya:function(){return 2097152},Oa:function(){return!0},za:function(e,t,n,r){if(e==t)setTimeout(()=>Ue(r));else if(x)postMessage({targetThread:e,cmd:"processProxyingQueue",queue:r});else{if(!(e=pe.Vb[e]))return;e.postMessage({cmd:"processProxyingQueue",queue:r})}return 1},Ea:function(){return-1},Pa:function(e,t){e=new Date(1e3*ze(e)),i()[t>>2>>>0]=e.getUTCSeconds(),i()[t+4>>2>>>0]=e.getUTCMinutes(),i()[t+8>>2>>>0]=e.getUTCHours(),i()[t+12>>2>>>0]=e.getUTCDate(),i()[t+16>>2>>>0]=e.getUTCMonth(),i()[t+20>>2>>>0]=e.getUTCFullYear()-1900,i()[t+24>>2>>>0]=e.getUTCDay(),e=(e.getTime()-Date.UTC(e.getUTCFullYear(),0,1,0,0,0,0))/864e5|0,i()[t+28>>2>>>0]=e},Qa:function(e,t){e=new Date(1e3*ze(e)),i()[t>>2>>>0]=e.getSeconds(),i()[t+4>>2>>>0]=e.getMinutes(),i()[t+8>>2>>>0]=e.getHours(),i()[t+12>>2>>>0]=e.getDate(),i()[t+16>>2>>>0]=e.getMonth(),i()[t+20>>2>>>0]=e.getFullYear()-1900,i()[t+24>>2>>>0]=e.getDay();var n=new Date(e.getFullYear(),0,1),r=(e.getTime()-n.getTime())/864e5|0;i()[t+28>>2>>>0]=r,i()[t+36>>2>>>0]=-60*e.getTimezoneOffset(),r=new Date(e.getFullYear(),6,1).getTimezoneOffset(),e=0|(r!=(n=n.getTimezoneOffset())&&e.getTimezoneOffset()==Math.min(n,r)),i()[t+32>>2>>>0]=e},Ra:function(e){var t=new Date(i()[e+20>>2>>>0]+1900,i()[e+16>>2>>>0],i()[e+12>>2>>>0],i()[e+8>>2>>>0],i()[e+4>>2>>>0],i()[e>>2>>>0],0),n=i()[e+32>>2>>>0],r=t.getTimezoneOffset(),o=new Date(t.getFullYear(),0,1),s=new Date(t.getFullYear(),6,1).getTimezoneOffset(),a=o.getTimezoneOffset(),c=Math.min(a,s);return 0>n?i()[e+32>>2>>>0]=Number(s!=a&&c==r):0<n!=(c==r)&&(s=Math.max(a,s),t.setTime(t.getTime()+6e4*((0<n?c:s)-r))),i()[e+24>>2>>>0]=t.getDay(),n=(t.getTime()-o.getTime())/864e5|0,i()[e+28>>2>>>0]=n,i()[e>>2>>>0]=t.getSeconds(),i()[e+4>>2>>>0]=t.getMinutes(),i()[e+8>>2>>>0]=t.getHours(),i()[e+12>>2>>>0]=t.getDate(),i()[e+16>>2>>>0]=t.getMonth(),t.getTime()/1e3|0},Aa:Ve,Ba:qe,Sa:function e(t,n,r){e.Ac||(e.Ac=!0,Ge(t,n,r))},y:function(){ie("")},U:function(){if(!S&&!w){var e="Blocking on the main thread is very dangerous, see https://emscripten.org/docs/porting/pthreads.html#blocking-on-the-main-browser-thread";ve||(ve={}),ve[e]||(ve[e]=1,S&&(e="warning: "+e),P(e))}},ra:function(){return 4294901760},B:_e,Ia:function(e,t,n){o().copyWithin(e>>>0,t>>>0,t+n>>>0)},F:function(){return S?n(3993).cpus().length:navigator.hardwareConcurrency},Da:function(e,t,n){Ye.length=t,n>>=3;for(var r=0;r<t;r++)Ye[r]=a()[n+r>>>0];return(0>e?ce[-e-1]:dt[e]).apply(null,Ye)},qa:function(e){var t=o().length;if((e>>>=0)<=t||4294901760<e)return!1;for(var n=1;4>=n;n*=2){var r=t*(1+.2/n);r=Math.min(r,e+100663296);var i=Math;r=Math.max(e,r),i=i.min.call(i,4294901760,r+(65536-r%65536)%65536);e:{try{O.grow(i-R.byteLength+65535>>>16),G(O.buffer);var s=1;break e}catch(e){}s=void 0}if(s)return!0}return!1},Na:function(){throw"unwind"},Ga:Ze,Ha:Qe,J:he,I:et,S:tt,ga:nt,R:it,d:function(){return st},na:function e(r,o){e.lc||(e.lc=function(){if("object"==typeof crypto&&"function"==typeof crypto.getRandomValues){var e=new Uint8Array(1);return()=>(crypto.getRandomValues(e),e[0])}if(S)try{var t=n(Object(function(){var e=new Error("Cannot find module 'crypto'");throw e.code="MODULE_NOT_FOUND",e}()));return()=>t.randomBytes(1)[0]}catch(e){}return()=>ie("randomDevice")}());for(var i=0;i<o;i++)t()[(r+i|0)>>>0]=e.lc();return 0},ia:function(e,t,n){var r=Ct();try{return be(e)(t,n)}catch(e){if(kt(r),e!==e+0)throw e;It(1,0)}},ja:function(e,t,n){var r=Ct();try{return be(e)(t,n)}catch(e){if(kt(r),e!==e+0)throw e;It(1,0)}},K:function(e){var t=Ct();try{return be(e)()}catch(e){if(kt(t),e!==e+0)throw e;It(1,0)}},f:function(e,t){var n=Ct();try{return be(e)(t)}catch(e){if(kt(n),e!==e+0)throw e;It(1,0)}},P:function(e,t,n){var r=Ct();try{return be(e)(t,n)}catch(e){if(kt(r),e!==e+0)throw e;It(1,0)}},Q:function(e,t,n){var r=Ct();try{return be(e)(t,n)}catch(e){if(kt(r),e!==e+0)throw e;It(1,0)}},k:function(e,t,n){var r=Ct();try{return be(e)(t,n)}catch(e){if(kt(r),e!==e+0)throw e;It(1,0)}},p:function(e,t,n,r){var o=Ct();try{return be(e)(t,n,r)}catch(e){if(kt(o),e!==e+0)throw e;It(1,0)}},q:function(e,t,n,r,o){var i=Ct();try{return be(e)(t,n,r,o)}catch(e){if(kt(i),e!==e+0)throw e;It(1,0)}},N:function(e,t,n,r,o,i){var s=Ct();try{return be(e)(t,n,r,o,i)}catch(e){if(kt(s),e!==e+0)throw e;It(1,0)}},s:function(e,t,n,r,o,i){var s=Ct();try{return be(e)(t,n,r,o,i)}catch(e){if(kt(s),e!==e+0)throw e;It(1,0)}},w:function(e,t,n,r,o,i,s){var a=Ct();try{return be(e)(t,n,r,o,i,s)}catch(e){if(kt(a),e!==e+0)throw e;It(1,0)}},L:function(e,t,n,r,o,i,s,a){var c=Ct();try{return be(e)(t,n,r,o,i,s,a)}catch(e){if(kt(c),e!==e+0)throw e;It(1,0)}},E:function(e,t,n,r,o,i,s,a,c,l,u,d){var f=Ct();try{return be(e)(t,n,r,o,i,s,a,c,l,u,d)}catch(e){if(kt(f),e!==e+0)throw e;It(1,0)}},aa:function(e,t,n,r,o,i,s,a){var c=Ct();try{return $t(e,t,n,r,o,i,s,a)}catch(e){if(kt(c),e!==e+0)throw e;It(1,0)}},_:function(e,t,n,r,o,i,s){var a=Ct();try{return Ot(e,t,n,r,o,i,s)}catch(e){if(kt(a),e!==e+0)throw e;It(1,0)}},Z:function(e,t,n,r,o){var i=Ct();try{return jt(e,t,n,r,o)}catch(e){if(kt(i),e!==e+0)throw e;It(1,0)}},ca:function(e,t,n,r){var o=Ct();try{return Lt(e,t,n,r)}catch(e){if(kt(o),e!==e+0)throw e;It(1,0)}},$:function(e){var t=Ct();try{return Mt(e)}catch(e){if(kt(t),e!==e+0)throw e;It(1,0)}},ba:function(e,t){var n=Ct();try{return Bt(e,t)}catch(e){if(kt(n),e!==e+0)throw e;It(1,0)}},Y:function(e,t,n){var r=Ct();try{return Dt(e,t,n)}catch(e){if(kt(r),e!==e+0)throw e;It(1,0)}},g:function(e){var t=Ct();try{be(e)()}catch(e){if(kt(t),e!==e+0)throw e;It(1,0)}},r:function(e,t){var n=Ct();try{be(e)(t)}catch(e){if(kt(n),e!==e+0)throw e;It(1,0)}},i:function(e,t,n){var r=Ct();try{be(e)(t,n)}catch(e){if(kt(r),e!==e+0)throw e;It(1,0)}},ha:function(e,t,n,r){var o=Ct();try{be(e)(t,n,r)}catch(e){if(kt(o),e!==e+0)throw e;It(1,0)}},m:function(e,t,n,r){var o=Ct();try{be(e)(t,n,r)}catch(e){if(kt(o),e!==e+0)throw e;It(1,0)}},v:function(e,t,n,r,o){var i=Ct();try{be(e)(t,n,r,o)}catch(e){if(kt(i),e!==e+0)throw e;It(1,0)}},u:function(e,t,n,r,o,i){var s=Ct();try{be(e)(t,n,r,o,i)}catch(e){if(kt(s),e!==e+0)throw e;It(1,0)}},O:function(e,t,n,r,o,i,s){var a=Ct();try{be(e)(t,n,r,o,i,s)}catch(e){if(kt(a),e!==e+0)throw e;It(1,0)}},A:function(e,t,n,r,o,i,s,a){var c=Ct();try{be(e)(t,n,r,o,i,s,a)}catch(e){if(kt(c),e!==e+0)throw e;It(1,0)}},ka:function(e,t,n,r,o,i,s,a,c){var l=Ct();try{be(e)(t,n,r,o,i,s,a,c)}catch(e){if(kt(l),e!==e+0)throw e;It(1,0)}},C:function(e,t,n,r,o,i,s,a,c,l,u){var d=Ct();try{be(e)(t,n,r,o,i,s,a,c,l,u)}catch(e){if(kt(d),e!==e+0)throw e;It(1,0)}},D:function(e,t,n,r,o,i,s,a,c,l,u,d,f,h,p,g){var m=Ct();try{be(e)(t,n,r,o,i,s,a,c,l,u,d,f,h,p,g)}catch(e){if(kt(m),e!==e+0)throw e;It(1,0)}},fa:function(e,t,n,r,o,i,s,a){var c=Ct();try{Rt(e,t,n,r,o,i,s,a)}catch(e){if(kt(c),e!==e+0)throw e;It(1,0)}},da:function(e,t,n,r,o,i,s,a,c,l,u,d){var f=Ct();try{Ft(e,t,n,r,o,i,s,a,c,l,u,d)}catch(e){if(kt(f),e!==e+0)throw e;It(1,0)}},ea:function(e,t,n,r,o,i){var s=Ct();try{Nt(e,t,n,r,o,i)}catch(e){if(kt(s),e!==e+0)throw e;It(1,0)}},o:function(e){return e},a:O||c.wasmMemory,G:function(e){st=e},la:ut,z:function(e,t,n,r){return ut(e,t,n,r)}};!function(){function e(e,t){c.asm=e.exports,pe.qc.push(c.asm.sb),K=c.asm.ub,J.unshift(c.asm.Va),D=t,x||(ne--,c.monitorRunDependencies&&c.monitorRunDependencies(ne),0==ne&&(null!==re&&(clearInterval(re),re=null),oe&&(e=oe,oe=null,e())))}function t(t){e(t.instance,t.module)}function n(e){return function(){if(!E&&(_||w)){if("function"==typeof fetch&&!te.startsWith("file://"))return fetch(te,{credentials:"same-origin"}).then(function(e){if(!e.ok)throw"failed to load wasm binary file at '"+te+"'";return e.arrayBuffer()}).catch(function(){return ae()});if(f)return new Promise(function(e,t){f(te,function(t){e(new Uint8Array(t))},t)})}return Promise.resolve().then(function(){return ae()})}().then(function(e){return WebAssembly.instantiate(e,r)}).then(function(e){return e}).then(e,function(e){P("failed to asynchronously prepare wasm: "+e),ie(e)})}var r={a:ft};if(x||(ne++,c.monitorRunDependencies&&c.monitorRunDependencies(ne)),c.instantiateWasm)try{return c.instantiateWasm(r,e)}catch(e){return P("Module.instantiateWasm callback failed with error: "+e),!1}(E||"function"!=typeof WebAssembly.instantiateStreaming||se()||te.startsWith("file://")||S||"function"!=typeof fetch?n(t):fetch(te,{credentials:"same-origin"}).then(function(e){return WebAssembly.instantiateStreaming(e,r).then(t,function(e){return P("wasm streaming compile failed: "+e),P("falling back to ArrayBuffer instantiation"),n(t)})})).catch(u)}(),c.___wasm_call_ctors=function(){return(c.___wasm_call_ctors=c.asm.Va).apply(null,arguments)},c._OrtInit=function(){return(c._OrtInit=c.asm.Wa).apply(null,arguments)},c._OrtCreateSessionOptions=function(){return(c._OrtCreateSessionOptions=c.asm.Xa).apply(null,arguments)},c._OrtAppendExecutionProvider=function(){return(c._OrtAppendExecutionProvider=c.asm.Ya).apply(null,arguments)},c._OrtAddSessionConfigEntry=function(){return(c._OrtAddSessionConfigEntry=c.asm.Za).apply(null,arguments)},c._OrtReleaseSessionOptions=function(){return(c._OrtReleaseSessionOptions=c.asm._a).apply(null,arguments)},c._OrtCreateSession=function(){return(c._OrtCreateSession=c.asm.$a).apply(null,arguments)},c._OrtReleaseSession=function(){return(c._OrtReleaseSession=c.asm.ab).apply(null,arguments)},c._OrtGetInputCount=function(){return(c._OrtGetInputCount=c.asm.bb).apply(null,arguments)},c._OrtGetOutputCount=function(){return(c._OrtGetOutputCount=c.asm.cb).apply(null,arguments)},c._OrtGetInputName=function(){return(c._OrtGetInputName=c.asm.db).apply(null,arguments)},c._OrtGetOutputName=function(){return(c._OrtGetOutputName=c.asm.eb).apply(null,arguments)},c._OrtFree=function(){return(c._OrtFree=c.asm.fb).apply(null,arguments)},c._OrtCreateTensor=function(){return(c._OrtCreateTensor=c.asm.gb).apply(null,arguments)},c._OrtGetTensorData=function(){return(c._OrtGetTensorData=c.asm.hb).apply(null,arguments)},c._OrtReleaseTensor=function(){return(c._OrtReleaseTensor=c.asm.ib).apply(null,arguments)},c._OrtCreateRunOptions=function(){return(c._OrtCreateRunOptions=c.asm.jb).apply(null,arguments)},c._OrtAddRunConfigEntry=function(){return(c._OrtAddRunConfigEntry=c.asm.kb).apply(null,arguments)},c._OrtReleaseRunOptions=function(){return(c._OrtReleaseRunOptions=c.asm.lb).apply(null,arguments)},c._OrtRun=function(){return(c._OrtRun=c.asm.mb).apply(null,arguments)},c._OrtEndProfiling=function(){return(c._OrtEndProfiling=c.asm.nb).apply(null,arguments)};var ht=c._pthread_self=function(){return(ht=c._pthread_self=c.asm.ob).apply(null,arguments)},pt=c._malloc=function(){return(pt=c._malloc=c.asm.pb).apply(null,arguments)},gt=c._free=function(){return(gt=c._free=c.asm.qb).apply(null,arguments)},mt=c._fflush=function(){return(mt=c._fflush=c.asm.rb).apply(null,arguments)};c.__emscripten_tls_init=function(){return(c.__emscripten_tls_init=c.asm.sb).apply(null,arguments)};var yt=c.___funcs_on_exit=function(){return(yt=c.___funcs_on_exit=c.asm.tb).apply(null,arguments)},bt=c.__emscripten_thread_init=function(){return(bt=c.__emscripten_thread_init=c.asm.vb).apply(null,arguments)};c.__emscripten_thread_crashed=function(){return(c.__emscripten_thread_crashed=c.asm.wb).apply(null,arguments)};var vt,_t=c._emscripten_run_in_main_runtime_thread_js=function(){return(_t=c._emscripten_run_in_main_runtime_thread_js=c.asm.xb).apply(null,arguments)},wt=c.__emscripten_proxy_execute_task_queue=function(){return(wt=c.__emscripten_proxy_execute_task_queue=c.asm.yb).apply(null,arguments)},St=c.__emscripten_thread_free_data=function(){return(St=c.__emscripten_thread_free_data=c.asm.zb).apply(null,arguments)},xt=c.__emscripten_thread_exit=function(){return(xt=c.__emscripten_thread_exit=c.asm.Ab).apply(null,arguments)},It=c._setThrew=function(){return(It=c._setThrew=c.asm.Bb).apply(null,arguments)},At=c._emscripten_stack_set_limits=function(){return(At=c._emscripten_stack_set_limits=c.asm.Cb).apply(null,arguments)},Ct=c.stackSave=function(){return(Ct=c.stackSave=c.asm.Db).apply(null,arguments)},kt=c.stackRestore=function(){return(kt=c.stackRestore=c.asm.Eb).apply(null,arguments)},Et=c.stackAlloc=function(){return(Et=c.stackAlloc=c.asm.Fb).apply(null,arguments)},Tt=c.___cxa_can_catch=function(){return(Tt=c.___cxa_can_catch=c.asm.Gb).apply(null,arguments)},Pt=c.___cxa_is_pointer_type=function(){return(Pt=c.___cxa_is_pointer_type=c.asm.Hb).apply(null,arguments)},Mt=c.dynCall_j=function(){return(Mt=c.dynCall_j=c.asm.Ib).apply(null,arguments)},Ot=c.dynCall_iiiiij=function(){return(Ot=c.dynCall_iiiiij=c.asm.Jb).apply(null,arguments)},Dt=c.dynCall_jii=function(){return(Dt=c.dynCall_jii=c.asm.Kb).apply(null,arguments)},Rt=c.dynCall_viiiiij=function(){return(Rt=c.dynCall_viiiiij=c.asm.Lb).apply(null,arguments)},Nt=c.dynCall_vjji=function(){return(Nt=c.dynCall_vjji=c.asm.Mb).apply(null,arguments)},Ft=c.dynCall_viiijjjii=function(){return(Ft=c.dynCall_viiijjjii=c.asm.Nb).apply(null,arguments)},Lt=c.dynCall_iij=function(){return(Lt=c.dynCall_iij=c.asm.Ob).apply(null,arguments)},Bt=c.dynCall_ji=function(){return(Bt=c.dynCall_ji=c.asm.Pb).apply(null,arguments)},$t=c.dynCall_iiiiiij=function(){return($t=c.dynCall_iiiiiij=c.asm.Qb).apply(null,arguments)},jt=c.dynCall_iiij=function(){return(jt=c.dynCall_iiij=c.asm.Rb).apply(null,arguments)};function Ut(){function e(){if(!vt&&(vt=!0,c.calledRun=!0,!j)&&(x||ge(J),l(c),c.onRuntimeInitialized&&c.onRuntimeInitialized(),!x)){if(c.postRun)for("function"==typeof c.postRun&&(c.postRun=[c.postRun]);c.postRun.length;){var e=c.postRun.shift();Z.unshift(e)}ge(Z)}}if(!(0<ne))if(x)l(c),x||ge(J),postMessage({cmd:"loaded"});else{if(c.preRun)for("function"==typeof c.preRun&&(c.preRun=[c.preRun]);c.preRun.length;)ee();ge(Y),0<ne||(c.setStatus?(c.setStatus("Running..."),setTimeout(function(){setTimeout(function(){c.setStatus("")},1),e()},1)):e())}}if(c.UTF8ToString=V,c.stringToUTF8=function(e,t,n){return q(e,o(),t,n)},c.lengthBytesUTF8=H,c.keepRuntimeAlive=Q,c.wasmMemory=O,c.stackSave=Ct,c.stackRestore=kt,c.stackAlloc=Et,c.ExitStatus=le,c.PThread=pe,oe=function e(){vt||Ut(),vt||(oe=e)},c.preInit)for("function"==typeof c.preInit&&(c.preInit=[c.preInit]);0<c.preInit.length;)c.preInit.pop()();return Ut(),e.ready});e.exports=o},932:(e,t,n)=>{var r,o=(r=(r="undefined"!=typeof document&&document.currentScript?document.currentScript.src:void 0)||"/index.js",function(e){var t,o,i;e=e||{},t||(t=void 0!==e?e:{}),t.ready=new Promise(function(e,t){o=e,i=t});var s,a,c,l,u,d,f=Object.assign({},t),h="./this.program",p=(e,t)=>{throw t},g="object"==typeof window,m="function"==typeof importScripts,y="object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node,b="";y?(b=m?n(908).dirname(b)+"/":"//",d=()=>{u||(l=n(1384),u=n(908))},s=function(e,t){return d(),e=u.normalize(e),l.readFileSync(e,t?void 0:"utf8")},c=e=>((e=s(e,!0)).buffer||(e=new Uint8Array(e)),e),a=(e,t,n)=>{d(),e=u.normalize(e),l.readFile(e,function(e,r){e?n(e):t(r.buffer)})},1<process.argv.length&&(h=process.argv[1].replace(/\\/g,"/")),process.argv.slice(2),process.on("uncaughtException",function(e){if(!(e instanceof X))throw e}),process.on("unhandledRejection",function(e){throw e}),p=(e,t)=>{if(S||0<U)throw process.exitCode=e,t;t instanceof X||w("exiting due to exception: "+t),process.exit(e)},t.inspect=function(){return"[Emscripten Module object]"}):(g||m)&&(m?b=self.location.href:"undefined"!=typeof document&&document.currentScript&&(b=document.currentScript.src),r&&(b=r),b=0!==b.indexOf("blob:")?b.substr(0,b.replace(/[?#].*/,"").lastIndexOf("/")+1):"",s=e=>{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.send(null),t.responseText},m&&(c=e=>{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)}),a=(e,t,n)=>{var r=new XMLHttpRequest;r.open("GET",e,!0),r.responseType="arraybuffer",r.onload=()=>{200==r.status||0==r.status&&r.response?t(r.response):n()},r.onerror=n,r.send(null)});var v,_=t.print||console.log.bind(console),w=t.printErr||console.warn.bind(console);Object.assign(t,f),f=null,t.thisProgram&&(h=t.thisProgram),t.quit&&(p=t.quit),t.wasmBinary&&(v=t.wasmBinary);var S=t.noExitRuntime||!1;"object"!=typeof WebAssembly&&W("no native wasm support detected");var x,I,A,C,k,E,T=!1,P="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0;function M(e,t,n){var r=(t>>>=0)+n;for(n=t;e[n]&&!(n>=r);)++n;if(16<n-t&&e.buffer&&P)return P.decode(e.subarray(t,n));for(r="";t<n;){var o=e[t++];if(128&o){var i=63&e[t++];if(192==(224&o))r+=String.fromCharCode((31&o)<<6|i);else{var s=63&e[t++];65536>(o=224==(240&o)?(15&o)<<12|i<<6|s:(7&o)<<18|i<<12|s<<6|63&e[t++])?r+=String.fromCharCode(o):(o-=65536,r+=String.fromCharCode(55296|o>>10,56320|1023&o))}}else r+=String.fromCharCode(o)}return r}function O(e,t){return(e>>>=0)?M(C,e,t):""}function D(e,t,n,r){if(!(0<r))return 0;var o=n>>>=0;r=n+r-1;for(var i=0;i<e.length;++i){var s=e.charCodeAt(i);if(55296<=s&&57343>=s&&(s=65536+((1023&s)<<10)|1023&e.charCodeAt(++i)),127>=s){if(n>=r)break;t[n++>>>0]=s}else{if(2047>=s){if(n+1>=r)break;t[n++>>>0]=192|s>>6}else{if(65535>=s){if(n+2>=r)break;t[n++>>>0]=224|s>>12}else{if(n+3>=r)break;t[n++>>>0]=240|s>>18,t[n++>>>0]=128|s>>12&63}t[n++>>>0]=128|s>>6&63}t[n++>>>0]=128|63&s}}return t[n>>>0]=0,n-o}function R(e){for(var t=0,n=0;n<e.length;++n){var r=e.charCodeAt(n);127>=r?t++:2047>=r?t+=2:55296<=r&&57343>=r?(t+=4,++n):t+=3}return t}function N(){var e=x.buffer;I=e,t.HEAP8=A=new Int8Array(e),t.HEAP16=new Int16Array(e),t.HEAP32=k=new Int32Array(e),t.HEAPU8=C=new Uint8Array(e),t.HEAPU16=new Uint16Array(e),t.HEAPU32=E=new Uint32Array(e),t.HEAPF32=new Float32Array(e),t.HEAPF64=new Float64Array(e)}var F,L=[],B=[],$=[],j=[],U=0;function z(){var e=t.preRun.shift();L.unshift(e)}var V,q=0,H=null,G=null;function W(e){throw t.onAbort&&t.onAbort(e),w(e="Aborted("+e+")"),T=!0,e=new WebAssembly.RuntimeError(e+". Build with -sASSERTIONS for more info."),i(e),e}function K(){return V.startsWith("data:application/octet-stream;base64,")}if(V="ort-wasm.wasm",!K()){var Y=V;V=t.locateFile?t.locateFile(Y,b):b+Y}function J(){var e=V;try{if(e==V&&v)return new Uint8Array(v);if(c)return c(e);throw"both async and sync fetching of the wasm failed"}catch(e){W(e)}}function X(e){this.name="ExitStatus",this.message="Program terminated with exit("+e+")",this.status=e}function Z(e){for(;0<e.length;)e.shift()(t)}var Q=[],ee=0,te=0;function ne(e){this.Db=e,this.zb=e-24,this.Ub=function(e){E[this.zb+4>>2>>>0]=e},this.Eb=function(){return E[this.zb+4>>2>>>0]},this.Sb=function(e){E[this.zb+8>>2>>>0]=e},this.Wb=function(){return E[this.zb+8>>2>>>0]},this.Tb=function(){k[this.zb>>2>>>0]=0},this.Ib=function(e){A[(this.zb+12|0)>>>0]=e?1:0},this.Pb=function(){return 0!=A[(this.zb+12|0)>>>0]},this.Jb=function(e){A[(this.zb+13|0)>>>0]=e?1:0},this.Lb=function(){return 0!=A[(this.zb+13|0)>>>0]},this.Rb=function(e,t){this.Fb(0),this.Ub(e),this.Sb(t),this.Tb(),this.Ib(!1),this.Jb(!1)},this.Nb=function(){k[this.zb>>2>>>0]+=1},this.Xb=function(){var e=k[this.zb>>2>>>0];return k[this.zb>>2>>>0]=e-1,1===e},this.Fb=function(e){E[this.zb+16>>2>>>0]=e},this.Ob=function(){return E[this.zb+16>>2>>>0]},this.Qb=function(){if(Ee(this.Eb()))return E[this.Db>>2>>>0];var e=this.Ob();return 0!==e?e:this.Db}}function re(e){return _e(new ne(e).zb)}var oe=[];function ie(e){var t=oe[e];return t||(e>=oe.length&&(oe.length=e+1),oe[e]=t=F.get(e)),t}function se(e){var t=R(e)+1,n=ve(t);return n&&D(e,A,n,t),n}var ae={};function ce(){if(!le){var e,t={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:h||"./this.program"};for(e in ae)void 0===ae[e]?delete t[e]:t[e]=ae[e];var n=[];for(e in t)n.push(e+"="+t[e]);le=n}return le}var le,ue=[null,[],[]];function de(e,t){var n=ue[e];0===t||10===t?((1===e?_:w)(M(n,0)),n.length=0):n.push(t)}var fe=0;function he(e){return 0==e%4&&(0!=e%100||0==e%400)}var pe=[31,29,31,30,31,30,31,31,30,31,30,31],ge=[31,28,31,30,31,30,31,31,30,31,30,31];function me(e,t,n,r){function o(e,t,n){for(e="number"==typeof e?e.toString():e||"";e.length<t;)e=n[0]+e;return e}function i(e,t){return o(e,t,"0")}function s(e,t){function n(e){return 0>e?-1:0<e?1:0}var r;return 0===(r=n(e.getFullYear()-t.getFullYear()))&&0===(r=n(e.getMonth()-t.getMonth()))&&(r=n(e.getDate()-t.getDate())),r}function a(e){switch(e.getDay()){case 0:return new Date(e.getFullYear()-1,11,29);case 1:return e;case 2:return new Date(e.getFullYear(),0,3);case 3:return new Date(e.getFullYear(),0,2);case 4:return new Date(e.getFullYear(),0,1);case 5:return new Date(e.getFullYear()-1,11,31);case 6:return new Date(e.getFullYear()-1,11,30)}}function c(e){var t=e.Bb;for(e=new Date(new Date(e.Cb+1900,0,1).getTime());0<t;){var n=e.getMonth(),r=(he(e.getFullYear())?pe:ge)[n];if(!(t>r-e.getDate())){e.setDate(e.getDate()+t);break}t-=r-e.getDate()+1,e.setDate(1),11>n?e.setMonth(n+1):(e.setMonth(0),e.setFullYear(e.getFullYear()+1))}return n=new Date(e.getFullYear()+1,0,4),t=a(new Date(e.getFullYear(),0,4)),n=a(n),0>=s(t,e)?0>=s(n,e)?e.getFullYear()+1:e.getFullYear():e.getFullYear()-1}var l=k[r+40>>2>>>0];for(var u in r={$b:k[r>>2>>>0],Zb:k[r+4>>2>>>0],Gb:k[r+8>>2>>>0],Kb:k[r+12>>2>>>0],Hb:k[r+16>>2>>>0],Cb:k[r+20>>2>>>0],Ab:k[r+24>>2>>>0],Bb:k[r+28>>2>>>0],bc:k[r+32>>2>>>0],Yb:k[r+36>>2>>>0],ac:l?O(l):""},n=O(n),l={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"})n=n.replace(new RegExp(u,"g"),l[u]);var d="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),f="January February March April May June July August September October November December".split(" ");for(u in l={"%a":function(e){return d[e.Ab].substring(0,3)},"%A":function(e){return d[e.Ab]},"%b":function(e){return f[e.Hb].substring(0,3)},"%B":function(e){return f[e.Hb]},"%C":function(e){return i((e.Cb+1900)/100|0,2)},"%d":function(e){return i(e.Kb,2)},"%e":function(e){return o(e.Kb,2," ")},"%g":function(e){return c(e).toString().substring(2)},"%G":function(e){return c(e)},"%H":function(e){return i(e.Gb,2)},"%I":function(e){return 0==(e=e.Gb)?e=12:12<e&&(e-=12),i(e,2)},"%j":function(e){for(var t=0,n=0;n<=e.Hb-1;t+=(he(e.Cb+1900)?pe:ge)[n++]);return i(e.Kb+t,3)},"%m":function(e){return i(e.Hb+1,2)},"%M":function(e){return i(e.Zb,2)},"%n":function(){return"\n"},"%p":function(e){return 0<=e.Gb&&12>e.Gb?"AM":"PM"},"%S":function(e){return i(e.$b,2)},"%t":function(){return"\t"},"%u":function(e){return e.Ab||7},"%U":function(e){return i(Math.floor((e.Bb+7-e.Ab)/7),2)},"%V":function(e){var t=Math.floor((e.Bb+7-(e.Ab+6)%7)/7);if(2>=(e.Ab+371-e.Bb-2)%7&&t++,t)53==t&&(4==(n=(e.Ab+371-e.Bb)%7)||3==n&&he(e.Cb)||(t=1));else{t=52;var n=(e.Ab+7-e.Bb-1)%7;(4==n||5==n&&he(e.Cb%400-1))&&t++}return i(t,2)},"%w":function(e){return e.Ab},"%W":function(e){return i(Math.floor((e.Bb+7-(e.Ab+6)%7)/7),2)},"%y":function(e){return(e.Cb+1900).toString().substring(2)},"%Y":function(e){return e.Cb+1900},"%z":function(e){var t=0<=(e=e.Yb);return e=Math.abs(e)/60,(t?"+":"-")+String("0000"+(e/60*100+e%60)).slice(-4)},"%Z":function(e){return e.ac},"%%":function(){return"%"}},n=n.replace(/%%/g,"\0\0"),l)n.includes(u)&&(n=n.replace(new RegExp(u,"g"),l[u](r)));return u=function(e){var t=Array(R(e)+1);return D(e,t,0,t.length),t}(n=n.replace(/\0\0/g,"%")),u.length>t?0:(A.set(u,e>>>0),u.length-1)}var ye={a:function(e){return ve(e+24)+24},m:function(e){return(e=new ne(e)).Pb()||(e.Ib(!0),ee--),e.Jb(!1),Q.push(e),e.Nb(),e.Qb()},ia:function(e){throw w("Unexpected exception thrown, this is not properly supported - aborting"),T=!0,e},w:function(){xe(0);var e=Q.pop();if(e.Xb()&&!e.Lb()){var t=e.Wb();t&&ie(t)(e.Db),re(e.Db)}te=0},d:function(){var e=te;if(!e)return fe=0;var t=new ne(e);t.Fb(e);var n=t.Eb();if(!n)return fe=0,e;for(var r=Array.prototype.slice.call(arguments),o=0;o<r.length;o++){var i=r[o];if(0===i||i===n)break;if(ke(i,n,t.zb+16))return fe=i,e}return fe=n,e},k:function(){var e=te;if(!e)return fe=0;var t=new ne(e);t.Fb(e);var n=t.Eb();if(!n)return fe=0,e;for(var r=Array.prototype.slice.call(arguments),o=0;o<r.length;o++){var i=r[o];if(0===i||i===n)break;if(ke(i,n,t.zb+16))return fe=i,e}return fe=n,e},g:function(){var e=te;if(!e)return fe=0;var t=new ne(e);t.Fb(e);var n=t.Eb();if(!n)return fe=0,e;for(var r=Array.prototype.slice.call(arguments),o=0;o<r.length;o++){var i=r[o];if(0===i||i===n)break;if(ke(i,n,t.zb+16))return fe=i,e}return fe=n,e},s:re,L:function(){var e=Q.pop();e||W("no exception to throw");var t=e.Db;throw e.Lb()||(Q.push(e),e.Jb(!0),e.Ib(!1),ee++),te=t,t},b:function(e,t,n){throw new ne(e).Rb(t,n),te=e,ee++,e},la:function(){return ee},i:function(e){throw te||(te=e),e},H:function(){return 0},Ba:function(){},pa:function(){},ra:function(){},ka:function(){return 0},za:function(){},ua:function(){},ya:function(){},R:function(){},qa:function(){},na:function(){},Aa:function(){},oa:function(){},Ha:function(){},Ja:function(){W("To use dlopen, you need enable dynamic linking, see https://github.com/emscripten-core/emscripten/wiki/Linking")},Ia:function(){W("To use dlopen, you need enable dynamic linking, see https://github.com/emscripten-core/emscripten/wiki/Linking")},S:function(){return Date.now()},Ca:function(){return!0},Da:function(e,t){e=new Date(1e3*(E[e>>>2]+4294967296*k[e+4>>>2])),k[t>>2>>>0]=e.getUTCSeconds(),k[t+4>>2>>>0]=e.getUTCMinutes(),k[t+8>>2>>>0]=e.getUTCHours(),k[t+12>>2>>>0]=e.getUTCDate(),k[t+16>>2>>>0]=e.getUTCMonth(),k[t+20>>2>>>0]=e.getUTCFullYear()-1900,k[t+24>>2>>>0]=e.getUTCDay(),k[t+28>>2>>>0]=(e.getTime()-Date.UTC(e.getUTCFullYear(),0,1,0,0,0,0))/864e5|0},Ea:function(e,t){e=new Date(1e3*(E[e>>>2]+4294967296*k[e+4>>>2])),k[t>>2>>>0]=e.getSeconds(),k[t+4>>2>>>0]=e.getMinutes(),k[t+8>>2>>>0]=e.getHours(),k[t+12>>2>>>0]=e.getDate(),k[t+16>>2>>>0]=e.getMonth(),k[t+20>>2>>>0]=e.getFullYear()-1900,k[t+24>>2>>>0]=e.getDay();var n=new Date(e.getFullYear(),0,1);k[t+28>>2>>>0]=(e.getTime()-n.getTime())/864e5|0,k[t+36>>2>>>0]=-60*e.getTimezoneOffset();var r=new Date(e.getFullYear(),6,1).getTimezoneOffset();n=n.getTimezoneOffset(),k[t+32>>2>>>0]=0|(r!=n&&e.getTimezoneOffset()==Math.min(n,r))},Fa:function(e){var t=new Date(k[e+20>>2>>>0]+1900,k[e+16>>2>>>0],k[e+12>>2>>>0],k[e+8>>2>>>0],k[e+4>>2>>>0],k[e>>2>>>0],0),n=k[e+32>>2>>>0],r=t.getTimezoneOffset(),o=new Date(t.getFullYear(),0,1),i=new Date(t.getFullYear(),6,1).getTimezoneOffset(),s=o.getTimezoneOffset(),a=Math.min(s,i);return 0>n?k[e+32>>2>>>0]=Number(i!=s&&a==r):0<n!=(a==r)&&(i=Math.max(s,i),t.setTime(t.getTime()+6e4*((0<n?a:i)-r))),k[e+24>>2>>>0]=t.getDay(),k[e+28>>2>>>0]=(t.getTime()-o.getTime())/864e5|0,k[e>>2>>>0]=t.getSeconds(),k[e+4>>2>>>0]=t.getMinutes(),k[e+8>>2>>>0]=t.getHours(),k[e+12>>2>>>0]=t.getDate(),k[e+16>>2>>>0]=t.getMonth(),t.getTime()/1e3|0},sa:function(){return-52},ta:function(){},Ga:function e(t,n,r){e.Vb||(e.Vb=!0,function(e,t,n){function r(e){return(e=e.toTimeString().match(/\(([A-Za-z ]+)\)$/))?e[1]:"GMT"}var o=(new Date).getFullYear(),i=new Date(o,0,1),s=new Date(o,6,1);o=i.getTimezoneOffset();var a=s.getTimezoneOffset();k[e>>2>>>0]=60*Math.max(o,a),k[t>>2>>>0]=Number(o!=a),e=r(i),t=r(s),e=se(e),t=se(t),a<o?(E[n>>2>>>0]=e,E[n+4>>2>>>0]=t):(E[n>>2>>>0]=t,E[n+4>>2>>>0]=e)}(t,n,r))},B:function(){W("")},ma:function(){return 4294901760},I:y?()=>{var e=process.hrtime();return 1e3*e[0]+e[1]/1e6}:()=>performance.now(),xa:function(e,t,n){C.copyWithin(e>>>0,t>>>0,t+n>>>0)},G:function(e){var t=C.length;if(4294901760<(e>>>=0))return!1;for(var n=1;4>=n;n*=2){var r=t*(1+.2/n);r=Math.min(r,e+100663296);var o=Math;r=Math.max(e,r),o=o.min.call(o,4294901760,r+(65536-r%65536)%65536);e:{try{x.grow(o-I.byteLength+65535>>>16),N();var i=1;break e}catch(e){}i=void 0}if(i)return!0}return!1},va:function(e,t){var n=0;return ce().forEach(function(r,o){var i=t+n;for(o=E[e+4*o>>2>>>0]=i,i=0;i<r.length;++i)A[(0|o++)>>>0]=r.charCodeAt(i);A[(0|o)>>>0]=0,n+=r.length+1}),0},wa:function(e,t){var n=ce();E[e>>2>>>0]=n.length;var r=0;return n.forEach(function(e){r+=e.length+1}),E[t>>2>>>0]=r,0},ba:function(e){S||0<U||(Se(),Z($),we(0),ue[1].length&&de(1,10),ue[2].length&&de(2,10)),S||0<U||(t.onExit&&t.onExit(e),T=!0),p(e,new X(e))},E:function(){return 52},Q:function(){return 52},ca:function(){return 70},P:function(e,t,n,r){for(var o=0,i=0;i<n;i++){var s=E[t>>2>>>0],a=E[t+4>>2>>>0];t+=8;for(var c=0;c<a;c++)de(e,C[s+c>>>0]);o+=a}return E[r>>2>>>0]=o,0},c:function(){return fe},ja:function e(t,r){e.Mb||(e.Mb=function(){if("object"==typeof crypto&&"function"==typeof crypto.getRandomValues){var e=new Uint8Array(1);return()=>(crypto.getRandomValues(e),e[0])}if(y)try{var t=n(Object(function(){var e=new Error("Cannot find module 'crypto'");throw e.code="MODULE_NOT_FOUND",e}()));return()=>t.randomBytes(1)[0]}catch(e){}return()=>W("randomDevice")}());for(var o=0;o<r;o++)A[(t+o|0)>>>0]=e.Mb();return 0},ea:function(e,t,n){var r=Ie();try{return ie(e)(t,n)}catch(e){if(Ae(r),e!==e+0)throw e;xe(1,0)}},fa:function(e,t,n){var r=Ie();try{return ie(e)(t,n)}catch(e){if(Ae(r),e!==e+0)throw e;xe(1,0)}},J:function(e){var t=Ie();try{return ie(e)()}catch(e){if(Ae(t),e!==e+0)throw e;xe(1,0)}},e:function(e,t){var n=Ie();try{return ie(e)(t)}catch(e){if(Ae(n),e!==e+0)throw e;xe(1,0)}},N:function(e,t,n){var r=Ie();try{return ie(e)(t,n)}catch(e){if(Ae(r),e!==e+0)throw e;xe(1,0)}},O:function(e,t,n){var r=Ie();try{return ie(e)(t,n)}catch(e){if(Ae(r),e!==e+0)throw e;xe(1,0)}},j:function(e,t,n){var r=Ie();try{return ie(e)(t,n)}catch(e){if(Ae(r),e!==e+0)throw e;xe(1,0)}},o:function(e,t,n,r){var o=Ie();try{return ie(e)(t,n,r)}catch(e){if(Ae(o),e!==e+0)throw e;xe(1,0)}},p:function(e,t,n,r,o){var i=Ie();try{return ie(e)(t,n,r,o)}catch(e){if(Ae(i),e!==e+0)throw e;xe(1,0)}},M:function(e,t,n,r,o,i){var s=Ie();try{return ie(e)(t,n,r,o,i)}catch(e){if(Ae(s),e!==e+0)throw e;xe(1,0)}},r:function(e,t,n,r,o,i){var s=Ie();try{return ie(e)(t,n,r,o,i)}catch(e){if(Ae(s),e!==e+0)throw e;xe(1,0)}},v:function(e,t,n,r,o,i,s){var a=Ie();try{return ie(e)(t,n,r,o,i,s)}catch(e){if(Ae(a),e!==e+0)throw e;xe(1,0)}},K:function(e,t,n,r,o,i,s,a){var c=Ie();try{return ie(e)(t,n,r,o,i,s,a)}catch(e){if(Ae(c),e!==e+0)throw e;xe(1,0)}},D:function(e,t,n,r,o,i,s,a,c,l,u,d){var f=Ie();try{return ie(e)(t,n,r,o,i,s,a,c,l,u,d)}catch(e){if(Ae(f),e!==e+0)throw e;xe(1,0)}},X:function(e,t,n,r,o,i,s,a){var c=Ie();try{return Le(e,t,n,r,o,i,s,a)}catch(e){if(Ae(c),e!==e+0)throw e;xe(1,0)}},V:function(e,t,n,r,o,i,s){var a=Ie();try{return Pe(e,t,n,r,o,i,s)}catch(e){if(Ae(a),e!==e+0)throw e;xe(1,0)}},U:function(e,t,n,r,o){var i=Ie();try{return Be(e,t,n,r,o)}catch(e){if(Ae(i),e!==e+0)throw e;xe(1,0)}},Z:function(e,t,n,r){var o=Ie();try{return Ne(e,t,n,r)}catch(e){if(Ae(o),e!==e+0)throw e;xe(1,0)}},W:function(e){var t=Ie();try{return Te(e)}catch(e){if(Ae(t),e!==e+0)throw e;xe(1,0)}},Y:function(e,t){var n=Ie();try{return Fe(e,t)}catch(e){if(Ae(n),e!==e+0)throw e;xe(1,0)}},T:function(e,t,n){var r=Ie();try{return Me(e,t,n)}catch(e){if(Ae(r),e!==e+0)throw e;xe(1,0)}},f:function(e){var t=Ie();try{ie(e)()}catch(e){if(Ae(t),e!==e+0)throw e;xe(1,0)}},q:function(e,t){var n=Ie();try{ie(e)(t)}catch(e){if(Ae(n),e!==e+0)throw e;xe(1,0)}},h:function(e,t,n){var r=Ie();try{ie(e)(t,n)}catch(e){if(Ae(r),e!==e+0)throw e;xe(1,0)}},da:function(e,t,n,r){var o=Ie();try{ie(e)(t,n,r)}catch(e){if(Ae(o),e!==e+0)throw e;xe(1,0)}},l:function(e,t,n,r){var o=Ie();try{ie(e)(t,n,r)}catch(e){if(Ae(o),e!==e+0)throw e;xe(1,0)}},t:function(e,t,n,r,o){var i=Ie();try{ie(e)(t,n,r,o)}catch(e){if(Ae(i),e!==e+0)throw e;xe(1,0)}},u:function(e,t,n,r,o,i){var s=Ie();try{ie(e)(t,n,r,o,i)}catch(e){if(Ae(s),e!==e+0)throw e;xe(1,0)}},x:function(e,t,n,r,o,i,s){var a=Ie();try{ie(e)(t,n,r,o,i,s)}catch(e){if(Ae(a),e!==e+0)throw e;xe(1,0)}},z:function(e,t,n,r,o,i,s,a){var c=Ie();try{ie(e)(t,n,r,o,i,s,a)}catch(e){if(Ae(c),e!==e+0)throw e;xe(1,0)}},ga:function(e,t,n,r,o,i,s,a,c){var l=Ie();try{ie(e)(t,n,r,o,i,s,a,c)}catch(e){if(Ae(l),e!==e+0)throw e;xe(1,0)}},A:function(e,t,n,r,o,i,s,a,c,l,u){var d=Ie();try{ie(e)(t,n,r,o,i,s,a,c,l,u)}catch(e){if(Ae(d),e!==e+0)throw e;xe(1,0)}},C:function(e,t,n,r,o,i,s,a,c,l,u,d,f,h,p,g){var m=Ie();try{ie(e)(t,n,r,o,i,s,a,c,l,u,d,f,h,p,g)}catch(e){if(Ae(m),e!==e+0)throw e;xe(1,0)}},aa:function(e,t,n,r,o,i,s,a){var c=Ie();try{Oe(e,t,n,r,o,i,s,a)}catch(e){if(Ae(c),e!==e+0)throw e;xe(1,0)}},_:function(e,t,n,r,o,i,s,a,c,l,u,d){var f=Ie();try{Re(e,t,n,r,o,i,s,a,c,l,u,d)}catch(e){if(Ae(f),e!==e+0)throw e;xe(1,0)}},$:function(e,t,n,r,o,i){var s=Ie();try{De(e,t,n,r,o,i)}catch(e){if(Ae(s),e!==e+0)throw e;xe(1,0)}},n:function(e){return e},F:function(e){fe=e},ha:me,y:function(e,t,n,r){return me(e,t,n,r)}};!function(){function e(e){t.asm=e.exports,x=t.asm.Ka,N(),F=t.asm.ib,B.unshift(t.asm.La),q--,t.monitorRunDependencies&&t.monitorRunDependencies(q),0==q&&(null!==H&&(clearInterval(H),H=null),G&&(e=G,G=null,e()))}function n(t){e(t.instance)}function r(e){return function(){if(!v&&(g||m)){if("function"==typeof fetch&&!V.startsWith("file://"))return fetch(V,{credentials:"same-origin"}).then(function(e){if(!e.ok)throw"failed to load wasm binary file at '"+V+"'";return e.arrayBuffer()}).catch(function(){return J()});if(a)return new Promise(function(e,t){a(V,function(t){e(new Uint8Array(t))},t)})}return Promise.resolve().then(function(){return J()})}().then(function(e){return WebAssembly.instantiate(e,o)}).then(function(e){return e}).then(e,function(e){w("failed to asynchronously prepare wasm: "+e),W(e)})}var o={a:ye};if(q++,t.monitorRunDependencies&&t.monitorRunDependencies(q),t.instantiateWasm)try{return t.instantiateWasm(o,e)}catch(e){return w("Module.instantiateWasm callback failed with error: "+e),!1}(v||"function"!=typeof WebAssembly.instantiateStreaming||K()||V.startsWith("file://")||y||"function"!=typeof fetch?r(n):fetch(V,{credentials:"same-origin"}).then(function(e){return WebAssembly.instantiateStreaming(e,o).then(n,function(e){return w("wasm streaming compile failed: "+e),w("falling back to ArrayBuffer instantiation"),r(n)})})).catch(i)}(),t.___wasm_call_ctors=function(){return(t.___wasm_call_ctors=t.asm.La).apply(null,arguments)},t._OrtInit=function(){return(t._OrtInit=t.asm.Ma).apply(null,arguments)},t._OrtCreateSessionOptions=function(){return(t._OrtCreateSessionOptions=t.asm.Na).apply(null,arguments)},t._OrtAppendExecutionProvider=function(){return(t._OrtAppendExecutionProvider=t.asm.Oa).apply(null,arguments)},t._OrtAddSessionConfigEntry=function(){return(t._OrtAddSessionConfigEntry=t.asm.Pa).apply(null,arguments)},t._OrtReleaseSessionOptions=function(){return(t._OrtReleaseSessionOptions=t.asm.Qa).apply(null,arguments)},t._OrtCreateSession=function(){return(t._OrtCreateSession=t.asm.Ra).apply(null,arguments)},t._OrtReleaseSession=function(){return(t._OrtReleaseSession=t.asm.Sa).apply(null,arguments)},t._OrtGetInputCount=function(){return(t._OrtGetInputCount=t.asm.Ta).apply(null,arguments)},t._OrtGetOutputCount=function(){return(t._OrtGetOutputCount=t.asm.Ua).apply(null,arguments)},t._OrtGetInputName=function(){return(t._OrtGetInputName=t.asm.Va).apply(null,arguments)},t._OrtGetOutputName=function(){return(t._OrtGetOutputName=t.asm.Wa).apply(null,arguments)},t._OrtFree=function(){return(t._OrtFree=t.asm.Xa).apply(null,arguments)},t._OrtCreateTensor=function(){return(t._OrtCreateTensor=t.asm.Ya).apply(null,arguments)},t._OrtGetTensorData=function(){return(t._OrtGetTensorData=t.asm.Za).apply(null,arguments)},t._OrtReleaseTensor=function(){return(t._OrtReleaseTensor=t.asm._a).apply(null,arguments)},t._OrtCreateRunOptions=function(){return(t._OrtCreateRunOptions=t.asm.$a).apply(null,arguments)},t._OrtAddRunConfigEntry=function(){return(t._OrtAddRunConfigEntry=t.asm.ab).apply(null,arguments)},t._OrtReleaseRunOptions=function(){return(t._OrtReleaseRunOptions=t.asm.bb).apply(null,arguments)},t._OrtRun=function(){return(t._OrtRun=t.asm.cb).apply(null,arguments)},t._OrtEndProfiling=function(){return(t._OrtEndProfiling=t.asm.db).apply(null,arguments)};var be,ve=t._malloc=function(){return(ve=t._malloc=t.asm.eb).apply(null,arguments)},_e=t._free=function(){return(_e=t._free=t.asm.fb).apply(null,arguments)},we=t._fflush=function(){return(we=t._fflush=t.asm.gb).apply(null,arguments)},Se=t.___funcs_on_exit=function(){return(Se=t.___funcs_on_exit=t.asm.hb).apply(null,arguments)},xe=t._setThrew=function(){return(xe=t._setThrew=t.asm.jb).apply(null,arguments)},Ie=t.stackSave=function(){return(Ie=t.stackSave=t.asm.kb).apply(null,arguments)},Ae=t.stackRestore=function(){return(Ae=t.stackRestore=t.asm.lb).apply(null,arguments)},Ce=t.stackAlloc=function(){return(Ce=t.stackAlloc=t.asm.mb).apply(null,arguments)},ke=t.___cxa_can_catch=function(){return(ke=t.___cxa_can_catch=t.asm.nb).apply(null,arguments)},Ee=t.___cxa_is_pointer_type=function(){return(Ee=t.___cxa_is_pointer_type=t.asm.ob).apply(null,arguments)},Te=t.dynCall_j=function(){return(Te=t.dynCall_j=t.asm.pb).apply(null,arguments)},Pe=t.dynCall_iiiiij=function(){return(Pe=t.dynCall_iiiiij=t.asm.qb).apply(null,arguments)},Me=t.dynCall_jii=function(){return(Me=t.dynCall_jii=t.asm.rb).apply(null,arguments)},Oe=t.dynCall_viiiiij=function(){return(Oe=t.dynCall_viiiiij=t.asm.sb).apply(null,arguments)},De=t.dynCall_vjji=function(){return(De=t.dynCall_vjji=t.asm.tb).apply(null,arguments)},Re=t.dynCall_viiijjjii=function(){return(Re=t.dynCall_viiijjjii=t.asm.ub).apply(null,arguments)},Ne=t.dynCall_iij=function(){return(Ne=t.dynCall_iij=t.asm.vb).apply(null,arguments)},Fe=t.dynCall_ji=function(){return(Fe=t.dynCall_ji=t.asm.wb).apply(null,arguments)},Le=t.dynCall_iiiiiij=function(){return(Le=t.dynCall_iiiiiij=t.asm.xb).apply(null,arguments)},Be=t.dynCall_iiij=function(){return(Be=t.dynCall_iiij=t.asm.yb).apply(null,arguments)};function $e(){function e(){if(!be&&(be=!0,t.calledRun=!0,!T)){if(Z(B),o(t),t.onRuntimeInitialized&&t.onRuntimeInitialized(),t.postRun)for("function"==typeof t.postRun&&(t.postRun=[t.postRun]);t.postRun.length;){var e=t.postRun.shift();j.unshift(e)}Z(j)}}if(!(0<q)){if(t.preRun)for("function"==typeof t.preRun&&(t.preRun=[t.preRun]);t.preRun.length;)z();Z(L),0<q||(t.setStatus?(t.setStatus("Running..."),setTimeout(function(){setTimeout(function(){t.setStatus("")},1),e()},1)):e())}}if(t.UTF8ToString=O,t.stringToUTF8=function(e,t,n){return D(e,C,t,n)},t.lengthBytesUTF8=R,t.stackSave=Ie,t.stackRestore=Ae,t.stackAlloc=Ce,G=function e(){be||$e(),be||(G=e)},t.preInit)for("function"==typeof t.preInit&&(t.preInit=[t.preInit]);0<t.preInit.length;)t.preInit.pop()();return $e(),e.ready});e.exports=o},4537:e=>{"use strict";e.exports=function(e,t){for(var n=new Array(arguments.length-1),r=0,o=2,i=!0;o<arguments.length;)n[r++]=arguments[o++];return new Promise(function(o,s){n[r]=function(e){if(i)if(i=!1,e)s(e);else{for(var t=new Array(arguments.length-1),n=0;n<t.length;)t[n++]=arguments[n];o.apply(null,t)}};try{e.apply(t||null,n)}catch(e){i&&(i=!1,s(e))}})}},7419:(e,t)=>{"use strict";var n=t;n.length=function(e){var t=e.length;if(!t)return 0;for(var n=0;--t%4>1&&"="===e.charAt(t);)++n;return Math.ceil(3*e.length)/4-n};for(var r=new Array(64),o=new Array(123),i=0;i<64;)o[r[i]=i<26?i+65:i<52?i+71:i<62?i-4:i-59|43]=i++;n.encode=function(e,t,n){for(var o,i=null,s=[],a=0,c=0;t<n;){var l=e[t++];switch(c){case 0:s[a++]=r[l>>2],o=(3&l)<<4,c=1;break;case 1:s[a++]=r[o|l>>4],o=(15&l)<<2,c=2;break;case 2:s[a++]=r[o|l>>6],s[a++]=r[63&l],c=0}a>8191&&((i||(i=[])).push(String.fromCharCode.apply(String,s)),a=0)}return c&&(s[a++]=r[o],s[a++]=61,1===c&&(s[a++]=61)),i?(a&&i.push(String.fromCharCode.apply(String,s.slice(0,a))),i.join("")):String.fromCharCode.apply(String,s.slice(0,a))};var s="invalid encoding";n.decode=function(e,t,n){for(var r,i=n,a=0,c=0;c<e.length;){var l=e.charCodeAt(c++);if(61===l&&a>1)break;if(void 0===(l=o[l]))throw Error(s);switch(a){case 0:r=l,a=1;break;case 1:t[n++]=r<<2|(48&l)>>4,r=l,a=2;break;case 2:t[n++]=(15&r)<<4|(60&l)>>2,r=l,a=3;break;case 3:t[n++]=(3&r)<<6|l,a=0}}if(1===a)throw Error(s);return n-i},n.test=function(e){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(e)}},9211:e=>{"use strict";function t(){this._listeners={}}e.exports=t,t.prototype.on=function(e,t,n){return(this._listeners[e]||(this._listeners[e]=[])).push({fn:t,ctx:n||this}),this},t.prototype.off=function(e,t){if(void 0===e)this._listeners={};else if(void 0===t)this._listeners[e]=[];else for(var n=this._listeners[e],r=0;r<n.length;)n[r].fn===t?n.splice(r,1):++r;return this},t.prototype.emit=function(e){var t=this._listeners[e];if(t){for(var n=[],r=1;r<arguments.length;)n.push(arguments[r++]);for(r=0;r<t.length;)t[r].fn.apply(t[r++].ctx,n)}return this}},945:e=>{"use strict";function t(e){return"undefined"!=typeof Float32Array?function(){var t=new Float32Array([-0]),n=new Uint8Array(t.buffer),r=128===n[3];function o(e,r,o){t[0]=e,r[o]=n[0],r[o+1]=n[1],r[o+2]=n[2],r[o+3]=n[3]}function i(e,r,o){t[0]=e,r[o]=n[3],r[o+1]=n[2],r[o+2]=n[1],r[o+3]=n[0]}function s(e,r){return n[0]=e[r],n[1]=e[r+1],n[2]=e[r+2],n[3]=e[r+3],t[0]}function a(e,r){return n[3]=e[r],n[2]=e[r+1],n[1]=e[r+2],n[0]=e[r+3],t[0]}e.writeFloatLE=r?o:i,e.writeFloatBE=r?i:o,e.readFloatLE=r?s:a,e.readFloatBE=r?a:s}():function(){function t(e,t,n,r){var o=t<0?1:0;if(o&&(t=-t),0===t)e(1/t>0?0:2147483648,n,r);else if(isNaN(t))e(2143289344,n,r);else if(t>34028234663852886e22)e((o<<31|2139095040)>>>0,n,r);else if(t<11754943508222875e-54)e((o<<31|Math.round(t/1401298464324817e-60))>>>0,n,r);else{var i=Math.floor(Math.log(t)/Math.LN2);e((o<<31|i+127<<23|8388607&Math.round(t*Math.pow(2,-i)*8388608))>>>0,n,r)}}function s(e,t,n){var r=e(t,n),o=2*(r>>31)+1,i=r>>>23&255,s=8388607&r;return 255===i?s?NaN:o*(1/0):0===i?1401298464324817e-60*o*s:o*Math.pow(2,i-150)*(s+8388608)}e.writeFloatLE=t.bind(null,n),e.writeFloatBE=t.bind(null,r),e.readFloatLE=s.bind(null,o),e.readFloatBE=s.bind(null,i)}(),"undefined"!=typeof Float64Array?function(){var t=new Float64Array([-0]),n=new Uint8Array(t.buffer),r=128===n[7];function o(e,r,o){t[0]=e,r[o]=n[0],r[o+1]=n[1],r[o+2]=n[2],r[o+3]=n[3],r[o+4]=n[4],r[o+5]=n[5],r[o+6]=n[6],r[o+7]=n[7]}function i(e,r,o){t[0]=e,r[o]=n[7],r[o+1]=n[6],r[o+2]=n[5],r[o+3]=n[4],r[o+4]=n[3],r[o+5]=n[2],r[o+6]=n[1],r[o+7]=n[0]}function s(e,r){return n[0]=e[r],n[1]=e[r+1],n[2]=e[r+2],n[3]=e[r+3],n[4]=e[r+4],n[5]=e[r+5],n[6]=e[r+6],n[7]=e[r+7],t[0]}function a(e,r){return n[7]=e[r],n[6]=e[r+1],n[5]=e[r+2],n[4]=e[r+3],n[3]=e[r+4],n[2]=e[r+5],n[1]=e[r+6],n[0]=e[r+7],t[0]}e.writeDoubleLE=r?o:i,e.writeDoubleBE=r?i:o,e.readDoubleLE=r?s:a,e.readDoubleBE=r?a:s}():function(){function t(e,t,n,r,o,i){var s=r<0?1:0;if(s&&(r=-r),0===r)e(0,o,i+t),e(1/r>0?0:2147483648,o,i+n);else if(isNaN(r))e(0,o,i+t),e(2146959360,o,i+n);else if(r>17976931348623157e292)e(0,o,i+t),e((s<<31|2146435072)>>>0,o,i+n);else{var a;if(r<22250738585072014e-324)e((a=r/5e-324)>>>0,o,i+t),e((s<<31|a/4294967296)>>>0,o,i+n);else{var c=Math.floor(Math.log(r)/Math.LN2);1024===c&&(c=1023),e(4503599627370496*(a=r*Math.pow(2,-c))>>>0,o,i+t),e((s<<31|c+1023<<20|1048576*a&1048575)>>>0,o,i+n)}}}function s(e,t,n,r,o){var i=e(r,o+t),s=e(r,o+n),a=2*(s>>31)+1,c=s>>>20&2047,l=4294967296*(1048575&s)+i;return 2047===c?l?NaN:a*(1/0):0===c?5e-324*a*l:a*Math.pow(2,c-1075)*(l+4503599627370496)}e.writeDoubleLE=t.bind(null,n,0,4),e.writeDoubleBE=t.bind(null,r,4,0),e.readDoubleLE=s.bind(null,o,0,4),e.readDoubleBE=s.bind(null,i,4,0)}(),e}function n(e,t,n){t[n]=255&e,t[n+1]=e>>>8&255,t[n+2]=e>>>16&255,t[n+3]=e>>>24}function r(e,t,n){t[n]=e>>>24,t[n+1]=e>>>16&255,t[n+2]=e>>>8&255,t[n+3]=255&e}function o(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24)>>>0}function i(e,t){return(e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3])>>>0}e.exports=t(t)},7199:module=>{"use strict";function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(e){}return null}module.exports=inquire},6662:e=>{"use strict";e.exports=function(e,t,n){var r=n||8192,o=r>>>1,i=null,s=r;return function(n){if(n<1||n>o)return e(n);s+n>r&&(i=e(r),s=0);var a=t.call(i,s,s+=n);return 7&s&&(s=1+(7|s)),a}}},4997:(e,t)=>{"use strict";var n=t;n.length=function(e){for(var t=0,n=0,r=0;r<e.length;++r)(n=e.charCodeAt(r))<128?t+=1:n<2048?t+=2:55296==(64512&n)&&56320==(64512&e.charCodeAt(r+1))?(++r,t+=4):t+=3;return t},n.read=function(e,t,n){if(n-t<1)return"";for(var r,o=null,i=[],s=0;t<n;)(r=e[t++])<128?i[s++]=r:r>191&&r<224?i[s++]=(31&r)<<6|63&e[t++]:r>239&&r<365?(r=((7&r)<<18|(63&e[t++])<<12|(63&e[t++])<<6|63&e[t++])-65536,i[s++]=55296+(r>>10),i[s++]=56320+(1023&r)):i[s++]=(15&r)<<12|(63&e[t++])<<6|63&e[t++],s>8191&&((o||(o=[])).push(String.fromCharCode.apply(String,i)),s=0);return o?(s&&o.push(String.fromCharCode.apply(String,i.slice(0,s))),o.join("")):String.fromCharCode.apply(String,i.slice(0,s))},n.write=function(e,t,n){for(var r,o,i=n,s=0;s<e.length;++s)(r=e.charCodeAt(s))<128?t[n++]=r:r<2048?(t[n++]=r>>6|192,t[n++]=63&r|128):55296==(64512&r)&&56320==(64512&(o=e.charCodeAt(s+1)))?(r=65536+((1023&r)<<10)+(1023&o),++s,t[n++]=r>>18|240,t[n++]=r>>12&63|128,t[n++]=r>>6&63|128,t[n++]=63&r|128):(t[n++]=r>>12|224,t[n++]=r>>6&63|128,t[n++]=63&r|128);return n-i}},3442:(e,t)=>{"use strict";t.__esModule=!0;var n=function(){function e(t){if(!t)throw new TypeError("Invalid argument; `value` has no value.");this.value=e.EMPTY,t&&e.isGuid(t)&&(this.value=t)}return e.isGuid=function(t){var n=t.toString();return t&&(t instanceof e||e.validator.test(n))},e.create=function(){return new e([e.gen(2),e.gen(1),e.gen(1),e.gen(1),e.gen(3)].join("-"))},e.createEmpty=function(){return new e("emptyguid")},e.parse=function(t){return new e(t)},e.raw=function(){return[e.gen(2),e.gen(1),e.gen(1),e.gen(1),e.gen(3)].join("-")},e.gen=function(e){for(var t="",n=0;n<e;n++)t+=(65536*(1+Math.random())|0).toString(16).substring(1);return t},e.prototype.equals=function(t){return e.isGuid(t)&&this.value===t.toString()},e.prototype.isEmpty=function(){return this.value===e.EMPTY},e.prototype.toString=function(){return this.value},e.prototype.toJSON=function(){return{value:this.value}},e.validator=new RegExp("^[a-z0-9]{8}-[a-z0-9]{4}-[a-z0-9]{4}-[a-z0-9]{4}-[a-z0-9]{12}$","i"),e.EMPTY="00000000-0000-0000-0000-000000000000",e}();t.Guid=n},3720:e=>{e.exports=n;var t=null;try{t=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch(e){}function n(e,t,n){this.low=0|e,this.high=0|t,this.unsigned=!!n}function r(e){return!0===(e&&e.__isLong__)}n.prototype.__isLong__,Object.defineProperty(n.prototype,"__isLong__",{value:!0}),n.isLong=r;var o={},i={};function s(e,t){var n,r,s;return t?(s=0<=(e>>>=0)&&e<256)&&(r=i[e])?r:(n=c(e,(0|e)<0?-1:0,!0),s&&(i[e]=n),n):(s=-128<=(e|=0)&&e<128)&&(r=o[e])?r:(n=c(e,e<0?-1:0,!1),s&&(o[e]=n),n)}function a(e,t){if(isNaN(e))return t?y:m;if(t){if(e<0)return y;if(e>=h)return S}else{if(e<=-p)return x;if(e+1>=p)return w}return e<0?a(-e,t).neg():c(e%f|0,e/f|0,t)}function c(e,t,r){return new n(e,t,r)}n.fromInt=s,n.fromNumber=a,n.fromBits=c;var l=Math.pow;function u(e,t,n){if(0===e.length)throw Error("empty string");if("NaN"===e||"Infinity"===e||"+Infinity"===e||"-Infinity"===e)return m;if("number"==typeof t?(n=t,t=!1):t=!!t,(n=n||10)<2||36<n)throw RangeError("radix");var r;if((r=e.indexOf("-"))>0)throw Error("interior hyphen");if(0===r)return u(e.substring(1),t,n).neg();for(var o=a(l(n,8)),i=m,s=0;s<e.length;s+=8){var c=Math.min(8,e.length-s),d=parseInt(e.substring(s,s+c),n);if(c<8){var f=a(l(n,c));i=i.mul(f).add(a(d))}else i=(i=i.mul(o)).add(a(d))}return i.unsigned=t,i}function d(e,t){return"number"==typeof e?a(e,t):"string"==typeof e?u(e,t):c(e.low,e.high,"boolean"==typeof t?t:e.unsigned)}n.fromString=u,n.fromValue=d;var f=4294967296,h=f*f,p=h/2,g=s(1<<24),m=s(0);n.ZERO=m;var y=s(0,!0);n.UZERO=y;var b=s(1);n.ONE=b;var v=s(1,!0);n.UONE=v;var _=s(-1);n.NEG_ONE=_;var w=c(-1,2147483647,!1);n.MAX_VALUE=w;var S=c(-1,-1,!0);n.MAX_UNSIGNED_VALUE=S;var x=c(0,-2147483648,!1);n.MIN_VALUE=x;var I=n.prototype;I.toInt=function(){return this.unsigned?this.low>>>0:this.low},I.toNumber=function(){return this.unsigned?(this.high>>>0)*f+(this.low>>>0):this.high*f+(this.low>>>0)},I.toString=function(e){if((e=e||10)<2||36<e)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(x)){var t=a(e),n=this.div(t),r=n.mul(t).sub(this);return n.toString(e)+r.toInt().toString(e)}return"-"+this.neg().toString(e)}for(var o=a(l(e,6),this.unsigned),i=this,s="";;){var c=i.div(o),u=(i.sub(c.mul(o)).toInt()>>>0).toString(e);if((i=c).isZero())return u+s;for(;u.length<6;)u="0"+u;s=""+u+s}},I.getHighBits=function(){return this.high},I.getHighBitsUnsigned=function(){return this.high>>>0},I.getLowBits=function(){return this.low},I.getLowBitsUnsigned=function(){return this.low>>>0},I.getNumBitsAbs=function(){if(this.isNegative())return this.eq(x)?64:this.neg().getNumBitsAbs();for(var e=0!=this.high?this.high:this.low,t=31;t>0&&!(e&1<<t);t--);return 0!=this.high?t+33:t+1},I.isZero=function(){return 0===this.high&&0===this.low},I.eqz=I.isZero,I.isNegative=function(){return!this.unsigned&&this.high<0},I.isPositive=function(){return this.unsigned||this.high>=0},I.isOdd=function(){return!(1&~this.low)},I.isEven=function(){return!(1&this.low)},I.equals=function(e){return r(e)||(e=d(e)),(this.unsigned===e.unsigned||this.high>>>31!=1||e.high>>>31!=1)&&this.high===e.high&&this.low===e.low},I.eq=I.equals,I.notEquals=function(e){return!this.eq(e)},I.neq=I.notEquals,I.ne=I.notEquals,I.lessThan=function(e){return this.comp(e)<0},I.lt=I.lessThan,I.lessThanOrEqual=function(e){return this.comp(e)<=0},I.lte=I.lessThanOrEqual,I.le=I.lessThanOrEqual,I.greaterThan=function(e){return this.comp(e)>0},I.gt=I.greaterThan,I.greaterThanOrEqual=function(e){return this.comp(e)>=0},I.gte=I.greaterThanOrEqual,I.ge=I.greaterThanOrEqual,I.compare=function(e){if(r(e)||(e=d(e)),this.eq(e))return 0;var t=this.isNegative(),n=e.isNegative();return t&&!n?-1:!t&&n?1:this.unsigned?e.high>>>0>this.high>>>0||e.high===this.high&&e.low>>>0>this.low>>>0?-1:1:this.sub(e).isNegative()?-1:1},I.comp=I.compare,I.negate=function(){return!this.unsigned&&this.eq(x)?x:this.not().add(b)},I.neg=I.negate,I.add=function(e){r(e)||(e=d(e));var t=this.high>>>16,n=65535&this.high,o=this.low>>>16,i=65535&this.low,s=e.high>>>16,a=65535&e.high,l=e.low>>>16,u=0,f=0,h=0,p=0;return h+=(p+=i+(65535&e.low))>>>16,f+=(h+=o+l)>>>16,u+=(f+=n+a)>>>16,u+=t+s,c((h&=65535)<<16|(p&=65535),(u&=65535)<<16|(f&=65535),this.unsigned)},I.subtract=function(e){return r(e)||(e=d(e)),this.add(e.neg())},I.sub=I.subtract,I.multiply=function(e){if(this.isZero())return m;if(r(e)||(e=d(e)),t)return c(t.mul(this.low,this.high,e.low,e.high),t.get_high(),this.unsigned);if(e.isZero())return m;if(this.eq(x))return e.isOdd()?x:m;if(e.eq(x))return this.isOdd()?x:m;if(this.isNegative())return e.isNegative()?this.neg().mul(e.neg()):this.neg().mul(e).neg();if(e.isNegative())return this.mul(e.neg()).neg();if(this.lt(g)&&e.lt(g))return a(this.toNumber()*e.toNumber(),this.unsigned);var n=this.high>>>16,o=65535&this.high,i=this.low>>>16,s=65535&this.low,l=e.high>>>16,u=65535&e.high,f=e.low>>>16,h=65535&e.low,p=0,y=0,b=0,v=0;return b+=(v+=s*h)>>>16,y+=(b+=i*h)>>>16,b&=65535,y+=(b+=s*f)>>>16,p+=(y+=o*h)>>>16,y&=65535,p+=(y+=i*f)>>>16,y&=65535,p+=(y+=s*u)>>>16,p+=n*h+o*f+i*u+s*l,c((b&=65535)<<16|(v&=65535),(p&=65535)<<16|(y&=65535),this.unsigned)},I.mul=I.multiply,I.divide=function(e){if(r(e)||(e=d(e)),e.isZero())throw Error("division by zero");var n,o,i;if(t)return this.unsigned||-2147483648!==this.high||-1!==e.low||-1!==e.high?c((this.unsigned?t.div_u:t.div_s)(this.low,this.high,e.low,e.high),t.get_high(),this.unsigned):this;if(this.isZero())return this.unsigned?y:m;if(this.unsigned){if(e.unsigned||(e=e.toUnsigned()),e.gt(this))return y;if(e.gt(this.shru(1)))return v;i=y}else{if(this.eq(x))return e.eq(b)||e.eq(_)?x:e.eq(x)?b:(n=this.shr(1).div(e).shl(1)).eq(m)?e.isNegative()?b:_:(o=this.sub(e.mul(n)),i=n.add(o.div(e)));if(e.eq(x))return this.unsigned?y:m;if(this.isNegative())return e.isNegative()?this.neg().div(e.neg()):this.neg().div(e).neg();if(e.isNegative())return this.div(e.neg()).neg();i=m}for(o=this;o.gte(e);){n=Math.max(1,Math.floor(o.toNumber()/e.toNumber()));for(var s=Math.ceil(Math.log(n)/Math.LN2),u=s<=48?1:l(2,s-48),f=a(n),h=f.mul(e);h.isNegative()||h.gt(o);)h=(f=a(n-=u,this.unsigned)).mul(e);f.isZero()&&(f=b),i=i.add(f),o=o.sub(h)}return i},I.div=I.divide,I.modulo=function(e){return r(e)||(e=d(e)),t?c((this.unsigned?t.rem_u:t.rem_s)(this.low,this.high,e.low,e.high),t.get_high(),this.unsigned):this.sub(this.div(e).mul(e))},I.mod=I.modulo,I.rem=I.modulo,I.not=function(){return c(~this.low,~this.high,this.unsigned)},I.and=function(e){return r(e)||(e=d(e)),c(this.low&e.low,this.high&e.high,this.unsigned)},I.or=function(e){return r(e)||(e=d(e)),c(this.low|e.low,this.high|e.high,this.unsigned)},I.xor=function(e){return r(e)||(e=d(e)),c(this.low^e.low,this.high^e.high,this.unsigned)},I.shiftLeft=function(e){return r(e)&&(e=e.toInt()),0==(e&=63)?this:e<32?c(this.low<<e,this.high<<e|this.low>>>32-e,this.unsigned):c(0,this.low<<e-32,this.unsigned)},I.shl=I.shiftLeft,I.shiftRight=function(e){return r(e)&&(e=e.toInt()),0==(e&=63)?this:e<32?c(this.low>>>e|this.high<<32-e,this.high>>e,this.unsigned):c(this.high>>e-32,this.high>=0?0:-1,this.unsigned)},I.shr=I.shiftRight,I.shiftRightUnsigned=function(e){if(r(e)&&(e=e.toInt()),0==(e&=63))return this;var t=this.high;return e<32?c(this.low>>>e|t<<32-e,t>>>e,this.unsigned):c(32===e?t:t>>>e-32,0,this.unsigned)},I.shru=I.shiftRightUnsigned,I.shr_u=I.shiftRightUnsigned,I.toSigned=function(){return this.unsigned?c(this.low,this.high,!1):this},I.toUnsigned=function(){return this.unsigned?this:c(this.low,this.high,!0)},I.toBytes=function(e){return e?this.toBytesLE():this.toBytesBE()},I.toBytesLE=function(){var e=this.high,t=this.low;return[255&t,t>>>8&255,t>>>16&255,t>>>24,255&e,e>>>8&255,e>>>16&255,e>>>24]},I.toBytesBE=function(){var e=this.high,t=this.low;return[e>>>24,e>>>16&255,e>>>8&255,255&e,t>>>24,t>>>16&255,t>>>8&255,255&t]},n.fromBytes=function(e,t,r){return r?n.fromBytesLE(e,t):n.fromBytesBE(e,t)},n.fromBytesLE=function(e,t){return new n(e[0]|e[1]<<8|e[2]<<16|e[3]<<24,e[4]|e[5]<<8|e[6]<<16|e[7]<<24,t)},n.fromBytesBE=function(e,t){return new n(e[4]<<24|e[5]<<16|e[6]<<8|e[7],e[0]<<24|e[1]<<16|e[2]<<8|e[3],t)}},1446:(e,t,n)=>{"use strict";var r,o,i,s=n(2100),a=s.Reader,c=s.Writer,l=s.util,u=s.roots.default||(s.roots.default={});u.onnx=((i={}).Version=(r={},(o=Object.create(r))[r[0]="_START_VERSION"]=0,o[r[1]="IR_VERSION_2017_10_10"]=1,o[r[2]="IR_VERSION_2017_10_30"]=2,o[r[3]="IR_VERSION_2017_11_3"]=3,o[r[4]="IR_VERSION_2019_1_22"]=4,o[r[5]="IR_VERSION"]=5,o),i.AttributeProto=function(){function e(e){if(this.floats=[],this.ints=[],this.strings=[],this.tensors=[],this.graphs=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.name="",e.prototype.refAttrName="",e.prototype.docString="",e.prototype.type=0,e.prototype.f=0,e.prototype.i=l.Long?l.Long.fromBits(0,0,!1):0,e.prototype.s=l.newBuffer([]),e.prototype.t=null,e.prototype.g=null,e.prototype.floats=l.emptyArray,e.prototype.ints=l.emptyArray,e.prototype.strings=l.emptyArray,e.prototype.tensors=l.emptyArray,e.prototype.graphs=l.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=c.create()),null!=e.name&&e.hasOwnProperty("name")&&t.uint32(10).string(e.name),null!=e.f&&e.hasOwnProperty("f")&&t.uint32(21).float(e.f),null!=e.i&&e.hasOwnProperty("i")&&t.uint32(24).int64(e.i),null!=e.s&&e.hasOwnProperty("s")&&t.uint32(34).bytes(e.s),null!=e.t&&e.hasOwnProperty("t")&&u.onnx.TensorProto.encode(e.t,t.uint32(42).fork()).ldelim(),null!=e.g&&e.hasOwnProperty("g")&&u.onnx.GraphProto.encode(e.g,t.uint32(50).fork()).ldelim(),null!=e.floats&&e.floats.length){t.uint32(58).fork();for(var n=0;n<e.floats.length;++n)t.float(e.floats[n]);t.ldelim()}if(null!=e.ints&&e.ints.length){for(t.uint32(66).fork(),n=0;n<e.ints.length;++n)t.int64(e.ints[n]);t.ldelim()}if(null!=e.strings&&e.strings.length)for(n=0;n<e.strings.length;++n)t.uint32(74).bytes(e.strings[n]);if(null!=e.tensors&&e.tensors.length)for(n=0;n<e.tensors.length;++n)u.onnx.TensorProto.encode(e.tensors[n],t.uint32(82).fork()).ldelim();if(null!=e.graphs&&e.graphs.length)for(n=0;n<e.graphs.length;++n)u.onnx.GraphProto.encode(e.graphs[n],t.uint32(90).fork()).ldelim();return null!=e.docString&&e.hasOwnProperty("docString")&&t.uint32(106).string(e.docString),null!=e.type&&e.hasOwnProperty("type")&&t.uint32(160).int32(e.type),null!=e.refAttrName&&e.hasOwnProperty("refAttrName")&&t.uint32(170).string(e.refAttrName),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new u.onnx.AttributeProto;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.name=e.string();break;case 21:r.refAttrName=e.string();break;case 13:r.docString=e.string();break;case 20:r.type=e.int32();break;case 2:r.f=e.float();break;case 3:r.i=e.int64();break;case 4:r.s=e.bytes();break;case 5:r.t=u.onnx.TensorProto.decode(e,e.uint32());break;case 6:r.g=u.onnx.GraphProto.decode(e,e.uint32());break;case 7:if(r.floats&&r.floats.length||(r.floats=[]),2==(7&o))for(var i=e.uint32()+e.pos;e.pos<i;)r.floats.push(e.float());else r.floats.push(e.float());break;case 8:if(r.ints&&r.ints.length||(r.ints=[]),2==(7&o))for(i=e.uint32()+e.pos;e.pos<i;)r.ints.push(e.int64());else r.ints.push(e.int64());break;case 9:r.strings&&r.strings.length||(r.strings=[]),r.strings.push(e.bytes());break;case 10:r.tensors&&r.tensors.length||(r.tensors=[]),r.tensors.push(u.onnx.TensorProto.decode(e,e.uint32()));break;case 11:r.graphs&&r.graphs.length||(r.graphs=[]),r.graphs.push(u.onnx.GraphProto.decode(e,e.uint32()));break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.name&&e.hasOwnProperty("name")&&!l.isString(e.name))return"name: string expected";if(null!=e.refAttrName&&e.hasOwnProperty("refAttrName")&&!l.isString(e.refAttrName))return"refAttrName: string expected";if(null!=e.docString&&e.hasOwnProperty("docString")&&!l.isString(e.docString))return"docString: string expected";if(null!=e.type&&e.hasOwnProperty("type"))switch(e.type){default:return"type: enum value expected";case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:}if(null!=e.f&&e.hasOwnProperty("f")&&"number"!=typeof e.f)return"f: number expected";if(null!=e.i&&e.hasOwnProperty("i")&&!(l.isInteger(e.i)||e.i&&l.isInteger(e.i.low)&&l.isInteger(e.i.high)))return"i: integer|Long expected";if(null!=e.s&&e.hasOwnProperty("s")&&!(e.s&&"number"==typeof e.s.length||l.isString(e.s)))return"s: buffer expected";if(null!=e.t&&e.hasOwnProperty("t")&&(n=u.onnx.TensorProto.verify(e.t)))return"t."+n;if(null!=e.g&&e.hasOwnProperty("g")&&(n=u.onnx.GraphProto.verify(e.g)))return"g."+n;if(null!=e.floats&&e.hasOwnProperty("floats")){if(!Array.isArray(e.floats))return"floats: array expected";for(var t=0;t<e.floats.length;++t)if("number"!=typeof e.floats[t])return"floats: number[] expected"}if(null!=e.ints&&e.hasOwnProperty("ints")){if(!Array.isArray(e.ints))return"ints: array expected";for(t=0;t<e.ints.length;++t)if(!(l.isInteger(e.ints[t])||e.ints[t]&&l.isInteger(e.ints[t].low)&&l.isInteger(e.ints[t].high)))return"ints: integer|Long[] expected"}if(null!=e.strings&&e.hasOwnProperty("strings")){if(!Array.isArray(e.strings))return"strings: array expected";for(t=0;t<e.strings.length;++t)if(!(e.strings[t]&&"number"==typeof e.strings[t].length||l.isString(e.strings[t])))return"strings: buffer[] expected"}if(null!=e.tensors&&e.hasOwnProperty("tensors")){if(!Array.isArray(e.tensors))return"tensors: array expected";for(t=0;t<e.tensors.length;++t)if(n=u.onnx.TensorProto.verify(e.tensors[t]))return"tensors."+n}if(null!=e.graphs&&e.hasOwnProperty("graphs")){if(!Array.isArray(e.graphs))return"graphs: array expected";for(t=0;t<e.graphs.length;++t){var n;if(n=u.onnx.GraphProto.verify(e.graphs[t]))return"graphs."+n}}return null},e.fromObject=function(e){if(e instanceof u.onnx.AttributeProto)return e;var t=new u.onnx.AttributeProto;switch(null!=e.name&&(t.name=String(e.name)),null!=e.refAttrName&&(t.refAttrName=String(e.refAttrName)),null!=e.docString&&(t.docString=String(e.docString)),e.type){case"UNDEFINED":case 0:t.type=0;break;case"FLOAT":case 1:t.type=1;break;case"INT":case 2:t.type=2;break;case"STRING":case 3:t.type=3;break;case"TENSOR":case 4:t.type=4;break;case"GRAPH":case 5:t.type=5;break;case"FLOATS":case 6:t.type=6;break;case"INTS":case 7:t.type=7;break;case"STRINGS":case 8:t.type=8;break;case"TENSORS":case 9:t.type=9;break;case"GRAPHS":case 10:t.type=10}if(null!=e.f&&(t.f=Number(e.f)),null!=e.i&&(l.Long?(t.i=l.Long.fromValue(e.i)).unsigned=!1:"string"==typeof e.i?t.i=parseInt(e.i,10):"number"==typeof e.i?t.i=e.i:"object"==typeof e.i&&(t.i=new l.LongBits(e.i.low>>>0,e.i.high>>>0).toNumber())),null!=e.s&&("string"==typeof e.s?l.base64.decode(e.s,t.s=l.newBuffer(l.base64.length(e.s)),0):e.s.length&&(t.s=e.s)),null!=e.t){if("object"!=typeof e.t)throw TypeError(".onnx.AttributeProto.t: object expected");t.t=u.onnx.TensorProto.fromObject(e.t)}if(null!=e.g){if("object"!=typeof e.g)throw TypeError(".onnx.AttributeProto.g: object expected");t.g=u.onnx.GraphProto.fromObject(e.g)}if(e.floats){if(!Array.isArray(e.floats))throw TypeError(".onnx.AttributeProto.floats: array expected");t.floats=[];for(var n=0;n<e.floats.length;++n)t.floats[n]=Number(e.floats[n])}if(e.ints){if(!Array.isArray(e.ints))throw TypeError(".onnx.AttributeProto.ints: array expected");for(t.ints=[],n=0;n<e.ints.length;++n)l.Long?(t.ints[n]=l.Long.fromValue(e.ints[n])).unsigned=!1:"string"==typeof e.ints[n]?t.ints[n]=parseInt(e.ints[n],10):"number"==typeof e.ints[n]?t.ints[n]=e.ints[n]:"object"==typeof e.ints[n]&&(t.ints[n]=new l.LongBits(e.ints[n].low>>>0,e.ints[n].high>>>0).toNumber())}if(e.strings){if(!Array.isArray(e.strings))throw TypeError(".onnx.AttributeProto.strings: array expected");for(t.strings=[],n=0;n<e.strings.length;++n)"string"==typeof e.strings[n]?l.base64.decode(e.strings[n],t.strings[n]=l.newBuffer(l.base64.length(e.strings[n])),0):e.strings[n].length&&(t.strings[n]=e.strings[n])}if(e.tensors){if(!Array.isArray(e.tensors))throw TypeError(".onnx.AttributeProto.tensors: array expected");for(t.tensors=[],n=0;n<e.tensors.length;++n){if("object"!=typeof e.tensors[n])throw TypeError(".onnx.AttributeProto.tensors: object expected");t.tensors[n]=u.onnx.TensorProto.fromObject(e.tensors[n])}}if(e.graphs){if(!Array.isArray(e.graphs))throw TypeError(".onnx.AttributeProto.graphs: array expected");for(t.graphs=[],n=0;n<e.graphs.length;++n){if("object"!=typeof e.graphs[n])throw TypeError(".onnx.AttributeProto.graphs: object expected");t.graphs[n]=u.onnx.GraphProto.fromObject(e.graphs[n])}}return t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.floats=[],n.ints=[],n.strings=[],n.tensors=[],n.graphs=[]),t.defaults){if(n.name="",n.f=0,l.Long){var r=new l.Long(0,0,!1);n.i=t.longs===String?r.toString():t.longs===Number?r.toNumber():r}else n.i=t.longs===String?"0":0;t.bytes===String?n.s="":(n.s=[],t.bytes!==Array&&(n.s=l.newBuffer(n.s))),n.t=null,n.g=null,n.docString="",n.type=t.enums===String?"UNDEFINED":0,n.refAttrName=""}if(null!=e.name&&e.hasOwnProperty("name")&&(n.name=e.name),null!=e.f&&e.hasOwnProperty("f")&&(n.f=t.json&&!isFinite(e.f)?String(e.f):e.f),null!=e.i&&e.hasOwnProperty("i")&&("number"==typeof e.i?n.i=t.longs===String?String(e.i):e.i:n.i=t.longs===String?l.Long.prototype.toString.call(e.i):t.longs===Number?new l.LongBits(e.i.low>>>0,e.i.high>>>0).toNumber():e.i),null!=e.s&&e.hasOwnProperty("s")&&(n.s=t.bytes===String?l.base64.encode(e.s,0,e.s.length):t.bytes===Array?Array.prototype.slice.call(e.s):e.s),null!=e.t&&e.hasOwnProperty("t")&&(n.t=u.onnx.TensorProto.toObject(e.t,t)),null!=e.g&&e.hasOwnProperty("g")&&(n.g=u.onnx.GraphProto.toObject(e.g,t)),e.floats&&e.floats.length){n.floats=[];for(var o=0;o<e.floats.length;++o)n.floats[o]=t.json&&!isFinite(e.floats[o])?String(e.floats[o]):e.floats[o]}if(e.ints&&e.ints.length)for(n.ints=[],o=0;o<e.ints.length;++o)"number"==typeof e.ints[o]?n.ints[o]=t.longs===String?String(e.ints[o]):e.ints[o]:n.ints[o]=t.longs===String?l.Long.prototype.toString.call(e.ints[o]):t.longs===Number?new l.LongBits(e.ints[o].low>>>0,e.ints[o].high>>>0).toNumber():e.ints[o];if(e.strings&&e.strings.length)for(n.strings=[],o=0;o<e.strings.length;++o)n.strings[o]=t.bytes===String?l.base64.encode(e.strings[o],0,e.strings[o].length):t.bytes===Array?Array.prototype.slice.call(e.strings[o]):e.strings[o];if(e.tensors&&e.tensors.length)for(n.tensors=[],o=0;o<e.tensors.length;++o)n.tensors[o]=u.onnx.TensorProto.toObject(e.tensors[o],t);if(e.graphs&&e.graphs.length)for(n.graphs=[],o=0;o<e.graphs.length;++o)n.graphs[o]=u.onnx.GraphProto.toObject(e.graphs[o],t);return null!=e.docString&&e.hasOwnProperty("docString")&&(n.docString=e.docString),null!=e.type&&e.hasOwnProperty("type")&&(n.type=t.enums===String?u.onnx.AttributeProto.AttributeType[e.type]:e.type),null!=e.refAttrName&&e.hasOwnProperty("refAttrName")&&(n.refAttrName=e.refAttrName),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,s.util.toJSONOptions)},e.AttributeType=function(){var e={},t=Object.create(e);return t[e[0]="UNDEFINED"]=0,t[e[1]="FLOAT"]=1,t[e[2]="INT"]=2,t[e[3]="STRING"]=3,t[e[4]="TENSOR"]=4,t[e[5]="GRAPH"]=5,t[e[6]="FLOATS"]=6,t[e[7]="INTS"]=7,t[e[8]="STRINGS"]=8,t[e[9]="TENSORS"]=9,t[e[10]="GRAPHS"]=10,t}(),e}(),i.ValueInfoProto=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.name="",e.prototype.type=null,e.prototype.docString="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=c.create()),null!=e.name&&e.hasOwnProperty("name")&&t.uint32(10).string(e.name),null!=e.type&&e.hasOwnProperty("type")&&u.onnx.TypeProto.encode(e.type,t.uint32(18).fork()).ldelim(),null!=e.docString&&e.hasOwnProperty("docString")&&t.uint32(26).string(e.docString),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new u.onnx.ValueInfoProto;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.name=e.string();break;case 2:r.type=u.onnx.TypeProto.decode(e,e.uint32());break;case 3:r.docString=e.string();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.name&&e.hasOwnProperty("name")&&!l.isString(e.name))return"name: string expected";if(null!=e.type&&e.hasOwnProperty("type")){var t=u.onnx.TypeProto.verify(e.type);if(t)return"type."+t}return null!=e.docString&&e.hasOwnProperty("docString")&&!l.isString(e.docString)?"docString: string expected":null},e.fromObject=function(e){if(e instanceof u.onnx.ValueInfoProto)return e;var t=new u.onnx.ValueInfoProto;if(null!=e.name&&(t.name=String(e.name)),null!=e.type){if("object"!=typeof e.type)throw TypeError(".onnx.ValueInfoProto.type: object expected");t.type=u.onnx.TypeProto.fromObject(e.type)}return null!=e.docString&&(t.docString=String(e.docString)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.name="",n.type=null,n.docString=""),null!=e.name&&e.hasOwnProperty("name")&&(n.name=e.name),null!=e.type&&e.hasOwnProperty("type")&&(n.type=u.onnx.TypeProto.toObject(e.type,t)),null!=e.docString&&e.hasOwnProperty("docString")&&(n.docString=e.docString),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,s.util.toJSONOptions)},e}(),i.NodeProto=function(){function e(e){if(this.input=[],this.output=[],this.attribute=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.input=l.emptyArray,e.prototype.output=l.emptyArray,e.prototype.name="",e.prototype.opType="",e.prototype.domain="",e.prototype.attribute=l.emptyArray,e.prototype.docString="",e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=c.create()),null!=e.input&&e.input.length)for(var n=0;n<e.input.length;++n)t.uint32(10).string(e.input[n]);if(null!=e.output&&e.output.length)for(n=0;n<e.output.length;++n)t.uint32(18).string(e.output[n]);if(null!=e.name&&e.hasOwnProperty("name")&&t.uint32(26).string(e.name),null!=e.opType&&e.hasOwnProperty("opType")&&t.uint32(34).string(e.opType),null!=e.attribute&&e.attribute.length)for(n=0;n<e.attribute.length;++n)u.onnx.AttributeProto.encode(e.attribute[n],t.uint32(42).fork()).ldelim();return null!=e.docString&&e.hasOwnProperty("docString")&&t.uint32(50).string(e.docString),null!=e.domain&&e.hasOwnProperty("domain")&&t.uint32(58).string(e.domain),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new u.onnx.NodeProto;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.input&&r.input.length||(r.input=[]),r.input.push(e.string());break;case 2:r.output&&r.output.length||(r.output=[]),r.output.push(e.string());break;case 3:r.name=e.string();break;case 4:r.opType=e.string();break;case 7:r.domain=e.string();break;case 5:r.attribute&&r.attribute.length||(r.attribute=[]),r.attribute.push(u.onnx.AttributeProto.decode(e,e.uint32()));break;case 6:r.docString=e.string();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.input&&e.hasOwnProperty("input")){if(!Array.isArray(e.input))return"input: array expected";for(var t=0;t<e.input.length;++t)if(!l.isString(e.input[t]))return"input: string[] expected"}if(null!=e.output&&e.hasOwnProperty("output")){if(!Array.isArray(e.output))return"output: array expected";for(t=0;t<e.output.length;++t)if(!l.isString(e.output[t]))return"output: string[] expected"}if(null!=e.name&&e.hasOwnProperty("name")&&!l.isString(e.name))return"name: string expected";if(null!=e.opType&&e.hasOwnProperty("opType")&&!l.isString(e.opType))return"opType: string expected";if(null!=e.domain&&e.hasOwnProperty("domain")&&!l.isString(e.domain))return"domain: string expected";if(null!=e.attribute&&e.hasOwnProperty("attribute")){if(!Array.isArray(e.attribute))return"attribute: array expected";for(t=0;t<e.attribute.length;++t){var n=u.onnx.AttributeProto.verify(e.attribute[t]);if(n)return"attribute."+n}}return null!=e.docString&&e.hasOwnProperty("docString")&&!l.isString(e.docString)?"docString: string expected":null},e.fromObject=function(e){if(e instanceof u.onnx.NodeProto)return e;var t=new u.onnx.NodeProto;if(e.input){if(!Array.isArray(e.input))throw TypeError(".onnx.NodeProto.input: array expected");t.input=[];for(var n=0;n<e.input.length;++n)t.input[n]=String(e.input[n])}if(e.output){if(!Array.isArray(e.output))throw TypeError(".onnx.NodeProto.output: array expected");for(t.output=[],n=0;n<e.output.length;++n)t.output[n]=String(e.output[n])}if(null!=e.name&&(t.name=String(e.name)),null!=e.opType&&(t.opType=String(e.opType)),null!=e.domain&&(t.domain=String(e.domain)),e.attribute){if(!Array.isArray(e.attribute))throw TypeError(".onnx.NodeProto.attribute: array expected");for(t.attribute=[],n=0;n<e.attribute.length;++n){if("object"!=typeof e.attribute[n])throw TypeError(".onnx.NodeProto.attribute: object expected");t.attribute[n]=u.onnx.AttributeProto.fromObject(e.attribute[n])}}return null!=e.docString&&(t.docString=String(e.docString)),t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.input=[],n.output=[],n.attribute=[]),t.defaults&&(n.name="",n.opType="",n.docString="",n.domain=""),e.input&&e.input.length){n.input=[];for(var r=0;r<e.input.length;++r)n.input[r]=e.input[r]}if(e.output&&e.output.length)for(n.output=[],r=0;r<e.output.length;++r)n.output[r]=e.output[r];if(null!=e.name&&e.hasOwnProperty("name")&&(n.name=e.name),null!=e.opType&&e.hasOwnProperty("opType")&&(n.opType=e.opType),e.attribute&&e.attribute.length)for(n.attribute=[],r=0;r<e.attribute.length;++r)n.attribute[r]=u.onnx.AttributeProto.toObject(e.attribute[r],t);return null!=e.docString&&e.hasOwnProperty("docString")&&(n.docString=e.docString),null!=e.domain&&e.hasOwnProperty("domain")&&(n.domain=e.domain),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,s.util.toJSONOptions)},e}(),i.ModelProto=function(){function e(e){if(this.opsetImport=[],this.metadataProps=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.irVersion=l.Long?l.Long.fromBits(0,0,!1):0,e.prototype.opsetImport=l.emptyArray,e.prototype.producerName="",e.prototype.producerVersion="",e.prototype.domain="",e.prototype.modelVersion=l.Long?l.Long.fromBits(0,0,!1):0,e.prototype.docString="",e.prototype.graph=null,e.prototype.metadataProps=l.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=c.create()),null!=e.irVersion&&e.hasOwnProperty("irVersion")&&t.uint32(8).int64(e.irVersion),null!=e.producerName&&e.hasOwnProperty("producerName")&&t.uint32(18).string(e.producerName),null!=e.producerVersion&&e.hasOwnProperty("producerVersion")&&t.uint32(26).string(e.producerVersion),null!=e.domain&&e.hasOwnProperty("domain")&&t.uint32(34).string(e.domain),null!=e.modelVersion&&e.hasOwnProperty("modelVersion")&&t.uint32(40).int64(e.modelVersion),null!=e.docString&&e.hasOwnProperty("docString")&&t.uint32(50).string(e.docString),null!=e.graph&&e.hasOwnProperty("graph")&&u.onnx.GraphProto.encode(e.graph,t.uint32(58).fork()).ldelim(),null!=e.opsetImport&&e.opsetImport.length)for(var n=0;n<e.opsetImport.length;++n)u.onnx.OperatorSetIdProto.encode(e.opsetImport[n],t.uint32(66).fork()).ldelim();if(null!=e.metadataProps&&e.metadataProps.length)for(n=0;n<e.metadataProps.length;++n)u.onnx.StringStringEntryProto.encode(e.metadataProps[n],t.uint32(114).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new u.onnx.ModelProto;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.irVersion=e.int64();break;case 8:r.opsetImport&&r.opsetImport.length||(r.opsetImport=[]),r.opsetImport.push(u.onnx.OperatorSetIdProto.decode(e,e.uint32()));break;case 2:r.producerName=e.string();break;case 3:r.producerVersion=e.string();break;case 4:r.domain=e.string();break;case 5:r.modelVersion=e.int64();break;case 6:r.docString=e.string();break;case 7:r.graph=u.onnx.GraphProto.decode(e,e.uint32());break;case 14:r.metadataProps&&r.metadataProps.length||(r.metadataProps=[]),r.metadataProps.push(u.onnx.StringStringEntryProto.decode(e,e.uint32()));break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.irVersion&&e.hasOwnProperty("irVersion")&&!(l.isInteger(e.irVersion)||e.irVersion&&l.isInteger(e.irVersion.low)&&l.isInteger(e.irVersion.high)))return"irVersion: integer|Long expected";if(null!=e.opsetImport&&e.hasOwnProperty("opsetImport")){if(!Array.isArray(e.opsetImport))return"opsetImport: array expected";for(var t=0;t<e.opsetImport.length;++t)if(n=u.onnx.OperatorSetIdProto.verify(e.opsetImport[t]))return"opsetImport."+n}if(null!=e.producerName&&e.hasOwnProperty("producerName")&&!l.isString(e.producerName))return"producerName: string expected";if(null!=e.producerVersion&&e.hasOwnProperty("producerVersion")&&!l.isString(e.producerVersion))return"producerVersion: string expected";if(null!=e.domain&&e.hasOwnProperty("domain")&&!l.isString(e.domain))return"domain: string expected";if(null!=e.modelVersion&&e.hasOwnProperty("modelVersion")&&!(l.isInteger(e.modelVersion)||e.modelVersion&&l.isInteger(e.modelVersion.low)&&l.isInteger(e.modelVersion.high)))return"modelVersion: integer|Long expected";if(null!=e.docString&&e.hasOwnProperty("docString")&&!l.isString(e.docString))return"docString: string expected";if(null!=e.graph&&e.hasOwnProperty("graph")&&(n=u.onnx.GraphProto.verify(e.graph)))return"graph."+n;if(null!=e.metadataProps&&e.hasOwnProperty("metadataProps")){if(!Array.isArray(e.metadataProps))return"metadataProps: array expected";for(t=0;t<e.metadataProps.length;++t){var n;if(n=u.onnx.StringStringEntryProto.verify(e.metadataProps[t]))return"metadataProps."+n}}return null},e.fromObject=function(e){if(e instanceof u.onnx.ModelProto)return e;var t=new u.onnx.ModelProto;if(null!=e.irVersion&&(l.Long?(t.irVersion=l.Long.fromValue(e.irVersion)).unsigned=!1:"string"==typeof e.irVersion?t.irVersion=parseInt(e.irVersion,10):"number"==typeof e.irVersion?t.irVersion=e.irVersion:"object"==typeof e.irVersion&&(t.irVersion=new l.LongBits(e.irVersion.low>>>0,e.irVersion.high>>>0).toNumber())),e.opsetImport){if(!Array.isArray(e.opsetImport))throw TypeError(".onnx.ModelProto.opsetImport: array expected");t.opsetImport=[];for(var n=0;n<e.opsetImport.length;++n){if("object"!=typeof e.opsetImport[n])throw TypeError(".onnx.ModelProto.opsetImport: object expected");t.opsetImport[n]=u.onnx.OperatorSetIdProto.fromObject(e.opsetImport[n])}}if(null!=e.producerName&&(t.producerName=String(e.producerName)),null!=e.producerVersion&&(t.producerVersion=String(e.producerVersion)),null!=e.domain&&(t.domain=String(e.domain)),null!=e.modelVersion&&(l.Long?(t.modelVersion=l.Long.fromValue(e.modelVersion)).unsigned=!1:"string"==typeof e.modelVersion?t.modelVersion=parseInt(e.modelVersion,10):"number"==typeof e.modelVersion?t.modelVersion=e.modelVersion:"object"==typeof e.modelVersion&&(t.modelVersion=new l.LongBits(e.modelVersion.low>>>0,e.modelVersion.high>>>0).toNumber())),null!=e.docString&&(t.docString=String(e.docString)),null!=e.graph){if("object"!=typeof e.graph)throw TypeError(".onnx.ModelProto.graph: object expected");t.graph=u.onnx.GraphProto.fromObject(e.graph)}if(e.metadataProps){if(!Array.isArray(e.metadataProps))throw TypeError(".onnx.ModelProto.metadataProps: array expected");for(t.metadataProps=[],n=0;n<e.metadataProps.length;++n){if("object"!=typeof e.metadataProps[n])throw TypeError(".onnx.ModelProto.metadataProps: object expected");t.metadataProps[n]=u.onnx.StringStringEntryProto.fromObject(e.metadataProps[n])}}return t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.opsetImport=[],n.metadataProps=[]),t.defaults){if(l.Long){var r=new l.Long(0,0,!1);n.irVersion=t.longs===String?r.toString():t.longs===Number?r.toNumber():r}else n.irVersion=t.longs===String?"0":0;n.producerName="",n.producerVersion="",n.domain="",l.Long?(r=new l.Long(0,0,!1),n.modelVersion=t.longs===String?r.toString():t.longs===Number?r.toNumber():r):n.modelVersion=t.longs===String?"0":0,n.docString="",n.graph=null}if(null!=e.irVersion&&e.hasOwnProperty("irVersion")&&("number"==typeof e.irVersion?n.irVersion=t.longs===String?String(e.irVersion):e.irVersion:n.irVersion=t.longs===String?l.Long.prototype.toString.call(e.irVersion):t.longs===Number?new l.LongBits(e.irVersion.low>>>0,e.irVersion.high>>>0).toNumber():e.irVersion),null!=e.producerName&&e.hasOwnProperty("producerName")&&(n.producerName=e.producerName),null!=e.producerVersion&&e.hasOwnProperty("producerVersion")&&(n.producerVersion=e.producerVersion),null!=e.domain&&e.hasOwnProperty("domain")&&(n.domain=e.domain),null!=e.modelVersion&&e.hasOwnProperty("modelVersion")&&("number"==typeof e.modelVersion?n.modelVersion=t.longs===String?String(e.modelVersion):e.modelVersion:n.modelVersion=t.longs===String?l.Long.prototype.toString.call(e.modelVersion):t.longs===Number?new l.LongBits(e.modelVersion.low>>>0,e.modelVersion.high>>>0).toNumber():e.modelVersion),null!=e.docString&&e.hasOwnProperty("docString")&&(n.docString=e.docString),null!=e.graph&&e.hasOwnProperty("graph")&&(n.graph=u.onnx.GraphProto.toObject(e.graph,t)),e.opsetImport&&e.opsetImport.length){n.opsetImport=[];for(var o=0;o<e.opsetImport.length;++o)n.opsetImport[o]=u.onnx.OperatorSetIdProto.toObject(e.opsetImport[o],t)}if(e.metadataProps&&e.metadataProps.length)for(n.metadataProps=[],o=0;o<e.metadataProps.length;++o)n.metadataProps[o]=u.onnx.StringStringEntryProto.toObject(e.metadataProps[o],t);return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,s.util.toJSONOptions)},e}(),i.StringStringEntryProto=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.key="",e.prototype.value="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=c.create()),null!=e.key&&e.hasOwnProperty("key")&&t.uint32(10).string(e.key),null!=e.value&&e.hasOwnProperty("value")&&t.uint32(18).string(e.value),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new u.onnx.StringStringEntryProto;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.key=e.string();break;case 2:r.value=e.string();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.key&&e.hasOwnProperty("key")&&!l.isString(e.key)?"key: string expected":null!=e.value&&e.hasOwnProperty("value")&&!l.isString(e.value)?"value: string expected":null},e.fromObject=function(e){if(e instanceof u.onnx.StringStringEntryProto)return e;var t=new u.onnx.StringStringEntryProto;return null!=e.key&&(t.key=String(e.key)),null!=e.value&&(t.value=String(e.value)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.key="",n.value=""),null!=e.key&&e.hasOwnProperty("key")&&(n.key=e.key),null!=e.value&&e.hasOwnProperty("value")&&(n.value=e.value),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,s.util.toJSONOptions)},e}(),i.TensorAnnotation=function(){function e(e){if(this.quantParameterTensorNames=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.tensorName="",e.prototype.quantParameterTensorNames=l.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=c.create()),null!=e.tensorName&&e.hasOwnProperty("tensorName")&&t.uint32(10).string(e.tensorName),null!=e.quantParameterTensorNames&&e.quantParameterTensorNames.length)for(var n=0;n<e.quantParameterTensorNames.length;++n)u.onnx.StringStringEntryProto.encode(e.quantParameterTensorNames[n],t.uint32(18).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new u.onnx.TensorAnnotation;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.tensorName=e.string();break;case 2:r.quantParameterTensorNames&&r.quantParameterTensorNames.length||(r.quantParameterTensorNames=[]),r.quantParameterTensorNames.push(u.onnx.StringStringEntryProto.decode(e,e.uint32()));break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.tensorName&&e.hasOwnProperty("tensorName")&&!l.isString(e.tensorName))return"tensorName: string expected";if(null!=e.quantParameterTensorNames&&e.hasOwnProperty("quantParameterTensorNames")){if(!Array.isArray(e.quantParameterTensorNames))return"quantParameterTensorNames: array expected";for(var t=0;t<e.quantParameterTensorNames.length;++t){var n=u.onnx.StringStringEntryProto.verify(e.quantParameterTensorNames[t]);if(n)return"quantParameterTensorNames."+n}}return null},e.fromObject=function(e){if(e instanceof u.onnx.TensorAnnotation)return e;var t=new u.onnx.TensorAnnotation;if(null!=e.tensorName&&(t.tensorName=String(e.tensorName)),e.quantParameterTensorNames){if(!Array.isArray(e.quantParameterTensorNames))throw TypeError(".onnx.TensorAnnotation.quantParameterTensorNames: array expected");t.quantParameterTensorNames=[];for(var n=0;n<e.quantParameterTensorNames.length;++n){if("object"!=typeof e.quantParameterTensorNames[n])throw TypeError(".onnx.TensorAnnotation.quantParameterTensorNames: object expected");t.quantParameterTensorNames[n]=u.onnx.StringStringEntryProto.fromObject(e.quantParameterTensorNames[n])}}return t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.quantParameterTensorNames=[]),t.defaults&&(n.tensorName=""),null!=e.tensorName&&e.hasOwnProperty("tensorName")&&(n.tensorName=e.tensorName),e.quantParameterTensorNames&&e.quantParameterTensorNames.length){n.quantParameterTensorNames=[];for(var r=0;r<e.quantParameterTensorNames.length;++r)n.quantParameterTensorNames[r]=u.onnx.StringStringEntryProto.toObject(e.quantParameterTensorNames[r],t)}return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,s.util.toJSONOptions)},e}(),i.GraphProto=function(){function e(e){if(this.node=[],this.initializer=[],this.input=[],this.output=[],this.valueInfo=[],this.quantizationAnnotation=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.node=l.emptyArray,e.prototype.name="",e.prototype.initializer=l.emptyArray,e.prototype.docString="",e.prototype.input=l.emptyArray,e.prototype.output=l.emptyArray,e.prototype.valueInfo=l.emptyArray,e.prototype.quantizationAnnotation=l.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=c.create()),null!=e.node&&e.node.length)for(var n=0;n<e.node.length;++n)u.onnx.NodeProto.encode(e.node[n],t.uint32(10).fork()).ldelim();if(null!=e.name&&e.hasOwnProperty("name")&&t.uint32(18).string(e.name),null!=e.initializer&&e.initializer.length)for(n=0;n<e.initializer.length;++n)u.onnx.TensorProto.encode(e.initializer[n],t.uint32(42).fork()).ldelim();if(null!=e.docString&&e.hasOwnProperty("docString")&&t.uint32(82).string(e.docString),null!=e.input&&e.input.length)for(n=0;n<e.input.length;++n)u.onnx.ValueInfoProto.encode(e.input[n],t.uint32(90).fork()).ldelim();if(null!=e.output&&e.output.length)for(n=0;n<e.output.length;++n)u.onnx.ValueInfoProto.encode(e.output[n],t.uint32(98).fork()).ldelim();if(null!=e.valueInfo&&e.valueInfo.length)for(n=0;n<e.valueInfo.length;++n)u.onnx.ValueInfoProto.encode(e.valueInfo[n],t.uint32(106).fork()).ldelim();if(null!=e.quantizationAnnotation&&e.quantizationAnnotation.length)for(n=0;n<e.quantizationAnnotation.length;++n)u.onnx.TensorAnnotation.encode(e.quantizationAnnotation[n],t.uint32(114).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new u.onnx.GraphProto;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.node&&r.node.length||(r.node=[]),r.node.push(u.onnx.NodeProto.decode(e,e.uint32()));break;case 2:r.name=e.string();break;case 5:r.initializer&&r.initializer.length||(r.initializer=[]),r.initializer.push(u.onnx.TensorProto.decode(e,e.uint32()));break;case 10:r.docString=e.string();break;case 11:r.input&&r.input.length||(r.input=[]),r.input.push(u.onnx.ValueInfoProto.decode(e,e.uint32()));break;case 12:r.output&&r.output.length||(r.output=[]),r.output.push(u.onnx.ValueInfoProto.decode(e,e.uint32()));break;case 13:r.valueInfo&&r.valueInfo.length||(r.valueInfo=[]),r.valueInfo.push(u.onnx.ValueInfoProto.decode(e,e.uint32()));break;case 14:r.quantizationAnnotation&&r.quantizationAnnotation.length||(r.quantizationAnnotation=[]),r.quantizationAnnotation.push(u.onnx.TensorAnnotation.decode(e,e.uint32()));break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.node&&e.hasOwnProperty("node")){if(!Array.isArray(e.node))return"node: array expected";for(var t=0;t<e.node.length;++t)if(n=u.onnx.NodeProto.verify(e.node[t]))return"node."+n}if(null!=e.name&&e.hasOwnProperty("name")&&!l.isString(e.name))return"name: string expected";if(null!=e.initializer&&e.hasOwnProperty("initializer")){if(!Array.isArray(e.initializer))return"initializer: array expected";for(t=0;t<e.initializer.length;++t)if(n=u.onnx.TensorProto.verify(e.initializer[t]))return"initializer."+n}if(null!=e.docString&&e.hasOwnProperty("docString")&&!l.isString(e.docString))return"docString: string expected";if(null!=e.input&&e.hasOwnProperty("input")){if(!Array.isArray(e.input))return"input: array expected";for(t=0;t<e.input.length;++t)if(n=u.onnx.ValueInfoProto.verify(e.input[t]))return"input."+n}if(null!=e.output&&e.hasOwnProperty("output")){if(!Array.isArray(e.output))return"output: array expected";for(t=0;t<e.output.length;++t)if(n=u.onnx.ValueInfoProto.verify(e.output[t]))return"output."+n}if(null!=e.valueInfo&&e.hasOwnProperty("valueInfo")){if(!Array.isArray(e.valueInfo))return"valueInfo: array expected";for(t=0;t<e.valueInfo.length;++t)if(n=u.onnx.ValueInfoProto.verify(e.valueInfo[t]))return"valueInfo."+n}if(null!=e.quantizationAnnotation&&e.hasOwnProperty("quantizationAnnotation")){if(!Array.isArray(e.quantizationAnnotation))return"quantizationAnnotation: array expected";for(t=0;t<e.quantizationAnnotation.length;++t){var n;if(n=u.onnx.TensorAnnotation.verify(e.quantizationAnnotation[t]))return"quantizationAnnotation."+n}}return null},e.fromObject=function(e){if(e instanceof u.onnx.GraphProto)return e;var t=new u.onnx.GraphProto;if(e.node){if(!Array.isArray(e.node))throw TypeError(".onnx.GraphProto.node: array expected");t.node=[];for(var n=0;n<e.node.length;++n){if("object"!=typeof e.node[n])throw TypeError(".onnx.GraphProto.node: object expected");t.node[n]=u.onnx.NodeProto.fromObject(e.node[n])}}if(null!=e.name&&(t.name=String(e.name)),e.initializer){if(!Array.isArray(e.initializer))throw TypeError(".onnx.GraphProto.initializer: array expected");for(t.initializer=[],n=0;n<e.initializer.length;++n){if("object"!=typeof e.initializer[n])throw TypeError(".onnx.GraphProto.initializer: object expected");t.initializer[n]=u.onnx.TensorProto.fromObject(e.initializer[n])}}if(null!=e.docString&&(t.docString=String(e.docString)),e.input){if(!Array.isArray(e.input))throw TypeError(".onnx.GraphProto.input: array expected");for(t.input=[],n=0;n<e.input.length;++n){if("object"!=typeof e.input[n])throw TypeError(".onnx.GraphProto.input: object expected");t.input[n]=u.onnx.ValueInfoProto.fromObject(e.input[n])}}if(e.output){if(!Array.isArray(e.output))throw TypeError(".onnx.GraphProto.output: array expected");for(t.output=[],n=0;n<e.output.length;++n){if("object"!=typeof e.output[n])throw TypeError(".onnx.GraphProto.output: object expected");t.output[n]=u.onnx.ValueInfoProto.fromObject(e.output[n])}}if(e.valueInfo){if(!Array.isArray(e.valueInfo))throw TypeError(".onnx.GraphProto.valueInfo: array expected");for(t.valueInfo=[],n=0;n<e.valueInfo.length;++n){if("object"!=typeof e.valueInfo[n])throw TypeError(".onnx.GraphProto.valueInfo: object expected");t.valueInfo[n]=u.onnx.ValueInfoProto.fromObject(e.valueInfo[n])}}if(e.quantizationAnnotation){if(!Array.isArray(e.quantizationAnnotation))throw TypeError(".onnx.GraphProto.quantizationAnnotation: array expected");for(t.quantizationAnnotation=[],n=0;n<e.quantizationAnnotation.length;++n){if("object"!=typeof e.quantizationAnnotation[n])throw TypeError(".onnx.GraphProto.quantizationAnnotation: object expected");t.quantizationAnnotation[n]=u.onnx.TensorAnnotation.fromObject(e.quantizationAnnotation[n])}}return t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.node=[],n.initializer=[],n.input=[],n.output=[],n.valueInfo=[],n.quantizationAnnotation=[]),t.defaults&&(n.name="",n.docString=""),e.node&&e.node.length){n.node=[];for(var r=0;r<e.node.length;++r)n.node[r]=u.onnx.NodeProto.toObject(e.node[r],t)}if(null!=e.name&&e.hasOwnProperty("name")&&(n.name=e.name),e.initializer&&e.initializer.length)for(n.initializer=[],r=0;r<e.initializer.length;++r)n.initializer[r]=u.onnx.TensorProto.toObject(e.initializer[r],t);if(null!=e.docString&&e.hasOwnProperty("docString")&&(n.docString=e.docString),e.input&&e.input.length)for(n.input=[],r=0;r<e.input.length;++r)n.input[r]=u.onnx.ValueInfoProto.toObject(e.input[r],t);if(e.output&&e.output.length)for(n.output=[],r=0;r<e.output.length;++r)n.output[r]=u.onnx.ValueInfoProto.toObject(e.output[r],t);if(e.valueInfo&&e.valueInfo.length)for(n.valueInfo=[],r=0;r<e.valueInfo.length;++r)n.valueInfo[r]=u.onnx.ValueInfoProto.toObject(e.valueInfo[r],t);if(e.quantizationAnnotation&&e.quantizationAnnotation.length)for(n.quantizationAnnotation=[],r=0;r<e.quantizationAnnotation.length;++r)n.quantizationAnnotation[r]=u.onnx.TensorAnnotation.toObject(e.quantizationAnnotation[r],t);return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,s.util.toJSONOptions)},e}(),i.TensorProto=function(){function e(e){if(this.dims=[],this.floatData=[],this.int32Data=[],this.stringData=[],this.int64Data=[],this.externalData=[],this.doubleData=[],this.uint64Data=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.dims=l.emptyArray,e.prototype.dataType=0,e.prototype.segment=null,e.prototype.floatData=l.emptyArray,e.prototype.int32Data=l.emptyArray,e.prototype.stringData=l.emptyArray,e.prototype.int64Data=l.emptyArray,e.prototype.name="",e.prototype.docString="",e.prototype.rawData=l.newBuffer([]),e.prototype.externalData=l.emptyArray,e.prototype.dataLocation=0,e.prototype.doubleData=l.emptyArray,e.prototype.uint64Data=l.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=c.create()),null!=e.dims&&e.dims.length){t.uint32(10).fork();for(var n=0;n<e.dims.length;++n)t.int64(e.dims[n]);t.ldelim()}if(null!=e.dataType&&e.hasOwnProperty("dataType")&&t.uint32(16).int32(e.dataType),null!=e.segment&&e.hasOwnProperty("segment")&&u.onnx.TensorProto.Segment.encode(e.segment,t.uint32(26).fork()).ldelim(),null!=e.floatData&&e.floatData.length){for(t.uint32(34).fork(),n=0;n<e.floatData.length;++n)t.float(e.floatData[n]);t.ldelim()}if(null!=e.int32Data&&e.int32Data.length){for(t.uint32(42).fork(),n=0;n<e.int32Data.length;++n)t.int32(e.int32Data[n]);t.ldelim()}if(null!=e.stringData&&e.stringData.length)for(n=0;n<e.stringData.length;++n)t.uint32(50).bytes(e.stringData[n]);if(null!=e.int64Data&&e.int64Data.length){for(t.uint32(58).fork(),n=0;n<e.int64Data.length;++n)t.int64(e.int64Data[n]);t.ldelim()}if(null!=e.name&&e.hasOwnProperty("name")&&t.uint32(66).string(e.name),null!=e.rawData&&e.hasOwnProperty("rawData")&&t.uint32(74).bytes(e.rawData),null!=e.doubleData&&e.doubleData.length){for(t.uint32(82).fork(),n=0;n<e.doubleData.length;++n)t.double(e.doubleData[n]);t.ldelim()}if(null!=e.uint64Data&&e.uint64Data.length){for(t.uint32(90).fork(),n=0;n<e.uint64Data.length;++n)t.uint64(e.uint64Data[n]);t.ldelim()}if(null!=e.docString&&e.hasOwnProperty("docString")&&t.uint32(98).string(e.docString),null!=e.externalData&&e.externalData.length)for(n=0;n<e.externalData.length;++n)u.onnx.StringStringEntryProto.encode(e.externalData[n],t.uint32(106).fork()).ldelim();return null!=e.dataLocation&&e.hasOwnProperty("dataLocation")&&t.uint32(112).int32(e.dataLocation),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new u.onnx.TensorProto;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:if(r.dims&&r.dims.length||(r.dims=[]),2==(7&o))for(var i=e.uint32()+e.pos;e.pos<i;)r.dims.push(e.int64());else r.dims.push(e.int64());break;case 2:r.dataType=e.int32();break;case 3:r.segment=u.onnx.TensorProto.Segment.decode(e,e.uint32());break;case 4:if(r.floatData&&r.floatData.length||(r.floatData=[]),2==(7&o))for(i=e.uint32()+e.pos;e.pos<i;)r.floatData.push(e.float());else r.floatData.push(e.float());break;case 5:if(r.int32Data&&r.int32Data.length||(r.int32Data=[]),2==(7&o))for(i=e.uint32()+e.pos;e.pos<i;)r.int32Data.push(e.int32());else r.int32Data.push(e.int32());break;case 6:r.stringData&&r.stringData.length||(r.stringData=[]),r.stringData.push(e.bytes());break;case 7:if(r.int64Data&&r.int64Data.length||(r.int64Data=[]),2==(7&o))for(i=e.uint32()+e.pos;e.pos<i;)r.int64Data.push(e.int64());else r.int64Data.push(e.int64());break;case 8:r.name=e.string();break;case 12:r.docString=e.string();break;case 9:r.rawData=e.bytes();break;case 13:r.externalData&&r.externalData.length||(r.externalData=[]),r.externalData.push(u.onnx.StringStringEntryProto.decode(e,e.uint32()));break;case 14:r.dataLocation=e.int32();break;case 10:if(r.doubleData&&r.doubleData.length||(r.doubleData=[]),2==(7&o))for(i=e.uint32()+e.pos;e.pos<i;)r.doubleData.push(e.double());else r.doubleData.push(e.double());break;case 11:if(r.uint64Data&&r.uint64Data.length||(r.uint64Data=[]),2==(7&o))for(i=e.uint32()+e.pos;e.pos<i;)r.uint64Data.push(e.uint64());else r.uint64Data.push(e.uint64());break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.dims&&e.hasOwnProperty("dims")){if(!Array.isArray(e.dims))return"dims: array expected";for(var t=0;t<e.dims.length;++t)if(!(l.isInteger(e.dims[t])||e.dims[t]&&l.isInteger(e.dims[t].low)&&l.isInteger(e.dims[t].high)))return"dims: integer|Long[] expected"}if(null!=e.dataType&&e.hasOwnProperty("dataType")&&!l.isInteger(e.dataType))return"dataType: integer expected";if(null!=e.segment&&e.hasOwnProperty("segment")&&(n=u.onnx.TensorProto.Segment.verify(e.segment)))return"segment."+n;if(null!=e.floatData&&e.hasOwnProperty("floatData")){if(!Array.isArray(e.floatData))return"floatData: array expected";for(t=0;t<e.floatData.length;++t)if("number"!=typeof e.floatData[t])return"floatData: number[] expected"}if(null!=e.int32Data&&e.hasOwnProperty("int32Data")){if(!Array.isArray(e.int32Data))return"int32Data: array expected";for(t=0;t<e.int32Data.length;++t)if(!l.isInteger(e.int32Data[t]))return"int32Data: integer[] expected"}if(null!=e.stringData&&e.hasOwnProperty("stringData")){if(!Array.isArray(e.stringData))return"stringData: array expected";for(t=0;t<e.stringData.length;++t)if(!(e.stringData[t]&&"number"==typeof e.stringData[t].length||l.isString(e.stringData[t])))return"stringData: buffer[] expected"}if(null!=e.int64Data&&e.hasOwnProperty("int64Data")){if(!Array.isArray(e.int64Data))return"int64Data: array expected";for(t=0;t<e.int64Data.length;++t)if(!(l.isInteger(e.int64Data[t])||e.int64Data[t]&&l.isInteger(e.int64Data[t].low)&&l.isInteger(e.int64Data[t].high)))return"int64Data: integer|Long[] expected"}if(null!=e.name&&e.hasOwnProperty("name")&&!l.isString(e.name))return"name: string expected";if(null!=e.docString&&e.hasOwnProperty("docString")&&!l.isString(e.docString))return"docString: string expected";if(null!=e.rawData&&e.hasOwnProperty("rawData")&&!(e.rawData&&"number"==typeof e.rawData.length||l.isString(e.rawData)))return"rawData: buffer expected";if(null!=e.externalData&&e.hasOwnProperty("externalData")){if(!Array.isArray(e.externalData))return"externalData: array expected";for(t=0;t<e.externalData.length;++t){var n;if(n=u.onnx.StringStringEntryProto.verify(e.externalData[t]))return"externalData."+n}}if(null!=e.dataLocation&&e.hasOwnProperty("dataLocation"))switch(e.dataLocation){default:return"dataLocation: enum value expected";case 0:case 1:}if(null!=e.doubleData&&e.hasOwnProperty("doubleData")){if(!Array.isArray(e.doubleData))return"doubleData: array expected";for(t=0;t<e.doubleData.length;++t)if("number"!=typeof e.doubleData[t])return"doubleData: number[] expected"}if(null!=e.uint64Data&&e.hasOwnProperty("uint64Data")){if(!Array.isArray(e.uint64Data))return"uint64Data: array expected";for(t=0;t<e.uint64Data.length;++t)if(!(l.isInteger(e.uint64Data[t])||e.uint64Data[t]&&l.isInteger(e.uint64Data[t].low)&&l.isInteger(e.uint64Data[t].high)))return"uint64Data: integer|Long[] expected"}return null},e.fromObject=function(e){if(e instanceof u.onnx.TensorProto)return e;var t=new u.onnx.TensorProto;if(e.dims){if(!Array.isArray(e.dims))throw TypeError(".onnx.TensorProto.dims: array expected");t.dims=[];for(var n=0;n<e.dims.length;++n)l.Long?(t.dims[n]=l.Long.fromValue(e.dims[n])).unsigned=!1:"string"==typeof e.dims[n]?t.dims[n]=parseInt(e.dims[n],10):"number"==typeof e.dims[n]?t.dims[n]=e.dims[n]:"object"==typeof e.dims[n]&&(t.dims[n]=new l.LongBits(e.dims[n].low>>>0,e.dims[n].high>>>0).toNumber())}if(null!=e.dataType&&(t.dataType=0|e.dataType),null!=e.segment){if("object"!=typeof e.segment)throw TypeError(".onnx.TensorProto.segment: object expected");t.segment=u.onnx.TensorProto.Segment.fromObject(e.segment)}if(e.floatData){if(!Array.isArray(e.floatData))throw TypeError(".onnx.TensorProto.floatData: array expected");for(t.floatData=[],n=0;n<e.floatData.length;++n)t.floatData[n]=Number(e.floatData[n])}if(e.int32Data){if(!Array.isArray(e.int32Data))throw TypeError(".onnx.TensorProto.int32Data: array expected");for(t.int32Data=[],n=0;n<e.int32Data.length;++n)t.int32Data[n]=0|e.int32Data[n]}if(e.stringData){if(!Array.isArray(e.stringData))throw TypeError(".onnx.TensorProto.stringData: array expected");for(t.stringData=[],n=0;n<e.stringData.length;++n)"string"==typeof e.stringData[n]?l.base64.decode(e.stringData[n],t.stringData[n]=l.newBuffer(l.base64.length(e.stringData[n])),0):e.stringData[n].length&&(t.stringData[n]=e.stringData[n])}if(e.int64Data){if(!Array.isArray(e.int64Data))throw TypeError(".onnx.TensorProto.int64Data: array expected");for(t.int64Data=[],n=0;n<e.int64Data.length;++n)l.Long?(t.int64Data[n]=l.Long.fromValue(e.int64Data[n])).unsigned=!1:"string"==typeof e.int64Data[n]?t.int64Data[n]=parseInt(e.int64Data[n],10):"number"==typeof e.int64Data[n]?t.int64Data[n]=e.int64Data[n]:"object"==typeof e.int64Data[n]&&(t.int64Data[n]=new l.LongBits(e.int64Data[n].low>>>0,e.int64Data[n].high>>>0).toNumber())}if(null!=e.name&&(t.name=String(e.name)),null!=e.docString&&(t.docString=String(e.docString)),null!=e.rawData&&("string"==typeof e.rawData?l.base64.decode(e.rawData,t.rawData=l.newBuffer(l.base64.length(e.rawData)),0):e.rawData.length&&(t.rawData=e.rawData)),e.externalData){if(!Array.isArray(e.externalData))throw TypeError(".onnx.TensorProto.externalData: array expected");for(t.externalData=[],n=0;n<e.externalData.length;++n){if("object"!=typeof e.externalData[n])throw TypeError(".onnx.TensorProto.externalData: object expected");t.externalData[n]=u.onnx.StringStringEntryProto.fromObject(e.externalData[n])}}switch(e.dataLocation){case"DEFAULT":case 0:t.dataLocation=0;break;case"EXTERNAL":case 1:t.dataLocation=1}if(e.doubleData){if(!Array.isArray(e.doubleData))throw TypeError(".onnx.TensorProto.doubleData: array expected");for(t.doubleData=[],n=0;n<e.doubleData.length;++n)t.doubleData[n]=Number(e.doubleData[n])}if(e.uint64Data){if(!Array.isArray(e.uint64Data))throw TypeError(".onnx.TensorProto.uint64Data: array expected");for(t.uint64Data=[],n=0;n<e.uint64Data.length;++n)l.Long?(t.uint64Data[n]=l.Long.fromValue(e.uint64Data[n])).unsigned=!0:"string"==typeof e.uint64Data[n]?t.uint64Data[n]=parseInt(e.uint64Data[n],10):"number"==typeof e.uint64Data[n]?t.uint64Data[n]=e.uint64Data[n]:"object"==typeof e.uint64Data[n]&&(t.uint64Data[n]=new l.LongBits(e.uint64Data[n].low>>>0,e.uint64Data[n].high>>>0).toNumber(!0))}return t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.dims=[],n.floatData=[],n.int32Data=[],n.stringData=[],n.int64Data=[],n.doubleData=[],n.uint64Data=[],n.externalData=[]),t.defaults&&(n.dataType=0,n.segment=null,n.name="",t.bytes===String?n.rawData="":(n.rawData=[],t.bytes!==Array&&(n.rawData=l.newBuffer(n.rawData))),n.docString="",n.dataLocation=t.enums===String?"DEFAULT":0),e.dims&&e.dims.length){n.dims=[];for(var r=0;r<e.dims.length;++r)"number"==typeof e.dims[r]?n.dims[r]=t.longs===String?String(e.dims[r]):e.dims[r]:n.dims[r]=t.longs===String?l.Long.prototype.toString.call(e.dims[r]):t.longs===Number?new l.LongBits(e.dims[r].low>>>0,e.dims[r].high>>>0).toNumber():e.dims[r]}if(null!=e.dataType&&e.hasOwnProperty("dataType")&&(n.dataType=e.dataType),null!=e.segment&&e.hasOwnProperty("segment")&&(n.segment=u.onnx.TensorProto.Segment.toObject(e.segment,t)),e.floatData&&e.floatData.length)for(n.floatData=[],r=0;r<e.floatData.length;++r)n.floatData[r]=t.json&&!isFinite(e.floatData[r])?String(e.floatData[r]):e.floatData[r];if(e.int32Data&&e.int32Data.length)for(n.int32Data=[],r=0;r<e.int32Data.length;++r)n.int32Data[r]=e.int32Data[r];if(e.stringData&&e.stringData.length)for(n.stringData=[],r=0;r<e.stringData.length;++r)n.stringData[r]=t.bytes===String?l.base64.encode(e.stringData[r],0,e.stringData[r].length):t.bytes===Array?Array.prototype.slice.call(e.stringData[r]):e.stringData[r];if(e.int64Data&&e.int64Data.length)for(n.int64Data=[],r=0;r<e.int64Data.length;++r)"number"==typeof e.int64Data[r]?n.int64Data[r]=t.longs===String?String(e.int64Data[r]):e.int64Data[r]:n.int64Data[r]=t.longs===String?l.Long.prototype.toString.call(e.int64Data[r]):t.longs===Number?new l.LongBits(e.int64Data[r].low>>>0,e.int64Data[r].high>>>0).toNumber():e.int64Data[r];if(null!=e.name&&e.hasOwnProperty("name")&&(n.name=e.name),null!=e.rawData&&e.hasOwnProperty("rawData")&&(n.rawData=t.bytes===String?l.base64.encode(e.rawData,0,e.rawData.length):t.bytes===Array?Array.prototype.slice.call(e.rawData):e.rawData),e.doubleData&&e.doubleData.length)for(n.doubleData=[],r=0;r<e.doubleData.length;++r)n.doubleData[r]=t.json&&!isFinite(e.doubleData[r])?String(e.doubleData[r]):e.doubleData[r];if(e.uint64Data&&e.uint64Data.length)for(n.uint64Data=[],r=0;r<e.uint64Data.length;++r)"number"==typeof e.uint64Data[r]?n.uint64Data[r]=t.longs===String?String(e.uint64Data[r]):e.uint64Data[r]:n.uint64Data[r]=t.longs===String?l.Long.prototype.toString.call(e.uint64Data[r]):t.longs===Number?new l.LongBits(e.uint64Data[r].low>>>0,e.uint64Data[r].high>>>0).toNumber(!0):e.uint64Data[r];if(null!=e.docString&&e.hasOwnProperty("docString")&&(n.docString=e.docString),e.externalData&&e.externalData.length)for(n.externalData=[],r=0;r<e.externalData.length;++r)n.externalData[r]=u.onnx.StringStringEntryProto.toObject(e.externalData[r],t);return null!=e.dataLocation&&e.hasOwnProperty("dataLocation")&&(n.dataLocation=t.enums===String?u.onnx.TensorProto.DataLocation[e.dataLocation]:e.dataLocation),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,s.util.toJSONOptions)},e.DataType=function(){var e={},t=Object.create(e);return t[e[0]="UNDEFINED"]=0,t[e[1]="FLOAT"]=1,t[e[2]="UINT8"]=2,t[e[3]="INT8"]=3,t[e[4]="UINT16"]=4,t[e[5]="INT16"]=5,t[e[6]="INT32"]=6,t[e[7]="INT64"]=7,t[e[8]="STRING"]=8,t[e[9]="BOOL"]=9,t[e[10]="FLOAT16"]=10,t[e[11]="DOUBLE"]=11,t[e[12]="UINT32"]=12,t[e[13]="UINT64"]=13,t[e[14]="COMPLEX64"]=14,t[e[15]="COMPLEX128"]=15,t[e[16]="BFLOAT16"]=16,t}(),e.Segment=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.begin=l.Long?l.Long.fromBits(0,0,!1):0,e.prototype.end=l.Long?l.Long.fromBits(0,0,!1):0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=c.create()),null!=e.begin&&e.hasOwnProperty("begin")&&t.uint32(8).int64(e.begin),null!=e.end&&e.hasOwnProperty("end")&&t.uint32(16).int64(e.end),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new u.onnx.TensorProto.Segment;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.begin=e.int64();break;case 2:r.end=e.int64();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.begin&&e.hasOwnProperty("begin")&&!(l.isInteger(e.begin)||e.begin&&l.isInteger(e.begin.low)&&l.isInteger(e.begin.high))?"begin: integer|Long expected":null!=e.end&&e.hasOwnProperty("end")&&!(l.isInteger(e.end)||e.end&&l.isInteger(e.end.low)&&l.isInteger(e.end.high))?"end: integer|Long expected":null},e.fromObject=function(e){if(e instanceof u.onnx.TensorProto.Segment)return e;var t=new u.onnx.TensorProto.Segment;return null!=e.begin&&(l.Long?(t.begin=l.Long.fromValue(e.begin)).unsigned=!1:"string"==typeof e.begin?t.begin=parseInt(e.begin,10):"number"==typeof e.begin?t.begin=e.begin:"object"==typeof e.begin&&(t.begin=new l.LongBits(e.begin.low>>>0,e.begin.high>>>0).toNumber())),null!=e.end&&(l.Long?(t.end=l.Long.fromValue(e.end)).unsigned=!1:"string"==typeof e.end?t.end=parseInt(e.end,10):"number"==typeof e.end?t.end=e.end:"object"==typeof e.end&&(t.end=new l.LongBits(e.end.low>>>0,e.end.high>>>0).toNumber())),t},e.toObject=function(e,t){t||(t={});var n={};if(t.defaults){if(l.Long){var r=new l.Long(0,0,!1);n.begin=t.longs===String?r.toString():t.longs===Number?r.toNumber():r}else n.begin=t.longs===String?"0":0;l.Long?(r=new l.Long(0,0,!1),n.end=t.longs===String?r.toString():t.longs===Number?r.toNumber():r):n.end=t.longs===String?"0":0}return null!=e.begin&&e.hasOwnProperty("begin")&&("number"==typeof e.begin?n.begin=t.longs===String?String(e.begin):e.begin:n.begin=t.longs===String?l.Long.prototype.toString.call(e.begin):t.longs===Number?new l.LongBits(e.begin.low>>>0,e.begin.high>>>0).toNumber():e.begin),null!=e.end&&e.hasOwnProperty("end")&&("number"==typeof e.end?n.end=t.longs===String?String(e.end):e.end:n.end=t.longs===String?l.Long.prototype.toString.call(e.end):t.longs===Number?new l.LongBits(e.end.low>>>0,e.end.high>>>0).toNumber():e.end),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,s.util.toJSONOptions)},e}(),e.DataLocation=function(){var e={},t=Object.create(e);return t[e[0]="DEFAULT"]=0,t[e[1]="EXTERNAL"]=1,t}(),e}(),i.TensorShapeProto=function(){function e(e){if(this.dim=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.dim=l.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=c.create()),null!=e.dim&&e.dim.length)for(var n=0;n<e.dim.length;++n)u.onnx.TensorShapeProto.Dimension.encode(e.dim[n],t.uint32(10).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new u.onnx.TensorShapeProto;e.pos<n;){var o=e.uint32();o>>>3==1?(r.dim&&r.dim.length||(r.dim=[]),r.dim.push(u.onnx.TensorShapeProto.Dimension.decode(e,e.uint32()))):e.skipType(7&o)}return r},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.dim&&e.hasOwnProperty("dim")){if(!Array.isArray(e.dim))return"dim: array expected";for(var t=0;t<e.dim.length;++t){var n=u.onnx.TensorShapeProto.Dimension.verify(e.dim[t]);if(n)return"dim."+n}}return null},e.fromObject=function(e){if(e instanceof u.onnx.TensorShapeProto)return e;var t=new u.onnx.TensorShapeProto;if(e.dim){if(!Array.isArray(e.dim))throw TypeError(".onnx.TensorShapeProto.dim: array expected");t.dim=[];for(var n=0;n<e.dim.length;++n){if("object"!=typeof e.dim[n])throw TypeError(".onnx.TensorShapeProto.dim: object expected");t.dim[n]=u.onnx.TensorShapeProto.Dimension.fromObject(e.dim[n])}}return t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.dim=[]),e.dim&&e.dim.length){n.dim=[];for(var r=0;r<e.dim.length;++r)n.dim[r]=u.onnx.TensorShapeProto.Dimension.toObject(e.dim[r],t)}return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,s.util.toJSONOptions)},e.Dimension=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}var t;return e.prototype.dimValue=l.Long?l.Long.fromBits(0,0,!1):0,e.prototype.dimParam="",e.prototype.denotation="",Object.defineProperty(e.prototype,"value",{get:l.oneOfGetter(t=["dimValue","dimParam"]),set:l.oneOfSetter(t)}),e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=c.create()),null!=e.dimValue&&e.hasOwnProperty("dimValue")&&t.uint32(8).int64(e.dimValue),null!=e.dimParam&&e.hasOwnProperty("dimParam")&&t.uint32(18).string(e.dimParam),null!=e.denotation&&e.hasOwnProperty("denotation")&&t.uint32(26).string(e.denotation),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new u.onnx.TensorShapeProto.Dimension;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.dimValue=e.int64();break;case 2:r.dimParam=e.string();break;case 3:r.denotation=e.string();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";var t={};if(null!=e.dimValue&&e.hasOwnProperty("dimValue")&&(t.value=1,!(l.isInteger(e.dimValue)||e.dimValue&&l.isInteger(e.dimValue.low)&&l.isInteger(e.dimValue.high))))return"dimValue: integer|Long expected";if(null!=e.dimParam&&e.hasOwnProperty("dimParam")){if(1===t.value)return"value: multiple values";if(t.value=1,!l.isString(e.dimParam))return"dimParam: string expected"}return null!=e.denotation&&e.hasOwnProperty("denotation")&&!l.isString(e.denotation)?"denotation: string expected":null},e.fromObject=function(e){if(e instanceof u.onnx.TensorShapeProto.Dimension)return e;var t=new u.onnx.TensorShapeProto.Dimension;return null!=e.dimValue&&(l.Long?(t.dimValue=l.Long.fromValue(e.dimValue)).unsigned=!1:"string"==typeof e.dimValue?t.dimValue=parseInt(e.dimValue,10):"number"==typeof e.dimValue?t.dimValue=e.dimValue:"object"==typeof e.dimValue&&(t.dimValue=new l.LongBits(e.dimValue.low>>>0,e.dimValue.high>>>0).toNumber())),null!=e.dimParam&&(t.dimParam=String(e.dimParam)),null!=e.denotation&&(t.denotation=String(e.denotation)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.denotation=""),null!=e.dimValue&&e.hasOwnProperty("dimValue")&&("number"==typeof e.dimValue?n.dimValue=t.longs===String?String(e.dimValue):e.dimValue:n.dimValue=t.longs===String?l.Long.prototype.toString.call(e.dimValue):t.longs===Number?new l.LongBits(e.dimValue.low>>>0,e.dimValue.high>>>0).toNumber():e.dimValue,t.oneofs&&(n.value="dimValue")),null!=e.dimParam&&e.hasOwnProperty("dimParam")&&(n.dimParam=e.dimParam,t.oneofs&&(n.value="dimParam")),null!=e.denotation&&e.hasOwnProperty("denotation")&&(n.denotation=e.denotation),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,s.util.toJSONOptions)},e}(),e}(),i.TypeProto=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}var t;return e.prototype.tensorType=null,e.prototype.denotation="",Object.defineProperty(e.prototype,"value",{get:l.oneOfGetter(t=["tensorType"]),set:l.oneOfSetter(t)}),e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=c.create()),null!=e.tensorType&&e.hasOwnProperty("tensorType")&&u.onnx.TypeProto.Tensor.encode(e.tensorType,t.uint32(10).fork()).ldelim(),null!=e.denotation&&e.hasOwnProperty("denotation")&&t.uint32(50).string(e.denotation),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new u.onnx.TypeProto;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.tensorType=u.onnx.TypeProto.Tensor.decode(e,e.uint32());break;case 6:r.denotation=e.string();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.tensorType&&e.hasOwnProperty("tensorType")){var t=u.onnx.TypeProto.Tensor.verify(e.tensorType);if(t)return"tensorType."+t}return null!=e.denotation&&e.hasOwnProperty("denotation")&&!l.isString(e.denotation)?"denotation: string expected":null},e.fromObject=function(e){if(e instanceof u.onnx.TypeProto)return e;var t=new u.onnx.TypeProto;if(null!=e.tensorType){if("object"!=typeof e.tensorType)throw TypeError(".onnx.TypeProto.tensorType: object expected");t.tensorType=u.onnx.TypeProto.Tensor.fromObject(e.tensorType)}return null!=e.denotation&&(t.denotation=String(e.denotation)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.denotation=""),null!=e.tensorType&&e.hasOwnProperty("tensorType")&&(n.tensorType=u.onnx.TypeProto.Tensor.toObject(e.tensorType,t),t.oneofs&&(n.value="tensorType")),null!=e.denotation&&e.hasOwnProperty("denotation")&&(n.denotation=e.denotation),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,s.util.toJSONOptions)},e.Tensor=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.elemType=0,e.prototype.shape=null,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=c.create()),null!=e.elemType&&e.hasOwnProperty("elemType")&&t.uint32(8).int32(e.elemType),null!=e.shape&&e.hasOwnProperty("shape")&&u.onnx.TensorShapeProto.encode(e.shape,t.uint32(18).fork()).ldelim(),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new u.onnx.TypeProto.Tensor;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.elemType=e.int32();break;case 2:r.shape=u.onnx.TensorShapeProto.decode(e,e.uint32());break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.elemType&&e.hasOwnProperty("elemType")&&!l.isInteger(e.elemType))return"elemType: integer expected";if(null!=e.shape&&e.hasOwnProperty("shape")){var t=u.onnx.TensorShapeProto.verify(e.shape);if(t)return"shape."+t}return null},e.fromObject=function(e){if(e instanceof u.onnx.TypeProto.Tensor)return e;var t=new u.onnx.TypeProto.Tensor;if(null!=e.elemType&&(t.elemType=0|e.elemType),null!=e.shape){if("object"!=typeof e.shape)throw TypeError(".onnx.TypeProto.Tensor.shape: object expected");t.shape=u.onnx.TensorShapeProto.fromObject(e.shape)}return t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.elemType=0,n.shape=null),null!=e.elemType&&e.hasOwnProperty("elemType")&&(n.elemType=e.elemType),null!=e.shape&&e.hasOwnProperty("shape")&&(n.shape=u.onnx.TensorShapeProto.toObject(e.shape,t)),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,s.util.toJSONOptions)},e}(),e}(),i.OperatorSetIdProto=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.domain="",e.prototype.version=l.Long?l.Long.fromBits(0,0,!1):0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=c.create()),null!=e.domain&&e.hasOwnProperty("domain")&&t.uint32(10).string(e.domain),null!=e.version&&e.hasOwnProperty("version")&&t.uint32(16).int64(e.version),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new u.onnx.OperatorSetIdProto;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.domain=e.string();break;case 2:r.version=e.int64();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.domain&&e.hasOwnProperty("domain")&&!l.isString(e.domain)?"domain: string expected":null!=e.version&&e.hasOwnProperty("version")&&!(l.isInteger(e.version)||e.version&&l.isInteger(e.version.low)&&l.isInteger(e.version.high))?"version: integer|Long expected":null},e.fromObject=function(e){if(e instanceof u.onnx.OperatorSetIdProto)return e;var t=new u.onnx.OperatorSetIdProto;return null!=e.domain&&(t.domain=String(e.domain)),null!=e.version&&(l.Long?(t.version=l.Long.fromValue(e.version)).unsigned=!1:"string"==typeof e.version?t.version=parseInt(e.version,10):"number"==typeof e.version?t.version=e.version:"object"==typeof e.version&&(t.version=new l.LongBits(e.version.low>>>0,e.version.high>>>0).toNumber())),t},e.toObject=function(e,t){t||(t={});var n={};if(t.defaults)if(n.domain="",l.Long){var r=new l.Long(0,0,!1);n.version=t.longs===String?r.toString():t.longs===Number?r.toNumber():r}else n.version=t.longs===String?"0":0;return null!=e.domain&&e.hasOwnProperty("domain")&&(n.domain=e.domain),null!=e.version&&e.hasOwnProperty("version")&&("number"==typeof e.version?n.version=t.longs===String?String(e.version):e.version:n.version=t.longs===String?l.Long.prototype.toString.call(e.version):t.longs===Number?new l.LongBits(e.version.low>>>0,e.version.high>>>0).toNumber():e.version),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,s.util.toJSONOptions)},e}(),i),e.exports=u},2100:(e,t,n)=>{"use strict";e.exports=n(9482)},9482:(e,t,n)=>{"use strict";var r=t;function o(){r.util._configure(),r.Writer._configure(r.BufferWriter),r.Reader._configure(r.BufferReader)}r.build="minimal",r.Writer=n(1173),r.BufferWriter=n(3155),r.Reader=n(1408),r.BufferReader=n(593),r.util=n(9693),r.rpc=n(5994),r.roots=n(5054),r.configure=o,o()},1408:(e,t,n)=>{"use strict";e.exports=c;var r,o=n(9693),i=o.LongBits,s=o.utf8;function a(e,t){return RangeError("index out of range: "+e.pos+" + "+(t||1)+" > "+e.len)}function c(e){this.buf=e,this.pos=0,this.len=e.length}var l,u="undefined"!=typeof Uint8Array?function(e){if(e instanceof Uint8Array||Array.isArray(e))return new c(e);throw Error("illegal buffer")}:function(e){if(Array.isArray(e))return new c(e);throw Error("illegal buffer")},d=function(){return o.Buffer?function(e){return(c.create=function(e){return o.Buffer.isBuffer(e)?new r(e):u(e)})(e)}:u};function f(){var e=new i(0,0),t=0;if(!(this.len-this.pos>4)){for(;t<3;++t){if(this.pos>=this.len)throw a(this);if(e.lo=(e.lo|(127&this.buf[this.pos])<<7*t)>>>0,this.buf[this.pos++]<128)return e}return e.lo=(e.lo|(127&this.buf[this.pos++])<<7*t)>>>0,e}for(;t<4;++t)if(e.lo=(e.lo|(127&this.buf[this.pos])<<7*t)>>>0,this.buf[this.pos++]<128)return e;if(e.lo=(e.lo|(127&this.buf[this.pos])<<28)>>>0,e.hi=(e.hi|(127&this.buf[this.pos])>>4)>>>0,this.buf[this.pos++]<128)return e;if(t=0,this.len-this.pos>4){for(;t<5;++t)if(e.hi=(e.hi|(127&this.buf[this.pos])<<7*t+3)>>>0,this.buf[this.pos++]<128)return e}else for(;t<5;++t){if(this.pos>=this.len)throw a(this);if(e.hi=(e.hi|(127&this.buf[this.pos])<<7*t+3)>>>0,this.buf[this.pos++]<128)return e}throw Error("invalid varint encoding")}function h(e,t){return(e[t-4]|e[t-3]<<8|e[t-2]<<16|e[t-1]<<24)>>>0}function p(){if(this.pos+8>this.len)throw a(this,8);return new i(h(this.buf,this.pos+=4),h(this.buf,this.pos+=4))}c.create=d(),c.prototype._slice=o.Array.prototype.subarray||o.Array.prototype.slice,c.prototype.uint32=(l=4294967295,function(){if(l=(127&this.buf[this.pos])>>>0,this.buf[this.pos++]<128)return l;if(l=(l|(127&this.buf[this.pos])<<7)>>>0,this.buf[this.pos++]<128)return l;if(l=(l|(127&this.buf[this.pos])<<14)>>>0,this.buf[this.pos++]<128)return l;if(l=(l|(127&this.buf[this.pos])<<21)>>>0,this.buf[this.pos++]<128)return l;if(l=(l|(15&this.buf[this.pos])<<28)>>>0,this.buf[this.pos++]<128)return l;if((this.pos+=5)>this.len)throw this.pos=this.len,a(this,10);return l}),c.prototype.int32=function(){return 0|this.uint32()},c.prototype.sint32=function(){var e=this.uint32();return e>>>1^-(1&e)},c.prototype.bool=function(){return 0!==this.uint32()},c.prototype.fixed32=function(){if(this.pos+4>this.len)throw a(this,4);return h(this.buf,this.pos+=4)},c.prototype.sfixed32=function(){if(this.pos+4>this.len)throw a(this,4);return 0|h(this.buf,this.pos+=4)},c.prototype.float=function(){if(this.pos+4>this.len)throw a(this,4);var e=o.float.readFloatLE(this.buf,this.pos);return this.pos+=4,e},c.prototype.double=function(){if(this.pos+8>this.len)throw a(this,4);var e=o.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,e},c.prototype.bytes=function(){var e=this.uint32(),t=this.pos,n=this.pos+e;if(n>this.len)throw a(this,e);return this.pos+=e,Array.isArray(this.buf)?this.buf.slice(t,n):t===n?new this.buf.constructor(0):this._slice.call(this.buf,t,n)},c.prototype.string=function(){var e=this.bytes();return s.read(e,0,e.length)},c.prototype.skip=function(e){if("number"==typeof e){if(this.pos+e>this.len)throw a(this,e);this.pos+=e}else do{if(this.pos>=this.len)throw a(this)}while(128&this.buf[this.pos++]);return this},c.prototype.skipType=function(e){switch(e){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;4!=(e=7&this.uint32());)this.skipType(e);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+e+" at offset "+this.pos)}return this},c._configure=function(e){r=e,c.create=d(),r._configure();var t=o.Long?"toLong":"toNumber";o.merge(c.prototype,{int64:function(){return f.call(this)[t](!1)},uint64:function(){return f.call(this)[t](!0)},sint64:function(){return f.call(this).zzDecode()[t](!1)},fixed64:function(){return p.call(this)[t](!0)},sfixed64:function(){return p.call(this)[t](!1)}})}},593:(e,t,n)=>{"use strict";e.exports=i;var r=n(1408);(i.prototype=Object.create(r.prototype)).constructor=i;var o=n(9693);function i(e){r.call(this,e)}i._configure=function(){o.Buffer&&(i.prototype._slice=o.Buffer.prototype.slice)},i.prototype.string=function(){var e=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+e,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+e,this.len))},i._configure()},5054:e=>{"use strict";e.exports={}},5994:(e,t,n)=>{"use strict";t.Service=n(7948)},7948:(e,t,n)=>{"use strict";e.exports=o;var r=n(9693);function o(e,t,n){if("function"!=typeof e)throw TypeError("rpcImpl must be a function");r.EventEmitter.call(this),this.rpcImpl=e,this.requestDelimited=Boolean(t),this.responseDelimited=Boolean(n)}(o.prototype=Object.create(r.EventEmitter.prototype)).constructor=o,o.prototype.rpcCall=function e(t,n,o,i,s){if(!i)throw TypeError("request must be specified");var a=this;if(!s)return r.asPromise(e,a,t,n,o,i);if(a.rpcImpl)try{return a.rpcImpl(t,n[a.requestDelimited?"encodeDelimited":"encode"](i).finish(),function(e,n){if(e)return a.emit("error",e,t),s(e);if(null!==n){if(!(n instanceof o))try{n=o[a.responseDelimited?"decodeDelimited":"decode"](n)}catch(e){return a.emit("error",e,t),s(e)}return a.emit("data",n,t),s(null,n)}a.end(!0)})}catch(e){return a.emit("error",e,t),void setTimeout(function(){s(e)},0)}else setTimeout(function(){s(Error("already ended"))},0)},o.prototype.end=function(e){return this.rpcImpl&&(e||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this}},1945:(e,t,n)=>{"use strict";e.exports=o;var r=n(9693);function o(e,t){this.lo=e>>>0,this.hi=t>>>0}var i=o.zero=new o(0,0);i.toNumber=function(){return 0},i.zzEncode=i.zzDecode=function(){return this},i.length=function(){return 1};var s=o.zeroHash="\0\0\0\0\0\0\0\0";o.fromNumber=function(e){if(0===e)return i;var t=e<0;t&&(e=-e);var n=e>>>0,r=(e-n)/4294967296>>>0;return t&&(r=~r>>>0,n=~n>>>0,++n>4294967295&&(n=0,++r>4294967295&&(r=0))),new o(n,r)},o.from=function(e){if("number"==typeof e)return o.fromNumber(e);if(r.isString(e)){if(!r.Long)return o.fromNumber(parseInt(e,10));e=r.Long.fromString(e)}return e.low||e.high?new o(e.low>>>0,e.high>>>0):i},o.prototype.toNumber=function(e){if(!e&&this.hi>>>31){var t=1+~this.lo>>>0,n=~this.hi>>>0;return t||(n=n+1>>>0),-(t+4294967296*n)}return this.lo+4294967296*this.hi},o.prototype.toLong=function(e){return r.Long?new r.Long(0|this.lo,0|this.hi,Boolean(e)):{low:0|this.lo,high:0|this.hi,unsigned:Boolean(e)}};var a=String.prototype.charCodeAt;o.fromHash=function(e){return e===s?i:new o((a.call(e,0)|a.call(e,1)<<8|a.call(e,2)<<16|a.call(e,3)<<24)>>>0,(a.call(e,4)|a.call(e,5)<<8|a.call(e,6)<<16|a.call(e,7)<<24)>>>0)},o.prototype.toHash=function(){return String.fromCharCode(255&this.lo,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,255&this.hi,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},o.prototype.zzEncode=function(){var e=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^e)>>>0,this.lo=(this.lo<<1^e)>>>0,this},o.prototype.zzDecode=function(){var e=-(1&this.lo);return this.lo=((this.lo>>>1|this.hi<<31)^e)>>>0,this.hi=(this.hi>>>1^e)>>>0,this},o.prototype.length=function(){var e=this.lo,t=(this.lo>>>28|this.hi<<4)>>>0,n=this.hi>>>24;return 0===n?0===t?e<16384?e<128?1:2:e<2097152?3:4:t<16384?t<128?5:6:t<2097152?7:8:n<128?9:10}},9693:function(e,t,n){"use strict";var r=t;function o(e,t,n){for(var r=Object.keys(t),o=0;o<r.length;++o)void 0!==e[r[o]]&&n||(e[r[o]]=t[r[o]]);return e}function i(e){function t(e,n){if(!(this instanceof t))return new t(e,n);Object.defineProperty(this,"message",{get:function(){return e}}),Error.captureStackTrace?Error.captureStackTrace(this,t):Object.defineProperty(this,"stack",{value:(new Error).stack||""}),n&&o(this,n)}return(t.prototype=Object.create(Error.prototype)).constructor=t,Object.defineProperty(t.prototype,"name",{get:function(){return e}}),t.prototype.toString=function(){return this.name+": "+this.message},t}r.asPromise=n(4537),r.base64=n(7419),r.EventEmitter=n(9211),r.float=n(945),r.inquire=n(7199),r.utf8=n(4997),r.pool=n(6662),r.LongBits=n(1945),r.isNode=Boolean(void 0!==n.g&&n.g&&n.g.process&&n.g.process.versions&&n.g.process.versions.node),r.global=r.isNode&&n.g||"undefined"!=typeof window&&window||"undefined"!=typeof self&&self||this,r.emptyArray=Object.freeze?Object.freeze([]):[],r.emptyObject=Object.freeze?Object.freeze({}):{},r.isInteger=Number.isInteger||function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e},r.isString=function(e){return"string"==typeof e||e instanceof String},r.isObject=function(e){return e&&"object"==typeof e},r.isset=r.isSet=function(e,t){var n=e[t];return!(null==n||!e.hasOwnProperty(t))&&("object"!=typeof n||(Array.isArray(n)?n.length:Object.keys(n).length)>0)},r.Buffer=function(){try{var e=r.inquire("buffer").Buffer;return e.prototype.utf8Write?e:null}catch(e){return null}}(),r._Buffer_from=null,r._Buffer_allocUnsafe=null,r.newBuffer=function(e){return"number"==typeof e?r.Buffer?r._Buffer_allocUnsafe(e):new r.Array(e):r.Buffer?r._Buffer_from(e):"undefined"==typeof Uint8Array?e:new Uint8Array(e)},r.Array="undefined"!=typeof Uint8Array?Uint8Array:Array,r.Long=r.global.dcodeIO&&r.global.dcodeIO.Long||r.global.Long||r.inquire("long"),r.key2Re=/^true|false|0|1$/,r.key32Re=/^-?(?:0|[1-9][0-9]*)$/,r.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,r.longToHash=function(e){return e?r.LongBits.from(e).toHash():r.LongBits.zeroHash},r.longFromHash=function(e,t){var n=r.LongBits.fromHash(e);return r.Long?r.Long.fromBits(n.lo,n.hi,t):n.toNumber(Boolean(t))},r.merge=o,r.lcFirst=function(e){return e.charAt(0).toLowerCase()+e.substring(1)},r.newError=i,r.ProtocolError=i("ProtocolError"),r.oneOfGetter=function(e){for(var t={},n=0;n<e.length;++n)t[e[n]]=1;return function(){for(var e=Object.keys(this),n=e.length-1;n>-1;--n)if(1===t[e[n]]&&void 0!==this[e[n]]&&null!==this[e[n]])return e[n]}},r.oneOfSetter=function(e){return function(t){for(var n=0;n<e.length;++n)e[n]!==t&&delete this[e[n]]}},r.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},r._configure=function(){var e=r.Buffer;e?(r._Buffer_from=e.from!==Uint8Array.from&&e.from||function(t,n){return new e(t,n)},r._Buffer_allocUnsafe=e.allocUnsafe||function(t){return new e(t)}):r._Buffer_from=r._Buffer_allocUnsafe=null}},1173:(e,t,n)=>{"use strict";e.exports=d;var r,o=n(9693),i=o.LongBits,s=o.base64,a=o.utf8;function c(e,t,n){this.fn=e,this.len=t,this.next=void 0,this.val=n}function l(){}function u(e){this.head=e.head,this.tail=e.tail,this.len=e.len,this.next=e.states}function d(){this.len=0,this.head=new c(l,0,0),this.tail=this.head,this.states=null}var f=function(){return o.Buffer?function(){return(d.create=function(){return new r})()}:function(){return new d}};function h(e,t,n){t[n]=255&e}function p(e,t){this.len=e,this.next=void 0,this.val=t}function g(e,t,n){for(;e.hi;)t[n++]=127&e.lo|128,e.lo=(e.lo>>>7|e.hi<<25)>>>0,e.hi>>>=7;for(;e.lo>127;)t[n++]=127&e.lo|128,e.lo=e.lo>>>7;t[n++]=e.lo}function m(e,t,n){t[n]=255&e,t[n+1]=e>>>8&255,t[n+2]=e>>>16&255,t[n+3]=e>>>24}d.create=f(),d.alloc=function(e){return new o.Array(e)},o.Array!==Array&&(d.alloc=o.pool(d.alloc,o.Array.prototype.subarray)),d.prototype._push=function(e,t,n){return this.tail=this.tail.next=new c(e,t,n),this.len+=t,this},p.prototype=Object.create(c.prototype),p.prototype.fn=function(e,t,n){for(;e>127;)t[n++]=127&e|128,e>>>=7;t[n]=e},d.prototype.uint32=function(e){return this.len+=(this.tail=this.tail.next=new p((e>>>=0)<128?1:e<16384?2:e<2097152?3:e<268435456?4:5,e)).len,this},d.prototype.int32=function(e){return e<0?this._push(g,10,i.fromNumber(e)):this.uint32(e)},d.prototype.sint32=function(e){return this.uint32((e<<1^e>>31)>>>0)},d.prototype.uint64=function(e){var t=i.from(e);return this._push(g,t.length(),t)},d.prototype.int64=d.prototype.uint64,d.prototype.sint64=function(e){var t=i.from(e).zzEncode();return this._push(g,t.length(),t)},d.prototype.bool=function(e){return this._push(h,1,e?1:0)},d.prototype.fixed32=function(e){return this._push(m,4,e>>>0)},d.prototype.sfixed32=d.prototype.fixed32,d.prototype.fixed64=function(e){var t=i.from(e);return this._push(m,4,t.lo)._push(m,4,t.hi)},d.prototype.sfixed64=d.prototype.fixed64,d.prototype.float=function(e){return this._push(o.float.writeFloatLE,4,e)},d.prototype.double=function(e){return this._push(o.float.writeDoubleLE,8,e)};var y=o.Array.prototype.set?function(e,t,n){t.set(e,n)}:function(e,t,n){for(var r=0;r<e.length;++r)t[n+r]=e[r]};d.prototype.bytes=function(e){var t=e.length>>>0;if(!t)return this._push(h,1,0);if(o.isString(e)){var n=d.alloc(t=s.length(e));s.decode(e,n,0),e=n}return this.uint32(t)._push(y,t,e)},d.prototype.string=function(e){var t=a.length(e);return t?this.uint32(t)._push(a.write,t,e):this._push(h,1,0)},d.prototype.fork=function(){return this.states=new u(this),this.head=this.tail=new c(l,0,0),this.len=0,this},d.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new c(l,0,0),this.len=0),this},d.prototype.ldelim=function(){var e=this.head,t=this.tail,n=this.len;return this.reset().uint32(n),n&&(this.tail.next=e.next,this.tail=t,this.len+=n),this},d.prototype.finish=function(){for(var e=this.head.next,t=this.constructor.alloc(this.len),n=0;e;)e.fn(e.val,t,n),n+=e.len,e=e.next;return t},d._configure=function(e){r=e,d.create=f(),r._configure()}},3155:(e,t,n)=>{"use strict";e.exports=i;var r=n(1173);(i.prototype=Object.create(r.prototype)).constructor=i;var o=n(9693);function i(){r.call(this)}function s(e,t,n){e.length<40?o.utf8.write(e,t,n):t.utf8Write?t.utf8Write(e,n):t.write(e,n)}i._configure=function(){i.alloc=o._Buffer_allocUnsafe,i.writeBytesBuffer=o.Buffer&&o.Buffer.prototype instanceof Uint8Array&&"set"===o.Buffer.prototype.set.name?function(e,t,n){t.set(e,n)}:function(e,t,n){if(e.copy)e.copy(t,n,0,e.length);else for(var r=0;r<e.length;)t[n++]=e[r++]}},i.prototype.bytes=function(e){o.isString(e)&&(e=o._Buffer_from(e,"base64"));var t=e.length>>>0;return this.uint32(t),t&&this._push(i.writeBytesBuffer,t,e),this},i.prototype.string=function(e){var t=o.Buffer.byteLength(e);return this.uint32(t),t&&this._push(s,t,e),this},i._configure()},7714:(e,t,n)=>{"use strict";t.R=void 0;const r=n(6919),o=n(7448);t.R=new class{async init(){}async createSessionHandler(e,t){const n=new r.Session(t);return await n.loadModel(e),new o.OnnxjsSessionHandler(n)}}},4200:(e,t,n)=>{"use strict";t.c8=t.rX=void 0;const r=n(1670),o=n(5381),i=n(2157),s=n(2306);t.rX=()=>{if(("number"!=typeof r.env.wasm.initTimeout||r.env.wasm.initTimeout<0)&&(r.env.wasm.initTimeout=0),"boolean"!=typeof r.env.wasm.simd&&(r.env.wasm.simd=!0),"boolean"!=typeof r.env.wasm.proxy&&(r.env.wasm.proxy=!1),"number"!=typeof r.env.wasm.numThreads||!Number.isInteger(r.env.wasm.numThreads)||r.env.wasm.numThreads<=0){const e="undefined"==typeof navigator?(0,o.cpus)().length:navigator.hardwareConcurrency;r.env.wasm.numThreads=Math.min(4,Math.ceil((e||1)/2))}},t.c8=new class{async init(){(0,t.rX)(),await(0,i.initWasm)()}async createSessionHandler(e,t){const n=new s.OnnxruntimeWebAssemblySessionHandler;return await n.loadModel(e,t),Promise.resolve(n)}}},6018:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),o(n(1670),t);const i=n(1670);{const e=n(7714).R;(0,i.registerBackend)("webgl",e,-10)}{const e=n(4200).c8;(0,i.registerBackend)("cpu",e,10),(0,i.registerBackend)("wasm",e,10),(0,i.registerBackend)("xnnpack",e,9)}},246:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createAttributeWithCacheKey=void 0;class n{constructor(e){Object.assign(this,e)}get cacheKey(){return this._cacheKey||(this._cacheKey=Object.getOwnPropertyNames(this).sort().map(e=>`${this[e]}`).join(";")),this._cacheKey}}t.createAttributeWithCacheKey=e=>new n(e)},7778:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Attribute=void 0;const r=n(1446),o=n(9395),i=n(9162),s=n(2517);var a=o.onnxruntime.experimental.fbs;class c{constructor(e){if(this._attributes=new Map,null!=e){for(const t of e)t instanceof r.onnx.AttributeProto?this._attributes.set(t.name,[c.getValue(t),c.getType(t)]):t instanceof a.Attribute&&this._attributes.set(t.name(),[c.getValue(t),c.getType(t)]);if(this._attributes.size<e.length)throw new Error("duplicated attribute names")}}set(e,t,n){this._attributes.set(e,[n,t])}delete(e){this._attributes.delete(e)}getFloat(e,t){return this.get(e,"float",t)}getInt(e,t){return this.get(e,"int",t)}getString(e,t){return this.get(e,"string",t)}getTensor(e,t){return this.get(e,"tensor",t)}getFloats(e,t){return this.get(e,"floats",t)}getInts(e,t){return this.get(e,"ints",t)}getStrings(e,t){return this.get(e,"strings",t)}getTensors(e,t){return this.get(e,"tensors",t)}get(e,t,n){const r=this._attributes.get(e);if(void 0===r){if(void 0!==n)return n;throw new Error(`required attribute not found: ${e}`)}if(r[1]!==t)throw new Error(`type mismatch: expected ${t} but got ${r[1]}`);return r[0]}static getType(e){const t=e instanceof r.onnx.AttributeProto?e.type:e.type();switch(t){case r.onnx.AttributeProto.AttributeType.FLOAT:return"float";case r.onnx.AttributeProto.AttributeType.INT:return"int";case r.onnx.AttributeProto.AttributeType.STRING:return"string";case r.onnx.AttributeProto.AttributeType.TENSOR:return"tensor";case r.onnx.AttributeProto.AttributeType.FLOATS:return"floats";case r.onnx.AttributeProto.AttributeType.INTS:return"ints";case r.onnx.AttributeProto.AttributeType.STRINGS:return"strings";case r.onnx.AttributeProto.AttributeType.TENSORS:return"tensors";default:throw new Error(`attribute type is not supported yet: ${r.onnx.AttributeProto.AttributeType[t]}`)}}static getValue(e){const t=e instanceof r.onnx.AttributeProto?e.type:e.type();if(t===r.onnx.AttributeProto.AttributeType.GRAPH||t===r.onnx.AttributeProto.AttributeType.GRAPHS)throw new Error("graph attribute is not supported yet");const n=this.getValueNoCheck(e);if(t===r.onnx.AttributeProto.AttributeType.INT&&s.LongUtil.isLong(n))return s.LongUtil.longToNumber(n);if(t===r.onnx.AttributeProto.AttributeType.INTS){const e=n,t=new Array(e.length);for(let n=0;n<e.length;n++){const r=e[n];t[n]=s.LongUtil.longToNumber(r)}return t}if(t===r.onnx.AttributeProto.AttributeType.TENSOR)return e instanceof r.onnx.AttributeProto?i.Tensor.fromProto(n):i.Tensor.fromOrtTensor(n);if(t===r.onnx.AttributeProto.AttributeType.TENSORS){if(e instanceof r.onnx.AttributeProto)return n.map(e=>i.Tensor.fromProto(e));if(e instanceof a.Attribute)return n.map(e=>i.Tensor.fromOrtTensor(e))}if(t===r.onnx.AttributeProto.AttributeType.STRING&&e instanceof r.onnx.AttributeProto){const e=n;return(0,s.decodeUtf8String)(e)}return t===r.onnx.AttributeProto.AttributeType.STRINGS&&e instanceof r.onnx.AttributeProto?n.map(s.decodeUtf8String):n}static getValueNoCheck(e){return e instanceof r.onnx.AttributeProto?this.getValueNoCheckFromOnnxFormat(e):this.getValueNoCheckFromOrtFormat(e)}static getValueNoCheckFromOnnxFormat(e){switch(e.type){case r.onnx.AttributeProto.AttributeType.FLOAT:return e.f;case r.onnx.AttributeProto.AttributeType.INT:return e.i;case r.onnx.AttributeProto.AttributeType.STRING:return e.s;case r.onnx.AttributeProto.AttributeType.TENSOR:return e.t;case r.onnx.AttributeProto.AttributeType.GRAPH:return e.g;case r.onnx.AttributeProto.AttributeType.FLOATS:return e.floats;case r.onnx.AttributeProto.AttributeType.INTS:return e.ints;case r.onnx.AttributeProto.AttributeType.STRINGS:return e.strings;case r.onnx.AttributeProto.AttributeType.TENSORS:return e.tensors;case r.onnx.AttributeProto.AttributeType.GRAPHS:return e.graphs;default:throw new Error(`unsupported attribute type: ${r.onnx.AttributeProto.AttributeType[e.type]}`)}}static getValueNoCheckFromOrtFormat(e){switch(e.type()){case a.AttributeType.FLOAT:return e.f();case a.AttributeType.INT:return e.i();case a.AttributeType.STRING:return e.s();case a.AttributeType.TENSOR:return e.t();case a.AttributeType.GRAPH:return e.g();case a.AttributeType.FLOATS:return e.floatsArray();case a.AttributeType.INTS:{const t=[];for(let n=0;n<e.intsLength();n++)t.push(e.ints(n));return t}case a.AttributeType.STRINGS:{const t=[];for(let n=0;n<e.stringsLength();n++)t.push(e.strings(n));return t}case a.AttributeType.TENSORS:{const t=[];for(let n=0;n<e.tensorsLength();n++)t.push(e.tensors(n));return t}default:throw new Error(`unsupported attribute type: ${a.AttributeType[e.type()]}`)}}}t.Attribute=c},7091:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.resolveBackend=t.backend=void 0;const r=n(5038),o=new Map;async function i(e){const n=t.backend;if(void 0!==n[e]&&function(e){const t=e;return"initialize"in t&&"function"==typeof t.initialize&&"createSessionHandler"in t&&"function"==typeof t.createSessionHandler&&"dispose"in t&&"function"==typeof t.dispose}(n[e])){const t=n[e];let r=t.initialize();if("object"==typeof r&&"then"in r&&(r=await r),r)return o.set(e,t),t}}t.backend={webgl:new r.WebGLBackend},t.resolveBackend=async function e(t){if(!t)return e(["webgl"]);{const e="string"==typeof t?[t]:t;for(const t of e){const e=o.get(t);if(e)return e;const n=await i(t);if(n)return n}}throw new Error("no available backend to use")}},5038:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WebGLBackend=void 0;const r=n(1670),o=n(6231),i=n(6416),s=n(7305);t.WebGLBackend=class{get contextId(){return r.env.webgl.contextId}set contextId(e){r.env.webgl.contextId=e}get matmulMaxBatchSize(){return r.env.webgl.matmulMaxBatchSize}set matmulMaxBatchSize(e){r.env.webgl.matmulMaxBatchSize=e}get textureCacheMode(){return r.env.webgl.textureCacheMode}set textureCacheMode(e){r.env.webgl.textureCacheMode=e}get pack(){return r.env.webgl.pack}set pack(e){r.env.webgl.pack=e}get async(){return r.env.webgl.async}set async(e){r.env.webgl.async=e}initialize(){try{return this.glContext=(0,s.createWebGLContext)(this.contextId),"number"!=typeof this.matmulMaxBatchSize&&(this.matmulMaxBatchSize=16),"string"!=typeof this.textureCacheMode&&(this.textureCacheMode="full"),"boolean"!=typeof this.pack&&(this.pack=!1),"boolean"!=typeof this.async&&(this.async=!1),o.Logger.setWithEnv(r.env),o.Logger.verbose("WebGLBackend",`Created WebGLContext: ${typeof this.glContext} with matmulMaxBatchSize: ${this.matmulMaxBatchSize}; textureCacheMode: ${this.textureCacheMode}; pack: ${this.pack}; async: ${this.async}.`),!0}catch(e){return o.Logger.warning("WebGLBackend",`Unable to initialize WebGLBackend. ${e}`),!1}}createSessionHandler(e){return new i.WebGLSessionHandler(this,e)}dispose(){this.glContext.dispose()}}},5107:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CoordsGlslLib=void 0;const r=n(2517),o=n(8520),i=n(5060),s=n(7859),a=n(9390);class c extends o.GlslLib{constructor(e){super(e)}getFunctions(){return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},this.offsetToCoords()),this.coordsToOffset()),this.toVec()),this.valueFrom()),this.getCommonUtilFuncs()),this.getInputsSamplingSnippets()),this.getOutputSamplingSnippet())}getCustomTypes(){return{}}offsetToCoords(){return{offsetToCoords:new o.GlslLibRoutine("\n      vec2 offsetToCoords(int offset, int width, int height) {\n        int t = offset / width;\n        int s = offset - t*width;\n        vec2 coords = (vec2(s,t) + vec2(0.5,0.5)) / vec2(width, height);\n        return coords;\n      }\n      ")}}coordsToOffset(){return{coordsToOffset:new o.GlslLibRoutine("\n      int coordsToOffset(vec2 coords, int width, int height) {\n        float s = coords.s * float(width);\n        float t = coords.t * float(height);\n        int offset = int(t) * width + int(s);\n        return offset;\n      }\n      ")}}getOutputSamplingSnippet(){const e=this.context.outputTextureLayout;return e.isPacked?this.getPackedOutputSamplingSnippet(e):this.getUnpackedOutputSamplingSnippet(e)}getPackedOutputSamplingSnippet(e){const t=e.unpackedShape,n=[e.width,e.height],r={},s="getOutputCoords";switch(t.length){case 0:r[s]=this.getOutputScalarCoords();break;case 1:r[s]=this.getOutputPacked1DCoords(t,n);break;case 2:r[s]=this.getOutputPacked2DCoords(t,n);break;case 3:r[s]=this.getOutputPacked3DCoords(t,n);break;default:r[s]=this.getOutputPackedNDCoords(t,n)}const a=`\n      void setOutput(vec4 val) {\n        ${(0,i.getGlsl)(this.context.glContext.version).output} = val;\n      }\n    `;return r.floatTextureSetRGBA=new o.GlslLibRoutine(a),r}getUnpackedOutputSamplingSnippet(e){const t=e.unpackedShape,n=[e.width,e.height],r={},s="getOutputCoords";switch(t.length){case 0:r[s]=this.getOutputScalarCoords();break;case 1:r[s]=this.getOutputUnpacked1DCoords(t,n);break;case 2:r[s]=this.getOutputUnpacked2DCoords(t,n);break;case 3:r[s]=this.getOutputUnpacked3DCoords(t,n);break;case 4:r[s]=this.getOutputUnpacked4DCoords(t,n);break;case 5:r[s]=this.getOutputUnpacked5DCoords(t,n);break;case 6:r[s]=this.getOutputUnpacked6DCoords(t,n);break;default:throw new Error(`Unsupported output dimensionality: ${t.length}`)}const a=`\n        void setOutput(float val) {\n          ${(0,i.getGlsl)(this.context.glContext.version).output} = vec4(val, 0, 0, 0);\n        }\n    `;return r.floatTextureSetR=new o.GlslLibRoutine(a),r}getOutputScalarCoords(){return new o.GlslLibRoutine("\n      int getOutputCoords() {\n        return 0;\n      }\n    ")}getOutputPacked1DCoords(e,t){const n=t;let r="";return 1===n[0]?(r=`\n          int getOutputCoords() {\n            return 2 * int(TexCoords.y * ${n[1]}.0);\n          }\n        `,new o.GlslLibRoutine(r)):1===n[1]?(r=`\n          int getOutputCoords() {\n            return 2 * int(TexCoords.x * ${n[0]}.0);\n          }\n        `,new o.GlslLibRoutine(r)):(r=`\n        int getOutputCoords() {\n          ivec2 resTexRC = ivec2(TexCoords.xy *\n                                 vec2(${n[0]}, ${n[1]}));\n          return 2 * (resTexRC.y * ${n[0]} + resTexRC.x);\n        }\n      `,new o.GlslLibRoutine(r))}getOutputPacked2DCoords(e,t){let n="";if(r.ArrayUtil.arraysEqual(e,t))return n=`\n        ivec2 getOutputCoords() {\n          return 2 * ivec2(TexCoords.xy * vec2(${t[0]}, ${t[1]}));\n        }\n      `,new o.GlslLibRoutine(n);const i=t,s=Math.ceil(e[1]/2);return n=`\n        ivec2 getOutputCoords() {\n          ivec2 resTexRC = ivec2(TexCoords.xy *\n                                vec2(${i[0]}, ${i[1]}));\n\n          int index = resTexRC.y * ${i[0]} + resTexRC.x;\n\n          // reverse r and c order for packed texture\n          int r = imod(index, ${s}) * 2;\n          int c = 2 * (index / ${s});\n\n          return ivec2(r, c);\n        }\n      `,new o.GlslLibRoutine(n)}getOutputPacked3DCoords(e,t){const n=[t[0],t[1]],r=Math.ceil(e[2]/2),i=r*Math.ceil(e[1]/2),s=`\n        ivec3 getOutputCoords() {\n          ivec2 resTexRC = ivec2(TexCoords.xy *\n                                vec2(${n[0]}, ${n[1]}));\n          int index = resTexRC.y * ${n[0]} + resTexRC.x;\n\n          int b = index / ${i};\n          index -= b * ${i};\n\n          // reverse r and c order for packed texture\n          int r = imod(index, ${r}) * 2;\n          int c = 2 * (index / ${r});\n\n          return ivec3(b, r, c);\n        }\n      `;return new o.GlslLibRoutine(s)}getOutputPackedNDCoords(e,t){const n=[t[0],t[1]],r=Math.ceil(e[e.length-1]/2),i=r*Math.ceil(e[e.length-2]/2);let s=i,a="",c="b, r, c";for(let t=2;t<e.length-1;t++)s*=e[e.length-t-1],a=`\n      int b${t} = index / ${s};\n      index -= b${t} * ${s};\n    `+a,c=`b${t}, `+c;const l=`\n      ivec${e.length} getOutputCoords() {\n        ivec2 resTexRC = ivec2(TexCoords.xy *\n                              vec2(${n[0]}, ${n[1]}));\n        int index = resTexRC.y * ${n[0]} + resTexRC.x;\n\n        ${a}\n\n        int b = index / ${i};\n        index -= b * ${i};\n\n        // reverse r and c order for packed texture\n        int r = imod(index, ${r}) * 2;\n        int c = 2 * (index / ${r});\n\n        return ivec${e.length}(${c});\n      }\n    `;return new o.GlslLibRoutine(l)}getOutputUnpacked1DCoords(e,t){const n=`\n        int getOutputCoords() {\n          ivec2 resTexRC = ivec2(TexCoords.xy *\n                                vec2(${t[0]}, ${t[1]}));\n          return resTexRC.y * ${t[0]} + resTexRC.x;\n        }\n      `;return new o.GlslLibRoutine(n)}getOutputUnpacked2DCoords(e,t){const n=`\n        ivec2 getOutputCoords() {\n          ivec2 resTexRC = ivec2(TexCoords.xy *\n                                vec2(${t[0]}, ${t[1]}));\n          int index = resTexRC.y * ${t[0]} + resTexRC.x;\n          int r = index / ${e[1]};\n          int c = index - r * ${e[1]};\n          return ivec2(r, c);\n        }\n      `;return new o.GlslLibRoutine(n)}getOutputUnpacked3DCoords(e,t){let n="";const r=e.length;let i=null;r<2&&(i=[]),i=new Array(r-1),i[r-2]=e[r-1];for(let t=r-3;t>=0;--t)i[t]=i[t+1]*e[t+1];const s=["r","c","d"],a=i.map((e,t)=>`int ${s[t]} = index / ${e}; ${t===i.length-1?`int ${s[t+1]} = index - ${s[t]} * ${e}`:`index -= ${s[t]} * ${e}`};`).join("");return n=`\n        ivec3 getOutputCoords() {\n          ivec2 resTexRC = ivec2(TexCoords.xy *\n                                vec2(${t[0]}, ${t[1]}));\n          int index = resTexRC.y * ${t[0]} + resTexRC.x;\n          ${a}\n          return ivec3(r, c, d);\n        }\n      `,new o.GlslLibRoutine(n)}getOutputUnpacked4DCoords(e,t){let n="";const r=e.length;let i=null;r<2&&(i=[]),i=new Array(r-1),i[r-2]=e[r-1];for(let t=r-3;t>=0;--t)i[t]=i[t+1]*e[t+1];const s=["r","c","d","d2"],a=i.map((e,t)=>`int ${s[t]} = index / ${e}; ${t===i.length-1?`int ${s[t+1]} = index - ${s[t]} * ${e}`:`index -= ${s[t]} * ${e}`};`).join("");return n=`\n      ivec4 getOutputCoords() {\n          ivec2 resTexRC = ivec2(TexCoords.xy *\n                                vec2(${t[0]}, ${t[1]}));\n          int index = resTexRC.y * ${t[0]} + resTexRC.x;\n          ${a}\n          return ivec4(r, c, d, d2);\n        }\n      `,new o.GlslLibRoutine(n)}getOutputUnpacked5DCoords(e,t){let n="";const r=e.length;let i=null;r<2&&(i=[]),i=new Array(r-1),i[r-2]=e[r-1];for(let t=r-3;t>=0;--t)i[t]=i[t+1]*e[t+1];const s=["r","c","d","d2","d3"],a=i.map((e,t)=>`int ${s[t]} = index / ${e}; ${t===i.length-1?`int ${s[t+1]} = index - ${s[t]} * ${e}`:`index -= ${s[t]} * ${e}`};`).join("");return n=`\n      ivec5 getOutputCoords() {\n          ivec2 resTexRC = ivec2(TexCoords.xy *\n                                vec2(${t[0]}, ${t[1]}));\n          int index = resTexRC.y * ${t[0]} + resTexRC.x;\n          ${a}\n          return ivec5(r, c, d, d2, d3);\n        }\n      `,new o.GlslLibRoutine(n)}getOutputUnpacked6DCoords(e,t){let n="";const r=e.length;let i=null;r<2&&(i=[]),i=new Array(r-1),i[r-2]=e[r-1];for(let t=r-3;t>=0;--t)i[t]=i[t+1]*e[t+1];const s=["r","c","d","d2","d3","d4"],a=i.map((e,t)=>`int ${s[t]} = index / ${e}; ${t===i.length-1?`int ${s[t+1]} = index - ${s[t]} * ${e}`:`index -= ${s[t]} * ${e}`};`).join("");return n=`\n     ivec6 getOutputCoords() {\n         ivec2 resTexRC = ivec2(TexCoords.xy *\n                               vec2(${t[0]}, ${t[1]}));\n         int index = resTexRC.y * ${t[0]} + resTexRC.x;\n         ${a}\n         return ivec6(r, c, d, d2, d3, d4);\n       }\n     `,new o.GlslLibRoutine(n)}getCommonUtilFuncs(){const e={};let t="uvFromFlat";e[t]=new o.GlslLibRoutine("\n    vec2 uvFromFlat(int texNumR, int texNumC, int index) {\n      int texC = index / texNumR;\n      int texR = index - texC * texNumR;\n      // TODO: swap texR, texC order in following function so row is corresponding to u and column is corresponding to\n      //       v.\n      return (vec2(texR, texC) + halfCR) / vec2(texNumR, texNumC);\n    }\n    "),t="packedUVfrom1D",e[t]=new o.GlslLibRoutine("\n      vec2 packedUVfrom1D(int texNumR, int texNumC, int index) {\n        int texelIndex = index / 2;\n        int texR = texelIndex / texNumC;\n        int texC = texelIndex - texR * texNumC;\n        return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n      }\n      "),t="packedUVfrom2D",e[t]=new o.GlslLibRoutine("\n      vec2 packedUVfrom2D(int texNumR, int texNumC, int texelsInLogicalRow, int row, int col) {\n        int texelIndex = (row / 2) * texelsInLogicalRow + (col / 2);\n        int texR = texelIndex / texNumC;\n        int texC = texelIndex - texR * texNumC;\n        return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n      }\n      "),t="packedUVfrom3D",e[t]=new o.GlslLibRoutine("\n      vec2 packedUVfrom3D(int texNumR, int texNumC,\n          int texelsInBatch, int texelsInLogicalRow, int b,\n          int row, int col) {\n        int index = b * texelsInBatch + (row / 2) * texelsInLogicalRow + (col / 2);\n        int texR = index / texNumC;\n        int texC = index - texR * texNumC;\n        return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n      }\n      "),t="sampleTexture";const n=(0,i.getGlsl)(this.context.glContext.version);return e[t]=new o.GlslLibRoutine(`\n        float sampleTexture(sampler2D textureSampler, vec2 uv) {\n            return ${n.texture2D}(textureSampler, uv).r;\n        }`),e}getInputsSamplingSnippets(){const e={},t=this.context.outputTextureLayout;return this.context.programInfo.inputNames.forEach((n,r)=>{const o=this.context.inputTextureLayouts[r],i=(0,a.generateShaderFuncNameFromInputSamplerName)(n);o.isPacked?e[i]=this.getPackedSamplerFromInput(i,n,o):e[i]=this.getUnpackedSamplerFromInput(i,n,o);const s=(0,a.generateShaderFuncNameFromInputSamplerNameAtOutCoords)(n);o.unpackedShape.length<=t.unpackedShape.length&&(o.isPacked?e[s]=this.getPackedSamplerAtOutputCoords(s,o,t,n):e[s]=this.getUnpackedSamplerAtOutputCoords(s,o,t,n))}),e}getPackedSamplerAtOutputCoords(e,t,n,i){const s=t.unpackedShape,c=n.unpackedShape,l=i,u=(0,a.generateShaderFuncNameFromInputSamplerName)(l),d=s.length,f=c.length,h=r.BroadcastUtil.getBroadcastDims(s,c),p=(0,a.getCoordsDataType)(f),g=f-d;let m;const y=(0,a.getGlChannels)();m=0===d?"":f<2&&h.length>=1?"coords = 0;":h.map(e=>`coords.${y[e+g]} = 0;`).join("\n");let b="";b=f<2&&d>0?"coords":s.map((e,t)=>`coords.${y[t+g]}`).join(", ");let v="return outputValue;";const _=1===r.ShapeUtil.size(s),w=1===r.ShapeUtil.size(c);if(1!==d||_||w){if(_&&!w)v=1===f?"\n          return vec4(outputValue.x, outputValue.x, 0., 0.);\n        ":"\n          return vec4(outputValue.x);\n        ";else if(h.length){const e=d-2,t=d-1;h.indexOf(e)>-1&&h.indexOf(t)>-1?v="return vec4(outputValue.x);":h.indexOf(e)>-1?v="return vec4(outputValue.x, outputValue.y, outputValue.x, outputValue.y);":h.indexOf(t)>-1&&(v="return vec4(outputValue.xx, outputValue.zz);")}}else v="\n        return vec4(outputValue.xy, outputValue.xy);\n      ";const S=`\n      vec4 ${e}() {\n        ${p} coords = getOutputCoords();\n        \n        int lastDim = coords.${y[f-1]};\n        coords.${y[f-1]} = coords.${y[f-2]};\n        coords.${y[f-2]} = lastDim;\n      \n        ${m}\n        vec4 outputValue = ${u}(${b});\n        ${v}\n      }\n    `;return new o.GlslLibRoutine(S,["coordinates.getOutputCoords"])}getUnpackedSamplerAtOutputCoords(e,t,n,i){const s=[n.width,n.height],c=[t.width,t.height],l=t.unpackedShape.length,u=n.unpackedShape.length,d=t.unpackedShape,f=n.unpackedShape,h=(0,a.generateShaderFuncNameFromInputSamplerName)(i);if(l===u&&r.ArrayUtil.arraysEqual(c,s)){const t=`\n          float ${e}() {\n            return sampleTexture(${i}, TexCoords);\n          }\n        `;return new o.GlslLibRoutine(t,["coordinates.sampleTexture"])}const p=(0,a.getCoordsDataType)(u),g=r.BroadcastUtil.getBroadcastDims(d,f),m=u-l;let y;const b=(0,a.getGlChannels)();y=0===l?"":u<2&&g.length>=1?"coords = 0;":g.map(e=>`coords.${b[e+m]} = 0;`).join("\n");let v="";v=u<2&&l>0?"coords":t.unpackedShape.map((e,t)=>`coords.${b[t+m]}`).join(", ");const _=`\n        float ${e}() {\n          ${p} coords = getOutputCoords();\n          ${y}\n          return ${h}(${v});\n        }\n      `;return new o.GlslLibRoutine(_,["coordinates.getOutputCoords"])}getPackedSamplerFromInput(e,t,n){switch(n.unpackedShape.length){case 0:return this.getPackedSamplerScalar(e,t);case 1:return this.getPackedSampler1D(e,t,n);case 2:return this.getPackedSampler2D(e,t,n);case 3:return this.getPackedSampler3D(e,t,n);default:return this.getPackedSamplerND(e,t,n)}}getUnpackedSamplerFromInput(e,t,n){const r=n.unpackedShape;switch(r.length){case 0:return this.getUnpackedSamplerScalar(e,t,n);case 1:return this.getUnpackedSampler1D(e,t,n);case 2:return this.getUnpackedSampler2D(e,t,n);case 3:return this.getUnpackedSampler3D(e,t,n);case 4:return this.getUnpackedSampler4D(e,t,n);case 5:return this.getUnpackedSampler5D(e,t,n);case 6:return this.getUnpackedSampler6D(e,t,n);default:throw new Error(`Unsupported dimension ${r.length}-D`)}}getPackedSamplerScalar(e,t){const n=`\n          vec4 ${e}() {\n            return ${(0,i.getGlsl)(this.context.glContext.version).texture2D}(${t}, halfCR);\n          }\n        `;return new o.GlslLibRoutine(n)}getPackedSampler1D(e,t,n){const r=[n.width,n.height],s=[r[1],r[0]],a=(0,i.getGlsl)(this.context.glContext.version),c=`vec4 ${e}(int index) {\n      vec2 uv = packedUVfrom1D(\n      ${s[0]}, ${s[1]}, index);\n      return ${a.texture2D}(${t}, uv);\n    }`;return new o.GlslLibRoutine(c,["coordinates.packedUVfrom1D"])}getPackedSampler2D(e,t,n){const s=n.unpackedShape,a=[n.width,n.height],c=(0,i.getGlsl)(this.context.glContext.version),l=a[0],u=a[1];if(null!=a&&r.ArrayUtil.arraysEqual(s,a)){const n=`vec4 ${e}(int row, int col) {\n        vec2 uv = (vec2(col, row) + halfCR) / vec2(${u}.0, ${l}.0);\n        return ${c.texture2D}(${t}, uv);\n      }`;return new o.GlslLibRoutine(n)}const d=a,f=Math.ceil(s[1]/2),h=`vec4 ${e}(int row, int col) {\n      vec2 uv = packedUVfrom2D(${d[1]}, ${d[0]}, ${f}, row, col);\n      return ${c.texture2D}(${t}, uv);\n    }`;return new o.GlslLibRoutine(h,["coordinates.packedUVfrom2D"])}getPackedSampler3D(e,t,n){const r=n.unpackedShape,s=[n.width,n.height],c=[s[0],s[1]],l=(0,i.getGlsl)(this.context.glContext.version);if(1===r[0]){const i=r.slice(1),s=[1,2],c=(0,a.squeezeInputShape)(r,i),l=["b","row","col"],u=JSON.parse(JSON.stringify(n));u.unpackedShape=c;const d=this.getPackedSamplerFromInput(e,t,u),f=`${d.routineBody}\n      vec4 ${e}(int b, int row, int col) {\n        return ${e}(${(0,a.getSqueezedParams)(l,s)});\n      } `;return new o.GlslLibRoutine(f,d.dependencies)}const u=c[0],d=c[1],f=Math.ceil(r[2]/2),h=`vec4 ${e}(int b, int row, int col) {\n      vec2 uv = packedUVfrom3D(\n        ${d}, ${u}, ${f*Math.ceil(r[1]/2)}, ${f}, b, row, col);\n      return ${l.texture2D}(${t}, uv);}`;return new o.GlslLibRoutine(h,["coordinates.packedUVfrom3D"])}getPackedSamplerND(e,t,n){const r=n.unpackedShape,s=r.length,a=[n.width,n.height],c=(0,i.getGlsl)(this.context.glContext.version),l=[a[0],a[1]],u=l[1],d=l[0],f=Math.ceil(r[s-1]/2);let h=f*Math.ceil(r[s-2]/2),p="int b, int row, int col",g=`b * ${h} + (row / 2) * ${f} + (col / 2)`;for(let e=2;e<s-1;e++)p=`int b${e}, `+p,h*=r[s-e-1],g=`b${e} * ${h} + `+g;const m=`vec4 ${e}(${p}) {\n      int index = ${g};\n      int texR = index / ${d};\n      int texC = index - texR * ${d};\n      vec2 uv = (vec2(texC, texR) + halfCR) / vec2(${d}, ${u});\n      return ${c.texture2D}(${t}, uv);\n    }`;return new o.GlslLibRoutine(m)}getUnpackedSamplerScalar(e,t,n){const[r,i]=[n.width,n.height];if(1===r&&1===i){const n=`\n          float ${e}() {\n            return sampleTexture(${t}, halfCR);\n          }\n        `;return new o.GlslLibRoutine(n,["coordinates.sampleTexture"])}const s=`\n        float ${e}() {\n          int offset_${t} = coordsToOffset(TexCoords, ${r}, ${i});\n          vec2 uv = uvFromFlat(${r}, ${i}, offset_${t});\n          return sampleTexture(${t}, uv);\n        }\n      `;return new o.GlslLibRoutine(s,["coordinates.uvFromFlat","coordinates.sampleTexture","coordinates.coordsToOffset"])}getUnpackedSampler1D(e,t,n){const r=n.width,i=n.height;if(1===i&&1===r){const n=`\n        float ${e}(int index) {\n          return sampleTexture(${t}, halfCR);\n        }\n      `;return new o.GlslLibRoutine(n,["coordinates.sampleTexture"])}if(1===i){const n=`\n          float ${e}(int index) {\n            vec2 uv = vec2((float(index) + 0.5) / ${r}.0, 0.5);\n            return sampleTexture(${t}, uv);\n          }\n        `;return new o.GlslLibRoutine(n,["coordinates.sampleTexture"])}if(1===r){const n=`\n          float ${e}(int index) {\n            vec2 uv = vec2(0.5, (float(index) + 0.5) / ${i}.0);\n            return sampleTexture(${t}, uv);\n          }\n        `;return new o.GlslLibRoutine(n,["coordinates.sampleTexture"])}const s=`\n        float ${e}(int index) {\n          vec2 uv = uvFromFlat(${r}, ${i}, index);\n          return sampleTexture(${t}, uv);\n        }\n      `;return new o.GlslLibRoutine(s,["coordinates.uvFromFlat","coordinates.sampleTexture"])}getUnpackedSampler2D(e,t,n){const i=n.unpackedShape,c=[n.height,n.width];if(null!=c&&r.ArrayUtil.arraysEqual(i,c)){const n=`\n          float ${e}(int row, int col) {\n            vec2 uv = (vec2(row, col) + halfCR) / vec2(${c[1]}.0, ${c[0]}.0);\n            return sampleTexture(${t}, uv);\n          }\n        `;return new o.GlslLibRoutine(n,["coordinates.sampleTexture"])}const{newShape:l,keptDims:u}=(0,s.squeezeShape)(i),d=l;if(d.length<i.length){const r=(0,a.squeezeInputShape)(i,d),s=JSON.parse(JSON.stringify(n));s.unpackedShape=r;const c=["col","row"],l=`\n          ${this.getUnpackedSamplerFromInput(e,t,s).routineBody}\n          float ${e}(int row, int col) {\n            return ${e}(${(0,a.getSqueezedParams)(c,u)});\n          }\n        `;return new o.GlslLibRoutine(l,["coordinates.sampleTexture"])}const f=c[1],h=c[0];if(1===h){const n=`\n          float ${e}(int row, int col) {\n            int offset_${t} = coordsToOffset(TexCoords, ${f}, ${h});\n            float index = dot(vec3(row, col, offset_${t}), vec3(${i[1]}, 1, 1));\n            vec2 uv = vec2(0.5, (index + 0.5) / ${f}.0);\n            return sampleTexture(${t}, uv);\n          }\n        `;return new o.GlslLibRoutine(n,["coordinates.sampleTexture","coordinates.coordsToOffset"])}if(1===f){const n=`\n          float ${e}(int row, int col) {\n            int offset_${t} = coordsToOffset(TexCoords, ${f}, ${h});\n            float index = dot(vec3(row, col, offset_${t}), vec3(${i[1]}, 1, 1));\n            vec2 uv = vec2((index + 0.5) / ${h}.0, 0.5);\n            return sampleTexture(${t}, uv);\n          }\n        `;return new o.GlslLibRoutine(n,["coordinates.sampleTexture","coordinates.coordsToOffset"])}const p=`\n        float ${e}(int row, int col) {\n          int index = col * ${i[1]} + row;\n          vec2 uv = uvFromFlat(${f}, ${h}, index);\n          return sampleTexture(${t}, uv);\n        }\n      `;return new o.GlslLibRoutine(p,["coordinates.uvFromFlat","coordinates.sampleTexture","coordinates.coordsToOffset"])}getUnpackedSampler3D(e,t,n){const r=n.unpackedShape,i=r[1]*r[2],c=r[2],{newShape:l,keptDims:u}=(0,s.squeezeShape)(r),d=l;if(d.length<r.length){const i=(0,a.squeezeInputShape)(r,d),s=["batch","col","row"],c=JSON.parse(JSON.stringify(n));c.unpackedShape=i;const l=this.getUnpackedSamplerFromInput(e,t,c),f=u.reverse(),h=`\n          ${l.routineBody}\n          float ${e}(int batch, int row, int col) {\n            return ${e}(${(0,a.getSqueezedParams)(s,f)});\n          }\n        `;return new o.GlslLibRoutine(h,l.dependencies)}const f=`\n          float ${e}(int depth, int row, int col) {\n            // Explicitly use integer operations as dot() only works on floats.\n            int index = depth * ${i} + col * ${c} + row;\n            vec2 uv = uvFromFlat(${n.width}, ${n.height}, index);\n            return sampleTexture(${t}, uv);\n          }\n      `;return new o.GlslLibRoutine(f,["coordinates.uvFromFlat","coordinates.sampleTexture","coordinates.coordsToOffset"])}getUnpackedSampler4D(e,t,n){const r=n.unpackedShape,i=r[3],s=r[2]*i,a=`\n        float ${e}(int row, int col, int depth, int depth2) {\n          int index = row * ${r[1]*s} + col * ${s} +\n              depth2 * ${i} + depth;\n          vec2 uv = uvFromFlat(${n.width}, ${n.height}, index);\n          return sampleTexture(${t}, uv);\n        }\n      `;return new o.GlslLibRoutine(a,["coordinates.uvFromFlat","coordinates.sampleTexture"])}getUnpackedSampler5D(e,t,n){const r=n.unpackedShape,i=r[4],c=r[3]*i,l=r[2]*c,u=r[1]*l,{newShape:d,keptDims:f}=(0,s.squeezeShape)(r);if(d.length<r.length){const i=(0,a.squeezeInputShape)(r,d),s=["row","col","depth","depth2","depth3"],c=JSON.parse(JSON.stringify(n));c.unpackedShape=i;const l=`\n          ${this.getUnpackedSamplerFromInput(e,t,c).routineBody}\n          float ${e}(int row, int col, int depth, int depth2, int depth3) {\n            return ${e}(${(0,a.getSqueezedParams)(s,f)});\n          }\n        `;return new o.GlslLibRoutine(l,["coordinates.sampleTexture","coordinates.uvFromFlat"])}const h=`\n        float ${e}(int row, int col, int depth, int depth2, int depth3) {\n          int index = row * ${u} + col * ${l} + depth * ${c} +\n          depth3 * ${i} + depth2;\n          vec2 uv = uvFromFlat(${n.width}, ${n.height}, index);\n          return sampleTexture(${t}, uv);\n        }\n      `;return new o.GlslLibRoutine(h,["coordinates.sampleTexture","coordinates.uvFromFlat"])}getUnpackedSampler6D(e,t,n){const r=n.unpackedShape,i=r[5],c=r[4]*i,l=r[3]*c,u=r[2]*l,d=r[1]*u,{newShape:f,keptDims:h}=(0,s.squeezeShape)(r);if(f.length<r.length){const i=(0,a.squeezeInputShape)(r,f),s=["row","col","depth","depth2","depth3","depth4"],c=JSON.parse(JSON.stringify(n));c.unpackedShape=i;const l=`\n            ${this.getUnpackedSamplerFromInput(e,t,c).routineBody}\n            float ${e}(int row, int col, int depth,\n              int depth2, int depth3, int depth4) {\n              return ${e}(${(0,a.getSqueezedParams)(s,h)});\n            }\n          `;return new o.GlslLibRoutine(l,["coordinates.sampleTexture","coordinates.uvFromFlat"])}const p=`\n          float ${e}(int row, int col, int depth,\n            int depth2, int depth3, int depth4) {\n            int index = row * ${d} + col * ${u} + depth * ${l} +\n            depth2 * ${c} + depth3 * ${i} + depth4;\n            vec2 uv = uvFromFlat(${n.width}, ${n.height}, index);\n            return sampleTexture(${t}, uv);\n          }\n        `;return new o.GlslLibRoutine(p,["coordinates.uvFromFlat","coordinates.sampleTexture","coordinates.coordsToOffset"])}toVec(){const e=this.context.outputTextureLayout,t=e.shape.length,n=e.strides,r=e.width,i=e.height,s=[];for(let e=0;e<t-1;++e)s.push(`\n        c[${e}] = offset / ${n[e]};`),s.push(`\n        offset -= c[${e}] * ${n[e]};`);s.push(`\n        c[${t-1}] = offset;`);const a=`\n      void toVec(vec2 texCoords, out int c[${t}]) {\n        int offset = coordsToOffset(texCoords, ${r}, ${i});\n        ${s.join("")}\n      }\n      void toVec(int offset, out int c[${t}]) {\n        ${s.join("")}\n      }\n    `;return{toVec:new o.GlslLibRoutine(a,["coordinates.coordsToOffset"])}}valueFrom(){const e={};return this.context.programInfo.inputNames.forEach((t,n)=>{const r=this.context.inputTextureLayouts[n],i=(r.unpackedShape.length>0?r.unpackedShape:r.shape).length;let s=`_${t}`;e[s]=new o.GlslLibRoutine(this.getValueFromSingle(t,i,r.width,r.height,!1),[`shapeUtils.indicesToOffset${s}`,"coordinates.offsetToCoords","fragcolor.getColorAsFloat"]),s+="_T",e[s]=new o.GlslLibRoutine(this.getValueFromSingle(t,i,r.width,r.height,!0),[`shapeUtils.indicesToOffset${s}`,"coordinates.offsetToCoords","fragcolor.getColorAsFloat"])}),e}getValueFromSingle(e,t,n,r,o){let s=`_${e}`;return o&&(s+="_T"),`\n        float ${s}(int m[${t}]) {\n          int offset = indicesToOffset${s}(m);\n          vec2 coords = offsetToCoords(offset, ${n}, ${r});\n          float value = getColorAsFloat(${(0,i.getGlsl)(this.context.glContext.version).texture2D}(${e}, coords));\n          return value;\n        }\n        `}getPackedValueFrom(e,t,n,r,o){let s=`_${e}_Pack`;return o&&(s+="_T"),`\n        vec4 ${s}(int m[${t}]) {\n          int offset = indicesToOffset_${e}(m);\n          vec2 coords = offsetToCoords(offset, ${n}, ${r});\n          return ${(0,i.getGlsl)(this.context.glContext.version).texture2D}(${e}, coords);\n        }\n        `}}t.CoordsGlslLib=c},8520:(e,t)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.TopologicalSortGlslRoutines=t.GlslLibRoutineNode=t.GlslLibRoutine=t.GlslLib=t.GlslContext=t.FunctionType=void 0,(n=t.FunctionType||(t.FunctionType={}))[n.ValueBased=0]="ValueBased",n[n.Positional=1]="Positional",t.GlslContext=class{constructor(e,t,n,r){this.glContext=e,this.programInfo=t,this.inputTextureLayouts=n,this.outputTextureLayout=r}},t.GlslLib=class{constructor(e){this.context=e}},t.GlslLibRoutine=class{constructor(e,t){this.routineBody=e,this.dependencies=t}},t.GlslLibRoutineNode=class{constructor(e,t,n){this.name=e,this.dependencies=n||[],t&&(this.routineBody=t)}addDependency(e){e&&this.dependencies.push(e)}},t.TopologicalSortGlslRoutines=class{static returnOrderedNodes(e){if(!e||0===e.length)return[];if(1===e.length)return e;const t=new Set,n=new Set,r=new Array;return this.createOrderedNodes(e,t,n,r),r}static createOrderedNodes(e,t,n,r){for(let o=0;o<e.length;++o)this.dfsTraverse(e[o],t,n,r)}static dfsTraverse(e,t,n,r){if(!e||n.has(e.name))return;if(t.has(e.name))throw new Error("Cyclic dependency detected. Can't topologically sort routines needed for shader.");t.add(e.name);const o=e.dependencies;if(o&&o.length>0)for(let e=0;e<o.length;++e)this.dfsTraverse(o[e],t,n,r);r.push(e),n.add(e.name),t.delete(e.name)}}},7341:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EncodingGlslLib=void 0;const r=n(8520);class o extends r.GlslLib{constructor(e){super(e)}getFunctions(){return Object.assign(Object.assign({},this.encodeFloat32()),this.decodeFloat32())}getCustomTypes(){return{}}encodeFloat32(){return{encode:new r.GlslLibRoutine("highp vec4 encode(highp float f) {\n        return vec4(f, 0.0, 0.0, 0.0);\n      }\n        ")}}decodeFloat32(){return{decode:new r.GlslLibRoutine("highp float decode(highp vec4 rgba) {\n        return rgba.r;\n      }\n        ")}}encodeUint8(){const e=o.isLittleEndian()?"rgba.rgba=rgba.abgr;":"";return{encode:new r.GlslLibRoutine(`\n      highp vec4 encode(highp float f) {\n        highp float F = abs(f);\n        highp float Sign = step(0.0,-f);\n        highp float Exponent = floor(log2(F));\n        highp float Mantissa = (exp2(- Exponent) * F);\n        Exponent = floor(log2(F) + 127.0) + floor(log2(Mantissa));\n        highp vec4 rgba;\n        rgba[0] = 128.0 * Sign  + floor(Exponent*exp2(-1.0));\n        rgba[1] = 128.0 * mod(Exponent,2.0) + mod(floor(Mantissa*128.0),128.0);\n        rgba[2] = floor(mod(floor(Mantissa*exp2(23.0 -8.0)),exp2(8.0)));\n        rgba[3] = floor(exp2(23.0)*mod(Mantissa,exp2(-15.0)));\n        ${e}\n        rgba = rgba / 255.0; // values need to be normalized to [0,1]\n        return rgba;\n    }\n        `)}}decodeUint8(){const e=o.isLittleEndian()?"rgba.rgba=rgba.abgr;":"";return{decode:new r.GlslLibRoutine(`\n        highp float decode(highp vec4 rgba) {\n          rgba = rgba * 255.0; // values need to be de-normalized from [0,1] to [0,255]\n          ${e}\n          highp float Sign = 1.0 - step(128.0,rgba[0])*2.0;\n          highp float Exponent = 2.0 * mod(rgba[0],128.0) + step(128.0,rgba[1]) - 127.0;\n          highp float Mantissa = mod(rgba[1],128.0)*65536.0 + rgba[2]*256.0 +rgba[3] + float(0x800000);\n          highp float Result =  Sign * exp2(Exponent) * (Mantissa * exp2(-23.0 ));\n          return Result;\n      }\n        `)}}static isLittleEndian(){const e=new ArrayBuffer(4),t=new Uint32Array(e),n=new Uint8Array(e);if(t[0]=3735928559,239===n[0])return!0;if(222===n[0])return!1;throw new Error("unknown endianness")}}t.EncodingGlslLib=o},9894:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FragColorGlslLib=void 0;const r=n(8520),o=n(5060);class i extends r.GlslLib{constructor(e){super(e)}getFunctions(){return Object.assign(Object.assign({},this.setFragColor()),this.getColorAsFloat())}getCustomTypes(){return{}}setFragColor(){const e=(0,o.getGlsl)(this.context.glContext.version);return{setFragColor:new r.GlslLibRoutine(`\n        void setFragColor(float value) {\n            ${e.output} = encode(value);\n        }\n        `,["encoding.encode"])}}getColorAsFloat(){return{getColorAsFloat:new r.GlslLibRoutine("\n        float getColorAsFloat(vec4 color) {\n            return decode(color);\n        }\n        ",["encoding.decode"])}}}t.FragColorGlslLib=i},2848:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.replaceInlines=void 0;const n=/@inline[\s\n\r]+(\w+)[\s\n\r]+([0-9a-zA-Z_]+)\s*\(([^)]*)\)\s*{(([^}]|[\n\r])*)}/gm;t.replaceInlines=function(e){const t={};let r;for(;null!==(r=n.exec(e));){const e=r[3].split(",").map(e=>{const t=e.trim().split(" ");return t&&2===t.length?{type:t[0],name:t[1]}:null}).filter(e=>null!==e);t[r[2]]={params:e,body:r[4]}}for(const n in t){const o="(\\w+)?\\s+([_0-9a-zA-Z]+)\\s+=\\s+__FUNC__\\((.*)\\)\\s*;".replace("__FUNC__",n),i=new RegExp(o,"gm");for(;null!==(r=i.exec(e));){const o=r[1],i=r[2],s=r[3].split(","),a=o?`${o} ${i};`:"";let c=t[n].body,l="";t[n].params.forEach((e,t)=>{e&&(l+=`${e.type} ${e.name} = ${s[t]};\n`)}),c=`${l}\n ${c}`,c=c.replace("return",`${i} = `);const u=`\n      ${a}\n      {\n        ${c}\n      }\n      `;e=e.replace(r[0],u)}}return e.replace(n,"")}},8879:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GlslPreprocessor=void 0;const r=n(8520),o=n(2848),i=n(5483),s=n(5060);t.GlslPreprocessor=class{constructor(e,t,n,o){this.libs={},this.glslLibRoutineDependencyGraph={},this.context=new r.GlslContext(e,t,n,o),Object.keys(i.glslRegistry).forEach(e=>{const t=new i.glslRegistry[e](this.context);this.libs[e]=t});const s=this.glslLibRoutineDependencyGraph;for(const e in this.libs){const t=this.libs[e].getFunctions();for(const n in t){const o=e+"."+n;let i;s[o]?(i=s[o],i.routineBody=t[n].routineBody):(i=new r.GlslLibRoutineNode(o,t[n].routineBody),s[o]=i);const a=t[n].dependencies;if(a)for(let e=0;e<a.length;++e)if(s[a[e]])i.addDependency(s[a[e]]);else{const t=new r.GlslLibRoutineNode(a[e]);s[a[e]]=t,i.addDependency(t)}}}}preprocess(){const e=this.context.programInfo;let t=e.shaderSource;return this.context.programInfo.hasMain||(t=`${t}\n      ${(0,s.getDefaultFragShaderMain)(this.context.glContext.version,this.context.outputTextureLayout.shape.length)}`),t=(0,o.replaceInlines)(t),`${(0,s.getFragShaderPreamble)(this.context.glContext.version)}\n    ${this.getUniforms(e.inputNames,e.variables)}\n    ${this.getImports(t)}\n    ${t}`}getImports(e){const t=this.selectGlslLibRoutinesToBeIncluded(e);if(0===t.length)return"";let n="";for(let e=0;e<t.length;++e){if(!t[e].routineBody)throw new Error(`Missing body for the Glsl Library routine: ${t[e].name}`);n+=t[e].routineBody+"\n"}return n}selectGlslLibRoutinesToBeIncluded(e){const t=[];return Object.keys(this.glslLibRoutineDependencyGraph).forEach(n=>{const r=n.split(".")[1];-1!==e.indexOf(r)&&t.push(this.glslLibRoutineDependencyGraph[n])}),r.TopologicalSortGlslRoutines.returnOrderedNodes(t)}getUniforms(e,t){const n=[];if(e)for(const t of e)n.push(`uniform sampler2D ${t};`);if(t)for(const e of t)n.push(`uniform ${e.type} ${e.name}${e.arrayLength?`[${e.arrayLength}]`:""};`);return n.join("\n")}}},5483:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.glslRegistry=void 0;const r=n(5107),o=n(7341),i=n(9894),s=n(2655),a=n(3891);t.glslRegistry={encoding:o.EncodingGlslLib,fragcolor:i.FragColorGlslLib,vec:a.VecGlslLib,shapeUtils:s.ShapeUtilsGlslLib,coordinates:r.CoordsGlslLib}},2655:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ShapeUtilsGlslLib=void 0;const r=n(8520);class o extends r.GlslLib{constructor(e){super(e)}getFunctions(){return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},this.bcastIndex()),this.bcastMatmulIndex()),this.offsetToIndices()),this.indicesToOffset()),this.incrementIndices())}getCustomTypes(){return{}}bcastIndex(){const e=this.context.outputTextureLayout.shape.length,t={};return this.context.programInfo.inputNames.forEach((n,o)=>{const i=this.context.inputTextureLayouts[o].unpackedShape;if(i.length<=e){const o=i.length,s=e-o,a=`bcastIndices_${n}`;let c="";for(let e=0;e<o;++e)c+=`\n          realIndices[${e}] = int( mod(float(bcastedIndices[${s+e}]), ${i[e]}.0) );\n          `;const l=`\n        void ${a} (int bcastedIndices[${e}], out int realIndices[${o}]) {\n          ${c}\n        }\n        `;t[a]=new r.GlslLibRoutine(l)}}),t}bcastMatmulIndex(){const e=this.context.outputTextureLayout.shape.length,t={};return this.context.programInfo.inputNames.forEach((n,o)=>{const i=this.context.inputTextureLayouts[o].shape;if(!(i.length<2||i.length>e)){const o=i.length,s=e-o,a=`bcastMatmulIndices_${n}`;let c="";for(let e=0;e<o-2;++e)c+=`\n          realIndices[${e}] = int( mod(float(bcastedIndices[${s+e}]), ${i[e]}.0) );\n          `;const l=`\n        void ${a}(int bcastedIndices[${e}], out int realIndices[${o}]) {\n          ${c}\n          realIndices[${o-1}] = bcastedIndices[${e-1}];\n          realIndices[${o-2}] = bcastedIndices[${e-2}];\n        }\n        `;t[a]=new r.GlslLibRoutine(l)}}),t}indicesToOffset(){const e={};return this.context.programInfo.inputNames.forEach((t,n)=>{const i=this.context.inputTextureLayouts[n].shape,s=this.context.inputTextureLayouts[n].strides,a=i.length;let c=`indicesToOffset_${t}`;e[c]=new r.GlslLibRoutine(o.indexToOffsetSingle(c,a,s)),c=`indicesToOffset_${t}_T`,e[c]=new r.GlslLibRoutine(o.indexToOffsetSingle(c,a,s.slice().reverse()))}),e}static indexToOffsetSingle(e,t,n){let r="";for(let e=t-1;e>=0;--e)r+=`\n        offset += indices[${e}] * ${n[e]};\n        `;return`\n      int ${e}(int indices[${t}]) {\n        int offset = 0;\n        ${r}\n        return offset;\n      }\n      `}offsetToIndices(){const e={};return this.context.programInfo.inputNames.forEach((t,n)=>{const i=this.context.inputTextureLayouts[n].shape,s=this.context.inputTextureLayouts[n].strides,a=i.length;let c=`offsetToIndices_${t}`;e[c]=new r.GlslLibRoutine(o.offsetToIndicesSingle(c,a,s)),c=`offsetToIndices_${t}_T`,e[c]=new r.GlslLibRoutine(o.offsetToIndicesSingle(c,a,s.slice().reverse()))}),e}static offsetToIndicesSingle(e,t,n){const r=[];for(let e=0;e<t-1;++e)r.push(`\n      indices[${e}] = offset / ${n[e]};`),r.push(`\n        offset -= indices[${e}] * ${n[e]};`);return r.push(`\n      indices[${t-1}] = offset;`),`\n      void ${e}(int offset, out int indices[${t}]) {\n        ${r.join("")}\n      }\n      `}incrementIndices(){const e={};return this.context.programInfo.inputNames.forEach((t,n)=>{const o=this.context.inputTextureLayouts[n].shape,i=o.length,s=`incrementIndices_${t}`;let a="";for(let e=0;e<i;++e)a+=`\n        shape[${e}] = ${o[e]};`;const c=`\n        void ${s}(int axis, out int indices[${i}]) {\n          int shape[${i}];\n          ${a};\n          for(int i = ${i} -1 ; i >= 0; --i) {\n            if(i > axis) continue;\n            indices[i] += 1;\n            if(indices[i] < shape[i]) {\n              break;\n            }\n            indices[i] = 0;\n          }\n        }\n        `;e[s]=new r.GlslLibRoutine(c)}),e}}t.ShapeUtilsGlslLib=o},5060:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getDefaultFragShaderMain=t.getFragShaderPreamble=t.getVertexShaderSource=t.getGlsl=void 0;const n={version:"",attribute:"attribute",varyingVertex:"varying",varyingFrag:"varying",texture2D:"texture2D",output:"gl_FragColor",outputDeclaration:""},r={version:"#version 300 es",attribute:"in",varyingVertex:"out",varyingFrag:"in",texture2D:"texture",output:"outputColor",outputDeclaration:"out vec4 outputColor;"};function o(e){return 1===e?n:r}t.getGlsl=o,t.getVertexShaderSource=function(e){const t=o(e);return`${t.version}\n      precision highp float;\n      ${t.attribute} vec3 position;\n      ${t.attribute} vec2 textureCoord;\n\n      ${t.varyingVertex} vec2 TexCoords;\n\n      void main()\n      {\n          gl_Position = vec4(position, 1.0);\n          TexCoords = textureCoord;\n      }`},t.getFragShaderPreamble=function(e){const t=o(e);return`${t.version}\n    precision highp float;\n    precision highp int;\n    precision highp sampler2D;\n    ${t.varyingFrag} vec2 TexCoords;\n    ${t.outputDeclaration}\n    const vec2 halfCR = vec2(0.5, 0.5);\n\n    // Custom vector types to handle higher dimenalities.\n    struct ivec5\n    {\n      int x;\n      int y;\n      int z;\n      int w;\n      int u;\n    };\n\n    struct ivec6\n    {\n      int x;\n      int y;\n      int z;\n      int w;\n      int u;\n      int v;\n    };\n\n    int imod(int x, int y) {\n      return x - y * (x / y);\n    }\n\n    `},t.getDefaultFragShaderMain=function(e,t){return`\n  void main() {\n    int indices[${t}];\n    toVec(TexCoords, indices);\n    vec4 result = vec4(process(indices));\n    ${o(e).output} = result;\n  }\n  `}},3891:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VecGlslLib=void 0;const r=n(8520);class o extends r.GlslLib{constructor(e){super(e)}getCustomTypes(){return{}}getFunctions(){return Object.assign(Object.assign(Object.assign(Object.assign({},this.binaryVecFunctions()),this.copyVec()),this.setVecItem()),this.getVecItem())}binaryVecFunctions(){const e=this.context.outputTextureLayout.shape.length,t={add:"+=",sub:"-=",mul:"*=",div:"/="},n={};for(const o in t){const i=`${o}Vec`;let s="";for(let n=0;n<e;++n)s+=`\n          dest[${n}] ${t[o]} src[${n}];\n          `;const a=`\n        void ${i}(int src[${e}], out int dest[${e}]) {\n          ${s}\n        }\n        `;n[i]=new r.GlslLibRoutine(a)}return n}copyVec(){const e=this.context.outputTextureLayout.shape.length;let t="";for(let n=0;n<e;++n)t+=`\n        dest[${n}] = src[${n}];\n        `;const n=`\n      void copyVec(int src[${e}], out int dest[${e}]) {\n        ${t}\n      }\n      `;return{copyVec:new r.GlslLibRoutine(n)}}setVecItem(){const e=this.context.outputTextureLayout.shape.length;let t=`\n        if(index < 0)\n            index =${e} + index;\n        if (index == 0)\n            m[0] = value;\n        `;for(let n=1;n<e-1;++n)t+=`\n        else if (index == ${n})\n            m[${n}] = value;\n            `;t+=`\n        else\n            m[${e-1}] = value;\n        `;const n=`\n      void setVecItem(out int m[${e}], int index, int value) {\n        ${t}\n      }\n        `;return{setVecItem:new r.GlslLibRoutine(n)}}getVecItem(){const e=this.context.outputTextureLayout.shape.length;let t=`\n        if(index < 0)\n            index = ${e} + index;\n        if (index == 0)\n            return m[0];\n      `;for(let n=1;n<e-1;++n)t+=`\n        else if (index == ${n})\n            return m[${n}];\n      `;t+=`\n        else\n            return m[${e-1}];\n        `;const n=`\n      int getVecItem(int m[${e}], int index) {\n        ${t}\n      }\n    `;return{getVecItem:new r.GlslLibRoutine(n)}}}t.VecGlslLib=o},8316:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WebGLInferenceHandler=void 0;const r=n(6231),o=n(9162),i=n(2517),s=n(2403),a=n(7019),c=n(8710),l=n(5611),u=n(4057),d=n(2039);t.WebGLInferenceHandler=class{constructor(e){this.session=e,this.packedTextureDataCache=new Map,this.unpackedTextureDataCache=new Map}calculateTextureWidthAndHeight(e,t){return(0,u.calculateTextureWidthAndHeight)(this.session.layoutStrategy,e,t)}executeProgram(e,t){if(t.length<e.inputNames.length)throw new Error(`Input size mustn't be less than ${e.inputNames.length}.`);if(e.inputNames.length!==e.inputTypes.length)throw new Error("input names size does not match input types");const n=[];for(let r=0;r<e.inputNames.length;++r)n[r]=this.getOrCreateTextureData(t[r],e.inputTypes[r]);const r=((e,t)=>{const n=t.map(e=>`${e.unpackedShape.join(",")};${e.width}x${e.height}`).join("_");let r=e.name;return e.cacheHint&&(r+="["+e.cacheHint+"]"),r+=":"+n,r})(e,n);let o=this.session.programManager.getArtifact(r);const i=o?o.programInfo:"function"==typeof e.get?e.get():e,s=(0,u.createTextureLayoutFromTextureType)(this.session.layoutStrategy,i.output.dims,i.output.textureType),a=this.createTextureData(s,i.output.type);return o||(o=this.session.programManager.build(i,n,a),this.session.programManager.setArtifact(r,o)),this.runProgram(o,n,a),a}run(e,t){return this.executeProgram(e,t).tensor}runProgram(e,t,n){for(let n=0;n<t.length;++n)if(!!t[n].isPacked!=(e.programInfo.inputTypes[n]===d.TextureType.packed))throw new Error(`input[${n}] property packed inconsistent`);if(!!n.isPacked!=(e.programInfo.output.textureType===d.TextureType.packed))throw new Error("output property packed inconsistent");this.session.programManager.run(e,t,n)}getOrCreateTextureData(e,t){let n=this.getTextureData(e.dataId,t===d.TextureType.packed);if(!n&&(n=this.getTextureData(e.dataId,t!==d.TextureType.packed),n))return t===d.TextureType.packed?this.pack(n):this.unpack(n);if(!n){const r=(0,u.createTextureLayoutFromTextureType)(this.session.layoutStrategy,e.dims,t);if(t===d.TextureType.packedLastDimension){const n=1,r=4,o=e.dims;if(4===o.length){const i=[o[0],Math.ceil(o[1]*o[2]*o[3]/r)],s=(0,u.createTextureLayoutFromTextureType)(this.session.layoutStrategy,i,t);let a=e.numberData;if(o[1]*o[2]*o[3]%r!=0){const t=o[0],i=o[1]*o[2]*o[3],s=Math.ceil(i*n/r)*r;a=new Float32Array(t*s);for(let r=0;r<t;++r){const t=r*i,o=r*s+r%n*i;a.set(e.numberData.subarray(t,t+i),o)}}return this.createTextureData(s,e.type,a,e,1)}}if(t===d.TextureType.packed){const t=(0,u.createTextureLayoutFromShape)(this.session.layoutStrategy,e.dims,1,[],{reverseWH:!0}),r=this.createTextureData(t,e.type,e.numberData,e,1);n=this.pack(r)}else n=this.createTextureData(r,e.type,e.numberData,e,1)}return n}createTextureDataFromLayoutBindTensor(e,t,n,r){return this.createTextureData(e,t,n,r,1)}createTextureData(e,t,n,o,i){r.Logger.verbose("InferenceHandler",`Creating TextureData: layout:[${JSON.stringify(e)}]`);const s=this.session.textureManager.createTextureFromLayout(t,e,n,i);return this.createTextureDataFromTexture(e,t,s,o)}reshapeUnpacked(e,t){const n=this.getOrCreateTextureData(e,d.TextureType.unpacked),r={channels:n.channels,height:n.height,width:n.width,shape:0!==t.length?t:[1],strides:i.ShapeUtil.computeStrides(t),unpackedShape:t};return this.createTextureDataFromTexture(r,e.type,n.texture).tensor}reshapePacked(e,t){const n=this.getOrCreateTextureData(e,d.TextureType.packed);if((0,a.isReshapeCheap)(e.dims,t)){const r={channels:n.channels,height:n.height,width:n.width,shape:0!==t.length?t:[1],strides:i.ShapeUtil.computeStrides(t),unpackedShape:t,isPacked:!0};return this.createTextureDataFromTexture(r,e.type,n.texture).tensor}const r=(0,a.processDims3D)(e.dims),o=(0,a.processDims3D)(t),s=this.reshapePacked(e,r),c=this.run((0,a.createPackedReshape3DProgramInfoLoader)(this,s,o),[s]);return this.reshapePacked(c,t)}cast(e,t){const n=this.getOrCreateTextureData(e,d.TextureType.unpacked);return this.createTextureDataFromTexture(n,t,n.texture).tensor}createTextureDataFromTexture(e,t,n,r,i){const s=Object.assign(Object.assign({},e),{tensor:r||new o.Tensor(e.unpackedShape,t,e=>this.readTexture(s),async e=>this.readTextureAsync(s),void 0,i),texture:n});return this.setTextureData(s.tensor.dataId,s,e.isPacked),s}getTextureData(e,t=!1){return this.session.isInitializer(e)?this.session.getTextureData(e,t):t?this.packedTextureDataCache.get(e):this.unpackedTextureDataCache.get(e)}setTextureData(e,t,n=!1){this.session.isInitializer(e)?this.session.setTextureData(e,t,n):(n?this.packedTextureDataCache:this.unpackedTextureDataCache).set(e,t)}isTextureLayoutCached(e,t=!1){return!!this.getTextureData(e.dataId,t)}dispose(){this.session.textureManager.clearActiveTextures(),this.packedTextureDataCache.forEach(e=>this.session.textureManager.releaseTexture(e)),this.packedTextureDataCache=new Map,this.unpackedTextureDataCache.forEach(e=>this.session.textureManager.releaseTexture(e)),this.unpackedTextureDataCache=new Map}readTexture(e){return e.isPacked?this.readTexture(this.unpack(e)):this.session.backend.glContext.isFloat32DownloadSupported?this.session.textureManager.readTexture(e,e.tensor.type,e.channels):this.session.textureManager.readUint8TextureAsFloat((0,c.encodeAsUint8)(this,e))}async readTextureAsync(e){return e.isPacked?this.readTextureAsync(this.unpack(e)):this.session.backend.glContext.isFloat32DownloadSupported?this.session.textureManager.readTextureAsync(e,e.tensor.type,e.channels):this.session.textureManager.readUint8TextureAsFloat((0,c.encodeAsUint8)(this,e))}pack(e){return this.executeProgram((0,s.createPackProgramInfoLoader)(this,e.tensor),[e.tensor])}unpack(e){return this.executeProgram((0,l.createUnpackProgramInfoLoader)(this,e.tensor),[e.tensor])}}},1640:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.WEBGL_OP_RESOLVE_RULES=void 0;const s=n(2898),a=i(n(7839)),c=n(4196),l=n(2069),u=n(8138),d=n(9663),f=n(5193),h=n(7992),p=n(1253),g=n(4776),m=n(6572),y=n(3346),b=n(5623),v=n(2870),_=n(2143),w=n(4939),S=n(718),x=n(2268),I=n(8117),A=n(2278),C=n(5524),k=n(5975),E=n(3933),T=n(6558),P=n(5723),M=n(3738),O=i(n(4909)),D=n(8428),R=n(9793);t.WEBGL_OP_RESOLVE_RULES=[["Abs","","6+",O.abs],["Acos","","7+",O.acos],["Add","","7+",a.add],["And","","7+",a.and],["Asin","","7+",O.asin],["Atan","","7+",O.atan],["AveragePool","","7+",_.averagePool,_.parseAveragePoolAttributes],["BatchNormalization","","7+",s.batchNormalization,s.parseBatchNormalizationAttributes],["Cast","","6+",c.cast,c.parseCastAttributes],["Ceil","","6+",O.ceil],["Clip","","6-10",O.clip,O.parseClipAttributes],["Clip","","11+",O.clipV11],["Concat","","4+",l.concat,l.parseConcatAttributes],["Conv","","1+",u.conv,u.parseConvAttributes],["ConvTranspose","","1+",d.convTranspose,d.parseConvTransposeAttributes],["Cos","","7+",O.cos],["Div","","7+",a.div],["Dropout","","7+",O.identity],["DepthToSpace","","1+",f.depthToSpace,f.parseDepthToSpaceAttributes],["Equal","","7+",a.equal],["Elu","","6+",O.elu,O.parseEluAttributes],["Exp","","6+",O.exp],["Flatten","","1+",h.flatten,h.parseFlattenAttributes],["Floor","","6+",O.floor],["FusedConv","com.microsoft","1+",u.conv,u.parseConvAttributes],["Gather","","1+",p.gather,p.parseGatherAttributes],["Gemm","","7-10",g.gemm,g.parseGemmAttributesV7],["Gemm","","11+",g.gemm,g.parseGemmAttributesV11],["GlobalAveragePool","","1+",_.globalAveragePool,_.parseGlobalAveragePoolAttributes],["GlobalMaxPool","","1+",_.globalMaxPool],["Greater","","7+",a.greater],["Identity","","1+",O.identity],["ImageScaler","","1+",m.imageScaler,m.parseImageScalerAttributes],["InstanceNormalization","","6+",y.instanceNormalization,y.parseInstanceNormalizationAttributes],["LeakyRelu","","6+",O.leakyRelu,O.parseLeakyReluAttributes],["Less","","7+",a.less],["Log","","6+",O.log],["MatMul","","1+",b.matMul,b.parseMatMulAttributes],["MaxPool","","1+",_.maxPool,_.parseMaxPoolAttributes],["Mul","","7+",a.mul],["Neg","","6+",O.neg],["Not","","1+",O.not],["Or","","7+",a.or],["Pad","","2-10",v.padV2,v.parsePadAttributesV2],["Pad","","11+",v.padV11,v.parsePadAttributesV11],["Pow","","7+",a.pow],["PRelu","","7+",a.pRelu],["ReduceLogSum","","1+",w.reduceLogSum,w.parseReduceAttributes],["ReduceMax","","1+",w.reduceMax,w.parseReduceAttributes],["ReduceMean","","1+",w.reduceMean,w.parseReduceAttributes],["ReduceMin","","1+",w.reduceMin,w.parseReduceAttributes],["ReduceProd","","1+",w.reduceProd,w.parseReduceAttributes],["ReduceSum","","1-12",w.reduceSum,w.parseReduceAttributes],["ReduceSumSquare","","1+",w.reduceLogSumSquare,w.parseReduceAttributes],["Relu","","6+",O.relu],["Reshape","","5+",S.reshape],["Resize","","10",x.resize,x.parseResizeAttributesV10],["Resize","","11+",x.resize,x.parseResizeAttributesV11],["Shape","","1+",I.shape],["Sigmoid","","6+",O.sigmoid],["Sin","","7+",O.sin],["Slice","","10+",A.sliceV10],["Slice","","1-9",A.slice,A.parseSliceAttributes],["Softmax","","1-12",C.softmax,C.parseSoftmaxAttributes],["Softmax","","13+",C.softmaxV13,C.parseSoftmaxAttributesV13],["Split","","2-12",k.split,k.parseSplitAttributes],["Sqrt","","6+",O.sqrt],["Squeeze","","1-12",E.squeeze,E.parseSqueezeAttributes],["Squeeze","","13+",E.squeezeV13],["Sub","","7+",a.sub],["Sum","","6+",T.sum],["Tan","","7+",O.tan],["Tanh","","6+",O.tanh],["Tile","","6+",P.tile],["Transpose","","1+",M.transpose,M.parseTransposeAttributes],["Upsample","","7-8",R.upsample,R.parseUpsampleAttributesV7],["Upsample","","9",R.upsample,R.parseUpsampleAttributesV9],["Unsqueeze","","1-12",D.unsqueeze,D.parseUnsqueezeAttributes],["Unsqueeze","","13+",D.unsqueezeV13],["Xor","","7+",a.xor]]},2898:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseBatchNormalizationAttributes=t.batchNormalization=void 0;const r=n(246),o=n(5060),i=n(2039),s={name:"BatchNormalization",inputNames:["A","Scale","B","Mean","Variance"],inputTypes:[i.TextureType.unpacked,i.TextureType.unpacked,i.TextureType.unpacked,i.TextureType.unpacked,i.TextureType.unpacked]};t.batchNormalization=(e,t,n)=>(c(t),[e.run(Object.assign(Object.assign({},s),{cacheHint:n.cacheKey,get:()=>a(e,t,n)}),t)]),t.parseBatchNormalizationAttributes=e=>{const t=e.attributes.getFloat("epsilon",1e-5),n=e.attributes.getFloat("momentum",.9),o=e.attributes.getInt("spatial",1);return(0,r.createAttributeWithCacheKey)({epsilon:t,momentum:n,spatial:o})};const a=(e,t,n)=>{const r=(0,o.getGlsl)(e.session.backend.glContext.version),a=t[0].dims.length,[c,l]=e.calculateTextureWidthAndHeight(t[1].dims,i.TextureType.unpacked),u=`\n  float process(int[${a}] indices) {\n    vec2 position = offsetToCoords(indices[1], ${c}, ${l});\n    float scale = getColorAsFloat(${r.texture2D}(Scale, position));\n    float mean = getColorAsFloat(${r.texture2D}(Mean, position));\n    float variance = getColorAsFloat(${r.texture2D}(Variance, position));\n    float b = getColorAsFloat(${r.texture2D}(B, position));\n\n    return scale * ( (_A(indices) - mean) / sqrt(variance + float(${n.epsilon})) ) + b;\n  }`;return Object.assign(Object.assign({},s),{output:{dims:t[0].dims,type:t[0].type,textureType:i.TextureType.unpacked},shaderSource:u})},c=e=>{if(!e||5!==e.length)throw new Error("BatchNormalization requires 5 inputs.");const t=e[0],n=e[1],r=e[2],o=e[3],i=e[4];if(t.dims.length<3||1!==n.dims.length||1!==r.dims.length||1!==o.dims.length||1!==i.dims.length)throw new Error("invalid input shape.");if(n.dims[0]!==t.dims[1]||r.dims[0]!==t.dims[1]||o.dims[0]!==t.dims[1]||i.dims[0]!==t.dims[1])throw new Error("invalid input shape.");if("float32"!==t.type&&"float64"!==t.type||"float32"!==n.type&&"float64"!==n.type||"float32"!==r.type&&"float64"!==r.type||"float32"!==o.type&&"float64"!==o.type||"float32"!==i.type&&"float64"!==i.type)throw new Error("invalid input tensor types.")}},7839:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.xor=t.sub=t.pRelu=t.pow=t.or=t.mul=t.less=t.greater=t.equal=t.div=t.and=t.add=t.glslPRelu=t.glslPow=t.glslXor=t.glslOr=t.glslAnd=t.glslLess=t.glslGreater=t.glslEqual=t.glslSub=t.glslMul=t.glslDiv=t.glslAdd=void 0;const r=n(2517),o=n(8520),i=n(5060),s=n(2039);function a(){const e="add_";return{body:`\n  float ${e}(float a, float b) {\n    return a + b;\n  }\n  vec4 ${e}(vec4 v1, vec4 v2) {\n    return v1 + v2;\n  }\n  `,name:e,type:o.FunctionType.ValueBased}}function c(){const e="div_";return{body:`\n  float ${e}(float a, float b) {\n    return a / b;\n  }\n  vec4 ${e}(vec4 v1, vec4 v2) {\n    return v1 / v2;\n  }\n  `,name:e,type:o.FunctionType.ValueBased}}function l(){const e="mul_";return{body:`\n  float ${e}(float a, float b) {\n    return a * b;\n  }\n  vec4 ${e}(vec4 v1, vec4 v2) {\n    return v1 * v2;\n  }\n  `,name:e,type:o.FunctionType.ValueBased}}function u(){const e="sub_";return{body:`\n  float ${e}(float a, float b) {\n    return a - b;\n  }\n  vec4 ${e}(vec4 v1, vec4 v2) {\n    return v1 - v2;\n  }\n  `,name:e,type:o.FunctionType.ValueBased}}function d(){const e="equal_";return{body:`\n  float ${e}(float a, float b) {\n    return float(a == b);\n  }\n  vec4 ${e}(vec4 v1, vec4 v2) {\n    return vec4(equal(v1, v2));\n  }\n  `,name:e,type:o.FunctionType.ValueBased}}function f(){const e="greater_";return{body:`\n  float ${e}(float a, float b) {\n    return float(a > b);\n  }\n  vec4 ${e}(vec4 v1, vec4 v2) {\n    return vec4( v1.r > v2.r ,\n      v1.g > v2.g,\n      v1.b > v2.b,\n      v1.a > v2.a );\n  }\n  `,name:e,type:o.FunctionType.ValueBased}}function h(){const e="less_";return{body:`\n  float ${e}(float a, float b) {\n    return float(a < b);\n  }\n  vec4 ${e}(vec4 v1, vec4 v2) {\n    return vec4( v1.r < v2.r ,\n                v1.g < v2.g,\n                v1.b < v2.b,\n                v1.a < v2.a );\n  }\n  `,name:e,type:o.FunctionType.ValueBased}}function p(){const e="and_";return{body:`\n  float ${e}(float a, float b) {\n    return float( bool(a) && bool(b) );\n  }\n  vec4 ${e}(vec4 v1, vec4 v2) {\n    bvec4 b1 = bvec4(v1);\n    bvec4 b2 = bvec4(v2);\n    return vec4( b1.r && b2.r ,\n                b1.g && b2.g,\n                b1.b && b2.b,\n                b1.a && b2.a );\n  }\n  `,name:e,type:o.FunctionType.ValueBased}}function g(){const e="or_";return{body:`\n  float ${e}(float a, float b) {\n    return float( bool(a) || bool(b) );\n  }\n  vec4 ${e}(vec4 v1, vec4 v2) {\n    bvec4 b1 = bvec4(v1);\n    bvec4 b2 = bvec4(v2);\n    return vec4( b1.r || b2.r ,\n                b1.g || b2.g,\n                b1.b || b2.b,\n                b1.a || b2.a );\n  }\n  `,name:e,type:o.FunctionType.ValueBased}}function m(){const e="xor_";return{body:`\n  float ${e}(float a, float b) {\n    return float( bool(a) ^^ bool(b) );\n  }\n  vec4 ${e}(vec4 v1, vec4 v2) {\n    bvec4 b1 = bvec4(v1);\n    bvec4 b2 = bvec4(v2);\n    return vec4( b1.r ^^ b2.r ,\n                b1.g ^^ b2.g,\n                b1.b ^^ b2.b,\n                b1.a ^^ b2.a );\n  }\n  `,name:e,type:o.FunctionType.ValueBased}}function y(){return function(e){const t=`${e}_`;return{body:`\n  float ${t}(float a, float b) {\n    return ${e}(a, b);\n  }\n  vec4 ${t}(vec4 v1, vec4 v2) {\n    return ${e}(v1, v2);\n  }\n  `,name:t,type:o.FunctionType.ValueBased}}("pow")}function b(){const e="prelu_";return{body:`\n  float ${e}(float a, float b) {\n    return a < 0.0 ? a * b: a;\n  }\n  vec4 ${e}(vec4 v1, vec4 v2) {\n    return vec4(\n      v1.r < 0.0 ? v1.r * v2.r: v1.r,\n      v1.g < 0.0 ? v1.g * v2.g: v1.g,\n      v1.b < 0.0 ? v1.b * v2.b: v1.b,\n      v1.a < 0.0 ? v1.a * v2.a: v1.a\n      );\n  }\n  `,name:e,type:o.FunctionType.ValueBased}}t.glslAdd=a,t.glslDiv=c,t.glslMul=l,t.glslSub=u,t.glslEqual=d,t.glslGreater=f,t.glslLess=h,t.glslAnd=p,t.glslOr=g,t.glslXor=m,t.glslPow=y,t.glslPRelu=b;const v=(e,t,n,r=t[0].type,o)=>{const i=e.session.pack?s.TextureType.packed:s.TextureType.unpacked;return{name:n.name,inputNames:["A","B"],inputTypes:[i,i],cacheHint:o,get:()=>_(e,t,n,r)}},_=(e,t,n,o=t[0].type)=>{const a=e.session.pack?s.TextureType.packed:s.TextureType.unpacked,c=!r.ShapeUtil.areEqual(t[0].dims,t[1].dims);let l=t[0].dims;const u=e.session.pack;if(c){const s=r.BroadcastUtil.calcShape(t[0].dims,t[1].dims,!1);if(!s)throw new Error("Can't perform binary op on the given tensors");l=s;const c=l.length,d=0!==t[0].dims.length?t[0].dims.length:1,f=0!==t[1].dims.length?t[1].dims.length:1,h=0!==t[0].dims.length?"bcastIndices_A(indices, aindices);":"aindices[0] = 0;",p=0!==t[1].dims.length?"bcastIndices_B(indices, bindices);":"bindices[0] = 0;",g=(0,i.getGlsl)(e.session.backend.glContext.version),m=u?`\n      ${n.body}\n      void main() {\n        vec4 a = getAAtOutCoords();\n        vec4 b = getBAtOutCoords();\n        vec4 result = ${n.name}(a, b);\n        ${g.output} = result;\n      }`:`\n      ${n.body}\n      float process(int indices[${c}]) {\n        int aindices[${d}];\n        int bindices[${f}];\n        ${h}\n        ${p}\n        return ${n.name}(_A(aindices), _B(bindices));\n      }`;return{name:n.name,inputNames:["A","B"],inputTypes:[a,a],output:{dims:l,type:o,textureType:a},shaderSource:m,hasMain:u}}const d=(0,i.getGlsl)(e.session.backend.glContext.version),f=`\n    ${n.body}\n    void main() {\n      vec4 v1 = ${d.texture2D}(A, TexCoords);\n      vec4 v2 = ${d.texture2D}(B, TexCoords);\n      vec4 result = ${n.name}(v1, v2);\n      ${d.output} = result;\n    }\n    `;return{name:n.name,inputNames:["A","B"],inputTypes:[a,a],output:{dims:t[0].dims,type:o,textureType:a},shaderSource:f,hasMain:!0}};t.add=(e,t)=>[e.run(v(e,t,a()),t)],t.and=(e,t)=>[e.run(v(e,t,p(),"bool"),t)],t.div=(e,t)=>[e.run(v(e,t,c()),t)],t.equal=(e,t)=>[e.run(v(e,t,d(),"bool"),t)],t.greater=(e,t)=>[e.run(v(e,t,f(),"bool"),t)],t.less=(e,t)=>[e.run(v(e,t,h(),"bool"),t)],t.mul=(e,t)=>[e.run(v(e,t,l()),t)],t.or=(e,t)=>[e.run(v(e,t,g(),"bool"),t)],t.pow=(e,t)=>[e.run(v(e,t,y()),t)],t.pRelu=(e,t)=>[e.run(v(e,t,b()),t)],t.sub=(e,t)=>[e.run(v(e,t,u()),t)],t.xor=(e,t)=>[e.run(v(e,t,m(),"bool"),t)]},4196:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseCastAttributes=t.cast=void 0;const r=n(2517);t.cast=(e,t,n)=>(o(t),[e.cast(t[0],n)]),t.parseCastAttributes=e=>r.ProtoUtil.tensorDataTypeFromProto(e.attributes.getInt("to"));const o=e=>{if(!e||1!==e.length)throw new Error("Cast requires 1 input.");if("string"===e[0].type)throw new Error("Invalid input type.")}},1163:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createPackedConcatProgramInfoLoader=void 0;const r=n(5060),o=n(2039),i=n(9390),s=n(2827);t.createPackedConcatProgramInfoLoader=(e,t,n)=>{const c=(l=t.length,u=n.cacheKey,{name:"Concat (packed)",inputNames:Array.from({length:l},(e,t)=>`X${t}`),inputTypes:Array(l).fill(o.TextureType.packed),cacheHint:u});var l,u;return Object.assign(Object.assign({},c),{get:()=>((e,t,n,c)=>{const l=n[0].dims.slice();if(c>=l.length||c<-1*l.length)throw new Error("axis specified for concat doesn't match input dimensionality");c<0&&(c=l.length+c);const u=l.slice(0);for(let e=1;e<n.length;e++){const t=n[e].dims.slice();for(let e=0;e<l.length;e++)if(e===c)u[c]+=t[e];else if(l[e]!==t[e])throw new Error("non concat dimensions must match")}const d=u.length,f=(0,s.getChannels)("coords",d),h=(0,i.getCoordsDataType)(d),p=(0,s.unpackFromChannel)(),g=n.map(e=>e.dims),m=(0,i.getGlChannels)(d),y=new Array(g.length-1);y[0]=g[0][c];for(let e=1;e<y.length;e++)y[e]=y[e-1]+g[e][c];const b=m[c],v=m.slice(-2),_=m.join();let w=`if (${b} < ${y[0]}) {\n        return getChannel(\n            getX0(${_}), vec2(${v.join()}));\n        }`;for(let e=1;e<y.length;e++){const t=y[e-1];w+=`\n            if (${b} < ${y[e]}  && ${b} >= ${y[e-1]}) {\n              return getChannel(\n                getX${e}(${a(m,b,t)}),\n                vec2(${a(v,b,t)}));\n            }`}const S=y.length,x=y[y.length-1];w+=`\n            return getChannel(\n              getX${S}(${a(m,b,x)}),\n              vec2(${a(v,b,x)}));`;const I=(0,r.getGlsl)(e.session.backend.glContext.version),A=`\n          ${p}\n          float getValue(${m.map(e=>"int "+e)}) {\n            ${w}\n          }\n\n          void main() {\n            ${h} coords = getOutputCoords();\n            int lastDim = coords.${m[d-1]};\n            coords.${m[d-1]} = coords.${m[d-2]};\n            coords.${m[d-2]} = lastDim;\n\n            vec4 result = vec4(getValue(${f}), 0., 0., 0.);\n\n            ${f[d-1]} = ${f[d-1]} + 1;\n            if (${f[d-1]} < ${u[d-1]}) {\n              result.g = getValue(${f});\n            }\n\n            ${f[d-2]} = ${f[d-2]} + 1;\n            if (${f[d-2]} < ${u[d-2]}) {\n              result.a = getValue(${f});\n            }\n\n            ${f[d-1]} = ${f[d-1]} - 1;\n            if (${f[d-2]} < ${u[d-2]} &&\n                ${f[d-1]} < ${u[d-1]}) {\n              result.b = getValue(${f});\n            }\n            ${I.output} = result;\n          }\n        `;return Object.assign(Object.assign({},t),{output:{dims:u,type:n[0].type,textureType:o.TextureType.packed},shaderSource:A,hasMain:!0})})(e,c,t,n.axis)})};const a=(e,t,n)=>{const r=e.indexOf(t);return e.map((e,t)=>t===r?`${e} - ${n}`:e).join()}},2069:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseConcatAttributes=t.concat=void 0;const r=n(246),o=n(2039),i=n(1163);t.concat=(e,t,n)=>(d(t),e.session.pack&&t[0].dims.length>1?[e.run((0,i.createPackedConcatProgramInfoLoader)(e,t,n),t)]:[e.run(s(e,t,n),t)]);const s=(e,t,n)=>{const r=(i=t.length,s=n.cacheKey,{name:"Concat",inputNames:Array.from({length:i},(e,t)=>`X${t}`),inputTypes:Array(i).fill(o.TextureType.unpacked),cacheHint:s});var i,s;return Object.assign(Object.assign({},r),{get:()=>((e,t,n,r)=>{const i=n[0].dims.slice();if(r>=i.length||r<-1*i.length)throw new Error("axis specified for concat doesn't match input dimensionality");r<0&&(r=i.length+r);const s=i.slice(0);for(let e=1;e<n.length;e++){const t=n[e].dims.slice();for(let e=0;e<i.length;e++)if(e===r)s[r]+=t[e];else if(i[e]!==t[e])throw new Error("non concat dimensions must match")}const d=s.length,f=new Array(n.length);let h=0;for(let e=0;e<f.length;++e)h+=n[e].dims[r],f[e]=h;let p="";p=n.length<5?a(f):c(f);const g=`\n        ${l(n.length,d)}\n        ${u(f)}\n        ${p}\n        float process(int indices[${d}]) {\n          int textureIndex = getTextureWhereDataResides (indices[${r}]);\n\n          if(textureIndex != 0) {\n            indices[${r}] = indices[${r}] - int(getSizeInConcatAxisValueFromIndex(textureIndex-int(1)));\n          }\n\n          return fetchDataFromCorrectTexture(textureIndex, indices);\n        }`;return Object.assign(Object.assign({},t),{output:{dims:s,type:n[0].type,textureType:o.TextureType.unpacked},shaderSource:g})})(0,r,t,n.axis)})},a=e=>`int getTextureWhereDataResides(int index) {\n      ${e.map((e,t)=>`if(index<${e}) {return ${t};}\n`).join("")}\n    }`,c=e=>a(e),l=(e,t)=>{const n=[`float fetchDataFromCorrectTexture(int textureIndex, int indices[${t}]) {`];for(let t=0;t<e;++t)0===t?n.push(`\tif (textureIndex == ${t}) { return _X${t}(indices); }`):t===e-1?n.push(`\telse { return _X${t}(indices); }`):n.push(`\telse if (textureIndex == ${t}) { return _X${t}(indices); }`);return n.push("\t}"),n.join("\n")},u=e=>{const t=["int getSizeInConcatAxisValueFromIndex(int index) {"];for(let n=0;n<e.length;++n)0===n?t.push(`\tif (index == ${n}) { return ${e[n]}; }`):n===e.length-1?t.push(`\telse { return ${e[n]}; }`):t.push(`\telse if (index == ${n}) { return ${e[n]}; }`);return t.push("\t}"),t.join("\n")};t.parseConcatAttributes=e=>(0,r.createAttributeWithCacheKey)({axis:e.attributes.getInt("axis")});const d=e=>{if(!e||e.length<1)throw new Error("too few inputs");const t=e[0].type,n=e[0].dims.length;if("string"===t)throw new Error("string tensor is not supported yet");for(const r of e){if(r.type!==t)throw new Error("input tensors should be one type");if(r.dims.length!==n)throw new Error("input tensors should have the same shape")}}},4770:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createUnpackedGroupedConvProgramInfoLoader=void 0;const r=n(6231),o=n(5060),i=n(2039),s=n(8138),a=n(2823);t.createUnpackedGroupedConvProgramInfoLoader=(e,t,n)=>{const c=(l=t.length>2,u=n.cacheKey,{name:"GroupedConv",inputNames:l?["X","W","Bias"]:["X","W"],inputTypes:l?[i.TextureType.unpacked,i.TextureType.unpacked,i.TextureType.unpacked]:[i.TextureType.unpacked,i.TextureType.unpacked],cacheHint:u});var l,u;return Object.assign(Object.assign({},c),{get:()=>((e,t,n,c)=>{const l=t.length>2?"value += getBias(output_channel);":"",u=t[0].dims.slice(),d=t[1].dims.slice(),f=d[0]/c.group;r.Logger.verbose("GroupedConv",`autpPad:${c.autoPad}, dilations:${c.dilations}, group:${c.group}, kernelShape:${c.kernelShape}, pads:${c.pads}, strides:${c.strides}`);const h=(0,s.calculateOutputShape)(u,d,c.dilations,c.pads,c.strides),p=(0,o.getGlsl)(e.session.backend.glContext.version),{activationFunction:g,applyActivation:m}=(0,a.getActivationSnippet)(c),y=`\n  const ivec2 strides = ivec2(${c.strides[0]}, ${c.strides[1]});\n  const ivec2 pads = ivec2(${c.pads[0]}, ${c.pads[1]});\n  ${g}\n  void main() {\n    ivec4 coords = getOutputCoords();\n    int batch = coords.x;\n    int output_channel = coords.y;\n    ivec2 xRCCorner = coords.zw * strides - pads;\n    int group_id = output_channel / ${f};\n\n    float value = 0.0;\n    for (int wInChannel = 0; wInChannel < ${d[1]}; wInChannel++) {\n      int input_channel = group_id * ${d[1]} + wInChannel;\n      for (int wHeight = 0; wHeight < ${d[2]}; wHeight++) {\n        int xHeight = xRCCorner.x + wHeight * ${c.dilations[0]};\n\n        if (xHeight < 0 || xHeight >= ${u[2]}) {\n          continue;\n        }\n\n        for (int wWidth = 0; wWidth < ${d[3]}; wWidth++) {\n          int xWidth = xRCCorner.y + wWidth * ${c.dilations[1]};\n          if (xWidth < 0 || xWidth >= ${u[3]}) {\n            continue;\n          }\n\n          float xVal = getX(batch, input_channel, xWidth, xHeight);\n          float wVal = getW(output_channel, wInChannel, wWidth, wHeight);\n          value += xVal*wVal;\n        }\n      }\n    }\n    ${l}\n    ${m}\n    ${p.output} = vec4(value, .0, .0, .0);\n  }\n`;return Object.assign(Object.assign({},n),{output:{dims:h,type:t[0].type,textureType:i.TextureType.unpacked},shaderSource:y,hasMain:!0})})(e,t,c,n)})}},1386:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.conv2DPacked=t.conv2DPackedPointwise=void 0;const r=n(8138),o=n(8555),i=n(708);t.conv2DPackedPointwise=(e,t,n)=>{const o=t[0].dims,s=t[1].dims,a=(0,r.calculateOutputShape)(o,s,n.dilations,n.pads,n.strides),c=e.reshapePacked(t[0],[o[1],o[2]*o[3]]),l=e.reshapePacked(t[1],[s[0],s[1]]),u=t.length>2?[l,c,t[2]]:[l,c],d=e.run((0,i.createPackedMatmulProgramInfoLoader)(e,u,n),u);return e.reshapePacked(d,a)},t.conv2DPacked=(e,t,n)=>{const s=t[0].dims,a=t[1].dims,c=(0,r.calculateOutputShape)(s,a,n.dilations,n.pads,n.strides),l=e.run((0,o.createPackedIm2ColProgramInfoLoader)(e,t[0],t[1],c,n),[t[0]]),u=e.reshapePacked(t[1],[a[0],a[1]*a[2]*a[3]]),d=3===t.length?[u,l,t[2]]:[u,l],f=e.run((0,i.createPackedMatmulProgramInfoLoader)(e,d,n),d);return e.reshapePacked(f,c)}},9663:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseConvTransposeAttributes=t.convTranspose=void 0;const r=n(246),o=n(5060),i=n(2039),s=n(2823),a=(e,t,n,r,o,i)=>(e-1)*t+n+(r-1)*o+1-i,c=(e,t,n,r,o)=>{const i=Math.floor(e/2);"SAME_UPPER"===t?(n[r]=i,n[o]=e-i):"SAME_LOWER"===t&&(n[r]=e-i,n[o]=i)};t.convTranspose=(e,t,n)=>(f(t,n),l(e,t,n));const l=(e,t,n)=>{const r=d(n,t);return[u(e,t,r)]},u=(e,t,n)=>e.run(((e,t,n)=>{const r=(a=t.length>2,c=n.cacheKey,{name:"ConvTranspose",inputNames:a?["X","W","B"]:["X","W"],inputTypes:a?[i.TextureType.unpacked,i.TextureType.unpacked,i.TextureType.unpacked]:[i.TextureType.unpacked,i.TextureType.unpacked],cacheHint:c});var a,c;return Object.assign(Object.assign({},r),{get:()=>((e,t,n,r)=>{const a=t.length>2?"getB(output_channel)":"0.0",c=t[0].dims,l=t[1].dims,u=l[1],d=l[0]/r.group,f=[t[0].dims[0],t[1].dims[1]*r.group,...r.outputShape],h=(0,o.getGlsl)(e.session.backend.glContext.version),{activationFunction:p,applyActivation:g}=(0,s.getActivationSnippet)(r),m=`\n  const ivec2 strides = ivec2(${r.strides[0]}, ${r.strides[1]});\n  const ivec2 pads = ivec2(${r.pads[0]}, ${r.pads[1]});\n  ${p}\n  void main() {\n    ivec4 coords = getOutputCoords();\n    int batch = coords.x;\n    int output_channel = coords.y;\n\n    ivec2 loc = coords.zw + pads;\n\n    int group_id = output_channel / ${u};\n    int wOutChannel = output_channel - group_id * ${u};\n\n    float value = ${a};\n    for (int inChannelOffset = 0; inChannelOffset < ${d}; inChannelOffset++) {\n      int input_channel = group_id * ${d} + inChannelOffset;\n      for (int wWOff = 0; wWOff < ${l[2]}; wWOff++) {\n        for (int wHOff = 0; wHOff < ${l[3]}; wHOff++) {\n          ivec2 wOff = ivec2(wWOff * ${r.dilations[0]}, wHOff * ${r.dilations[1]});\n          ivec2 wLoc = loc - wOff;\n          ivec2 wLocIn = wLoc / strides;\n          if (\n            wLocIn * strides == wLoc &&\n            wLocIn.x >= 0 && wLocIn.x < ${c[2]} &&\n            wLocIn.y >= 0 && wLocIn.y < ${c[3]}\n          ) {\n            float xVal = getX(batch, input_channel, wLocIn.y, wLocIn.x);\n            float wVal = getW(input_channel, wOutChannel, wHOff, wWOff);\n            value += xVal * wVal;\n          }\n        }\n      }\n    }\n    ${g}\n    ${h.output} = vec4(value, .0, .0, .0);\n  }\n`;return Object.assign(Object.assign({},n),{output:{dims:f,type:t[0].type,textureType:i.TextureType.unpacked},shaderSource:m,hasMain:!0})})(e,t,r,n)})})(e,t,n),t),d=(e,t)=>{const n=e.kernelShape.slice();if(0===e.kernelShape.length)for(let e=2;e<t[1].dims.length;++e)n.push(t[1].dims[e]);const r=e.pads.slice(),o=e.outputShape.slice();((e,t,n,r,o,i,s,l)=>{const u=e.length-2,d=0===l.length;for(let f=0;f<u;++f){const h=d?e[f+2]*i[f]:l[f],p=a(e[f+2],i[f],o[f],t[f],n[f],h);c(p,r,o,f,f+u),d&&l.push(i[f]*(e[f+2]-1)+s[f]+(t[f]-1)*n[f]+1-o[f]-o[f+u])}})(t[0].dims,n,e.dilations,e.autoPad,r,e.strides,e.outputPadding,o);const i=Object.assign({},e);return Object.assign(i,{kernelShape:n,pads:r,outputShape:o,cacheKey:e.cacheKey}),i};t.parseConvTransposeAttributes=e=>{const t=e.attributes,n=(0,s.parseInternalActivationAttributes)(t),o=t.getString("auto_pad","NOTSET"),i=t.getInts("dilations",[1,1]),a=t.getInt("group",1),c=t.getInts("kernel_shape",[]),l=t.getInts("output_padding",[0,0]),u=t.getInts("output_shape",[]),d=t.getInts("pads",[0,0,0,0]),f=t.getInts("strides",[1,1]);return(0,r.createAttributeWithCacheKey)(Object.assign({autoPad:o,dilations:i,group:a,kernelShape:c,outputPadding:l,outputShape:u,pads:d,strides:f},n))};const f=(e,t)=>{if(!e||2!==e.length&&3!==e.length)throw new Error("Conv requires 2 or 3 inputs");if(4!==e[0].dims.length||4!==e[1].dims.length)throw new Error("currently only support 2-dimensional conv");if(e[0].dims[1]!==e[1].dims[0])throw new Error("FILTER_IN_CHANNEL should be equal to DATA_CHANNEL");const n=e[1].dims[1]*t.group;if(3===e.length&&(1!==e[2].dims.length||e[2].dims[0]!==n))throw new Error("invalid bias");const r=e[0].dims.length-2;if(t.dilations.length!==r)throw new Error(`dilations should be ${r}D`);if(t.strides.length!==r)throw new Error(`strides should be ${r}D`);if(t.pads.length!==2*r)throw new Error(`pads should be ${2*r}D`);if(t.outputPadding.length!==r)throw new Error(`output_padding should be ${r}D`);if(0!==t.kernelShape.length&&t.kernelShape.length!==e[1].dims.length-2)throw new Error("invalid kernel shape");if(0!==t.outputShape.length&&t.outputShape.length!==e[0].dims.length-2)throw new Error("invalid output shape");if("float32"!==e[0].type||"float32"!==e[1].type)throw new Error("ConvTranspose input(X,W) should be float tensor");if(3===e.length&&"float32"!==e[2].type)throw new Error("ConvTranspose input(bias) should be float tensor")}},8138:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseConvAttributes=t.conv=t.calculateOutputShape=void 0;const r=n(246),o=n(2517),i=n(4770),s=n(1386),a=n(9828),c=n(2823),l=n(3248),u=n(5623);t.calculateOutputShape=(e,t,n,r,o)=>{const i=e[0],s=e.slice(2),a=s.length,c=t[0],l=t.slice(2).map((e,t)=>e+(e-1)*(n[t]-1)),u=s.map((e,t)=>e+r[t]+r[t+a]).map((e,t)=>Math.floor((e-l[t]+o[t])/o[t]));return[i,c].concat(...u)},t.conv=(e,t,n)=>(g(t,n),d(e,t,n));const d=(e,t,n)=>{const r=p(n,t),o=e.session.pack,a=1===r.kernelShape[0]&&1===r.kernelShape[1];return r.group>1?[e.run((0,i.createUnpackedGroupedConvProgramInfoLoader)(e,t,r),t)]:a&&o?[f(e,t,r)]:o&&4===t[0].dims.length&&1===t[0].dims[0]&&!a?[(0,s.conv2DPacked)(e,t,r)]:[h(e,t,r)]},f=(e,n,r)=>{const o=n[0].dims,i=n[1].dims,s=(0,t.calculateOutputShape)(o,i,r.dilations,r.pads,r.strides),a=e.reshapeUnpacked(n[0],[o[1],o[2]*o[3]]),c=e.reshapeUnpacked(n[1],[i[0],i[1]]),l=n.length>2?[c,a,n[2]]:[c,a],d=e.run((0,u.createMatmulProgramInfoLoader)(l,r),l);return e.reshapeUnpacked(d,s)},h=(e,n,r)=>{const o=n[0].dims,i=n[1].dims,s=(0,t.calculateOutputShape)(o,i,r.dilations,r.pads,r.strides),c=e.run((0,l.createIm2ColProgramInfoLoader)(e,n[0],n[1],s,r),[n[0]]),u=3===n.length?[c,n[1],n[2]]:[c,n[1]];return e.run((0,a.createDotProductProgramInfoLoader)(e,n,s,r),u)},p=(e,t)=>{const n=e.kernelShape.slice();if(0===e.kernelShape.length)for(let e=2;e<t[1].dims.length;++e)n.push(t[1].dims[e]);const r=e.pads.slice();o.PoolConvUtil.adjustPadsBasedOnAutoPad(t[0].dims,e.strides,e.dilations,n,r,e.autoPad);const i=Object.assign({},e);return Object.assign(i,{kernelShape:n,pads:r,cacheKey:e.cacheKey}),i};t.parseConvAttributes=e=>{const t=e.attributes,n=(0,c.parseInternalActivationAttributes)(t),o=t.getString("auto_pad","NOTSET"),i=t.getInts("dilations",[1,1]),s=t.getInt("group",1),a=t.getInts("kernel_shape",[]),l=t.getInts("pads",[0,0,0,0]),u=t.getInts("strides",[1,1]);return(0,r.createAttributeWithCacheKey)(Object.assign({autoPad:o,dilations:i,group:s,kernelShape:a,pads:l,strides:u},n))};const g=(e,t)=>{if(!e||2!==e.length&&3!==e.length)throw new Error("Conv requires 2 or 3 inputs");if(4!==e[0].dims.length||4!==e[1].dims.length)throw new Error("currently only support 2-dimensional conv");if(e[0].dims[1]!==e[1].dims[1]*t.group)throw new Error("FILTER_IN_CHANNEL should be equal to DATA_CHANNEL");if(3===e.length&&(1!==e[2].dims.length||e[1].dims[0]!==e[2].dims[0]))throw new Error("invalid bias");const n=e[0].dims.length-2;if(t.dilations.length!==n)throw new Error(`dilations should be ${n}D`);if(t.strides.length!==n)throw new Error(`strides should be ${n}D`);if(t.pads.length!==2*n)throw new Error(`pads should be ${2*n}D`);if(0!==t.kernelShape.length&&t.kernelShape.length!==e[1].dims.length-2)throw new Error("invalid kernel shape");if("float32"!==e[0].type||"float32"!==e[1].type)throw new Error("Conv input(X,W) should be float tensor");if(3===e.length&&"float32"!==e[2].type)throw new Error("Conv input(bias) should be float tensor")}},5193:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseDepthToSpaceAttributes=t.depthToSpace=void 0;const r=n(3738);t.depthToSpace=(e,t,n)=>{o(t);const i=n.blocksize,s=i*i,a="DCR"===n.mode?[0,3,4,1,5,2]:[0,1,4,2,5,3],c="DCR"===n.mode?[t[0].dims[0],i,i,t[0].dims[1]/s,t[0].dims[2],t[0].dims[3]]:[t[0].dims[0],t[0].dims[1]/s,i,i,t[0].dims[2],t[0].dims[3]],l=e.reshapeUnpacked(t[0],c),u={perm:a,cacheKey:`${a}`},[d]=(0,r.transpose)(e,[l],u),f=[t[0].dims[0],t[0].dims[1]/s,t[0].dims[2]*i,t[0].dims[3]*i];return[e.reshapeUnpacked(d,f)]},t.parseDepthToSpaceAttributes=e=>{const t=e.attributes.getInt("blocksize");if(t<1)throw new Error(`blocksize must be >= 1, but got : ${t} for DepthToSpace`);const n=e.attributes.getString("mode","DCR");if("DCR"!==n&&"CRD"!==n)throw new Error(`unrecognized mode: ${n} for DepthToSpace`);return{mode:n,blocksize:t}};const o=e=>{if(1!==e.length)throw new Error(`DepthToSpace expect 1 inputs, but got ${e.length}`);if("string"===e[0].type||4!==e[0].dims.length)throw new TypeError("DepthToSpace input should be a 4-D numeric tensor")}},9828:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createDotProductProgramInfoLoader=void 0;const r=n(2517),o=n(5060),i=n(2039),s=n(2823),a=n(3248);t.createDotProductProgramInfoLoader=(e,t,n,c)=>{const l=((e,t)=>({name:"ConvDotProduct",inputNames:e?["Im2Col","K","B"]:["Im2Col","K"],inputTypes:e?[i.TextureType.unpacked,i.TextureType.packedLastDimension,i.TextureType.unpacked]:[i.TextureType.unpacked,i.TextureType.packedLastDimension],cacheKey:t.activationCacheKey}))(t.length>2,c);return Object.assign(Object.assign({},l),{get:()=>((e,t,n,c,l)=>{const u=n[0].dims,d=n[1].dims,f=[d[0],Math.ceil(u[1]*d[2]*d[3]/4)],h=(0,a.calculateIm2ColDims)(u,d,c),[p,g]=e.calculateTextureWidthAndHeight(f,i.TextureType.packedLastDimension),m=r.ShapeUtil.computeStrides(h),[y,b]=e.calculateTextureWidthAndHeight(h,i.TextureType.packedLastDimension),v=c.length,_=n.length<3?"0.0":"_B(b)",w=Math.ceil(u[1]*d[2]*d[3]/4),{activationFunction:S,applyActivation:x}=(0,s.getActivationSnippet)(l),I=(0,o.getGlsl)(e.session.backend.glContext.version),A=`\n${S}\nfloat process(int indices[${v}]) {\n  int b[1];\n  b[0] = indices[1];\n  int im2col[4];\n  im2col[0] = indices[0];\n  im2col[1] = indices[2];\n  im2col[2] = indices[3];\n  int im2colOffset = im2col[0] * ${m[0]} + im2col[1] * ${m[1]} + im2col[2] * ${m[2]};\n  int kernelOffset = indices[1] * ${f[1]};\n  float value = ${_};\n  for (int i = 0; i < ${w}; ++i) {\n    vec2 im2colCoords = offsetToCoords(im2colOffset, ${y}, ${b});\n    vec2 kernelCoords = offsetToCoords(kernelOffset, ${p}, ${g});\n    value += dot(${I.texture2D}(Im2Col, im2colCoords), ${I.texture2D}(K, kernelCoords));\n    ++im2colOffset;\n    ++kernelOffset;\n  }\n  ${x}\n  return value;\n}`;return Object.assign(Object.assign({},t),{output:{dims:c,type:n[0].type,textureType:i.TextureType.unpacked},shaderSource:A})})(e,l,t,n,c)})}},7992:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseFlattenAttributes=t.flatten=void 0;const r=n(2517);t.flatten=(e,t,n)=>{o(t,n);const i=r.ShapeUtil.flattenShape(t[0].dims,n);return[e.reshapeUnpacked(t[0],i)]},t.parseFlattenAttributes=e=>e.attributes.getInt("axis",1);const o=(e,t)=>{if(!e||1!==e.length)throw new Error("Flatten requires 1 input.");const n=e[0].dims.length;if(0===n)throw new Error("scalar tensor is not supported.");if(t<-n||t>n)throw new Error("Invalid axis");if("string"===e[0].type)throw new Error("string tensor is not supported.")}},2823:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseInternalActivationAttributes=t.getActivationSnippet=void 0;const r=n(2517),o=n(4909);t.getActivationSnippet=function(e){let t;switch(e.activation){case"Relu":t=(0,o.glslRelu)();break;case"Sigmoid":t=(0,o.glslSigmoid)();break;case"Clip":t=(0,o.glslClip)(e.clipMin,e.clipMax);break;default:return{activationFunction:"",applyActivation:""}}const n=t.name;return{activationFunction:t.body,applyActivation:`value = ${n}_(value);`}},t.parseInternalActivationAttributes=e=>{const t=e.getString("activation","");if("Clip"===t){const[n,o]=e.getFloats("activation_params",[r.MIN_CLIP,r.MAX_CLIP]);return{activation:t,clipMax:o,clipMin:n,activationCacheKey:`${t}:${n},${o}`}}return{activation:t,activationCacheKey:t}}},1253:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseGatherAttributes=t.gather=void 0;const r=n(246),o=n(782),i=n(2517),s=n(2039);t.gather=(e,t,n)=>(l(t,n.axis),[e.run(c(e,t,n),t)]),t.parseGatherAttributes=e=>(0,r.createAttributeWithCacheKey)({axis:e.attributes.getInt("axis",0)});const a={name:"Gather",inputNames:["A","B"],inputTypes:[s.TextureType.unpacked,s.TextureType.unpacked]},c=(e,t,n)=>{const r=Object.assign(Object.assign({},a),{cacheHint:n.cacheKey});return Object.assign(Object.assign({},r),{get:()=>((e,t,n,r)=>{const o=n[0].dims.slice(),a=n[1].dims.slice(),c=new Array(o.length+a.length-1);r=i.ShapeUtil.normalizeAxis(r,o.length);const l=[];for(let e=0;e<c.length;e++)e<r?(c[e]=o[e],l.push(`inputIdx[${e}] = outputIdx[${e}];`)):e<r+a.length?(c[e]=a[e-r],l.push(`indexDataIdx[${e-r}] = outputIdx[${e}];`)):(c[e]=o[e-a.length+1],l.push(`inputIdx[${e-a.length+1}] = outputIdx[${e}];`));const u=`\n      float process(int outputIdx[${c.length||1}]) {\n        int inputIdx[${o.length}];\n        int indexDataIdx[${a.length||1}];\n        indexDataIdx[0] = 0;\n        ${l.join("\n        ")}\n        int idx = int(_B(indexDataIdx));\n        inputIdx[${r}] = idx < 0 ? idx + ${o[r]} : idx;\n        return _A(inputIdx);\n      }`;return Object.assign(Object.assign({},t),{output:{dims:c,type:n[0].type,textureType:s.TextureType.unpacked},shaderSource:u})})(0,r,t,n.axis)})},l=(e,t)=>{if(!e||2!==e.length)throw new Error("Gather requires 2 inputs.");const n=e[0].dims.length;if(n<1)throw new Error("Invalid input shape.");if(t<-n||t>n-1)throw new Error("Invalid axis.");if(-1===o.NUMBER_TYPES.indexOf(e[0].type))throw new Error("Invaid input type.");if("int32"!==e[1].type&&"int16"!==e[1].type)throw new Error("Invaid input type.")}},4776:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseGemmAttributesV11=t.parseGemmAttributesV7=t.gemm=void 0;const r=n(246),o=n(2517),i=n(2039);t.gemm=(e,t,n)=>(l(t,n),[e.run(a(t,n),t)]);const s=(e,t)=>{const n=0!==e.attributes.getInt("transA",0),o=0!==e.attributes.getInt("transB",0),i=e.attributes.getFloat("alpha",1),s=e.attributes.getFloat("beta",1);return(0,r.createAttributeWithCacheKey)({transA:n,transB:o,alpha:i,beta:s,isOptionalC:t})};t.parseGemmAttributesV7=e=>s(e,!1),t.parseGemmAttributesV11=e=>s(e,!0);const a=(e,t)=>{const n={name:"Gemm",inputNames:3===e.length?["A","B","C"]:["A","B"],inputTypes:3===e.length?[i.TextureType.unpacked,i.TextureType.unpacked,i.TextureType.unpacked]:[i.TextureType.unpacked,i.TextureType.unpacked],key:t.cacheKey};return Object.assign(Object.assign({},n),{get:()=>c(n,e,t)})},c=(e,t,n)=>{const r=t[0].dims.slice(),s=t[1].dims.slice(),[a,c]=o.GemmUtil.getShapeOfGemmResult(r,n.transA,s,n.transB,3===t.length?t[2].dims:void 0),l=[a,c];if(!l)throw new Error("Can't use gemm on the given tensors");let u=r[r.length-1],d="";n.transA&&(u=r[0]),n.transA&&n.transB?d="value += _A_T(a) * _B_T(b);":n.transA&&!n.transB?d="value += _A_T(a) * _B(b);":!n.transA&&n.transB?d="value += _A(a) * _B_T(b);":n.transA||n.transB||(d="value += _A(a) * _B(b);");const f=l.length,h=`\n      float process(int indices[${f}]) {\n          int a[${f}];\n          int b[${f}];\n          ${3===t.length?`int c[${t[2].dims.length}];`:""}\n\n          copyVec(indices, a);\n          copyVec(indices, b);\n          ${3===t.length?"bcastIndices_C(indices, c);":""}\n\n          float value = 0.0;\n          for (int k=0; k<${u}; ++k) {\n              a[${f-1}] = k;\n              b[${f-2}] = k;\n              ${d}\n          }\n\n          value = value * alpha;\n          ${3===t.length?"value += beta * _C(c);":""}\n          return value;\n      }`;return Object.assign(Object.assign({},e),{output:{dims:l,type:t[0].type,textureType:i.TextureType.unpacked},variables:[{name:"alpha",type:"float",data:n.alpha},{name:"beta",type:"float",data:n.beta}],shaderSource:h})},l=(e,t)=>{if(!e)throw new Error("Input is missing");if(t.isOptionalC&&(e.length<2||e.length>3))throw new Error("Invaid input shape.");if(!t.isOptionalC&&3!==e.length)throw new Error("Gemm requires 3 inputs");if(3===e.length&&1!==e[2].dims.length&&2!==e[2].dims.length)throw new Error("Invalid input shape of C");if("float32"!==e[0].type&&"float64"!==e[0].type||"float32"!==e[1].type&&"float64"!==e[1].type||3===e.length&&"float32"!==e[2].type&&"float64"!==e[2].type)throw new Error("Invalid input type.");if(e[0].type!==e[1].type||3===e.length&&e[0].type!==e[2].type)throw new Error("Input types are mismatched")}},8555:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createPackedIm2ColProgramInfoLoader=void 0;const r=n(5060),o=n(2039),i=n(2827);t.createPackedIm2ColProgramInfoLoader=(e,t,n,s,a)=>{const c=(l=a.cacheKey,{name:"Im2Col (packed)",inputNames:["A"],inputTypes:[o.TextureType.packed],cacheHint:l});var l;return Object.assign(Object.assign({},c),{get:()=>((e,t,n,s,a,c)=>{const l=n.dims,u=s.dims,d=a.length,f=[u[1]*u[2]*u[3],a[2]*a[3]],h=u[2]*u[3],p=(0,i.unpackFromChannel)(),g=(0,r.getGlsl)(e.session.backend.glContext.version);let m="";for(let e=0;e<=1;e++)for(let t=0;t<=1;t++)m+=`\n            blockIndex = rc.x + ${t};\n            pos = rc.y + ${e};\n\n            if(blockIndex < ${f[1]} && pos < ${f[0]}) {\n              offsetY = int(blockIndex / (${a[d-1]})) * ${c.strides[0]} -\n                ${c.pads[0]};\n              d0 = offsetY + ${c.dilations[0]} * (imod(pos, ${h}) / ${u[2]});\n\n              if(d0 < ${l[2]} && d0 >= 0) {\n                offsetX = imod(blockIndex, ${a[d-1]}) * ${c.strides[1]} -\n                  ${c.pads[1]};\n                d1 = offsetX + ${c.dilations[1]} * imod(imod(pos, ${h}), ${u[2]});\n\n                if(d1 < ${l[3]} && d1 >= 0) {\n\n                  ch = int(float(pos)/ ${h}.);\n                    innerDims = vec2(d0, d1);\n                    result[${2*e+t}] = getChannel(\n                      getA(0, ch, int(innerDims.x),\n                      int(innerDims.y)), innerDims);\n                }\n              }\n            }\n\n          `;const y=`\n      ${p}\n\n      void main() {\n        ivec2 rc = getOutputCoords();\n          vec4 result = vec4(0.0);\n          int blockIndex, pos, offsetY, d0, offsetX, d1, ch;\n          vec2 innerDims;\n          ${m}\n          ${g.output} = result;\n      }\n            `;return Object.assign(Object.assign({},t),{output:{dims:f,type:n.type,textureType:o.TextureType.packed},shaderSource:y,hasMain:!0})})(e,c,t,n,s,a)})}},3248:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.calculateIm2ColDims=t.createIm2ColProgramInfoLoader=void 0;const r=n(2039);t.createIm2ColProgramInfoLoader=(e,n,o,i,s)=>{const a=(c=s.cacheKey,{name:"Im2Col",inputNames:["X"],inputTypes:[r.TextureType.unpacked],cacheHint:c});var c;return Object.assign(Object.assign({},a),{get:()=>((e,n,o,i,s,a)=>{const c=o.dims,l=i.dims,u=s.length,d=(0,t.calculateIm2ColDims)(c,l,s,4),f=`\n        const int XC = ${c[1]};\n        const int XH = ${c[2]};\n        const int XW = ${c[3]};\n        const int KH = ${a.kernelShape[0]};\n        const int KW = ${a.kernelShape[1]};\n        const int dilationH = ${a.dilations[0]};\n        const int dilationW = ${a.dilations[1]};\n        const int strideH = ${a.strides[0]};\n        const int strideW = ${a.strides[1]};\n        const int padH = ${a.pads[0]};\n        const int padW = ${a.pads[1]};\n        const int KHKW = KH*KW;\n        const int XCKHKW = XC * KHKW;\n        const int outputChannels = 4;\n        vec4 process(int indices[${u}]) {\n          int b  = indices[0]; // batch size\n          int oh = indices[1] * strideH - padH; //output height\n          int ow = indices[2] * strideW - padW; //output width\n          int p = indices[3] * outputChannels; //patch\n          vec4 value = vec4(0.0);\n          for(int i=0; i < outputChannels; ++i) {\n            if(p < XCKHKW) {\n              int patchC = p / KHKW;\n              int patchH = (p - patchC*KHKW) / KW;\n              int patchW = (p - patchC*KHKW) - patchH * KW;\n              int xh2 = oh + patchH * dilationH;\n              int xw2 = ow + patchW * dilationW;\n              int x[${c.length}];\n              x[0] = b;\n              x[1] = patchC;\n              x[2] = xh2;\n              x[3] = xw2;\n              if(xh2 >= 0 &&\n                  xh2 < XH &&\n                  xw2 >= 0 &&\n                  xw2 < XW) {\n                value[i] = _X(x);\n              }\n            }\n            ++p;\n          }\n          return value;\n        }\n        `;return Object.assign(Object.assign({},n),{output:{dims:d,type:o.type,textureType:r.TextureType.packedLastDimension},shaderSource:f})})(0,a,n,o,i,s)})},t.calculateIm2ColDims=(e,t,n,r=4)=>[n[0],n[2],n[3],Math.ceil(e[1]*t[2]*t[3]/r)]},6572:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseImageScalerAttributes=t.imageScaler=void 0;const r=n(246),o=n(2039);t.imageScaler=(e,t,n)=>(c(t),[e.run(s(e,t,n),t)]),t.parseImageScalerAttributes=e=>{const t=e.attributes.getFloat("scale"),n=e.attributes.getFloats("bias");return(0,r.createAttributeWithCacheKey)({scale:t,bias:n})};const i={name:"ImageScaler",inputNames:["X"],inputTypes:[o.TextureType.unpacked]},s=(e,t,n)=>{const r=Object.assign(Object.assign({},i),{cacheHint:n.cacheKey});return Object.assign(Object.assign({},r),{get:()=>((e,t,n,r)=>{const i=n[0].dims.slice(),s=i.length,c=`\n      ${a(r.bias.length)}\n      float process(int indices[${s}]) {\n        return _X(indices) * scale + getBias(bias, indices[1]);\n      }`;return Object.assign(Object.assign({},t),{output:{dims:i,type:n[0].type,textureType:o.TextureType.unpacked},variables:[{name:"bias",type:"float",arrayLength:r.bias.length,data:r.bias},{name:"scale",type:"float",data:r.scale}],shaderSource:c})})(0,r,t,n)})},a=e=>{const t=[`float getBias(float bias[${e}], int channel) {`];for(let n=0;n<e;++n)0===n?t.push(`\tif (channel == ${n}) { return bias[${n}]; }`):n===e-1?t.push(`\telse { return bias[${n}]; }`):t.push(`\telse if (channel == ${n}) { return bias[${n}]; }`);return t.push("\t}"),t.join("\n")},c=e=>{if(!e||1!==e.length)throw new Error("ImageScaler requires 1 input.");if(4!==e[0].dims.length)throw new Error("Invalid input shape.");if("float32"!==e[0].type&&"float64"!==e[0].type)throw new Error("Invalid input type.")}},3346:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseInstanceNormalizationAttributes=t.instanceNormalization=void 0;const r=n(5060),o=n(2039);t.instanceNormalization=(e,t,n)=>{l(t);const r=e.run(s(t[0]),t);return[e.run(c(e,t[0],n,r.dims),[t[0],r,t[1],t[2]])]},t.parseInstanceNormalizationAttributes=e=>e.attributes.getFloat("epsilon",1e-5);const i={name:"InstanceNormalization_MeanAndVariance",inputNames:["X"],inputTypes:[o.TextureType.unpacked]},s=e=>Object.assign(Object.assign({},i),{get:()=>((e,t)=>{const n=t.dims.slice(),r=n[1],i=n[2]*n[3],s=[n[0],r],a=`\n      vec4 process(int[2] indices) {\n        vec4 v = vec4(0.0);\n        int a[4];\n        a[0] = indices[0];\n        a[1] = indices[1];\n        float temp = 0.0;\n        for(int a2=0; a2<${n[2]}; a2++) {\n          a[2] = a2;\n          for(int a3=0; a3<${n[3]}; a3++) {\n            a[3] = a3;\n            float x = _X(a);\n            temp += x;\n          }\n        }\n        float mean = temp / float(${i});\n        temp = 0.0;\n        for(int a2=0; a2<${n[2]}; a2++) {\n          a[2] = a2;\n          for(int a3=0; a3<${n[3]}; a3++) {\n            a[3] = a3;\n            float x = _X(a);\n            temp += (x - mean) * (x - mean);\n          }\n        }\n        v.r = mean;\n        v.g = temp / float(${i});\n\n        return v;\n      }`;return Object.assign(Object.assign({},e),{output:{dims:s,type:t.type,textureType:o.TextureType.packedLastDimension},shaderSource:a})})(i,e)}),a={name:"InstanceNormalization_ComputeOutput",inputNames:["X","MeanAndVariance","Scale","B"],inputTypes:[o.TextureType.unpacked,o.TextureType.packedLastDimension,o.TextureType.unpacked,o.TextureType.unpacked]},c=(e,t,n,i)=>{const s=Object.assign(Object.assign({},a),{cacheHint:`${n}`});return Object.assign(Object.assign({},s),{get:()=>((e,t,n,i,s)=>{const a=(0,r.getGlsl)(e.session.backend.glContext.version),[c,l]=e.calculateTextureWidthAndHeight(s,o.TextureType.packedLastDimension),[u,d]=[c/4,l],f=`\n      vec4 get_MeanAndVariance(int[2] mv) {\n        int offset = indicesToOffset_MeanAndVariance(mv);\n        vec2 coords = offsetToCoords(offset, ${u}, ${d});\n        return ${a.texture2D}(MeanAndVariance, coords);\n      }\n\n      float process(int[4] indices) {\n        int mv[2];\n        mv[0] = indices[0];\n        mv[1] = indices[1];\n        vec4 mean_and_variance = get_MeanAndVariance(mv);\n        float mean = mean_and_variance.r;\n        float variance = mean_and_variance.g;\n\n        int sb[1];\n        sb[0] = indices[1];\n        float scale = _Scale(sb);\n        float b = _B(sb);\n\n        return scale * (_X(indices) - mean) / sqrt(variance + epsilon) + b;\n      }`;return Object.assign(Object.assign({},t),{output:{dims:n.dims,type:n.type,textureType:o.TextureType.unpacked},variables:[{name:"epsilon",type:"float",data:i}],shaderSource:f})})(e,s,t,n,i)})},l=e=>{if(!e||3!==e.length)throw new Error("InstanceNormalization requires 3 inputs.");const t=e[0],n=e[1],r=e[2];if(t.dims.length<3||1!==n.dims.length||1!==r.dims.length)throw new Error("Invalid input shape.");if(n.dims[0]!==t.dims[1]||r.dims[0]!==t.dims[1])throw new Error("Input shapes are mismatched.");if("float32"!==t.type&&"float64"!==t.type||"float32"!==n.type&&"float64"!==n.type||"float32"!==r.type&&"float64"!==r.type)throw new Error("Invalid input type.");if(4!==e[0].dims.length)throw new Error("Only support 4-D input shape.")}},708:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createPackedMatmulProgramInfoLoader=void 0;const r=n(2517),o=n(5060),i=n(2039),s=n(9390),a=n(2823),c=n(5623);t.createPackedMatmulProgramInfoLoader=(e,t,n)=>{const l=(u=t.length>2,d=n.activationCacheKey,{name:"MatMul (packed)",inputNames:u?["A","B","Bias"]:["A","B"],inputTypes:u?[i.TextureType.packed,i.TextureType.packed,i.TextureType.packed]:[i.TextureType.packed,i.TextureType.packed],cacheHint:d});var u,d;return Object.assign(Object.assign({},l),{get:()=>((e,t,n,l)=>{const u=n.length>2,d=u?"value += getBiasForMatmul();":"",f=n[0].dims,h=n[1].dims,p=r.BroadcastUtil.calcShape(f,h,!0),g=!r.ShapeUtil.areEqual(n[0].dims,n[1].dims);if(!p)throw new Error("Can't use matmul on the given tensors");const m=f[f.length-1],y=Math.ceil(m/2),b=f.length,v=h.length,_=(0,o.getGlsl)(e.session.backend.glContext.version),w=(0,s.getCoordsDataType)(p.length),S=p.length,x=(0,s.getGlChannels)(),{activationFunction:I,applyActivation:A}=(0,a.getActivationSnippet)(l),C=u?`${(0,c.getBiasForMatmul)(w,x,n[2].dims,p,!0)}`:"",k=g?`${function(e,t,n,o){let i=[],s=[];const a=n[0].dims,c=n[1].dims,l=a.length,u=c.length,d=o.length,f=d-l,h=d-u;i=a.map((e,n)=>`coords.${t[n+f]}`),i[l-1]="i*2",i.join(", "),s=c.map((e,n)=>`coords.${t[n+h]}`),s[u-2]="i*2",s.join(", ");const p=r.BroadcastUtil.getBroadcastDims(a,o),g=r.BroadcastUtil.getBroadcastDims(c,o),m=p.map(e=>`coords.${t[e+f]} = 0;`).join("\n"),y=g.map(e=>`coords.${t[e+h]} = 0;`).join("\n"),b=`int lastDim = coords.${t[d-1]};\n  coords.${t[d-1]} = coords.${t[d-2]};\n  coords.${t[d-2]} = lastDim;`;return`\nvec4 getAAtOutCoordsMatmul(int i) {\n  ${e} coords = getOutputCoords();\n  ${b}\n  ${m}\n  vec4 outputValue = getA(${i});\n  return outputValue;\n}\n\nvec4 getBAtOutCoordsMatmul(int i) {\n  ${e} coords = getOutputCoords();\n  ${b}\n  ${y}\n  vec4 outputValue = getB(${s});\n  return outputValue;\n}`}(w,x,n,p)}`:"",E=g?"getAAtOutCoordsMatmul(i)":`getA(${function(e,t){let n="";for(let r=0;r<t-2;r++)n+=`rc.${e[r]}, `;return n+=`rc.${e[t-2]}, i*2`,n}(x,b)})`,T=g?"getBAtOutCoordsMatmul(i)":`getB(${function(e,t){let n="";for(let r=0;r<t-2;r++)n+=`rc.${e[r]}, `;return n+=`i*2, rc.${e[t-1]}`,n}(x,v)})`,P=`\n            ${k}\n            ${C}\n            ${I}\n            void main() {\n              ${g?"":`${w} rc =\n          getOutputCoords(); int lastDim = rc.${x[S-1]}; rc.${x[S-1]} =\n          rc.${x[S-2]}; rc.${x[S-2]} = lastDim;\n      `}\n\n              vec4 value = vec4(0);\n              for (int i = 0; i < ${y}; i++) {\n                vec4 a = ${E};\n                vec4 b = ${T};\n\n                value += (a.rrbb * b.rgrg);\n                value += (a.ggaa * b.baba);\n              }\n              ${d}\n              ${A}\n              ${_.output} = value;\n            }`;return Object.assign(Object.assign({},t),{output:{dims:p,type:n[0].type,textureType:i.TextureType.packed},shaderSource:P,hasMain:!0})})(e,l,t,n)})}},5623:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getBiasForMatmul=t.createMatmulProgramInfoLoader=t.parseMatMulAttributes=t.matMul=void 0;const r=n(2517),o=n(2039),i=n(9390),s=n(2823),a=n(708);function c(e,t){const n=(a=e.length>2,c=t.activationCacheKey,{name:"MatMul",inputNames:a?["A","B","Bias"]:["A","B"],inputTypes:a?[o.TextureType.unpacked,o.TextureType.unpacked,o.TextureType.unpacked]:[o.TextureType.unpacked,o.TextureType.unpacked],cacheHint:c});var a,c;return Object.assign(Object.assign({},n),{get:()=>function(e,t,n){const a=t[0].dims,c=t[1].dims,l=r.BroadcastUtil.calcShape(a,c,!0);if(!l)throw new Error("Can't use matmul on the given tensors");const d=(0,i.getCoordsDataType)(l.length),f=(0,i.getGlChannels)(),{activationFunction:h,applyActivation:p}=(0,s.getActivationSnippet)(n),g=t.length>2,m=g?"value += getBiasForMatmul();":"",y=g?`${u(d,f,t[2].dims,l,!1)}`:"",b=l.length,v=a.length,_=c.length,w=`\n    ${h}\n    ${y}\n    float process(int indices[${b}]) {\n        int a[${v}];\n        int b[${_}];\n        bcastMatmulIndices_A(indices, a);\n        bcastMatmulIndices_B(indices, b);\n\n        float value;\n        for (int k=0; k<${a[a.length-1]}; ++k) {\n            a[${v-1}] = k;\n            b[${_-2}] = k;\n            value += _A(a) * _B(b);\n        }\n        ${m}\n        ${p}\n        return value;\n    }`;return Object.assign(Object.assign({},e),{output:{dims:l,type:t[0].type,textureType:o.TextureType.unpacked},shaderSource:w})}(n,e,t)})}t.matMul=(e,t,n)=>(l(t),e.session.pack?[e.run((0,a.createPackedMatmulProgramInfoLoader)(e,t,n),t)]:[e.run(c(t,n),t)]),t.parseMatMulAttributes=e=>(0,s.parseInternalActivationAttributes)(e.attributes),t.createMatmulProgramInfoLoader=c;const l=e=>{if(!e||2!==e.length)throw new Error("MatMul requires 2 inputs.");if(e[0].dims[e[0].dims.length-1]!==e[1].dims[e[1].dims.length-2])throw new Error("shared dimension does not match.");if("float32"!==e[0].type&&"float64"!==e[0].type||"float32"!==e[1].type&&"float64"!==e[1].type)throw new Error("inputs should be float type");if(e[0].type!==e[1].type)throw new Error("inputs types should match")};function u(e,t,n,o,i){let s="";const a=n.length,c=o.length,l=c-a;s=c<2&&a>0?"coords":n.map((e,n)=>`coords.${t[n+l]}`).join(", ");const u=r.BroadcastUtil.getBroadcastDims(n,o).map(e=>`coords.${t[e+l]} = 0;`).join("\n");let d="vec4(outputValue.xx, outputValue.yy)";return 1===r.ShapeUtil.size(n)&&(d="vec4(outputValue.x)"),i?`\nvec4 getBiasForMatmul() {\n  ${e} coords = getOutputCoords();\n  ${u}\n  vec4 outputValue = getBias(${s});\n  return ${d};\n}`:`\nfloat getBiasForMatmul() {\n  ${e} coords = getOutputCoords();\n  ${u}\n  return getBias(coords.x);\n}`}t.getBiasForMatmul=u},2403:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createPackProgramInfoLoader=void 0;const r=n(5060),o=n(2039),i=n(9390),s=n(2827),a={name:"pack",inputNames:["A"],inputTypes:[o.TextureType.unpackedReversed]};t.createPackProgramInfoLoader=(e,t)=>Object.assign(Object.assign({},a),{get:()=>((e,t)=>{const n=(0,r.getGlsl)(e.session.backend.glContext.version),c=t.dims,l=c.length,u=t.dims.length,d=(0,i.getCoordsDataType)(u),f=(0,s.getChannels)("rc",u),h=(p=u,g=f,m=c[c.length-2],y=c[c.length-1],0===p||1===p?"":`\n    int r = ${g[p-2]};\n    int c = ${g[p-1]};\n    int rp1 = ${g[p-2]} + 1;\n    int cp1 = ${g[p-1]} + 1;\n    bool rEdge = rp1 >= ${y};\n    bool cEdge = cp1 >= ${m};\n    `);var p,g,m,y;let b;b=0===l?[1,1]:1===l?[c[0],1]:[c[u-1],c[u-2]];const v=function(e,t,n){if(0===e)return"false";if(1===e)return`rc > ${t[0]}`;let r="";for(let o=e-2;o<e;o++)r+=`${n[o]} >= ${t[o-e+2]}`,o<e-1&&(r+="||");return r}(u,b,f),_=function(e,t){const n=e.length;if(0===n)return"getA(), 0, 0, 0";if(1===n)return`getA(rc),\n            rc + 1 >= ${e[0]} ? 0. : getA(rc + 1),\n            0, 0`;let r="";if(n>2)for(let e=0;e<n-2;++e)r+=`${t[e]},`;return`getA(${r}r, c),\n          rEdge ? 0. : getA(${r}rp1, c),\n          cEdge ? 0. : getA(${r}r, cp1),\n          rEdge || cEdge ? 0. : getA(${r}rp1, cp1)`}(c,f),w=`\n        void main() {\n          ${d} rc = getOutputCoords();\n\n          if(${v}) {\n            ${n.output} = vec4(0);\n          } else {\n            ${h}\n\n            ${n.output} = vec4(${_});\n          }\n        }\n      `;return Object.assign(Object.assign({},a),{hasMain:!0,output:{dims:t.dims,type:t.type,textureType:o.TextureType.packed},shaderSource:w})})(e,t)})},2827:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.unpackFromChannel=t.getChannels=t.getVecChannels=void 0;const r=n(9390);function o(e,t){return(0,r.getGlChannels)(t).map(t=>`${e}.${t}`)}t.getVecChannels=o,t.getChannels=function(e,t){return 1===t?[e]:o(e,t)},t.unpackFromChannel=function(){return"\n    float getChannel(vec4 frag, int dim) {\n      int modCoord = imod(dim, 2);\n      return modCoord == 0 ? frag.r : frag.g;\n    }\n\n    float getChannel(vec4 frag, vec2 innerDims) {\n      vec2 modCoord = mod(innerDims, 2.);\n      return modCoord.x == 0. ?\n        (modCoord.y == 0. ? frag.r : frag.g) :\n        (modCoord.y == 0. ? frag.b : frag.a);\n    }\n  "}},2870:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parsePadAttributesV11=t.padV11=t.parsePadAttributesV2=t.padV2=void 0;const r=n(246),o=n(2517),i=n(5060),s=n(2039),a={name:"Pad",inputNames:["A"],inputTypes:[s.TextureType.unpacked]};t.padV2=(e,t,n)=>(u(t),[e.run(Object.assign(Object.assign({},a),{cacheHint:n.cacheKey,get:()=>l(e,t[0],n)}),t)]),t.parsePadAttributesV2=e=>{const t=e.attributes.getString("mode","constant"),n=e.attributes.getFloat("value",0),o=e.attributes.getInts("pads");return(0,r.createAttributeWithCacheKey)({mode:t,value:n,pads:o})},t.padV11=(e,n,r)=>{d(n);const o=c(e,n,r);return(0,t.padV2)(e,[n[0]],o)},t.parsePadAttributesV11=e=>e.attributes.getString("mode","constant");const c=(e,t,n)=>{if(!e.session.isInitializer(t[1].dataId)||t.length>=3&&!e.session.isInitializer(t[2].dataId))throw new Error("dynamic pad attributes are not allowed");const o=Array.from(t[1].integerData),i=t.length>=3?t[2].floatData[0]:0;return(0,r.createAttributeWithCacheKey)({mode:n,pads:o,value:i})},l=(e,t,n)=>{const r=o.ShapeUtil.padShape(t.dims.slice(),n.pads),i=r.length,a=`\n      ${f(e,t,n)}\n      float process(int[${i}] indices) {\n          return padA(indices);\n      }`;return{name:"Pad",inputNames:["A"],inputTypes:[s.TextureType.unpacked],output:{dims:r,type:t.type,textureType:s.TextureType.unpacked},shaderSource:a}},u=e=>{if(!e||1!==e.length)throw new Error("Pad requires 1 input");if("float32"!==e[0].type&&"float64"!==e[0].type)throw new Error("Invalid input type.")},d=e=>{if(!e||2!==e.length&&3!==e.length)throw new Error("Pad requires 2 or 3 inputs");if("int32"!==e[1].type)throw new Error("Invalid input type.");if(e.length>=3&&"string"===e[2].type)throw new Error("Invalid input type.")},f=(e,t,n)=>{const r=(0,i.getGlsl)(e.session.backend.glContext.version),[a,c]=e.calculateTextureWidthAndHeight(t.dims,s.TextureType.unpacked),l=o.ShapeUtil.computeStrides(t.dims);switch(n.mode){case"constant":return h(r,t.dims,l,a,c,n.pads,n.value);case"reflect":return p(r,t.dims,l,a,c,n.pads);case"edge":return g(r,t.dims,l,a,c,n.pads);default:throw new Error("Invalid mode")}},h=(e,t,n,r,o,i,s)=>{const a=t.length;let c="";for(let e=a-1;e>=0;--e)c+=`\n        k = m[${e}] - ${i[e]};\n        if (k < 0)  return constant;\n        if (k >= ${t[e]}) return constant;\n        offset += k * ${n[e]};\n        `;return`\n      float padA(int m[${a}]) {\n        const float constant = float(${s});\n        int offset = 0;\n        int k = 0;\n        ${c}\n        vec2 coords = offsetToCoords(offset, ${r}, ${o});\n        float value = getColorAsFloat(${e.texture2D}(A, coords));\n        return value;\n      }\n      `},p=(e,t,n,r,o,i)=>{const s=t.length;let a="";for(let e=s-1;e>=0;--e)a+=`\n        k = m[${e}] - ${i[e]};\n        if (k < 0) { k = -k; }\n        {\n          const int _2n_1 = ${2*(t[e]-1)};\n          k = int( mod( float(k), float(_2n_1) ) ) ;\n          if(k >= ${t[e]}) { k = _2n_1 - k; }\n        }\n        offset += k * ${n[e]};\n        `;return`\n      float padA(int m[${s}]) {\n        int offset = 0;\n        int k = 0;\n        ${a}\n        vec2 coords = offsetToCoords(offset, ${r}, ${o});\n        float value = getColorAsFloat(${e.texture2D}(A, coords));\n        return value;\n      }\n      `},g=(e,t,n,r,o,i)=>{const s=t.length;let a="";for(let e=s-1;e>=0;--e)a+=`\n        k = m[${e}] - ${i[e]};\n        if (k < 0)  k = 0;\n        if (k >= ${t[e]}) k = ${t[e]-1};\n        offset += k * ${n[e]};\n      `;return`\n      float padA(int m[${s}]) {\n        int offset = 0;\n        int k = 0;\n        ${a}\n        vec2 coords = offsetToCoords(offset, ${r}, ${o});\n        float value = getColorAsFloat(${e.texture2D}(A, coords));\n        return value;\n      }\n      `}},2143:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.globalMaxPool=t.parseMaxPoolAttributes=t.maxPool=t.parseGlobalAveragePoolAttributes=t.globalAveragePool=t.parseAveragePoolAttributes=t.averagePool=void 0;const r=n(246),o=n(2517),i=n(2039);t.averagePool=(e,t,n)=>{d(t);const r={name:"AveragePool",inputNames:["X"],inputTypes:[i.TextureType.unpacked],cacheHint:n.cacheKey};return[e.run(Object.assign(Object.assign({},r),{get:()=>s(t,r,!1,n)}),t)]},t.parseAveragePoolAttributes=e=>{const t=e.attributes.getString("auto_pad","NOTSET"),n=e.attributes.getInt("ceil_mode",0),o=0!==e.attributes.getInt("count_include_pad",0),i=e.attributes.getInts("kernel_shape"),s=e.attributes.getInts("strides",[]),a=e.attributes.getInts("pads",[]);if(0!==n)throw new Error("using ceil() in shape computation is not yet supported for AveragePool");return(0,r.createAttributeWithCacheKey)({autoPad:t,ceilMode:n,countIncludePad:o,kernelShape:i,strides:s,pads:a})};const s=(e,t,n,r)=>{const[s,a]=c(e,r,n),l=o.ShapeUtil.size(s.kernelShape);let u="";s.countIncludePad?u+=`value /= float(${l});`:u+=`value /= float(${l} - pad);`;const d=`\n        ${f(e[0].dims,s,"value += _X(x);",u,"0.0")}\n      `;return Object.assign(Object.assign({},t),{output:{dims:a,type:e[0].type,textureType:i.TextureType.unpacked},shaderSource:d})};t.globalAveragePool=(e,t,n)=>{d(t);const r={name:"GlobalAveragePool",inputNames:["X"],inputTypes:[i.TextureType.unpacked],cacheHint:`${n.countIncludePad}`};return[e.run(Object.assign(Object.assign({},r),{get:()=>s(t,r,!0,n)}),t)]},t.parseGlobalAveragePoolAttributes=e=>{const t=0!==e.attributes.getInt("count_include_pad",0);return(0,r.createAttributeWithCacheKey)({autoPad:"",ceilMode:0,countIncludePad:t,kernelShape:[],strides:[],pads:[]})},t.maxPool=(e,t,n)=>{d(t);const r={name:"MaxPool",inputNames:["X"],inputTypes:[i.TextureType.unpacked],cacheHint:n.cacheKey};return[e.run(Object.assign(Object.assign({},r),{get:()=>a(t,r,!1,n)}),t)]},t.parseMaxPoolAttributes=e=>{const t=e.attributes.getString("auto_pad","NOTSET"),n=e.attributes.getInt("ceil_mode",0),o=e.attributes.getInts("kernel_shape"),i=e.attributes.getInts("strides",[]),s=e.attributes.getInts("pads",[]),a=e.attributes.getInt("storage_order",0),c=e.attributes.getInts("dilations",[]);if(0!==a)throw new Error("column major storage order is not yet supported for MaxPool");if(0!==n)throw new Error("using ceil() in shape computation is not yet supported for MaxPool");return(0,r.createAttributeWithCacheKey)({autoPad:t,ceilMode:n,countIncludePad:!1,kernelShape:o,strides:i,pads:s,storageOrder:a,dilations:c})};const a=(e,t,n,r)=>{const[o,s]=c(e,r,n),a=`\n      ${f(e[0].dims,o,"\n      value = max(_X(x), value);\n    ","","-1e5")}\n    `;return Object.assign(Object.assign({},t),{output:{dims:s,type:e[0].type,textureType:i.TextureType.unpacked},shaderSource:a})},c=(e,t,n)=>{const r=e[0].dims.slice(),i=Object.hasOwnProperty.call(t,"dilations"),s=t.kernelShape.slice(),a=t.strides.slice(),c=i?t.dilations.slice():[],l=t.pads.slice();o.PoolConvUtil.adjustPoolAttributes(n,r,s,a,c,l);const u=o.PoolConvUtil.computePoolOutputShape(n,r,a,c,s,l,t.autoPad),d=Object.assign({},t);return i?Object.assign(d,{kernelShape:s,strides:a,pads:l,dilations:c,cacheKey:t.cacheKey}):Object.assign(d,{kernelShape:s,strides:a,pads:l,cacheKey:t.cacheKey}),[d,u]},l={autoPad:"",ceilMode:0,countIncludePad:!1,kernelShape:[],strides:[],pads:[],storageOrder:0,dilations:[],cacheKey:""},u={name:"GlobalMaxPool",inputNames:["X"],inputTypes:[i.TextureType.unpacked]};t.globalMaxPool=(e,t)=>(d(t),[e.run(Object.assign(Object.assign({},u),{get:()=>a(t,u,!0,l)}),t)]);const d=e=>{if(!e||1!==e.length)throw new Error("Pool ops requires 1 input.");if("float32"!==e[0].type&&"float64"!==e[0].type)throw new Error("Invalid input type.")},f=(e,t,n,r,i)=>{const s=e.length;if(t.kernelShape.length<=2){const o=t.kernelShape[t.kernelShape.length-1],a=t.strides[t.strides.length-1],c=t.pads[t.pads.length/2-1],l=t.pads[t.pads.length-1],u=e[s-1];let d="",f="",h="";if(d=c+l!==0?`\n          for (int i = 0; i < ${o}; i++) {\n            x[${s} - 1] = indices[${s} - 1] * ${a} - ${c} + i;\n            if (x[${s} - 1] < 0 || x[${s} - 1] >= ${u}) {\n              pad++;\n              continue;\n            }\n            ${n}\n          }`:`\n          for (int i = 0; i < ${o}; i++) {\n            x[${s} - 1] = indices[${s} - 1] * ${a} - ${c} + i;\n            ${n}\n          }`,2===t.kernelShape.length){const n=t.kernelShape[t.kernelShape.length-2],r=t.strides[t.strides.length-2],i=t.pads[t.pads.length/2-2],a=t.pads[t.pads.length-2],c=e[s-2];f=i+a!==0?`\n            for (int j = 0; j < ${n}; j++) {\n              x[${s} - 2] = indices[${s} - 2] * ${r} - ${i} + j;\n              if (x[${s} - 2] < 0 || x[${s} - 2] >= ${c}) {\n                pad+= ${o};\n                continue;\n              }\n          `:`\n            for (int j = 0; j < ${n}; j++) {\n              x[${s} - 2] = indices[${s} - 2] * ${r} - ${i} + j;\n            `,h="\n          }\n        "}return`\n        float process(int indices[${s}]) {\n          int x[${s}];\n          copyVec(indices, x);\n\n          float value = ${i};\n          int pad = 0;\n          ${f}\n          ${d}\n          ${h}\n          ${r}\n          return value;\n        }\n      `}{const a=o.ShapeUtil.size(t.kernelShape),c=o.ShapeUtil.computeStrides(t.kernelShape),l=c.length,u=t.pads.length,d=p(l),f=h(e,"inputDims"),g=h(t.pads,"pads"),m=h(c,"kernelStrides"),y=h(t.strides,"strides");let b="";return b=t.pads.reduce((e,t)=>e+t)?`\n            if (x[j] >= inputDims[j] || x[j] < 0) {\n              pad++;\n              isPad = true;\n              break;\n            }\n          }\n          if (!isPad) {\n            ${n}\n          }`:`\n          }\n          ${n}\n        `,`\n        ${d}\n        float process(int indices[${s}]) {\n          int x[${s}];\n          copyVec(indices, x);\n          int offset[${l}];\n          int pads[${u}];\n          int inputDims[${s}];\n          int kernelStrides[${l}];\n          int strides[${l}];\n          ${g}\n          ${f}\n          ${y}\n          ${m}\n\n          float value = ${i};\n          int pad = 0;\n          bool isPad = false;\n          for (int i = 0; i < ${a}; i++) {\n            offsetToIndices(i, kernelStrides, offset);\n            isPad = false;\n            for (int j = ${s} - ${l}; j < ${s}; j++) {\n              x[j] = indices[j] * strides[j - ${s} + ${l}]\n                + offset[j - ${s} + ${l}] - pads[j - 2];\n              ${b}\n          }\n          ${r}\n\n          return value;\n        }\n      `}},h=(e,t)=>{let n="";for(let r=0;r<e.length;r++)n+=`\n      ${t}[${r}] = ${e[r]};\n    `;return n},p=e=>`\n  void offsetToIndices(int offset, int[${e}] strides, out int[${e}] indices) {\n    if (${e} == 0) {\n      return;\n    }\n    for (int i = 0; i < ${e} - 1; ++i) {\n      indices[i] = offset / strides[i];\n      offset -= indices[i] * strides[i];\n    }\n    indices[${e} - 1] = offset;\n  }`},4939:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.reduceLogSumSquare=t.reduceLogSum=t.reduceProd=t.reduceMin=t.reduceMax=t.reduceMean=t.reduceSum=t.parseReduceAttributes=void 0;const r=n(246),o=n(782),i=n(2517),s=n(2039),a=(e,t,n,r,o)=>{l(t);const i={name:r,inputNames:["A"],inputTypes:[s.TextureType.unpacked]};return[e.run(Object.assign(Object.assign({},i),{cacheHint:n.cacheKey,get:()=>c(e,t,n,r,o,i)}),t)]};t.parseReduceAttributes=e=>{const t=e.attributes.getInts("axes",[]),n=1===e.attributes.getInt("keepdims",1);return(0,r.createAttributeWithCacheKey)({axes:t,keepDims:n})};const c=(e,t,n,r,o,a)=>{const c=[],l=t[0].dims.length||1,u=[],d=i.ShapeUtil.normalizeAxes(n.axes,t[0].dims.length),f=o(t,d);let h=f[1];for(let e=0;e<t[0].dims.length;e++)d.indexOf(e)>=0||0===d.length?(n.keepDims&&c.push(1),h=`\n          for(int j${e} = 0; j${e} < ${t[0].dims[e]}; j${e}++) {\n            inputIdx[${e}] = j${e};\n            ${h}\n          }`):(u.push(`inputIdx[${e}] = outputIdx[${c.length}];`),c.push(t[0].dims[e]));const p=`\n      float process(int outputIdx[${c.length||1}]) {\n        float value;                 // final result\n        int inputIdx[${l}];      // addressing input data\n        ${u.join("\n")}\n        ${f[0]}       // init ops for reduce max/min\n        ${h}\n        ${f[2]}       // final computation for reduce mean\n        return value;\n      }`;return Object.assign(Object.assign({},a),{output:{dims:c,type:t[0].type,textureType:s.TextureType.unpacked},shaderSource:p})},l=e=>{if(!e||1!==e.length)throw new Error("Reduce op requires 1 input.");if(-1===o.NUMBER_TYPES.indexOf(e[0].type))throw new Error("Invalid input type.")};t.reduceSum=(e,t,n)=>a(e,t,n,"ReduceSum",()=>["value = 0.0;","value += _A(inputIdx);",""]),t.reduceMean=(e,t,n)=>a(e,t,n,"ReduceMean",(e,t)=>{let n=1;for(let r=0;r<e[0].dims.length;r++)(t.indexOf(r)>=0||0===t.length)&&(n*=e[0].dims[r]);return["value = 0.0;","value += _A(inputIdx);",`value /= ${n}.;`]}),t.reduceMax=(e,t,n)=>a(e,t,n,"ReduceMax",(e,t)=>{const n=[];for(let r=0;r<e[0].dims.length;r++)(t.indexOf(r)>=0||0===t.length)&&n.push(`inputIdx[${r}] = 0;`);return[`${n.join("\n")}\nvalue = _A(inputIdx);`,"value = max(value, _A(inputIdx));",""]}),t.reduceMin=(e,t,n)=>a(e,t,n,"ReduceMin",(e,t)=>{const n=[];for(let r=0;r<e[0].dims.length;r++)(t.indexOf(r)>=0||0===t.length)&&n.push(`inputIdx[${r}] = 0;`);return[`${n.join("\n")}\nvalue = _A(inputIdx);`,"value = min(value, _A(inputIdx));",""]}),t.reduceProd=(e,t,n)=>a(e,t,n,"ReduceProd",()=>["value = 1.0;","value *= _A(inputIdx);",""]),t.reduceLogSum=(e,t,n)=>a(e,t,n,"ReduceLogSum",()=>["value = 0.0;","value += _A(inputIdx);","value = log(value);"]),t.reduceLogSumSquare=(e,t,n)=>a(e,t,n,"ReduceLogSumSquare",()=>["float t; value = 0.0;","t = _A(inputIdx); value += t * t;",""])},7019:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isReshapeCheap=t.processDims3D=t.createPackedReshape3DProgramInfoLoader=void 0;const r=n(2517),o=n(5060),i=n(2039),s=n(2827);t.createPackedReshape3DProgramInfoLoader=(e,t,n)=>{const a=(e=>({name:"Reshape (packed)",inputTypes:[i.TextureType.packed],inputNames:["A"],cacheHint:`${e}`}))(n);return Object.assign(Object.assign({},a),{get:()=>((e,t,n,a)=>{const c=t.dims,l=a;let u="";for(let e=0;e<4;e++){let t="";switch(e){case 0:t="outputCoords = rc;";break;case 1:t="outputCoords = ivec3(rc.x, rc.y+1, rc.z);";break;case 2:t="outputCoords = ivec3(rc.x, rc.y, rc.z+1);";break;case 3:t="outputCoords = ivec3(rc.x, rc.y+1, rc.z+1);";break;default:throw new Error}u+=`\n        ${t}\n        ${e>0?"if(outputCoords.y < rows && outputCoords.z < cols){":""}\n          int flattenedIndex = getFlattenedIndex(outputCoords);\n\n          ivec3 inputRC = inputCoordsFromReshapedOutCoords(flattenedIndex);\n          vec2 innerDims = vec2(float(inputRC.y),float(inputRC.z));\n\n          result[${e}] = getChannel(getA(inputRC.x, inputRC.y, inputRC.z), innerDims);\n\n        ${e>0?"}":""}\n      `}const d=(0,o.getGlsl)(e.session.backend.glContext.version),f=`\n      ${function(e){const t=r.ShapeUtil.computeStrides(e),n=["b","r","c"],o="index";return`\n    ivec3 inputCoordsFromReshapedOutCoords(int index) {\n      ${t.map((e,r)=>`int ${n[r]} = ${o} / ${e}; ${r===t.length-1?`int ${n[r+1]} = ${o} - ${n[r]} * ${e}`:`index -= ${n[r]} * ${e}`};`).join("")}\n      return ivec3(b, r, c);\n    }\n  `}(c)}\n      ${function(e){const t=r.ShapeUtil.computeStrides(e);return`\n  int getFlattenedIndex(ivec3 coords) {\n    // reverse y, z order\n    return coords.x * ${t[0]} + coords.z * ${t[1]} + coords.y;\n  }\n`}(l)}\n      ${(0,s.unpackFromChannel)()}\n\n      void main() {\n        ivec3 rc = getOutputCoords();\n\n        vec4 result = vec4(0.0);\n\n        ivec3 outputCoords;\n        int rows = ${l[2]};\n        int cols = ${l[1]};\n\n        ${u}\n        ${d.output} = result;\n      }\n    `;return Object.assign(Object.assign({},n),{output:{dims:l,type:t.type,textureType:i.TextureType.packed},shaderSource:f,hasMain:!0})})(e,t,a,n)})},t.processDims3D=function(e){if(0===e.length)return[1,1,1];let t=1;for(let n=0;n<e.length-2;++n)t*=e[n];return[t,e.length>1?e[e.length-2]:1,e[e.length-1]]},t.isReshapeCheap=function(e,t){let n=!1;return n=0===e.length||0===t.length||(e.length<2||t.length<2?e[e.length-1]===t[t.length-1]:e[e.length-1]===t[t.length-1]&&e[e.length-2]===t[t.length-2]),n}},718:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.reshape=void 0;const r=n(2517);t.reshape=(e,t)=>{const n=r.ShapeUtil.calculateReshapedDims(t[0].dims,t[1].integerData);return e.session.pack?[e.reshapePacked(t[0],n)]:[e.reshapeUnpacked(t[0],n)]}},2268:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseResizeAttributesV11=t.parseResizeAttributesV10=t.resize=void 0;const r=n(5060),o=n(2039),i=n(9390),s=n(2827),a=n(9793),c={name:"Resize",inputNames:["A"],inputTypes:[o.TextureType.packed]};t.resize=(e,t,n)=>((0,a.validateInputs)(t,n),[e.run(Object.assign(Object.assign({},c),{cacheHint:n.cacheKey,get:()=>l(e,t,n)}),t)]),t.parseResizeAttributesV10=e=>(0,a.parseUpsampleAttributes)(e,10),t.parseResizeAttributesV11=e=>(0,a.parseUpsampleAttributes)(e,11);const l=(e,t,n)=>{const a=(0,r.getGlsl)(e.session.backend.glContext.version),[l,d]=u(t,n);if(l.every(e=>1===e)&&"tf_crop_and_resize"!==n.coordinateTransformMode)return Object.assign(Object.assign({},c),{output:{dims:d,type:t[0].type,textureType:o.TextureType.packed},hasMain:!0,shaderSource:`void main() {\n                    vec4 v = ${a.texture2D}(X, TexCoords);\n                    ${a.output} = v;\n                }`});const f=d.length;if(f<2)throw new Error(`output dimension should be at least 2, but got ${f}`);const h=d[f-2],p=d[f-1],g=t[0].dims;if(f!==g.length)throw new Error(`output dimension should match input ${g.length}, but got ${f}`);const m=g[f-2],y=g[f-1],b=l[f-2],v=l[f-1];let _="";if("linear"!==n.mode)throw new Error(`resize (packed) does not support mode: '${n.mode}'`);switch(n.coordinateTransformMode){case"asymmetric":_="\n                    vec4 getSourceFracIndex(ivec4 coords) {\n                        return vec4(coords) / scaleWHWH;\n                    }\n                ";break;case"half_pixel":_="\n                    vec4 getSourceFracIndex(ivec4 coords) {\n                        return (vec4(coords) + 0.5) / scaleWHWH - 0.5;\n                    }\n                ";break;case"pytorch_half_pixel":_=`\n                    vec4 getSourceFracIndex(ivec4 coords) {\n                        vec4 fcoords = vec4(coords);\n                        return vec4(\n                            ${p}.0 > 1.0 ? (fcoords.x + 0.5) / scaleWHWH.x - 0.5 : 0.0,\n                            ${h}.0 > 1.0 ? (fcoords.y + 0.5) / scaleWHWH.y - 0.5 : 0.0,\n                            ${p}.0 > 1.0 ? (fcoords.z + 0.5) / scaleWHWH.z - 0.5 : 0.0,\n                            ${h}.0 > 1.0 ? (fcoords.w + 0.5) / scaleWHWH.w - 0.5 : 0.0\n                          );\n                    }\n                `;break;case"align_corners":_=`\n                    vec4 getSourceFracIndex(ivec4 coords) {\n                        vec4 resized = vec4(${p}.0 - 1.0, ${h}.0 - 1.0, ${p}.0 - 1.0,\n                            ${h}.0 - 1.0);\n                        vec4 original = vec4(${y}.0 - 1.0, ${m}.0 - 1.0, ${y}.0 - 1.0,\n                            ${m}.0 - 1.0);\n                        vec4 new_scale = original / resized;\n                        return vec4(coords) * new_scale;\n                    }\n                `;break;default:throw new Error(`resize (packed) does not support coordinateTransformMode:                                 '${n.coordinateTransformMode}'`)}const w=(0,i.getCoordsDataType)(f),S=`\n            const vec2 inputWH = vec2(${m}.0, ${y}.0);\n            const vec4 scaleWHWH = vec4(float(${b}), float(${v}), float(${b}), float(${v}));\n            ${(0,s.unpackFromChannel)()}\n            ${_}\n            float getAValue(int x10, int r, int c, int d) {\n                return getChannel(getA(x10, r, c, d), vec2(c, d));\n            }\n            void main() {\n                ${w} rc = getOutputCoords();\n\n                int batch = rc[0];\n                int depth = rc[1];\n\n                // retrieve the 4 coordinates that is used in the 4 packed output values.\n                ivec4 coords = ivec4(rc.wz, rc.w + 1, rc.z + 1);\n\n                // calculate the source index in fraction\n                vec4 sourceFrac = getSourceFracIndex(coords);\n\n                // get the lower and upper bound of the 4 values that will be packed into one texel.\n                ivec4 x00 = ivec4(max(sourceFrac.xy, vec2(0.0)), min(inputWH - 1.0, ceil(sourceFrac.xy)));\n                ivec4 x01 = ivec4(max(sourceFrac.xw, vec2(0.0)), min(inputWH - 1.0, ceil(sourceFrac.xw)));\n                ivec4 x10 = ivec4(max(sourceFrac.zy, vec2(0.0)), min(inputWH - 1.0, ceil(sourceFrac.zy)));\n                ivec4 x11 = ivec4(max(sourceFrac.zw, vec2(0.0)), min(inputWH - 1.0, ceil(sourceFrac.zw)));\n\n                bool hasNextRow = rc.w < ${h-1};\n                bool hasNextCol = rc.z < ${p-1};\n\n                // pack x00, x01, x10, x11's top-left corner into one vec4 structure\n                vec4 topLeft = vec4(\n                    getAValue(batch, depth, x00.x, x00.y),\n                    hasNextCol ? getAValue(batch, depth, x01.x, x01.y) : 0.0,\n                    hasNextRow ? getAValue(batch, depth, x10.x, x10.y) : 0.0,\n                    (hasNextRow && hasNextCol) ? getAValue(batch, depth, x11.x, x11.y) : 0.0);\n\n                // pack x00, x01, x10, x11's top-right corner into one vec4 structure\n                vec4 topRight = vec4(\n                    getAValue(batch, depth, x00.x, x00.w),\n                    hasNextCol ? getAValue(batch, depth, x01.x, x01.w) : 0.0,\n                    hasNextRow ? getAValue(batch, depth, x10.x, x10.w) : 0.0,\n                    (hasNextRow && hasNextCol) ? getAValue(batch, depth, x11.x, x11.w) : 0.0);\n\n                // pack x00, x01, x10, x11's bottom-left corner into one vec4 structure\n                vec4 bottomLeft = vec4(\n                    getAValue(batch, depth, x00.z, x00.y),\n                    hasNextCol ? getAValue(batch, depth, x01.z, x01.y) : 0.0,\n                    hasNextRow ? getAValue(batch, depth, x10.z, x10.y) : 0.0,\n                    (hasNextRow && hasNextCol) ? getAValue(batch, depth, x11.z, x11.y) : 0.0);\n\n                // pack x00, x01, x10, x11's bottom-right corner into one vec4 structure\n                vec4 bottomRight = vec4(\n                    getAValue(batch, depth, x00.z, x00.w),\n                    hasNextCol ? getAValue(batch, depth, x01.z, x01.w) : 0.0,\n                    hasNextRow ? getAValue(batch, depth, x10.z, x10.w) : 0.0,\n                    (hasNextRow && hasNextCol) ? getAValue(batch, depth, x11.z, x11.w) : 0.0);\n\n                // calculate the interpolation fraction on u and v direction\n                vec4 frac = vec4(sourceFrac) - floor(sourceFrac);\n                vec4 clampFrac = clamp(frac, vec4(0.0), vec4(1.0));\n\n                vec4 top = mix(topLeft, topRight, clampFrac.ywyw);\n                vec4 bottom = mix(bottomLeft, bottomRight, clampFrac.ywyw);\n                vec4 newValue = mix(top, bottom, clampFrac.xxzz);\n\n                ${a.output} = vec4(newValue);\n            }\n        `;return Object.assign(Object.assign({},c),{output:{dims:d,type:t[0].type,textureType:o.TextureType.packed},hasMain:!0,shaderSource:S})},u=(e,t)=>{const n=e[0].dims;let r,o=t.scales;if(0===o.length){const i=e[t.scalesInputIdx];if(i&&0!==i.size){if(e[t.sizesInputIdx])throw new Error("Only one of scales or sizes must be provided as input.");o=d(i,t.mode,t.isResize)}else{const i=e[t.sizesInputIdx];if(!i||0===i.size)throw new Error("Either scales or sizes MUST be provided as input.");r=Array.from(i.integerData),o=f(r,n,t.mode,t.isResize)}}else if(e[t.sizesInputIdx])throw new Error("Only one of scales or sizes must be provided as input.");const i=r||n.map((e,t)=>Math.floor(e*o[t]));return[o,i]},d=(e,t,n)=>{const r=Array.from(e.floatData);return(0,a.scalesValidation)(r,t,n),r},f=(e,t,n,r)=>{const o=t.length,i=new Array(o);for(let n=0,r=o;n<r;n++)if(0===t[n]){if(0!==e[n])throw new Error("Input dim is zero but required output dim is non-zero.");i[n]=1}else i[n]=e[n]/t[n];return(0,a.scalesValidation)(i,n,r),i}},8117:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.shape=void 0;const r=n(9162);t.shape=(e,t)=>(o(t),[new r.Tensor([t[0].dims.length],"int32",void 0,void 0,new Int32Array(t[0].dims))]);const o=e=>{if(!e||1!==e.length)throw new Error("Shape requires 1 input.")}},2278:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sliceV10=t.parseSliceAttributes=t.slice=void 0;const r=n(246),o=n(782),i=n(2517),s=n(2039),a={name:"Slice",inputNames:["A"],inputTypes:[s.TextureType.unpacked]};t.slice=(e,t,n)=>(l(t),[e.run(Object.assign(Object.assign({},a),{cacheHint:n.cacheKey,get:()=>c(e,t[0],n)}),t)]),t.parseSliceAttributes=e=>{const t=e.attributes.getInts("starts"),n=e.attributes.getInts("ends"),o=e.attributes.getInts("axes",[]);return(0,r.createAttributeWithCacheKey)({starts:t,ends:n,axes:o})};const c=(e,t,n)=>{const r=0===n.axes.length?t.dims.slice(0).map((e,t)=>t):n.axes,o=i.ShapeUtil.normalizeAxes(r,t.dims.length),c=n.starts.map((e,n)=>e>t.dims[o[n]]-1?t.dims[o[n]]:i.ShapeUtil.normalizeAxis(e,t.dims[o[n]])),l=n.ends.map((e,n)=>e>t.dims[o[n]]-1?t.dims[o[n]]:i.ShapeUtil.normalizeAxis(e,t.dims[o[n]])),u=t.dims.slice(),d=[];for(let e=0;e<o.length;e++)u[o[e]]=l[e]-c[e],c[e]>0&&d.push(`outputIdx[${o[e]}] += ${c[e]};`);const f=`\n      float process(int outputIdx[${u.length}]) {\n        ${d.join("\n      ")}\n        return _A(outputIdx);\n      }`;return Object.assign(Object.assign({},a),{output:{dims:u,type:t.type,textureType:s.TextureType.unpacked},shaderSource:f})},l=e=>{if(!e||1!==e.length)throw new Error("Slice requires 1 input.");if(-1===o.NUMBER_TYPES.indexOf(e[0].type))throw new Error("Invalid input type.")};t.sliceV10=(e,t)=>{d(t);const n=u(e,t);return[e.run(Object.assign(Object.assign({},a),{cacheHint:n.cacheKey,get:()=>c(e,t[0],n)}),[t[0]])]};const u=(e,t)=>{if(!e.session.isInitializer(t[1].dataId)||!e.session.isInitializer(t[2].dataId)||t.length>=4&&!e.session.isInitializer(t[3].dataId)||t.length>=5&&!e.session.isInitializer(t[4].dataId))throw new Error("dynamic slice attributes are not allowed");if(t.length>=5&&t[4].integerData.some(e=>1!==e))throw new Error("currently non-1 steps is not supported for Slice");const n=Array.from(t[1].integerData),r=Array.from(t[2].integerData),o=t.length>=4?Array.from(t[3].integerData):[];return{starts:n,ends:r,axes:o,cacheKey:`${o};${n};${r}`}},d=e=>{if(!e||e.length<3||e.length>5)throw new Error("Invalid input number.");if("int32"!==e[1].type||1!==e[1].dims.length)throw new Error("Invalid input type.");if("int32"!==e[2].type||1!==e[2].dims.length)throw new Error("Invalid input type.");if(e.length>=4&&("int32"!==e[3].type||1!==e[3].dims.length))throw new Error("Invalid input type.");if(e.length>=5&&("int32"!==e[4].type||1!==e[4].dims.length))throw new Error("Invalid input type.")}},5524:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.softmaxV13=t.parseSoftmaxAttributesV13=t.parseSoftmaxAttributes=t.softmax=void 0;const r=n(246),o=n(2517),i=n(5060),s=n(2039),a=n(3738),c={name:"SoftmaxComputeMax",inputNames:["A"],inputTypes:[s.TextureType.unpacked]},l={name:"SoftmaxComputeScale",inputNames:["A","Max"],inputTypes:[s.TextureType.unpacked,s.TextureType.unpacked]},u={name:"SoftMax",inputNames:["A","Max","Norm"],inputTypes:[s.TextureType.unpacked,s.TextureType.unpacked,s.TextureType.unpacked]};t.softmax=(e,t,n)=>{g(t);const r=t[0].dims.slice(),i=o.ShapeUtil.normalizeAxis(n.axis,r.length),s=o.ShapeUtil.sizeToDimension(r,i),a=o.ShapeUtil.sizeFromDimension(r,i);return d(e,t,n,s,a)},t.parseSoftmaxAttributes=e=>(0,r.createAttributeWithCacheKey)({axis:e.attributes.getInt("axis",1)}),t.parseSoftmaxAttributesV13=e=>(0,r.createAttributeWithCacheKey)({axis:e.attributes.getInt("axis",-1)}),t.softmaxV13=(e,t,n)=>{g(t);const i=t[0].dims.slice(),s=o.ShapeUtil.normalizeAxis(n.axis,i.length),c=i.length,l=s!==c-1,u=[];let f,h=[],p=[];l&&(h=Array.from({length:c}).map((e,t)=>t),h[s]=c-1,h[c-1]=s,h.map(e=>u.push(i[e])),f=(0,r.createAttributeWithCacheKey)({perm:h}),p=(0,a.transpose)(e,t,f));const m=l?o.ShapeUtil.sizeToDimension(u,c-1):o.ShapeUtil.sizeToDimension(i,c-1),y=l?o.ShapeUtil.sizeFromDimension(u,c-1):o.ShapeUtil.sizeFromDimension(i,c-1),b=d(e,l?p:t,n,m,y);return l?(0,a.transpose)(e,b,f):b};const d=(e,t,n,r,o)=>{const i=f(e,t[0],r,o,[r]),s=e.run(Object.assign(Object.assign({},c),{cacheHint:n.cacheKey,get:()=>i}),t),a=h(e,t[0],r,o,i.output.dims,[r]),d=e.run(Object.assign(Object.assign({},l),{cacheHint:n.cacheKey,get:()=>a}),[t[0],s]),g=p(e,t[0],r,o,i.output.dims,a.output.dims);return[e.run(Object.assign(Object.assign({},u),{cacheHint:n.cacheKey,get:()=>g}),[t[0],s,d])]},f=(e,t,n,r,o)=>{const[a,l]=e.calculateTextureWidthAndHeight(t.dims,s.TextureType.unpacked),u=o.length;if(n<1||r<1)throw new Error("Logical row count N and feature count D must be greater than or equal to 1");if(1!==o.length)throw new Error("Dimensionality of the output should be 1");if(o[0]!==n)throw new Error("Shape of the output should be equal to logical row count");const d=(0,i.getGlsl)(e.session.backend.glContext.version),f=`\n      float process(int[${u}] indices) {\n        int logical_row_start_offset = indices[0] * ${r};\n\n        float max = getColorAsFloat(${d.texture2D}(A, offsetToCoords(logical_row_start_offset, ${a},\n        ${l} )));\n        for(int i=1; i<${r}; ++i)\n        {\n          float current = getColorAsFloat(${d.texture2D}(A, offsetToCoords(logical_row_start_offset + i,\n            ${a}, ${l})));\n          if(current > max)\n          max = current;\n        }\n\n        return max;\n      }`;return Object.assign(Object.assign({},c),{output:{dims:o,type:t.type,textureType:s.TextureType.unpacked},shaderSource:f})},h=(e,t,n,r,o,a)=>{const[c,u]=e.calculateTextureWidthAndHeight(t.dims,s.TextureType.unpacked),d=a.length;if(n<1||r<1)throw new Error("Logical row count N and feature count D must be greater than or equal to 1");if(1!==a.length)throw new Error("Dimensionality of the output should be 1");if(a[0]!==n)throw new Error("Shape of the output should be equal to logical row count");if(1!==o.length)throw new Error("Dimensionality of the intermediate results should be 1");if(o[0]!==n)throw new Error("Shape of the intermediate results should be equal to logical row count");const f=`\n      float process(int[${d}] indices) {\n        int logical_row_start_offset = indices[0] * ${r};\n\n        float norm_factor = 0.0;\n        float max = _Max(indices);\n        for(int i=0; i<${r}; ++i)\n        {\n          norm_factor += exp(getColorAsFloat(${(0,i.getGlsl)(e.session.backend.glContext.version).texture2D}(A, offsetToCoords(logical_row_start_offset + i,\n            ${c}, ${u}))) - max);\n        }\n\n        return norm_factor;\n      }`;return Object.assign(Object.assign({},l),{output:{dims:a,type:t.type,textureType:s.TextureType.unpacked},shaderSource:f})},p=(e,t,n,r,o,i)=>{const[a,c]=e.calculateTextureWidthAndHeight(t.dims,s.TextureType.unpacked),l=t.dims.length;if(n<1||r<1)throw new Error("Logical row count N and feature count D must be greater than or equal to 1");if(1!==o.length||1!==i.length)throw new Error("Dimensionality of the intermediate results should be 1");if(o[0]!==n||i[0]!==n)throw new Error("Shape of the intermediate results should be equal to logical row count");const d=`\n      float process(int[${l}] indices) {\n\n      // get offset of current logical tensor index from the 2-D texture coordinates (TexCoords)\n      int offset = coordsToOffset(TexCoords, ${a}, ${c});\n\n      //determine the logical row for this index\n      int logical_row_index[1];\n      logical_row_index[0] = offset / ${r};\n\n      float norm_factor = _Norm(logical_row_index);\n\n      // avoid possible division by 0\n      // if norm_facor is 0, all elements are zero\n      // if so, return 0\n      if(norm_factor == 0.0)\n        return 0.0;\n\n      return exp(_A(indices) - _Max(logical_row_index)) / norm_factor;\n    }`;return Object.assign(Object.assign({},u),{output:{dims:t.dims,type:t.type,textureType:s.TextureType.unpacked},shaderSource:d})},g=e=>{if(!e||1!==e.length)throw new Error("Softmax requires 1 input.");if("float32"!==e[0].type&&"float64"!==e[0].type)throw new Error("Invalid input type")}},5975:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseSplitAttributes=t.split=void 0;const r=n(246),o=n(2517),i=n(2039),s={name:"Split",inputNames:["A"],inputTypes:[i.TextureType.unpacked]};t.split=(e,t,n)=>{l(t);const r=o.ShapeUtil.normalizeAxis(n.axis,t[0].dims.length),i=a(e,t,r,n),u=[];for(let o=0;o<i;++o)u.push(e.run(Object.assign(Object.assign({},s),{cacheHint:`${n.cacheKey};${o}`,get:()=>c(e,t[0],n,r,o)}),t));return u},t.parseSplitAttributes=e=>{const t=e.attributes.getInt("axis",0),n=e.attributes.getInts("split",[]),o=e.outputs.length;return(0,r.createAttributeWithCacheKey)({axis:t,split:n,numOutputs:o})};const a=(e,t,n,r)=>{const[,i]=o.SplitUtil.splitShape(t[0].dims,n,r.split,r.numOutputs);return i.length},c=(e,t,n,r,a)=>{const[c,l]=o.SplitUtil.splitShape(t.dims,r,n.split,n.numOutputs),u=l[a],d=c[a],f=`\n      float process(int indices[${d.length}]) {\n        indices[${r}] += ${u};\n        return _A(indices);\n      }\n    `;return Object.assign(Object.assign({},s),{cacheHint:`${n.cacheKey}:${a}`,output:{dims:d,type:t.type,textureType:i.TextureType.unpacked},shaderSource:f})},l=e=>{if(!e||1!==e.length)throw new Error("Split requires one input.");if("int8"!==e[0].type&&"uint8"!==e[0].type&&"int16"!==e[0].type&&"uint16"!==e[0].type&&"int32"!==e[0].type&&"uint32"!==e[0].type&&"float32"!==e[0].type&&"float64"!==e[0].type&&"bool"!==e[0].type)throw new Error("Invalid input type.")}},3933:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseSqueezeAttributes=t.squeezeV13=t.squeeze=void 0;const r=n(2517);t.squeeze=(e,t,n)=>{o(t);const i=r.ShapeUtil.squeezeShape(t[0].dims,n);return[e.reshapeUnpacked(t[0],i)]},t.squeezeV13=(e,n)=>(i(n),(0,t.squeeze)(e,[n[0]],Array.from(n[1].integerData))),t.parseSqueezeAttributes=e=>e.attributes.getInts("axes");const o=e=>{if(!e||1!==e.length)throw new Error("Squeeze requires 1 input.");if("string"===e[0].type)throw new Error("invalid input tensor types.")},i=e=>{if(!e||2!==e.length)throw new Error("Squeeze requires 2 inputs.");if("int32"!==e[1].type)throw new Error("Invalid input type.")}},6558:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sum=void 0;const r=n(5060),o=n(2039);t.sum=(e,t)=>{s(t);const n={name:"Sum",inputNames:t.map((e,t)=>`X${t}`),inputTypes:new Array(t.length).fill(o.TextureType.unpacked)};return[e.run(Object.assign(Object.assign({},n),{get:()=>i(e,t,n)}),t)]};const i=(e,t,n)=>{const i=(0,r.getGlsl)(e.session.backend.glContext.version),s=t[0].dims.slice(),a=`\n      void main() {\n        vec4 result = ${t.map((e,t)=>`${i.texture2D}(X${t},TexCoords)`).join(" + ")};\n        ${i.output} = result;\n      }\n    `;return Object.assign(Object.assign({},n),{output:{dims:s,type:t[0].type,textureType:o.TextureType.unpacked},hasMain:!0,shaderSource:a})},s=e=>{if(!e||0===e.length)throw new Error("Sum requires inputs.");const t=e[0].dims.length;for(let n=1;n<e.length;n++){if(t!==e[n].dims.length)throw new Error("Input shapes are mismatched.");for(let r=0;r<t;r++)if(e[0].dims[r]!==e[n].dims[r])throw new Error("Input shapes are not matched.")}if("float32"!==e[0].type&&"float64"!==e[0].type)throw new Error("Invalid input type.");for(let t=1;t<e.length;t++)if(e[0].type!==e[t].type)throw new Error("Input types are not matched.")}},5723:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.tile=void 0;const r=n(782),o=n(2039);t.tile=(e,t)=>{s(t);const n={name:"Tile",inputNames:["A"],inputTypes:[o.TextureType.unpacked]};return[e.run(Object.assign(Object.assign({},n),{get:()=>i(e,t,n)}),t)]};const i=(e,t,n)=>{const r=t[0].dims.slice(),i=new Array(r.length),s=[];for(let e=0;e<r.length;e++)i[e]=r[e]*t[1].numberData[e],s.push(`inputIdx[${e}] = int(mod(float(outputIdx[${e}]), ${r[e]}.));`);const a=i.length,c=`\n      float process(int outputIdx[${a}]) {\n        int inputIdx[${a}];\n        ${s.join("\n")}\n        return _A(inputIdx);\n      }\n    `;return Object.assign(Object.assign({},n),{output:{dims:i,type:t[0].type,textureType:o.TextureType.unpacked},shaderSource:c})},s=e=>{if(!e||2!==e.length)throw new Error("Tile requires 2 input.");if(1!==e[1].dims.length)throw new Error("The second input shape must 1 dimension.");if(e[1].dims[0]!==e[0].dims.length)throw new Error("Invalid input shape.");if(-1===r.NUMBER_TYPES.indexOf(e[0].type))throw new Error("Invalid input type.");if("int32"!==e[1].type&&"int16"!==e[1].type)throw new Error("Invalid repeat type.")}},3738:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseTransposeAttributes=t.transpose=void 0;const r=n(246),o=n(2517),i=n(2039),s={name:"Transpose",inputNames:["A"],inputTypes:[i.TextureType.unpacked]};t.transpose=(e,t,n)=>(d(t),[e.run(Object.assign(Object.assign({},s),{cacheHint:n.cacheKey,get:()=>a(e,t[0],n.perm)}),t)]),t.parseTransposeAttributes=e=>(0,r.createAttributeWithCacheKey)({perm:e.attributes.getInts("perm",[])});const a=(e,t,n)=>{const r=t.dims;n=c(r,n);const o=l(r,n),a=r.length,d=`\n      ${u("perm",n,a)}\n      float process(int indices[${a}]) {\n        int a[${a}];\n        perm(a, indices);\n        return _A(a);\n      }`;return Object.assign(Object.assign({},s),{output:{dims:o,type:t.type,textureType:i.TextureType.unpacked},shaderSource:d})},c=(e,t)=>(t&&t.length!==e.length&&(t=[...e.keys()].reverse()),t),l=(e,t)=>(t=c(e,t),o.ShapeUtil.sortBasedOnPerm(e,t)),u=(e,t,n)=>{const r=[];r.push(`void ${e}(out int a[${n}], int src[${n}]) {`);for(let e=0;e<n;++e)r.push(`\ta[${t[e]}]=src[${e}];`);return r.push("\t}"),r.join("\n")},d=e=>{if(!e||1!==e.length)throw new Error("Transpose requires 1 input.");if("float32"!==e[0].type&&"float64"!==e[0].type)throw new Error("input should be float tensor")}},8710:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.encodeAsUint8=void 0;const r=n(5060),o=n(2039);t.encodeAsUint8=(e,t)=>{const n=t.shape,i=(0,r.getGlsl)(e.session.backend.glContext.version),s=`\n    const float FLOAT_MAX = 1.70141184e38;\n    const float FLOAT_MIN = 1.17549435e-38;\n\n    bool isNaN(float val) {\n      return (val < 1.0 || 0.0 < val || val == 0.0) ? false : true;\n    }\n\n    highp vec4 encodeAsUint8(highp float v) {\n      if (isNaN(v)) {\n        return vec4(255, 255, 255, 255);\n      }\n\n      highp float av = abs(v);\n\n      if(av < FLOAT_MIN) {\n        return vec4(0.0, 0.0, 0.0, 0.0);\n      } else if(v > FLOAT_MAX) {\n        return vec4(0.0, 0.0, 128.0, 127.0) / 255.0;\n      } else if(v < -FLOAT_MAX) {\n        return vec4(0.0, 0.0,  128.0, 255.0) / 255.0;\n      }\n\n      highp vec4 c = vec4(0,0,0,0);\n\n      highp float e = floor(log2(av));\n      highp float m = exp2(fract(log2(av))) - 1.0;\n\n      c[2] = floor(128.0 * m);\n      m -= c[2] / 128.0;\n      c[1] = floor(32768.0 * m);\n      m -= c[1] / 32768.0;\n      c[0] = floor(8388608.0 * m);\n\n      highp float ebias = e + 127.0;\n      c[3] = floor(ebias / 2.0);\n      ebias -= c[3] * 2.0;\n      c[2] += floor(ebias) * 128.0;\n\n      c[3] += 128.0 * step(0.0, -v);\n\n      return c / 255.0;\n    }\n\n    void main() {\n      float value = ${i.texture2D}(X,TexCoords).r;\n      ${i.output} = encodeAsUint8(value);\n    }`,a={name:"Uint8Encode",inputTypes:[o.TextureType.unpacked],inputNames:["X"],output:{dims:n,type:t.tensor.type,textureType:o.TextureType.downloadUint8AsFloat},shaderSource:s,hasMain:!0};return e.executeProgram(a,[t.tensor])}},4909:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.tanh=t.tan=t.sqrt=t.sin=t.sigmoid=t.relu=t.not=t.neg=t.log=t.parseLeakyReluAttributes=t.leakyRelu=t.identity=t.floor=t.exp=t.parseEluAttributes=t.elu=t.cos=t.ceil=t.clipV11=t.parseClipAttributes=t.clip=t.atan=t.asin=t.acos=t.abs=t.glslTanh=t.glslTan=t.glslSqrt=t.glslSigmoid=t.glslRelu=t.glslSin=t.glslNot=t.glslNeg=t.glslLog=t.glslLeakyRelu=t.glslIdentity=t.glslClip=t.glslFloor=t.glslExp=t.glslElu=t.glslCos=t.glslCeil=t.glslAtan=t.glslAsin=t.glslAcos=t.glslAbs=void 0;const r=n(246),o=n(2517),i=n(8520),s=n(5060),a=n(2039);function c(){return T("abs")}function l(){return T("acos")}function u(){return T("asin")}function d(){return T("atan")}function f(){return T("ceil")}function h(){return T("cos")}function p(e){const t="elu";return{body:`\n  const float alpha = float(${e});\n\n  float ${t}_(float a) {\n    return a >= 0.0 ? a: (exp(a) - 1.0) * alpha;\n  }\n  vec4 ${t}_(vec4 v) {\n    return vec4(${t}_(v.x), ${t}_(v.y), ${t}_(v.z), ${t}_(v.w));\n  }\n  `,name:t,type:i.FunctionType.ValueBased}}function g(){return T("exp")}function m(){return T("floor")}function y(e,t){const n="clip";return{body:`\n  const float min = float(${e});\n  const float max = float(${t});\n\n  float ${n}_(float a) {\n    return clamp(a, min, max);\n  }\n  vec4 ${n}_(vec4 v) {\n    return clamp(v, min, max);\n  }\n  `,name:n,type:i.FunctionType.ValueBased}}function b(){const e="indentity";return{body:`\n  float ${e}_(float a) {\n    return a;\n  }\n  vec4 ${e}_(vec4 v) {\n    return v;\n  }\n  `,name:e,type:i.FunctionType.ValueBased}}function v(e){const t="leakyRelu";return{body:`\n  const float alpha = float(${e});\n\n  float ${t}_(float a) {\n    return a < 0.0 ? a * alpha : a;\n  }\n  vec4 ${t}_(vec4 v) {\n    return vec4(${t}_(v.x), ${t}_(v.y), ${t}_(v.z), ${t}_(v.w));\n  }\n  `,name:t,type:i.FunctionType.ValueBased}}function _(){return T("log")}function w(){const e="neg";return{body:`\n  float ${e}_(float a) {\n    return -a;\n  }\n  vec4 ${e}_(vec4 v) {\n    return -v;\n  }\n  `,name:e,type:i.FunctionType.ValueBased}}function S(){const e="not";return{body:`\n  float ${e}_(float a) {\n    return float( ! bool(a) );\n  }\n  bool ${e}_(bool a) {\n    return !a;\n  }\n  vec4 ${e}_(vec4 v) {\n    return vec4(!bool(v.x), !bool(v.y), !bool(v.z), !bool(v.w));\n  }\n  bvec4 ${e}_(bvec4 v) {\n    return bvec4(!v.x, !v.y, !v.z, !v.w);\n  }\n  `,name:e,type:i.FunctionType.ValueBased}}function x(){return T("sin")}function I(){const e="relu";return{body:`\n  float ${e}_(float a) {\n    return max( a, 0.0 );\n  }\n  vec4 ${e}_(vec4 v) {\n    return max( v, 0.0 );\n  }\n  `,name:e,type:i.FunctionType.ValueBased}}function A(){const e="sigmoid";return{body:`\n  float ${e}_(float a) {\n    return 1.0 / (1.0 + exp(-a));\n  }\n  vec4 ${e}_(vec4 v) {\n    return 1.0 / (1.0 + exp(-v));\n  }\n  `,name:e,type:i.FunctionType.ValueBased}}function C(){return T("sqrt")}function k(){return T("tan")}function E(){const e="tanh";return{body:`\n  float ${e}_(float a) {\n    a = clamp(a, -10., 10.);\n    a = exp(2.*a);\n    return (a - 1.) / (a + 1.);\n  }\n  vec4 ${e}_(vec4 v) {\n    v = clamp(v, -10., 10.);\n    v = exp(2.*v);\n    return (v - 1.) / (v + 1.);\n  }\n  `,name:e,type:i.FunctionType.ValueBased}}function T(e){return{body:`\n  float ${e}_(float a) {\n    return ${e}(a);\n  }\n  vec4 ${e}_(vec4 v) {\n    return ${e}(v);\n  }\n  `,name:e,type:i.FunctionType.ValueBased}}t.glslAbs=c,t.glslAcos=l,t.glslAsin=u,t.glslAtan=d,t.glslCeil=f,t.glslCos=h,t.glslElu=p,t.glslExp=g,t.glslFloor=m,t.glslClip=y,t.glslIdentity=b,t.glslLeakyRelu=v,t.glslLog=_,t.glslNeg=w,t.glslNot=S,t.glslSin=x,t.glslRelu=I,t.glslSigmoid=A,t.glslSqrt=C,t.glslTan=k,t.glslTanh=E;const P=(e,t,n,r)=>{const o=e.session.pack?a.TextureType.packed:a.TextureType.unpacked,i={name:n.name,inputTypes:[o],inputNames:["A"],cacheHint:r};return Object.assign(Object.assign({},i),{get:()=>((e,t,n,r)=>{const o=e.session.pack?a.TextureType.packed:a.TextureType.unpacked,i=(0,s.getGlsl)(e.session.backend.glContext.version);return Object.assign(Object.assign({},t),{output:{dims:n.dims,type:n.type,textureType:o},shaderSource:`\n     ${r.body}\n     void main() {\n       vec4 v = ${i.texture2D}(A, TexCoords);\n       v = ${r.name}_(v);\n       ${i.output} = v;\n     }\n     `,hasMain:!0})})(e,i,t,n)})};t.abs=(e,t)=>[e.run(P(e,t[0],c()),t)],t.acos=(e,t)=>[e.run(P(e,t[0],l()),t)],t.asin=(e,t)=>[e.run(P(e,t[0],u()),t)],t.atan=(e,t)=>[e.run(P(e,t[0],d()),t)],t.clip=(e,t,n)=>[e.run(P(e,t[0],y(n.min,n.max),n.cacheKey),t)],t.parseClipAttributes=e=>(0,r.createAttributeWithCacheKey)({min:e.attributes.getFloat("min",o.MIN_CLIP),max:e.attributes.getFloat("max",o.MAX_CLIP)}),t.clipV11=(e,n)=>{const r=M(e,n);return(0,t.clip)(e,[n[0]],r)};const M=(e,t)=>{if(t.length>=3&&(!e.session.isInitializer(t[1].dataId)||!e.session.isInitializer(t[2].dataId)))throw new Error("dynamic clip attributes are not allowed");const n=t.length>=3?t[1].numberData[0]:o.MIN_CLIP,i=t.length>=3?t[2].numberData[0]:o.MAX_CLIP;return(0,r.createAttributeWithCacheKey)({min:n,max:i})};t.ceil=(e,t)=>[e.run(P(e,t[0],f()),t)],t.cos=(e,t)=>[e.run(P(e,t[0],h()),t)],t.elu=(e,t,n)=>[e.run(P(e,t[0],p(n.alpha),n.cacheKey),t)],t.parseEluAttributes=e=>(0,r.createAttributeWithCacheKey)({alpha:e.attributes.getFloat("alpha",1)}),t.exp=(e,t)=>[e.run(P(e,t[0],g()),t)],t.floor=(e,t)=>[e.run(P(e,t[0],m()),t)],t.identity=(e,t)=>[e.run(P(e,t[0],b()),t)],t.leakyRelu=(e,t,n)=>[e.run(P(e,t[0],v(n.alpha),n.cacheKey),t)],t.parseLeakyReluAttributes=e=>(0,r.createAttributeWithCacheKey)({alpha:e.attributes.getFloat("alpha",.01)}),t.log=(e,t)=>[e.run(P(e,t[0],_()),t)],t.neg=(e,t)=>[e.run(P(e,t[0],w()),t)],t.not=(e,t)=>[e.run(P(e,t[0],S()),t)],t.relu=(e,t)=>[e.run(P(e,t[0],I()),t)],t.sigmoid=(e,t)=>[e.run(P(e,t[0],A()),t)],t.sin=(e,t)=>[e.run(P(e,t[0],x()),t)],t.sqrt=(e,t)=>[e.run(P(e,t[0],C()),t)],t.tan=(e,t)=>[e.run(P(e,t[0],k()),t)],t.tanh=(e,t)=>[e.run(P(e,t[0],E()),t)]},5611:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createUnpackProgramInfoLoader=t.createUnpackProgramInfo=void 0;const r=n(5060),o=n(2039),i=n(9390),s=n(2827),a={name:"unpack",inputNames:["A"],inputTypes:[o.TextureType.packed]};t.createUnpackProgramInfo=(e,t)=>{const n=t.dims.length,c=(0,s.getChannels)("rc",n),l=c.slice(-2),u=(0,i.getCoordsDataType)(n),d=(0,s.unpackFromChannel)(),f=0===t.dims.length?"":function(e,t){if(1===e)return"rc";let n="";for(let r=0;r<e;r++)n+=t[r],r<e-1&&(n+=",");return n}(n,c),h=n<=1?"rc":`vec2(${l.join(",")})`,p=`\n    ${d}\n    void main() {\n      ${u} rc = getOutputCoords();\n\n       // Sample the texture with the coords to get the rgba channel value.\n       vec4 packedInput = getA(${f});\n\n       ${(0,r.getGlsl)(e.session.backend.glContext.version).output} = vec4(getChannel(packedInput, ${h}), 0, 0, 0);\n     }\n   `;return Object.assign(Object.assign({},a),{hasMain:!0,output:{dims:t.dims,type:t.type,textureType:o.TextureType.unpacked},shaderSource:p})},t.createUnpackProgramInfoLoader=(e,n)=>Object.assign(Object.assign({},a),{get:()=>(0,t.createUnpackProgramInfo)(e,n)})},8428:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseUnsqueezeAttributes=t.unsqueezeV13=t.unsqueeze=void 0;const r=n(2517);t.unsqueeze=(e,t,n)=>{o(t);const i=r.ShapeUtil.unsqueezeShape(t[0].dims,n);return[e.reshapeUnpacked(t[0],i)]},t.unsqueezeV13=(e,n)=>(i(n),(0,t.unsqueeze)(e,[n[0]],Array.from(n[1].integerData))),t.parseUnsqueezeAttributes=e=>e.attributes.getInts("axes");const o=e=>{if(!e||1!==e.length)throw new Error("Unsqueeze requires 1 input.");if("string"===e[0].type)throw new Error("invalid input tensor types.")},i=e=>{if(!e||2!==e.length)throw new Error("Unsqueeze requires 2 inputs.");if("int32"!==e[1].type)throw new Error("Invalid input type.")}},9793:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.scalesValidation=t.validateInputs=t.parseUpsampleAttributes=t.parseUpsampleAttributesV9=t.parseUpsampleAttributesV7=t.upsample=void 0;const r=n(246),o=n(5060),i=n(2039),s={name:"Upsample",inputNames:["X"],inputTypes:[i.TextureType.unpacked]};t.upsample=(e,n,r)=>((0,t.validateInputs)(n,r),[e.run(Object.assign(Object.assign({},s),{cacheHint:r.cacheKey,get:()=>a(e,n,r)}),n)]),t.parseUpsampleAttributesV7=e=>(0,t.parseUpsampleAttributes)(e,7),t.parseUpsampleAttributesV9=e=>(0,t.parseUpsampleAttributes)(e,9),t.parseUpsampleAttributes=(e,n)=>{const o=n>=10,i=e.attributes.getString("mode","nearest");if("nearest"!==i&&"linear"!==i&&(n<11||"cubic"!==i))throw new Error(`unrecognized mode: ${i}`);let s=[];n<9&&(s=e.attributes.getFloats("scales"),(0,t.scalesValidation)(s,i,o));const a=e.attributes.getFloat("extrapolation_value",0),c=n>10?e.attributes.getString("coordinate_transformation_mode","half_pixel"):"asymmetric";if(-1===["asymmetric","pytorch_half_pixel","tf_half_pixel_for_nn","align_corners","tf_crop_and_resize","half_pixel"].indexOf(c))throw new Error(`coordinate_transform_mode '${c}' is not supported`);const l="tf_crop_and_resize"===c,u=l,d="nearest"===i&&n>=11?e.attributes.getString("nearest_mode","round_prefer_floor"):"";if(-1===["round_prefer_floor","round_prefer_ceil","floor","ceil",""].indexOf(d))throw new Error(`nearest_mode '${d}' is not supported`);const f=e.attributes.getFloat("cubic_coeff_a",-.75),h=0!==e.attributes.getInt("exclude_outside",0);if(h&&"cubic"!==i)throw new Error("exclude_outside can be set to 1 only when mode is CUBIC.");const p=n<11||"nearest"===i&&"asymmetric"===c&&"floor"===d;let g=0,m=0,y=0;return n>10?e.inputs.length>2?(g=1,m=2,y=3):(m=1,y=2):9===n&&(m=1),(0,r.createAttributeWithCacheKey)({opset:n,isResize:o,mode:i,scales:s,extrapolationValue:a,coordinateTransformMode:c,useExtrapolation:u,needRoiInput:l,nearestMode:d,cubicCoefficientA:f,excludeOutside:h,useNearest2xOptimization:p,roiInputIdx:g,scalesInputIdx:m,sizesInputIdx:y})};const a=(e,t,n)=>{const r=(0,o.getGlsl)(e.session.backend.glContext.version),[a,c]=e.calculateTextureWidthAndHeight(t[0].dims,i.TextureType.unpacked),l=t[0].dims.map((e,t)=>Math.floor(e*n.scales[t])),[u,d]=e.calculateTextureWidthAndHeight(l,i.TextureType.unpacked),f=l.length,h=new Array(f),p=new Array(f);let g=`\n      int output_pitches[${f}];\n      int input_pitches[${f}];\n      `;for(let e=f-1;e>=0;e--)h[e]=e===f-1?1:h[e+1]*l[e+1],p[e]=e===f-1?1:p[e+1]*t[0].dims[e+1],g+=`\n        output_pitches[${e}] = ${h[e]};\n        input_pitches[${e}] = ${p[e]};\n        `;const m=`\n      float getInputFloat(int index) {\n        vec2 coords = offsetToCoords(index, ${a}, ${c});\n        float value = getColorAsFloat(${r.texture2D}(X, coords));\n        return value;\n      }\n      `,y="nearest"===n.mode?`\n    ${m}\n    float process(int indices[${f}]) {\n      int input_index = 0;\n      int output_index = coordsToOffset(TexCoords, ${u}, ${d});\n\n      ${g}\n\n      int d, m;\n      for (int dim = 0; dim < ${f}; ++dim) {\n        d = output_index / output_pitches[dim];\n        m = output_index - d * output_pitches[dim];\n        output_index = m;\n\n        if (scales[dim] != 1 && d > 0) {\n          int d2 = d / scales[dim];\n          m = d - d2 * scales[dim];\n          d = d2;\n        }\n        input_index += input_pitches[dim] * d;\n      }\n\n      return getInputFloat(input_index);\n    }`:4===f?`\n    ${m}\n    float process(int indices[4]) {\n      int input_index = 0;\n      int output_index = coordsToOffset(TexCoords, ${u}, ${d});\n\n      ${g}\n\n      int m;\n      int index_of_dim0, index_of_dim1, index_of_dim2, index_of_dim3;\n      index_of_dim0 = output_index / output_pitches[0];\n      m = output_index - index_of_dim0 * output_pitches[0];\n      index_of_dim1 = m / output_pitches[1];\n      m = m - index_of_dim1 * output_pitches[1];\n      index_of_dim2 = m / output_pitches[2];\n      m = m - index_of_dim2 * output_pitches[2];\n      index_of_dim3 = m;\n\n      int index_of_input_dim2, index_of_input_dim3, x_offset, y_offset;\n      index_of_input_dim2 = index_of_dim2 / scales[2];\n      y_offset = index_of_dim2 - index_of_input_dim2 * scales[2];\n      index_of_input_dim3 = index_of_dim3 / scales[3];\n      x_offset = index_of_dim3 - index_of_input_dim3 * scales[3];\n\n      input_index = index_of_dim0 * input_pitches[0] +\n            index_of_dim1 * input_pitches[1] +\n            index_of_input_dim2 * input_pitches[2] +\n            index_of_input_dim3;\n\n      float x00 = getInputFloat(input_index);\n      float x10, x01, x11;\n\n      bool end_of_dim2 = false;\n      if (index_of_input_dim2 == (${t[0].dims[2]} - 1)) {\n        // It's the end in dimension 2\n        x01 = x00;\n        end_of_dim2 = true;\n      } else {\n        x01 = getInputFloat(input_index + input_pitches[2]);\n      }\n\n      if (index_of_input_dim3 == (input_pitches[2] - 1)) {\n        // It's the end in dimension 3\n        x10 = x00;\n        x11 = x01;\n      }\n      else {\n        x10 = getInputFloat(input_index + 1);\n        x11 = end_of_dim2 ? x10 : getInputFloat(input_index + input_pitches[2] + 1);\n      }\n\n      float y0 = x00 + float(y_offset) * (x01 - x00) / float(scales[2]);\n      float y1 = x10 + float(y_offset) * (x11 - x10) / float(scales[2]);\n      return y0 + float(x_offset) * (y1 - y0) / float(scales[3]);\n    }`:`\n    ${m}\n    float process(int indices[2]) {\n      int input_index = 0;\n      int output_index = coordsToOffset(TexCoords, ${u}, ${d});\n\n      ${g}\n\n      int m;\n      int index_of_dim0, index_of_dim1;\n      index_of_dim0 = output_index / output_pitches[0];\n      m = output_index - index_of_dim0 * output_pitches[0];\n      index_of_dim1 = m;\n\n      int index_of_input_dim0, index_of_input_dim1, x_offset, y_offset;\n      index_of_input_dim0 = index_of_dim0 / scales[0];\n      y_offset = index_of_dim0 - index_of_input_dim0 * scales[0];\n      index_of_input_dim1 = index_of_dim1 / scales[1];\n      x_offset = index_of_dim1 - index_of_input_dim1 * scales[1];\n\n      input_index = index_of_input_dim0 * input_pitches[0] + index_of_input_dim1;\n\n      float x00 = getInputFloat(input_index);\n      float x10, x01, x11;\n\n      bool end_of_dim0 = false;\n      if (index_of_input_dim0 == (${t[0].dims[0]} - 1)) {\n        // It's the end in dimension 0\n        x01 = x00;\n        end_of_dim0 = true;\n      } else {\n        x01 = getInputFloat(input_index + input_pitches[0]);\n      }\n\n      if (index_of_input_dim1 == (input_pitches[0] - 1)) {\n        // It's the end in dimension 1\n        x10 = x00;\n        x11 = x01;\n      }\n      else {\n        x10 = getInputFloat(input_index + 1);\n        x11 = end_of_dim0 ? x10 : getInputFloat(input_index + input_pitches[0] + 1);\n      }\n\n      float y0 = x00 + float(y_offset) * (x01 - x00) / float(scales[0]);\n      float y1 = x10 + float(y_offset) * (x11 - x10) / float(scales[0]);\n      return y0 + float(x_offset) * (y1 - y0) / float(scales[1]);\n    }`;return Object.assign(Object.assign({},s),{output:{dims:l,type:t[0].type,textureType:i.TextureType.unpacked},shaderSource:y,variables:[{name:"scales",type:"int",arrayLength:n.scales.length,data:n.scales.map(e=>Math.ceil(e))}]})};t.validateInputs=(e,t)=>{if(!e||t.opset<9&&1!==e.length||t.opset>=9&&t.opset<11&&2!==e.length||t.opset>=11&&e.length<2)throw new Error("invalid inputs.");if(t.scales.length>0&&e[0].dims.length!==t.scales.length)throw new Error("Invalid input shape.");if("string"===e[0].type)throw new Error("Invalid input tensor types.")},t.scalesValidation=(e,t,n)=>{if(n){for(const t of e)if(t<=0)throw new Error("Scale value should be greater than 0.")}else for(const t of e)if(t<1)throw new Error("Scale value should be greater than or equal to 1.");if(!("linear"!==t&&"cubic"!==t||2===e.length||4===e.length&&1===e[0]&&1===e[1]))throw new Error(`'Linear' mode and 'Cubic' mode only support 2-D inputs ('Bilinear', 'Bicubic')         or 4-D inputs with the corresponding outermost 2 scale values being 1         in the ${n?"Resize":"Upsample"} opeartor.`)}},1958:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ProgramManager=void 0;const r=n(1670),o=n(6231),i=n(8879),s=n(5060);t.ProgramManager=class{constructor(e,t,n){this.profiler=e,this.glContext=t,this.textureLayoutStrategy=n,this.repo=new Map,this.attributesBound=!1}getArtifact(e){return this.repo.get(e)}setArtifact(e,t){this.repo.set(e,t)}run(e,t,n){var r;this.profiler.event("op",`ProgramManager.run ${null!==(r=e.programInfo.name)&&void 0!==r?r:"unknown kernel"}`,()=>{var r;const i=this.glContext.gl,s=e.program;i.useProgram(s);try{this.bindOutput(n),this.attributesBound||this.bindAttributes(e.attribLocations),this.bindUniforms(e.uniformLocations,null!==(r=e.programInfo.variables)&&void 0!==r?r:[],t)}catch(t){throw o.Logger.error("ProgramManager",e.programInfo.shaderSource),t}this.profiler.event("backend","GlContext.draw()",()=>{this.glContext.draw()})},this.glContext)}dispose(){this.vertexShader&&this.glContext.deleteShader(this.vertexShader),this.repo.forEach(e=>this.glContext.deleteProgram(e.program))}build(e,t,n){return this.profiler.event("backend","ProgramManager.build",()=>{const r=new i.GlslPreprocessor(this.glContext,e,t,n),o=r.preprocess(),s=this.compile(o);return{programInfo:e,program:s,uniformLocations:this.getUniformLocations(s,r.context.programInfo.inputNames,r.context.programInfo.variables),attribLocations:this.getAttribLocations(s)}})}compile(e){if(!this.vertexShader){o.Logger.verbose("ProrgramManager","Compiling and caching Vertex shader for the first time");const e=(0,s.getVertexShaderSource)(this.glContext.version);this.vertexShader=this.glContext.compileShader(e,this.glContext.gl.VERTEX_SHADER)}r.env.debug&&o.Logger.verbose("ProrgramManager",`FragShader:\n${e}\n`);const t=this.glContext.compileShader(e,this.glContext.gl.FRAGMENT_SHADER),n=this.glContext.createProgram(this.vertexShader,t);return this.glContext.deleteShader(t),n}bindOutput(e){const t=e.width,n=e.height;o.Logger.verbose("ProrgramManager",`Binding output texture to Framebuffer: w/h=${t}/${n}, shape=${e.shape}, type=${e.tensor.type}`),this.glContext.attachFramebuffer(e.texture,t,n)}bindAttributes(e){const t=e.position,n=e.textureCoord;this.glContext.setVertexAttributes(t,n),this.attributesBound=!0}bindUniforms(e,t,n){var r;const o=this.glContext.gl;let i=0;for(const{name:s,type:a,location:c,arrayLength:l}of e){const e=null===(r=t.find(e=>e.name===s))||void 0===r?void 0:r.data;if("sampler2D"!==a&&!e)throw new Error(`variable '${s}' does not have data defined in program info`);switch(a){case"sampler2D":this.bindTexture(n[i],c,i),i++;break;case"float":l?o.uniform1fv(c,e):o.uniform1f(c,e);break;case"int":l?o.uniform1iv(c,e):o.uniform1i(c,e);break;default:throw new Error(`Uniform not implemented: ${a}`)}}}bindTexture(e,t,n){this.glContext.bindTextureToUniform(e.texture,n,t)}getAttribLocations(e){return{position:this.getAttribLocation(e,"position"),textureCoord:this.getAttribLocation(e,"textureCoord")}}getUniformLocations(e,t,n){const r=[];if(t)for(const n of t)r.push({name:n,type:"sampler2D",location:this.getUniformLocation(e,n)});if(n)for(const t of n)r.push(Object.assign(Object.assign({},t),{location:this.getUniformLocation(e,t.name)}));return r}getUniformLocation(e,t){const n=this.glContext.gl.getUniformLocation(e,t);if(null===n)throw new Error(`Uniform ${t} not found.`);return n}getAttribLocation(e,t){return this.glContext.gl.getAttribLocation(e,t)}}},6416:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WebGLSessionHandler=void 0;const r=n(6231),o=n(1047),i=n(8316),s=n(1640),a=n(1958),c=n(7859),l=n(5702);t.WebGLSessionHandler=class{constructor(e,t){this.backend=e,this.context=t,this.layoutStrategy=new c.PreferLogicalStrategy(e.glContext.maxTextureSize),this.programManager=new a.ProgramManager(this.context.profiler,e.glContext,this.layoutStrategy),this.textureManager=new l.TextureManager(e.glContext,this.layoutStrategy,this.context.profiler,{reuseTextures:"full"===e.textureCacheMode}),this.packedTextureDataCache=new Map,this.unpackedTextureDataCache=new Map,this.pack=e.pack,this.pack2unpackMap=new Map,this.unpack2packMap=new Map}createInferenceHandler(){return new i.WebGLInferenceHandler(this)}onGraphInitialized(e){const t=e.getValues().filter(e=>-1===e.from&&e.tensor).map(e=>e.tensor.dataId);this.initializers=new Set(t)}isInitializer(e){return!!this.initializers&&this.initializers.has(e)}addInitializer(e){this.initializers.add(e)}getTextureData(e,t){return t?this.packedTextureDataCache.get(e):this.unpackedTextureDataCache.get(e)}setTextureData(e,t,n=!1){r.Logger.verbose("WebGLSessionHandler","Storing Texture data in cache"),n?this.packedTextureDataCache.set(e,t):this.unpackedTextureDataCache.set(e,t)}dispose(){this.programManager.dispose(),this.textureManager.clearActiveTextures(),this.packedTextureDataCache.forEach(e=>this.textureManager.releaseTexture(e,!0)),this.packedTextureDataCache=new Map,this.unpackedTextureDataCache.forEach(e=>this.textureManager.releaseTexture(e,!0)),this.unpackedTextureDataCache=new Map}resolve(e,t,n){const r=(0,o.resolveOperator)(e,t,s.WEBGL_OP_RESOLVE_RULES);return{impl:r.opImpl,context:r.opInit?r.opInit(e,n):e}}}},7769:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Uint8DataEncoder=t.RGBAFloatDataEncoder=t.RedFloat32DataEncoder=void 0;const r=n(6231);t.RedFloat32DataEncoder=class{constructor(e,t=1){if(1===t)this.internalFormat=e.R32F,this.format=e.RED,this.textureType=e.FLOAT,this.channelSize=t;else{if(4!==t)throw new Error(`Invalid number of channels: ${t}`);this.internalFormat=e.RGBA32F,this.format=e.RGBA,this.textureType=e.FLOAT,this.channelSize=t}}encode(e,t){let n,o;return e.constructor!==Float32Array&&(r.Logger.warning("Encoder","data was not of type Float32; creating new Float32Array"),o=new Float32Array(e)),t*this.channelSize>e.length?(r.Logger.warning("Encoder","Source data too small. Allocating larger array"),o=e,n=this.allocate(t*this.channelSize),o.forEach((e,t)=>n[t]=e)):(o=e,n=o),n}allocate(e){return new Float32Array(4*e)}decode(e,t){return 1===this.channelSize?e.filter((e,t)=>t%4==0).subarray(0,t):e.subarray(0,t)}},t.RGBAFloatDataEncoder=class{constructor(e,t=1,n){if(1!==t&&4!==t)throw new Error(`Invalid number of channels: ${t}`);this.internalFormat=e.RGBA,this.format=e.RGBA,this.channelSize=t,this.textureType=n||e.FLOAT}encode(e,t){let n=e;return 1===this.channelSize&&(r.Logger.verbose("Encoder","Exploding into a larger array"),n=this.allocate(t),e.forEach((e,t)=>n[4*t]=e)),n}allocate(e){return new Float32Array(4*e)}decode(e,t){return 1===this.channelSize?e.filter((e,t)=>t%4==0).subarray(0,t):e.subarray(0,t)}},t.Uint8DataEncoder=class{constructor(e,t=1){if(this.channelSize=4,1===t)this.internalFormat=e.ALPHA,this.format=e.ALPHA,this.textureType=e.UNSIGNED_BYTE,this.channelSize=t;else{if(4!==t)throw new Error(`Invalid number of channels: ${t}`);this.internalFormat=e.RGBA,this.format=e.RGBA,this.textureType=e.UNSIGNED_BYTE,this.channelSize=t}}encode(e,t){return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}allocate(e){return new Uint8Array(e*this.channelSize)}decode(e,t){if(e instanceof Uint8Array)return e.subarray(0,t);throw new Error(`Invalid array type: ${e.constructor}`)}}},7859:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getBatchDim=t.sizeToSquarishShape=t.getRowsCols=t.sizeFromShape=t.isInt=t.parseAxisParam=t.squeezeShape=t.PreferLogicalStrategy=t.AlwaysKeepOriginalSizeStrategy=void 0;const r=n(6231),o=n(2517);function i(e,t){const n=[],r=[],o=null!=t&&Array.isArray(t)&&0===t.length,i=null==t||o?null:s(t,e).sort();let a=0;for(let t=0;t<e.length;++t){if(null!=i){if(i[a]===t&&1!==e[t])throw new Error(`Can't squeeze axis ${t} since its dim '${e[t]}' is not 1`);(null==i[a]||i[a]>t)&&1===e[t]&&(n.push(e[t]),r.push(t)),i[a]<=t&&a++}1!==e[t]&&(n.push(e[t]),r.push(t))}return{newShape:n,keptDims:r}}function s(e,t){const n=t.length;return e=null==e?t.map((e,t)=>t):[].concat(e),(0,o.assert)(e.every(e=>e>=-n&&e<n),()=>`All values in axis param must be in range [-${n}, ${n}) but got axis ${e}`),(0,o.assert)(e.every(a),()=>`All values in axis param must be integers but got axis ${e}`),e.map(e=>e<0?n+e:e)}function a(e){return e%1==0}function c(e){if(0===e.length)return 1;let t=e[0];for(let n=1;n<e.length;n++)t*=e[n];return t}function l(e){const t=Math.ceil(Math.sqrt(e));return[t,Math.ceil(e/t)]}t.AlwaysKeepOriginalSizeStrategy=class{constructor(e){this.maxTextureSize=e}computeTextureWH(e,t){if(0===e.length)return[1,1];const n=this.maxTextureSize;if(t&&void 0!==t.breakAxis){const o=t.breakAxis>=e.length?1:e.slice(t.breakAxis).reduce((e,t)=>e*t),i=t.breakAxis<=0?1:e.slice(0,t.breakAxis).reduce((e,t)=>e*t);if(!(o>n||i>n))return[o,i];r.Logger.verbose("TextureLayout",`Given width/height preferences were unattainable: shape:${e}, breakAxis:${t.breakAxis}`)}const o=e.reduce((e,t)=>e*t);let i=Math.floor(Math.sqrt(o));for(;i<n&&i<o&&o%i!=0;i++);if(i>=n||o%i!=0)throw new Error(`The given dimensions are outside this GPU's boundaries: ${e}`);return[i,o/i]}},t.PreferLogicalStrategy=class{constructor(e){this.maxTextureSize=e}computeTextureWH(e,t){const n=this.computeTexture(e,t);return t&&t.isPacked&&(n[0]/=2,n[1]/=2),t&&t.reverseWH?[n[1],n[0]]:n}computeTexture(e,t){const n=t&&t.isPacked;if(0===e.length)return n?[2,2]:[1,1];let o=this.maxTextureSize;if(t&&void 0!==t.breakAxis){const n=t.breakAxis>=e.length?1:e.slice(t.breakAxis).reduce((e,t)=>e*t),i=t.breakAxis<=0?1:e.slice(0,t.breakAxis).reduce((e,t)=>e*t);if(!(n>o||i>o))return[n,i];r.Logger.verbose("TextureLayout",`Given width/height preferences were unattainable: shape:${e}, breakAxis:${t.breakAxis}`)}let s=e.slice(0);if(n&&(o*=2,s=s.map((e,t)=>t>=s.length-2?s[t]%2==0?s[t]:s[t]+1:s[t]),1===s.length&&(s=[2,s[0]])),2!==s.length){const e=i(s);s=e.newShape}const a=c(s);return s.length<=1&&a<=o?[1,a]:2===s.length&&s[0]<=o&&s[1]<=o?s:3===s.length&&s[0]*s[1]<=o&&s[2]<=o?[s[0]*s[1],s[2]]:3===s.length&&s[0]<=o&&s[1]*s[2]<=o?[s[0],s[1]*s[2]]:4===s.length&&s[0]*s[1]*s[2]<=o&&s[3]<=o?[s[0]*s[1]*s[2],s[3]]:4===s.length&&s[0]<=o&&s[1]*s[2]*s[3]<=o?[s[0],s[1]*s[2]*s[3]]:n?l(a/4).map(e=>2*e):l(a)}},t.squeezeShape=i,t.parseAxisParam=s,t.isInt=a,t.sizeFromShape=c,t.getRowsCols=function(e){if(0===e.length)throw Error("Cannot get rows and columns of an empty shape array.");return[e.length>1?e[e.length-2]:1,e[e.length-1]]},t.sizeToSquarishShape=l,t.getBatchDim=function(e,t=2){return c(e.slice(0,e.length-t))}},4057:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createTextureLayoutFromShape=t.calculateTextureWidthAndHeight=t.createTextureLayoutFromTextureType=void 0;const r=n(2517),o=n(2039);t.createTextureLayoutFromTextureType=(e,n,r)=>{const i=r===o.TextureType.unpacked||r===o.TextureType.unpackedReversed?1:4,s=r===o.TextureType.packed,a=r===o.TextureType.unpackedReversed||r===o.TextureType.packed,c=r===o.TextureType.packedLastDimension?n.length-1:void 0,l=r===o.TextureType.packedLastDimension?n.map((e,t)=>t===n.length-1?4*e:e):void 0;return(0,t.createTextureLayoutFromShape)(e,n,i,l,{isPacked:s,reverseWH:a,breakAxis:c})},t.calculateTextureWidthAndHeight=(e,n,r)=>{const o=(0,t.createTextureLayoutFromTextureType)(e,n,r);return[o.width,o.height]},t.createTextureLayoutFromShape=(e,t,n=1,o,i)=>{const s=!(!i||!i.isPacked),[a,c]=e.computeTextureWH(s&&o||t,i),l=t.length;let u=t.slice(0);if(0===l&&(u=[1]),1===n)o=t;else if(s){if(4!==n)throw new Error("a packed texture must be 4-channel");o=t,l>0&&(u[l-1]=Math.ceil(u[l-1]/2)),l>1&&(u[l-2]=Math.ceil(u[l-2]/2))}else if(!o)throw new Error("Unpacked shape is needed when using channels > 1");return{width:a,height:c,channels:n,isPacked:s,shape:u,strides:r.ShapeUtil.computeStrides(u),unpackedShape:o,reversedWH:i&&i.reverseWH}}},5702:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TextureManager=void 0;const r=n(6231);t.TextureManager=class{constructor(e,t,n,r){this.glContext=e,this.layoutStrategy=t,this.profiler=n,this.config=r,this.pendingRead=new Map,r.reuseTextures&&(this.inUseTextures=new Map,this.idleTextures=new Map,this.textureLookup=new Map)}createTextureFromLayout(e,t,n,o){const i=this.toEncoderType(e),s=this.glContext.getEncoder(i,t.channels||1,o);if(t.isPacked&&1===o)throw new Error("not implemented");const a=t.width,c=t.height;let l,u;if(this.config.reuseTextures){l=`${a}x${c}_${s.format}_${s.internalFormat}_${s.textureType}`,u=this.inUseTextures.get(l),u||(u=[],this.inUseTextures.set(l,u));const t=this.idleTextures.get(l);if(t&&t.length>0){const r=t.pop();return u.push(r),1===o&&this.glContext.updateTexture(r,a,c,s,this.toTextureData(e,n)),r}}r.Logger.verbose("TextureManager",`Creating new texture of size ${t.width}x${t.height}`);const d=this.glContext.allocateTexture(a,c,s,this.toTextureData(e,n));return this.config.reuseTextures&&(u.push(d),this.textureLookup.set(d,l)),d}readTexture(e,t,n){return n||(n=1),this.profiler.event("backend","TextureManager.readTexture",()=>{const r=e.shape.reduce((e,t)=>e*t)*n,o=this.glContext.readTexture(e.texture,e.width,e.height,r,this.toEncoderType(t),n);return this.toTensorData(t,o)})}async readTextureAsync(e,t,n){const r=e.tensor.dataId;if(n||(n=1),this.pendingRead.has(r)){const e=this.pendingRead.get(r);return new Promise(t=>null==e?void 0:e.push(t))}return this.profiler.event("backend","TextureManager.readTextureAsync",async()=>{this.pendingRead.set(r,[]);const o=e.shape.reduce((e,t)=>e*t)*n;await this.glContext.createAndWaitForFence();const i=this.glContext.readTexture(e.texture,e.width,e.height,o,this.toEncoderType(t),n),s=this.toTensorData(t,i),a=this.pendingRead.get(r);return this.pendingRead.delete(r),null==a||a.forEach(e=>e(s)),s})}readUint8TextureAsFloat(e){return this.profiler.event("backend","TextureManager.readUint8TextureAsFloat",()=>{const t=e.shape.reduce((e,t)=>e*t),n=this.glContext.readTexture(e.texture,e.width,e.height,4*t,"byte",4);return new Float32Array(n.buffer,n.byteOffset,t)})}releaseTexture(e,t){let n;if(this.config.reuseTextures&&(n=this.textureLookup.get(e.texture),n)){t&&this.textureLookup.delete(n);const r=this.inUseTextures.get(n);if(r){const t=r.indexOf(e.texture);if(-1!==t){r.splice(t,1);let o=this.idleTextures.get(n);o||(o=[],this.idleTextures.set(n,o)),o.push(e.texture)}}}n&&!t||(r.Logger.verbose("TextureManager",`Deleting texture of size ${e.width}x${e.height}`),this.glContext.deleteTexture(e.texture))}toTensorData(e,t){switch(e){case"int16":return t instanceof Int16Array?t:Int16Array.from(t);case"int32":return t instanceof Int32Array?t:Int32Array.from(t);case"int8":return t instanceof Int8Array?t:Int8Array.from(t);case"uint16":return t instanceof Uint16Array?t:Uint16Array.from(t);case"uint32":return t instanceof Uint32Array?t:Uint32Array.from(t);case"uint8":case"bool":return t instanceof Uint8Array?t:Uint8Array.from(t);case"float32":return t instanceof Float32Array?t:Float32Array.from(t);case"float64":return t instanceof Float64Array?t:Float64Array.from(t);default:throw new Error(`TensorData type ${e} is not supported`)}}toTextureData(e,t){if(t)return t instanceof Float32Array?t:new Float32Array(t)}toEncoderType(e){return"float"}clearActiveTextures(){this.glContext.clearActiveTextures()}}},2039:(e,t)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.TextureType=void 0,(n=t.TextureType||(t.TextureType={}))[n.unpacked=0]="unpacked",n[n.unpackedReversed=1]="unpackedReversed",n[n.packed=2]="packed",n[n.downloadUint8AsFloat=3]="downloadUint8AsFloat",n[n.packedLastDimension=4]="packedLastDimension"},9390:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getGlChannels=t.getCoordsDataType=t.getSqueezedParams=t.squeezeInputShape=t.generateShaderFuncNameFromInputSamplerNameAtOutCoords=t.generateShaderFuncNameFromInputSamplerName=t.repeatedTry=t.getPackedShape=void 0;const r=n(2517);t.getPackedShape=function(e){const t=e.length;return e.slice(0,t-1).concat(e[t-1]/4)},t.repeatedTry=async function(e,t=e=>0,n){return new Promise((r,o)=>{let i=0;const s=()=>{if(e())return void r();i++;const a=t(i);null!=n&&i>=n?o():setTimeout(s,a)};s()})},t.generateShaderFuncNameFromInputSamplerName=function(e){return(0,r.assert)(void 0!==e&&0!==e.length,()=>"empty string found for sampler name"),"get"+e.charAt(0).toUpperCase()+e.slice(1)},t.generateShaderFuncNameFromInputSamplerNameAtOutCoords=function(e){return(0,r.assert)(void 0!==e&&0!==e.length,()=>"empty string found for sampler name"),"get"+e.charAt(0).toUpperCase()+e.slice(1)+"AtOutCoords"},t.squeezeInputShape=function(e,t){let n=JSON.parse(JSON.stringify(e));return n=t,n},t.getSqueezedParams=function(e,t){return t.map(t=>e[t]).join(", ")},t.getCoordsDataType=function(e){if(e<=1)return"int";if(2===e)return"ivec2";if(3===e)return"ivec3";if(4===e)return"ivec4";if(5===e)return"ivec5";if(6===e)return"ivec6";throw Error(`GPU for rank ${e} is not yet supported`)},t.getGlChannels=function(e=6){return["x","y","z","w","u","v"].slice(0,e)}},7305:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createNewWebGLContext=t.createWebGLContext=void 0;const r=n(6231),o=n(1713),i={};function s(e){const t=function(){if("undefined"==typeof document){if("undefined"==typeof OffscreenCanvas)throw new TypeError("failed to create canvas: OffscreenCanvas is not supported");return new OffscreenCanvas(1,1)}const e=document.createElement("canvas");return e.width=1,e.height=1,e}();let n;const i={alpha:!1,depth:!1,antialias:!1,stencil:!1,preserveDrawingBuffer:!1,premultipliedAlpha:!1,failIfMajorPerformanceCaveat:!1};if((!e||"webgl2"===e)&&(n=t.getContext("webgl2",i),n))try{return new o.WebGLContext(n,2)}catch(e){r.Logger.warning("GlContextFactory",`failed to create WebGLContext using contextId 'webgl2'. Error: ${e}`)}if((!e||"webgl"===e)&&(n=t.getContext("webgl",i)||t.getContext("experimental-webgl",i),n))try{return new o.WebGLContext(n,1)}catch(e){r.Logger.warning("GlContextFactory",`failed to create WebGLContext using contextId 'webgl' or 'experimental-webgl'. Error: ${e}`)}throw new Error("WebGL is not supported")}t.createWebGLContext=function e(t){let n;t&&"webgl2"!==t||!("webgl2"in i)?t&&"webgl"!==t||!("webgl"in i)||(n=i.webgl):n=i.webgl2,n=n||s(t),t=t||1===n.version?"webgl":"webgl2";const r=n.gl;return i[t]=n,r.isContextLost()?(delete i[t],e(t)):(r.disable(r.DEPTH_TEST),r.disable(r.STENCIL_TEST),r.disable(r.BLEND),r.disable(r.DITHER),r.disable(r.POLYGON_OFFSET_FILL),r.disable(r.SAMPLE_COVERAGE),r.enable(r.SCISSOR_TEST),r.enable(r.CULL_FACE),r.cullFace(r.BACK),n)},t.createNewWebGLContext=s},1713:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.WebGLContext=t.linearSearchLastTrue=void 0;const s=n(1670),a=i(n(7769)),c=n(9390);function l(e){let t=0;for(;t<e.length&&e[t]();++t);return t-1}t.linearSearchLastTrue=l,t.WebGLContext=class{constructor(e,t){this.frameBufferBound=!1,this.itemsToPoll=[],this.gl=e,this.version=t,this.getExtensions(),this.vertexbuffer=this.createVertexbuffer(),this.framebuffer=this.createFramebuffer(),this.queryVitalParameters()}allocateTexture(e,t,n,r){const o=this.gl,i=o.createTexture();o.bindTexture(o.TEXTURE_2D,i),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_MIN_FILTER,o.NEAREST),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_MAG_FILTER,o.NEAREST),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_WRAP_S,o.CLAMP_TO_EDGE),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_WRAP_T,o.CLAMP_TO_EDGE);const s=r?n.encode(r,e*t):null;return o.texImage2D(o.TEXTURE_2D,0,n.internalFormat,e,t,0,n.format,n.textureType,s),this.checkError(),i}updateTexture(e,t,n,r,o){const i=this.gl;i.bindTexture(i.TEXTURE_2D,e);const s=r.encode(o,t*n);i.texSubImage2D(i.TEXTURE_2D,0,0,0,t,n,r.format,r.textureType,s),this.checkError()}attachFramebuffer(e,t,n){const r=this.gl;r.bindTexture(r.TEXTURE_2D,e),r.bindFramebuffer(r.FRAMEBUFFER,this.framebuffer),r.framebufferTexture2D(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0,r.TEXTURE_2D,e,0),this.checkError(),r.viewport(0,0,t,n),r.scissor(0,0,t,n)}readTexture(e,t,n,r,o,i){const s=this.gl;i||(i=1),this.frameBufferBound||this.attachFramebuffer(e,t,n);const a=this.getEncoder(o,i),c=a.allocate(t*n);return s.bindTexture(s.TEXTURE_2D,e),s.framebufferTexture2D(s.FRAMEBUFFER,s.COLOR_ATTACHMENT0,s.TEXTURE_2D,e,0),s.readPixels(0,0,t,n,s.RGBA,a.textureType,c),this.checkError(),a.decode(c,r)}isFramebufferReady(){return!0}getActiveTexture(){const e=this.gl;return"TEXTURE"+(e.getParameter(this.gl.ACTIVE_TEXTURE)-e.TEXTURE0)}getTextureBinding(){return this.gl.getParameter(this.gl.TEXTURE_BINDING_2D)}getFramebufferBinding(){return this.gl.getParameter(this.gl.FRAMEBUFFER_BINDING)}setVertexAttributes(e,t){const n=this.gl;n.vertexAttribPointer(e,3,n.FLOAT,!1,20,0),n.enableVertexAttribArray(e),-1!==t&&(n.vertexAttribPointer(t,2,n.FLOAT,!1,20,12),n.enableVertexAttribArray(t)),this.checkError()}createProgram(e,t){const n=this.gl,r=n.createProgram();return n.attachShader(r,e),n.attachShader(r,t),n.linkProgram(r),r}compileShader(e,t){const n=this.gl,r=n.createShader(t);if(!r)throw new Error(`createShader() returned null with type ${t}`);if(n.shaderSource(r,e),n.compileShader(r),!1===n.getShaderParameter(r,n.COMPILE_STATUS))throw new Error(`Failed to compile shader: ${n.getShaderInfoLog(r)}\nShader source:\n${e}`);return r}deleteShader(e){this.gl.deleteShader(e)}bindTextureToUniform(e,t,n){const r=this.gl;r.activeTexture(r.TEXTURE0+t),this.checkError(),r.bindTexture(r.TEXTURE_2D,e),this.checkError(),r.uniform1i(n,t),this.checkError()}draw(){this.gl.drawArrays(this.gl.TRIANGLE_STRIP,0,4),this.checkError()}checkError(){if(s.env.debug){const e=this.gl,t=e.getError();let n="";switch(t){case e.NO_ERROR:return;case e.INVALID_ENUM:n="INVALID_ENUM";break;case e.INVALID_VALUE:n="INVALID_VALUE";break;case e.INVALID_OPERATION:n="INVALID_OPERATION";break;case e.INVALID_FRAMEBUFFER_OPERATION:n="INVALID_FRAMEBUFFER_OPERATION";break;case e.OUT_OF_MEMORY:n="OUT_OF_MEMORY";break;case e.CONTEXT_LOST_WEBGL:n="CONTEXT_LOST_WEBGL";break;default:n=`Unknown WebGL Error: ${t.toString(16)}`}throw new Error(n)}}deleteTexture(e){this.gl.deleteTexture(e)}deleteProgram(e){this.gl.deleteProgram(e)}getEncoder(e,t,n=0){if(2===this.version)return new a.RedFloat32DataEncoder(this.gl,t);switch(e){case"float":return 1===n||this.isRenderFloat32Supported?new a.RGBAFloatDataEncoder(this.gl,t):new a.RGBAFloatDataEncoder(this.gl,t,this.textureHalfFloatExtension.HALF_FLOAT_OES);case"int":throw new Error("not implemented");case"byte":return new a.Uint8DataEncoder(this.gl,t);default:throw new Error(`Invalid dataType: ${e}`)}}clearActiveTextures(){const e=this.gl;for(let t=0;t<this.maxTextureImageUnits;++t)e.activeTexture(e.TEXTURE0+t),e.bindTexture(e.TEXTURE_2D,null)}dispose(){if(this.disposed)return;const e=this.gl;e.bindFramebuffer(e.FRAMEBUFFER,null),e.deleteFramebuffer(this.framebuffer),e.bindBuffer(e.ARRAY_BUFFER,null),e.deleteBuffer(this.vertexbuffer),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,null),e.finish(),this.disposed=!0}createDefaultGeometry(){return new Float32Array([-1,1,0,0,1,-1,-1,0,0,0,1,1,0,1,1,1,-1,0,1,0])}createVertexbuffer(){const e=this.gl,t=e.createBuffer();if(!t)throw new Error("createBuffer() returned null");const n=this.createDefaultGeometry();return e.bindBuffer(e.ARRAY_BUFFER,t),e.bufferData(e.ARRAY_BUFFER,n,e.STATIC_DRAW),this.checkError(),t}createFramebuffer(){const e=this.gl.createFramebuffer();if(!e)throw new Error("createFramebuffer returned null");return e}queryVitalParameters(){const e=this.gl;if(this.isFloatTextureAttachableToFrameBuffer=this.checkFloatTextureAttachableToFrameBuffer(),this.isRenderFloat32Supported=this.checkRenderFloat32(),this.isFloat32DownloadSupported=this.checkFloat32Download(),1===this.version&&!this.textureHalfFloatExtension&&!this.isRenderFloat32Supported)throw new Error("both float32 and float16 TextureType are not supported");this.isBlendSupported=!this.isRenderFloat32Supported||this.checkFloat32Blend(),this.maxTextureSize=e.getParameter(e.MAX_TEXTURE_SIZE),this.maxTextureImageUnits=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS),this.version}getExtensions(){2===this.version?(this.colorBufferFloatExtension=this.gl.getExtension("EXT_color_buffer_float"),this.disjointTimerQueryWebgl2Extension=this.gl.getExtension("EXT_disjoint_timer_query_webgl2")):(this.textureFloatExtension=this.gl.getExtension("OES_texture_float"),this.textureHalfFloatExtension=this.gl.getExtension("OES_texture_half_float"))}checkFloatTextureAttachableToFrameBuffer(){const e=this.gl,t=e.createTexture();e.bindTexture(e.TEXTURE_2D,t);const n=2===this.version?e.RGBA32F:e.RGBA;e.texImage2D(e.TEXTURE_2D,0,n,1,1,0,e.RGBA,e.FLOAT,null);const r=e.createFramebuffer();e.bindFramebuffer(e.FRAMEBUFFER,r),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,t,0);const o=e.checkFramebufferStatus(e.FRAMEBUFFER)===e.FRAMEBUFFER_COMPLETE;return e.bindTexture(e.TEXTURE_2D,null),e.bindFramebuffer(e.FRAMEBUFFER,null),e.deleteTexture(t),e.deleteFramebuffer(r),o}checkRenderFloat32(){if(2===this.version){if(!this.colorBufferFloatExtension)return!1}else if(!this.textureFloatExtension)return!1;return this.isFloatTextureAttachableToFrameBuffer}checkFloat32Download(){if(2===this.version){if(!this.colorBufferFloatExtension)return!1}else{if(!this.textureFloatExtension)return!1;if(!this.gl.getExtension("WEBGL_color_buffer_float"))return!1}return this.isFloatTextureAttachableToFrameBuffer}checkFloat32Blend(){const e=this.gl;let t,n,r,o,i;try{t=e.createTexture(),n=e.createFramebuffer(),e.bindTexture(e.TEXTURE_2D,t);const s=2===this.version?e.RGBA32F:e.RGBA;return e.texImage2D(e.TEXTURE_2D,0,s,1,1,0,e.RGBA,e.FLOAT,null),e.bindFramebuffer(e.FRAMEBUFFER,n),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,t,0),e.enable(e.BLEND),r=e.createShader(e.VERTEX_SHADER),!!r&&(e.shaderSource(r,"void main(){}"),e.compileShader(r),o=e.createShader(e.FRAGMENT_SHADER),!!o&&(e.shaderSource(o,"precision highp float;void main(){gl_FragColor=vec4(0.5);}"),e.compileShader(o),i=e.createProgram(),!!i&&(e.attachShader(i,r),e.attachShader(i,o),e.linkProgram(i),e.useProgram(i),e.drawArrays(e.POINTS,0,1),e.getError()===e.NO_ERROR)))}finally{e.disable(e.BLEND),i&&e.deleteProgram(i),r&&e.deleteShader(r),o&&e.deleteShader(o),n&&(e.bindFramebuffer(e.FRAMEBUFFER,null),e.deleteFramebuffer(n)),t&&(e.bindTexture(e.TEXTURE_2D,null),e.deleteTexture(t))}}beginTimer(){if(2===this.version&&this.disjointTimerQueryWebgl2Extension){const e=this.gl,t=this.disjointTimerQueryWebgl2Extension,n=e.createQuery();return e.beginQuery(t.TIME_ELAPSED_EXT,n),n}throw new Error("WebGL1 profiling currently not supported.")}endTimer(){if(2!==this.version||!this.disjointTimerQueryWebgl2Extension)throw new Error("WebGL1 profiling currently not supported");{const e=this.gl,t=this.disjointTimerQueryWebgl2Extension;e.endQuery(t.TIME_ELAPSED_EXT)}}isTimerResultAvailable(e){let t=!1,n=!1;if(2!==this.version||!this.disjointTimerQueryWebgl2Extension)throw new Error("WebGL1 profiling currently not supported");{const r=this.gl,o=this.disjointTimerQueryWebgl2Extension;t=r.getQueryParameter(e,r.QUERY_RESULT_AVAILABLE),n=r.getParameter(o.GPU_DISJOINT_EXT)}return t&&!n}getTimerResult(e){let t=0;if(2!==this.version)throw new Error("WebGL1 profiling currently not supported");{const n=this.gl;t=n.getQueryParameter(e,n.QUERY_RESULT),n.deleteQuery(e)}return t/1e6}async waitForQueryAndGetTime(e){return await(0,c.repeatedTry)(()=>this.isTimerResultAvailable(e)),this.getTimerResult(e)}async createAndWaitForFence(){const e=this.createFence(this.gl);return this.pollFence(e)}createFence(e){let t;const n=e,r=n.fenceSync(n.SYNC_GPU_COMMANDS_COMPLETE,0);return e.flush(),t=null===r?()=>!0:()=>{const e=n.clientWaitSync(r,0,0);return e===n.ALREADY_SIGNALED||e===n.CONDITION_SATISFIED},{query:r,isFencePassed:t}}async pollFence(e){return new Promise(t=>{this.addItemToPoll(()=>e.isFencePassed(),()=>t())})}pollItems(){const e=l(this.itemsToPoll.map(e=>e.isDoneFn));for(let t=0;t<=e;++t){const{resolveFn:e}=this.itemsToPoll[t];e()}this.itemsToPoll=this.itemsToPoll.slice(e+1)}async addItemToPoll(e,t){this.itemsToPoll.push({isDoneFn:e,resolveFn:t}),this.itemsToPoll.length>1||await(0,c.repeatedTry)(()=>(this.pollItems(),0===this.itemsToPoll.length))}}},1036:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ExecutionPlan=void 0;const r=n(6231);class o{constructor(e,t){this.op=e,this.node=t}}t.ExecutionPlan=class{constructor(e,t,n){this.graph=e,this.profiler=n,this.initialize(t)}initialize(e){this.profiler.event("session","ExecutionPlan.initialize",()=>{const t=this.graph.getNodes();if(t.length!==e.length)throw new Error("The size of nodes and OPs do not match.");this._ops=e.map((e,n)=>new o(e,t[n])),this.reset(),this._starter=[],this._ops.forEach((e,t)=>{let n=!0;for(const t of e.node.inputs)if(!this._values[t]&&-1===this.graph.getInputIndices().indexOf(t)){n=!1;break}n&&this._starter.push(t)})})}reset(){this._values=this.graph.getValues().map(e=>e.tensor)}async execute(e,t){return this.profiler.event("session","ExecutionPlan.execute",async()=>{this.reset();const n=e.createInferenceHandler(),o=this.graph.getInputIndices();if(t.length!==o.length)throw new Error(`number of input tensors don't match the number of inputs to the model: actual: ${t.length} expected: ${o.length}`);t.forEach((e,t)=>{const n=o[t];this._values[n]=e});const i=this._starter.slice(0),s=this.graph.getValues(),a=this.graph.getNodes();let c=0;for(;c<i.length;){const e=i[c++],t=this._ops[e],o=t.node.inputs.map(e=>this._values[e]);if(-1!==o.indexOf(void 0))throw new Error(`unresolved input detected: op: ${t.node}`);const l=o;r.Logger.verbose("ExecPlan",`Runing op:${t.node.name} (${l.map((e,n)=>`'${t.node.inputs[n]}': ${e.type}[${e.dims.join(",")}]`).join(", ")})`);const u=await this.profiler.event("node",t.node.name,async()=>t.op.impl(n,l,t.op.context));if(u.length!==t.node.outputs.length)throw new Error("the size of output does not match model definition.");u.forEach((e,n)=>{const r=t.node.outputs[n];if(this._values[r])throw new Error(`output [${r}] already has value: op:${t.node.name}`);this._values[r]=e});const d=new Set;u.forEach((e,n)=>{const r=t.node.outputs[n];for(const e of s[r].to){const t=a[e];let n=!0;for(const e of t.inputs)if(!this._values[e]){n=!1;break}n&&d.add(e)}}),i.push(...d)}const l=[];for(let e=0;e<this.graph.getOutputIndices().length;e++){const t=this.graph.getOutputIndices()[e],n=this._values[t];if(void 0===n)throw new Error(`required output [${t}] does not have value`);0===t?await n.getData():n.data,l.push(n)}return r.Logger.verbose("ExecPlan","disposing of inferenceHandler"),n.dispose(),l})}}},7070:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Graph=void 0;const r=n(1446),o=n(7778),i=n(9395),s=n(9162),a=n(2517);var c=i.onnxruntime.experimental.fbs;t.Graph={from:(e,t)=>new d(e,t)};class l{constructor(e){this._from=void 0,this._to=[],this.tensor=void 0,this.type=void 0,e&&(this.type=a.ProtoUtil.tensorValueTypeFromProto(e.type.tensorType))}get from(){return this._from}get to(){return this._to}}class u{constructor(e,t){e instanceof r.onnx.NodeProto?(this.name=e.name,this.opType=e.opType,this.attributes=new o.Attribute(e.attribute)):e instanceof c.Node&&(this.name=null!=t?t:e.name(),this.opType=e.opType(),this.attributes=new o.Attribute(a.ProtoUtil.tensorAttributesFromORTFormat(e))),this.inputs=[],this.outputs=[],this.executeNode=!0}}class d{constructor(e,t){if(!e)throw new TypeError("graph is empty");this.buildGraph(e),this.transformGraph(t),this.checkIsAcyclic()}getInputIndices(){return this._allInputIndices}getInputNames(){return this._allInputNames}getOutputIndices(){return this._allOutputIndices}getOutputNames(){return this._allOutputNames}getValues(){return this._allData}getNodes(){return this._nodes}buildGraph(e){if(e instanceof r.onnx.GraphProto)this.buildGraphFromOnnxFormat(e);else{if(!(e instanceof c.Graph))throw new TypeError("Graph type is not supported.");this.buildGraphFromOrtFormat(e)}}buildGraphFromOnnxFormat(e){const t=new Map;this._allData=[],this._allInputIndices=[],this._allInputNames=[],this._allOutputIndices=[],this._allOutputNames=[],this._nodes=[];const n=new Map;if(!e.input)throw new Error("missing information in graph: input");const r=[];for(const n of e.input){if(t.has(n.name))throw new Error(`duplicated input name: ${n.name}`);const e=this._allData.push(new l(n))-1;t.set(n.name,e),r.push(n.name)}if(!e.initializer)throw new Error("missing information in graph: initializer");for(const n of e.initializer){let e=t.get(n.name);if(void 0===e){const r=new l;r.type={shape:{dims:a.ProtoUtil.tensorDimsFromProto(n.dims)},tensorType:a.ProtoUtil.tensorDataTypeFromProto(n.dataType)},e=this._allData.push(r)-1,t.set(n.name,e)}this._allData[e]._from=-1,this._allData[e].tensor=s.Tensor.fromProto(n)}for(let e=0;e<this._allData.length;e++)this._allData[e].tensor||(this._allInputIndices.push(e),this._allInputNames.push(r[e]));if(!e.output)throw new Error("missing information in graph: output");for(const n of e.output){if(t.has(n.name))throw new Error(`duplicated output name: ${n.name}`);const e=this._allData.push(new l(n))-1;t.set(n.name,e),this._allOutputIndices.push(e),this._allOutputNames.push(n.name)}if(!e.node)throw new Error("missing information in graph: node");for(const t of e.node){if(!t.name)for(let e=0;;e++){const r=`unnamed_${t.opType}_${e}`;if(!n.has(r)){t.name=r;break}}if(n.has(t.name))throw new Error(`duplicated node name: ${t.name}`);const e=this._nodes.push(new u(t))-1;n.set(t.name,e)}for(let n=0;n<this._nodes.length;n++){const r=this._nodes[n],o=e.node[n];if(!o.output)throw new Error(`missing output for node: ${o.name}`);for(const e of o.output){let i=t.get(e);if(void 0===i&&(i=this._allData.push(new l)-1,t.set(e,i)),r.outputs.push(i),void 0!==this._allData[i]._from)throw new Error(`multiple nodes output to one data value: ${i}`);if(this._allData[i]._from=n,"Constant"===o.opType){if(!o.attribute||1!==o.attribute.length||!o.attribute[0].t)throw new Error("missing attributes or missing tensor value in attributes for this Constant operator");if(!o.output||1!==o.output.length)throw new Error("missing output or incorrect number of outputs for this Constant operator");r.outputs.pop(),r.executeNode=!1,this._allData[i]._from=-1,this._allData[i].tensor=s.Tensor.fromProto(o.attribute[0].t)}}}for(let n=0;n<this._nodes.length;n++){const r=this._nodes[n],o=e.node[n];if(!o.input)throw new Error(`missing input for node: ${o.name}`);for(const e of o.input){const i=t.get(e);if(void 0===i){if(""===e&&3===o.input.length&&"Resize"===o.opType)continue;throw new Error(`unrecognized input '${e}' for node: ${o.name}`)}r.inputs.push(i),this._allData[i]._to.push(n)}}return!0}buildGraphFromOrtFormat(e){var t,n,r;const o=new Map;this._allData=[],this._allInputIndices=[],this._allInputNames=[],this._allOutputIndices=[],this._allOutputNames=[],this._nodes=[];const i=new Map,d=[];for(let i=0;i<e.inputsLength();i++){const s=e.inputs(i);if(o.has(s))throw new Error(`duplicated input name: ${s}`);for(let i=0;i<e.nodeArgsLength();i++)if((null===(t=e.nodeArgs(i))||void 0===t?void 0:t.name())===s){const t=new l;if((null===(r=null===(n=e.nodeArgs(i))||void 0===n?void 0:n.type())||void 0===r?void 0:r.valueType())!==c.TypeInfoValue.tensor_type)throw new Error("Unexpected value type for the nodeArg.");const u=e.nodeArgs(i).type().value(new c.TensorTypeAndShape),f=a.ProtoUtil.tensorDataTypeFromProto(u.elemType()),h=u.shape(),p=[];for(let e=0;e<h.dimLength();e++)p.push(a.LongUtil.longToNumber(h.dim(e).value().dimValue()));t.type={shape:{dims:p},tensorType:f};const g=this._allData.push(t)-1;o.set(s,g),d.push(s)}}for(let t=0;t<e.initializersLength();t++){const n=e.initializers(t);let r=o.get(n.name());if(void 0===r){const e=new l,t=a.ProtoUtil.tensorDimsFromORTFormat(n),i=a.ProtoUtil.tensorDataTypeFromProto(n.dataType());e.type={shape:{dims:t},tensorType:i},r=this._allData.push(e)-1,o.set(n.name(),r)}this._allData[r]._from=-1,this._allData[r].tensor=s.Tensor.fromOrtTensor(n)}for(let e=0;e<this._allData.length;e++)this._allData[e].tensor||(this._allInputIndices.push(e),this._allInputNames.push(d[e]));for(let t=0;t<e.outputsLength();t++){const n=e.outputs(t);if(o.has(n))throw new Error(`duplicated output name: ${n}`);const r=this._allData.push(new l)-1;o.set(n,r),this._allOutputIndices.push(r),this._allOutputNames.push(n)}if(!e.nodes)throw new Error("missing information in graph: node");for(let t=0;t<e.nodesLength();t++){const n=e.nodes(t);let r=n.name();if(!r)for(let e=0;r=`unnamed_${n.opType()}_${e}`,i.has(r);e++);if(i.has(r))throw new Error(`duplicated node name: ${r}`);const o=this._nodes.push(new u(n,r))-1;i.set(r,o)}for(let t=0;t<this._nodes.length;t++){const n=this._nodes[t],r=e.nodes(t);if(null==r)throw new Error(`No node exists at index ${t}`);if(0===(null==r?void 0:r.outputsLength()))throw new Error(`missing output for node: ${r.name}`);for(let e=0;e<(null==r?void 0:r.outputsLength());e++){const i=null==r?void 0:r.outputs(e);let a=o.get(i);if(void 0===a&&(a=this._allData.push(new l)-1,o.set(i,a)),n.outputs.push(a),void 0!==this._allData[a]._from)throw new Error(`multiple nodes output to one data value: ${a}`);if(this._allData[a]._from=t,"Constant"===r.opType()){if(1!==r.attributesLength()||!r.attributes(0).t())throw new Error("missing attributes or missing tensor value in attributes for this Constant operator");if(1!==r.outputsLength())throw new Error("missing output or incorrect number of outputs for this Constant operator");n.outputs.pop(),n.executeNode=!1,this._allData[a]._from=-1,this._allData[a].tensor=s.Tensor.fromOrtTensor(r.attributes(0).t())}}}for(let t=0;t<this._nodes.length;t++){const n=this._nodes[t],r=e.nodes(t);if(0===r.inputsLength())throw new Error(`missing input for node: ${r.name}`);for(let e=0;e<r.inputsLength();e++){const i=r.inputs(e),s=o.get(i);if(void 0===s)throw new Error(`unrecognized input '${i}' for node: ${r.name()}`);n.inputs.push(s),this._allData[s]._to.push(t)}}}checkIsAcyclic(){const e=new Set;this._allInputIndices.forEach(t=>{this._allData[t]._to.forEach(t=>{e.add(t)})});const t=Array.from(e),n=new Array(this._nodes.length).fill("white");for(;t.length>0;){const e=t.pop();"gray"===n[e]?n[e]="black":(t.push(e),n[e]="gray",this._nodes[e].outputs.forEach(r=>{const o=this._allData[r];if(void 0!==o.tensor)throw new Error("node outputs should not be initialized");if(o._from!==e)throw new Error("from property of the Value object doesn't match index of Node being processed");o._to.forEach(e=>{if("gray"===n[e])throw new Error("model graph is cyclic");"white"===n[e]&&t.push(e)})}))}}transformGraph(e){this.removeAllIdentityNodes(),this.removeAllDropoutNodes(),this.fuseConvActivationNodes(),e&&e.transformGraph(this),this.finalizeGraph()}finalizeGraph(){let e=0;for(let t=0;t<this._nodes.length;t++)this._nodes[t].executeNode?e>0&&(this._nodes[t].inputs.forEach(n=>{const r=this._allData[n]._to.indexOf(t+e);-1!==r&&(this._allData[n]._to[r]=t)}),this._nodes[t].outputs.forEach(n=>{this._allData[n]._from&&this._allData[n]._from===t+e&&(this._allData[n]._from=t)})):(e++,this._nodes[t].outputs.forEach(e=>{this._allData[e]._from=-2}),this._nodes.splice(t,1),t--);e=0;for(let t=0;t<this._allData.length;t++)if(-2!==this._allData[t].from||-1!==this._allOutputIndices.indexOf(t+e)){if(e>0){let n=-1;void 0!==this._allData[t].from&&-1!==this._allData[t].from?(n=this._nodes[this._allData[t].from].outputs.indexOf(t+e),-1!==n&&(this._nodes[this._allData[t].from].outputs[n]=t)):(n=this._allInputIndices.indexOf(t+e),-1!==n&&(this._allInputIndices[n]=t)),this._allData[t].to.forEach(r=>{n=this._nodes[r].inputs.indexOf(t+e),-1!==n&&(this._nodes[r].inputs[n]=t)}),0===this._allData[t].to.length&&(n=this._allOutputIndices.indexOf(t+e),-1!==n&&(this._allOutputIndices[n]=t))}}else e++,this._allData.splice(t,1),t--}deleteNode(e){const t=this._nodes[e];if(t.outputs.length>1)for(let e=1;e<t.outputs.length;e++)if(this._allData[t.outputs[e]].to.length>0)throw new Error("Node deletion with more than one output connected to other nodes is not supported. ");t.executeNode=!1;const n=t.inputs[0],r=t.outputs[0],o=this._allData[r].to,i=this._allData[n].to.indexOf(e);if(-1===i)throw new Error("The Value object doesn't have the current Node in it's 'to' property ");this._allData[n].to.splice(i,1),this._allData[r]._to=[];const s=this._allOutputIndices.indexOf(r);if(-1!==s&&(this._allOutputIndices[s]=n),o&&o.length>0)for(const e of o){const t=this._nodes[e].inputs.indexOf(r);if(-1===t)throw new Error("The Node object doesn't have the output Value in it's 'inputs' property ");this._nodes[e].inputs[t]=n,this._allData[n].to.push(e)}}removeAllDropoutNodes(){let e=0;for(const t of this._nodes){if("Dropout"===t.opType){if(1!==t.inputs.length)throw new Error("Dropout nodes should only contain one input. ");if(1!==t.outputs.length&&2!==t.outputs.length)throw new Error("Dropout nodes should contain either 1 or 2 output(s)");if(2===t.outputs.length&&0!==this._allData[t.outputs[1]]._to.length)throw new Error("Dropout nodes's second output should not be referenced by other nodes");this.deleteNode(e)}e++}}removeAllIdentityNodes(){let e=0;for(const t of this._nodes)"Identity"===t.opType&&this.deleteNode(e),e++}isActivation(e){switch(e.opType){case"Relu":case"Sigmoid":case"Clip":return!0;default:return!1}}fuseConvActivationNodes(){for(const e of this._nodes)if("Conv"===e.opType){const t=this._allData[e.outputs[0]]._to;if(1===t.length&&this.isActivation(this._nodes[t[0]])){const n=this._nodes[t[0]];if("Clip"===n.opType)if(1===n.inputs.length)try{e.attributes.set("activation_params","floats",[n.attributes.getFloat("min"),n.attributes.getFloat("max")])}catch(t){e.attributes.set("activation_params","floats",[a.MIN_CLIP,a.MAX_CLIP])}else{if(!(n.inputs.length>=3&&void 0!==this._allData[n.inputs[1]].tensor&&void 0!==this._allData[n.inputs[2]].tensor))continue;e.attributes.set("activation_params","floats",[this._allData[n.inputs[1]].tensor.floatData[0],this._allData[n.inputs[2]].tensor.floatData[0]])}e.attributes.set("activation","string",n.opType),this.deleteNode(t[0])}}}}},6231:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.now=t.Profiler=t.Logger=void 0;const n={verbose:1e3,info:2e3,warning:4e3,error:5e3,fatal:6e3},r={none:new class{log(e,t,n){}},console:new class{log(e,t,n){console.log(`${this.color(e)} ${n?"[35m"+n+"[0m ":""}${t}`)}color(e){switch(e){case"verbose":return"[34;40mv[0m";case"info":return"[32mi[0m";case"warning":return"[30;43mw[0m";case"error":return"[31;40me[0m";case"fatal":return"[101mf[0m";default:throw new Error(`unsupported severity: ${e}`)}}}},o={provider:"console",minimalSeverity:"warning",logDateTime:!0,logSourceLocation:!1};let i={"":o};function s(e,t,n,r){if(void 0===t)return o=e,{verbose:s.verbose.bind(null,o),info:s.info.bind(null,o),warning:s.warning.bind(null,o),error:s.error.bind(null,o),fatal:s.fatal.bind(null,o)};if(void 0===n)a(e,t);else if("number"==typeof n&&void 0===r)a(e,t);else if("string"==typeof n&&void 0===r)a(e,n,0,t);else{if("string"!=typeof n||"number"!=typeof r)throw new TypeError("input is valid");a(e,n,0,t)}var o}function a(e,t,o,s){const a=i[s||""]||i[""];n[e]<n[a.minimalSeverity]||(a.logDateTime&&(t=`${(new Date).toISOString()}|${t}`),a.logSourceLocation,r[a.provider].log(e,t,s))}!function(e){function t(e){i={},n("",e||{})}function n(e,n){if("*"===e)t(n);else{const t=i[e]||o;i[e]={provider:n.provider||t.provider,minimalSeverity:n.minimalSeverity||t.minimalSeverity,logDateTime:void 0===n.logDateTime?t.logDateTime:n.logDateTime,logSourceLocation:void 0===n.logSourceLocation?t.logSourceLocation:n.logSourceLocation}}}e.verbose=function(t,n){e("verbose",t,n)},e.info=function(t,n){e("info",t,n)},e.warning=function(t,n){e("warning",t,n)},e.error=function(t,n){e("error",t,n)},e.fatal=function(t,n){e("fatal",t,n)},e.reset=t,e.set=n,e.setWithEnv=function(e){const t={};e.logLevel&&(t.minimalSeverity=e.logLevel),n("",t)}}(s||(s={})),t.Logger=s;class c{constructor(e,t,n,r,o,i){this.category=e,this.name=t,this.startTime=n,this.endCallback=r,this.timer=o,this.ctx=i}end(){return this.endCallback(this)}async checkTimer(){if(void 0===this.ctx||void 0===this.timer)throw new Error("No webgl timer found");return this.ctx.endTimer(),this.ctx.waitForQueryAndGetTime(this.timer)}}class l{constructor(e,t,n,r){this.category=e,this.name=t,this.startTime=n,this.endTime=r}}t.Profiler=class{static create(e){return void 0===e?new this:new this(e.maxNumberEvents,e.flushBatchSize,e.flushIntervalInMilliseconds)}constructor(e,t,n){this._started=!1,this._flushPointer=0,this._started=!1,this._maxNumberEvents=void 0===e?1e4:e,this._flushBatchSize=void 0===t?10:t,this._flushIntervalInMilliseconds=void 0===n?5e3:n}start(){this._started=!0,this._timingEvents=[],this._flushTime=(0,t.now)(),this._flushPointer=0}stop(){for(this._started=!1;this._flushPointer<this._timingEvents.length;this._flushPointer++)this.logOneEvent(this._timingEvents[this._flushPointer])}event(e,t,n,r){const o=this._started?this.begin(e,t,r):void 0;let i=!1;const s=n();if(s&&"function"==typeof s.then)return i=!0,new Promise((e,t)=>{s.then(async t=>{o&&await o.end(),e(t)},async e=>{o&&await o.end(),t(e)})});if(!i&&o){const e=o.end();if(e&&"function"==typeof e.then)return new Promise((t,n)=>{e.then(()=>{t(s)},e=>{n(e)})})}return s}begin(e,n,r){if(!this._started)throw new Error("profiler is not started yet");if(void 0===r){const r=(0,t.now)();return this.flush(r),new c(e,n,r,e=>this.endSync(e))}{const t=r.beginTimer();return new c(e,n,0,async e=>this.end(e),t,r)}}async end(e){const t=await e.checkTimer();this._timingEvents.length<this._maxNumberEvents&&(this._timingEvents.push(new l(e.category,e.name,e.startTime,t)),this.flush(t))}endSync(e){const n=(0,t.now)();this._timingEvents.length<this._maxNumberEvents&&(this._timingEvents.push(new l(e.category,e.name,e.startTime,n)),this.flush(n))}logOneEvent(e){t.Logger.verbose(`Profiler.${e.category}`,`${(e.endTime-e.startTime).toFixed(2)}ms on event '${e.name}' at ${e.endTime.toFixed(2)}`)}flush(e){if(this._timingEvents.length-this._flushPointer>=this._flushBatchSize||e-this._flushTime>=this._flushIntervalInMilliseconds){for(const e=this._flushPointer;this._flushPointer<e+this._flushBatchSize&&this._flushPointer<this._timingEvents.length;this._flushPointer++)this.logOneEvent(this._timingEvents[this._flushPointer]);this._flushTime=(0,t.now)()}}get started(){return this._started}},t.now="undefined"!=typeof performance&&performance.now?()=>performance.now():Date.now},2644:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Model=void 0;const r=n(5686),o=n(1446),i=n(7070),s=n(9395),a=n(2517);var c=s.onnxruntime.experimental.fbs;t.Model=class{constructor(){}load(e,t,n){if(!n)try{return void this.loadFromOnnxFormat(e,t)}catch(e){if(void 0!==n)throw e}this.loadFromOrtFormat(e,t)}loadFromOnnxFormat(e,t){const n=o.onnx.ModelProto.decode(e);if(a.LongUtil.longToNumber(n.irVersion)<3)throw new Error("only support ONNX model with IR_VERSION>=3");this._opsets=n.opsetImport.map(e=>({domain:e.domain,version:a.LongUtil.longToNumber(e.version)})),this._graph=i.Graph.from(n.graph,t)}loadFromOrtFormat(e,t){const n=new r.flatbuffers.ByteBuffer(e),o=c.InferenceSession.getRootAsInferenceSession(n).model();if(a.LongUtil.longToNumber(o.irVersion())<3)throw new Error("only support ONNX model with IR_VERSION>=3");this._opsets=[];for(let e=0;e<o.opsetImportLength();e++){const t=o.opsetImport(e);this._opsets.push({domain:null==t?void 0:t.domain(),version:a.LongUtil.longToNumber(t.version())})}this._graph=i.Graph.from(o.graph(),t)}get graph(){return this._graph}get opsets(){return this._opsets}}},782:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FLOAT_TYPES=t.INT_TYPES=t.NUMBER_TYPES=void 0,t.NUMBER_TYPES=["float32","float64","int32","int16","int8","uint16","uint32","uint8"],t.INT_TYPES=["int32","int16","int8","uint16","uint32","uint8"],t.FLOAT_TYPES=["float32","float64"]},1047:(e,t)=>{"use strict";function n(e,t){if(t.endsWith("+")){const n=Number.parseInt(t.substring(0,t.length-1),10);return!isNaN(n)&&n<=e}if(2===t.split("-").length){const n=t.split("-"),r=Number.parseInt(n[0],10),o=Number.parseInt(n[1],10);return!isNaN(r)&&!isNaN(o)&&r<=e&&e<=o}return Number.parseInt(t,10)===e}Object.defineProperty(t,"__esModule",{value:!0}),t.resolveOperator=void 0,t.resolveOperator=function(e,t,r){for(const o of r){const r=o[0],i=o[1],s=o[2],a=o[3],c=o[4];if(e.opType===r)for(const e of t)if((e.domain===i||"ai.onnx"===e.domain&&""===i)&&n(e.version,s))return{opImpl:a,opInit:c}}throw new TypeError(`cannot resolve operator '${e.opType}' with opsets: ${t.map(e=>`${e.domain||"ai.onnx"} v${e.version}`).join(", ")}`)}},9395:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.onnxruntime=void 0;const r=n(5686);var o,i;(function(e){let t;!function(e){e[e.UNDEFINED=0]="UNDEFINED",e[e.FLOAT=1]="FLOAT",e[e.INT=2]="INT",e[e.STRING=3]="STRING",e[e.TENSOR=4]="TENSOR",e[e.GRAPH=5]="GRAPH",e[e.FLOATS=6]="FLOATS",e[e.INTS=7]="INTS",e[e.STRINGS=8]="STRINGS",e[e.TENSORS=9]="TENSORS",e[e.GRAPHS=10]="GRAPHS",e[e.SPARSE_TENSOR=11]="SPARSE_TENSOR",e[e.SPARSE_TENSORS=12]="SPARSE_TENSORS"}(t=e.AttributeType||(e.AttributeType={}))})((i=(o=t.onnxruntime||(t.onnxruntime={})).experimental||(o.experimental={})).fbs||(i.fbs={})),function(e){!function(e){!function(e){let t;!function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.VALUE=1]="VALUE",e[e.PARAM=2]="PARAM"}(t=e.DimensionValueType||(e.DimensionValueType={}))}(e.fbs||(e.fbs={}))}(e.experimental||(e.experimental={}))}(t.onnxruntime||(t.onnxruntime={})),function(e){!function(e){!function(e){let t;!function(e){e[e.UNDEFINED=0]="UNDEFINED",e[e.FLOAT=1]="FLOAT",e[e.UINT8=2]="UINT8",e[e.INT8=3]="INT8",e[e.UINT16=4]="UINT16",e[e.INT16=5]="INT16",e[e.INT32=6]="INT32",e[e.INT64=7]="INT64",e[e.STRING=8]="STRING",e[e.BOOL=9]="BOOL",e[e.FLOAT16=10]="FLOAT16",e[e.DOUBLE=11]="DOUBLE",e[e.UINT32=12]="UINT32",e[e.UINT64=13]="UINT64",e[e.COMPLEX64=14]="COMPLEX64",e[e.COMPLEX128=15]="COMPLEX128",e[e.BFLOAT16=16]="BFLOAT16"}(t=e.TensorDataType||(e.TensorDataType={}))}(e.fbs||(e.fbs={}))}(e.experimental||(e.experimental={}))}(t.onnxruntime||(t.onnxruntime={})),function(e){!function(e){!function(e){let t;!function(e){e[e.Primitive=0]="Primitive",e[e.Fused=1]="Fused"}(t=e.NodeType||(e.NodeType={}))}(e.fbs||(e.fbs={}))}(e.experimental||(e.experimental={}))}(t.onnxruntime||(t.onnxruntime={})),function(e){!function(e){!function(e){let t;!function(e){e[e.NONE=0]="NONE",e[e.tensor_type=1]="tensor_type",e[e.sequence_type=2]="sequence_type",e[e.map_type=3]="map_type"}(t=e.TypeInfoValue||(e.TypeInfoValue={}))}(e.fbs||(e.fbs={}))}(e.experimental||(e.experimental={}))}(t.onnxruntime||(t.onnxruntime={})),function(e){!function(t){!function(t){class n{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsShape(e,t){return(t||new n).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsShape(e,t){return e.setPosition(e.position()+r.flatbuffers.SIZE_PREFIX_LENGTH),(t||new n).__init(e.readInt32(e.position())+e.position(),e)}dim(t,n){let r=this.bb.__offset(this.bb_pos,4);return r?(n||new e.experimental.fbs.Dimension).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+4*t),this.bb):null}dimLength(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.__vector_len(this.bb_pos+e):0}static startShape(e){e.startObject(1)}static addDim(e,t){e.addFieldOffset(0,t,0)}static createDimVector(e,t){e.startVector(4,t.length,4);for(let n=t.length-1;n>=0;n--)e.addOffset(t[n]);return e.endVector()}static startDimVector(e,t){e.startVector(4,t,4)}static endShape(e){return e.endObject()}static createShape(e,t){return n.startShape(e),n.addDim(e,t),n.endShape(e)}}t.Shape=n}(t.fbs||(t.fbs={}))}(e.experimental||(e.experimental={}))}(t.onnxruntime||(t.onnxruntime={})),function(e){!function(t){!function(t){class n{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsDimension(e,t){return(t||new n).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsDimension(e,t){return e.setPosition(e.position()+r.flatbuffers.SIZE_PREFIX_LENGTH),(t||new n).__init(e.readInt32(e.position())+e.position(),e)}value(t){let n=this.bb.__offset(this.bb_pos,4);return n?(t||new e.experimental.fbs.DimensionValue).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null}denotation(e){let t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__string(this.bb_pos+t,e):null}static startDimension(e){e.startObject(2)}static addValue(e,t){e.addFieldOffset(0,t,0)}static addDenotation(e,t){e.addFieldOffset(1,t,0)}static endDimension(e){return e.endObject()}static createDimension(e,t,r){return n.startDimension(e),n.addValue(e,t),n.addDenotation(e,r),n.endDimension(e)}}t.Dimension=n}(t.fbs||(t.fbs={}))}(e.experimental||(e.experimental={}))}(t.onnxruntime||(t.onnxruntime={})),function(e){!function(t){!function(t){class n{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsDimensionValue(e,t){return(t||new n).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsDimensionValue(e,t){return e.setPosition(e.position()+r.flatbuffers.SIZE_PREFIX_LENGTH),(t||new n).__init(e.readInt32(e.position())+e.position(),e)}dimType(){let t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt8(this.bb_pos+t):e.experimental.fbs.DimensionValueType.UNKNOWN}dimValue(){let e=this.bb.__offset(this.bb_pos,6);return e?this.bb.readInt64(this.bb_pos+e):this.bb.createLong(0,0)}dimParam(e){let t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__string(this.bb_pos+t,e):null}static startDimensionValue(e){e.startObject(3)}static addDimType(t,n){t.addFieldInt8(0,n,e.experimental.fbs.DimensionValueType.UNKNOWN)}static addDimValue(e,t){e.addFieldInt64(1,t,e.createLong(0,0))}static addDimParam(e,t){e.addFieldOffset(2,t,0)}static endDimensionValue(e){return e.endObject()}static createDimensionValue(e,t,r,o){return n.startDimensionValue(e),n.addDimType(e,t),n.addDimValue(e,r),n.addDimParam(e,o),n.endDimensionValue(e)}}t.DimensionValue=n}(t.fbs||(t.fbs={}))}(e.experimental||(e.experimental={}))}(t.onnxruntime||(t.onnxruntime={})),function(e){!function(t){!function(t){class n{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsTensorTypeAndShape(e,t){return(t||new n).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsTensorTypeAndShape(e,t){return e.setPosition(e.position()+r.flatbuffers.SIZE_PREFIX_LENGTH),(t||new n).__init(e.readInt32(e.position())+e.position(),e)}elemType(){let t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt32(this.bb_pos+t):e.experimental.fbs.TensorDataType.UNDEFINED}shape(t){let n=this.bb.__offset(this.bb_pos,6);return n?(t||new e.experimental.fbs.Shape).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null}static startTensorTypeAndShape(e){e.startObject(2)}static addElemType(t,n){t.addFieldInt32(0,n,e.experimental.fbs.TensorDataType.UNDEFINED)}static addShape(e,t){e.addFieldOffset(1,t,0)}static endTensorTypeAndShape(e){return e.endObject()}static createTensorTypeAndShape(e,t,r){return n.startTensorTypeAndShape(e),n.addElemType(e,t),n.addShape(e,r),n.endTensorTypeAndShape(e)}}t.TensorTypeAndShape=n}(t.fbs||(t.fbs={}))}(e.experimental||(e.experimental={}))}(t.onnxruntime||(t.onnxruntime={})),function(e){!function(t){!function(t){class n{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsMapType(e,t){return(t||new n).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsMapType(e,t){return e.setPosition(e.position()+r.flatbuffers.SIZE_PREFIX_LENGTH),(t||new n).__init(e.readInt32(e.position())+e.position(),e)}keyType(){let t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt32(this.bb_pos+t):e.experimental.fbs.TensorDataType.UNDEFINED}valueType(t){let n=this.bb.__offset(this.bb_pos,6);return n?(t||new e.experimental.fbs.TypeInfo).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null}static startMapType(e){e.startObject(2)}static addKeyType(t,n){t.addFieldInt32(0,n,e.experimental.fbs.TensorDataType.UNDEFINED)}static addValueType(e,t){e.addFieldOffset(1,t,0)}static endMapType(e){return e.endObject()}static createMapType(e,t,r){return n.startMapType(e),n.addKeyType(e,t),n.addValueType(e,r),n.endMapType(e)}}t.MapType=n}(t.fbs||(t.fbs={}))}(e.experimental||(e.experimental={}))}(t.onnxruntime||(t.onnxruntime={})),function(e){!function(t){!function(t){class n{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsSequenceType(e,t){return(t||new n).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsSequenceType(e,t){return e.setPosition(e.position()+r.flatbuffers.SIZE_PREFIX_LENGTH),(t||new n).__init(e.readInt32(e.position())+e.position(),e)}elemType(t){let n=this.bb.__offset(this.bb_pos,4);return n?(t||new e.experimental.fbs.TypeInfo).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null}static startSequenceType(e){e.startObject(1)}static addElemType(e,t){e.addFieldOffset(0,t,0)}static endSequenceType(e){return e.endObject()}static createSequenceType(e,t){return n.startSequenceType(e),n.addElemType(e,t),n.endSequenceType(e)}}t.SequenceType=n}(t.fbs||(t.fbs={}))}(e.experimental||(e.experimental={}))}(t.onnxruntime||(t.onnxruntime={})),function(e){!function(e){(e.fbs||(e.fbs={})).EdgeEnd=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}nodeIndex(){return this.bb.readUint32(this.bb_pos)}srcArgIndex(){return this.bb.readInt32(this.bb_pos+4)}dstArgIndex(){return this.bb.readInt32(this.bb_pos+8)}static createEdgeEnd(e,t,n,r){return e.prep(4,12),e.writeInt32(r),e.writeInt32(n),e.writeInt32(t),e.offset()}}}(e.experimental||(e.experimental={}))}(t.onnxruntime||(t.onnxruntime={})),function(e){!function(t){!function(t){class n{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsNodeEdge(e,t){return(t||new n).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsNodeEdge(e,t){return e.setPosition(e.position()+r.flatbuffers.SIZE_PREFIX_LENGTH),(t||new n).__init(e.readInt32(e.position())+e.position(),e)}nodeIndex(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readUint32(this.bb_pos+e):0}inputEdges(t,n){let r=this.bb.__offset(this.bb_pos,6);return r?(n||new e.experimental.fbs.EdgeEnd).__init(this.bb.__vector(this.bb_pos+r)+12*t,this.bb):null}inputEdgesLength(){let e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__vector_len(this.bb_pos+e):0}outputEdges(t,n){let r=this.bb.__offset(this.bb_pos,8);return r?(n||new e.experimental.fbs.EdgeEnd).__init(this.bb.__vector(this.bb_pos+r)+12*t,this.bb):null}outputEdgesLength(){let e=this.bb.__offset(this.bb_pos,8);return e?this.bb.__vector_len(this.bb_pos+e):0}static startNodeEdge(e){e.startObject(3)}static addNodeIndex(e,t){e.addFieldInt32(0,t,0)}static addInputEdges(e,t){e.addFieldOffset(1,t,0)}static startInputEdgesVector(e,t){e.startVector(12,t,4)}static addOutputEdges(e,t){e.addFieldOffset(2,t,0)}static startOutputEdgesVector(e,t){e.startVector(12,t,4)}static endNodeEdge(e){return e.endObject()}static createNodeEdge(e,t,r,o){return n.startNodeEdge(e),n.addNodeIndex(e,t),n.addInputEdges(e,r),n.addOutputEdges(e,o),n.endNodeEdge(e)}}t.NodeEdge=n}(t.fbs||(t.fbs={}))}(e.experimental||(e.experimental={}))}(t.onnxruntime||(t.onnxruntime={})),function(e){!function(t){!function(t){class n{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsNode(e,t){return(t||new n).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsNode(e,t){return e.setPosition(e.position()+r.flatbuffers.SIZE_PREFIX_LENGTH),(t||new n).__init(e.readInt32(e.position())+e.position(),e)}name(e){let t=this.bb.__offset(this.bb_pos,4);return t?this.bb.__string(this.bb_pos+t,e):null}docString(e){let t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__string(this.bb_pos+t,e):null}domain(e){let t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__string(this.bb_pos+t,e):null}sinceVersion(){let e=this.bb.__offset(this.bb_pos,10);return e?this.bb.readInt32(this.bb_pos+e):0}index(){let e=this.bb.__offset(this.bb_pos,12);return e?this.bb.readUint32(this.bb_pos+e):0}opType(e){let t=this.bb.__offset(this.bb_pos,14);return t?this.bb.__string(this.bb_pos+t,e):null}type(){let t=this.bb.__offset(this.bb_pos,16);return t?this.bb.readInt32(this.bb_pos+t):e.experimental.fbs.NodeType.Primitive}executionProviderType(e){let t=this.bb.__offset(this.bb_pos,18);return t?this.bb.__string(this.bb_pos+t,e):null}inputs(e,t){let n=this.bb.__offset(this.bb_pos,20);return n?this.bb.__string(this.bb.__vector(this.bb_pos+n)+4*e,t):null}inputsLength(){let e=this.bb.__offset(this.bb_pos,20);return e?this.bb.__vector_len(this.bb_pos+e):0}outputs(e,t){let n=this.bb.__offset(this.bb_pos,22);return n?this.bb.__string(this.bb.__vector(this.bb_pos+n)+4*e,t):null}outputsLength(){let e=this.bb.__offset(this.bb_pos,22);return e?this.bb.__vector_len(this.bb_pos+e):0}attributes(t,n){let r=this.bb.__offset(this.bb_pos,24);return r?(n||new e.experimental.fbs.Attribute).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+4*t),this.bb):null}attributesLength(){let e=this.bb.__offset(this.bb_pos,24);return e?this.bb.__vector_len(this.bb_pos+e):0}inputArgCounts(e){let t=this.bb.__offset(this.bb_pos,26);return t?this.bb.readInt32(this.bb.__vector(this.bb_pos+t)+4*e):0}inputArgCountsLength(){let e=this.bb.__offset(this.bb_pos,26);return e?this.bb.__vector_len(this.bb_pos+e):0}inputArgCountsArray(){let e=this.bb.__offset(this.bb_pos,26);return e?new Int32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+e),this.bb.__vector_len(this.bb_pos+e)):null}implicitInputs(e,t){let n=this.bb.__offset(this.bb_pos,28);return n?this.bb.__string(this.bb.__vector(this.bb_pos+n)+4*e,t):null}implicitInputsLength(){let e=this.bb.__offset(this.bb_pos,28);return e?this.bb.__vector_len(this.bb_pos+e):0}static startNode(e){e.startObject(13)}static addName(e,t){e.addFieldOffset(0,t,0)}static addDocString(e,t){e.addFieldOffset(1,t,0)}static addDomain(e,t){e.addFieldOffset(2,t,0)}static addSinceVersion(e,t){e.addFieldInt32(3,t,0)}static addIndex(e,t){e.addFieldInt32(4,t,0)}static addOpType(e,t){e.addFieldOffset(5,t,0)}static addType(t,n){t.addFieldInt32(6,n,e.experimental.fbs.NodeType.Primitive)}static addExecutionProviderType(e,t){e.addFieldOffset(7,t,0)}static addInputs(e,t){e.addFieldOffset(8,t,0)}static createInputsVector(e,t){e.startVector(4,t.length,4);for(let n=t.length-1;n>=0;n--)e.addOffset(t[n]);return e.endVector()}static startInputsVector(e,t){e.startVector(4,t,4)}static addOutputs(e,t){e.addFieldOffset(9,t,0)}static createOutputsVector(e,t){e.startVector(4,t.length,4);for(let n=t.length-1;n>=0;n--)e.addOffset(t[n]);return e.endVector()}static startOutputsVector(e,t){e.startVector(4,t,4)}static addAttributes(e,t){e.addFieldOffset(10,t,0)}static createAttributesVector(e,t){e.startVector(4,t.length,4);for(let n=t.length-1;n>=0;n--)e.addOffset(t[n]);return e.endVector()}static startAttributesVector(e,t){e.startVector(4,t,4)}static addInputArgCounts(e,t){e.addFieldOffset(11,t,0)}static createInputArgCountsVector(e,t){e.startVector(4,t.length,4);for(let n=t.length-1;n>=0;n--)e.addInt32(t[n]);return e.endVector()}static startInputArgCountsVector(e,t){e.startVector(4,t,4)}static addImplicitInputs(e,t){e.addFieldOffset(12,t,0)}static createImplicitInputsVector(e,t){e.startVector(4,t.length,4);for(let n=t.length-1;n>=0;n--)e.addOffset(t[n]);return e.endVector()}static startImplicitInputsVector(e,t){e.startVector(4,t,4)}static endNode(e){return e.endObject()}static createNode(e,t,r,o,i,s,a,c,l,u,d,f,h,p){return n.startNode(e),n.addName(e,t),n.addDocString(e,r),n.addDomain(e,o),n.addSinceVersion(e,i),n.addIndex(e,s),n.addOpType(e,a),n.addType(e,c),n.addExecutionProviderType(e,l),n.addInputs(e,u),n.addOutputs(e,d),n.addAttributes(e,f),n.addInputArgCounts(e,h),n.addImplicitInputs(e,p),n.endNode(e)}}t.Node=n}(t.fbs||(t.fbs={}))}(e.experimental||(e.experimental={}))}(t.onnxruntime||(t.onnxruntime={})),function(e){!function(t){!function(t){class n{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsValueInfo(e,t){return(t||new n).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsValueInfo(e,t){return e.setPosition(e.position()+r.flatbuffers.SIZE_PREFIX_LENGTH),(t||new n).__init(e.readInt32(e.position())+e.position(),e)}name(e){let t=this.bb.__offset(this.bb_pos,4);return t?this.bb.__string(this.bb_pos+t,e):null}docString(e){let t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__string(this.bb_pos+t,e):null}type(t){let n=this.bb.__offset(this.bb_pos,8);return n?(t||new e.experimental.fbs.TypeInfo).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null}static startValueInfo(e){e.startObject(3)}static addName(e,t){e.addFieldOffset(0,t,0)}static addDocString(e,t){e.addFieldOffset(1,t,0)}static addType(e,t){e.addFieldOffset(2,t,0)}static endValueInfo(e){return e.endObject()}static createValueInfo(e,t,r,o){return n.startValueInfo(e),n.addName(e,t),n.addDocString(e,r),n.addType(e,o),n.endValueInfo(e)}}t.ValueInfo=n}(t.fbs||(t.fbs={}))}(e.experimental||(e.experimental={}))}(t.onnxruntime||(t.onnxruntime={})),function(e){!function(t){!function(t){class n{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsTypeInfo(e,t){return(t||new n).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsTypeInfo(e,t){return e.setPosition(e.position()+r.flatbuffers.SIZE_PREFIX_LENGTH),(t||new n).__init(e.readInt32(e.position())+e.position(),e)}denotation(e){let t=this.bb.__offset(this.bb_pos,4);return t?this.bb.__string(this.bb_pos+t,e):null}valueType(){let t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readUint8(this.bb_pos+t):e.experimental.fbs.TypeInfoValue.NONE}value(e){let t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__union(e,this.bb_pos+t):null}static startTypeInfo(e){e.startObject(3)}static addDenotation(e,t){e.addFieldOffset(0,t,0)}static addValueType(t,n){t.addFieldInt8(1,n,e.experimental.fbs.TypeInfoValue.NONE)}static addValue(e,t){e.addFieldOffset(2,t,0)}static endTypeInfo(e){return e.endObject()}static createTypeInfo(e,t,r,o){return n.startTypeInfo(e),n.addDenotation(e,t),n.addValueType(e,r),n.addValue(e,o),n.endTypeInfo(e)}}t.TypeInfo=n}(t.fbs||(t.fbs={}))}(e.experimental||(e.experimental={}))}(t.onnxruntime||(t.onnxruntime={})),function(e){!function(e){!function(e){class t{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsOperatorSetId(e,n){return(n||new t).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsOperatorSetId(e,n){return e.setPosition(e.position()+r.flatbuffers.SIZE_PREFIX_LENGTH),(n||new t).__init(e.readInt32(e.position())+e.position(),e)}domain(e){let t=this.bb.__offset(this.bb_pos,4);return t?this.bb.__string(this.bb_pos+t,e):null}version(){let e=this.bb.__offset(this.bb_pos,6);return e?this.bb.readInt64(this.bb_pos+e):this.bb.createLong(0,0)}static startOperatorSetId(e){e.startObject(2)}static addDomain(e,t){e.addFieldOffset(0,t,0)}static addVersion(e,t){e.addFieldInt64(1,t,e.createLong(0,0))}static endOperatorSetId(e){return e.endObject()}static createOperatorSetId(e,n,r){return t.startOperatorSetId(e),t.addDomain(e,n),t.addVersion(e,r),t.endOperatorSetId(e)}}e.OperatorSetId=t}(e.fbs||(e.fbs={}))}(e.experimental||(e.experimental={}))}(t.onnxruntime||(t.onnxruntime={})),function(e){!function(t){!function(t){class n{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsTensor(e,t){return(t||new n).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsTensor(e,t){return e.setPosition(e.position()+r.flatbuffers.SIZE_PREFIX_LENGTH),(t||new n).__init(e.readInt32(e.position())+e.position(),e)}name(e){let t=this.bb.__offset(this.bb_pos,4);return t?this.bb.__string(this.bb_pos+t,e):null}docString(e){let t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__string(this.bb_pos+t,e):null}dims(e){let t=this.bb.__offset(this.bb_pos,8);return t?this.bb.readInt64(this.bb.__vector(this.bb_pos+t)+8*e):this.bb.createLong(0,0)}dimsLength(){let e=this.bb.__offset(this.bb_pos,8);return e?this.bb.__vector_len(this.bb_pos+e):0}dataType(){let t=this.bb.__offset(this.bb_pos,10);return t?this.bb.readInt32(this.bb_pos+t):e.experimental.fbs.TensorDataType.UNDEFINED}rawData(e){let t=this.bb.__offset(this.bb_pos,12);return t?this.bb.readUint8(this.bb.__vector(this.bb_pos+t)+e):0}rawDataLength(){let e=this.bb.__offset(this.bb_pos,12);return e?this.bb.__vector_len(this.bb_pos+e):0}rawDataArray(){let e=this.bb.__offset(this.bb_pos,12);return e?new Uint8Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+e),this.bb.__vector_len(this.bb_pos+e)):null}stringData(e,t){let n=this.bb.__offset(this.bb_pos,14);return n?this.bb.__string(this.bb.__vector(this.bb_pos+n)+4*e,t):null}stringDataLength(){let e=this.bb.__offset(this.bb_pos,14);return e?this.bb.__vector_len(this.bb_pos+e):0}static startTensor(e){e.startObject(6)}static addName(e,t){e.addFieldOffset(0,t,0)}static addDocString(e,t){e.addFieldOffset(1,t,0)}static addDims(e,t){e.addFieldOffset(2,t,0)}static createDimsVector(e,t){e.startVector(8,t.length,8);for(let n=t.length-1;n>=0;n--)e.addInt64(t[n]);return e.endVector()}static startDimsVector(e,t){e.startVector(8,t,8)}static addDataType(t,n){t.addFieldInt32(3,n,e.experimental.fbs.TensorDataType.UNDEFINED)}static addRawData(e,t){e.addFieldOffset(4,t,0)}static createRawDataVector(e,t){e.startVector(1,t.length,1);for(let n=t.length-1;n>=0;n--)e.addInt8(t[n]);return e.endVector()}static startRawDataVector(e,t){e.startVector(1,t,1)}static addStringData(e,t){e.addFieldOffset(5,t,0)}static createStringDataVector(e,t){e.startVector(4,t.length,4);for(let n=t.length-1;n>=0;n--)e.addOffset(t[n]);return e.endVector()}static startStringDataVector(e,t){e.startVector(4,t,4)}static endTensor(e){return e.endObject()}static createTensor(e,t,r,o,i,s,a){return n.startTensor(e),n.addName(e,t),n.addDocString(e,r),n.addDims(e,o),n.addDataType(e,i),n.addRawData(e,s),n.addStringData(e,a),n.endTensor(e)}}t.Tensor=n}(t.fbs||(t.fbs={}))}(e.experimental||(e.experimental={}))}(t.onnxruntime||(t.onnxruntime={})),function(e){!function(t){!function(t){class n{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsSparseTensor(e,t){return(t||new n).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsSparseTensor(e,t){return e.setPosition(e.position()+r.flatbuffers.SIZE_PREFIX_LENGTH),(t||new n).__init(e.readInt32(e.position())+e.position(),e)}values(t){let n=this.bb.__offset(this.bb_pos,4);return n?(t||new e.experimental.fbs.Tensor).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null}indices(t){let n=this.bb.__offset(this.bb_pos,6);return n?(t||new e.experimental.fbs.Tensor).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null}dims(e){let t=this.bb.__offset(this.bb_pos,8);return t?this.bb.readInt64(this.bb.__vector(this.bb_pos+t)+8*e):this.bb.createLong(0,0)}dimsLength(){let e=this.bb.__offset(this.bb_pos,8);return e?this.bb.__vector_len(this.bb_pos+e):0}static startSparseTensor(e){e.startObject(3)}static addValues(e,t){e.addFieldOffset(0,t,0)}static addIndices(e,t){e.addFieldOffset(1,t,0)}static addDims(e,t){e.addFieldOffset(2,t,0)}static createDimsVector(e,t){e.startVector(8,t.length,8);for(let n=t.length-1;n>=0;n--)e.addInt64(t[n]);return e.endVector()}static startDimsVector(e,t){e.startVector(8,t,8)}static endSparseTensor(e){return e.endObject()}static createSparseTensor(e,t,r,o){return n.startSparseTensor(e),n.addValues(e,t),n.addIndices(e,r),n.addDims(e,o),n.endSparseTensor(e)}}t.SparseTensor=n}(t.fbs||(t.fbs={}))}(e.experimental||(e.experimental={}))}(t.onnxruntime||(t.onnxruntime={})),function(e){!function(t){!function(t){class n{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsAttribute(e,t){return(t||new n).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsAttribute(e,t){return e.setPosition(e.position()+r.flatbuffers.SIZE_PREFIX_LENGTH),(t||new n).__init(e.readInt32(e.position())+e.position(),e)}name(e){let t=this.bb.__offset(this.bb_pos,4);return t?this.bb.__string(this.bb_pos+t,e):null}docString(e){let t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__string(this.bb_pos+t,e):null}type(){let t=this.bb.__offset(this.bb_pos,8);return t?this.bb.readInt32(this.bb_pos+t):e.experimental.fbs.AttributeType.UNDEFINED}f(){let e=this.bb.__offset(this.bb_pos,10);return e?this.bb.readFloat32(this.bb_pos+e):0}i(){let e=this.bb.__offset(this.bb_pos,12);return e?this.bb.readInt64(this.bb_pos+e):this.bb.createLong(0,0)}s(e){let t=this.bb.__offset(this.bb_pos,14);return t?this.bb.__string(this.bb_pos+t,e):null}t(t){let n=this.bb.__offset(this.bb_pos,16);return n?(t||new e.experimental.fbs.Tensor).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null}g(t){let n=this.bb.__offset(this.bb_pos,18);return n?(t||new e.experimental.fbs.Graph).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null}floats(e){let t=this.bb.__offset(this.bb_pos,20);return t?this.bb.readFloat32(this.bb.__vector(this.bb_pos+t)+4*e):0}floatsLength(){let e=this.bb.__offset(this.bb_pos,20);return e?this.bb.__vector_len(this.bb_pos+e):0}floatsArray(){let e=this.bb.__offset(this.bb_pos,20);return e?new Float32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+e),this.bb.__vector_len(this.bb_pos+e)):null}ints(e){let t=this.bb.__offset(this.bb_pos,22);return t?this.bb.readInt64(this.bb.__vector(this.bb_pos+t)+8*e):this.bb.createLong(0,0)}intsLength(){let e=this.bb.__offset(this.bb_pos,22);return e?this.bb.__vector_len(this.bb_pos+e):0}strings(e,t){let n=this.bb.__offset(this.bb_pos,24);return n?this.bb.__string(this.bb.__vector(this.bb_pos+n)+4*e,t):null}stringsLength(){let e=this.bb.__offset(this.bb_pos,24);return e?this.bb.__vector_len(this.bb_pos+e):0}tensors(t,n){let r=this.bb.__offset(this.bb_pos,26);return r?(n||new e.experimental.fbs.Tensor).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+4*t),this.bb):null}tensorsLength(){let e=this.bb.__offset(this.bb_pos,26);return e?this.bb.__vector_len(this.bb_pos+e):0}graphs(t,n){let r=this.bb.__offset(this.bb_pos,28);return r?(n||new e.experimental.fbs.Graph).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+4*t),this.bb):null}graphsLength(){let e=this.bb.__offset(this.bb_pos,28);return e?this.bb.__vector_len(this.bb_pos+e):0}static startAttribute(e){e.startObject(13)}static addName(e,t){e.addFieldOffset(0,t,0)}static addDocString(e,t){e.addFieldOffset(1,t,0)}static addType(t,n){t.addFieldInt32(2,n,e.experimental.fbs.AttributeType.UNDEFINED)}static addF(e,t){e.addFieldFloat32(3,t,0)}static addI(e,t){e.addFieldInt64(4,t,e.createLong(0,0))}static addS(e,t){e.addFieldOffset(5,t,0)}static addT(e,t){e.addFieldOffset(6,t,0)}static addG(e,t){e.addFieldOffset(7,t,0)}static addFloats(e,t){e.addFieldOffset(8,t,0)}static createFloatsVector(e,t){e.startVector(4,t.length,4);for(let n=t.length-1;n>=0;n--)e.addFloat32(t[n]);return e.endVector()}static startFloatsVector(e,t){e.startVector(4,t,4)}static addInts(e,t){e.addFieldOffset(9,t,0)}static createIntsVector(e,t){e.startVector(8,t.length,8);for(let n=t.length-1;n>=0;n--)e.addInt64(t[n]);return e.endVector()}static startIntsVector(e,t){e.startVector(8,t,8)}static addStrings(e,t){e.addFieldOffset(10,t,0)}static createStringsVector(e,t){e.startVector(4,t.length,4);for(let n=t.length-1;n>=0;n--)e.addOffset(t[n]);return e.endVector()}static startStringsVector(e,t){e.startVector(4,t,4)}static addTensors(e,t){e.addFieldOffset(11,t,0)}static createTensorsVector(e,t){e.startVector(4,t.length,4);for(let n=t.length-1;n>=0;n--)e.addOffset(t[n]);return e.endVector()}static startTensorsVector(e,t){e.startVector(4,t,4)}static addGraphs(e,t){e.addFieldOffset(12,t,0)}static createGraphsVector(e,t){e.startVector(4,t.length,4);for(let n=t.length-1;n>=0;n--)e.addOffset(t[n]);return e.endVector()}static startGraphsVector(e,t){e.startVector(4,t,4)}static endAttribute(e){return e.endObject()}static createAttribute(e,t,r,o,i,s,a,c,l,u,d,f,h,p){return n.startAttribute(e),n.addName(e,t),n.addDocString(e,r),n.addType(e,o),n.addF(e,i),n.addI(e,s),n.addS(e,a),n.addT(e,c),n.addG(e,l),n.addFloats(e,u),n.addInts(e,d),n.addStrings(e,f),n.addTensors(e,h),n.addGraphs(e,p),n.endAttribute(e)}}t.Attribute=n}(t.fbs||(t.fbs={}))}(e.experimental||(e.experimental={}))}(t.onnxruntime||(t.onnxruntime={})),function(e){!function(t){!function(t){class n{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsGraph(e,t){return(t||new n).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsGraph(e,t){return e.setPosition(e.position()+r.flatbuffers.SIZE_PREFIX_LENGTH),(t||new n).__init(e.readInt32(e.position())+e.position(),e)}initializers(t,n){let r=this.bb.__offset(this.bb_pos,4);return r?(n||new e.experimental.fbs.Tensor).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+4*t),this.bb):null}initializersLength(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.__vector_len(this.bb_pos+e):0}nodeArgs(t,n){let r=this.bb.__offset(this.bb_pos,6);return r?(n||new e.experimental.fbs.ValueInfo).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+4*t),this.bb):null}nodeArgsLength(){let e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__vector_len(this.bb_pos+e):0}nodes(t,n){let r=this.bb.__offset(this.bb_pos,8);return r?(n||new e.experimental.fbs.Node).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+4*t),this.bb):null}nodesLength(){let e=this.bb.__offset(this.bb_pos,8);return e?this.bb.__vector_len(this.bb_pos+e):0}maxNodeIndex(){let e=this.bb.__offset(this.bb_pos,10);return e?this.bb.readUint32(this.bb_pos+e):0}nodeEdges(t,n){let r=this.bb.__offset(this.bb_pos,12);return r?(n||new e.experimental.fbs.NodeEdge).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+4*t),this.bb):null}nodeEdgesLength(){let e=this.bb.__offset(this.bb_pos,12);return e?this.bb.__vector_len(this.bb_pos+e):0}inputs(e,t){let n=this.bb.__offset(this.bb_pos,14);return n?this.bb.__string(this.bb.__vector(this.bb_pos+n)+4*e,t):null}inputsLength(){let e=this.bb.__offset(this.bb_pos,14);return e?this.bb.__vector_len(this.bb_pos+e):0}outputs(e,t){let n=this.bb.__offset(this.bb_pos,16);return n?this.bb.__string(this.bb.__vector(this.bb_pos+n)+4*e,t):null}outputsLength(){let e=this.bb.__offset(this.bb_pos,16);return e?this.bb.__vector_len(this.bb_pos+e):0}sparseInitializers(t,n){let r=this.bb.__offset(this.bb_pos,18);return r?(n||new e.experimental.fbs.SparseTensor).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+4*t),this.bb):null}sparseInitializersLength(){let e=this.bb.__offset(this.bb_pos,18);return e?this.bb.__vector_len(this.bb_pos+e):0}static startGraph(e){e.startObject(8)}static addInitializers(e,t){e.addFieldOffset(0,t,0)}static createInitializersVector(e,t){e.startVector(4,t.length,4);for(let n=t.length-1;n>=0;n--)e.addOffset(t[n]);return e.endVector()}static startInitializersVector(e,t){e.startVector(4,t,4)}static addNodeArgs(e,t){e.addFieldOffset(1,t,0)}static createNodeArgsVector(e,t){e.startVector(4,t.length,4);for(let n=t.length-1;n>=0;n--)e.addOffset(t[n]);return e.endVector()}static startNodeArgsVector(e,t){e.startVector(4,t,4)}static addNodes(e,t){e.addFieldOffset(2,t,0)}static createNodesVector(e,t){e.startVector(4,t.length,4);for(let n=t.length-1;n>=0;n--)e.addOffset(t[n]);return e.endVector()}static startNodesVector(e,t){e.startVector(4,t,4)}static addMaxNodeIndex(e,t){e.addFieldInt32(3,t,0)}static addNodeEdges(e,t){e.addFieldOffset(4,t,0)}static createNodeEdgesVector(e,t){e.startVector(4,t.length,4);for(let n=t.length-1;n>=0;n--)e.addOffset(t[n]);return e.endVector()}static startNodeEdgesVector(e,t){e.startVector(4,t,4)}static addInputs(e,t){e.addFieldOffset(5,t,0)}static createInputsVector(e,t){e.startVector(4,t.length,4);for(let n=t.length-1;n>=0;n--)e.addOffset(t[n]);return e.endVector()}static startInputsVector(e,t){e.startVector(4,t,4)}static addOutputs(e,t){e.addFieldOffset(6,t,0)}static createOutputsVector(e,t){e.startVector(4,t.length,4);for(let n=t.length-1;n>=0;n--)e.addOffset(t[n]);return e.endVector()}static startOutputsVector(e,t){e.startVector(4,t,4)}static addSparseInitializers(e,t){e.addFieldOffset(7,t,0)}static createSparseInitializersVector(e,t){e.startVector(4,t.length,4);for(let n=t.length-1;n>=0;n--)e.addOffset(t[n]);return e.endVector()}static startSparseInitializersVector(e,t){e.startVector(4,t,4)}static endGraph(e){return e.endObject()}static createGraph(e,t,r,o,i,s,a,c,l){return n.startGraph(e),n.addInitializers(e,t),n.addNodeArgs(e,r),n.addNodes(e,o),n.addMaxNodeIndex(e,i),n.addNodeEdges(e,s),n.addInputs(e,a),n.addOutputs(e,c),n.addSparseInitializers(e,l),n.endGraph(e)}}t.Graph=n}(t.fbs||(t.fbs={}))}(e.experimental||(e.experimental={}))}(t.onnxruntime||(t.onnxruntime={})),function(e){!function(t){!function(t){class n{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsModel(e,t){return(t||new n).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsModel(e,t){return e.setPosition(e.position()+r.flatbuffers.SIZE_PREFIX_LENGTH),(t||new n).__init(e.readInt32(e.position())+e.position(),e)}irVersion(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt64(this.bb_pos+e):this.bb.createLong(0,0)}opsetImport(t,n){let r=this.bb.__offset(this.bb_pos,6);return r?(n||new e.experimental.fbs.OperatorSetId).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+4*t),this.bb):null}opsetImportLength(){let e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__vector_len(this.bb_pos+e):0}producerName(e){let t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__string(this.bb_pos+t,e):null}producerVersion(e){let t=this.bb.__offset(this.bb_pos,10);return t?this.bb.__string(this.bb_pos+t,e):null}domain(e){let t=this.bb.__offset(this.bb_pos,12);return t?this.bb.__string(this.bb_pos+t,e):null}modelVersion(){let e=this.bb.__offset(this.bb_pos,14);return e?this.bb.readInt64(this.bb_pos+e):this.bb.createLong(0,0)}docString(e){let t=this.bb.__offset(this.bb_pos,16);return t?this.bb.__string(this.bb_pos+t,e):null}graph(t){let n=this.bb.__offset(this.bb_pos,18);return n?(t||new e.experimental.fbs.Graph).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null}graphDocString(e){let t=this.bb.__offset(this.bb_pos,20);return t?this.bb.__string(this.bb_pos+t,e):null}static startModel(e){e.startObject(9)}static addIrVersion(e,t){e.addFieldInt64(0,t,e.createLong(0,0))}static addOpsetImport(e,t){e.addFieldOffset(1,t,0)}static createOpsetImportVector(e,t){e.startVector(4,t.length,4);for(let n=t.length-1;n>=0;n--)e.addOffset(t[n]);return e.endVector()}static startOpsetImportVector(e,t){e.startVector(4,t,4)}static addProducerName(e,t){e.addFieldOffset(2,t,0)}static addProducerVersion(e,t){e.addFieldOffset(3,t,0)}static addDomain(e,t){e.addFieldOffset(4,t,0)}static addModelVersion(e,t){e.addFieldInt64(5,t,e.createLong(0,0))}static addDocString(e,t){e.addFieldOffset(6,t,0)}static addGraph(e,t){e.addFieldOffset(7,t,0)}static addGraphDocString(e,t){e.addFieldOffset(8,t,0)}static endModel(e){return e.endObject()}static createModel(e,t,r,o,i,s,a,c,l,u){return n.startModel(e),n.addIrVersion(e,t),n.addOpsetImport(e,r),n.addProducerName(e,o),n.addProducerVersion(e,i),n.addDomain(e,s),n.addModelVersion(e,a),n.addDocString(e,c),n.addGraph(e,l),n.addGraphDocString(e,u),n.endModel(e)}}t.Model=n}(t.fbs||(t.fbs={}))}(e.experimental||(e.experimental={}))}(t.onnxruntime||(t.onnxruntime={})),function(e){!function(e){!function(e){class t{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsKernelCreateInfos(e,n){return(n||new t).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsKernelCreateInfos(e,n){return e.setPosition(e.position()+r.flatbuffers.SIZE_PREFIX_LENGTH),(n||new t).__init(e.readInt32(e.position())+e.position(),e)}nodeIndices(e){let t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readUint32(this.bb.__vector(this.bb_pos+t)+4*e):0}nodeIndicesLength(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.__vector_len(this.bb_pos+e):0}nodeIndicesArray(){let e=this.bb.__offset(this.bb_pos,4);return e?new Uint32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+e),this.bb.__vector_len(this.bb_pos+e)):null}kernelDefHashes(e){let t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readUint64(this.bb.__vector(this.bb_pos+t)+8*e):this.bb.createLong(0,0)}kernelDefHashesLength(){let e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__vector_len(this.bb_pos+e):0}static startKernelCreateInfos(e){e.startObject(2)}static addNodeIndices(e,t){e.addFieldOffset(0,t,0)}static createNodeIndicesVector(e,t){e.startVector(4,t.length,4);for(let n=t.length-1;n>=0;n--)e.addInt32(t[n]);return e.endVector()}static startNodeIndicesVector(e,t){e.startVector(4,t,4)}static addKernelDefHashes(e,t){e.addFieldOffset(1,t,0)}static createKernelDefHashesVector(e,t){e.startVector(8,t.length,8);for(let n=t.length-1;n>=0;n--)e.addInt64(t[n]);return e.endVector()}static startKernelDefHashesVector(e,t){e.startVector(8,t,8)}static endKernelCreateInfos(e){return e.endObject()}static createKernelCreateInfos(e,n,r){return t.startKernelCreateInfos(e),t.addNodeIndices(e,n),t.addKernelDefHashes(e,r),t.endKernelCreateInfos(e)}}e.KernelCreateInfos=t}(e.fbs||(e.fbs={}))}(e.experimental||(e.experimental={}))}(t.onnxruntime||(t.onnxruntime={})),function(e){!function(t){!function(t){class n{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsSubGraphSessionState(e,t){return(t||new n).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsSubGraphSessionState(e,t){return e.setPosition(e.position()+r.flatbuffers.SIZE_PREFIX_LENGTH),(t||new n).__init(e.readInt32(e.position())+e.position(),e)}graphId(e){let t=this.bb.__offset(this.bb_pos,4);return t?this.bb.__string(this.bb_pos+t,e):null}sessionState(t){let n=this.bb.__offset(this.bb_pos,6);return n?(t||new e.experimental.fbs.SessionState).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null}static startSubGraphSessionState(e){e.startObject(2)}static addGraphId(e,t){e.addFieldOffset(0,t,0)}static addSessionState(e,t){e.addFieldOffset(1,t,0)}static endSubGraphSessionState(e){let t=e.endObject();return e.requiredField(t,4),t}static createSubGraphSessionState(e,t,r){return n.startSubGraphSessionState(e),n.addGraphId(e,t),n.addSessionState(e,r),n.endSubGraphSessionState(e)}}t.SubGraphSessionState=n}(t.fbs||(t.fbs={}))}(e.experimental||(e.experimental={}))}(t.onnxruntime||(t.onnxruntime={})),function(e){!function(t){!function(t){class n{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsSessionState(e,t){return(t||new n).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsSessionState(e,t){return e.setPosition(e.position()+r.flatbuffers.SIZE_PREFIX_LENGTH),(t||new n).__init(e.readInt32(e.position())+e.position(),e)}kernels(t){let n=this.bb.__offset(this.bb_pos,4);return n?(t||new e.experimental.fbs.KernelCreateInfos).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null}subGraphSessionStates(t,n){let r=this.bb.__offset(this.bb_pos,6);return r?(n||new e.experimental.fbs.SubGraphSessionState).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+4*t),this.bb):null}subGraphSessionStatesLength(){let e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__vector_len(this.bb_pos+e):0}static startSessionState(e){e.startObject(2)}static addKernels(e,t){e.addFieldOffset(0,t,0)}static addSubGraphSessionStates(e,t){e.addFieldOffset(1,t,0)}static createSubGraphSessionStatesVector(e,t){e.startVector(4,t.length,4);for(let n=t.length-1;n>=0;n--)e.addOffset(t[n]);return e.endVector()}static startSubGraphSessionStatesVector(e,t){e.startVector(4,t,4)}static endSessionState(e){return e.endObject()}static createSessionState(e,t,r){return n.startSessionState(e),n.addKernels(e,t),n.addSubGraphSessionStates(e,r),n.endSessionState(e)}}t.SessionState=n}(t.fbs||(t.fbs={}))}(e.experimental||(e.experimental={}))}(t.onnxruntime||(t.onnxruntime={})),function(e){!function(t){!function(t){class n{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsInferenceSession(e,t){return(t||new n).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsInferenceSession(e,t){return e.setPosition(e.position()+r.flatbuffers.SIZE_PREFIX_LENGTH),(t||new n).__init(e.readInt32(e.position())+e.position(),e)}static bufferHasIdentifier(e){return e.__has_identifier("ORTM")}ortVersion(e){let t=this.bb.__offset(this.bb_pos,4);return t?this.bb.__string(this.bb_pos+t,e):null}model(t){let n=this.bb.__offset(this.bb_pos,6);return n?(t||new e.experimental.fbs.Model).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null}sessionState(t){let n=this.bb.__offset(this.bb_pos,8);return n?(t||new e.experimental.fbs.SessionState).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null}static startInferenceSession(e){e.startObject(3)}static addOrtVersion(e,t){e.addFieldOffset(0,t,0)}static addModel(e,t){e.addFieldOffset(1,t,0)}static addSessionState(e,t){e.addFieldOffset(2,t,0)}static endInferenceSession(e){return e.endObject()}static finishInferenceSessionBuffer(e,t){e.finish(t,"ORTM")}static finishSizePrefixedInferenceSessionBuffer(e,t){e.finish(t,"ORTM",!0)}static createInferenceSession(e,t,r,o){return n.startInferenceSession(e),n.addOrtVersion(e,t),n.addModel(e,r),n.addSessionState(e,o),n.endInferenceSession(e)}}t.InferenceSession=n}(t.fbs||(t.fbs={}))}(e.experimental||(e.experimental={}))}(t.onnxruntime||(t.onnxruntime={}))},7448:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OnnxjsSessionHandler=void 0;const r=n(1670),o=n(9162);t.OnnxjsSessionHandler=class{constructor(e){this.session=e,this.inputNames=this.session.inputNames,this.outputNames=this.session.outputNames}async dispose(){}async run(e,t,n){const i=new Map;for(const t in e)if(Object.hasOwnProperty.call(e,t)){const n=e[t];i.set(t,new o.Tensor(n.dims,n.type,void 0,void 0,n.data))}const s=await this.session.run(i),a={};return s.forEach((e,t)=>{a[t]=new r.Tensor(e.type,e.data,e.dims)}),a}startProfiling(){this.session.startProfiling()}endProfiling(){this.session.endProfiling()}}},6919:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Session=void 0;const r=n(7067),o=n(1296),i=n(7091),s=n(1036),a=n(6231),c=n(2644);t.Session=class{constructor(e={}){this._initialized=!1,this.backendHint=e.backendHint,this.profiler=a.Profiler.create(e.profiler),this.context={profiler:this.profiler,graphInputTypes:[],graphInputDims:[]}}get inputNames(){return this._model.graph.getInputNames()}get outputNames(){return this._model.graph.getOutputNames()}startProfiling(){this.profiler.start()}endProfiling(){this.profiler.stop()}async loadModel(e,t,n){await this.profiler.event("session","Session.loadModel",async()=>{const s=await(0,i.resolveBackend)(this.backendHint);if(this.sessionHandler=s.createSessionHandler(this.context),this._model=new c.Model,"string"==typeof e){const t=e.endsWith(".ort");if("undefined"==typeof fetch){const n=await(0,o.promisify)(r.readFile)(e);this.initialize(n,t)}else{const n=await fetch(e),r=await n.arrayBuffer();this.initialize(new Uint8Array(r),t)}}else if(ArrayBuffer.isView(e))this.initialize(e);else{const r=new Uint8Array(e,t||0,n||e.byteLength);this.initialize(r)}})}initialize(e,t){if(this._initialized)throw new Error("already initialized");this.profiler.event("session","Session.initialize",()=>{const n=this.sessionHandler.transformGraph?this.sessionHandler:void 0;this._model.load(e,n,t),this.sessionHandler.onGraphInitialized&&this.sessionHandler.onGraphInitialized(this._model.graph),this.initializeOps(this._model.graph),this._executionPlan=new s.ExecutionPlan(this._model.graph,this._ops,this.profiler)}),this._initialized=!0}async run(e){if(!this._initialized)throw new Error("session not initialized yet");return this.profiler.event("session","Session.run",async()=>{const t=this.normalizeAndValidateInputs(e),n=await this._executionPlan.execute(this.sessionHandler,t);return this.createOutput(n)})}normalizeAndValidateInputs(e){const t=this._model.graph.getInputNames();if(Array.isArray(e)){if(e.length!==t.length)throw new Error(`incorrect input array length: expected ${t.length} but got ${e.length}`)}else{if(e.size!==t.length)throw new Error(`incorrect input map size: expected ${t.length} but got ${e.size}`);const n=new Array(e.size);let r=0;for(let o=0;o<t.length;++o){const i=e.get(t[o]);if(!i)throw new Error(`missing input tensor for: '${name}'`);n[r++]=i}e=n}if(this.context.graphInputTypes&&0!==this.context.graphInputTypes.length&&this.context.graphInputDims&&0!==this.context.graphInputDims.length)this.validateInputTensorDims(this.context.graphInputDims,e,!1);else{const t=this._model.graph.getInputIndices(),n=this._model.graph.getValues(),r=new Array(t.length);for(let o=0;o<t.length;++o){const i=n[t[o]];r[o]=i.type.shape.dims,this.context.graphInputTypes.push(i.type.tensorType),this.context.graphInputDims.push(e[o].dims)}this.validateInputTensorDims(r,e,!0)}return this.validateInputTensorTypes(this.context.graphInputTypes,e),e}validateInputTensorTypes(e,t){for(let n=0;n<t.length;n++){const r=e[n],o=t[n].type;if(r!==o)throw new Error(`input tensor[${n}] check failed: expected type '${r}' but got ${o}`)}}validateInputTensorDims(e,t,n){for(let r=0;r<t.length;r++){const o=e[r],i=t[r].dims;if(!this.compareTensorDims(o,i,n))throw new Error(`input tensor[${r}] check failed: expected shape '[${o.join(",")}]' but got [${i.join(",")}]`)}}compareTensorDims(e,t,n){if(e.length!==t.length)return!1;for(let r=0;r<e.length;++r)if(e[r]!==t[r]&&(!n||0!==e[r]))return!1;return!0}createOutput(e){const t=this._model.graph.getOutputNames();if(e.length!==t.length)throw new Error("expected number of outputs do not match number of generated outputs");const n=new Map;for(let r=0;r<t.length;++r)n.set(t[r],e[r]);return n}initializeOps(e){const t=e.getNodes();this._ops=new Array(t.length);for(let n=0;n<t.length;n++)this._ops[n]=this.sessionHandler.resolve(t[n],this._model.opsets,e)}}},9162:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Tensor=void 0;const o=n(3442),i=r(n(3720)),s=n(1446),a=n(9395),c=n(2517);var l=a.onnxruntime.experimental.fbs;class u{get data(){if(void 0===this.cache){const e=this.dataProvider(this.dataId);if(e.length!==this.size)throw new Error("Length of data provided by the Data Provider is inconsistent with the dims of this Tensor.");this.cache=e}return this.cache}get stringData(){if("string"!==this.type)throw new TypeError("data type is not string");return this.data}get integerData(){switch(this.type){case"uint8":case"int8":case"uint16":case"int16":case"int32":case"uint32":case"bool":return this.data;default:throw new TypeError("data type is not integer (uint8, int8, uint16, int16, int32, uint32, bool)")}}get floatData(){switch(this.type){case"float32":case"float64":return this.data;default:throw new TypeError("data type is not float (float32, float64)")}}get numberData(){if("string"!==this.type)return this.data;throw new TypeError("type cannot be non-number (string)")}get(e){return this.data[c.ShapeUtil.indicesToOffset(e,this.strides)]}set(e,t){this.data[c.ShapeUtil.indicesToOffset(e,this.strides)]=t}async getData(){return void 0===this.cache&&(this.cache=await this.asyncDataProvider(this.dataId)),this.cache}get strides(){return this._strides||(this._strides=c.ShapeUtil.computeStrides(this.dims)),this._strides}constructor(e,t,n,r,i,s=o.Guid.create()){this.dims=e,this.type=t,this.dataProvider=n,this.asyncDataProvider=r,this.cache=i,this.dataId=s,this.size=c.ShapeUtil.validateDimsAndCalcSize(e);const a=this.size,l=void 0===n&&void 0===r&&void 0===i;if(void 0!==i&&i.length!==a)throw new RangeError("Input dims doesn't match data length.");if("string"===t){if(!(void 0===i||Array.isArray(i)&&i.every(e=>"string"==typeof e)))throw new TypeError("cache should be a string array");l&&(this.cache=new Array(a))}else{if(void 0!==i){const e=f(t);if(!(i instanceof e))throw new TypeError(`cache should be type ${e.name}`)}if(l){const e=new ArrayBuffer(a*function(e){switch(e){case"bool":case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;case"float64":return 8;default:throw new Error(`cannot calculate sizeof() on type ${e}`)}}(t));this.cache=function(e,t){return new(f(t))(e)}(e,t)}}}static fromProto(e){if(!e)throw new Error("cannot construct Value from an empty tensor");const t=c.ProtoUtil.tensorDataTypeFromProto(e.dataType),n=c.ProtoUtil.tensorDimsFromProto(e.dims),r=new u(n,t);if("string"===t)e.stringData.forEach((e,t)=>{r.data[t]=(0,c.decodeUtf8String)(e)});else if(e.rawData&&"number"==typeof e.rawData.byteLength&&e.rawData.byteLength>0){const t=r.data,n=new DataView(e.rawData.buffer,e.rawData.byteOffset,e.rawData.byteLength),o=d(e.dataType),i=e.rawData.byteLength/o;if(e.rawData.byteLength%o!=0)throw new Error("invalid buffer length");if(t.length!==i)throw new Error("buffer length mismatch");for(let r=0;r<i;r++){const i=p(n,e.dataType,r*o);t[r]=i}}else{let t;switch(e.dataType){case s.onnx.TensorProto.DataType.FLOAT:t=e.floatData;break;case s.onnx.TensorProto.DataType.INT32:case s.onnx.TensorProto.DataType.INT16:case s.onnx.TensorProto.DataType.UINT16:case s.onnx.TensorProto.DataType.INT8:case s.onnx.TensorProto.DataType.UINT8:case s.onnx.TensorProto.DataType.BOOL:t=e.int32Data;break;case s.onnx.TensorProto.DataType.INT64:t=e.int64Data;break;case s.onnx.TensorProto.DataType.DOUBLE:t=e.doubleData;break;case s.onnx.TensorProto.DataType.UINT32:case s.onnx.TensorProto.DataType.UINT64:t=e.uint64Data;break;default:throw new Error("unspecific error")}if(null==t)throw new Error("failed to populate data from a tensorproto value");const n=r.data;if(n.length!==t.length)throw new Error("array length mismatch");for(let r=0;r<t.length;r++){const o=t[r];i.default.isLong(o)?n[r]=h(o,e.dataType):n[r]=o}}return r}static fromData(e,t,n){return new u(t,n,void 0,void 0,e)}static fromOrtTensor(e){if(!e)throw new Error("cannot construct Value from an empty tensor");const t=c.ProtoUtil.tensorDimsFromORTFormat(e),n=c.ProtoUtil.tensorDataTypeFromProto(e.dataType()),r=new u(t,n);if("string"===n)for(let t=0;t<e.stringDataLength();t++)r.data[t]=e.stringData(t);else if(e.rawDataArray()&&"number"==typeof e.rawDataLength()&&e.rawDataLength()>0){const t=r.data,n=new DataView(e.rawDataArray().buffer,e.rawDataArray().byteOffset,e.rawDataLength()),o=d(e.dataType()),i=e.rawDataLength()/o;if(e.rawDataLength()%o!=0)throw new Error("invalid buffer length");if(t.length!==i)throw new Error("buffer length mismatch");for(let r=0;r<i;r++){const i=p(n,e.dataType(),r*o);t[r]=i}}return r}}function d(e){switch(e){case s.onnx.TensorProto.DataType.UINT8:case s.onnx.TensorProto.DataType.INT8:case s.onnx.TensorProto.DataType.BOOL:return 1;case s.onnx.TensorProto.DataType.UINT16:case s.onnx.TensorProto.DataType.INT16:return 2;case s.onnx.TensorProto.DataType.FLOAT:case s.onnx.TensorProto.DataType.INT32:case s.onnx.TensorProto.DataType.UINT32:return 4;case s.onnx.TensorProto.DataType.INT64:case s.onnx.TensorProto.DataType.DOUBLE:case s.onnx.TensorProto.DataType.UINT64:return 8;default:throw new Error(`cannot calculate sizeof() on type ${s.onnx.TensorProto.DataType[e]}`)}}function f(e){switch(e){case"bool":case"uint8":return Uint8Array;case"int8":return Int8Array;case"int16":return Int16Array;case"uint16":return Uint16Array;case"int32":return Int32Array;case"uint32":return Uint32Array;case"float32":return Float32Array;case"float64":return Float64Array;default:throw new Error("unspecified error")}}function h(e,t){if(t===s.onnx.TensorProto.DataType.INT64||t===l.TensorDataType.INT64){if(e.greaterThanOrEqual(2147483648)||e.lessThan(-2147483648))throw new TypeError("int64 is not supported")}else{if(t!==s.onnx.TensorProto.DataType.UINT32&&t!==l.TensorDataType.UINT32&&t!==s.onnx.TensorProto.DataType.UINT64&&t!==l.TensorDataType.UINT64)throw new TypeError(`not a LONG type: ${s.onnx.TensorProto.DataType[t]}`);if(e.greaterThanOrEqual(4294967296)||e.lessThan(0))throw new TypeError("uint64 is not supported")}return e.toNumber()}function p(e,t,n){switch(t){case s.onnx.TensorProto.DataType.BOOL:case s.onnx.TensorProto.DataType.UINT8:return e.getUint8(n);case s.onnx.TensorProto.DataType.INT8:return e.getInt8(n);case s.onnx.TensorProto.DataType.UINT16:return e.getUint16(n,!0);case s.onnx.TensorProto.DataType.INT16:return e.getInt16(n,!0);case s.onnx.TensorProto.DataType.FLOAT:return e.getFloat32(n,!0);case s.onnx.TensorProto.DataType.INT32:return e.getInt32(n,!0);case s.onnx.TensorProto.DataType.UINT32:return e.getUint32(n,!0);case s.onnx.TensorProto.DataType.INT64:return h(i.default.fromBits(e.getUint32(n,!0),e.getUint32(n+4,!0),!1),t);case s.onnx.TensorProto.DataType.DOUBLE:return e.getFloat64(n,!0);case s.onnx.TensorProto.DataType.UINT64:return h(i.default.fromBits(e.getUint32(n,!0),e.getUint32(n+4,!0),!0),t);default:throw new Error(`cannot read from DataView for type ${s.onnx.TensorProto.DataType[t]}`)}}t.Tensor=u},2517:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.decodeUtf8String=t.MAX_CLIP=t.MIN_CLIP=t.PoolConvUtil=t.ReduceUtil=t.SplitUtil=t.MathUtil=t.ShapeUtil=t.LongUtil=t.ProtoUtil=t.GemmUtil=t.arrayCopyHelper=t.BroadcastUtil=t.MatMulUtil=t.ArrayUtil=t.assert=t.checkInputsShape=void 0;const o=n(5686),i=r(n(3720)),s=n(1446),a=n(9162);t.checkInputsShape=function(e,...t){if(!e||e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(!e[n].dims||e[n].dims.length!==t[n])return!1;return!0},t.assert=function(e,t){if(!e)throw new Error("string"==typeof t?t:t())},t.ArrayUtil=class{static arraysEqual(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}};class c{static preprocessInputShapes(e,t){return[1===e.length?[1,e[0]]:e,1===t.length?[t[0],1]:t]}static postprocessOutputShape(e,t,n){1===t&&e.splice(e.length-2,1),1===n&&e.pop()}static calcMatMulShape(e,t){return e[1]!==t[0]?void 0:[e[0],t[1]]}}t.MatMulUtil=c;class l{static calcShape(e,t,n=!1){const r=e.length,o=t.length;if(0===r)return t;if(0===o)return e;const i=Math.max(e.length,t.length),s=new Array(i);if(n){if(r<2||o<2)return;const n=c.calcMatMulShape([e[r-2],e[r-1]],[t[o-2],t[o-1]]);if(void 0===n)return;[s[i-2],s[i-1]]=n}for(let a=n?3:1;a<=i;a++){const n=r-a<0?1:e[r-a],c=o-a<0?1:t[o-a];if(n!==c&&n>1&&c>1)return;s[i-a]=Math.max(n,c)}return s}static index(e,t){const n=new Array(t.length);return l.fillIndex(e,t,n),n}static fillIndex(e,t,n){const r=e.length-t.length;for(let o=0;o<t.length;o++)n[o]=e[r+o]%t[o]}static calc(e,t,n,r,o){const i=l.calcShape(e.dims,t.dims);if(i){if(r&&!f.areEqual(i,e.dims))return;const s=f.size(i),c=r?e:new a.Tensor(i,o||e.type);if(0===i.length)c.set([],n(e.get([]),t.get([])));else{const r=new Array(i.length),o=new Array(e.dims.length),a=new Array(t.dims.length);let u,d=0,f=0,h=!1,p=!1;0===e.dims.length&&(d=e.get([]),h=!0),0===t.dims.length&&(f=t.get([]),p=!0);for(let g=0;g<s;g++){u=g;for(let e=i.length-1;e>=0;e--)r[e]=u%i[e],u=Math.floor(u/i[e]);h||(l.fillIndex(r,e.dims,o),d=e.get(o)),p||(l.fillIndex(r,t.dims,a),f=t.get(a)),c.set(r,n(d,f))}}return c}}static isValidBroadcast(e,t){const n=e.length,r=t.length;if(n>r)return!1;for(let o=1;o<=n;o++)if(1!==e[n-o]&&e[n-o]!==t[r-o])return!1;return!0}static getBroadcastDims(e,t){const n=e.length,r=[];for(let o=0;o<n;o++){const i=n-1-o,s=e[i]||1;(t[t.length-1-o]||1)>1&&1===s&&r.unshift(i)}return r}}t.BroadcastUtil=l,t.arrayCopyHelper=function(e,t,n,r,o){if(r<0||r>=t.length)throw new Error("sourceIndex out of bounds");if(n<0||n>=e.length)throw new Error("targetIndex out of bounds");if(r+o>t.length)throw new Error("source indices to be copied are outside bounds");if(n+o>e.length)throw new Error("target array is too small to hold result");for(let i=0;i<o;i++)e[n+i]=t[r+i]},t.GemmUtil=class{static getShapeOfGemmResult(e,t,n,r,o){if(2!==e.length||2!==n.length)throw new Error("shape need to be of size 2");let i,s,a;t?(i=e[1],s=e[0]):(i=e[0],s=e[1]);let c=-1;if(r?(a=n[0],c=1):(a=n[1],c=0),n[c]!==s)throw new Error("dimension mismatch");if(i<=0||a<=0||s<=0)throw new Error("invalid shape specified");if(o&&!l.isValidBroadcast(o,[i,a]))throw new Error("gemm: invalid bias shape for broadcast");return[i,a,s]}};class u{static tensorDataTypeFromProto(e){switch(e){case s.onnx.TensorProto.DataType.INT8:return"int8";case s.onnx.TensorProto.DataType.UINT8:return"uint8";case s.onnx.TensorProto.DataType.BOOL:return"bool";case s.onnx.TensorProto.DataType.INT16:return"int16";case s.onnx.TensorProto.DataType.UINT16:return"uint16";case s.onnx.TensorProto.DataType.INT32:return"int32";case s.onnx.TensorProto.DataType.UINT32:return"uint32";case s.onnx.TensorProto.DataType.FLOAT:return"float32";case s.onnx.TensorProto.DataType.DOUBLE:return"float64";case s.onnx.TensorProto.DataType.STRING:return"string";case s.onnx.TensorProto.DataType.INT64:return"int32";case s.onnx.TensorProto.DataType.UINT64:return"uint32";default:throw new Error(`unsupported data type: ${s.onnx.TensorProto.DataType[e]}`)}}static tensorDataTypeStringToEnum(e){switch(e){case"int8":return s.onnx.TensorProto.DataType.INT8;case"uint8":return s.onnx.TensorProto.DataType.UINT8;case"bool":return s.onnx.TensorProto.DataType.BOOL;case"int16":return s.onnx.TensorProto.DataType.INT16;case"uint16":return s.onnx.TensorProto.DataType.UINT16;case"int32":return s.onnx.TensorProto.DataType.INT32;case"uint32":return s.onnx.TensorProto.DataType.UINT32;case"float32":return s.onnx.TensorProto.DataType.FLOAT;case"float64":return s.onnx.TensorProto.DataType.DOUBLE;case"string":return s.onnx.TensorProto.DataType.STRING;case"int64":return s.onnx.TensorProto.DataType.INT64;case"uint64":return s.onnx.TensorProto.DataType.UINT64;default:throw new Error(`unsupported data type: ${e}`)}}static tensorDimsFromProto(e){return e.map(e=>i.default.isLong(e)?e.toNumber():e)}static tensorValueTypeFromProto(e){return{tensorType:u.tensorDataTypeFromProto(e.elemType),shape:{dims:u.tensorDimsFromProto(e.shape.dim.map(e=>e.dimValue))}}}static tensorDimsFromORTFormat(e){const t=[];for(let n=0;n<e.dimsLength();n++)t.push(d.longToNumber(e.dims(n)));return t}static tensorAttributesFromORTFormat(e){const t=[];for(let n=0;n<e.attributesLength();n++)t.push(e.attributes(n));return t}}t.ProtoUtil=u;class d{static longToNumber(e,t){return i.default.isLong(e)?e.toNumber():e instanceof o.flatbuffers.Long?i.default.fromValue({low:e.low,high:e.high,unsigned:null!=t&&t}).toNumber():e}static isLong(e){return i.default.isLong(e)||e instanceof o.flatbuffers.Long}}t.LongUtil=d;class f{static size(e){return f.getSizeFromDimensionRange(e,0,e.length)}static sizeFromDimension(e,t){if(t<0||t>e.length)throw new Error(`invalid dimension of ${t} for sizeFromDimension as Tensor has ${e.length} dimensions.`);return f.getSizeFromDimensionRange(e,t,e.length)}static sizeToDimension(e,t){if(t<0||t>e.length)throw new Error(`invalid dimension of ${t} for sizeToDimension as Tensor has ${e.length} dimensions.`);return f.getSizeFromDimensionRange(e,0,t)}static getSizeFromDimensionRange(e,t,n){let r=1;for(let o=t;o<n;o++){if(e[o]<=0)throw new Error("cannot get valid size from specified dimension range. Most likely the range contains 0 or negative values in them.");r*=e[o]}return r}static computeStrides(e){const t=e.length;if(0===t)return[];if(1===t)return[1];const n=new Array(t);n[t-1]=1,n[t-2]=e[t-1];for(let r=t-3;r>=0;--r)n[r]=n[r+1]*e[r+1];return n}static transpose(e){return e.slice().reverse()}static indicesToOffset(e,t,n){void 0===n&&(n=e.length);let r=0;for(let o=0;o<n;++o)r+=t[o]*e[o];return r}static offsetToIndices(e,t){const n=t.length;if(0===n)return[];if(1===n)return[e*t[0]];const r=new Array(t.length);for(let n=0;n<r.length-1;++n)r[n]=Math.floor(e/t[n]),e-=r[n]*t[n];return r[r.length-1]=e,r}static normalizeAxis(e,t){if(e<-t&&e>=t)throw new Error("unsupported axis for this operation.");return e<0?e+t:e}static normalizeAxes(e,t){return e.map(e=>this.normalizeAxis(e,t))}static incrementIndex(e,t,n){if(0===t.length||0===e.length)throw new Error("Index incrementing unsupported for scalar Tensor");if(void 0===n)n=t.length;else if(n<=0||n>t.length)throw new Error("Incorrect axis to increment on");for(let r=n-1;r>=0&&(e[r]++,!(e[r]<t[r]));--r)e[r]=0}static calculateReshapedDims(e,t){if(0===t.length){if(0===e.length||1===f.size(e))return[];throw new Error("cannot reshape to a scalar Tensor")}const n=t.length,r=new Array(n);let o=-1,i=1;for(let s=0;s<n;s++){if(t[s]<-1)throw new Error("a dimension in shape hints cannot be less than -1");if(-1===t[s]){if(-1!==o)throw new Error("at most one dimension in shape hints can be -1");o=s}else{if(0===t[s]){if(s>=e.length)throw new Error("the dimension with value zero exceeds the dimension size of the input tensor");r[s]=e[s]}else r[s]=t[s];i*=r[s]}}const s=f.size(e);if(-1!==o){if(s%i!=0)throw new Error(`the input tensor cannot be reshaped to the requested shape. Input shape: [${e}] Output shape: [${t}]`);r[o]=s/i}else if(i!==s)throw new Error("reshapedDims and originalDims don't have matching sizes");return r}static sortBasedOnPerm(e,t){return t?t.map(t=>e[t]):e.slice().reverse()}static padShape(e,t){const n=e.length;return e.map((e,r)=>e+t[r]+t[r+n])}static areEqual(e,t){return e.length===t.length&&e.every((e,n)=>e===t[n])}static validateDimsAndCalcSize(e){if(e.length>6)throw new TypeError("Only rank 0 to 6 is supported for tensor shape.");let t=1;for(const n of e){if(!Number.isInteger(n))throw new TypeError(`Invalid shape: ${n} is not an integer`);if(n<0||n>2147483647)throw new TypeError(`Invalid shape: length ${n} is not allowed`);t*=n}return t}static flattenShape(e,t){t<0&&(t+=e.length);const n=e.reduce((e,t)=>e*t,1),r=e.slice(t).reduce((e,t)=>e*t,1);return[n/r,r]}static squeezeShape(e,t){const n=new Array;t=f.normalizeAxes(t,e.length);for(let r=0;r<e.length;r++){const o=t.indexOf(r)>=0;if(o&&1!==e[r])throw new Error("squeeze an axis of size different than 1");(0===t.length&&e[r]>1||t.length>0&&!o)&&n.push(e[r])}return n}static unsqueezeShape(e,t){const n=new Array(e.length+t.length);n.fill(0);for(let e=0;e<t.length;e++){const r=f.normalizeAxis(t[e],n.length);if(r>=n.length)throw new Error("'axes' has an out of range axis");if(0!==n[r])throw new Error("'axes' has a duplicate axis");n[r]=1}let r=0;for(let t=0;t<n.length;t++)0===n[t]&&(n[t]=e[r++]);if(r!==e.length)throw new Error("the unsqueezed dimension could not be established");return n}}t.ShapeUtil=f,t.MathUtil=class{static sqr(e,t,n,r,o){if(r<0||r>=t.length)throw new Error("sourceIndex out of bounds");if(n<0||n>=e.length)throw new Error("targetIndex out of bounds");if(r+o>t.length)throw new Error("source indices to be copied are outside bounds");if(n+o>e.length)throw new Error("target array is too small to hold result");for(let i=0;i<o;i++)e[n+i]+=Math.pow(t[r+i],2)}static axpy(e,t,n,r,o,i){if(r<0||r>=t.length)throw new Error("sourceIndex out of bounds");if(n<0||n>=e.length)throw new Error("targetIndex out of bounds");if(r+o>t.length)throw new Error("source indices to be copied are outside bounds");if(n+o>e.length)throw new Error("target array is too small to hold result");for(let s=0;s<o;s++)e[n+s]+=i*t[r+s]}static powx(e,t,n,r,o,i){if(r<0||r>=t.length)throw new Error("sourceIndex out of bounds");if(n<0||n>=e.length)throw new Error("targetIndex out of bounds");if(r+o>t.length)throw new Error("source indices to be copied are outside bounds");if(n+o>e.length)throw new Error("target array is too small to hold result");for(let s=0;s<o;s++)e[n+s]=Math.pow(t[r+s],i)}static mul(e,t,n,r,o){if(r<0||r>=t.length)throw new Error("sourceIndex out of bounds");if(n<0||n>=e.length)throw new Error("targetIndex out of bounds");if(r+o>t.length)throw new Error("source indices to be copied are outside bounds");if(n+o>e.length)throw new Error("target array is too small to hold result");for(let i=0;i<o;i++)e[n+i]=t[r+i]*e[n+i]}};class h{static splitShape(e,t,n,r){if(0===n.length){if(!r)throw new Error("need to know number of outputs when the 'split' attribute is not specified");h.determineSplit(e[t],r,n)}const o=[],i=[0];for(let r=0;r<n.length;++r){0!==r&&i.push(i[r-1]+n[r-1]);const s=e.slice();s[t]=n[r],o.push(s)}return[o,i]}static determineSplit(e,t,n){if(e%t!=0)throw new Error("cannot split tensor to equal sized parts");for(let r=0;r<t;++r)n.push(e/t)}}t.SplitUtil=h;class p{static calcReduce(e,t,n,r,o){const i=e.dims.slice(0);0===t.length&&i.forEach((e,n)=>t.push(n));const s=p.calcReduceShape(i,t,!0),c=f.size(s),u=new a.Tensor(s,e.type),d=f.computeStrides(s),h=f.computeStrides(i),g=new Array(i.length);for(let n=0;n<c;n++){const s=f.offsetToIndices(n,d);l.fillIndex(s,i,g),u.set(s,p.calcReduceByAxis(e.numberData,t,i,0,f.indicesToOffset(g,h),r,o))}return n?u:new a.Tensor(p.calcReduceShape(i,t,n),u.type,void 0,void 0,u.data,u.dataId)}static calcReduceByAxis(e,t,n,r,o,i,s){let a=0;if(r>=t.length)return i(e[o]);const c=t[r],l=c>=n.length?1:f.size(n.slice(c+1));for(let u=0;u<n[c];u++)a=0===u?p.calcReduceByAxis(e,t,n,r+1,o,i,s):s(a,p.calcReduceByAxis(e,t,n,r+1,o,i,s)),o+=l;return a}static calcReduceShape(e,t,n){const r=e.slice();for(let e=0;e<t.length;e++)r[t[e]]=n?1:0;return r.filter(e=>0!==e)}}t.ReduceUtil=p;class g{static adjustPoolAttributes(e,t,n,r,o,i){if(!e&&n.length!==t.length-2)throw new Error("length of specified kernel shapes should be 2 less than length of input dimensions");if(e)for(let e=0;e<t.length-2;e++)e>=n.length?n.push(t[e+2]):n[e]=t[e+2];for(let e=0;e<n.length;e++)if(e<r.length){if(r[e]<0)throw new Error("strides should be greater than or equal to 1")}else r.push(1);for(let e=0;e<n.length;e++)if(e<o.length){if(o[e]<0)throw new Error("dilations should be greater than or equal to 1")}else o.push(1);for(let e=0;e<2*n.length;e++)if(e<i.length){if(i[e]<0)throw new Error("pad should be greater than or equal to 1")}else i.push(0);for(let e=0;e<n.length;e++){if(n[e]<=0)throw new Error("kernel shapes need to be greater than 0");if(i[e]>=n[e]||i[e+n.length]>=n[e])throw new Error("pads should be smaller than kernel")}}static adjustPadsBasedOnAutoPad(e,t,n,r,o,i){if(i){if(o.length!==2*(e.length-2))throw new Error("length of pads should be twice the length of data dimensions");if(t.length!==e.length-2)throw new Error("length of strides should be the length of data dimensions");if(r.length!==e.length-2)throw new Error("length of kernel shapes should be the length of data dimensions");for(let s=0;s<e.length-2;s++)g.adjustPadAndReturnShape(e[s+2],t[s],n[s],r[s],o,s,s+e.length-2,i)}}static computePoolOutputShape(e,t,n,r,o,i,s){if(t.length<=0)throw new Error("input shape must be of size greater than 0");const a=[t[0],t[1]];return g.computeShapeHelper(e,t,a,n,r,o,i,s),a}static computeConvOutputShape(e,t,n,r,o,i,s){if(e.length<=0||t.length<=0)throw new Error("invalid input tensor dims or invalid filter tensor dims");const a=[e[0],t[0]];return g.computeShapeHelper(!1,e,a,n,r,o,i,s),a}static computeShapeHelper(e,t,n,r,o,i,s,a){if(e)for(let e=0;e<t.length-2;e++)n.push(1);else for(let e=0;e<t.length-2;e++)n.push(g.adjustPadAndReturnShape(t[e+2],r[e],o[e],i[e],s,e,e+t.length-2,a))}static adjustPadAndReturnShape(e,t,n,r,o,i,s,a){const c=n*(r-1)+1;if(!a||"NOTSET"===a)return Math.floor((e+o[i]+o[s]-c)/t+1);switch(a){case"VALID":return o[i]=0,o[s]=0,Math.floor((e-c)/t+1);case"SAME_LOWER":case"SAME_UPPER":if(1!==n)throw new Error("Dilation not supported for SAME_UPPER or SAME_LOWER");{const n=((e+t-1)/t-1)*t+r-e;return o[i]="SAME_LOWER"===a?Math.floor((n+1)/2):Math.floor(n/2),o[s]=n-o[i],Math.floor((e+n-r)/t+1)}default:throw new Error("Unsupported AutoPad type")}}}t.PoolConvUtil=g,t.MIN_CLIP=-34028234663852886e22,t.MAX_CLIP=34028234663852886e22,t.decodeUtf8String=function(e){return(new TextDecoder).decode(e)}},7967:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.iterateExtraOptions=void 0,t.iterateExtraOptions=(e,n,r,o)=>{if("object"==typeof e&&null!==e){if(r.has(e))throw new Error("Circular reference in options");r.add(e)}Object.entries(e).forEach(([e,i])=>{const s=n?n+e:e;if("object"==typeof i)(0,t.iterateExtraOptions)(i,s+".",r,o);else if("string"==typeof i||"number"==typeof i)o(s,i.toString());else{if("boolean"!=typeof i)throw new Error("Can't handle extra config type: "+typeof i);o(s,i?"1":"0")}})}},2157:function(e,t,n){"use strict";var r,o=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&o(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.endProfiling=t.run=t.releaseSession=t.createSession=t.createSessionFinalize=t.createSessionAllocate=t.initOrt=t.initWasm=void 0;const a=n(1670),c=s(n(349)),l=n(6361),u=()=>!!a.env.wasm.proxy&&"undefined"!=typeof document;let d,f,h,p=!1,g=!1,m=!1;const y=[],b=[],v=[],_=[],w=[],S=[],x=()=>{if(p||!g||m||!d)throw new Error("worker not ready")},I=e=>{switch(e.data.type){case"init-wasm":p=!1,e.data.err?(m=!0,f[1](e.data.err)):(g=!0,f[0]());break;case"init-ort":e.data.err?h[1](e.data.err):h[0]();break;case"create_allocate":e.data.err?y.shift()[1](e.data.err):y.shift()[0](e.data.out);break;case"create_finalize":e.data.err?b.shift()[1](e.data.err):b.shift()[0](e.data.out);break;case"create":e.data.err?v.shift()[1](e.data.err):v.shift()[0](e.data.out);break;case"release":e.data.err?_.shift()[1](e.data.err):_.shift()[0]();break;case"run":e.data.err?w.shift()[1](e.data.err):w.shift()[0](e.data.out);break;case"end-profiling":e.data.err?S.shift()[1](e.data.err):S.shift()[0]()}},A="undefined"!=typeof document?null===(r=null===document||void 0===document?void 0:document.currentScript)||void 0===r?void 0:r.src:void 0;t.initWasm=async()=>{if(u()){if(g)return;if(p)throw new Error("multiple calls to 'initWasm()' detected.");if(m)throw new Error("previous call to 'initWasm()' failed.");return p=!0,void 0===a.env.wasm.wasmPaths&&A&&0!==A.indexOf("blob:")&&(a.env.wasm.wasmPaths=A.substr(0,+A.lastIndexOf("/")+1)),new Promise((e,t)=>{null==d||d.terminate(),d=n(9710).Z(),d.onmessage=I,f=[e,t];const r={type:"init-wasm",in:a.env.wasm};d.postMessage(r)})}return(0,l.initializeWebAssembly)(a.env.wasm)},t.initOrt=async(e,t)=>{if(u())return x(),new Promise((n,r)=>{h=[n,r];const o={type:"init-ort",in:{numThreads:e,loggingLevel:t}};d.postMessage(o)});c.initOrt(e,t)},t.createSessionAllocate=async e=>u()?(x(),new Promise((t,n)=>{y.push([t,n]);const r={type:"create_allocate",in:{model:e}};d.postMessage(r,[e.buffer])})):c.createSessionAllocate(e),t.createSessionFinalize=async(e,t)=>u()?(x(),new Promise((n,r)=>{b.push([n,r]);const o={type:"create_finalize",in:{modeldata:e,options:t}};d.postMessage(o)})):c.createSessionFinalize(e,t),t.createSession=async(e,t)=>u()?(x(),new Promise((n,r)=>{v.push([n,r]);const o={type:"create",in:{model:e,options:t}};d.postMessage(o,[e.buffer])})):c.createSession(e,t),t.releaseSession=async e=>{if(u())return x(),new Promise((t,n)=>{_.push([t,n]);const r={type:"release",in:e};d.postMessage(r)});c.releaseSession(e)},t.run=async(e,t,n,r,o)=>u()?(x(),new Promise((i,s)=>{w.push([i,s]);const a={type:"run",in:{sessionId:e,inputIndices:t,inputs:n,outputIndices:r,options:o}};d.postMessage(a,c.extractTransferableBuffers(n))})):c.run(e,t,n,r,o),t.endProfiling=async e=>{if(u())return x(),new Promise((t,n)=>{S.push([t,n]);const r={type:"end-profiling",in:e};d.postMessage(r)});c.endProfiling(e)}},586:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setRunOptions=void 0;const r=n(7967),o=n(4983),i=n(6361);t.setRunOptions=e=>{const t=(0,i.getInstance)();let n=0;const s=[],a=e||{};try{if(void 0===(null==e?void 0:e.logSeverityLevel))a.logSeverityLevel=2;else if("number"!=typeof e.logSeverityLevel||!Number.isInteger(e.logSeverityLevel)||e.logSeverityLevel<0||e.logSeverityLevel>4)throw new Error(`log serverity level is not valid: ${e.logSeverityLevel}`);if(void 0===(null==e?void 0:e.logVerbosityLevel))a.logVerbosityLevel=0;else if("number"!=typeof e.logVerbosityLevel||!Number.isInteger(e.logVerbosityLevel))throw new Error(`log verbosity level is not valid: ${e.logVerbosityLevel}`);void 0===(null==e?void 0:e.terminate)&&(a.terminate=!1);let i=0;if(void 0!==(null==e?void 0:e.tag)&&(i=(0,o.allocWasmString)(e.tag,s)),n=t._OrtCreateRunOptions(a.logSeverityLevel,a.logVerbosityLevel,!!a.terminate,i),0===n)throw new Error("Can't create run options");return void 0!==(null==e?void 0:e.extra)&&(0,r.iterateExtraOptions)(e.extra,"",new WeakSet,(e,r)=>{const i=(0,o.allocWasmString)(e,s),a=(0,o.allocWasmString)(r,s);if(0!==t._OrtAddRunConfigEntry(n,i,a))throw new Error(`Can't set a run config entry: ${e} - ${r}`)}),[n,s]}catch(e){throw 0!==n&&t._OrtReleaseRunOptions(n),s.forEach(t._free),e}}},2306:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OnnxruntimeWebAssemblySessionHandler=void 0;const r=n(2806),o=n(1670),i=n(2850),s=n(2157);let a;t.OnnxruntimeWebAssemblySessionHandler=class{async createSessionAllocate(e){const t=await fetch(e),n=await t.arrayBuffer();return(0,s.createSessionAllocate)(new Uint8Array(n))}async loadModel(e,t){if(a||(await(0,s.initOrt)(o.env.wasm.numThreads,(e=>{switch(e){case"verbose":return 0;case"info":return 1;case"warning":return 2;case"error":return 3;case"fatal":return 4;default:throw new Error(`unsupported logging level: ${e}`)}})(o.env.logLevel)),a=!0),"string"==typeof e)if("undefined"==typeof fetch){const n=await(0,i.promisify)(r.readFile)(e);[this.sessionId,this.inputNames,this.outputNames]=await(0,s.createSession)(n,t)}else{const n=await this.createSessionAllocate(e);[this.sessionId,this.inputNames,this.outputNames]=await(0,s.createSessionFinalize)(n,t)}else[this.sessionId,this.inputNames,this.outputNames]=await(0,s.createSession)(e,t)}async dispose(){return(0,s.releaseSession)(this.sessionId)}async run(e,t,n){const r=[],i=[];Object.entries(e).forEach(e=>{const t=e[0],n=e[1],o=this.inputNames.indexOf(t);if(-1===o)throw new Error(`invalid input '${t}'`);r.push(n),i.push(o)});const a=[];Object.entries(t).forEach(e=>{const t=e[0],n=this.outputNames.indexOf(t);if(-1===n)throw new Error(`invalid output '${t}'`);a.push(n)});const c=await(0,s.run)(this.sessionId,i,r.map(e=>[e.type,e.dims,e.data]),a,n),l={};for(let e=0;e<c.length;e++)l[this.outputNames[a[e]]]=new o.Tensor(c[e][0],c[e][2],c[e][1]);return l}startProfiling(){}endProfiling(){(0,s.endProfiling)(this.sessionId)}}},4919:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setSessionOptions=void 0;const r=n(7967),o=n(4983),i=n(6361);t.setSessionOptions=e=>{const t=(0,i.getInstance)();let n=0;const s=[],a=e||{};(e=>{e.extra||(e.extra={}),e.extra.session||(e.extra.session={});const t=e.extra.session;t.use_ort_model_bytes_directly||(t.use_ort_model_bytes_directly="1")})(a);try{void 0===(null==e?void 0:e.graphOptimizationLevel)&&(a.graphOptimizationLevel="all");const c=(e=>{switch(e){case"disabled":return 0;case"basic":return 1;case"extended":return 2;case"all":return 99;default:throw new Error(`unsupported graph optimization level: ${e}`)}})(a.graphOptimizationLevel);void 0===(null==e?void 0:e.enableCpuMemArena)&&(a.enableCpuMemArena=!0),void 0===(null==e?void 0:e.enableMemPattern)&&(a.enableMemPattern=!0),void 0===(null==e?void 0:e.executionMode)&&(a.executionMode="sequential");const l=(e=>{switch(e){case"sequential":return 0;case"parallel":return 1;default:throw new Error(`unsupported execution mode: ${e}`)}})(a.executionMode);let u=0;if(void 0!==(null==e?void 0:e.logId)&&(u=(0,o.allocWasmString)(e.logId,s)),void 0===(null==e?void 0:e.logSeverityLevel))a.logSeverityLevel=2;else if("number"!=typeof e.logSeverityLevel||!Number.isInteger(e.logSeverityLevel)||e.logSeverityLevel<0||e.logSeverityLevel>4)throw new Error(`log serverity level is not valid: ${e.logSeverityLevel}`);if(void 0===(null==e?void 0:e.logVerbosityLevel))a.logVerbosityLevel=0;else if("number"!=typeof e.logVerbosityLevel||!Number.isInteger(e.logVerbosityLevel))throw new Error(`log verbosity level is not valid: ${e.logVerbosityLevel}`);if(void 0===(null==e?void 0:e.enableProfiling)&&(a.enableProfiling=!1),n=t._OrtCreateSessionOptions(c,!!a.enableCpuMemArena,!!a.enableMemPattern,l,!!a.enableProfiling,0,u,a.logSeverityLevel,a.logVerbosityLevel),0===n)throw new Error("Can't create session options");return(null==e?void 0:e.executionProviders)&&((e,t,n)=>{for(const r of t){let t="string"==typeof r?r:r.name;switch(t){case"xnnpack":t="XNNPACK";break;case"wasm":case"cpu":continue;default:throw new Error(`not supported EP: ${t}`)}const s=(0,o.allocWasmString)(t,n);if(0!==(0,i.getInstance)()._OrtAppendExecutionProvider(e,s))throw new Error(`Can't append execution provider: ${t}`)}})(n,e.executionProviders,s),void 0!==(null==e?void 0:e.extra)&&(0,r.iterateExtraOptions)(e.extra,"",new WeakSet,(e,r)=>{const i=(0,o.allocWasmString)(e,s),a=(0,o.allocWasmString)(r,s);if(0!==t._OrtAddSessionConfigEntry(n,i,a))throw new Error(`Can't set a session config entry: ${e} - ${r}`)}),[n,s]}catch(e){throw 0!==n&&t._OrtReleaseSessionOptions(n),s.forEach(t._free),e}}},4983:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.allocWasmString=void 0;const r=n(6361);t.allocWasmString=(e,t)=>{const n=(0,r.getInstance)(),o=n.lengthBytesUTF8(e)+1,i=n._malloc(o);return n.stringToUTF8(e,i,o),t.push(i),i}},349:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.extractTransferableBuffers=t.endProfiling=t.run=t.releaseSession=t.createSession=t.createSessionFinalize=t.createSessionAllocate=t.initOrt=void 0;const r=n(586),o=n(4919),i=n(4983),s=n(6361);t.initOrt=(e,t)=>{const n=(0,s.getInstance)()._OrtInit(e,t);if(0!==n)throw new Error(`Can't initialize onnxruntime. error code = ${n}`)};const a=new Map;t.createSessionAllocate=e=>{const t=(0,s.getInstance)(),n=t._malloc(e.byteLength);return t.HEAPU8.set(e,n),[n,e.byteLength]},t.createSessionFinalize=(e,t)=>{const n=(0,s.getInstance)();let r=0,i=0,c=[];try{if([i,c]=(0,o.setSessionOptions)(t),r=n._OrtCreateSession(e[0],e[1],i),0===r)throw new Error("Can't create a session")}finally{n._free(e[0]),n._OrtReleaseSessionOptions(i),c.forEach(n._free)}const l=n._OrtGetInputCount(r),u=n._OrtGetOutputCount(r),d=[],f=[],h=[],p=[];for(let e=0;e<l;e++){const t=n._OrtGetInputName(r,e);if(0===t)throw new Error("Can't get an input name");f.push(t),d.push(n.UTF8ToString(t))}for(let e=0;e<u;e++){const t=n._OrtGetOutputName(r,e);if(0===t)throw new Error("Can't get an output name");p.push(t),h.push(n.UTF8ToString(t))}return a.set(r,[r,f,p]),[r,d,h]},t.createSession=(e,n)=>{const r=(0,t.createSessionAllocate)(e);return(0,t.createSessionFinalize)(r,n)},t.releaseSession=e=>{const t=(0,s.getInstance)(),n=a.get(e);if(!n)throw new Error("invalid session id");const r=n[0],o=n[1],i=n[2];o.forEach(t._OrtFree),i.forEach(t._OrtFree),t._OrtReleaseSession(r),a.delete(e)};const c=e=>{switch(e){case"int8":return 3;case"uint8":return 2;case"bool":return 9;case"int16":return 5;case"uint16":return 4;case"int32":return 6;case"uint32":return 12;case"float32":return 1;case"float64":return 11;case"string":return 8;case"int64":return 7;case"uint64":return 13;default:throw new Error(`unsupported data type: ${e}`)}},l=e=>{switch(e){case 3:return"int8";case 2:return"uint8";case 9:return"bool";case 5:return"int16";case 4:return"uint16";case 6:return"int32";case 12:return"uint32";case 1:return"float32";case 11:return"float64";case 8:return"string";case 7:return"int64";case 13:return"uint64";default:throw new Error(`unsupported data type: ${e}`)}},u=e=>{switch(e){case"float32":return Float32Array;case"uint8":case"bool":return Uint8Array;case"int8":return Int8Array;case"uint16":return Uint16Array;case"int16":return Int16Array;case"int32":return Int32Array;case"float64":return Float64Array;case"uint32":return Uint32Array;case"int64":return BigInt64Array;case"uint64":return BigUint64Array;default:throw new Error(`unsupported type: ${e}`)}};t.run=(e,t,n,o,d)=>{const f=(0,s.getInstance)(),h=a.get(e);if(!h)throw new Error("invalid session id");const p=h[0],g=h[1],m=h[2],y=t.length,b=o.length;let v=0,_=[];const w=[],S=[];try{[v,_]=(0,r.setRunOptions)(d);for(let e=0;e<y;e++){const t=n[e][0],r=n[e][1],o=n[e][2];let s,a;if(Array.isArray(o)){a=4*o.length,s=f._malloc(a),S.push(s);let e=s/4;for(let t=0;t<o.length;t++){if("string"!=typeof o[t])throw new TypeError(`tensor data at index ${t} is not a string`);f.HEAPU32[e++]=(0,i.allocWasmString)(o[t],S)}}else a=o.byteLength,s=f._malloc(a),S.push(s),f.HEAPU8.set(new Uint8Array(o.buffer,o.byteOffset,a),s);const l=f.stackSave(),u=f.stackAlloc(4*r.length);try{let e=u/4;r.forEach(t=>f.HEAP32[e++]=t);const n=f._OrtCreateTensor(c(t),s,a,u,r.length);if(0===n)throw new Error("Can't create a tensor");w.push(n)}finally{f.stackRestore(l)}}const e=f.stackSave(),s=f.stackAlloc(4*y),a=f.stackAlloc(4*y),h=f.stackAlloc(4*b),x=f.stackAlloc(4*b);try{let e=s/4,n=a/4,r=h/4,i=x/4;for(let r=0;r<y;r++)f.HEAPU32[e++]=w[r],f.HEAPU32[n++]=g[t[r]];for(let e=0;e<b;e++)f.HEAPU32[r++]=0,f.HEAPU32[i++]=m[o[e]];let c=f._OrtRun(p,a,s,y,x,b,h,v);const d=[];if(0===c)for(let e=0;e<b;e++){const t=f.HEAPU32[h/4+e],n=f.stackSave(),r=f.stackAlloc(16);let o,i=0;try{if(c=f._OrtGetTensorData(t,r,r+4,r+8,r+12),0!==c)throw new Error(`Can't access output tensor data. error code = ${c}`);let e=r/4;const n=f.HEAPU32[e++];i=f.HEAPU32[e++];const s=f.HEAPU32[e++],a=f.HEAPU32[e++],h=[];for(let e=0;e<a;e++)h.push(f.HEAPU32[s/4+e]);f._OrtFree(s);const p=0===h.length?1:h.reduce((e,t)=>e*t);if(o=l(n),"string"===o){const e=[];let t=i/4;for(let n=0;n<p;n++){const r=f.HEAPU32[t++],o=n===p-1?void 0:f.HEAPU32[t]-r;e.push(f.UTF8ToString(r,o))}d.push([o,h,e])}else{const e=new(u(o))(p);new Uint8Array(e.buffer,e.byteOffset,e.byteLength).set(f.HEAPU8.subarray(i,i+e.byteLength)),d.push([o,h,e])}}finally{f.stackRestore(n),"string"===o&&i&&f._free(i),f._OrtReleaseTensor(t)}}if(0===c)return d;throw new Error(`failed to call OrtRun(). error code = ${c}.`)}finally{f.stackRestore(e)}}finally{w.forEach(f._OrtReleaseTensor),S.forEach(f._free),f._OrtReleaseRunOptions(v),_.forEach(f._free)}},t.endProfiling=e=>{const t=(0,s.getInstance)(),n=a.get(e);if(!n)throw new Error("invalid session id");const r=n[0],o=t._OrtEndProfiling(r);if(0===o)throw new Error("Can't get an profile file name");t._OrtFree(o)},t.extractTransferableBuffers=e=>{const t=[];for(const n of e){const e=n[2];!Array.isArray(e)&&e.buffer&&t.push(e.buffer)}return t}},6361:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.dispose=t.getInstance=t.initializeWebAssembly=void 0;const a=i(n(6449)),c=s(n(932)),l=n(3474);let u,d=!1,f=!1,h=!1;const p=(e,t)=>t?e?"ort-wasm-simd-threaded.wasm":"ort-wasm-threaded.wasm":e?"ort-wasm-simd.wasm":"ort-wasm.wasm";t.initializeWebAssembly=async e=>{if(d)return Promise.resolve();if(f)throw new Error("multiple calls to 'initializeWebAssembly()' detected.");if(h)throw new Error("previous call to 'initializeWebAssembly()' failed.");f=!0;const t=e.initTimeout,r=e.numThreads,o=e.simd,i=r>1&&(()=>{try{return"undefined"!=typeof SharedArrayBuffer&&("undefined"!=typeof MessageChannel&&(new MessageChannel).port1.postMessage(new SharedArrayBuffer(1)),WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,5,4,1,3,1,1,10,11,1,9,0,65,0,254,16,2,0,26,11])))}catch(e){return!1}})(),s=o&&(()=>{try{return WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,30,1,28,0,65,0,253,15,253,12,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,253,186,1,26,11]))}catch(e){return!1}})(),g="string"==typeof e.wasmPaths?e.wasmPaths:void 0,m=p(!1,i),y=p(s,i),b="object"==typeof e.wasmPaths?e.wasmPaths[y]:void 0;let v=!1;const _=[];if(t>0&&_.push(new Promise(e=>{setTimeout(()=>{v=!0,e()},t)})),_.push(new Promise((e,t)=>{const r=i?l:c.default,o={locateFile:(e,t)=>i&&e.endsWith(".worker.js")&&"undefined"!=typeof Blob?URL.createObjectURL(new Blob([n(4154)],{type:"text/javascript"})):e===m?null!=b?b:(null!=g?g:t)+y:t+e};if(i)if("undefined"==typeof Blob)o.mainScriptUrlOrBlob=a.join("/","ort-wasm-threaded.js");else{const e=`var ortWasmThreaded=(function(){var _scriptDir;return ${r.toString()}})();`;o.mainScriptUrlOrBlob=new Blob([e],{type:"text/javascript"})}r(o).then(t=>{f=!1,d=!0,u=t,e()},e=>{f=!1,h=!0,t(e)})})),await Promise.race(_),v)throw new Error(`WebAssembly backend initializing failed due to timeout: ${t}ms`)},t.getInstance=()=>{if(d&&u)return u;throw new Error("WebAssembly is not initialized yet.")},t.dispose=()=>{var e;!d||f||h||(f=!0,null===(e=u.PThread)||void 0===e||e.terminateAllThreads(),u=void 0,f=!1,d=!1,h=!0)}},9710:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(477),o=n.n(r);function i(){return o()('/*!\n* ONNX Runtime Web v1.14.0\n* Copyright (c) Microsoft Corporation. All rights reserved.\n* Licensed under the MIT License.\n*/\n(()=>{var t={474:(t,e,n)=>{var _scriptDir,r=(_scriptDir=(_scriptDir="undefined"!=typeof document&&document.currentScript?document.currentScript.src:void 0)||"/index.js",function(t){function e(){return j.buffer!=D&&N(j.buffer),P}function r(){return j.buffer!=D&&N(j.buffer),U}function a(){return j.buffer!=D&&N(j.buffer),F}function i(){return j.buffer!=D&&N(j.buffer),I}function o(){return j.buffer!=D&&N(j.buffer),W}var u,c,s;t=t||{},u||(u=void 0!==t?t:{}),u.ready=new Promise((function(t,e){c=t,s=e}));var l,f,p,h,d,y,b=Object.assign({},u),m="./this.program",g=(t,e)=>{throw e},v="object"==typeof window,w="function"==typeof importScripts,_="object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node,O=u.ENVIRONMENT_IS_PTHREAD||!1,A="";function S(t){return u.locateFile?u.locateFile(t,A):A+t}if(_){let e;A=w?n(908).dirname(A)+"/":"//",y=()=>{d||(h=n(384),d=n(908))},l=function(t,e){return y(),t=d.normalize(t),h.readFileSync(t,e?void 0:"utf8")},p=t=>((t=l(t,!0)).buffer||(t=new Uint8Array(t)),t),f=(t,e,n)=>{y(),t=d.normalize(t),h.readFile(t,(function(t,r){t?n(t):e(r.buffer)}))},1<process.argv.length&&(m=process.argv[1].replace(/\\\\/g,"/")),process.argv.slice(2),process.on("uncaughtException",(function(t){if(!(t instanceof ct))throw t})),process.on("unhandledRejection",(function(t){throw t})),g=(t,e)=>{if(Q())throw process.exitCode=t,e;e instanceof ct||x("exiting due to exception: "+e),process.exit(t)},u.inspect=function(){return"[Emscripten Module object]"};try{e=n(925)}catch(t){throw console.error(\'The "worker_threads" module is not supported in this node.js build - perhaps a newer version is needed?\'),t}n.g.Worker=e.Worker}else(v||w)&&(w?A=self.location.href:"undefined"!=typeof document&&document.currentScript&&(A=document.currentScript.src),_scriptDir&&(A=_scriptDir),A=0!==A.indexOf("blob:")?A.substr(0,A.replace(/[?#].*/,"").lastIndexOf("/")+1):"",_||(l=t=>{var e=new XMLHttpRequest;return e.open("GET",t,!1),e.send(null),e.responseText},w&&(p=t=>{var e=new XMLHttpRequest;return e.open("GET",t,!1),e.responseType="arraybuffer",e.send(null),new Uint8Array(e.response)}),f=(t,e,n)=>{var r=new XMLHttpRequest;r.open("GET",t,!0),r.responseType="arraybuffer",r.onload=()=>{200==r.status||0==r.status&&r.response?e(r.response):n()},r.onerror=n,r.send(null)}));_&&"undefined"==typeof performance&&(n.g.performance=n(953).performance);var T=console.log.bind(console),E=console.warn.bind(console);_&&(y(),T=t=>h.writeSync(1,t+"\\n"),E=t=>h.writeSync(2,t+"\\n"));var M,C=u.print||T,x=u.printErr||E;Object.assign(u,b),b=null,u.thisProgram&&(m=u.thisProgram),u.quit&&(g=u.quit),u.wasmBinary&&(M=u.wasmBinary);var R=u.noExitRuntime||!1;"object"!=typeof WebAssembly&&at("no native wasm support detected");var j,k,D,P,U,F,I,W,H=!1,L="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0;function z(t,e,n){var r=(e>>>=0)+n;for(n=e;t[n]&&!(n>=r);)++n;if(16<n-e&&t.buffer&&L)return L.decode(t.buffer instanceof SharedArrayBuffer?t.slice(e,n):t.subarray(e,n));for(r="";e<n;){var a=t[e++];if(128&a){var i=63&t[e++];if(192==(224&a))r+=String.fromCharCode((31&a)<<6|i);else{var o=63&t[e++];65536>(a=224==(240&a)?(15&a)<<12|i<<6|o:(7&a)<<18|i<<12|o<<6|63&t[e++])?r+=String.fromCharCode(a):(a-=65536,r+=String.fromCharCode(55296|a>>10,56320|1023&a))}}else r+=String.fromCharCode(a)}return r}function Y(t,e){return(t>>>=0)?z(r(),t,e):""}function B(t,e,n,r){if(!(0<r))return 0;var a=n>>>=0;r=n+r-1;for(var i=0;i<t.length;++i){var o=t.charCodeAt(i);if(55296<=o&&57343>=o&&(o=65536+((1023&o)<<10)|1023&t.charCodeAt(++i)),127>=o){if(n>=r)break;e[n++>>>0]=o}else{if(2047>=o){if(n+1>=r)break;e[n++>>>0]=192|o>>6}else{if(65535>=o){if(n+2>=r)break;e[n++>>>0]=224|o>>12}else{if(n+3>=r)break;e[n++>>>0]=240|o>>18,e[n++>>>0]=128|o>>12&63}e[n++>>>0]=128|o>>6&63}e[n++>>>0]=128|63&o}}return e[n>>>0]=0,n-a}function G(t){for(var e=0,n=0;n<t.length;++n){var r=t.charCodeAt(n);127>=r?e++:2047>=r?e+=2:55296<=r&&57343>=r?(e+=4,++n):e+=3}return e}function N(t){D=t,u.HEAP8=P=new Int8Array(t),u.HEAP16=new Int16Array(t),u.HEAP32=F=new Int32Array(t),u.HEAPU8=U=new Uint8Array(t),u.HEAPU16=new Uint16Array(t),u.HEAPU32=I=new Uint32Array(t),u.HEAPF32=new Float32Array(t),u.HEAPF64=W=new Float64Array(t)}O&&(D=u.buffer);var V=u.INITIAL_MEMORY||16777216;if(O)j=u.wasmMemory,D=u.buffer;else if(u.wasmMemory)j=u.wasmMemory;else if(!((j=new WebAssembly.Memory({initial:V/65536,maximum:65536,shared:!0})).buffer instanceof SharedArrayBuffer))throw x("requested a shared WebAssembly.Memory but the returned buffer is not a SharedArrayBuffer, indicating that while the browser has SharedArrayBuffer it does not have WebAssembly threads support - you may need to set a flag"),_&&console.log("(on node you may need: --experimental-wasm-threads --experimental-wasm-bulk-memory and also use a recent version)"),Error("bad memory");j&&(D=j.buffer),V=D.byteLength,N(D);var $,q=[],X=[],J=[],Z=[];function Q(){return R||!1}function K(){var t=u.preRun.shift();q.unshift(t)}var tt,et=0,nt=null,rt=null;function at(t){throw O?postMessage({cmd:"onAbort",arg:t}):u.onAbort&&u.onAbort(t),x(t="Aborted("+t+")"),H=!0,t=new WebAssembly.RuntimeError(t+". Build with -sASSERTIONS for more info."),s(t),t}function it(){return tt.startsWith("data:application/octet-stream;base64,")}function ot(){var t=tt;try{if(t==tt&&M)return new Uint8Array(M);if(p)return p(t);throw"both async and sync fetching of the wasm failed"}catch(t){at(t)}}tt="ort-wasm-threaded.wasm",it()||(tt=S(tt));var ut={};function ct(t){this.name="ExitStatus",this.message="Program terminated with exit("+t+")",this.status=t}function st(t){(t=ht.Vb[t])||at(),ht.mc(t)}function lt(t){var e=ht.Cc();if(!e)return 6;ht.ac.push(e),ht.Vb[t.Ub]=e,e.Ub=t.Ub;var n={cmd:"run",start_routine:t.Ic,arg:t.zc,pthread_ptr:t.Ub};return e.$b=()=>{n.time=performance.now(),e.postMessage(n,t.Nc)},e.loaded&&(e.$b(),delete e.$b),0}function ft(t){if(O)return $t(1,1,t);Q()||(ht.oc(),u.onExit&&u.onExit(t),H=!0),g(t,new ct(t))}function pt(t,e){if(!e&&O)throw bt(t),"unwind";Q()||O||(me(),dt(J),be(0),re[1].length&&ae(1,10),re[2].length&&ae(2,10),ht.oc()),ft(t)}var ht={Yb:[],ac:[],qc:[],Vb:{},fc:function(){O&&ht.Ec()},Pc:function(){},Ec:function(){ht.receiveObjectTransfer=ht.Gc,ht.threadInitTLS=ht.pc,ht.setExitStatus=ht.nc,R=!1},nc:function(){},oc:function(){for(var t of Object.values(ht.Vb))ht.mc(t);for(t of ht.Yb)t.terminate();ht.Yb=[]},mc:function(t){var e=t.Ub;delete ht.Vb[e],ht.Yb.push(t),ht.ac.splice(ht.ac.indexOf(t),1),t.Ub=0,Oe(e)},Gc:function(){},pc:function(){ht.qc.forEach((t=>t()))},Fc:function(t,e){t.onmessage=n=>{var r=(n=n.data).cmd;if(t.Ub&&(ht.Bc=t.Ub),n.targetThread&&n.targetThread!=he()){var a=ht.Vb[n.Qc];a?a.postMessage(n,n.transferList):x(\'Internal error! Worker sent a message "\'+r+\'" to target pthread \'+n.targetThread+", but that thread no longer exists!")}else"processProxyingQueue"===r?zt(n.queue):"spawnThread"===r?lt(n):"cleanupThread"===r?st(n.thread):"killThread"===r?(n=n.thread,r=ht.Vb[n],delete ht.Vb[n],r.terminate(),Oe(n),ht.ac.splice(ht.ac.indexOf(r),1),r.Ub=0):"cancelThread"===r?ht.Vb[n.thread].postMessage({cmd:"cancel"}):"loaded"===r?(t.loaded=!0,e&&e(t),t.$b&&(t.$b(),delete t.$b)):"print"===r?C("Thread "+n.threadId+": "+n.text):"printErr"===r?x("Thread "+n.threadId+": "+n.text):"alert"===r?alert("Thread "+n.threadId+": "+n.text):"setimmediate"===n.target?t.postMessage(n):"onAbort"===r?u.onAbort&&u.onAbort(n.arg):r&&x("worker sent an unknown command "+r);ht.Bc=void 0},t.onerror=t=>{throw x("worker sent an error! "+t.filename+":"+t.lineno+": "+t.message),t},_&&(t.on("message",(function(e){t.onmessage({data:e})})),t.on("error",(function(e){t.onerror(e)})),t.on("detachedExit",(function(){}))),t.postMessage({cmd:"load",urlOrBlob:u.mainScriptUrlOrBlob||_scriptDir,wasmMemory:j,wasmModule:k})},yc:function(){var t=S("ort-wasm-threaded.worker.js");ht.Yb.push(new Worker(t))},Cc:function(){return 0==ht.Yb.length&&(ht.yc(),ht.Fc(ht.Yb[0])),ht.Yb.pop()}};function dt(t){for(;0<t.length;)t.shift()(u)}function yt(t){var e=Ee();return t=t(),Me(e),t}function bt(t){if(O)return $t(2,0,t);try{pt(t)}catch(t){t instanceof ct||"unwind"==t||g(1,t)}}u.PThread=ht,u.establishStackSpace=function(){var t=he(),e=a()[t+44>>2>>>0];t=a()[t+48>>2>>>0],Te(e,e-t),Me(e)};var mt=[];function gt(t){var e=mt[t];return e||(t>=mt.length&&(mt.length=t+1),mt[t]=e=$.get(t)),e}u.invokeEntryPoint=function(t,e){t=gt(t)(e),Q()?ht.nc(t):Ae(t)};var vt,wt,_t=[],Ot=0,At=0;function St(t){this.Zb=t,this.Sb=t-24,this.xc=function(t){i()[this.Sb+4>>2>>>0]=t},this.bc=function(){return i()[this.Sb+4>>2>>>0]},this.wc=function(t){i()[this.Sb+8>>2>>>0]=t},this.Dc=function(){return i()[this.Sb+8>>2>>>0]},this.rc=function(){a()[this.Sb>>2>>>0]=0},this.hc=function(t){t=t?1:0,e()[this.Sb+12>>0>>>0]=t},this.uc=function(){return 0!=e()[this.Sb+12>>0>>>0]},this.ic=function(t){t=t?1:0,e()[this.Sb+13>>0>>>0]=t},this.kc=function(){return 0!=e()[this.Sb+13>>0>>>0]},this.fc=function(t,e){this.cc(0),this.xc(t),this.wc(e),this.rc(),this.hc(!1),this.ic(!1)},this.sc=function(){Atomics.add(a(),this.Sb>>2,1)},this.Hc=function(){return 1===Atomics.sub(a(),this.Sb>>2,1)},this.cc=function(t){i()[this.Sb+16>>2>>>0]=t},this.tc=function(){return i()[this.Sb+16>>2>>>0]},this.vc=function(){if(Re(this.bc()))return i()[this.Zb>>2>>>0];var t=this.tc();return 0!==t?t:this.Zb}}function Tt(t){return ye(new St(t).Sb)}function Et(t,e,n,r){return O?$t(3,1,t,e,n,r):Mt(t,e,n,r)}function Mt(t,e,n,r){if("undefined"==typeof SharedArrayBuffer)return x("Current environment does not support SharedArrayBuffer, pthreads are not available!"),6;var a=[];return O&&0===a.length?Et(t,e,n,r):(t={Ic:n,Ub:t,zc:r,Nc:a},O?(t.Oc="spawnThread",postMessage(t,a),0):lt(t))}function Ct(t,e,n){return O?$t(4,1,t,e,n):0}function xt(t,e){if(O)return $t(5,1,t,e)}function Rt(t,e){if(O)return $t(6,1,t,e)}function jt(t,e,n){if(O)return $t(7,1,t,e,n)}function kt(t,e,n){return O?$t(8,1,t,e,n):0}function Dt(t,e){if(O)return $t(9,1,t,e)}function Pt(t,e,n){if(O)return $t(10,1,t,e,n)}function Ut(t,e,n,r){if(O)return $t(11,1,t,e,n,r)}function Ft(t,e,n,r){if(O)return $t(12,1,t,e,n,r)}function It(t,e,n,r){if(O)return $t(13,1,t,e,n,r)}function Wt(t){if(O)return $t(14,1,t)}function Ht(t,e){if(O)return $t(15,1,t,e)}function Lt(t,e,n){if(O)return $t(16,1,t,e,n)}function zt(t){Atomics.store(a(),t>>2,1),he()&&_e(t),Atomics.compareExchange(a(),t>>2,1,0)}function Yt(t){return i()[t>>>2]+4294967296*a()[t+4>>>2]}function Bt(t,e,n,r,a,i){return O?$t(17,1,t,e,n,r,a,i):-52}function Gt(t,e,n,r,a,i){if(O)return $t(18,1,t,e,n,r,a,i)}function Nt(t){var n=G(t)+1,r=de(n);return r&&B(t,e(),r,n),r}function Vt(t,e,n){function r(t){return(t=t.toTimeString().match(/\\(([A-Za-z ]+)\\)$/))?t[1]:"GMT"}if(O)return $t(19,1,t,e,n);var o=(new Date).getFullYear(),u=new Date(o,0,1),c=new Date(o,6,1);o=u.getTimezoneOffset();var s=c.getTimezoneOffset(),l=Math.max(o,s);a()[t>>2>>>0]=60*l,a()[e>>2>>>0]=Number(o!=s),t=r(u),e=r(c),t=Nt(t),e=Nt(e),s<o?(i()[n>>2>>>0]=t,i()[n+4>>2>>>0]=e):(i()[n>>2>>>0]=e,i()[n+4>>2>>>0]=t)}function $t(t,e){var n=arguments.length-2,r=arguments;return yt((()=>{for(var a=Ce(8*n),i=a>>3,u=0;u<n;u++){var c=r[2+u];o()[i+u>>>0]=c}return we(t,n,a,e)}))}u.executeNotifiedProxyingQueue=zt,wt=_?()=>{var t=process.hrtime();return 1e3*t[0]+t[1]/1e6}:O?()=>performance.now()-u.__performance_now_clock_drift:()=>performance.now();var qt,Xt=[],Jt={};function Zt(){if(!qt){var t,e={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:m||"./this.program"};for(t in Jt)void 0===Jt[t]?delete e[t]:e[t]=Jt[t];var n=[];for(t in e)n.push(t+"="+e[t]);qt=n}return qt}function Qt(t,n){if(O)return $t(20,1,t,n);var r=0;return Zt().forEach((function(a,o){var u=n+r;for(o=i()[t+4*o>>2>>>0]=u,u=0;u<a.length;++u)e()[o++>>0>>>0]=a.charCodeAt(u);e()[o>>0>>>0]=0,r+=a.length+1})),0}function Kt(t,e){if(O)return $t(21,1,t,e);var n=Zt();i()[t>>2>>>0]=n.length;var r=0;return n.forEach((function(t){r+=t.length+1})),i()[e>>2>>>0]=r,0}function te(t){return O?$t(22,1,t):52}function ee(t,e,n,r){return O?$t(23,1,t,e,n,r):52}function ne(t,e,n,r,a){return O?$t(24,1,t,e,n,r,a):70}var re=[null,[],[]];function ae(t,e){var n=re[t];0===e||10===e?((1===t?C:x)(z(n,0)),n.length=0):n.push(e)}function ie(t,e,n,a){if(O)return $t(25,1,t,e,n,a);for(var o=0,u=0;u<n;u++){var c=i()[e>>2>>>0],s=i()[e+4>>2>>>0];e+=8;for(var l=0;l<s;l++)ae(t,r()[c+l>>>0]);o+=s}return i()[a>>2>>>0]=o,0}var oe=0;function ue(t){return 0==t%4&&(0!=t%100||0==t%400)}var ce=[31,29,31,30,31,30,31,31,30,31,30,31],se=[31,28,31,30,31,30,31,31,30,31,30,31];function le(t,n,r,i){function o(t,e,n){for(t="number"==typeof t?t.toString():t||"";t.length<e;)t=n[0]+t;return t}function u(t,e){return o(t,e,"0")}function c(t,e){function n(t){return 0>t?-1:0<t?1:0}var r;return 0===(r=n(t.getFullYear()-e.getFullYear()))&&0===(r=n(t.getMonth()-e.getMonth()))&&(r=n(t.getDate()-e.getDate())),r}function s(t){switch(t.getDay()){case 0:return new Date(t.getFullYear()-1,11,29);case 1:return t;case 2:return new Date(t.getFullYear(),0,3);case 3:return new Date(t.getFullYear(),0,2);case 4:return new Date(t.getFullYear(),0,1);case 5:return new Date(t.getFullYear()-1,11,31);case 6:return new Date(t.getFullYear()-1,11,30)}}function l(t){var e=t.Wb;for(t=new Date(new Date(t.Xb+1900,0,1).getTime());0<e;){var n=t.getMonth(),r=(ue(t.getFullYear())?ce:se)[n];if(!(e>r-t.getDate())){t.setDate(t.getDate()+e);break}e-=r-t.getDate()+1,t.setDate(1),11>n?t.setMonth(n+1):(t.setMonth(0),t.setFullYear(t.getFullYear()+1))}return n=new Date(t.getFullYear()+1,0,4),e=s(new Date(t.getFullYear(),0,4)),n=s(n),0>=c(e,t)?0>=c(n,t)?t.getFullYear()+1:t.getFullYear():t.getFullYear()-1}var f=a()[i+40>>2>>>0];for(var p in i={Lc:a()[i>>2>>>0],Kc:a()[i+4>>2>>>0],dc:a()[i+8>>2>>>0],jc:a()[i+12>>2>>>0],ec:a()[i+16>>2>>>0],Xb:a()[i+20>>2>>>0],Tb:a()[i+24>>2>>>0],Wb:a()[i+28>>2>>>0],Rc:a()[i+32>>2>>>0],Jc:a()[i+36>>2>>>0],Mc:f?Y(f):""},r=Y(r),f={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"})r=r.replace(new RegExp(p,"g"),f[p]);var h="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),d="January February March April May June July August September October November December".split(" ");for(p in f={"%a":function(t){return h[t.Tb].substring(0,3)},"%A":function(t){return h[t.Tb]},"%b":function(t){return d[t.ec].substring(0,3)},"%B":function(t){return d[t.ec]},"%C":function(t){return u((t.Xb+1900)/100|0,2)},"%d":function(t){return u(t.jc,2)},"%e":function(t){return o(t.jc,2," ")},"%g":function(t){return l(t).toString().substring(2)},"%G":function(t){return l(t)},"%H":function(t){return u(t.dc,2)},"%I":function(t){return 0==(t=t.dc)?t=12:12<t&&(t-=12),u(t,2)},"%j":function(t){for(var e=0,n=0;n<=t.ec-1;e+=(ue(t.Xb+1900)?ce:se)[n++]);return u(t.jc+e,3)},"%m":function(t){return u(t.ec+1,2)},"%M":function(t){return u(t.Kc,2)},"%n":function(){return"\\n"},"%p":function(t){return 0<=t.dc&&12>t.dc?"AM":"PM"},"%S":function(t){return u(t.Lc,2)},"%t":function(){return"\\t"},"%u":function(t){return t.Tb||7},"%U":function(t){return u(Math.floor((t.Wb+7-t.Tb)/7),2)},"%V":function(t){var e=Math.floor((t.Wb+7-(t.Tb+6)%7)/7);if(2>=(t.Tb+371-t.Wb-2)%7&&e++,e)53==e&&(4==(n=(t.Tb+371-t.Wb)%7)||3==n&&ue(t.Xb)||(e=1));else{e=52;var n=(t.Tb+7-t.Wb-1)%7;(4==n||5==n&&ue(t.Xb%400-1))&&e++}return u(e,2)},"%w":function(t){return t.Tb},"%W":function(t){return u(Math.floor((t.Wb+7-(t.Tb+6)%7)/7),2)},"%y":function(t){return(t.Xb+1900).toString().substring(2)},"%Y":function(t){return t.Xb+1900},"%z":function(t){var e=0<=(t=t.Jc);return t=Math.abs(t)/60,(e?"+":"-")+String("0000"+(t/60*100+t%60)).slice(-4)},"%Z":function(t){return t.Mc},"%%":function(){return"%"}},r=r.replace(/%%/g,"\\0\\0"),f)r.includes(p)&&(r=r.replace(new RegExp(p,"g"),f[p](i)));return p=function(t){var e=Array(G(t)+1);return B(t,e,0,e.length),e}(r=r.replace(/\\0\\0/g,"%")),p.length>n?0:(function(t,n){e().set(t,n>>>0)}(p,t),p.length-1)}ht.fc();var fe=[null,ft,bt,Et,Ct,xt,Rt,jt,kt,Dt,Pt,Ut,Ft,It,Wt,Ht,Lt,Bt,Gt,Vt,Qt,Kt,te,ee,ne,ie],pe={b:function(t){return de(t+24)+24},n:function(t){return(t=new St(t)).uc()||(t.hc(!0),Ot--),t.ic(!1),_t.push(t),t.sc(),t.vc()},ma:function(t){throw x("Unexpected exception thrown, this is not properly supported - aborting"),H=!0,t},x:function(){Se(0);var t=_t.pop();if(t.Hc()&&!t.kc()){var e=t.Dc();e&&gt(e)(t.Zb),Tt(t.Zb)}At=0},e:function(){var t=At;if(!t)return oe=0;var e=new St(t);e.cc(t);var n=e.bc();if(!n)return oe=0,t;for(var r=Array.prototype.slice.call(arguments),a=0;a<r.length;a++){var i=r[a];if(0===i||i===n)break;if(xe(i,n,e.Sb+16))return oe=i,t}return oe=n,t},l:function(){var t=At;if(!t)return oe=0;var e=new St(t);e.cc(t);var n=e.bc();if(!n)return oe=0,t;for(var r=Array.prototype.slice.call(arguments),a=0;a<r.length;a++){var i=r[a];if(0===i||i===n)break;if(xe(i,n,e.Sb+16))return oe=i,t}return oe=n,t},h:function(){var t=At;if(!t)return oe=0;var e=new St(t);e.cc(t);var n=e.bc();if(!n)return oe=0,t;for(var r=Array.prototype.slice.call(arguments),a=0;a<r.length;a++){var i=r[a];if(0===i||i===n)break;if(xe(i,n,e.Sb+16))return oe=i,t}return oe=n,t},t:Tt,M:function(){var t=_t.pop();t||at("no exception to throw");var e=t.Zb;throw t.kc()||(_t.push(t),t.ic(!0),t.hc(!1),Ot++),At=e,e},c:function(t,e,n){throw new St(t).fc(e,n),At=t,Ot++,t},pa:function(){return Ot},Fa:function(t){ge(t,!w,1,!v),ht.pc()},T:function(t){O?postMessage({cmd:"cleanupThread",thread:t}):st(t)},xa:Mt,j:function(t){throw At||(At=t),t},H:Ct,Ma:xt,ua:Rt,wa:jt,oa:kt,Ka:Dt,Ca:Pt,Ja:Ut,V:Ft,va:It,sa:Wt,La:Ht,ta:Lt,Ta:function(){},X:function(){at("To use dlopen, you need enable dynamic linking, see https://github.com/emscripten-core/emscripten/wiki/Linking")},Ua:function(){at("To use dlopen, you need enable dynamic linking, see https://github.com/emscripten-core/emscripten/wiki/Linking")},W:function(){return Date.now()},ya:function(){return 2097152},Oa:function(){return!0},za:function(t,e,n,r){if(t==e)setTimeout((()=>zt(r)));else if(O)postMessage({targetThread:t,cmd:"processProxyingQueue",queue:r});else{if(!(t=ht.Vb[t]))return;t.postMessage({cmd:"processProxyingQueue",queue:r})}return 1},Ea:function(){return-1},Pa:function(t,e){t=new Date(1e3*Yt(t)),a()[e>>2>>>0]=t.getUTCSeconds(),a()[e+4>>2>>>0]=t.getUTCMinutes(),a()[e+8>>2>>>0]=t.getUTCHours(),a()[e+12>>2>>>0]=t.getUTCDate(),a()[e+16>>2>>>0]=t.getUTCMonth(),a()[e+20>>2>>>0]=t.getUTCFullYear()-1900,a()[e+24>>2>>>0]=t.getUTCDay(),t=(t.getTime()-Date.UTC(t.getUTCFullYear(),0,1,0,0,0,0))/864e5|0,a()[e+28>>2>>>0]=t},Qa:function(t,e){t=new Date(1e3*Yt(t)),a()[e>>2>>>0]=t.getSeconds(),a()[e+4>>2>>>0]=t.getMinutes(),a()[e+8>>2>>>0]=t.getHours(),a()[e+12>>2>>>0]=t.getDate(),a()[e+16>>2>>>0]=t.getMonth(),a()[e+20>>2>>>0]=t.getFullYear()-1900,a()[e+24>>2>>>0]=t.getDay();var n=new Date(t.getFullYear(),0,1),r=(t.getTime()-n.getTime())/864e5|0;a()[e+28>>2>>>0]=r,a()[e+36>>2>>>0]=-60*t.getTimezoneOffset(),r=new Date(t.getFullYear(),6,1).getTimezoneOffset(),t=0|(r!=(n=n.getTimezoneOffset())&&t.getTimezoneOffset()==Math.min(n,r)),a()[e+32>>2>>>0]=t},Ra:function(t){var e=new Date(a()[t+20>>2>>>0]+1900,a()[t+16>>2>>>0],a()[t+12>>2>>>0],a()[t+8>>2>>>0],a()[t+4>>2>>>0],a()[t>>2>>>0],0),n=a()[t+32>>2>>>0],r=e.getTimezoneOffset(),i=new Date(e.getFullYear(),0,1),o=new Date(e.getFullYear(),6,1).getTimezoneOffset(),u=i.getTimezoneOffset(),c=Math.min(u,o);return 0>n?a()[t+32>>2>>>0]=Number(o!=u&&c==r):0<n!=(c==r)&&(o=Math.max(u,o),e.setTime(e.getTime()+6e4*((0<n?c:o)-r))),a()[t+24>>2>>>0]=e.getDay(),n=(e.getTime()-i.getTime())/864e5|0,a()[t+28>>2>>>0]=n,a()[t>>2>>>0]=e.getSeconds(),a()[t+4>>2>>>0]=e.getMinutes(),a()[t+8>>2>>>0]=e.getHours(),a()[t+12>>2>>>0]=e.getDate(),a()[t+16>>2>>>0]=e.getMonth(),e.getTime()/1e3|0},Aa:Bt,Ba:Gt,Sa:function t(e,n,r){t.Ac||(t.Ac=!0,Vt(e,n,r))},y:function(){at("")},U:function(){if(!_&&!w){var t="Blocking on the main thread is very dangerous, see https://emscripten.org/docs/porting/pthreads.html#blocking-on-the-main-browser-thread";vt||(vt={}),vt[t]||(vt[t]=1,_&&(t="warning: "+t),x(t))}},ra:function(){return 4294901760},B:wt,Ia:function(t,e,n){r().copyWithin(t>>>0,e>>>0,e+n>>>0)},F:function(){return _?n(993).cpus().length:navigator.hardwareConcurrency},Da:function(t,e,n){Xt.length=e,n>>=3;for(var r=0;r<e;r++)Xt[r]=o()[n+r>>>0];return(0>t?ut[-t-1]:fe[t]).apply(null,Xt)},qa:function(t){var e=r().length;if((t>>>=0)<=e||4294901760<t)return!1;for(var n=1;4>=n;n*=2){var a=e*(1+.2/n);a=Math.min(a,t+100663296);var i=Math;a=Math.max(t,a),i=i.min.call(i,4294901760,a+(65536-a%65536)%65536);t:{try{j.grow(i-D.byteLength+65535>>>16),N(j.buffer);var o=1;break t}catch(t){}o=void 0}if(o)return!0}return!1},Na:function(){throw"unwind"},Ga:Qt,Ha:Kt,J:pt,I:te,S:ee,ga:ne,R:ie,d:function(){return oe},na:function t(r,a){t.lc||(t.lc=function(){if("object"==typeof crypto&&"function"==typeof crypto.getRandomValues){var t=new Uint8Array(1);return()=>(crypto.getRandomValues(t),t[0])}if(_)try{var e=n(Object(function(){var t=new Error("Cannot find module \'crypto\'");throw t.code="MODULE_NOT_FOUND",t}()));return()=>e.randomBytes(1)[0]}catch(t){}return()=>at("randomDevice")}());for(var i=0;i<a;i++)e()[r+i>>0>>>0]=t.lc();return 0},ia:function(t,e,n){var r=Ee();try{return gt(t)(e,n)}catch(t){if(Me(r),t!==t+0)throw t;Se(1,0)}},ja:function(t,e,n){var r=Ee();try{return gt(t)(e,n)}catch(t){if(Me(r),t!==t+0)throw t;Se(1,0)}},K:function(t){var e=Ee();try{return gt(t)()}catch(t){if(Me(e),t!==t+0)throw t;Se(1,0)}},f:function(t,e){var n=Ee();try{return gt(t)(e)}catch(t){if(Me(n),t!==t+0)throw t;Se(1,0)}},P:function(t,e,n){var r=Ee();try{return gt(t)(e,n)}catch(t){if(Me(r),t!==t+0)throw t;Se(1,0)}},Q:function(t,e,n){var r=Ee();try{return gt(t)(e,n)}catch(t){if(Me(r),t!==t+0)throw t;Se(1,0)}},k:function(t,e,n){var r=Ee();try{return gt(t)(e,n)}catch(t){if(Me(r),t!==t+0)throw t;Se(1,0)}},p:function(t,e,n,r){var a=Ee();try{return gt(t)(e,n,r)}catch(t){if(Me(a),t!==t+0)throw t;Se(1,0)}},q:function(t,e,n,r,a){var i=Ee();try{return gt(t)(e,n,r,a)}catch(t){if(Me(i),t!==t+0)throw t;Se(1,0)}},N:function(t,e,n,r,a,i){var o=Ee();try{return gt(t)(e,n,r,a,i)}catch(t){if(Me(o),t!==t+0)throw t;Se(1,0)}},s:function(t,e,n,r,a,i){var o=Ee();try{return gt(t)(e,n,r,a,i)}catch(t){if(Me(o),t!==t+0)throw t;Se(1,0)}},w:function(t,e,n,r,a,i,o){var u=Ee();try{return gt(t)(e,n,r,a,i,o)}catch(t){if(Me(u),t!==t+0)throw t;Se(1,0)}},L:function(t,e,n,r,a,i,o,u){var c=Ee();try{return gt(t)(e,n,r,a,i,o,u)}catch(t){if(Me(c),t!==t+0)throw t;Se(1,0)}},E:function(t,e,n,r,a,i,o,u,c,s,l,f){var p=Ee();try{return gt(t)(e,n,r,a,i,o,u,c,s,l,f)}catch(t){if(Me(p),t!==t+0)throw t;Se(1,0)}},aa:function(t,e,n,r,a,i,o,u){var c=Ee();try{return He(t,e,n,r,a,i,o,u)}catch(t){if(Me(c),t!==t+0)throw t;Se(1,0)}},_:function(t,e,n,r,a,i,o){var u=Ee();try{return ke(t,e,n,r,a,i,o)}catch(t){if(Me(u),t!==t+0)throw t;Se(1,0)}},Z:function(t,e,n,r,a){var i=Ee();try{return Le(t,e,n,r,a)}catch(t){if(Me(i),t!==t+0)throw t;Se(1,0)}},ca:function(t,e,n,r){var a=Ee();try{return Ie(t,e,n,r)}catch(t){if(Me(a),t!==t+0)throw t;Se(1,0)}},$:function(t){var e=Ee();try{return je(t)}catch(t){if(Me(e),t!==t+0)throw t;Se(1,0)}},ba:function(t,e){var n=Ee();try{return We(t,e)}catch(t){if(Me(n),t!==t+0)throw t;Se(1,0)}},Y:function(t,e,n){var r=Ee();try{return De(t,e,n)}catch(t){if(Me(r),t!==t+0)throw t;Se(1,0)}},g:function(t){var e=Ee();try{gt(t)()}catch(t){if(Me(e),t!==t+0)throw t;Se(1,0)}},r:function(t,e){var n=Ee();try{gt(t)(e)}catch(t){if(Me(n),t!==t+0)throw t;Se(1,0)}},i:function(t,e,n){var r=Ee();try{gt(t)(e,n)}catch(t){if(Me(r),t!==t+0)throw t;Se(1,0)}},ha:function(t,e,n,r){var a=Ee();try{gt(t)(e,n,r)}catch(t){if(Me(a),t!==t+0)throw t;Se(1,0)}},m:function(t,e,n,r){var a=Ee();try{gt(t)(e,n,r)}catch(t){if(Me(a),t!==t+0)throw t;Se(1,0)}},v:function(t,e,n,r,a){var i=Ee();try{gt(t)(e,n,r,a)}catch(t){if(Me(i),t!==t+0)throw t;Se(1,0)}},u:function(t,e,n,r,a,i){var o=Ee();try{gt(t)(e,n,r,a,i)}catch(t){if(Me(o),t!==t+0)throw t;Se(1,0)}},O:function(t,e,n,r,a,i,o){var u=Ee();try{gt(t)(e,n,r,a,i,o)}catch(t){if(Me(u),t!==t+0)throw t;Se(1,0)}},A:function(t,e,n,r,a,i,o,u){var c=Ee();try{gt(t)(e,n,r,a,i,o,u)}catch(t){if(Me(c),t!==t+0)throw t;Se(1,0)}},ka:function(t,e,n,r,a,i,o,u,c){var s=Ee();try{gt(t)(e,n,r,a,i,o,u,c)}catch(t){if(Me(s),t!==t+0)throw t;Se(1,0)}},C:function(t,e,n,r,a,i,o,u,c,s,l){var f=Ee();try{gt(t)(e,n,r,a,i,o,u,c,s,l)}catch(t){if(Me(f),t!==t+0)throw t;Se(1,0)}},D:function(t,e,n,r,a,i,o,u,c,s,l,f,p,h,d,y){var b=Ee();try{gt(t)(e,n,r,a,i,o,u,c,s,l,f,p,h,d,y)}catch(t){if(Me(b),t!==t+0)throw t;Se(1,0)}},fa:function(t,e,n,r,a,i,o,u){var c=Ee();try{Pe(t,e,n,r,a,i,o,u)}catch(t){if(Me(c),t!==t+0)throw t;Se(1,0)}},da:function(t,e,n,r,a,i,o,u,c,s,l,f){var p=Ee();try{Fe(t,e,n,r,a,i,o,u,c,s,l,f)}catch(t){if(Me(p),t!==t+0)throw t;Se(1,0)}},ea:function(t,e,n,r,a,i){var o=Ee();try{Ue(t,e,n,r,a,i)}catch(t){if(Me(o),t!==t+0)throw t;Se(1,0)}},o:function(t){return t},a:j||u.wasmMemory,G:function(t){oe=t},la:le,z:function(t,e,n,r){return le(t,e,n,r)}};!function(){function t(t,e){u.asm=t.exports,ht.qc.push(u.asm.sb),$=u.asm.ub,X.unshift(u.asm.Va),k=e,O||(et--,u.monitorRunDependencies&&u.monitorRunDependencies(et),0==et&&(null!==nt&&(clearInterval(nt),nt=null),rt&&(t=rt,rt=null,t())))}function e(e){t(e.instance,e.module)}function n(t){return function(){if(!M&&(v||w)){if("function"==typeof fetch&&!tt.startsWith("file://"))return fetch(tt,{credentials:"same-origin"}).then((function(t){if(!t.ok)throw"failed to load wasm binary file at \'"+tt+"\'";return t.arrayBuffer()})).catch((function(){return ot()}));if(f)return new Promise((function(t,e){f(tt,(function(e){t(new Uint8Array(e))}),e)}))}return Promise.resolve().then((function(){return ot()}))}().then((function(t){return WebAssembly.instantiate(t,r)})).then((function(t){return t})).then(t,(function(t){x("failed to asynchronously prepare wasm: "+t),at(t)}))}var r={a:pe};if(O||(et++,u.monitorRunDependencies&&u.monitorRunDependencies(et)),u.instantiateWasm)try{return u.instantiateWasm(r,t)}catch(t){return x("Module.instantiateWasm callback failed with error: "+t),!1}(M||"function"!=typeof WebAssembly.instantiateStreaming||it()||tt.startsWith("file://")||_||"function"!=typeof fetch?n(e):fetch(tt,{credentials:"same-origin"}).then((function(t){return WebAssembly.instantiateStreaming(t,r).then(e,(function(t){return x("wasm streaming compile failed: "+t),x("falling back to ArrayBuffer instantiation"),n(e)}))}))).catch(s)}(),u.___wasm_call_ctors=function(){return(u.___wasm_call_ctors=u.asm.Va).apply(null,arguments)},u._OrtInit=function(){return(u._OrtInit=u.asm.Wa).apply(null,arguments)},u._OrtCreateSessionOptions=function(){return(u._OrtCreateSessionOptions=u.asm.Xa).apply(null,arguments)},u._OrtAppendExecutionProvider=function(){return(u._OrtAppendExecutionProvider=u.asm.Ya).apply(null,arguments)},u._OrtAddSessionConfigEntry=function(){return(u._OrtAddSessionConfigEntry=u.asm.Za).apply(null,arguments)},u._OrtReleaseSessionOptions=function(){return(u._OrtReleaseSessionOptions=u.asm._a).apply(null,arguments)},u._OrtCreateSession=function(){return(u._OrtCreateSession=u.asm.$a).apply(null,arguments)},u._OrtReleaseSession=function(){return(u._OrtReleaseSession=u.asm.ab).apply(null,arguments)},u._OrtGetInputCount=function(){return(u._OrtGetInputCount=u.asm.bb).apply(null,arguments)},u._OrtGetOutputCount=function(){return(u._OrtGetOutputCount=u.asm.cb).apply(null,arguments)},u._OrtGetInputName=function(){return(u._OrtGetInputName=u.asm.db).apply(null,arguments)},u._OrtGetOutputName=function(){return(u._OrtGetOutputName=u.asm.eb).apply(null,arguments)},u._OrtFree=function(){return(u._OrtFree=u.asm.fb).apply(null,arguments)},u._OrtCreateTensor=function(){return(u._OrtCreateTensor=u.asm.gb).apply(null,arguments)},u._OrtGetTensorData=function(){return(u._OrtGetTensorData=u.asm.hb).apply(null,arguments)},u._OrtReleaseTensor=function(){return(u._OrtReleaseTensor=u.asm.ib).apply(null,arguments)},u._OrtCreateRunOptions=function(){return(u._OrtCreateRunOptions=u.asm.jb).apply(null,arguments)},u._OrtAddRunConfigEntry=function(){return(u._OrtAddRunConfigEntry=u.asm.kb).apply(null,arguments)},u._OrtReleaseRunOptions=function(){return(u._OrtReleaseRunOptions=u.asm.lb).apply(null,arguments)},u._OrtRun=function(){return(u._OrtRun=u.asm.mb).apply(null,arguments)},u._OrtEndProfiling=function(){return(u._OrtEndProfiling=u.asm.nb).apply(null,arguments)};var he=u._pthread_self=function(){return(he=u._pthread_self=u.asm.ob).apply(null,arguments)},de=u._malloc=function(){return(de=u._malloc=u.asm.pb).apply(null,arguments)},ye=u._free=function(){return(ye=u._free=u.asm.qb).apply(null,arguments)},be=u._fflush=function(){return(be=u._fflush=u.asm.rb).apply(null,arguments)};u.__emscripten_tls_init=function(){return(u.__emscripten_tls_init=u.asm.sb).apply(null,arguments)};var me=u.___funcs_on_exit=function(){return(me=u.___funcs_on_exit=u.asm.tb).apply(null,arguments)},ge=u.__emscripten_thread_init=function(){return(ge=u.__emscripten_thread_init=u.asm.vb).apply(null,arguments)};u.__emscripten_thread_crashed=function(){return(u.__emscripten_thread_crashed=u.asm.wb).apply(null,arguments)};var ve,we=u._emscripten_run_in_main_runtime_thread_js=function(){return(we=u._emscripten_run_in_main_runtime_thread_js=u.asm.xb).apply(null,arguments)},_e=u.__emscripten_proxy_execute_task_queue=function(){return(_e=u.__emscripten_proxy_execute_task_queue=u.asm.yb).apply(null,arguments)},Oe=u.__emscripten_thread_free_data=function(){return(Oe=u.__emscripten_thread_free_data=u.asm.zb).apply(null,arguments)},Ae=u.__emscripten_thread_exit=function(){return(Ae=u.__emscripten_thread_exit=u.asm.Ab).apply(null,arguments)},Se=u._setThrew=function(){return(Se=u._setThrew=u.asm.Bb).apply(null,arguments)},Te=u._emscripten_stack_set_limits=function(){return(Te=u._emscripten_stack_set_limits=u.asm.Cb).apply(null,arguments)},Ee=u.stackSave=function(){return(Ee=u.stackSave=u.asm.Db).apply(null,arguments)},Me=u.stackRestore=function(){return(Me=u.stackRestore=u.asm.Eb).apply(null,arguments)},Ce=u.stackAlloc=function(){return(Ce=u.stackAlloc=u.asm.Fb).apply(null,arguments)},xe=u.___cxa_can_catch=function(){return(xe=u.___cxa_can_catch=u.asm.Gb).apply(null,arguments)},Re=u.___cxa_is_pointer_type=function(){return(Re=u.___cxa_is_pointer_type=u.asm.Hb).apply(null,arguments)},je=u.dynCall_j=function(){return(je=u.dynCall_j=u.asm.Ib).apply(null,arguments)},ke=u.dynCall_iiiiij=function(){return(ke=u.dynCall_iiiiij=u.asm.Jb).apply(null,arguments)},De=u.dynCall_jii=function(){return(De=u.dynCall_jii=u.asm.Kb).apply(null,arguments)},Pe=u.dynCall_viiiiij=function(){return(Pe=u.dynCall_viiiiij=u.asm.Lb).apply(null,arguments)},Ue=u.dynCall_vjji=function(){return(Ue=u.dynCall_vjji=u.asm.Mb).apply(null,arguments)},Fe=u.dynCall_viiijjjii=function(){return(Fe=u.dynCall_viiijjjii=u.asm.Nb).apply(null,arguments)},Ie=u.dynCall_iij=function(){return(Ie=u.dynCall_iij=u.asm.Ob).apply(null,arguments)},We=u.dynCall_ji=function(){return(We=u.dynCall_ji=u.asm.Pb).apply(null,arguments)},He=u.dynCall_iiiiiij=function(){return(He=u.dynCall_iiiiiij=u.asm.Qb).apply(null,arguments)},Le=u.dynCall_iiij=function(){return(Le=u.dynCall_iiij=u.asm.Rb).apply(null,arguments)};function ze(){function t(){if(!ve&&(ve=!0,u.calledRun=!0,!H)&&(O||dt(X),c(u),u.onRuntimeInitialized&&u.onRuntimeInitialized(),!O)){if(u.postRun)for("function"==typeof u.postRun&&(u.postRun=[u.postRun]);u.postRun.length;){var t=u.postRun.shift();Z.unshift(t)}dt(Z)}}if(!(0<et))if(O)c(u),O||dt(X),postMessage({cmd:"loaded"});else{if(u.preRun)for("function"==typeof u.preRun&&(u.preRun=[u.preRun]);u.preRun.length;)K();dt(q),0<et||(u.setStatus?(u.setStatus("Running..."),setTimeout((function(){setTimeout((function(){u.setStatus("")}),1),t()}),1)):t())}}if(u.UTF8ToString=Y,u.stringToUTF8=function(t,e,n){return B(t,r(),e,n)},u.lengthBytesUTF8=G,u.keepRuntimeAlive=Q,u.wasmMemory=j,u.stackSave=Ee,u.stackRestore=Me,u.stackAlloc=Ce,u.ExitStatus=ct,u.PThread=ht,rt=function t(){ve||ze(),ve||(rt=t)},u.preInit)for("function"==typeof u.preInit&&(u.preInit=[u.preInit]);0<u.preInit.length;)u.preInit.pop()();return ze(),t.ready});t.exports=r},932:(t,e,n)=>{var _scriptDir,r=(_scriptDir=(_scriptDir="undefined"!=typeof document&&document.currentScript?document.currentScript.src:void 0)||"/index.js",function(t){var e,r,a;t=t||{},e||(e=void 0!==t?t:{}),e.ready=new Promise((function(t,e){r=t,a=e}));var i,o,u,c,s,l,f=Object.assign({},e),p="./this.program",h=(t,e)=>{throw e},d="object"==typeof window,y="function"==typeof importScripts,b="object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node,m="";b?(m=y?n(908).dirname(m)+"/":"//",l=()=>{s||(c=n(384),s=n(908))},i=function(t,e){return l(),t=s.normalize(t),c.readFileSync(t,e?void 0:"utf8")},u=t=>((t=i(t,!0)).buffer||(t=new Uint8Array(t)),t),o=(t,e,n)=>{l(),t=s.normalize(t),c.readFile(t,(function(t,r){t?n(t):e(r.buffer)}))},1<process.argv.length&&(p=process.argv[1].replace(/\\\\/g,"/")),process.argv.slice(2),process.on("uncaughtException",(function(t){if(!(t instanceof J))throw t})),process.on("unhandledRejection",(function(t){throw t})),h=(t,e)=>{if(_||0<L)throw process.exitCode=t,e;e instanceof J||w("exiting due to exception: "+e),process.exit(t)},e.inspect=function(){return"[Emscripten Module object]"}):(d||y)&&(y?m=self.location.href:"undefined"!=typeof document&&document.currentScript&&(m=document.currentScript.src),_scriptDir&&(m=_scriptDir),m=0!==m.indexOf("blob:")?m.substr(0,m.replace(/[?#].*/,"").lastIndexOf("/")+1):"",i=t=>{var e=new XMLHttpRequest;return e.open("GET",t,!1),e.send(null),e.responseText},y&&(u=t=>{var e=new XMLHttpRequest;return e.open("GET",t,!1),e.responseType="arraybuffer",e.send(null),new Uint8Array(e.response)}),o=(t,e,n)=>{var r=new XMLHttpRequest;r.open("GET",t,!0),r.responseType="arraybuffer",r.onload=()=>{200==r.status||0==r.status&&r.response?e(r.response):n()},r.onerror=n,r.send(null)});var g,v=e.print||console.log.bind(console),w=e.printErr||console.warn.bind(console);Object.assign(e,f),f=null,e.thisProgram&&(p=e.thisProgram),e.quit&&(h=e.quit),e.wasmBinary&&(g=e.wasmBinary);var _=e.noExitRuntime||!1;"object"!=typeof WebAssembly&&V("no native wasm support detected");var O,A,S,T,E,M,C=!1,x="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0;function R(t,e,n){var r=(e>>>=0)+n;for(n=e;t[n]&&!(n>=r);)++n;if(16<n-e&&t.buffer&&x)return x.decode(t.subarray(e,n));for(r="";e<n;){var a=t[e++];if(128&a){var i=63&t[e++];if(192==(224&a))r+=String.fromCharCode((31&a)<<6|i);else{var o=63&t[e++];65536>(a=224==(240&a)?(15&a)<<12|i<<6|o:(7&a)<<18|i<<12|o<<6|63&t[e++])?r+=String.fromCharCode(a):(a-=65536,r+=String.fromCharCode(55296|a>>10,56320|1023&a))}}else r+=String.fromCharCode(a)}return r}function j(t,e){return(t>>>=0)?R(T,t,e):""}function k(t,e,n,r){if(!(0<r))return 0;var a=n>>>=0;r=n+r-1;for(var i=0;i<t.length;++i){var o=t.charCodeAt(i);if(55296<=o&&57343>=o&&(o=65536+((1023&o)<<10)|1023&t.charCodeAt(++i)),127>=o){if(n>=r)break;e[n++>>>0]=o}else{if(2047>=o){if(n+1>=r)break;e[n++>>>0]=192|o>>6}else{if(65535>=o){if(n+2>=r)break;e[n++>>>0]=224|o>>12}else{if(n+3>=r)break;e[n++>>>0]=240|o>>18,e[n++>>>0]=128|o>>12&63}e[n++>>>0]=128|o>>6&63}e[n++>>>0]=128|63&o}}return e[n>>>0]=0,n-a}function D(t){for(var e=0,n=0;n<t.length;++n){var r=t.charCodeAt(n);127>=r?e++:2047>=r?e+=2:55296<=r&&57343>=r?(e+=4,++n):e+=3}return e}function P(){var t=O.buffer;A=t,e.HEAP8=S=new Int8Array(t),e.HEAP16=new Int16Array(t),e.HEAP32=E=new Int32Array(t),e.HEAPU8=T=new Uint8Array(t),e.HEAPU16=new Uint16Array(t),e.HEAPU32=M=new Uint32Array(t),e.HEAPF32=new Float32Array(t),e.HEAPF64=new Float64Array(t)}var U,F=[],I=[],W=[],H=[],L=0;function z(){var t=e.preRun.shift();F.unshift(t)}var Y,B=0,G=null,N=null;function V(t){throw e.onAbort&&e.onAbort(t),w(t="Aborted("+t+")"),C=!0,t=new WebAssembly.RuntimeError(t+". Build with -sASSERTIONS for more info."),a(t),t}function $(){return Y.startsWith("data:application/octet-stream;base64,")}if(Y="ort-wasm.wasm",!$()){var q=Y;Y=e.locateFile?e.locateFile(q,m):m+q}function X(){var t=Y;try{if(t==Y&&g)return new Uint8Array(g);if(u)return u(t);throw"both async and sync fetching of the wasm failed"}catch(t){V(t)}}function J(t){this.name="ExitStatus",this.message="Program terminated with exit("+t+")",this.status=t}function Z(t){for(;0<t.length;)t.shift()(e)}var Q=[],K=0,tt=0;function et(t){this.Db=t,this.zb=t-24,this.Ub=function(t){M[this.zb+4>>2>>>0]=t},this.Eb=function(){return M[this.zb+4>>2>>>0]},this.Sb=function(t){M[this.zb+8>>2>>>0]=t},this.Wb=function(){return M[this.zb+8>>2>>>0]},this.Tb=function(){E[this.zb>>2>>>0]=0},this.Ib=function(t){S[this.zb+12>>0>>>0]=t?1:0},this.Pb=function(){return 0!=S[this.zb+12>>0>>>0]},this.Jb=function(t){S[this.zb+13>>0>>>0]=t?1:0},this.Lb=function(){return 0!=S[this.zb+13>>0>>>0]},this.Rb=function(t,e){this.Fb(0),this.Ub(t),this.Sb(e),this.Tb(),this.Ib(!1),this.Jb(!1)},this.Nb=function(){E[this.zb>>2>>>0]+=1},this.Xb=function(){var t=E[this.zb>>2>>>0];return E[this.zb>>2>>>0]=t-1,1===t},this.Fb=function(t){M[this.zb+16>>2>>>0]=t},this.Ob=function(){return M[this.zb+16>>2>>>0]},this.Qb=function(){if(Mt(this.Eb()))return M[this.Db>>2>>>0];var t=this.Ob();return 0!==t?t:this.Db}}function nt(t){return vt(new et(t).zb)}var rt=[];function at(t){var e=rt[t];return e||(t>=rt.length&&(rt.length=t+1),rt[t]=e=U.get(t)),e}function it(t){var e=D(t)+1,n=gt(e);return n&&k(t,S,n,e),n}var ot={};function ut(){if(!ct){var t,e={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:p||"./this.program"};for(t in ot)void 0===ot[t]?delete e[t]:e[t]=ot[t];var n=[];for(t in e)n.push(t+"="+e[t]);ct=n}return ct}var ct,st=[null,[],[]];function lt(t,e){var n=st[t];0===e||10===e?((1===t?v:w)(R(n,0)),n.length=0):n.push(e)}var ft=0;function pt(t){return 0==t%4&&(0!=t%100||0==t%400)}var ht=[31,29,31,30,31,30,31,31,30,31,30,31],dt=[31,28,31,30,31,30,31,31,30,31,30,31];function yt(t,e,n,r){function a(t,e,n){for(t="number"==typeof t?t.toString():t||"";t.length<e;)t=n[0]+t;return t}function i(t,e){return a(t,e,"0")}function o(t,e){function n(t){return 0>t?-1:0<t?1:0}var r;return 0===(r=n(t.getFullYear()-e.getFullYear()))&&0===(r=n(t.getMonth()-e.getMonth()))&&(r=n(t.getDate()-e.getDate())),r}function u(t){switch(t.getDay()){case 0:return new Date(t.getFullYear()-1,11,29);case 1:return t;case 2:return new Date(t.getFullYear(),0,3);case 3:return new Date(t.getFullYear(),0,2);case 4:return new Date(t.getFullYear(),0,1);case 5:return new Date(t.getFullYear()-1,11,31);case 6:return new Date(t.getFullYear()-1,11,30)}}function c(t){var e=t.Bb;for(t=new Date(new Date(t.Cb+1900,0,1).getTime());0<e;){var n=t.getMonth(),r=(pt(t.getFullYear())?ht:dt)[n];if(!(e>r-t.getDate())){t.setDate(t.getDate()+e);break}e-=r-t.getDate()+1,t.setDate(1),11>n?t.setMonth(n+1):(t.setMonth(0),t.setFullYear(t.getFullYear()+1))}return n=new Date(t.getFullYear()+1,0,4),e=u(new Date(t.getFullYear(),0,4)),n=u(n),0>=o(e,t)?0>=o(n,t)?t.getFullYear()+1:t.getFullYear():t.getFullYear()-1}var s=E[r+40>>2>>>0];for(var l in r={$b:E[r>>2>>>0],Zb:E[r+4>>2>>>0],Gb:E[r+8>>2>>>0],Kb:E[r+12>>2>>>0],Hb:E[r+16>>2>>>0],Cb:E[r+20>>2>>>0],Ab:E[r+24>>2>>>0],Bb:E[r+28>>2>>>0],bc:E[r+32>>2>>>0],Yb:E[r+36>>2>>>0],ac:s?j(s):""},n=j(n),s={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"})n=n.replace(new RegExp(l,"g"),s[l]);var f="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),p="January February March April May June July August September October November December".split(" ");for(l in s={"%a":function(t){return f[t.Ab].substring(0,3)},"%A":function(t){return f[t.Ab]},"%b":function(t){return p[t.Hb].substring(0,3)},"%B":function(t){return p[t.Hb]},"%C":function(t){return i((t.Cb+1900)/100|0,2)},"%d":function(t){return i(t.Kb,2)},"%e":function(t){return a(t.Kb,2," ")},"%g":function(t){return c(t).toString().substring(2)},"%G":function(t){return c(t)},"%H":function(t){return i(t.Gb,2)},"%I":function(t){return 0==(t=t.Gb)?t=12:12<t&&(t-=12),i(t,2)},"%j":function(t){for(var e=0,n=0;n<=t.Hb-1;e+=(pt(t.Cb+1900)?ht:dt)[n++]);return i(t.Kb+e,3)},"%m":function(t){return i(t.Hb+1,2)},"%M":function(t){return i(t.Zb,2)},"%n":function(){return"\\n"},"%p":function(t){return 0<=t.Gb&&12>t.Gb?"AM":"PM"},"%S":function(t){return i(t.$b,2)},"%t":function(){return"\\t"},"%u":function(t){return t.Ab||7},"%U":function(t){return i(Math.floor((t.Bb+7-t.Ab)/7),2)},"%V":function(t){var e=Math.floor((t.Bb+7-(t.Ab+6)%7)/7);if(2>=(t.Ab+371-t.Bb-2)%7&&e++,e)53==e&&(4==(n=(t.Ab+371-t.Bb)%7)||3==n&&pt(t.Cb)||(e=1));else{e=52;var n=(t.Ab+7-t.Bb-1)%7;(4==n||5==n&&pt(t.Cb%400-1))&&e++}return i(e,2)},"%w":function(t){return t.Ab},"%W":function(t){return i(Math.floor((t.Bb+7-(t.Ab+6)%7)/7),2)},"%y":function(t){return(t.Cb+1900).toString().substring(2)},"%Y":function(t){return t.Cb+1900},"%z":function(t){var e=0<=(t=t.Yb);return t=Math.abs(t)/60,(e?"+":"-")+String("0000"+(t/60*100+t%60)).slice(-4)},"%Z":function(t){return t.ac},"%%":function(){return"%"}},n=n.replace(/%%/g,"\\0\\0"),s)n.includes(l)&&(n=n.replace(new RegExp(l,"g"),s[l](r)));return l=function(t){var e=Array(D(t)+1);return k(t,e,0,e.length),e}(n=n.replace(/\\0\\0/g,"%")),l.length>e?0:(S.set(l,t>>>0),l.length-1)}var bt={a:function(t){return gt(t+24)+24},m:function(t){return(t=new et(t)).Pb()||(t.Ib(!0),K--),t.Jb(!1),Q.push(t),t.Nb(),t.Qb()},ia:function(t){throw w("Unexpected exception thrown, this is not properly supported - aborting"),C=!0,t},w:function(){Ot(0);var t=Q.pop();if(t.Xb()&&!t.Lb()){var e=t.Wb();e&&at(e)(t.Db),nt(t.Db)}tt=0},d:function(){var t=tt;if(!t)return ft=0;var e=new et(t);e.Fb(t);var n=e.Eb();if(!n)return ft=0,t;for(var r=Array.prototype.slice.call(arguments),a=0;a<r.length;a++){var i=r[a];if(0===i||i===n)break;if(Et(i,n,e.zb+16))return ft=i,t}return ft=n,t},k:function(){var t=tt;if(!t)return ft=0;var e=new et(t);e.Fb(t);var n=e.Eb();if(!n)return ft=0,t;for(var r=Array.prototype.slice.call(arguments),a=0;a<r.length;a++){var i=r[a];if(0===i||i===n)break;if(Et(i,n,e.zb+16))return ft=i,t}return ft=n,t},g:function(){var t=tt;if(!t)return ft=0;var e=new et(t);e.Fb(t);var n=e.Eb();if(!n)return ft=0,t;for(var r=Array.prototype.slice.call(arguments),a=0;a<r.length;a++){var i=r[a];if(0===i||i===n)break;if(Et(i,n,e.zb+16))return ft=i,t}return ft=n,t},s:nt,L:function(){var t=Q.pop();t||V("no exception to throw");var e=t.Db;throw t.Lb()||(Q.push(t),t.Jb(!0),t.Ib(!1),K++),tt=e,e},b:function(t,e,n){throw new et(t).Rb(e,n),tt=t,K++,t},la:function(){return K},i:function(t){throw tt||(tt=t),t},H:function(){return 0},Ba:function(){},pa:function(){},ra:function(){},ka:function(){return 0},za:function(){},ua:function(){},ya:function(){},R:function(){},qa:function(){},na:function(){},Aa:function(){},oa:function(){},Ha:function(){},Ja:function(){V("To use dlopen, you need enable dynamic linking, see https://github.com/emscripten-core/emscripten/wiki/Linking")},Ia:function(){V("To use dlopen, you need enable dynamic linking, see https://github.com/emscripten-core/emscripten/wiki/Linking")},S:function(){return Date.now()},Ca:function(){return!0},Da:function(t,e){t=new Date(1e3*(M[t>>>2]+4294967296*E[t+4>>>2])),E[e>>2>>>0]=t.getUTCSeconds(),E[e+4>>2>>>0]=t.getUTCMinutes(),E[e+8>>2>>>0]=t.getUTCHours(),E[e+12>>2>>>0]=t.getUTCDate(),E[e+16>>2>>>0]=t.getUTCMonth(),E[e+20>>2>>>0]=t.getUTCFullYear()-1900,E[e+24>>2>>>0]=t.getUTCDay(),E[e+28>>2>>>0]=(t.getTime()-Date.UTC(t.getUTCFullYear(),0,1,0,0,0,0))/864e5|0},Ea:function(t,e){t=new Date(1e3*(M[t>>>2]+4294967296*E[t+4>>>2])),E[e>>2>>>0]=t.getSeconds(),E[e+4>>2>>>0]=t.getMinutes(),E[e+8>>2>>>0]=t.getHours(),E[e+12>>2>>>0]=t.getDate(),E[e+16>>2>>>0]=t.getMonth(),E[e+20>>2>>>0]=t.getFullYear()-1900,E[e+24>>2>>>0]=t.getDay();var n=new Date(t.getFullYear(),0,1);E[e+28>>2>>>0]=(t.getTime()-n.getTime())/864e5|0,E[e+36>>2>>>0]=-60*t.getTimezoneOffset();var r=new Date(t.getFullYear(),6,1).getTimezoneOffset();n=n.getTimezoneOffset(),E[e+32>>2>>>0]=0|(r!=n&&t.getTimezoneOffset()==Math.min(n,r))},Fa:function(t){var e=new Date(E[t+20>>2>>>0]+1900,E[t+16>>2>>>0],E[t+12>>2>>>0],E[t+8>>2>>>0],E[t+4>>2>>>0],E[t>>2>>>0],0),n=E[t+32>>2>>>0],r=e.getTimezoneOffset(),a=new Date(e.getFullYear(),0,1),i=new Date(e.getFullYear(),6,1).getTimezoneOffset(),o=a.getTimezoneOffset(),u=Math.min(o,i);return 0>n?E[t+32>>2>>>0]=Number(i!=o&&u==r):0<n!=(u==r)&&(i=Math.max(o,i),e.setTime(e.getTime()+6e4*((0<n?u:i)-r))),E[t+24>>2>>>0]=e.getDay(),E[t+28>>2>>>0]=(e.getTime()-a.getTime())/864e5|0,E[t>>2>>>0]=e.getSeconds(),E[t+4>>2>>>0]=e.getMinutes(),E[t+8>>2>>>0]=e.getHours(),E[t+12>>2>>>0]=e.getDate(),E[t+16>>2>>>0]=e.getMonth(),e.getTime()/1e3|0},sa:function(){return-52},ta:function(){},Ga:function t(e,n,r){t.Vb||(t.Vb=!0,function(t,e,n){function r(t){return(t=t.toTimeString().match(/\\(([A-Za-z ]+)\\)$/))?t[1]:"GMT"}var a=(new Date).getFullYear(),i=new Date(a,0,1),o=new Date(a,6,1);a=i.getTimezoneOffset();var u=o.getTimezoneOffset();E[t>>2>>>0]=60*Math.max(a,u),E[e>>2>>>0]=Number(a!=u),t=r(i),e=r(o),t=it(t),e=it(e),u<a?(M[n>>2>>>0]=t,M[n+4>>2>>>0]=e):(M[n>>2>>>0]=e,M[n+4>>2>>>0]=t)}(e,n,r))},B:function(){V("")},ma:function(){return 4294901760},I:b?()=>{var t=process.hrtime();return 1e3*t[0]+t[1]/1e6}:()=>performance.now(),xa:function(t,e,n){T.copyWithin(t>>>0,e>>>0,e+n>>>0)},G:function(t){var e=T.length;if(4294901760<(t>>>=0))return!1;for(var n=1;4>=n;n*=2){var r=e*(1+.2/n);r=Math.min(r,t+100663296);var a=Math;r=Math.max(t,r),a=a.min.call(a,4294901760,r+(65536-r%65536)%65536);t:{try{O.grow(a-A.byteLength+65535>>>16),P();var i=1;break t}catch(t){}i=void 0}if(i)return!0}return!1},va:function(t,e){var n=0;return ut().forEach((function(r,a){var i=e+n;for(a=M[t+4*a>>2>>>0]=i,i=0;i<r.length;++i)S[a++>>0>>>0]=r.charCodeAt(i);S[a>>0>>>0]=0,n+=r.length+1})),0},wa:function(t,e){var n=ut();M[t>>2>>>0]=n.length;var r=0;return n.forEach((function(t){r+=t.length+1})),M[e>>2>>>0]=r,0},ba:function(t){_||0<L||(_t(),Z(W),wt(0),st[1].length&&lt(1,10),st[2].length&&lt(2,10)),_||0<L||(e.onExit&&e.onExit(t),C=!0),h(t,new J(t))},E:function(){return 52},Q:function(){return 52},ca:function(){return 70},P:function(t,e,n,r){for(var a=0,i=0;i<n;i++){var o=M[e>>2>>>0],u=M[e+4>>2>>>0];e+=8;for(var c=0;c<u;c++)lt(t,T[o+c>>>0]);a+=u}return M[r>>2>>>0]=a,0},c:function(){return ft},ja:function t(e,r){t.Mb||(t.Mb=function(){if("object"==typeof crypto&&"function"==typeof crypto.getRandomValues){var t=new Uint8Array(1);return()=>(crypto.getRandomValues(t),t[0])}if(b)try{var e=n(Object(function(){var t=new Error("Cannot find module \'crypto\'");throw t.code="MODULE_NOT_FOUND",t}()));return()=>e.randomBytes(1)[0]}catch(t){}return()=>V("randomDevice")}());for(var a=0;a<r;a++)S[e+a>>0>>>0]=t.Mb();return 0},ea:function(t,e,n){var r=At();try{return at(t)(e,n)}catch(t){if(St(r),t!==t+0)throw t;Ot(1,0)}},fa:function(t,e,n){var r=At();try{return at(t)(e,n)}catch(t){if(St(r),t!==t+0)throw t;Ot(1,0)}},J:function(t){var e=At();try{return at(t)()}catch(t){if(St(e),t!==t+0)throw t;Ot(1,0)}},e:function(t,e){var n=At();try{return at(t)(e)}catch(t){if(St(n),t!==t+0)throw t;Ot(1,0)}},N:function(t,e,n){var r=At();try{return at(t)(e,n)}catch(t){if(St(r),t!==t+0)throw t;Ot(1,0)}},O:function(t,e,n){var r=At();try{return at(t)(e,n)}catch(t){if(St(r),t!==t+0)throw t;Ot(1,0)}},j:function(t,e,n){var r=At();try{return at(t)(e,n)}catch(t){if(St(r),t!==t+0)throw t;Ot(1,0)}},o:function(t,e,n,r){var a=At();try{return at(t)(e,n,r)}catch(t){if(St(a),t!==t+0)throw t;Ot(1,0)}},p:function(t,e,n,r,a){var i=At();try{return at(t)(e,n,r,a)}catch(t){if(St(i),t!==t+0)throw t;Ot(1,0)}},M:function(t,e,n,r,a,i){var o=At();try{return at(t)(e,n,r,a,i)}catch(t){if(St(o),t!==t+0)throw t;Ot(1,0)}},r:function(t,e,n,r,a,i){var o=At();try{return at(t)(e,n,r,a,i)}catch(t){if(St(o),t!==t+0)throw t;Ot(1,0)}},v:function(t,e,n,r,a,i,o){var u=At();try{return at(t)(e,n,r,a,i,o)}catch(t){if(St(u),t!==t+0)throw t;Ot(1,0)}},K:function(t,e,n,r,a,i,o,u){var c=At();try{return at(t)(e,n,r,a,i,o,u)}catch(t){if(St(c),t!==t+0)throw t;Ot(1,0)}},D:function(t,e,n,r,a,i,o,u,c,s,l,f){var p=At();try{return at(t)(e,n,r,a,i,o,u,c,s,l,f)}catch(t){if(St(p),t!==t+0)throw t;Ot(1,0)}},X:function(t,e,n,r,a,i,o,u){var c=At();try{return Ft(t,e,n,r,a,i,o,u)}catch(t){if(St(c),t!==t+0)throw t;Ot(1,0)}},V:function(t,e,n,r,a,i,o){var u=At();try{return xt(t,e,n,r,a,i,o)}catch(t){if(St(u),t!==t+0)throw t;Ot(1,0)}},U:function(t,e,n,r,a){var i=At();try{return It(t,e,n,r,a)}catch(t){if(St(i),t!==t+0)throw t;Ot(1,0)}},Z:function(t,e,n,r){var a=At();try{return Pt(t,e,n,r)}catch(t){if(St(a),t!==t+0)throw t;Ot(1,0)}},W:function(t){var e=At();try{return Ct(t)}catch(t){if(St(e),t!==t+0)throw t;Ot(1,0)}},Y:function(t,e){var n=At();try{return Ut(t,e)}catch(t){if(St(n),t!==t+0)throw t;Ot(1,0)}},T:function(t,e,n){var r=At();try{return Rt(t,e,n)}catch(t){if(St(r),t!==t+0)throw t;Ot(1,0)}},f:function(t){var e=At();try{at(t)()}catch(t){if(St(e),t!==t+0)throw t;Ot(1,0)}},q:function(t,e){var n=At();try{at(t)(e)}catch(t){if(St(n),t!==t+0)throw t;Ot(1,0)}},h:function(t,e,n){var r=At();try{at(t)(e,n)}catch(t){if(St(r),t!==t+0)throw t;Ot(1,0)}},da:function(t,e,n,r){var a=At();try{at(t)(e,n,r)}catch(t){if(St(a),t!==t+0)throw t;Ot(1,0)}},l:function(t,e,n,r){var a=At();try{at(t)(e,n,r)}catch(t){if(St(a),t!==t+0)throw t;Ot(1,0)}},t:function(t,e,n,r,a){var i=At();try{at(t)(e,n,r,a)}catch(t){if(St(i),t!==t+0)throw t;Ot(1,0)}},u:function(t,e,n,r,a,i){var o=At();try{at(t)(e,n,r,a,i)}catch(t){if(St(o),t!==t+0)throw t;Ot(1,0)}},x:function(t,e,n,r,a,i,o){var u=At();try{at(t)(e,n,r,a,i,o)}catch(t){if(St(u),t!==t+0)throw t;Ot(1,0)}},z:function(t,e,n,r,a,i,o,u){var c=At();try{at(t)(e,n,r,a,i,o,u)}catch(t){if(St(c),t!==t+0)throw t;Ot(1,0)}},ga:function(t,e,n,r,a,i,o,u,c){var s=At();try{at(t)(e,n,r,a,i,o,u,c)}catch(t){if(St(s),t!==t+0)throw t;Ot(1,0)}},A:function(t,e,n,r,a,i,o,u,c,s,l){var f=At();try{at(t)(e,n,r,a,i,o,u,c,s,l)}catch(t){if(St(f),t!==t+0)throw t;Ot(1,0)}},C:function(t,e,n,r,a,i,o,u,c,s,l,f,p,h,d,y){var b=At();try{at(t)(e,n,r,a,i,o,u,c,s,l,f,p,h,d,y)}catch(t){if(St(b),t!==t+0)throw t;Ot(1,0)}},aa:function(t,e,n,r,a,i,o,u){var c=At();try{jt(t,e,n,r,a,i,o,u)}catch(t){if(St(c),t!==t+0)throw t;Ot(1,0)}},_:function(t,e,n,r,a,i,o,u,c,s,l,f){var p=At();try{Dt(t,e,n,r,a,i,o,u,c,s,l,f)}catch(t){if(St(p),t!==t+0)throw t;Ot(1,0)}},$:function(t,e,n,r,a,i){var o=At();try{kt(t,e,n,r,a,i)}catch(t){if(St(o),t!==t+0)throw t;Ot(1,0)}},n:function(t){return t},F:function(t){ft=t},ha:yt,y:function(t,e,n,r){return yt(t,e,n,r)}};!function(){function t(t){e.asm=t.exports,O=e.asm.Ka,P(),U=e.asm.ib,I.unshift(e.asm.La),B--,e.monitorRunDependencies&&e.monitorRunDependencies(B),0==B&&(null!==G&&(clearInterval(G),G=null),N&&(t=N,N=null,t()))}function n(e){t(e.instance)}function r(t){return function(){if(!g&&(d||y)){if("function"==typeof fetch&&!Y.startsWith("file://"))return fetch(Y,{credentials:"same-origin"}).then((function(t){if(!t.ok)throw"failed to load wasm binary file at \'"+Y+"\'";return t.arrayBuffer()})).catch((function(){return X()}));if(o)return new Promise((function(t,e){o(Y,(function(e){t(new Uint8Array(e))}),e)}))}return Promise.resolve().then((function(){return X()}))}().then((function(t){return WebAssembly.instantiate(t,i)})).then((function(t){return t})).then(t,(function(t){w("failed to asynchronously prepare wasm: "+t),V(t)}))}var i={a:bt};if(B++,e.monitorRunDependencies&&e.monitorRunDependencies(B),e.instantiateWasm)try{return e.instantiateWasm(i,t)}catch(t){return w("Module.instantiateWasm callback failed with error: "+t),!1}(g||"function"!=typeof WebAssembly.instantiateStreaming||$()||Y.startsWith("file://")||b||"function"!=typeof fetch?r(n):fetch(Y,{credentials:"same-origin"}).then((function(t){return WebAssembly.instantiateStreaming(t,i).then(n,(function(t){return w("wasm streaming compile failed: "+t),w("falling back to ArrayBuffer instantiation"),r(n)}))}))).catch(a)}(),e.___wasm_call_ctors=function(){return(e.___wasm_call_ctors=e.asm.La).apply(null,arguments)},e._OrtInit=function(){return(e._OrtInit=e.asm.Ma).apply(null,arguments)},e._OrtCreateSessionOptions=function(){return(e._OrtCreateSessionOptions=e.asm.Na).apply(null,arguments)},e._OrtAppendExecutionProvider=function(){return(e._OrtAppendExecutionProvider=e.asm.Oa).apply(null,arguments)},e._OrtAddSessionConfigEntry=function(){return(e._OrtAddSessionConfigEntry=e.asm.Pa).apply(null,arguments)},e._OrtReleaseSessionOptions=function(){return(e._OrtReleaseSessionOptions=e.asm.Qa).apply(null,arguments)},e._OrtCreateSession=function(){return(e._OrtCreateSession=e.asm.Ra).apply(null,arguments)},e._OrtReleaseSession=function(){return(e._OrtReleaseSession=e.asm.Sa).apply(null,arguments)},e._OrtGetInputCount=function(){return(e._OrtGetInputCount=e.asm.Ta).apply(null,arguments)},e._OrtGetOutputCount=function(){return(e._OrtGetOutputCount=e.asm.Ua).apply(null,arguments)},e._OrtGetInputName=function(){return(e._OrtGetInputName=e.asm.Va).apply(null,arguments)},e._OrtGetOutputName=function(){return(e._OrtGetOutputName=e.asm.Wa).apply(null,arguments)},e._OrtFree=function(){return(e._OrtFree=e.asm.Xa).apply(null,arguments)},e._OrtCreateTensor=function(){return(e._OrtCreateTensor=e.asm.Ya).apply(null,arguments)},e._OrtGetTensorData=function(){return(e._OrtGetTensorData=e.asm.Za).apply(null,arguments)},e._OrtReleaseTensor=function(){return(e._OrtReleaseTensor=e.asm._a).apply(null,arguments)},e._OrtCreateRunOptions=function(){return(e._OrtCreateRunOptions=e.asm.$a).apply(null,arguments)},e._OrtAddRunConfigEntry=function(){return(e._OrtAddRunConfigEntry=e.asm.ab).apply(null,arguments)},e._OrtReleaseRunOptions=function(){return(e._OrtReleaseRunOptions=e.asm.bb).apply(null,arguments)},e._OrtRun=function(){return(e._OrtRun=e.asm.cb).apply(null,arguments)},e._OrtEndProfiling=function(){return(e._OrtEndProfiling=e.asm.db).apply(null,arguments)};var mt,gt=e._malloc=function(){return(gt=e._malloc=e.asm.eb).apply(null,arguments)},vt=e._free=function(){return(vt=e._free=e.asm.fb).apply(null,arguments)},wt=e._fflush=function(){return(wt=e._fflush=e.asm.gb).apply(null,arguments)},_t=e.___funcs_on_exit=function(){return(_t=e.___funcs_on_exit=e.asm.hb).apply(null,arguments)},Ot=e._setThrew=function(){return(Ot=e._setThrew=e.asm.jb).apply(null,arguments)},At=e.stackSave=function(){return(At=e.stackSave=e.asm.kb).apply(null,arguments)},St=e.stackRestore=function(){return(St=e.stackRestore=e.asm.lb).apply(null,arguments)},Tt=e.stackAlloc=function(){return(Tt=e.stackAlloc=e.asm.mb).apply(null,arguments)},Et=e.___cxa_can_catch=function(){return(Et=e.___cxa_can_catch=e.asm.nb).apply(null,arguments)},Mt=e.___cxa_is_pointer_type=function(){return(Mt=e.___cxa_is_pointer_type=e.asm.ob).apply(null,arguments)},Ct=e.dynCall_j=function(){return(Ct=e.dynCall_j=e.asm.pb).apply(null,arguments)},xt=e.dynCall_iiiiij=function(){return(xt=e.dynCall_iiiiij=e.asm.qb).apply(null,arguments)},Rt=e.dynCall_jii=function(){return(Rt=e.dynCall_jii=e.asm.rb).apply(null,arguments)},jt=e.dynCall_viiiiij=function(){return(jt=e.dynCall_viiiiij=e.asm.sb).apply(null,arguments)},kt=e.dynCall_vjji=function(){return(kt=e.dynCall_vjji=e.asm.tb).apply(null,arguments)},Dt=e.dynCall_viiijjjii=function(){return(Dt=e.dynCall_viiijjjii=e.asm.ub).apply(null,arguments)},Pt=e.dynCall_iij=function(){return(Pt=e.dynCall_iij=e.asm.vb).apply(null,arguments)},Ut=e.dynCall_ji=function(){return(Ut=e.dynCall_ji=e.asm.wb).apply(null,arguments)},Ft=e.dynCall_iiiiiij=function(){return(Ft=e.dynCall_iiiiiij=e.asm.xb).apply(null,arguments)},It=e.dynCall_iiij=function(){return(It=e.dynCall_iiij=e.asm.yb).apply(null,arguments)};function Wt(){function t(){if(!mt&&(mt=!0,e.calledRun=!0,!C)){if(Z(I),r(e),e.onRuntimeInitialized&&e.onRuntimeInitialized(),e.postRun)for("function"==typeof e.postRun&&(e.postRun=[e.postRun]);e.postRun.length;){var t=e.postRun.shift();H.unshift(t)}Z(H)}}if(!(0<B)){if(e.preRun)for("function"==typeof e.preRun&&(e.preRun=[e.preRun]);e.preRun.length;)z();Z(F),0<B||(e.setStatus?(e.setStatus("Running..."),setTimeout((function(){setTimeout((function(){e.setStatus("")}),1),t()}),1)):t())}}if(e.UTF8ToString=j,e.stringToUTF8=function(t,e,n){return k(t,T,e,n)},e.lengthBytesUTF8=D,e.stackSave=At,e.stackRestore=St,e.stackAlloc=Tt,N=function t(){mt||Wt(),mt||(N=t)},e.preInit)for("function"==typeof e.preInit&&(e.preInit=[e.preInit]);0<e.preInit.length;)e.preInit.pop()();return Wt(),t.ready});t.exports=r},967:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.iterateExtraOptions=void 0,e.iterateExtraOptions=(t,n,r,a)=>{if("object"==typeof t&&null!==t){if(r.has(t))throw new Error("Circular reference in options");r.add(t)}Object.entries(t).forEach((([t,i])=>{const o=n?n+t:t;if("object"==typeof i)(0,e.iterateExtraOptions)(i,o+".",r,a);else if("string"==typeof i||"number"==typeof i)a(o,i.toString());else{if("boolean"!=typeof i)throw new Error("Can\'t handle extra config type: "+typeof i);a(o,i?"1":"0")}}))}},586:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.setRunOptions=void 0;const r=n(967),a=n(983),i=n(361);e.setRunOptions=t=>{const e=(0,i.getInstance)();let n=0;const o=[],u=t||{};try{if(void 0===(null==t?void 0:t.logSeverityLevel))u.logSeverityLevel=2;else if("number"!=typeof t.logSeverityLevel||!Number.isInteger(t.logSeverityLevel)||t.logSeverityLevel<0||t.logSeverityLevel>4)throw new Error(`log serverity level is not valid: ${t.logSeverityLevel}`);if(void 0===(null==t?void 0:t.logVerbosityLevel))u.logVerbosityLevel=0;else if("number"!=typeof t.logVerbosityLevel||!Number.isInteger(t.logVerbosityLevel))throw new Error(`log verbosity level is not valid: ${t.logVerbosityLevel}`);void 0===(null==t?void 0:t.terminate)&&(u.terminate=!1);let i=0;if(void 0!==(null==t?void 0:t.tag)&&(i=(0,a.allocWasmString)(t.tag,o)),n=e._OrtCreateRunOptions(u.logSeverityLevel,u.logVerbosityLevel,!!u.terminate,i),0===n)throw new Error("Can\'t create run options");return void 0!==(null==t?void 0:t.extra)&&(0,r.iterateExtraOptions)(t.extra,"",new WeakSet,((t,r)=>{const i=(0,a.allocWasmString)(t,o),u=(0,a.allocWasmString)(r,o);if(0!==e._OrtAddRunConfigEntry(n,i,u))throw new Error(`Can\'t set a run config entry: ${t} - ${r}`)})),[n,o]}catch(t){throw 0!==n&&e._OrtReleaseRunOptions(n),o.forEach(e._free),t}}},919:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.setSessionOptions=void 0;const r=n(967),a=n(983),i=n(361);e.setSessionOptions=t=>{const e=(0,i.getInstance)();let n=0;const o=[],u=t||{};(t=>{t.extra||(t.extra={}),t.extra.session||(t.extra.session={});const e=t.extra.session;e.use_ort_model_bytes_directly||(e.use_ort_model_bytes_directly="1")})(u);try{void 0===(null==t?void 0:t.graphOptimizationLevel)&&(u.graphOptimizationLevel="all");const c=(t=>{switch(t){case"disabled":return 0;case"basic":return 1;case"extended":return 2;case"all":return 99;default:throw new Error(`unsupported graph optimization level: ${t}`)}})(u.graphOptimizationLevel);void 0===(null==t?void 0:t.enableCpuMemArena)&&(u.enableCpuMemArena=!0),void 0===(null==t?void 0:t.enableMemPattern)&&(u.enableMemPattern=!0),void 0===(null==t?void 0:t.executionMode)&&(u.executionMode="sequential");const s=(t=>{switch(t){case"sequential":return 0;case"parallel":return 1;default:throw new Error(`unsupported execution mode: ${t}`)}})(u.executionMode);let l=0;if(void 0!==(null==t?void 0:t.logId)&&(l=(0,a.allocWasmString)(t.logId,o)),void 0===(null==t?void 0:t.logSeverityLevel))u.logSeverityLevel=2;else if("number"!=typeof t.logSeverityLevel||!Number.isInteger(t.logSeverityLevel)||t.logSeverityLevel<0||t.logSeverityLevel>4)throw new Error(`log serverity level is not valid: ${t.logSeverityLevel}`);if(void 0===(null==t?void 0:t.logVerbosityLevel))u.logVerbosityLevel=0;else if("number"!=typeof t.logVerbosityLevel||!Number.isInteger(t.logVerbosityLevel))throw new Error(`log verbosity level is not valid: ${t.logVerbosityLevel}`);if(void 0===(null==t?void 0:t.enableProfiling)&&(u.enableProfiling=!1),n=e._OrtCreateSessionOptions(c,!!u.enableCpuMemArena,!!u.enableMemPattern,s,!!u.enableProfiling,0,l,u.logSeverityLevel,u.logVerbosityLevel),0===n)throw new Error("Can\'t create session options");return(null==t?void 0:t.executionProviders)&&((t,e,n)=>{for(const r of e){let e="string"==typeof r?r:r.name;switch(e){case"xnnpack":e="XNNPACK";break;case"wasm":case"cpu":continue;default:throw new Error(`not supported EP: ${e}`)}const o=(0,a.allocWasmString)(e,n);if(0!==(0,i.getInstance)()._OrtAppendExecutionProvider(t,o))throw new Error(`Can\'t append execution provider: ${e}`)}})(n,t.executionProviders,o),void 0!==(null==t?void 0:t.extra)&&(0,r.iterateExtraOptions)(t.extra,"",new WeakSet,((t,r)=>{const i=(0,a.allocWasmString)(t,o),u=(0,a.allocWasmString)(r,o);if(0!==e._OrtAddSessionConfigEntry(n,i,u))throw new Error(`Can\'t set a session config entry: ${t} - ${r}`)})),[n,o]}catch(t){throw 0!==n&&e._OrtReleaseSessionOptions(n),o.forEach(e._free),t}}},983:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.allocWasmString=void 0;const r=n(361);e.allocWasmString=(t,e)=>{const n=(0,r.getInstance)(),a=n.lengthBytesUTF8(t)+1,i=n._malloc(a);return n.stringToUTF8(t,i,a),e.push(i),i}},349:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.extractTransferableBuffers=e.endProfiling=e.run=e.releaseSession=e.createSession=e.createSessionFinalize=e.createSessionAllocate=e.initOrt=void 0;const r=n(586),a=n(919),i=n(983),o=n(361);e.initOrt=(t,e)=>{const n=(0,o.getInstance)()._OrtInit(t,e);if(0!==n)throw new Error(`Can\'t initialize onnxruntime. error code = ${n}`)};const u=new Map;e.createSessionAllocate=t=>{const e=(0,o.getInstance)(),n=e._malloc(t.byteLength);return e.HEAPU8.set(t,n),[n,t.byteLength]},e.createSessionFinalize=(t,e)=>{const n=(0,o.getInstance)();let r=0,i=0,c=[];try{if([i,c]=(0,a.setSessionOptions)(e),r=n._OrtCreateSession(t[0],t[1],i),0===r)throw new Error("Can\'t create a session")}finally{n._free(t[0]),n._OrtReleaseSessionOptions(i),c.forEach(n._free)}const s=n._OrtGetInputCount(r),l=n._OrtGetOutputCount(r),f=[],p=[],h=[],d=[];for(let t=0;t<s;t++){const e=n._OrtGetInputName(r,t);if(0===e)throw new Error("Can\'t get an input name");p.push(e),f.push(n.UTF8ToString(e))}for(let t=0;t<l;t++){const e=n._OrtGetOutputName(r,t);if(0===e)throw new Error("Can\'t get an output name");d.push(e),h.push(n.UTF8ToString(e))}return u.set(r,[r,p,d]),[r,f,h]},e.createSession=(t,n)=>{const r=(0,e.createSessionAllocate)(t);return(0,e.createSessionFinalize)(r,n)},e.releaseSession=t=>{const e=(0,o.getInstance)(),n=u.get(t);if(!n)throw new Error("invalid session id");const r=n[0],a=n[1],i=n[2];a.forEach(e._OrtFree),i.forEach(e._OrtFree),e._OrtReleaseSession(r),u.delete(t)};const c=t=>{switch(t){case"int8":return 3;case"uint8":return 2;case"bool":return 9;case"int16":return 5;case"uint16":return 4;case"int32":return 6;case"uint32":return 12;case"float32":return 1;case"float64":return 11;case"string":return 8;case"int64":return 7;case"uint64":return 13;default:throw new Error(`unsupported data type: ${t}`)}},s=t=>{switch(t){case 3:return"int8";case 2:return"uint8";case 9:return"bool";case 5:return"int16";case 4:return"uint16";case 6:return"int32";case 12:return"uint32";case 1:return"float32";case 11:return"float64";case 8:return"string";case 7:return"int64";case 13:return"uint64";default:throw new Error(`unsupported data type: ${t}`)}},l=t=>{switch(t){case"float32":return Float32Array;case"uint8":case"bool":return Uint8Array;case"int8":return Int8Array;case"uint16":return Uint16Array;case"int16":return Int16Array;case"int32":return Int32Array;case"float64":return Float64Array;case"uint32":return Uint32Array;case"int64":return BigInt64Array;case"uint64":return BigUint64Array;default:throw new Error(`unsupported type: ${t}`)}};e.run=(t,e,n,a,f)=>{const p=(0,o.getInstance)(),h=u.get(t);if(!h)throw new Error("invalid session id");const d=h[0],y=h[1],b=h[2],m=e.length,g=a.length;let v=0,w=[];const _=[],O=[];try{[v,w]=(0,r.setRunOptions)(f);for(let t=0;t<m;t++){const e=n[t][0],r=n[t][1],a=n[t][2];let o,u;if(Array.isArray(a)){u=4*a.length,o=p._malloc(u),O.push(o);let t=o/4;for(let e=0;e<a.length;e++){if("string"!=typeof a[e])throw new TypeError(`tensor data at index ${e} is not a string`);p.HEAPU32[t++]=(0,i.allocWasmString)(a[e],O)}}else u=a.byteLength,o=p._malloc(u),O.push(o),p.HEAPU8.set(new Uint8Array(a.buffer,a.byteOffset,u),o);const s=p.stackSave(),l=p.stackAlloc(4*r.length);try{let t=l/4;r.forEach((e=>p.HEAP32[t++]=e));const n=p._OrtCreateTensor(c(e),o,u,l,r.length);if(0===n)throw new Error("Can\'t create a tensor");_.push(n)}finally{p.stackRestore(s)}}const t=p.stackSave(),o=p.stackAlloc(4*m),u=p.stackAlloc(4*m),h=p.stackAlloc(4*g),A=p.stackAlloc(4*g);try{let n=o/4,r=u/4,i=h/4,c=A/4;for(let t=0;t<m;t++)p.HEAPU32[n++]=_[t],p.HEAPU32[r++]=y[e[t]];for(let t=0;t<g;t++)p.HEAPU32[i++]=0,p.HEAPU32[c++]=b[a[t]];let f=p._OrtRun(d,u,o,m,A,g,h,v);const w=[];if(0===f)for(let t=0;t<g;t++){const e=p.HEAPU32[h/4+t],n=p.stackSave(),r=p.stackAlloc(16);let a,i=0;try{if(f=p._OrtGetTensorData(e,r,r+4,r+8,r+12),0!==f)throw new Error(`Can\'t access output tensor data. error code = ${f}`);let t=r/4;const o=p.HEAPU32[t++];i=p.HEAPU32[t++];const u=p.HEAPU32[t++],c=p.HEAPU32[t++],h=[];for(let t=0;t<c;t++)h.push(p.HEAPU32[u/4+t]);p._OrtFree(u);const d=0===h.length?1:h.reduce(((t,e)=>t*e));if(a=s(o),"string"===a){const t=[];let e=i/4;for(let n=0;n<d;n++){const r=p.HEAPU32[e++],a=n===d-1?void 0:p.HEAPU32[e]-r;t.push(p.UTF8ToString(r,a))}w.push([a,h,t])}else{const t=new(l(a))(d);new Uint8Array(t.buffer,t.byteOffset,t.byteLength).set(p.HEAPU8.subarray(i,i+t.byteLength)),w.push([a,h,t])}}finally{p.stackRestore(n),"string"===a&&i&&p._free(i),p._OrtReleaseTensor(e)}}if(0===f)return w;throw new Error(`failed to call OrtRun(). error code = ${f}.`)}finally{p.stackRestore(t)}}finally{_.forEach(p._OrtReleaseTensor),O.forEach(p._free),p._OrtReleaseRunOptions(v),w.forEach(p._free)}},e.endProfiling=t=>{const e=(0,o.getInstance)(),n=u.get(t);if(!n)throw new Error("invalid session id");const r=n[0],a=e._OrtEndProfiling(r);if(0===a)throw new Error("Can\'t get an profile file name");e._OrtFree(a)},e.extractTransferableBuffers=t=>{const e=[];for(const n of t){const t=n[2];!Array.isArray(t)&&t.buffer&&e.push(t.buffer)}return e}},361:function(t,e,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n);var a=Object.getOwnPropertyDescriptor(e,n);a&&!("get"in a?!e.__esModule:a.writable||a.configurable)||(a={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,a)}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}),a=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),i=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&r(e,t,n);return a(e,t),e},o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.dispose=e.getInstance=e.initializeWebAssembly=void 0;const u=i(n(449)),c=o(n(932)),s=n(474);let l,f=!1,p=!1,h=!1;const d=(t,e)=>e?t?"ort-wasm-simd-threaded.wasm":"ort-wasm-threaded.wasm":t?"ort-wasm-simd.wasm":"ort-wasm.wasm";e.initializeWebAssembly=async t=>{if(f)return Promise.resolve();if(p)throw new Error("multiple calls to \'initializeWebAssembly()\' detected.");if(h)throw new Error("previous call to \'initializeWebAssembly()\' failed.");p=!0;const e=t.initTimeout,r=t.numThreads,a=t.simd,i=r>1&&(()=>{try{return"undefined"!=typeof SharedArrayBuffer&&("undefined"!=typeof MessageChannel&&(new MessageChannel).port1.postMessage(new SharedArrayBuffer(1)),WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,5,4,1,3,1,1,10,11,1,9,0,65,0,254,16,2,0,26,11])))}catch(t){return!1}})(),o=a&&(()=>{try{return WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,30,1,28,0,65,0,253,15,253,12,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,253,186,1,26,11]))}catch(t){return!1}})(),y="string"==typeof t.wasmPaths?t.wasmPaths:void 0,b=d(!1,i),m=d(o,i),g="object"==typeof t.wasmPaths?t.wasmPaths[m]:void 0;let v=!1;const w=[];if(e>0&&w.push(new Promise((t=>{setTimeout((()=>{v=!0,t()}),e)}))),w.push(new Promise(((t,e)=>{const r=i?s:c.default,a={locateFile:(t,e)=>i&&t.endsWith(".worker.js")&&"undefined"!=typeof Blob?URL.createObjectURL(new Blob([n(154)],{type:"text/javascript"})):t===b?null!=g?g:(null!=y?y:e)+m:e+t};if(i)if("undefined"==typeof Blob)a.mainScriptUrlOrBlob=u.join("/","ort-wasm-threaded.js");else{const t=`var ortWasmThreaded=(function(){var _scriptDir;return ${r.toString()}})();`;a.mainScriptUrlOrBlob=new Blob([t],{type:"text/javascript"})}r(a).then((e=>{p=!1,f=!0,l=e,t()}),(t=>{p=!1,h=!0,e(t)}))}))),await Promise.race(w),v)throw new Error(`WebAssembly backend initializing failed due to timeout: ${e}ms`)},e.getInstance=()=>{if(f&&l)return l;throw new Error("WebAssembly is not initialized yet.")},e.dispose=()=>{var t;!f||p||h||(p=!0,null===(t=l.PThread)||void 0===t||t.terminateAllThreads(),l=void 0,p=!1,f=!1,h=!0)}},154:t=>{"use strict";t.exports=\'"use strict";var e={},t="object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node;if(t){var r=require("worker_threads"),a=r.parentPort;a.on("message",(e=>onmessage({data:e})));var o=require("fs");Object.assign(global,{self:global,require:require,Module:e,location:{href:__filename},Worker:r.Worker,importScripts:function(e){(0,eval)(o.readFileSync(e,"utf8"))},postMessage:function(e){a.postMessage(e)},performance:global.performance||{now:function(){return Date.now()}}})}var s=!1,n=[],i=function(){var e=Array.prototype.slice.call(arguments).join(" ");t?o.writeSync(2,e+"\\\\n"):console.error(e)};self.alert=function(){var t=Array.prototype.slice.call(arguments).join(" ");postMessage({cmd:"alert",text:t,threadId:e._pthread_self()})},e.instantiateWasm=(t,r)=>{var a=new WebAssembly.Instance(e.wasmModule,t);return r(a),e.wasmModule=null,a.exports},self.onunhandledrejection=e=>{throw e.reason??e},self.onmessage=t=>{try{if("load"===t.data.cmd){if(e.wasmModule=t.data.wasmModule,e.wasmMemory=t.data.wasmMemory,e.buffer=e.wasmMemory.buffer,e.ENVIRONMENT_IS_PTHREAD=!0,"string"==typeof t.data.urlOrBlob)importScripts(t.data.urlOrBlob);else{var r=URL.createObjectURL(t.data.urlOrBlob);importScripts(r),URL.revokeObjectURL(r)}ortWasmThreaded(e).then((function(t){e=t}))}else if("run"===t.data.cmd){e.__performance_now_clock_drift=performance.now()-t.data.time,e.__emscripten_thread_init(t.data.pthread_ptr,0,0,1),e.establishStackSpace(),e.PThread.receiveObjectTransfer(t.data),e.PThread.threadInitTLS(),s||(n.forEach((t=>{e.executeNotifiedProxyingQueue(t)})),n=[],s=!0);try{e.invokeEntryPoint(t.data.start_routine,t.data.arg)}catch(t){if("unwind"!=t){if(!(t instanceof e.ExitStatus))throw t;e.keepRuntimeAlive()||e.__emscripten_thread_exit(t.status)}}}else"cancel"===t.data.cmd?e._pthread_self()&&e.__emscripten_thread_exit(-1):"setimmediate"===t.data.target||("processProxyingQueue"===t.data.cmd?s?e.executeNotifiedProxyingQueue(t.data.queue):n.push(t.data.queue):(i("worker.js received unknown command "+t.data.cmd),i(t.data)))}catch(t){throw i("worker.js onmessage() captured an uncaught exception: "+t),t&&t.stack&&i(t.stack),e.__emscripten_thread_crashed&&e.__emscripten_thread_crashed(),t}};\\n\'},384:()=>{},993:()=>{},908:()=>{},953:()=>{},925:()=>{},449:()=>{}},e={};function n(r){var a=e[r];if(void 0!==a)return a.exports;var i=e[r]={exports:{}};return t[r].call(i.exports,i,i.exports,n),i.exports}n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),(()=>{"use strict";const t=n(349),e=n(361);self.onmessage=n=>{switch(n.data.type){case"init-wasm":(0,e.initializeWebAssembly)(n.data.in).then((()=>postMessage({type:"init-wasm"})),(t=>postMessage({type:"init-wasm",err:t})));break;case"init-ort":try{const{numThreads:e,loggingLevel:r}=n.data.in;(0,t.initOrt)(e,r),postMessage({type:"init-ort"})}catch(t){postMessage({type:"init-ort",err:t})}break;case"create_allocate":try{const{model:e}=n.data.in,r=(0,t.createSessionAllocate)(e);postMessage({type:"create_allocate",out:r})}catch(t){postMessage({type:"create_allocate",err:t})}break;case"create_finalize":try{const{modeldata:e,options:r}=n.data.in,a=(0,t.createSessionFinalize)(e,r);postMessage({type:"create_finalize",out:a})}catch(t){postMessage({type:"create_finalize",err:t})}break;case"create":try{const{model:e,options:r}=n.data.in,a=(0,t.createSession)(e,r);postMessage({type:"create",out:a})}catch(t){postMessage({type:"create",err:t})}break;case"release":try{const e=n.data.in;(0,t.releaseSession)(e),postMessage({type:"release"})}catch(t){postMessage({type:"release",err:t})}break;case"run":try{const{sessionId:e,inputIndices:r,inputs:a,outputIndices:i,options:o}=n.data.in,u=(0,t.run)(e,r,a,i,o);postMessage({type:"run",out:u},(0,t.extractTransferableBuffers)(u))}catch(t){postMessage({type:"run",err:t})}break;case"end-profiling":try{const e=n.data.in;(0,t.endProfiling)(e),postMessage({type:"end-profiling"})}catch(t){postMessage({type:"end-profiling",err:t})}}}})()})();\n',"Worker",void 0,void 0)}},477:e=>{"use strict";e.exports=function(e,t,n,r){var o=self||window;try{try{var i;try{i=new o.Blob([e])}catch(t){(i=new(o.BlobBuilder||o.WebKitBlobBuilder||o.MozBlobBuilder||o.MSBlobBuilder)).append(e),i=i.getBlob()}var s=o.URL||o.webkitURL,a=s.createObjectURL(i),c=new o[t](a,n);return s.revokeObjectURL(a),c}catch(r){return new o[t]("data:application/javascript,".concat(encodeURIComponent(e)),n)}}catch(e){if(!r)throw Error("Inline worker is not supported");return new o[t](r,n)}}},4154:e=>{"use strict";e.exports='"use strict";var e={},t="object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node;if(t){var r=require("worker_threads"),a=r.parentPort;a.on("message",(e=>onmessage({data:e})));var o=require("fs");Object.assign(global,{self:global,require:require,Module:e,location:{href:__filename},Worker:r.Worker,importScripts:function(e){(0,eval)(o.readFileSync(e,"utf8"))},postMessage:function(e){a.postMessage(e)},performance:global.performance||{now:function(){return Date.now()}}})}var s=!1,n=[],i=function(){var e=Array.prototype.slice.call(arguments).join(" ");t?o.writeSync(2,e+"\\n"):console.error(e)};self.alert=function(){var t=Array.prototype.slice.call(arguments).join(" ");postMessage({cmd:"alert",text:t,threadId:e._pthread_self()})},e.instantiateWasm=(t,r)=>{var a=new WebAssembly.Instance(e.wasmModule,t);return r(a),e.wasmModule=null,a.exports},self.onunhandledrejection=e=>{throw e.reason??e},self.onmessage=t=>{try{if("load"===t.data.cmd){if(e.wasmModule=t.data.wasmModule,e.wasmMemory=t.data.wasmMemory,e.buffer=e.wasmMemory.buffer,e.ENVIRONMENT_IS_PTHREAD=!0,"string"==typeof t.data.urlOrBlob)importScripts(t.data.urlOrBlob);else{var r=URL.createObjectURL(t.data.urlOrBlob);importScripts(r),URL.revokeObjectURL(r)}ortWasmThreaded(e).then((function(t){e=t}))}else if("run"===t.data.cmd){e.__performance_now_clock_drift=performance.now()-t.data.time,e.__emscripten_thread_init(t.data.pthread_ptr,0,0,1),e.establishStackSpace(),e.PThread.receiveObjectTransfer(t.data),e.PThread.threadInitTLS(),s||(n.forEach((t=>{e.executeNotifiedProxyingQueue(t)})),n=[],s=!0);try{e.invokeEntryPoint(t.data.start_routine,t.data.arg)}catch(t){if("unwind"!=t){if(!(t instanceof e.ExitStatus))throw t;e.keepRuntimeAlive()||e.__emscripten_thread_exit(t.status)}}}else"cancel"===t.data.cmd?e._pthread_self()&&e.__emscripten_thread_exit(-1):"setimmediate"===t.data.target||("processProxyingQueue"===t.data.cmd?s?e.executeNotifiedProxyingQueue(t.data.queue):n.push(t.data.queue):(i("worker.js received unknown command "+t.data.cmd),i(t.data)))}catch(t){throw i("worker.js onmessage() captured an uncaught exception: "+t),t&&t.stack&&i(t.stack),e.__emscripten_thread_crashed&&e.__emscripten_thread_crashed(),t}};\n'},1670:e=>{"use strict";e.exports=__WEBPACK_EXTERNAL_MODULE__1670__},7067:()=>{},1296:()=>{},1384:()=>{},3993:()=>{},908:()=>{},6953:()=>{},9925:()=>{},2806:()=>{},6449:()=>{},2850:()=>{},5381:()=>{},5686:(e,t,n)=>{"use strict";n.r(t),n.d(t,{flatbuffers:()=>r});var r={};r.Offset,r.Table,r.SIZEOF_SHORT=2,r.SIZEOF_INT=4,r.FILE_IDENTIFIER_LENGTH=4,r.SIZE_PREFIX_LENGTH=4,r.Encoding={UTF8_BYTES:1,UTF16_STRING:2},r.int32=new Int32Array(2),r.float32=new Float32Array(r.int32.buffer),r.float64=new Float64Array(r.int32.buffer),r.isLittleEndian=1===new Uint16Array(new Uint8Array([1,0]).buffer)[0],r.Long=function(e,t){this.low=0|e,this.high=0|t},r.Long.create=function(e,t){return 0==e&&0==t?r.Long.ZERO:new r.Long(e,t)},r.Long.prototype.toFloat64=function(){return(this.low>>>0)+4294967296*this.high},r.Long.prototype.equals=function(e){return this.low==e.low&&this.high==e.high},r.Long.ZERO=new r.Long(0,0),r.Builder=function(e){if(e)t=e;else var t=1024;this.bb=r.ByteBuffer.allocate(t),this.space=t,this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1},r.Builder.prototype.clear=function(){this.bb.clear(),this.space=this.bb.capacity(),this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1},r.Builder.prototype.forceDefaults=function(e){this.force_defaults=e},r.Builder.prototype.dataBuffer=function(){return this.bb},r.Builder.prototype.asUint8Array=function(){return this.bb.bytes().subarray(this.bb.position(),this.bb.position()+this.offset())},r.Builder.prototype.prep=function(e,t){e>this.minalign&&(this.minalign=e);for(var n=1+~(this.bb.capacity()-this.space+t)&e-1;this.space<n+e+t;){var o=this.bb.capacity();this.bb=r.Builder.growByteBuffer(this.bb),this.space+=this.bb.capacity()-o}this.pad(n)},r.Builder.prototype.pad=function(e){for(var t=0;t<e;t++)this.bb.writeInt8(--this.space,0)},r.Builder.prototype.writeInt8=function(e){this.bb.writeInt8(this.space-=1,e)},r.Builder.prototype.writeInt16=function(e){this.bb.writeInt16(this.space-=2,e)},r.Builder.prototype.writeInt32=function(e){this.bb.writeInt32(this.space-=4,e)},r.Builder.prototype.writeInt64=function(e){this.bb.writeInt64(this.space-=8,e)},r.Builder.prototype.writeFloat32=function(e){this.bb.writeFloat32(this.space-=4,e)},r.Builder.prototype.writeFloat64=function(e){this.bb.writeFloat64(this.space-=8,e)},r.Builder.prototype.addInt8=function(e){this.prep(1,0),this.writeInt8(e)},r.Builder.prototype.addInt16=function(e){this.prep(2,0),this.writeInt16(e)},r.Builder.prototype.addInt32=function(e){this.prep(4,0),this.writeInt32(e)},r.Builder.prototype.addInt64=function(e){this.prep(8,0),this.writeInt64(e)},r.Builder.prototype.addFloat32=function(e){this.prep(4,0),this.writeFloat32(e)},r.Builder.prototype.addFloat64=function(e){this.prep(8,0),this.writeFloat64(e)},r.Builder.prototype.addFieldInt8=function(e,t,n){(this.force_defaults||t!=n)&&(this.addInt8(t),this.slot(e))},r.Builder.prototype.addFieldInt16=function(e,t,n){(this.force_defaults||t!=n)&&(this.addInt16(t),this.slot(e))},r.Builder.prototype.addFieldInt32=function(e,t,n){(this.force_defaults||t!=n)&&(this.addInt32(t),this.slot(e))},r.Builder.prototype.addFieldInt64=function(e,t,n){!this.force_defaults&&t.equals(n)||(this.addInt64(t),this.slot(e))},r.Builder.prototype.addFieldFloat32=function(e,t,n){(this.force_defaults||t!=n)&&(this.addFloat32(t),this.slot(e))},r.Builder.prototype.addFieldFloat64=function(e,t,n){(this.force_defaults||t!=n)&&(this.addFloat64(t),this.slot(e))},r.Builder.prototype.addFieldOffset=function(e,t,n){(this.force_defaults||t!=n)&&(this.addOffset(t),this.slot(e))},r.Builder.prototype.addFieldStruct=function(e,t,n){t!=n&&(this.nested(t),this.slot(e))},r.Builder.prototype.nested=function(e){if(e!=this.offset())throw new Error("FlatBuffers: struct must be serialized inline.")},r.Builder.prototype.notNested=function(){if(this.isNested)throw new Error("FlatBuffers: object serialization must not be nested.")},r.Builder.prototype.slot=function(e){this.vtable[e]=this.offset()},r.Builder.prototype.offset=function(){return this.bb.capacity()-this.space},r.Builder.growByteBuffer=function(e){var t=e.capacity();if(3221225472&t)throw new Error("FlatBuffers: cannot grow buffer beyond 2 gigabytes.");var n=t<<1,o=r.ByteBuffer.allocate(n);return o.setPosition(n-t),o.bytes().set(e.bytes(),n-t),o},r.Builder.prototype.addOffset=function(e){this.prep(r.SIZEOF_INT,0),this.writeInt32(this.offset()-e+r.SIZEOF_INT)},r.Builder.prototype.startObject=function(e){this.notNested(),null==this.vtable&&(this.vtable=[]),this.vtable_in_use=e;for(var t=0;t<e;t++)this.vtable[t]=0;this.isNested=!0,this.object_start=this.offset()},r.Builder.prototype.endObject=function(){if(null==this.vtable||!this.isNested)throw new Error("FlatBuffers: endObject called without startObject");this.addInt32(0);for(var e=this.offset(),t=this.vtable_in_use-1;t>=0&&0==this.vtable[t];t--);for(var n=t+1;t>=0;t--)this.addInt16(0!=this.vtable[t]?e-this.vtable[t]:0);this.addInt16(e-this.object_start);var o=(n+2)*r.SIZEOF_SHORT;this.addInt16(o);var i=0,s=this.space;e:for(t=0;t<this.vtables.length;t++){var a=this.bb.capacity()-this.vtables[t];if(o==this.bb.readInt16(a)){for(var c=r.SIZEOF_SHORT;c<o;c+=r.SIZEOF_SHORT)if(this.bb.readInt16(s+c)!=this.bb.readInt16(a+c))continue e;i=this.vtables[t];break}}return i?(this.space=this.bb.capacity()-e,this.bb.writeInt32(this.space,i-e)):(this.vtables.push(this.offset()),this.bb.writeInt32(this.bb.capacity()-e,this.offset()-e)),this.isNested=!1,e},r.Builder.prototype.finish=function(e,t,n){var o=n?r.SIZE_PREFIX_LENGTH:0;if(t){var i=t;if(this.prep(this.minalign,r.SIZEOF_INT+r.FILE_IDENTIFIER_LENGTH+o),i.length!=r.FILE_IDENTIFIER_LENGTH)throw new Error("FlatBuffers: file identifier must be length "+r.FILE_IDENTIFIER_LENGTH);for(var s=r.FILE_IDENTIFIER_LENGTH-1;s>=0;s--)this.writeInt8(i.charCodeAt(s))}this.prep(this.minalign,r.SIZEOF_INT+o),this.addOffset(e),o&&this.addInt32(this.bb.capacity()-this.space),this.bb.setPosition(this.space)},r.Builder.prototype.finishSizePrefixed=function(e,t){this.finish(e,t,!0)},r.Builder.prototype.requiredField=function(e,t){var n=this.bb.capacity()-e,r=n-this.bb.readInt32(n);if(0==this.bb.readInt16(r+t))throw new Error("FlatBuffers: field "+t+" must be set")},r.Builder.prototype.startVector=function(e,t,n){this.notNested(),this.vector_num_elems=t,this.prep(r.SIZEOF_INT,e*t),this.prep(n,e*t)},r.Builder.prototype.endVector=function(){return this.writeInt32(this.vector_num_elems),this.offset()},r.Builder.prototype.createString=function(e){if(e instanceof Uint8Array)var t=e;else{t=[];for(var n=0;n<e.length;){var r,o=e.charCodeAt(n++);(r=o<55296||o>=56320?o:(o<<10)+e.charCodeAt(n++)+-56613888)<128?t.push(r):(r<2048?t.push(r>>6&31|192):(r<65536?t.push(r>>12&15|224):t.push(r>>18&7|240,r>>12&63|128),t.push(r>>6&63|128)),t.push(63&r|128))}}this.addInt8(0),this.startVector(1,t.length,1),this.bb.setPosition(this.space-=t.length),n=0;for(var i=this.space,s=this.bb.bytes();n<t.length;n++)s[i++]=t[n];return this.endVector()},r.Builder.prototype.createLong=function(e,t){return r.Long.create(e,t)},r.ByteBuffer=function(e){this.bytes_=e,this.position_=0},r.ByteBuffer.allocate=function(e){return new r.ByteBuffer(new Uint8Array(e))},r.ByteBuffer.prototype.clear=function(){this.position_=0},r.ByteBuffer.prototype.bytes=function(){return this.bytes_},r.ByteBuffer.prototype.position=function(){return this.position_},r.ByteBuffer.prototype.setPosition=function(e){this.position_=e},r.ByteBuffer.prototype.capacity=function(){return this.bytes_.length},r.ByteBuffer.prototype.readInt8=function(e){return this.readUint8(e)<<24>>24},r.ByteBuffer.prototype.readUint8=function(e){return this.bytes_[e]},r.ByteBuffer.prototype.readInt16=function(e){return this.readUint16(e)<<16>>16},r.ByteBuffer.prototype.readUint16=function(e){return this.bytes_[e]|this.bytes_[e+1]<<8},r.ByteBuffer.prototype.readInt32=function(e){return this.bytes_[e]|this.bytes_[e+1]<<8|this.bytes_[e+2]<<16|this.bytes_[e+3]<<24},r.ByteBuffer.prototype.readUint32=function(e){return this.readInt32(e)>>>0},r.ByteBuffer.prototype.readInt64=function(e){return new r.Long(this.readInt32(e),this.readInt32(e+4))},r.ByteBuffer.prototype.readUint64=function(e){return new r.Long(this.readUint32(e),this.readUint32(e+4))},r.ByteBuffer.prototype.readFloat32=function(e){return r.int32[0]=this.readInt32(e),r.float32[0]},r.ByteBuffer.prototype.readFloat64=function(e){return r.int32[r.isLittleEndian?0:1]=this.readInt32(e),r.int32[r.isLittleEndian?1:0]=this.readInt32(e+4),r.float64[0]},r.ByteBuffer.prototype.writeInt8=function(e,t){this.bytes_[e]=t},r.ByteBuffer.prototype.writeUint8=function(e,t){this.bytes_[e]=t},r.ByteBuffer.prototype.writeInt16=function(e,t){this.bytes_[e]=t,this.bytes_[e+1]=t>>8},r.ByteBuffer.prototype.writeUint16=function(e,t){this.bytes_[e]=t,this.bytes_[e+1]=t>>8},r.ByteBuffer.prototype.writeInt32=function(e,t){this.bytes_[e]=t,this.bytes_[e+1]=t>>8,this.bytes_[e+2]=t>>16,this.bytes_[e+3]=t>>24},r.ByteBuffer.prototype.writeUint32=function(e,t){this.bytes_[e]=t,this.bytes_[e+1]=t>>8,this.bytes_[e+2]=t>>16,this.bytes_[e+3]=t>>24},r.ByteBuffer.prototype.writeInt64=function(e,t){this.writeInt32(e,t.low),this.writeInt32(e+4,t.high)},r.ByteBuffer.prototype.writeUint64=function(e,t){this.writeUint32(e,t.low),this.writeUint32(e+4,t.high)},r.ByteBuffer.prototype.writeFloat32=function(e,t){r.float32[0]=t,this.writeInt32(e,r.int32[0])},r.ByteBuffer.prototype.writeFloat64=function(e,t){r.float64[0]=t,this.writeInt32(e,r.int32[r.isLittleEndian?0:1]),this.writeInt32(e+4,r.int32[r.isLittleEndian?1:0])},r.ByteBuffer.prototype.getBufferIdentifier=function(){if(this.bytes_.length<this.position_+r.SIZEOF_INT+r.FILE_IDENTIFIER_LENGTH)throw new Error("FlatBuffers: ByteBuffer is too short to contain an identifier.");for(var e="",t=0;t<r.FILE_IDENTIFIER_LENGTH;t++)e+=String.fromCharCode(this.readInt8(this.position_+r.SIZEOF_INT+t));return e},r.ByteBuffer.prototype.__offset=function(e,t){var n=e-this.readInt32(e);return t<this.readInt16(n)?this.readInt16(n+t):0},r.ByteBuffer.prototype.__union=function(e,t){return e.bb_pos=t+this.readInt32(t),e.bb=this,e},r.ByteBuffer.prototype.__string=function(e,t){e+=this.readInt32(e);var n=this.readInt32(e),o="",i=0;if(e+=r.SIZEOF_INT,t===r.Encoding.UTF8_BYTES)return this.bytes_.subarray(e,e+n);for(;i<n;){var s,a=this.readUint8(e+i++);if(a<192)s=a;else{var c=this.readUint8(e+i++);if(a<224)s=(31&a)<<6|63&c;else{var l=this.readUint8(e+i++);s=a<240?(15&a)<<12|(63&c)<<6|63&l:(7&a)<<18|(63&c)<<12|(63&l)<<6|63&this.readUint8(e+i++)}}s<65536?o+=String.fromCharCode(s):(s-=65536,o+=String.fromCharCode(55296+(s>>10),56320+(1023&s)))}return o},r.ByteBuffer.prototype.__indirect=function(e){return e+this.readInt32(e)},r.ByteBuffer.prototype.__vector=function(e){return e+this.readInt32(e)+r.SIZEOF_INT},r.ByteBuffer.prototype.__vector_len=function(e){return this.readInt32(e+this.readInt32(e))},r.ByteBuffer.prototype.__has_identifier=function(e){if(e.length!=r.FILE_IDENTIFIER_LENGTH)throw new Error("FlatBuffers: file identifier must be length "+r.FILE_IDENTIFIER_LENGTH);for(var t=0;t<r.FILE_IDENTIFIER_LENGTH;t++)if(e.charCodeAt(t)!=this.readInt8(this.position_+r.SIZEOF_INT+t))return!1;return!0},r.ByteBuffer.prototype.createLong=function(e,t){return r.Long.create(e,t)}}},__webpack_module_cache__={};function __nested_webpack_require_546802__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var n=__webpack_module_cache__[e]={exports:{}};return __webpack_modules__[e].call(n.exports,n,n.exports,__nested_webpack_require_546802__),n.exports}__nested_webpack_require_546802__.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return __nested_webpack_require_546802__.d(t,{a:t}),t},__nested_webpack_require_546802__.d=(e,t)=>{for(var n in t)__nested_webpack_require_546802__.o(t,n)&&!__nested_webpack_require_546802__.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},__nested_webpack_require_546802__.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),__nested_webpack_require_546802__.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),__nested_webpack_require_546802__.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var __nested_webpack_exports__=__nested_webpack_require_546802__(6018);return __nested_webpack_exports__})(),module.exports=e(__webpack_require__(23450))},77312:(e,t,n)=>{"use strict";n.d(t,{$r:()=>ie,AB:()=>W,Ax:()=>v,Ct:()=>L,Cz:()=>K,EO:()=>se,KG:()=>J,LK:()=>te,Ml:()=>y,Mw:()=>z,NO:()=>S,NZ:()=>ee,Pg:()=>N,Qm:()=>_,T_:()=>I,VD:()=>P,VO:()=>V,Wm:()=>X,Xn:()=>Z,ZV:()=>l,cs:()=>w,cy:()=>U,eY:()=>C,eh:()=>ae,fB:()=>x,fP:()=>g,gB:()=>p,hr:()=>b,iZ:()=>re,ih:()=>H,lH:()=>ne,lk:()=>f,mR:()=>c,mU:()=>R,mr:()=>B,qG:()=>A,rI:()=>D,rU:()=>k,r_:()=>a,rj:()=>T,rt:()=>O,sC:()=>F,sd:()=>oe,si:()=>Y,wp:()=>h,xi:()=>Q,y2:()=>M,y3:()=>E,yl:()=>u,zC:()=>m,zX:()=>d,zb:()=>q});var r=n(23174),o=n(96454),i=n(91525),s=n(86525);function a(e){return e.content}function c(e){return Boolean(u(e)||d(e)||m(e)||g(e)||_(e)||w(e)||function(e){return e.content.todo}(e)||function(e){return e.content.action}(e)||h(e)||p(e))}function l(e){const{video:t,...n}=e.content;return!t?.isRound&&!Object.keys(n).length}function u(e){return e.content.photo}function d(e){return e.content.video}function f(e){const{video:t}=e.content;return t?.isRound?t:void 0}function h(e){return e.content.audio}function p(e){return e.content.voice}function g(e){return e.content.sticker}function m(e){return e.content.document}function y(e){return"photo"===e.innerMediaType}function b(e){return"video"===e.innerMediaType}function v(e){const t=m(e);return t?"image/webp"===t.mimeType:void 0}function _(e){return e.content.contact}function w(e){return e.content.pollId}function S(e){return e.content.invoice}function x(e){return e.content.location}function I(e){return e.content.webPage}function A(e){return e.content.paidMedia}function C(e){return"full"===e?.webpageType?e.photo:void 0}function k(e){return"full"===e?.webpageType?e.video:void 0}function E(e){return"full"===e?.webpageType?e.audio:void 0}function T(e){return"full"===e?.webpageType?e.document:void 0}function P(e){return e.thumbnail?.dataUri}function M(e){const t=u(e)||d(e),n=S(e)?.extendedMedia;return Boolean(n||t?.isSpoiler)}function O(e,t,n,r,o){const{long:i,lat:s,accessHash:a,accuracyRadius:c}=e;return`staticMap:${a}?lat=${s}&long=${i}&w=${t}&h=${n}&zoom=${r}&scale=${o}&accuracyRadius=${c}`}function D(e,t,n){const r=`photo${e.id}`,o="photo"===e.mediaType&&e.isVideo;switch(t){case"micro":case"pictogram":return`${r}?size=${n?"a":"m"}`;case"inline":return J(e)?void 0:`${r}?size=${n?"b":"x"}`;case"preview":return`${r}?size=${n?"b":"x"}`;case"download":return o?N(e):r;default:return r}}function R(e){return`photo${e.id}?size=c`}function N(e){if(e.isVideo)return`photo${e.id}?size=u`}function F(e,t){const n=`document${e.id}`;switch(t){case"micro":case"pictogram":return`${n}?size=m`;case"inline":return J(e)?void 0:G(e,n);case"preview":return`${n}?size=x`;case"download":return`${n}?download`;default:return G(e,n)}}function L(e){return e.hasVideoPreview?`document${e.id}?size=v`:void 0}function B(e,t){const n=`document${e.id}`;switch(t){case"micro":case"pictogram":case"inline":case"preview":if(!(0,i.ON)(e)||J(e))return;return`${n}?size=m`;default:return n}}function $(e,t){const n=`document${e.id}`;switch(t){case"micro":case"pictogram":return W(e)?`${n}?size=m`:void 0;case"inline":return G(e,n);case"download":return`${n}?download`;default:return n}}function j(e,t){const n=`document${e.id}`;switch(t){case"micro":case"pictogram":return;case"download":return`${n}?download`;default:return n}}function U(e){if(e)return`webDocument:${e.url}`}function z(e,t){const n=`document${e.id}`;switch(t){case"micro":case"pictogram":return e.previewPhotoSizes?.some(e=>"s"===e.type)?`${n}?size=s`:z(e,"preview");case"preview":return`${n}?size=m`;case"download":return`${n}?download`;default:return n}}function V(e,t){switch(e.mediaType){case"photo":return D(e,t);case"video":return F(e,t);case"document":return B(e,t);case"audio":return $(e,t);case"voice":return j(e,t);case"sticker":return z(e,t);case"webDocument":return U(e);default:return}}function q(e){const{photo:t}=e;if(t)return`photo${t.id}?size=x`}function H(e){const{document:t}=e;if(t)return`document${t.id}`}function G(e,t){if(o.Uz&&o.Yw){const n=new URL(t,window.location.href);return n.searchParams.append("fileSize",e.size.toString()),n.searchParams.append("mimeType",e.mimeType),n.toString()}return t}function W(e){return e.thumbnailSizes&&e.thumbnailSizes.length>0}function K(e,t){const n="document"===e.mediaType&&"video"===e.innerMediaType,i="video"===e.mediaType||n,s="audio"===e.mediaType,a="voice"===e.mediaType,c=Y(e)||0;return"download"===t?o.Uz&&c>o.kn&&!o.l5?r.qZ.DownloadUrl:r.qZ.BlobUrl:i&&o.Uz&&("full"===t||"inline"===t)?r.qZ.Progressive:s||a?a&&!o.Oo?r.qZ.BlobUrl:r.qZ.Progressive:r.qZ.BlobUrl}function Y(e){return"size"in e?e.size:void 0}function J(e){return"blobUrl"in e?Boolean(e.blobUrl):"previewBlobUrl"in e&&Boolean(e.previewBlobUrl)}function X(e,t,n=!1){return ne(e,t,n?"media":"inlineMedia")}function Z(e){return e.sizes.find(e=>"w"===e.type)||e.sizes.find(e=>"y"===e.type)||Q(e)}function Q(e){return e.sizes.find(e=>"x"===e.type)||e.sizes.find(e=>"m"===e.type)||e.sizes.find(e=>"s"===e.type)||e.thumbnail}function ee(e){if(e.width&&e.height)return e}function te(e,t=!1,n=!1){return{isUploading:n,isTransferring:n||t,transferProgress:Number(e)}}function ne(e,t,n){let r;switch(n){case"media":r=e=>{const t=d(e);return u(e)||t&&!t.isRound&&!t.isGif};break;case"documents":r=m;break;case"links":r=e=>I(e)||(0,s.xH)(e);break;case"audio":r=h;break;case"voice":r=e=>{const t=d(e);return p(e)||t&&t.isRound};break;case"inlineMedia":r=e=>{const t=d(e),n=m(e);return u(e)||t&&!t.isRound&&!t.isGif||n&&y(n)||n&&b(n)};break;default:return[]}return t.reduce((t,n)=>(e[n]&&r(e[n])&&t.push(n),t),[])}function re(e){return!(!e.content||!e.content.photo&&(!e.content.video||e.content.video.isRound||e.content.video.isGif))}function oe(e){if("fileName"in e&&e.fileName)return e.fileName;if("sticker"===e.mediaType){const t=e.isLottie?"tgs":e.isVideo?"webm":"webp";return`${e.id}.${t}`}return"photo"===e.mediaType?`${e.id}.${e.isVideo?"mp4":"jpg"}`:"voice"===e.mediaType?`${e.id}.${o.Oo?"ogg":"wav"}`:"id"in e&&e.id?e.id:`${e.mediaType}-${Math.random().toString(36).slice(4)}`}function ie(e,t){const n=V(t,"download");return!!n&&Boolean(e[n])}function se(e,t,n){const{video:r,sticker:o,audio:i,voice:s,document:a}=e.content,{webPage:c}=t,l=u(e)||C(c),d=function(e){return"suggestProfilePhoto"===e.content.action?.type?e.content.action.photo:void 0}(e),f=r||k(c),h=a||T(c),p=i||E(c);return f?F(f,n):l||d?D(l||d,n,Boolean(d)):h?B(h,n):o?z(o,n):p?$(p,n):s?j(s,n):void 0}function ae(e,t){const n=Boolean(u(e)||d(e)),r=Boolean(h(e)||p(e)||m(e)),o=(0,s.ES)(t);return n&&("photo"===o||"video"===o)||r&&("audio"===o||"file"===o)}},77523:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(84051),o=n(31481),i=n(96454);const s=e=>{const t=(0,r.li)(!1),n=(0,r.li)(window.screenX),s=(0,r.li)(window.screenY),a=(0,r.li)(0);(0,r.vJ)(()=>{const r=e.current;if(!r||!i.cp||!i.MP)return;const c=e=>{t.current&&(e.preventDefault(),e.stopPropagation(),t.current=!1,document.body.dispatchEvent(new CustomEvent(o.wwD)))},l=e=>{a.current=0,t.current=!1,n.current=window.screenX,s.current=window.screenY},u=e=>{if(1===e.buttons){const e=n.current-window.screenX,r=s.current-window.screenY,i=Math.sqrt(e**2+r**2);a.current+=i,n.current=window.screenX,s.current=window.screenY,!t.current&&a.current>5&&(t.current=!0,document.body.dispatchEvent(new CustomEvent(o.D2Y)))}},d=e=>{e.currentTarget===e.target&&window.electron?.handleDoubleClick()};return r.addEventListener("click",c),r.addEventListener("mousedown",l),r.addEventListener("mousemove",u),r.addEventListener("dblclick",d),()=>{r.removeEventListener("click",c),r.removeEventListener("mousedown",l),r.removeEventListener("mousemove",u),r.removeEventListener("dblclick",d)}},[e])}},77537:(e,t,n)=>{"use strict";var r=n(96540),o=n(58168),i=n(53986),s=n(55041),a=n(10467),c=n(89379),l=n(60436),u=n(23029),d=n(92901),f=n(9417),h=n(85501),p=n(29426),g=n(64467),m=n(82546),y=n(43210),b=n(68210),v="RC_FORM_INTERNAL_HOOKS",_=function(){(0,b.Ay)(!1,"Can not find FormContext. Please make sure you wrap Field under Form.")};const w=r.createContext({getFieldValue:_,getFieldsValue:_,getFieldError:_,getFieldWarning:_,getFieldsError:_,isFieldsTouched:_,isFieldTouched:_,isFieldValidating:_,isFieldsValidating:_,resetFields:_,setFields:_,setFieldValue:_,setFieldsValue:_,validateFields:_,submit:_,getInternalHooks:function(){return _(),{dispatch:_,initEntityValue:_,registerField:_,useSubscribe:_,setInitialValues:_,destroyForm:_,setCallbacks:_,registerWatch:_,getFields:_,setValidateMessages:_,setPreserve:_,getInitialValue:_}}}),S=r.createContext(null);function x(e){return null==e?[]:Array.isArray(e)?e:[e]}var I=n(82284);function A(){return{default:"Validation error on field %s",required:"%s is required",enum:"%s must be one of %s",whitespace:"%s cannot be empty",date:{format:"%s date %s is invalid for format %s",parse:"%s date could not be parsed, %s is invalid ",invalid:"%s date %s is invalid"},types:{string:"%s is not a %s",method:"%s is not a %s (function)",array:"%s is not an %s",object:"%s is not an %s",number:"%s is not a %s",date:"%s is not a %s",boolean:"%s is not a %s",integer:"%s is not an %s",float:"%s is not a %s",regexp:"%s is not a valid %s",email:"%s is not a valid %s",url:"%s is not a valid %s",hex:"%s is not a valid %s"},string:{len:"%s must be exactly %s characters",min:"%s must be at least %s characters",max:"%s cannot be longer than %s characters",range:"%s must be between %s and %s characters"},number:{len:"%s must equal %s",min:"%s cannot be less than %s",max:"%s cannot be greater than %s",range:"%s must be between %s and %s"},array:{len:"%s must be exactly %s in length",min:"%s cannot be less than %s in length",max:"%s cannot be greater than %s in length",range:"%s must be between %s and %s in length"},pattern:{mismatch:"%s value %s does not match pattern %s"},clone:function(){var e=JSON.parse(JSON.stringify(this));return e.clone=this.clone,e}}}var C=A(),k=n(53954),E=n(63662),T=n(52176);function P(e){var t="function"==typeof Map?new Map:void 0;return P=function(e){if(null===e||!function(e){try{return-1!==Function.toString.call(e).indexOf("[native code]")}catch(t){return"function"==typeof e}}(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return function(e,t,n){if((0,T.A)())return Reflect.construct.apply(null,arguments);var r=[null];r.push.apply(r,t);var o=new(e.bind.apply(e,r));return n&&(0,E.A)(o,n.prototype),o}(e,arguments,(0,k.A)(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),(0,E.A)(n,e)},P(e)}var M=/%[sdj%]/g;function O(e){if(!e||!e.length)return null;var t={};return e.forEach(function(e){var n=e.field;t[n]=t[n]||[],t[n].push(e)}),t}function D(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var o=0,i=n.length;return"function"==typeof e?e.apply(null,n):"string"==typeof e?e.replace(M,function(e){if("%%"===e)return"%";if(o>=i)return e;switch(e){case"%s":return String(n[o++]);case"%d":return Number(n[o++]);case"%j":try{return JSON.stringify(n[o++])}catch(e){return"[Circular]"}default:return e}}):e}function R(e,t){return null==e||!("array"!==t||!Array.isArray(e)||e.length)||!(!function(e){return"string"===e||"url"===e||"hex"===e||"email"===e||"date"===e||"pattern"===e}(t)||"string"!=typeof e||e)}function N(e,t,n){var r=0,o=e.length;!function i(s){if(s&&s.length)n(s);else{var a=r;r+=1,a<o?t(e[a],i):n([])}}([])}"undefined"!=typeof process&&process.env;var F=function(e){(0,h.A)(n,e);var t=(0,p.A)(n);function n(e,r){var o;return(0,u.A)(this,n),o=t.call(this,"Async Validation Error"),(0,g.A)((0,f.A)(o),"errors",void 0),(0,g.A)((0,f.A)(o),"fields",void 0),o.errors=e,o.fields=r,o}return(0,d.A)(n)}(P(Error));function L(e,t){return function(n){var r,o;return r=e.fullFields?function(e,t){for(var n=e,r=0;r<t.length;r++){if(null==n)return n;n=n[t[r]]}return n}(t,e.fullFields):t[n.field||e.fullField],(o=n)&&void 0!==o.message?(n.field=n.field||e.fullField,n.fieldValue=r,n):{message:"function"==typeof n?n():n,fieldValue:r,field:n.field||e.fullField}}}function B(e,t){if(t)for(var n in t)if(t.hasOwnProperty(n)){var r=t[n];"object"===(0,I.A)(r)&&"object"===(0,I.A)(e[n])?e[n]=(0,c.A)((0,c.A)({},e[n]),r):e[n]=r}return e}var $="enum";const j=function(e,t,n,r,o,i){!e.required||n.hasOwnProperty(e.field)&&!R(t,i||e.type)||r.push(D(o.messages.required,e.fullField))};var U,z=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+\.)+[a-zA-Z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,}))$/,V=/^#?([a-f0-9]{6}|[a-f0-9]{3})$/i,q={integer:function(e){return q.number(e)&&parseInt(e,10)===e},float:function(e){return q.number(e)&&!q.integer(e)},array:function(e){return Array.isArray(e)},regexp:function(e){if(e instanceof RegExp)return!0;try{return!!new RegExp(e)}catch(e){return!1}},date:function(e){return"function"==typeof e.getTime&&"function"==typeof e.getMonth&&"function"==typeof e.getYear&&!isNaN(e.getTime())},number:function(e){return!isNaN(e)&&"number"==typeof e},object:function(e){return"object"===(0,I.A)(e)&&!q.array(e)},method:function(e){return"function"==typeof e},email:function(e){return"string"==typeof e&&e.length<=320&&!!e.match(z)},url:function(e){return"string"==typeof e&&e.length<=2048&&!!e.match(function(){if(U)return U;var e="[a-fA-F\\d:]",t=function(t){return t&&t.includeBoundaries?"(?:(?<=\\s|^)(?=".concat(e,")|(?<=").concat(e,")(?=\\s|$))"):""},n="(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}",r="[a-fA-F\\d]{1,4}",o=["(?:".concat(r,":){7}(?:").concat(r,"|:)"),"(?:".concat(r,":){6}(?:").concat(n,"|:").concat(r,"|:)"),"(?:".concat(r,":){5}(?::").concat(n,"|(?::").concat(r,"){1,2}|:)"),"(?:".concat(r,":){4}(?:(?::").concat(r,"){0,1}:").concat(n,"|(?::").concat(r,"){1,3}|:)"),"(?:".concat(r,":){3}(?:(?::").concat(r,"){0,2}:").concat(n,"|(?::").concat(r,"){1,4}|:)"),"(?:".concat(r,":){2}(?:(?::").concat(r,"){0,3}:").concat(n,"|(?::").concat(r,"){1,5}|:)"),"(?:".concat(r,":){1}(?:(?::").concat(r,"){0,4}:").concat(n,"|(?::").concat(r,"){1,6}|:)"),"(?::(?:(?::".concat(r,"){0,5}:").concat(n,"|(?::").concat(r,"){1,7}|:))")],i="(?:".concat(o.join("|"),")").concat("(?:%[0-9a-zA-Z]{1,})?"),s=new RegExp("(?:^".concat(n,"$)|(?:^").concat(i,"$)")),a=new RegExp("^".concat(n,"$")),c=new RegExp("^".concat(i,"$")),l=function(e){return e&&e.exact?s:new RegExp("(?:".concat(t(e)).concat(n).concat(t(e),")|(?:").concat(t(e)).concat(i).concat(t(e),")"),"g")};l.v4=function(e){return e&&e.exact?a:new RegExp("".concat(t(e)).concat(n).concat(t(e)),"g")},l.v6=function(e){return e&&e.exact?c:new RegExp("".concat(t(e)).concat(i).concat(t(e)),"g")};var u=l.v4().source,d=l.v6().source,f="(?:".concat("(?:(?:[a-z]+:)?//)","|www\\.)").concat("(?:\\S+(?::\\S*)?@)?","(?:localhost|").concat(u,"|").concat(d,"|").concat("(?:(?:[a-z\\u00a1-\\uffff0-9][-_]*)*[a-z\\u00a1-\\uffff0-9]+)").concat("(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*").concat("(?:\\.(?:[a-z\\u00a1-\\uffff]{2,}))",")").concat("(?::\\d{2,5})?").concat('(?:[/?#][^\\s"]*)?');return U=new RegExp("(?:^".concat(f,"$)"),"i")}())},hex:function(e){return"string"==typeof e&&!!e.match(V)}};const H=j,G=function(e,t,n,r,o){(/^\s+$/.test(t)||""===t)&&r.push(D(o.messages.whitespace,e.fullField))},W=function(e,t,n,r,o){if(e.required&&void 0===t)j(e,t,n,r,o);else{var i=e.type;["integer","float","array","regexp","object","method","email","number","date","url","hex"].indexOf(i)>-1?q[i](t)||r.push(D(o.messages.types[i],e.fullField,e.type)):i&&(0,I.A)(t)!==e.type&&r.push(D(o.messages.types[i],e.fullField,e.type))}},K=function(e,t,n,r,o){var i="number"==typeof e.len,s="number"==typeof e.min,a="number"==typeof e.max,c=t,l=null,u="number"==typeof t,d="string"==typeof t,f=Array.isArray(t);if(u?l="number":d?l="string":f&&(l="array"),!l)return!1;f&&(c=t.length),d&&(c=t.replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"_").length),i?c!==e.len&&r.push(D(o.messages[l].len,e.fullField,e.len)):s&&!a&&c<e.min?r.push(D(o.messages[l].min,e.fullField,e.min)):a&&!s&&c>e.max?r.push(D(o.messages[l].max,e.fullField,e.max)):s&&a&&(c<e.min||c>e.max)&&r.push(D(o.messages[l].range,e.fullField,e.min,e.max))},Y=function(e,t,n,r,o){e[$]=Array.isArray(e[$])?e[$]:[],-1===e[$].indexOf(t)&&r.push(D(o.messages[$],e.fullField,e[$].join(", ")))},J=function(e,t,n,r,o){e.pattern&&(e.pattern instanceof RegExp?(e.pattern.lastIndex=0,e.pattern.test(t)||r.push(D(o.messages.pattern.mismatch,e.fullField,t,e.pattern))):"string"==typeof e.pattern&&(new RegExp(e.pattern).test(t)||r.push(D(o.messages.pattern.mismatch,e.fullField,t,e.pattern))))},X=function(e,t,n,r,o){var i=e.type,s=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(R(t,i)&&!e.required)return n();H(e,t,r,s,o,i),R(t,i)||W(e,t,r,s,o)}n(s)},Z={string:function(e,t,n,r,o){var i=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(R(t,"string")&&!e.required)return n();H(e,t,r,i,o,"string"),R(t,"string")||(W(e,t,r,i,o),K(e,t,r,i,o),J(e,t,r,i,o),!0===e.whitespace&&G(e,t,r,i,o))}n(i)},method:function(e,t,n,r,o){var i=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(R(t)&&!e.required)return n();H(e,t,r,i,o),void 0!==t&&W(e,t,r,i,o)}n(i)},number:function(e,t,n,r,o){var i=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(""===t&&(t=void 0),R(t)&&!e.required)return n();H(e,t,r,i,o),void 0!==t&&(W(e,t,r,i,o),K(e,t,r,i,o))}n(i)},boolean:function(e,t,n,r,o){var i=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(R(t)&&!e.required)return n();H(e,t,r,i,o),void 0!==t&&W(e,t,r,i,o)}n(i)},regexp:function(e,t,n,r,o){var i=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(R(t)&&!e.required)return n();H(e,t,r,i,o),R(t)||W(e,t,r,i,o)}n(i)},integer:function(e,t,n,r,o){var i=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(R(t)&&!e.required)return n();H(e,t,r,i,o),void 0!==t&&(W(e,t,r,i,o),K(e,t,r,i,o))}n(i)},float:function(e,t,n,r,o){var i=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(R(t)&&!e.required)return n();H(e,t,r,i,o),void 0!==t&&(W(e,t,r,i,o),K(e,t,r,i,o))}n(i)},array:function(e,t,n,r,o){var i=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(null==t&&!e.required)return n();H(e,t,r,i,o,"array"),null!=t&&(W(e,t,r,i,o),K(e,t,r,i,o))}n(i)},object:function(e,t,n,r,o){var i=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(R(t)&&!e.required)return n();H(e,t,r,i,o),void 0!==t&&W(e,t,r,i,o)}n(i)},enum:function(e,t,n,r,o){var i=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(R(t)&&!e.required)return n();H(e,t,r,i,o),void 0!==t&&Y(e,t,r,i,o)}n(i)},pattern:function(e,t,n,r,o){var i=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(R(t,"string")&&!e.required)return n();H(e,t,r,i,o),R(t,"string")||J(e,t,r,i,o)}n(i)},date:function(e,t,n,r,o){var i=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(R(t,"date")&&!e.required)return n();var s;H(e,t,r,i,o),R(t,"date")||(s=t instanceof Date?t:new Date(t),W(e,s,r,i,o),s&&K(e,s.getTime(),r,i,o))}n(i)},url:X,hex:X,email:X,required:function(e,t,n,r,o){var i=[],s=Array.isArray(t)?"array":(0,I.A)(t);H(e,t,r,i,o,s),n(i)},any:function(e,t,n,r,o){var i=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(R(t)&&!e.required)return n();H(e,t,r,i,o)}n(i)}};var Q=function(){function e(t){(0,u.A)(this,e),(0,g.A)(this,"rules",null),(0,g.A)(this,"_messages",C),this.define(t)}return(0,d.A)(e,[{key:"define",value:function(e){var t=this;if(!e)throw new Error("Cannot configure a schema with no rules");if("object"!==(0,I.A)(e)||Array.isArray(e))throw new Error("Rules must be an object");this.rules={},Object.keys(e).forEach(function(n){var r=e[n];t.rules[n]=Array.isArray(r)?r:[r]})}},{key:"messages",value:function(e){return e&&(this._messages=B(A(),e)),this._messages}},{key:"validate",value:function(t){var n=this,r=t,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){};if("function"==typeof o&&(i=o,o={}),!this.rules||0===Object.keys(this.rules).length)return i&&i(null,r),Promise.resolve(r);if(o.messages){var s=this.messages();s===C&&(s=A()),B(s,o.messages),o.messages=s}else o.messages=this.messages();var a={};(o.keys||Object.keys(this.rules)).forEach(function(e){var o=n.rules[e],i=r[e];o.forEach(function(o){var s=o;"function"==typeof s.transform&&(r===t&&(r=(0,c.A)({},r)),null!=(i=r[e]=s.transform(i))&&(s.type=s.type||(Array.isArray(i)?"array":(0,I.A)(i)))),(s="function"==typeof s?{validator:s}:(0,c.A)({},s)).validator=n.getValidationMethod(s),s.validator&&(s.field=e,s.fullField=s.fullField||e,s.type=n.getType(s),a[e]=a[e]||[],a[e].push({rule:s,value:i,source:r,field:e}))})});var u={};return function(e,t,n,r,o){if(t.first){var i=new Promise(function(t,i){var s=function(e){var t=[];return Object.keys(e).forEach(function(n){t.push.apply(t,(0,l.A)(e[n]||[]))}),t}(e);N(s,n,function(e){return r(e),e.length?i(new F(e,O(e))):t(o)})});return i.catch(function(e){return e}),i}var s=!0===t.firstFields?Object.keys(e):t.firstFields||[],a=Object.keys(e),c=a.length,u=0,d=[],f=new Promise(function(t,i){var f=function(e){if(d.push.apply(d,e),++u===c)return r(d),d.length?i(new F(d,O(d))):t(o)};a.length||(r(d),t(o)),a.forEach(function(t){var r=e[t];-1!==s.indexOf(t)?N(r,n,f):function(e,t,n){var r=[],o=0,i=e.length;function s(e){r.push.apply(r,(0,l.A)(e||[])),++o===i&&n(r)}e.forEach(function(e){t(e,s)})}(r,n,f)})});return f.catch(function(e){return e}),f}(a,o,function(t,n){var i,s=t.rule,a=!("object"!==s.type&&"array"!==s.type||"object"!==(0,I.A)(s.fields)&&"object"!==(0,I.A)(s.defaultField));function d(e,t){return(0,c.A)((0,c.A)({},t),{},{fullField:"".concat(s.fullField,".").concat(e),fullFields:s.fullFields?[].concat((0,l.A)(s.fullFields),[e]):[e]})}function f(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],f=Array.isArray(i)?i:[i];!o.suppressWarning&&f.length&&e.warning("async-validator:",f),f.length&&void 0!==s.message&&(f=[].concat(s.message));var h=f.map(L(s,r));if(o.first&&h.length)return u[s.field]=1,n(h);if(a){if(s.required&&!t.value)return void 0!==s.message?h=[].concat(s.message).map(L(s,r)):o.error&&(h=[o.error(s,D(o.messages.required,s.field))]),n(h);var p={};s.defaultField&&Object.keys(t.value).map(function(e){p[e]=s.defaultField}),p=(0,c.A)((0,c.A)({},p),t.rule.fields);var g={};Object.keys(p).forEach(function(e){var t=p[e],n=Array.isArray(t)?t:[t];g[e]=n.map(d.bind(null,e))});var m=new e(g);m.messages(o.messages),t.rule.options&&(t.rule.options.messages=o.messages,t.rule.options.error=o.error),m.validate(t.value,t.rule.options||o,function(e){var t=[];h&&h.length&&t.push.apply(t,(0,l.A)(h)),e&&e.length&&t.push.apply(t,(0,l.A)(e)),n(t.length?t:null)})}else n(h)}if(a=a&&(s.required||!s.required&&t.value),s.field=t.field,s.asyncValidator)i=s.asyncValidator(s,t.value,f,t.source,o);else if(s.validator){try{i=s.validator(s,t.value,f,t.source,o)}catch(e){var h,p;null===(h=(p=console).error)||void 0===h||h.call(p,e),o.suppressValidatorError||setTimeout(function(){throw e},0),f(e.message)}!0===i?f():!1===i?f("function"==typeof s.message?s.message(s.fullField||s.field):s.message||"".concat(s.fullField||s.field," fails")):i instanceof Array?f(i):i instanceof Error&&f(i.message)}i&&i.then&&i.then(function(){return f()},function(e){return f(e)})},function(e){!function(e){var t=[],n={};function o(e){var n;Array.isArray(e)?t=(n=t).concat.apply(n,(0,l.A)(e)):t.push(e)}for(var s=0;s<e.length;s++)o(e[s]);t.length?(n=O(t),i(t,n)):i(null,r)}(e)},r)}},{key:"getType",value:function(e){if(void 0===e.type&&e.pattern instanceof RegExp&&(e.type="pattern"),"function"!=typeof e.validator&&e.type&&!Z.hasOwnProperty(e.type))throw new Error(D("Unknown rule type %s",e.type));return e.type||"string"}},{key:"getValidationMethod",value:function(e){if("function"==typeof e.validator)return e.validator;var t=Object.keys(e),n=t.indexOf("message");return-1!==n&&t.splice(n,1),1===t.length&&"required"===t[0]?Z.required:Z[this.getType(e)]||void 0}}]),e}();(0,g.A)(Q,"register",function(e,t){if("function"!=typeof t)throw new Error("Cannot register a validator by type, validator is not a function");Z[e]=t}),(0,g.A)(Q,"warning",function(){}),(0,g.A)(Q,"messages",C),(0,g.A)(Q,"validators",Z);const ee=Q;var te="'${name}' is not a valid ${type}",ne={default:"Validation error on field '${name}'",required:"'${name}' is required",enum:"'${name}' must be one of [${enum}]",whitespace:"'${name}' cannot be empty",date:{format:"'${name}' is invalid for format date",parse:"'${name}' could not be parsed as date",invalid:"'${name}' is invalid date"},types:{string:te,method:te,array:te,object:te,number:te,date:te,boolean:te,integer:te,float:te,regexp:te,email:te,url:te,hex:te},string:{len:"'${name}' must be exactly ${len} characters",min:"'${name}' must be at least ${min} characters",max:"'${name}' cannot be longer than ${max} characters",range:"'${name}' must be between ${min} and ${max} characters"},number:{len:"'${name}' must equal ${len}",min:"'${name}' cannot be less than ${min}",max:"'${name}' cannot be greater than ${max}",range:"'${name}' must be between ${min} and ${max}"},array:{len:"'${name}' must be exactly ${len} in length",min:"'${name}' cannot be less than ${min} in length",max:"'${name}' cannot be greater than ${max} in length",range:"'${name}' must be between ${min} and ${max} in length"},pattern:{mismatch:"'${name}' does not match pattern ${pattern}"}},re=n(20488),oe=ee;function ie(e,t){return e.replace(/\\?\$\{\w+\}/g,function(e){if(e.startsWith("\\"))return e.slice(1);var n=e.slice(2,-1);return t[n]})}var se="CODE_LOGIC_ERROR";function ae(e,t,n,r,o){return ce.apply(this,arguments)}function ce(){return ce=(0,a.A)((0,s.A)().mark(function e(t,n,o,i,a){var u,d,f,h,p,m,y,b,v;return(0,s.A)().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return delete(u=(0,c.A)({},o)).ruleIndex,oe.warning=function(){},u.validator&&(d=u.validator,u.validator=function(){try{return d.apply(void 0,arguments)}catch(e){return console.error(e),Promise.reject(se)}}),f=null,u&&"array"===u.type&&u.defaultField&&(f=u.defaultField,delete u.defaultField),h=new oe((0,g.A)({},t,[u])),p=(0,re.h)(ne,i.validateMessages),h.messages(p),m=[],e.prev=10,e.next=13,Promise.resolve(h.validate((0,g.A)({},t,n),(0,c.A)({},i)));case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(10),e.t0.errors&&(m=e.t0.errors.map(function(e,t){var n=e.message,o=n===se?p.default:n;return r.isValidElement(o)?r.cloneElement(o,{key:"error_".concat(t)}):o}));case 18:if(m.length||!f){e.next=23;break}return e.next=21,Promise.all(n.map(function(e,n){return ae("".concat(t,".").concat(n),e,f,i,a)}));case 21:return y=e.sent,e.abrupt("return",y.reduce(function(e,t){return[].concat((0,l.A)(e),(0,l.A)(t))},[]));case 23:return b=(0,c.A)((0,c.A)({},o),{},{name:t,enum:(o.enum||[]).join(", ")},a),v=m.map(function(e){return"string"==typeof e?ie(e,b):e}),e.abrupt("return",v);case 26:case"end":return e.stop()}},e,null,[[10,15]])})),ce.apply(this,arguments)}function le(e,t,n,r,o,i){var l,u=e.join("."),d=n.map(function(e,t){var n=e.validator,r=(0,c.A)((0,c.A)({},e),{},{ruleIndex:t});return n&&(r.validator=function(e,t,r){var o=!1,i=n(e,t,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];Promise.resolve().then(function(){(0,b.Ay)(!o,"Your validator function has already return a promise. `callback` will be ignored."),o||r.apply(void 0,t)})});o=i&&"function"==typeof i.then&&"function"==typeof i.catch,(0,b.Ay)(o,"`callback` is deprecated. Please return a promise instead."),o&&i.then(function(){r()}).catch(function(e){r(e||" ")})}),r}).sort(function(e,t){var n=e.warningOnly,r=e.ruleIndex,o=t.warningOnly,i=t.ruleIndex;return!!n==!!o?r-i:n?1:-1});if(!0===o)l=new Promise(function(){var e=(0,a.A)((0,s.A)().mark(function e(n,o){var a,c,l;return(0,s.A)().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a=0;case 1:if(!(a<d.length)){e.next=12;break}return c=d[a],e.next=5,ae(u,t,c,r,i);case 5:if(!(l=e.sent).length){e.next=9;break}return o([{errors:l,rule:c}]),e.abrupt("return");case 9:a+=1,e.next=1;break;case 12:n([]);case 13:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}());else{var f=d.map(function(e){return ae(u,t,e,r,i).then(function(t){return{errors:t,rule:e}})});l=(o?function(e){return de.apply(this,arguments)}(f):function(e){return ue.apply(this,arguments)}(f)).then(function(e){return Promise.reject(e)})}return l.catch(function(e){return e}),l}function ue(){return(ue=(0,a.A)((0,s.A)().mark(function e(t){return(0,s.A)().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.all(t).then(function(e){var t;return(t=[]).concat.apply(t,(0,l.A)(e))}));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function de(){return(de=(0,a.A)((0,s.A)().mark(function e(t){var n;return(0,s.A)().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=0,e.abrupt("return",new Promise(function(e){t.forEach(function(r){r.then(function(r){r.errors.length&&e([r]),(n+=1)===t.length&&e([])})})}));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}var fe=n(16300);function he(e){return x(e)}function pe(e,t){var n={};return t.forEach(function(t){var r=(0,fe.A)(e,t);n=(0,re.A)(n,t,r)}),n}function ge(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return e&&e.some(function(e){return me(t,e,n)})}function me(e,t){return!(!e||!t)&&!(!(arguments.length>2&&void 0!==arguments[2]&&arguments[2])&&e.length!==t.length)&&t.every(function(t,n){return e[n]===t})}function ye(e){var t=arguments.length<=1?void 0:arguments[1];return t&&t.target&&"object"===(0,I.A)(t.target)&&e in t.target?t.target[e]:t}function be(e,t,n){var r=e.length;if(t<0||t>=r||n<0||n>=r)return e;var o=e[t],i=t-n;return i>0?[].concat((0,l.A)(e.slice(0,n)),[o],(0,l.A)(e.slice(n,t)),(0,l.A)(e.slice(t+1,r))):i<0?[].concat((0,l.A)(e.slice(0,t)),(0,l.A)(e.slice(t+1,n+1)),[o],(0,l.A)(e.slice(n+1,r))):e}var ve=["name"],_e=[];function we(e,t,n,r,o,i){return"function"==typeof e?e(t,n,"source"in i?{source:i.source}:{}):r!==o}var Se=function(e){(0,h.A)(n,e);var t=(0,p.A)(n);function n(e){var o;return(0,u.A)(this,n),o=t.call(this,e),(0,g.A)((0,f.A)(o),"state",{resetCount:0}),(0,g.A)((0,f.A)(o),"cancelRegisterFunc",null),(0,g.A)((0,f.A)(o),"mounted",!1),(0,g.A)((0,f.A)(o),"touched",!1),(0,g.A)((0,f.A)(o),"dirty",!1),(0,g.A)((0,f.A)(o),"validatePromise",void 0),(0,g.A)((0,f.A)(o),"prevValidating",void 0),(0,g.A)((0,f.A)(o),"errors",_e),(0,g.A)((0,f.A)(o),"warnings",_e),(0,g.A)((0,f.A)(o),"cancelRegister",function(){var e=o.props,t=e.preserve,n=e.isListField,r=e.name;o.cancelRegisterFunc&&o.cancelRegisterFunc(n,t,he(r)),o.cancelRegisterFunc=null}),(0,g.A)((0,f.A)(o),"getNamePath",function(){var e=o.props,t=e.name,n=e.fieldContext.prefixName,r=void 0===n?[]:n;return void 0!==t?[].concat((0,l.A)(r),(0,l.A)(t)):[]}),(0,g.A)((0,f.A)(o),"getRules",function(){var e=o.props,t=e.rules,n=void 0===t?[]:t,r=e.fieldContext;return n.map(function(e){return"function"==typeof e?e(r):e})}),(0,g.A)((0,f.A)(o),"refresh",function(){o.mounted&&o.setState(function(e){return{resetCount:e.resetCount+1}})}),(0,g.A)((0,f.A)(o),"metaCache",null),(0,g.A)((0,f.A)(o),"triggerMetaEvent",function(e){var t=o.props.onMetaChange;if(t){var n=(0,c.A)((0,c.A)({},o.getMeta()),{},{destroy:e});(0,y.A)(o.metaCache,n)||t(n),o.metaCache=n}else o.metaCache=null}),(0,g.A)((0,f.A)(o),"onStoreChange",function(e,t,n){var r=o.props,i=r.shouldUpdate,s=r.dependencies,a=void 0===s?[]:s,c=r.onReset,l=n.store,u=o.getNamePath(),d=o.getValue(e),f=o.getValue(l),h=t&&ge(t,u);switch("valueUpdate"!==n.type||"external"!==n.source||(0,y.A)(d,f)||(o.touched=!0,o.dirty=!0,o.validatePromise=null,o.errors=_e,o.warnings=_e,o.triggerMetaEvent()),n.type){case"reset":if(!t||h)return o.touched=!1,o.dirty=!1,o.validatePromise=void 0,o.errors=_e,o.warnings=_e,o.triggerMetaEvent(),null==c||c(),void o.refresh();break;case"remove":if(i&&we(i,e,l,d,f,n))return void o.reRender();break;case"setField":var p=n.data;if(h)return"touched"in p&&(o.touched=p.touched),"validating"in p&&!("originRCField"in p)&&(o.validatePromise=p.validating?Promise.resolve([]):null),"errors"in p&&(o.errors=p.errors||_e),"warnings"in p&&(o.warnings=p.warnings||_e),o.dirty=!0,o.triggerMetaEvent(),void o.reRender();if("value"in p&&ge(t,u,!0))return void o.reRender();if(i&&!u.length&&we(i,e,l,d,f,n))return void o.reRender();break;case"dependenciesUpdate":if(a.map(he).some(function(e){return ge(n.relatedFields,e)}))return void o.reRender();break;default:if(h||(!a.length||u.length||i)&&we(i,e,l,d,f,n))return void o.reRender()}!0===i&&o.reRender()}),(0,g.A)((0,f.A)(o),"validateRules",function(e){var t=o.getNamePath(),n=o.getValue(),r=e||{},i=r.triggerName,c=r.validateOnly,u=void 0!==c&&c,d=Promise.resolve().then((0,a.A)((0,s.A)().mark(function r(){var a,c,u,f,h,p,g;return(0,s.A)().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(o.mounted){r.next=2;break}return r.abrupt("return",[]);case 2:if(a=o.props,c=a.validateFirst,u=void 0!==c&&c,f=a.messageVariables,h=a.validateDebounce,p=o.getRules(),i&&(p=p.filter(function(e){return e}).filter(function(e){var t=e.validateTrigger;return!t||x(t).includes(i)})),!h||!i){r.next=10;break}return r.next=8,new Promise(function(e){setTimeout(e,h)});case 8:if(o.validatePromise===d){r.next=10;break}return r.abrupt("return",[]);case 10:return(g=le(t,n,p,e,u,f)).catch(function(e){return e}).then(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_e;if(o.validatePromise===d){var t;o.validatePromise=null;var n=[],r=[];null===(t=e.forEach)||void 0===t||t.call(e,function(e){var t=e.rule.warningOnly,o=e.errors,i=void 0===o?_e:o;t?r.push.apply(r,(0,l.A)(i)):n.push.apply(n,(0,l.A)(i))}),o.errors=n,o.warnings=r,o.triggerMetaEvent(),o.reRender()}}),r.abrupt("return",g);case 13:case"end":return r.stop()}},r)})));return u||(o.validatePromise=d,o.dirty=!0,o.errors=_e,o.warnings=_e,o.triggerMetaEvent(),o.reRender()),d}),(0,g.A)((0,f.A)(o),"isFieldValidating",function(){return!!o.validatePromise}),(0,g.A)((0,f.A)(o),"isFieldTouched",function(){return o.touched}),(0,g.A)((0,f.A)(o),"isFieldDirty",function(){return!(!o.dirty&&void 0===o.props.initialValue)||void 0!==(0,o.props.fieldContext.getInternalHooks(v).getInitialValue)(o.getNamePath())}),(0,g.A)((0,f.A)(o),"getErrors",function(){return o.errors}),(0,g.A)((0,f.A)(o),"getWarnings",function(){return o.warnings}),(0,g.A)((0,f.A)(o),"isListField",function(){return o.props.isListField}),(0,g.A)((0,f.A)(o),"isList",function(){return o.props.isList}),(0,g.A)((0,f.A)(o),"isPreserve",function(){return o.props.preserve}),(0,g.A)((0,f.A)(o),"getMeta",function(){return o.prevValidating=o.isFieldValidating(),{touched:o.isFieldTouched(),validating:o.prevValidating,errors:o.errors,warnings:o.warnings,name:o.getNamePath(),validated:null===o.validatePromise}}),(0,g.A)((0,f.A)(o),"getOnlyChild",function(e){if("function"==typeof e){var t=o.getMeta();return(0,c.A)((0,c.A)({},o.getOnlyChild(e(o.getControlled(),t,o.props.fieldContext))),{},{isFunction:!0})}var n=(0,m.A)(e);return 1===n.length&&r.isValidElement(n[0])?{child:n[0],isFunction:!1}:{child:n,isFunction:!1}}),(0,g.A)((0,f.A)(o),"getValue",function(e){var t=o.props.fieldContext.getFieldsValue,n=o.getNamePath();return(0,fe.A)(e||t(!0),n)}),(0,g.A)((0,f.A)(o),"getControlled",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=o.props,n=t.name,r=t.trigger,i=t.validateTrigger,s=t.getValueFromEvent,a=t.normalize,l=t.valuePropName,u=t.getValueProps,d=t.fieldContext,f=void 0!==i?i:d.validateTrigger,h=o.getNamePath(),p=d.getInternalHooks,m=d.getFieldsValue,y=p(v).dispatch,b=o.getValue(),_=u||function(e){return(0,g.A)({},l,e)},w=e[r],S=void 0!==n?_(b):{},I=(0,c.A)((0,c.A)({},e),S);return I[r]=function(){var e;o.touched=!0,o.dirty=!0,o.triggerMetaEvent();for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];e=s?s.apply(void 0,n):ye.apply(void 0,[l].concat(n)),a&&(e=a(e,b,m(!0))),e!==b&&y({type:"updateValue",namePath:h,value:e}),w&&w.apply(void 0,n)},x(f||[]).forEach(function(e){var t=I[e];I[e]=function(){t&&t.apply(void 0,arguments);var n=o.props.rules;n&&n.length&&y({type:"validateField",namePath:h,triggerName:e})}}),I}),e.fieldContext&&(0,(0,e.fieldContext.getInternalHooks)(v).initEntityValue)((0,f.A)(o)),o}return(0,d.A)(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.shouldUpdate,n=e.fieldContext;if(this.mounted=!0,n){var r=(0,n.getInternalHooks)(v).registerField;this.cancelRegisterFunc=r(this)}!0===t&&this.reRender()}},{key:"componentWillUnmount",value:function(){this.cancelRegister(),this.triggerMetaEvent(!0),this.mounted=!1}},{key:"reRender",value:function(){this.mounted&&this.forceUpdate()}},{key:"render",value:function(){var e,t=this.state.resetCount,n=this.props.children,o=this.getOnlyChild(n),i=o.child;return o.isFunction?e=i:r.isValidElement(i)?e=r.cloneElement(i,this.getControlled(i.props)):((0,b.Ay)(!i,"`children` of Field is not validate ReactElement."),e=i),r.createElement(r.Fragment,{key:t},e)}}]),n}(r.Component);(0,g.A)(Se,"contextType",w),(0,g.A)(Se,"defaultProps",{trigger:"onChange",valuePropName:"value"});const xe=function(e){var t,n=e.name,s=(0,i.A)(e,ve),a=r.useContext(w),c=r.useContext(S),l=void 0!==n?he(n):void 0,u=null!==(t=s.isListField)&&void 0!==t?t:!!c,d="keep";return u||(d="_".concat((l||[]).join("_"))),r.createElement(Se,(0,o.A)({key:d,name:l,isListField:u},s,{fieldContext:a}))};var Ie=n(5544),Ae="__@field_split__";function Ce(e){return e.map(function(e){return"".concat((0,I.A)(e),":").concat(e)}).join(Ae)}const ke=function(){function e(){(0,u.A)(this,e),(0,g.A)(this,"kvs",new Map)}return(0,d.A)(e,[{key:"set",value:function(e,t){this.kvs.set(Ce(e),t)}},{key:"get",value:function(e){return this.kvs.get(Ce(e))}},{key:"update",value:function(e,t){var n=t(this.get(e));n?this.set(e,n):this.delete(e)}},{key:"delete",value:function(e){this.kvs.delete(Ce(e))}},{key:"map",value:function(e){return(0,l.A)(this.kvs.entries()).map(function(t){var n=(0,Ie.A)(t,2),r=n[0],o=n[1],i=r.split(Ae);return e({key:i.map(function(e){var t=e.match(/^([^:]*):(.*)$/),n=(0,Ie.A)(t,3),r=n[1],o=n[2];return"number"===r?Number(o):o}),value:o})})}},{key:"toJSON",value:function(){var e={};return this.map(function(t){var n=t.key,r=t.value;return e[n.join(".")]=r,null}),e}}]),e}();var Ee=["name"],Te=(0,d.A)(function e(t){var n=this;(0,u.A)(this,e),(0,g.A)(this,"formHooked",!1),(0,g.A)(this,"forceRootUpdate",void 0),(0,g.A)(this,"subscribable",!0),(0,g.A)(this,"store",{}),(0,g.A)(this,"fieldEntities",[]),(0,g.A)(this,"initialValues",{}),(0,g.A)(this,"callbacks",{}),(0,g.A)(this,"validateMessages",null),(0,g.A)(this,"preserve",null),(0,g.A)(this,"lastValidatePromise",null),(0,g.A)(this,"getForm",function(){return{getFieldValue:n.getFieldValue,getFieldsValue:n.getFieldsValue,getFieldError:n.getFieldError,getFieldWarning:n.getFieldWarning,getFieldsError:n.getFieldsError,isFieldsTouched:n.isFieldsTouched,isFieldTouched:n.isFieldTouched,isFieldValidating:n.isFieldValidating,isFieldsValidating:n.isFieldsValidating,resetFields:n.resetFields,setFields:n.setFields,setFieldValue:n.setFieldValue,setFieldsValue:n.setFieldsValue,validateFields:n.validateFields,submit:n.submit,_init:!0,getInternalHooks:n.getInternalHooks}}),(0,g.A)(this,"getInternalHooks",function(e){return e===v?(n.formHooked=!0,{dispatch:n.dispatch,initEntityValue:n.initEntityValue,registerField:n.registerField,useSubscribe:n.useSubscribe,setInitialValues:n.setInitialValues,destroyForm:n.destroyForm,setCallbacks:n.setCallbacks,setValidateMessages:n.setValidateMessages,getFields:n.getFields,setPreserve:n.setPreserve,getInitialValue:n.getInitialValue,registerWatch:n.registerWatch}):((0,b.Ay)(!1,"`getInternalHooks` is internal usage. Should not call directly."),null)}),(0,g.A)(this,"useSubscribe",function(e){n.subscribable=e}),(0,g.A)(this,"prevWithoutPreserves",null),(0,g.A)(this,"setInitialValues",function(e,t){if(n.initialValues=e||{},t){var r,o=(0,re.h)(e,n.store);null===(r=n.prevWithoutPreserves)||void 0===r||r.map(function(t){var n=t.key;o=(0,re.A)(o,n,(0,fe.A)(e,n))}),n.prevWithoutPreserves=null,n.updateStore(o)}}),(0,g.A)(this,"destroyForm",function(e){if(e)n.updateStore({});else{var t=new ke;n.getFieldEntities(!0).forEach(function(e){n.isMergedPreserve(e.isPreserve())||t.set(e.getNamePath(),!0)}),n.prevWithoutPreserves=t}}),(0,g.A)(this,"getInitialValue",function(e){var t=(0,fe.A)(n.initialValues,e);return e.length?(0,re.h)(t):t}),(0,g.A)(this,"setCallbacks",function(e){n.callbacks=e}),(0,g.A)(this,"setValidateMessages",function(e){n.validateMessages=e}),(0,g.A)(this,"setPreserve",function(e){n.preserve=e}),(0,g.A)(this,"watchList",[]),(0,g.A)(this,"registerWatch",function(e){return n.watchList.push(e),function(){n.watchList=n.watchList.filter(function(t){return t!==e})}}),(0,g.A)(this,"notifyWatch",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(n.watchList.length){var t=n.getFieldsValue(),r=n.getFieldsValue(!0);n.watchList.forEach(function(n){n(t,r,e)})}}),(0,g.A)(this,"timeoutId",null),(0,g.A)(this,"warningUnhooked",function(){}),(0,g.A)(this,"updateStore",function(e){n.store=e}),(0,g.A)(this,"getFieldEntities",function(){return arguments.length>0&&void 0!==arguments[0]&&arguments[0]?n.fieldEntities.filter(function(e){return e.getNamePath().length}):n.fieldEntities}),(0,g.A)(this,"getFieldsMap",function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new ke;return n.getFieldEntities(e).forEach(function(e){var n=e.getNamePath();t.set(n,e)}),t}),(0,g.A)(this,"getFieldEntitiesForNamePathList",function(e){if(!e)return n.getFieldEntities(!0);var t=n.getFieldsMap(!0);return e.map(function(e){var n=he(e);return t.get(n)||{INVALIDATE_NAME_PATH:he(e)}})}),(0,g.A)(this,"getFieldsValue",function(e,t){var r,o,i;if(n.warningUnhooked(),!0===e||Array.isArray(e)?(r=e,o=t):e&&"object"===(0,I.A)(e)&&(i=e.strict,o=e.filter),!0===r&&!o)return n.store;var s=n.getFieldEntitiesForNamePathList(Array.isArray(r)?r:null),a=[];return s.forEach(function(e){var t,n,s,c,l="INVALIDATE_NAME_PATH"in e?e.INVALIDATE_NAME_PATH:e.getNamePath();if(i){if(null!==(s=(c=e).isList)&&void 0!==s&&s.call(c))return}else if(!r&&null!==(t=(n=e).isListField)&&void 0!==t&&t.call(n))return;if(o){var u="getMeta"in e?e.getMeta():null;o(u)&&a.push(l)}else a.push(l)}),pe(n.store,a.map(he))}),(0,g.A)(this,"getFieldValue",function(e){n.warningUnhooked();var t=he(e);return(0,fe.A)(n.store,t)}),(0,g.A)(this,"getFieldsError",function(e){return n.warningUnhooked(),n.getFieldEntitiesForNamePathList(e).map(function(t,n){return t&&!("INVALIDATE_NAME_PATH"in t)?{name:t.getNamePath(),errors:t.getErrors(),warnings:t.getWarnings()}:{name:he(e[n]),errors:[],warnings:[]}})}),(0,g.A)(this,"getFieldError",function(e){n.warningUnhooked();var t=he(e);return n.getFieldsError([t])[0].errors}),(0,g.A)(this,"getFieldWarning",function(e){n.warningUnhooked();var t=he(e);return n.getFieldsError([t])[0].warnings}),(0,g.A)(this,"isFieldsTouched",function(){n.warningUnhooked();for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var o,i=t[0],s=t[1],a=!1;0===t.length?o=null:1===t.length?Array.isArray(i)?(o=i.map(he),a=!1):(o=null,a=i):(o=i.map(he),a=s);var c=n.getFieldEntities(!0),u=function(e){return e.isFieldTouched()};if(!o)return a?c.every(function(e){return u(e)||e.isList()}):c.some(u);var d=new ke;o.forEach(function(e){d.set(e,[])}),c.forEach(function(e){var t=e.getNamePath();o.forEach(function(n){n.every(function(e,n){return t[n]===e})&&d.update(n,function(t){return[].concat((0,l.A)(t),[e])})})});var f=function(e){return e.some(u)},h=d.map(function(e){return e.value});return a?h.every(f):h.some(f)}),(0,g.A)(this,"isFieldTouched",function(e){return n.warningUnhooked(),n.isFieldsTouched([e])}),(0,g.A)(this,"isFieldsValidating",function(e){n.warningUnhooked();var t=n.getFieldEntities();if(!e)return t.some(function(e){return e.isFieldValidating()});var r=e.map(he);return t.some(function(e){var t=e.getNamePath();return ge(r,t)&&e.isFieldValidating()})}),(0,g.A)(this,"isFieldValidating",function(e){return n.warningUnhooked(),n.isFieldsValidating([e])}),(0,g.A)(this,"resetWithFieldInitialValue",function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=new ke,o=n.getFieldEntities(!0);o.forEach(function(e){var t=e.props.initialValue,n=e.getNamePath();if(void 0!==t){var o=r.get(n)||new Set;o.add({entity:e,value:t}),r.set(n,o)}}),t.entities?e=t.entities:t.namePathList?(e=[],t.namePathList.forEach(function(t){var n,o=r.get(t);o&&(n=e).push.apply(n,(0,l.A)((0,l.A)(o).map(function(e){return e.entity})))})):e=o,e.forEach(function(e){if(void 0!==e.props.initialValue){var o=e.getNamePath();if(void 0!==n.getInitialValue(o))(0,b.Ay)(!1,"Form already set 'initialValues' with path '".concat(o.join("."),"'. Field can not overwrite it."));else{var i=r.get(o);if(i&&i.size>1)(0,b.Ay)(!1,"Multiple Field with path '".concat(o.join("."),"' set 'initialValue'. Can not decide which one to pick."));else if(i){var s=n.getFieldValue(o);e.isListField()||t.skipExist&&void 0!==s||n.updateStore((0,re.A)(n.store,o,(0,l.A)(i)[0].value))}}}})}),(0,g.A)(this,"resetFields",function(e){n.warningUnhooked();var t=n.store;if(!e)return n.updateStore((0,re.h)(n.initialValues)),n.resetWithFieldInitialValue(),n.notifyObservers(t,null,{type:"reset"}),void n.notifyWatch();var r=e.map(he);r.forEach(function(e){var t=n.getInitialValue(e);n.updateStore((0,re.A)(n.store,e,t))}),n.resetWithFieldInitialValue({namePathList:r}),n.notifyObservers(t,r,{type:"reset"}),n.notifyWatch(r)}),(0,g.A)(this,"setFields",function(e){n.warningUnhooked();var t=n.store,r=[];e.forEach(function(e){var o=e.name,s=(0,i.A)(e,Ee),a=he(o);r.push(a),"value"in s&&n.updateStore((0,re.A)(n.store,a,s.value)),n.notifyObservers(t,[a],{type:"setField",data:e})}),n.notifyWatch(r)}),(0,g.A)(this,"getFields",function(){return n.getFieldEntities(!0).map(function(e){var t=e.getNamePath(),r=e.getMeta(),o=(0,c.A)((0,c.A)({},r),{},{name:t,value:n.getFieldValue(t)});return Object.defineProperty(o,"originRCField",{value:!0}),o})}),(0,g.A)(this,"initEntityValue",function(e){var t=e.props.initialValue;if(void 0!==t){var r=e.getNamePath();void 0===(0,fe.A)(n.store,r)&&n.updateStore((0,re.A)(n.store,r,t))}}),(0,g.A)(this,"isMergedPreserve",function(e){var t=void 0!==e?e:n.preserve;return null==t||t}),(0,g.A)(this,"registerField",function(e){n.fieldEntities.push(e);var t=e.getNamePath();if(n.notifyWatch([t]),void 0!==e.props.initialValue){var r=n.store;n.resetWithFieldInitialValue({entities:[e],skipExist:!0}),n.notifyObservers(r,[e.getNamePath()],{type:"valueUpdate",source:"internal"})}return function(r,o){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(n.fieldEntities=n.fieldEntities.filter(function(t){return t!==e}),!n.isMergedPreserve(o)&&(!r||i.length>1)){var s=r?void 0:n.getInitialValue(t);if(t.length&&n.getFieldValue(t)!==s&&n.fieldEntities.every(function(e){return!me(e.getNamePath(),t)})){var a=n.store;n.updateStore((0,re.A)(a,t,s,!0)),n.notifyObservers(a,[t],{type:"remove"}),n.triggerDependenciesUpdate(a,t)}}n.notifyWatch([t])}}),(0,g.A)(this,"dispatch",function(e){switch(e.type){case"updateValue":var t=e.namePath,r=e.value;n.updateValue(t,r);break;case"validateField":var o=e.namePath,i=e.triggerName;n.validateFields([o],{triggerName:i})}}),(0,g.A)(this,"notifyObservers",function(e,t,r){if(n.subscribable){var o=(0,c.A)((0,c.A)({},r),{},{store:n.getFieldsValue(!0)});n.getFieldEntities().forEach(function(n){(0,n.onStoreChange)(e,t,o)})}else n.forceRootUpdate()}),(0,g.A)(this,"triggerDependenciesUpdate",function(e,t){var r=n.getDependencyChildrenFields(t);return r.length&&n.validateFields(r),n.notifyObservers(e,r,{type:"dependenciesUpdate",relatedFields:[t].concat((0,l.A)(r))}),r}),(0,g.A)(this,"updateValue",function(e,t){var r=he(e),o=n.store;n.updateStore((0,re.A)(n.store,r,t)),n.notifyObservers(o,[r],{type:"valueUpdate",source:"internal"}),n.notifyWatch([r]);var i=n.triggerDependenciesUpdate(o,r),s=n.callbacks.onValuesChange;s&&s(pe(n.store,[r]),n.getFieldsValue()),n.triggerOnFieldsChange([r].concat((0,l.A)(i)))}),(0,g.A)(this,"setFieldsValue",function(e){n.warningUnhooked();var t=n.store;if(e){var r=(0,re.h)(n.store,e);n.updateStore(r)}n.notifyObservers(t,null,{type:"valueUpdate",source:"external"}),n.notifyWatch()}),(0,g.A)(this,"setFieldValue",function(e,t){n.setFields([{name:e,value:t,errors:[],warnings:[]}])}),(0,g.A)(this,"getDependencyChildrenFields",function(e){var t=new Set,r=[],o=new ke;return n.getFieldEntities().forEach(function(e){(e.props.dependencies||[]).forEach(function(t){var n=he(t);o.update(n,function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Set;return t.add(e),t})})}),function e(n){(o.get(n)||new Set).forEach(function(n){if(!t.has(n)){t.add(n);var o=n.getNamePath();n.isFieldDirty()&&o.length&&(r.push(o),e(o))}})}(e),r}),(0,g.A)(this,"triggerOnFieldsChange",function(e,t){var r=n.callbacks.onFieldsChange;if(r){var o=n.getFields();if(t){var i=new ke;t.forEach(function(e){var t=e.name,n=e.errors;i.set(t,n)}),o.forEach(function(e){e.errors=i.get(e.name)||e.errors})}var s=o.filter(function(t){var n=t.name;return ge(e,n)});s.length&&r(s,o)}}),(0,g.A)(this,"validateFields",function(e,t){var r,o;n.warningUnhooked(),Array.isArray(e)||"string"==typeof e||"string"==typeof t?(r=e,o=t):o=e;var i=!!r,s=i?r.map(he):[],a=[],u=String(Date.now()),d=new Set,f=o||{},h=f.recursive,p=f.dirty;n.getFieldEntities(!0).forEach(function(e){if(i||s.push(e.getNamePath()),e.props.rules&&e.props.rules.length&&(!p||e.isFieldDirty())){var t=e.getNamePath();if(d.add(t.join(u)),!i||ge(s,t,h)){var r=e.validateRules((0,c.A)({validateMessages:(0,c.A)((0,c.A)({},ne),n.validateMessages)},o));a.push(r.then(function(){return{name:t,errors:[],warnings:[]}}).catch(function(e){var n,r=[],o=[];return null===(n=e.forEach)||void 0===n||n.call(e,function(e){var t=e.rule.warningOnly,n=e.errors;t?o.push.apply(o,(0,l.A)(n)):r.push.apply(r,(0,l.A)(n))}),r.length?Promise.reject({name:t,errors:r,warnings:o}):{name:t,errors:r,warnings:o}}))}}});var g=function(e){var t=!1,n=e.length,r=[];return e.length?new Promise(function(o,i){e.forEach(function(e,s){e.catch(function(e){return t=!0,e}).then(function(e){n-=1,r[s]=e,n>0||(t&&i(r),o(r))})})}):Promise.resolve([])}(a);n.lastValidatePromise=g,g.catch(function(e){return e}).then(function(e){var t=e.map(function(e){return e.name});n.notifyObservers(n.store,t,{type:"validateFinish"}),n.triggerOnFieldsChange(t,e)});var m=g.then(function(){return n.lastValidatePromise===g?Promise.resolve(n.getFieldsValue(s)):Promise.reject([])}).catch(function(e){var t=e.filter(function(e){return e&&e.errors.length});return Promise.reject({values:n.getFieldsValue(s),errorFields:t,outOfDate:n.lastValidatePromise!==g})});m.catch(function(e){return e});var y=s.filter(function(e){return d.has(e.join(u))});return n.triggerOnFieldsChange(y),m}),(0,g.A)(this,"submit",function(){n.warningUnhooked(),n.validateFields().then(function(e){var t=n.callbacks.onFinish;if(t)try{t(e)}catch(e){console.error(e)}}).catch(function(e){var t=n.callbacks.onFinishFailed;t&&t(e)})}),this.forceRootUpdate=t});const Pe=function(e){var t=r.useRef(),n=r.useState({}),o=(0,Ie.A)(n,2)[1];if(!t.current)if(e)t.current=e;else{var i=new Te(function(){o({})});t.current=i.getForm()}return[t.current]};var Me=r.createContext({triggerFormChange:function(){},triggerFormFinish:function(){},registerForm:function(){},unregisterForm:function(){}});const Oe=Me;var De=["name","initialValues","fields","form","preserve","children","component","validateMessages","validateTrigger","onValuesChange","onFieldsChange","onFinish","onFinishFailed","clearOnDestroy"];const Re=function(e,t){var n=e.name,s=e.initialValues,a=e.fields,u=e.form,d=e.preserve,f=e.children,h=e.component,p=void 0===h?"form":h,g=e.validateMessages,m=e.validateTrigger,y=void 0===m?"onChange":m,b=e.onValuesChange,_=e.onFieldsChange,x=e.onFinish,A=e.onFinishFailed,C=e.clearOnDestroy,k=(0,i.A)(e,De),E=r.useRef(null),T=r.useContext(Oe),P=Pe(u),M=(0,Ie.A)(P,1)[0],O=M.getInternalHooks(v),D=O.useSubscribe,R=O.setInitialValues,N=O.setCallbacks,F=O.setValidateMessages,L=O.setPreserve,B=O.destroyForm;r.useImperativeHandle(t,function(){return(0,c.A)((0,c.A)({},M),{},{nativeElement:E.current})}),r.useEffect(function(){return T.registerForm(n,M),function(){T.unregisterForm(n)}},[T,M,n]),F((0,c.A)((0,c.A)({},T.validateMessages),g)),N({onValuesChange:b,onFieldsChange:function(e){if(T.triggerFormChange(n,e),_){for(var t=arguments.length,r=new Array(t>1?t-1:0),o=1;o<t;o++)r[o-1]=arguments[o];_.apply(void 0,[e].concat(r))}},onFinish:function(e){T.triggerFormFinish(n,e),x&&x(e)},onFinishFailed:A}),L(d);var $,j=r.useRef(null);R(s,!j.current),j.current||(j.current=!0),r.useEffect(function(){return function(){return B(C)}},[]);var U="function"==typeof f;$=U?f(M.getFieldsValue(!0),M):f,D(!U);var z=r.useRef();r.useEffect(function(){(function(e,t){if(e===t)return!0;if(!e&&t||e&&!t)return!1;if(!e||!t||"object"!==(0,I.A)(e)||"object"!==(0,I.A)(t))return!1;var n=Object.keys(e),r=Object.keys(t),o=new Set([].concat(n,r));return(0,l.A)(o).every(function(n){var r=e[n],o=t[n];return"function"==typeof r&&"function"==typeof o||r===o})})(z.current||[],a||[])||M.setFields(a||[]),z.current=a},[a,M]);var V=r.useMemo(function(){return(0,c.A)((0,c.A)({},M),{},{validateTrigger:y})},[M,y]),q=r.createElement(S.Provider,{value:null},r.createElement(w.Provider,{value:V},$));return!1===p?q:r.createElement(p,(0,o.A)({},k,{ref:E,onSubmit:function(e){e.preventDefault(),e.stopPropagation(),M.submit()},onReset:function(e){var t;e.preventDefault(),M.resetFields(),null===(t=k.onReset)||void 0===t||t.call(k,e)}}),q)};function Ne(e){try{return JSON.stringify(e)}catch(e){return Math.random()}}var Fe=r.forwardRef(Re);Fe.FormProvider=function(e){var t=e.validateMessages,n=e.onFormChange,o=e.onFormFinish,i=e.children,s=r.useContext(Me),a=r.useRef({});return r.createElement(Me.Provider,{value:(0,c.A)((0,c.A)({},s),{},{validateMessages:(0,c.A)((0,c.A)({},s.validateMessages),t),triggerFormChange:function(e,t){n&&n(e,{changedFields:t,forms:a.current}),s.triggerFormChange(e,t)},triggerFormFinish:function(e,t){o&&o(e,{values:t,forms:a.current}),s.triggerFormFinish(e,t)},registerForm:function(e,t){e&&(a.current=(0,c.A)((0,c.A)({},a.current),{},(0,g.A)({},e,t))),s.registerForm(e,t)},unregisterForm:function(e){var t=(0,c.A)({},a.current);delete t[e],a.current=t,s.unregisterForm(e)}})},i)},Fe.Field=xe,Fe.List=function(e){var t=e.name,n=e.initialValue,o=e.children,i=e.rules,s=e.validateTrigger,a=e.isListField,u=r.useContext(w),d=r.useContext(S),f=r.useRef({keys:[],id:0}).current,h=r.useMemo(function(){var e=he(u.prefixName)||[];return[].concat((0,l.A)(e),(0,l.A)(he(t)))},[u.prefixName,t]),p=r.useMemo(function(){return(0,c.A)((0,c.A)({},u),{},{prefixName:h})},[u,h]),g=r.useMemo(function(){return{getKey:function(e){var t=h.length,n=e[t];return[f.keys[n],e.slice(t+1)]}}},[h]);return"function"!=typeof o?((0,b.Ay)(!1,"Form.List only accepts function as children."),null):r.createElement(S.Provider,{value:g},r.createElement(w.Provider,{value:p},r.createElement(xe,{name:[],shouldUpdate:function(e,t,n){return"internal"!==n.source&&e!==t},rules:i,validateTrigger:s,initialValue:n,isList:!0,isListField:null!=a?a:!!d},function(e,t){var n=e.value,r=void 0===n?[]:n,i=e.onChange,s=u.getFieldValue,a=function(){return s(h||[])||[]},c={add:function(e,t){var n=a();t>=0&&t<=n.length?(f.keys=[].concat((0,l.A)(f.keys.slice(0,t)),[f.id],(0,l.A)(f.keys.slice(t))),i([].concat((0,l.A)(n.slice(0,t)),[e],(0,l.A)(n.slice(t))))):(f.keys=[].concat((0,l.A)(f.keys),[f.id]),i([].concat((0,l.A)(n),[e]))),f.id+=1},remove:function(e){var t=a(),n=new Set(Array.isArray(e)?e:[e]);n.size<=0||(f.keys=f.keys.filter(function(e,t){return!n.has(t)}),i(t.filter(function(e,t){return!n.has(t)})))},move:function(e,t){if(e!==t){var n=a();e<0||e>=n.length||t<0||t>=n.length||(f.keys=be(f.keys,e,t),i(be(n,e,t)))}}},d=r||[];return Array.isArray(d)||(d=[]),o(d.map(function(e,t){var n=f.keys[t];return void 0===n&&(f.keys[t]=f.id,n=f.keys[t],f.id+=1),{name:t,key:n,isListField:!0}}),c,t)})))},Fe.useForm=Pe,Fe.useWatch=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var o=t[0],i=t[1],s=void 0===i?{}:i,a=function(e){return e&&!!e._init}(s)?{form:s}:s,c=a.form,l=(0,r.useState)(),u=(0,Ie.A)(l,2),d=u[0],f=u[1],h=(0,r.useMemo)(function(){return Ne(d)},[d]),p=(0,r.useRef)(h);p.current=h;var g=(0,r.useContext)(w),m=c||g,y=m&&m._init,b=he(o),_=(0,r.useRef)(b);return _.current=b,(0,r.useEffect)(function(){if(y){var e=m.getFieldsValue,t=(0,m.getInternalHooks)(v).registerWatch,n=function(e,t){var n=a.preserve?t:e;return"function"==typeof o?o(n):(0,fe.A)(n,_.current)},r=t(function(e,t){var r=n(e,t),o=Ne(r);p.current!==o&&(p.current=o,f(r))}),i=n(e(),e(!0));return d!==i&&f(i),r}},[y]),d}},77787:(e,t,n)=>{"use strict";n.d(t,{HM:()=>s,ST:()=>r,TW:()=>o,_9:()=>i,al:()=>a,j0:()=>c,zs:()=>l});const r="globalSummaryLastTime",o="globalAiChatFoldersLastTime",i="globalAiChatFoldersTipShow",s="globalPresetTag",a="globalAITag",c="userInformation",l={summary:null,message:null,contact:null,user:null,general:null,knowledge:null,folder:null,aIChatFolders:null,userPortrait:null,userPortraitMessage:null,tgMessage:null}},78056:function(e,t,n){var r;e.exports=(r=n(19021),function(){var e=r,t=e.lib,n=t.WordArray,o=t.Hasher,i=e.algo,s=n.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),a=n.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),c=n.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),l=n.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),u=n.create([0,1518500249,1859775393,2400959708,2840853838]),d=n.create([1352829926,1548603684,1836072691,2053994217,0]),f=i.RIPEMD160=o.extend({_doReset:function(){this._hash=n.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(e,t){for(var n=0;n<16;n++){var r=t+n,o=e[r];e[r]=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8)}var i,f,v,_,w,S,x,I,A,C,k,E=this._hash.words,T=u.words,P=d.words,M=s.words,O=a.words,D=c.words,R=l.words;for(S=i=E[0],x=f=E[1],I=v=E[2],A=_=E[3],C=w=E[4],n=0;n<80;n+=1)k=i+e[t+M[n]]|0,k+=n<16?h(f,v,_)+T[0]:n<32?p(f,v,_)+T[1]:n<48?g(f,v,_)+T[2]:n<64?m(f,v,_)+T[3]:y(f,v,_)+T[4],k=(k=b(k|=0,D[n]))+w|0,i=w,w=_,_=b(v,10),v=f,f=k,k=S+e[t+O[n]]|0,k+=n<16?y(x,I,A)+P[0]:n<32?m(x,I,A)+P[1]:n<48?g(x,I,A)+P[2]:n<64?p(x,I,A)+P[3]:h(x,I,A)+P[4],k=(k=b(k|=0,R[n]))+C|0,S=C,C=A,A=b(I,10),I=x,x=k;k=E[1]+v+A|0,E[1]=E[2]+_+C|0,E[2]=E[3]+w+S|0,E[3]=E[4]+i+x|0,E[4]=E[0]+f+I|0,E[0]=k},_doFinalize:function(){var e=this._data,t=e.words,n=8*this._nDataBytes,r=8*e.sigBytes;t[r>>>5]|=128<<24-r%32,t[14+(r+64>>>9<<4)]=16711935&(n<<8|n>>>24)|4278255360&(n<<24|n>>>8),e.sigBytes=4*(t.length+1),this._process();for(var o=this._hash,i=o.words,s=0;s<5;s++){var a=i[s];i[s]=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8)}return o},clone:function(){var e=o.clone.call(this);return e._hash=this._hash.clone(),e}});function h(e,t,n){return e^t^n}function p(e,t,n){return e&t|~e&n}function g(e,t,n){return(e|~t)^n}function m(e,t,n){return e&n|t&~n}function y(e,t,n){return e^(t|~n)}function b(e,t){return e<<t|e>>>32-t}e.RIPEMD160=o._createHelper(f),e.HmacRIPEMD160=o._createHmacHelper(f)}(Math),r.RIPEMD160)},78396:(e,t,n)=>{"use strict";n.d(t,{T8:()=>i,aL:()=>o,m4:()=>s});var r=n(23174);function o(e,t){const n=`sticker${e}`;return t?`${n}?size=m`:n}function i(e){return e.entities?.some(e=>e.type===r.C7.CustomEmoji)}function s(e){if(!e.entities)return e;const t=e.entities.filter(e=>e.type!==r.C7.CustomEmoji);return{...e,entities:t}}},78690:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=e=>{const{controlHeight:t}=e;return{controlHeightSM:.75*t,controlHeightXS:.5*t,controlHeightLG:1.25*t}}},79089:(e,t,n)=>{"use strict";n.d(t,{CD:()=>d,Gh:()=>g,Kl:()=>y,PF:()=>f,PL:()=>h,UB:()=>m,Yg:()=>u,kR:()=>b,tv:()=>p,u0:()=>l});var r=n(31481),o=n(17663),i=n(21309),s=n(87894),a=n(64713),c=n(80140);function l(e){if(e)switch(e.type){case"userTypeBot":return e.firstName;case"userTypeRegular":return e.firstName||e.lastName;case"userTypeDeleted":case"userTypeUnknown":return"Deleted";default:return}}function u(e){if(e){if(h(e))return"Deleted Account";switch(e.type){case"userTypeBot":case"userTypeRegular":if(e.firstName&&e.lastName)return`${e.firstName} ${e.lastName}`;if(e.firstName)return e.firstName;if(e.lastName)return e.lastName;if(e.phoneNumber)return`+${(0,a.n4)(e.phoneNumber)}`}}}function d(e,t,n){if(t.id===r.zv8)return e("ServiceNotifications");if(t.isSupport)return e("SupportStatus");if(t.type&&"userTypeBot"===t.type)return t.botActiveUsers?e("BotUsers",t.botActiveUsers,"i"):e("Bot");if(!n)return"";switch(n.type){case"userStatusEmpty":return e("ALongTimeAgo");case"userStatusLastMonth":return e("WithinAMonth");case"userStatusLastWeek":return e("WithinAWeek");case"userStatusOffline":{const{wasOnline:t}=n;if(!t)return e("LastSeen.Offline");const r=(0,c.SF)(),i=new Date(Date.now()+1e3*r),s=new Date(1e3*t);if(s>=i)return e("LastSeen.JustNow");const a=new Date(i.getTime()-s.getTime());if(a.getTime()/1e3<60)return e("LastSeen.JustNow");if(a.getTime()/1e3<3600)return e("LastSeen.MinutesAgo",Math.floor(a.getTime()/1e3/60));const l=new Date;if(l.setHours(0,0,0,0),s>new Date(l.getTime()+1e3*r))return a.getTime()/1e3<21600?e("LastSeen.HoursAgo",Math.floor(a.getTime()/1e3/60/60)):e("LastSeen.TodayAt",(0,o.fU)(e,s));const u=new Date;return u.setDate(i.getDate()-1),u.setHours(0,0,0,0),s>new Date(u.getTime()+1e3*r)?e("LastSeen.YesterdayAt",(0,o.fU)(e,s)):e("LastSeen.AtDate",(0,o.Lu)(e,s))}case"userStatusOnline":return e("Online");case"userStatusRecently":return e("Lately");default:return}}function f(e,t,n=!1){const{id:o,type:i}=e;return!(!t||o===r.zv8||e.isSelf&&!n||"userStatusOnline"!==t.type||"userTypeBot"===i)}function h(e){return("userTypeDeleted"===e.type||"userTypeUnknown"===e.type)&&e.id!==r.zv8}function p(e){return"userTypeBot"===e.type}function g(e){return!e.isSelf&&!e.isContact&&!p(e)&&e.id!==r.Ckz}function m(e,t,n,r){return(0,s.My)(e,e=>{const o=(0,c.Fm)();if(r&&r.includes(e))return o+172800-(r.length-r.indexOf(e));const s=t[e],a=n[e];if(!s||!a)return 0;if("userStatusOnline"===a.type)return a.expires;if("userStatusOffline"===a.type&&a.wasOnline)return a.wasOnline;switch(a.type){case"userStatusRecently":return o-i.d_;case"userStatusLastWeek":return o-7*i.d_;case"userStatusLastMonth":return o-7*i.d_*30;default:return 0}},"desc")}function y(e){return e.usernames?.find(e=>e.isActive)?.username}function b(e){return`peer-story${e}`}},79824:(e,t,n)=>{"use strict";n.d(t,{p:()=>r});const r=[]},80025:(e,t,n)=>{"use strict";n.d(t,{Q:()=>O});var r=n(72531),o=n(25624),i=n(48862),s=n(5556);function a(e,t,n){return(t=function(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const c=class{constructor(e){this.dbManager=e,a(this,"storeName","aIChatFolders"),a(this,"db",null),a(this,"chataiStoreManager",void 0),this.db=e.db,this.chataiStoreManager=e}async getAllAIChatFolders(){let e;try{e=await this.chataiStoreManager.getDB()}catch(e){return console.error("Error getting all aichatfolders:",e),Promise.reject(e)}return new Promise((t,n)=>{const r=e.transaction(this.storeName,"readonly").objectStore(this.storeName).getAll();r.onsuccess=()=>{t(r.result)},r.onerror=()=>{n(r.error)}})}async getAIChatFolder(e){let t;try{t=await this.chataiStoreManager.getDB()}catch(e){return console.error("Error get aichatfolder:",e),Promise.reject(e)}return new Promise((n,r)=>{const o=t.transaction(this.storeName,"readonly").objectStore(this.storeName).get(e);o.onsuccess=()=>{n(o.result)},o.onerror=()=>{r(o.error)}})}async deleteAIChatFolder(e){let t;try{t=await this.chataiStoreManager.getDB()}catch(e){return console.error("Error deleting aichatfolder:",e),Promise.reject(e)}return new Promise((n,r)=>{const o=t.transaction(this.storeName,"readwrite").objectStore(this.storeName).delete(e);o.onsuccess=()=>{n(o.result)},o.onerror=()=>{r(o.error)}})}async addAIChatFolder(e){let t;try{t=await this.chataiStoreManager.getDB()}catch(e){return console.error("Error adding aichatfolder:",e),Promise.reject(e)}return new Promise((n,r)=>{const o=t.transaction(this.storeName,"readwrite").objectStore(this.storeName).put(e);o.onsuccess=()=>{n(o.result)},o.onerror=()=>{r(o.error)}})}};function l(e,t,n){return(t=function(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const u=class{constructor(e,t){l(this,"DB_NAME",void 0),l(this,"VERSION",void 0),l(this,"db",null),l(this,"STORE_CONFIG",{summary:{keyPath:"id",indexes:[["id","id"],["timestamp","timestamp"]]},message:{keyPath:"id",indexes:[["id","id"],["chatId_timestamp",["chatId","timestamp"]]]},contact:{keyPath:"id",autoIncrement:!0},user:{keyPath:"id",autoIncrement:!0},general:{autoIncrement:!0},knowledge:{keyPath:"id",autoIncrement:!0},summaryTemplate:{keyPath:"id",autoIncrement:!0},urgentTopic:{keyPath:"id",autoIncrement:!1},folder:{keyPath:"title",autoIncrement:!0},aIChatFolders:{keyPath:"id",autoIncrement:!0},userPortrait:{keyPath:"id",autoIncrement:!0},userPortraitMessage:{keyPath:"id",indexes:[["senderId","senderId"]]},tgMessage:{keyPath:"id",indexes:[["chatId_timestamp",["chatId","timestamp"]]]}}),this.VERSION=e,this.DB_NAME=t}initDB(){return new Promise((e,t)=>{const n=indexedDB.open(this.DB_NAME,this.VERSION);n.onupgradeneeded=e=>{const t=e.target.result;Object.entries(this.STORE_CONFIG).forEach(([e,n])=>{if(!t.objectStoreNames.contains(e)){const r=t.createObjectStore(e,{keyPath:n.keyPath,autoIncrement:n.autoIncrement});n.indexes&&n.indexes.forEach(([e,t])=>{r.createIndex(e,t,{unique:!1})})}})},n.onsuccess=()=>{this.db=n.result,e(n.result)},n.onerror=e=>{console.error(e),t(new Error("Failed to open database"))}})}async getDB(){return this.db||(this.db=await this.initDB()),this.db}};function d(e,t,n){return(t=function(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const f=class{constructor(e){this.dbManager=e,d(this,"storeName","contact"),d(this,"db",null),d(this,"chataiStoreManager",void 0),this.db=e.db,this.chataiStoreManager=e}async getContact(e){let t;try{t=await this.chataiStoreManager.getDB()}catch(e){return console.error("Error adding contact:",e),Promise.reject(e)}return new Promise((n,r)=>{const o=t.transaction(this.storeName,"readonly").objectStore(this.storeName).get(e);o.onsuccess=()=>{n(o.result)},o.onerror=()=>{r(o.error)}})}async addContact(e){let t;try{t=await this.chataiStoreManager.getDB()}catch(e){return console.error("Error adding contact:",e),Promise.reject(e)}return new Promise((n,r)=>{const o=t.transaction(this.storeName,"readwrite").objectStore(this.storeName).put(e);o.onsuccess=()=>{n(o.result)},o.onerror=()=>{r(o.error)}})}};function h(e,t,n){return(t=function(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const p=class{constructor(e){this.dbManager=e,h(this,"storeName","folder"),h(this,"db",null),h(this,"chataiStoreManager",void 0),this.db=e.db,this.chataiStoreManager=e}async getAllFolders(){let e;try{e=await this.chataiStoreManager.getDB()}catch(e){return console.error("Error getting all folders:",e),Promise.reject(e)}return new Promise((t,n)=>{const r=e.transaction(this.storeName,"readonly").objectStore(this.storeName).getAll();r.onsuccess=()=>{t(r.result)},r.onerror=()=>{n(r.error)}})}async getFolder(e){let t;try{t=await this.chataiStoreManager.getDB()}catch(e){return console.error("Error get folder:",e),Promise.reject(e)}return new Promise((n,r)=>{const o=t.transaction(this.storeName,"readonly").objectStore(this.storeName).get(e);o.onsuccess=()=>{n(o.result)},o.onerror=()=>{r(o.error)}})}async deleteFolder(e){let t;try{t=await this.chataiStoreManager.getDB()}catch(e){return console.error("Error deleting folder:",e),Promise.reject(e)}return new Promise((n,r)=>{const o=t.transaction(this.storeName,"readwrite").objectStore(this.storeName).delete(e);o.onsuccess=()=>{n(o.result)},o.onerror=()=>{r(o.error)}})}async addFolder(e){let t;try{t=await this.chataiStoreManager.getDB()}catch(e){return console.error("Error adding folder:",e),Promise.reject(e)}return new Promise((n,r)=>{const o=t.transaction(this.storeName,"readwrite").objectStore(this.storeName).put(e);o.onsuccess=()=>{n(o.result)},o.onerror=()=>{r(o.error)}})}};function g(e,t,n){return(t=function(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const m=class{constructor(e){this.dbManager=e,g(this,"storeName","general"),g(this,"db",null),g(this,"chataiStoreManager",void 0),this.db=e.db,this.chataiStoreManager=e}async get(e){let t;try{t=await this.chataiStoreManager.getDB()}catch(e){return console.error("Error adding contact:",e),Promise.reject(e)}return new Promise((n,r)=>{const o=t.transaction(this.storeName,"readonly").objectStore(this.storeName).get(e);o.onsuccess=()=>{n(o.result)},o.onerror=()=>{r(o.error)}})}async set(e,t){let n;try{n=await this.chataiStoreManager.getDB()}catch(e){return console.error("Error adding contact:",e),Promise.reject(e)}return new Promise((r,o)=>{const i=n.transaction(this.storeName,"readwrite").objectStore(this.storeName).put(t,e);i.onsuccess=()=>{r(i.result)},i.onerror=()=>{o(i.error)}})}async delete(e){let t;try{t=await this.chataiStoreManager.getDB()}catch(e){return console.error("Error adding contact:",e),Promise.reject(e)}return new Promise((n,r)=>{const o=t.transaction(this.storeName,"readwrite").objectStore(this.storeName).delete(e);o.onsuccess=()=>{n(o.result)},o.onerror=()=>{r(o.error)}})}};function y(e,t,n){return(t=function(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const b=class{constructor(e){this.dbManager=e,y(this,"storeName","knowledge"),y(this,"db",null),y(this,"chataiStoreManager",void 0),this.db=e.db,this.chataiStoreManager=e}async getKnowledge(e){let t;try{t=await this.chataiStoreManager.getDB()}catch(e){return console.error("Error adding contact:",e),Promise.reject(e)}return new Promise((n,r)=>{const o=t.transaction(this.storeName,"readonly").objectStore(this.storeName).get(e);o.onsuccess=()=>{n(o.result)},o.onerror=()=>{r(o.error)}})}async getAllKnowledge(){let e;try{e=await this.chataiStoreManager.getDB()}catch(e){return console.error("Error adding contact:",e),Promise.reject(e)}return new Promise((t,n)=>{const r=e.transaction(this.storeName,"readonly").objectStore(this.storeName).getAll();r.onsuccess=()=>{t(r.result)},r.onerror=()=>{n(r.error)}})}async addKnowledge(e){let t;try{t=await this.chataiStoreManager.getDB()}catch(e){return console.error("Error adding contact:",e),Promise.reject(e)}return new Promise((n,r)=>{const o=t.transaction(this.storeName,"readwrite").objectStore(this.storeName).put(e);o.onsuccess=()=>{n(o.result)},o.onerror=()=>{r(o.error)}})}async deleteKnowledge(e){let t;try{t=await this.chataiStoreManager.getDB()}catch(e){return console.error("Error adding contact:",e),Promise.reject(e)}return new Promise((n,r)=>{const o=t.transaction(this.storeName,"readwrite").objectStore(this.storeName).delete(e);o.onsuccess=()=>{n(o.result)},o.onerror=()=>{r(o.error)}})}};var v=n(95815),_=n(22487);function w(e,t,n){return(t=function(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const S=class{constructor(e){this.dbManager=e,w(this,"storeName","tgMessage"),w(this,"db",null),w(this,"chataiStoreManager",void 0),this.db=e.db,this.chataiStoreManager=e}async storeTgMessage(e){let t;try{t=await this.chataiStoreManager.getDB()}catch(e){return void console.error("Error getting database:",e)}const n=t.transaction([this.storeName],"readwrite").objectStore(this.storeName),r={...e,id:e.messageId},o=n.put(r);o.onsuccess=()=>{console.log(`TG Message ${e.messageId} stored successfully`)},o.onerror=t=>{console.error(`Error storing TG message ${e.messageId}:`,t.target.error)}}async storeTgMessages(e){let t;try{t=await this.chataiStoreManager.getDB()}catch(e){return void console.error("Error getting database:",e)}const n=t.transaction([this.storeName],"readwrite").objectStore(this.storeName),r=e.map(e=>new Promise((t,r)=>{const o={...e,id:e.messageId},i=n.put(o);i.onsuccess=()=>{console.log(`TG Message ${e.messageId} stored successfully`),t()},i.onerror=t=>{console.error(`Error storing TG message ${e.messageId}:`,t.target.error),r(t.target.error)}}));try{await Promise.all(r)}catch(e){console.error("Error storing multiple TG messages:",e)}}async getTgMessagesBySenderId(e,t){let n;try{n=await this.chataiStoreManager.getDB()}catch(e){return console.error("Error getting database:",e),{messages:[],hasMore:!1}}const r=n.transaction([this.storeName],"readonly").objectStore(this.storeName),o=[];return new Promise(n=>{const i=r.openCursor();let s=0;i.onsuccess=r=>{const i=r.target.result;if(i&&s<t){const t=i.value;t.sender===e&&(o.push(t),s++),i.continue()}else o.sort((e,t)=>t.timestamp-e.timestamp),n({messages:o,hasMore:s===t})},i.onerror=()=>{console.error("Error getting TG messages by senderId"),n({messages:[],hasMore:!1})}})}async getTgMessagesBySenderIdAndChatId(e,t,n){let r;try{r=await this.chataiStoreManager.getDB()}catch(e){return console.error("Error getting database:",e),{messages:[],hasMore:!1}}const o=r.transaction([this.storeName],"readonly").objectStore(this.storeName),i=[];return new Promise(r=>{const s=o.openCursor();let a=0;s.onsuccess=o=>{const s=o.target.result;if(s&&a<n){const n=s.value;n.sender===e&&n.chatId===t&&(i.push(n),a++),s.continue()}else i.sort((e,t)=>t.timestamp-e.timestamp),r({messages:i,hasMore:a===n})},s.onerror=()=>{console.error("Error getting TG messages by senderId and chatId"),r({messages:[],hasMore:!1})}})}async getAllTgMessages(){let e;try{e=await this.chataiStoreManager.getDB()}catch(e){return console.error("Error getting database:",e),[]}const t=e.transaction([this.storeName],"readonly").objectStore(this.storeName);return new Promise(e=>{const n=t.getAll();n.onsuccess=()=>{e(n.result)},n.onerror=()=>{console.error("Error getting all TG messages"),e([])}})}async deleteTgMessage(e){let t;try{t=await this.chataiStoreManager.getDB()}catch(e){return void console.error("Error getting database:",e)}const n=t.transaction([this.storeName],"readwrite").objectStore(this.storeName).delete(e);n.onsuccess=()=>{console.log(`TG Message ${e} deleted successfully`)},n.onerror=t=>{console.error(`Error deleting TG message ${e}:`,t.target.error)}}};function x(e,t,n){return(t=function(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const I=class{constructor(e){this.dbManager=e,x(this,"storeName","userPortraitMessage"),x(this,"db",null),x(this,"chataiStoreManager",void 0),this.db=e.db,this.chataiStoreManager=e}async getAllUserPortraitMessage(){let e;try{e=await this.chataiStoreManager.getDB()}catch(e){return console.error("Error getting all aichatfolders:",e),Promise.reject(e)}return new Promise((t,n)=>{const r=e.transaction(this.storeName,"readonly").objectStore(this.storeName).getAll();r.onsuccess=()=>{t(r.result)},r.onerror=()=>{n(r.error)}})}async searchMessageBySenderId(e){let t;try{t=await this.chataiStoreManager.getDB()}catch(e){return console.error("Error get aichatfolder:",e),Promise.reject(e)}return new Promise((n,r)=>{const o=t.transaction(this.storeName,"readonly").objectStore(this.storeName).index("senderId").getAll(e);o.onsuccess=()=>{n(o.result)},o.onerror=()=>{r(o.error)}})}async deleteUserPortraitMessage(e){let t;try{t=await this.chataiStoreManager.getDB()}catch(e){return console.error("Error deleting aichatfolder:",e),Promise.reject(e)}return new Promise((n,r)=>{const o=t.transaction(this.storeName,"readwrite").objectStore(this.storeName).delete(e);o.onsuccess=()=>{n(o.result)},o.onerror=()=>{r(o.error)}})}async addUserPortraitMessage(e){let t;try{t=await this.chataiStoreManager.getDB()}catch(e){return console.error("Error adding aichatfolder:",e),Promise.reject(e)}return new Promise((n,r)=>{const o=t.transaction(this.storeName,"readwrite").objectStore(this.storeName).put(e);o.onsuccess=()=>{n(o.result)},o.onerror=()=>{r(o.error)}})}};function A(e,t,n){return(t=function(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const C=class{constructor(e){this.dbManager=e,A(this,"storeName","userPortrait"),A(this,"db",null),A(this,"chataiStoreManager",void 0),this.db=e.db,this.chataiStoreManager=e}async getUserPortrait(e){let t;try{t=await this.chataiStoreManager.getDB()}catch(e){return console.error("Error get userPortrait:",e),Promise.reject(e)}return new Promise((n,r)=>{const o=t.transaction(this.storeName,"readonly").objectStore(this.storeName).get(e);o.onsuccess=()=>{n(o.result)},o.onerror=()=>{r(o.error)}})}async deleteUserPortrait(e){let t;try{t=await this.chataiStoreManager.getDB()}catch(e){return console.error("Error deleting aichatfolder:",e),Promise.reject(e)}return new Promise((n,r)=>{const o=t.transaction(this.storeName,"readwrite").objectStore(this.storeName).delete(e);o.onsuccess=()=>{n(o.result)},o.onerror=()=>{r(o.error)}})}async addUserPortrait(e){let t;try{t=await this.chataiStoreManager.getDB()}catch(e){return console.error("Error adding userPortrait:",e),Promise.reject(e)}return new Promise((n,r)=>{const o=t.transaction(this.storeName,"readwrite").objectStore(this.storeName).put(e);o.onsuccess=()=>{n(o.result)},o.onerror=()=>{r(o.error)}})}};function k(e,t,n){return(t=function(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const E=class{constructor(e){this.dbManager=e,k(this,"storeName","user"),k(this,"db",null),k(this,"chataiStoreManager",void 0),this.db=e.db,this.chataiStoreManager=e}async getUser(e){let t;try{t=await this.chataiStoreManager.getDB()}catch(e){return console.error("Error adding contact:",e),Promise.reject(e)}return new Promise((n,r)=>{const o=t.transaction(this.storeName,"readonly").objectStore(this.storeName).get(e);o.onsuccess=()=>{n(o.result)},o.onerror=()=>{r(o.error)}})}async addUser(e){let t;try{t=await this.chataiStoreManager.getDB()}catch(e){return console.error("Error adding contact:",e),Promise.reject(e)}return new Promise((n,r)=>{const o=t.transaction(this.storeName,"readwrite").objectStore(this.storeName).put(e);o.onsuccess=()=>{n(o.result)},o.onerror=()=>{r(o.error)}})}};var T=n(77787);let P;const M=20;function O(e){!e||P&&P===e||(async function(e){const t=new u(M,`tt-chatai-${e}`);await t.initDB(),T.zs.summary=new _.Ay(t),T.zs.message=new v.Ay(t),T.zs.contact=new f(t),T.zs.user=new E(t),T.zs.general=new m(t),T.zs.knowledge=new b(t),T.zs.folder=new p(t),T.zs.aIChatFolders=new c(t),T.zs.userPortrait=new C(t),T.zs.userPortraitMessage=new I(t),T.zs.tgMessage=new S(t),r.A.emit(r.E.ChatAIStoreReady),s.s.initLocalInformation(),o.x.initTask(),window.downloadAllSummarys=()=>{T.zs.message?.getAllMessages().then(e=>{const t=JSON.stringify(e),n=new Blob([t],{type:"text/plain;charset=utf-8"}),r=document.createElement("a");r.href=URL.createObjectURL(n),r.download="summarys.txt",document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(r.href)})},window.ChataiMessageStore=T.zs.message}(e),i.Hk.userId=e,i.Hk.getGptSettings()),P=e}},80089:(e,t,n)=>{"use strict";n.d(t,{If:()=>h,Vw:()=>d,ar:()=>i,gt:()=>f,po:()=>u});var r=n(31481),o=n(46536);let i=function(e){return e[e.Auth=0]="Auth",e[e.Main=1]="Main",e[e.Extra=2]="Extra",e[e.Calls=3]="Calls",e[e.Stars=4]="Stars",e}({});const s={},a={},{addCallback:c,runCallbacks:l}=(0,o.h)();async function u(e){if(!s[e]){switch(e){case i.Auth:s[i.Auth]=Promise.all([n.e(4765),n.e(7405)]).then(n.bind(n,32794));break;case i.Main:r.Oig&&console.log(">>> START LOAD MAIN BUNDLE"),s[i.Main]=Promise.all([n.e(4765),n.e(5231),n.e(9129),n.e(2223),n.e(7766),n.e(131),n.e(9533),n.e(5278),n.e(7768)]).then(n.bind(n,40049));break;case i.Extra:s[i.Extra]=Promise.all([n.e(4765),n.e(5231),n.e(9129),n.e(4556),n.e(7766),n.e(131),n.e(9533),n.e(4098),n.e(9451)]).then(n.bind(n,69687));break;case i.Calls:s[i.Calls]=Promise.all([n.e(4765),n.e(7766),n.e(2394)]).then(n.bind(n,83320));break;case i.Stars:s[i.Stars]=Promise.all([n.e(4765),n.e(7766),n.e(131),n.e(5278),n.e(4098),n.e(6930)]).then(n.bind(n,87009))}s[e].then(l)}const t=await s[e];return a[e]||(a[e]=t),t}async function d(e){await u(e)}function f(e,t){const n=a[e];if(n)return n[t]}const h=c},80140:(e,t,n)=>{"use strict";n.d(t,{Fm:()=>s,SF:()=>i,SH:()=>o});let r=0;function o(e){r=e}function i(){return r}function s(){return Math.floor(Date.now()/1e3)+r}},80395:(e,t,n)=>{"use strict";n.d(t,{G6:()=>s,IM:()=>i,Ir:()=>l,UA:()=>o});const r="google_auth_state";function o(e){localStorage.setItem(r,JSON.stringify(e))}function i(){const e=localStorage.getItem(r);return e?JSON.parse(e):null}async function s(e){return!!(e&&e.accessToken&&e.expiresAt)&&(Date.now()<e.expiresAt-6e4||!!e.refreshToken&&null!==await a())}async function a(){const e=i();if(!e?.refreshToken)return null;try{const{GOOGLE_APP_CLIENT_ID:t,GOOGLE_APP_CLIENT_SECRET:r}=await Promise.resolve().then(n.bind(n,31481)),i=await fetch("https://oauth2.googleapis.com/token",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams({client_id:t,client_secret:r,refresh_token:e.refreshToken,grant_type:"refresh_token"})});if(!i.ok)throw new Error("Failed to refresh token");const s=await i.json(),a={...e,accessToken:s.access_token,expiresAt:Date.now()+1e3*s.expires_in,refreshToken:s.refresh_token||e.refreshToken};return o(a),a}catch(e){return console.error("Token refresh failed:",e),localStorage.removeItem(r),null}}let c=null;function l(){c&&clearInterval(c),c=setInterval(async()=>{const e=i();e&&e.expiresAt&&e.expiresAt-Date.now()<6e5&&await a()},3e5)}},80427:(e,t,n)=>{"use strict";n.d(t,{z:()=>s,A:()=>b});var r=n(46942),o=n.n(r),i=n(96540);function s(e){var t=e.children,n=e.prefixCls,r=e.id,s=e.overlayInnerStyle,a=e.bodyClassName,c=e.className,l=e.style;return i.createElement("div",{className:o()("".concat(n,"-content"),c),style:l},i.createElement("div",{className:o()("".concat(n,"-inner"),a),id:r,role:"tooltip",style:s},"function"==typeof t?t():t))}var a=n(58168),c=n(89379),l=n(53986),u=n(62427),d={shiftX:64,adjustY:1},f={adjustX:1,shiftY:!0},h=[0,0],p={left:{points:["cr","cl"],overflow:f,offset:[-4,0],targetOffset:h},right:{points:["cl","cr"],overflow:f,offset:[4,0],targetOffset:h},top:{points:["bc","tc"],overflow:d,offset:[0,-4],targetOffset:h},bottom:{points:["tc","bc"],overflow:d,offset:[0,4],targetOffset:h},topLeft:{points:["bl","tl"],overflow:d,offset:[0,-4],targetOffset:h},leftTop:{points:["tr","tl"],overflow:f,offset:[-4,0],targetOffset:h},topRight:{points:["br","tr"],overflow:d,offset:[0,-4],targetOffset:h},rightTop:{points:["tl","tr"],overflow:f,offset:[4,0],targetOffset:h},bottomRight:{points:["tr","br"],overflow:d,offset:[0,4],targetOffset:h},rightBottom:{points:["bl","br"],overflow:f,offset:[4,0],targetOffset:h},bottomLeft:{points:["tl","bl"],overflow:d,offset:[0,4],targetOffset:h},leftBottom:{points:["br","bl"],overflow:f,offset:[-4,0],targetOffset:h}},g=n(56855),m=["overlayClassName","trigger","mouseEnterDelay","mouseLeaveDelay","overlayStyle","prefixCls","children","onVisibleChange","afterVisibleChange","transitionName","animation","motion","placement","align","destroyTooltipOnHide","defaultVisible","getTooltipContainer","overlayInnerStyle","arrowContent","overlay","id","showArrow","classNames","styles"],y=function(e,t){var n=e.overlayClassName,r=e.trigger,d=void 0===r?["hover"]:r,f=e.mouseEnterDelay,h=void 0===f?0:f,y=e.mouseLeaveDelay,b=void 0===y?.1:y,v=e.overlayStyle,_=e.prefixCls,w=void 0===_?"rc-tooltip":_,S=e.children,x=e.onVisibleChange,I=e.afterVisibleChange,A=e.transitionName,C=e.animation,k=e.motion,E=e.placement,T=void 0===E?"right":E,P=e.align,M=void 0===P?{}:P,O=e.destroyTooltipOnHide,D=void 0!==O&&O,R=e.defaultVisible,N=e.getTooltipContainer,F=e.overlayInnerStyle,L=(e.arrowContent,e.overlay),B=e.id,$=e.showArrow,j=void 0===$||$,U=e.classNames,z=e.styles,V=(0,l.A)(e,m),q=(0,g.A)(B),H=(0,i.useRef)(null);(0,i.useImperativeHandle)(t,function(){return H.current});var G,W,K,Y=(0,c.A)({},V);return"visible"in e&&(Y.popupVisible=e.visible),i.createElement(u.A,(0,a.A)({popupClassName:o()(n,null==U?void 0:U.root),prefixCls:w,popup:function(){return i.createElement(s,{key:"content",prefixCls:w,id:q,bodyClassName:null==U?void 0:U.body,overlayInnerStyle:(0,c.A)((0,c.A)({},F),null==z?void 0:z.body)},L)},action:d,builtinPlacements:p,popupPlacement:T,ref:H,popupAlign:M,getPopupContainer:N,onPopupVisibleChange:x,afterPopupVisibleChange:I,popupTransitionName:A,popupAnimation:C,popupMotion:k,defaultPopupVisible:R,autoDestroy:D,mouseLeaveDelay:b,popupStyle:(0,c.A)((0,c.A)({},v),null==z?void 0:z.root),mouseEnterDelay:h,arrow:j},Y),(W=(null==(G=i.Children.only(S))?void 0:G.props)||{},K=(0,c.A)((0,c.A)({},W),{},{"aria-describedby":L?q:null}),i.cloneElement(S,K)))};const b=(0,i.forwardRef)(y)},80464:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(84051),o=n(80089),i=n(30857);const s=(e,t,n=!1,s=!1)=>{const a=(0,o.gt)(e,t),c=(0,i.A)();return(0,r.vJ)(()=>{if(s)return(0,o.If)(c)},[s,c]),(0,r.vJ)(()=>{n||a||(0,o.Vw)(e).then(c)},[e,c,a,t,n]),a}},80754:function(e,t,n){var r,o,i;e.exports=(r=n(19021),i=(o=r).lib.WordArray,o.enc.Base64={stringify:function(e){var t=e.words,n=e.sigBytes,r=this._map;e.clamp();for(var o=[],i=0;i<n;i+=3)for(var s=(t[i>>>2]>>>24-i%4*8&255)<<16|(t[i+1>>>2]>>>24-(i+1)%4*8&255)<<8|t[i+2>>>2]>>>24-(i+2)%4*8&255,a=0;a<4&&i+.75*a<n;a++)o.push(r.charAt(s>>>6*(3-a)&63));var c=r.charAt(64);if(c)for(;o.length%4;)o.push(c);return o.join("")},parse:function(e){var t=e.length,n=this._map,r=this._reverseMap;if(!r){r=this._reverseMap=[];for(var o=0;o<n.length;o++)r[n.charCodeAt(o)]=o}var s=n.charAt(64);if(s){var a=e.indexOf(s);-1!==a&&(t=a)}return function(e,t,n){for(var r=[],o=0,s=0;s<t;s++)if(s%4){var a=n[e.charCodeAt(s-1)]<<s%4*2|n[e.charCodeAt(s)]>>>6-s%4*2;r[o>>>2]|=a<<24-o%4*8,o++}return i.create(r,o)}(e,t,r)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="},r.enc.Base64)},80840:(e,t,n)=>{"use strict";n.d(t,{R6:()=>l,c5:()=>u,h9:()=>a,um:()=>c});var r=n(87894),o=n(60919),i=n(71331),s=n(16350);function a(e,t,n,o,i){const s=Object.values({...e.groupCalls.byId[t]?.participants,...n.participants}).filter(({isLeft:e})=>!e).reduce((e,t)=>(e[t.id]=t,e),{});return{...e,groupCalls:{...e.groupCalls,byId:{...e.groupCalls.byId,[t]:{...e.groupCalls.byId[t],...(0,r.cJ)(n,["participantsCount"]),...o&&{participantsCount:e.groupCalls.byId[t].participantsCount+o},...void 0!==i&&{participantsCount:i},participants:s}}}}}function c(e,t){const n=(0,i.Ip)(e,t);return n&&n.chatId&&(0,o.hds)(e,n.chatId)&&(e=(0,s.lt)(e,n.chatId,{groupCallId:void 0})),{...e,groupCalls:{...e.groupCalls,byId:{...(0,r.cJ)(e.groupCalls.byId,[t.toString()])}}}}function l(e,t,n){return e.groupCalls.activeGroupCallId?a(e,e.groupCalls.activeGroupCallId,t,void 0,n):e}function u(e,t,n,r,o=!1){const s=(0,i.Ip)(e,t);return s?a(e,t,{participants:{...s.participants,[n]:{...s.participants[n],...r}}},r.isLeft?o?0:-1:s.participants[n]||o?0:1):e}},80853:(e,t,n)=>{"use strict";function r(e){e.dataset.patchedForSafari||(e.addEventListener("play",()=>{const t=e.currentTime;e.dataset.patchForSafariInProgress="true",e.addEventListener("progress",function n(){e.buffered.length&&(e.currentTime=e.duration-1,e.addEventListener("progress",()=>{delete e.dataset.patchForSafariInProgress,e.currentTime=t,e.paused&&!e.dataset.preventPlayAfterPatch&&e.play()},{once:!0}),e.removeEventListener("progress",n))})},{once:!0}),e.dataset.patchedForSafari="true")}function o(e){return Boolean(e.dataset.patchForSafariInProgress)}n.d(t,{C:()=>r,f:()=>o})},81008:(e,t,n)=>{"use strict";n.d(t,{A:()=>S});var r=n(96540),o=n(15666),i=n(13439),s=n(23174),a=n(31481),c=n(90709),l=n(70636),u=n(87357),d=n(14242),f=n(76023),h=n(35049),p=n(96454),g=n(96456),m=n(31511),y=n(29356),b=n(9716);const v={micro:f.$,mini:1.5*f.$,tiny:2*f.$,small:2.125*f.$,medium:2.75*f.$,large:3.375*f.$,giant:5.625*f.$,jumbo:7.5*f.$},_=(0,u.x)("Avatar");_.media=_("media"),_.icon=_("icon");const w=({className:e,style:t,size:n="large",peer:f,photo:w,webPhoto:S,text:x,isSavedMessages:I,isSavedDialog:A,noPersonalPhoto:C,clickOpenAIAssiatant:k=!0,clickOpenRoom:E=!0,tooltip:T=!1,onClick:P})=>{const{openChat:M,openChatAIWithInfo:O}=(0,i.ko)(),D=(0,r.useRef)(void 0),R=f&&"isCustomPeer"in f,N=f&&!R?f:void 0,F=N&&(0,l.mO)(N)?N:void 0,L=N&&(0,l.vj)(N)?N:void 0,B=F&&(0,c.PL)(F),$=N&&(0,c.kE)(N.id),j=N&&(0,c.Qe)(N.id);let U;const z="number"==typeof n?n:v[n],V=z>=v.jumbo;I||B||(F&&!C||L?U=(0,c.cP)(f,V?"big":void 0):w?U=`photo${w.id}?size=m`:S&&(U=(0,c.cy)(S)));const q=(0,r.useMemo)(()=>R?f.avatarIcon:I?A?"my-notes":"avatar-saved-messages":B?"avatar-deleted-account":$?"reply-filled":j?"author-hidden":void 0,[R,I,B,$,j,f,A]),H=(0,g.A)(U,!1,s.qZ.BlobUrl),G=Boolean(H),W=(0,m.A)();let K;const Y=F?(0,c.Yg)(F):L?(0,c.Js)(W,L):x;if(q)K=r.createElement(y.A,{name:q,className:_.icon,role:"img",ariaLabel:Y});else if(G)K=r.createElement(r.Fragment,null,r.createElement("img",{src:H,className:(0,u.A)(_.media,"avatar-media"),alt:Y,decoding:"async",draggable:!1}));else if(F){const e=(0,c.Yg)(F);K=e?(0,d.Qh)(e,2):void 0}else if(L){const e=(0,c.Js)(W,L);K=e&&(0,d.Qh)(e,(0,b.L8)(L.id)?2:1)}else if(R){const e=f.title||W(f.titleKey);K=e&&(0,d.Qh)(e,1)}else x&&(K=(0,d.Qh)(x,2));const J=R&&f.withPremiumGradient,X=R&&f.customPeerAvatarColor,Z=(0,r.useMemo)(()=>F?(0,c.Yg)(F):L?(0,c.Js)(W,L):R?f.title||W(f.titleKey):"",[L,R,W,f,F]),Q=(0,u.A)("Avatar",e,(0,h.y)(f),!f&&x&&"hidden-user",I&&"saved-messages",j&&"anonymous-forwards",B&&"deleted-account",$&&"replies-bot-account",J&&"premium-gradient-bg",(w||S)&&"force-fit",P&&"interactive",!I&&!H&&"no-photo"),ee=Boolean(I||H),{handleClick:te,handleMouseDown:ne}=function(e){const t=(0,r.useCallback)(t=>{"mousedown"===t.type&&t.button!==p.w3.Main||e(t)},[e]);return p.TF?{handleClick:e?t:void 0}:{handleMouseDown:e?t:void 0}}(e=>{E&&N?.id&&M({id:N.id}),k&&N?.id&&O({chatId:N.id}),P&&P(e,ee)}),re=function(...e){return e.reduce((e,t)=>({...e,...t}),{})}(z?{"--_size":`${z}px`}:{},X?{"--color-user":X}:{},t||{});return T?r.createElement(o.A,{placement:"top",title:Z},r.createElement("div",{ref:D,className:Q,id:N?.id,"data-peer-id":N?.id,"data-test-sender-id":a.W75?N?.id:void 0,"aria-label":"string"==typeof K?Y:void 0,style:re,onClick:te,onMouseDown:ne},r.createElement("div",{className:"inner"},K))):r.createElement("div",{ref:D,className:Q,id:N?.id,"data-peer-id":N?.id,"data-test-sender-id":a.W75?N?.id:void 0,"aria-label":"string"==typeof K?Y:void 0,style:re,onClick:te,onMouseDown:ne},r.createElement("div",{className:"inner"},K))},S=(0,r.memo)(w)},81120:(e,t,n)=>{"use strict";n.d(t,{$4:()=>x,DF:()=>b,FQ:()=>A,IT:()=>g,Nj:()=>v,OJ:()=>y,Q2:()=>f,RL:()=>p,Rx:()=>_,U$:()=>m,a3:()=>C,jK:()=>S,lF:()=>h,oi:()=>d,pD:()=>l,qs:()=>I,t0:()=>w,uN:()=>u});var r=n(25279),o=n(13439),i=(n(31481),n(90709)),s=n(60919),a=n(48862),c=n(85935);const l=()=>{const e=(0,o.mS)(),{currentUserId:t}=e,n=(0,s.mBe)(e,t);return{userId:t,userName:(0,i.Yg)(n)}},u=e=>new Promise((t,n)=>{(0,c.ub)("/auto-reply","POST",JSON.stringify(e)).then(e=>{t(e)}).catch(e=>{n(e)})}),d=e=>new Promise((t,n)=>{(0,c.ub)("/summary","POST",JSON.stringify(e)).then(e=>{t(e)}).catch(e=>{n(e)})}),f=e=>{const{globalsummarytemplate:t}=a.Hk.telegptSettings;let n="/global-summary";return"summary-by-topic"===t&&(n="/global-summary-topic"),new Promise((t,r)=>{(0,c.ub)(n,"POST",JSON.stringify(e)).then(e=>{t(e)}).catch(e=>{r(e)})})},h=e=>new Promise((t,n)=>{(0,c.ub)("/action-items","POST",JSON.stringify(e)).then(e=>{t(e)}).catch(e=>{n(e)})}),p=e=>{const t={messages:[{id:(0,r.A)(),content:e,role:"user"}]};return new Promise((e,n)=>{(0,c.ub)("/meeting-tool","POST",JSON.stringify(t)).then(t=>{e(t)}).catch(e=>{n(e)})})};function g(e){return new Promise((t,n)=>{(0,c.ub)("/image-summary","POST",JSON.stringify(e)).then(e=>{t(e)}).catch(e=>{n(e)})})}function m(e){return new Promise((t,n)=>{(0,c.ub)("/webpage-summary","POST",JSON.stringify(e)).then(e=>{t(e)}).catch(e=>{n(e)})})}function y(e){return new Promise((t,n)=>{(0,c.ub)("/document-summary","POST",JSON.stringify(e)).then(e=>{t(e)}).catch(e=>{n(e)})})}function b(e){return new Promise((t,n)=>{(0,c.ub)("/audio-summary","POST",e,"multipart/form-data").then(e=>{t(e)}).catch(e=>{n(e)})})}function v(e){return new Promise((t,n)=>{(0,c.ub)("/audio-to-text","POST",e,"multipart/form-data").then(e=>{t(e)}).catch(e=>{n(e)})})}function _(e){return new Promise((t,n)=>{(0,c.ub)("/mention-reply","POST",JSON.stringify(e)).then(e=>{t(e)}).catch(e=>{n(e)})})}function w(e){return new Promise((t,n)=>{(0,c.ub)("/calendly-ranges","POST",JSON.stringify(e)).then(e=>{const n=[],r=e.data.availability_timezone,o=e.data.current_user.email;e.data.days&&e.data.days.forEach(e=>{e.spots.forEach(e=>{const t=new Date(e.start_time);n.push(t.toISOString())})}),t({times:n,timeZone:r,email:o})}).catch(e=>{n(e)})})}function S(e){return new Promise((t,n)=>{(0,c.ub)("/generate-tags","POST",JSON.stringify(e)).then(e=>{t(e)}).catch(e=>{n(e)})})}function x(e){return new Promise((t,n)=>{(0,c.ub)("/generate-user-activities","POST",JSON.stringify(e)).then(e=>{t(e)}).catch(e=>{n(e)})})}function I(e){return new Promise((t,n)=>{(0,c.ub)("/classify-generate","POST",JSON.stringify(e)).then(e=>{t(e)}).catch(e=>{n(e)})})}function A(e){return new Promise((t,n)=>{(0,c.ub)("/urgent-message-check","POST",JSON.stringify(e)).then(e=>{t(e)}).catch(e=>{n(e)})})}const C=e=>new Promise((t,n)=>{(0,c.ub)(`/voice-call?phoneNumber=${e}`,"GET").then(e=>{t(e)}).catch(e=>{n(e)})})},81380:function(e,t,n){var r;e.exports=(r=n(19021),n(43240),function(){var e=r,t=e.lib.Hasher,n=e.x64,o=n.Word,i=n.WordArray,s=e.algo;function a(){return o.create.apply(o,arguments)}var c=[a(1116352408,3609767458),a(1899447441,602891725),a(3049323471,3964484399),a(3921009573,2173295548),a(961987163,4081628472),a(1508970993,3053834265),a(2453635748,2937671579),a(2870763221,3664609560),a(3624381080,2734883394),a(310598401,1164996542),a(607225278,1323610764),a(1426881987,3590304994),a(1925078388,4068182383),a(2162078206,991336113),a(2614888103,633803317),a(3248222580,3479774868),a(3835390401,2666613458),a(4022224774,944711139),a(264347078,2341262773),a(604807628,2007800933),a(770255983,1495990901),a(1249150122,1856431235),a(1555081692,3175218132),a(1996064986,2198950837),a(2554220882,3999719339),a(2821834349,766784016),a(2952996808,2566594879),a(3210313671,3203337956),a(3336571891,1034457026),a(3584528711,2466948901),a(113926993,3758326383),a(338241895,168717936),a(666307205,1188179964),a(773529912,1546045734),a(1294757372,1522805485),a(1396182291,2643833823),a(1695183700,2343527390),a(1986661051,1014477480),a(2177026350,1206759142),a(2456956037,344077627),a(2730485921,1290863460),a(2820302411,3158454273),a(3259730800,3505952657),a(3345764771,106217008),a(3516065817,3606008344),a(3600352804,1432725776),a(4094571909,1467031594),a(275423344,851169720),a(430227734,3100823752),a(506948616,1363258195),a(659060556,3750685593),a(883997877,3785050280),a(958139571,3318307427),a(1322822218,3812723403),a(1537002063,2003034995),a(1747873779,3602036899),a(1955562222,1575990012),a(2024104815,1125592928),a(2227730452,2716904306),a(2361852424,442776044),a(2428436474,593698344),a(2756734187,3733110249),a(3204031479,2999351573),a(3329325298,3815920427),a(3391569614,3928383900),a(3515267271,566280711),a(3940187606,3454069534),a(4118630271,4000239992),a(116418474,1914138554),a(174292421,2731055270),a(289380356,3203993006),a(460393269,320620315),a(685471733,587496836),a(852142971,1086792851),a(1017036298,365543100),a(1126000580,2618297676),a(1288033470,3409855158),a(1501505948,4234509866),a(1607167915,987167468),a(1816402316,1246189591)],l=[];!function(){for(var e=0;e<80;e++)l[e]=a()}();var u=s.SHA512=t.extend({_doReset:function(){this._hash=new i.init([new o.init(1779033703,4089235720),new o.init(3144134277,2227873595),new o.init(1013904242,4271175723),new o.init(2773480762,1595750129),new o.init(1359893119,2917565137),new o.init(2600822924,725511199),new o.init(528734635,4215389547),new o.init(1541459225,327033209)])},_doProcessBlock:function(e,t){for(var n=this._hash.words,r=n[0],o=n[1],i=n[2],s=n[3],a=n[4],u=n[5],d=n[6],f=n[7],h=r.high,p=r.low,g=o.high,m=o.low,y=i.high,b=i.low,v=s.high,_=s.low,w=a.high,S=a.low,x=u.high,I=u.low,A=d.high,C=d.low,k=f.high,E=f.low,T=h,P=p,M=g,O=m,D=y,R=b,N=v,F=_,L=w,B=S,$=x,j=I,U=A,z=C,V=k,q=E,H=0;H<80;H++){var G,W,K=l[H];if(H<16)W=K.high=0|e[t+2*H],G=K.low=0|e[t+2*H+1];else{var Y=l[H-15],J=Y.high,X=Y.low,Z=(J>>>1|X<<31)^(J>>>8|X<<24)^J>>>7,Q=(X>>>1|J<<31)^(X>>>8|J<<24)^(X>>>7|J<<25),ee=l[H-2],te=ee.high,ne=ee.low,re=(te>>>19|ne<<13)^(te<<3|ne>>>29)^te>>>6,oe=(ne>>>19|te<<13)^(ne<<3|te>>>29)^(ne>>>6|te<<26),ie=l[H-7],se=ie.high,ae=ie.low,ce=l[H-16],le=ce.high,ue=ce.low;W=(W=(W=Z+se+((G=Q+ae)>>>0<Q>>>0?1:0))+re+((G+=oe)>>>0<oe>>>0?1:0))+le+((G+=ue)>>>0<ue>>>0?1:0),K.high=W,K.low=G}var de,fe=L&$^~L&U,he=B&j^~B&z,pe=T&M^T&D^M&D,ge=P&O^P&R^O&R,me=(T>>>28|P<<4)^(T<<30|P>>>2)^(T<<25|P>>>7),ye=(P>>>28|T<<4)^(P<<30|T>>>2)^(P<<25|T>>>7),be=(L>>>14|B<<18)^(L>>>18|B<<14)^(L<<23|B>>>9),ve=(B>>>14|L<<18)^(B>>>18|L<<14)^(B<<23|L>>>9),_e=c[H],we=_e.high,Se=_e.low,xe=V+be+((de=q+ve)>>>0<q>>>0?1:0),Ie=ye+ge;V=U,q=z,U=$,z=j,$=L,j=B,L=N+(xe=(xe=(xe=xe+fe+((de+=he)>>>0<he>>>0?1:0))+we+((de+=Se)>>>0<Se>>>0?1:0))+W+((de+=G)>>>0<G>>>0?1:0))+((B=F+de|0)>>>0<F>>>0?1:0)|0,N=D,F=R,D=M,R=O,M=T,O=P,T=xe+(me+pe+(Ie>>>0<ye>>>0?1:0))+((P=de+Ie|0)>>>0<de>>>0?1:0)|0}p=r.low=p+P,r.high=h+T+(p>>>0<P>>>0?1:0),m=o.low=m+O,o.high=g+M+(m>>>0<O>>>0?1:0),b=i.low=b+R,i.high=y+D+(b>>>0<R>>>0?1:0),_=s.low=_+F,s.high=v+N+(_>>>0<F>>>0?1:0),S=a.low=S+B,a.high=w+L+(S>>>0<B>>>0?1:0),I=u.low=I+j,u.high=x+$+(I>>>0<j>>>0?1:0),C=d.low=C+z,d.high=A+U+(C>>>0<z>>>0?1:0),E=f.low=E+q,f.high=k+V+(E>>>0<q>>>0?1:0)},_doFinalize:function(){var e=this._data,t=e.words,n=8*this._nDataBytes,r=8*e.sigBytes;return t[r>>>5]|=128<<24-r%32,t[30+(r+128>>>10<<5)]=Math.floor(n/4294967296),t[31+(r+128>>>10<<5)]=n,e.sigBytes=4*t.length,this._process(),this._hash.toX32()},clone:function(){var e=t.clone.call(this);return e._hash=this._hash.clone(),e},blockSize:32});e.SHA512=t._createHelper(u),e.HmacSHA512=t._createHmacHelper(u)}(),r.SHA512)},81470:(e,t,n)=>{"use strict";n.d(t,{_q:()=>r.A,vz:()=>o.A});var r=n(26956),o=n(12533);n(8719),n(20488),n(68210)},82117:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(84051);const o=(e,t,n)=>{const o=(0,r.li)();return(0,r.vJ)(()=>{const n=o.current;return o.current=t,e(n||[])},t,n)}},82150:(e,t,n)=>{"use strict";n.d(t,{iR:()=>J,o4:()=>A,Kc:()=>x,fg:()=>N,Iw:()=>X,AH:()=>P,XA:()=>M,hj:()=>ee,v:()=>T,It:()=>q,l3:()=>G,T4:()=>K,qK:()=>D,tT:()=>I,n4:()=>w,ew:()=>S,o7:()=>ne,gz:()=>L,s3:()=>F,yr:()=>W,r3:()=>C,MN:()=>y,Xb:()=>H,kV:()=>z,Cf:()=>te,d4:()=>O,E0:()=>R,J8:()=>re,DL:()=>oe,xA:()=>Q,QN:()=>E,tM:()=>U,Eg:()=>k,Ff:()=>j,EK:()=>V,e4:()=>v,eA:()=>B,Ng:()=>$,Ww:()=>Y,mR:()=>Z});var r=n(23174),o=n(31481),i=n(22986),s=n(70874),a=n(14487),c=n(87894),l=n(60343),u=n(90709),d=n(17237);function f(e,t){if(e.text)return!t&&1===Object.keys(e).length&&!e.text.entities?.some(e=>e.type!==r.C7.CustomEmoji)&&(0,d.A)(e.text.text)||void 0}var h=n(60919),p=n(68344),g=n(32989),m=n(95753);function y(e,t,n=r.l3,i="thread",s,c,...[l=(0,a.g0)()]){const{messageLists:u}=(0,h.nTw)(e,l);let d=u;if(s||o.W75&&!o.fng)d=t?[{chatId:t,threadId:n,type:i}]:[];else if(t){const r=u[u.length-1];if(r?.chatId===t&&r.threadId===n&&r.type===i)return e;if(r&&(r.chatId===o.Xab||c))d=[...u.slice(0,-1),{chatId:t,threadId:n,type:i}];else{const e=u[u.length-2];d=e?.chatId===t&&e.threadId===n&&e.type===i?u.slice(0,-1):[...u,{chatId:t,threadId:n,type:i}]}}else d=u.slice(0,-1);return(0,g.w)(e,{messageLists:d},l)}function b(e,t,n){return _(e,t,{byId:n})}function v(e,t,n,r){if(!r)return _(e,t,{threadsById:(0,c.cJ)(e.messages.byChatId[t]?.threadsById,[n])});const o=e.messages.byChatId[t];return _(e,t,{threadsById:{...o?.threadsById,[n]:{...o?.threadsById[n],...r}}})}function _(e,t,n){const r=e.messages.byChatId[t]||{byId:{},threadsById:{}};return{...e,messages:{...e.messages,byChatId:{...e.messages.byChatId,[t]:{...r,...n}}}}}function w(e,t,n,r,o,...[i=(0,a.g0)()]){return"viewportIds"===r&&(e=S(e,t,n,"lastViewportIds",o)),function(e,t,n,r,...[o=(0,a.g0)()]){const i=(0,h.nTw)(e,o),s=i.tabThreads[t]?.[n]||{};return(0,g.w)(e,{tabThreads:{...i.tabThreads,[t]:{...i.tabThreads[t],[n]:{...s,...r}}}},o)}(e,t,n,{[r]:o},i)}function S(e,t,n,r,o){return v(e,t,n,{[r]:o})}function x(e,t){const n=t.reduce((e,t)=>(e[t.chatId]||(e[t.chatId]={}),e[t.chatId][t.id]=t,e),{});return Object.keys(n).forEach(t=>{e=A(e,t,n[t])}),e}function I(e,t){const n=t.reduce((e,t)=>(e[t.chatId]||(e[t.chatId]={}),e[t.chatId][t.id]=t,e),{});return Object.keys(n).forEach(t=>{const r={...(0,h.zeq)(e,t)||{},...n[t]};e=b(e,t,r)}),e}function A(e,t,n){const r=(0,h.zeq)(e,t);return r&&Object.keys(n).every(e=>Boolean(r[Number(e)]))?e:b(e,t,{...n,...r})}function C(e,t,n,r,o=!1){const a=(0,h.zeq)(e,t)||{},l=a[n];if(o&&l){const t=Object.keys(r);if((0,i.T)((0,c.Up)(l,t),r))return e}l&&!1===r.isMediaUnread&&(0,u.G5)(l)&&(l.content.voice?r.content={action:{mediaType:"action",type:"expired",isVoice:!0}}:l.content.video?.isRound&&(r.content={action:{mediaType:"action",type:"expired",isRoundVideo:!0}}));let d=l?.emojiOnlyCount,p=l?.content?.text;r.content&&(d=f(r.content,l?.groupedId||r.groupedId),p=r.content.text?(0,s.j)(r.content.text):p);const g=(0,c.Oy)({...l,...r,emojiOnlyCount:d,text:p});return g.id?b(e,t,{...a,[n]:g}):e}function k(e,t,n,r){const o=(0,h.Jl6)(e,t,n);let i=o?.emojiOnlyCount,a=o?.content?.text;r.content&&(i=f(r.content,o?.groupedId||r.groupedId),a=r.content.text?(0,s.j)(r.content.text):a);const c={...o,...r,emojiOnlyCount:i,text:a};return c.id?j(e,t,{[n]:c}):e}function E(e,t,n){const r={...(0,h.N1i)(e,t),...n};return r.id?U(e,{[t]:r}):e}function T(e,t){const n=e.quickReplies.messagesById,r=(0,c.cJ)(n,t);return{...e,quickReplies:{...e.quickReplies,messagesById:r}}}function P(e,t,n){const o=(0,h.zeq)(e,t);if(!o)return e;(0,u.Ld)(n);const i=new Map;i.set(r.l3,n);const s=[];n.forEach(n=>{const a=o[n];if(!a)return;(0,u.iZ)(a)&&s.push(n);const c=(0,h.L_2)(e,a);if(!c||c===r.l3)return;const l=i.get(c)||[];l.push(n),i.set(c,l),e=(0,m.gt)(e,t,n)});const a=Object.values((0,c._E)(o,n)).filter(({forwardInfo:e})=>e?.isLinkedChannelPost);i.forEach((r,o)=>{const i=(0,h.Vw0)(e,t,o);let a=(0,h.gCU)(e,t,o),d=(0,h.fcC)(e,t,o),f=(0,h.JiE)(e,t,o),g=i?.messagesCount;a&&(a=(0,c.lK)(a,r)),f&&(f=f.map(e=>(0,c.lK)(e,r))),d&&(d=(0,c.lK)(d,(0,u.vp)(r)));const m=r.filter(e=>!(0,l.iL)(e)).length;void 0!==g&&(g-=m),Object.values(e.byTabId).forEach(({id:r})=>{const i=(0,h.nTw)(e,r);Object.entries(i.activeDownloads).filter(([,{originChatId:e,originMessageId:n}])=>e===t&&n).forEach(([t,o])=>{n.includes(o.originMessageId)&&(e=X(e,[t],r))}),s.forEach(n=>{e=(0,p.cs)(e,t,o,n,r)});const a=(0,h.rA3)(e,t,o,r);if(!a)return;const l=(0,c.lK)(a,n);e=w(e,t,o,"viewportIds",0===l.length?void 0:l,r)}),e=S(e,t,o,"listedIds",a),e=S(e,t,o,"outlyingLists",f),e=S(e,t,o,"pinnedIds",d),i&&void 0!==g&&(e=B(e,t,o,{messagesCount:g}))}),a.length&&Object.values(e.byTabId).forEach(({id:n})=>{const r=(0,h.Xf0)(e,n),o=r&&r.chatId===t&&"thread"===r.type,i=r?.threadId;a.forEach(r=>{const{fromChatId:s,fromMessageId:a}=r.forwardInfo,c=(0,h.O5q)(e,s,a);o&&i===r.id&&(e=y(e,t,void 0,void 0,void 0,void 0,n)),c&&(e=v(e,s,a,void 0))})});const d=(0,c.cJ)(o,n);return e=b(e,t,d)}function M(e,t,n){const o=(0,h.yFI)(e,t);if(!o)return e;const i=(0,c.cJ)(o,n);let s=(0,h.K3w)(e,t,r.l3);return s&&(n.forEach(e=>{s.includes(e)&&(s=s.filter(t=>t!==e))}),e=S(e,t,r.l3,"scheduledIds",s),Object.entries(e.messages.byChatId[t].threadsById).forEach(([r,o])=>{if(o.scheduledIds){const i=o.scheduledIds.filter(e=>!n.includes(e));e=S(e,t,Number(r),"scheduledIds",i)}})),e={...e,scheduledMessages:{byChatId:{...e.scheduledMessages.byChatId,[t]:{byId:i}}}}}function O(e,t,n,r){const o=(0,h.gCU)(e,t,n),i=o?.length?r.filter(e=>!o.includes(e)):r;return o&&!i.length?e:S(e,t,n,"listedIds",(0,u.Ld)([...o||[],...i]))}function D(e,t,n,r){const o=(0,h.JiE)(e,t,n);return o?S(e,t,n,"outlyingLists",o.filter(e=>e!==r)):e}function R(e,t,n,r){if(!r.length)return e;const o=(0,h.JiE)(e,t,n);return S(e,t,n,"outlyingLists",(0,u.cR)(o||[],r))}function N(e,t,n,r,...[i=(0,a.g0)()]){const s=(0,h.rA3)(e,t,n,i)||[];return s.includes(r)?e:w(e,t,n,"viewportIds",(0,u.Ld)([...s.length<o.IRc?s:s.slice(-o.yo2/2),r]),i)}function F(e,t,n,r,...[o=(0,a.g0)()]){const i=(0,h.rA3)(e,t,n,o)||[],s=(0,u.Ld)(r);return w(e,t,n,"viewportIds",(0,c.k)(i,s)?i:s,o)}function L(e,t,n,r){const o=(0,h.fcC)(e,t,n)||[],i=(0,u.vp)(r);return S(e,t,n,"pinnedIds",(0,c.k)(o,i)?o:i)}function B(e,t,n,r,o){const i={...(0,h.Vw0)(e,t,n),...r};if(!o&&!i.isCommentsInfo){const t=(0,c.Up)(i,["messagesCount","lastMessageId","lastReadInboxMessageId"]);i.fromChannelId&&i.fromMessageId&&(e=B(e,i.fromChannelId,i.fromMessageId,t,!0))}return S(e,t,n,"threadInfo",i)}function $(e,t){return t.forEach(t=>{e=B(e,t.isCommentsInfo?t.originChannelId:t.chatId,t.isCommentsInfo?t.originMessageId:t.threadId,t)}),e}function j(e,t,n){const r=e.scheduledMessages.byChatId[t]||{byId:{},hash:0};return{...e,scheduledMessages:{byChatId:{...e.scheduledMessages.byChatId,[t]:{...r,byId:{...r.byId,...n}}}}}}function U(e,t){return{...e,quickReplies:{...e.quickReplies,messagesById:{...e.quickReplies.messagesById,...t}}}}function z({global:e,chatId:t,messageId:n,threadId:o=r.l3,noHighlight:i=!1,isResizingContainer:s=!1,quote:c,quoteOffset:l,scrollTargetPosition:u},...[d=(0,a.g0)()]){return(0,g.w)(e,{focusedMessage:{...(0,h.nTw)(e,d).focusedMessage,chatId:t,threadId:o,messageId:n,noHighlight:i,isResizingContainer:s,quote:c,quoteOffset:l,scrollTargetPosition:u}},d)}function V(e,t,n){return{...e,messages:{...e.messages,sponsoredByChatId:{...e.messages.sponsoredByChatId,[t]:n}}}}function q(e,t){const n=e.messages.sponsoredByChatId;return n[t]?{...e,messages:{...e.messages,sponsoredByChatId:(0,c.cJ)(n,[t])}}:e}function H(e,t,...[n=(0,a.g0)()]){return(0,g.w)(e,{focusedMessage:{...(0,h.nTw)(e,n).focusedMessage,direction:t}},n)}function G(e,t,n,...[r=(0,a.g0)()]){const o=n?Array.prototype.concat([],n):[];return(0,g.w)(e,{selectedMessages:{chatId:t,messageIds:o}},r)}function W(e,t,n,r,o,i,s,l=!1,...[u=(0,a.g0)()]){const{selectedMessages:d}=(0,h.nTw)(e,u);i&&(s=(0,h.D_S)(e,t,i));const f=s||[o];if(!d)return G(e,t,f,u);const{messageIds:p}=d;let m;const y=f.filter(e=>!p.includes(e));if(y&&!y.length)m=p.filter(e=>!f.includes(e));else if(l&&p.length){const i=(0,h.vRX)(e,t,n,r,u),s=i.indexOf(p[p.length-1]),a=i.indexOf(o),l=Math.min(s,a),d=Math.max(s,a),f=i.slice(l,d+1);m=(0,c.Am)([...p,...f])}else m=[...p,...y];return m.length?(0,g.w)(e,{selectedMessages:{...d,messageIds:m}},u):K(e,u)}function K(e,...[t=(0,a.g0)()]){return(0,g.w)(e,{selectedMessages:void 0},t)}function Y(e,t,n,r,o){const{channelPostId:i,fromChatId:s}=t.forwardInfo||{};if(i&&s){const t=(0,h.Vw0)(e,n,i);t&&(e=S(e,n,i,"threadInfo",{...t,lastMessageId:r,messagesCount:(t.messagesCount||0)+(o?-1:1)}))}return e}function J(e,t,n,...[r=(0,a.g0)()]){const o=(0,h.nTw)(e,r);return(0,g.w)(e,{activeDownloads:{...o.activeDownloads,[t]:n}},r)}function X(e,t,...[n=(0,a.g0)()]){const r=(0,h.nTw)(e,n),o=(0,c.cJ)(r.activeDownloads,t);return(0,g.w)(e,{activeDownloads:o},n)}function Z(e,t,n){return{...e,fileUploads:{byMessageKey:void 0!==n?{...e.fileUploads.byMessageKey,[t]:{progress:n}}:(0,c.cJ)(e.fileUploads.byMessageKey,[t])}}}function Q(e,t){return{...e,quickReplies:{...e.quickReplies,byId:{...e.quickReplies.byId,...t}}}}function ee(e,t){return{...e,quickReplies:{...e.quickReplies,byId:(0,c.cJ)(e.quickReplies.byId,[t])}}}function te(e,t,n){const r=(0,h.kgA)(e,t),o="full"===r?.webpageType?{...r,...n}:{webpageType:"full",mediaType:"webpage",...n};return o.id?ne(e,t,o):e}function ne(e,t,n){return{...e,messages:{...e.messages,webPageById:{...e.messages.webPageById,[t]:n}}}}function re(e,t,n){const r=(0,h.KQQ)(e,t),o=r?.results;let i=o||n.results;r&&n.results?.results&&(r.results&&n.results.isMin?o.results&&(i={...n.results,results:n.results.results.map(e=>({...e,isChosen:o.results.find(t=>t.option===e.option)?.isChosen})),isMin:void 0}):i=n.results);const s={...r,...n,results:i};return s.id?{...e,messages:{...e.messages,pollById:{...e.messages.pollById,[t]:s}}}:e}function oe(e,t,n,r){const o=(0,h.KQQ)(e,t);if(!o)return e;const{recentVoterIds:i,totalVoters:s,results:a}=o.results,c=i?[...i]:[],l=s?s+1:1,u=a?[...a]:[];return c.push(n),r.forEach(t=>{const r=u.findIndex(e=>e.option===t),o=u[r],i=o?{...o}:{option:t,votersCount:0};i.votersCount+=1,n===e.currentUserId&&(i.isChosen=!0),r?u[r]=i:u.push(i)}),re(e,t,{results:{...o.results,recentVoterIds:c,totalVoters:l,results:u}})}},82169:function(e,t,n){var r;e.exports=(r=n(19021),n(57165),r.mode.CFB=function(){var e=r.lib.BlockCipherMode.extend();function t(e,t,n,r){var o,i=this._iv;i?(o=i.slice(0),this._iv=void 0):o=this._prevBlock,r.encryptBlock(o,0);for(var s=0;s<n;s++)e[t+s]^=o[s]}return e.Encryptor=e.extend({processBlock:function(e,n){var r=this._cipher,o=r.blockSize;t.call(this,e,n,o,r),this._prevBlock=e.slice(n,n+o)}}),e.Decryptor=e.extend({processBlock:function(e,n){var r=this._cipher,o=r.blockSize,i=e.slice(n,n+o);t.call(this,e,n,o,r),this._prevBlock=i}}),e}(),r.mode.CFB)},82284:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}n.d(t,{A:()=>r})},82546:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(76288),o=n(96540);function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=[];return o.Children.forEach(e,function(e){(null!=e||t.keepEmpty)&&(Array.isArray(e)?n=n.concat(i(e)):(0,r.A)(e)&&e.props?n=n.concat(i(e.props.children,t)):n.push(e))}),n}},82855:(e,t,n)=>{"use strict";n.d(t,{A:()=>I});var r=n(84051),o=n(13439),i=n(90709),s=n(60919),a=n(96454),c=n(87357),l=n(58554),u=n(2338),d=n(37479),f=n(94519),h=n(37661),p=n(5912),g=n(62587),m=n(37960),y=n(19129),b=n(14745),v=n(38691),_=n(65843),w=n(18104);const S="AvU_FtMd",x="RrEzFxte",I=(0,r.ph)(({containerRef:e,sticker:t,thumbClassName:n,fullMediaHash:I,fullMediaClassName:A,isSmall:C,size:k=24,customColor:E,loopLimit:T,shouldLoop:P=!1,shouldPreloadPreview:M,forceAlways:O,forceOnHeavyAnimation:D,observeIntersectionForLoading:R,observeIntersectionForPlaying:N,noLoad:F,noPlay:L,noVideoOnMobile:B,withSharedAnimation:$,withTranslucentThumb:j,sharedCanvasRef:U,onVideoEnded:z,onAnimatedStickerLoop:V})=>{const{id:q,isLottie:H,stickerSetInfo:G,emoji:W}=t,[K,Y]=(0,h.A)(),J=t.isVideo&&(!a.OF||B&&(a.pz||a.Ni)),X=t.isVideo,Z=!H&&!X,Q=(0,i.Mw)(t,"preview"),ee=(0,v.A)(),te=(0,d.A)(E),ne=(0,p.Vz)(e,R),re=ne&&!F,oe=(0,p.Vz)(e,N)&&ne,ie=oe&&!L,se=(0,r.li)(oe);!se.current&&oe&&(se.current=!0);const ae=l.Ih(Q),ce=function(e){const[t,n]=(0,r.Ul)(!1),o=r.OV;return(0,r.vJ)(()=>{o()||n(!0)},[o,n]),(0,y.A)(()=>t()&&e,[t,e])}(se.current),le=J||(Z?C:L),ue=!E&&!ae&&(!ce||le),de=(0,g.A)(Q,!ue),fe=ue||ae,he=Boolean(le||I===Q&&(ae||de)),pe=(0,g.A)(I||`sticker${q}`,!re||he),ge=ce&&Boolean(pe)&&!K,[me,ye]=(0,h.A)(),be=ge&&(Z||me),ve=(0,u.A)(t.thumbnail),_e=ae||de||ve,we=U&&!j,Se=Boolean(H&&fe),{ref:xe}=(0,m.A)({hasMediaData:Boolean(_e&&!be),noCloseTransition:Se}),{ref:Ie}=(0,m.A)({hasMediaData:be,noOpenTransition:Se}),Ae=(0,f.A)(e,U);(0,g.A)(Q,!re||!M);const Ce=(0,b.A)(),ke=(0,r.Kr)(()=>[$?"shared":Ce,q,k,$?E:void 0,ee].filter(Boolean).join("_"),[q,k,E,ee,$,Ce]);return r.Ay.createElement(r.Ay.Fragment,null,r.Ay.createElement("img",{ref:xe,src:_e,className:(0,c.A)("gYSfUe37",Se&&S,we&&"vbcXDDxa",n,"sticker-media"),style:te,alt:"",draggable:!1}),ge&&(H?r.Ay.createElement(w.A,{ref:Ie,key:ke,renderId:ke,size:k,className:(0,c.A)(x,(Se||we)&&S,A),tgsUrl:pe,play:ie,noLoop:!P,forceOnHeavyAnimation:O||D,forceAlways:O,isLowPriority:C&&!(0,s.CzR)((0,o.mS)(),G),sharedCanvas:U?.current||void 0,sharedCanvasCoords:Ae,onLoad:ye,onLoop:V,onEnded:V,color:E}):X?r.Ay.createElement(_.A,{ref:Ie,canPlay:ie,className:(0,c.A)(x,A,"sticker-media"),src:pe,playsInline:!0,muted:!0,loop:P&&!T,isPriority:O,disablePictureInPicture:!0,onReady:ye,onBroken:Y,onEnded:z,style:te}):r.Ay.createElement("img",{ref:Ie,className:(0,c.A)(x,A,"sticker-media"),src:pe,alt:W,style:te,draggable:!1})))})},82987:(e,t,n)=>{"use strict";n.d(t,{A:()=>s,V:()=>a});var r,o=n(85089);function i(e){var t="rc-scrollbar-measure-".concat(Math.random().toString(36).substring(7)),n=document.createElement("div");n.id=t;var r,i,s=n.style;if(s.position="absolute",s.left="0",s.top="0",s.width="100px",s.height="100px",s.overflow="scroll",e){var a=getComputedStyle(e);s.scrollbarColor=a.scrollbarColor,s.scrollbarWidth=a.scrollbarWidth;var c=getComputedStyle(e,"::-webkit-scrollbar"),l=parseInt(c.width,10),u=parseInt(c.height,10);try{var d=l?"width: ".concat(c.width,";"):"",f=u?"height: ".concat(c.height,";"):"";(0,o.BD)("\n#".concat(t,"::-webkit-scrollbar {\n").concat(d,"\n").concat(f,"\n}"),t)}catch(e){console.error(e),r=l,i=u}}document.body.appendChild(n);var h=e&&r&&!isNaN(r)?r:n.offsetWidth-n.clientWidth,p=e&&i&&!isNaN(i)?i:n.offsetHeight-n.clientHeight;return document.body.removeChild(n),(0,o.m6)(t),{width:h,height:p}}function s(e){return"undefined"==typeof document?0:((e||void 0===r)&&(r=i()),r.width)}function a(e){return"undefined"!=typeof document&&e&&e instanceof Element?i(e):{width:0,height:0}}},83052:()=>{},83057:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(50680);function o(e){const t=Boolean(e),{transitionClassNames:n}=(0,r.A)(t,void 0,t,"slow");return n}},83414:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var r=n(84051),o=n(5718),i=n(41257),s=n(35297);const a=function(e,t,n=!1){const a=t?e:()=>e;t??(t=[e]);const[c,l]=(0,r.Ul)(),u=(0,i.i)(a);function d(){const e=u.current;n?e(l):l(e())}return(0,s.A)(d,t),(0,o.R)(d,t),c}},83480:(e,t,n)=>{"use strict";n.d(t,{A:()=>c});var r=n(96069),o=n(18826);const i=o.A;var s=n(65341);const a="${label} is not a valid ${type}",c={locale:"en",Pagination:r.A,DatePicker:o.A,TimePicker:s.A,Calendar:i,global:{placeholder:"Please select",close:"Close"},Table:{filterTitle:"Filter menu",filterConfirm:"OK",filterReset:"Reset",filterEmptyText:"No filters",filterCheckAll:"Select all items",filterSearchPlaceholder:"Search in filters",emptyText:"No data",selectAll:"Select current page",selectInvert:"Invert current page",selectNone:"Clear all data",selectionAll:"Select all data",sortTitle:"Sort",expand:"Expand row",collapse:"Collapse row",triggerDesc:"Click to sort descending",triggerAsc:"Click to sort ascending",cancelSort:"Click to cancel sorting"},Tour:{Next:"Next",Previous:"Previous",Finish:"Finish"},Modal:{okText:"OK",cancelText:"Cancel",justOkText:"OK"},Popconfirm:{okText:"OK",cancelText:"Cancel"},Transfer:{titles:["",""],searchPlaceholder:"Search here",itemUnit:"item",itemsUnit:"items",remove:"Remove",selectCurrent:"Select current page",removeCurrent:"Remove current page",selectAll:"Select all data",deselectAll:"Deselect all data",removeAll:"Remove all data",selectInvert:"Invert current page"},Upload:{uploading:"Uploading...",removeFile:"Remove file",uploadError:"Upload error",previewFile:"Preview file",downloadFile:"Download file"},Empty:{description:"No data"},Icon:{icon:"icon"},Text:{edit:"Edit",copy:"Copy",copied:"Copied",expand:"Expand",collapse:"Collapse"},Form:{optional:"(optional)",defaultValidateMessages:{default:"Field validation error for ${label}",required:"Please enter ${label}",enum:"${label} must be one of [${enum}]",whitespace:"${label} cannot be a blank character",date:{format:"${label} date format is invalid",parse:"${label} cannot be converted to a date",invalid:"${label} is an invalid date"},types:{string:a,method:a,array:a,object:a,number:a,date:a,boolean:a,integer:a,float:a,regexp:a,email:a,url:a,hex:a},string:{len:"${label} must be ${len} characters",min:"${label} must be at least ${min} characters",max:"${label} must be up to ${max} characters",range:"${label} must be between ${min}-${max} characters"},number:{len:"${label} must be equal to ${len}",min:"${label} must be minimum ${min}",max:"${label} must be maximum ${max}",range:"${label} must be between ${min}-${max}"},array:{len:"Must be ${len} ${label}",min:"At least ${min} ${label}",max:"At most ${max} ${label}",range:"The amount of ${label} must be between ${min}-${max}"},pattern:{mismatch:"${label} does not match the pattern ${pattern}"}}},Image:{preview:"Preview"},QRCode:{expired:"QR code expired",refresh:"Refresh",scanned:"Scanned"},ColorPicker:{presetEmpty:"Empty",transparent:"Transparent",singleColor:"Single",gradientColor:"Gradient"}}},83643:(e,t,n)=>{"use strict";n.d(t,{Q1:()=>g}),n(96540);var r,o=n(23029),i=n(92901),s=n(85501),a=n(29426),c=n(89379),l=n(53986),u=n(82284),d=n(2616),f=["b"],h=["v"],p=function(e){return Math.round(Number(e||0))},g=function(e){(0,s.A)(n,e);var t=(0,a.A)(n);function n(e){return(0,o.A)(this,n),t.call(this,function(e){if(e instanceof d.Y)return e;if(e&&"object"===(0,u.A)(e)&&"h"in e&&"b"in e){var t=e,n=t.b,r=(0,l.A)(t,f);return(0,c.A)((0,c.A)({},r),{},{v:n})}return"string"==typeof e&&/hsb/.test(e)?e.replace(/hsb/,"hsv"):e}(e))}return(0,i.A)(n,[{key:"toHsbString",value:function(){var e=this.toHsb(),t=p(100*e.s),n=p(100*e.b),r=p(e.h),o=e.a,i="hsb(".concat(r,", ").concat(t,"%, ").concat(n,"%)"),s="hsba(".concat(r,", ").concat(t,"%, ").concat(n,"%, ").concat(o.toFixed(0===o?0:2),")");return 1===o?i:s}},{key:"toHsb",value:function(){var e=this.toHsv(),t=e.v,n=(0,l.A)(e,h);return(0,c.A)((0,c.A)({},n),{},{b:t,a:this.a})}}]),n}(d.Y);(r="#1677ff")instanceof g||new g(r),n(46942),n(81470)},83649:(e,t,n)=>{"use strict";function r(e){return"object"==typeof e&&"isDeleted"in e}function o(e){return!function(e){return"string"==typeof e}(e)&&!r(e)}function i(e){return Boolean(e)&&"object"==typeof e&&"key"in e&&!("type"in e)}function s(e){return"withNodes"in e&&Boolean(e.withNodes)}n.d(t,{JR:()=>r,Qw:()=>o,Yw:()=>i,Zh:()=>s})},83868:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=e=>{e.stopPropagation(),e.preventDefault()}},84051:(e,t,n)=>{"use strict";n.d(t,{$Z:()=>oe,pT:()=>y,wr:()=>m,VK:()=>g.VK,ek:()=>U,Ay:()=>ie,OV:()=>g.OV,rO:()=>q,jo:()=>I,ph:()=>re,bF:()=>H,qF:()=>g.qF,Cc:()=>V,s4:()=>G,hb:()=>ee,vJ:()=>J,Nf:()=>X,Kr:()=>Q,li:()=>te,Ul:()=>ne,J0:()=>K,_W:()=>Z});var r=n(31481),o=n(5930),i=n(37836);const s=new Set(["TeactMemoWrapper renders","TeactNContainer renders","Button renders"]);let a={};const c=(0,i.nF)(function(){l||function(){l=document.createElement("div"),l.style.cssText="position: absolute; left: 0; bottom: 25px; z-index: 9998; width: 260px; height: 200px; border: 1px solid #555; background: rgba(255, 255, 255, 0.9); overflow: auto; font-size: 10px;",document.body.appendChild(l);const e=document.createElement("a");e.style.cssText="position: absolute; left: 222px; bottom: 198px; z-index: 9999; font-size: 20px; cursor: pointer;",e.innerText="🔄",e.addEventListener("click",()=>{a={},c()}),document.body.appendChild(e)}();const e=Date.now()-500,[t,n]=Object.entries(a).reduce((e,[t,{value:n}])=>(s.has(t)||(t.includes("renders")&&n>e[0]&&(e[0]=n),t.includes("duration")&&n>e[1]&&(e[1]=n)),e),[0,0]);l.innerHTML=Object.entries(a).filter(([e,{value:t}])=>!s.has(e)&&(e.includes("renders")&&t>5||e.includes("duration")&&t>2)).sort((e,t)=>t[1].lastUpdateAt-e[1].lastUpdateAt).map(([r,{value:o,lastUpdateAt:i}])=>{return[`<div style="background: #ff0000${s=o/(r.includes("renders")?t:n),Math.round(255*s).toString(16).padStart(2,"0")}">`,`  <span${i>e?' style="background: lightgreen"':""}>${r}: ${Math.round(o)}</span>`,"</div>"].join("\n");var s}).join("\n")},500,!1);let l;function u(e,t=1){const n=Date.now();a[e]?(a[e].value+=t,a[e].lastUpdateAt=n):a[e]={value:t,lastUpdateAt:n},c()}var d=n(87894),f=n(50110),h=n(22237),p=n(66644),g=n(8718);let m=function(e){return e[e.Empty=0]="Empty",e[e.Text=1]="Text",e[e.Tag=2]="Tag",e[e.Component=3]="Component",e[e.Fragment=4]="Fragment",e}({}),y=function(e){return e[e.Mounting=0]="Mounting",e[e.Mounted=1]="Mounted",e[e.Unmounted=2]="Unmounted",e}({});const b=Symbol("Fragment"),v=7,_=7,w=new Set(["TeactMemoWrapper","TeactNContainer","Button","ListItem","MenuItem"]);let S,x=0;function I(e){return e.type===m.Tag||e.type===m.Component||e.type===m.Fragment}function A(e,t,...n){return e===b?function(e){return{type:m.Fragment,children:k(e,!0)}}(n):"function"==typeof e?function(e,t,n){n?.length&&(t.children=1===n.length?n[0]:n);const r={id:-1,$element:void 0,Component:e,name:e.name,props:t,mountState:y.Unmounted};return r.$element=C(r),r.$element}(e,t||{},n):function(e,t,n){return{type:m.Tag,tag:e,props:t,children:k(n)}}(e,t||{},n)}function C(e,t){return{type:m.Component,componentInstance:e,props:e.props,children:t?k(t,!0):[]}}function k(e,t=!1){const n=function(e,t=!1){let n=e.length-1;for(;n>=0&&E(e[n]);n--);return n===e.length-1?e:-1===n&&t?e.slice(0,1):e.slice(0,n+1)}(e,t),r=[];for(let e=0,o=n.length;e<o;e++){const o=n[e];Array.isArray(o)?r.push(...k(o,t)):r.push(T(o))}return r}function E(e){return!e&&0!==e}function T(e){return E(e)?{type:m.Empty}:I(e)?e:{type:m.Text,value:String(e)}}const P={TOTAL:{name:"TOTAL",renders:0}},M={},O=20;document.addEventListener("dblclick",()=>{console.warn("COMPONENTS",(0,d.My)(Object.values(P).map(({avgRenderTime:e,...t})=>({...t,...void 0!==e&&{avgRenderTime:Number(e.toFixed(2))}})),"renders","desc")),console.warn("MEMOS",(0,d.My)(Object.values(M).filter(({calls:e})=>e>=O).map(e=>({...e,hitRate:Number(e.hitRate.toFixed(2))})),"hitRate","asc"))});let D=new Set,R=new Set,N=new Map,F=new Map,L=new Map,B=new Map,$=!1;const j=(0,i.nb)(p.YS,()=>{if((0,g.Mb)())return void g.Mb.once(j);const e=U();R=new Set;const t=Array.from(D).sort((e,t)=>e.id-t.id);D=new Set;const n=F;F=new Map,n.forEach(e=>e());const r=N;N=new Map,r.forEach(e=>e()),(0,p.RK)(()=>{t.forEach(W),t.forEach(e=>{R.has(e.id)||function(e){if(e.mountState===y.Unmounted||!e.onUpdate)return;const t=e.$element;V(e),e.$element!==t&&e.onUpdate()}(e)}),e?.()})});function U(){if(!$)return $=!0,z}function z(){const e=B;B=new Map,e.forEach(e=>e());const t=L;L=new Map,t.forEach(e=>e()),$=!1}function V(e){R.add(e.id);const{Component:t,props:n}=e;let o;if((0,f.A)(()=>{let i;if(S=e,e.hooks&&(e.hooks.state&&(e.hooks.state.cursor=0),e.hooks.effects&&(e.hooks.effects.cursor=0),e.hooks.memos&&(e.hooks.memos.cursor=0),e.hooks.refs&&(e.hooks.refs.cursor=0)),r.Oig){const e=oe(t);P[e]||(P[e]={name:e,renders:0,avgRenderTime:0}),r.MVx&&(w.has(e)||console.log(`[Teact] Render ${e}`)),i=performance.now()}if(o=t(n),r.Oig){const e=performance.now()-i,n=oe(t);e>v&&console.warn(`[Teact] Slow component render: ${n}, ${Math.round(e)} ms`);const{renders:o,avgRenderTime:s}=P[n];P[n].avgRenderTime=(s*o+e)/(o+1),P[n].renders++,P.TOTAL.renders++,r.MVx&&(u(`${n} renders`),u(`${n} duration`,e))}},{rescue:()=>{console.error(`[Teact] Error while rendering component ${e.name}`,e),o=e.renderedValue}}),e.mountState===y.Mounted&&o===e.renderedValue)return e.$element;e.renderedValue=o;const i=Array.isArray(o)?o:[o];return e.$element=C(e,i),e.$element}function q(e,t){return typeof e!=typeof t||e.type!==t.type||(e.type===m.Text&&t.type===m.Text?e.value!==t.value:e.type===m.Tag&&t.type===m.Tag?e.tag!==t.tag||e.props.key!==t.props.key:e.type===m.Component&&t.type===m.Component&&(e.componentInstance.Component!==t.componentInstance.Component||e.props.key!==t.props.key))}function H(e){return e.id=++x,e.mountState=y.Mounting,V(e),e.mountState=y.Mounted,e.$element}function G(e){if(e.mountState!==y.Unmounted){if(R.add(e.id),e.hooks?.effects)for(const t of e.hooks.effects.byCursor)t.cleanup&&(0,f.A)(t.cleanup),t.cleanup=void 0,t.releaseSignals?.();e.mountState=y.Unmounted,function(e){const{effects:t,state:n,memos:r,refs:o}=e.hooks||{};if(t)for(const e of t.byCursor)e.schedule=void 0,e.cleanup=void 0,e.releaseSignals=void 0,e.dependencies=void 0;if(n)for(const e of n.byCursor)e.value=void 0,e.nextValue=void 0,e.setter=void 0;if(r)for(const e of r.byCursor)e.value=void 0,e.dependencies=void 0;if(o)for(const e of o.byCursor)e.current=void 0,e.onChange=void 0;e.hooks=void 0,e.$element=void 0,e.renderedValue=void 0,e.onUpdate=void 0}(e)}}function W(e){if(e.mountState!==y.Unmounted&&e.hooks?.state)for(const t of e.hooks.state.byCursor)t.value=t.nextValue}function K(e,t){S.hooks||(S.hooks={}),S.hooks.state||(S.hooks.state={cursor:0,byCursor:[]});const{cursor:n,byCursor:o}=S.hooks.state,i=S;return void 0===o[n]&&(o[n]={value:e,nextValue:e,setter:e=>{i.mountState!==y.Unmounted&&("function"==typeof e&&(e=e(o[n].nextValue)),o[n].nextValue!==e&&(o[n].nextValue=e,D.add(i),j(),r.MVx&&console.log("[Teact.useState]",oe(i.Component),`State update at cursor #${n}${t?` (${t})`:""}, next value: `,o[n].nextValue)))}}),S.hooks.state.cursor++,[o[n].value,o[n].setter]}function Y(e,t,n,o){S.hooks||(S.hooks={}),S.hooks.effects||(S.hooks.effects={cursor:0,byCursor:[]});const{cursor:i,byCursor:s}=S.hooks.effects,a=s[i],c=S;function l(){!function(e,t,n,o){const{byCursor:i}=e.hooks.effects,s=i[t]?.cleanup,a=o?B:F,c=o?L:N,l=`${e.id}_${t}`;if(s){const n=()=>(0,f.A)(()=>{if(e.mountState===y.Unmounted)return;let n;if(r.Oig&&(n=performance.now()),s(),r.Oig){const r=performance.now()-n,o=oe(e.Component);r>_&&console.warn(`[Teact] Slow cleanup at effect cursor #${t}: ${o}, ${Math.round(r)} ms`)}},{rescue:()=>{console.error(`[Teact] Error in effect cleanup at cursor #${t} in ${e.name}`,e)},always:()=>{i[t].cleanup=void 0}});a.set(l,n)}c.set(l,()=>(0,f.A)(()=>{if(e.mountState===y.Unmounted)return;let o;r.Oig&&(o=performance.now());const s=n();if("function"==typeof s&&(i[t].cleanup=s),r.Oig){const n=performance.now()-o,r=oe(e.Component);n>_&&console.warn(`[Teact] Slow effect at cursor #${t}: ${r}, ${Math.round(n)} ms`)}},{rescue:()=>{console.error(`[Teact] Error in effect at cursor #${t} in ${e.name}`,e)}})),j()}(c,i,t,e)}if(n&&a?.dependencies){if(n.some((e,t)=>e!==a.dependencies[t])){if(r.Oig&&o){const e=n.reduce((e,t,n)=>{const r=a.dependencies[n];return t!==r&&e.push(`${n}: ${String(r)} => ${String(t)}`),e},[]);console.log(`[Teact] Effect "${o}" caused by dependencies.`,e.join(", "))}l()}}else o&&console.log(`[Teact] Effect "${o}" caused by missing dependencies.`),l();a&&(a.schedule=void 0),s[i]={...a,dependencies:n,schedule:l},a||(s[i].releaseSignals=function(){const e=n?.filter(h.Hp).map((e,t)=>e.subscribe(()=>{o&&console.log(`[Teact] Effect "${o}" caused by signal #${t} new value:`,e()),s[i].schedule()}));if(e?.length)return()=>{for(const t of e)t()}}()),S.hooks.effects.cursor++}function J(e,t,n){return Y(!1,e,t,n)}function X(e,t,n){return Y(!0,e,t,n)}function Z(e){S.hooks||(S.hooks={}),S.hooks.effects||(S.hooks.effects={cursor:0,byCursor:[]});const{cursor:t,byCursor:n}=S.hooks.effects;n[t]||(n[t]={cleanup:e}),S.hooks.effects.cursor++}function Q(e,t,n,i){S.hooks||(S.hooks={}),S.hooks.memos||(S.hooks.memos={cursor:0,byCursor:[]});const{cursor:s,byCursor:a}=S.hooks.memos;let c,{value:l}=a[s]||{};if(r.Oig&&i){const e=`${i}#${S.id}`;c=M[e],c||(c={key:e,calls:0,misses:0,hitRate:0},M[e]=c),c.calls++,c.hitRate=(c.calls-c.misses)/c.calls}if(void 0===a[s]||t.length!==a[s].dependencies.length||t.some((e,t)=>e!==a[s].dependencies[t])){if(r.Oig){if(n){const e=`[Teact.useMemo] ${S.name} (${n}): Update is caused by:`;a[s]?(0,o.q)(a[s].dependencies,t,e,n):console.log(`${e} [first render]`)}c&&(c.misses++,c.hitRate=(c.calls-c.misses)/c.calls,c.calls%10==0&&c.calls>=O&&c.hitRate<.25&&console.warn(`[Teact] ${c.key}: Hit rate is ${c.hitRate.toFixed(2)} for ${c.calls} calls`))}l=e()}return a[s]={value:l,dependencies:t},S.hooks.memos.cursor++,l}function ee(e,t,n){return Q(()=>e,t,n)}function te(e){S.hooks||(S.hooks={}),S.hooks.refs||(S.hooks.refs={cursor:0,byCursor:[]});const{cursor:t,byCursor:n}=S.hooks.refs;return n[t]||(n[t]={current:e}),S.hooks.refs.cursor++,n[t]}function ne(e){const t=te();return t.current??(t.current=(0,h.n5)(e)),t.current}function re(e,t){function n(n){return Q(()=>A(e,n),Object.values(n),t,r.MVx?oe(S.Component):void 0)}return n.DEBUG_contentComponentName=oe(e),n}function oe(e){const{name:t,DEBUG_contentComponentName:n}=e;return"TeactNContainer"===t?`container>${n}`:"TeactMemoWrapper"===t?`memo>${n}`:"TeactContextProvider"===t?`context>id${n}`:t+(n?`>${n}`:"")}const ie={createElement:A,Fragment:b}},84080:(e,t,n)=>{"use strict";n.d(t,{Ay:()=>c,KE:()=>l});var r=n(84051),o=n(46536),i=n(17712);const s=(0,o.h)(),a=(0,o.h)();function c(e,t,n=!1){const o=(0,i.A)(e),c=(0,i.A)(t);(0,r.vJ)(()=>{if(!n)return(0,r.OV)()&&o(),s.addCallback(o),a.addCallback(c),()=>{a.removeCallback(c),s.removeCallback(o)}},[n,c,o])}function l(e,t){const n=(0,r.hb)(e,t),o=(0,r.li)(!1);return(0,r.Kr)(()=>(...e)=>{if(!o.current){if(!(0,r.OV)())return void n(...e);o.current=!0;const t=a.addCallback(()=>{n(...e),t(),o.current=!1})}},[n])}r.OV.subscribe(()=>{(0,r.OV)()?s.runCallbacks():a.runCallbacks()})},84382:(e,t,n)=>{"use strict";n.d(t,{S:()=>s,V:()=>i});let r,o=window.matchMedia?.("(prefers-color-scheme: dark)").matches?"dark":"light";function i(){return o}function s(e){r=e}window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",function(e){o=e.matches?"dark":"light",r?.(o)})},84448:(e,t,n)=>{"use strict";n.d(t,{C7:()=>r,K1:()=>i,l3:()=>o});let r=function(e){return e.Bold="MessageEntityBold",e.Blockquote="MessageEntityBlockquote",e.BotCommand="MessageEntityBotCommand",e.Cashtag="MessageEntityCashtag",e.Code="MessageEntityCode",e.Email="MessageEntityEmail",e.Hashtag="MessageEntityHashtag",e.Italic="MessageEntityItalic",e.MentionName="MessageEntityMentionName",e.Mention="MessageEntityMention",e.Phone="MessageEntityPhone",e.Pre="MessageEntityPre",e.Strike="MessageEntityStrike",e.TextUrl="MessageEntityTextUrl",e.Url="MessageEntityUrl",e.Underline="MessageEntityUnderline",e.Spoiler="MessageEntitySpoiler",e.CustomEmoji="MessageEntityCustomEmoji",e.Timestamp="MessageEntityTimestamp",e.QuoteFocus="MessageEntityQuoteFocus",e.Unknown="MessageEntityUnknown",e}({});const o=-1,i="MESSAGE_DELETED"},84553:(e,t,n)=>{"use strict";n.d(t,{KX:()=>p,VH:()=>m,ii:()=>g,nv:()=>h});var r=n(13439),o=n(31481),i=n(96454),s=n(57751);const a=["t.me","telegram.me"].map(e=>`https://${e}/_websync_?`),c=`0.0.20 ${o.cK8}`,l="tgme_sync",u=86400,d=()=>Math.floor(Number(new Date)/1e3);let f;const h=e=>{if(o.fng||i.cp)return;const t=d(),{canRedirect:n,ts:r}=JSON.parse(localStorage.getItem(l)||"{}");return n!==e||r+u<=t?Promise.all(a.map(t=>new Promise((n,r)=>{const o=document.createElement("script"),i=()=>Boolean(document.body.removeChild(o));o.src=t+new URLSearchParams({authed:Number(e).toString(),version:c}).toString(),document.body.appendChild(o),o.onload=()=>{(e=>{const t=d();localStorage.setItem(l,JSON.stringify({canRedirect:e,ts:t}))})(e),i(),f&&(clearTimeout(f),f=void 0),g(),n()},o.onerror=()=>{i(),r()}}))):Promise.resolve()};function p(){o.Oig||i.cp||f&&clearTimeout(f)}function g(){if(o.Oig||i.cp)return;if(void 0!==f)return;const e=d(),{ts:t}=JSON.parse(localStorage.getItem(l)||"{}"),n=u-(e-t);f=setTimeout(()=>{const{authState:e}=(0,r.mS)(),t="authorizationStateReady"===e||(0,s.wr)();h(t)},Math.max(0,1e3*n))}function m(){localStorage.removeItem(l)}},84636:function(e,t,n){var r;e.exports=(r=n(19021),function(e){var t=r,n=t.lib,o=n.WordArray,i=n.Hasher,s=t.algo,a=[];!function(){for(var t=0;t<64;t++)a[t]=4294967296*e.abs(e.sin(t+1))|0}();var c=s.MD5=i.extend({_doReset:function(){this._hash=new o.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(e,t){for(var n=0;n<16;n++){var r=t+n,o=e[r];e[r]=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8)}var i=this._hash.words,s=e[t+0],c=e[t+1],h=e[t+2],p=e[t+3],g=e[t+4],m=e[t+5],y=e[t+6],b=e[t+7],v=e[t+8],_=e[t+9],w=e[t+10],S=e[t+11],x=e[t+12],I=e[t+13],A=e[t+14],C=e[t+15],k=i[0],E=i[1],T=i[2],P=i[3];k=l(k,E,T,P,s,7,a[0]),P=l(P,k,E,T,c,12,a[1]),T=l(T,P,k,E,h,17,a[2]),E=l(E,T,P,k,p,22,a[3]),k=l(k,E,T,P,g,7,a[4]),P=l(P,k,E,T,m,12,a[5]),T=l(T,P,k,E,y,17,a[6]),E=l(E,T,P,k,b,22,a[7]),k=l(k,E,T,P,v,7,a[8]),P=l(P,k,E,T,_,12,a[9]),T=l(T,P,k,E,w,17,a[10]),E=l(E,T,P,k,S,22,a[11]),k=l(k,E,T,P,x,7,a[12]),P=l(P,k,E,T,I,12,a[13]),T=l(T,P,k,E,A,17,a[14]),k=u(k,E=l(E,T,P,k,C,22,a[15]),T,P,c,5,a[16]),P=u(P,k,E,T,y,9,a[17]),T=u(T,P,k,E,S,14,a[18]),E=u(E,T,P,k,s,20,a[19]),k=u(k,E,T,P,m,5,a[20]),P=u(P,k,E,T,w,9,a[21]),T=u(T,P,k,E,C,14,a[22]),E=u(E,T,P,k,g,20,a[23]),k=u(k,E,T,P,_,5,a[24]),P=u(P,k,E,T,A,9,a[25]),T=u(T,P,k,E,p,14,a[26]),E=u(E,T,P,k,v,20,a[27]),k=u(k,E,T,P,I,5,a[28]),P=u(P,k,E,T,h,9,a[29]),T=u(T,P,k,E,b,14,a[30]),k=d(k,E=u(E,T,P,k,x,20,a[31]),T,P,m,4,a[32]),P=d(P,k,E,T,v,11,a[33]),T=d(T,P,k,E,S,16,a[34]),E=d(E,T,P,k,A,23,a[35]),k=d(k,E,T,P,c,4,a[36]),P=d(P,k,E,T,g,11,a[37]),T=d(T,P,k,E,b,16,a[38]),E=d(E,T,P,k,w,23,a[39]),k=d(k,E,T,P,I,4,a[40]),P=d(P,k,E,T,s,11,a[41]),T=d(T,P,k,E,p,16,a[42]),E=d(E,T,P,k,y,23,a[43]),k=d(k,E,T,P,_,4,a[44]),P=d(P,k,E,T,x,11,a[45]),T=d(T,P,k,E,C,16,a[46]),k=f(k,E=d(E,T,P,k,h,23,a[47]),T,P,s,6,a[48]),P=f(P,k,E,T,b,10,a[49]),T=f(T,P,k,E,A,15,a[50]),E=f(E,T,P,k,m,21,a[51]),k=f(k,E,T,P,x,6,a[52]),P=f(P,k,E,T,p,10,a[53]),T=f(T,P,k,E,w,15,a[54]),E=f(E,T,P,k,c,21,a[55]),k=f(k,E,T,P,v,6,a[56]),P=f(P,k,E,T,C,10,a[57]),T=f(T,P,k,E,y,15,a[58]),E=f(E,T,P,k,I,21,a[59]),k=f(k,E,T,P,g,6,a[60]),P=f(P,k,E,T,S,10,a[61]),T=f(T,P,k,E,h,15,a[62]),E=f(E,T,P,k,_,21,a[63]),i[0]=i[0]+k|0,i[1]=i[1]+E|0,i[2]=i[2]+T|0,i[3]=i[3]+P|0},_doFinalize:function(){var t=this._data,n=t.words,r=8*this._nDataBytes,o=8*t.sigBytes;n[o>>>5]|=128<<24-o%32;var i=e.floor(r/4294967296),s=r;n[15+(o+64>>>9<<4)]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8),n[14+(o+64>>>9<<4)]=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8),t.sigBytes=4*(n.length+1),this._process();for(var a=this._hash,c=a.words,l=0;l<4;l++){var u=c[l];c[l]=16711935&(u<<8|u>>>24)|4278255360&(u<<24|u>>>8)}return a},clone:function(){var e=i.clone.call(this);return e._hash=this._hash.clone(),e}});function l(e,t,n,r,o,i,s){var a=e+(t&n|~t&r)+o+s;return(a<<i|a>>>32-i)+t}function u(e,t,n,r,o,i,s){var a=e+(t&r|n&~r)+o+s;return(a<<i|a>>>32-i)+t}function d(e,t,n,r,o,i,s){var a=e+(t^n^r)+o+s;return(a<<i|a>>>32-i)+t}function f(e,t,n,r,o,i,s){var a=e+(n^(t|~r))+o+s;return(a<<i|a>>>32-i)+t}t.MD5=i._createHelper(c),t.HmacMD5=i._createHmacHelper(c)}(Math),r.MD5)},84685:(e,t,n)=>{"use strict";n.d(t,{A:()=>l});var r=n(84051),o=n(13439),i=n(23174),s=n(93578),a=n(87357),c=n(17712);const l=({url:e,text:t,className:n,children:l,isRtl:u,shouldSkipModal:d})=>{const{openUrl:f}=(0,o.ko)(),h=l||t,p=e===t,g=(0,c.A)(t=>{if(!e)return!0;t.preventDefault();const n=p&&!(0,s._G)(e);return f({url:e,shouldSkipModal:d||n}),!1});if(!e)return;const m=(0,a.A)(n||"text-entity-link",p&&"word-break-all");return r.Ay.createElement("a",{href:(0,s.Tc)(e),title:(0,s.Dc)(e),target:"_blank",rel:"noopener noreferrer",className:m,onClick:g,dir:u?"rtl":"auto","data-entity-type":i.C7.Url},h)}},84947:(e,t,n)=>{"use strict";function r(e,t,n){return(t=function(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,{A:()=>o});class o{constructor(e){this.limit=e,r(this,"map",void 0),r(this,"insertionQueue",void 0),this.map=new Map,this.insertionQueue=new Set}get(e){return this.map.get(e)}set(e,t){if(this.map.size===this.limit){const e=Array.from(this.insertionQueue).shift();e&&(this.map.delete(e),this.insertionQueue.delete(e))}return this.map.set(e,t),this.insertionQueue.add(e),this}has(e){return this.map.has(e)}delete(e){const t=this.map.delete(e);return t&&this.insertionQueue.delete(e),t}clear(){this.map.clear(),this.insertionQueue.clear()}forEach(e,t){this.map.forEach(e,t)}get size(){return this.map.size}get[Symbol.toStringTag](){return this.map[Symbol.toStringTag]}[Symbol.iterator](){return this.map[Symbol.iterator]()}entries(){return this.map.entries()}keys(){return this.map.keys()}values(){return this.map.values()}}},85045:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(2616);function o(e){return e>=0&&e<=255}const i=function(e,t){const{r:n,g:i,b:s,a}=new r.Y(e).toRgb();if(a<1)return e;const{r:c,g:l,b:u}=new r.Y(t).toRgb();for(let e=.01;e<=1;e+=.01){const t=Math.round((n-c*(1-e))/e),a=Math.round((i-l*(1-e))/e),d=Math.round((s-u*(1-e))/e);if(o(t)&&o(a)&&o(d))return new r.Y({r:t,g:a,b:d,a:Math.round(100*e)/100}).toRgbString()}return new r.Y({r:n,g:i,b:s,a:1}).toRgbString()}},85089:(e,t,n)=>{"use strict";n.d(t,{BD:()=>m,m6:()=>g});var r=n(89379),o=n(20998),i=n(54808),s="data-rc-order",a="data-rc-priority",c="rc-util-key",l=new Map;function u(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).mark;return e?e.startsWith("data-")?e:"data-".concat(e):c}function d(e){return e.attachTo?e.attachTo:document.querySelector("head")||document.body}function f(e){return Array.from((l.get(e)||e).children).filter(function(e){return"STYLE"===e.tagName})}function h(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!(0,o.A)())return null;var n=t.csp,r=t.prepend,i=t.priority,c=void 0===i?0:i,l=function(e){return"queue"===e?"prependQueue":e?"prepend":"append"}(r),u="prependQueue"===l,h=document.createElement("style");h.setAttribute(s,l),u&&c&&h.setAttribute(a,"".concat(c)),null!=n&&n.nonce&&(h.nonce=null==n?void 0:n.nonce),h.innerHTML=e;var p=d(t),g=p.firstChild;if(r){if(u){var m=(t.styles||f(p)).filter(function(e){if(!["prepend","prependQueue"].includes(e.getAttribute(s)))return!1;var t=Number(e.getAttribute(a)||0);return c>=t});if(m.length)return p.insertBefore(h,m[m.length-1].nextSibling),h}p.insertBefore(h,g)}else p.appendChild(h);return h}function p(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=d(t);return(t.styles||f(n)).find(function(n){return n.getAttribute(u(t))===e})}function g(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=p(e,t);n&&d(t).removeChild(n)}function m(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=d(n),s=f(o),a=(0,r.A)((0,r.A)({},n),{},{styles:s});!function(e,t){var n=l.get(e);if(!n||!(0,i.A)(document,n)){var r=h("",t),o=r.parentNode;l.set(e,o),e.removeChild(r)}}(o,a);var c,g,m,y=p(t,a);if(y)return null!==(c=a.csp)&&void 0!==c&&c.nonce&&y.nonce!==(null===(g=a.csp)||void 0===g?void 0:g.nonce)&&(y.nonce=null===(m=a.csp)||void 0===m?void 0:m.nonce),y.innerHTML!==e&&(y.innerHTML=e),y;var b=h(e,a);return b.setAttribute(u(a),t),b}},85118:(e,t,n)=>{"use strict";n.d(t,{A:()=>u});var r=n(84051),o=n(87357),i=n(95807);const s="fWE9Tkfe",a="wapdILU7",c=[{x:20,y:0,size:100,durationShift:10},{x:15,y:15,size:75,durationShift:70},{x:10,y:35,size:75,durationShift:90},{x:20,y:70,size:125,durationShift:30},{x:40,y:10,size:125,durationShift:0},{x:45,y:60,size:75,durationShift:60},{x:60,y:-10,size:100,durationShift:20},{x:55,y:40,size:75,durationShift:60},{x:70,y:65,size:100,durationShift:90},{x:80,y:10,size:75,durationShift:30},{x:80,y:45,size:125,durationShift:0}],l=function(){const e=[];for(let t=0;t<100;t++)e.push({x:100*Math.random(),y:100*Math.random(),velocityX:100*(5*Math.random()+15),velocityY:100*(10*Math.random()-5),scale:100*(.5*Math.random()+.5),durationShift:100*Math.random()});return e}(),u=(0,r.ph)(({className:e,style:t,...n})=>"button"===n.preset?r.Ay.createElement("div",{className:(0,o.A)(s,"B94KQ3c0",e),style:t},c.map(e=>{const t=100*Math.cos(Math.atan2(-50+e.y,-50+e.x)),n=100*Math.sin(Math.atan2(-50+e.y,-50+e.x));return r.Ay.createElement("div",{className:a,style:(0,i.A)(`top: ${e.y}%`,`left: ${e.x}%`,`--_duration-shift: ${-e.durationShift/100*5}s`,`--_shift-x: ${t}%`,`--_shift-y: ${n}%`,`scale: ${e.size}%`)},"✦")})):"progress"===n.preset?r.Ay.createElement("div",{className:(0,o.A)(s,"F0JPgXgb",e),style:t},l.map(e=>r.Ay.createElement("div",{className:a,style:(0,i.A)(`top: ${e.y}%`,`left: ${e.x}%`,`--_shift-x: ${e.velocityX}%`,`--_shift-y: ${e.velocityY}%`,`scale: ${e.scale}%`,`--_duration-shift: ${-e.durationShift/100*5}s`)},"✦"))):void 0)},85325:(e,t,n)=>{"use strict";n.d(t,{FG:()=>d,TT:()=>f,XL:()=>l,wG:()=>u});var r=n(69036),o=n(66550),i=n(31481),s=n(96454),a=n(80395);const c=["openid","profile","email","https://www.googleapis.com/auth/calendar"];async function l(){return new Promise((e,t)=>{const n=new URL("https://accounts.google.com/o/oauth2/v2/auth");n.searchParams.set("client_id",i.GOOGLE_APP_CLIENT_ID),n.searchParams.set("redirect_uri",`${window.location.origin}${window.location.pathname}google-auth-callback.html`),n.searchParams.set("response_type","code"),n.searchParams.set("scope",c.join(" ")),n.searchParams.set("access_type","offline"),n.searchParams.set("prompt","consent"),n.searchParams.set("state",Math.random().toString(36).substring(2));const r=window.open(n.toString(),"google-auth","width=500,height=600,scrollbars=yes,resizable=yes");if(!r)return void t(new Error("Failed to open authorization window"));let o=!1;const s=async n=>{if(console.log("Received message:",n.data),console.log("Message origin:",n.origin),n.origin===window.location.origin)if("google-oauth-code"===n.data.type){console.log("Authorization code received:",n.data.code),window.removeEventListener("message",s),o=!0;try{const t=await fetch("https://oauth2.googleapis.com/token",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams({client_id:i.GOOGLE_APP_CLIENT_ID,client_secret:i.GOOGLE_APP_CLIENT_SECRET,code:n.data.code,grant_type:"authorization_code",redirect_uri:`${window.location.origin}${window.location.pathname}google-auth-callback.html`})});if(!t.ok)throw new Error("Failed to exchange code for token");const r=await t.json(),o={isLoggedIn:!0,accessToken:r.access_token,refreshToken:r.refresh_token,idToken:r.id_token,grantedScopes:r.scope,expiresAt:Date.now()+1e3*r.expires_in};(0,a.UA)(o),(0,a.Ir)(),e(o)}catch(e){t(e)}}else"google-oauth-error"===n.data.type&&(window.removeEventListener("message",s),o=!0,t(new Error(n.data.error||"Authorization failed")))};window.addEventListener("message",s);const l=setInterval(()=>{r.closed&&(clearInterval(l),window.removeEventListener("message",s),o||t(new Error("Authorization window was closed")))},1e3)})}const u=e=>{o.A.confirm({title:"Google authorization",content:"This service requires access to your Google Calendar.",okText:"Confirm",cancelText:"Cancel",onOk:()=>{s.cp?(console.log("window.electron",window.electron),console.log("googleLogin in preload:",window.electron?.googleLogin),window.electron.googleLogin().then(t=>{const n={isLoggedIn:!0,accessToken:t.access_token,idToken:t.id_token,grantedScopes:t.scope,expiresAt:t.expiry_date};(0,a.UA)(n),e.onOk?.(t.access_token)}).catch(e=>{console.error("Google login failed:",e),r.Ay.info("Google login failed")})):l().then(t=>{e.onOk?.(t.accessToken)}).catch(e=>{console.error("Google login failed:",e),r.Ay.info("Google login failed")})},onCancel:e?.onCancel})},d=({title:e="Meeting Invitation",startDate:t,endDate:n,selectedTimezone:r=Intl.DateTimeFormat().resolvedOptions().timeZone,emails:o=[],googleToken:s})=>new Promise((a,c)=>{const l=o.map(e=>({email:e})),u={summary:e,start:{dateTime:t,timeZone:r},end:{dateTime:n,timeZone:r},attendees:l,reminders:{useDefault:!1,overrides:[{method:"email",minutes:30},{method:"popup",minutes:10}]},conferenceData:{createRequest:{requestId:`test-${Date.now()}`,conferenceSolutionKey:{type:"hangoutsMeet"}}}};fetch(`https://www.googleapis.com/calendar/v3/calendars/primary/events?conferenceDataVersion=1&alt=json&key=${i.rph}`,{method:"POST",headers:{Authorization:`Bearer ${s}`},body:JSON.stringify(u)}).then(e=>e.json()).then(e=>{a(e)}).catch(e=>{c(e)})}),f=()=>{const e=(0,a.IM)();return new Promise((t,n)=>{const r={timeMin:(new Date).toISOString(),timeMax:new Date(Date.now()+2592e5).toISOString(),items:[{id:"primary"}]};fetch(`https://www.googleapis.com/calendar/v3/freeBusy?key=${i.rph}`,{method:"POST",headers:{Authorization:`Bearer ${e?.accessToken}`},body:JSON.stringify(r)}).then(e=>e.json()).then(e=>{t(e?.calendars.primary.busy||[])}).catch(e=>{n(e)})})}},85447:(e,t,n)=>{"use strict";n.d(t,{A:()=>c});var r=n(37358),o=n(14277);const i=e=>{const{componentCls:t}=e;return{[t]:{"&-block":{display:"flex",width:"100%"},"&-vertical":{flexDirection:"column"}}}},s=e=>{const{componentCls:t,antCls:n}=e;return{[t]:{display:"inline-flex","&-rtl":{direction:"rtl"},"&-vertical":{flexDirection:"column"},"&-align":{flexDirection:"column","&-center":{alignItems:"center"},"&-start":{alignItems:"flex-start"},"&-end":{alignItems:"flex-end"},"&-baseline":{alignItems:"baseline"}},[`${t}-item:empty`]:{display:"none"},[`${t}-item > ${n}-badge-not-a-wrapper:only-child`]:{display:"block"}}}},a=e=>{const{componentCls:t}=e;return{[t]:{"&-gap-row-small":{rowGap:e.spaceGapSmallSize},"&-gap-row-middle":{rowGap:e.spaceGapMiddleSize},"&-gap-row-large":{rowGap:e.spaceGapLargeSize},"&-gap-col-small":{columnGap:e.spaceGapSmallSize},"&-gap-col-middle":{columnGap:e.spaceGapMiddleSize},"&-gap-col-large":{columnGap:e.spaceGapLargeSize}}}},c=(0,r.OF)("Space",e=>{const t=(0,o.oX)(e,{spaceGapSmallSize:e.paddingXS,spaceGapMiddleSize:e.padding,spaceGapLargeSize:e.paddingLG});return[s(t),a(t),i(t)]},()=>({}),{resetStyle:!1})},85501:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(63662);function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&(0,r.A)(e,t)}},85935:(e,t,n)=>{"use strict";n.d(t,{RR:()=>f,ub:()=>h});var r=n(21396),o=n.n(r),i=n(13439),s=n(31481),a=n(90709),c=n(60919);const l="telgpt-sha256-secret",u=()=>{const e=(0,i.mS)(),{currentUserId:t}=e,n=(0,c.mBe)(e,t);return{userId:t,userName:(0,a.Yg)(n)}};function d(e){const t=Date.now(),n=`${e}:${t}`;return`${e}:${t}:${o().HmacSHA256(n,l).toString(o().enc.Hex)}`}function f(){const{userId:e,userName:t}=u(),n=d(e),r={platform:"web",version:"1.0.0"};return e&&(r["x-auth-key"]=n),t&&(r["user-name"]=t),r}function h(e,t,n,r="application/json"){const{userId:o,userName:i}=u(),a=d(o),c={platform:"web",version:"1.0.0"};let l;return o&&(c["x-auth-key"]=a),i&&(c["user-name"]=i),"GET"!==t&&n&&("application/json"===r?(c["Content-Type"]="application/json",l=n):"multipart/form-data"===r&&(l=n instanceof FormData?n:function(e){const t=new FormData;for(const n in e)t.append(n,e[n]);return t}(n))),fetch(`${s.Vjs}${e}`,{method:t,headers:c,body:l}).then(e=>e.json()).then(e=>e)}},85982:(e,t,n)=>{"use strict";n.d(t,{A:()=>l,LD:()=>d,WO:()=>s,eM:()=>c,qp:()=>u});var r=n(17965),o=n.n(r),i=n(31481);const s=window.navigator.clipboard&&window.ClipboardItem,a=document.createElement("textarea");a.setAttribute("readonly",""),a.tabIndex=-1,a.className="visually-hidden";const c=e=>{o()(e)},l=(e,t)=>{window.navigator.clipboard?.write?window.navigator.clipboard.write([new ClipboardItem({"text/plain":new Blob([t],{type:"text/plain"}),"text/html":new Blob([e],{type:"text/html"})})]):c(t)},u=e=>{if(!e)return;const t=document.createElement("canvas"),n=t.getContext("2d"),r=new Image;r.onload=e=>{if(n&&e.currentTarget){const r=e.currentTarget;t.width=r.width,t.height=r.height,n.drawImage(r,0,0,r.width,r.height),t.toBlob(f,"image/png",1)}},r.src=e},d=async(e,t,n)=>{const r=async()=>{try{const t=await e;return t?c(t):n(),Boolean(t)}catch{return n(),!1}};if(s&&navigator.clipboard.write){try{let t=!1;const r=()=>Promise.reject(new Error("GET_DATA_ERROR")),o=new ClipboardItem({"text/plain":e.then(e=>e||r()).catch(()=>(t=!0,""))});if(await navigator.clipboard.write([o]),t)return void n()}catch{if(!await r())return}t()}else await r()&&t()};async function f(e){if(e&&s)try{await(window.navigator.clipboard.write?.([new ClipboardItem({[e.type]:e})]))}catch(e){i.Oig&&console.error(e)}}},86070:(e,t,n)=>{"use strict";n.d(t,{A:()=>c});var r=n(84051),o=n(87357),i=n(35049),s=n(39877);function a(){return a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a.apply(null,arguments)}const c=(0,r.ph)(function({peer:e,ref:t,peerColor:n,noUserColors:c,shouldReset:l,className:u,emojiIconClassName:d,children:f,...h}){const p=n||e?.color;return r.Ay.createElement("div",a({ref:t,className:(0,o.A)("nRjVJOQv",e&&(0,i.y)(e,c,l),n&&(0,i.a)(n),u)},h),p?.backgroundEmojiId&&r.Ay.createElement(s.A,{className:d,emojiDocumentId:p.backgroundEmojiId}),f)})},86525:(e,t,n)=>{"use strict";n.d(t,{Ak:()=>E,Do:()=>Y,EQ:()=>J,ES:()=>H,FE:()=>v,G5:()=>q,GZ:()=>p,HN:()=>R,Ie:()=>C,Jw:()=>x,Ld:()=>$,NK:()=>G,Nb:()=>D,P5:()=>_,Sb:()=>z,Tv:()=>k,WD:()=>m,XR:()=>y,X_:()=>N,ZD:()=>I,ZR:()=>L,_I:()=>O,_P:()=>T,aN:()=>w,cR:()=>U,ni:()=>b,r$:()=>V,rK:()=>B,sj:()=>g,u7:()=>P,v$:()=>K,vp:()=>j,vz:()=>F,wb:()=>S,xH:()=>A,yt:()=>W,zP:()=>M});var r=n(23174),o=n(31481),i=n(22986),s=n(9716),a=n(87894),c=n(60343),l=n(80140),u=n(13439),d=n(60919),f=n(79089);const h=new RegExp(o.kNZ,"i");function p(e,t){return["message",e.toString().replace(".","-"),t].filter(Boolean).join("-")}function g(e){return e.previousLocalId||e.id}function m(e){const{transcriptionId:t}=e,n=(0,u.mS)();return t&&n.transcriptions[t]?.text}function y(e){const{action:t,text:n,sticker:r,photo:o,video:i,audio:s,voice:a,document:c,pollId:l,todo:u,webPage:d,contact:f,invoice:h,location:p,game:g,storyData:m,giveaway:y,giveawayResults:b,paidMedia:v}=e.content;return Boolean(n)||!(r||o||i||s||a||c||f||l||u||d||h||p||g||m||y||b||v||"phoneCall"===t?.type)}function b(e,t){const n=(0,d.zcZ)(e,t),r=(0,d.Pn$)(e,t),{peerId:o,id:i}=t.content.storyData||{};return v({poll:n,story:i&&o?e.stories.byPeerId[o]?.byId[i]:void 0,webPage:r})}function v({poll:e,story:t,webPage:n}){return{poll:e,story:t&&"content"in t?t:void 0,webPage:n}}function _(e){return y(e)?e.content.text||{text:o.bVP}:void 0}function w(e){const{text:t,sticker:n,photo:o,video:i,audio:s,voice:a,document:c,pollId:l,webPage:u,contact:d,action:f,game:h,invoice:p,location:g,storyData:m}=e.content;if(n||i?.isRound)return!0;if(!t||o||i||s||a||c||l||u||d||f||h||p||g||m)return!1;const y=t?.entities?.some(e=>e.type!==r.C7.CustomEmoji);return Boolean(e.emojiOnlyCount&&!y)}function S(e){const{text:t}=e.content;if(!t?.entities?.length&&1===e.emojiOnlyCount)return t.text}function x(e){const{text:t}=e.content;if(1===t?.entities?.length&&t.entities[0].type===r.C7.CustomEmoji&&1===e.emojiOnlyCount)return t.entities[0].documentId}function I(e){const{text:t}=e.content;let n;if(t?.entities){const e=t.entities.find(e=>e.type===r.C7.TextUrl);if(e&&(n=e.url.match(h)),!n){const e=t.entities.find(e=>e.type===r.C7.Url);if(e){const{offset:r,length:o}=e;n=t.text.substring(r,r+o).match(h)}}}if(!n&&t&&(n=t.text.match(h)),n)return{url:n[0],domain:n[3]}}function A(e){const{text:t}=e.content,n=t&&t.text.match(h);if(n)return{url:n[0],domain:n[3]}}function C(e){return e.isOutgoing}function k(e){return Boolean("message"===e.replyInfo?.type)}function E(e){return Boolean(e.forwardInfo||e.content.storyData)}function T(e){return Boolean(e.content.action)}function P(e){return e.chatId===o.zv8&&Math.round(e.id)!==e.id}function M(e){return Boolean(e.senderId)&&!(0,s.L8)(e.senderId)&&C(e)}function O(e){return e.sendingState?"messageSendingStateFailed"===e.sendingState?"failed":"pending":"succeeded"}function D(e){return(0,c.iL)(e.id)}function R(e){return"messageSendingStateFailed"===e.sendingState}function N(e){return e.content.action&&"historyClear"===e.content.action.type}function F(e){const{location:t}=e.content;return"geoLive"===t?.mediaType&&(0,l.Fm)()-(e.date||0)>=t.period}function L(e,t){const{text:n,game:r}=e.content,o=D(e),i=P(e),s=T(e);return Boolean(n?.text.length&&!e.emojiOnlyCount&&!r&&(t||!e.isOutgoing)&&!o&&!i&&!s&&!e.isScheduled)}function B(e){return 1===e.inlineButtons?.length&&1===e.inlineButtons[0].length&&e.inlineButtons[0][0]}function $(e){return e.sort((e,t)=>e-t)}function j(e){return e.sort((e,t)=>t-e)}function U(e,t){let n=!1,r=e.length?e.map(e=>(0,a.h8)(e,t)&&!n?(n=!0,$((0,a.Am)(e.concat(t)))):e):[t];n||(r=r.concat([t])),r.sort((e,t)=>e[0]-t[0]);let o=r.length;for(let e=0;e<o;e++){const t=r[e],n=r[e-1];n&&(n.includes(t[0])||n.includes(t[0]-1))&&(r[e-1]=$((0,a.Am)(t.concat(n))),r.splice(e,1),o--,e--)}return r}function z(e,t=!1){const n=e.content.text;if(!n)return;const{text:i}=n;let{entities:s}=n;if(i&&"chatId"in e){if(e.chatId===o.zv8){const e=i.match(/^\D*([\d-]{5,7})\D/)?.[1];e&&(s=[...s||[],{type:t?r.C7.Spoiler:r.C7.Code,offset:i.indexOf(e),length:e.length}],s.sort((e,t)=>e.offset>t.offset?1:-1))}if(t&&e.chatId===o.b5_&&s&&s.some(e=>e.type===r.C7.Code)){const e=s;s=[];for(let t=0;t<e.length;t++){const n=e[t];n.type===r.C7.Code&&s.push({type:r.C7.Spoiler,offset:n.offset,length:n.length}),s.push(n)}}}return{text:i,entities:s}}function V(e){return"expired"===e.content.action?.type}function q(e){return void 0!==e.content?.ttlSeconds}function H(e){return o.IH3.has(e.mimeType)?"audio":e.shouldSendAsFile?"file":o.gex.has(e.mimeType)?"photo":o.fNs.has(e.mimeType)?"video":"file"}function G(e){return e?"image/webp"===e.mimeType||e.mimeType===o.ikg||e.mimeType===o.Msx:void 0}function W(e,t,n){const i=(0,f.Kl)(e),a=(0,s.rz)(e.id),c=i||`c/${a}`,l=t&&t!==r.l3?`/${t}`:"",u=n?`/${n}`:"";return`${o.jsp}${c}${l}${u}`}function K(e,t){const n=[];let r=[];return e.reduce((e,t)=>{const n=e[e.length-1];return t.groupedId&&n?.[0]?.groupedId===t.groupedId?(n.push(t),e):(e.push([t]),e)},[]).forEach(e=>{r.length+e.length>t&&(n.push(r),r=[]),r.push(...e)}),r.length&&n.push(r),n}function Y(e,t){if(!e.suggestedPostInfo||"message"!==e.replyInfo?.type||!e.replyInfo?.replyToMsgId||!t)return;if(!t.suggestedPostInfo)return;const n=t.suggestedPostInfo,r=e.suggestedPostInfo,o=t.content,s=e.content,{text:a,...c}=o,{text:l,...u}=s,d=!(0,i.T)(a,l),f=!(0,i.T)(c,u),h=n.price?.amount,p=r.price?.amount,g=h!==p,m=n.scheduleDate!==r.scheduleDate;return d||g||m||f?{isNewText:d,isNewPrice:g,isNewTime:m,isNewMedia:f}:void 0}function J(e,t,n,r,o){const i=Y(t,n);if(!i)return;const s=[];i.isNewPrice&&s.push(e("ActionSuggestedChangesPrice")),i.isNewTime&&s.push(e("ActionSuggestedChangesTime")),i.isNewText&&s.push(e("ActionSuggestedChangesText")),i.isNewMedia&&s.push(e("ActionSuggestedChangesMedia"));const a=e.conjunction(s);return e(r?"ActionSuggestedChangesOutgoing":"ActionSuggestedChangesIncoming",{changes:a,user:o},{withNodes:!0,withMarkdown:!0})}},87064:(e,t,n)=>{"use strict";n.d(t,{A:()=>T});var r=n(58168),o=n(5544),i=n(64467),s=n(53986),a=n(96540),c=n(46942),l=n.n(c),u=n(45748),d=n(61053),f=n(89379),h=n(82284),p=n(85089),g=n(72633),m=n(68210);function y(e){return"object"===(0,h.A)(e)&&"string"==typeof e.name&&"string"==typeof e.theme&&("object"===(0,h.A)(e.icon)||"function"==typeof e.icon)}function b(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.keys(e).reduce(function(t,n){var r,o=e[n];return"class"===n?(t.className=o,delete t.class):(delete t[n],t[(r=n,r.replace(/-(.)/g,function(e,t){return t.toUpperCase()}))]=o),t},{})}function v(e,t,n){return n?a.createElement(e.tag,(0,f.A)((0,f.A)({key:t},b(e.attrs)),n),(e.children||[]).map(function(n,r){return v(n,"".concat(t,"-").concat(e.tag,"-").concat(r))})):a.createElement(e.tag,(0,f.A)({key:t},b(e.attrs)),(e.children||[]).map(function(n,r){return v(n,"".concat(t,"-").concat(e.tag,"-").concat(r))}))}function _(e){return(0,u.cM)(e)[0]}function w(e){return e?Array.isArray(e)?e:[e]:[]}var S=["icon","className","onClick","style","primaryColor","secondaryColor"],x={primaryColor:"#333",secondaryColor:"#E6E6E6",calculated:!1},I=function(e){var t,n,r,o,i,c,l,u,h=e.icon,b=e.className,w=e.onClick,I=e.style,A=e.primaryColor,C=e.secondaryColor,k=(0,s.A)(e,S),E=a.useRef(),T=x;if(A&&(T={primaryColor:A,secondaryColor:C||_(A)}),t=E,n=(0,a.useContext)(d.A),r=n.csp,o=n.prefixCls,i=n.layer,c="\n.anticon {\n  display: inline-flex;\n  align-items: center;\n  color: inherit;\n  font-style: normal;\n  line-height: 0;\n  text-align: center;\n  text-transform: none;\n  vertical-align: -0.125em;\n  text-rendering: optimizeLegibility;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n.anticon > * {\n  line-height: 1;\n}\n\n.anticon svg {\n  display: inline-block;\n}\n\n.anticon::before {\n  display: none;\n}\n\n.anticon .anticon-icon {\n  display: block;\n}\n\n.anticon[tabindex] {\n  cursor: pointer;\n}\n\n.anticon-spin::before,\n.anticon-spin {\n  display: inline-block;\n  -webkit-animation: loadingCircle 1s infinite linear;\n  animation: loadingCircle 1s infinite linear;\n}\n\n@-webkit-keyframes loadingCircle {\n  100% {\n    -webkit-transform: rotate(360deg);\n    transform: rotate(360deg);\n  }\n}\n\n@keyframes loadingCircle {\n  100% {\n    -webkit-transform: rotate(360deg);\n    transform: rotate(360deg);\n  }\n}\n",o&&(c=c.replace(/anticon/g,o)),i&&(c="@layer ".concat(i," {\n").concat(c,"\n}")),(0,a.useEffect)(function(){var e=t.current,n=(0,g.j)(e);(0,p.BD)(c,"@ant-design-icons",{prepend:!i,csp:r,attachTo:n})},[]),l=y(h),u="icon should be icon definiton, but got ".concat(h),(0,m.Ay)(l,"[@ant-design/icons] ".concat(u)),!y(h))return null;var P=h;return P&&"function"==typeof P.icon&&(P=(0,f.A)((0,f.A)({},P),{},{icon:P.icon(T.primaryColor,T.secondaryColor)})),v(P.icon,"svg-".concat(P.name),(0,f.A)((0,f.A)({className:b,onClick:w,style:I,"data-icon":P.name,width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true"},k),{},{ref:E}))};I.displayName="IconReact",I.getTwoToneColors=function(){return(0,f.A)({},x)},I.setTwoToneColors=function(e){var t=e.primaryColor,n=e.secondaryColor;x.primaryColor=t,x.secondaryColor=n||_(t),x.calculated=!!n};const A=I;function C(e){var t=w(e),n=(0,o.A)(t,2),r=n[0],i=n[1];return A.setTwoToneColors({primaryColor:r,secondaryColor:i})}var k=["className","icon","spin","rotate","tabIndex","onClick","twoToneColor"];C(u.z1.primary);var E=a.forwardRef(function(e,t){var n=e.className,c=e.icon,u=e.spin,f=e.rotate,h=e.tabIndex,p=e.onClick,g=e.twoToneColor,m=(0,s.A)(e,k),y=a.useContext(d.A),b=y.prefixCls,v=void 0===b?"anticon":b,_=y.rootClassName,S=l()(_,v,(0,i.A)((0,i.A)({},"".concat(v,"-").concat(c.name),!!c.name),"".concat(v,"-spin"),!!u||"loading"===c.name),n),x=h;void 0===x&&p&&(x=-1);var I=f?{msTransform:"rotate(".concat(f,"deg)"),transform:"rotate(".concat(f,"deg)")}:void 0,C=w(g),E=(0,o.A)(C,2),T=E[0],P=E[1];return a.createElement("span",(0,r.A)({role:"img","aria-label":c.name},m,{ref:t,tabIndex:x,onClick:p,className:S}),a.createElement(A,{icon:c,primaryColor:T,secondaryColor:P,style:I}))});E.displayName="AntdIcon",E.getTwoToneColor=function(){var e=A.getTwoToneColors();return e.calculated?[e.primaryColor,e.secondaryColor]:e.primaryColor},E.setTwoToneColor=C;const T=E},87094:(e,t,n)=>{"use strict";n.d(t,{A:()=>l});var r=n(84051),o=n(59852),i=n(17712),s=n(93545);const a=50,c=50;function l(e,t="color",n){const l=function(e,t,n=a,o){const[c,l]=(0,r.J0)(),u=(0,i.A)(()=>{if(!e.current||o)return void l(void 0);const n=getComputedStyle(e.current).getPropertyValue(t).trim();l(n)});return(0,s.A)(e,u,o),(0,r.Nf)(()=>{const r=e.current;if(r&&!o)return r.style.setProperty("transition",`${n}ms ${t} linear`,"important"),()=>{r.style.removeProperty("transition")}},[n,o,t,e]),(0,r.vJ)(()=>{const n=e.current;if(n&&(u(),!o))return n.addEventListener("transitionend",r),()=>{n.removeEventListener("transitionend",r)};function r(e){e.propertyName===t&&u()}},[o,t,e,u]),c}(e,t,c,n);return(0,r.Kr)(()=>l?(0,o.yY)(l):void 0,[l])}},87357:(e,t,n)=>{"use strict";function r(...e){return e.filter(Boolean).join(" ")}function o(e){return(t,...n)=>{const r="&"===t?e:`${e}__${t}`;return n.reduce((e,t)=>(t&&(Array.isArray(t)?e.push(...t):e.push(`${r}--${t}`)),e),[r]).join(" ")}}n.d(t,{A:()=>r,x:()=>o})},87412:(e,t,n)=>{"use strict";n.d(t,{A:()=>g});var r=n(84051),o=n(13439),i=n(23174),s=n(60919),a=n(87357),c=n(41733),l=n(87094),u=n(17712),d=n(47483),f=n(85118),h=n(82855);var p=n(61911);const g=(0,r.ph)(({ref:e,documentId:t,className:n,style:g,size:m=20,isBig:y,noPlay:b,noVideoOnMobile:v,loopLimit:_,isSelectable:w,withSharedAnimation:S,sharedCanvasRef:x,sharedCanvasHqRef:I,withTranslucentThumb:A,shouldPreloadPreview:C,forceAlways:k,forceOnHeavyAnimation:E,observeIntersectionForLoading:T,observeIntersectionForPlaying:P,onClick:M,onAnimationEnd:O,withSparkles:D,sparklesStyle:R,sparklesClassName:N})=>{let F=(0,r.li)();e&&(F=e);const{customEmoji:L,canPlay:B}=(0,d.A)(t),$=(0,r.li)(0),[j,U]=(0,r.J0)(!0),z=L?.shouldUseTextColor,V=(0,l.A)(F,void 0,!z),q=(0,u.A)(e=>{_&&($.current+=1,$.current>=_?(U(!1),e.currentTarget.currentTime=0):(0,c.A)(e.currentTarget))}),H=(0,u.A)(()=>{_&&($.current+=1,$.current>=_&&U(!1))}),G=L?.stickerSetInfo&&(0,s.CzR)((0,o.mS)(),L.stickerSetInfo);return r.Ay.createElement("div",{ref:F,className:(0,a.A)("CEFe1FhH",D&&"yjv4Sc_e",n,"custom-emoji","emoji"),onClick:M,onAnimationEnd:O,"data-entity-type":i.C7.CustomEmoji,"data-document-id":t,"data-alt":L?.emoji,style:g},D&&r.Ay.createElement(f.A,{className:(0,a.A)("iOlUvSI8",N),style:R,preset:"button"}),w&&r.Ay.createElement("img",{className:"a8dMNkh3",src:p,alt:L?.emoji,"data-entity-type":i.C7.CustomEmoji,"data-document-id":t,draggable:!1}),L?r.Ay.createElement(h.A,{containerRef:F,sticker:L,isSmall:!y,size:m,noPlay:b||!(j&&B),noVideoOnMobile:v,thumbClassName:"O_TaDxWg",fullMediaClassName:"wqju02hR",shouldLoop:!0,loopLimit:_,shouldPreloadPreview:C||b||!B,forceOnHeavyAnimation:E,forceAlways:k,observeIntersectionForLoading:T,observeIntersectionForPlaying:P,withSharedAnimation:S,sharedCanvasRef:G?I:x,withTranslucentThumb:A,onVideoEnded:q,onAnimatedStickerLoop:H,customColor:V}):r.Ay.createElement("div",{className:(0,a.A)("DKi1177s"),draggable:!1}))})},87679:(e,t,n)=>{"use strict";n.d(t,{FW:()=>a,NN:()=>s,PR:()=>u,eT:()=>c,kc:()=>d,sZ:()=>l,ti:()=>i}),n(31481);var r=n(37836);function o(e,t,n){return(t=function(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){return new File([e],t,{lastModified:Date.now(),type:e.type})}function s(e){return new Promise((t,n)=>{const r=new Image;r.onload=()=>t(r),r.onerror=n,r.src=e})}function a(e){return new Promise((t,n)=>{const r=document.createElement("video");r.volume=0,r.onloadedmetadata=()=>t(r),r.onerror=n,r.src=e})}async function c(e){try{const t=await a(e);return await Promise.race([(0,r.v7)(2e3),new Promise((e,n)=>{t.onseeked=()=>{t.videoWidth&&t.videoHeight||e(void 0);const n=document.createElement("canvas");n.width=t.videoWidth,n.height=t.videoHeight,n.getContext("2d").drawImage(t,0,0),n.toBlob(t=>{e(t?URL.createObjectURL(t):void 0)})},t.onerror=n,t.currentTime=Math.min(t.duration,1)})])}catch(e){return}}async function l(e){return(await fetch(e)).blob()}function u(e){const t=document.createElement("canvas");return t.width=e.width,t.height=e.height,t.getContext("2d").drawImage(e,0,0),t}function d(e){if(e?.length)return Array.from(e).map(f).filter(e=>e.size)}function f(e){const t=e.name.split(".").pop();return e.type||"mov"!==t.toLowerCase()?e:new File([e],e.name,{type:"video/quicktime"})}"undefined"==typeof File&&(self.File=class extends Blob{constructor(e,t,n){if(n){const{type:t,...r}=n;super(e,{type:t}),o(this,"name",void 0),Object.assign(this,r)}else super(e),o(this,"name",void 0);this.name=t}})},87695:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var r=n(96369),o=n(73893),i=n(27800),s=n(76562);function a(e){return(0,r.A)(e)||(0,o.A)(e)||(0,i.A)(e)||(0,s.A)()}},87784:function(e,t){!function(e){"use strict";var t=(e,t,n,r)=>{let o=65535&e,i=e>>>16&65535,s=0;for(;0!==n;){s=n>2e3?2e3:n,n-=s;do{o=o+t[r++]|0,i=i+o|0}while(--s);o%=65521,i%=65521}return o|i<<16};const n=new Uint32Array((()=>{let e,t=[];for(var n=0;n<256;n++){e=n;for(var r=0;r<8;r++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t})());var r=(e,t,r,o)=>{const i=n,s=o+r;e^=-1;for(let n=o;n<s;n++)e=e>>>8^i[255&(e^t[n])];return-1^e};const o=16209;var i=function(e,t){let n,r,i,s,a,c,l,u,d,f,h,p,g,m,y,b,v,_,w,S,x,I,A,C;const k=e.state;n=e.next_in,A=e.input,r=n+(e.avail_in-5),i=e.next_out,C=e.output,s=i-(t-e.avail_out),a=i+(e.avail_out-257),c=k.dmax,l=k.wsize,u=k.whave,d=k.wnext,f=k.window,h=k.hold,p=k.bits,g=k.lencode,m=k.distcode,y=(1<<k.lenbits)-1,b=(1<<k.distbits)-1;e:do{p<15&&(h+=A[n++]<<p,p+=8,h+=A[n++]<<p,p+=8),v=g[h&y];t:for(;;){if(_=v>>>24,h>>>=_,p-=_,_=v>>>16&255,0===_)C[i++]=65535&v;else{if(!(16&_)){if(64&_){if(32&_){k.mode=16191;break e}e.msg="invalid literal/length code",k.mode=o;break e}v=g[(65535&v)+(h&(1<<_)-1)];continue t}for(w=65535&v,_&=15,_&&(p<_&&(h+=A[n++]<<p,p+=8),w+=h&(1<<_)-1,h>>>=_,p-=_),p<15&&(h+=A[n++]<<p,p+=8,h+=A[n++]<<p,p+=8),v=m[h&b];;){if(_=v>>>24,h>>>=_,p-=_,_=v>>>16&255,16&_){if(S=65535&v,_&=15,p<_&&(h+=A[n++]<<p,p+=8,p<_&&(h+=A[n++]<<p,p+=8)),S+=h&(1<<_)-1,S>c){e.msg="invalid distance too far back",k.mode=o;break e}if(h>>>=_,p-=_,_=i-s,S>_){if(_=S-_,_>u&&k.sane){e.msg="invalid distance too far back",k.mode=o;break e}if(x=0,I=f,0===d){if(x+=l-_,_<w){w-=_;do{C[i++]=f[x++]}while(--_);x=i-S,I=C}}else if(d<_){if(x+=l+d-_,_-=d,_<w){w-=_;do{C[i++]=f[x++]}while(--_);if(x=0,d<w){_=d,w-=_;do{C[i++]=f[x++]}while(--_);x=i-S,I=C}}}else if(x+=d-_,_<w){w-=_;do{C[i++]=f[x++]}while(--_);x=i-S,I=C}for(;w>2;)C[i++]=I[x++],C[i++]=I[x++],C[i++]=I[x++],w-=3;w&&(C[i++]=I[x++],w>1&&(C[i++]=I[x++]))}else{x=i-S;do{C[i++]=C[x++],C[i++]=C[x++],C[i++]=C[x++],w-=3}while(w>2);w&&(C[i++]=C[x++],w>1&&(C[i++]=C[x++]))}break}if(64&_){e.msg="invalid distance code",k.mode=o;break e}v=m[(65535&v)+(h&(1<<_)-1)]}}break}}while(n<r&&i<a);w=p>>3,n-=w,p-=w<<3,h&=(1<<p)-1,e.next_in=n,e.next_out=i,e.avail_in=n<r?r-n+5:5-(n-r),e.avail_out=i<a?a-i+257:257-(i-a),k.hold=h,k.bits=p};const s=15,a=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),c=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),l=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),u=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]);var d=(e,t,n,r,o,i,d,f)=>{const h=f.bits;let p,g,m,y,b,v,_=0,w=0,S=0,x=0,I=0,A=0,C=0,k=0,E=0,T=0,P=null;const M=new Uint16Array(16),O=new Uint16Array(16);let D,R,N,F=null;for(_=0;_<=s;_++)M[_]=0;for(w=0;w<r;w++)M[t[n+w]]++;for(I=h,x=s;x>=1&&0===M[x];x--);if(I>x&&(I=x),0===x)return o[i++]=20971520,o[i++]=20971520,f.bits=1,0;for(S=1;S<x&&0===M[S];S++);for(I<S&&(I=S),k=1,_=1;_<=s;_++)if(k<<=1,k-=M[_],k<0)return-1;if(k>0&&(0===e||1!==x))return-1;for(O[1]=0,_=1;_<s;_++)O[_+1]=O[_]+M[_];for(w=0;w<r;w++)0!==t[n+w]&&(d[O[t[n+w]]++]=w);if(0===e?(P=F=d,v=20):1===e?(P=a,F=c,v=257):(P=l,F=u,v=0),T=0,w=0,_=S,b=i,A=I,C=0,m=-1,E=1<<I,y=E-1,1===e&&E>852||2===e&&E>592)return 1;for(;;){D=_-C,d[w]+1<v?(R=0,N=d[w]):d[w]>=v?(R=F[d[w]-v],N=P[d[w]-v]):(R=96,N=0),p=1<<_-C,g=1<<A,S=g;do{g-=p,o[b+(T>>C)+g]=D<<24|R<<16|N}while(0!==g);for(p=1<<_-1;T&p;)p>>=1;if(0!==p?(T&=p-1,T+=p):T=0,w++,0===--M[_]){if(_===x)break;_=t[n+d[w]]}if(_>I&&(T&y)!==m){for(0===C&&(C=I),b+=S,A=_-C,k=1<<A;A+C<x&&(k-=M[A+C],!(k<=0));)A++,k<<=1;if(E+=1<<A,1===e&&E>852||2===e&&E>592)return 1;m=T&y,o[m]=I<<24|A<<16|b-i}}return 0!==T&&(o[b+T]=_-C<<24|64<<16),f.bits=I,0},f={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{Z_FINISH:h,Z_BLOCK:p,Z_TREES:g,Z_OK:m,Z_STREAM_END:y,Z_NEED_DICT:b,Z_STREAM_ERROR:v,Z_DATA_ERROR:_,Z_MEM_ERROR:w,Z_BUF_ERROR:S,Z_DEFLATED:x}=f,I=16180,A=16190,C=16191,k=16192,E=16194,T=16199,P=16200,M=16206,O=16209,D=e=>(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24);function R(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const N=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.mode<I||t.mode>16211?1:0},F=e=>{if(N(e))return v;const t=e.state;return e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=I,t.last=0,t.havedict=0,t.flags=-1,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(852),t.distcode=t.distdyn=new Int32Array(592),t.sane=1,t.back=-1,m},L=e=>{if(N(e))return v;const t=e.state;return t.wsize=0,t.whave=0,t.wnext=0,F(e)},B=(e,t)=>{let n;if(N(e))return v;const r=e.state;return t<0?(n=0,t=-t):(n=5+(t>>4),t<48&&(t&=15)),t&&(t<8||t>15)?v:(null!==r.window&&r.wbits!==t&&(r.window=null),r.wrap=n,r.wbits=t,L(e))},$=(e,t)=>{if(!e)return v;const n=new R;e.state=n,n.strm=e,n.window=null,n.mode=I;const r=B(e,t);return r!==m&&(e.state=null),r};let j,U,z=!0;const V=e=>{if(z){j=new Int32Array(512),U=new Int32Array(32);let t=0;for(;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(d(1,e.lens,0,288,j,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;d(2,e.lens,0,32,U,0,e.work,{bits:5}),z=!1}e.lencode=j,e.lenbits=9,e.distcode=U,e.distbits=5},q=(e,t,n,r)=>{let o;const i=e.state;return null===i.window&&(i.wsize=1<<i.wbits,i.wnext=0,i.whave=0,i.window=new Uint8Array(i.wsize)),r>=i.wsize?(i.window.set(t.subarray(n-i.wsize,n),0),i.wnext=0,i.whave=i.wsize):(o=i.wsize-i.wnext,o>r&&(o=r),i.window.set(t.subarray(n-r,n-r+o),i.wnext),(r-=o)?(i.window.set(t.subarray(n-r,n),0),i.wnext=r,i.whave=i.wsize):(i.wnext+=o,i.wnext===i.wsize&&(i.wnext=0),i.whave<i.wsize&&(i.whave+=o))),0};var H=L,G=$,W=(e,n)=>{let o,s,a,c,l,u,f,R,F,L,B,$,j,U,z,H,G,W,K,Y,J,X,Z=0;const Q=new Uint8Array(4);let ee,te;const ne=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(N(e)||!e.output||!e.input&&0!==e.avail_in)return v;o=e.state,o.mode===C&&(o.mode=k),l=e.next_out,a=e.output,f=e.avail_out,c=e.next_in,s=e.input,u=e.avail_in,R=o.hold,F=o.bits,L=u,B=f,X=m;e:for(;;)switch(o.mode){case I:if(0===o.wrap){o.mode=k;break}for(;F<16;){if(0===u)break e;u--,R+=s[c++]<<F,F+=8}if(2&o.wrap&&35615===R){0===o.wbits&&(o.wbits=15),o.check=0,Q[0]=255&R,Q[1]=R>>>8&255,o.check=r(o.check,Q,2,0),R=0,F=0,o.mode=16181;break}if(o.head&&(o.head.done=!1),!(1&o.wrap)||(((255&R)<<8)+(R>>8))%31){e.msg="incorrect header check",o.mode=O;break}if((15&R)!==x){e.msg="unknown compression method",o.mode=O;break}if(R>>>=4,F-=4,J=8+(15&R),0===o.wbits&&(o.wbits=J),J>15||J>o.wbits){e.msg="invalid window size",o.mode=O;break}o.dmax=1<<o.wbits,o.flags=0,e.adler=o.check=1,o.mode=512&R?16189:C,R=0,F=0;break;case 16181:for(;F<16;){if(0===u)break e;u--,R+=s[c++]<<F,F+=8}if(o.flags=R,(255&o.flags)!==x){e.msg="unknown compression method",o.mode=O;break}if(57344&o.flags){e.msg="unknown header flags set",o.mode=O;break}o.head&&(o.head.text=R>>8&1),512&o.flags&&4&o.wrap&&(Q[0]=255&R,Q[1]=R>>>8&255,o.check=r(o.check,Q,2,0)),R=0,F=0,o.mode=16182;case 16182:for(;F<32;){if(0===u)break e;u--,R+=s[c++]<<F,F+=8}o.head&&(o.head.time=R),512&o.flags&&4&o.wrap&&(Q[0]=255&R,Q[1]=R>>>8&255,Q[2]=R>>>16&255,Q[3]=R>>>24&255,o.check=r(o.check,Q,4,0)),R=0,F=0,o.mode=16183;case 16183:for(;F<16;){if(0===u)break e;u--,R+=s[c++]<<F,F+=8}o.head&&(o.head.xflags=255&R,o.head.os=R>>8),512&o.flags&&4&o.wrap&&(Q[0]=255&R,Q[1]=R>>>8&255,o.check=r(o.check,Q,2,0)),R=0,F=0,o.mode=16184;case 16184:if(1024&o.flags){for(;F<16;){if(0===u)break e;u--,R+=s[c++]<<F,F+=8}o.length=R,o.head&&(o.head.extra_len=R),512&o.flags&&4&o.wrap&&(Q[0]=255&R,Q[1]=R>>>8&255,o.check=r(o.check,Q,2,0)),R=0,F=0}else o.head&&(o.head.extra=null);o.mode=16185;case 16185:if(1024&o.flags&&($=o.length,$>u&&($=u),$&&(o.head&&(J=o.head.extra_len-o.length,o.head.extra||(o.head.extra=new Uint8Array(o.head.extra_len)),o.head.extra.set(s.subarray(c,c+$),J)),512&o.flags&&4&o.wrap&&(o.check=r(o.check,s,$,c)),u-=$,c+=$,o.length-=$),o.length))break e;o.length=0,o.mode=16186;case 16186:if(2048&o.flags){if(0===u)break e;$=0;do{J=s[c+$++],o.head&&J&&o.length<65536&&(o.head.name+=String.fromCharCode(J))}while(J&&$<u);if(512&o.flags&&4&o.wrap&&(o.check=r(o.check,s,$,c)),u-=$,c+=$,J)break e}else o.head&&(o.head.name=null);o.length=0,o.mode=16187;case 16187:if(4096&o.flags){if(0===u)break e;$=0;do{J=s[c+$++],o.head&&J&&o.length<65536&&(o.head.comment+=String.fromCharCode(J))}while(J&&$<u);if(512&o.flags&&4&o.wrap&&(o.check=r(o.check,s,$,c)),u-=$,c+=$,J)break e}else o.head&&(o.head.comment=null);o.mode=16188;case 16188:if(512&o.flags){for(;F<16;){if(0===u)break e;u--,R+=s[c++]<<F,F+=8}if(4&o.wrap&&R!==(65535&o.check)){e.msg="header crc mismatch",o.mode=O;break}R=0,F=0}o.head&&(o.head.hcrc=o.flags>>9&1,o.head.done=!0),e.adler=o.check=0,o.mode=C;break;case 16189:for(;F<32;){if(0===u)break e;u--,R+=s[c++]<<F,F+=8}e.adler=o.check=D(R),R=0,F=0,o.mode=A;case A:if(0===o.havedict)return e.next_out=l,e.avail_out=f,e.next_in=c,e.avail_in=u,o.hold=R,o.bits=F,b;e.adler=o.check=1,o.mode=C;case C:if(n===p||n===g)break e;case k:if(o.last){R>>>=7&F,F-=7&F,o.mode=M;break}for(;F<3;){if(0===u)break e;u--,R+=s[c++]<<F,F+=8}switch(o.last=1&R,R>>>=1,F-=1,3&R){case 0:o.mode=16193;break;case 1:if(V(o),o.mode=T,n===g){R>>>=2,F-=2;break e}break;case 2:o.mode=16196;break;case 3:e.msg="invalid block type",o.mode=O}R>>>=2,F-=2;break;case 16193:for(R>>>=7&F,F-=7&F;F<32;){if(0===u)break e;u--,R+=s[c++]<<F,F+=8}if((65535&R)!=(R>>>16^65535)){e.msg="invalid stored block lengths",o.mode=O;break}if(o.length=65535&R,R=0,F=0,o.mode=E,n===g)break e;case E:o.mode=16195;case 16195:if($=o.length,$){if($>u&&($=u),$>f&&($=f),0===$)break e;a.set(s.subarray(c,c+$),l),u-=$,c+=$,f-=$,l+=$,o.length-=$;break}o.mode=C;break;case 16196:for(;F<14;){if(0===u)break e;u--,R+=s[c++]<<F,F+=8}if(o.nlen=257+(31&R),R>>>=5,F-=5,o.ndist=1+(31&R),R>>>=5,F-=5,o.ncode=4+(15&R),R>>>=4,F-=4,o.nlen>286||o.ndist>30){e.msg="too many length or distance symbols",o.mode=O;break}o.have=0,o.mode=16197;case 16197:for(;o.have<o.ncode;){for(;F<3;){if(0===u)break e;u--,R+=s[c++]<<F,F+=8}o.lens[ne[o.have++]]=7&R,R>>>=3,F-=3}for(;o.have<19;)o.lens[ne[o.have++]]=0;if(o.lencode=o.lendyn,o.lenbits=7,ee={bits:o.lenbits},X=d(0,o.lens,0,19,o.lencode,0,o.work,ee),o.lenbits=ee.bits,X){e.msg="invalid code lengths set",o.mode=O;break}o.have=0,o.mode=16198;case 16198:for(;o.have<o.nlen+o.ndist;){for(;Z=o.lencode[R&(1<<o.lenbits)-1],z=Z>>>24,H=Z>>>16&255,G=65535&Z,!(z<=F);){if(0===u)break e;u--,R+=s[c++]<<F,F+=8}if(G<16)R>>>=z,F-=z,o.lens[o.have++]=G;else{if(16===G){for(te=z+2;F<te;){if(0===u)break e;u--,R+=s[c++]<<F,F+=8}if(R>>>=z,F-=z,0===o.have){e.msg="invalid bit length repeat",o.mode=O;break}J=o.lens[o.have-1],$=3+(3&R),R>>>=2,F-=2}else if(17===G){for(te=z+3;F<te;){if(0===u)break e;u--,R+=s[c++]<<F,F+=8}R>>>=z,F-=z,J=0,$=3+(7&R),R>>>=3,F-=3}else{for(te=z+7;F<te;){if(0===u)break e;u--,R+=s[c++]<<F,F+=8}R>>>=z,F-=z,J=0,$=11+(127&R),R>>>=7,F-=7}if(o.have+$>o.nlen+o.ndist){e.msg="invalid bit length repeat",o.mode=O;break}for(;$--;)o.lens[o.have++]=J}}if(o.mode===O)break;if(0===o.lens[256]){e.msg="invalid code -- missing end-of-block",o.mode=O;break}if(o.lenbits=9,ee={bits:o.lenbits},X=d(1,o.lens,0,o.nlen,o.lencode,0,o.work,ee),o.lenbits=ee.bits,X){e.msg="invalid literal/lengths set",o.mode=O;break}if(o.distbits=6,o.distcode=o.distdyn,ee={bits:o.distbits},X=d(2,o.lens,o.nlen,o.ndist,o.distcode,0,o.work,ee),o.distbits=ee.bits,X){e.msg="invalid distances set",o.mode=O;break}if(o.mode=T,n===g)break e;case T:o.mode=P;case P:if(u>=6&&f>=258){e.next_out=l,e.avail_out=f,e.next_in=c,e.avail_in=u,o.hold=R,o.bits=F,i(e,B),l=e.next_out,a=e.output,f=e.avail_out,c=e.next_in,s=e.input,u=e.avail_in,R=o.hold,F=o.bits,o.mode===C&&(o.back=-1);break}for(o.back=0;Z=o.lencode[R&(1<<o.lenbits)-1],z=Z>>>24,H=Z>>>16&255,G=65535&Z,!(z<=F);){if(0===u)break e;u--,R+=s[c++]<<F,F+=8}if(H&&!(240&H)){for(W=z,K=H,Y=G;Z=o.lencode[Y+((R&(1<<W+K)-1)>>W)],z=Z>>>24,H=Z>>>16&255,G=65535&Z,!(W+z<=F);){if(0===u)break e;u--,R+=s[c++]<<F,F+=8}R>>>=W,F-=W,o.back+=W}if(R>>>=z,F-=z,o.back+=z,o.length=G,0===H){o.mode=16205;break}if(32&H){o.back=-1,o.mode=C;break}if(64&H){e.msg="invalid literal/length code",o.mode=O;break}o.extra=15&H,o.mode=16201;case 16201:if(o.extra){for(te=o.extra;F<te;){if(0===u)break e;u--,R+=s[c++]<<F,F+=8}o.length+=R&(1<<o.extra)-1,R>>>=o.extra,F-=o.extra,o.back+=o.extra}o.was=o.length,o.mode=16202;case 16202:for(;Z=o.distcode[R&(1<<o.distbits)-1],z=Z>>>24,H=Z>>>16&255,G=65535&Z,!(z<=F);){if(0===u)break e;u--,R+=s[c++]<<F,F+=8}if(!(240&H)){for(W=z,K=H,Y=G;Z=o.distcode[Y+((R&(1<<W+K)-1)>>W)],z=Z>>>24,H=Z>>>16&255,G=65535&Z,!(W+z<=F);){if(0===u)break e;u--,R+=s[c++]<<F,F+=8}R>>>=W,F-=W,o.back+=W}if(R>>>=z,F-=z,o.back+=z,64&H){e.msg="invalid distance code",o.mode=O;break}o.offset=G,o.extra=15&H,o.mode=16203;case 16203:if(o.extra){for(te=o.extra;F<te;){if(0===u)break e;u--,R+=s[c++]<<F,F+=8}o.offset+=R&(1<<o.extra)-1,R>>>=o.extra,F-=o.extra,o.back+=o.extra}if(o.offset>o.dmax){e.msg="invalid distance too far back",o.mode=O;break}o.mode=16204;case 16204:if(0===f)break e;if($=B-f,o.offset>$){if($=o.offset-$,$>o.whave&&o.sane){e.msg="invalid distance too far back",o.mode=O;break}$>o.wnext?($-=o.wnext,j=o.wsize-$):j=o.wnext-$,$>o.length&&($=o.length),U=o.window}else U=a,j=l-o.offset,$=o.length;$>f&&($=f),f-=$,o.length-=$;do{a[l++]=U[j++]}while(--$);0===o.length&&(o.mode=P);break;case 16205:if(0===f)break e;a[l++]=o.length,f--,o.mode=P;break;case M:if(o.wrap){for(;F<32;){if(0===u)break e;u--,R|=s[c++]<<F,F+=8}if(B-=f,e.total_out+=B,o.total+=B,4&o.wrap&&B&&(e.adler=o.check=o.flags?r(o.check,a,B,l-B):t(o.check,a,B,l-B)),B=f,4&o.wrap&&(o.flags?R:D(R))!==o.check){e.msg="incorrect data check",o.mode=O;break}R=0,F=0}o.mode=16207;case 16207:if(o.wrap&&o.flags){for(;F<32;){if(0===u)break e;u--,R+=s[c++]<<F,F+=8}if(4&o.wrap&&R!==(4294967295&o.total)){e.msg="incorrect length check",o.mode=O;break}R=0,F=0}o.mode=16208;case 16208:X=y;break e;case O:X=_;break e;case 16210:return w;default:return v}return e.next_out=l,e.avail_out=f,e.next_in=c,e.avail_in=u,o.hold=R,o.bits=F,(o.wsize||B!==e.avail_out&&o.mode<O&&(o.mode<M||n!==h))&&q(e,e.output,e.next_out,B-e.avail_out),L-=e.avail_in,B-=e.avail_out,e.total_in+=L,e.total_out+=B,o.total+=B,4&o.wrap&&B&&(e.adler=o.check=o.flags?r(o.check,a,B,e.next_out-B):t(o.check,a,B,e.next_out-B)),e.data_type=o.bits+(o.last?64:0)+(o.mode===C?128:0)+(o.mode===T||o.mode===E?256:0),(0===L&&0===B||n===h)&&X===m&&(X=S),X},K=e=>{if(N(e))return v;let t=e.state;return t.window&&(t.window=null),e.state=null,m},Y=(e,t)=>{if(N(e))return v;const n=e.state;return 2&n.wrap?(n.head=t,t.done=!1,m):v},J=(e,n)=>{const r=n.length;let o,i,s;return N(e)?v:(o=e.state,0!==o.wrap&&o.mode!==A?v:o.mode===A&&(i=1,i=t(i,n,r,0),i!==o.check)?_:(s=q(e,n,r,r),s?(o.mode=16210,w):(o.havedict=1,m)))};const X=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var Z=function(e){const t=Array.prototype.slice.call(arguments,1);for(;t.length;){const n=t.shift();if(n){if("object"!=typeof n)throw new TypeError(n+"must be non-object");for(const t in n)X(n,t)&&(e[t]=n[t])}}return e},Q=e=>{let t=0;for(let n=0,r=e.length;n<r;n++)t+=e[n].length;const n=new Uint8Array(t);for(let t=0,r=0,o=e.length;t<o;t++){let o=e[t];n.set(o,r),r+=o.length}return n};let ee=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(e){ee=!1}const te=new Uint8Array(256);for(let e=0;e<256;e++)te[e]=e>=252?6:e>=248?5:e>=240?4:e>=224?3:e>=192?2:1;te[254]=te[254]=1;var ne=e=>{if("function"==typeof TextEncoder&&TextEncoder.prototype.encode)return(new TextEncoder).encode(e);let t,n,r,o,i,s=e.length,a=0;for(o=0;o<s;o++)n=e.charCodeAt(o),55296==(64512&n)&&o+1<s&&(r=e.charCodeAt(o+1),56320==(64512&r)&&(n=65536+(n-55296<<10)+(r-56320),o++)),a+=n<128?1:n<2048?2:n<65536?3:4;for(t=new Uint8Array(a),i=0,o=0;i<a;o++)n=e.charCodeAt(o),55296==(64512&n)&&o+1<s&&(r=e.charCodeAt(o+1),56320==(64512&r)&&(n=65536+(n-55296<<10)+(r-56320),o++)),n<128?t[i++]=n:n<2048?(t[i++]=192|n>>>6,t[i++]=128|63&n):n<65536?(t[i++]=224|n>>>12,t[i++]=128|n>>>6&63,t[i++]=128|63&n):(t[i++]=240|n>>>18,t[i++]=128|n>>>12&63,t[i++]=128|n>>>6&63,t[i++]=128|63&n);return t},re=(e,t)=>{const n=t||e.length;if("function"==typeof TextDecoder&&TextDecoder.prototype.decode)return(new TextDecoder).decode(e.subarray(0,t));let r,o;const i=new Array(2*n);for(o=0,r=0;r<n;){let t=e[r++];if(t<128){i[o++]=t;continue}let s=te[t];if(s>4)i[o++]=65533,r+=s-1;else{for(t&=2===s?31:3===s?15:7;s>1&&r<n;)t=t<<6|63&e[r++],s--;s>1?i[o++]=65533:t<65536?i[o++]=t:(t-=65536,i[o++]=55296|t>>10&1023,i[o++]=56320|1023&t)}}return((e,t)=>{if(t<65534&&e.subarray&&ee)return String.fromCharCode.apply(null,e.length===t?e:e.subarray(0,t));let n="";for(let r=0;r<t;r++)n+=String.fromCharCode(e[r]);return n})(i,o)},oe=(e,t)=>{(t=t||e.length)>e.length&&(t=e.length);let n=t-1;for(;n>=0&&128==(192&e[n]);)n--;return n<0||0===n?t:n+te[e[n]]>t?n:t},ie={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"};var se=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0};var ae=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1};const ce=Object.prototype.toString,{Z_NO_FLUSH:le,Z_FINISH:ue,Z_OK:de,Z_STREAM_END:fe,Z_NEED_DICT:he,Z_STREAM_ERROR:pe,Z_DATA_ERROR:ge,Z_MEM_ERROR:me}=f;function ye(e){this.options=Z({chunkSize:65536,windowBits:15,to:""},e||{});const t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(t.windowBits>=0&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&(15&t.windowBits||(t.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new se,this.strm.avail_out=0;let n=G(this.strm,t.windowBits);if(n!==de)throw new Error(ie[n]);if(this.header=new ae,Y(this.strm,this.header),t.dictionary&&("string"==typeof t.dictionary?t.dictionary=ne(t.dictionary):"[object ArrayBuffer]"===ce.call(t.dictionary)&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(n=J(this.strm,t.dictionary),n!==de)))throw new Error(ie[n])}function be(e,t){const n=new ye(t);if(n.push(e),n.err)throw n.msg||ie[n.err];return n.result}ye.prototype.push=function(e,t){const n=this.strm,r=this.options.chunkSize,o=this.options.dictionary;let i,s,a;if(this.ended)return!1;for(s=t===~~t?t:!0===t?ue:le,"[object ArrayBuffer]"===ce.call(e)?n.input=new Uint8Array(e):n.input=e,n.next_in=0,n.avail_in=n.input.length;;){for(0===n.avail_out&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),i=W(n,s),i===he&&o&&(i=J(n,o),i===de?i=W(n,s):i===ge&&(i=he));n.avail_in>0&&i===fe&&n.state.wrap>0&&0!==e[n.next_in];)H(n),i=W(n,s);switch(i){case pe:case ge:case he:case me:return this.onEnd(i),this.ended=!0,!1}if(a=n.avail_out,n.next_out&&(0===n.avail_out||i===fe))if("string"===this.options.to){let e=oe(n.output,n.next_out),t=n.next_out-e,o=re(n.output,e);n.next_out=t,n.avail_out=r-t,t&&n.output.set(n.output.subarray(e,e+t),0),this.onData(o)}else this.onData(n.output.length===n.next_out?n.output:n.output.subarray(0,n.next_out));if(i!==de||0!==a){if(i===fe)return i=K(this.strm),this.onEnd(i),this.ended=!0,!0;if(0===n.avail_in)break}}return!0},ye.prototype.onData=function(e){this.chunks.push(e)},ye.prototype.onEnd=function(e){e===de&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=Q(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};var ve=ye,_e=be,we=function(e,t){return(t=t||{}).raw=!0,be(e,t)},Se=be,xe=f,Ie={Inflate:ve,inflate:_e,inflateRaw:we,ungzip:Se,constants:xe};e.Inflate=ve,e.constants=xe,e.default=Ie,e.inflate=_e,e.inflateRaw=we,e.ungzip=Se,Object.defineProperty(e,"__esModule",{value:!0})}(t)},87894:(e,t,n)=>{"use strict";function r(e,t){return e.reduce((e,n)=>(e[n[t]]=n,e),{})}function o(e,t){return e.reduce((e,n)=>{const[r,o]=t(n);return e[r]=o,e},{})}function i(e,t){return Object.keys(e).reduce((n,r,o)=>(n[r]=t(e[r],r,o,e),n),{})}function s(e,t){return t.reduce((t,n)=>(t[n]=e[n],t),{})}function a(e,t){return t.reduce((t,n)=>(e[n]&&(t[n]=e[n]),t),{})}function c(e,t){const n=new Set(t.map(String));return s(e,Object.keys(e).filter(e=>!n.has(e)))}function l(e){return Object.keys(e).reduce((t,n)=>{const r=n;return void 0!==e[r]&&(t[r]=e[r]),t},{})}function u(e,t,n="asc"){function r(e,t,n,r){const o=("function"==typeof n?n(e):e[n])||0,i=("function"==typeof n?n(t):t[n])||0;return r?o-i:i-o}if(Array.isArray(t)){const[o,i]=Array.isArray(n)?n:[n,n],[s,a]=t,c="asc"===o,l="asc"===i;return e.sort((e,t)=>r(e,t,s,c)||r(e,t,a,l))}const o="asc"===n;return e.sort((e,n)=>r(e,n,t,o))}function d(e){return Array.from(new Set(e))}function f(e,t){return[...new Map(e.map(e=>[e[t],e])).values()]}function h(e){return e.filter(Boolean)}function p(e,t){return e.length===t.length&&e.every((e,n)=>e===t[n])}function g(e,t){return e[0]<=t[t.length-1]&&e[e.length-1]>=t[0]}function m(e,t){return t[0]<=e&&e<=t[t.length-1]}function y(e,t){return e.filter(e=>t.has(e))}function b(e,t){if(!e?.length)return e;const n=[];let r=0;for(let o=0;o<e.length;o++)t[r]===e[o]?r+=1:n.push(e[o]);return n}function v(e,t){const n=[];for(let r=0;r<e.length;r+=t)n.push(e.slice(r,r+t));return n}function _(e,t){const n=[],r=[];return e.forEach((e,o,i)=>(t(e,o,i)?n:r).push(e)),[n,r]}function w(e){return x(e)?Array.isArray(e)?e.map(w):Object.keys(e).reduce((t,n)=>(t[n]=w(e[n]),t),{}):e}function S(e){return x(e)&&!Array.isArray(e)}function x(e){return"object"==typeof e&&null!==e}function I(e,t){let n=e.length;for(;n--;)if(t(e[n],n,e))return e[n]}function A(e,t){return Number(t)-Number(e)}n.d(t,{$h:()=>y,Am:()=>d,LG:()=>i,My:()=>u,OX:()=>m,Oy:()=>l,Uk:()=>I,Up:()=>s,Vh:()=>S,Xd:()=>f,_E:()=>a,cJ:()=>c,dU:()=>r,h8:()=>g,jB:()=>_,k:()=>p,lD:()=>v,lK:()=>b,mg:()=>w,oE:()=>h,pA:()=>o,zV:()=>A})},88368:(e,t,n)=>{"use strict";function r(e,t){return e.chats.topicsInfoById[t]}function o(e,t){return r(e,t)?.topicsById}function i(e,t,n){return r(e,t)?.topicsById?.[n]}n.d(t,{S0:()=>i,pS:()=>o,xy:()=>r})},88458:(e,t,n)=>{"use strict";let r,o;async function i(){return r||(r=n.e(6708).then(n.bind(n,66708)).then(e=>e.default),o=await r),r}function s(){return o}n.d(t,{Y:()=>i,o:()=>s}),setTimeout(i,3e3)},88554:(e,t,n)=>{"use strict";n.d(t,{$:()=>S,A:()=>w});var r=n(84051),o=n(13439),i=n(60919),s=n(87357),a=n(76023),c=n(38691);const l=["#34C578","#3CA3F3"],u=["#C9EB38","#09C167"],d=["#A667FF","#55A5FF"],f=.125*a.$,h=.0625*a.$,p=2,g=45,m=3.5*a.$,y=Math.PI/4,b=2*Math.PI*.1,v=y-b/2,_=y+b/2,w=(0,r.ph)((0,o.EK)((e,{peerId:t})=>{const n=(0,i._bp)(e,t),r=(0,i.SJA)(e);return{peerStories:n?.byId,storyIds:n?.orderedIds,lastReadId:n?.lastReadId,appTheme:r}})(function({size:e,className:t,peerStories:n,storyIds:o,lastReadId:i,withExtraGap:a,appTheme:l}){const u=(0,r.li)(),d=(0,c.A)(),h=e+f,p=(0,r.Kr)(()=>(o||[]).reduce((e,t)=>(e.total+=1,i&&t<=i&&(e.read+=1),e),{total:0,read:0}),[i,o]),g=(0,r.Kr)(()=>!(!n||!o?.length)&&o.some(e=>{const t=n[e];if(!t||!("isForCloseFriends"in t))return!1;const r=i&&t.id<=i;return t.isForCloseFriends&&!r}),[i,n,o]);if((0,r.Nf)(()=>{u.current&&S({canvas:u.current,size:h*d,segmentsCount:p.total,color:g?"green":"blue",readSegmentsCount:p.read,withExtraGap:a,readSegmentColor:"dark"===l?"#737373":"#C4C9CC",dpr:d})},[l,g,h,p.read,p.total,a,d]),p.total)return r.Ay.createElement("canvas",{ref:u,className:(0,s.A)("story-circle",t),style:`max-width: ${h}px; max-height: ${h}px;`})}));function S({canvas:e,size:t,color:n,segmentsCount:r,readSegmentsCount:o=0,withExtraGap:i=!1,readSegmentColor:s,dpr:c}){r>g&&(o=Math.round(o*(g/r)),r=g);const y=Math.max(Math.max(t-m*c,0)/c/a.$/1.5,1)*c,b=e.getContext("2d");if(!b)return;e.width=t,e.height=t;const w=t/2,S=(t-f*y)/2,x=2*Math.PI/r,I=p/100*(2*Math.PI),A=b.createLinearGradient(0,0,Math.ceil(t*Math.cos(Math.PI/2)),Math.ceil(t*Math.sin(Math.PI/2))),C="purple"===n?d:"green"===n?u:l;C.forEach((e,t)=>{A.addColorStop(t/(C.length-1),e)}),b.lineCap="round",b.clearRect(0,0,t,t),Array.from({length:r}).forEach((e,t)=>{const n=t<o;let a=t*x-Math.PI/2+I/2,c=a+x-(r>1?I:0);if(b.strokeStyle=n?s:A,b.lineWidth=(n?h:f)*y,i){if(a>=v&&c<=_)return;a<v&&c>_?(b.beginPath(),b.arc(w,w,S,_,c),b.stroke(),c=v):a<v&&c>v?c=v:a<_&&c>_&&(a=_)}b.beginPath(),b.arc(w,w,S,a,c),b.stroke()})}},88742:(e,t,n)=>{"use strict";var r=n(37932),o=n(66644),i=n(63495),s=n(96454),a=n(14487),c=n(5560),l=n(6e4),u=n(70934),d=n(21687),f=n(57751),h=n(71322),p=n(84382),g=n(84553),m=n(51580),y=n(42385),b=n(13439),v=n(17872),_=n(32989),w=n(60919),S=n(30708),x=n(55232);(0,p.S)(e=>{let t=(0,b.mS)();t.isInited&&(0,S.l)(t).shouldUseSystemTheme&&(t=(0,v.qoo)(t,{theme:e}),(0,b.UF)(t))}),(0,b.aJ)("switchMultitabRole",async(e,t,n)=>{const{isMasterTab:r,tabId:o=(0,a.g0)()}=n;if(r!==(0,w.nTw)(e,o).isMasterTab)if(e=(0,_.w)(e,{isMasterTab:r},o),(0,b.UF)(e,{forceSyncOnIOs:!0}),r){if(e.passcode.hasPasscode&&!e.passcode.isScreenLocked){const{sessionJson:e}=await(0,u.ug)(),t=JSON.parse(e);(0,f.AA)(t)}(0,f.wr)()&&(0,y.ZJ)(),(e=(0,b.mS)()).passcode.hasPasscode&&e.passcode.isScreenLocked||("connectionStateReady"===e.connectionState&&(e={...e,connectionState:"connectionStateConnecting"},(0,b.UF)(e)),t.initApi()),(0,g.ii)(),i.vM&&(0,x.X)(e.sharedState)}else(0,c.al)(),t.destroyConnection(),(0,g.KX)(),(0,x.m)(),(0,y.z0)(),t.onSomeTabSwitchedMultitabRole();else(0,m.px)("broadcastLocalDbUpdateFull")}),(0,b.aJ)("onSomeTabSwitchedMultitabRole",async e=>{if(e.passcode.hasPasscode&&!e.passcode.isScreenLocked){const{sessionJson:e}=await(0,u.ug)(),t=JSON.parse(e);(0,f.AA)(t)}(0,m.px)("broadcastLocalDbUpdateFull")}),(0,b.aJ)("initShared",()=>{(0,g.ii)()}),(0,b.aJ)("initMain",e=>{const{hasWebNotifications:t,hasPushNotifications:n}=(0,w.eCL)(e);if(t&&n){const e=["click","keypress"],t=()=>{(0,c.B1)(),e.forEach(e=>{document.removeEventListener(e,t)})};e.forEach(e=>{document.addEventListener(e,t,{once:!0})})}}),(0,r.DW)(e=>{let t=!1;const n=(0,w.nTw)(e,(0,a.g0)());if(!n?.shouldInit)return;e=(0,b.mS)(),e=(0,_.w)(e,{shouldInit:!1},n.id);const{messageTextSize:r,language:i,shouldUseSystemTheme:c}=(0,S.l)(e),u=(0,w.SJA)(e),f=(0,p.V)(),m=c?f:u,y=(0,w.Cw0)(e);(0,l.wT)(i,void 0,!0),(0,o.RK)(()=>{document.documentElement.style.setProperty("--composer-text-size",`${Math.max(r,s.pz?16:15)}px`),document.documentElement.style.setProperty("--message-meta-height",`${Math.floor(1.3125*r)}px`),document.documentElement.style.setProperty("--message-text-size",`${r}px`),document.documentElement.setAttribute("data-message-text-size",r.toString()),document.body.classList.add("initial"),document.body.classList.add(s.TF?"is-touch-env":"is-pointer-env"),(0,d.u)(y),s.pz?document.body.classList.add("is-ios"):s.Ni?document.body.classList.add("is-android"):s.MP?document.body.classList.add("is-macos"):s.H8?document.body.classList.add("is-windows"):s.ig&&document.body.classList.add("is-linux"),s.Yw&&document.body.classList.add("is-safari"),s.cp&&document.body.classList.add("is-electron")});const x=(0,w.PKK)(e);(0,h.Ay)(m,x),e=(0,v.qoo)(e,{theme:m}),(0,g.ii)(),t=!0,(0,b.UF)(e)}),(0,b.aJ)("setInstallPrompt",(e,t,n)=>{const{canInstall:r,tabId:o=(0,a.g0)()}=n;return(0,_.w)(e,{canInstall:r},o)}),(0,b.aJ)("setIsUiReady",(e,t,n)=>{const{uiReadyState:r,tabId:i=(0,a.g0)()}=n;return 2===r&&(0,o.RK)(()=>{document.body.classList.remove("initial")}),(0,_.w)(e,{uiReadyState:r},i)}),(0,b.aJ)("setAuthPhoneNumber",(e,t,n)=>{const{phoneNumber:r}=n;return{...e,authPhoneNumber:r}}),(0,b.aJ)("setAuthRememberMe",(e,t,n)=>({...e,authRememberMe:Boolean(n.value)})),(0,b.aJ)("clearAuthErrorKey",e=>({...e,authErrorKey:void 0})),(0,b.aJ)("disableHistoryAnimations",(e,t,n)=>{const{tabId:r=(0,a.g0)()}=n||{};setTimeout(()=>{e=(0,b.mS)(),e=(0,_.w)(e,{shouldSkipHistoryAnimations:!1},r),(0,b.UF)(e),(0,o.RK)(()=>{document.body.classList.remove("no-animate")})},450),e=(0,_.w)(e,{shouldSkipHistoryAnimations:!0},r),(0,b.UF)(e,{forceSyncOnIOs:!0})})},89379:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(64467);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach(function(t){(0,r.A)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}},89557:function(e,t,n){var r,o,i,s,a,c,l,u;e.exports=(u=n(19021),n(43240),n(81380),o=(r=u).x64,i=o.Word,s=o.WordArray,a=r.algo,c=a.SHA512,l=a.SHA384=c.extend({_doReset:function(){this._hash=new s.init([new i.init(3418070365,3238371032),new i.init(1654270250,914150663),new i.init(2438529370,812702999),new i.init(355462360,4144912697),new i.init(1731405415,4290775857),new i.init(2394180231,1750603025),new i.init(3675008525,1694076839),new i.init(1203062813,3204075428)])},_doFinalize:function(){var e=c._doFinalize.call(this);return e.sigBytes-=16,e}}),r.SHA384=c._createHelper(l),r.HmacSHA384=c._createHmacHelper(l),u.SHA384)},89704:(e,t,n)=>{"use strict";e.exports=n.p+"lock.f11661905df47960fa3e.png"},89925:(e,t,n)=>{"use strict";n.d(t,{$C:()=>a,Bn:()=>s,CC:()=>o,D7:()=>g,DV:()=>h,G9:()=>u,TD:()=>p,TN:()=>r,TQ:()=>l,Ul:()=>c,VS:()=>i,Vw:()=>b,d9:()=>d,je:()=>v,n7:()=>f,tn:()=>y,zW:()=>m});let r=function(e){return e[e.Backwards=0]="Backwards",e[e.Forwards=1]="Forwards",e[e.Around=2]="Around",e}({}),o=function(e){return e[e.Up=0]="Up",e[e.Down=1]="Down",e[e.Static=2]="Static",e}({}),i=function(e){return e[e.Main=0]="Main",e[e.EditProfile=1]="EditProfile",e[e.Notifications=2]="Notifications",e[e.DataStorage=3]="DataStorage",e[e.Language=4]="Language",e[e.ActiveSessions=5]="ActiveSessions",e[e.General=6]="General",e[e.GeneralChatBackground=7]="GeneralChatBackground",e[e.GeneralChatBackgroundColor=8]="GeneralChatBackgroundColor",e[e.Privacy=9]="Privacy",e[e.PrivacyPhoneNumber=10]="PrivacyPhoneNumber",e[e.PrivacyAddByPhone=11]="PrivacyAddByPhone",e[e.PrivacyLastSeen=12]="PrivacyLastSeen",e[e.PrivacyProfilePhoto=13]="PrivacyProfilePhoto",e[e.PrivacyBio=14]="PrivacyBio",e[e.PrivacyBirthday=15]="PrivacyBirthday",e[e.PrivacyGifts=16]="PrivacyGifts",e[e.PrivacyPhoneCall=17]="PrivacyPhoneCall",e[e.PrivacyPhoneP2P=18]="PrivacyPhoneP2P",e[e.PrivacyForwarding=19]="PrivacyForwarding",e[e.PrivacyVoiceMessages=20]="PrivacyVoiceMessages",e[e.PrivacyMessages=21]="PrivacyMessages",e[e.PrivacyGroupChats=22]="PrivacyGroupChats",e[e.PrivacyPhoneNumberAllowedContacts=23]="PrivacyPhoneNumberAllowedContacts",e[e.PrivacyPhoneNumberDeniedContacts=24]="PrivacyPhoneNumberDeniedContacts",e[e.PrivacyLastSeenAllowedContacts=25]="PrivacyLastSeenAllowedContacts",e[e.PrivacyLastSeenDeniedContacts=26]="PrivacyLastSeenDeniedContacts",e[e.PrivacyProfilePhotoAllowedContacts=27]="PrivacyProfilePhotoAllowedContacts",e[e.PrivacyProfilePhotoDeniedContacts=28]="PrivacyProfilePhotoDeniedContacts",e[e.PrivacyBioAllowedContacts=29]="PrivacyBioAllowedContacts",e[e.PrivacyBioDeniedContacts=30]="PrivacyBioDeniedContacts",e[e.PrivacyBirthdayAllowedContacts=31]="PrivacyBirthdayAllowedContacts",e[e.PrivacyBirthdayDeniedContacts=32]="PrivacyBirthdayDeniedContacts",e[e.PrivacyGiftsAllowedContacts=33]="PrivacyGiftsAllowedContacts",e[e.PrivacyGiftsDeniedContacts=34]="PrivacyGiftsDeniedContacts",e[e.PrivacyPhoneCallAllowedContacts=35]="PrivacyPhoneCallAllowedContacts",e[e.PrivacyPhoneCallDeniedContacts=36]="PrivacyPhoneCallDeniedContacts",e[e.PrivacyPhoneP2PAllowedContacts=37]="PrivacyPhoneP2PAllowedContacts",e[e.PrivacyPhoneP2PDeniedContacts=38]="PrivacyPhoneP2PDeniedContacts",e[e.PrivacyForwardingAllowedContacts=39]="PrivacyForwardingAllowedContacts",e[e.PrivacyForwardingDeniedContacts=40]="PrivacyForwardingDeniedContacts",e[e.PrivacyVoiceMessagesAllowedContacts=41]="PrivacyVoiceMessagesAllowedContacts",e[e.PrivacyVoiceMessagesDeniedContacts=42]="PrivacyVoiceMessagesDeniedContacts",e[e.PrivacyGroupChatsAllowedContacts=43]="PrivacyGroupChatsAllowedContacts",e[e.PrivacyGroupChatsDeniedContacts=44]="PrivacyGroupChatsDeniedContacts",e[e.PrivacyBlockedUsers=45]="PrivacyBlockedUsers",e[e.PrivacyNoPaidMessages=46]="PrivacyNoPaidMessages",e[e.Performance=47]="Performance",e[e.Folders=48]="Folders",e[e.FoldersCreateFolder=49]="FoldersCreateFolder",e[e.FoldersEditFolder=50]="FoldersEditFolder",e[e.FoldersEditFolderFromChatList=51]="FoldersEditFolderFromChatList",e[e.FoldersEditFolderInvites=52]="FoldersEditFolderInvites",e[e.FoldersIncludedChats=53]="FoldersIncludedChats",e[e.FoldersIncludedChatsFromChatList=54]="FoldersIncludedChatsFromChatList",e[e.FoldersExcludedChats=55]="FoldersExcludedChats",e[e.FoldersExcludedChatsFromChatList=56]="FoldersExcludedChatsFromChatList",e[e.TwoFaDisabled=57]="TwoFaDisabled",e[e.TwoFaNewPassword=58]="TwoFaNewPassword",e[e.TwoFaNewPasswordConfirm=59]="TwoFaNewPasswordConfirm",e[e.TwoFaNewPasswordHint=60]="TwoFaNewPasswordHint",e[e.TwoFaNewPasswordEmail=61]="TwoFaNewPasswordEmail",e[e.TwoFaNewPasswordEmailCode=62]="TwoFaNewPasswordEmailCode",e[e.TwoFaEnabled=63]="TwoFaEnabled",e[e.TwoFaChangePasswordCurrent=64]="TwoFaChangePasswordCurrent",e[e.TwoFaChangePasswordNew=65]="TwoFaChangePasswordNew",e[e.TwoFaChangePasswordConfirm=66]="TwoFaChangePasswordConfirm",e[e.TwoFaChangePasswordHint=67]="TwoFaChangePasswordHint",e[e.TwoFaTurnOff=68]="TwoFaTurnOff",e[e.TwoFaRecoveryEmailCurrentPassword=69]="TwoFaRecoveryEmailCurrentPassword",e[e.TwoFaRecoveryEmail=70]="TwoFaRecoveryEmail",e[e.TwoFaRecoveryEmailCode=71]="TwoFaRecoveryEmailCode",e[e.TwoFaCongratulations=72]="TwoFaCongratulations",e[e.ActiveWebsites=73]="ActiveWebsites",e[e.PasscodeDisabled=74]="PasscodeDisabled",e[e.PasscodeNewPasscode=75]="PasscodeNewPasscode",e[e.PasscodeNewPasscodeConfirm=76]="PasscodeNewPasscodeConfirm",e[e.PasscodeEnabled=77]="PasscodeEnabled",e[e.PasscodeChangePasscodeCurrent=78]="PasscodeChangePasscodeCurrent",e[e.PasscodeChangePasscodeNew=79]="PasscodeChangePasscodeNew",e[e.PasscodeChangePasscodeConfirm=80]="PasscodeChangePasscodeConfirm",e[e.PasscodeTurnOff=81]="PasscodeTurnOff",e[e.PasscodeCongratulations=82]="PasscodeCongratulations",e[e.Experimental=83]="Experimental",e[e.Stickers=84]="Stickers",e[e.QuickReaction=85]="QuickReaction",e[e.CustomEmoji=86]="CustomEmoji",e[e.DoNotTranslate=87]="DoNotTranslate",e[e.FoldersShare=88]="FoldersShare",e}({}),s=function(e){return e[e.ChatList=0]="ChatList",e[e.AIKonwledge=1]="AIKonwledge",e[e.AITranslate=2]="AITranslate",e[e.GlobalSearch=3]="GlobalSearch",e[e.Settings=4]="Settings",e[e.Contacts=5]="Contacts",e[e.Archived=6]="Archived",e[e.NewChannelStep1=7]="NewChannelStep1",e[e.NewChannelStep2=8]="NewChannelStep2",e[e.NewGroupStep1=9]="NewGroupStep1",e[e.NewGroupStep2=10]="NewGroupStep2",e}({}),a=function(e){return e[e.ChatList=0]="ChatList",e[e.ChannelList=1]="ChannelList",e[e.BotApps=2]="BotApps",e[e.PublicPosts=3]="PublicPosts",e[e.Media=4]="Media",e[e.Links=5]="Links",e[e.Files=6]="Files",e[e.Music=7]="Music",e[e.Voice=8]="Voice",e[e.AI=9]="AI",e}({}),c=function(e){return e[e.ChatInfo=0]="ChatInfo",e[e.Management=1]="Management",e[e.Statistics=2]="Statistics",e[e.BoostStatistics=3]="BoostStatistics",e[e.MessageStatistics=4]="MessageStatistics",e[e.StoryStatistics=5]="StoryStatistics",e[e.StickerSearch=6]="StickerSearch",e[e.GifSearch=7]="GifSearch",e[e.PollResults=8]="PollResults",e[e.AddingMembers=9]="AddingMembers",e[e.CreateTopic=10]="CreateTopic",e[e.EditTopic=11]="EditTopic",e[e.MonetizationStatistics=12]="MonetizationStatistics",e[e.ChatAI=13]="ChatAI",e[e.UserPortrait=14]="UserPortrait",e[e.NewGroup=15]="NewGroup",e}({}),l=function(e){return e[e.Inline=0]="Inline",e[e.ScheduledInline=1]="ScheduledInline",e[e.SharedMedia=2]="SharedMedia",e[e.ProfileAvatar=3]="ProfileAvatar",e[e.SettingsAvatar=4]="SettingsAvatar",e[e.MiddleHeaderAvatar=5]="MiddleHeaderAvatar",e[e.Album=6]="Album",e[e.ScheduledAlbum=7]="ScheduledAlbum",e[e.SearchResult=8]="SearchResult",e[e.ChannelAvatar=9]="ChannelAvatar",e[e.SuggestedAvatar=10]="SuggestedAvatar",e[e.StarsTransaction=11]="StarsTransaction",e[e.PreviewMedia=12]="PreviewMedia",e[e.SponsoredMessage=13]="SponsoredMessage",e}({}),u=function(e){return e[e.StoryRibbon=0]="StoryRibbon",e[e.MiddleHeaderAvatar=1]="MiddleHeaderAvatar",e[e.ChatList=2]="ChatList",e[e.SearchResult=3]="SearchResult",e}({}),d=function(e){return e[e.Inline=0]="Inline",e[e.SharedMedia=1]="SharedMedia",e[e.Search=2]="Search",e[e.OneTimeModal=3]="OneTimeModal",e}({}),f=function(e){return e[e.Idle=0]="Idle",e[e.InProgress=1]="InProgress",e[e.Complete=2]="Complete",e[e.Error=3]="Error",e}({}),h=function(e){return e[e.Idle=0]="Idle",e[e.InProgress=1]="InProgress",e[e.Complete=2]="Complete",e[e.Error=3]="Error",e}({}),p=function(e){return e[e.Idle=0]="Idle",e[e.InProgress=1]="InProgress",e[e.Complete=2]="Complete",e[e.Error=3]="Error",e}({}),g=function(e){return e[e.Closed=0]="Closed",e[e.InProgress=1]="InProgress",e[e.Loading=2]="Loading",e}({}),m=function(e){return e[e.Profile=0]="Profile",e[e.SharedMedia=1]="SharedMedia",e[e.MemberList=2]="MemberList",e[e.GiftList=3]="GiftList",e[e.StoryList=4]="StoryList",e[e.SavedDialogs=5]="SavedDialogs",e}({}),y=function(e){return e[e.Checkout=0]="Checkout",e[e.SavedPayments=1]="SavedPayments",e[e.ConfirmPassword=2]="ConfirmPassword",e[e.PaymentInfo=3]="PaymentInfo",e[e.ShippingInfo=4]="ShippingInfo",e[e.Shipping=5]="Shipping",e[e.ConfirmPayment=6]="ConfirmPayment",e}({});const b="UPLOADING_WALLPAPER_SLUG";let v=function(e){return e[e.Initial=0]="Initial",e[e.ChatPrivacyType=1]="ChatPrivacyType",e[e.Discussion=2]="Discussion",e[e.ChannelSubscribers=3]="ChannelSubscribers",e[e.GroupType=4]="GroupType",e[e.GroupPermissions=5]="GroupPermissions",e[e.GroupRemovedUsers=6]="GroupRemovedUsers",e[e.ChannelRemovedUsers=7]="ChannelRemovedUsers",e[e.GroupUserPermissionsCreate=8]="GroupUserPermissionsCreate",e[e.GroupUserPermissions=9]="GroupUserPermissions",e[e.ChatAdministrators=10]="ChatAdministrators",e[e.GroupRecentActions=11]="GroupRecentActions",e[e.ChatAdminRights=12]="ChatAdminRights",e[e.ChatNewAdminRights=13]="ChatNewAdminRights",e[e.GroupMembers=14]="GroupMembers",e[e.GroupAddAdmins=15]="GroupAddAdmins",e[e.Invites=16]="Invites",e[e.EditInvite=17]="EditInvite",e[e.Reactions=18]="Reactions",e[e.InviteInfo=19]="InviteInfo",e[e.JoinRequests=20]="JoinRequests",e[e.NewDiscussionGroup=21]="NewDiscussionGroup",e}({})},90603:(e,t,n)=>{"use strict";n.d(t,{Mt:()=>f,e$:()=>u,GR:()=>d});const r=n.p+"blue.7addb55a171bbda244ac.svg",o=n.p+"green.19008e11c98b08550285.svg";var i=n(38027);const s=n.p+"red.1ab26ec752237fc45355.svg",a=n.p+"rose.6dd2db47d5e1fb9bdb9d.svg",c=n.p+"violet.7c7f825ebb51cf3084e3.svg",l={7322096:[r,"blue"],16766590:[n.p+"yellow.40f6b4865f20f3e6a1ab.svg","yellow"],13338331:[c,"violet"],9367192:[o,"green"],16749490:[a,"rose"],16478047:[s,"red"]};function u(){return Object.keys(l).map(e=>parseInt(e,10))}function d(e){return e&&l[e][0]||i}function f(e){return`--color-topic-${e&&l[e][1]||"grey"}`}},90709:(e,t,n)=>{"use strict";n.d(t,{Ny:()=>b,G:()=>u,wT:()=>P,Wi:()=>a.W,rt:()=>s.rt,ZV:()=>s.ZV,eh:()=>s.eh,A3:()=>h,pU:()=>l,Xj:()=>v.Xj,Sb:()=>i.Sb,Q_:()=>o.Q_,ES:()=>i.ES,AB:()=>s.AB,Fi:()=>v.Fi,Gh:()=>r.Gh,IC:()=>o.IC,l1:()=>o.l1,__:()=>o.__,cP:()=>o.cP,L7:()=>o.L7,Wm:()=>s.Wm,Js:()=>o.Js,Gg:()=>o.Gg,SM:()=>M,Em:()=>O,nr:()=>o.nr,mr:()=>s.mr,ZD:()=>i.ZD,A5:()=>o.A5,zc:()=>o.zc,zb:()=>s.zb,ih:()=>s.ih,sT:()=>o.sT,ub:()=>o.ub,$r:()=>s.$r,cG:()=>o.cG,Kl:()=>r.Kl,si:()=>s.si,sd:()=>s.sd,Cz:()=>s.Cz,VO:()=>s.VO,VD:()=>s.VD,LK:()=>s.LK,wp:()=>s.wp,Qm:()=>s.Qm,r_:()=>s.r_,lH:()=>s.lH,aN:()=>i.aN,zC:()=>s.zC,GZ:()=>i.GZ,NO:()=>s.NO,y2:()=>s.y2,yt:()=>i.yt,fB:()=>s.fB,sj:()=>i.sj,qG:()=>s.qG,yl:()=>s.yl,cs:()=>s.cs,cU:()=>c,lk:()=>s.lk,gU:()=>o.gU,Jw:()=>i.Jw,rK:()=>i.rK,wb:()=>i.wb,ni:()=>i.ni,fP:()=>s.fP,P5:()=>i.P5,zX:()=>s.zX,gB:()=>s.gB,T_:()=>s.T_,i7:()=>o.i7,CO:()=>o.CO,PX:()=>o.PX,Zg:()=>o.Zg,kR:()=>r.kR,Xn:()=>s.Xn,xi:()=>s.xi,rI:()=>s.rI,e7:()=>o.e7,mU:()=>s.mU,Jj:()=>d,_I:()=>i._I,aL:()=>x.aL,Mw:()=>s.Mw,$_:()=>S,EN:()=>w,EQ:()=>i.EQ,Do:()=>i.Do,u0:()=>r.u0,Yg:()=>r.Yg,uC:()=>g,CD:()=>r.CD,NZ:()=>s.NZ,sC:()=>s.sC,Ct:()=>s.Ct,Pg:()=>s.Pg,rp:()=>v.rp,cy:()=>s.cy,y3:()=>s.y3,rj:()=>s.rj,eY:()=>s.eY,rU:()=>s.rU,FE:()=>i.FE,KG:()=>s.KG,mR:()=>s.mR,XR:()=>i.XR,G5:()=>i.G5,_P:()=>i._P,Qe:()=>o.Qe,zP:()=>i.zP,SJ:()=>o.SJ,TJ:()=>o.TJ,yn:()=>o.yn,WX:()=>o.WX,YE:()=>o.YE,Ve:()=>o.Ve,gA:()=>o.gA,Vs:()=>o.Vs,kE:()=>o.kE,Rl:()=>o.Rl,VN:()=>o.VN,PL:()=>r.PL,Ml:()=>s.Ml,hr:()=>s.hr,r$:()=>i.r$,Ak:()=>i.Ak,vz:()=>i.vz,X_:()=>i.X_,iZ:()=>s.iZ,Ax:()=>s.Ax,HN:()=>i.HN,Nb:()=>i.Nb,ZR:()=>i.ZR,Ie:()=>i.Ie,eu:()=>m,Tv:()=>i.Tv,a0:()=>f,u7:()=>i.u7,DX:()=>v.DX,NK:()=>i.NK,tv:()=>r.tv,PF:()=>r.PF,Sq:()=>o.Sq,cR:()=>i.cR,Ld:()=>i.Ld,vp:()=>i.vp,fu:()=>p,UB:()=>r.UB,v$:()=>i.v$,m4:()=>x.m4,AK:()=>y});var r=n(79089),o=n(62214),i=n(86525),s=n(77312),a=n(24896);function c(e){return e.isOutgoing?e.reactions?.recentReactions?.[0]:void 0}function l(e,t){const{currentUserId:n}=e;return t?.recentReactions?.some(({isUnread:e,isOwn:t,peerId:r})=>e&&!t&&n!==r)}function u(e){return!e.results.some(({count:e,localAmount:t})=>e||t)}function d(e){switch(e.type){case"emoji":return`emoji-${e.emoticon}`;case"custom":return`document-${e.documentId}`;case"paid":return"paid";default:return`unsupported-${e.emoticon||e.documentId}`}}function f(e,t){return e===t||!(!e||!t)&&d(e)===d(t)}function h(e,t){return"all"===t.type?"emoji"===e.type||t.areCustomAllowed:"some"===t.type&&t.allowed.some(t=>f(t,e))}function p(e,t){return e.slice().sort((e,n)=>{const r=e?"reaction"in e?e.reaction:e:void 0,o=n?"reaction"in n?n.reaction:n:void 0;if("paid"===r?.type)return-1;if("paid"===o?.type)return 1;const i=t?.findIndex(e=>f(e,r))||0,s=t?.findIndex(e=>f(e,o))||0;return(i>-1?i:1/0)-(s>-1?s:1/0)})}function g(e){return e.reactions?.results?.filter(e=>m(e)).sort((e,t)=>e.chosenOrder-t.chosenOrder).map(e=>e.reaction)||[]}function m(e){return void 0!==e.chosenOrder}function y(e,t){const n=e.map(e=>m(e)?{...e,chosenOrder:void 0,count:e.count-1}:e).filter(({count:e})=>e>0);return t.forEach((e,t)=>{const r=n.findIndex(t=>f(t.reaction,e));r>-1?n[r]={...n[r],chosenOrder:t,count:n[r].count+1}:n.push({reaction:e,chosenOrder:t,count:1})}),n}function b(e,t,n,r){const o=[];return e.some(e=>"paid"===e.reaction.type)?(e.forEach(e=>{"paid"!==e.reaction.type?o.push(e):o.push({...e,localAmount:(e.localAmount||0)+t,chosenOrder:-1,localIsPrivate:void 0!==n?n:e.localIsPrivate,localPeerId:r||e.localPeerId,localPreviousChosenOrder:e.chosenOrder})}),o):[{reaction:{type:"paid"},count:0,chosenOrder:-1,localAmount:t,localIsPrivate:n,localPeerId:r},...e]}var v=n(20179);const _=480;function w(e,t="preview",n){if(Boolean(e.content.video)){if(n&&!e.content.altVideos)return;const r=n?e.content.altVideos.reduce((e,t)=>Math.abs((t.width||0)-_)<Math.abs((e.width||0)-_)?t:e):e.content.video;return(0,s.sC)(r,t)}return(0,s.rI)(e.content.photo,t)}function S(e,t){return`story${e}-${t}`}var x=n(78396),I=n(31481),A=n(9716),C=n(87894),k=n(43336),E=n(4350),T=n(13439);function P(e,{visibility:t,isUnspecified:n,allowedIds:r,blockedIds:o,shouldAllowPremium:i,botsPrivacy:s}){const{users:{byId:a},chats:{byId:c}}=e,[l,u]=(0,C.jB)(r,A.L8),[d,f]=(0,C.jB)(o,A.L8);return{visibility:t,isUnspecified:n,allowedUsers:l.map(e=>a[e]).filter(Boolean),allowedChats:u.map(e=>c[e]).filter(Boolean),blockedUsers:d.map(e=>a[e]).filter(Boolean),blockedChats:f.map(e=>c[e]).filter(Boolean),shouldAllowPremium:i,botsPrivacy:s}}function M(){const e=(0,T.mS)(),t=e.appConfig?.limits?.moreAccounts||I.dR$.moreAccounts,n=(0,E.zk)(),r=Object.values(n).filter(e=>e.isPremium).length,o=t[0]+r;return(0,k.qE)(o,t[0],t[1])}function O(){return Object.values((0,E.zk)()).filter(e=>!e.isTest).length}},90754:(e,t,n)=>{"use strict";n.d(t,{aF:()=>ge,Kq:()=>g,Ay:()=>me});var r=n(64467),o=n(89379),i=n(5544),s=n(82284),a=n(46942),c=n.n(a),l=n(66588),u=n(8719),d=n(96540),f=n(53986),h=["children"],p=d.createContext({});function g(e){var t=e.children,n=(0,f.A)(e,h);return d.createElement(p.Provider,{value:n},t)}var m=n(23029),y=n(92901),b=n(85501),v=n(29426);const _=function(e){(0,b.A)(n,e);var t=(0,v.A)(n);function n(){return(0,m.A)(this,n),t.apply(this,arguments)}return(0,y.A)(n,[{key:"render",value:function(){return this.props.children}}]),n}(d.Component);var w=n(81470),S=n(1233),x=n(26956),I="none",A="appear",C="enter",k="leave",E="none",T="prepare",P="start",M="active",O="end",D="prepared",R=n(20998);function N(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit".concat(e)]="webkit".concat(t),n["Moz".concat(e)]="moz".concat(t),n["ms".concat(e)]="MS".concat(t),n["O".concat(e)]="o".concat(t.toLowerCase()),n}var F,L,B,$=(F=(0,R.A)(),L="undefined"!=typeof window?window:{},B={animationend:N("Animation","AnimationEnd"),transitionend:N("Transition","TransitionEnd")},F&&("AnimationEvent"in L||delete B.animationend.animation,"TransitionEvent"in L||delete B.transitionend.transition),B),j={};if((0,R.A)()){var U=document.createElement("div");j=U.style}var z={};function V(e){if(z[e])return z[e];var t=$[e];if(t)for(var n=Object.keys(t),r=n.length,o=0;o<r;o+=1){var i=n[o];if(Object.prototype.hasOwnProperty.call(t,i)&&i in j)return z[e]=t[i],z[e]}return""}var q=V("animationend"),H=V("transitionend"),G=!(!q||!H),W=q||"animationend",K=H||"transitionend";function Y(e,t){return e?"object"===(0,s.A)(e)?e[t.replace(/-\w/g,function(e){return e[1].toUpperCase()})]:"".concat(e,"-").concat(t):null}const J=(0,R.A)()?d.useLayoutEffect:d.useEffect;var X=n(25371),Z=[T,P,M,O],Q=[T,D],ee=!1;function te(e){return e===M||e===O}function ne(e,t,n,s){var a,c,l,u,f=s.motionEnter,h=void 0===f||f,p=s.motionAppear,g=void 0===p||p,m=s.motionLeave,y=void 0===m||m,b=s.motionDeadline,v=s.motionLeaveImmediately,_=s.onAppearPrepare,R=s.onEnterPrepare,N=s.onLeavePrepare,F=s.onAppearStart,L=s.onEnterStart,B=s.onLeaveStart,$=s.onAppearActive,j=s.onEnterActive,U=s.onLeaveActive,z=s.onAppearEnd,V=s.onEnterEnd,q=s.onLeaveEnd,H=s.onVisibleChanged,G=(0,S.A)(),Y=(0,i.A)(G,2),ne=Y[0],re=Y[1],oe=(a=I,c=d.useReducer(function(e){return e+1},0),l=(0,i.A)(c,2)[1],u=d.useRef(a),[(0,x.A)(function(){return u.current}),(0,x.A)(function(e){u.current="function"==typeof e?e(u.current):e,l()})]),ie=(0,i.A)(oe,2),se=ie[0],ae=ie[1],ce=(0,S.A)(null),le=(0,i.A)(ce,2),ue=le[0],de=le[1],fe=se(),he=(0,d.useRef)(!1),pe=(0,d.useRef)(null);function ge(){return n()}var me=(0,d.useRef)(!1);function ye(){ae(I),de(null,!0)}var be=(0,w._q)(function(e){var t=se();if(t!==I){var n=ge();if(!e||e.deadline||e.target===n){var r,o=me.current;t===A&&o?r=null==z?void 0:z(n,e):t===C&&o?r=null==V?void 0:V(n,e):t===k&&o&&(r=null==q?void 0:q(n,e)),o&&!1!==r&&ye()}}}),ve=function(e){var t=(0,d.useRef)();function n(t){t&&(t.removeEventListener(K,e),t.removeEventListener(W,e))}return d.useEffect(function(){return function(){n(t.current)}},[]),[function(r){t.current&&t.current!==r&&n(t.current),r&&r!==t.current&&(r.addEventListener(K,e),r.addEventListener(W,e),t.current=r)},n]}(be),_e=(0,i.A)(ve,1)[0],we=function(e){switch(e){case A:return(0,r.A)((0,r.A)((0,r.A)({},T,_),P,F),M,$);case C:return(0,r.A)((0,r.A)((0,r.A)({},T,R),P,L),M,j);case k:return(0,r.A)((0,r.A)((0,r.A)({},T,N),P,B),M,U);default:return{}}},Se=d.useMemo(function(){return we(fe)},[fe]),xe=function(e,t,n){var r=(0,S.A)(E),o=(0,i.A)(r,2),s=o[0],a=o[1],c=function(){var e=d.useRef(null);function t(){X.A.cancel(e.current)}return d.useEffect(function(){return function(){t()}},[]),[function n(r){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;t();var i=(0,X.A)(function(){o<=1?r({isCanceled:function(){return i!==e.current}}):n(r,o-1)});e.current=i},t]}(),l=(0,i.A)(c,2),u=l[0],f=l[1],h=t?Q:Z;return J(function(){if(s!==E&&s!==O){var e=h.indexOf(s),t=h[e+1],r=n(s);r===ee?a(t,!0):t&&u(function(e){function n(){e.isCanceled()||a(t,!0)}!0===r?n():Promise.resolve(r).then(n)})}},[e,s]),d.useEffect(function(){return function(){f()}},[]),[function(){a(T,!0)},s]}(fe,!e,function(e){if(e===T){var t=Se[T];return t?t(ge()):ee}var n;return Ce in Se&&de((null===(n=Se[Ce])||void 0===n?void 0:n.call(Se,ge(),null))||null),Ce===M&&fe!==I&&(_e(ge()),b>0&&(clearTimeout(pe.current),pe.current=setTimeout(function(){be({deadline:!0})},b))),Ce===D&&ye(),!0}),Ie=(0,i.A)(xe,2),Ae=Ie[0],Ce=Ie[1],ke=te(Ce);me.current=ke;var Ee=(0,d.useRef)(null);J(function(){if(!he.current||Ee.current!==t){re(t);var n,r=he.current;he.current=!0,!r&&t&&g&&(n=A),r&&t&&h&&(n=C),(r&&!t&&y||!r&&v&&!t&&y)&&(n=k);var o=we(n);n&&(e||o[T])?(ae(n),Ae()):ae(I),Ee.current=t}},[t]),(0,d.useEffect)(function(){(fe===A&&!g||fe===C&&!h||fe===k&&!y)&&ae(I)},[g,h,y]),(0,d.useEffect)(function(){return function(){he.current=!1,clearTimeout(pe.current)}},[]);var Te=d.useRef(!1);(0,d.useEffect)(function(){ne&&(Te.current=!0),void 0!==ne&&fe===I&&((Te.current||ne)&&(null==H||H(ne)),Te.current=!0)},[ne,fe]);var Pe=ue;return Se[T]&&Ce===P&&(Pe=(0,o.A)({transition:"none"},Pe)),[fe,Ce,Pe,null!=ne?ne:t]}const re=function(e){var t=e;"object"===(0,s.A)(e)&&(t=e.transitionSupport);var n=d.forwardRef(function(e,n){var s=e.visible,a=void 0===s||s,f=e.removeOnLeave,h=void 0===f||f,g=e.forceRender,m=e.children,y=e.motionName,b=e.leavedClassName,v=e.eventProps,w=function(e,n){return!(!e.motionName||!t||!1===n)}(e,d.useContext(p).motion),S=(0,d.useRef)(),x=(0,d.useRef)(),A=ne(w,a,function(){try{return S.current instanceof HTMLElement?S.current:(0,l.Ay)(x.current)}catch(e){return null}},e),C=(0,i.A)(A,4),k=C[0],E=C[1],M=C[2],O=C[3],D=d.useRef(O);O&&(D.current=!0);var R,N=d.useCallback(function(e){S.current=e,(0,u.Xf)(n,e)},[n]),F=(0,o.A)((0,o.A)({},v),{},{visible:a});if(m)if(k===I)R=O?m((0,o.A)({},F),N):!h&&D.current&&b?m((0,o.A)((0,o.A)({},F),{},{className:b}),N):g||!h&&!b?m((0,o.A)((0,o.A)({},F),{},{style:{display:"none"}}),N):null;else{var L;E===T?L="prepare":te(E)?L="active":E===P&&(L="start");var B=Y(y,"".concat(k,"-").concat(L));R=m((0,o.A)((0,o.A)({},F),{},{className:c()(Y(y,k),(0,r.A)((0,r.A)({},B,B&&L),y,"string"==typeof y)),style:M}),N)}else R=null;return d.isValidElement(R)&&(0,u.f3)(R)&&((0,u.A9)(R)||(R=d.cloneElement(R,{ref:N}))),d.createElement(_,{ref:x},R)});return n.displayName="CSSMotion",n}(G);var oe=n(58168),ie=n(9417),se="add",ae="keep",ce="remove",le="removed";function ue(e){var t;return t=e&&"object"===(0,s.A)(e)&&"key"in e?e:{key:e},(0,o.A)((0,o.A)({},t),{},{key:String(t.key)})}function de(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).map(ue)}var fe=["component","children","onVisibleChanged","onAllRemoved"],he=["status"],pe=["eventProps","visible","children","motionName","motionAppear","motionEnter","motionLeave","motionLeaveImmediately","motionDeadline","removeOnLeave","leavedClassName","onAppearPrepare","onAppearStart","onAppearActive","onAppearEnd","onEnterStart","onEnterActive","onEnterEnd","onLeaveStart","onLeaveActive","onLeaveEnd"];const ge=function(){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:re,t=function(t){(0,b.A)(i,t);var n=(0,v.A)(i);function i(){var e;(0,m.A)(this,i);for(var t=arguments.length,s=new Array(t),a=0;a<t;a++)s[a]=arguments[a];return e=n.call.apply(n,[this].concat(s)),(0,r.A)((0,ie.A)(e),"state",{keyEntities:[]}),(0,r.A)((0,ie.A)(e),"removeKey",function(t){e.setState(function(e){return{keyEntities:e.keyEntities.map(function(e){return e.key!==t?e:(0,o.A)((0,o.A)({},e),{},{status:le})})}},function(){0===e.state.keyEntities.filter(function(e){return e.status!==le}).length&&e.props.onAllRemoved&&e.props.onAllRemoved()})}),e}return(0,y.A)(i,[{key:"render",value:function(){var t=this,n=this.state.keyEntities,r=this.props,i=r.component,s=r.children,a=r.onVisibleChanged,c=(r.onAllRemoved,(0,f.A)(r,fe)),l=i||d.Fragment,u={};return pe.forEach(function(e){u[e]=c[e],delete c[e]}),delete c.keys,d.createElement(l,c,n.map(function(n,r){var i=n.status,c=(0,f.A)(n,he),l=i===se||i===ae;return d.createElement(e,(0,oe.A)({},u,{key:c.key,visible:l,eventProps:c,onVisibleChanged:function(e){null==a||a(e,{key:c.key}),e||t.removeKey(c.key)}}),function(e,t){return s((0,o.A)((0,o.A)({},e),{},{index:r}),t)})}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.keys,r=t.keyEntities,i=de(n),s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=[],r=0,i=t.length,s=de(e),a=de(t);s.forEach(function(e){for(var t=!1,s=r;s<i;s+=1){var c=a[s];if(c.key===e.key){r<s&&(n=n.concat(a.slice(r,s).map(function(e){return(0,o.A)((0,o.A)({},e),{},{status:se})})),r=s),n.push((0,o.A)((0,o.A)({},c),{},{status:ae})),r+=1,t=!0;break}}t||n.push((0,o.A)((0,o.A)({},e),{},{status:ce}))}),r<i&&(n=n.concat(a.slice(r).map(function(e){return(0,o.A)((0,o.A)({},e),{},{status:se})})));var c={};return n.forEach(function(e){var t=e.key;c[t]=(c[t]||0)+1}),Object.keys(c).filter(function(e){return c[e]>1}).forEach(function(e){(n=n.filter(function(t){var n=t.key,r=t.status;return n!==e||r!==ce})).forEach(function(t){t.key===e&&(t.status=ae)})}),n}(r,i);return{keyEntities:s.filter(function(e){var t=r.find(function(t){var n=t.key;return e.key===n});return!t||t.status!==le||e.status!==ce})}}}]),i}(d.Component);return(0,r.A)(t,"defaultProps",{component:"div"}),t}(G),me=re},91525:(e,t,n)=>{"use strict";n.d(t,{ON:()=>l,QC:()=>a,fE:()=>c,rK:()=>s,zV:()=>i});const r=1073741824,o=1048576;function i(e){return e>r/2?`${(e/r).toFixed(1)} GB`:e>o/2?`${(e/o).toFixed(1)} MB`:`${(e/1024).toFixed(1)} KB`}function s(e){const{fileName:t,mimeType:n}=e;return a(t,n)}function a(e,t){return e&&-1!==e.indexOf(".")?e.split(".").pop():t.split("/").pop()}function c(e){switch(e){case"apk":case"xls":case"xlsx":case"ods":return"green";case"zip":case"rar":case"7z":case"tar":case"gz":case"bz2":case"liz":case"lz4":case"lz5":case"xz":case"zst":case"wim":case"ppt":case"pptx":case"odp":return"orange";case"pdf":case"xps":return"red";default:return"default"}}function l(e){return Boolean(e.previewBlobUrl||e.thumbnail)}},91800:(e,t,n)=>{"use strict";function r(e){const t=parseInt(getComputedStyle(e).lineHeight,10);return{totalLines:e.scrollHeight/t,lineHeight:t}}n.d(t,{A:()=>r})},92096:(e,t,n)=>{var r;e=n.nmd(e);var o=function(e){"use strict";var t=1e7,n=9007199254740992,r=f(n),i="0123456789abcdefghijklmnopqrstuvwxyz",s="function"==typeof BigInt;function a(e,t,n,r){return void 0===e?a[0]:void 0===t||10===+t&&!n?Y(e):q(e,t,n,r)}function c(e,t){this.value=e,this.sign=t,this.isSmall=!1}function l(e){this.value=e,this.sign=e<0,this.isSmall=!0}function u(e){this.value=e}function d(e){return-n<e&&e<n}function f(e){return e<1e7?[e]:e<1e14?[e%1e7,Math.floor(e/1e7)]:[e%1e7,Math.floor(e/1e7)%1e7,Math.floor(e/1e14)]}function h(e){p(e);var n=e.length;if(n<4&&P(e,r)<0)switch(n){case 0:return 0;case 1:return e[0];case 2:return e[0]+e[1]*t;default:return e[0]+(e[1]+e[2]*t)*t}return e}function p(e){for(var t=e.length;0===e[--t];);e.length=t+1}function g(e){for(var t=new Array(e),n=-1;++n<e;)t[n]=0;return t}function m(e){return e>0?Math.floor(e):Math.ceil(e)}function y(e,n){var r,o,i=e.length,s=n.length,a=new Array(i),c=0,l=t;for(o=0;o<s;o++)c=(r=e[o]+n[o]+c)>=l?1:0,a[o]=r-c*l;for(;o<i;)c=(r=e[o]+c)===l?1:0,a[o++]=r-c*l;return c>0&&a.push(c),a}function b(e,t){return e.length>=t.length?y(e,t):y(t,e)}function v(e,n){var r,o,i=e.length,s=new Array(i),a=t;for(o=0;o<i;o++)r=e[o]-a+n,n=Math.floor(r/a),s[o]=r-n*a,n+=1;for(;n>0;)s[o++]=n%a,n=Math.floor(n/a);return s}function _(e,n){var r,o,i=e.length,s=n.length,a=new Array(i),c=0,l=t;for(r=0;r<s;r++)(o=e[r]-c-n[r])<0?(o+=l,c=1):c=0,a[r]=o;for(r=s;r<i;r++){if(!((o=e[r]-c)<0)){a[r++]=o;break}o+=l,a[r]=o}for(;r<i;r++)a[r]=e[r];return p(a),a}function w(e,n,r){var o,i,s=e.length,a=new Array(s),u=-n,d=t;for(o=0;o<s;o++)i=e[o]+u,u=Math.floor(i/d),i%=d,a[o]=i<0?i+d:i;return"number"==typeof(a=h(a))?(r&&(a=-a),new l(a)):new c(a,r)}function S(e,n){var r,o,i,s,a=e.length,c=n.length,l=g(a+c),u=t;for(i=0;i<a;++i){s=e[i];for(var d=0;d<c;++d)r=s*n[d]+l[i+d],o=Math.floor(r/u),l[i+d]=r-o*u,l[i+d+1]+=o}return p(l),l}function x(e,n){var r,o,i=e.length,s=new Array(i),a=t,c=0;for(o=0;o<i;o++)r=e[o]*n+c,c=Math.floor(r/a),s[o]=r-c*a;for(;c>0;)s[o++]=c%a,c=Math.floor(c/a);return s}function I(e,t){for(var n=[];t-- >0;)n.push(0);return n.concat(e)}function A(e,t){var n=Math.max(e.length,t.length);if(n<=30)return S(e,t);n=Math.ceil(n/2);var r=e.slice(n),o=e.slice(0,n),i=t.slice(n),s=t.slice(0,n),a=A(o,s),c=A(r,i),l=A(b(o,r),b(s,i)),u=b(b(a,I(_(_(l,a),c),n)),I(c,2*n));return p(u),u}function C(e,n,r){return new c(e<t?x(n,e):S(n,f(e)),r)}function k(e){var n,r,o,i,s=e.length,a=g(s+s),c=t;for(o=0;o<s;o++){r=0-(i=e[o])*i;for(var l=o;l<s;l++)n=i*e[l]*2+a[o+l]+r,r=Math.floor(n/c),a[o+l]=n-r*c;a[o+s]=r}return p(a),a}function E(e,n){var r,o,i,s,a=e.length,c=g(a),l=t;for(i=0,r=a-1;r>=0;--r)i=(s=i*l+e[r])-(o=m(s/n))*n,c[r]=0|o;return[c,0|i]}function T(e,n){var r,o=Y(n);if(s)return[new u(e.value/o.value),new u(e.value%o.value)];var i,d=e.value,y=o.value;if(0===y)throw new Error("Cannot divide by zero");if(e.isSmall)return o.isSmall?[new l(m(d/y)),new l(d%y)]:[a[0],e];if(o.isSmall){if(1===y)return[e,a[0]];if(-1==y)return[e.negate(),a[0]];var b=Math.abs(y);if(b<t){i=h((r=E(d,b))[0]);var v=r[1];return e.sign&&(v=-v),"number"==typeof i?(e.sign!==o.sign&&(i=-i),[new l(i),new l(v)]):[new c(i,e.sign!==o.sign),new l(v)]}y=f(b)}var w=P(d,y);if(-1===w)return[a[0],e];if(0===w)return[a[e.sign===o.sign?1:-1],a[0]];r=d.length+y.length<=200?function(e,n){var r,o,i,s,a,c,l,u=e.length,d=n.length,f=t,p=g(n.length),m=n[d-1],y=Math.ceil(f/(2*m)),b=x(e,y),v=x(n,y);for(b.length<=u&&b.push(0),v.push(0),m=v[d-1],o=u-d;o>=0;o--){for(r=f-1,b[o+d]!==m&&(r=Math.floor((b[o+d]*f+b[o+d-1])/m)),i=0,s=0,c=v.length,a=0;a<c;a++)i+=r*v[a],l=Math.floor(i/f),s+=b[o+a]-(i-l*f),i=l,s<0?(b[o+a]=s+f,s=-1):(b[o+a]=s,s=0);for(;0!==s;){for(r-=1,i=0,a=0;a<c;a++)(i+=b[o+a]-f+v[a])<0?(b[o+a]=i+f,i=0):(b[o+a]=i,i=1);s+=i}p[o]=r}return b=E(b,y)[0],[h(p),h(b)]}(d,y):function(e,n){for(var r,o,i,s,a,c=e.length,l=n.length,u=[],d=[],f=t;c;)if(d.unshift(e[--c]),p(d),P(d,n)<0)u.push(0);else{i=d[(o=d.length)-1]*f+d[o-2],s=n[l-1]*f+n[l-2],o>l&&(i=(i+1)*f),r=Math.ceil(i/s);do{if(P(a=x(n,r),d)<=0)break;r--}while(r);u.push(r),d=_(d,a)}return u.reverse(),[h(u),h(d)]}(d,y),i=r[0];var S=e.sign!==o.sign,I=r[1],A=e.sign;return"number"==typeof i?(S&&(i=-i),i=new l(i)):i=new c(i,S),"number"==typeof I?(A&&(I=-I),I=new l(I)):I=new c(I,A),[i,I]}function P(e,t){if(e.length!==t.length)return e.length>t.length?1:-1;for(var n=e.length-1;n>=0;n--)if(e[n]!==t[n])return e[n]>t[n]?1:-1;return 0}function M(e){var t=e.abs();return!t.isUnit()&&(!!(t.equals(2)||t.equals(3)||t.equals(5))||!(t.isEven()||t.isDivisibleBy(3)||t.isDivisibleBy(5))&&(!!t.lesser(49)||void 0))}function O(e,t){for(var n,r,i,s=e.prev(),a=s,c=0;a.isEven();)a=a.divide(2),c++;e:for(r=0;r<t.length;r++)if(!e.lesser(t[r])&&!(i=o(t[r]).modPow(a,e)).isUnit()&&!i.equals(s)){for(n=c-1;0!=n;n--){if((i=i.square().mod(e)).isUnit())return!1;if(i.equals(s))continue e}return!1}return!0}c.prototype=Object.create(a.prototype),l.prototype=Object.create(a.prototype),u.prototype=Object.create(a.prototype),c.prototype.add=function(e){var t=Y(e);if(this.sign!==t.sign)return this.subtract(t.negate());var n=this.value,r=t.value;return t.isSmall?new c(v(n,Math.abs(r)),this.sign):new c(b(n,r),this.sign)},c.prototype.plus=c.prototype.add,l.prototype.add=function(e){var t=Y(e),n=this.value;if(n<0!==t.sign)return this.subtract(t.negate());var r=t.value;if(t.isSmall){if(d(n+r))return new l(n+r);r=f(Math.abs(r))}return new c(v(r,Math.abs(n)),n<0)},l.prototype.plus=l.prototype.add,u.prototype.add=function(e){return new u(this.value+Y(e).value)},u.prototype.plus=u.prototype.add,c.prototype.subtract=function(e){var t=Y(e);if(this.sign!==t.sign)return this.add(t.negate());var n=this.value,r=t.value;return t.isSmall?w(n,Math.abs(r),this.sign):function(e,t,n){var r;return P(e,t)>=0?r=_(e,t):(r=_(t,e),n=!n),"number"==typeof(r=h(r))?(n&&(r=-r),new l(r)):new c(r,n)}(n,r,this.sign)},c.prototype.minus=c.prototype.subtract,l.prototype.subtract=function(e){var t=Y(e),n=this.value;if(n<0!==t.sign)return this.add(t.negate());var r=t.value;return t.isSmall?new l(n-r):w(r,Math.abs(n),n>=0)},l.prototype.minus=l.prototype.subtract,u.prototype.subtract=function(e){return new u(this.value-Y(e).value)},u.prototype.minus=u.prototype.subtract,c.prototype.negate=function(){return new c(this.value,!this.sign)},l.prototype.negate=function(){var e=this.sign,t=new l(-this.value);return t.sign=!e,t},u.prototype.negate=function(){return new u(-this.value)},c.prototype.abs=function(){return new c(this.value,!1)},l.prototype.abs=function(){return new l(Math.abs(this.value))},u.prototype.abs=function(){return new u(this.value>=0?this.value:-this.value)},c.prototype.multiply=function(e){var n,r,o,i=Y(e),s=this.value,l=i.value,u=this.sign!==i.sign;if(i.isSmall){if(0===l)return a[0];if(1===l)return this;if(-1===l)return this.negate();if((n=Math.abs(l))<t)return new c(x(s,n),u);l=f(n)}return new c(-.012*(r=s.length)-.012*(o=l.length)+15e-6*r*o>0?A(s,l):S(s,l),u)},c.prototype.times=c.prototype.multiply,l.prototype._multiplyBySmall=function(e){return d(e.value*this.value)?new l(e.value*this.value):C(Math.abs(e.value),f(Math.abs(this.value)),this.sign!==e.sign)},c.prototype._multiplyBySmall=function(e){return 0===e.value?a[0]:1===e.value?this:-1===e.value?this.negate():C(Math.abs(e.value),this.value,this.sign!==e.sign)},l.prototype.multiply=function(e){return Y(e)._multiplyBySmall(this)},l.prototype.times=l.prototype.multiply,u.prototype.multiply=function(e){return new u(this.value*Y(e).value)},u.prototype.times=u.prototype.multiply,c.prototype.square=function(){return new c(k(this.value),!1)},l.prototype.square=function(){var e=this.value*this.value;return d(e)?new l(e):new c(k(f(Math.abs(this.value))),!1)},u.prototype.square=function(e){return new u(this.value*this.value)},c.prototype.divmod=function(e){var t=T(this,e);return{quotient:t[0],remainder:t[1]}},u.prototype.divmod=l.prototype.divmod=c.prototype.divmod,c.prototype.divide=function(e){return T(this,e)[0]},u.prototype.over=u.prototype.divide=function(e){return new u(this.value/Y(e).value)},l.prototype.over=l.prototype.divide=c.prototype.over=c.prototype.divide,c.prototype.mod=function(e){return T(this,e)[1]},u.prototype.mod=u.prototype.remainder=function(e){return new u(this.value%Y(e).value)},l.prototype.remainder=l.prototype.mod=c.prototype.remainder=c.prototype.mod,c.prototype.pow=function(e){var t,n,r,o=Y(e),i=this.value,s=o.value;if(0===s)return a[1];if(0===i)return a[0];if(1===i)return a[1];if(-1===i)return o.isEven()?a[1]:a[-1];if(o.sign)return a[0];if(!o.isSmall)throw new Error("The exponent "+o.toString()+" is too large.");if(this.isSmall&&d(t=Math.pow(i,s)))return new l(m(t));for(n=this,r=a[1];!0&s&&(r=r.times(n),--s),0!==s;)s/=2,n=n.square();return r},l.prototype.pow=c.prototype.pow,u.prototype.pow=function(e){var t=Y(e),n=this.value,r=t.value,o=BigInt(0),i=BigInt(1),s=BigInt(2);if(r===o)return a[1];if(n===o)return a[0];if(n===i)return a[1];if(n===BigInt(-1))return t.isEven()?a[1]:a[-1];if(t.isNegative())return new u(o);for(var c=this,l=a[1];(r&i)===i&&(l=l.times(c),--r),r!==o;)r/=s,c=c.square();return l},c.prototype.modPow=function(e,t){if(e=Y(e),(t=Y(t)).isZero())throw new Error("Cannot take modPow with modulus 0");var n=a[1],r=this.mod(t);for(e.isNegative()&&(e=e.multiply(a[-1]),r=r.modInv(t));e.isPositive();){if(r.isZero())return a[0];e.isOdd()&&(n=n.multiply(r).mod(t)),e=e.divide(2),r=r.square().mod(t)}return n},u.prototype.modPow=l.prototype.modPow=c.prototype.modPow,c.prototype.compareAbs=function(e){var t=Y(e),n=this.value,r=t.value;return t.isSmall?1:P(n,r)},l.prototype.compareAbs=function(e){var t=Y(e),n=Math.abs(this.value),r=t.value;return t.isSmall?n===(r=Math.abs(r))?0:n>r?1:-1:-1},u.prototype.compareAbs=function(e){var t=this.value,n=Y(e).value;return(t=t>=0?t:-t)===(n=n>=0?n:-n)?0:t>n?1:-1},c.prototype.compare=function(e){if(e===1/0)return-1;if(e===-1/0)return 1;var t=Y(e),n=this.value,r=t.value;return this.sign!==t.sign?t.sign?1:-1:t.isSmall?this.sign?-1:1:P(n,r)*(this.sign?-1:1)},c.prototype.compareTo=c.prototype.compare,l.prototype.compare=function(e){if(e===1/0)return-1;if(e===-1/0)return 1;var t=Y(e),n=this.value,r=t.value;return t.isSmall?n==r?0:n>r?1:-1:n<0!==t.sign?n<0?-1:1:n<0?1:-1},l.prototype.compareTo=l.prototype.compare,u.prototype.compare=function(e){if(e===1/0)return-1;if(e===-1/0)return 1;var t=this.value,n=Y(e).value;return t===n?0:t>n?1:-1},u.prototype.compareTo=u.prototype.compare,c.prototype.equals=function(e){return 0===this.compare(e)},u.prototype.eq=u.prototype.equals=l.prototype.eq=l.prototype.equals=c.prototype.eq=c.prototype.equals,c.prototype.notEquals=function(e){return 0!==this.compare(e)},u.prototype.neq=u.prototype.notEquals=l.prototype.neq=l.prototype.notEquals=c.prototype.neq=c.prototype.notEquals,c.prototype.greater=function(e){return this.compare(e)>0},u.prototype.gt=u.prototype.greater=l.prototype.gt=l.prototype.greater=c.prototype.gt=c.prototype.greater,c.prototype.lesser=function(e){return this.compare(e)<0},u.prototype.lt=u.prototype.lesser=l.prototype.lt=l.prototype.lesser=c.prototype.lt=c.prototype.lesser,c.prototype.greaterOrEquals=function(e){return this.compare(e)>=0},u.prototype.geq=u.prototype.greaterOrEquals=l.prototype.geq=l.prototype.greaterOrEquals=c.prototype.geq=c.prototype.greaterOrEquals,c.prototype.lesserOrEquals=function(e){return this.compare(e)<=0},u.prototype.leq=u.prototype.lesserOrEquals=l.prototype.leq=l.prototype.lesserOrEquals=c.prototype.leq=c.prototype.lesserOrEquals,c.prototype.isEven=function(){return!(1&this.value[0])},l.prototype.isEven=function(){return!(1&this.value)},u.prototype.isEven=function(){return(this.value&BigInt(1))===BigInt(0)},c.prototype.isOdd=function(){return!(1&~this.value[0])},l.prototype.isOdd=function(){return!(1&~this.value)},u.prototype.isOdd=function(){return(this.value&BigInt(1))===BigInt(1)},c.prototype.isPositive=function(){return!this.sign},l.prototype.isPositive=function(){return this.value>0},u.prototype.isPositive=l.prototype.isPositive,c.prototype.isNegative=function(){return this.sign},l.prototype.isNegative=function(){return this.value<0},u.prototype.isNegative=l.prototype.isNegative,c.prototype.isUnit=function(){return!1},l.prototype.isUnit=function(){return 1===Math.abs(this.value)},u.prototype.isUnit=function(){return this.abs().value===BigInt(1)},c.prototype.isZero=function(){return!1},l.prototype.isZero=function(){return 0===this.value},u.prototype.isZero=function(){return this.value===BigInt(0)},c.prototype.isDivisibleBy=function(e){var t=Y(e);return!t.isZero()&&(!!t.isUnit()||(0===t.compareAbs(2)?this.isEven():this.mod(t).isZero()))},u.prototype.isDivisibleBy=l.prototype.isDivisibleBy=c.prototype.isDivisibleBy,c.prototype.isPrime=function(t){var n=M(this);if(n!==e)return n;var r=this.abs(),i=r.bitLength();if(i<=64)return O(r,[2,3,5,7,11,13,17,19,23,29,31,37]);for(var s=Math.log(2)*i.toJSNumber(),a=Math.ceil(!0===t?2*Math.pow(s,2):s),c=[],l=0;l<a;l++)c.push(o(l+2));return O(r,c)},u.prototype.isPrime=l.prototype.isPrime=c.prototype.isPrime,c.prototype.isProbablePrime=function(t,n){var r=M(this);if(r!==e)return r;for(var i=this.abs(),s=t===e?5:t,a=[],c=0;c<s;c++)a.push(o.randBetween(2,i.minus(2),n));return O(i,a)},u.prototype.isProbablePrime=l.prototype.isProbablePrime=c.prototype.isProbablePrime,c.prototype.modInv=function(e){for(var t,n,r,i=o.zero,s=o.one,a=Y(e),c=this.abs();!c.isZero();)t=a.divide(c),n=i,r=a,i=s,a=c,s=n.subtract(t.multiply(s)),c=r.subtract(t.multiply(c));if(!a.isUnit())throw new Error(this.toString()+" and "+e.toString()+" are not co-prime");return-1===i.compare(0)&&(i=i.add(e)),this.isNegative()?i.negate():i},u.prototype.modInv=l.prototype.modInv=c.prototype.modInv,c.prototype.next=function(){var e=this.value;return this.sign?w(e,1,this.sign):new c(v(e,1),this.sign)},l.prototype.next=function(){var e=this.value;return e+1<n?new l(e+1):new c(r,!1)},u.prototype.next=function(){return new u(this.value+BigInt(1))},c.prototype.prev=function(){var e=this.value;return this.sign?new c(v(e,1),!0):w(e,1,this.sign)},l.prototype.prev=function(){var e=this.value;return e-1>-n?new l(e-1):new c(r,!0)},u.prototype.prev=function(){return new u(this.value-BigInt(1))};for(var D=[1];2*D[D.length-1]<=t;)D.push(2*D[D.length-1]);var R=D.length,N=D[R-1];function F(e){return Math.abs(e)<=t}function L(e,t,n){t=Y(t);for(var r=e.isNegative(),i=t.isNegative(),s=r?e.not():e,a=i?t.not():t,c=0,l=0,u=null,d=null,f=[];!s.isZero()||!a.isZero();)c=(u=T(s,N))[1].toJSNumber(),r&&(c=N-1-c),l=(d=T(a,N))[1].toJSNumber(),i&&(l=N-1-l),s=u[0],a=d[0],f.push(n(c,l));for(var h=0!==n(r?1:0,i?1:0)?o(-1):o(0),p=f.length-1;p>=0;p-=1)h=h.multiply(N).add(o(f[p]));return h}c.prototype.shiftLeft=function(e){var t=Y(e).toJSNumber();if(!F(t))throw new Error(String(t)+" is too large for shifting.");if(t<0)return this.shiftRight(-t);var n=this;if(n.isZero())return n;for(;t>=R;)n=n.multiply(N),t-=R-1;return n.multiply(D[t])},u.prototype.shiftLeft=function(e){return e=Y(e),new u(this.value<<e.value)},l.prototype.shiftLeft=c.prototype.shiftLeft,c.prototype.shiftRight=function(e){var t,n=Y(e).toJSNumber();if(!F(n))throw new Error(String(n)+" is too large for shifting.");if(n<0)return this.shiftLeft(-n);for(var r=this;n>=R;){if(r.isZero()||r.isNegative()&&r.isUnit())return r;r=(t=T(r,N))[1].isNegative()?t[0].prev():t[0],n-=R-1}return(t=T(r,D[n]))[1].isNegative()?t[0].prev():t[0]},u.prototype.shiftRight=function(e){return e=Y(e),new u(this.value>>e.value)},l.prototype.shiftRight=c.prototype.shiftRight,c.prototype.not=function(){return this.negate().prev()},u.prototype.not=l.prototype.not=c.prototype.not,c.prototype.and=function(e){return L(this,e,function(e,t){return e&t})},u.prototype.and=l.prototype.and=c.prototype.and,c.prototype.or=function(e){return L(this,e,function(e,t){return e|t})},u.prototype.or=l.prototype.or=c.prototype.or,c.prototype.xor=function(e){return L(this,e,function(e,t){return e^t})},u.prototype.xor=l.prototype.xor=c.prototype.xor;var B=1<<30;function $(e){var n=e.value,r="number"==typeof n?n|B:"bigint"==typeof n?n|BigInt(B):n[0]+n[1]*t|1073758208;return r&-r}function j(e,t){if(t.compareTo(e)<=0){var n=j(e,t.square(t)),r=n.p,i=n.e,s=r.multiply(t);return s.compareTo(e)<=0?{p:s,e:2*i+1}:{p:r,e:2*i}}return{p:o(1),e:0}}function U(e,t){return e=Y(e),t=Y(t),e.greater(t)?e:t}function z(e,t){return e=Y(e),t=Y(t),e.lesser(t)?e:t}function V(e,t){if(e=Y(e).abs(),t=Y(t).abs(),e.equals(t))return e;if(e.isZero())return t;if(t.isZero())return e;for(var n,r,o=a[1];e.isEven()&&t.isEven();)n=z($(e),$(t)),e=e.divide(n),t=t.divide(n),o=o.multiply(n);for(;e.isEven();)e=e.divide($(e));do{for(;t.isEven();)t=t.divide($(t));e.greater(t)&&(r=t,t=e,e=r),t=t.subtract(e)}while(!t.isZero());return o.isUnit()?e:e.multiply(o)}c.prototype.bitLength=function(){var e=this;return e.compareTo(o(0))<0&&(e=e.negate().subtract(o(1))),0===e.compareTo(o(0))?o(0):o(j(e,o(2)).e).add(o(1))},u.prototype.bitLength=l.prototype.bitLength=c.prototype.bitLength;var q=function(e,t,n,r){n=n||i,e=String(e),r||(e=e.toLowerCase(),n=n.toLowerCase());var o,s=e.length,a=Math.abs(t),c={};for(o=0;o<n.length;o++)c[n[o]]=o;for(o=0;o<s;o++)if("-"!==(d=e[o])&&d in c&&c[d]>=a){if("1"===d&&1===a)continue;throw new Error(d+" is not a valid digit in base "+t+".")}t=Y(t);var l=[],u="-"===e[0];for(o=u?1:0;o<e.length;o++){var d;if((d=e[o])in c)l.push(Y(c[d]));else{if("<"!==d)throw new Error(d+" is not a valid character");var f=o;do{o++}while(">"!==e[o]&&o<e.length);l.push(Y(e.slice(f+1,o)))}}return H(l,t,u)};function H(e,t,n){var r,o=a[0],i=a[1];for(r=e.length-1;r>=0;r--)o=o.add(e[r].times(i)),i=i.times(t);return n?o.negate():o}function G(e,t){if((t=o(t)).isZero()){if(e.isZero())return{value:[0],isNegative:!1};throw new Error("Cannot convert nonzero numbers to base 0.")}if(t.equals(-1)){if(e.isZero())return{value:[0],isNegative:!1};if(e.isNegative())return{value:[].concat.apply([],Array.apply(null,Array(-e.toJSNumber())).map(Array.prototype.valueOf,[1,0])),isNegative:!1};var n=Array.apply(null,Array(e.toJSNumber()-1)).map(Array.prototype.valueOf,[0,1]);return n.unshift([1]),{value:[].concat.apply([],n),isNegative:!1}}var r=!1;if(e.isNegative()&&t.isPositive()&&(r=!0,e=e.abs()),t.isUnit())return e.isZero()?{value:[0],isNegative:!1}:{value:Array.apply(null,Array(e.toJSNumber())).map(Number.prototype.valueOf,1),isNegative:r};for(var i,s=[],a=e;a.isNegative()||a.compareAbs(t)>=0;){i=a.divmod(t),a=i.quotient;var c=i.remainder;c.isNegative()&&(c=t.minus(c).abs(),a=a.next()),s.push(c.toJSNumber())}return s.push(a.toJSNumber()),{value:s.reverse(),isNegative:r}}function W(e,t,n){var r=G(e,t);return(r.isNegative?"-":"")+r.value.map(function(e){return function(e,t){return e<(t=t||i).length?t[e]:"<"+e+">"}(e,n)}).join("")}function K(e){if(d(+e)){var t=+e;if(t===m(t))return s?new u(BigInt(t)):new l(t);throw new Error("Invalid integer: "+e)}var n="-"===e[0];n&&(e=e.slice(1));var r=e.split(/e/i);if(r.length>2)throw new Error("Invalid integer: "+r.join("e"));if(2===r.length){var o=r[1];if("+"===o[0]&&(o=o.slice(1)),(o=+o)!==m(o)||!d(o))throw new Error("Invalid integer: "+o+" is not a valid exponent.");var i=r[0],a=i.indexOf(".");if(a>=0&&(o-=i.length-a-1,i=i.slice(0,a)+i.slice(a+1)),o<0)throw new Error("Cannot include negative exponent part for integers");e=i+=new Array(o+1).join("0")}if(!/^([0-9][0-9]*)$/.test(e))throw new Error("Invalid integer: "+e);if(s)return new u(BigInt(n?"-"+e:e));for(var f=[],h=e.length,g=h-7;h>0;)f.push(+e.slice(g,h)),(g-=7)<0&&(g=0),h-=7;return p(f),new c(f,n)}function Y(e){return"number"==typeof e?function(e){if(s)return new u(BigInt(e));if(d(e)){if(e!==m(e))throw new Error(e+" is not an integer.");return new l(e)}return K(e.toString())}(e):"string"==typeof e?K(e):"bigint"==typeof e?new u(e):e}c.prototype.toArray=function(e){return G(this,e)},l.prototype.toArray=function(e){return G(this,e)},u.prototype.toArray=function(e){return G(this,e)},c.prototype.toString=function(t,n){if(t===e&&(t=10),10!==t)return W(this,t,n);for(var r,o=this.value,i=o.length,s=String(o[--i]);--i>=0;)r=String(o[i]),s+="0000000".slice(r.length)+r;return(this.sign?"-":"")+s},l.prototype.toString=function(t,n){return t===e&&(t=10),10!=t?W(this,t,n):String(this.value)},u.prototype.toString=l.prototype.toString,u.prototype.toJSON=c.prototype.toJSON=l.prototype.toJSON=function(){return this.toString()},c.prototype.valueOf=function(){return parseInt(this.toString(),10)},c.prototype.toJSNumber=c.prototype.valueOf,l.prototype.valueOf=function(){return this.value},l.prototype.toJSNumber=l.prototype.valueOf,u.prototype.valueOf=u.prototype.toJSNumber=function(){return parseInt(this.toString(),10)};for(var J=0;J<1e3;J++)a[J]=Y(J),J>0&&(a[-J]=Y(-J));return a.one=a[1],a.zero=a[0],a.minusOne=a[-1],a.max=U,a.min=z,a.gcd=V,a.lcm=function(e,t){return e=Y(e).abs(),t=Y(t).abs(),e.divide(V(e,t)).multiply(t)},a.isInstance=function(e){return e instanceof c||e instanceof l||e instanceof u},a.randBetween=function(e,n,r){e=Y(e),n=Y(n);var o=r||Math.random,i=z(e,n),s=U(e,n).subtract(i).add(1);if(s.isSmall)return i.add(Math.floor(o()*s));for(var c=G(s,t).value,l=[],u=!0,d=0;d<c.length;d++){var f=u?c[d]:t,h=m(o()*f);l.push(h),h<f&&(u=!1)}return i.add(a.fromArray(l,t,!1))},a.fromArray=function(e,t,n){return H(e.map(Y),Y(t||10),n)},a}();e.hasOwnProperty("exports")&&(e.exports=o),void 0===(r=function(){return o}.call(t,n,t,e))||(e.exports=r)},92901:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(20816);function o(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,(0,r.A)(o.key),o)}}function i(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}},93545:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var r=n(84051),o=n(46536),i=n(41257);const s=new Map;function a(e,t,n=!1){const a=(0,i.i)(t);(0,r.vJ)(()=>{const t=e?.current;if(!t||n)return;const r=([e])=>{0===e.contentRect.width&&0===e.contentRect.height||a.current(e)};let[i,c]=s.get(t)||[void 0,void 0];return i||(c=(0,o.h)(),i=new ResizeObserver(c.runCallbacks),s.set(t,[i,c]),i.observe(t)),c.addCallback(r),()=>{c.removeCallback(r),c.hasCallbacks()||(i.unobserve(t),i.disconnect(),s.delete(t))}},[n,a,e])}},93567:(e,t,n)=>{"use strict";n.d(t,{A:()=>c});var r=n(58168),o=n(96540);const i={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M988 548c-19.9 0-36-16.1-36-36 0-59.4-11.6-117-34.6-171.3a440.45 440.45 0 00-94.3-139.9 437.71 437.71 0 00-139.9-94.3C629 83.6 571.4 72 512 72c-19.9 0-36-16.1-36-36s16.1-36 36-36c69.1 0 136.2 13.5 199.3 40.3C772.3 66 827 103 874 150c47 47 83.9 101.8 109.7 162.7 26.7 63.1 40.2 130.2 40.2 199.3.1 19.9-16 36-35.9 36z"}}]},name:"loading",theme:"outlined"};var s=n(87064),a=function(e,t){return o.createElement(s.A,(0,r.A)({},e,{ref:t,icon:i}))};const c=o.forwardRef(a)},93578:(e,t,n)=>{"use strict";n.d(t,{Tc:()=>f,Dc:()=>h,_G:()=>p});var r=n(31481);const o=36,i=2147483647;function s(e){return e-48<10?e-22:e-65<26?e-65:e-97<26?e-97:o}function a(e,t,n){let r;for(e=n?Math.floor(e/700):e>>1,e+=Math.floor(e/t),r=0;e>455;r+=o)e=Math.floor(e/35);return Math.floor(r+36*e/(e+38))}function c(e,t){const n=[],r=[],c=e.length;let l,u,d,f,h,p,g,m,y,b,v,_,w;for(l=128,d=0,f=72,h=e.lastIndexOf("-"),h<0&&(h=0),p=0;p<h;++p){if(t&&(r[n.length]=e.charCodeAt(p)-65<26),e.charCodeAt(p)>=128)throw new RangeError("Illegal input >= 0x80");n.push(e.charCodeAt(p))}for(g=h>0?h+1:0;g<c;){for(m=d,y=1,b=o;;b+=o){if(g>=c)throw RangeError("punycode_bad_input(1)");if(v=s(e.charCodeAt(g++)),v>=o)throw RangeError("punycode_bad_input(2)");if(v>Math.floor((i-d)/y))throw RangeError("punycode_overflow(1)");if(d+=v*y,_=b<=f?1:b>=f+26?26:b-f,v<_)break;if(y>Math.floor(i/(o-_)))throw RangeError("punycode_overflow(2)");y*=o-_}if(u=n.length+1,f=a(d-m,u,0===m),Math.floor(d/u)>i-l)throw RangeError("punycode_overflow(3)");l+=Math.floor(d/u),d%=u,t&&r.splice(d,0,e.charCodeAt(g-1)-65<26),n.splice(d,0,l),d++}if(t)for(d=0,w=n.length;d<w;d++)r[d]&&(n[d]=String.fromCharCode(n[d]).toUpperCase().charCodeAt(0));return(e=>{const t=[];let n=0;const r=e.length;let o;for(;n<r;){if(o=e[n++],55296==(63488&o))throw new RangeError("UTF-16(encode): Illegal UTF-16 value");o>65535&&(o-=65536,t.push(String.fromCharCode(o>>>10&1023|55296)),o=56320|1023&o),t.push(String.fromCharCode(o))}return t.join("")})(n)}const l=function(e){const t=e.split("."),n=[];for(let e=0;e<t.length;++e){const r=t[e];n.push(r.match(/^xn--/)?c(r.slice(4)):r)}return n.join(".")},u=new Set(["http:","https:","tg:","ton:","mailto:","tel:"]),d="https://";function f(e){try{const t=new URL(e);return u.has(t.protocol)?e:`${d}${e}`}catch(t){return`${d}${e}`}}function h(e){const t=f(e);try{const e=new URL(t),n=l(e.hostname);try{return decodeURI(e.toString()).replace(e.hostname,n)}catch(t){return e.toString().replace(e.hostname,n)}}catch(t){r.Oig&&console.warn("SafeLink.getDecodedUrl error ",e,t)}}function p(e){let t;try{t=l(new URL(f(e)).hostname)}catch(e){return!0}let n=!1,r=!1;for(const e of Array.from(t))if(/\p{L}/u.test(e)&&(/\p{Script=Latin}/u.test(e)?n=!0:r=!0,n&&r))return!0;return!1}},93855:(e,t,n)=>{"use strict";n.d(t,{A:()=>v});var r=n(84051),o=n(13439),i=n(31481),s=n(90709),a=n(60919),c=n(87679),l=n(24909),u=n(4350),d=n(63527),f=n(32625),h=n(17712),p=n(62587),g=n(672);const m=1e3,y=6e4,b=72;function v(e){const t=Boolean(e)&&(0,o.mS)().authRememberMe,n=(0,d.A)(a.nIz),[v,_]=(0,r.J0)((0,u.zk)()),w=e&&(0,s.cP)(e),S=(0,p.A)(w,!t),x=(0,g.A)(()=>{_((0,u.zk)())},[],m);(0,r.vJ)(()=>{t&&n&&((0,u.Ph)(u.Xz,{userId:e.id,firstName:e.firstName,lastName:e.lastName,emojiStatusId:e.emojiStatus?.documentId,color:e.color?.color,isPremium:e.isPremium,phone:e.phoneNumber}),x())},[t,e?.emojiStatus?.documentId,e?.firstName,e?.id,e?.lastName,e?.color?.color,e?.isPremium,e?.phoneNumber,x,n]);const I=(0,h.A)(async(e,t)=>{const n=await(0,l.y)(e,b,b),r=await(0,c.NN)(n);if(t?.aborted)return;const o=document.createElement("canvas"),i=o.getContext("2d");o.width=r.width,o.height=r.height,i.drawImage(r,0,0);const s=o.toDataURL("image/png");(0,u.Ph)(u.Xz,{avatarUri:s}),x()});return(0,r.vJ)(()=>{if(!S||!t||!n)return;const e=new AbortController;return I(S,e.signal),()=>{e.abort()}},[S,n,t]),(0,f.A)(x,y),(0,r.vJ)(()=>{function e(e){e.key?.startsWith(i.um6)&&x()}return window.addEventListener("storage",e),()=>{window.removeEventListener("storage",e)}},[x]),v}},93900:(e,t,n)=>{"use strict";function r(e,t){e&&e(t)}function o(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}n.d(t,{jV8:()=>Z,TkF:()=>Wa});const i=class{constructor(){let e=function(...t){return e._call(...t)};return Object.setPrototypeOf(e,new.target.prototype)}_call(...e){throw Error("Must implement _call method in subclass")}};function s(e){return Number.isInteger(e)||"bigint"==typeof e}function a(e){const t=[];let n=e;for(;Array.isArray(n);)t.push(n.length),n=n[0];return t}function c(e,t,n=void 0){const r=e[t];if(void 0!==r)return delete e[t],r;if(void 0===n)throw Error(`Key ${t} does not exist in object.`);return n}function l(...e){return Array.prototype.concat.apply([],e)}function u(...e){return e.reduce((e,t)=>e.flatMap(e=>t.map(t=>[e,t])))}function d(e,t){return Math.abs((e+t)%(2*t)-t)}var f=n(60143),h=n(72603),p=n(22009),g=n(6837),m=n(12499),y=n(83052),b=n.t(y,2),v=n(77264),_=n.t(v,2);let w;const S=["wasm"];"undefined"!=typeof process&&"node"===process?.release?.name?(w=y??b,S.unshift("cpu")):(w=v??_,"undefined"!=typeof navigator&&/iP(hone|od|ad).+16_4.+AppleWebKit/.test(navigator.userAgent)&&(w.env.wasm.simd=!1));const{env:x}=w,I="2.17.2",A="undefined"!=typeof self&&"caches"in self,C=!R(p),k=!R(g),E=C&&k,T=E?g.dirname(g.dirname(m.fileURLToPath("file:///Users/qmk/work/telegram-tt/node_modules/@xenova/transformers/src/env.js"))):"./",P=E?g.join(T,"/.cache/"):null,M="/models/",O=E?g.join(T,M):M;x?.wasm&&(x.wasm.wasmPaths=E?g.join(T,"/dist/"):`https://cdn.jsdelivr.net/npm/@xenova/transformers@${I}/dist/`);const D={backends:{onnx:x,tfjs:{}},__dirname:T,version:I,allowRemoteModels:!0,remoteHost:"https://huggingface.co/",remotePathTemplate:"{model}/resolve/{revision}/",allowLocalModels:!0,localModelPath:O,useFS:C,useBrowserCache:A,useFSCache:C,cacheDir:P,useCustomCache:!1,customCache:null};function R(e){return 0===Object.keys(e).length}var N=n(48287).hp;class F{_CONTENT_TYPE_MAP={txt:"text/plain",html:"text/html",css:"text/css",js:"text/javascript",json:"application/json",png:"image/png",jpg:"image/jpeg",jpeg:"image/jpeg",gif:"image/gif"};constructor(e){if(this.filePath=e,this.headers=new Headers,this.exists=f.existsSync(e),this.exists){this.status=200,this.statusText="OK";let t=f.statSync(e);this.headers.set("content-length",t.size.toString()),this.updateContentType();let n=this;this.body=new ReadableStream({start(e){n.arrayBuffer().then(t=>{e.enqueue(new Uint8Array(t)),e.close()})}})}else this.status=404,this.statusText="Not Found",this.body=null}updateContentType(){const e=this.filePath.toString().split(".").pop().toLowerCase();this.headers.set("content-type",this._CONTENT_TYPE_MAP[e]??"application/octet-stream")}clone(){let e=new F(this.filePath);return e.exists=this.exists,e.status=this.status,e.statusText=this.statusText,e.headers=new Headers(this.headers),e}async arrayBuffer(){return(await f.promises.readFile(this.filePath)).buffer}async blob(){const e=await f.promises.readFile(this.filePath);return new Blob([e],{type:this.headers.get("content-type")})}async text(){return await f.promises.readFile(this.filePath,"utf8")}async json(){return JSON.parse(await this.text())}}function L(e,t=null,n=null){let r;try{r=new URL(e)}catch(e){return!1}return!(t&&!t.includes(r.protocol)||n&&!n.includes(r.hostname))}async function B(e){if(D.useFS&&!L(e,["http:","https:","blob:"]))return new F(e);if("undefined"!=typeof process&&"node"===process?.release?.name){const t=!!process.env?.TESTING_REMOTELY,n=D.version,r=new Headers;if(r.set("User-Agent",`transformers.js/${n}; is_ci/${t};`),L(e,["http:","https:"],["huggingface.co","hf.co"])){const e=process.env?.HF_TOKEN??process.env?.HF_ACCESS_TOKEN;e&&r.set("Authorization",`Bearer ${e}`)}return fetch(e,{headers:r})}return fetch(e)}const $={400:"Bad request error occurred while trying to load file",401:"Unauthorized access to file",403:"Forbidden access to file",404:"Could not locate file",408:"Request timeout error occurred while trying to load file",500:"Internal server error error occurred while trying to load file",502:"Bad gateway error occurred while trying to load file",503:"Service unavailable error occurred while trying to load file",504:"Gateway timeout error occurred while trying to load file"};class j{constructor(e){this.path=e}async match(e){let t=h.join(this.path,e),n=new F(t);return n.exists?n:void 0}async put(e,t){const n=N.from(await t.arrayBuffer());let r=h.join(this.path,e);try{await f.promises.mkdir(h.dirname(r),{recursive:!0}),await f.promises.writeFile(r,n)}catch(e){console.warn("An error occurred while writing the file to cache:",e)}}}async function U(e,t,n=!0,o={}){if(!D.allowLocalModels){if(o.local_files_only)throw Error("Invalid configuration detected: local models are disabled (`env.allowLocalModels=false`) but you have requested to only use local models (`local_files_only=true`).");if(!D.allowRemoteModels)throw Error("Invalid configuration detected: both local and remote models are disabled. Fix by setting `env.allowLocalModels` or `env.allowRemoteModels` to `true`.")}let i;if(r(o.progress_callback,{status:"initiate",name:e,file:t}),!i&&D.useBrowserCache){if("undefined"==typeof caches)throw Error("Browser cache is not available in this environment.");try{i=await caches.open("transformers-cache")}catch(e){console.warn("An error occurred while opening the browser cache:",e)}}if(!i&&D.useFSCache&&(i=new j(o.cache_dir??D.cacheDir)),!i&&D.useCustomCache){if(!D.customCache)throw Error("`env.useCustomCache=true`, but `env.customCache` is not defined.");if(!D.customCache.match||!D.customCache.put)throw new Error("`env.customCache` must be an object which implements the `match` and `put` functions of the Web Cache API. For more information, see https://developer.mozilla.org/en-US/docs/Web/API/Cache");i=D.customCache}const s=o.revision??"main";let a,c,l=V(e,t),u=V(D.localModelPath,l),d=V(D.remoteHost,D.remotePathTemplate.replaceAll("{model}",e).replaceAll("{revision}",encodeURIComponent(s)),t),f="main"===s?l:V(e,s,t),h=i instanceof j?f:d,p=!1;i&&(c=await async function(e,...t){for(let n of t)try{let t=await e.match(n);if(t)return t}catch(e){continue}}(i,u,h));const g=void 0!==c;if(void 0===c){if(D.allowLocalModels)if(L(l,["http:","https:"])){if(o.local_files_only)throw new Error(`\`local_files_only=true\`, but attempted to load a remote file from: ${l}.`);if(!D.allowRemoteModels)throw new Error(`\`env.allowRemoteModels=false\`, but attempted to load a remote file from: ${l}.`)}else try{c=await B(u),a=u}catch(e){console.warn(`Unable to load from local path "${u}": "${e}"`)}if(void 0===c||404===c.status){if(o.local_files_only||!D.allowRemoteModels){if(n)throw Error(`\`local_files_only=true\` or \`env.allowRemoteModels=false\` and file was not found locally at "${u}".`);return null}if(c=await B(d),200!==c.status)return function(e,t,n){if(!n)return null;throw Error(`${$[e]??`Error (${e}) occurred while trying to load file`}: "${t}".`)}(c.status,d,n);a=h}p=i&&"undefined"!=typeof Response&&c instanceof Response&&200===c.status}r(o.progress_callback,{status:"download",name:e,file:t});const m={status:"progress",name:e,file:t};let y;return o.progress_callback?g&&"undefined"!=typeof navigator&&/firefox/i.test(navigator.userAgent)?(y=new Uint8Array(await c.arrayBuffer()),r(o.progress_callback,{...m,progress:100,loaded:y.length,total:y.length})):y=await async function(e){const t=e.headers.get("Content-Length");null===t&&console.warn("Unable to determine content-length from response headers. Will expand buffer when needed.");let n=parseInt(t??"0"),i=new Uint8Array(n),s=0;const a=e.body.getReader();return await async function e(){const{done:t,value:c}=await a.read();if(t)return;let l=s+c.length;if(l>n){n=l;let e=new Uint8Array(n);e.set(i),i=e}return i.set(c,s),s=l,(e=>{r(o.progress_callback,{...m,...e})})({progress:s/n*100,loaded:s,total:n}),e()}(),i}(c):y=new Uint8Array(await c.arrayBuffer()),p&&a&&void 0===await i.match(a)&&await i.put(a,new Response(y,{headers:c.headers})).catch(e=>{console.warn(`Unable to add response to browser cache: ${e}.`)}),r(o.progress_callback,{status:"done",name:e,file:t}),y}async function z(e,t,n=!0,r={}){let o=await U(e,t,n,r);if(null===o)return{};let i=new TextDecoder("utf-8").decode(o);return JSON.parse(i)}function V(...e){return(e=e.map((t,n)=>(n&&(t=t.replace(new RegExp("^/"),"")),n!==e.length-1&&(t=t.replace(new RegExp("/$"),"")),t))).join("/")}function q(e){const t=W(e)[0],n=e.map(e=>Math.exp(e-t)),r=n.reduce((e,t)=>e+t,0);return n.map(e=>e/r)}function H(e,t=0){return e=Array.from(e).map((e,t)=>[t,e]).sort((e,t)=>t[1]-e[1]),null!==t&&t>0&&(e=e.slice(0,t)),e}function G(e){if(0===e.length)throw Error("Array must not be empty");let t=e[0],n=0;for(let r=1;r<e.length;++r)e[r]<t&&(t=e[r],n=r);return[t,n]}function W(e){if(0===e.length)throw Error("Array must not be empty");let t=e[0],n=0;for(let r=1;r<e.length;++r)e[r]>t&&(t=e[r],n=r);return[Number(t),n]}function K(e){return e>0&&!(e&e-1)}class Y{constructor(e){if(this.size=0|e,this.size<=1||!K(this.size))throw new Error("FFT size must be a power of two larger than 1");this._csize=e<<1,this.table=new Float64Array(2*this.size);for(let e=0;e<this.table.length;e+=2){const t=Math.PI*e/this.size;this.table[e]=Math.cos(t),this.table[e+1]=-Math.sin(t)}let t=0;for(let e=1;this.size>e;e<<=1)++t;this._width=t%2==0?t-1:t,this._bitrev=new Int32Array(1<<this._width);for(let e=0;e<this._bitrev.length;++e){this._bitrev[e]=0;for(let t=0;t<this._width;t+=2){const n=this._width-t-2;this._bitrev[e]|=(e>>>t&3)<<n}}}createComplexArray(){return new Float64Array(this._csize)}fromComplexArray(e,t){const n=t||new Array(e.length>>>1);for(let t=0;t<e.length;t+=2)n[t>>>1]=e[t];return n}toComplexArray(e,t){const n=t||this.createComplexArray();for(let t=0;t<n.length;t+=2)n[t]=e[t>>>1],n[t+1]=0;return n}transform(e,t){if(e===t)throw new Error("Input and output buffers must be different");this._transform4(e,t,1)}realTransform(e,t){if(e===t)throw new Error("Input and output buffers must be different");this._realTransform4(e,t,1)}inverseTransform(e,t){if(e===t)throw new Error("Input and output buffers must be different");this._transform4(e,t,-1);for(let t=0;t<e.length;++t)e[t]/=this.size}_transform4(e,t,n){const r=this._csize;let o,i,s=1<<this._width,a=r/s<<1;const c=this._bitrev;if(4===a)for(o=0,i=0;o<r;o+=a,++i){const n=c[i];this._singleTransform2(t,e,o,n,s)}else for(o=0,i=0;o<r;o+=a,++i){const r=c[i];this._singleTransform4(t,e,o,r,s,n)}const l=this.table;for(s>>=2;s>=2;s>>=2){a=r/s<<1;const t=a>>>2;for(o=0;o<r;o+=a){const r=o+t-1;for(let i=o,a=0;i<r;i+=2,a+=s){const r=i,o=r+t,s=o+t,c=s+t,u=e[r],d=e[r+1],f=e[o],h=e[o+1],p=e[s],g=e[s+1],m=e[c],y=e[c+1],b=l[a],v=n*l[a+1],_=f*b-h*v,w=f*v+h*b,S=l[2*a],x=n*l[2*a+1],I=p*S-g*x,A=p*x+g*S,C=l[3*a],k=n*l[3*a+1],E=m*C-y*k,T=m*k+y*C,P=u+I,M=d+A,O=u-I,D=d-A,R=_+E,N=w+T,F=n*(_-E),L=n*(w-T);e[r]=P+R,e[r+1]=M+N,e[o]=O+L,e[o+1]=D-F,e[s]=P-R,e[s+1]=M-N,e[c]=O-L,e[c+1]=D+F}}}}_singleTransform2(e,t,n,r,o){const i=e[r],s=e[r+1],a=e[r+o],c=e[r+o+1];t[n]=i+a,t[n+1]=s+c,t[n+2]=i-a,t[n+3]=s-c}_singleTransform4(e,t,n,r,o,i){const s=2*o,a=3*o,c=e[r],l=e[r+1],u=e[r+o],d=e[r+o+1],f=e[r+s],h=e[r+s+1],p=e[r+a],g=e[r+a+1],m=c+f,y=l+h,b=c-f,v=l-h,_=u+p,w=d+g,S=i*(u-p),x=i*(d-g);t[n]=m+_,t[n+1]=y+w,t[n+2]=b+x,t[n+3]=v-S,t[n+4]=m-_,t[n+5]=y-w,t[n+6]=b-x,t[n+7]=v+S}_realTransform4(e,t,n){const r=this._csize;let o,i,s=1<<this._width,a=r/s<<1;const c=this._bitrev;if(4===a)for(o=0,i=0;o<r;o+=a,++i){const n=c[i];this._singleRealTransform2(t,e,o,n>>>1,s>>>1)}else for(o=0,i=0;o<r;o+=a,++i){const r=c[i];this._singleRealTransform4(t,e,o,r>>>1,s>>>1,n)}const l=this.table;for(s>>=2;s>=2;s>>=2){a=r/s<<1;const t=a>>>1,i=t>>>1,c=i>>>1;for(o=0;o<r;o+=a)for(let r=0,a=0;r<=c;r+=2,a+=s){const s=o+r,u=s+i,d=u+i,f=d+i,h=e[s],p=e[s+1],g=e[u],m=e[u+1],y=e[d],b=e[d+1],v=e[f],_=e[f+1],w=h,S=p,x=l[a],I=n*l[a+1],A=g*x-m*I,C=g*I+m*x,k=l[2*a],E=n*l[2*a+1],T=y*k-b*E,P=y*E+b*k,M=l[3*a],O=n*l[3*a+1],D=v*M-_*O,R=v*O+_*M,N=w+T,F=S+P,L=w-T,B=S-P,$=A+D,j=C+R,U=n*(A-D),z=n*(C-R);if(e[s]=N+$,e[s+1]=F+j,e[u]=L+z,e[u+1]=B-U,0===r){e[d]=N-$,e[d+1]=F-j;continue}if(r===c)continue;const V=o+i-r,q=o+t-r;e[V]=L-n*z,e[V+1]=-B-n*U,e[q]=N-n*$,e[q+1]=n*j-F}}const u=r>>>1;for(let t=2;t<u;t+=2)e[r-t]=e[t],e[r-t+1]=-e[t+1]}_singleRealTransform2(e,t,n,r,o){const i=e[r],s=e[r+o];t[n]=i+s,t[n+1]=0,t[n+2]=i-s,t[n+3]=0}_singleRealTransform4(e,t,n,r,o,i){const s=2*o,a=3*o,c=e[r],l=e[r+o],u=e[r+s],d=e[r+a],f=c+u,h=c-u,p=l+d,g=i*(l-d);t[n]=f+p,t[n+1]=0,t[n+2]=h,t[n+3]=-g,t[n+4]=f-p,t[n+5]=0,t[n+6]=h,t[n+7]=g}}class J{constructor(e){const t=2*(e-1),n=2*(2*e-1),r=2**Math.ceil(Math.log2(n));this.bufferSize=r,this._a=t;const o=new Float64Array(n),i=new Float64Array(r);this._chirpBuffer=new Float64Array(r),this._buffer1=new Float64Array(r),this._buffer2=new Float64Array(r),this._outBuffer1=new Float64Array(r),this._outBuffer2=new Float64Array(r);const s=-2*Math.PI/e,a=Math.cos(s),c=Math.sin(s);for(let t=0;t<n>>1;++t){const n=(t+1-e)**2/2,r=Math.sqrt(a**2+c**2)**n,s=n*Math.atan2(c,a),l=2*t;o[l]=r*Math.cos(s),o[l+1]=r*Math.sin(s),i[l]=o[l],i[l+1]=-o[l+1]}this._slicedChirpBuffer=o.subarray(t,n),this._f=new Y(r>>1),this._f.transform(this._chirpBuffer,i)}_transform(e,t,n){const r=this._buffer1,o=this._buffer2,i=this._outBuffer1,s=this._outBuffer2,a=this._chirpBuffer,c=this._slicedChirpBuffer,l=this._a;if(n)for(let e=0;e<c.length;e+=2){const n=e+1,o=t[e>>1];r[e]=o*c[e],r[n]=o*c[n]}else for(let e=0;e<c.length;e+=2){const n=e+1;r[e]=t[e]*c[e]-t[n]*c[n],r[n]=t[e]*c[n]+t[n]*c[e]}this._f.transform(i,r);for(let e=0;e<a.length;e+=2){const t=e+1;o[e]=i[e]*a[e]-i[t]*a[t],o[t]=i[e]*a[t]+i[t]*a[e]}this._f.inverseTransform(s,o);for(let t=0;t<s.length;t+=2){const n=s[t+l],r=s[t+l+1],o=c[t],i=c[t+1];e[t]=n*o-r*i,e[t+1]=n*i+r*o}}transform(e,t){this._transform(e,t,!1)}realTransform(e,t){this._transform(e,t,!0)}}class X{constructor(e){this.fft_length=e,this.isPowerOfTwo=K(e),this.isPowerOfTwo?(this.fft=new Y(e),this.outputBufferSize=2*e):(this.fft=new J(e),this.outputBufferSize=this.fft.bufferSize)}realTransform(e,t){this.fft.realTransform(e,t)}transform(e,t){this.fft.transform(e,t)}}function Z(e,t){if(t%2==0||t<=0)throw new Error("Window size must be a positive odd number");const n=new e.constructor(e.length),r=new e.constructor(t),o=Math.floor(t/2);for(let t=0;t<e.length;++t){let i=0;for(let n=-o;n<=o;++n){let o=t+n;o<0?o=Math.abs(o):o>=e.length&&(o=2*(e.length-1)-o),r[i++]=e[o]}r.sort(),n[t]=r[o]}return n}function Q(e,t){const n=Math.pow(10,t);return Math.round(e*n)/n}const ee=Object.freeze({float32:Float32Array,float64:Float64Array,string:Array,int8:Int8Array,uint8:Uint8Array,int16:Int16Array,uint16:Uint16Array,int32:Int32Array,uint32:Uint32Array,int64:BigInt64Array,uint64:BigUint64Array,bool:Uint8Array}),te=w.Tensor;class ne{dims;type;data;size;constructor(...e){return e[0]instanceof te?Object.assign(this,e[0]):Object.assign(this,new te(e[0],e[1],e[2])),new Proxy(this,{get:(e,t)=>{if("string"==typeof t){let n=Number(t);if(Number.isInteger(n))return e._getitem(n)}return e[t]},set:(e,t,n)=>e[t]=n})}*[Symbol.iterator](){const[e,...t]=this.dims;if(t.length>0){const n=t.reduce((e,t)=>e*t);for(let r=0;r<e;++r)yield this._subarray(r,n,t)}else yield*this.data}_getitem(e){const[t,...n]=this.dims;if(e=se(e,t),n.length>0){const t=n.reduce((e,t)=>e*t);return this._subarray(e,t,n)}return new ne(this.type,[this.data[e]],n)}indexOf(e){for(let t=0;t<this.data.length;++t)if(this.data[t]==e)return t;return-1}_subarray(e,t,n){const r=e*t,o=(e+1)*t,i="subarray"in this.data?this.data.subarray(r,o):this.data.slice(r,o);return new ne(this.type,i,n)}item(){if(1!==this.data.length)throw new Error(`a Tensor with ${this.data.length} elements cannot be converted to Scalar`);return this.data[0]}tolist(){return function(e,t){const n=e.length;if(n!==t.reduce((e,t)=>e*t))throw Error(`cannot reshape array of size ${n} into shape (${t})`);let r=e;for(let e=t.length-1;e>=0;e--)r=r.reduce((n,r)=>{let o=n[n.length-1];return o.length<t[e]?o.push(r):n.push([r]),n},[[]]);return r[0]}(this.data,this.dims)}sigmoid(){return this.clone().sigmoid_()}sigmoid_(){for(let e=0;e<this.data.length;++e)this.data[e]=1/(1+Math.exp(-this.data[e]));return this}mul(e){return this.clone().mul_(e)}mul_(e){for(let t=0;t<this.data.length;++t)this.data[t]*=e;return this}add(e){return this.clone().add_(e)}add_(e){for(let t=0;t<this.data.length;++t)this.data[t]+=e;return this}clone(){return new ne(this.type,this.data.slice(),this.dims.slice())}slice(...e){let t=[],n=[];for(let r=0;r<this.dims.length;++r){let o=e[r];if(null==o)n.push([0,this.dims[r]]),t.push(this.dims[r]);else if("number"==typeof o)o=se(o,this.dims[r],r),n.push([o,o+1]);else{if(!Array.isArray(o)||2!==o.length)throw new Error(`Invalid slice: ${o}`);{if(o[0]>o[1])throw new Error(`Invalid slice: ${o}`);let e=[Math.max(o[0],0),Math.min(o[1],this.dims[r])];n.push(e),t.push(e[1]-e[0])}}}let r=n.map(([e,t])=>t-e),o=r.reduce((e,t)=>e*t),i=new this.data.constructor(o);const s=this.stride();for(let e=0;e<o;++e){let t=0;for(let o=r.length-1,i=e;o>=0;--o){const e=r[o];t+=(i%e+n[o][0])*s[o],i=Math.floor(i/e)}i[e]=this.data[t]}return new ne(this.type,i,t)}permute(...e){return function(e,t){const[n,r]=function(e,t,n){const r=new Array(n.length),o=new Array(n.length);for(let e=n.length-1,i=1;e>=0;--e)o[e]=i,r[e]=t[n[e]],i*=r[e];const i=n.map((e,t)=>o[n.indexOf(t)]),s=new e.constructor(e.length);for(let n=0;n<e.length;++n){let r=0;for(let e=t.length-1,o=n;e>=0;--e)r+=o%t[e]*i[e],o=Math.floor(o/t[e]);s[r]=e[n]}return[s,r]}(e.data,e.dims,t);return new ne(e.type,n,r)}(this,e)}transpose(...e){return this.permute(...e)}sum(e=null,t=!1){return this.norm(1,e,t)}norm(e="fro",t=null,n=!1){if("fro"===e)e=2;else if("string"==typeof e)throw Error(`Unsupported norm: ${e}`);if(null===t){let t=this.data.reduce((t,n)=>t+n**e,0)**(1/e);return new ne(this.type,[t],[])}t=se(t,this.dims.length);const r=this.dims.slice();r[t]=1;const o=new this.data.constructor(this.data.length/this.dims[t]);for(let n=0;n<this.data.length;++n){let i=0;for(let e=this.dims.length-1,o=n,s=1;e>=0;--e){const n=this.dims[e];e!==t&&(i+=o%n*s,s*=r[e]),o=Math.floor(o/n)}o[i]+=this.data[n]**e}if(1!==e)for(let t=0;t<o.length;++t)o[t]=o[t]**(1/e);return n||r.splice(t,1),new ne(this.type,o,r)}normalize_(e=2,t=1){t=se(t,this.dims.length);const n=this.norm(e,t,!0);for(let e=0;e<this.data.length;++e){let r=0;for(let n=this.dims.length-1,o=e,i=1;n>=0;--n){const e=this.dims[n];n!==t&&(r+=o%e*i,i*=this.dims[n]),o=Math.floor(o/e)}this.data[e]/=n.data[r]}return this}normalize(e=2,t=1){return this.clone().normalize_(e,t)}stride(){return function(e){const t=new Array(e.length);for(let n=e.length-1,r=1;n>=0;--n)t[n]=r,r*=e[n];return t}(this.dims)}squeeze(e=null){return new ne(this.type,this.data,oe(this.dims,e))}squeeze_(e=null){return this.dims=oe(this.dims,e),this}unsqueeze(e=null){return new ne(this.type,this.data,ie(this.dims,e))}unsqueeze_(e=null){return this.dims=ie(this.dims,e),this}flatten_(e=0,t=-1){t=(t+this.dims.length)%this.dims.length;let n=this.dims.slice(0,e),r=this.dims.slice(e,t+1),o=this.dims.slice(t+1);return this.dims=[...n,r.reduce((e,t)=>e*t,1),...o],this}flatten(e=0,t=-1){return this.clone().flatten_(e,t)}view(...e){let t=-1;for(let n=0;n<e.length;++n)if(-1===e[n]){if(-1!==t)throw new Error("Only one dimension can be inferred");t=n}if(-1!==t){const n=e.reduce((e,n,r)=>r!==t?e*n:e,1);e[t]=this.data.length/n}return new ne(this.type,this.data,e)}neg_(){for(let e=0;e<this.data.length;++e)this.data[e]=-this.data[e];return this}neg(){return this.clone().neg_()}clamp_(e,t){for(let n=0;n<this.data.length;++n)this.data[n]=Math.min(Math.max(this.data[n],e),t);return this}clamp(e,t){return this.clone().clamp_(e,t)}round_(){for(let e=0;e<this.data.length;++e)this.data[e]=Math.round(this.data[e]);return this}round(){return this.clone().round_()}to(e){if(this.type===e)return this;if(!ee.hasOwnProperty(e))throw new Error(`Unsupported type: ${e}`);return new ne(e,ee[e].from(this.data),this.dims)}}function re(e,[t,n],r="bilinear",o=!1){const i=e.dims.at(-3)??1,s=e.dims.at(-2),a=e.dims.at(-1);let c=function(e,[t,n,r],[o,i]){const s=i/r,a=o/n,c=new e.constructor(o*i*t),l=n*r,u=o*i;for(let d=0;d<o;++d)for(let o=0;o<i;++o){const f=d*i+o,h=(o+.5)/s-.5,p=(d+.5)/a-.5;let g=Math.floor(h),m=Math.floor(p);const y=Math.min(g+1,r-1),b=Math.min(m+1,n-1);g=Math.max(g,0),m=Math.max(m,0);const v=h-g,_=p-m,w=(1-v)*(1-_),S=v*(1-_),x=(1-v)*_,I=v*_,A=m*r,C=b*r,k=A+g,E=A+y,T=C+g,P=C+y;for(let n=0;n<t;++n){const t=n*l;c[n*u+f]=w*e[t+k]+S*e[t+E]+x*e[t+T]+I*e[t+P]}}return c}(e.data,[i,s,a],[t,n]);return new ne(e.type,c,[i,t,n])}function oe(e,t){return e=e.slice(),null===t?e=e.filter(e=>1!==e):"number"==typeof t?1===e[t]&&e.splice(t,1):Array.isArray(t)&&(e=e.filter((e,n)=>1!==e||!t.includes(n))),e}function ie(e,t){return t=se(t,e.length+1),(e=e.slice()).splice(t,0,1),e}function se(e,t,n=null){if(e<-t||e>=t)throw new Error(`IndexError: index ${e} is out of bounds for dimension${null===n?"":" "+n} with size ${t}`);return e<0&&(e=(e%t+t)%t),e}function ae(e,t=0){t=se(t,e[0].dims.length);const n=e[0].dims.slice();n[t]=e.reduce((e,n)=>e+n.dims[t],0);const r=n.reduce((e,t)=>e*t,1),o=new e[0].data.constructor(r),i=e[0].type;if(0===t){let t=0;for(let n of e)o.set(n.data,t),t+=n.data.length}else{let r=0;for(let i=0;i<e.length;++i){let s=e[i];for(let e=0;e<s.data.length;++e){let i=0;for(let o=s.dims.length-1,a=e,c=1;o>=0;--o){const e=s.dims[o];let l=a%e;o===t&&(l+=r),i+=l*c,c*=n[o],a=Math.floor(a/e)}o[i]=s.data[e]}r+=s.dims[t]}}return new ne(i,o,n)}function ce(e,t=0){return ae(e.map(e=>e.unsqueeze(t)),t)}function le(e,t=null,n=!1){if(null===t){let t=e.data.reduce((e,t)=>e+t,0);return new ne(e.type,[t/e.data.length],[])}t=se(t,e.dims.length);const r=e.dims.slice();r[t]=1;const o=new e.data.constructor(e.data.length/e.dims[t]);for(let n=0;n<e.data.length;++n){let i=0;for(let o=e.dims.length-1,s=n,a=1;o>=0;--o){const n=e.dims[o];o!==t&&(i+=s%n*a,a*=r[o]),s=Math.floor(s/n)}o[i]+=e.data[n]}if(1!==e.dims[t])for(let n=0;n<o.length;++n)o[n]=o[n]/e.dims[t];return n||r.splice(t,1),new ne(e.type,o,r)}function ue(e){const[t,n]=e.dims,r=[t+1,n+1],o=new ne("float32",new Float32Array(r[0]*r[1]).fill(1/0),r),i=new ne("float32",new Float32Array(r[0]*r[1]).fill(-1),r);o[0].data[0]=0;for(let r=1;r<n+1;++r)for(let n=1;n<t+1;++n){const t=o[n-1][r-1].item(),s=o[n-1][r].item(),a=o[n][r-1].item();let c,l;t<s&&t<a?(c=t,l=0):s<t&&s<a?(c=s,l=1):(c=a,l=2),o[n].data[r]=e[n-1][r-1].item()+c,i[n].data[r]=l}let s=t,a=n;i.data.fill(2,0,r[1]);for(let e=0;e<r[0];++e)i[e].data[0]=1;let c=[],l=[];for(;s>0||a>0;)switch(c.push(s-1),l.push(a-1),i[s][a].item()){case 0:--s,--a;break;case 1:--s;break;case 2:--a;break;default:throw new Error(`Internal error in dynamic time warping. Unexpected trace[${s}, ${a}]. Please file a bug report.`)}return c.reverse(),l.reverse(),[c,l]}class de{constructor(e=(e,t)=>e>t){this._heap=[],this._comparator=e}get size(){return this._heap.length}isEmpty(){return 0===this.size}peek(){return this._heap[0]}push(...e){return this.extend(e)}extend(e){for(const t of e)this._heap.push(t),this._siftUp();return this.size}pop(){const e=this.peek(),t=this.size-1;return t>0&&this._swap(0,t),this._heap.pop(),this._siftDown(),e}replace(e){const t=this.peek();return this._heap[0]=e,this._siftDown(),t}_parent(e){return(e+1>>>1)-1}_left(e){return 1+(e<<1)}_right(e){return e+1<<1}_greater(e,t){return this._comparator(this._heap[e],this._heap[t])}_swap(e,t){const n=this._heap[e];this._heap[e]=this._heap[t],this._heap[t]=n}_siftUp(){let e=this.size-1;for(;e>0&&this._greater(e,this._parent(e));)this._swap(e,this._parent(e)),e=this._parent(e)}_siftDown(){let e=0;for(;this._left(e)<this.size&&this._greater(this._left(e),e)||this._right(e)<this.size&&this._greater(this._right(e),e);){const t=this._right(e)<this.size&&this._greater(this._right(e),this._left(e))?this._right(e):this._left(e);this._swap(e,t),e=t}}}class fe{constructor(){this.root=he.default()}extend(e){for(let t of e)this.push(t)}push(e){let t=this.root;for(let n of e){let e=t.children.get(n);void 0===e&&(e=he.default(),t.children.set(n,e)),t=e}t.isLeaf=!0}*commonPrefixSearch(e){let t=this.root,n="";for(let r=0;r<e.length&&void 0!==t;++r){const o=e[r];n+=o,t=t.children.get(o),void 0!==t&&t.isLeaf&&(yield n)}}}class he{constructor(e,t){this.isLeaf=e,this.children=t}static default(){return new he(!1,new Map)}}class pe{constructor(e,t,n){this.sentence=e,this.len=e.length,this.bosTokenId=t,this.eosTokenId=n,this.nodes=[],this.beginNodes=Array.from({length:this.len+1},()=>[]),this.endNodes=Array.from({length:this.len+1},()=>[]);const r=new ge(this.bosTokenId,0,0,0,0),o=new ge(this.eosTokenId,1,this.len,0,0);this.nodes.push(r.clone()),this.nodes.push(o.clone()),this.beginNodes[this.len].push(o),this.endNodes[0].push(r)}insert(e,t,n,r){const o=this.nodes.length,i=new ge(r,o,e,t,n);this.beginNodes[e].push(i),this.endNodes[e+t].push(i),this.nodes.push(i)}viterbi(){const e=this.len;let t=0;for(;t<=e;){if(0==this.beginNodes[t].length)return[];for(let e of this.beginNodes[t]){e.prev=null;let n=0,r=null;for(let o of this.endNodes[t]){const t=o.backtraceScore+e.score;(null===r||t>n)&&(r=o.clone(),n=t)}if(null===r)return[];e.prev=r,e.backtraceScore=n}++t}const n=[],r=this.beginNodes[e][0].prev;if(null===r)return[];let o=r.clone();for(;null!==o.prev;){n.push(o.clone());const e=o.clone();o=e.prev.clone()}return n.reverse(),n}piece(e){return this.sentence.slice(e.pos,e.pos+e.length)}tokens(){return this.viterbi().map(e=>this.piece(e))}tokenIds(){return this.viterbi().map(e=>e.tokenId)}}class ge{constructor(e,t,n,r,o){this.tokenId=e,this.nodeId=t,this.pos=n,this.length=r,this.score=o,this.prev=null,this.backtraceScore=0}clone(){const e=new ge(this.tokenId,this.nodeId,this.pos,this.length,this.score);return e.prev=this.prev,e.backtraceScore=this.backtraceScore,e}}var me=Object.freeze({Text:"Text",NumericLiteral:"NumericLiteral",BooleanLiteral:"BooleanLiteral",StringLiteral:"StringLiteral",Identifier:"Identifier",Equals:"Equals",OpenParen:"OpenParen",CloseParen:"CloseParen",OpenStatement:"OpenStatement",CloseStatement:"CloseStatement",OpenExpression:"OpenExpression",CloseExpression:"CloseExpression",OpenSquareBracket:"OpenSquareBracket",CloseSquareBracket:"CloseSquareBracket",OpenCurlyBracket:"OpenCurlyBracket",CloseCurlyBracket:"CloseCurlyBracket",Comma:"Comma",Dot:"Dot",Colon:"Colon",Pipe:"Pipe",CallOperator:"CallOperator",AdditiveBinaryOperator:"AdditiveBinaryOperator",MultiplicativeBinaryOperator:"MultiplicativeBinaryOperator",ComparisonBinaryOperator:"ComparisonBinaryOperator",UnaryOperator:"UnaryOperator",Set:"Set",If:"If",For:"For",In:"In",Is:"Is",NotIn:"NotIn",Else:"Else",EndIf:"EndIf",ElseIf:"ElseIf",EndFor:"EndFor",And:"And",Or:"Or",Not:"UnaryOperator"}),ye=Object.freeze({set:me.Set,for:me.For,in:me.In,is:me.Is,if:me.If,else:me.Else,endif:me.EndIf,elif:me.ElseIf,endfor:me.EndFor,and:me.And,or:me.Or,not:me.Not,"not in":me.NotIn,true:me.BooleanLiteral,false:me.BooleanLiteral}),be=class{constructor(e,t){this.value=e,this.type=t}};function ve(e){return/\w/.test(e)}function _e(e){return/[0-9]/.test(e)}var we=[["{%",me.OpenStatement],["%}",me.CloseStatement],["{{",me.OpenExpression],["}}",me.CloseExpression],["(",me.OpenParen],[")",me.CloseParen],["{",me.OpenCurlyBracket],["}",me.CloseCurlyBracket],["[",me.OpenSquareBracket],["]",me.CloseSquareBracket],[",",me.Comma],[".",me.Dot],[":",me.Colon],["|",me.Pipe],["<=",me.ComparisonBinaryOperator],[">=",me.ComparisonBinaryOperator],["==",me.ComparisonBinaryOperator],["!=",me.ComparisonBinaryOperator],["<",me.ComparisonBinaryOperator],[">",me.ComparisonBinaryOperator],["+",me.AdditiveBinaryOperator],["-",me.AdditiveBinaryOperator],["*",me.MultiplicativeBinaryOperator],["/",me.MultiplicativeBinaryOperator],["%",me.MultiplicativeBinaryOperator],["=",me.Equals]],Se=new Map([["n","\n"],["t","\t"],["r","\r"],["b","\b"],["f","\f"],["v","\v"],["'","'"],['"','"'],["\\","\\"]]),xe=class{type="Statement"},Ie=class extends xe{constructor(e){super(),this.body=e}type="Program"},Ae=class extends xe{constructor(e,t,n){super(),this.test=e,this.body=t,this.alternate=n}type="If"},Ce=class extends xe{constructor(e,t,n){super(),this.loopvar=e,this.iterable=t,this.body=n}type="For"},ke=class extends xe{constructor(e,t){super(),this.assignee=e,this.value=t}type="Set"},Ee=class extends xe{type="Expression"},Te=class extends Ee{constructor(e,t,n){super(),this.object=e,this.property=t,this.computed=n}type="MemberExpression"},Pe=class extends Ee{constructor(e,t){super(),this.callee=e,this.args=t}type="CallExpression"},Me=class extends Ee{constructor(e){super(),this.value=e}type="Identifier"},Oe=class extends Ee{constructor(e){super(),this.value=e}type="Literal"},De=class extends Oe{type="NumericLiteral"},Re=class extends Oe{type="StringLiteral"},Ne=class extends Oe{type="BooleanLiteral"},Fe=class extends Oe{type="ArrayLiteral"},Le=class extends Oe{type="TupleLiteral"},Be=class extends Oe{type="ObjectLiteral"},$e=class extends Ee{constructor(e,t,n){super(),this.operator=e,this.left=t,this.right=n}type="BinaryExpression"},je=class extends Ee{constructor(e,t){super(),this.operand=e,this.filter=t}type="FilterExpression"},Ue=class extends Ee{constructor(e,t,n){super(),this.operand=e,this.negate=t,this.test=n}type="TestExpression"},ze=class extends Ee{constructor(e,t){super(),this.operator=e,this.argument=t}type="UnaryExpression"},Ve=class extends Ee{constructor(e=void 0,t=void 0,n=void 0){super(),this.start=e,this.stop=t,this.step=n}type="SliceExpression"},qe=class extends Ee{constructor(e,t){super(),this.key=e,this.value=t}type="KeywordArgumentExpression"};function He(e){const t=new Ie([]);let n=0;function r(t,r){const o=e[n++];if(!o||o.type!==t)throw new Error(`Parser Error: ${r}. ${o.type} !== ${t}.`);return o}function o(){switch(e[n].type){case me.Text:return new Re(r(me.Text,"Expected text token").value);case me.OpenStatement:return function(){let t;switch(r(me.OpenStatement,"Expected opening statement token"),e[n].type){case me.Set:++n,t=a(),r(me.CloseStatement,"Expected closing statement token");break;case me.If:++n,t=c(),r(me.OpenStatement,"Expected {% token"),r(me.EndIf,"Expected endif token"),r(me.CloseStatement,"Expected %} token");break;case me.For:++n,t=function(){const e=l(!0);if(!(e instanceof Me||e instanceof Le))throw new SyntaxError(`Expected identifier/tuple for the loop variable, got ${e.type} instead`);r(me.In,"Expected `in` keyword following loop variable");const t=u();r(me.CloseStatement,"Expected closing statement token");const n=[];for(;i(me.OpenStatement,me.EndFor);)n.push(o());return new Ce(e,t,n)}(),r(me.OpenStatement,"Expected {% token"),r(me.EndFor,"Expected endfor token"),r(me.CloseStatement,"Expected %} token");break;default:throw new SyntaxError(`Unknown statement type: ${e[n].type}`)}return t}();case me.OpenExpression:return function(){r(me.OpenExpression,"Expected opening expression token");const e=u();return r(me.CloseExpression,"Expected closing expression token"),e}();default:throw new SyntaxError(`Unexpected token type: ${e[n].type}`)}}function i(...t){return n+t.length<=e.length&&t.some((t,r)=>t!==e[n+r].type)}function s(...t){return n+t.length<=e.length&&t.every((t,r)=>t===e[n+r].type)}function a(){const e=u();if(s(me.Equals)){++n;const t=a();return new ke(e,t)}return e}function c(){const t=u();r(me.CloseStatement,"Expected closing statement token");const i=[],a=[];for(;e[n]?.type!==me.OpenStatement||e[n+1]?.type!==me.ElseIf&&e[n+1]?.type!==me.Else&&e[n+1]?.type!==me.EndIf;)i.push(o());if(e[n]?.type===me.OpenStatement&&e[n+1]?.type!==me.EndIf)if(++n,s(me.ElseIf))r(me.ElseIf,"Expected elseif token"),a.push(c());else for(r(me.Else,"Expected else token"),r(me.CloseStatement,"Expected closing statement token");e[n]?.type!==me.OpenStatement||e[n+1]?.type!==me.EndIf;)a.push(o());return new Ae(t,i,a)}function l(e=!1){const t=e?v:u,r=[t()],o=s(me.Comma);for(;o&&(++n,r.push(t()),s(me.Comma)););return o?new Le(r):r[0]}function u(){return function(){const e=d();if(s(me.If)){++n;const t=d();r(me.Else,"Expected else token");const o=d();return new Ae(t,[e],[o])}return e}()}function d(){let t=f();for(;s(me.Or);){const r=e[n];++n;const o=f();t=new $e(r,t,o)}return t}function f(){let t=h();for(;s(me.And);){const r=e[n];++n;const o=h();t=new $e(r,t,o)}return t}function h(){let t;for(;s(me.Not);){const r=e[n];++n;const o=h();t=new ze(r,o)}return t??function(){let t=p();for(;s(me.ComparisonBinaryOperator)||s(me.In)||s(me.NotIn);){const r=e[n];++n;const o=p();t=new $e(r,t,o)}return t}()}function p(){let t=y();for(;s(me.AdditiveBinaryOperator);){const r=e[n];++n;const o=y();t=new $e(r,t,o)}return t}function g(e){let t=new Pe(e,function(){r(me.OpenParen,"Expected opening parenthesis for arguments list");const e=function(){const e=[];for(;!s(me.CloseParen);){let t=u();if(s(me.Equals)){if(++n,!(t instanceof Me))throw new SyntaxError("Expected identifier for keyword argument");const e=u();t=new qe(t,e)}e.push(t),s(me.Comma)&&++n}return e}();return r(me.CloseParen,"Expected closing parenthesis for arguments list"),e}());return s(me.OpenParen)&&(t=g(t)),t}function m(){const e=[];let t=!1;for(;!s(me.CloseSquareBracket);)s(me.Colon)?(e.push(void 0),++n,t=!0):(e.push(u()),s(me.Colon)&&(++n,t=!0));if(0===e.length)throw new SyntaxError("Expected at least one argument for member/slice expression");if(t){if(e.length>3)throw new SyntaxError("Expected 0-3 arguments for slice expression");return new Ve(...e)}return e[0]}function y(){let t=b();for(;s(me.MultiplicativeBinaryOperator);){const r=e[n];++n;const o=b();t=new $e(r,t,o)}return t}function b(){let t=function(){let t=function(){const t=function(){let t=v();for(;s(me.Dot)||s(me.OpenSquareBracket);){const o=e[n];let i;++n;const s=o.type!==me.Dot;if(s)i=m(),r(me.CloseSquareBracket,"Expected closing square bracket");else if(i=v(),"Identifier"!==i.type)throw new SyntaxError("Expected identifier following dot operator");t=new Te(t,i,s)}return t}();return s(me.OpenParen)?g(t):t}();for(;s(me.Pipe);){++n;let e=v();if(!(e instanceof Me))throw new SyntaxError("Expected identifier for the filter");s(me.OpenParen)&&(e=g(e)),t=new je(t,e)}return t}();for(;s(me.Is);){++n;const e=s(me.Not);e&&++n;let r=v();if(r instanceof Ne&&(r=new Me(r.value.toString())),!(r instanceof Me))throw new SyntaxError("Expected identifier for the test");t=new Ue(t,e,r)}return t}function v(){const t=e[n];switch(t.type){case me.NumericLiteral:return++n,new De(Number(t.value));case me.StringLiteral:return++n,new Re(t.value);case me.BooleanLiteral:return++n,new Ne("true"===t.value);case me.Identifier:return++n,new Me(t.value);case me.OpenParen:{++n;const t=l();if(e[n].type!==me.CloseParen)throw new SyntaxError(`Expected closing parenthesis, got ${e[n].type} instead`);return++n,t}case me.OpenSquareBracket:{++n;const e=[];for(;!s(me.CloseSquareBracket);)e.push(u()),s(me.Comma)&&++n;return++n,new Fe(e)}case me.OpenCurlyBracket:{++n;const e=new Map;for(;!s(me.CloseCurlyBracket);){const t=u();r(me.Colon,"Expected colon between key and value in object literal");const o=u();e.set(t,o),s(me.Comma)&&++n}return++n,new Be(e)}default:throw new SyntaxError(`Unexpected token: ${t.type}`)}}for(;n<e.length;)t.body.push(o());return t}function Ge(e,t,n=1){void 0===t&&(t=e,e=0);const r=[];for(let o=e;o<t;o+=n)r.push(o);return r}function We(e,t,n,r=1){const o=Math.sign(r);o>=0?(t=(t??=0)<0?Math.max(e.length+t,0):Math.min(t,e.length),n=(n??=e.length)<0?Math.max(e.length+n,0):Math.min(n,e.length)):(t=(t??=e.length-1)<0?Math.max(e.length+t,-1):Math.min(t,e.length-1),n=(n??=-1)<-1?Math.max(e.length+n,-1):Math.min(n,e.length-1));const i=[];for(let s=t;o*s<o*n;s+=r)i.push(e[s]);return i}function Ke(e){return e.replace(/\b\w/g,e=>e.toUpperCase())}var Ye=class{type="RuntimeValue";value;builtins=new Map;constructor(e=void 0){this.value=e}__bool__(){return new Ze(!!this.value)}},Je=class extends Ye{type="NumericValue"},Xe=class extends Ye{type="StringValue";builtins=new Map([["upper",new nt(()=>new Xe(this.value.toUpperCase()))],["lower",new nt(()=>new Xe(this.value.toLowerCase()))],["strip",new nt(()=>new Xe(this.value.trim()))],["title",new nt(()=>new Xe(Ke(this.value)))],["length",new Je(this.value.length)]])},Ze=class extends Ye{type="BooleanValue"},Qe=class extends Ye{type="ObjectValue";__bool__(){return new Ze(this.value.size>0)}builtins=new Map([["get",new nt(([e,t])=>{if(!(e instanceof Xe))throw new Error(`Object key must be a string: got ${e.type}`);return this.value.get(e.value)??t??new rt})],["items",new nt(()=>new et(Array.from(this.value.entries()).map(([e,t])=>new et([new Xe(e),t]))))]])},et=class extends Ye{type="ArrayValue";builtins=new Map([["length",new Je(this.value.length)]]);__bool__(){return new Ze(this.value.length>0)}},tt=class extends et{type="TupleValue"},nt=class extends Ye{type="FunctionValue"},rt=class extends Ye{type="NullValue"},ot=class extends Ye{type="UndefinedValue"},it=class{constructor(e){this.parent=e}variables=new Map([["namespace",new nt(e=>{if(0===e.length)return new Qe(new Map);if(1!==e.length||!(e[0]instanceof Qe))throw new Error("`namespace` expects either zero arguments or a single object argument");return e[0]})]]);tests=new Map([["boolean",e=>"BooleanValue"===e.type],["callable",e=>e instanceof nt],["odd",e=>{if("NumericValue"!==e.type)throw new Error(`Cannot apply test "odd" to type: ${e.type}`);return e.value%2!=0}],["even",e=>{if("NumericValue"!==e.type)throw new Error(`Cannot apply test "even" to type: ${e.type}`);return e.value%2==0}],["false",e=>"BooleanValue"===e.type&&!e.value],["true",e=>"BooleanValue"===e.type&&e.value],["number",e=>"NumericValue"===e.type],["integer",e=>"NumericValue"===e.type&&Number.isInteger(e.value)],["iterable",e=>e instanceof et||e instanceof Xe],["lower",e=>{const t=e.value;return"StringValue"===e.type&&t===t.toLowerCase()}],["upper",e=>{const t=e.value;return"StringValue"===e.type&&t===t.toUpperCase()}],["none",e=>"NullValue"===e.type],["defined",e=>"UndefinedValue"!==e.type],["undefined",e=>"UndefinedValue"===e.type],["equalto",(e,t)=>e.value===t.value]]);set(e,t){return this.declareVariable(e,at(t))}declareVariable(e,t){if(this.variables.has(e))throw new SyntaxError(`Variable already declared: ${e}`);return this.variables.set(e,t),t}setVariable(e,t){return this.variables.set(e,t),t}resolve(e){if(this.variables.has(e))return this;if(this.parent)return this.parent.resolve(e);throw new Error(`Unknown variable: ${e}`)}lookupVariable(e){try{return this.resolve(e).variables.get(e)??new ot}catch{return new ot}}},st=class{global;constructor(e){this.global=e??new it}run(e){return this.evaluate(e,this.global)}evaluateBinaryExpression(e,t){const n=this.evaluate(e.left,t);switch(e.operator.value){case"and":return n.__bool__().value?this.evaluate(e.right,t):n;case"or":return n.__bool__().value?n:this.evaluate(e.right,t)}const r=this.evaluate(e.right,t);switch(e.operator.value){case"==":return new Ze(n.value==r.value);case"!=":return new Ze(n.value!=r.value)}if(n instanceof ot||r instanceof ot)throw new Error("Cannot perform operation on undefined values");if(n instanceof rt||r instanceof rt)throw new Error("Cannot perform operation on null values");if(n instanceof Je&&r instanceof Je)switch(e.operator.value){case"+":return new Je(n.value+r.value);case"-":return new Je(n.value-r.value);case"*":return new Je(n.value*r.value);case"/":return new Je(n.value/r.value);case"%":return new Je(n.value%r.value);case"<":return new Ze(n.value<r.value);case">":return new Ze(n.value>r.value);case">=":return new Ze(n.value>=r.value);case"<=":return new Ze(n.value<=r.value)}else if(n instanceof et&&r instanceof et){if("+"===e.operator.value)return new et(n.value.concat(r.value))}else if(r instanceof et){const t=void 0!==r.value.find(e=>e.value===n.value);switch(e.operator.value){case"in":return new Ze(t);case"not in":return new Ze(!t)}}if((n instanceof Xe||r instanceof Xe)&&"+"===e.operator.value)return new Xe(n.value.toString()+r.value.toString());if(n instanceof Xe&&r instanceof Xe)switch(e.operator.value){case"in":return new Ze(r.value.includes(n.value));case"not in":return new Ze(!r.value.includes(n.value))}if(n instanceof Xe&&r instanceof Qe)switch(e.operator.value){case"in":return new Ze(r.value.has(n.value));case"not in":return new Ze(!r.value.has(n.value))}throw new SyntaxError(`Unknown operator "${e.operator.value}" between ${n.type} and ${r.type}`)}evaluateFilterExpression(e,t){const n=this.evaluate(e.operand,t);if("Identifier"===e.filter.type){const t=e.filter;if(n instanceof et)switch(t.value){case"list":return n;case"first":return n.value[0];case"last":return n.value[n.value.length-1];case"length":return new Je(n.value.length);case"reverse":return new et(n.value.reverse());case"sort":return new et(n.value.sort((e,t)=>{if(e.type!==t.type)throw new Error(`Cannot compare different types: ${e.type} and ${t.type}`);switch(e.type){case"NumericValue":return e.value-t.value;case"StringValue":return e.value.localeCompare(t.value);default:throw new Error(`Cannot compare type: ${e.type}`)}}));default:throw new Error(`Unknown ArrayValue filter: ${t.value}`)}else if(n instanceof Xe)switch(t.value){case"length":return new Je(n.value.length);case"upper":return new Xe(n.value.toUpperCase());case"lower":return new Xe(n.value.toLowerCase());case"title":return new Xe(Ke(n.value));case"capitalize":return new Xe(n.value.charAt(0).toUpperCase()+n.value.slice(1));case"trim":return new Xe(n.value.trim());default:throw new Error(`Unknown StringValue filter: ${t.value}`)}else{if(n instanceof Je){if("abs"===t.value)return new Je(Math.abs(n.value));throw new Error(`Unknown NumericValue filter: ${t.value}`)}if(n instanceof Qe)switch(t.value){case"items":return new et(Array.from(n.value.entries()).map(([e,t])=>new et([new Xe(e),t])));case"length":return new Je(n.value.size);default:throw new Error(`Unknown ObjectValue filter: ${t.value}`)}}throw new Error(`Cannot apply filter "${t.value}" to type: ${n.type}`)}if("CallExpression"===e.filter.type){const r=e.filter;if("Identifier"!==r.callee.type)throw new Error(`Unknown filter: ${r.callee.type}`);const o=r.callee.value;if(n instanceof et){if("selectattr"===o){if(n.value.some(e=>!(e instanceof Qe)))throw new Error("`selectattr` can only be applied to array of objects");if(r.args.some(e=>"StringLiteral"!==e.type))throw new Error("arguments of `selectattr` must be strings");const[e,o,i]=r.args.map(e=>this.evaluate(e,t));let s;if(o){const e=t.tests.get(o.value);if(!e)throw new Error(`Unknown test: ${o.value}`);s=e}else s=(...e)=>e[0].__bool__().value;const a=n.value.filter(t=>{const n=t.value.get(e.value);return!!n&&s(n,i)});return new et(a)}throw new Error(`Unknown ArrayValue filter: ${o}`)}throw new Error(`Cannot apply filter "${o}" to type: ${n.type}`)}throw new Error(`Unknown filter: ${e.filter.type}`)}evaluateTestExpression(e,t){const n=this.evaluate(e.operand,t),r=t.tests.get(e.test.value);if(!r)throw new Error(`Unknown test: ${e.test.value}`);const o=r(n);return new Ze(e.negate?!o:o)}evaluateUnaryExpression(e,t){const n=this.evaluate(e.argument,t);if("not"===e.operator.value)return new Ze(!n.value);throw new SyntaxError(`Unknown operator: ${e.operator.value}`)}evalProgram(e,t){return this.evaluateBlock(e.body,t)}evaluateBlock(e,t){let n="";for(const r of e){const e=this.evaluate(r,t);"NullValue"!==e.type&&"UndefinedValue"!==e.type&&(n+=e.value)}return new Xe(n)}evaluateIdentifier(e,t){return t.lookupVariable(e.value)}evaluateCallExpression(e,t){const n=[],r=new Map;for(const o of e.args)if("KeywordArgumentExpression"===o.type){const e=o;r.set(e.key.value,this.evaluate(e.value,t))}else n.push(this.evaluate(o,t));r.size>0&&n.push(new Qe(r));const o=this.evaluate(e.callee,t);if("FunctionValue"!==o.type)throw new Error(`Cannot call something that is not a function: got ${o.type}`);return o.value(n,t)}evaluateSliceExpression(e,t,n){if(!(e instanceof et||e instanceof Xe))throw new Error("Slice object must be an array or string");const r=this.evaluate(t.start,n),o=this.evaluate(t.stop,n),i=this.evaluate(t.step,n);if(!(r instanceof Je||r instanceof ot))throw new Error("Slice start must be numeric or undefined");if(!(o instanceof Je||o instanceof ot))throw new Error("Slice stop must be numeric or undefined");if(!(i instanceof Je||i instanceof ot))throw new Error("Slice step must be numeric or undefined");return e instanceof et?new et(We(e.value,r.value,o.value,i.value)):new Xe(We(Array.from(e.value),r.value,o.value,i.value).join(""))}evaluateMemberExpression(e,t){const n=this.evaluate(e.object,t);let r,o;if(e.computed){if("SliceExpression"===e.property.type)return this.evaluateSliceExpression(n,e.property,t);r=this.evaluate(e.property,t)}else r=new Xe(e.property.value);if(n instanceof Qe){if(!(r instanceof Xe))throw new Error(`Cannot access property with non-string: got ${r.type}`);o=n.value.get(r.value)??n.builtins.get(r.value)}else if(n instanceof et||n instanceof Xe)if(r instanceof Je)o=n.value.at(r.value),n instanceof Xe&&(o=new Xe(n.value.at(r.value)));else{if(!(r instanceof Xe))throw new Error(`Cannot access property with non-string/non-number: got ${r.type}`);o=n.builtins.get(r.value)}else{if(!(r instanceof Xe))throw new Error(`Cannot access property with non-string: got ${r.type}`);o=n.builtins.get(r.value)}return o instanceof Ye?o:new ot}evaluateSet(e,t){const n=this.evaluate(e.value,t);if("Identifier"===e.assignee.type){const r=e.assignee.value;t.setVariable(r,n)}else{if("MemberExpression"!==e.assignee.type)throw new Error(`Invalid LHS inside assignment expression: ${JSON.stringify(e.assignee)}`);{const r=e.assignee,o=this.evaluate(r.object,t);if(!(o instanceof Qe))throw new Error("Cannot assign to member of non-object");if("Identifier"!==r.property.type)throw new Error("Cannot assign to member with non-identifier property");o.value.set(r.property.value,n)}}return new rt}evaluateIf(e,t){const n=this.evaluate(e.test,t);return this.evaluateBlock(n.__bool__().value?e.body:e.alternate,t)}evaluateFor(e,t){const n=new it(t),r=this.evaluate(e.iterable,n);if(!(r instanceof et))throw new Error(`Expected iterable type in for loop: got ${r.type}`);let o="";for(let t=0;t<r.value.length;++t){const i=new Map([["index",new Je(t+1)],["index0",new Je(t)],["revindex",new Je(r.value.length-t)],["revindex0",new Je(r.value.length-t-1)],["first",new Ze(0===t)],["last",new Ze(t===r.value.length-1)],["length",new Je(r.value.length)],["previtem",t>0?r.value[t-1]:new ot],["nextitem",t<r.value.length-1?r.value[t+1]:new ot]]);n.setVariable("loop",new Qe(i));const s=r.value[t];if("Identifier"===e.loopvar.type)n.setVariable(e.loopvar.value,s);else if("TupleLiteral"===e.loopvar.type){const t=e.loopvar;if("ArrayValue"!==s.type)throw new Error(`Cannot unpack non-iterable type: ${s.type}`);const r=s;if(t.value.length!==r.value.length)throw new Error(`Too ${t.value.length>r.value.length?"few":"many"} items to unpack`);for(let e=0;e<t.value.length;++e){if("Identifier"!==t.value[e].type)throw new Error(`Cannot unpack non-identifier type: ${t.value[e].type}`);n.setVariable(t.value[e].value,r.value[e])}}o+=this.evaluateBlock(e.body,n).value}return new Xe(o)}evaluate(e,t){if(void 0===e)return new ot;switch(e.type){case"Program":return this.evalProgram(e,t);case"Set":return this.evaluateSet(e,t);case"If":return this.evaluateIf(e,t);case"For":return this.evaluateFor(e,t);case"NumericLiteral":return new Je(Number(e.value));case"StringLiteral":return new Xe(e.value);case"BooleanLiteral":return new Ze(e.value);case"ArrayLiteral":return new et(e.value.map(e=>this.evaluate(e,t)));case"TupleLiteral":return new tt(e.value.map(e=>this.evaluate(e,t)));case"ObjectLiteral":{const n=new Map;for(const[r,o]of e.value){const e=this.evaluate(r,t);if(!(e instanceof Xe))throw new Error(`Object keys must be strings: got ${e.type}`);n.set(e.value,this.evaluate(o,t))}return new Qe(n)}case"Identifier":return this.evaluateIdentifier(e,t);case"CallExpression":return this.evaluateCallExpression(e,t);case"MemberExpression":return this.evaluateMemberExpression(e,t);case"UnaryExpression":return this.evaluateUnaryExpression(e,t);case"BinaryExpression":return this.evaluateBinaryExpression(e,t);case"FilterExpression":return this.evaluateFilterExpression(e,t);case"TestExpression":return this.evaluateTestExpression(e,t);default:throw new SyntaxError(`Unknown node type: ${e.type}`)}}};function at(e){switch(typeof e){case"number":return new Je(e);case"string":return new Xe(e);case"boolean":return new Ze(e);case"object":return null===e?new rt:Array.isArray(e)?new et(e.map(at)):new Qe(new Map(Object.entries(e).map(([e,t])=>[e,at(t)])));case"function":return new nt((t,n)=>at(e(...t.map(e=>e.value))??null));default:throw new Error(`Cannot convert to runtime value: ${e}`)}}var ct=class{parsed;constructor(e){const t=function(e,t={}){const n=[],r=function(e,t={}){return e.endsWith("\n")&&(e=e.slice(0,-1)),e=e.replace(/{#.*?#}/gs,"{##}"),t.lstrip_blocks&&(e=e.replace(/^[ \t]*({[#%])/gm,"$1")),t.trim_blocks&&(e=e.replace(/([#%]})\n/g,"$1")),e.replace(/{##}/g,"").replace(/-%}\s*/g,"%}").replace(/\s*{%-/g,"{%").replace(/-}}\s*/g,"}}").replace(/\s*{{-/g,"{{")}(e,t);let o=0;const i=e=>{let t="";for(;e(r[o]);){if("\\"===r[o]){if(++o,o>=r.length)throw new SyntaxError("Unexpected end of input");const e=r[o++],n=Se.get(e);if(void 0===n)throw new SyntaxError(`Unexpected escaped character: ${e}`);t+=n;continue}if(t+=r[o++],o>=r.length)throw new SyntaxError("Unexpected end of input")}return t};e:for(;o<r.length;){const e=n.at(-1)?.type;if(void 0===e||e===me.CloseStatement||e===me.CloseExpression){let e="";for(;o<r.length&&("{"!==r[o]||"%"!==r[o+1]&&"{"!==r[o+1]);)e+=r[o++];if(e.length>0){n.push(new be(e,me.Text));continue}}i(e=>/\s/.test(e));const t=r[o];if("-"===t||"+"===t){const e=n.at(-1)?.type;if(e===me.Text||void 0===e)throw new SyntaxError(`Unexpected character: ${t}`);switch(e){case me.Identifier:case me.NumericLiteral:case me.BooleanLiteral:case me.StringLiteral:case me.CloseParen:case me.CloseSquareBracket:break;default:{++o;const e=i(_e);n.push(new be(`${t}${e}`,e.length>0?me.NumericLiteral:me.UnaryOperator));continue}}}for(const[e,t]of we)if(r.slice(o,o+e.length)===e){n.push(new be(e,t)),o+=e.length;continue e}if("'"===t||'"'===t){++o;const e=i(e=>e!==t);n.push(new be(e,me.StringLiteral)),++o;continue}if(_e(t)){const e=i(_e);n.push(new be(e,me.NumericLiteral));continue}if(ve(t)){const e=i(ve),t=Object.hasOwn(ye,e)?ye[e]:me.Identifier;t===me.In&&n.at(-1)?.type===me.Not?(n.pop(),n.push(new be("not in",me.NotIn))):n.push(new be(e,t));continue}throw new SyntaxError(`Unexpected character: ${t}`)}return n}(e,{lstrip_blocks:!0,trim_blocks:!0});this.parsed=He(t)}render(e){const t=new it;t.set("false",!1),t.set("true",!0),t.set("raise_exception",e=>{throw new Error(e)}),t.set("range",Ge);for(const[n,r]of Object.entries(e))t.set(n,r);return new st(t).run(this.parsed).value}};async function lt(e,t){const n=await Promise.all([z(e,"tokenizer.json",!0,t),z(e,"tokenizer_config.json",!0,t)]);return null!==t.legacy&&(n[1].legacy=t.legacy),n}function ut(e,t=!0){if(void 0!==e.Regex){let t=e.Regex.replace(/\\([#&~])/g,"$1");for(const[e,n]of mt)t=t.replaceAll(e,n);return new RegExp(t,"gu")}if(void 0!==e.String){const n=o(e.String);return new RegExp(t?n:`(${n})`,"gu")}return console.warn("Unknown pattern type:",e),null}function dt(e){return new Map(Object.entries(e))}function ft(e){const t=e.dims;switch(t.length){case 1:return e.tolist();case 2:if(1!==t[0])throw new Error("Unable to decode tensor with `batch size !== 1`. Use `tokenizer.batch_decode(...)` for batched inputs.");return e.tolist()[0];default:throw new Error(`Expected tensor to have 1-2 dimensions, got ${t.length}.`)}}function ht(e){return e.replace(/ \./g,".").replace(/ \?/g,"?").replace(/ \!/g,"!").replace(/ ,/g,",").replace(/ \' /g,"'").replace(/ n\'t/g,"n't").replace(/ \'m/g,"'m").replace(/ \'s/g,"'s").replace(/ \'ve/g,"'ve").replace(/ \'re/g,"'re")}function pt(e){return e.replace(/[\u0300-\u036f]/g,"")}const gt="\\p{P}\\u0021-\\u002F\\u003A-\\u0040\\u005B-\\u0060\\u007B-\\u007E",mt=new Map([["(?i:'s|'t|'re|'ve|'m|'ll|'d)","(?:'([sS]|[tT]|[rR][eE]|[vV][eE]|[mM]|[lL][lL]|[dD]))"]]);class yt{constructor(e){this.content=e.content,this.id=e.id,this.single_word=e.single_word??!1,this.lstrip=e.lstrip??!1,this.rstrip=e.rstrip??!1,this.special=e.special??!1,this.normalized=e.normalized??null}}class bt extends i{constructor(e){super(),this.config=e,this.vocab=[],this.tokens_to_ids=new Map,this.unk_token_id=void 0,this.unk_token=void 0,this.end_of_word_suffix=void 0,this.fuse_unk=this.config.fuse_unk??!1}static fromConfig(e,...t){switch(e.type){case"WordPiece":return new vt(e);case"Unigram":return new _t(e,...t);case"BPE":return new It(e);default:if(e.vocab)return new At(e,...t);throw new Error(`Unknown TokenizerModel type: ${e.type}`)}}_call(e){let t=this.encode(e);return this.fuse_unk&&(t=function(e,t,n){const r=[];let o=0;for(;o<e.length;)if(r.push(e[o]),(n.get(e[o])??t)===t)for(;o<e.length&&(n.get(e[o])??t)===t;)++o;else++o;return r}(t,this.unk_token_id,this.tokens_to_ids)),t}encode(e){throw Error("encode should be implemented in subclass.")}convert_tokens_to_ids(e){return e.map(e=>this.tokens_to_ids.get(e)??this.unk_token_id)}convert_ids_to_tokens(e){return e.map(e=>this.vocab[e]??this.unk_token)}}class vt extends bt{constructor(e){super(e),this.tokens_to_ids=dt(e.vocab),this.unk_token_id=this.tokens_to_ids.get(e.unk_token),this.unk_token=e.unk_token,this.max_input_chars_per_word=e.max_input_chars_per_word??100,this.vocab=new Array(this.tokens_to_ids.size);for(const[e,t]of this.tokens_to_ids)this.vocab[t]=e}encode(e){const t=[];for(const n of e){const e=[...n];if(e.length>this.max_input_chars_per_word){t.push(this.unk_token);continue}let r=!1,o=0;const i=[];for(;o<e.length;){let t=e.length,n=null;for(;o<t;){let r=e.slice(o,t).join("");if(o>0&&(r=this.config.continuing_subword_prefix+r),this.tokens_to_ids.has(r)){n=r;break}--t}if(null===n){r=!0;break}i.push(n),o=t}r?t.push(this.unk_token):t.push(...i)}return t}}class _t extends bt{constructor(e,t){super(e);const n=e.vocab.length;this.vocab=new Array(n),this.scores=new Array(n);for(let t=0;t<n;++t){const n=e.vocab[t];this.vocab[t]=n[0],this.scores[t]=n[1]}this.unk_token_id=e.unk_id,this.unk_token=this.vocab[e.unk_id],this.tokens_to_ids=new Map(this.vocab.map((e,t)=>[e,t])),this.bosToken=" ",this.bosTokenId=this.tokens_to_ids.get(this.bosToken),this.eosToken=t.eos_token,this.eosTokenId=this.tokens_to_ids.get(this.eosToken),this.unkToken=this.vocab[this.unk_token_id],this.minScore=G(this.scores)[0],this.unkScore=this.minScore-10,this.scores[this.unk_token_id]=this.unkScore,this.trie=new fe,this.trie.extend(this.vocab),this.fuse_unk=!0}populateNodes(e){const t=e.sentence,n=t.length;let r=0;for(;r<n;){const n=1;let o=!1;const i=[];for(let s of this.trie.commonPrefixSearch(t.slice(r))){i.push(s);const t=this.tokens_to_ids.get(s),a=this.scores[t],c=s.length;e.insert(r,c,a,t),o||c!==n||(o=!0)}o||e.insert(r,n,this.unkScore,this.unk_token_id),r+=n}}tokenize(e){const t=new pe(e,this.bosTokenId,this.eosTokenId);return this.populateNodes(t),t.tokens()}encode(e){const t=[];for(const n of e){const e=this.tokenize(n);t.push(...e)}return t}}const wt=(()=>{const e=[...Array.from({length:"~".charCodeAt(0)-"!".charCodeAt(0)+1},(e,t)=>t+"!".charCodeAt(0)),...Array.from({length:"¬".charCodeAt(0)-"¡".charCodeAt(0)+1},(e,t)=>t+"¡".charCodeAt(0)),...Array.from({length:"ÿ".charCodeAt(0)-"®".charCodeAt(0)+1},(e,t)=>t+"®".charCodeAt(0))],t=e.slice();let n=0;for(let r=0;r<256;++r)e.includes(r)||(e.push(r),t.push(256+n),n+=1);const r=t.map(e=>String.fromCharCode(e));return Object.fromEntries(e.map((e,t)=>[e,r[t]]))})(),St=(xt=wt,Object.fromEntries(Object.entries(xt).map(([e,t])=>[t,e])));var xt;class It extends bt{constructor(e){super(e),this.BPE_SPLIT_TOKEN=" ",this.tokens_to_ids=dt(e.vocab),this.unk_token_id=this.tokens_to_ids.get(e.unk_token),this.unk_token=e.unk_token,this.vocab=new Array(this.tokens_to_ids.size);for(const[e,t]of this.tokens_to_ids)this.vocab[t]=e;this.bpe_ranks=new Map(e.merges.map((e,t)=>[e,t])),this.merges=e.merges.map(e=>e.split(this.BPE_SPLIT_TOKEN)),this.end_of_word_suffix=e.end_of_word_suffix,this.continuing_subword_suffix=e.continuing_subword_suffix??null,this.byte_fallback=this.config.byte_fallback??!1,this.byte_fallback&&(this.text_encoder=new TextEncoder),this.ignore_merges=this.config.ignore_merges??!1,this.cache=new Map}bpe(e){if(0===e.length)return[];const t=this.cache.get(e);if(void 0!==t)return t;const n=Array.from(e);this.end_of_word_suffix&&(n[n.length-1]+=this.end_of_word_suffix);let r=[];if(n.length>1){const e=new de((e,t)=>e.score<t.score);let t={token:n[0],bias:0,prev:null,next:null},o=t;for(let t=1;t<n.length;++t){const r={bias:t/n.length,token:n[t],prev:o,next:null};o.next=r,this._add_node(e,o),o=r}for(;!e.isEmpty();){const n=e.pop();if(n.deleted||!n.next||n.next.deleted)continue;if(n.deleted=!0,n.next.deleted=!0,n.prev){const e={...n.prev};n.prev.deleted=!0,n.prev=e,e.prev?e.prev.next=e:t=e}const r={token:n.token+n.next.token,bias:n.bias,prev:n.prev,next:n.next.next};r.prev?(r.prev.next=r,this._add_node(e,r.prev)):t=r,r.next&&(r.next.prev=r,this._add_node(e,r))}for(let e=t;null!==e;e=e.next)r.push(e.token)}else r=n;if(this.continuing_subword_suffix)for(let e=0;e<r.length-1;++e)r[e]+=this.continuing_subword_suffix;return this.cache.set(e,r),r}_add_node(e,t){const n=this.bpe_ranks.get(t.token+this.BPE_SPLIT_TOKEN+t.next.token);void 0!==n&&(t.score=n+t.bias,e.push(t))}encode(e){const t=[];for(const n of e){if(this.ignore_merges&&this.tokens_to_ids.has(n)){t.push(n);continue}const e=this.bpe(n);for(const n of e)this.tokens_to_ids.has(n)?t.push(n):this.byte_fallback?t.push(...Array.from(this.text_encoder.encode(n)).map(e=>`<0x${e.toString(16).toUpperCase().padStart(2,"0")}>`)):t.push(this.unk_token)}return t}}class At extends bt{constructor(e,t){super(e),this.tokens_to_ids=dt(t.target_lang?e.vocab[t.target_lang]:e.vocab),this.bos_token=t.bos_token,this.bos_token_id=this.tokens_to_ids.get(this.bos_token),this.eos_token=t.eos_token,this.eos_token_id=this.tokens_to_ids.get(this.eos_token),this.pad_token=t.pad_token,this.pad_token_id=this.tokens_to_ids.get(this.pad_token),this.unk_token=t.unk_token,this.unk_token_id=this.tokens_to_ids.get(this.unk_token),this.vocab=new Array(this.tokens_to_ids.size);for(const[e,t]of this.tokens_to_ids)this.vocab[t]=e}encode(e){return e}}class Ct extends i{constructor(e){super(),this.config=e}static fromConfig(e){if(null===e)return null;switch(e.type){case"BertNormalizer":return new Ft(e);case"Precompiled":return new ln(e);case"Sequence":return new Nt(e);case"Replace":return new kt(e);case"NFC":return new Et(e);case"NFKC":return new Tt(e);case"NFKD":return new Pt(e);case"Strip":return new Mt(e);case"StripAccents":return new Ot(e);case"Lowercase":return new Dt(e);case"Prepend":return new Rt(e);default:throw new Error(`Unknown Normalizer type: ${e.type}`)}}normalize(e){throw Error("normalize should be implemented in subclass.")}_call(e){return this.normalize(e)}}class kt extends Ct{normalize(e){const t=ut(this.config.pattern);return null===t?e:e.replaceAll(t,this.config.content)}}class Et extends Ct{normalize(e){return e.normalize("NFC")}}class Tt extends Ct{normalize(e){return e.normalize("NFKC")}}class Pt extends Ct{normalize(e){return e.normalize("NFKD")}}class Mt extends Ct{normalize(e){return this.config.strip_left&&this.config.strip_right?e=e.trim():(this.config.strip_left&&(e=e.trimStart()),this.config.strip_right&&(e=e.trimEnd())),e}}class Ot extends Ct{normalize(e){return pt(e)}}class Dt extends Ct{normalize(e){return e.toLowerCase()}}class Rt extends Ct{normalize(e){return this.config.prepend+e}}class Nt extends Ct{constructor(e){super(e),this.normalizers=e.normalizers.map(e=>Ct.fromConfig(e))}normalize(e){return this.normalizers.reduce((e,t)=>t.normalize(e),e)}}class Ft extends Ct{_tokenize_chinese_chars(e){const t=[];for(let n=0;n<e.length;++n){const r=e[n],o=r.charCodeAt(0);this._is_chinese_char(o)?(t.push(" "),t.push(r),t.push(" ")):t.push(r)}return t.join("")}_is_chinese_char(e){return e>=19968&&e<=40959||e>=13312&&e<=19903||e>=131072&&e<=173791||e>=173824&&e<=177983||e>=177984&&e<=178207||e>=178208&&e<=183983||e>=63744&&e<=64255||e>=194560&&e<=195103}stripAccents(e){return e.normalize("NFD").replace(/[\u0300-\u036f]/g,"")}_is_control(e){switch(e){case"\t":case"\n":case"\r":return!1;default:return/^\p{Cc}|\p{Cf}|\p{Co}|\p{Cs}$/u.test(e)}}_clean_text(e){const t=[];for(const n of e){const e=n.charCodeAt(0);0===e||65533===e||this._is_control(n)||(/^\s$/.test(n)?t.push(" "):t.push(n))}return t.join("")}normalize(e){return this.config.clean_text&&(e=this._clean_text(e)),this.config.handle_chinese_chars&&(e=this._tokenize_chinese_chars(e)),this.config.lowercase?(e=e.toLowerCase(),!1!==this.config.strip_accents&&(e=this.stripAccents(e))):this.config.strip_accents&&(e=this.stripAccents(e)),e}}class Lt extends i{static fromConfig(e){if(null===e)return null;switch(e.type){case"BertPreTokenizer":return new Bt(e);case"Sequence":return new un(e);case"Whitespace":return new dn(e);case"WhitespaceSplit":return new fn(e);case"Metaspace":return new an(e);case"ByteLevel":return new $t(e);case"Split":return new jt(e);case"Punctuation":return new Ut(e);case"Digits":return new zt(e);case"Replace":return new hn(e);default:throw new Error(`Unknown PreTokenizer type: ${e.type}`)}}pre_tokenize_text(e,t){throw Error("pre_tokenize_text should be implemented in subclass.")}pre_tokenize(e,t){return(Array.isArray(e)?e.map(e=>this.pre_tokenize_text(e,t)):this.pre_tokenize_text(e,t)).flat()}_call(e,t){return this.pre_tokenize(e,t)}}class Bt extends Lt{constructor(e){super(),this.pattern=new RegExp(`[^\\s${gt}]+|[${gt}]`,"gu")}pre_tokenize_text(e,t){return e.trim().match(this.pattern)||[]}}class $t extends Lt{constructor(e){super(),this.config=e,this.add_prefix_space=this.config.add_prefix_space,this.trim_offsets=this.config.trim_offsets,this.use_regex=this.config.use_regex??!0,this.pattern=/'s|'t|'re|'ve|'m|'ll|'d| ?\p{L}+| ?\p{N}+| ?[^\s\p{L}\p{N}]+|\s+(?!\S)|\s+/gu,this.byte_encoder=wt,this.text_encoder=new TextEncoder}pre_tokenize_text(e,t){return this.add_prefix_space&&!e.startsWith(" ")&&(e=" "+e),(this.use_regex?e.match(this.pattern)||[]:[e]).map(e=>Array.from(this.text_encoder.encode(e),e=>this.byte_encoder[e]).join(""))}}class jt extends Lt{constructor(e){super(),this.config=e,this.pattern=ut(this.config.pattern,this.config.invert)}pre_tokenize_text(e,t){return null===this.pattern?[]:this.config.invert?e.match(this.pattern)||[]:function(e,t){const n=[];let r=0;for(const o of e.matchAll(t)){const t=o[0];r<o.index&&n.push(e.slice(r,o.index)),t.length>0&&n.push(t),r=o.index+t.length}return r<e.length&&n.push(e.slice(r)),n}(e,this.pattern)}}class Ut extends Lt{constructor(e){super(),this.config=e,this.pattern=new RegExp(`[^${gt}]+|[${gt}]+`,"gu")}pre_tokenize_text(e,t){return e.match(this.pattern)||[]}}class zt extends Lt{constructor(e){super(),this.config=e;const t="[^\\d]+|\\d"+(this.config.individual_digits?"":"+");this.pattern=new RegExp(t,"gu")}pre_tokenize_text(e,t){return e.match(this.pattern)||[]}}class Vt extends i{constructor(e){super(),this.config=e}static fromConfig(e){if(null===e)return null;switch(e.type){case"TemplateProcessing":return new Gt(e);case"ByteLevel":return new Wt(e);case"RobertaProcessing":return new Ht(e);case"BertProcessing":return new qt(e);case"Sequence":return new Kt(e);default:throw new Error(`Unknown PostProcessor type: ${e.type}`)}}post_process(e,...t){throw Error("post_process should be implemented in subclass.")}_call(e,...t){return this.post_process(e,...t)}}class qt extends Vt{constructor(e){super(e),this.cls=e.cls[0],this.sep=e.sep[0]}post_process(e,t=null,{add_special_tokens:n=!0}={}){n&&(e=l([this.cls],e,[this.sep]));let r=new Array(e.length).fill(0);if(null!==t){const o=n&&this instanceof Ht?[this.sep]:[],i=n?[this.sep]:[];e=l(e,o,t,i),r=l(r,new Array(t.length+o.length+i.length).fill(1))}return{tokens:e,token_type_ids:r}}}class Ht extends qt{}class Gt extends Vt{constructor(e){super(e),this.single=e.single,this.pair=e.pair}post_process(e,t=null,{add_special_tokens:n=!0}={}){const r=null===t?this.single:this.pair;let o=[],i=[];for(const s of r)"SpecialToken"in s?n&&(o.push(s.SpecialToken.id),i.push(s.SpecialToken.type_id)):"Sequence"in s&&("A"===s.Sequence.id?(o=l(o,e),i=l(i,new Array(e.length).fill(s.Sequence.type_id))):"B"===s.Sequence.id&&(o=l(o,t),i=l(i,new Array(t.length).fill(s.Sequence.type_id))));return{tokens:o,token_type_ids:i}}}class Wt extends Vt{post_process(e,t=null){return t&&(e=l(e,t)),{tokens:e}}}class Kt extends Vt{constructor(e){super(e),this.processors=e.processors.map(e=>Vt.fromConfig(e))}post_process(e,t=null,n={}){let r;for(const o of this.processors)if(o instanceof Wt)e=o.post_process(e).tokens,t&&(t=o.post_process(t).tokens);else{const i=o.post_process(e,t,n);e=i.tokens,r=i.token_type_ids}return{tokens:e,token_type_ids:r}}}class Yt extends i{constructor(e){super(),this.config=e,this.added_tokens=[],this.end_of_word_suffix=null,this.trim_offsets=e.trim_offsets}static fromConfig(e){if(null===e)return null;switch(e.type){case"WordPiece":return new en(e);case"Metaspace":return new cn(e);case"ByteLevel":return new tn(e);case"Replace":return new Jt(e);case"ByteFallback":return new Xt(e);case"Fuse":return new Zt(e);case"Strip":return new Qt(e);case"Sequence":return new rn(e);case"CTC":return new nn(e);case"BPEDecoder":return new on(e);default:throw new Error(`Unknown Decoder type: ${e.type}`)}}_call(e){return this.decode(e)}decode(e){return this.decode_chain(e).join("")}decode_chain(e){throw Error("`decode_chain` should be implemented in subclass.")}}class Jt extends Yt{decode_chain(e){const t=ut(this.config.pattern);return null===t?e:e.map(e=>e.replaceAll(t,this.config.content))}}class Xt extends Yt{constructor(e){super(e),this.text_decoder=new TextDecoder}decode_chain(e){const t=[];let n=[];for(const r of e){let e=null;if(6===r.length&&r.startsWith("<0x")&&r.endsWith(">")){const t=parseInt(r.slice(3,5),16);isNaN(t)||(e=t)}if(null!==e)n.push(e);else{if(n.length>0){const e=this.text_decoder.decode(Uint8Array.from(n));t.push(e),n=[]}t.push(r)}}if(n.length>0){const e=this.text_decoder.decode(Uint8Array.from(n));t.push(e),n=[]}return t}}class Zt extends Yt{decode_chain(e){return[e.join("")]}}class Qt extends Yt{constructor(e){super(e),this.content=this.config.content,this.start=this.config.start,this.stop=this.config.stop}decode_chain(e){return e.map(e=>{let t=0;for(let n=0;n<this.start&&e[n]===this.content;++n)t=n+1;let n=e.length;for(let t=0;t<this.stop;++t){const r=e.length-t-1;if(e[r]!==this.content)break;n=r}return e.slice(t,n)})}}class en extends Yt{constructor(e){super(e),this.cleanup=e.cleanup}decode_chain(e){return e.map((e,t)=>(0!==t&&(e=e.startsWith(this.config.prefix)?e.replace(this.config.prefix,""):" "+e),this.cleanup&&(e=ht(e)),e))}}class tn extends Yt{constructor(e){super(e),this.byte_decoder=St,this.text_decoder=new TextDecoder("utf-8",{fatal:!1,ignoreBOM:!0}),this.end_of_word_suffix=null}convert_tokens_to_string(e){const t=e.join(""),n=new Uint8Array([...t].map(e=>this.byte_decoder[e]));return this.text_decoder.decode(n)}decode_chain(e){const t=[];let n=[];for(const r of e)void 0!==this.added_tokens.find(e=>e.content===r)?(n.length>0&&(t.push(this.convert_tokens_to_string(n)),n=[]),t.push(r)):n.push(r);return n.length>0&&t.push(this.convert_tokens_to_string(n)),t}}class nn extends Yt{constructor(e){super(e),this.pad_token=this.config.pad_token,this.word_delimiter_token=this.config.word_delimiter_token,this.cleanup=this.config.cleanup}convert_tokens_to_string(e){if(0===e.length)return"";const t=[e[0]];for(let n=1;n<e.length;++n)e[n]!==t.at(-1)&&t.push(e[n]);let n=t.filter(e=>e!==this.pad_token).join("");return this.cleanup&&(n=ht(n).replaceAll(this.word_delimiter_token," ").trim()),n}decode_chain(e){return[this.convert_tokens_to_string(e)]}}class rn extends Yt{constructor(e){super(e),this.decoders=e.decoders.map(e=>Yt.fromConfig(e))}decode_chain(e){return this.decoders.reduce((e,t)=>t.decode_chain(e),e)}}class on extends Yt{constructor(e){super(e),this.suffix=this.config.suffix}decode_chain(e){return e.map((t,n)=>t.replaceAll(this.suffix,n===e.length-1?"":" "))}}class sn extends Yt{decode_chain(e){let t="";for(let n=1;n<e.length;n+=2)t+=e[n];return[t]}}class an extends Lt{constructor(e){super(),this.addPrefixSpace=e.add_prefix_space,this.replacement=e.replacement,this.strRep=e.str_rep||this.replacement,this.prepend_scheme=e.prepend_scheme??"always"}pre_tokenize_text(e,{section_index:t}={}){let n=e.replaceAll(" ",this.strRep);return this.addPrefixSpace&&!n.startsWith(this.replacement)&&("always"===this.prepend_scheme||"first"===this.prepend_scheme&&0===t)&&(n=this.strRep+n),[n]}}class cn extends Yt{constructor(e){super(e),this.addPrefixSpace=e.add_prefix_space,this.replacement=e.replacement}decode_chain(e){const t=[];for(let n=0;n<e.length;++n){let r=e[n].replaceAll(this.replacement," ");this.addPrefixSpace&&0==n&&r.startsWith(" ")&&(r=r.substring(1)),t.push(r)}return t}}class ln extends Ct{constructor(e){super(e),this.charsmap=e.precompiled_charsmap}normalize(e){if((e=(e=e.replace(/[\u0001-\u0008\u000B\u000E-\u001F\u007F\u008F\u009F]/gm,"")).replace(/[\u0009\u000A\u000C\u000D\u1680\u200B\u200C\u200E\u200F\u2028\u2029\u2581\uFEFF\uFFFD]/gm," ")).includes("～")){const t=e.split("～");e=t.map(e=>e.normalize("NFKC")).join("～")}else e=e.normalize("NFKC");return e}}class un extends Lt{constructor(e){super(),this.tokenizers=e.pretokenizers.map(e=>Lt.fromConfig(e))}pre_tokenize_text(e,t){return this.tokenizers.reduce((e,n)=>n.pre_tokenize(e,t),[e])}}class dn extends Lt{constructor(e){super()}pre_tokenize_text(e,t){return e.match(/\w+|[^\w\s]+/g)||[]}}class fn extends Lt{constructor(e){super()}pre_tokenize_text(e,t){return function(e){return e.match(/\S+/g)||[]}(e)}}class hn extends Lt{constructor(e){super(),this.config=e,this.pattern=ut(this.config.pattern),this.content=this.config.content}pre_tokenize_text(e,t){return null===this.pattern?[e]:[e.replaceAll(this.pattern,this.config.content)]}}const pn=["bos_token","eos_token","unk_token","sep_token","pad_token","cls_token","mask_token"];function gn(e,t,n,r){for(const o of Object.keys(e)){const i=t-e[o].length,s=n(o),a=new Array(i).fill(s);e[o]="right"===r?l(e[o],a):l(a,e[o])}}function mn(e,t){for(const n of Object.keys(e))e[n].length=t}class yn extends i{return_token_type_ids=!1;_default_chat_template="{% for message in messages %}{{'<|im_start|>' + message['role'] + '\n' + message['content'] + '<|im_end|>' + '\n'}}{% endfor %}{% if add_generation_prompt %}{{ '<|im_start|>assistant\n' }}{% endif %}";constructor(e,t){super(),this._tokenizer_config=t,this.normalizer=Ct.fromConfig(e.normalizer),this.pre_tokenizer=Lt.fromConfig(e.pre_tokenizer),this.model=bt.fromConfig(e.model,t),this.post_processor=Vt.fromConfig(e.post_processor),this.decoder=Yt.fromConfig(e.decoder),this.special_tokens=[],this.all_special_ids=[],this.added_tokens=[];for(const t of e.added_tokens){const e=new yt(t);this.added_tokens.push(e),this.model.tokens_to_ids.set(e.content,e.id),this.model.vocab[e.id]=e.content,e.special&&(this.special_tokens.push(e.content),this.all_special_ids.push(e.id))}if(this.additional_special_tokens=t.additional_special_tokens??[],this.special_tokens.push(...this.additional_special_tokens),this.special_tokens=[...new Set(this.special_tokens)],this.decoder&&(this.decoder.added_tokens=this.added_tokens,this.decoder.end_of_word_suffix=this.model.end_of_word_suffix),this.added_tokens_regex=this.added_tokens.length>0?new RegExp(this.added_tokens.map(e=>`${e.lstrip?"\\s*":""}(${o(e.content)})${e.rstrip?"\\s*":""}`).join("|")):null,this.mask_token=this.getToken("mask_token"),this.mask_token_id=this.model.tokens_to_ids.get(this.mask_token),this.pad_token=this.getToken("pad_token","eos_token"),this.pad_token_id=this.model.tokens_to_ids.get(this.pad_token),this.sep_token=this.getToken("sep_token"),this.sep_token_id=this.model.tokens_to_ids.get(this.sep_token),this.unk_token=this.getToken("unk_token"),this.unk_token_id=this.model.tokens_to_ids.get(this.unk_token),this.model_max_length=t.model_max_length,this.remove_space=t.remove_space,this.clean_up_tokenization_spaces=t.clean_up_tokenization_spaces??!0,this.do_lowercase_and_remove_accent=t.do_lowercase_and_remove_accent??!1,this.padding_side="right",this.legacy=!1,this.chat_template=t.chat_template??null,Array.isArray(this.chat_template)){const e=Object.create(null);for(const{name:t,template:n}of this.chat_template){if("string"!=typeof t||"string"!=typeof n)throw new Error('Chat template must be a list of objects with "name" and "template" properties');e[t]=n}this.chat_template=e}this._compiled_template_cache=new Map}getToken(...e){for(const t of e){const e=this._tokenizer_config[t];if(e){if("object"==typeof e){if("AddedToken"===e.__type)return e.content;throw Error(`Unknown token: ${e}`)}return e}}return null}static async from_pretrained(e,{progress_callback:t=null,config:n=null,cache_dir:r=null,local_files_only:o=!1,revision:i="main",legacy:s=null}={}){return new this(...await lt(e,{progress_callback:t,config:n,cache_dir:r,local_files_only:o,revision:i,legacy:s}))}_call(e,{text_pair:t=null,add_special_tokens:n=!0,padding:r=!1,truncation:o=null,max_length:i=null,return_tensor:s=!0,return_token_type_ids:a=null}={}){const c=Array.isArray(e);let l;if(c){if(0===e.length)throw Error("text array must be non-empty");if(null!==t){if(!Array.isArray(t))throw Error("text_pair must also be an array");if(e.length!==t.length)throw Error("text and text_pair must have the same length");l=e.map((e,r)=>this._encode_plus(e,t[r],{add_special_tokens:n,return_token_type_ids:a}))}else l=e.map(e=>this._encode_plus(e,null,{add_special_tokens:n,return_token_type_ids:a}))}else{if(null==e)throw Error("text may not be null or undefined");if(Array.isArray(t))throw Error("When specifying `text_pair`, since `text` is a string, `text_pair` must also be a string (i.e., not an array).");l=[this._encode_plus(e,t,{add_special_tokens:n,return_token_type_ids:a})]}if(null===i?i="max_length"===r?this.model_max_length:W(l.map(e=>e.input_ids.length))[0]:o||console.warn("Truncation was not explicitly activated but `max_length` is provided a specific value, please use `truncation=true` to explicitly truncate examples to max length."),i=Math.min(i,this.model_max_length),r||o)for(let e=0;e<l.length;++e)l[e].input_ids.length!==i&&(l[e].input_ids.length>i?o&&mn(l[e],i):r&&gn(l[e],i,e=>"input_ids"===e?this.pad_token_id:0,this.padding_side));const u={};if(s){if((!r||!o)&&l.some(e=>{for(const t of Object.keys(e))if(e[t].length!==l[0][t]?.length)return!0;return!1}))throw Error("Unable to create tensor, you should probably activate truncation and/or padding with 'padding=true' and 'truncation=true' to have batched tensors with the same length.");const e=[l.length,l[0].input_ids.length];for(const t of Object.keys(l[0]))u[t]=new ne("int64",BigInt64Array.from(l.flatMap(e=>e[t]).map(BigInt)),e)}else{for(const e of Object.keys(l[0]))u[e]=l.map(t=>t[e]);if(!c)for(const e of Object.keys(u))u[e]=u[e][0]}return u}_encode_text(e){if(null===e)return null;const t=(this.added_tokens_regex?e.split(this.added_tokens_regex).filter(e=>e):[e]).map((e,t)=>{if(void 0!==this.added_tokens.find(t=>t.content===e))return e;{if(!0===this.remove_space&&(e=e.trim().split(/\s+/).join(" ")),this.do_lowercase_and_remove_accent&&(e=function(e){return pt(e.toLowerCase())}(e)),null!==this.normalizer&&(e=this.normalizer(e)),0===e.length)return[];const n=null!==this.pre_tokenizer?this.pre_tokenizer(e,{section_index:t}):[e];return this.model(n)}}).flat();return t}_encode_plus(e,t=null,{add_special_tokens:n=!0,return_token_type_ids:r=null}={}){const o=this._encode_text(e),i=this._encode_text(t),s=this.post_processor?this.post_processor(o,i,{add_special_tokens:n}):{tokens:l(o??[],i??[])},a=this.model.convert_tokens_to_ids(s.tokens),c={input_ids:a,attention_mask:new Array(a.length).fill(1)};return(r??this.return_token_type_ids)&&s.token_type_ids&&(c.token_type_ids=s.token_type_ids),c}encode(e,t=null,{add_special_tokens:n=!0,return_token_type_ids:r=null}={}){const{input_ids:o}=this._encode_plus(e,t,{add_special_tokens:n,return_token_type_ids:r});return o}batch_decode(e,t={}){return e instanceof ne&&(e=e.tolist()),e.map(e=>this.decode(e,t))}decode(e,t={}){if(e instanceof ne&&(e=ft(e)),!Array.isArray(e)||0===e.length||!s(e[0]))throw Error("token_ids must be a non-empty array of integers.");return this.decode_single(e,t)}decode_single(e,{skip_special_tokens:t=!1,clean_up_tokenization_spaces:n=null}){let r=this.model.convert_ids_to_tokens(e);t&&(r=r.filter(e=>!this.special_tokens.includes(e)));let o=this.decoder?this.decoder(r):r.join(" ");return this.decoder&&this.decoder.end_of_word_suffix&&(o=o.replaceAll(this.decoder.end_of_word_suffix," "),t&&(o=o.trim())),(n??this.clean_up_tokenization_spaces)&&(o=ht(o)),o}get default_chat_template(){return this._warned_about_chat_template||(console.warn("No chat template is defined for this tokenizer - using a default chat template that implements the ChatML format. If the default is not appropriate for your model, please set `tokenizer.chat_template` to an appropriate template. See https://huggingface.co/docs/transformers/main/chat_templating for more information."),this._warned_about_chat_template=!0),this._default_chat_template}apply_chat_template(e,{chat_template:t=null,add_generation_prompt:n=!1,tokenize:r=!0,padding:o=!1,truncation:i=!1,max_length:s=null,return_tensor:a=!0,tokenizer_kwargs:c={},...l}={}){if(this.chat_template&&"object"==typeof this.chat_template||null===this.chat_template&&this.default_chat_template&&"object"==typeof this.default_chat_template){const e=this.chat_template??this.default_chat_template;if(null!==t&&Object.hasOwn(e,t))t=e[t];else if(null===t&&"default"in e)t=e.default;else if(null===t)throw Error(`This model has multiple chat templates with no default specified! Please either pass a chat template or the name of the template you wish to use to the 'chat_template' argument. Available template names are ${Object.keys(e).sort()}.`)}else t??=this.chat_template??this.default_chat_template;if("string"!=typeof t)throw Error("chat_template must be a string, but got "+typeof t);let u=this._compiled_template_cache.get(t);void 0===u&&(u=new ct(t),this._compiled_template_cache.set(t,u));const d=Object.create(null);for(const e of pn){const t=this.getToken(e);t&&(d[e]=t)}const f=u.render({messages:e,add_generation_prompt:n,...d,...l});return r?this._call(f,{add_special_tokens:!1,padding:o,truncation:i,max_length:s,return_tensor:a,...c}).input_ids:f}}class bn extends yn{return_token_type_ids=!0}class vn extends yn{return_token_type_ids=!0}class _n extends yn{return_token_type_ids=!0}class wn extends yn{return_token_type_ids=!0}class Sn extends yn{return_token_type_ids=!0}class xn extends yn{return_token_type_ids=!0}class In extends yn{return_token_type_ids=!0}class An extends yn{return_token_type_ids=!0}class Cn extends yn{return_token_type_ids=!0}class kn extends yn{}class En extends yn{}class Tn extends yn{return_token_type_ids=!0;constructor(e,t){super(e,t),console.warn('WARNING: `XLMTokenizer` is not yet supported by Hugging Face\'s "fast" tokenizers library. Therefore, you may experience slightly inaccurate results.')}}class Pn extends yn{return_token_type_ids=!0}class Mn extends yn{}class On extends yn{_default_chat_template='{% for message in messages %}" "{{ message.content }}{{ eos_token }}" "{% endfor %}'}class Dn extends yn{}class Rn extends yn{constructor(e,t){super(e,t),this.languageRegex=/^[a-z]{2}_[A-Z]{2}$/,this.language_codes=this.special_tokens.filter(e=>this.languageRegex.test(e)),this.lang_to_token=e=>e}_build_translation_inputs(e,t,n){return Yn(this,e,t,n)}}class Nn extends Rn{}class Fn extends yn{}class Ln extends On{constructor(e,t){const n=".,!?…。，、।۔،",r=e.pre_tokenizer?.pretokenizers[0]?.pattern;r&&r.Regex===` ?[^(\\s|[${n}])]+`&&(r.Regex=` ?[^\\s${n}]+`),super(e,t)}}const Bn="▁";class $n extends yn{_default_chat_template="{% if messages[0]['role'] == 'system' %}{% set loop_messages = messages[1:] %}{% set system_message = messages[0]['content'] %}{% elif USE_DEFAULT_PROMPT == true and not '<<SYS>>' in messages[0]['content'] %}{% set loop_messages = messages %}{% set system_message = 'DEFAULT_SYSTEM_MESSAGE' %}{% else %}{% set loop_messages = messages %}{% set system_message = false %}{% endif %}{% for message in loop_messages %}{% if (message['role'] == 'user') != (loop.index0 % 2 == 0) %}{{ raise_exception('Conversation roles must alternate user/assistant/user/assistant/...') }}{% endif %}{% if loop.index0 == 0 and system_message != false %}{% set content = '<<SYS>>\n' + system_message + '\n<</SYS>>\n\n' + message['content'] %}{% else %}{% set content = message['content'] %}{% endif %}{% if message['role'] == 'user' %}{{ bos_token + '[INST] ' + content.strip() + ' [/INST]' }}{% elif message['role'] == 'system' %}{{ '<<SYS>>\n' + content.strip() + '\n<</SYS>>\n\n' }}{% elif message['role'] == 'assistant' %}{{ ' '  + content.strip() + ' ' + eos_token }}{% endif %}{% endfor %}";DEFAULT_SYSTEM_PROMPT="You are a helpful, respectful and honest assistant. Always answer as helpfully as possible, while being safe. Your answers should not include any harmful, unethical, racist, sexist, toxic, dangerous, or illegal content. Please ensure that your responses are socially unbiased and positive in nature.\n\nIf a question does not make any sense, or is not factually coherent, explain why instead of answering something not correct. If you don't know the answer to a question, please don't share false information.";constructor(e,t){super(e,t),this.use_default_system_prompt=t.use_default_system_prompt??!1,this.legacy=t.legacy??!0,this.legacy||(this.normalizer=null,this.pre_tokenizer=new an({replacement:Bn,add_prefix_space:!0,prepend_scheme:"first"}))}_encode_text(e){if(null===e)return null;if(this.legacy||0===e.length)return super._encode_text(e);let t=super._encode_text(Bn+e.replaceAll(Bn," "));return t.length>1&&t[0]===Bn&&this.special_tokens.includes(t[1])&&(t=t.slice(1)),t}get default_chat_template(){return super.default_chat_template.replaceAll("USE_DEFAULT_PROMPT",this.use_default_system_prompt?"true":"false").replaceAll("DEFAULT_SYSTEM_MESSAGE",this.DEFAULT_SYSTEM_PROMPT.replaceAll("\n","\\n").replaceAll("'","\\'"))}}class jn extends $n{}class Un extends yn{}class zn extends yn{}class Vn extends yn{}class qn extends yn{}class Hn extends yn{}class Gn extends yn{}class Wn extends yn{_default_chat_template="{% if messages[0]['role'] == 'system' %}{{ raise_exception('System role not supported') }}{% endif %}{% for message in messages %}{% if (message['role'] == 'user') != (loop.index0 % 2 == 0) %}{{ raise_exception('Conversation roles must alternate user/assistant/user/assistant/...') }}{% endif %}{% if (message['role'] == 'assistant') %}{% set role = 'model' %}{% else %}{% set role = message['role'] %}{% endif %}{{ '<start_of_turn>' + role + '\n' + message['content'] | trim + '<end_of_turn>\n' }}{% endfor %}{% if add_generation_prompt %}{{'<start_of_turn>model\n'}}{% endif %}"}class Kn extends yn{}function Yn(e,t,n,r){if(!("language_codes"in e)||!Array.isArray(e.language_codes))throw new Error("Tokenizer must have `language_codes` attribute set and it should be an array of language ids.");if(!("languageRegex"in e&&e.languageRegex instanceof RegExp))throw new Error("Tokenizer must have `languageRegex` attribute set and it should be a regular expression.");if(!("lang_to_token"in e)||"function"!=typeof e.lang_to_token)throw new Error("Tokenizer must have `lang_to_token` attribute set and it should be a function.");const o=r.src_lang,i=r.tgt_lang;if(!e.language_codes.includes(i))throw new Error(`Target language code "${i}" is not valid. Must be one of: {${e.language_codes.join(", ")}}`);if(void 0!==o){if(!e.language_codes.includes(o))throw new Error(`Source language code "${o}" is not valid. Must be one of: {${e.language_codes.join(", ")}}`);for(const t of e.post_processor.config.single)if("SpecialToken"in t&&e.languageRegex.test(t.SpecialToken.id)){t.SpecialToken.id=e.lang_to_token(o);break}}return r.forced_bos_token_id=e.model.convert_tokens_to_ids([e.lang_to_token(i)])[0],e._call(t,n)}class Jn extends yn{constructor(e,t){super(e,t),this.languageRegex=/^[a-z]{3}_[A-Z][a-z]{3}$/,this.language_codes=this.special_tokens.filter(e=>this.languageRegex.test(e)),this.lang_to_token=e=>e}_build_translation_inputs(e,t,n){return Yn(this,e,t,n)}}class Xn extends yn{constructor(e,t){super(e,t),this.languageRegex=/^__[a-z]{2,3}__$/,this.language_codes=this.special_tokens.filter(e=>this.languageRegex.test(e)).map(e=>e.slice(2,-2)),this.lang_to_token=e=>`__${e}__`}_build_translation_inputs(e,t,n){return Yn(this,e,t,n)}}const Zn=[["en","english"],["zh","chinese"],["de","german"],["es","spanish"],["ru","russian"],["ko","korean"],["fr","french"],["ja","japanese"],["pt","portuguese"],["tr","turkish"],["pl","polish"],["ca","catalan"],["nl","dutch"],["ar","arabic"],["sv","swedish"],["it","italian"],["id","indonesian"],["hi","hindi"],["fi","finnish"],["vi","vietnamese"],["he","hebrew"],["uk","ukrainian"],["el","greek"],["ms","malay"],["cs","czech"],["ro","romanian"],["da","danish"],["hu","hungarian"],["ta","tamil"],["no","norwegian"],["th","thai"],["ur","urdu"],["hr","croatian"],["bg","bulgarian"],["lt","lithuanian"],["la","latin"],["mi","maori"],["ml","malayalam"],["cy","welsh"],["sk","slovak"],["te","telugu"],["fa","persian"],["lv","latvian"],["bn","bengali"],["sr","serbian"],["az","azerbaijani"],["sl","slovenian"],["kn","kannada"],["et","estonian"],["mk","macedonian"],["br","breton"],["eu","basque"],["is","icelandic"],["hy","armenian"],["ne","nepali"],["mn","mongolian"],["bs","bosnian"],["kk","kazakh"],["sq","albanian"],["sw","swahili"],["gl","galician"],["mr","marathi"],["pa","punjabi"],["si","sinhala"],["km","khmer"],["sn","shona"],["yo","yoruba"],["so","somali"],["af","afrikaans"],["oc","occitan"],["ka","georgian"],["be","belarusian"],["tg","tajik"],["sd","sindhi"],["gu","gujarati"],["am","amharic"],["yi","yiddish"],["lo","lao"],["uz","uzbek"],["fo","faroese"],["ht","haitian creole"],["ps","pashto"],["tk","turkmen"],["nn","nynorsk"],["mt","maltese"],["sa","sanskrit"],["lb","luxembourgish"],["my","myanmar"],["bo","tibetan"],["tl","tagalog"],["mg","malagasy"],["as","assamese"],["tt","tatar"],["haw","hawaiian"],["ln","lingala"],["ha","hausa"],["ba","bashkir"],["jw","javanese"],["su","sundanese"]],Qn=new Map(Zn),er=new Map([...Zn.map(([e,t])=>[t,e]),["burmese","my"],["valencian","ca"],["flemish","nl"],["haitian","ht"],["letzeburgesch","lb"],["pushto","ps"],["panjabi","pa"],["moldavian","ro"],["moldovan","ro"],["sinhalese","si"],["castilian","es"]]);class tr extends yn{_default_chat_template='{% for message in messages %}" "{{ message.content }}{{ eos_token }}" "{% endfor %}';_decode_asr(e,{return_timestamps:t=!1,return_language:n=!1,time_precision:r=null,force_full_sequences:o=!0}={}){if(null===r)throw Error("Must specify time_precision");let i=null;const s="word"===t;function a(){return{language:i,timestamp:[null,null],text:""}}const c=[];let l=a(),u=0;const d=this.model.convert_tokens_to_ids(["<|notimestamps|>"])[0]+1;let f=[],h=[],p=!1,g=null;const m=new Set(this.all_special_ids);for(const n of e){const e=n.tokens,o=s?n.token_timestamps:null;let y=null,b=d;if("stride"in n){const[t,o,i]=n.stride;if(u-=o,g=t-i,o&&(b=o/r+d),i)for(let t=e.length-1;t>=0;--t){const n=e[t];if(n>=d){if(null!==y&&(n-d)*r<g)break;y=n}}}let v=[],_=[];for(let n=0;n<e.length;++n){const g=e[n];if(m.has(g)){const e=this.decode([g]),n=Qn.get(e.slice(2,-2));if(void 0!==n){if(null!==i&&n!==i&&!t){f.push(v);const e=this.findLongestCommonSequence(f)[0],t=this.decode(e);l.text=t,c.push(l),f=[],v=[],l=a()}i=l.language=n}}else if(g>=d){const e=Q((g-d)*r+u,2);if(null!==y&&g>=y)p=!0;else if(p||f.length>0&&g<b)p=!1;else if(null===l.timestamp[0])l.timestamp[0]=e;else if(e===l.timestamp[0]);else{l.timestamp[1]=e,f.push(v),s&&h.push(_);const[t,n]=this.findLongestCommonSequence(f,h),r=this.decode(t);l.text=r,s&&(l.words=this.collateWordTimestamps(t,n,i)),c.push(l),f=[],v=[],h=[],_=[],l=a()}}else if(v.push(g),s){let e,t=Q(o[n]+u,2);e=n+1<o.length?Q(o[n+1]+u,2):null,_.push([t,e])}}if("stride"in n){const[e,t,r]=n.stride;u+=e-r}v.length>0?(f.push(v),s&&h.push(_)):f.every(e=>0===e.length)&&(l=a(),f=[],v=[],h=[],_=[])}if(f.length>0){if(o&&t)throw new Error("Whisper did not predict an ending timestamp, which can happen if audio is cut off in the middle of a word. Also make sure WhisperTimeStampLogitsProcessor was used during generation.");const[e,n]=this.findLongestCommonSequence(f,h),r=this.decode(e);l.text=r,s&&(l.words=this.collateWordTimestamps(e,n,i)),c.push(l)}let y=Object.create(null);const b=c.map(e=>e.text).join("");if(t||n){for(let e=0;e<c.length;++e){const r=c[e];t||delete r.timestamp,n||delete r.language}if(s){const e=[];for(const t of c)for(const n of t.words)e.push(n);y={chunks:e}}else y={chunks:c}}return[b,y]}findLongestCommonSequence(e,t=null){let n=e[0],r=n.length,o=[];const i=Array.isArray(t)&&t.length>0;let s=i?[]:null,a=i?t[0]:null;for(let c=1;c<e.length;++c){const l=e[c];let u=0,d=[r,r,0,0];const f=l.length;for(let e=1;e<r+f;++e){const t=e/1e4,o=Math.max(0,r-e),i=Math.min(r,r+f-e),s=n.slice(o,i),a=Math.max(0,e-r),c=Math.min(f,e),h=l.slice(a,c);if(s.length!==h.length)throw new Error("There is a bug within whisper `decode_asr` function, please report it. Dropping to prevent bad inference.");const p=s.filter((e,t)=>e===h[t]).length,g=p/e+t;p>1&&g>u&&(u=g,d=[o,i,a,c])}const[h,p,g,m]=d,y=Math.floor((p+h)/2),b=Math.floor((m+g)/2);o.push(...n.slice(0,y)),n=l.slice(b),r=n.length,i&&(s.push(...a.slice(0,y)),a=t[c].slice(b))}return o.push(...n),i?(s.push(...a),[o,s]):[o,[]]}collateWordTimestamps(e,t,n){const[r,o,i]=this.combineTokensIntoWords(e,n),s=[];for(let e=0;e<r.length;++e){const n=i[e];s.push({text:r[e],timestamp:[t[n.at(0)][0],t[n.at(-1)][1]]})}return s}combineTokensIntoWords(e,t,n="\"'“¡¿([{-",r="\"'.。,，!！?？:：”)]}、"){let o,i,s;return["chinese","japanese","thai","lao","myanmar"].includes(t=t??"english")?[o,i,s]=this.splitTokensOnUnicode(e):[o,i,s]=this.splitTokensOnSpaces(e),this.mergePunctuations(o,i,s,n,r)}decode(e,t){let n;return t&&t.decode_with_timestamps?(e instanceof ne&&(e=ft(e)),n=this.decodeWithTimestamps(e,t)):n=super.decode(e,t),n}decodeWithTimestamps(e,t){const n=t?.time_precision??.02,r=Array.from(this.all_special_ids).at(-1)+1;let o=[[]];for(const t of e)if(t>=r){const e=Q((t-r)*n,2);o.push(`<|${e}|>`),o.push([])}else o[o.length-1].push(t);return o=o.map(e=>"string"==typeof e?e:super.decode(e,t)),o.join("")}splitTokensOnUnicode(e){const t=this.decode(e,{decode_with_timestamps:!0}),n=[],r=[],o=[];let i=[],s=[],a=0;for(let c=0;c<e.length;++c){const l=e[c];i.push(l),s.push(c);const u=this.decode(i,{decode_with_timestamps:!0});u.includes("�")&&"�"!==t[a+u.indexOf("�")]||(n.push(u),r.push(i),o.push(s),i=[],s=[],a+=u.length)}return[n,r,o]}splitTokensOnSpaces(e){const[t,n,r]=this.splitTokensOnUnicode(e),o=[],i=[],s=[],a=new RegExp(`^[${gt}]$`,"gu");for(let e=0;e<t.length;++e){const c=t[e],l=n[e],u=r[e],d=l[0]>=this.model.tokens_to_ids.get("<|endoftext|>"),f=c.startsWith(" "),h=c.trim(),p=a.test(h);if(d||f||p||0===o.length)o.push(c),i.push(l),s.push(u);else{const e=o.length-1;o[e]+=c,i[e].push(...l),s[e].push(...u)}}return[o,i,s]}mergePunctuations(e,t,n,r,o){const i=structuredClone(e),s=structuredClone(t),a=structuredClone(n);let c=i.length-2,u=i.length-1;for(;c>=0;)i[c].startsWith(" ")&&r.includes(i[c].trim())?(i[u]=i[c]+i[u],s[u]=l(s[c],s[u]),a[u]=l(a[c],a[u]),i[c]="",s[c]=[],a[c]=[]):u=c,--c;for(c=0,u=1;u<i.length;)!i[c].endsWith(" ")&&o.includes(i[u])?(i[c]+=i[u],s[c]=l(s[c],s[u]),a[c]=l(a[c],a[u]),i[u]="",s[u]=[],a[u]=[]):c=u,++u;return[i.filter(e=>e),s.filter(e=>e.length>0),a.filter(e=>e.length>0)]}get_decoder_prompt_ids({language:e=null,task:t=null,no_timestamps:n=!0}={}){const r=[];if(e){e=e.toLowerCase();let t=er.get(e);if(void 0===t){if(!Qn.has(e)){const t=2===e.length?Qn.keys():Qn.values();throw new Error(`Language "${e}" is not supported. Must be one of: ${JSON.stringify(t)}`)}t=e}const n=this.model.tokens_to_ids.get(`<|${t}|>`);if(void 0===n)throw new Error(`Unable to find language "${t}" in model vocabulary. Please report this issue at https://github.com/xenova/transformers.js/issues/new/choose.`);r.push(n)}else r.push(null);if(t){if("transcribe"!==(t=t.toLowerCase())&&"translate"!==t)throw new Error(`Task "${t}" is not supported. Must be one of: ["transcribe", "translate"]`);const e=this.model.tokens_to_ids.get(`<|${t}|>`);if(void 0===e)throw new Error(`Unable to find task "${t}" in model vocabulary. Please report this issue at https://github.com/xenova/transformers.js/issues/new/choose.`);r.push(e)}else r.push(null);if(n){const e=this.model.tokens_to_ids.get("<|notimestamps|>");if(void 0===e)throw new Error('Unable to find "<|notimestamps|>" in model vocabulary. Please report this issue at https://github.com/xenova/transformers.js/issues/new/choose.');r.push(e)}return r.map((e,t)=>[t+1,e]).filter(e=>null!==e[1])}}class nr extends yn{}class rr extends yn{}class or extends yn{}class ir extends yn{constructor(e,t){super(e,t),this.languageRegex=/^(>>\w+<<)\s*/g,this.supported_language_codes=this.model.vocab.filter(e=>this.languageRegex.test(e)),console.warn('WARNING: `MarianTokenizer` is not yet supported by Hugging Face\'s "fast" tokenizers library. Therefore, you may experience slightly inaccurate results.')}_encode_text(e){if(null===e)return null;const[t,...n]=e.trim().split(this.languageRegex);if(0===n.length)return super._encode_text(t);if(2===n.length){const[e,t]=n;return this.supported_language_codes.includes(e)||console.warn(`Unsupported language code "${e}" detected, which may lead to unexpected behavior. Should be one of: ${JSON.stringify(this.supported_language_codes)}`),l([e],super._encode_text(t))}}}class sr extends yn{}class ar extends yn{_default_chat_template="{% for message in messages %}{% if message['role'] == 'user' %}{{ ' ' }}{% endif %}{{ message['content'] }}{% if not loop.last %}{{ '  ' }}{% endif %}{% endfor %}{{ eos_token }}"}class cr extends ar{}class lr extends yn{}class ur extends yn{}class dr extends yn{constructor(e,t){super(e,t),this.decoder=new sn({})}}class fr extends yn{}class hr{static TOKENIZER_CLASS_MAPPING={T5Tokenizer:Mn,DistilBertTokenizer:kn,CamembertTokenizer:En,DebertaTokenizer:Sn,DebertaV2Tokenizer:xn,BertTokenizer:bn,HerbertTokenizer:In,ConvBertTokenizer:An,RoFormerTokenizer:Cn,XLMTokenizer:Tn,ElectraTokenizer:Pn,MobileBertTokenizer:_n,SqueezeBertTokenizer:wn,AlbertTokenizer:vn,GPT2Tokenizer:On,BartTokenizer:Dn,MBartTokenizer:Rn,MBart50Tokenizer:Nn,RobertaTokenizer:Fn,WhisperTokenizer:tr,CodeGenTokenizer:nr,CLIPTokenizer:rr,SiglipTokenizer:or,MarianTokenizer:ir,BloomTokenizer:Ln,NllbTokenizer:Jn,M2M100Tokenizer:Xn,LlamaTokenizer:$n,CodeLlamaTokenizer:jn,XLMRobertaTokenizer:Un,MPNetTokenizer:zn,FalconTokenizer:Vn,GPTNeoXTokenizer:qn,EsmTokenizer:Hn,Wav2Vec2CTCTokenizer:sr,BlenderbotTokenizer:ar,BlenderbotSmallTokenizer:cr,SpeechT5Tokenizer:lr,NougatTokenizer:ur,VitsTokenizer:dr,Qwen2Tokenizer:Gn,GemmaTokenizer:Wn,Grok1Tokenizer:Kn,CohereTokenizer:fr,PreTrainedTokenizer:yn};static async from_pretrained(e,{quantized:t=!0,progress_callback:n=null,config:r=null,cache_dir:o=null,local_files_only:i=!1,revision:s="main",legacy:a=null}={}){const[c,l]=await lt(e,{quantized:t,progress_callback:n,config:r,cache_dir:o,local_files_only:i,revision:s,legacy:a}),u=l.tokenizer_class?.replace(/Fast$/,"")??"PreTrainedTokenizer";let d=this.TOKENIZER_CLASS_MAPPING[u];return d||(console.warn(`Unknown tokenizer class "${u}", attempting to construct from base class.`),d=yn),new d(c,l)}}class pr{constructor(e){this.model_type=null,this.is_encoder_decoder=!1,Object.assign(this,e)}static async from_pretrained(e,{progress_callback:t=null,config:n=null,cache_dir:r=null,local_files_only:o=!1,revision:i="main"}={}){let s=n??await async function(e,t){return await z(e,"config.json",!0,t)}(e,{progress_callback:t,config:n,cache_dir:r,local_files_only:o,revision:i});return new this(s)}}class gr{static async from_pretrained(...e){return pr.from_pretrained(...e)}}class mr extends i{constructor(){super(),this.processors=[]}push(e){this.processors.push(e)}extend(e){this.processors.push(...e)}_call(e,t){for(let n of t)this.processors.forEach(t=>t(e,n))}[Symbol.iterator](){return this.processors.values()}}class yr extends i{_call(e,t){throw Error("`_call` should be implemented in a subclass")}}class br extends yr{constructor(e){super(),this.force_token_map=Object.fromEntries(e??[])}_call(e,t){let n=this.force_token_map[e.length];return null!=n&&(t.data.fill(-1/0),t.data[n]=0),t}}class vr extends yr{constructor(e){super(),this.bos_token_id=e}_call(e,t){return 1===e.length&&(t.data.fill(-1/0),t.data[this.bos_token_id]=0),t}}class _r extends yr{constructor(e,t){super(),this.max_length=e,this.forced_eos_token_id=t}_call(e,t){}}class wr extends yr{constructor(e,t){super(),this.begin_suppress_tokens=e,this.begin_index=t}_call(e,t){if(e.length===this.begin_index)for(let e of this.begin_suppress_tokens)t.data[e]=-1/0;return t}}class Sr extends yr{constructor(e){super(),this.eos_token_id=e.eos_token_id,this.no_timestamps_token_id=e.no_timestamps_token_id,this.timestamp_begin=this.no_timestamps_token_id+1,this.begin_index=(e.forced_decoder_ids||[]).length+2,e.forced_decoder_ids.slice(-1)[0][1]===this.no_timestamps_token_id&&(this.begin_index-=1),this.max_initial_timestamp_index=e.max_initial_timestamp_index}_call(e,t){const n=t.data;if(n[this.no_timestamps_token_id]=-1/0,e.length===this.begin_index-1)return n.fill(-1/0),n[this.timestamp_begin]=0,t;const r=e.slice(this.begin_index),o=r.length>=1&&r[r.length-1]>=this.timestamp_begin,i=r.length<2||r[r.length-2]>=this.timestamp_begin;if(o&&(i?n.subarray(this.timestamp_begin).fill(-1/0):n.subarray(0,this.eos_token_id).fill(-1/0)),e.length===this.begin_index&&null!==this.max_initial_timestamp_index){const e=this.timestamp_begin+this.max_initial_timestamp_index;n.subarray(e+1).fill(-1/0)}const s=q(n).map(e=>Math.log(e));return Math.log(s.subarray(this.timestamp_begin).map(Math.exp).reduce((e,t)=>e+t))>W(s.subarray(0,this.timestamp_begin))[0]&&n.subarray(0,this.timestamp_begin).fill(-1/0),t}}class xr extends yr{constructor(e){super(),this.no_repeat_ngram_size=e}getNgrams(e){const t=e.length,n=[];for(let r=0;r<t+1-this.no_repeat_ngram_size;++r){const t=[];for(let n=0;n<this.no_repeat_ngram_size;++n)t.push(e[r+n]);n.push(t)}const r=new Map;for(const e of n){const t=e.slice(0,e.length-1),n=JSON.stringify(t),o=r.get(n)??[];o.push(e[e.length-1]),r.set(n,o)}return r}getGeneratedNgrams(e,t){const n=t.slice(t.length+1-this.no_repeat_ngram_size,t.length);return e.get(JSON.stringify(n))??[]}calcBannedNgramTokens(e){if(e.length+1<this.no_repeat_ngram_size)return[];{const t=this.getNgrams(e);return this.getGeneratedNgrams(t,e)}}_call(e,t){const n=this.calcBannedNgramTokens(e);for(const e of n)t.data[e]=-1/0;return t}}class Ir extends yr{constructor(e){super(),this.penalty=e}_call(e,t){for(const n of e)t.data[n]<0?t.data[n]*=this.penalty:t.data[n]/=this.penalty;return t}}class Ar extends yr{constructor(e,t){super(),this.min_length=e,this.eos_token_id=Array.isArray(t)?t:[t]}_call(e,t){if(e.length<this.min_length)for(const e of this.eos_token_id)t.data[e]=-1/0;return t}}class Cr extends yr{constructor(e,t,n){super(),this.prompt_length_to_skip=e,this.min_new_tokens=t,this.eos_token_id=Array.isArray(n)?n:[n]}_call(e,t){if(e.length-this.prompt_length_to_skip<this.min_new_tokens)for(const e of this.eos_token_id)t.data[e]=-1/0;return t}}class kr extends yr{constructor(e,t){super(),this.bad_words_ids=e,this.eos_token_id=Array.isArray(t)?t:[t]}_call(e,t){for(const n of this.bad_words_ids){let r=!0;for(let t=1;t<=n.length-1&&n.length<e.length;++t)if(n.at(-t-1)!==e.at(-t)){r=!1;break}r&&(t.data[n.at(-1)]=-1/0)}return t}}const Er=class{constructor(e={}){this.max_length=e.max_length??20,this.max_new_tokens=e.max_new_tokens??null,this.min_length=e.min_length??0,this.min_new_tokens=e.min_new_tokens??null,this.early_stopping=e.early_stopping??!1,this.max_time=e.max_time??null,this.do_sample=e.do_sample??!1,this.num_beams=e.num_beams??1,this.num_beam_groups=e.num_beam_groups??1,this.penalty_alpha=e.penalty_alpha??null,this.use_cache=e.use_cache??!0,this.temperature=e.temperature??1,this.top_k=e.top_k??50,this.top_p=e.top_p??1,this.typical_p=e.typical_p??1,this.epsilon_cutoff=e.epsilon_cutoff??0,this.eta_cutoff=e.eta_cutoff??0,this.diversity_penalty=e.diversity_penalty??0,this.repetition_penalty=e.repetition_penalty??1,this.encoder_repetition_penalty=e.encoder_repetition_penalty??1,this.length_penalty=e.length_penalty??1,this.no_repeat_ngram_size=e.no_repeat_ngram_size??0,this.bad_words_ids=e.bad_words_ids??null,this.force_words_ids=e.force_words_ids??null,this.renormalize_logits=e.renormalize_logits??!1,this.constraints=e.constraints??null,this.forced_bos_token_id=e.forced_bos_token_id??null,this.forced_eos_token_id=e.forced_eos_token_id??null,this.remove_invalid_values=e.remove_invalid_values??!1,this.exponential_decay_length_penalty=e.exponential_decay_length_penalty??null,this.suppress_tokens=e.suppress_tokens??null,this.begin_suppress_tokens=e.begin_suppress_tokens??null,this.forced_decoder_ids=e.forced_decoder_ids??null,this.num_return_sequences=e.num_return_sequences??1,this.output_attentions=e.output_attentions??!1,this.output_hidden_states=e.output_hidden_states??!1,this.output_scores=e.output_scores??!1,this.return_dict_in_generate=e.return_dict_in_generate??!1,this.pad_token_id=e.pad_token_id??null,this.bos_token_id=e.bos_token_id??null,this.eos_token_id=e.eos_token_id??null,this.encoder_no_repeat_ngram_size=e.encoder_no_repeat_ngram_size??0,this.decoder_start_token_id=e.decoder_start_token_id??null,this.generation_kwargs=e.generation_kwargs??{}}};class Tr extends i{constructor(e){super(),this.generation_config=e}_call(e,t=-1){return this.sample(e,t)}sample(e,t){throw Error("sample should be implemented in subclasses.")}getLogits(e,t){let n=e.dims.at(-1),r=e.data;if(-1===t)r=r.slice(-n);else{let e=t*n;r=r.slice(e,e+n)}return this.generation_config.temperature>0&&(r=r.map(e=>e/this.generation_config.temperature)),r}randomSelect(e){let t=e.reduce((e,t)=>e+t,0),n=Math.random()*t;for(let t=0;t<e.length;++t)if(n-=e[t],n<=0)return t;return 0}static getSampler(e){if(e.do_sample)return new Mr(e);if(e.num_beams>1)return new Or(e);if(e.num_return_sequences>1)throw Error(`num_return_sequences has to be 1 when doing greedy search, but is ${e.num_return_sequences}.`);return new Pr(e)}}class Pr extends Tr{sample(e,t=-1){return[[W(this.getLogits(e,t))[1],0]]}}class Mr extends Tr{sample(e,t=-1){let n=e.dims.at(-1);this.generation_config.top_k>0&&(n=Math.min(this.generation_config.top_k,n));const r=H(this.getLogits(e,t),n),o=q(r.map(e=>e[1]));return Array.from({length:this.generation_config.num_beams},()=>{const e=this.randomSelect(o);return[r[e][0],Math.log(o[e])]})}}class Or extends Tr{sample(e,t=-1){let n=e.dims.at(-1);this.generation_config.top_k>0&&(n=Math.min(this.generation_config.top_k,n));const r=H(this.getLogits(e,t),n),o=q(r.map(e=>e[1]));return Array.from({length:this.generation_config.num_beams},(e,t)=>[r[t][0],Math.log(o[t])])}}const{InferenceSession:Dr,Tensor:Rr,env:Nr}=w,Fr=new Map,Lr=new Map,Br=new Map;async function $r(e,t,n){let r=`onnx/${t}${n.quantized?"_quantized":""}.onnx`,o=await U(e,r,!0,n);try{return await Dr.create(o,{executionProviders:S})}catch(e){if(1===S.length&&"wasm"===S[0])throw e;return console.warn(e),console.warn("Something went wrong during model construction (most likely a missing operation). Using `wasm` as a fallback. "),await Dr.create(o,{executionProviders:["wasm"]})}}async function jr(e,t){const n=function(e,t){const n=Object.create(null),r=[];for(const o of e.inputNames){const e=t[o];e instanceof ne?n[o]=Nr.wasm.proxy?e.clone():e:r.push(o)}if(r.length>0)throw new Error(`An error occurred during model execution: "Missing the following inputs: ${r.join(", ")}.`);const o=Object.keys(t).length,i=e.inputNames.length;if(o>i){let n=Object.keys(t).filter(t=>!e.inputNames.includes(t));console.warn(`WARNING: Too many inputs were provided (${o} > ${i}). The following inputs will be ignored: "${n.join(", ")}".`)}return n}(e,t);try{let t=await e.run(n);return t=Ur(t),t}catch(e){throw console.error(`An error occurred during model execution: "${e}".`),console.error("Inputs given to model:",n),e}}function Ur(e){for(let t in e)e[t]instanceof Rr?e[t]=new ne(e[t]):"object"==typeof e[t]&&Ur(e[t]);return e}function zr(e){if(e instanceof ne)return e;if(0===e.length)throw Error("items must be non-empty");if(Array.isArray(e[0])){if(e.some(t=>t.length!==e[0].length))throw Error("Unable to create tensor, you should probably activate truncation and/or padding with 'padding=True' and/or 'truncation=True' to have batched tensors with the same length.");return new ne("int64",BigInt64Array.from(e.flat().map(e=>BigInt(e))),[e.length,e[0].length])}return new ne("int64",BigInt64Array.from(e.map(e=>BigInt(e))),[1,e.length])}function Vr(e,t){let n=e.config.pad_token_id??null,r=e.config.eos_token_id??null;s(r)&&(r=[r]);let o=-1!==t.indexOf(n),i=null===r||!r.includes(n);if(o&&i){let e=BigInt64Array.from(t.data.map(e=>e!=n));return new ne("int64",e,t.dims)}return function(e){const t=e.reduce((e,t)=>e*t,1);return new ne("int64",new BigInt64Array(t).fill(1n),e)}(t.dims)}function qr(e,t,n){if(!e.inputNames.includes("position_ids"))return;const r=new BigInt64Array(t.attention_mask.data.length);for(let e=0;e<t.attention_mask.dims[0];++e){let n=e*t.attention_mask.dims[1],o=BigInt(0);for(let e=0;e<t.attention_mask.dims[1];++e){const i=n+e;0n===t.attention_mask.data[i]?r[i]=BigInt(1):(r[i]=o,o+=t.attention_mask.data[i])}}t.position_ids=new ne("int64",r,t.attention_mask.dims),n&&(t.position_ids=t.position_ids.slice(null,-1).unsqueeze_(-1))}function Hr(e){return new ne("bool",[e],[1])}async function Gr(e,t){let{encoder_outputs:n,past_key_values:r}=t;n||(n=(await Jr(e,t)).last_hidden_state);let o={input_ids:t.decoder_input_ids,encoder_hidden_states:n};const i=!!r;e.decoder_merged_session.inputNames.includes("use_cache_branch")&&(o.use_cache_branch=Hr(i)),e.decoder_merged_session.inputNames.includes("encoder_attention_mask")&&(o.encoder_attention_mask=t.attention_mask),qr(e.decoder_merged_session,o,i),e.addPastKeyValues(o,r);const s=await jr(e.decoder_merged_session,o);let a=s.logits;r=e.getPastKeyValues(s,r);const c=e.getAttentions(s);return new vs({logits:a,past_key_values:r,encoder_outputs:n,...c})}function Wr(e,t,n,r){let o=[],i=0;const s=e.requires_attention_mask??!0;let a=n.decoder_input_ids??n.decoder_start_token_id??n.bos_token_id??n.eos_token_id;a instanceof ne?a=a.tolist().flat():Array.isArray(a)||(a=[a]);for(let n of t){n.dims=[1,...n.dims];let t={inputs:n,encoder_outputs:null,prev_model_outputs:null,output_token_ids:a,done:!1,score:0,id:i++};s&&(t.attention_mask=Vr(e,n)),o.push(t)}return o}async function Kr(e,t){const n=e.main_input_name;let r=t.output_token_ids;t.prev_model_outputs&&(r=r.slice(-1));let o={[n]:t.inputs,decoder_input_ids:zr(r),encoder_outputs:t.encoder_outputs,past_key_values:t.prev_model_outputs?.past_key_values};t.attention_mask&&(o.attention_mask=t.attention_mask);let i=await e.forward(o);return t.prev_model_outputs=i,t.encoder_outputs=i.encoder_outputs,i}function Yr(e,t){e.output_token_ids=[...e.output_token_ids,t]}async function Jr(e,t){const n=Object.create(null);for(const r of e.session.inputNames)n[r]=t[r];return e.session.inputNames.includes("token_type_ids")&&!n.token_type_ids&&(n.token_type_ids=new ne("int64",new BigInt64Array(n.input_ids.data.length),n.input_ids.dims)),await jr(e.session,n)}async function Xr(e,t){let{input_ids:n,past_key_values:r,attention_mask:o}=t,i={input_ids:n,attention_mask:o??Vr(e,n)};const s=!!r;e.session.inputNames.includes("use_cache_branch")&&(i.use_cache_branch=Hr(s)),qr(e.session,i,s),e.addPastKeyValues(i,r);let a=await jr(e.session,i),c=a.logits;return r=e.getPastKeyValues(a,r),{logits:c,past_key_values:r}}function Zr(e,t,n,r,o){let i=[],s=0;for(let n of t){let t,a=n.tolist().map(Number);n.dims=[1,...n.dims],o?(t=o[s],t.dims=[1,...t.dims]):t=Vr(e,n);let c={input:n,model_input_ids:n,attention_mask:t,prev_model_outputs:null,output_token_ids:a,num_output_tokens:r,done:!1,score:0,id:s++};i.push(c)}return i}async function Qr(e,t){let n=new BigInt64Array(t.output_token_ids.length).fill(1n),r={input_ids:t.model_input_ids,attention_mask:new ne("int64",n,[1,n.length]),past_key_values:t.prev_model_outputs?.past_key_values},o=await e.forward(r);return t.prev_model_outputs=o,o}function eo(e,t){e.output_token_ids=[...e.output_token_ids,t],e.model_input_ids=new ne("int64",[BigInt(t)],[1,1])}class to extends i{main_input_name="input_ids";constructor(e,t){super(),this.config=e,this.session=t;const n=Br.get(this.constructor),r=Fr.get(n);this.can_generate=!1,this._runBeam=null,this._getStartBeams=null,this._updateBeam=null,this._forward=null,4===r?(this.can_generate=!0,this._runBeam=Qr,this._getStartBeams=Zr,this._updateBeam=eo,this._forward=Xr):2===r||3===r?(this.can_generate=!0,this._runBeam=Kr,this._getStartBeams=Wr,this._updateBeam=Yr,this._forward=Gr):this._forward=Jr}async dispose(){const e=[];for(let t of Object.keys(this)){const n=this[t];n instanceof Dr&&e.push(n.handler.dispose())}return await Promise.all(e)}static async from_pretrained(e,{quantized:t=!0,progress_callback:n=null,config:r=null,cache_dir:o=null,local_files_only:i=!1,revision:s="main",model_file_name:a=null}={}){let c={quantized:t,progress_callback:n,config:r,cache_dir:o,local_files_only:i,revision:s,model_file_name:a};const l=Br.get(this),u=Fr.get(l);let d;return 4===u?d=await Promise.all([gr.from_pretrained(e,c),$r(e,c.model_file_name??"decoder_model_merged",c),z(e,"generation_config.json",!1,c)]):2===u||3===u?d=await Promise.all([gr.from_pretrained(e,c),$r(e,"encoder_model",c),$r(e,"decoder_model_merged",c),z(e,"generation_config.json",!1,c)]):5===u?d=await Promise.all([gr.from_pretrained(e,c),$r(e,"vision_encoder",c),$r(e,"prompt_encoder_mask_decoder",c)]):1===u?d=await Promise.all([gr.from_pretrained(e,c),$r(e,"encoder_model",c),$r(e,"decoder_model_merged",c)]):(0!==u&&console.warn(`Model type for '${l??r?.model_type}' not found, assuming encoder-only architecture. Please report this at https://github.com/xenova/transformers.js/issues/new/choose.`),d=await Promise.all([gr.from_pretrained(e,c),$r(e,c.model_file_name??"model",c)])),new this(...d)}async _call(e){return await this.forward(e)}async forward(e){return await this._forward(this,e)}_get_logits_processor(e,t,n=null){const r=new mr;if(null!==e.repetition_penalty&&1!==e.repetition_penalty&&r.push(new Ir(e.repetition_penalty)),null!==e.no_repeat_ngram_size&&e.no_repeat_ngram_size>0&&r.push(new xr(e.no_repeat_ngram_size)),null!==e.bad_words_ids&&r.push(new kr(e.bad_words_ids,e.eos_token_id)),null!==e.min_length&&null!==e.eos_token_id&&e.min_length>0&&r.push(new Ar(e.min_length,e.eos_token_id)),null!==e.min_new_tokens&&null!==e.eos_token_id&&e.min_new_tokens>0&&r.push(new Cr(t,e.min_new_tokens,e.eos_token_id)),null!==e.forced_bos_token_id&&r.push(new vr(e.forced_bos_token_id)),null!==e.forced_eos_token_id&&r.push(new _r(e.max_length,e.forced_eos_token_id)),null!==e.begin_suppress_tokens){let n=t>1||null===e.forced_bos_token_id?t:t+1;null!==e.forced_decoder_ids&&(n+=e.forced_decoder_ids[e.forced_decoder_ids.length-1][0]),r.push(new wr(e.begin_suppress_tokens,n))}return null!==e.forced_decoder_ids&&r.push(new br(e.forced_decoder_ids)),null!==n&&r.extend(n),r}_get_generation_config(e){let t=new Er(this.config);return"generation_config"in this&&Object.assign(t,this.generation_config),null!==e&&Object.assign(t,e),t}async generate(e,t=null,n=null,{inputs_attention_mask:r=null}={}){if(!this.can_generate){let e=`The current model class (${Br.get(this.constructor)}) is not compatible with \`.generate()\`, as it doesn't have a language model head.`;const t=this.config.model_type,n=Yi.get(t)??Ki.get(t)??Vi.get(t)??Zi.get(t);throw n&&(e+=` Please use the following class instead: '${n[0]}'`),Error(e)}if(!(e instanceof ne||(o=e,"TypedArray"===o?.prototype?.__proto__?.constructor?.name)||Array.isArray(e)))throw Error(`\`inputs\` must be a Tensor, TypedArray, or Array, but is "${e.constructor.name}".`);var o;let i;if(this.config.is_encoder_decoder)i=0;else if(i=e instanceof ne?e.dims.at(-1):e.length,0===i)throw Error("Must supply a non-empty array of input token ids.");t=this._get_generation_config(t),n=n??new mr,n=this._get_logits_processor(t,i,n);let s=t.eos_token_id;null===s||Array.isArray(s)||(s=[s]);let a=1;const c=a+(t.max_new_tokens??1/0),l=Number.isInteger(t.max_length)&&null===(t.max_new_tokens??null);let u=Tr.getSampler(t),d=this.getStartBeams(e,t,a,r);for(;d.some(e=>!e.done)&&a<c;){let e=[];for(let r of d){if(r.done){e.push(r);continue}if(l&&r.output_token_ids.length>=t.max_length){r.done=!0,e.push(r);continue}let o=await this.runBeam(r);t.output_attentions&&this.addAttentionsToBeam(r,o),t.output_scores;let i=o.logits.slice(null,-1,null);n(r.output_token_ids,i);let a=u(i);for(let[t,n]of a){let o={...r};this.updateBeam(o,t),o.score+=n,s&&s.includes(t)&&(o.done=!0),e.push(o)}}++a,e=this.groupBeams(e).map(e=>e.sort((e,t)=>t.score-e.score).slice(0,t.num_beams)),d=e.flat(),t.callback_function&&t.callback_function(d)}const f=this.groupBeams(d),h=e=>f.map(n=>t.num_return_sequences>1?n.slice(0,t.num_return_sequences).map(t=>t[e]):[n[0][e]]).flat(),p=h("output_token_ids");return t.return_dict_in_generate?{sequences:p,decoder_attentions:h("decoder_attentions"),cross_attentions:h("cross_attentions")}:p}addAttentionsToBeam(e,t){if(this.config.is_encoder_decoder){if(!t.cross_attentions||0===t.cross_attentions.length)throw Error("`output_attentions` is true, but the model did not produce cross-attentions. This is most likely because the model was not exported with `output_attentions=True`.");e.cross_attentions||(e.cross_attentions=[]),e.cross_attentions.push(t.cross_attentions)}if(!t.decoder_attentions||0===t.decoder_attentions.length)throw Error("`output_attentions` is true, but the model did not produce decoder-attentions. This is most likely because the model was not exported with `output_attentions=True`.");e.decoder_attentions||(e.decoder_attentions=[]),e.decoder_attentions.push(t.decoder_attentions)}groupBeams(e){const t=Object.create(null);for(const n of e)void 0===t[n.id]?t[n.id]=[n]:t[n.id].push(n);return Object.values(t)}getPastKeyValues(e,t){const n=Object.create(null);for(const r in e)if(r.startsWith("present")){let o=r.replace("present","past_key_values");t&&r.includes("encoder")?n[o]=t[o]:n[o]=e[r]}return n}getAttentions(e){const t=Object.create(null);for(const n of["cross_attentions","decoder_attentions"]){const r=[];for(const t in e)t.startsWith(n)&&(r[t.split(".").pop()]=e[t]);t[n]=r}return t}addPastKeyValues(e,t){if(t)Object.assign(e,t);else{const t=1;if(this.config.is_encoder_decoder&&(this.add_encoder_pkv??1)){let n=[t,this.num_encoder_heads,0,this.encoder_dim_kv],r=[t,this.num_decoder_heads,0,this.decoder_dim_kv];for(let t=0;t<this.num_decoder_layers;++t)e[`past_key_values.${t}.encoder.key`]=new ne("float32",[],n),e[`past_key_values.${t}.encoder.value`]=new ne("float32",[],n),e[`past_key_values.${t}.decoder.key`]=new ne("float32",[],r),e[`past_key_values.${t}.decoder.value`]=new ne("float32",[],r)}else if("falcon"===this.config.model_type){let n=[t*this.num_heads,0,this.dim_kv];for(let t=0;t<this.num_layers;++t)e[`past_key_values.${t}.key`]=new ne("float32",[],n),e[`past_key_values.${t}.value`]=new ne("float32",[],n)}else if(this.config.multi_query){let n=[t*this.num_heads,0,2*this.dim_kv];for(let t=0;t<this.num_layers;++t)e[`past_key_values.${t}.key_value`]=new ne("float32",[],n)}else if("bloom"===this.config.model_type){let n=[t*this.num_heads,this.dim_kv,0],r=[t*this.num_heads,0,this.dim_kv];for(let t=0;t<this.num_layers;++t)e[`past_key_values.${t}.key`]=new ne("float32",[],n),e[`past_key_values.${t}.value`]=new ne("float32",[],r)}else{let n=[t,this.num_heads,0,this.dim_kv];for(let t=0;t<this.num_layers;++t)e[`past_key_values.${t}.key`]=new ne("float32",[],n),e[`past_key_values.${t}.value`]=new ne("float32",[],n)}}}getStartBeams(e,t,n,r){return this._getStartBeams(this,e,t,n,r)}async runBeam(e){return await this._runBeam(this,e)}updateBeam(e,t){return this._updateBeam(e,t)}}class no{}class ro extends to{}class oo extends to{}class io extends to{}class so extends to{}class ao extends to{}class co extends to{}class lo extends to{}class uo extends to{}class fo extends to{}class ho extends to{}class po extends to{}class go extends to{}class mo extends to{}class yo extends to{}class bo extends to{}class vo extends to{}class _o extends to{}class wo extends to{}class So extends to{}class xo extends to{}class Io extends to{}class Ao extends to{}class Co extends to{}class ko extends to{}class Eo extends to{}class To extends to{}class Po extends to{main_input_name="pixel_values";constructor(e,t,n,r){super(e,t),this.decoder_merged_session=n,this.generation_config=r;const o=this.config.encoder,i=this.config.decoder,s=o.model_type;(ji.get(s)??Ui.get(s))||console.warn(`Model type for encoder '${s}' not found, assuming encoder-only architecture. Please report this at https://github.com/xenova/transformers.js/issues/new/choose.`);const a=Yi.get(i.model_type);if(!a)throw new Error(`Unable to construct \`VisionEncoderDecoder\` due to unsupported decoder: "${this.config.decoder.model_type}"`);const c=new(0,a[1])(i,n,r);this.add_encoder_pkv="num_decoder_layers"in c,this.add_encoder_pkv?(this.num_decoder_layers=c.num_decoder_layers,this.num_decoder_heads=c.num_decoder_heads,this.decoder_dim_kv=c.decoder_dim_kv,this.num_encoder_layers=c.num_encoder_layers,this.num_encoder_heads=c.num_encoder_heads,this.encoder_dim_kv=c.encoder_dim_kv):(this.num_layers=c.num_layers,this.num_heads=c.num_heads,this.dim_kv=c.dim_kv)}}class Mo extends to{}class Oo extends to{}class Do extends to{}class Ro extends to{}class No extends to{constructor(e,t,n){super(e,t),this.generation_config=n,this.config.pad_token_id=this.config.eos_token_id,this.num_heads=this.config.n_head,this.num_layers=this.config.n_layer,this.dim_kv=this.config.n_embd/this.num_heads}}class Fo extends to{constructor(e,t,n){super(e,t),this.generation_config=n,this.config.pad_token_id=this.config.eos_token_id,this.num_heads=this.config.num_heads,this.num_layers=this.config.num_layers,this.dim_kv=this.config.hidden_size/this.num_heads}}class Lo extends to{constructor(e,t,n){super(e,t),this.generation_config=n,this.config.pad_token_id=this.config.eos_token_id,this.num_heads=this.config.num_attention_heads,this.num_layers=this.config.num_hidden_layers,this.dim_kv=this.config.hidden_size/this.num_heads}}class Bo extends to{constructor(e,t,n){super(e,t),this.generation_config=n,this.config.pad_token_id=this.config.eos_token_id,this.num_heads=this.config.n_head,this.num_layers=this.config.n_layer,this.dim_kv=this.config.n_embd/this.num_heads}}class $o extends to{constructor(e,t,n){super(e,t),this.generation_config=n,this.config.pad_token_id=this.config.eos_token_id,this.num_heads=this.config.n_head,this.num_layers=this.config.n_layer,this.dim_kv=this.config.n_embd/this.num_heads}}class jo extends to{constructor(e,t,n){super(e,t),this.generation_config=n,this.config.pad_token_id=this.config.eos_token_id,this.num_heads=this.config.n_head,this.num_layers=this.config.n_layer,this.dim_kv=this.config.n_embd/this.num_heads}}class Uo extends to{constructor(e,t,n){super(e,t),this.generation_config=n,this.config.pad_token_id=this.config.eos_token_id,this.num_heads=this.config.num_key_value_heads??this.config.num_attention_heads,this.num_layers=this.config.num_hidden_layers,this.dim_kv=this.config.hidden_size/this.config.num_attention_heads}}class zo extends to{constructor(e,t,n){super(e,t),this.generation_config=n,this.config.pad_token_id=this.config.eos_token_id,this.num_heads=this.config.num_key_value_heads??this.config.num_attention_heads,this.num_layers=this.config.num_hidden_layers,this.dim_kv=this.config.hidden_size/this.config.num_attention_heads}}class Vo extends to{constructor(e,t,n){super(e,t),this.generation_config=n,this.config.pad_token_id=this.config.eos_token_id,this.num_heads=this.config.num_attention_heads,this.num_layers=this.config.num_hidden_layers,this.dim_kv=this.config.hidden_size/this.num_heads}}class qo extends to{constructor(e,t,n){super(e,t),this.generation_config=n,this.config.pad_token_id=this.config.eos_token_id,this.num_heads=this.config.n_head,this.num_layers=this.config.n_layer,this.dim_kv=this.config.hidden_size/this.num_heads}}class Ho extends to{constructor(e,t,n){super(e,t),this.generation_config=n,this.config.pad_token_id=this.config.eos_token_id,this.num_heads=this.config.n_heads,this.num_layers=this.config.n_layers,this.dim_kv=this.config.d_model/this.num_heads}}class Go extends to{constructor(e,t,n){super(e,t),this.generation_config=n,this.config.pad_token_id=this.config.eos_token_id,this.num_heads=this.config.num_attention_heads,this.num_layers=this.config.num_hidden_layers,this.dim_kv=this.config.hidden_size/this.num_heads}}class Wo extends to{}class Ko extends to{}class Yo extends to{}class Jo extends to{}class Xo extends to{}class Zo extends to{}class Qo extends to{}class ei extends to{}class ti extends to{}class ni extends no{constructor({logits:e,pred_boxes:t}){super(),this.logits=e,this.pred_boxes=t}}class ri extends no{constructor({logits:e,pred_boxes:t,pred_masks:n}){super(),this.logits=e,this.pred_boxes=t,this.pred_masks=n}}class oi extends to{}class ii extends ni{}class si extends to{}class ai extends to{}class ci extends to{}class li extends to{}class ui extends to{}class di extends to{}class fi extends to{}class hi extends to{}class pi extends to{}class gi extends to{}class mi extends to{}class yi extends to{}class bi extends no{constructor({logits:e,pred_boxes:t}){super(),this.logits=e,this.pred_boxes=t}}class vi extends to{}class _i extends no{constructor({iou_scores:e,pred_masks:t}){super(),this.iou_scores=e,this.pred_masks=t}}class wi extends to{}class Si extends to{}class xi extends to{}class Ii extends to{}class Ai extends to{}class Ci extends to{}class ki extends to{}class Ei extends to{}class Ti extends to{constructor(e,t,n){super(e,t),this.generation_config=n,this.config.pad_token_id=this.config.eos_token_id,this.num_encoder_layers=this.num_decoder_layers=this.config.decoder_layers,this.num_encoder_heads=this.num_decoder_heads=this.config.decoder_attention_heads,this.encoder_dim_kv=this.decoder_dim_kv=this.config.d_model/this.num_decoder_heads}}class Pi extends to{constructor(e,t,n){super(e,t),this.generation_config=n,this.config.pad_token_id=this.config.eos_token_id,this.num_heads=this.config.num_key_value_heads,this.num_layers=this.config.num_hidden_layers,this.dim_kv=this.config.hidden_size/this.config.num_attention_heads}}class Mi extends to{constructor(e,t,n){super(e,t),this.generation_config=n,this.config.pad_token_id=this.config.eos_token_id,this.num_heads=this.config.num_key_value_heads,this.num_layers=this.config.num_hidden_layers,this.dim_kv=this.config.hidden_size/this.config.num_attention_heads}}class Oi extends to{constructor(e,t,n){super(e,t),this.generation_config=n,this.config.pad_token_id=this.config.eos_token_id,this.num_heads=this.config.num_attention_heads,this.num_layers=this.config.num_hidden_layers,this.dim_kv=this.config.hidden_size/this.config.num_attention_heads}}class Di extends to{}class Ri extends to{}class Ni extends Ri{async _call(e){return new ks(await super._call(e))}}class Fi extends to{}class Li extends to{constructor(e,t,n){super(e,t),this.generation_config=n,this.config.pad_token_id=this.config.eos_token_id,this.num_heads=this.config.num_attention_heads,this.num_layers=this.config.num_hidden_layers,this.dim_kv=this.config.hidden_size/this.num_heads}}class Bi extends to{}class $i{static MODEL_CLASS_MAPPINGS=null;static BASE_IF_FAIL=!1;static async from_pretrained(e,{quantized:t=!0,progress_callback:n=null,config:r=null,cache_dir:o=null,local_files_only:i=!1,revision:s="main",model_file_name:a=null}={}){let c={quantized:t,progress_callback:n,config:r,cache_dir:o,local_files_only:i,revision:s,model_file_name:a};if(r=await gr.from_pretrained(e,c),c.config||(c.config=r),!this.MODEL_CLASS_MAPPINGS)throw new Error("`MODEL_CLASS_MAPPINGS` not implemented for this type of `AutoClass`: "+this.name);for(let t of this.MODEL_CLASS_MAPPINGS){const n=t.get(r.model_type);if(n)return await n[1].from_pretrained(e,c)}if(this.BASE_IF_FAIL)return console.warn(`Unknown model class "${r.model_type}", attempting to construct from base class.`),await to.from_pretrained(e,c);throw Error(`Unsupported model type: ${r.model_type}`)}}const ji=new Map([["bert",["BertModel",class extends ro{}]],["nomic_bert",["NomicBertModel",class extends oo{}]],["roformer",["RoFormerModel",class extends io{}]],["electra",["ElectraModel",class extends ao{}]],["esm",["EsmModel",class extends ho{}]],["convbert",["ConvBertModel",class extends so{}]],["camembert",["CamembertModel",class extends co{}]],["deberta",["DebertaModel",class extends lo{}]],["deberta-v2",["DebertaV2Model",class extends uo{}]],["mpnet",["MPNetModel",class extends go{}]],["albert",["AlbertModel",class extends yo{}]],["distilbert",["DistilBertModel",class extends fo{}]],["roberta",["RobertaModel",class extends Ao{}]],["xlm",["XLMModel",class extends Co{}]],["xlm-roberta",["XLMRobertaModel",class extends ko{}]],["clap",["ClapModel",class extends Di{}]],["clip",["CLIPModel",class extends Mo{}]],["clipseg",["CLIPSegModel",class extends Ro{}]],["chinese_clip",["ChineseCLIPModel",class extends Do{}]],["siglip",["SiglipModel",class extends Oo{}]],["mobilebert",["MobileBertModel",class extends po{}]],["squeezebert",["SqueezeBertModel",class extends mo{}]],["wav2vec2",["Wav2Vec2Model",class extends xi{}]],["wav2vec2-bert",["Wav2Vec2BertModel",class extends Ci{}]],["unispeech",["UniSpeechModel",class extends Ii{}]],["unispeech-sat",["UniSpeechSatModel",class extends Ai{}]],["hubert",["HubertModel",class extends xi{}]],["wavlm",["WavLMModel",class extends ki{}]],["audio-spectrogram-transformer",["ASTModel",class extends Eo{}]],["vits",["VitsModel",Ni]],["detr",["DetrModel",class extends ti{}]],["table-transformer",["TableTransformerModel",class extends oi{}]],["vit",["ViTModel",class extends Wo{}]],["fastvit",["FastViTModel",class extends Ko{}]],["mobilevit",["MobileViTModel",class extends Jo{}]],["mobilevitv2",["MobileViTV2Model",class extends Xo{}]],["owlvit",["OwlViTModel",class extends Zo{}]],["owlv2",["Owlv2Model",class extends Qo{}]],["beit",["BeitModel",class extends ei{}]],["deit",["DeiTModel",class extends si{}]],["convnext",["ConvNextModel",class extends pi{}]],["convnextv2",["ConvNextV2Model",class extends gi{}]],["dinov2",["Dinov2Model",class extends mi{}]],["resnet",["ResNetModel",class extends ai{}]],["swin",["SwinModel",class extends ci{}]],["swin2sr",["Swin2SRModel",class extends li{}]],["donut-swin",["DonutSwinModel",class extends hi{}]],["yolos",["YolosModel",class extends yi{}]],["dpt",["DPTModel",class extends ui{}]],["glpn",["GLPNModel",class extends fi{}]],["hifigan",["SpeechT5HifiGan",class extends to{main_input_name="spectrogram"}]],["efficientnet",["EfficientNetModel",class extends Bi{}]]]),Ui=new Map([["t5",["T5Model",class extends bo{}]],["longt5",["LongT5Model",class extends vo{}]],["mt5",["MT5Model",class extends _o{}]],["bart",["BartModel",class extends wo{}]],["mbart",["MBartModel",class extends So{}]],["marian",["MarianModel",class extends wi{}]],["whisper",["WhisperModel",class extends To{}]],["m2m_100",["M2M100Model",class extends Si{}]],["blenderbot",["BlenderbotModel",class extends xo{}]],["blenderbot-small",["BlenderbotSmallModel",class extends Io{}]]]),zi=new Map([["bloom",["BloomModel",class extends qo{}]],["gpt2",["GPT2Model",class extends No{}]],["gptj",["GPTJModel",class extends Bo{}]],["gpt_bigcode",["GPTBigCodeModel",class extends $o{}]],["gpt_neo",["GPTNeoModel",class extends Fo{}]],["gpt_neox",["GPTNeoXModel",class extends Lo{}]],["codegen",["CodeGenModel",class extends jo{}]],["llama",["LlamaModel",class extends Uo{}]],["qwen2",["Qwen2Model",class extends zo{}]],["phi",["PhiModel",class extends Vo{}]],["mpt",["MptModel",class extends Ho{}]],["opt",["OPTModel",class extends Go{}]],["mistral",["MistralModel",class extends Pi{}]],["starcoder2",["Starcoder2Model",class extends Mi{}]],["falcon",["FalconModel",class extends Oi{}]]]),Vi=new Map([["speecht5",["SpeechT5ForSpeechToText",class extends Ei{}]],["whisper",["WhisperForConditionalGeneration",class extends To{requires_attention_mask=!1;main_input_name="input_features";constructor(e,t,n,r){super(e,t),this.decoder_merged_session=n,this.generation_config=r,this.num_decoder_layers=this.config.decoder_layers,this.num_decoder_heads=this.config.decoder_attention_heads,this.decoder_dim_kv=this.config.d_model/this.num_decoder_heads,this.num_encoder_layers=this.config.encoder_layers,this.num_encoder_heads=this.config.encoder_attention_heads,this.encoder_dim_kv=this.config.d_model/this.num_encoder_heads}async generate(e,t=null,n=null){if(t=this._get_generation_config(t),t.return_timestamps??=!1,t.return_timestamps&&(n=[new Sr(t)]),t.return_token_timestamps&&(t.output_attentions=!0,t.return_dict_in_generate=!0,"translate"===t.task&&console.warn("Token-level timestamps may not be reliable for task 'translate'."),!t.alignment_heads))throw new Error("Model generation config has no `alignment_heads`, token-level timestamps not available. See https://gist.github.com/hollance/42e32852f24243b748ae6bc1f985b13a on how to add this property to the generation config.");const r=await super.generate(e,t,n);return t.return_token_timestamps&&t.alignment_heads&&(r.token_timestamps=this._extract_token_timestamps(r,t.alignment_heads,t.num_frames)),r}_extract_token_timestamps(e,t,n=null,r=.02){if(!e.cross_attentions)throw new Error("Model outputs must contain cross attentions to extract timestamps. This is most likely because the model was not exported with `output_attentions=True`.");let o=this.config.median_filter_width;void 0===o&&(console.warn("Model config has no `median_filter_width`, using default value of 7."),o=7);const i=e.cross_attentions.map(e=>{let r=Array.from({length:this.config.decoder_layers},(t,n)=>ae(e.map(e=>e[n]),2)),i=ce(t.map(([e,t])=>n?r[e].slice(null,t,null,[0,n]):r[e].slice(null,t)));i=i.transpose(1,0,2,3);let[s,a]=function(e,t=null,n=1,r=!1){if(null===t){const t=e.data.reduce((e,t)=>e+t,0)/e.data.length,r=Math.sqrt(e.data.reduce((e,n)=>e+(n-t)**2,0)/(e.data.length-n)),o=new ne(e.type,[t],[]);return[new ne(e.type,[r],[]),o]}const o=le(e,t=se(t,e.dims.length),r),i=e.dims.slice();i[t]=1;const s=new e.data.constructor(e.data.length/e.dims[t]);for(let n=0;n<e.data.length;++n){let r=0;for(let o=e.dims.length-1,s=n,a=1;o>=0;--o){const n=e.dims[o];o!==t&&(r+=s%n*a,a*=i[o]),s=Math.floor(s/n)}s[r]+=(e.data[n]-o.data[r])**2}for(let r=0;r<s.length;++r)s[r]=Math.sqrt(s[r]/(e.dims[t]-n));return r||i.splice(t,1),[new ne(e.type,s,i),o]}(i,-2,0,!0),c=i.clone();for(let e=0;e<c.dims[0];++e){let t=c[e];for(let n=0;n<t.dims[0];++n){let r=t[n];const i=s[e][n][0],c=a[e][n][0];for(let e=0;e<r.dims[0];++e){let t=r[e];for(let e=0;e<t.data.length;++e)t.data[e]=(t.data[e]-c.data[e])/i.data[e];t.data.set(Z(t.data,o))}}}return le(c,1)}),s=[e.sequences.length,e.sequences[0].length],a=new ne("float32",new Float32Array(s[0]*s[1]),s);for(let e=0;e<s[0];++e){const t=i[e].neg().squeeze_(0);let[n,o]=ue(t),s=l([1],Array.from({length:n.length-1},(e,t)=>n[t+1]-n[t])).map(e=>!!e),c=[];for(let e=0;e<s.length;++e)s[e]&&c.push(o[e]*r);a[e].data.set(c,1)}return a}}]]]),qi=new Map([["speecht5",["SpeechT5ForTextToSpeech",class extends Ei{constructor(e,t,n,r){super(e,t),this.decoder_merged_session=n,this.generation_config=r,this.num_decoder_layers=this.config.decoder_layers,this.num_decoder_heads=this.config.decoder_attention_heads,this.decoder_dim_kv=this.config.hidden_size/this.num_decoder_heads,this.num_encoder_layers=this.config.encoder_layers,this.num_encoder_heads=this.config.encoder_attention_heads,this.encoder_dim_kv=this.config.hidden_size/this.num_encoder_heads}async generate_speech(e,t,{threshold:n=.5,minlenratio:r=0,maxlenratio:o=20,vocoder:i=null}={}){const s={input_ids:e},{encoder_outputs:a,encoder_attention_mask:c}=await Jr(this,s),l=a.dims[1]/this.config.reduction_factor,u=Math.floor(l*o),d=Math.floor(l*r),f=this.config.num_mel_bins;let h=[],p=null,g=null,m=0;for(;;){++m;const e=Hr(!!g);let r;r=g?g.output_sequence_out:new ne("float32",new Float32Array(f),[1,1,f]);let o={use_cache_branch:e,output_sequence:r,encoder_attention_mask:c,speaker_embeddings:t,encoder_hidden_states:a};this.addPastKeyValues(o,p),g=await jr(this.decoder_merged_session,o),p=this.getPastKeyValues(g,p);const{prob:i,spectrum:s}=g;if(h.push(s),m>=d&&(Array.from(i.data).filter(e=>e>=n).length>0||m>=u))break}const y=ae(h),{waveform:b}=await jr(i.session,{spectrogram:y});return{spectrogram:y,waveform:b}}}]]]),Hi=new Map([["vits",["VitsModel",Ni]]]),Gi=new Map([["bert",["BertForSequenceClassification",class extends ro{async _call(e){return new _s(await super._call(e))}}]],["roformer",["RoFormerForSequenceClassification",class extends io{async _call(e){return new _s(await super._call(e))}}]],["electra",["ElectraForSequenceClassification",class extends ao{async _call(e){return new _s(await super._call(e))}}]],["esm",["EsmForSequenceClassification",class extends ho{async _call(e){return new _s(await super._call(e))}}]],["convbert",["ConvBertForSequenceClassification",class extends so{async _call(e){return new _s(await super._call(e))}}]],["camembert",["CamembertForSequenceClassification",class extends co{async _call(e){return new _s(await super._call(e))}}]],["deberta",["DebertaForSequenceClassification",class extends lo{async _call(e){return new _s(await super._call(e))}}]],["deberta-v2",["DebertaV2ForSequenceClassification",class extends uo{async _call(e){return new _s(await super._call(e))}}]],["mpnet",["MPNetForSequenceClassification",class extends go{async _call(e){return new _s(await super._call(e))}}]],["albert",["AlbertForSequenceClassification",class extends yo{async _call(e){return new _s(await super._call(e))}}]],["distilbert",["DistilBertForSequenceClassification",class extends fo{async _call(e){return new _s(await super._call(e))}}]],["roberta",["RobertaForSequenceClassification",class extends Ao{async _call(e){return new _s(await super._call(e))}}]],["xlm",["XLMForSequenceClassification",class extends Co{async _call(e){return new _s(await super._call(e))}}]],["xlm-roberta",["XLMRobertaForSequenceClassification",class extends ko{async _call(e){return new _s(await super._call(e))}}]],["bart",["BartForSequenceClassification",class extends wo{async _call(e){return new _s(await super._call(e))}}]],["mbart",["MBartForSequenceClassification",class extends So{async _call(e){return new _s(await super._call(e))}}]],["mobilebert",["MobileBertForSequenceClassification",class extends po{async _call(e){return new _s(await super._call(e))}}]],["squeezebert",["SqueezeBertForSequenceClassification",class extends mo{async _call(e){return new _s(await super._call(e))}}]]]),Wi=new Map([["bert",["BertForTokenClassification",class extends ro{async _call(e){return new Ss(await super._call(e))}}]],["roformer",["RoFormerForTokenClassification",class extends io{async _call(e){return new Ss(await super._call(e))}}]],["electra",["ElectraForTokenClassification",class extends ao{async _call(e){return new Ss(await super._call(e))}}]],["esm",["EsmForTokenClassification",class extends ho{async _call(e){return new Ss(await super._call(e))}}]],["convbert",["ConvBertForTokenClassification",class extends so{async _call(e){return new Ss(await super._call(e))}}]],["camembert",["CamembertForTokenClassification",class extends co{async _call(e){return new Ss(await super._call(e))}}]],["deberta",["DebertaForTokenClassification",class extends lo{async _call(e){return new Ss(await super._call(e))}}]],["deberta-v2",["DebertaV2ForTokenClassification",class extends uo{async _call(e){return new Ss(await super._call(e))}}]],["mpnet",["MPNetForTokenClassification",class extends go{async _call(e){return new Ss(await super._call(e))}}]],["distilbert",["DistilBertForTokenClassification",class extends fo{async _call(e){return new Ss(await super._call(e))}}]],["roberta",["RobertaForTokenClassification",class extends Ao{async _call(e){return new Ss(await super._call(e))}}]],["xlm",["XLMForTokenClassification",class extends Co{async _call(e){return new Ss(await super._call(e))}}]],["xlm-roberta",["XLMRobertaForTokenClassification",class extends ko{async _call(e){return new Ss(await super._call(e))}}]]]),Ki=new Map([["t5",["T5ForConditionalGeneration",class extends bo{constructor(e,t,n,r){super(e,t),this.decoder_merged_session=n,this.generation_config=r,this.num_decoder_layers=this.config.num_decoder_layers,this.num_decoder_heads=this.config.num_heads,this.decoder_dim_kv=this.config.d_kv,this.num_encoder_layers=this.config.num_layers,this.num_encoder_heads=this.config.num_heads,this.encoder_dim_kv=this.config.d_kv}}]],["longt5",["LongT5ForConditionalGeneration",class extends vo{constructor(e,t,n,r){super(e,t),this.decoder_merged_session=n,this.generation_config=r,this.num_decoder_layers=this.config.num_decoder_layers,this.num_decoder_heads=this.config.num_heads,this.decoder_dim_kv=this.config.d_kv,this.num_encoder_layers=this.config.num_layers,this.num_encoder_heads=this.config.num_heads,this.encoder_dim_kv=this.config.d_kv}}]],["mt5",["MT5ForConditionalGeneration",class extends _o{constructor(e,t,n,r){super(e,t),this.decoder_merged_session=n,this.generation_config=r,this.num_decoder_layers=this.config.num_decoder_layers,this.num_decoder_heads=this.config.num_heads,this.decoder_dim_kv=this.config.d_kv,this.num_encoder_layers=this.config.num_layers,this.num_encoder_heads=this.config.num_heads,this.encoder_dim_kv=this.config.d_kv}}]],["bart",["BartForConditionalGeneration",class extends wo{constructor(e,t,n,r){super(e,t),this.decoder_merged_session=n,this.generation_config=r,this.num_decoder_layers=this.config.decoder_layers,this.num_decoder_heads=this.config.decoder_attention_heads,this.decoder_dim_kv=this.config.d_model/this.num_decoder_heads,this.num_encoder_layers=this.config.encoder_layers,this.num_encoder_heads=this.config.encoder_attention_heads,this.encoder_dim_kv=this.config.d_model/this.num_encoder_heads}}]],["mbart",["MBartForConditionalGeneration",class extends So{constructor(e,t,n,r){super(e,t),this.decoder_merged_session=n,this.generation_config=r,this.num_decoder_layers=this.config.decoder_layers,this.num_decoder_heads=this.config.decoder_attention_heads,this.decoder_dim_kv=this.config.d_model/this.num_decoder_heads,this.num_encoder_layers=this.config.encoder_layers,this.num_encoder_heads=this.config.encoder_attention_heads,this.encoder_dim_kv=this.config.d_model/this.num_encoder_heads}}]],["marian",["MarianMTModel",class extends wi{constructor(e,t,n,r){super(e,t),this.decoder_merged_session=n,this.generation_config=r,this.num_decoder_layers=this.config.decoder_layers,this.num_decoder_heads=this.config.decoder_attention_heads,this.decoder_dim_kv=this.config.d_model/this.num_decoder_heads,this.num_encoder_layers=this.config.encoder_layers,this.num_encoder_heads=this.config.encoder_attention_heads,this.encoder_dim_kv=this.config.d_model/this.num_encoder_heads}}]],["m2m_100",["M2M100ForConditionalGeneration",class extends Si{constructor(e,t,n,r){super(e,t),this.decoder_merged_session=n,this.generation_config=r,this.num_decoder_layers=this.config.decoder_layers,this.num_decoder_heads=this.config.decoder_attention_heads,this.decoder_dim_kv=this.config.d_model/this.num_decoder_heads,this.num_encoder_layers=this.config.encoder_layers,this.num_encoder_heads=this.config.encoder_attention_heads,this.encoder_dim_kv=this.config.d_model/this.num_encoder_heads}}]],["blenderbot",["BlenderbotForConditionalGeneration",class extends xo{constructor(e,t,n,r){super(e,t),this.decoder_merged_session=n,this.generation_config=r,this.num_decoder_layers=this.config.decoder_layers,this.num_decoder_heads=this.config.decoder_attention_heads,this.decoder_dim_kv=this.config.d_model/this.num_decoder_heads,this.num_encoder_layers=this.config.encoder_layers,this.num_encoder_heads=this.config.encoder_attention_heads,this.encoder_dim_kv=this.config.d_model/this.num_encoder_heads}}]],["blenderbot-small",["BlenderbotSmallForConditionalGeneration",class extends Io{constructor(e,t,n,r){super(e,t),this.decoder_merged_session=n,this.generation_config=r,this.num_decoder_layers=this.config.decoder_layers,this.num_decoder_heads=this.config.decoder_attention_heads,this.decoder_dim_kv=this.config.d_model/this.num_decoder_heads,this.num_encoder_layers=this.config.encoder_layers,this.num_encoder_heads=this.config.encoder_attention_heads,this.encoder_dim_kv=this.config.d_model/this.num_encoder_heads}}]]]),Yi=new Map([["bloom",["BloomForCausalLM",class extends qo{}]],["gpt2",["GPT2LMHeadModel",class extends No{}]],["gptj",["GPTJForCausalLM",class extends Bo{}]],["gpt_bigcode",["GPTBigCodeForCausalLM",class extends $o{}]],["gpt_neo",["GPTNeoForCausalLM",class extends Fo{}]],["gpt_neox",["GPTNeoXForCausalLM",class extends Lo{}]],["codegen",["CodeGenForCausalLM",class extends jo{}]],["llama",["LlamaForCausalLM",class extends Uo{}]],["qwen2",["Qwen2ForCausalLM",class extends zo{}]],["phi",["PhiForCausalLM",class extends Vo{}]],["mpt",["MptForCausalLM",class extends Ho{}]],["opt",["OPTForCausalLM",class extends Go{}]],["mbart",["MBartForCausalLM",class extends So{constructor(e,t,n){super(e,t),this.generation_config=n,this.num_decoder_layers=this.config.decoder_layers,this.num_decoder_heads=this.config.decoder_attention_heads,this.decoder_dim_kv=this.config.d_model/this.num_decoder_heads,this.num_encoder_layers=this.config.encoder_layers,this.num_encoder_heads=this.config.encoder_attention_heads,this.encoder_dim_kv=this.config.d_model/this.num_encoder_heads}}]],["mistral",["MistralForCausalLM",class extends Pi{}]],["starcoder2",["Starcoder2ForCausalLM",class extends Mi{}]],["falcon",["FalconForCausalLM",class extends Oi{}]],["trocr",["TrOCRForCausalLM",class extends Ti{}]],["stablelm",["StableLmForCausalLM",class extends Li{}]]]),Ji=new Map([["bert",["BertForMaskedLM",class extends ro{async _call(e){return new xs(await super._call(e))}}]],["roformer",["RoFormerForMaskedLM",class extends io{async _call(e){return new xs(await super._call(e))}}]],["electra",["ElectraForMaskedLM",class extends ao{async _call(e){return new xs(await super._call(e))}}]],["esm",["EsmForMaskedLM",class extends ho{async _call(e){return new xs(await super._call(e))}}]],["convbert",["ConvBertForMaskedLM",class extends so{async _call(e){return new xs(await super._call(e))}}]],["camembert",["CamembertForMaskedLM",class extends co{async _call(e){return new xs(await super._call(e))}}]],["deberta",["DebertaForMaskedLM",class extends lo{async _call(e){return new xs(await super._call(e))}}]],["deberta-v2",["DebertaV2ForMaskedLM",class extends uo{async _call(e){return new xs(await super._call(e))}}]],["mpnet",["MPNetForMaskedLM",class extends go{async _call(e){return new xs(await super._call(e))}}]],["albert",["AlbertForMaskedLM",class extends yo{async _call(e){return new xs(await super._call(e))}}]],["distilbert",["DistilBertForMaskedLM",class extends fo{async _call(e){return new xs(await super._call(e))}}]],["roberta",["RobertaForMaskedLM",class extends Ao{async _call(e){return new xs(await super._call(e))}}]],["xlm",["XLMWithLMHeadModel",class extends Co{async _call(e){return new xs(await super._call(e))}}]],["xlm-roberta",["XLMRobertaForMaskedLM",class extends ko{async _call(e){return new xs(await super._call(e))}}]],["mobilebert",["MobileBertForMaskedLM",class extends po{async _call(e){return new xs(await super._call(e))}}]],["squeezebert",["SqueezeBertForMaskedLM",class extends mo{async _call(e){return new xs(await super._call(e))}}]]]),Xi=new Map([["bert",["BertForQuestionAnswering",class extends ro{async _call(e){return new Is(await super._call(e))}}]],["roformer",["RoFormerForQuestionAnswering",class extends io{async _call(e){return new Is(await super._call(e))}}]],["electra",["ElectraForQuestionAnswering",class extends ao{async _call(e){return new Is(await super._call(e))}}]],["convbert",["ConvBertForQuestionAnswering",class extends so{async _call(e){return new Is(await super._call(e))}}]],["camembert",["CamembertForQuestionAnswering",class extends co{async _call(e){return new Is(await super._call(e))}}]],["deberta",["DebertaForQuestionAnswering",class extends lo{async _call(e){return new Is(await super._call(e))}}]],["deberta-v2",["DebertaV2ForQuestionAnswering",class extends uo{async _call(e){return new Is(await super._call(e))}}]],["mpnet",["MPNetForQuestionAnswering",class extends go{async _call(e){return new Is(await super._call(e))}}]],["albert",["AlbertForQuestionAnswering",class extends yo{async _call(e){return new Is(await super._call(e))}}]],["distilbert",["DistilBertForQuestionAnswering",class extends fo{async _call(e){return new Is(await super._call(e))}}]],["roberta",["RobertaForQuestionAnswering",class extends Ao{async _call(e){return new Is(await super._call(e))}}]],["xlm",["XLMForQuestionAnswering",class extends Co{async _call(e){return new Is(await super._call(e))}}]],["xlm-roberta",["XLMRobertaForQuestionAnswering",class extends ko{async _call(e){return new Is(await super._call(e))}}]],["mobilebert",["MobileBertForQuestionAnswering",class extends po{async _call(e){return new Is(await super._call(e))}}]],["squeezebert",["SqueezeBertForQuestionAnswering",class extends mo{async _call(e){return new Is(await super._call(e))}}]]]),Zi=new Map([["vision-encoder-decoder",["VisionEncoderDecoderModel",Po]]]),Qi=new Map([["vision-encoder-decoder",["VisionEncoderDecoderModel",Po]]]),es=new Map([["vit",["ViTForImageClassification",class extends Wo{async _call(e){return new _s(await super._call(e))}}]],["fastvit",["FastViTForImageClassification",class extends Ko{async _call(e){return new _s(await super._call(e))}}]],["mobilevit",["MobileViTForImageClassification",class extends Jo{async _call(e){return new _s(await super._call(e))}}]],["mobilevitv2",["MobileViTV2ForImageClassification",class extends Xo{async _call(e){return new _s(await super._call(e))}}]],["beit",["BeitForImageClassification",class extends ei{async _call(e){return new _s(await super._call(e))}}]],["deit",["DeiTForImageClassification",class extends si{async _call(e){return new _s(await super._call(e))}}]],["convnext",["ConvNextForImageClassification",class extends pi{async _call(e){return new _s(await super._call(e))}}]],["convnextv2",["ConvNextV2ForImageClassification",class extends gi{async _call(e){return new _s(await super._call(e))}}]],["dinov2",["Dinov2ForImageClassification",class extends mi{async _call(e){return new _s(await super._call(e))}}]],["resnet",["ResNetForImageClassification",class extends ai{async _call(e){return new _s(await super._call(e))}}]],["swin",["SwinForImageClassification",class extends ci{async _call(e){return new _s(await super._call(e))}}]],["segformer",["SegformerForImageClassification",class extends Fi{}]],["efficientnet",["EfficientNetForImageClassification",class extends Bi{async _call(e){return new _s(await super._call(e))}}]]]),ts=new Map([["detr",["DetrForObjectDetection",class extends ti{async _call(e){return new ni(await super._call(e))}}]],["table-transformer",["TableTransformerForObjectDetection",class extends oi{async _call(e){return new ii(await super._call(e))}}]],["yolos",["YolosForObjectDetection",class extends yi{async _call(e){return new bi(await super._call(e))}}]]]),ns=new Map([["owlvit",["OwlViTForObjectDetection",class extends Zo{}]],["owlv2",["Owlv2ForObjectDetection",class extends Qo{}]]]),rs=new Map([["detr",["DetrForSegmentation",class extends ti{async _call(e){return new ri(await super._call(e))}}]],["clipseg",["CLIPSegForImageSegmentation",class extends Ro{}]]]),os=new Map([["segformer",["SegformerForSemanticSegmentation",class extends Fi{}]]]),is=new Map([["sam",["SamModel",class extends vi{constructor(e,t,n){super(e,t),this.prompt_encoder_mask_decoder=n}async get_image_embeddings({pixel_values:e}){return await Jr(this,{pixel_values:e})}async forward(e){if(e.image_embeddings&&e.image_positional_embeddings||(e={...e,...await this.get_image_embeddings(e)}),!e.input_labels){const t=e.input_points.dims.slice(0,-1),n=t.reduce((e,t)=>e*t,1);e.input_labels=new ne("int64",new BigInt64Array(n).fill(1n),t)}return await jr(this.prompt_encoder_mask_decoder,{input_points:e.input_points,input_labels:e.input_labels,image_embeddings:e.image_embeddings,image_positional_embeddings:e.image_positional_embeddings})}async _call(e){return new _i(await super._call(e))}}]]]),ss=new Map([["wav2vec2",["Wav2Vec2ForCTC",class extends xi{async _call(e){return new As(await super._call(e))}}]],["wav2vec2-bert",["Wav2Vec2BertForCTC",class extends Ci{async _call(e){return new As(await super._call(e))}}]],["unispeech",["UniSpeechForCTC",class extends Ii{async _call(e){return new As(await super._call(e))}}]],["unispeech-sat",["UniSpeechSatForCTC",class extends Ai{async _call(e){return new As(await super._call(e))}}]],["wavlm",["WavLMForCTC",class extends ki{async _call(e){return new As(await super._call(e))}}]],["hubert",["HubertForCTC",class extends xi{async _call(e){return new As(await super._call(e))}}]]]),as=new Map([["wav2vec2",["Wav2Vec2ForSequenceClassification",class extends xi{async _call(e){return new _s(await super._call(e))}}]],["wav2vec2-bert",["Wav2Vec2BertForSequenceClassification",class extends Ci{async _call(e){return new _s(await super._call(e))}}]],["unispeech",["UniSpeechForSequenceClassification",class extends Ii{async _call(e){return new _s(await super._call(e))}}]],["unispeech-sat",["UniSpeechSatForSequenceClassification",class extends Ai{async _call(e){return new _s(await super._call(e))}}]],["wavlm",["WavLMForSequenceClassification",class extends ki{async _call(e){return new _s(await super._call(e))}}]],["hubert",["HubertForSequenceClassification",class extends xi{async _call(e){return new _s(await super._call(e))}}]],["audio-spectrogram-transformer",["ASTForAudioClassification",class extends Eo{}]]]),cs=new Map([["wavlm",["WavLMForXVector",class extends ki{async _call(e){return new ws(await super._call(e))}}]]]),ls=new Map([["unispeech-sat",["UniSpeechSatForAudioFrameClassification",class extends Ai{async _call(e){return new Ss(await super._call(e))}}]],["wavlm",["WavLMForAudioFrameClassification",class extends ki{async _call(e){return new Ss(await super._call(e))}}]],["wav2vec2",["Wav2Vec2ForAudioFrameClassification",class extends xi{async _call(e){return new Ss(await super._call(e))}}]]]),us=new Map([["vitmatte",["VitMatteForImageMatting",class extends Yo{async _call(e){return new Cs(await super._call(e))}}]]]),ds=new Map([["swin2sr",["Swin2SRForImageSuperResolution",class extends li{}]]]),fs=new Map([["dpt",["DPTForDepthEstimation",class extends ui{}]],["depth_anything",["DepthAnythingForDepthEstimation",class extends di{}]],["glpn",["GLPNForDepthEstimation",class extends fi{}]]]),hs=new Map([["clip",["CLIPVisionModelWithProjection",class extends Mo{static async from_pretrained(e,t={}){return t.model_file_name??="vision_model",super.from_pretrained(e,t)}}]],["siglip",["SiglipVisionModel",class extends Mo{static async from_pretrained(e,t={}){return t.model_file_name??="vision_model",super.from_pretrained(e,t)}}]]]),ps=[[ji,0],[Ui,1],[zi,4],[Gi,0],[Wi,0],[Ki,2],[Vi,2],[Yi,4],[Ji,0],[Xi,0],[Zi,3],[es,0],[rs,0],[os,0],[us,0],[ds,0],[fs,0],[ts,0],[ns,0],[is,5],[ss,0],[as,0],[qi,2],[Hi,0],[cs,0],[ls,0],[hs,0]];for(const[e,t]of ps)for(const[n,r]of e.values())Fr.set(n,t),Br.set(r,n),Lr.set(n,r);const gs=[["CLIPTextModelWithProjection",class extends Mo{static async from_pretrained(e,t={}){return t.model_file_name??="text_model",super.from_pretrained(e,t)}},0],["SiglipTextModel",class extends Oo{static async from_pretrained(e,t={}){return t.model_file_name??="text_model",super.from_pretrained(e,t)}},0],["ClapTextModelWithProjection",class extends Di{static async from_pretrained(e,t={}){return t.model_file_name??="text_model",super.from_pretrained(e,t)}},0],["ClapAudioModelWithProjection",class extends Di{static async from_pretrained(e,t={}){return t.model_file_name??="audio_model",super.from_pretrained(e,t)}},0]];for(const[e,t,n]of gs)Fr.set(e,n),Br.set(t,e),Lr.set(e,t);class ms extends $i{static MODEL_CLASS_MAPPINGS=ps.map(e=>e[0]);static BASE_IF_FAIL=!0}class ys extends $i{static MODEL_CLASS_MAPPINGS=[Gi]}class bs extends $i{static MODEL_CLASS_MAPPINGS=[Ki]}class vs extends no{constructor({logits:e,past_key_values:t,encoder_outputs:n,decoder_attentions:r=null,cross_attentions:o=null}){super(),this.logits=e,this.past_key_values=t,this.encoder_outputs=n,this.decoder_attentions=r,this.cross_attentions=o}}class _s extends no{constructor({logits:e}){super(),this.logits=e}}class ws extends no{constructor({logits:e,embeddings:t}){super(),this.logits=e,this.embeddings=t}}class Ss extends no{constructor({logits:e}){super(),this.logits=e}}class xs extends no{constructor({logits:e}){super(),this.logits=e}}class Is extends no{constructor({start_logits:e,end_logits:t}){super(),this.start_logits=e,this.end_logits=t}}class As extends no{constructor({logits:e}){super(),this.logits=e}}class Cs extends no{constructor({alphas:e}){super(),this.alphas=e}}class ks extends no{constructor({waveform:e,spectrogram:t}){super(),this.waveform=e,this.spectrogram=t}}var Es=n(27806);const Ts="undefined"!=typeof self,Ps=Ts&&"DedicatedWorkerGlobalScope"===self.constructor.name;let Ms,Os,Ds;if(Ts)Ms=(e,t)=>{if(!self.OffscreenCanvas)throw new Error("OffscreenCanvas not supported by this browser.");return new self.OffscreenCanvas(e,t)},Ds=self.createImageBitmap,Os=self.ImageData;else{if(!Es)throw new Error("Unable to load image processing library.");Ds=async e=>{const t=(await e.metadata()).channels;let{data:n,info:r}=await e.rotate().raw().toBuffer({resolveWithObject:!0});const o=new Fs(new Uint8ClampedArray(n),r.width,r.height,r.channels);return void 0!==t&&t!==r.channels&&o.convert(t),o}}const Rs={0:"nearest",1:"lanczos",2:"bilinear",3:"bicubic",4:"box",5:"hamming"},Ns=new Map([["png","image/png"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["gif","image/gif"]]);class Fs{constructor(e,t,n,r){this.data=e,this.width=t,this.height=n,this.channels=r}get size(){return[this.width,this.height]}static async read(e){if(e instanceof Fs)return e;if("string"==typeof e||e instanceof URL)return await this.fromURL(e);throw new Error("Unsupported input type: "+typeof e)}static async fromURL(e){let t=await B(e);if(200!==t.status)throw new Error(`Unable to read image from "${e}" (${t.status} ${t.statusText})`);let n=await t.blob();return this.fromBlob(n)}static async fromBlob(e){if(Ts){let t=await Ds(e);const n=Ms(t.width,t.height).getContext("2d");return n.drawImage(t,0,0),new this(n.getImageData(0,0,t.width,t.height).data,t.width,t.height,4)}{let t=Es(await e.arrayBuffer());return await Ds(t)}}static fromTensor(e,t="CHW"){if(3!==e.dims.length)throw new Error(`Tensor should have 3 dimensions, but has ${e.dims.length} dimensions.`);if("CHW"===t)e=e.transpose(1,2,0);else if("HWC"!==t)throw new Error(`Unsupported channel format: ${t}`);if(!(e.data instanceof Uint8ClampedArray||e.data instanceof Uint8Array))throw new Error(`Unsupported tensor type: ${e.type}`);switch(e.dims[2]){case 1:case 2:case 3:case 4:return new Fs(e.data,e.dims[1],e.dims[0],e.dims[2]);default:throw new Error(`Unsupported number of channels: ${e.dims[2]}`)}}grayscale(){if(1===this.channels)return this;let e=new Uint8ClampedArray(this.width*this.height*1);switch(this.channels){case 3:case 4:for(let t=0,n=0;t<this.data.length;t+=this.channels){const r=this.data[t],o=this.data[t+1],i=this.data[t+2];e[n++]=Math.round(.2989*r+.587*o+.114*i)}break;default:throw new Error(`Conversion failed due to unsupported number of channels: ${this.channels}`)}return this._update(e,this.width,this.height,1)}rgb(){if(3===this.channels)return this;let e=new Uint8ClampedArray(this.width*this.height*3);switch(this.channels){case 1:for(let t=0,n=0;t<this.data.length;++t)e[n++]=this.data[t],e[n++]=this.data[t],e[n++]=this.data[t];break;case 4:for(let t=0,n=0;t<this.data.length;t+=4)e[n++]=this.data[t],e[n++]=this.data[t+1],e[n++]=this.data[t+2];break;default:throw new Error(`Conversion failed due to unsupported number of channels: ${this.channels}`)}return this._update(e,this.width,this.height,3)}rgba(){if(4===this.channels)return this;let e=new Uint8ClampedArray(this.width*this.height*4);switch(this.channels){case 1:for(let t=0,n=0;t<this.data.length;++t)e[n++]=this.data[t],e[n++]=this.data[t],e[n++]=this.data[t],e[n++]=255;break;case 3:for(let t=0,n=0;t<this.data.length;t+=3)e[n++]=this.data[t],e[n++]=this.data[t+1],e[n++]=this.data[t+2],e[n++]=255;break;default:throw new Error(`Conversion failed due to unsupported number of channels: ${this.channels}`)}return this._update(e,this.width,this.height,4)}async resize(e,t,{resample:n=2}={}){let r=Rs[n]??n;if(Ts){let n=this.channels,r=this.toCanvas();const o=Ms(e,t).getContext("2d");return o.drawImage(r,0,0,e,t),new Fs(o.getImageData(0,0,e,t).data,e,t,4).convert(n)}{let n=this.toSharp();switch(r){case"box":case"hamming":"box"!==r&&"hamming"!==r||(console.warn(`Resampling method ${r} is not yet supported. Using bilinear instead.`),r="bilinear");case"nearest":case"bilinear":case"bicubic":n=n.affine([e/this.width,0,0,t/this.height],{interpolator:r});break;case"lanczos":n=n.resize({width:e,height:t,fit:"fill",kernel:"lanczos3"});break;default:throw new Error(`Resampling method ${r} is not supported.`)}return await Ds(n)}}async pad([e,t,n,r]){if(e=Math.max(e,0),t=Math.max(t,0),n=Math.max(n,0),r=Math.max(r,0),0===e&&0===t&&0===n&&0===r)return this;if(Ts){let o=this.channels,i=this.toCanvas(),s=this.width+e+t,a=this.height+n+r;const c=Ms(s,a).getContext("2d");return c.drawImage(i,0,0,this.width,this.height,e,n,s,a),new Fs(c.getImageData(0,0,s,a).data,s,a,4).convert(o)}{let o=this.toSharp().extend({left:e,right:t,top:n,bottom:r});return await Ds(o)}}async crop([e,t,n,r]){if(e=Math.max(e,0),t=Math.max(t,0),n=Math.min(n,this.width-1),r=Math.min(r,this.height-1),0===e&&0===t&&n===this.width-1&&r===this.height-1)return this;const o=n-e+1,i=r-t+1;if(Ts){const n=this.channels,r=this.toCanvas(),s=Ms(o,i).getContext("2d");return s.drawImage(r,e,t,o,i,0,0,o,i),new Fs(s.getImageData(0,0,o,i).data,o,i,4).convert(n)}{const n=this.toSharp().extract({left:e,top:t,width:o,height:i});return await Ds(n)}}async center_crop(e,t){if(this.width===e&&this.height===t)return this;let n=(this.width-e)/2,r=(this.height-t)/2;if(Ts){let o=this.channels,i=this.toCanvas();const s=Ms(e,t).getContext("2d");let a=0,c=0,l=0,u=0;return n>=0?a=n:l=-n,r>=0?c=r:u=-r,s.drawImage(i,a,c,e,t,l,u,e,t),new Fs(s.getImageData(0,0,e,t).data,e,t,4).convert(o)}{let o=this.toSharp();if(n>=0&&r>=0)o=o.extract({left:Math.floor(n),top:Math.floor(r),width:e,height:t});else if(n<=0&&r<=0){let i=Math.floor(-r),s=Math.floor(-n);o=o.extend({top:i,left:s,right:e-this.width-s,bottom:t-this.height-i})}else{let i=[0,0],s=0;r<0?(i[0]=Math.floor(-r),i[1]=t-this.height-i[0]):s=Math.floor(r);let a=[0,0],c=0;n<0?(a[0]=Math.floor(-n),a[1]=e-this.width-a[0]):c=Math.floor(n),o=o.extend({top:i[0],bottom:i[1],left:a[0],right:a[1]}).extract({left:c,top:s,width:e,height:t})}return await Ds(o)}}async toBlob(e="image/png",t=1){if(!Ts)throw new Error("toBlob() is only supported in browser environments.");const n=this.toCanvas();return await n.convertToBlob({type:e,quality:t})}toTensor(e="CHW"){let t=new ne("uint8",new Uint8Array(this.data),[this.height,this.width,this.channels]);if("HWC"===e);else{if("CHW"!==e)throw new Error(`Unsupported channel format: ${e}`);t=t.permute(2,0,1)}return t}toCanvas(){if(!Ts)throw new Error("toCanvas() is only supported in browser environments.");let e=this.clone().rgba(),t=Ms(e.width,e.height),n=new Os(e.data,e.width,e.height);return t.getContext("2d").putImageData(n,0,0),t}_update(e,t,n,r=null){return this.data=e,this.width=t,this.height=n,null!==r&&(this.channels=r),this}clone(){return new Fs(this.data.slice(),this.width,this.height,this.channels)}convert(e){if(this.channels===e)return this;switch(e){case 1:this.grayscale();break;case 3:this.rgb();break;case 4:this.rgba();break;default:throw new Error(`Conversion failed due to unsupported number of channels: ${this.channels}`)}return this}async save(e){if(!Ts){if(D.useFS){const t=this.toSharp();return await t.toFile(e)}throw new Error("Unable to save the image because filesystem is disabled in this environment.")}{if(Ps)throw new Error("Unable to save an image from a Web Worker.");const t=e.split(".").pop().toLowerCase(),n=Ns.get(t)??"image/png",r=await this.toBlob(n),o=URL.createObjectURL(r),i=document.createElement("a");i.href=o,i.download=e,i.click(),i.remove()}}toSharp(){if(Ts)throw new Error("toSharp() is only supported in server-side environments.");return Es(this.data,{raw:{width:this.width,height:this.height,channels:this.channels}})}}function Ls(e){if(e<1)return new Float64Array;if(1===e)return new Float64Array([1]);const t=e-1,n=Math.PI/t,r=new Float64Array(e);for(let o=0;o<e;++o){const e=2*o-t;r[o]=.5+.5*Math.cos(n*e)}return r}const Bs={htk:e=>2595*Math.log10(1+e/700),kaldi:e=>1127*Math.log(1+e/700),slaney:(e,t=1e3,n=15,r=27/Math.log(6.4))=>e>=t?n+Math.log(e/t)*r:3*e/200};function $s(e,t="htk"){const n=Bs[t];if(!n)throw new Error('mel_scale should be one of "htk", "slaney" or "kaldi".');return"number"==typeof e?n(e):e.map(e=>n(e))}const js={htk:e=>700*(10**(e/2595)-1),kaldi:e=>700*(Math.exp(e/1127)-1),slaney:(e,t=1e3,n=15,r=Math.log(6.4)/27)=>e>=n?t*Math.exp(r*(e-n)):200*e/3};function Us(e,t,n){const r=(t-e)/(n-1);return Float64Array.from({length:n},(t,n)=>e+r*n)}function zs(e,t,n,r,o,i=null,s="htk",a=!1){if(null!==i&&"slaney"!==i)throw new Error('norm must be one of null or "slaney"');const c=Us($s(n,s),$s(r,s),t+2);let l,u=function(e,t="htk"){const n=js[t];if(!n)throw new Error('mel_scale should be one of "htk", "slaney" or "kaldi".');return"number"==typeof e?n(e):e.map(e=>n(e))}(c,s);if(a){const t=o/(2*e);l=$s(Float64Array.from({length:e},(e,n)=>n*t),s),u=c}else l=Us(0,Math.floor(o/2),e);const d=function(e,t){const n=Float64Array.from({length:t.length-1},(e,n)=>t[n+1]-t[n]),r=Array.from({length:e.length},()=>new Array(t.length));for(let n=0;n<e.length;++n){const o=r[n];for(let r=0;r<t.length;++r)o[r]=t[r]-e[n]}const o=t.length-2,i=Array.from({length:o},()=>new Array(e.length));for(let t=0;t<e.length;++t){const e=r[t];for(let r=0;r<o;++r){const o=-e[r]/n[r],s=e[r+2]/n[r+1];i[r][t]=Math.max(0,Math.min(o,s))}}return i}(l,u);if(null!==i&&"slaney"===i)for(let n=0;n<t;++n){const t=d[n],r=2/(u[n+2]-u[n]);for(let n=0;n<e;++n)t[n]*=r}return d}function Vs(e,t,n,r,o){if(n<=0)throw new Error("reference must be greater than zero");if(r<=0)throw new Error("min_value must be greater than zero");n=Math.max(r,n);const i=Math.log10(n);for(let n=0;n<e.length;++n)e[n]=t*Math.log10(Math.max(r,e[n])-i);if(null!==o){if(o<=0)throw new Error("db_range must be greater than zero");const t=W(e)[0]-o;for(let n=0;n<e.length;++n)e[n]=Math.max(e[n],t)}return e}function qs(e,t,n,r,{fft_length:o=null,power:i=1,center:s=!0,pad_mode:a="reflect",onesided:c=!0,preemphasis:l=null,mel_filters:u=null,mel_floor:f=1e-10,log_mel:h=null,reference:p=1,min_value:g=1e-10,db_range:m=null,remove_dc_offset:y=null,max_num_frames:b=null,do_pad:v=!0,transpose:_=!1}={}){const w=t.length;if(null===o&&(o=n),n>o)throw Error(`frame_length (${n}) may not be larger than fft_length (${o})`);if(w!==n)throw new Error(`Length of the window (${w}) must equal frame_length (${n})`);if(r<=0)throw new Error("hop_length must be greater than zero");if(null===i&&null!==u)throw new Error("You have provided `mel_filters` but `power` is `None`. Mel spectrogram computation is not yet supported for complex-valued spectrogram. Specify `power` to fix this issue.");if(s){if("reflect"!==a)throw new Error(`pad_mode="${a}" not implemented yet.`);const t=Math.floor((o-1)/2)+1;e=function(e,t,n){const r=new e.constructor(e.length+t+n),o=e.length-1;for(let n=0;n<e.length;++n)r[t+n]=e[n];for(let n=1;n<=t;++n)r[t-n]=e[d(n,o)];for(let i=1;i<=n;++i)r[o+t+i]=e[d(o-i,o)];return r}(e,t,t)}const S=Math.floor(1+Math.floor((e.length-n)/r)),x=c?Math.floor(o/2)+1:o;let I=S,A=S;null!==b&&(b>S?v&&(A=b):A=I=b);const C=new X(o),k=new Float64Array(o),E=new Float64Array(C.outputBufferSize),T=new Array(I);for(let o=0;o<I;++o){const i=o*r;for(let t=0;t<n;++t)k[t]=e[i+t];if(y){let e=0;for(let t=0;t<n;++t)e+=k[t];const t=e/n;for(let e=0;e<n;++e)k[e]-=t}if(null!==l){for(let e=n-1;e>=1;--e)k[e]-=l*k[e-1];k[0]*=1-l}for(let e=0;e<t.length;++e)k[e]*=t[e];C.realTransform(E,k);const s=new Array(x);for(let e=0;e<s.length;++e){const t=e<<1;s[e]=E[t]**2+E[t+1]**2}T[o]=s}if(null!==i&&2!==i){const e=2/i;for(let t=0;t<T.length;++t){const n=T[t];for(let t=0;t<n.length;++t)n[t]**=e}}const P=u.length,M=new Float32Array(P*A),O=_?[A,P]:[P,A];for(let e=0;e<P;++e){const t=u[e];for(let n=0;n<I;++n){const r=T[n];let o=0;for(let e=0;e<x;++e)o+=t[e]*r[e];M[_?n*P+e:e*I+n]=Math.max(f,o)}}if(null!==i&&null!==h){const e=Math.min(M.length,I*P);switch(h){case"log":for(let t=0;t<e;++t)M[t]=Math.log(M[t]);break;case"log10":for(let t=0;t<e;++t)M[t]=Math.log10(M[t]);break;case"dB":if(1===i)!function(e,t=1,n=1e-5,r=null){Vs(e,20,t,n,r)}(M,p,g,m);else{if(2!==i)throw new Error(`Cannot use log_mel option '${h}' with power ${i}`);!function(e,t=1,n=1e-10,r=null){Vs(e,10,t,n,r)}(M,p,g,m)}break;default:throw new Error(`log_mel must be one of null, 'log', 'log10' or 'dB'. Got '${h}'`)}}return{data:M,dims:O}}function Hs(e,t,{periodic:n=!0,frame_length:r=null,center:o=!0}={}){const i=n?e+1:e;let s;switch(t){case"boxcar":s=new Float64Array(i).fill(1);break;case"hann":case"hann_window":s=Ls(i);break;case"povey":s=Ls(i).map(e=>Math.pow(e,.85));break;default:throw new Error(`Unknown window type ${t}.`)}if(n&&(s=s.subarray(0,e)),null===r)return s;if(e>r)throw new Error(`Length of the window (${e}) may not be larger than frame_length (${r})`);return s}function Gs([e,t,n,r]){return[e-n/2,t-r/2,e+n/2,t+r/2]}function Ws(e,t=.5,n=null,r=!1){const o=e.logits,i=e.pred_boxes,[s,a,c]=o.dims;if(null!==n&&n.length!==s)throw Error("Make sure that you pass in as many target sizes as the batch dimension of the logits");let l=[];for(let e=0;e<s;++e){let s=null!==n?n[e]:null,u={boxes:[],classes:[],scores:[]},d=o[e],f=i[e];for(let e=0;e<a;++e){let n,o=d[e],i=[];if(r){n=o.sigmoid().data;for(let e=0;e<n.length;++e)n[e]>t&&i.push(e)}else{let e=W(o.data)[1];if(e===c-1)continue;i.push(e),n=q(o.data)}for(const t of i){let r=f[e].data;r=Gs(r),null!==s&&(r=r.map((e,t)=>e*s[(t+1)%2])),u.boxes.push(r),u.classes.push(t),u.scores.push(n[t])}}l.push(u)}return l}function Ks(e,t){if(!(e instanceof Float32Array||e instanceof Float64Array))throw new Error(`${t} expects input to be a Float32Array or a Float64Array, but got ${e?.constructor?.name??typeof e} instead. If using the feature extractor directly, remember to use \`read_audio(url, sampling_rate)\` to obtain the raw audio data of the file/url.`)}function Ys(e,t,n=0,r=null){const o=e/t;let i=function(e){const t=Math.round(e);return Math.abs(e)%1==.5?t%2==0?t:t-1:t}(o)*t;return null!==r&&i>r&&(i=Math.floor(o)*t),i<n&&(i=Math.ceil(o)*t),i}function Js([e,t],n){return[Math.max(Math.floor(e/n),1)*n,Math.max(Math.floor(t/n),1)*n]}class Xs extends i{constructor(e){super(),this.config=e}}class Zs extends Xs{constructor(e){super(e),this.image_mean=this.config.image_mean??this.config.mean,this.image_std=this.config.image_std??this.config.std,this.resample=this.config.resample??2,this.do_rescale=this.config.do_rescale??!0,this.rescale_factor=this.config.rescale_factor??1/255,this.do_normalize=this.config.do_normalize,this.do_resize=this.config.do_resize,this.do_thumbnail=this.config.do_thumbnail,this.size=this.config.size,this.size_divisibility=this.config.size_divisibility??this.config.size_divisor,this.do_center_crop=this.config.do_center_crop,this.crop_size=this.config.crop_size,this.do_convert_rgb=this.config.do_convert_rgb??!0,this.do_crop_margin=this.config.do_crop_margin,this.pad_size=this.config.pad_size,this.do_pad=this.config.do_pad,this.do_pad&&!this.pad_size&&this.size&&void 0!==this.size.width&&void 0!==this.size.height&&(this.pad_size=this.size),this.do_flip_channel_order=this.config.do_flip_channel_order??!1}async thumbnail(e,t,n=2){const r=e.height,o=e.width,i=t.height,s=t.width;let a=Math.min(r,i),c=Math.min(o,s);return a===r&&c===o?e:(r>o?c=Math.floor(o*a/r):o>r&&(a=Math.floor(r*c/o)),await e.resize(c,a,{resample:n}))}async crop_margin(e,t=200){const n=e.clone().grayscale(),r=G(n.data)[0],o=W(n.data)[0]-r;if(0===o)return e;const i=t/255;let s=n.width,a=n.height,c=0,l=0;for(let e=0;e<n.height;++e){const t=e*n.width;for(let u=0;u<n.width;++u)(n.data[t+u]-r)/o<i&&(s=Math.min(s,u),a=Math.min(a,e),c=Math.max(c,u),l=Math.max(l,e))}return await e.crop([s,a,c,l])}pad_image(e,t,n,{mode:r="constant",center:o=!1,constant_values:i=0}={}){const[s,a,c]=t;let l,u;if("number"==typeof n?(l=n,u=n):(l=n.width,u=n.height),l!==a||u!==s){const n=new Float32Array(l*u*c);if(Array.isArray(i))for(let e=0;e<n.length;++e)n[e]=i[e%c];else 0!==i&&n.fill(i);const[f,h]=o?[Math.floor((l-a)/2),Math.floor((u-s)/2)]:[0,0];for(let t=0;t<s;++t){const r=(t+h)*l,o=t*a;for(let t=0;t<a;++t){const i=(r+t+f)*c,s=(o+t)*c;for(let t=0;t<c;++t)n[i+t]=e[s+t]}}if("symmetric"===r){if(o)throw new Error("`center` padding is not supported when `mode` is set to `symmetric`.");const t=s-1,r=a-1;for(let o=0;o<u;++o){const i=o*l,u=d(o,t)*a;for(let t=0;t<l;++t){if(o<s&&t<a)continue;const l=(i+t)*c,f=(u+d(t,r))*c;for(let t=0;t<c;++t)n[l+t]=e[f+t]}}}e=n,t=[u,l,c]}return[e,t]}rescale(e){for(let t=0;t<e.length;++t)e[t]=this.rescale_factor*e[t]}get_resize_output_image_size(e,t){const[n,r]=e.size;let o,i;if(this.do_thumbnail){const{height:e,width:n}=t;o=Math.min(e,n)}else Number.isInteger(t)?(o=t,i=this.config.max_size??o):void 0!==t&&(o=t.shortest_edge,i=t.longest_edge);if(void 0!==o||void 0!==i){const e=void 0===o?1:Math.max(o/n,o/r),t=n*e,s=r*e,a=void 0===i?1:Math.min(i/t,i/s);let c=Math.floor(Number((t*a).toFixed(2))),l=Math.floor(Number((s*a).toFixed(2)));return void 0!==this.size_divisibility&&([c,l]=Js([c,l],this.size_divisibility)),[c,l]}if(void 0!==t&&void 0!==t.width&&void 0!==t.height){let e=t.width,o=t.height;if(this.config.keep_aspect_ratio&&this.config.ensure_multiple_of){let t=o/r,i=e/n;Math.abs(1-i)<Math.abs(1-t)?t=i:i=t,o=Ys(t*r,this.config.ensure_multiple_of),e=Ys(i*n,this.config.ensure_multiple_of)}return[e,o]}if(void 0!==this.size_divisibility)return Js([n,r],this.size_divisibility);throw new Error(`Could not resize image due to unsupported \`this.size\` option in config: ${JSON.stringify(t)}`)}async resize(e){const[t,n]=this.get_resize_output_image_size(e,this.size);return await e.resize(t,n,{resample:this.resample})}async preprocess(e,{do_normalize:t=null,do_pad:n=null,do_convert_rgb:r=null,do_convert_grayscale:o=null,do_flip_channel_order:i=null}={}){this.do_crop_margin&&(e=await this.crop_margin(e));const[s,a]=e.size;if(r??this.do_convert_rgb?e=e.rgb():o&&(e=e.grayscale()),this.do_resize&&(e=await this.resize(e)),this.do_thumbnail&&(e=await this.thumbnail(e,this.size,this.resample)),this.do_center_crop){let t,n;Number.isInteger(this.crop_size)?(t=this.crop_size,n=this.crop_size):(t=this.crop_size.width,n=this.crop_size.height),e=await e.center_crop(t,n)}const c=[e.height,e.width];let l=Float32Array.from(e.data),u=[e.height,e.width,e.channels];if(this.do_rescale&&this.rescale(l),t??this.do_normalize){let t=this.image_mean;Array.isArray(this.image_mean)||(t=new Array(e.channels).fill(t));let n=this.image_std;if(Array.isArray(this.image_std)||(n=new Array(e.channels).fill(t)),t.length!==e.channels||n.length!==e.channels)throw new Error(`When set to arrays, the length of \`image_mean\` (${t.length}) and \`image_std\` (${n.length}) must match the number of channels in the image (${e.channels}).`);for(let r=0;r<l.length;r+=e.channels)for(let o=0;o<e.channels;++o)l[r+o]=(l[r+o]-t[o])/n[o]}if(n??this.do_pad)if(this.pad_size){const t=this.pad_image(l,[e.height,e.width,e.channels],this.pad_size);[l,u]=t}else if(this.size_divisibility){const[e,t]=Js([u[1],u[0]],this.size_divisibility);[l,u]=this.pad_image(l,u,{width:e,height:t})}if(i??this.do_flip_channel_order){if(3!==u[2])throw new Error("Flipping channel order is only supported for RGB images.");for(let e=0;e<l.length;e+=3){const t=l[e];l[e]=l[e+2],l[e+2]=t}}return{original_size:[a,s],reshaped_input_size:c,pixel_values:new ne("float32",l,u).permute(2,0,1)}}async _call(e,...t){Array.isArray(e)||(e=[e]);const n=await Promise.all(e.map(e=>this.preprocess(e)));return{pixel_values:ce(n.map(e=>e.pixel_values),0),original_sizes:n.map(e=>e.original_size),reshaped_input_sizes:n.map(e=>e.reshaped_input_size)}}}class Qs extends Zs{post_process_semantic_segmentation(e,t=null){const n=e.logits,r=n.dims[0];if(null!==t&&t.length!==r)throw Error("Make sure that you pass in as many target sizes as the batch dimension of the logits");const o=[];for(let e=0;e<r;++e){const r=null!==t?t[e]:null;let i=n[e];null!==r&&(i=re(i,r,"bilinear",!1));const[s,a]=r??i.dims.slice(-2),c=new ne("int32",new Int32Array(s*a),[s,a]),l=i[0].data;for(let e=1;e<i.dims[0];++e){const t=i[e].data;for(let n=0;n<t.length;++n)t[n]>l[n]&&(l[n]=t[n],c.data[n]=e)}const u=new Array(i.dims[0]),d=c.data;for(let e=0;e<d.length;++e){const t=d[e];u[t]=t}const f=u.filter(e=>void 0!==e);o.push({segmentation:c,labels:f})}return o}}class ea extends Zs{}class ta extends ea{}class na extends Zs{}class ra extends Zs{}class oa extends Zs{}class ia extends Zs{}class sa extends Zs{}class aa extends Zs{constructor(e){super(e),this.crop_pct=this.config.crop_pct??.875}async resize(e){const t=this.size?.shortest_edge;if(void 0===t)throw new Error("Size dictionary must contain 'shortest_edge' key.");if(t<384){const n=Math.floor(t/this.crop_pct),[r,o]=this.get_resize_output_image_size(e,{shortest_edge:n});e=await e.resize(r,o,{resample:this.resample}),e=await e.center_crop(t,t)}else e=await e.resize(t,t,{resample:this.resample});return e}}class ca extends aa{}class la extends Zs{}class ua extends Zs{}class da extends Zs{constructor(e){super(e),this.include_top=this.config.include_top??!0,this.include_top&&(this.image_std=this.image_std.map(e=>e*e))}}class fa extends Zs{}class ha extends fa{}class pa extends Zs{post_process_object_detection(...e){return Ws(...e)}}class ga extends pa{}class ma extends Zs{}class ya extends Zs{}class ba extends Zs{pad_image(e,t,n,r={}){const[o,i,s]=t;let a=this.image_mean;Array.isArray(this.image_mean)||(a=new Array(s).fill(a));let c=this.image_std;Array.isArray(c)||(c=new Array(s).fill(a));const l=a.map((e,t)=>-e/c[t]);return super.pad_image(e,t,n,{center:!0,constant_values:l,...r})}}class va extends ba{}class _a extends Zs{async _call(e){const t=await super._call(e),n=[t.pixel_values.dims[0],64,64],r=new ne("int64",new BigInt64Array(n.reduce((e,t)=>e*t)).fill(1n),n);return{...t,pixel_mask:r}}post_process_object_detection(...e){return Ws(...e)}remove_low_and_no_objects(e,t,n,r){let o=[],i=[],s=[];for(let a=0;a<e.dims[0];++a){let c=e[a],l=t[a],u=W(c.data)[1];if(u===r)continue;let d=q(c.data)[u];d>n&&(o.push(l),i.push(d),s.push(u))}return[o,i,s]}check_segment_validity(e,t,n,r=.5,o=.8){let i=[],s=0,a=0;for(let o=0;o<e.length;++o)e[o]===n&&(i.push(o),++s),t[n].data[o]>=r&&++a;let c=s>0&&a>0;return c&&(c=s/a>o),[c,i]}compute_segments(e,t,n,r,o,i=null,s=null){let[a,c]=s??e[0].dims,l=new ne("int32",new Int32Array(a*c),[a,c]),u=[];if(null!==s)for(let t=0;t<e.length;++t)e[t]=re(e[t],s,"bilinear",!1);let d=new Int32Array(e[0].data.length),f=new Float32Array(e[0].data.length);for(let n=0;n<e.length;++n){let r=t[n];for(let t=0;t<e[n].data.length;++t)e[n].data[t]*=r,e[n].data[t]>f[t]&&(d[t]=n,f[t]=e[n].data[t])}let h=0;for(let i=0;i<n.length;++i){let s=n[i],[a,c]=this.check_segment_validity(d,e,i,r,o);if(a){++h;for(let e of c)l.data[e]=h;u.push({id:h,label_id:s,score:t[i]})}}return[l,u]}post_process_panoptic_segmentation(e,t=.5,n=.5,r=.8,o=null,i=null){null===o&&(console.warn("`label_ids_to_fuse` unset. No instance will be fused."),o=new Set);const s=e.logits,a=e.pred_masks.sigmoid();let[c,l,u]=s.dims;if(u-=1,null!==i&&i.length!==c)throw Error("Make sure that you pass in as many target sizes as the batch dimension of the logits");let d=[];for(let e=0;e<c;++e){let c=null!==i?i[e]:null,l=s[e],f=a[e],[h,p,g]=this.remove_low_and_no_objects(l,f,t,u);if(0===g.length){let[e,t]=c??f.dims.slice(-2),n=new ne("int32",new Int32Array(e*t).fill(-1),[e,t]);d.push({segmentation:n,segments_info:[]});continue}let[m,y]=this.compute_segments(h,p,g,n,r,o,c);d.push({segmentation:m,segments_info:y})}return d}post_process_instance_segmentation(){throw Error("Not implemented yet")}}class wa extends Zs{post_process_object_detection(...e){return Ws(...e)}}class Sa extends Zs{reshape_input_points(e,t,n){let r=a(e=structuredClone(e));if(3===r.length)r=[1,...r],e=[e];else if(4!==r.length)throw Error("The input_points must be a 4D tensor of shape `batch_size`, `point_batch_size`, `nb_points_per_image`, `2`.");for(let r=0;r<e.length;++r){let o=t[r],i=n[r],s=[i[0]/o[0],i[1]/o[1]];for(let t=0;t<e[r].length;++t)for(let n=0;n<e[r][t].length;++n)for(let o=0;o<e[r][t][n].length;++o)e[r][t][n][o]*=s[o]}return new ne("float32",Float32Array.from(e.flat(1/0)),r)}add_input_labels(e,t){let n=a(e);if(2===n.length)n=[1,...n],e=[e];else if(3!==n.length)throw Error("The input_points must be a 4D tensor of shape `batch_size`, `point_batch_size`, `nb_points_per_image`, `2`.");if(n.some((e,n)=>e!==t.dims[n]))throw Error(`The first ${n.length} dimensions of 'input_points' and 'input_labels' must be the same.`);return new ne("int64",e.flat(1/0).map(BigInt),n)}async _call(e,t=null,n=null){const r=await super._call(e);if(t&&(r.input_points=this.reshape_input_points(t,r.original_sizes,r.reshaped_input_sizes)),n){if(!r.input_points)throw Error("`input_points` must be provided if `input_labels` are provided.");r.input_labels=this.add_input_labels(n,r.input_points)}return r}post_process_masks(e,t,n,{mask_threshold:r=0,binarize:o=!0,pad_size:i=null}={}){const s=[],a=[(i=i??this.pad_size).height,i.width];for(let i=0;i<t.length;++i){const c=t[i],l=n[i],u=e[i],d=[];for(let e=0;e<u.dims[0];++e){let t=re(u[e],a,"bilinear",!1);if(t=t.slice(null,[0,l[0]],[0,l[1]]),t=re(t,c,"bilinear",!1),o){const e=new Uint8Array(t.data.length);for(let n=0;n<t.data.length;++n)t.data[n]>r&&(e[n]=1);t=new ne("bool",e,t.dims)}d.push(t)}s.push(ce(d))}return s}}class xa extends Zs{pad_image(e,t,n,r={}){const[o,i,s]=t;return super.pad_image(e,t,{width:i+(n-i%n)%n,height:o+(n-o%n)%n},{mode:"symmetric",center:!1,constant_values:-1,...r})}}class Ia extends Zs{async _call(e,t){Array.isArray(e)||(e=[e]),Array.isArray(t)||(t=[t]);const n=await Promise.all(e.map(e=>this.preprocess(e))),r=await Promise.all(t.map(e=>this.preprocess(e,{do_normalize:!1,do_convert_rgb:!1,do_convert_grayscale:!0})));return{pixel_values:ce(n.map((e,t)=>ae([e.pixel_values,r[t].pixel_values],0)),0),original_sizes:n.map(e=>e.original_size),reshaped_input_sizes:n.map(e=>e.reshaped_input_size)}}}class Aa extends Xs{constructor(e){super(e),this.config.mel_filters??=zs(Math.floor(1+this.config.n_fft/2),this.config.feature_size,0,8e3,this.config.sampling_rate,"slaney","slaney"),this.window=Hs(this.config.n_fft,"hann")}_extract_fbank_features(e){const{data:t,dims:n}=qs(e,this.window,this.config.n_fft,this.config.hop_length,{power:2,mel_filters:this.config.mel_filters,log_mel:"log10",max_num_frames:this.config.nb_max_frames}),r=W(t)[0];for(let e=0;e<t.length;++e)t[e]=(Math.max(t[e],r-8)+4)/4;return{data:t,dims:n}}async _call(e){let t;Ks(e,"WhisperFeatureExtractor"),e.length>this.config.n_samples?(console.warn("Attempting to extract features for audio longer than 30 seconds. If using a pipeline to extract transcript from a long audio clip, remember to specify `chunk_length_s` and/or `stride_length_s`."),t=e.slice(0,this.config.n_samples)):(t=new Float32Array(this.config.n_samples),t.set(e));const{data:n,dims:r}=this._extract_fbank_features(t);return{input_features:new ne("float32",n,[1,...r])}}}class Ca extends Xs{_zero_mean_unit_var_norm(e){const t=e.reduce((e,t)=>e+t,0)/e.length,n=e.reduce((e,n)=>e+(n-t)**2,0)/e.length;return e.map(e=>(e-t)/Math.sqrt(n+1e-7))}async _call(e){Ks(e,"Wav2Vec2FeatureExtractor"),e instanceof Float64Array&&(e=new Float32Array(e));let t=e;this.config.do_normalize&&(t=this._zero_mean_unit_var_norm(t));const n=[1,t.length];return{input_values:new ne("float32",t,n),attention_mask:new ne("int64",new BigInt64Array(t.length).fill(1n),n)}}}class ka extends Xs{constructor(e){super(e);const t=this.config.sampling_rate,n=zs(256,this.config.num_mel_bins,20,Math.floor(t/2),t,null,"kaldi",!0);for(let e=0;e<n.length;++e)n[e].push(0);this.mel_filters=n,this.window=Hs(400,"povey",{periodic:!1})}_extract_fbank_features(e,t){return qs(e=e.map(e=>32768*e),this.window,400,160,{fft_length:512,power:2,center:!1,preemphasis:.97,mel_filters:this.mel_filters,log_mel:"log",mel_floor:1.192092955078125e-7,remove_dc_offset:!0,max_num_frames:t,transpose:!0})}async _call(e,{padding:t=!0,pad_to_multiple_of:n=2,do_normalize_per_mel_bins:r=!0,return_attention_mask:o=!0}={}){Ks(e,"SeamlessM4TFeatureExtractor");let i,s=this._extract_fbank_features(e,this.config.max_length);if(r){const[e,t]=s.dims;for(let n=0;n<t;++n){let r=0;for(let o=0;o<e;++o)r+=s.data[o*t+n];const o=r/e;let i=0;for(let r=0;r<e;++r)i+=(s.data[r*t+n]-o)**2;i/=e-1;const a=Math.sqrt(i+1e-7);for(let r=0;r<e;++r){const e=r*t+n;s.data[e]=(s.data[e]-o)/a}}}if(t){const[e,t]=s.dims,r=e%n;if(r>0){const n=new Float32Array(t*(e+r));n.set(s.data),n.fill(this.config.padding_value,s.data.length);const a=e+r;s={data:n,dims:[a,t]},o&&(i=new ne("int64",new BigInt64Array(a),[1,a]),i.data.fill(1n,0,e))}}const[a,c]=s.dims,l=this.config.stride;if(0!==a%l)throw new Error(`The number of frames (${a}) must be a multiple of the stride (${l}).`);const u=new ne("float32",s.data,s.dims).view(1,Math.floor(a/l),c*l),d={input_features:u};if(o){const e=u.dims[1],t=new ne("int64",new BigInt64Array(e),[1,e]);if(i)for(let e=1,n=0;e<a;e+=l,++n)t.data[n]=i.data[e];else t.data.fill(1n);d.attention_mask=t}return d}}class Ea extends Xs{constructor(e){super(e);const t=this.config.sampling_rate,n=zs(256,this.config.num_mel_bins,20,Math.floor(t/2),t,null,"kaldi",!0);for(let e=0;e<n.length;++e)n[e].push(0);this.mel_filters=n,this.window=Hs(400,"hann",{periodic:!1}),this.mean=this.config.mean,this.std=this.config.std}_extract_fbank_features(e,t){return qs(e,this.window,400,160,{fft_length:512,power:2,center:!1,preemphasis:.97,mel_filters:this.mel_filters,log_mel:"log",mel_floor:1.192092955078125e-7,remove_dc_offset:!0,max_num_frames:t,transpose:!0})}async _call(e){Ks(e,"ASTFeatureExtractor");const t=this._extract_fbank_features(e,this.config.max_length);if(this.config.do_normalize){const e=2*this.std;for(let n=0;n<t.data.length;++n)t.data[n]=(t.data[n]-this.mean)/e}return{input_values:new ne("float32",t.data,[1,...t.dims])}}}class Ta extends Xs{constructor(e){super(e),this.mel_filters=zs(this.config.nb_frequency_bins,this.config.feature_size,this.config.frequency_min,this.config.frequency_max,this.config.sampling_rate,null,"htk"),this.mel_filters_slaney=zs(this.config.nb_frequency_bins,this.config.feature_size,this.config.frequency_min,this.config.frequency_max,this.config.sampling_rate,"slaney","slaney"),this.window=Hs(this.config.fft_window_size,"hann")}_get_input_mel(e,t,n,r){let o,i=!1;const s=e.length-t;if(s>0){if("rand_trunc"!==n)throw new Error(`Truncation strategy "${n}" not implemented`);{i=!0;const n=Math.floor(Math.random()*(s+1));e=e.subarray(n,n+t),o=this._extract_fbank_features(e,this.mel_filters_slaney,this.config.nb_max_samples),o.dims=[1,...o.dims]}}else{if(s<0){let n=new Float64Array(t);if(n.set(e),"repeat"===r)for(let r=e.length;r<t;r+=e.length)n.set(e.subarray(0,Math.min(e.length,t-r)),r);else if("repeatpad"===r)for(let t=e.length;t<-s;t+=e.length)n.set(e,t);e=n}if("fusion"===n)throw new Error(`Truncation strategy "${n}" not implemented`);o=this._extract_fbank_features(e,this.mel_filters_slaney,this.config.nb_max_samples),o.dims=[1,...o.dims]}return{...o,longer:i}}_extract_fbank_features(e,t,n=null){return qs(e,this.window,this.config.fft_window_size,this.config.hop_length,{power:2,mel_filters:t,log_mel:"dB",max_num_frames:n,do_pad:!1,transpose:!0})}async _call(e,{max_length:t=null}={}){Ks(e,"ClapFeatureExtractor");const n=this._get_input_mel(e,t??this.config.nb_max_samples,this.config.truncation,this.config.padding);return{input_features:new ne("float32",n.data,[1,...n.dims])}}}class Pa extends Xs{}class Ma extends i{constructor(e){super(),this.feature_extractor=e}async _call(e,...t){return await this.feature_extractor(e,...t)}}class Oa extends Ma{async _call(...e){return await this.feature_extractor(...e)}post_process_masks(...e){return this.feature_extractor.post_process_masks(...e)}reshape_input_points(...e){return this.feature_extractor.reshape_input_points(...e)}}class Da extends Ma{async _call(e){return await this.feature_extractor(e)}}class Ra extends Ma{async _call(e){return await this.feature_extractor(e)}}class Na extends Ma{async _call(e){return await this.feature_extractor(e)}}class Fa extends Ma{}class La{static FEATURE_EXTRACTOR_CLASS_MAPPING={ImageFeatureExtractor:Zs,WhisperFeatureExtractor:Aa,ViTFeatureExtractor:la,MobileViTFeatureExtractor:fa,MobileViTImageProcessor:ha,OwlViTFeatureExtractor:pa,Owlv2ImageProcessor:ga,CLIPFeatureExtractor:oa,ChineseCLIPFeatureExtractor:ia,SiglipImageProcessor:sa,ConvNextFeatureExtractor:aa,ConvNextImageProcessor:ca,SegformerFeatureExtractor:Qs,BitImageProcessor:na,DPTImageProcessor:ta,DPTFeatureExtractor:ea,GLPNFeatureExtractor:ra,BeitFeatureExtractor:ya,DeiTFeatureExtractor:ma,DetrFeatureExtractor:_a,YolosFeatureExtractor:wa,DonutFeatureExtractor:ba,NougatImageProcessor:va,EfficientNetImageProcessor:da,ViTImageProcessor:ua,VitMatteImageProcessor:Ia,SamImageProcessor:Sa,Swin2SRImageProcessor:xa,Wav2Vec2FeatureExtractor:Ca,SeamlessM4TFeatureExtractor:ka,SpeechT5FeatureExtractor:Pa,ASTFeatureExtractor:Ea,ClapFeatureExtractor:Ta};static PROCESSOR_CLASS_MAPPING={WhisperProcessor:Da,Wav2Vec2ProcessorWithLM:Ra,SamProcessor:Oa,SpeechT5Processor:Na,OwlViTProcessor:Fa};static async from_pretrained(e,{progress_callback:t=null,config:n=null,cache_dir:r=null,local_files_only:o=!1,revision:i="main"}={}){let s=n??await z(e,"preprocessor_config.json",!0,{progress_callback:t,config:n,cache_dir:r,local_files_only:o,revision:i}),a=s.feature_extractor_type??s.image_processor_type,c=this.FEATURE_EXTRACTOR_CLASS_MAPPING[a];if(!c){if(void 0===s.size)throw new Error(`Unknown Feature Extractor type: ${a}`);console.warn(`Feature extractor type "${a}" not found, assuming ImageFeatureExtractor due to size parameter in config.`),c=Zs}return new(this.PROCESSOR_CLASS_MAPPING[s.processor_class]??Ma)(new c(s))}}async function Ba(e){return Array.isArray(e)||(e=[e]),await Promise.all(e.map(e=>Fs.read(e)))}async function $a(e,t){return Array.isArray(e)||(e=[e]),await Promise.all(e.map(e=>"string"==typeof e||e instanceof URL?async function(e,t){if("undefined"==typeof AudioContext)throw Error("Unable to load audio from path/URL since `AudioContext` is not available in your environment. Instead, audio data should be passed directly to the pipeline/processor. For more information and some example code, see https://huggingface.co/docs/transformers.js/guides/node-audio-processing.");const n=await(await B(e)).arrayBuffer(),r=new AudioContext({sampleRate:t});void 0===t&&console.warn(`No sampling rate provided, using default of ${r.sampleRate}Hz.`);const o=await r.decodeAudioData(n);let i;if(2===o.numberOfChannels){const e=Math.sqrt(2),t=o.getChannelData(0),n=o.getChannelData(1);i=new Float32Array(t.length);for(let r=0;r<o.length;++r)i[r]=e*(t[r]+n[r])/2}else i=o.getChannelData(0);return i}(e,t):e instanceof Float64Array?new Float32Array(e):e))}function ja(e,t){t&&(e=e.map(e=>0|e));const[n,r,o,i]=e;return{xmin:n,ymin:r,xmax:o,ymax:i}}class Ua extends i{constructor({task:e,model:t,tokenizer:n=null,processor:r=null}){super(),this.task=e,this.model=t,this.tokenizer=n,this.processor=r}async dispose(){await this.model.dispose()}}class za extends Ua{_key="generated_text";constructor(e){super(e)}async _call(e,t={}){Array.isArray(e)||(e=[e]),this.model.config.prefix&&(e=e.map(e=>this.model.config.prefix+e));const n=this.model.config.task_specific_params;n&&n[this.task]&&n[this.task].prefix&&(e=e.map(e=>n[this.task].prefix+e));const r=this.tokenizer,o={padding:!0,truncation:!0};let i;i=this instanceof Va&&"_build_translation_inputs"in r?r._build_translation_inputs(e,o,t).input_ids:r(e,o).input_ids;const s=await this.model.generate(i,t);return r.batch_decode(s,{skip_special_tokens:!0}).map(e=>({[this._key]:e}))}}class Va extends za{_key="translation_text";constructor(e){super(e)}}function qa(e){return Array.isArray(e)&&e.every(e=>"role"in e&&"content"in e)}const Ha=Object.freeze({"text-classification":{tokenizer:hr,pipeline:class extends Ua{constructor(e){super(e)}async _call(e,{topk:t=1}={}){const n=this.tokenizer(e,{padding:!0,truncation:!0}),r=await this.model(n),o="multi_label_classification"===this.model.config.problem_type?e=>e.sigmoid().data:e=>q(e.data),i=this.model.config.id2label,s=[];for(const e of r.logits){const n=H(o(e),t).map(e=>({label:i[e[0]],score:e[1]}));1===t?s.push(...n):s.push(n)}return Array.isArray(e)||1===t?s:s[0]}},model:ys,default:{model:"Xenova/distilbert-base-uncased-finetuned-sst-2-english"},type:"text"},"token-classification":{tokenizer:hr,pipeline:class extends Ua{constructor(e){super(e)}async _call(e,{ignore_labels:t=["O"]}={}){const n=Array.isArray(e),r=this.tokenizer(n?e:[e],{padding:!0,truncation:!0}),o=(await this.model(r)).logits,i=this.model.config.id2label,s=[];for(let e=0;e<o.dims[0];++e){const n=r.input_ids[e],a=o[e],c=[];for(let e=0;e<a.dims[0];++e){const r=a[e],o=W(r.data)[1],s=i?i[o]:`LABEL_${o}`;if(t.includes(s))continue;const l=this.tokenizer.decode([n[e].item()],{skip_special_tokens:!0});if(""===l)continue;const u=q(r.data);c.push({entity:s,score:u[o],index:e,word:l,start:null,end:null})}s.push(c)}return n?s:s[0]}},model:class extends $i{static MODEL_CLASS_MAPPINGS=[Wi]},default:{model:"Xenova/bert-base-multilingual-cased-ner-hrl"},type:"text"},"question-answering":{tokenizer:hr,pipeline:class extends Ua{constructor(e){super(e)}async _call(e,t,{topk:n=1}={}){const r=this.tokenizer(e,{text_pair:t,padding:!0,truncation:!0}),o=await this.model(r),i=[];for(let e=0;e<o.start_logits.dims[0];++e){const t=r.input_ids[e],s=t.indexOf(this.tokenizer.sep_token_id),a=u(Array.from(q(o.start_logits[e].data)).map((e,t)=>[e,t]).filter(e=>e[1]>s),Array.from(q(o.end_logits[e].data)).map((e,t)=>[e,t]).filter(e=>e[1]>s)).filter(e=>e[0][1]<=e[1][1]).map(e=>[e[0][1],e[1][1],e[0][0]*e[1][0]]).sort((e,t)=>t[2]-e[2]);for(let e=0;e<Math.min(a.length,n);++e){const[n,r,o]=a[e],s=[...t].slice(n,r+1),c=this.tokenizer.decode(s,{skip_special_tokens:!0});i.push({answer:c,score:o})}}return 1===n?i[0]:i}},model:class extends $i{static MODEL_CLASS_MAPPINGS=[Xi]},default:{model:"Xenova/distilbert-base-cased-distilled-squad"},type:"text"},"fill-mask":{tokenizer:hr,pipeline:class extends Ua{constructor(e){super(e)}async _call(e,{topk:t=5}={}){const n=this.tokenizer(e,{padding:!0,truncation:!0}),r=await this.model(n),o=[];for(let e=0;e<n.input_ids.dims[0];++e){const i=n.input_ids[e],s=i.indexOf(this.tokenizer.mask_token_id);if(-1===s)throw Error(`Mask token (${this.tokenizer.mask_token}) not found in text.`);const a=H(q(r.logits[e][s].data),t);o.push(a.map(e=>{const t=[...i];return t[s]=e[0],{score:e[1],token:e[0],token_str:this.tokenizer.model.vocab[e[0]],sequence:this.tokenizer.decode(t,{skip_special_tokens:!0})}}))}return Array.isArray(e)?o:o[0]}},model:class extends $i{static MODEL_CLASS_MAPPINGS=[Ji]},default:{model:"Xenova/bert-base-uncased"},type:"text"},summarization:{tokenizer:hr,pipeline:class extends za{_key="summary_text";constructor(e){super(e)}},model:bs,default:{model:"Xenova/distilbart-cnn-6-6"},type:"text"},translation:{tokenizer:hr,pipeline:Va,model:bs,default:{model:"Xenova/t5-small"},type:"text"},"text2text-generation":{tokenizer:hr,pipeline:za,model:bs,default:{model:"Xenova/flan-t5-small"},type:"text"},"text-generation":{tokenizer:hr,pipeline:class extends Ua{constructor(e){super(e)}async _call(e,t={}){let n,r=!1,o=!1;if("string"==typeof e)n=e=[e];else if(Array.isArray(e)&&e.every(e=>"string"==typeof e))r=!0,n=e;else{if(qa(e))e=[e];else{if(!Array.isArray(e)||!e.every(qa))throw new Error("Input must be a string, an array of strings, a Chat, or an array of Chats");r=!0}o=!0,n=e.map(e=>this.tokenizer.apply_chat_template(e,{tokenize:!1,add_generation_prompt:!0}))}const i=t.add_special_tokens??!1,s=!o&&(t.return_full_text??!0);this.tokenizer.padding_side="left";const{input_ids:a,attention_mask:c}=this.tokenizer(n,{add_special_tokens:i,padding:!0,truncation:!0}),l=await this.model.generate(a,t,null,{inputs_attention_mask:c});let u,d=this.tokenizer.batch_decode(l,{skip_special_tokens:!0});!s&&a.dims.at(-1)>0&&(u=this.tokenizer.batch_decode(a,{skip_special_tokens:!0}).map(e=>e.length));const f=Array.from({length:e.length},e=>[]);for(let t=0;t<d.length;++t){const n=Math.floor(t/l.length*e.length);u&&(d[t]=d[t].slice(u[n])),f[n].push({generated_text:o?[...e[n],{role:"assistant",content:d[t]}]:d[t]})}return r||1!==f.length?f:f[0]}},model:class extends $i{static MODEL_CLASS_MAPPINGS=[Yi]},default:{model:"Xenova/gpt2"},type:"text"},"zero-shot-classification":{tokenizer:hr,pipeline:class extends Ua{constructor(e){super(e),this.label2id=Object.fromEntries(Object.entries(this.model.config.label2id).map(([e,t])=>[e.toLowerCase(),t])),this.entailment_id=this.label2id.entailment,void 0===this.entailment_id&&(console.warn("Could not find 'entailment' in label2id mapping. Using 2 as entailment_id."),this.entailment_id=2),this.contradiction_id=this.label2id.contradiction??this.label2id.not_entailment,void 0===this.contradiction_id&&(console.warn("Could not find 'contradiction' in label2id mapping. Using 0 as contradiction_id."),this.contradiction_id=0)}async _call(e,t,{hypothesis_template:n="This example is {}.",multi_label:r=!1}={}){const o=Array.isArray(e);o||(e=[e]),Array.isArray(t)||(t=[t]);const i=t.map(e=>n.replace("{}",e)),s=r||1===t.length,a=[];for(const n of e){const e=[];for(const t of i){const r=this.tokenizer(n,{text_pair:t,padding:!0,truncation:!0}),o=await this.model(r);s?e.push([o.logits.data[this.contradiction_id],o.logits.data[this.entailment_id]]):e.push(o.logits.data[this.entailment_id])}const r=(s?e.map(e=>q(e)[1]):q(e)).map((e,t)=>[e,t]).sort((e,t)=>t[0]-e[0]);a.push({sequence:n,labels:r.map(e=>t[e[1]]),scores:r.map(e=>e[0])})}return o?a:a[0]}},model:ys,default:{model:"Xenova/distilbert-base-uncased-mnli"},type:"text"},"audio-classification":{pipeline:class extends Ua{constructor(e){super(e)}async _call(e,{topk:t=null}={}){const n=!Array.isArray(e),r=this.processor.feature_extractor.config.sampling_rate,o=await $a(e,r),i=this.model.config.id2label,s=[];for(const e of o){const n=await this.processor(e),r=H(q((await this.model(n)).logits[0].data),t).map(e=>({label:i[e[0]],score:e[1]}));1===t?s.push(...r):s.push(r)}return n&&1!==t?s[0]:s}},model:class extends $i{static MODEL_CLASS_MAPPINGS=[as]},processor:La,default:{model:"Xenova/wav2vec2-base-superb-ks"},type:"audio"},"zero-shot-audio-classification":{tokenizer:hr,pipeline:class extends Ua{constructor(e){super(e)}async _call(e,t,{hypothesis_template:n="This is a sound of {}."}={}){const r=!Array.isArray(e);r&&(e=[e]);const o=t.map(e=>n.replace("{}",e)),i=this.tokenizer(o,{padding:!0,truncation:!0}),s=this.processor.feature_extractor.config.sampling_rate,a=await $a(e,s),c=[];for(const e of a){const n=await this.processor(e),r=q((await this.model({...i,...n})).logits_per_audio.data);c.push([...r].map((e,n)=>({score:e,label:t[n]})))}return r?c[0]:c}},model:ms,processor:La,default:{model:"Xenova/clap-htsat-unfused"},type:"multimodal"},"automatic-speech-recognition":{tokenizer:hr,pipeline:class extends Ua{constructor(e){super(e)}async _call(e,t={}){switch(this.model.config.model_type){case"whisper":return this._call_whisper(e,t);case"wav2vec2":case"wav2vec2-bert":case"unispeech":case"unispeech-sat":case"hubert":return this._call_wav2vec2(e,t);default:throw new Error(`AutomaticSpeechRecognitionPipeline does not support model type '${this.model.config.model_type}'.`)}}async _call_wav2vec2(e,t={}){t.language&&console.warn('`language` parameter is not yet supported for `wav2vec2` models, defaulting to "English".'),t.task&&console.warn('`task` parameter is not yet supported for `wav2vec2` models, defaulting to "transcribe".');const n=!Array.isArray(e);n&&(e=[e]);const r=this.processor.feature_extractor.config.sampling_rate,o=await $a(e,r),i=[];for(const e of o){const t=await this.processor(e),n=(await this.model(t)).logits[0],r=[];for(const e of n)r.push(W(e.data)[1]);const o=this.tokenizer.decode(r);i.push({text:o})}return n?i[0]:i}async _call_whisper(e,t={}){const n=t.return_timestamps??!1,r=t.chunk_length_s??0,o=t.chunk_callback??null,i=t.force_full_sequences??!1;let s=t.stride_length_s??null;"word"===n&&(t.return_token_timestamps=!0);const a=c(t,"language",null),l=c(t,"task",null);if(a||l||n){if(t.forced_decoder_ids)throw new Error("Cannot specify `language`/`task`/`return_timestamps` and `forced_decoder_ids` at the same time.");const e=this.tokenizer.get_decoder_prompt_ids({language:a,task:l,no_timestamps:!n});e.length>0&&(t.forced_decoder_ids=e)}const u=!Array.isArray(e);u&&(e=[e]);const d=this.processor.feature_extractor.config.chunk_length/this.model.config.max_source_positions,f=this.processor.feature_extractor.config.hop_length,h=this.processor.feature_extractor.config.sampling_rate,p=await $a(e,h),g=[];for(const e of p){let a=[];if(r>0){if(null===s)s=r/6;else if(r<=s)throw Error("`chunk_length_s` must be larger than `stride_length_s`.");const t=h*r,n=h*s,o=t-2*n;let i=0;for(;i<e.length;){const r=e.subarray(i,i+t),s=await this.processor(r),c=0===i,l=i+o>=e.length;a.push({stride:[r.length,c?0:n,l?0:n],input_features:s.input_features,is_last:l}),i+=o}}else a=[{stride:[e.length,0,0],input_features:(await this.processor(e)).input_features,is_last:!0}];for(const e of a){t.num_frames=Math.floor(e.stride[0]/f);const r=await this.model.generate(e.input_features,t);"word"===n?(e.tokens=r.sequences[0],e.token_timestamps=r.token_timestamps.tolist()[0].map(e=>Q(e,2))):e.tokens=r[0],e.stride=e.stride.map(e=>e/h),null!==o&&o(e)}const[c,l]=this.tokenizer._decode_asr(a,{time_precision:d,return_timestamps:n,force_full_sequences:i});g.push({text:c,...l})}return u?g[0]:g}},model:[class extends $i{static MODEL_CLASS_MAPPINGS=[Vi]},class extends $i{static MODEL_CLASS_MAPPINGS=[ss]}],processor:La,default:{model:"Xenova/whisper-tiny.en"},type:"multimodal"},"text-to-audio":{tokenizer:hr,pipeline:class extends Ua{DEFAULT_VOCODER_ID="Xenova/speecht5_hifigan";constructor(e){super(e),this.vocoder=e.vocoder??null}async _call(e,{speaker_embeddings:t=null}={}){return this.processor?this._call_text_to_spectrogram(e,{speaker_embeddings:t}):this._call_text_to_waveform(e)}async _call_text_to_waveform(e){const t=this.tokenizer(e,{padding:!0,truncation:!0}),{waveform:n}=await this.model(t),r=this.model.config.sampling_rate;return{audio:n.data,sampling_rate:r}}async _call_text_to_spectrogram(e,{speaker_embeddings:t}){if(this.vocoder||(console.log("No vocoder specified, using default HifiGan vocoder."),this.vocoder=await ms.from_pretrained(this.DEFAULT_VOCODER_ID,{quantized:!1})),("string"==typeof t||t instanceof URL)&&(t=new Float32Array(await(await fetch(t)).arrayBuffer())),t instanceof Float32Array)t=new ne("float32",t,[1,t.length]);else if(!(t instanceof ne))throw new Error("Speaker embeddings must be a `Tensor`, `Float32Array`, `string`, or `URL`.");const{input_ids:n}=this.tokenizer(e,{padding:!0,truncation:!0}),{waveform:r}=await this.model.generate_speech(n,t,{vocoder:this.vocoder}),o=this.processor.feature_extractor.config.sampling_rate;return{audio:r.data,sampling_rate:o}}},model:[class extends $i{static MODEL_CLASS_MAPPINGS=[Hi]},class extends $i{static MODEL_CLASS_MAPPINGS=[qi]}],processor:[La,null],default:{model:"Xenova/speecht5_tts"},type:"text"},"image-to-text":{tokenizer:hr,pipeline:class extends Ua{constructor(e){super(e)}async _call(e,t={}){const n=Array.isArray(e),r=await Ba(e),{pixel_values:o}=await this.processor(r),i=[];for(const e of o){e.dims=[1,...e.dims];const n=await this.model.generate(e,t),r=this.tokenizer.batch_decode(n,{skip_special_tokens:!0}).map(e=>({generated_text:e.trim()}));i.push(r)}return n?i:i[0]}},model:class extends $i{static MODEL_CLASS_MAPPINGS=[Zi]},processor:La,default:{model:"Xenova/vit-gpt2-image-captioning"},type:"multimodal"},"image-classification":{pipeline:class extends Ua{constructor(e){super(e)}async _call(e,{topk:t=1}={}){const n=Array.isArray(e),r=await Ba(e),{pixel_values:o}=await this.processor(r),i=await this.model({pixel_values:o}),s=this.model.config.id2label,a=[];for(const e of i.logits){const n=H(q(e.data),t).map(e=>({label:s[e[0]],score:e[1]}));1===t?a.push(...n):a.push(n)}return n||1===t?a:a[0]}},model:class extends $i{static MODEL_CLASS_MAPPINGS=[es]},processor:La,default:{model:"Xenova/vit-base-patch16-224"},type:"multimodal"},"image-segmentation":{pipeline:class extends Ua{constructor(e){super(e),this.subtasks_mapping={panoptic:"post_process_panoptic_segmentation",instance:"post_process_instance_segmentation",semantic:"post_process_semantic_segmentation"}}async _call(e,{threshold:t=.5,mask_threshold:n=.5,overlap_mask_area_threshold:r=.8,label_ids_to_fuse:o=null,target_sizes:i=null,subtask:s=null}={}){if(Array.isArray(e)&&1!==e.length)throw Error("Image segmentation pipeline currently only supports a batch size of 1.");const a=await Ba(e),c=a.map(e=>[e.height,e.width]),{pixel_values:l,pixel_mask:u}=await this.processor(a),d=await this.model({pixel_values:l,pixel_mask:u});let f=null;if(null!==s)f=this.subtasks_mapping[s];else for(let[e,t]of Object.entries(this.subtasks_mapping))if(t in this.processor.feature_extractor){f=this.processor.feature_extractor[t].bind(this.processor.feature_extractor),s=e;break}const h=this.model.config.id2label,p=[];if("panoptic"===s||"instance"===s){const e=f(d,t,n,r,o,i??c)[0],s=e.segmentation;for(const t of e.segments_info){const e=new Uint8ClampedArray(s.data.length);for(let n=0;n<s.data.length;++n)s.data[n]===t.id&&(e[n]=255);const n=new Fs(e,s.dims[1],s.dims[0],1);p.push({score:t.score,label:h[t.label_id],mask:n})}}else{if("semantic"!==s)throw Error(`Subtask ${s} not supported.`);{const{segmentation:e,labels:t}=f(d,i??c)[0];for(const n of t){const t=new Uint8ClampedArray(e.data.length);for(let r=0;r<e.data.length;++r)e.data[r]===n&&(t[r]=255);const r=new Fs(t,e.dims[1],e.dims[0],1);p.push({score:null,label:h[n],mask:r})}}}return p}},model:[class extends $i{static MODEL_CLASS_MAPPINGS=[rs]},class extends $i{static MODEL_CLASS_MAPPINGS=[os]}],processor:La,default:{model:"Xenova/detr-resnet-50-panoptic"},type:"multimodal"},"zero-shot-image-classification":{tokenizer:hr,pipeline:class extends Ua{constructor(e){super(e)}async _call(e,t,{hypothesis_template:n="This is a photo of {}"}={}){const r=Array.isArray(e),o=await Ba(e),i=t.map(e=>n.replace("{}",e)),s=this.tokenizer(i,{padding:"siglip"!==this.model.config.model_type||"max_length",truncation:!0}),{pixel_values:a}=await this.processor(o),c=await this.model({...s,pixel_values:a}),l="siglip"===this.model.config.model_type?e=>e.sigmoid().data:e=>q(e.data),u=[];for(const e of c.logits_per_image){const n=[...l(e)].map((e,n)=>({score:e,label:t[n]}));n.sort((e,t)=>t.score-e.score),u.push(n)}return r?u:u[0]}},model:ms,processor:La,default:{model:"Xenova/clip-vit-base-patch32"},type:"multimodal"},"object-detection":{pipeline:class extends Ua{constructor(e){super(e)}async _call(e,{threshold:t=.9,percentage:n=!1}={}){const r=Array.isArray(e);if(r&&1!==e.length)throw Error("Object detection pipeline currently only supports a batch size of 1.");const o=await Ba(e),i=n?null:o.map(e=>[e.height,e.width]),{pixel_values:s,pixel_mask:a}=await this.processor(o),c=await this.model({pixel_values:s,pixel_mask:a}),l=this.processor.feature_extractor.post_process_object_detection(c,t,i),u=this.model.config.id2label,d=l.map(e=>e.boxes.map((t,r)=>({score:e.scores[r],label:u[e.classes[r]],box:ja(t,!n)})));return r?d:d[0]}},model:class extends $i{static MODEL_CLASS_MAPPINGS=[ts]},processor:La,default:{model:"Xenova/detr-resnet-50"},type:"multimodal"},"zero-shot-object-detection":{tokenizer:hr,pipeline:class extends Ua{constructor(e){super(e)}async _call(e,t,{threshold:n=.1,topk:r=null,percentage:o=!1}={}){const i=Array.isArray(e),s=await Ba(e),a=this.tokenizer(t,{padding:!0,truncation:!0}),c=await this.processor(s),l=[];for(let e=0;e<s.length;++e){const i=s[e],u=o?null:[[i.height,i.width]],d=c.pixel_values[e].unsqueeze_(0),f=await this.model({...a,pixel_values:d}),h=this.processor.feature_extractor.post_process_object_detection(f,n,u,!0)[0];let p=h.boxes.map((e,n)=>({score:h.scores[n],label:t[h.classes[n]],box:ja(e,!o)})).sort((e,t)=>t.score-e.score);null!==r&&(p=p.slice(0,r)),l.push(p)}return i?l:l[0]}},model:class extends $i{static MODEL_CLASS_MAPPINGS=[ns]},processor:La,default:{model:"Xenova/owlvit-base-patch32"},type:"multimodal"},"document-question-answering":{tokenizer:hr,pipeline:class extends Ua{constructor(e){super(e)}async _call(e,t,n={}){const r=(await Ba(e))[0],{pixel_values:o}=await this.processor(r),i=`<s_docvqa><s_question>${t}</s_question><s_answer>`,s=this.tokenizer(i,{add_special_tokens:!1,padding:!0,truncation:!0}).input_ids,a=await this.model.generate(o,{...n,decoder_input_ids:s,max_length:this.model.config.decoder.max_position_embeddings}),c=this.tokenizer.batch_decode(a)[0].match(/<s_answer>(.*?)<\/s_answer>/);let l=null;return c&&c.length>=2&&(l=c[1].trim()),[{answer:l}]}},model:class extends $i{static MODEL_CLASS_MAPPINGS=[Qi]},processor:La,default:{model:"Xenova/donut-base-finetuned-docvqa"},type:"multimodal"},"image-to-image":{pipeline:class extends Ua{constructor(e){super(e)}async _call(e){const t=await Ba(e),n=await this.processor(t),r=await this.model(n),o=[];for(const e of r.reconstruction){const t=e.squeeze().clamp_(0,1).mul_(255).round_().to("uint8");o.push(Fs.fromTensor(t))}return o.length>1?o:o[0]}},model:class extends $i{static MODEL_CLASS_MAPPINGS=[ds]},processor:La,default:{model:"Xenova/swin2SR-classical-sr-x2-64"},type:"image"},"depth-estimation":{pipeline:class extends Ua{constructor(e){super(e)}async _call(e){const t=await Ba(e),n=await this.processor(t),{predicted_depth:r}=await this.model(n),o=[];for(let e=0;e<t.length;++e){const n=re(r[e],t[e].size.reverse(),"bilinear",!1),i=n.mul_(255/W(n.data)[0]).to("uint8");o.push({predicted_depth:r[e],depth:Fs.fromTensor(i)})}return o.length>1?o:o[0]}},model:class extends $i{static MODEL_CLASS_MAPPINGS=[fs]},processor:La,default:{model:"Xenova/dpt-large"},type:"image"},"feature-extraction":{tokenizer:hr,pipeline:class extends Ua{constructor(e){super(e)}async _call(e,{pooling:t="none",normalize:n=!1,quantize:r=!1,precision:o="binary"}={}){const i=this.tokenizer(e,{padding:!0,truncation:!0}),s=await this.model(i);let a=s.last_hidden_state??s.logits??s.token_embeddings;if("none"===t);else if("mean"===t)a=function(e,t){let n=[e.dims[0],e.dims[2]],r=new e.data.constructor(n[0]*n[1]),[o,i,s]=e.dims,a=0;for(let n=0;n<o;++n){let o=n*s*i;for(let c=0;c<s;++c){let l=0,u=0,d=n*i,f=o+c;for(let n=0;n<i;++n){let r=Number(t.data[d+n]);u+=r,l+=e.data[f+n*s]*r}let h=l/u;r[a++]=h}}return new ne(e.type,r,n)}(a,i.attention_mask);else{if("cls"!==t)throw Error(`Pooling method '${t}' not supported.`);a=a.slice(null,0)}return n&&(a=a.normalize(2,-1)),r&&(a=function(e,t){if(2!==e.dims.length)throw new Error("The tensor must have 2 dimensions");if(e.dims.at(-1)%8!=0)throw new Error("The last dimension of the tensor must be a multiple of 8");if(!["binary","ubinary"].includes(t))throw new Error("The precision must be either 'binary' or 'ubinary'");const n="binary"===t,r=n?"int8":"uint8",o=n?Int8Array:Uint8Array,i=e.data,s=new o(i.length/8);for(let e=0;e<i.length;++e){const t=i[e]>0?1:0,r=Math.floor(e/8),o=e%8;s[r]|=t<<7-o,n&&0===o&&(s[r]-=128)}return new ne(r,s,[e.dims[0],e.dims[1]/8])}(a,o)),a}},model:ms,default:{model:"Xenova/all-MiniLM-L6-v2"},type:"text"},"image-feature-extraction":{processor:La,pipeline:class extends Ua{constructor(e){super(e)}async _call(e,{pool:t=null}={}){const n=await Ba(e),{pixel_values:r}=await this.processor(n),o=await this.model({pixel_values:r});let i;if(t){if(!("pooler_output"in o))throw Error("No pooled output was returned. Make sure the model has a 'pooler' layer when using the 'pool' option.");i=o.pooler_output}else i=o.last_hidden_state??o.logits??o.image_embeds;return i}},model:[class extends $i{static MODEL_CLASS_MAPPINGS=[hs]},ms],default:{model:"Xenova/vit-base-patch16-224-in21k"},type:"image"}}),Ga=Object.freeze({"sentiment-analysis":"text-classification",ner:"token-classification",asr:"automatic-speech-recognition","text-to-speech":"text-to-audio",embeddings:"feature-extraction"});async function Wa(e,t=null,{quantized:n=!0,progress_callback:o=null,config:i=null,cache_dir:s=null,local_files_only:a=!1,revision:c="main",model_file_name:l=null}={}){e=Ga[e]??e;const u=Ha[e.split("_",1)[0]];if(!u)throw Error(`Unsupported pipeline: ${e}. Must be one of [${Object.keys(Ha)}]`);t||(t=u.default.model,console.log(`No model specified. Using default model: "${t}".`));const d={quantized:n,progress_callback:o,config:i,cache_dir:s,local_files_only:a,revision:c,model_file_name:l},f=new Map([["tokenizer",u.tokenizer],["model",u.model],["processor",u.processor]]),h=await async function(e,t,n){const r=Object.create(null),o=[];for(let[i,s]of e.entries()){if(!s)continue;let e;e=Array.isArray(s)?new Promise(async(e,r)=>{let o;for(let r of s){if(null===r)return void e(null);try{return void e(await r.from_pretrained(t,n))}catch(e){o=e}}r(o)}):s.from_pretrained(t,n),r[i]=e,o.push(e)}await Promise.all(o);for(let[e,t]of Object.entries(r))r[e]=await t;return r}(f,t,d);return h.task=e,r(o,{status:"ready",task:e,model:t}),new(0,u.pipeline)(h)}},94137:(e,t,n)=>{"use strict";n.d(t,{BU:()=>c,Cu:()=>l,TC:()=>a,f5:()=>u});var r=n(14487),o=n(24896),i=n(19408),s=n(5056);function a(e,...[t=(0,r.g0)()]){const{chatId:n,threadId:a}=(0,i.Xf)(e,t)||{};if(!n||!a)return;const c=(0,o.W)(n,a);return(0,s.n)(e,t).middleSearch.byChatThreadKey[c]}function c(e,...[t=(0,r.g0)()]){const{chatId:n,threadId:a}=(0,i.Xf)(e,t)||{};if(!n||!a)return;const c=(0,o.W)(n,a);return(0,s.n)(e,t).sharedMediaSearch.byChatThreadKey[c]}function l(e,...[t=(0,r.g0)()]){const{chatId:n,threadId:a}=(0,i.Xf)(e,t)||{};if(!n||!a)return;const c=(0,o.W)(n,a);return(0,s.n)(e,t).chatMediaSearch.byChatThreadKey[c]}function u(e,t,n,...[i=(0,r.g0)()]){if(!t||!n)return;const a=(0,o.W)(t,n);return(0,s.n)(e,i).chatMediaSearch.byChatThreadKey[a]}},94241:(e,t,n)=>{"use strict";n.d(t,{$W:()=>o,Pp:()=>s,XB:()=>i});var r=n(96540);n(77537);const o=r.createContext({}),i=({children:e,status:t,override:n})=>{const i=r.useContext(o),s=r.useMemo(()=>{const e=Object.assign({},i);return n&&delete e.isFormItemInput,t&&(delete e.status,delete e.hasFeedback,delete e.feedbackIcon),e},[t,n,i]);return r.createElement(o.Provider,{value:s},e)},s=r.createContext(void 0)},94519:(e,t,n)=>{"use strict";n.d(t,{A:()=>u});var r=n(84051),o=n(43336),i=n(17712),s=n(93545),a=n(46637),c=n(672);const l=150;function u(e,t){const[n,u]=(0,r.J0)(),[d,f]=(0,r.J0)(),h=(0,i.A)(()=>{const n=e.current,r=t?.current;if(!n||!r)return;if(!r.offsetWidth||!r.offsetHeight)return;const i=n.classList.contains("sticker-set-cover")||n.classList.contains("sticker-reaction")?n:n.querySelector("img");if(!i)return;const s=i.getBoundingClientRect(),a=r.getBoundingClientRect();u((0,o.LI)((s.left-a.left)/a.width,4)||0),f((0,o.LI)((s.top-a.top)/a.height,4)||0)});(0,r.vJ)(h,[h]);const p=(0,c.A)(h,[h],l);return(0,s.A)(t,p),(0,a.A)(t,p),(0,r.Kr)(()=>void 0!==n&&void 0!==d?{x:n,y:d}:void 0,[n,d])}},94925:(e,t,n)=>{"use strict";function r(e){return(e+8)/e}function o(e){const t=Array.from({length:10}).map((t,n)=>{const r=n-1,o=e*Math.pow(Math.E,r/5),i=n>1?Math.floor(o):Math.ceil(o);return 2*Math.floor(i/2)});return t[1]=e,t.map(e=>({size:e,lineHeight:r(e)}))}n.d(t,{A:()=>o,k:()=>r})},95175:(e,t,n)=>{"use strict";n.d(t,{K:()=>a});var r=n(87894);const o=Symbol("EQUAL"),i={__delete:!0},s={__deleteAllChildren:!0};function a(e,t){if(e===t)return o;if(typeof e!=typeof t)return t;if(Array.isArray(e)&&Array.isArray(t)&&(c=t,(n=e).length===c.length&&n.every((e,t)=>a(e,c[t])===o)))return o;var n,c;if(!(0,r.Vh)(e)||!(0,r.Vh)(t))return t;const l=e,u=t,d=Object.keys(l),f=Object.keys(u);if(!f.length)return d.length?s:o;const h=(0,r.Am)(d.concat(f)).reduce((e,t)=>{const n=l[t],r=u[t];if(!u.hasOwnProperty(t))return e[t]=i,e;if(!l.hasOwnProperty(t))return e[t]=r,e;const s=a(n,r);return s!==o&&(e[t]=s),e},{});return 0===Object.keys(h).length?o:h}},95201:(e,t,n)=>{"use strict";n.d(t,{Ay:()=>c,Ke:()=>s,Zs:()=>i});var r=n(52187),o=n(20791);const i=8;function s(e){const{contentRadius:t,limitVerticalRadius:n}=e,r=t>12?t+2:12;return{arrowOffsetHorizontal:r,arrowOffsetVertical:n?i:r}}function a(e,t){return e?t:{}}function c(e,t,n){const{componentCls:i,boxShadowPopoverArrow:s,arrowOffsetVertical:c,arrowOffsetHorizontal:l}=e,{arrowDistance:u=0,arrowPlacement:d={left:!0,right:!0,top:!0,bottom:!0}}=n||{};return{[i]:Object.assign(Object.assign(Object.assign(Object.assign({[`${i}-arrow`]:[Object.assign(Object.assign({position:"absolute",zIndex:1,display:"block"},(0,o.j)(e,t,s)),{"&:before":{background:t}})]},a(!!d.top,{[[`&-placement-top > ${i}-arrow`,`&-placement-topLeft > ${i}-arrow`,`&-placement-topRight > ${i}-arrow`].join(",")]:{bottom:u,transform:"translateY(100%) rotate(180deg)"},[`&-placement-top > ${i}-arrow`]:{left:{_skip_check_:!0,value:"50%"},transform:"translateX(-50%) translateY(100%) rotate(180deg)"},"&-placement-topLeft":{"--arrow-offset-horizontal":l,[`> ${i}-arrow`]:{left:{_skip_check_:!0,value:l}}},"&-placement-topRight":{"--arrow-offset-horizontal":`calc(100% - ${(0,r.zA)(l)})`,[`> ${i}-arrow`]:{right:{_skip_check_:!0,value:l}}}})),a(!!d.bottom,{[[`&-placement-bottom > ${i}-arrow`,`&-placement-bottomLeft > ${i}-arrow`,`&-placement-bottomRight > ${i}-arrow`].join(",")]:{top:u,transform:"translateY(-100%)"},[`&-placement-bottom > ${i}-arrow`]:{left:{_skip_check_:!0,value:"50%"},transform:"translateX(-50%) translateY(-100%)"},"&-placement-bottomLeft":{"--arrow-offset-horizontal":l,[`> ${i}-arrow`]:{left:{_skip_check_:!0,value:l}}},"&-placement-bottomRight":{"--arrow-offset-horizontal":`calc(100% - ${(0,r.zA)(l)})`,[`> ${i}-arrow`]:{right:{_skip_check_:!0,value:l}}}})),a(!!d.left,{[[`&-placement-left > ${i}-arrow`,`&-placement-leftTop > ${i}-arrow`,`&-placement-leftBottom > ${i}-arrow`].join(",")]:{right:{_skip_check_:!0,value:u},transform:"translateX(100%) rotate(90deg)"},[`&-placement-left > ${i}-arrow`]:{top:{_skip_check_:!0,value:"50%"},transform:"translateY(-50%) translateX(100%) rotate(90deg)"},[`&-placement-leftTop > ${i}-arrow`]:{top:c},[`&-placement-leftBottom > ${i}-arrow`]:{bottom:c}})),a(!!d.right,{[[`&-placement-right > ${i}-arrow`,`&-placement-rightTop > ${i}-arrow`,`&-placement-rightBottom > ${i}-arrow`].join(",")]:{left:{_skip_check_:!0,value:u},transform:"translateX(-100%) rotate(-90deg)"},[`&-placement-right > ${i}-arrow`]:{top:{_skip_check_:!0,value:"50%"},transform:"translateY(-50%) translateX(-100%) rotate(-90deg)"},[`&-placement-rightTop > ${i}-arrow`]:{top:c},[`&-placement-rightBottom > ${i}-arrow`]:{bottom:c}}))}}},95547:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>d});var r=n(25279),o=n(13439),i=n(23174),s=n(72531),a=n(60919),c=n(77787),l=n(81120),u=n(68144);const d=class{static get global(){return(0,o.mS)()}static getRoomLastFocusTime(e){const t=localStorage.getItem("room-ai-data");return t&&JSON.parse(t)[e]?.lastFocusTime||0}static getRoomLastSummaryId(e){const t=localStorage.getItem("room-ai-data");return t&&JSON.parse(t)[e]?.lastSummaryId||0}static getRoomUnreadCount(e){const t=(0,a.hds)(this.global,e);return t&&t.unreadCount||0}static getRoomAIUnreadCount(e){const t=localStorage.getItem("room-ai-data");return t&&JSON.parse(t)?.[e]?.unreadCount||0}static getRoomAISummaryState(e){const t=localStorage.getItem("room-ai-data");return t&&JSON.parse(t)?.[e]?.summaryState||!1}static getRoomInputTranslateOptions(e){const t=localStorage.getItem("room-ai-data");return t&&JSON.parse(t)?.[e]?.inputTranslateOptions||{translateLanguage:"en",autoTranslate:!1,firstTime:!0}}static updateRoomInputTranslateOptions(e,t){const n=localStorage.getItem("room-ai-data"),r=n?JSON.parse(n):{};r[e]={...r[e],inputTranslateOptions:t},localStorage.setItem("room-ai-data",JSON.stringify(r))}static updateRoomAIData(e,t,n){const r=localStorage.getItem("room-ai-data"),o=r?JSON.parse(r):{},i=o[e]||{};i[t]=n,o[e]=i,localStorage.setItem("room-ai-data",JSON.stringify(o)),"unreadCount"===t?s.A.emit(s.E.UpdateRoomAIUnreadCount,{chatId:e,count:n}):"summaryState"===t&&s.A.emit(s.E.UpdateRoomAISummaryState,{chatId:e,state:n})}static getUserEngagementData(e){const t=localStorage.getItem("room-ai-data");return t&&JSON.parse(t)?.[e]?.engagementData||{messageCount:0,stayDuration:0,clickCount:0,lastActiveTime:0}}static updateUserEngagementData(e,t){const n={...this.getUserEngagementData(e),...t,lastActiveTime:t.lastActiveTime||Date.now()};this.updateRoomAIData(e,"engagementData",n)}static incrementMessageCount(e){const t=this.getUserEngagementData(e);this.updateUserEngagementData(e,{messageCount:t.messageCount+1})}static incrementClickCount(e){const t=this.getUserEngagementData(e);this.updateUserEngagementData(e,{clickCount:t.clickCount+1})}static addStayDuration(e,t){const n=this.getUserEngagementData(e);this.updateUserEngagementData(e,{stayDuration:n.stayDuration+t})}static getAllEngagementData(){const e=localStorage.getItem("room-ai-data");if(!e)return{};const t=JSON.parse(e),n={};return Object.keys(t).forEach(e=>{t[e]?.engagementData&&(n[e]=t[e].engagementData)}),n}static increaseUnreadCount(e){const t=this.getRoomAIUnreadCount(e)+1;this.updateRoomAIData(e,"unreadCount",t),s.A.emit(s.E.UpdateRoomAIUnreadCount,{chatId:e,count:t})}static async summary(e){const{autoTranslateLanguage:t="en"}=this.global.settings.byKey,n=this.getRoomLastFocusTime(e),o=this.getRoomLastSummaryId(e),d=this.getRoomUnreadCount(e),f=(0,a.ZZX)(this.global,e,"all")||0;if(d>5&&f-o>5&&n<Date.now()-3e5){const n=(0,a.hds)(this.global,e),o=Math.max(d,20);if(n){console.log("开始总结"),this.updateRoomAIData(e,"summaryState",!0);const a=await(0,u.Np)({chat:n,offsetId:f,addOffset:-1,sliceSize:50,threadId:i.l3,maxCount:o}),d=(0,u.iZ)(a);if(!d.length)return;const h={summaryTime:(new Date).getTime(),messageCount:d.length,userIds:Array.from(new Set(d.map(e=>e.senderId)))};(0,l.oi)({messages:d,language:new Intl.DisplayNames([t],{type:"language"}).of(t)}).then(t=>{const n={...t.data,summaryInfo:h},o={chatId:e,timestamp:(new Date).getTime(),content:JSON.stringify(n),id:(0,r.A)(),createdAt:new Date,role:"assistant",annotations:[{type:"room-summary"}]};c.zs.message?.storeMessage(o),s.A.emit(s.E.AddRoomAIMessage,o),this.increaseUnreadCount(e),this.updateRoomAIData(e,"summaryState",!1)}).catch(t=>{console.log(t),this.updateRoomAIData(e,"summaryState",!1)})}}this.updateRoomAIData(e,"lastFocusTime",(new Date).getTime())}}},95753:(e,t,n)=>{"use strict";n.d(t,{_B:()=>d,gt:()=>c,lc:()=>u,oe:()=>a,rm:()=>l,xG:()=>f});var r=n(14487),o=n(87894),i=n(60919),s=n(32989);function a(e,t,n,r,o){const s=(0,i.a_$)(e,t,r);return{...e,translations:{...e.translations,byChatId:{...e.translations.byChatId,[t]:{...e.translations.byChatId[t],byLangCode:{...e.translations.byChatId[t]?.byLangCode,[r]:{...s,[n]:{...s[n],...o}}}}}}}}function c(e,t,n){const r=e.translations.byChatId[t];if(!r)return e;const{byLangCode:i}=r,s=Object.keys(i).reduce((e,t)=>{const r=(0,o.cJ)(i[t],[n]);return Object.keys(r).length&&(e[t]=r),e},{});return{...e,translations:{...e.translations,byChatId:{...e.translations.byChatId,[t]:{...r,byLangCode:s}}}}}function l(e,t,n,r,o){return n.forEach((n,i)=>{e=a(e,t,n,r,{text:o[i],isPending:!1})}),e}function u(e,t,n,...[o=(0,r.g0)()]){const a=(0,i.nTw)(e,o);return(0,s.w)(e,{requestedTranslations:{...a.requestedTranslations,byChatId:{...a.requestedTranslations.byChatId,[t]:{toLanguage:n}}}},o)}function d(e,t,n,o,...[a=(0,r.g0)()]){const c=(0,i.nTw)(e,a);return(0,s.w)(e,{requestedTranslations:{...c.requestedTranslations,byChatId:{...c.requestedTranslations.byChatId,[t]:{...c.requestedTranslations.byChatId[t],manualMessages:{...c.requestedTranslations.byChatId[t]?.manualMessages,[n]:o}}}}},a)}function f(e,t,n,...[a=(0,r.g0)()]){const c=(0,i.nTw)(e,a),l=c.requestedTranslations.byChatId[t]?.manualMessages;if(!l)return e;const u=(0,o.cJ)(l,[n]);return(0,s.w)(e,{requestedTranslations:{...c.requestedTranslations,byChatId:{...c.requestedTranslations.byChatId,[t]:{...c.requestedTranslations.byChatId[t],manualMessages:u}}}},a)}},95807:(e,t,n)=>{"use strict";function r(...e){return e.filter(Boolean).join(";")}n.d(t,{A:()=>r})},95815:(e,t,n)=>{"use strict";function r(e,t,n){return(t=function(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){const n=JSON.parse(JSON.stringify(t));return n.forEach(t=>{t.chatId=e,t.timestamp=new Date(t.createdAt).getTime()}),n}function i(e){const t=JSON.parse(JSON.stringify(e));return t.forEach(e=>{delete e.chatId,delete e.timestamp}),t}n.d(t,{Ay:()=>s,Jr:()=>o,Lf:()=>i});const s=class{constructor(e){this.dbManager=e,r(this,"storeName","message"),r(this,"db",null),r(this,"chataiStoreManager",void 0),this.db=e.db,this.chataiStoreManager=e}async storeMessage(e){let t;try{t=await this.chataiStoreManager.getDB()}catch(e){return void console.error("Error adding contact:",e)}const n=t.transaction([this.storeName],"readwrite").objectStore(this.storeName).put(e);n.onsuccess=()=>{console.log(`Message ${e.id} stored successfully`)},n.onerror=t=>{console.error(`Error storing message ${e.id}:`,t.target.error)}}async storeMessages(e){let t;try{t=await this.chataiStoreManager.getDB()}catch(e){return void console.error("Error adding contact:",e)}const n=t.transaction([this.storeName],"readwrite"),r=n.objectStore(this.storeName);e.forEach(e=>{const t=r.put(e);t.onsuccess=()=>{console.log(`Message ${e.id} stored successfully`)},t.onerror=t=>{console.error(`Error storing message ${e.id}:`,t.target.error)}}),n.oncomplete=()=>{console.log("All messages stored successfully")},n.onerror=e=>{console.error("Error storing messages:",e.target.error)}}async getMessages(e,t,n){let r;try{r=await this.chataiStoreManager.getDB()}catch(e){return console.error("Error adding contact:",e),Promise.reject(e)}return new Promise((o,i)=>{const s=r.transaction(this.storeName,"readonly").objectStore(this.storeName).index("chatId_timestamp"),a=void 0!==t?IDBKeyRange.bound([e,0],[e,t],!1,!0):IDBKeyRange.bound([e,0],[e,Number.MAX_SAFE_INTEGER]),c=s.openCursor(a,"prev"),l=[];let u,d=0;c.onsuccess=e=>{const t=e.target.result;t&&d<n?(l.unshift(t.value),u=t.value.timestamp,d++,t.continue()):o({messages:l,lastTime:u,hasMore:d===n})},c.onerror=()=>i(new Error("Failed to fetch messages"))})}async getAllMessages(){let e;try{e=await this.chataiStoreManager.getDB()}catch(e){return console.error("Error adding contact:",e),Promise.reject(e)}return new Promise((t,n)=>{const r=e.transaction(this.storeName,"readonly").objectStore(this.storeName).getAll();r.onsuccess=()=>{t(r.result)},r.onerror=()=>n(new Error("Failed to fetch messages"))})}async delMessage(e){let t;try{t=await this.chataiStoreManager.getDB()}catch(e){return console.error("Error adding contact:",e),Promise.reject(e)}return new Promise((n,r)=>{const o=t.transaction(this.storeName,"readwrite").objectStore(this.storeName).delete(e);o.onsuccess=()=>{console.log(`Deleted record with key: ${e}`),n()},o.onerror=()=>r(new Error("Failed to delete record"))})}}},96069:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r={items_per_page:"/ page",jump_to:"Go to",jump_to_confirm:"confirm",page:"Page",prev_page:"Previous Page",next_page:"Next Page",prev_5:"Previous 5 Pages",next_5:"Next 5 Pages",prev_3:"Previous 3 Pages",next_3:"Next 3 Pages",page_size:"Page Size"}},96140:(e,t,n)=>{"use strict";n.d(t,{$y:()=>w,E8:()=>k,FR:()=>p,MJ:()=>S,Ry:()=>E,TV:()=>v,VH:()=>C,eE:()=>g,hc:()=>I,qA:()=>_,tw:()=>b,uw:()=>x,yy:()=>y});var r=n(13439),o=n(60919),i=n(77787),s=n(22199),a=n(90709),c=n(31481),l=n(51217),u=n(2543),d=n(72531),f=n(38644),h=n(81120);const p="aiChatFoldersTask----",g=["Friend","Community","Work","Unrend","Spam","Preset","AI"],m=e=>{try{const t=(0,s.i$)(e.trim());if(t.valid){if(t.fixedJson)return JSON.parse(t.fixedJson);console.error("json parse error",t.error)}else console.error("json parse error",t.error)}catch(e){return console.error("json parse error",e),null}};function y(e){return new Promise(t=>setTimeout(t,e))}async function b(e){let t=(0,r.mS)(),n=[];e.forEach(async e=>{const r=(0,o.hds)(t,e.chatId+""),i={id:e.chatId+"",chatTitle:r?.title,...e};n.push(i)}),t={...t,chatFolders:{...t.chatFolders,nextAiChatFolders:n}},(0,r.UF)(t)}function v(e){let t={};return g.forEach(n=>{const i=e.filter(e=>e?.categoryTag?.indexOf(n)>=0)?.map(e=>{if("Spam"===n){const t=(0,r.mS)();return"users"===(0,o.dfQ)(t,e?.chatId?.toString())?e?.chatId:null}return e?.chatId})?.filter(e=>null!=e);i?.length&&(t[n]=i)}),t}async function _(e,t){const n=Object.keys(e);let r=[];for(let o=0;o<n.length;o+=t){const i=n.slice(o,o+t).map(t=>({chatId:t,messages:e[t].map(e=>e.content.text?.text??"").filter(e=>null!==e)}));if(i.length){const e=await(0,h.qs)({messages:i,flag:!0}),t=A(e?.text);r=r.concat(t)}}return r}async function w(){console.log(p+"delete-start",new Date);const{deleteChatFolder:e}=(0,r.ko)(),t=await(i.zs.folder?.getAllFolders());for(let n=0;n<(t||[])?.length;n++){const r=t?.[n];r&&("AI"!==r?.from&&r.title!==c.Gjs&&r?.title!==c.g25&&r?.title!==c.Jg3||(console.log(p+"delete: "+r?.id,new Date),await(e?.({id:Number(r?.id)})),await y(3e3)))}console.log(p+"delete-end",new Date)}async function S(){console.log(p+"delete-start-user",new Date);const{deleteChatFolder:e}=(0,r.ko)(),t=await(i.zs.folder?.getAllFolders());for(let n=0;n<(t||[])?.length;n++){const r=t?.[n];r&&("AI"!==r?.from&&r.title!==c.Gjs&&r?.title!==c.g25&&r?.title!==c.Jg3||(console.log(p+"delete: "+r?.id,new Date),await(e?.({id:Number(r?.id)})),await y(3e3)))}let n=(0,r.mS)();n={...n,chatFolders:{...n.chatFolders,orderedIds:I(n.chatFolders?.orderedIds??[]),aiChatFolders:{...n.chatFolders?.aiChatFolders,list:[]},nextAiChatFolders:n.chatFolders?.aiChatFolders?.list||[]}},(0,r.UF)(n),console.log(p+"delete-end-user",new Date)}function x(e){const t=(0,r.mS)();return(0,a.DX)(e)||e===c.zv8||(0,o.yps)(t,e)}function I(e){return e?.filter(e=>e!==c.Sab&&e!==c.LFk&&e!==c.j7l)}function A(e){try{const t=e?.replaceAll("\n","")?.replace("```json","")?.replace("```","")?.trim();return JSON.parse(t)}catch(t){try{return m(e)}catch(e){return}}}function C(e){let t=(0,r.mS)();const n=(0,l.Su)(),o=(0,u.intersection)(n,t?.chatFolders?.aiChatFolders?.activeAITag??[]);i.zs.general?.set(i.al,o),e.forEach(e=>{i.zs.aIChatFolders?.addAIChatFolder(e)}),t={...t,chatFolders:{...t.chatFolders,aiChatFolders:{...t.chatFolders?.aiChatFolders,list:e,activeAITag:o},nextAiChatFolders:[]}},(0,r.UF)(t)}function k(e){e===f.H.classify?d.A.emit(d.E.UpdateSettingAIChatFoldersLoading,{loading:!1,isApply:!1}):d.A.emit(d.E.UpdateAIChatFoldersApplying,{loading:!1})}function E(){i.zs.general?.get(i._9)?.then(e=>{void 0!==e&&i.zs.general?.set(i._9,!0)}),d.A.emit(d.E.UpdateAIChatFoldersApplying,{loading:!1,isShowTip:!0}),d.A.emit(d.E.UpdateSettingAIChatFoldersLoading,{loading:!1,isApply:!1})}},96298:function(e,t,n){var r;e.exports=(r=n(19021),n(80754),n(84636),n(39506),n(57165),function(){var e=r,t=e.lib.StreamCipher,n=e.algo,o=[],i=[],s=[],a=n.Rabbit=t.extend({_doReset:function(){for(var e=this._key.words,t=this.cfg.iv,n=0;n<4;n++)e[n]=16711935&(e[n]<<8|e[n]>>>24)|4278255360&(e[n]<<24|e[n]>>>8);var r=this._X=[e[0],e[3]<<16|e[2]>>>16,e[1],e[0]<<16|e[3]>>>16,e[2],e[1]<<16|e[0]>>>16,e[3],e[2]<<16|e[1]>>>16],o=this._C=[e[2]<<16|e[2]>>>16,4294901760&e[0]|65535&e[1],e[3]<<16|e[3]>>>16,4294901760&e[1]|65535&e[2],e[0]<<16|e[0]>>>16,4294901760&e[2]|65535&e[3],e[1]<<16|e[1]>>>16,4294901760&e[3]|65535&e[0]];for(this._b=0,n=0;n<4;n++)c.call(this);for(n=0;n<8;n++)o[n]^=r[n+4&7];if(t){var i=t.words,s=i[0],a=i[1],l=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8),u=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),d=l>>>16|4294901760&u,f=u<<16|65535&l;for(o[0]^=l,o[1]^=d,o[2]^=u,o[3]^=f,o[4]^=l,o[5]^=d,o[6]^=u,o[7]^=f,n=0;n<4;n++)c.call(this)}},_doProcessBlock:function(e,t){var n=this._X;c.call(this),o[0]=n[0]^n[5]>>>16^n[3]<<16,o[1]=n[2]^n[7]>>>16^n[5]<<16,o[2]=n[4]^n[1]>>>16^n[7]<<16,o[3]=n[6]^n[3]>>>16^n[1]<<16;for(var r=0;r<4;r++)o[r]=16711935&(o[r]<<8|o[r]>>>24)|4278255360&(o[r]<<24|o[r]>>>8),e[t+r]^=o[r]},blockSize:4,ivSize:2});function c(){for(var e=this._X,t=this._C,n=0;n<8;n++)i[n]=t[n];for(t[0]=t[0]+1295307597+this._b|0,t[1]=t[1]+3545052371+(t[0]>>>0<i[0]>>>0?1:0)|0,t[2]=t[2]+886263092+(t[1]>>>0<i[1]>>>0?1:0)|0,t[3]=t[3]+1295307597+(t[2]>>>0<i[2]>>>0?1:0)|0,t[4]=t[4]+3545052371+(t[3]>>>0<i[3]>>>0?1:0)|0,t[5]=t[5]+886263092+(t[4]>>>0<i[4]>>>0?1:0)|0,t[6]=t[6]+1295307597+(t[5]>>>0<i[5]>>>0?1:0)|0,t[7]=t[7]+3545052371+(t[6]>>>0<i[6]>>>0?1:0)|0,this._b=t[7]>>>0<i[7]>>>0?1:0,n=0;n<8;n++){var r=e[n]+t[n],o=65535&r,a=r>>>16,c=((o*o>>>17)+o*a>>>15)+a*a,l=((4294901760&r)*r|0)+((65535&r)*r|0);s[n]=c^l}e[0]=s[0]+(s[7]<<16|s[7]>>>16)+(s[6]<<16|s[6]>>>16)|0,e[1]=s[1]+(s[0]<<8|s[0]>>>24)+s[7]|0,e[2]=s[2]+(s[1]<<16|s[1]>>>16)+(s[0]<<16|s[0]>>>16)|0,e[3]=s[3]+(s[2]<<8|s[2]>>>24)+s[1]|0,e[4]=s[4]+(s[3]<<16|s[3]>>>16)+(s[2]<<16|s[2]>>>16)|0,e[5]=s[5]+(s[4]<<8|s[4]>>>24)+s[3]|0,e[6]=s[6]+(s[5]<<16|s[5]>>>16)+(s[4]<<16|s[4]>>>16)|0,e[7]=s[7]+(s[6]<<8|s[6]>>>24)+s[5]|0}e.Rabbit=t._createHelper(a)}(),r.Rabbit)},96369:(e,t,n)=>{"use strict";function r(e){if(Array.isArray(e))return e}n.d(t,{A:()=>r})},96454:(e,t,n)=>{"use strict";n.d(t,{$M:()=>h,Aw:()=>o,Bu:()=>H,CM:()=>j,Fy:()=>L,H$:()=>q,H8:()=>s,J6:()=>T,MP:()=>i,Nd:()=>f,Ni:()=>l,OF:()=>D,OL:()=>E,OS:()=>$,Oo:()=>A,QH:()=>C,SC:()=>k,So:()=>R,TF:()=>b,TL:()=>_,Tz:()=>w,Uz:()=>I,Yw:()=>d,_7:()=>m,bW:()=>P,cp:()=>p,et:()=>z,ig:()=>a,ir:()=>U,kn:()=>V,l5:()=>N,lE:()=>y,nB:()=>B,ol:()=>F,pW:()=>v,pz:()=>c,uH:()=>M,w3:()=>g,yS:()=>u});var r=n(31481);window.location.host,r.mFn;const o=function(){const{userAgent:e,platform:t}=window.navigator;return-1!==["iPhone","iPad","iPod"].indexOf(t)||"MacIntel"===t&&"maxTouchPoints"in navigator&&navigator.maxTouchPoints>2?"iOS":-1!==["Macintosh","MacIntel","MacPPC","Mac68K"].indexOf(t)?"macOS":-1!==["Win32","Win64","Windows","WinCE"].indexOf(t)?"Windows":/Android/.test(e)?"Android":/Linux/.test(t)?"Linux":void 0}(),i="macOS"===o,s="Windows"===o,a="Linux"===o,c="iOS"===o,l="Android"===o,u=c||l,d=/^((?!chrome|android).)*safari/i.test(navigator.userAgent),f=navigator.userAgent.includes("YaBrowser"),h=navigator.userAgent.toLowerCase().includes("firefox")||navigator.userAgent.toLowerCase().includes("iceweasel")||navigator.userAgent.toLowerCase().includes("icecat"),p=Boolean(window.electron),g={Main:0,Auxiliary:1,Secondary:2,Fourth:3,Fifth:4},m=window.matchMedia("(display-mode: standalone)").matches||window.navigator.standalone||document.referrer.includes("android-app://"),y=m||p,b=window.matchMedia("(pointer: coarse)").matches,v=Boolean(window.navigator.mediaDevices&&"getUserMedia"in window.navigator.mediaDevices&&(window.AudioContext||window.webkitAudioContext)),_=o&&(i||c)&&function(){const e=document.createElement("span");e.classList.add("emoji-test-element"),document.body.appendChild(e),e.innerText="🇨🇶";const t=e.offsetWidth;e.innerText="❤️";const n=e.offsetWidth;return document.body.removeChild(e),Math.abs(t-n)<5}(),w="serviceWorker"in navigator,S=navigator.userAgent.match(/Chrom(e|ium)\/([0-9]+)\./)?.[2],x=S&&132===Number(S),I=w&&!x,A=Boolean((new Audio).canPlayType("audio/ogg; codecs=opus")),C=!r.W75&&"filter"in(document.createElement("canvas").getContext("2d")||{}),k="requestFullscreen"in document.createElement("div"),E=!0,T=!u&&!h&&!d,P=!u&&!h&&!d,M=!h,O=document.createElement("video"),D=Boolean(O.canPlayType('video/webm; codecs="vp9"').replace("no","")),R=!0,N=Boolean(navigator.storage?.getDirectory);N&&(async()=>{try{const e=await navigator.storage.getDirectory();await e.removeEntry("downloads",{recursive:!0})}catch{}})();const F=CSS.supports("offset-rotate: 0deg"),L=CSS.supports("backdrop-filter: blur()")||CSS.supports("-webkit-backdrop-filter: blur()"),B="onbeforeinstallprompt"in window,$=!(m&&u),j=!r.W75,U="ViewTransition"in window,z=750,V=((()=>{const e=document.createElement("div");e.style.cssText="overflow:scroll; visibility:hidden; position:absolute;",e.classList.add("custom-scroll"),document.body.appendChild(e);const t=e.offsetWidth-e.clientWidth;e.remove(),document.documentElement.style.setProperty("--scrollbar-width",`${t}px`)})(),1048576*(u?512:2e3)),q="geolocation"in navigator,H=async()=>{try{const e=await navigator.permissions.query({name:"geolocation"});if("granted"===e.state||"prompt"===e.state)return{accessRequested:!0,accessGranted:!0,geolocation:await new Promise((e,t)=>{navigator.geolocation.getCurrentPosition(t=>e(t.coords),e=>t(e))})};if("denied"===e.state)return{accessRequested:!0,accessGranted:!1}}catch(e){return{accessRequested:!1,accessGranted:!1}}return{accessRequested:!1,accessGranted:!1}}},96456:(e,t,n)=>{"use strict";n.d(t,{A:()=>h});var r=n(96540),o=n(23174),i=n(60919),s=n(58554),a=n(48154),c=n(22237),l=n(4146);function u(e,t){const n=(0,l.A)(t),o=(0,r.useRef)(void 0);n&&!t.some((e,t)=>e!==n[t])||(o.current?.(),o.current=e(n||[])??void 0)}var d=n(13439);const f=new Map,h=(e,t=!1,n=o.qZ.BlobUrl,l)=>{const h=e?s.Ih(e):void 0,p=(0,a.A)(),g=function(e){const t=function(e){let t=f.get(e);if(!t){const[n,r]=(0,c.n5)(e((0,d.mS)()));t={clientsCount:0,getter:n,setter:r},f.set(e,t)}return u(()=>{const t=f.get(e);return t.clientsCount++,()=>{t.clientsCount--,t.clientsCount||f.delete(e)}},[e]),t.getter}(e);return function(e,t,n=!1){const o=t?e:()=>e();t??(t=[e]);const i=(0,r.useRef)(void 0),s=(0,a.A)(),l=function(e){const t=(0,r.useRef)(e);return t.current=e,t}(o);function d(e=!1){const t=l.current;if(n)t(e=>{i.current!==e&&(i.current=e,s())});else{const n=t();i.current!==n&&(i.current=n,e||s())}}return u(()=>{d(!0)},t),function(e,t){const n=(0,r.useRef)(!0);n.current&&(n.current=!1,t?.forEach(t=>{(0,c.Hp)(t)&&t.subscribe(e)}))}(d,t),i.current}(t)}(i.nIz);return(0,r.useEffect)(()=>{if(!t&&e&&!h){const t=Date.now();s.hd(e,n).then(()=>{const e=Date.now()-t;!l||e>=l?p():setTimeout(p,l-e)})}},[t,e,h,n,l,g]),h}},96530:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(84051),o=n(87357),i=n(17712);const s=({children:e,isPrimary:t,className:n,isRtl:s,withMultilineFix:a,onClick:c})=>{const l=(0,i.A)(e=>{e.preventDefault(),c(e)});return r.Ay.createElement("a",{href:"#",className:(0,o.A)("Link","swBnOk1h",n,t&&"Jz1SC8nz"),dir:a?void 0:s?"rtl":"auto",onClick:c?l:void 0},e)}},96540:(e,t,n)=>{"use strict";e.exports=n(15287)},96773:(e,t,n)=>{"use strict";n.d(t,{A:()=>k});var r=n(84051),o=n(13439),i=n(31481),s=n(90709),a=n(70636),c=n(26129),l=n(60919),u=n(93578),d=n(17663),f=n(17142),h=n(48775);function p(e,t){const n=t.map((e,t)=>`$PLACEHOLDER-${t}`),r=e.internalFormatters.conjunction.formatToParts(n),o=[];return r.forEach(e=>{if("literal"===e.type)return void o.push(e.value);const n=Number(e.value.slice(13));o.push(t[n])}),o}var g=n(80140),m=n(4961),y=n(18501),b=n(4262),v=n(39351),_=n(17712),w=n(59030),S=n(87412),x=n(76471),I=n(96530),A=n(50805);const C="ActionUnsupported",k=(0,r.ph)((0,o.EK)((e,{message:t})=>{const n=(0,l.hds)(e,t.chatId),r=(0,l.Y7C)(e,t),{replyToMsgId:o,replyToPeerId:i}=(0,c.Q)(t)||{},s=o?(0,l.O5q)(e,i||t.chatId,o):void 0;return{currentUserId:e.currentUserId,replyMessage:s,chat:n,sender:r}})(({message:e,currentUserId:t,sender:n,chat:c,replyMessage:k,isInsideTopic:E,asPreview:T})=>{const{openThread:P,openTelegramLink:M,openUrl:O}=(0,o.ko)(),{chatId:D,isOutgoing:R}=e,N=e.content.action,F=(0,v.A)(),L=(0,w.A)();function B(e){return T?e:r.Ay.createElement("span",{className:A.A.strong},e)}return(0,_.A)(()=>{const v=(0,o.mS)(),_=D===i.zv8,w=D===t,$=c&&(0,s.WX)(c),j=n&&(0,a.F9)(F,n),U=c&&(0,a.F9)(F,c),z=F("ActionFallbackUser"),V=F("ActionFallbackChat"),q=F("ActionFallbackChannel"),H=(0,b.Nm)(n?.id,j||z,T),G=(0,b.Nm)(c?.id,U||V,T);switch(N.type){case"pinMessage":if(k){const e=(0,s.P5)(k);if(e){const t=(0,b.sB)(k,(0,y.fd)({text:e.text,entities:e.entities,asPreview:!0}),T);return(0,b.AD)(F,"ActionPinnedText",R,{text:t,from:H})}const t=(0,b.I$)(F,k);if(t){const e=(0,b.sB)(k,t,T);return(0,b.AD)(F,"ActionPinnedMedia",R,{from:H,media:e})}}return(0,b.AD)(F,"ActionPinnedNotFound",R,{from:H});case"gameScore":{const{score:e}=N,t=k?.content.game?.title,n=t&&(0,b.sB)(k,(0,m.A)(t),T);return n?(0,b.AD)(F,"ActionGameScore",R,{from:H,count:e,game:n},{pluralValue:e}):(0,b.AD)(F,"ActionGameScoreNoGame",R,{from:H,count:e},{pluralValue:e})}case"chatJoinedByLink":return F("ActionUserJoinedByLink",{from:H},{withNodes:!0});case"chatJoinedByRequest":return(0,b.AD)(F,"ActionJoinedByRequest",R,{from:H});case"channelJoined":{const{isViaRequest:e,inviterId:n}=N,r=n?(0,l.PVB)(v,n):void 0;if(r&&n!==t){const e=(0,b.Nm)(n,(0,a.F9)(F,r)||z,T);return F("ActionAddYou",{from:e},{withNodes:!0})}return F(e?"ActionChannelJoinedByRequestChannelYou":"ActionChannelJoinedYou")}case"chatEditTitle":{const{title:e}=N;return $?F("ActionChangedTitleChannel",{title:e}):(0,b.AD)(F,"ActionChangedTitle",R,{title:e,from:H})}case"chatDeletePhoto":return $?F("ActionRemovedPhotoChannel"):(0,b.AD)(F,"ActionRemovedPhoto",R,{from:H});case"chatEditPhoto":return $?F("ActionChangedPhotoChannel"):(0,b.AD)(F,"ActionChangedPhoto",R,{from:H});case"chatCreate":{const{title:e}=N;return F("ActionCreatedChat",{title:e,from:H},{withNodes:!0})}case"channelCreate":{const{title:e}=N;return $?F("ActionCreatedChannel"):(0,b.AD)(F,"ActionCreatedChat",R,{title:e,from:H})}case"chatMigrateTo":{const{channelId:e}=N,t=(0,l.hds)(v,e),n=(0,b.Nm)(e,(0,a.F9)(F,t),T);return F("ActionMigratedTo",{chat:n},{withNodes:!0})}case"channelMigrateFrom":{const{chatId:e,title:t}=N,n=(0,b.Nm)(e,t||V,T);return F("ActionMigratedFrom",{chat:n},{withNodes:!0})}case"topicCreate":{const{title:t,iconColor:n,iconEmojiId:o}=N,i=(0,l.L_2)(v,e),s=r.Ay.createElement(I.A,{className:A.A.topicLink,onClick:()=>P({chatId:D,threadId:i})},o?r.Ay.createElement(S.A,{documentId:o,isSelectable:!0}):r.Ay.createElement(x.A,{topicId:i,title:t,iconColor:n})," ",(0,m.A)(t));return F("ActionTopicCreated",{topic:s},{withNodes:!0})}case"topicEdit":{const{iconEmojiId:t,isClosed:n,isHidden:o,title:s}=N,a=(0,l.L_2)(v,e),c=(0,l.S0q)(v,D,a),u=r.Ay.createElement(I.A,{className:A.A.topicLink,onClick:()=>P({chatId:D,threadId:a})},t&&"0"!==t?r.Ay.createElement(S.A,{documentId:t,isSelectable:!0}):r.Ay.createElement(x.A,{topicId:a,title:s||c?.title||F("ActionTopicPlaceholder"),iconColor:c?.iconColor}),a!==i.HxB&&" ",(0,m.A)(s||c?.title||F("ActionTopicPlaceholder"))),d=r.Ay.createElement(I.A,{className:A.A.topicLink,onClick:()=>P({chatId:D,threadId:a})},F("ActionTopicPlaceholder"));return void 0!==n?E?F(n?"ActionTopicClosedInside":"ActionTopicReopenedInside"):F(n?"ActionTopicClosed":"ActionTopicReopened",{from:H,topic:u},{withNodes:!0}):void 0!==o?E?F(o?"ActionTopicHiddenInside":"ActionTopicUnhiddenInside"):F(o?"ActionTopicHidden":"ActionTopicUnhidden",{topic:u},{withNodes:!0}):s&&t?F("ActionTopicIconAndRenamed",{from:H,link:d,topic:u},{withNodes:!0}):void 0===s?t&&"0"!==t?F("ActionTopicIconChanged",{from:H,link:d,emoji:r.Ay.createElement(S.A,{documentId:t,loopLimit:2})},{withNodes:!0}):F("ActionTopicIconRemoved",{from:H,link:d},{withNodes:!0}):F("ActionTopicRenamed",{from:H,link:d,title:s},{withNodes:!0})}case"boostApply":return(0,b.AD)(F,"ActionBoostApply",R,{from:H,count:N.boosts},{pluralValue:N.boosts});case"chatAddUser":{const{userIds:e}=N;if(n?.id===e[0])return(0,b.AD)(F,"ActionUserJoined",R,{from:H});if(1===e.length){const t=(0,l.PVB)(v,e[0]),n=t&&(0,a.F9)(F,t)||z,r=(0,b.Nm)(t?.id,n,T);return(0,b.AD)(F,"ActionAddUser",R,{from:H,user:r})}const t=e.map(e=>(0,l.PVB)(v,e)).filter(Boolean);if(!t.length)return(0,b.AD)(F,"ActionAddUser",R,{from:H,user:z});const r=t.map(e=>(0,b.Nm)(e.id,(0,a.F9)(F,e)||z,T));return(0,b.AD)(F,"ActionAddUsersMany",R,{from:H,users:p(F,r)})}case"chatDeleteUser":{const{userId:e}=N;if(n?.id===e)return(0,b.AD)(F,"ActionUserLeft",R,{from:H});const t=(0,l.PVB)(v,e),r=t&&(0,a.F9)(F,t)||z,o=(0,b.Nm)(t?.id,r,T);return(0,b.AD)(F,"ActionKickUser",R,{from:H,user:o})}case"botAllowed":{const{app:e,domain:t,isAttachMenu:o,isFromRequest:a}=N;if(o)return F("ActionAttachMenuBotAllowed");if(a)return F("ActionWebappBotAllowed");if(e){const t=n&&(0,s.Kl)(n),o=t&&`${i.jsp+t}/${e.shortName}`,a=o?r.Ay.createElement(I.A,{onClick:()=>M({url:o})},e.title):F("ActionBotAppPlaceholder");return F("ActionBotAllowedFromApp",{app:a},{withNodes:!0})}if(!t)return F(C);const c=(0,u.Tc)(t),l=r.Ay.createElement(I.A,{onClick:()=>O({url:c})},t);return F("ActionBotAllowedFromDomain",{domain:l},{withNodes:!0})}case"giveawayLaunch":{const{stars:e}=N;return e?F($?"ActionGiveawayStarsStarted":"ActionGiveawayStarsStartedGroup",{from:H,amount:B((0,h.Kk)(F,e))},{withNodes:!0}):F($?"ActionGiveawayStarted":"ActionGiveawayStartedGroup",{from:H},{withNodes:!0})}case"giveawayResults":{const{winnersCount:e,isStars:t,unclaimedCount:n}=N;return e?n?F(t?"ActionGiveawayResultsStarsSome":"ActionGiveawayResultsSome"):F(t?"ActionGiveawayResultsStars":"ActionGiveawayResults",{count:e},{pluralValue:e}):F("ActionGiveawayResultsNone")}case"giftStars":case"giftPremium":case"giftTon":{const{amount:e,currency:t,cryptoAmount:n,cryptoCurrency:r,type:o}=N,i=(0,f.vv)(F,e,t,{asFontIcon:!0}),s=n&&"giftTon"!==o?(0,f.vv)(F,n,r):void 0,a=s?F("ActionGiftCostCrypto",{price:i,cryptoPrice:s},{withNodes:!0}):i;return _?F("ActionGiftTextCostAnonymous",{cost:a},{withNodes:!0}):(0,b.AD)(F,"ActionGiftTextCost",R,{from:H,cost:B(a)})}case"prizeStars":case"giftCode":return(0,b.AD)(F,"ActionGiftTextUnknown",R,void 0);case"groupCall":{const{duration:e}=N,t=e?(0,d.A$)(F,e):void 0;return t?$?F("ActionGroupCallFinishedChannel",{duration:t}):F("ActionGroupCallFinishedGroup",{from:H,duration:t},{withNodes:!0}):$?F("ActionGroupCallStartedChannel"):F("ActionGroupCallStartedGroup",{from:H},{withNodes:!0})}case"groupCallScheduled":{const{scheduleDate:e}=N,t=(0,d.L2)(1e3*e,F.code,!0);return $?F("ActionGroupCallScheduledChannel",{date:t}):F("ActionGroupCallScheduledGroup",{from:H,date:t},{withNodes:!0})}case"inviteToGroupCall":{const{userIds:e}=N;if(1===e.length){const t=(0,l.PVB)(v,e[0]),n=t&&(0,a.F9)(F,t)||z,r=(0,b.Nm)(t?.id,n,T);return(0,b.AD)(F,"ActionVideoInvited",R,{from:H,user:r})}const t=e.map(e=>(0,l.PVB)(v,e)).filter(Boolean);if(!t.length)return(0,b.AD)(F,"ActionVideoInvited",R,{from:H,user:z});const n=t.map(e=>(0,b.Nm)(e.id,(0,a.F9)(F,e)||z,T));return(0,b.AD)(F,"ActionVideoInvitedMany",R,{from:H,users:p(F,n)})}case"paymentSent":{const{currency:e,totalAmount:t,isRecurringInit:n,isRecurringUsed:r}=N,o=B((0,f.vv)(F,t,e,{asFontIcon:!0})),i=k&&(0,s.NO)(k),a=i?.title;return r?F("ActionPaymentUsedRecurring",{amount:o},{withNodes:!0}):a?F(n?"ActionPaymentInitRecurringFor":"ActionPaymentDoneFor",{amount:o,user:G,invoice:(0,b.sB)(k,a,T)},{withNodes:!0}):F(n?"ActionPaymentInitRecurring":"ActionPaymentDone",{amount:o,user:G},{withNodes:!0})}case"paymentRefunded":{const{currency:e,totalAmount:t,peerId:n}=N,r=(0,l.PVB)(v,n),o=r&&(0,a.F9)(F,r)||z,i=(0,b.Nm)(r?.id,o,T),s=(0,f.vv)(F,t,e,{asFontIcon:!0});return F("ActionPaymentRefunded",{peer:i,amount:s},{withNodes:!0})}case"starGift":{const{gift:e,alreadyPaidUpgradeStars:r,peerId:o,savedId:i,fromId:s}=N,c=Boolean(o&&i),u=s?(0,l.PVB)(v,s):n,d=u&&(0,a.F9)(F,u)||z,f=(0,b.Nm)(u?.id,d,T),p=e.stars+(r||0),g=B((0,h.Kk)(F,p));if(c){const e=(0,l.PVB)(v,o),n=u?.id===t,r=e&&(0,a.F9)(F,e)||q,i=(0,b.Nm)(o,r,T);return(0,b.AD)(F,"ActionStarGiftSentChannel",n,{user:f,channel:i,cost:g})}return _?F("ActionStarGiftReceivedAnonymous",{cost:g},{withNodes:!0}):w?F("ActionStarGiftSelfBought",{cost:g},{withNodes:!0}):R?F("ActionStarGiftSent",{cost:g},{withNodes:!0}):F("ActionStarGiftReceived",{user:H,cost:g},{withNodes:!0})}case"starGiftUnique":{const{isTransferred:e,isUpgrade:r,savedId:o,peerId:s,fromId:c,resaleAmount:u,gift:d}=N,p=Boolean(s&&o),g=c?(0,l.PVB)(v,c):n,m=g&&(0,a.F9)(F,g)||z,y=(0,b.Nm)(g?.id,m,T);if(u){const e=u.currency===i.ykW?(0,h.QH)(F,(0,f.wD)(u.amount)):(0,h.Kk)(F,u.amount);return F(R?"ApiMessageMessageActionResaleStarGiftUniqueOutgoing":"ApiMessageMessageActionResaleStarGiftUniqueIncoming",{gift:F("GiftUnique",{title:d.title,number:d.number}),stars:B(e)},{withNodes:!0})}if(p){const n=(0,l.PVB)(v,s),o=g?.id===t,c=g?.id===i.zv8,u=n&&(0,a.F9)(F,n)||q,d=(0,b.Nm)(s,u,T);if(r)return(0,b.AD)(F,"ActionStarGiftUpgradedChannel",o,{user:y,channel:d});if(e)return c?F("ActionStarGiftTransferredUnknownChannel",{channel:d},{withNodes:!0}):(0,b.AD)(F,"ActionStarGiftTransferredChannel",o,{user:y,channel:d})}if(w){if(r)return F("ActionStarGiftUpgradedSelf");if(e)return F("ActionStarGiftTransferredSelf")}return r?R?F("ActionStarGiftUpgradedMine",{user:G},{withNodes:!0}):w?F("ActionStarGiftUpgradedSelf"):F("ActionStarGiftUpgradedUser",{user:H},{withNodes:!0}):e?n?.id===i.zv8?F("ActionStarGiftTransferredUnknown"):w?F("ActionStarGiftTransferredSelf"):R?F("ActionStarGiftTransferredMine",{user:G},{withNodes:!0}):F("ActionStarGiftTransferred",{user:H},{withNodes:!0}):R?F("ActionGiftUniqueSent"):F("ActionGiftUniqueReceived",{user:H},{withNodes:!0})}case"suggestProfilePhoto":{const e=R?c:n,t=(0,b.Nm)(e.id,(0,a.F9)(F,e)||z,T);return(0,b.AD)(F,"ActionSuggestedPhoto",R,{user:t})}case"webViewDataSent":return F("ActionWebviewDataDone",{text:N.text});case"expired":{const{isRoundVideo:e,isVoice:t}=N;return F(t?"ActionExpiredVoice":e?"ActionExpiredVideo":C)}case"historyClear":return F("ActionHistoryCleared");case"screenshotTaken":return(0,b.AD)(F,"ActionScreenshotTaken",R,{from:H});case"contactSignUp":return F("ActionUserRegistered",{from:H},{withNodes:!0});case"customAction":return N.message;case"paidMessagesPrice":{const{stars:e,isAllowedInChannel:t}=N;return 0===e?$?F(t?"ActionMessageChannelFree":"ActionMessageChannelDisabled",{peer:G},{withNodes:!0}):(0,b.AD)(F,"ActionPaidMessagePriceFree",R,{peer:H}):(0,b.AD)(F,"ActionPaidMessagePrice",R,{peer:H,amount:(0,h.Kk)(F,e)},{withMarkdown:!0})}case"paidMessagesRefunded":{const{stars:e}=N,t=(0,l.PVB)(v,D),n=t&&(0,a.F9)(F,t)||z;return F(R?"ApiMessageActionPaidMessagesRefundedOutgoing":"ApiMessageActionPaidMessagesRefundedIncoming",{stars:(0,h.Kk)(F,e),user:(0,b.Nm)(t?.id,n)},{withNodes:!0,withMarkdown:!0})}case"suggestedPostSuccess":{const{amount:e}=N,t=e?.currency||i.OUy,n=e?.amount||0,r=c?.isMonoforum?(0,l.k2W)(v,D):c,o=r&&(0,a.F9)(F,r),s=(0,b.Nm)(r?.id,o||q,T),u=t===i.ykW?(0,h.QH)(F,(0,f.wD)(n)):(0,h.Kk)(F,n);return F("ActionSuggestedPostSuccess",{channel:s,amount:u},{withNodes:!0})}case"suggestedPostRefund":{const{payerInitiated:t}=N,r="message"===e.replyInfo?.type&&e.replyInfo.replyToMsgId?(0,l.O5q)(v,D,e.replyInfo.replyToMsgId):void 0,o=r?(0,l.Y7C)(v,r):n,s=o&&(0,a.F9)(F,o),u=(0,b.Nm)(o?.id,s||z,T),d=r?.suggestedPostInfo?.price,p=d?.currency||i.OUy,g=d?.amount||0,m=c?.isMonoforum?(0,l.k2W)(v,D):c,y=m&&(0,a.F9)(F,m),_=(0,b.Nm)(m?.id,y||q,T),w=p===i.ykW?(0,h.QH)(F,(0,f.wD)(g)):(0,h.Kk)(F,g);return t?F("SuggestedPostRefundedByUser",{amount:w,user:u,channel:_},{withNodes:!0,withMarkdown:!0}):F("SuggestedPostRefundedByChannel",{amount:w,peer:u,channel:_},{withNodes:!0,withMarkdown:!0})}case"suggestedPostApproval":{const{isRejected:t,isBalanceTooLow:r,rejectComment:o}=N;if(t){const e=n&&(0,a.F9)(F,n),t=(0,b.Nm)(n?.id,e||z,T);return(0,b.AD)(F,o?"SuggestedPostRejectedWithReason":"SuggestedPostRejected",R,{peer:t},{withMarkdown:!0})}if(r){const t="message"===e.replyInfo?.type&&e.replyInfo.replyToMsgId?(0,l.O5q)(v,D,e.replyInfo.replyToMsgId):void 0,r=t?(0,l.Y7C)(v,t):n,o=r&&(0,a.F9)(F,r),s=(0,b.Nm)(r?.id,o||z,T),c=(t?.suggestedPostInfo?.price?.currency||i.OUy)===i.ykW?F("CurrencyTon"):F("CurrencyStars");return F("SuggestedPostBalanceTooLow",{peer:s,currency:c},{withNodes:!0,withMarkdown:!0})}const s=c?.isMonoforum?(0,l.k2W)(v,D):c,u=s&&(0,a.F9)(F,s),f=(0,b.Nm)(s?.id,u||q,T),{scheduleDate:h}=N;if(h){const e=(0,d.e0)(h,F,L),t=h<=(0,g.Fm)();return(0,b.AD)(F,t?"SuggestedPostPublished":"SuggestedPostPublishSchedule",R,{peer:f,date:e},{withMarkdown:!0})}return F(C)}case"todoCompletions":{const{completedIds:e,incompletedIds:t}=N;let n,r;const{todo:o}=k?(0,s.r_)(k):{};if(o){const i=o.todo.items;n=i.find(t=>e.includes(t.id)),r=i.find(e=>t.includes(e.id))}if(r){const e=r.title,t=(0,b.sB)(k,(0,y.fd)({text:e.text,entities:e.entities,asPreview:!0}),T);return(0,b.AD)(F,"MessageActionTodoCompletionsAsNotDone",R,{peer:H,task:t})}if(n){const e=n.title,t=(0,b.sB)(k,(0,y.fd)({text:e.text,entities:e.entities,asPreview:!0}),T);return(0,b.AD)(F,"MessageActionTodoCompletionsAsDone",R,{peer:H,task:t})}if(e){const t=F("MessageActionTodoTaskCount",{count:e.length},{pluralValue:e.length}),n=(0,b.sB)(k,(0,y.fd)({text:t,asPreview:!0}),T,{noEllipsis:!0});return(0,b.AD)(F,"MessageActionTodoCompletionsAsDone",R,{peer:H,task:n})}const i=F("MessageActionTodoTaskCount",{count:t.length},{pluralValue:t.length}),a=(0,b.sB)(k,(0,y.fd)({text:i,asPreview:!0}),T,{noEllipsis:!0});return(0,b.AD)(F,"MessageActionTodoCompletionsAsNotDone",R,{peer:H,task:a})}case"todoAppendTasks":{const{items:e}=N,{todo:t}=k?(0,s.r_)(k):{},n=t?.todo.title.text||"",r=(0,b.sB)(k,(0,y.fd)({text:n,asPreview:!0}),T);if(1===e.length){const t=e[0].title,n=(0,b.sB)(k,(0,y.fd)({text:t.text,entities:t.entities,asPreview:!0}),T);return(0,b.AD)(F,"MessageActionAppendTodo",R,{peer:H,task:n,list:r})}const o=F("MessageActionTodoTaskCount",{count:e.length},{pluralValue:e.length}),i=(0,b.sB)(k,(0,y.fd)({text:o,asPreview:!0}),T,{noEllipsis:!0});return(0,b.AD)(F,"MessageActionAppendTodoMultiple",R,{peer:H,tasks:i,list:r})}case"phoneCall":return F((0,b.fB)(N,R));default:return F(C)}})()}))},96939:function(e,t,n){var r,o,i;e.exports=(i=n(19021),n(57165),i.mode.CTR=(o=(r=i.lib.BlockCipherMode.extend()).Encryptor=r.extend({processBlock:function(e,t){var n=this._cipher,r=n.blockSize,o=this._iv,i=this._counter;o&&(i=this._counter=o.slice(0),this._iv=void 0);var s=i.slice(0);n.encryptBlock(s,0),i[r-1]=i[r-1]+1|0;for(var a=0;a<r;a++)e[t+a]^=s[a]}}),r.Decryptor=o,r),i.mode.CTR)},97072:(e,t,n)=>{"use strict";n.d(t,{A:()=>P});var r=n(96540),o=n(46942),i=n.n(o),s=n(62279),a=n(19853);const c=e=>{const{prefixCls:t,className:n,style:o,size:s,shape:a}=e,c=i()({[`${t}-lg`]:"large"===s,[`${t}-sm`]:"small"===s}),l=i()({[`${t}-circle`]:"circle"===a,[`${t}-square`]:"square"===a,[`${t}-round`]:"round"===a}),u=r.useMemo(()=>"number"==typeof s?{width:s,height:s,lineHeight:`${s}px`}:{},[s]);return r.createElement("span",{className:i()(t,c,l,n),style:Object.assign(Object.assign({},u),o)})};var l=n(52187),u=n(37358),d=n(14277);const f=new l.Mo("ant-skeleton-loading",{"0%":{backgroundPosition:"100% 50%"},"100%":{backgroundPosition:"0 50%"}}),h=e=>({height:e,lineHeight:(0,l.zA)(e)}),p=e=>Object.assign({width:e},h(e)),g=e=>({background:e.skeletonLoadingBackground,backgroundSize:"400% 100%",animationName:f,animationDuration:e.skeletonLoadingMotionDuration,animationTimingFunction:"ease",animationIterationCount:"infinite"}),m=(e,t)=>Object.assign({width:t(e).mul(5).equal(),minWidth:t(e).mul(5).equal()},h(e)),y=e=>{const{skeletonAvatarCls:t,gradientFromColor:n,controlHeight:r,controlHeightLG:o,controlHeightSM:i}=e;return{[t]:Object.assign({display:"inline-block",verticalAlign:"top",background:n},p(r)),[`${t}${t}-circle`]:{borderRadius:"50%"},[`${t}${t}-lg`]:Object.assign({},p(o)),[`${t}${t}-sm`]:Object.assign({},p(i))}},b=e=>{const{controlHeight:t,borderRadiusSM:n,skeletonInputCls:r,controlHeightLG:o,controlHeightSM:i,gradientFromColor:s,calc:a}=e;return{[r]:Object.assign({display:"inline-block",verticalAlign:"top",background:s,borderRadius:n},m(t,a)),[`${r}-lg`]:Object.assign({},m(o,a)),[`${r}-sm`]:Object.assign({},m(i,a))}},v=e=>Object.assign({width:e},h(e)),_=e=>{const{skeletonImageCls:t,imageSizeBase:n,gradientFromColor:r,borderRadiusSM:o,calc:i}=e;return{[t]:Object.assign(Object.assign({display:"inline-flex",alignItems:"center",justifyContent:"center",verticalAlign:"middle",background:r,borderRadius:o},v(i(n).mul(2).equal())),{[`${t}-path`]:{fill:"#bfbfbf"},[`${t}-svg`]:Object.assign(Object.assign({},v(n)),{maxWidth:i(n).mul(4).equal(),maxHeight:i(n).mul(4).equal()}),[`${t}-svg${t}-svg-circle`]:{borderRadius:"50%"}}),[`${t}${t}-circle`]:{borderRadius:"50%"}}},w=(e,t,n)=>{const{skeletonButtonCls:r}=e;return{[`${n}${r}-circle`]:{width:t,minWidth:t,borderRadius:"50%"},[`${n}${r}-round`]:{borderRadius:t}}},S=(e,t)=>Object.assign({width:t(e).mul(2).equal(),minWidth:t(e).mul(2).equal()},h(e)),x=e=>{const{borderRadiusSM:t,skeletonButtonCls:n,controlHeight:r,controlHeightLG:o,controlHeightSM:i,gradientFromColor:s,calc:a}=e;return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({[n]:Object.assign({display:"inline-block",verticalAlign:"top",background:s,borderRadius:t,width:a(r).mul(2).equal(),minWidth:a(r).mul(2).equal()},S(r,a))},w(e,r,n)),{[`${n}-lg`]:Object.assign({},S(o,a))}),w(e,o,`${n}-lg`)),{[`${n}-sm`]:Object.assign({},S(i,a))}),w(e,i,`${n}-sm`))},I=(0,u.OF)("Skeleton",e=>{const{componentCls:t,calc:n}=e;return(e=>{const{componentCls:t,skeletonAvatarCls:n,skeletonTitleCls:r,skeletonParagraphCls:o,skeletonButtonCls:i,skeletonInputCls:s,skeletonImageCls:a,controlHeight:c,controlHeightLG:l,controlHeightSM:u,gradientFromColor:d,padding:f,marginSM:h,borderRadius:m,titleHeight:v,blockRadius:w,paragraphLiHeight:S,controlHeightXS:I,paragraphMarginTop:A}=e;return{[t]:{display:"table",width:"100%",[`${t}-header`]:{display:"table-cell",paddingInlineEnd:f,verticalAlign:"top",[n]:Object.assign({display:"inline-block",verticalAlign:"top",background:d},p(c)),[`${n}-circle`]:{borderRadius:"50%"},[`${n}-lg`]:Object.assign({},p(l)),[`${n}-sm`]:Object.assign({},p(u))},[`${t}-content`]:{display:"table-cell",width:"100%",verticalAlign:"top",[r]:{width:"100%",height:v,background:d,borderRadius:w,[`+ ${o}`]:{marginBlockStart:u}},[o]:{padding:0,"> li":{width:"100%",height:S,listStyle:"none",background:d,borderRadius:w,"+ li":{marginBlockStart:I}}},[`${o}> li:last-child:not(:first-child):not(:nth-child(2))`]:{width:"61%"}},[`&-round ${t}-content`]:{[`${r}, ${o} > li`]:{borderRadius:m}}},[`${t}-with-avatar ${t}-content`]:{[r]:{marginBlockStart:h,[`+ ${o}`]:{marginBlockStart:A}}},[`${t}${t}-element`]:Object.assign(Object.assign(Object.assign(Object.assign({display:"inline-block",width:"auto"},x(e)),y(e)),b(e)),_(e)),[`${t}${t}-block`]:{width:"100%",[i]:{width:"100%"},[s]:{width:"100%"}},[`${t}${t}-active`]:{[`\n        ${r},\n        ${o} > li,\n        ${n},\n        ${i},\n        ${s},\n        ${a}\n      `]:Object.assign({},g(e))}}})((0,d.oX)(e,{skeletonAvatarCls:`${t}-avatar`,skeletonTitleCls:`${t}-title`,skeletonParagraphCls:`${t}-paragraph`,skeletonButtonCls:`${t}-button`,skeletonInputCls:`${t}-input`,skeletonImageCls:`${t}-image`,imageSizeBase:n(e.controlHeight).mul(1.5).equal(),borderRadius:100,skeletonLoadingBackground:`linear-gradient(90deg, ${e.gradientFromColor} 25%, ${e.gradientToColor} 37%, ${e.gradientFromColor} 63%)`,skeletonLoadingMotionDuration:"1.4s"}))},e=>{const{colorFillContent:t,colorFill:n}=e;return{color:t,colorGradientEnd:n,gradientFromColor:t,gradientToColor:n,titleHeight:e.controlHeight/2,blockRadius:e.borderRadiusSM,paragraphMarginTop:e.marginLG+e.marginXXS,paragraphLiHeight:e.controlHeight/2}},{deprecatedTokens:[["color","gradientFromColor"],["colorGradientEnd","gradientToColor"]]}),A=(e,t)=>{const{width:n,rows:r=2}=t;return Array.isArray(n)?n[e]:r-1===e?n:void 0},C=e=>{const{prefixCls:t,className:n,style:o,rows:s=0}=e,a=Array.from({length:s}).map((t,n)=>r.createElement("li",{key:n,style:{width:A(n,e)}}));return r.createElement("ul",{className:i()(t,n),style:o},a)},k=({prefixCls:e,className:t,width:n,style:o})=>r.createElement("h3",{className:i()(e,t),style:Object.assign({width:n},o)});function E(e){return e&&"object"==typeof e?e:{}}const T=e=>{const{prefixCls:t,loading:n,className:o,rootClassName:a,style:l,children:u,avatar:d=!1,title:f=!0,paragraph:h=!0,active:p,round:g}=e,{getPrefixCls:m,direction:y,className:b,style:v}=(0,s.TP)("skeleton"),_=m("skeleton",t),[w,S,x]=I(_);if(n||!("loading"in e)){const e=!!d,t=!!f,n=!!h;let s,u;if(e){const e=Object.assign(Object.assign({prefixCls:`${_}-avatar`},function(e,t){return e&&!t?{size:"large",shape:"square"}:{size:"large",shape:"circle"}}(t,n)),E(d));s=r.createElement("div",{className:`${_}-header`},r.createElement(c,Object.assign({},e)))}if(t||n){let o,i;if(t){const t=Object.assign(Object.assign({prefixCls:`${_}-title`},function(e,t){return!e&&t?{width:"38%"}:e&&t?{width:"50%"}:{}}(e,n)),E(f));o=r.createElement(k,Object.assign({},t))}if(n){const n=Object.assign(Object.assign({prefixCls:`${_}-paragraph`},function(e,t){const n={};return e&&t||(n.width="61%"),n.rows=!e&&t?3:2,n}(e,t)),E(h));i=r.createElement(C,Object.assign({},n))}u=r.createElement("div",{className:`${_}-content`},o,i)}const m=i()(_,{[`${_}-with-avatar`]:e,[`${_}-active`]:p,[`${_}-rtl`]:"rtl"===y,[`${_}-round`]:g},b,o,a,S,x);return w(r.createElement("div",{className:m,style:Object.assign(Object.assign({},v),l)},s,u))}return null!=u?u:null};T.Button=e=>{const{prefixCls:t,className:n,rootClassName:o,active:l,block:u=!1,size:d="default"}=e,{getPrefixCls:f}=r.useContext(s.QO),h=f("skeleton",t),[p,g,m]=I(h),y=(0,a.A)(e,["prefixCls"]),b=i()(h,`${h}-element`,{[`${h}-active`]:l,[`${h}-block`]:u},n,o,g,m);return p(r.createElement("div",{className:b},r.createElement(c,Object.assign({prefixCls:`${h}-button`,size:d},y))))},T.Avatar=e=>{const{prefixCls:t,className:n,rootClassName:o,active:l,shape:u="circle",size:d="default"}=e,{getPrefixCls:f}=r.useContext(s.QO),h=f("skeleton",t),[p,g,m]=I(h),y=(0,a.A)(e,["prefixCls","className"]),b=i()(h,`${h}-element`,{[`${h}-active`]:l},n,o,g,m);return p(r.createElement("div",{className:b},r.createElement(c,Object.assign({prefixCls:`${h}-avatar`,shape:u,size:d},y))))},T.Input=e=>{const{prefixCls:t,className:n,rootClassName:o,active:l,block:u,size:d="default"}=e,{getPrefixCls:f}=r.useContext(s.QO),h=f("skeleton",t),[p,g,m]=I(h),y=(0,a.A)(e,["prefixCls"]),b=i()(h,`${h}-element`,{[`${h}-active`]:l,[`${h}-block`]:u},n,o,g,m);return p(r.createElement("div",{className:b},r.createElement(c,Object.assign({prefixCls:`${h}-input`,size:d},y))))},T.Image=e=>{const{prefixCls:t,className:n,rootClassName:o,style:a,active:c}=e,{getPrefixCls:l}=r.useContext(s.QO),u=l("skeleton",t),[d,f,h]=I(u),p=i()(u,`${u}-element`,{[`${u}-active`]:c},n,o,f,h);return d(r.createElement("div",{className:p},r.createElement("div",{className:i()(`${u}-image`,n),style:a},r.createElement("svg",{viewBox:"0 0 1098 1024",xmlns:"http://www.w3.org/2000/svg",className:`${u}-image-svg`},r.createElement("title",null,"Image placeholder"),r.createElement("path",{d:"M365.714286 329.142857q0 45.714286-32.036571 77.677714t-77.677714 32.036571-77.677714-32.036571-32.036571-77.677714 32.036571-77.677714 77.677714-32.036571 77.677714 32.036571 32.036571 77.677714zM950.857143 548.571429l0 256-804.571429 0 0-109.714286 182.857143-182.857143 91.428571 91.428571 292.571429-292.571429zM1005.714286 146.285714l-914.285714 0q-7.460571 0-12.873143 5.412571t-5.412571 12.873143l0 694.857143q0 7.460571 5.412571 12.873143t12.873143 5.412571l914.285714 0q7.460571 0 12.873143-5.412571t5.412571-12.873143l0-694.857143q0-7.460571-5.412571-12.873143t-12.873143-5.412571zM1097.142857 164.571429l0 694.857143q0 37.741714-26.843429 64.585143t-64.585143 26.843429l-914.285714 0q-37.741714 0-64.585143-26.843429t-26.843429-64.585143l0-694.857143q0-37.741714 26.843429-64.585143t64.585143-26.843429l914.285714 0q37.741714 0 64.585143 26.843429t26.843429 64.585143z",className:`${u}-image-path`})))))},T.Node=e=>{const{prefixCls:t,className:n,rootClassName:o,style:a,active:c,children:l}=e,{getPrefixCls:u}=r.useContext(s.QO),d=u("skeleton",t),[f,h,p]=I(d),g=i()(d,`${d}-element`,{[`${d}-active`]:c},h,n,o,p);return f(r.createElement("div",{className:g},r.createElement("div",{className:i()(`${d}-image`,n),style:a},l)))};const P=T},97676:(e,t,n)=>{"use strict";n.d(t,{J:()=>g});var r=n(25279),o=n(13439),i=n(31481),s=n(72531),a=n(60048),c=n(48862),l=n(95547),u=n(77787),d=n(81120),f=n(40708);function h(e,t,n){return(t=function(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class p{constructor(){h(this,"pendingMessages",[]),h(this,"timmer",void 0),h(this,"orderedIds",[])}initTask(){this.timmer&&clearInterval(this.timmer),this.timmer=setInterval(()=>{const{subscriptionInfo:e}=(0,o.mS)();"plus"!==e.subscriptionType&&"pro"!==e.subscriptionType||e.isExpirated||this.checkUrgentMessage()},3e5),this.orderedIds=(0,a.YA)(i.DSF)||[]}static getTextWithoutEntities(e,t){const n=t.map(e=>({start:e.offset,length:e.length})).sort((e,t)=>t.start-e.start);for(const{start:t,length:r}of n)e=e.slice(0,t)+e.slice(t+r);return e}checkUrgentMessage(){if(!this.pendingMessages.length)return;const{urgent_info:e}=c.Hk.telegptSettings;if(!e?.length)return;const t=this.pendingMessages.map(e=>({chatId:e.chatId,senderId:e.senderId,messageId:e.id,content:e.content.text?.text})),n=(0,o.mS)(),{autoTranslateLanguage:i="en"}=n.settings.byKey;(0,d.FQ)({messages:t,urgentTopics:e,language:new Intl.DisplayNames([i],{type:"language"}).of(i)}).then(t=>{console.log("urgent check response",t);const n=t?.data||[];if(n.length>0){const t={timestamp:(new Date).getTime(),content:JSON.stringify(n),id:(0,r.A)(),createdAt:new Date,role:"assistant",annotations:[{type:"urgent-message-check"}]};u.zs.summary?.storeMessage(t),s.A.emit(s.E.AddUrgentMessage,t),l.default.increaseUnreadCount(f.bL);try{const t=e.find(e=>e.is_call),{phone:n}=c.Hk.telegptSettings;t&&n&&(0,d.a3)(n)}catch(e){console.log("error",e)}}}),this.clearPendingMessages()}updateUrgentChats(e){this.pendingMessages=this.pendingMessages.filter(t=>e.includes(t.chatId))}addNewMessage(e){const{ignored_urgent_chat_ids:t}=c.Hk.telegptSettings,n=(0,c.rB)(t);this.orderedIds.filter(e=>!n.includes(e)).includes(e.chatId)&&this.pendingMessages.push(e)}clearPendingMessages(){this.pendingMessages=[]}getPendingMessages(){return this.pendingMessages}static getInstance(){return p.instance||(p.instance=new p),p.instance}}h(p,"instance",void 0);const g=p.getInstance()},98015:(e,t,n)=>{"use strict";e.exports=n.p+"chat_ai_folder.1b8cbbec5659cdf8d995.png"},98119:(e,t,n)=>{"use strict";n.d(t,{A:()=>s,X:()=>i});var r=n(96540);const o=r.createContext(!1),i=({children:e,disabled:t})=>{const n=r.useContext(o);return r.createElement(o.Provider,{value:null!=t?t:n},e)},s=o},98221:(e,t,n)=>{"use strict";n.d(t,{A:()=>s,a:()=>i});const r=/\uFE0F/g,o=String.fromCharCode(8205);function i(e){return e.indexOf(o)<0?e.replace(r,""):e}const s=/(?:\ud83c[\udd70\udd71\udd7e\udd7f]\ufe0f)|(?:\ud83d\udc68\ud83c\udffb\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udffc\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udffd\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udffe\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udfff\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffb\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffb\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffc\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffc\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffd\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffd\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffe\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffe\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udfff\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udfff\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83e\uddd1\ud83c\udffb\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83e\uddd1\ud83c[\udffc-\udfff]|\ud83e\uddd1\ud83c\udffc\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83e\uddd1\ud83c[\udffb\udffd-\udfff]|\ud83e\uddd1\ud83c\udffd\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83e\uddd1\ud83c[\udffb\udffc\udffe\udfff]|\ud83e\uddd1\ud83c\udffe\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83e\uddd1\ud83c[\udffb-\udffd\udfff]|\ud83e\uddd1\ud83c\udfff\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83e\uddd1\ud83c[\udffb-\udffe]|\ud83d\udc68\ud83c\udffb\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udffb\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffc-\udfff]|\ud83d\udc68\ud83c\udffc\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udffc\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb\udffd-\udfff]|\ud83d\udc68\ud83c\udffd\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udffd\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb\udffc\udffe\udfff]|\ud83d\udc68\ud83c\udffe\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udffe\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb-\udffd\udfff]|\ud83d\udc68\ud83c\udfff\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udfff\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb-\udffe]|\ud83d\udc69\ud83c\udffb\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffb\u200d\u2764\ufe0f\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffb\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffc-\udfff]|\ud83d\udc69\ud83c\udffb\u200d\ud83e\udd1d\u200d\ud83d\udc69\ud83c[\udffc-\udfff]|\ud83d\udc69\ud83c\udffc\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffc\u200d\u2764\ufe0f\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffc\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb\udffd-\udfff]|\ud83d\udc69\ud83c\udffc\u200d\ud83e\udd1d\u200d\ud83d\udc69\ud83c[\udffb\udffd-\udfff]|\ud83d\udc69\ud83c\udffd\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffd\u200d\u2764\ufe0f\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffd\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb\udffc\udffe\udfff]|\ud83d\udc69\ud83c\udffd\u200d\ud83e\udd1d\u200d\ud83d\udc69\ud83c[\udffb\udffc\udffe\udfff]|\ud83d\udc69\ud83c\udffe\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffe\u200d\u2764\ufe0f\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffe\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb-\udffd\udfff]|\ud83d\udc69\ud83c\udffe\u200d\ud83e\udd1d\u200d\ud83d\udc69\ud83c[\udffb-\udffd\udfff]|\ud83d\udc69\ud83c\udfff\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udfff\u200d\u2764\ufe0f\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udfff\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb-\udffe]|\ud83d\udc69\ud83c\udfff\u200d\ud83e\udd1d\u200d\ud83d\udc69\ud83c[\udffb-\udffe]|\ud83e\uddd1\ud83c\udffb\u200d\u2764\ufe0f\u200d\ud83e\uddd1\ud83c[\udffc-\udfff]|\ud83e\uddd1\ud83c\udffb\u200d\ud83e\udd1d\u200d\ud83e\uddd1\ud83c[\udffb-\udfff]|\ud83e\uddd1\ud83c\udffc\u200d\u2764\ufe0f\u200d\ud83e\uddd1\ud83c[\udffb\udffd-\udfff]|\ud83e\uddd1\ud83c\udffc\u200d\ud83e\udd1d\u200d\ud83e\uddd1\ud83c[\udffb-\udfff]|\ud83e\uddd1\ud83c\udffd\u200d\u2764\ufe0f\u200d\ud83e\uddd1\ud83c[\udffb\udffc\udffe\udfff]|\ud83e\uddd1\ud83c\udffd\u200d\ud83e\udd1d\u200d\ud83e\uddd1\ud83c[\udffb-\udfff]|\ud83e\uddd1\ud83c\udffe\u200d\u2764\ufe0f\u200d\ud83e\uddd1\ud83c[\udffb-\udffd\udfff]|\ud83e\uddd1\ud83c\udffe\u200d\ud83e\udd1d\u200d\ud83e\uddd1\ud83c[\udffb-\udfff]|\ud83e\uddd1\ud83c\udfff\u200d\u2764\ufe0f\u200d\ud83e\uddd1\ud83c[\udffb-\udffe]|\ud83e\uddd1\ud83c\udfff\u200d\ud83e\udd1d\u200d\ud83e\uddd1\ud83c[\udffb-\udfff]|\ud83d\udc68\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68|\ud83d\udc69\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d[\udc68\udc69]|\ud83e\udef1\ud83c\udffb\u200d\ud83e\udef2\ud83c[\udffc-\udfff]|\ud83e\udef1\ud83c\udffc\u200d\ud83e\udef2\ud83c[\udffb\udffd-\udfff]|\ud83e\udef1\ud83c\udffd\u200d\ud83e\udef2\ud83c[\udffb\udffc\udffe\udfff]|\ud83e\udef1\ud83c\udffe\u200d\ud83e\udef2\ud83c[\udffb-\udffd\udfff]|\ud83e\udef1\ud83c\udfff\u200d\ud83e\udef2\ud83c[\udffb-\udffe]|\ud83d\udc68\u200d\u2764\ufe0f\u200d\ud83d\udc68|\ud83d\udc69\u200d\u2764\ufe0f\u200d\ud83d[\udc68\udc69]|\ud83e\uddd1\u200d\ud83e\udd1d\u200d\ud83e\uddd1|\ud83d\udc6b\ud83c[\udffb-\udfff]|\ud83d\udc6c\ud83c[\udffb-\udfff]|\ud83d\udc6d\ud83c[\udffb-\udfff]|\ud83d\udc8f\ud83c[\udffb-\udfff]|\ud83d\udc91\ud83c[\udffb-\udfff]|\ud83e\udd1d\ud83c[\udffb-\udfff]|\ud83d[\udc6b-\udc6d\udc8f\udc91]|\ud83e\udd1d)|(?:\ud83d[\udc68\udc69]|\ud83e\uddd1)(?:\ud83c[\udffb-\udfff])?\u200d(?:\u2695\ufe0f|\u2696\ufe0f|\u2708\ufe0f|\ud83c[\udf3e\udf73\udf7c\udf84\udf93\udfa4\udfa8\udfeb\udfed]|\ud83d[\udcbb\udcbc\udd27\udd2c\ude80\ude92]|\ud83e[\uddaf-\uddb3\uddbc\uddbd])(?:\u200d\u27a1\ufe0f)?|(?:\ud83c[\udfcb\udfcc]|\ud83d[\udd74\udd75]|\u26f9)((?:\ud83c[\udffb-\udfff]|\ufe0f)\u200d[\u2640\u2642]\ufe0f(?:\u200d\u27a1\ufe0f)?)|(?:\ud83c[\udfc3\udfc4\udfca]|\ud83d[\udc6e\udc70\udc71\udc73\udc77\udc81\udc82\udc86\udc87\ude45-\ude47\ude4b\ude4d\ude4e\udea3\udeb4-\udeb6]|\ud83e[\udd26\udd35\udd37-\udd39\udd3d\udd3e\uddb8\uddb9\uddcd-\uddcf\uddd4\uddd6-\udddd])(?:\ud83c[\udffb-\udfff])?\u200d[\u2640\u2642]\ufe0f(?:\u200d\u27a1\ufe0f)?|(?:\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83e\uddd1\u200d\ud83e\uddd1\u200d\ud83e\uddd2\u200d\ud83e\uddd2|\ud83d\udc68\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc68\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d[\udc66\udc67]|\ud83e\uddd1\u200d\ud83e\uddd1\u200d\ud83e\uddd2|\ud83e\uddd1\u200d\ud83e\uddd2\u200d\ud83e\uddd2|\ud83c\udff3\ufe0f\u200d\u26a7\ufe0f|\ud83c\udff3\ufe0f\u200d\ud83c\udf08|\ud83d\ude36\u200d\ud83c\udf2b\ufe0f|\u26d3\ufe0f\u200d\ud83d\udca5|\u2764\ufe0f\u200d\ud83d\udd25|\u2764\ufe0f\u200d\ud83e\ude79|\ud83c\udf44\u200d\ud83d\udfeb|\ud83c\udf4b\u200d\ud83d\udfe9|\ud83c\udff4\u200d\u2620\ufe0f|\ud83d\udc15\u200d\ud83e\uddba|\ud83d\udc26\u200d\ud83d\udd25|\ud83d\udc3b\u200d\u2744\ufe0f|\ud83d\udc41\u200d\ud83d\udde8|\ud83d\udc68\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\ud83d[\udc66\udc67]|\ud83d\udc6f\u200d\u2640\ufe0f|\ud83d\udc6f\u200d\u2642\ufe0f|\ud83d\ude2e\u200d\ud83d\udca8|\ud83d\ude35\u200d\ud83d\udcab|\ud83d\ude42\u200d\u2194\ufe0f|\ud83d\ude42\u200d\u2195\ufe0f|\ud83e\udd3c\u200d\u2640\ufe0f|\ud83e\udd3c\u200d\u2642\ufe0f|\ud83e\uddd1\u200d\ud83e\uddd2|\ud83e\uddde\u200d\u2640\ufe0f|\ud83e\uddde\u200d\u2642\ufe0f|\ud83e\udddf\u200d\u2640\ufe0f|\ud83e\udddf\u200d\u2642\ufe0f|\ud83d\udc08\u200d\u2b1b|\ud83d\udc26\u200d\u2b1b)|[#*0-9]\ufe0f?\u20e3|(?:[©®\u2122\u265f]\ufe0f)|(?:\ud83c[\udc04\ude02\ude1a\ude2f\ude37\udf21\udf24-\udf2c\udf36\udf7d\udf96\udf97\udf99-\udf9b\udf9e\udf9f\udfcd\udfce\udfd4-\udfdf\udff3\udff5\udff7]|\ud83d[\udc3f\udc41\udcfd\udd49\udd4a\udd6f\udd70\udd73\udd76-\udd79\udd87\udd8a-\udd8d\udda5\udda8\uddb1\uddb2\uddbc\uddc2-\uddc4\uddd1-\uddd3\udddc-\uddde\udde1\udde3\udde8\uddef\uddf3\uddfa\udecb\udecd-\udecf\udee0-\udee5\udee9\udef0\udef3]|[\u203c\u2049\u2139\u2194-\u2199\u21a9\u21aa\u231a\u231b\u2328\u23cf\u23ed-\u23ef\u23f1\u23f2\u23f8-\u23fa\u24c2\u25aa\u25ab\u25b6\u25c0\u25fb-\u25fe\u2600-\u2604\u260e\u2611\u2614\u2615\u2618\u2620\u2622\u2623\u2626\u262a\u262e\u262f\u2638-\u263a\u2640\u2642\u2648-\u2653\u2660\u2663\u2665\u2666\u2668\u267b\u267f\u2692-\u2697\u2699\u269b\u269c\u26a0\u26a1\u26a7\u26aa\u26ab\u26b0\u26b1\u26bd\u26be\u26c4\u26c5\u26c8\u26cf\u26d1\u26d3\u26d4\u26e9\u26ea\u26f0-\u26f5\u26f8\u26fa\u26fd\u2702\u2708\u2709\u270f\u2712\u2714\u2716\u271d\u2721\u2733\u2734\u2744\u2747\u2757\u2763\u2764\u27a1\u2934\u2935\u2b05-\u2b07\u2b1b\u2b1c\u2b50\u2b55\u3030\u303d\u3297\u3299])(?:\ufe0f|(?!\ufe0e))|(?:(?:\ud83c[\udfcb\udfcc]|\ud83d[\udd74\udd75\udd90]|\ud83e\udef0|[\u261d\u26f7\u26f9\u270c\u270d])(?:\ufe0f|(?!\ufe0e))|(?:\ud83c\udfc3|\ud83d\udeb6|\ud83e\uddce)(?:\ud83c[\udffb-\udfff])?(?:\u200d\u27a1\ufe0f)?|(?:\ud83c[\udf85\udfc2\udfc4\udfc7\udfca]|\ud83d[\udc42\udc43\udc46-\udc50\udc66-\udc69\udc6e\udc70-\udc78\udc7c\udc81-\udc83\udc85-\udc87\udcaa\udd7a\udd95\udd96\ude45-\ude47\ude4b-\ude4f\udea3\udeb4\udeb5\udec0\udecc]|\ud83e[\udd0c\udd0f\udd18-\udd1c\udd1e\udd1f\udd26\udd30-\udd39\udd3d\udd3e\udd77\uddb5\uddb6\uddb8\uddb9\uddbb\uddcd\uddcf\uddd1-\udddd\udec3-\udec5\udef1-\udef8]|[\u270a\u270b]))(?:\ud83c[\udffb-\udfff])?|(?:\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc65\udb40\udc6e\udb40\udc67\udb40\udc7f|\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc73\udb40\udc63\udb40\udc74\udb40\udc7f|\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc77\udb40\udc6c\udb40\udc73\udb40\udc7f|\ud83c\udde6\ud83c[\udde8-\uddec\uddee\uddf1\uddf2\uddf4\uddf6-\uddfa\uddfc\uddfd\uddff]|\ud83c\udde7\ud83c[\udde6\udde7\udde9-\uddef\uddf1-\uddf4\uddf6-\uddf9\uddfb\uddfc\uddfe\uddff]|\ud83c\udde8\ud83c[\udde6\udde8\udde9\uddeb-\uddee\uddf0-\uddf7\uddfa-\uddff]|\ud83c\udde9\ud83c[\uddea\uddec\uddef\uddf0\uddf2\uddf4\uddff]|\ud83c\uddea\ud83c[\udde6\udde8\uddea\uddec\udded\uddf7-\uddfa]|\ud83c\uddeb\ud83c[\uddee-\uddf0\uddf2\uddf4\uddf7]|\ud83c\uddec\ud83c[\udde6\udde7\udde9-\uddee\uddf1-\uddf3\uddf5-\uddfa\uddfc\uddfe]|\ud83c\udded\ud83c[\uddf0\uddf2\uddf3\uddf7\uddf9\uddfa]|\ud83c\uddee\ud83c[\udde8-\uddea\uddf1-\uddf4\uddf6-\uddf9]|\ud83c\uddef\ud83c[\uddea\uddf2\uddf4\uddf5]|\ud83c\uddf0\ud83c[\uddea\uddec-\uddee\uddf2\uddf3\uddf5\uddf7\uddfc\uddfe\uddff]|\ud83c\uddf1\ud83c[\udde6-\udde8\uddee\uddf0\uddf7-\uddfb\uddfe]|\ud83c\uddf2\ud83c[\udde6\udde8-\udded\uddf0-\uddff]|\ud83c\uddf3\ud83c[\udde6\udde8\uddea-\uddec\uddee\uddf1\uddf4\uddf5\uddf7\uddfa\uddff]|\ud83c\uddf4\ud83c\uddf2|\ud83c\uddf5\ud83c[\udde6\uddea-\udded\uddf0-\uddf3\uddf7-\uddf9\uddfc\uddfe]|\ud83c\uddf6\ud83c\udde6|\ud83c\uddf7\ud83c[\uddea\uddf4\uddf8\uddfa\uddfc]|\ud83c\uddf8\ud83c[\udde6-\uddea\uddec-\uddf4\uddf7-\uddf9\uddfb\uddfd-\uddff]|\ud83c\uddf9\ud83c[\udde6\udde8\udde9\uddeb-\udded\uddef-\uddf4\uddf7\uddf9\uddfb\uddfc\uddff]|\ud83c\uddfa\ud83c[\udde6\uddec\uddf2\uddf3\uddf8\uddfe\uddff]|\ud83c\uddfb\ud83c[\udde6\udde8\uddea\uddec\uddee\uddf3\uddfa]|\ud83c\uddfc\ud83c[\uddeb\uddf8]|\ud83c\uddfd\ud83c\uddf0|\ud83c\uddfe\ud83c[\uddea\uddf9]|\ud83c\uddff\ud83c[\udde6\uddf2\uddfc]|\ud83c[\udccf\udd8e\udd91-\udd9a\udde6-\uddff\ude01\ude32-\ude36\ude38-\ude3a\ude50\ude51\udf00-\udf20\udf2d-\udf35\udf37-\udf7c\udf7e-\udf84\udf86-\udf93\udfa0-\udfc1\udfc5\udfc6\udfc8\udfc9\udfcf-\udfd3\udfe0-\udff0\udff4\udff8-\udfff]|\ud83d[\udc00-\udc3e\udc40\udc44\udc45\udc51-\udc65\udc6a\udc6f\udc79-\udc7b\udc7d-\udc80\udc84\udc88-\udc8e\udc90\udc92-\udca9\udcab-\udcfc\udcff-\udd3d\udd4b-\udd4e\udd50-\udd67\udda4\uddfb-\ude44\ude48-\ude4a\ude80-\udea2\udea4-\udeb3\udeb7-\udebf\udec1-\udec5\uded0-\uded2\uded5-\uded7\udedc-\udedf\udeeb\udeec\udef4-\udefc\udfe0-\udfeb\udff0]|\ud83e[\udd0d\udd0e\udd10-\udd17\udd20-\udd25\udd27-\udd2f\udd3a\udd3c\udd3f-\udd45\udd47-\udd76\udd78-\uddb4\uddb7\uddba\uddbc-\uddcc\uddd0\uddde-\uddff\ude70-\ude7c\ude80-\ude89\ude8f-\udec2\udec6\udece-\udedc\udedf-\udee9]|[\u23e9-\u23ec\u23f0\u23f3\u267e\u26ce\u2705\u2728\u274c\u274e\u2753-\u2755\u2795-\u2797\u27b0\u27bf\ue50a])|\ufe0f/g},98255:(e,t,n)=>{"use strict";n.d(t,{A:()=>c});var r=n(37932),o=n(13439),i=n(22237),s=n(35297);const a=new Map;(0,r.DW)(e=>{for(const[t,{setter:n}]of a)n(t(e))});const c=function(e){let t=a.get(e);if(!t){const[n,r]=(0,i.n5)(e((0,o.mS)()));t={clientsCount:0,getter:n,setter:r},a.set(e,t)}return(0,s.A)(()=>{const t=a.get(e);return t.clientsCount++,()=>{t.clientsCount--,t.clientsCount||a.delete(e)}},[e]),t.getter}},98607:(e,t,n)=>{"use strict";function r(e,t,n){const r=e.split(t),[o,...i]=r;return i.reduce((e,t)=>e.concat(n,t),[o]).filter(Boolean)}function o(e,t,n){return e.flatMap(e=>"string"==typeof e?r(e,t,n):e,[])}n.d(t,{i:()=>r,t:()=>o})},99077:(e,t,n)=>{"use strict";n.d(t,{aB:()=>f});var r=n(52187),o=n(14980);const i=new r.Mo("antZoomIn",{"0%":{transform:"scale(0.2)",opacity:0},"100%":{transform:"scale(1)",opacity:1}}),s=new r.Mo("antZoomOut",{"0%":{transform:"scale(1)"},"100%":{transform:"scale(0.2)",opacity:0}}),a=new r.Mo("antZoomBigIn",{"0%":{transform:"scale(0.8)",opacity:0},"100%":{transform:"scale(1)",opacity:1}}),c=new r.Mo("antZoomBigOut",{"0%":{transform:"scale(1)"},"100%":{transform:"scale(0.8)",opacity:0}}),l=new r.Mo("antZoomUpIn",{"0%":{transform:"scale(0.8)",transformOrigin:"50% 0%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"50% 0%"}}),u=new r.Mo("antZoomUpOut",{"0%":{transform:"scale(1)",transformOrigin:"50% 0%"},"100%":{transform:"scale(0.8)",transformOrigin:"50% 0%",opacity:0}}),d={zoom:{inKeyframes:i,outKeyframes:s},"zoom-big":{inKeyframes:a,outKeyframes:c},"zoom-big-fast":{inKeyframes:a,outKeyframes:c},"zoom-left":{inKeyframes:new r.Mo("antZoomLeftIn",{"0%":{transform:"scale(0.8)",transformOrigin:"0% 50%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"0% 50%"}}),outKeyframes:new r.Mo("antZoomLeftOut",{"0%":{transform:"scale(1)",transformOrigin:"0% 50%"},"100%":{transform:"scale(0.8)",transformOrigin:"0% 50%",opacity:0}})},"zoom-right":{inKeyframes:new r.Mo("antZoomRightIn",{"0%":{transform:"scale(0.8)",transformOrigin:"100% 50%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"100% 50%"}}),outKeyframes:new r.Mo("antZoomRightOut",{"0%":{transform:"scale(1)",transformOrigin:"100% 50%"},"100%":{transform:"scale(0.8)",transformOrigin:"100% 50%",opacity:0}})},"zoom-up":{inKeyframes:l,outKeyframes:u},"zoom-down":{inKeyframes:new r.Mo("antZoomDownIn",{"0%":{transform:"scale(0.8)",transformOrigin:"50% 100%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"50% 100%"}}),outKeyframes:new r.Mo("antZoomDownOut",{"0%":{transform:"scale(1)",transformOrigin:"50% 100%"},"100%":{transform:"scale(0.8)",transformOrigin:"50% 100%",opacity:0}})}},f=(e,t)=>{const{antCls:n}=e,r=`${n}-${t}`,{inKeyframes:i,outKeyframes:s}=d[t];return[(0,o.b)(r,i,s,"zoom-big-fast"===t?e.motionDurationFast:e.motionDurationMid),{[`\n        ${r}-enter,\n        ${r}-appear\n      `]:{transform:"scale(0)",opacity:0,animationTimingFunction:e.motionEaseOutCirc,"&-prepare":{transform:"none"}},[`${r}-leave`]:{animationTimingFunction:e.motionEaseInOutCirc}}]}},99375:(e,t,n)=>{"use strict";n.d(t,{Ay:()=>a,Dd:()=>l,zr:()=>c});var r=n(31481);const o={CHAT_RESTRICTED:"You can't send messages in this chat, you were restricted",CHAT_SEND_POLL_FORBIDDEN:"You can't create polls in this chat",CHAT_SEND_STICKERS_FORBIDDEN:"You can't send stickers in this chat",CHAT_SEND_GIFS_FORBIDDEN:"You can't send gifs in this chat",CHAT_SEND_MEDIA_FORBIDDEN:"You can't send media in this chat",CHAT_LINK_EXISTS:"The chat is public, you can't hide the history to new users",SLOWMODE_WAIT_X:"Slowmode is enabled in this chat: you must wait for the specified number of seconds before sending another message to the chat.",USER_BANNED_IN_CHANNEL:"You're banned from sending messages in supergroups / channels",USER_IS_BLOCKED:"You were blocked by this user",YOU_BLOCKED_USER:"You blocked this user",IMAGE_PROCESS_FAILED:"Failure while processing image",MEDIA_EMPTY:"The provided media object is invalid",MEDIA_GROUPED_INVALID:"Failed to replace album media",MEDIA_NEW_INVALID:"Failed to replace new media",MESSAGE_NOT_MODIFIED:"Message not modified. The new content is identical to the current one.",MEDIA_INVALID:"Media invalid",PASSWORD_HASH_INVALID:"Incorrect password",PHOTO_EXT_INVALID:"The extension of the photo is invalid",PHOTO_INVALID_DIMENSIONS:"The photo dimensions are invalid",PHOTO_SAVE_FILE_INVALID:"Internal issues, try again later",MESSAGE_DELETE_FORBIDDEN:"You can't delete one of the messages you tried to delete, most likely because it is a service message.",MESSAGE_POLL_CLOSED:"Poll closed",MESSAGE_EDIT_TIME_EXPIRED:"You can't edit this message anymore.",PINNED_DIALOGS_TOO_MUCH:"Sorry, you can only pin 5 chats to the top",CHANNEL_PRIVATE:"This channel is private",MEDIA_CAPTION_TOO_LONG:"The provided caption is too long",ADDRESS_STREET_LINE1_INVALID:"The address you provided is not valid",ADDRESS_STREET_LINE2_INVALID:"The address you provided is not valid",ADDRESS_CITY_INVALID:"The city you provided is not valid",ADDRESS_COUNTRY_INVALID:"The country you provided is not valid",ADDRESS_POSTCODE_INVALID:"The postcode you provided is not valid",ADDRESS_STATE_INVALID:"The state you provided is not valid",REQ_INFO_NAME_INVALID:"The name you provided is not valid",REQ_INFO_PHONE_INVALID:"The phone you provided is not valid",REQ_INFO_EMAIL_INVALID:"The email you provided is not valid",LINK_NOT_MODIFIED:"This discussion is already linked to the channel",MESSAGE_TOO_LONG:"Message is too long",SERVICE_WORKER_DISABLED:"Service Worker is disabled. Streaming media may not be supported. Try reloading the page without holding <Shift> key",MESSAGE_TOO_LONG_PLEASE_REMOVE_CHARACTERS:"The provided message is too long. Please remove {EXTRA_CHARS_COUNT} character{PLURAL_S}.",FRESH_RESET_AUTHORISATION_FORBIDDEN:"You can’t logout other sessions if less than 24 hours have passed since you logged on the current session",BOTS_TOO_MUCH:"There are too many bots in this chat/channel",BOT_GROUPS_BLOCKED:"This bot can't be added to groups",USERS_TOO_MUCH:"The maximum number of users has been exceeded",USER_CHANNELS_TOO_MUCH:"One of the users you tried to add is already in too many channels/supergroups",USER_KICKED:"This user was kicked from this supergroup/channel",USER_NOT_MUTUAL_CONTACT:"The provided user is not a mutual contact",USER_PRIVACY_RESTRICTED:"The user's privacy settings do not allow you to do this",INVITE_HASH_EMPTY:"The invite hash is empty",INVITE_HASH_EXPIRED:"The invite link has expired",INVITE_HASH_INVALID:"The invite hash is invalid",CHANNELS_TOO_MUCH:"You have joined too many channels/supergroups",USER_ALREADY_PARTICIPANT:"You already in the group",SCHEDULE_DATE_INVALID:"Invalid schedule date provided",WALLPAPER_DIMENSIONS_INVALID:"The wallpaper dimensions are invalid, please select another file",ADMINS_TOO_MUCH:"There are too many admins",ADMIN_RANK_EMOJI_NOT_ALLOWED:"An admin rank cannot contain emojis",ADMIN_RANK_INVALID:"The specified admin rank is invalid",FRESH_CHANGE_ADMINS_FORBIDDEN:"You were just elected admin, you can't add or modify other admins yet",INPUT_USER_DEACTIVATED:"Can't do this action to a deleted account",BOT_PRECHECKOUT_TIMEOUT:"The request for payment has expired",PROVIDER_ACCOUNT_TIMEOUT:"Request to the payment provider has expired",STARGIFT_CONVERT_TOO_OLD:"This gift no longer can be converted to Stars",SUBSCRIPTION_ALREADY_ACTIVE:"You are already subscribed",PEERS_LIST_EMPTY:"No chats are added to the list",PAID_MEDIA_FORBIDDEN:"You can't send paid media in this chat",USER_DISALLOWED_STARGIFTS:"User is not accepting gifts"};r.Oig&&(o.CHAT_WRITE_FORBIDDEN="You can't write in this chat",o.CHAT_ADMIN_REQUIRED="You must be an admin in this chat to do this");const i={ADDRESS_STREET_LINE1_INVALID:{field:"streetLine1",message:"Incorrect street address"},ADDRESS_STREET_LINE2_INVALID:{field:"streetLine2",message:"Incorrect street address"},ADDRESS_CITY_INVALID:{field:"city",message:"Incorrect city"},ADDRESS_COUNTRY_INVALID:{field:"countryIso2",message:"Incorrect country"},ADDRESS_POSTCODE_INVALID:{field:"postCode",message:"Incorrect post code"},ADDRESS_STATE_INVALID:{field:"state",message:"Incorrect state"},REQ_INFO_NAME_INVALID:{field:"fullName",message:"Incorrect name"},REQ_INFO_PHONE_INVALID:{field:"phone",message:"Incorrect phone"},REQ_INFO_EMAIL_INVALID:{field:"email",message:"Incorrect email"}},s=new Set(["BOT_PRECHECKOUT_FAILED","PAYMENT_FAILED"]);function a(e){const{message:t,isSlowMode:n,textParams:r}=e;if(n){const e=t.indexOf(" (caused by");return e>0?t.substring(0,e):t}let i=o[t];return i&&r&&(i=Object.keys(r).reduce((e,t)=>e.replace(t,r[t]),i)),i}function c(e){return i[e.message]}function l(e){return s.has(e.message)}}},__webpack_module_cache__={},leafPrototypes,getProto,inProgress,dataWebpackPrefix;function __webpack_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var n=__webpack_module_cache__[e]={id:e,loaded:!1,exports:{}};return __webpack_modules__[e].call(n.exports,n,n.exports,__webpack_require__),n.loaded=!0,n.exports}__webpack_require__.m=__webpack_modules__,__webpack_require__.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return __webpack_require__.d(t,{a:t}),t},getProto=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,__webpack_require__.t=function(e,t){if(1&t&&(e=this(e)),8&t)return e;if("object"==typeof e&&e){if(4&t&&e.__esModule)return e;if(16&t&&"function"==typeof e.then)return e}var n=Object.create(null);__webpack_require__.r(n);var r={};leafPrototypes=leafPrototypes||[null,getProto({}),getProto([]),getProto(getProto)];for(var o=2&t&&e;("object"==typeof o||"function"==typeof o)&&!~leafPrototypes.indexOf(o);o=getProto(o))Object.getOwnPropertyNames(o).forEach(t=>r[t]=()=>e[t]);return r.default=()=>e,__webpack_require__.d(n,r),n},__webpack_require__.d=(e,t)=>{for(var n in t)__webpack_require__.o(t,n)&&!__webpack_require__.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},__webpack_require__.f={},__webpack_require__.e=e=>Promise.all(Object.keys(__webpack_require__.f).reduce((t,n)=>(__webpack_require__.f[n](e,t),t),[])),__webpack_require__.u=e=>e+"."+{26:"199ba1a6bab8fed6a1dd",46:"df02621bfa979e55eef9",59:"d8435b58cd5ef73348c0",61:"cef7e6537128c990ad0c",69:"79f301a6e6dd96bcb29d",90:"b99aa09eee2b15f02f2f",103:"f9ec81f3e9915b49f809",131:"61e48189252af5ebf1c3",138:"580c18fd4b5882397d75",194:"e812b3b2cd27e4b3139f",304:"a332eee6eab5b32870cb",313:"81d9ceb22a60d5aabdb3",356:"e74867666633c8380d3f",373:"001fcfe58cc146ab8e6f",387:"62ed4d97c7aedf3f32b5",400:"99020cbfcbf541a1b07f",405:"da04b154c0333266505e",409:"24ca10bfa7ff34b53edb",433:"686f4acfa819e1d4e817",453:"7c2c600ada72b6608c8b",482:"fcb5dd3e402b98d3e054",562:"878a4e2284b74e0bbb4c",564:"76639276cd26d9a0a3fd",633:"d2b3a5593fc9887f6b62",676:"9dd427ed284a37b964be",683:"bcf6eeea04612b534459",695:"7314011e000da1e85837",768:"b494774f676da2739e44",835:"aee3a9c4ec8a6c0b4e95",947:"28667d4c8151bce59744",970:"4cb95567a24722417e82",984:"e17a11703cd7783d3524",996:"83d923ddc5494c8a7f51",1022:"6b7b8386ede28dedbc9f",1095:"4eab9ce3e55d7eee7253",1105:"b3de4e73a181675f04de",1164:"30a5d5b18d28e16b96de",1168:"2756b77ad4a75c19c255",1184:"ddec5d29d84bb9efb8db",1215:"a39642005e6518ca1ed4",1348:"6922951b7a0009593894",1387:"71fa7acd1999eb6c068a",1401:"e4146311c4fcf10f9abc",1428:"01f151048c3cb2e55bdf",1465:"bc6c2c4b59d468eece0c",1516:"4dc7e60284a269270c55",1575:"151b26e9f23701d9d5c8",1586:"61bf60db9c5bd1065fc7",1620:"59ac6dae2d2a0d68db28",1692:"8ab139ab2ad5d398fab6",1700:"3c42e76e2e1a906792e4",1775:"37e02b4be67674299c7c",1780:"fb304b490039fd1b538c",1877:"05128749b53bd1bc2448",1930:"9241757ee90e4dde33c4",2057:"5de6bdff645d19e717ef",2158:"f0405d0094d595fe9cc8",2163:"2e75ef6c6df60234a010",2164:"ef8ae902a51fc546bbe0",2223:"cb533abb856d57ec840d",2225:"0d77a3f674dd8c426dd6",2230:"d63a9107a291e81c24fb",2394:"6f8e4cce30d84e2f89c7",2440:"f302e6cd90c348b1ad7c",2448:"ea6c6f70fb2fb325b48f",2465:"84564e2a7232164babc7",2498:"82aad63373f44834e9b2",2626:"2798430b7c0ad9ffd5a3",2651:"715e9153d6dea58b7d2f",2670:"42b53367aca6c807a135",2715:"2d2570cb4d03814dba50",2729:"f090b08c87e18a101a3c",2800:"1a3d6d2af53fe37fd8fb",2801:"1bb682947d4649cb0d34",2856:"de799a95c40f605a645e",2857:"9a8fb19b31e34a2b5974",2916:"6e34637ab97e4d9a133e",2990:"3bbad4184a5ae2060b33",3080:"8a30eab4bfbbbd5bed1b",3246:"759c5117789c7b177c38",3272:"e8b2eed1e5bbca71cbda",3325:"85cf5e18f69daf8a8cf6",3363:"69a2e8a5e5af9344506f",3405:"1bc0322bc077c5c8fca1",3499:"3fc8d84b1ffe7d89222c",3524:"9c81537a755abcd7e8a0",3564:"6c672fc678ad6c3bd991",3715:"185134c6b40bee1c8234",3731:"52d7b1ac2da18199778d",3745:"241294b66e8093c65f74",3747:"0fb11afdeb0b5464ccb4",3787:"6f96a263a0894ec25974",3813:"2eadb5e2026af3074f43",3906:"1a99f6a4f6e563638710",3981:"3c0e2d1ac56635457c86",4008:"7369d60c842f3673d7a3",4019:"0964b39da9d0d0e41411",4020:"5fbf0d31e4fb1d5a6b8a",4098:"1f2824ec58c24549f666",4102:"06eabfa92268475fcbe4",4128:"50a6b28db36a4b33349a",4134:"0b6dd6625dda1a24278b",4180:"0aa1964e43bc6d454988",4204:"3a3333648aaf5e35e5f0",4230:"cf732408e31860c5e786",4326:"9152934956ed441fcded",4336:"b1f9a7af192bc95c73cc",4383:"75d255e297af15fbe0fa",4435:"8724095949f477b6a598",4448:"20049ecd3bd18525d22d",4484:"3b26161a0eac2007b8a9",4550:"7d14bea26ef1ccc754a3",4556:"a18f7083520361361445",4765:"c33e97856183bb006d07",4785:"d5a52a4f4bfd2a027457",4917:"7506456a6e9a9ce122e2",4940:"9bd213a666f86d0465c4",5032:"b44b16ea441d05944bc1",5046:"fc2e75da12a52104ab71",5060:"7ab76cd18d7248267719",5073:"99c39b792c80b4767f95",5116:"62cea0792bf6986a5cf2",5148:"424d032f913c6cc1b3b7",5193:"5475604003d1dec2f029",5231:"3f40b761d9307e5f4353",5246:"1345b74decac981e90b9",5260:"608490c2cfb8ff56fc6e",5269:"c2137d4100eb0f91a9c9",5278:"f9f953c49aa5ad0792d3",5336:"d2d73f805a9165f42e67",5345:"e3ff197c872dd6a2b81a",5361:"b7a8e0c3019d8c845afa",5420:"4b93e5394f58ac5ad9d6",5429:"f8ac8406925f599eb95c",5434:"ba947a0eb2353fcb628f",5438:"58110d71e834691aef79",5499:"acbf6bde3aa6a5b3b2c3",5525:"e6908ad09ceadc853b20",5628:"07f3df59008fa14945b4",5719:"744ef96b86c711c1bbf5",5735:"9a34bad0c87da23b2383",5819:"d367f90a05035c59dcc6",5962:"18e2e8d2a7fbe6f6fc33",6047:"f7e66ce7cf9000c7a4d4",6058:"148ec8cd07e11c8b3500",6167:"d68f8d6c6473f2347800",6168:"74370b5fe0517aa45d4a",6241:"8eaca225058a4125f801",6265:"9b8d489a4b92d5a09be3",6272:"370552e238d49c33e7c1",6308:"01c9659321b88aedeb45",6338:"659b4849b3f2bc89039a",6438:"de0933e2fc49dcc3977b",6441:"ba623e22d1a7f6b152af",6442:"c29e6fba188d413ac03f",6473:"87c399a30464b023f3fe",6685:"ea714ab3dbd67e4ddc6b",6686:"c445ef4a60a4c2e68531",6708:"ba5ec18c9761672621b9",6726:"e53495e766743aa1ad23",6802:"da2c58458c9bd500ac4a",6827:"044a35922c3184347802",6860:"172f381388978ed11cce",6869:"a18cf461b08b62434713",6930:"930502c6b11617705735",6947:"b6d3bc6c458709f01b86",7001:"25d9c13caa2515da7417",7120:"b617c693adfffd65d73a",7244:"e078ceba8d3a51ab801b",7276:"66f1af478527fb5a12eb",7283:"8a98f7f81aa45f691b3c",7357:"904f9b007905a162bb2f",7405:"e365b20f722528dbf0d0",7408:"aa50f9b2d03e1c82c59a",7424:"7d627dd2a155690b8ed0",7487:"13a76d92549283ea550d",7499:"1b4b2b2e8ab01b1e99bb",7561:"c6855bd24dd0e035e485",7586:"149ff2c439a6708acaf5",7594:"0439e982d40abdf11325",7612:"70b4bbc97d4d21f79091",7617:"fae8d4a384a371a06d17",7688:"27494d4966607556a726",7738:"9e5657991aa3b6a8157a",7766:"5efc79282b698927b1cd",7768:"b1145ea6bb951dfad6bf",7854:"53120773e1264b38feb4",7880:"c51e75aeb5b7ff870c24",7901:"9b8c5a0d58afa0ac96b0",7939:"3006eeb49844db46e4af",7972:"ab63051a84c4108ad506",7978:"2d1c9e0b25c581b37abc",8043:"56179851f0d3e2a44fb1",8062:"2ec6164115e24cb97afd",8100:"50564de394c7442ad69b",8114:"5819e7ebb67bca8e2b68",8142:"3796624ae8eb7d8a291b",8150:"dd5a815f5c1f2cec1614",8169:"a44465d40169c465921b",8201:"6ddefd017780ed46fda9",8213:"5fb35aa4e612e48ab306",8214:"0442e0a03d2d06cd6d6c",8233:"0d9c556a14cf35c25d02",8308:"b607d30ec759ca85bbc4",8349:"4eb788be1fa97aed8046",8393:"ce5aaa44e014d6b9290e",8409:"3ee69aca93c6fe19a2cd",8590:"b0868c919d2589c6be4d",8602:"72e0db208547bfceed15",8621:"6a5f044c162ea9c4b39c",8764:"d22a8b98596032a5189c",8790:"fd8cf63ab49a3b0ce461",8804:"6169b69cc2f08775904b",8843:"e11d6336155e77c805ad",8924:"63bc2e6b4a893473d562",8980:"0844fb05e7480c46e982",9004:"bc99b60a215282750563",9030:"48beb82751809c63406c",9072:"5d4ed2b95ecbe6389995",9129:"3a1b5e338b187d7fd784",9141:"79c5d621493d00c7d806",9183:"f92ba7851bece75bac4d",9238:"5f67e12f7c0d549f3af0",9250:"0a699777a294424b954c",9287:"dae778f16038c572fcee",9295:"4ea10a64bfa0eeebfed6",9359:"bbe68b010f2cb996693f",9375:"5b1eac8c09a4ff8966c5",9451:"88e6c06dc9f443a9ef89",9533:"145d8da7c1238ce07d13",9549:"f38bcfd04a93e168e5dd",9623:"a2c03bad5976e0b630f1",9677:"6b8d0701a9b0cabc0ace",9710:"51da02acd25f29053e53",9722:"85b3606463dc6784b042",9753:"1a61ecf7caa8231899df",9761:"d897e23b0a395f366a89",9849:"39cdc00ad56e7acc3191",9869:"618f5bfe73c623854d6a",9998:"777a445ec819ab7a9750"}[e]+".js",__webpack_require__.miniCssF=e=>(({2394:"BundleCalls",4765:"shared-components",6930:"BundleStars",7405:"BundleAuth",7768:"BundleMain",9451:"BundleExtra"}[e]||e)+"."+{131:"61e48189252af5ebf1c3",1184:"ddec5d29d84bb9efb8db",2394:"6f8e4cce30d84e2f89c7",4765:"c33e97856183bb006d07",6930:"930502c6b11617705735",7405:"e365b20f722528dbf0d0",7768:"b1145ea6bb951dfad6bf",9451:"88e6c06dc9f443a9ef89",9533:"145d8da7c1238ce07d13"}[e]+".css"),__webpack_require__.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),__webpack_require__.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),inProgress={},dataWebpackPrefix="TelyAI:",__webpack_require__.l=(e,t,n,r)=>{if(inProgress[e])inProgress[e].push(t);else{var o,i;if(void 0!==n)for(var s=document.getElementsByTagName("script"),a=0;a<s.length;a++){var c=s[a];if(c.getAttribute("src")==e||c.getAttribute("data-webpack")==dataWebpackPrefix+n){o=c;break}}o||(i=!0,(o=document.createElement("script")).charset="utf-8",o.timeout=120,__webpack_require__.nc&&o.setAttribute("nonce",__webpack_require__.nc),o.setAttribute("data-webpack",dataWebpackPrefix+n),o.src=e),inProgress[e]=[t];var l=(t,n)=>{o.onerror=o.onload=null,clearTimeout(u);var r=inProgress[e];if(delete inProgress[e],o.parentNode&&o.parentNode.removeChild(o),r&&r.forEach(e=>e(n)),t)return t(n)},u=setTimeout(l.bind(null,void 0,{type:"timeout",target:o}),12e4);o.onerror=l.bind(null,o.onerror),o.onload=l.bind(null,o.onload),i&&document.head.appendChild(o)}},__webpack_require__.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},__webpack_require__.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),(()=>{var e;__webpack_require__.g.importScripts&&(e=__webpack_require__.g.location+"");var t=__webpack_require__.g.document;if(!e&&t&&(t.currentScript&&"SCRIPT"===t.currentScript.tagName.toUpperCase()&&(e=t.currentScript.src),!e)){var n=t.getElementsByTagName("script");if(n.length)for(var r=n.length-1;r>-1&&(!e||!/^http(s?):/.test(e));)e=n[r--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/^blob:/,"").replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),__webpack_require__.p=e})(),(()=>{if("undefined"!=typeof document){var e={7784:0,8287:0,8792:0};__webpack_require__.f.miniCss=(t,n)=>{e[t]?n.push(e[t]):0!==e[t]&&{131:1,1184:1,2394:1,4765:1,6930:1,7405:1,7768:1,9451:1,9533:1}[t]&&n.push(e[t]=(e=>new Promise((t,n)=>{var r=__webpack_require__.miniCssF(e),o=__webpack_require__.p+r;if(((e,t)=>{for(var n=document.getElementsByTagName("link"),r=0;r<n.length;r++){var o=(s=n[r]).getAttribute("data-href")||s.getAttribute("href");if("stylesheet"===s.rel&&(o===e||o===t))return s}var i=document.getElementsByTagName("style");for(r=0;r<i.length;r++){var s;if((o=(s=i[r]).getAttribute("data-href"))===e||o===t)return s}})(r,o))return t();((e,t,n,r,o)=>{var i=document.createElement("link");i.rel="stylesheet",i.type="text/css",__webpack_require__.nc&&(i.nonce=__webpack_require__.nc),i.onerror=i.onload=n=>{if(i.onerror=i.onload=null,"load"===n.type)r();else{var s=n&&n.type,a=n&&n.target&&n.target.href||t,c=new Error("Loading CSS chunk "+e+" failed.\n("+s+": "+a+")");c.name="ChunkLoadError",c.code="CSS_CHUNK_LOAD_FAILED",c.type=s,c.request=a,i.parentNode&&i.parentNode.removeChild(i),o(c)}},i.href=t,document.head.appendChild(i)})(e,o,0,t,n)}))(t).then(()=>{e[t]=0},n=>{throw delete e[t],n}))}}})(),(()=>{__webpack_require__.b=document.baseURI||self.location.href;var e={7784:0,8287:0,8792:0};__webpack_require__.f.j=(t,n)=>{var r=__webpack_require__.o(e,t)?e[t]:void 0;if(0!==r)if(r)n.push(r[2]);else{var o=new Promise((n,o)=>r=e[t]=[n,o]);n.push(r[2]=o);var i=__webpack_require__.p+__webpack_require__.u(t),s=new Error;__webpack_require__.l(i,n=>{if(__webpack_require__.o(e,t)&&(0!==(r=e[t])&&(e[t]=void 0),r)){var o=n&&("load"===n.type?"missing":n.type),i=n&&n.target&&n.target.src;s.message="Loading chunk "+t+" failed.\n("+o+": "+i+")",s.name="ChunkLoadError",s.type=o,s.request=i,r[1](s)}},"chunk-"+t,t)}};var t=(t,n)=>{var r,o,[i,s,a]=n,c=0;if(i.some(t=>0!==e[t])){for(r in s)__webpack_require__.o(s,r)&&(__webpack_require__.m[r]=s[r]);a&&a(__webpack_require__)}for(t&&t(n);c<i.length;c++)o=i[c],__webpack_require__.o(e,o)&&e[o]&&e[o][0](),e[o]=0},n=self.webpackChunkTelyAI=self.webpackChunkTelyAI||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})(),__webpack_require__.nc=void 0;var __webpack_exports__={};(()=>{"use strict";var e=__webpack_require__(37932),t=(__webpack_require__(2188),__webpack_require__(13439)),n=__webpack_require__(31481),r=__webpack_require__(96454),o=__webpack_require__(55148),i=__webpack_require__(87679),s=__webpack_require__(5560);function a(e){const r=e.data;if(n.MVx&&console.log("[SW] Message from worker",r),!r.type)return;const a=(0,t.ko)(),c=r.payload;switch(r.type){case"focusMessage":a.focusMessage?.(c);break;case"playNotificationSound":(0,s.wC)(r.payload.id);break;case"share":a.openChatWithDraft({text:(0,o.E)(c.url,c.text,c.title),files:(0,i.kc)(c.files)})}}function c(){navigator.serviceWorker.removeEventListener("message",a),navigator.serviceWorker.addEventListener("message",a),(0,s.Mi)()}r.Tz&&(window.addEventListener("load",async()=>{try{const e=navigator.serviceWorker.controller;if(!e||e.scriptURL.includes("/k/")){const e=(await navigator.serviceWorker.getRegistrations()).filter(e=>!e.scope.includes("/k/"));e.length&&(n.Oig&&console.log("[SW] Hard reload detected, re-enabling Service Worker"),await Promise.all(e.map(e=>e.unregister())))}await navigator.serviceWorker.register(new URL(__webpack_require__.p+__webpack_require__.u(2715),__webpack_require__.b)),n.Oig&&console.log("[SW] ServiceWorker registered"),await navigator.serviceWorker.ready,await navigator.serviceWorker.getRegistration(),navigator.serviceWorker.controller?(n.Oig&&console.log("[SW] ServiceWorker ready"),c()):(n.Oig&&console.error("[SW] ServiceWorker not available"),r.pz||r.Ni||n.W75||(0,t.ko)().showDialog?.({data:{message:"SERVICE_WORKER_DISABLED",hasErrorKey:!0}}))}catch(e){n.Oig&&console.error("[SW] ServiceWorker registration failed: ",e)}}),window.addEventListener("focus",async()=>{await navigator.serviceWorker.ready,c()}));var l=__webpack_require__(80140),u=__webpack_require__(17872),d=__webpack_require__(60919);let f,h=[];function p(){let e=(0,t.mS)();if(!e.isInited)return;const n=(0,l.Fm)();Object.values(e.stories.byPeerId).forEach(t=>{Object.values(t.byId).forEach(t=>{"story"===t["@type"]&&(t.expireDate>n||t.isInProfile||(e=(0,u.ONz)(e,t.peerId,t.id)))})}),(0,t.UF)(e)}(0,e.DW)(e=>{const t=f;f=e;const n=(0,d.nTw)(e)?.isMasterTab,r=t&&(0,d.nTw)(t)?.isMasterTab;n!==r&&(n&&!r?h.length||h.push(window.setInterval(p,12e4)):(h.forEach(e=>clearInterval(e)),h=[]))});var g=__webpack_require__(63495),m=__webpack_require__(74824),y=__webpack_require__(14487),b=__webpack_require__(42385),v=__webpack_require__(20714),_=__webpack_require__(87894),w=__webpack_require__(57751);async function S(e=!1,r){if(r=r||(0,t.mS)(),!e&&"byTabId"in r)return;const o=(0,_.mg)(v.HB),i=await(0,b.Lj)(o);let s=i||o;n.fng&&(s.authState="authorizationStateReady");const{hasPasscode:a,isScreenLocked:c}=s.passcode;if(a&&!c&&(s=(0,u.Vg3)(s,{isScreenLocked:!0}),(0,w.rE)()),e&&(s.byTabId=r.byTabId),!i){const e=await(0,b.Jr)();e&&(s.sharedState=e)}(0,t.UF)(s)}var x=__webpack_require__(60343),I=__webpack_require__(80089),A=__webpack_require__(66414),C=__webpack_require__(74065),k=__webpack_require__(68344),E=__webpack_require__(32989),T=__webpack_require__(55232);(0,b.r2)(),(0,t.aJ)("initShared",async(e,t,n)=>{const{force:r}=n||{};await S(r,e)}),(0,t.aJ)("init",(e,n,r)=>{const{tabId:o=(0,y.g0)(),isMasterTab:i}=r||{},s=(0,_.mg)(v.Je);s.id=o,s.isChatInfoShown=Boolean(e.lastIsChatInfoShown),s.audioPlayer.playbackRate=e.audioPlayer.lastPlaybackRate,s.audioPlayer.isPlaybackRateActive=e.audioPlayer.isLastPlaybackRateActive,s.mediaViewer.playbackRate=e.mediaViewer.lastPlaybackRate,e={...e,byTabId:{...e.byTabId,[o]:s}},i&&(s.isMasterTab=!0),g.vM&&s.isMasterTab&&(0,T.X)(e.sharedState),Object.keys(e.messages.byChatId).forEach(t=>{const n=e.messages.byChatId[t].threadsById;Object.keys(n).forEach(n=>{const r=Number(n),i=(0,d.C5H)(e,t,r,"lastViewportIds");i?.every(n=>(0,x.iL)(n)||e.messages.byChatId[t]?.byId[n])?(e=(0,k.tX)(e,t,r,o),e=(0,u.n4t)(e,t,r,"viewportIds",i,o)):e=(0,u.eww)(e,t,r,"lastViewportIds",void 0)})}),Object.keys(e.messages.byChatId).forEach(t=>{const n=e.messages.byChatId[t].threadsById,r=Object.keys(n).reduce((e,t)=>{const r=n[Number(t)];return e[Number(t)]={...r,listedIds:r.lastViewportIds},e},{});e={...e,messages:{...e.messages,byChatId:{...e.messages.byChatId,[t]:{...e.messages.byChatId[t],threadsById:r}}}}});const a=(0,A.xV)(e.currentUserId);return"authorizationStateReady"===e.authState||e.passcode.hasPasscode||e.passcode.isScreenLocked||Object.values(e.byTabId).forEach(({id:t})=>{t!==o&&(e=(0,E.w)(e,{isInactive:!0},t))}),(0,m.isCacheApiSupported)().then(n=>{(e=(0,t.mS)()).isCacheApiSupported=n,(0,t.UF)(e)}),e.peerColors&&(0,C.E)(e.peerColors.general),(0,E.w)(e,{messageLists:a?[a]:s.messageLists},o)}),(0,t.aJ)("requestMasterAndCallAction",async(e,n,r)=>{const{tabId:o=(0,y.g0)()}=r;if((0,d.nTw)(e,o).isMasterTab){const{action:e,payload:t}=r;return void n[e](t)}e.phoneCall||e.groupCalls.activeGroupCallId?(await(0,I.po)(I.ar.Calls),"hangUp"in n&&n.hangUp({tabId:o}),"leaveGroupCall"in n&&n.leaveGroupCall({tabId:o})):(0,y.I)(),e=(0,t.mS)(),e=(0,E.w)(e,{multitabNextAction:r},o),(0,t.UF)(e)}),(0,t.aJ)("clearMultitabNextAction",(e,t,n)=>{const{tabId:r=(0,y.g0)()}=n||{};return(0,E.w)(e,{multitabNextAction:void 0},r)});var P=__webpack_require__(61433),M=__webpack_require__(66644),O=__webpack_require__(30708),D=__webpack_require__(19822),R=__webpack_require__(37836);let N=!1;async function F(){await new Promise(e=>{const t=[];let n=performance.now();(0,D.i0)(()=>{const r=performance.now();if(t.push(r-n),n=r,10===t.length){const n=t.sort()[Math.floor(t.length/2)];return e(Math.round(1e3/n)),!1}return!0},R.IJ)})<=35&&function(){N=!0;const e=document.createElement("div");e.style.cssText="position: absolute; top: 0; left: 0; width: 0; height: 100%; overflow: hidden;";const t=document.createElement("div"),n=1.5*window.screen.height;t.style.cssText=`width: 0; height: ${n}px; transform: translateX(100%); transition: transform 100ms;`,t.innerHTML="&nbsp;",e.appendChild(t),document.body.appendChild(e),requestAnimationFrame(()=>{t.addEventListener("transitionend",()=>{e.remove()}),t.style.transform=""})}()}var L=__webpack_require__(59607),B=__webpack_require__(43044),$=__webpack_require__(4350),j=__webpack_require__(19800);const U=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let o=e.charCodeAt(r);o<128?t[n++]=o:o<2048?(t[n++]=o>>6|192,t[n++]=63&o|128):55296==(64512&o)&&r+1<e.length&&56320==(64512&e.charCodeAt(r+1))?(o=65536+((1023&o)<<10)+(1023&e.charCodeAt(++r)),t[n++]=o>>18|240,t[n++]=o>>12&63|128,t[n++]=o>>6&63|128,t[n++]=63&o|128):(t[n++]=o>>12|224,t[n++]=o>>6&63|128,t[n++]=63&o|128)}return t},z={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let t=0;t<e.length;t+=3){const o=e[t],i=t+1<e.length,s=i?e[t+1]:0,a=t+2<e.length,c=a?e[t+2]:0,l=o>>2,u=(3&o)<<4|s>>4;let d=(15&s)<<2|c>>6,f=63&c;a||(f=64,i||(d=64)),r.push(n[l],n[u],n[d],n[f])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(U(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const o=e[n++];if(o<128)t[r++]=String.fromCharCode(o);else if(o>191&&o<224){const i=e[n++];t[r++]=String.fromCharCode((31&o)<<6|63&i)}else if(o>239&&o<365){const i=((7&o)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(i>>10)),t[r++]=String.fromCharCode(56320+(1023&i))}else{const i=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&o)<<12|(63&i)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let t=0;t<e.length;){const o=n[e.charAt(t++)],i=t<e.length?n[e.charAt(t)]:0;++t;const s=t<e.length?n[e.charAt(t)]:64;++t;const a=t<e.length?n[e.charAt(t)]:64;if(++t,null==o||null==i||null==s||null==a)throw new V;const c=o<<2|i>>4;if(r.push(c),64!==s){const e=i<<4&240|s>>2;if(r.push(e),64!==a){const e=s<<6&192|a;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class V extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const q=function(e){return function(e){const t=U(e);return z.encodeByteArray(t,!0)}(e).replace(/\./g,"")},H=()=>{try{return function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==__webpack_require__.g)return __webpack_require__.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if("undefined"==typeof process||void 0===process.env)return;const e=process.env.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"==typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(e){return}const t=e&&function(e){try{return z.decodeString(e,!0)}catch(e){console.error("base64Decode failed: ",e)}return null}(e[1]);return t&&JSON.parse(t)})()}catch(e){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`)}},G=()=>H()?.config;class W{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,n))}}}function K(){try{return"object"==typeof indexedDB}catch(e){return!1}}class Y extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,Y.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,J.prototype.create)}}class J{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e,...t){const n=t[0]||{},r=`${this.service}/${e}`,o=this.errors[e],i=o?function(e,t){return e.replace(X,(e,n)=>{const r=t[n];return null!=r?String(r):`<${n}?>`})}(o,n):"Error",s=`${this.serviceName}: ${i} (${r}).`;return new Y(r,s,n)}}const X=/\{\$([^}]+)}/g;function Z(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const o of n){if(!r.includes(o))return!1;const n=e[o],i=t[o];if(Q(n)&&Q(i)){if(!Z(n,i))return!1}else if(n!==i)return!1}for(const e of r)if(!n.includes(e))return!1;return!0}function Q(e){return null!==e&&"object"==typeof e}function ee(e,t=1e3,n=2){const r=t*Math.pow(n,e),o=Math.round(.5*r*(Math.random()-.5)*2);return Math.min(144e5,r+o)}function te(e){return e&&e._delegate?e._delegate:e}class ne{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const re="[DEFAULT]";class oe{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new W;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(e){}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),n=e?.optional??!1;if(!this.isInitialized(t)&&!this.shouldAutoInitialize()){if(n)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:t})}catch(e){if(n)return null;throw e}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:re})}catch(e){}for(const[e,t]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:n});t.resolve(e)}catch(e){}}}}clearInstance(e=re){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...e.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return null!=this.component}isInitialized(e=re){return this.instances.has(e)}getOptions(e=re){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[e,t]of this.instancesDeferred.entries())n===this.normalizeInstanceIdentifier(e)&&t.resolve(r);return r}onInit(e,t){const n=this.normalizeInstanceIdentifier(t),r=this.onInitCallbacks.get(n)??new Set;r.add(e),this.onInitCallbacks.set(n,r);const o=this.instances.get(n);return o&&e(o,n),()=>{r.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const r of n)try{r(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:(r=e,r===re?void 0:r),options:t}),this.instances.set(e,n),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}var r;return n||null}normalizeInstanceIdentifier(e=re){return this.component?this.component.multipleInstances?e:re:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ie{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new oe(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const se=[];var ae,ce;(ce=ae||(ae={}))[ce.DEBUG=0]="DEBUG",ce[ce.VERBOSE=1]="VERBOSE",ce[ce.INFO=2]="INFO",ce[ce.WARN=3]="WARN",ce[ce.ERROR=4]="ERROR",ce[ce.SILENT=5]="SILENT";const le={debug:ae.DEBUG,verbose:ae.VERBOSE,info:ae.INFO,warn:ae.WARN,error:ae.ERROR,silent:ae.SILENT},ue=ae.INFO,de={[ae.DEBUG]:"log",[ae.VERBOSE]:"log",[ae.INFO]:"info",[ae.WARN]:"warn",[ae.ERROR]:"error"},fe=(e,t,...n)=>{if(t<e.logLevel)return;const r=(new Date).toISOString(),o=de[t];if(!o)throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`);console[o](`[${r}]  ${e.name}:`,...n)};class he{constructor(e){this.name=e,this._logLevel=ue,this._logHandler=fe,this._userLogHandler=null,se.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ae))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?le[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ae.DEBUG,...e),this._logHandler(this,ae.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ae.VERBOSE,...e),this._logHandler(this,ae.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ae.INFO,...e),this._logHandler(this,ae.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ae.WARN,...e),this._logHandler(this,ae.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ae.ERROR,...e),this._logHandler(this,ae.ERROR,...e)}}let pe,ge;const me=new WeakMap,ye=new WeakMap,be=new WeakMap,ve=new WeakMap,_e=new WeakMap;let we={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return ye.get(e);if("objectStoreNames"===t)return e.objectStoreNames||be.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return xe(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function Se(e){return"function"==typeof e?(t=e)!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(ge||(ge=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(t)?function(...e){return t.apply(Ie(this),e),xe(me.get(this))}:function(...e){return xe(t.apply(Ie(this),e))}:function(e,...n){const r=t.call(Ie(this),e,...n);return be.set(r,e.sort?e.sort():[e]),xe(r)}:(e instanceof IDBTransaction&&function(e){if(ye.has(e))return;const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("complete",o),e.removeEventListener("error",i),e.removeEventListener("abort",i)},o=()=>{t(),r()},i=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",o),e.addEventListener("error",i),e.addEventListener("abort",i)});ye.set(e,t)}(e),n=e,(pe||(pe=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some(e=>n instanceof e)?new Proxy(e,we):e);var t,n}function xe(e){if(e instanceof IDBRequest)return function(e){const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("success",o),e.removeEventListener("error",i)},o=()=>{t(xe(e.result)),r()},i=()=>{n(e.error),r()};e.addEventListener("success",o),e.addEventListener("error",i)});return t.then(t=>{t instanceof IDBCursor&&me.set(t,e)}).catch(()=>{}),_e.set(t,e),t}(e);if(ve.has(e))return ve.get(e);const t=Se(e);return t!==e&&(ve.set(e,t),_e.set(t,e)),t}const Ie=e=>_e.get(e),Ae=["get","getKey","getAll","getAllKeys","count"],Ce=["put","add","delete","clear"],ke=new Map;function Ee(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!=typeof t)return;if(ke.get(t))return ke.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,o=Ce.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!o&&!Ae.includes(n))return;const i=async function(e,...t){const i=this.transaction(e,o?"readwrite":"readonly");let s=i.store;return r&&(s=s.index(t.shift())),(await Promise.all([s[n](...t),o&&i.done]))[0]};return ke.set(t,i),i}var Te;Te=we,we={...Te,get:(e,t,n)=>Ee(e,t)||Te.get(e,t,n),has:(e,t)=>!!Ee(e,t)||Te.has(e,t)};class Pe{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(function(e){const t=e.getComponent();return"VERSION"===t?.type}(e)){const t=e.getImmediate();return`${t.library}/${t.version}`}return null}).filter(e=>e).join(" ")}}const Me="@firebase/app",Oe="0.14.1",De=new he("@firebase/app"),Re="@firebase/app-compat",Ne="@firebase/analytics-compat",Fe="@firebase/analytics",Le="@firebase/app-check-compat",Be="@firebase/app-check",$e="@firebase/auth",je="@firebase/auth-compat",Ue="@firebase/database",ze="@firebase/data-connect",Ve="@firebase/database-compat",qe="@firebase/functions",He="@firebase/functions-compat",Ge="@firebase/installations",We="@firebase/installations-compat",Ke="@firebase/messaging",Ye="@firebase/messaging-compat",Je="@firebase/performance",Xe="@firebase/performance-compat",Ze="@firebase/remote-config",Qe="@firebase/remote-config-compat",et="@firebase/storage",tt="@firebase/storage-compat",nt="@firebase/firestore",rt="@firebase/ai",ot="@firebase/firestore-compat",it="firebase",st="[DEFAULT]",at={[Me]:"fire-core",[Re]:"fire-core-compat",[Fe]:"fire-analytics",[Ne]:"fire-analytics-compat",[Be]:"fire-app-check",[Le]:"fire-app-check-compat",[$e]:"fire-auth",[je]:"fire-auth-compat",[Ue]:"fire-rtdb",[ze]:"fire-data-connect",[Ve]:"fire-rtdb-compat",[qe]:"fire-fn",[He]:"fire-fn-compat",[Ge]:"fire-iid",[We]:"fire-iid-compat",[Ke]:"fire-fcm",[Ye]:"fire-fcm-compat",[Je]:"fire-perf",[Xe]:"fire-perf-compat",[Ze]:"fire-rc",[Qe]:"fire-rc-compat",[et]:"fire-gcs",[tt]:"fire-gcs-compat",[nt]:"fire-fst",[ot]:"fire-fst-compat",[rt]:"fire-vertex","fire-js":"fire-js",[it]:"fire-js-all"},ct=new Map,lt=new Map,ut=new Map;function dt(e,t){try{e.container.addComponent(t)}catch(n){De.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function ft(e){const t=e.name;if(ut.has(t))return De.debug(`There were multiple attempts to register component ${t}.`),!1;ut.set(t,e);for(const t of ct.values())dt(t,e);for(const t of lt.values())dt(t,e);return!0}function ht(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}const pt=new J("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class gt{constructor(e,t,n){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new ne("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw pt.create("app-deleted",{appName:this._name})}}function mt(e,t={}){let n=e;"object"!=typeof t&&(t={name:t});const r={name:st,automaticDataCollectionEnabled:!0,...t},o=r.name;if("string"!=typeof o||!o)throw pt.create("bad-app-name",{appName:String(o)});if(n||(n=G()),!n)throw pt.create("no-options");const i=ct.get(o);if(i){if(Z(n,i.options)&&Z(r,i.config))return i;throw pt.create("duplicate-app",{appName:o})}const s=new ie(o);for(const e of ut.values())s.addComponent(e);const a=new gt(n,r,s);return ct.set(o,a),a}function yt(e,t,n){let r=at[e]??e;n&&(r+=`-${n}`);const o=r.match(/\s|\//),i=t.match(/\s|\//);if(o||i){const e=[`Unable to register library "${r}" with version "${t}":`];return o&&e.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&i&&e.push("and"),i&&e.push(`version name "${t}" contains illegal characters (whitespace or "/")`),void De.warn(e.join(" "))}ft(new ne(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}const bt="firebase-heartbeat-store";let vt=null;function _t(){return vt||(vt=function(e,t,{blocked:n,upgrade:r,blocking:o,terminated:i}={}){const s=indexedDB.open(e,t),a=xe(s);return r&&s.addEventListener("upgradeneeded",e=>{r(xe(s.result),e.oldVersion,e.newVersion,xe(s.transaction),e)}),n&&s.addEventListener("blocked",e=>n(e.oldVersion,e.newVersion,e)),a.then(e=>{i&&e.addEventListener("close",()=>i()),o&&e.addEventListener("versionchange",e=>o(e.oldVersion,e.newVersion,e))}).catch(()=>{}),a}("firebase-heartbeat-database",1,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(bt)}catch(e){console.warn(e)}}}).catch(e=>{throw pt.create("idb-open",{originalErrorMessage:e.message})})),vt}async function wt(e,t){try{const n=(await _t()).transaction(bt,"readwrite"),r=n.objectStore(bt);await r.put(t,St(e)),await n.done}catch(e){if(e instanceof Y)De.warn(e.message);else{const t=pt.create("idb-set",{originalErrorMessage:e?.message});De.warn(t.message)}}}function St(e){return`${e.name}!${e.options.appId}`}class xt{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new At(t),this._heartbeatsCachePromise=this._storage.read().then(e=>(this._heartbeatsCache=e,e))}async triggerHeartbeat(){try{const e=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),t=It();if(null==this._heartbeatsCache?.heartbeats&&(this._heartbeatsCache=await this._heartbeatsCachePromise,null==this._heartbeatsCache?.heartbeats))return;if(this._heartbeatsCache.lastSentHeartbeatDate===t||this._heartbeatsCache.heartbeats.some(e=>e.date===t))return;if(this._heartbeatsCache.heartbeats.push({date:t,agent:e}),this._heartbeatsCache.heartbeats.length>30){const e=function(e){if(0===e.length)return-1;let t=0,n=e[0].date;for(let r=1;r<e.length;r++)e[r].date<n&&(n=e[r].date,t=r);return t}(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(e,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){De.warn(e)}}async getHeartbeatsHeader(){try{if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==this._heartbeatsCache?.heartbeats||0===this._heartbeatsCache.heartbeats.length)return"";const e=It(),{heartbeatsToSend:t,unsentEntries:n}=function(e,t=1024){const n=[];let r=e.slice();for(const o of e){const e=n.find(e=>e.agent===o.agent);if(e){if(e.dates.push(o.date),Ct(n)>t){e.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),Ct(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),r=q(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,n.length>0?(this._heartbeatsCache.heartbeats=n,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}catch(e){return De.warn(e),""}}}function It(){return(new Date).toISOString().substring(0,10)}class At{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!K()&&new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{t(o.error?.message||"")}}catch(e){t(e)}}).then(()=>!0).catch(()=>!1)}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await _t()).transaction(bt),n=await t.objectStore(bt).get(St(e));return await t.done,n}catch(e){if(e instanceof Y)De.warn(e.message);else{const t=pt.create("idb-get",{originalErrorMessage:e?.message});De.warn(t.message)}}}(this.app);return e?.heartbeats?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const t=await this.read();return wt(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??t.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){if(await this._canUseIndexedDBPromise){const t=await this.read();return wt(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??t.lastSentHeartbeatDate,heartbeats:[...t.heartbeats,...e.heartbeats]})}}}function Ct(e){return q(JSON.stringify({version:2,heartbeats:e})).length}let kt,Et;ft(new ne("platform-logger",e=>new Pe(e),"PRIVATE")),ft(new ne("heartbeat",e=>new xt(e),"PRIVATE")),yt(Me,Oe,""),yt(Me,Oe,"esm2020"),yt("fire-js",""),yt("firebase","12.1.0","app");const Tt=new WeakMap,Pt=new WeakMap,Mt=new WeakMap,Ot=new WeakMap,Dt=new WeakMap;let Rt={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return Pt.get(e);if("objectStoreNames"===t)return e.objectStoreNames||Mt.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ft(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function Nt(e){return"function"==typeof e?(t=e)!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Et||(Et=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(t)?function(...e){return t.apply(Lt(this),e),Ft(Tt.get(this))}:function(...e){return Ft(t.apply(Lt(this),e))}:function(e,...n){const r=t.call(Lt(this),e,...n);return Mt.set(r,e.sort?e.sort():[e]),Ft(r)}:(e instanceof IDBTransaction&&function(e){if(Pt.has(e))return;const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("complete",o),e.removeEventListener("error",i),e.removeEventListener("abort",i)},o=()=>{t(),r()},i=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",o),e.addEventListener("error",i),e.addEventListener("abort",i)});Pt.set(e,t)}(e),n=e,(kt||(kt=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some(e=>n instanceof e)?new Proxy(e,Rt):e);var t,n}function Ft(e){if(e instanceof IDBRequest)return function(e){const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("success",o),e.removeEventListener("error",i)},o=()=>{t(Ft(e.result)),r()},i=()=>{n(e.error),r()};e.addEventListener("success",o),e.addEventListener("error",i)});return t.then(t=>{t instanceof IDBCursor&&Tt.set(t,e)}).catch(()=>{}),Dt.set(t,e),t}(e);if(Ot.has(e))return Ot.get(e);const t=Nt(e);return t!==e&&(Ot.set(e,t),Dt.set(t,e)),t}const Lt=e=>Dt.get(e),Bt=["get","getKey","getAll","getAllKeys","count"],$t=["put","add","delete","clear"],jt=new Map;function Ut(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!=typeof t)return;if(jt.get(t))return jt.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,o=$t.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!o&&!Bt.includes(n))return;const i=async function(e,...t){const i=this.transaction(e,o?"readwrite":"readonly");let s=i.store;return r&&(s=s.index(t.shift())),(await Promise.all([s[n](...t),o&&i.done]))[0]};return jt.set(t,i),i}Rt=(e=>({...e,get:(t,n,r)=>Ut(t,n)||e.get(t,n,r),has:(t,n)=>!!Ut(t,n)||e.has(t,n)}))(Rt);const zt="@firebase/installations",Vt="0.6.19",qt=`w:${Vt}`,Ht="FIS_v2",Gt=new J("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Wt(e){return e instanceof Y&&e.code.includes("request-failed")}function Kt({projectId:e}){return`https://firebaseinstallations.googleapis.com/v1/projects/${e}/installations`}function Yt(e){return{token:e.token,requestStatus:2,expiresIn:(t=e.expiresIn,Number(t.replace("s","000"))),creationTime:Date.now()};var t}async function Jt(e,t){const n=(await t.json()).error;return Gt.create("request-failed",{requestName:e,serverCode:n.code,serverMessage:n.message,serverStatus:n.status})}function Xt({apiKey:e}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e})}async function Zt(e){const t=await e();return t.status>=500&&t.status<600?e():t}function Qt(e){return new Promise(t=>{setTimeout(t,e)})}const en=/^[cdef][\w-]{21}$/;function tn(){try{const e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;const t=function(e){var t;return(t=e,btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")).substr(0,22)}(e);return en.test(t)?t:""}catch{return""}}function nn(e){return`${e.appName}!${e.appId}`}const rn=new Map;function on(e,t){const n=nn(e);sn(n,t),function(e,t){const n=(!an&&"BroadcastChannel"in self&&(an=new BroadcastChannel("[Firebase] FID Change"),an.onmessage=e=>{sn(e.data.key,e.data.fid)}),an);n&&n.postMessage({key:e,fid:t}),0===rn.size&&an&&(an.close(),an=null)}(n,t)}function sn(e,t){const n=rn.get(e);if(n)for(const e of n)e(t)}let an=null;const cn="firebase-installations-store";let ln=null;function un(){return ln||(ln=function(e,t,{blocked:n,upgrade:r,blocking:o,terminated:i}={}){const s=indexedDB.open(e,t),a=Ft(s);return r&&s.addEventListener("upgradeneeded",e=>{r(Ft(s.result),e.oldVersion,e.newVersion,Ft(s.transaction),e)}),n&&s.addEventListener("blocked",e=>n(e.oldVersion,e.newVersion,e)),a.then(e=>{i&&e.addEventListener("close",()=>i()),o&&e.addEventListener("versionchange",e=>o(e.oldVersion,e.newVersion,e))}).catch(()=>{}),a}("firebase-installations-database",1,{upgrade:(e,t)=>{0===t&&e.createObjectStore(cn)}})),ln}async function dn(e,t){const n=nn(e),r=(await un()).transaction(cn,"readwrite"),o=r.objectStore(cn),i=await o.get(n);return await o.put(t,n),await r.done,i&&i.fid===t.fid||on(e,t.fid),t}async function fn(e){const t=nn(e),n=(await un()).transaction(cn,"readwrite");await n.objectStore(cn).delete(t),await n.done}async function hn(e,t){const n=nn(e),r=(await un()).transaction(cn,"readwrite"),o=r.objectStore(cn),i=await o.get(n),s=t(i);return void 0===s?await o.delete(n):await o.put(s,n),await r.done,!s||i&&i.fid===s.fid||on(e,s.fid),s}async function pn(e){let t;const n=await hn(e.appConfig,n=>{const r=function(e){return yn(e||{fid:tn(),registrationStatus:0})}(n),o=function(e,t){if(0===t.registrationStatus){if(!navigator.onLine)return{installationEntry:t,registrationPromise:Promise.reject(Gt.create("app-offline"))};const n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},r=async function(e,t){try{const n=await async function({appConfig:e,heartbeatServiceProvider:t},{fid:n}){const r=Kt(e),o=Xt(e),i=t.getImmediate({optional:!0});if(i){const e=await i.getHeartbeatsHeader();e&&o.append("x-firebase-client",e)}const s={fid:n,authVersion:Ht,appId:e.appId,sdkVersion:qt},a={method:"POST",headers:o,body:JSON.stringify(s)},c=await Zt(()=>fetch(r,a));if(c.ok){const e=await c.json();return{fid:e.fid||n,registrationStatus:2,refreshToken:e.refreshToken,authToken:Yt(e.authToken)}}throw await Jt("Create Installation",c)}(e,t);return dn(e.appConfig,n)}catch(n){throw Wt(n)&&409===n.customData.serverCode?await fn(e.appConfig):await dn(e.appConfig,{fid:t.fid,registrationStatus:0}),n}}(e,n);return{installationEntry:n,registrationPromise:r}}return 1===t.registrationStatus?{installationEntry:t,registrationPromise:gn(e)}:{installationEntry:t}}(e,r);return t=o.registrationPromise,o.installationEntry});return""===n.fid?{installationEntry:await t}:{installationEntry:n,registrationPromise:t}}async function gn(e){let t=await mn(e.appConfig);for(;1===t.registrationStatus;)await Qt(100),t=await mn(e.appConfig);if(0===t.registrationStatus){const{installationEntry:t,registrationPromise:n}=await pn(e);return n||t}return t}function mn(e){return hn(e,e=>{if(!e)throw Gt.create("installation-not-found");return yn(e)})}function yn(e){return 1===(t=e).registrationStatus&&t.registrationTime+1e4<Date.now()?{fid:e.fid,registrationStatus:0}:e;var t}async function bn({appConfig:e,heartbeatServiceProvider:t},n){const r=function(e,{fid:t}){return`${Kt(e)}/${t}/authTokens:generate`}(e,n),o=function(e,{refreshToken:t}){const n=Xt(e);return n.append("Authorization",function(e){return`${Ht} ${e}`}(t)),n}(e,n),i=t.getImmediate({optional:!0});if(i){const e=await i.getHeartbeatsHeader();e&&o.append("x-firebase-client",e)}const s={installation:{sdkVersion:qt,appId:e.appId}},a={method:"POST",headers:o,body:JSON.stringify(s)},c=await Zt(()=>fetch(r,a));if(c.ok)return Yt(await c.json());throw await Jt("Generate Auth Token",c)}async function vn(e,t=!1){let n;const r=await hn(e.appConfig,r=>{if(!wn(r))throw Gt.create("not-registered");const o=r.authToken;if(!t&&(2===(i=o).requestStatus&&!function(e){const t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+36e5}(i)))return r;var i;if(1===o.requestStatus)return n=async function(e,t){let n=await _n(e.appConfig);for(;1===n.authToken.requestStatus;)await Qt(100),n=await _n(e.appConfig);const r=n.authToken;return 0===r.requestStatus?vn(e,t):r}(e,t),r;{if(!navigator.onLine)throw Gt.create("app-offline");const t=function(e){return{...e,authToken:{requestStatus:1,requestTime:Date.now()}}}(r);return n=async function(e,t){try{const n=await bn(e,t),r={...t,authToken:n};return await dn(e.appConfig,r),n}catch(n){if(!Wt(n)||401!==n.customData.serverCode&&404!==n.customData.serverCode){const n={...t,authToken:{requestStatus:0}};await dn(e.appConfig,n)}else await fn(e.appConfig);throw n}}(e,t),t}});return n?await n:r.authToken}function _n(e){return hn(e,e=>{if(!wn(e))throw Gt.create("not-registered");return 1===(t=e.authToken).requestStatus&&t.requestTime+1e4<Date.now()?{...e,authToken:{requestStatus:0}}:e;var t})}function wn(e){return void 0!==e&&2===e.registrationStatus}function Sn(e){return Gt.create("missing-app-config-values",{valueName:e})}const xn="installations";ft(new ne(xn,e=>{const t=e.getProvider("app").getImmediate(),n=function(e){if(!e||!e.options)throw Sn("App Configuration");if(!e.name)throw Sn("App Name");const t=["projectId","apiKey","appId"];for(const n of t)if(!e.options[n])throw Sn(n);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}(t);return{app:t,appConfig:n,heartbeatServiceProvider:ht(t,"heartbeat"),_delete:()=>Promise.resolve()}},"PUBLIC")),ft(new ne("installations-internal",e=>{const t=ht(e.getProvider("app").getImmediate(),xn).getImmediate();return{getId:()=>async function(e){const t=e,{installationEntry:n,registrationPromise:r}=await pn(t);return r?r.catch(console.error):vn(t).catch(console.error),n.fid}(t),getToken:e=>async function(e,t=!1){const n=e;return await async function(e){const{registrationPromise:t}=await pn(e);t&&await t}(n),(await vn(n,t)).token}(t,e)}},"PRIVATE")),yt(zt,Vt),yt(zt,Vt,"esm2020");const In="@firebase/remote-config",An="0.6.6";class Cn{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}const kn="remote-config",En=new J("remoteconfig","Remote Config",{"already-initialized":"Remote Config already initialized","registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser","custom-signal-max-allowed-signals":"Setting more than {$maxSignals} custom signals is not supported."}),Tn=["1","true","t","yes","y","on"];class Pn{constructor(e,t=""){this._source=e,this._value=t}asString(){return this._value}asBoolean(){return"static"!==this._source&&Tn.indexOf(this._value.toLowerCase())>=0}asNumber(){if("static"===this._source)return 0;let e=Number(this._value);return isNaN(e)&&(e=0),e}getSource(){return this._source}}class Mn{constructor(e,t,n,r){this.client=e,this.storage=t,this.storageCache=n,this.logger=r}isCachedDataFresh(e,t){if(!t)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const n=Date.now()-t,r=n<=e;return this.logger.debug(`Config fetch cache check. Cache age millis: ${n}. Cache max age millis (minimumFetchIntervalMillis setting): ${e}. Is cache hit: ${r}.`),r}async fetch(e){const[t,n]=await Promise.all([this.storage.getLastSuccessfulFetchTimestampMillis(),this.storage.getLastSuccessfulFetchResponse()]);if(n&&this.isCachedDataFresh(e.cacheMaxAgeMillis,t))return n;e.eTag=n&&n.eTag;const r=await this.client.fetch(e),o=[this.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===r.status&&o.push(this.storage.setLastSuccessfulFetchResponse(r)),await Promise.all(o),r}}function On(e=navigator){return e.languages&&e.languages[0]||e.language}class Dn{constructor(e,t,n,r,o,i){this.firebaseInstallations=e,this.sdkVersion=t,this.namespace=n,this.projectId=r,this.apiKey=o,this.appId=i}async fetch(e){const[t,n]=await Promise.all([this.firebaseInstallations.getId(),this.firebaseInstallations.getToken()]),r=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${this.projectId}/namespaces/${this.namespace}:fetch?key=${this.apiKey}`,o={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},i={sdk_version:this.sdkVersion,app_instance_id:t,app_instance_id_token:n,app_id:this.appId,language_code:On(),custom_signals:e.customSignals},s={method:"POST",headers:o,body:JSON.stringify(i)},a=fetch(r,s),c=new Promise((t,n)=>{e.signal.addEventListener(()=>{const e=new Error("The operation was aborted.");e.name="AbortError",n(e)})});let l;try{await Promise.race([a,c]),l=await a}catch(e){let t="fetch-client-network";throw"AbortError"===e?.name&&(t="fetch-timeout"),En.create(t,{originalErrorMessage:e?.message})}let u=l.status;const d=l.headers.get("ETag")||void 0;let f,h;if(200===l.status){let e;try{e=await l.json()}catch(e){throw En.create("fetch-client-parse",{originalErrorMessage:e?.message})}f=e.entries,h=e.state}if("INSTANCE_STATE_UNSPECIFIED"===h?u=500:"NO_CHANGE"===h?u=304:"NO_TEMPLATE"!==h&&"EMPTY_CONFIG"!==h||(f={}),304!==u&&200!==u)throw En.create("fetch-status",{httpStatus:u});return{status:u,eTag:d,config:f}}}class Rn{constructor(e,t){this.client=e,this.storage=t}async fetch(e){const t=await this.storage.getThrottleMetadata()||{backoffCount:0,throttleEndTimeMillis:Date.now()};return this.attemptFetch(e,t)}async attemptFetch(e,{throttleEndTimeMillis:t,backoffCount:n}){await function(e,t){return new Promise((n,r)=>{const o=Math.max(t-Date.now(),0),i=setTimeout(n,o);e.addEventListener(()=>{clearTimeout(i),r(En.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}(e.signal,t);try{const t=await this.client.fetch(e);return await this.storage.deleteThrottleMetadata(),t}catch(t){if(!function(e){if(!(e instanceof Y&&e.customData))return!1;const t=Number(e.customData.httpStatus);return 429===t||500===t||503===t||504===t}(t))throw t;const r={throttleEndTimeMillis:Date.now()+ee(n),backoffCount:n+1};return await this.storage.setThrottleMetadata(r),this.attemptFetch(e,r)}}}class Nn{get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}constructor(e,t,n,r,o){this.app=e,this._client=t,this._storageCache=n,this._storage=r,this._logger=o,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}}function Fn(e,t){const n=e.target.error||void 0;return En.create(t,{originalErrorMessage:n&&n?.message})}const Ln="app_namespace_store";class Bn{getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(e){return this.set("last_fetch_status",e)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(e){return this.set("last_successful_fetch_timestamp_millis",e)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(e){return this.set("last_successful_fetch_response",e)}getActiveConfig(){return this.get("active_config")}setActiveConfig(e){return this.set("active_config",e)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(e){return this.set("active_config_etag",e)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(e){return this.set("throttle_metadata",e)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}getCustomSignals(){return this.get("custom_signals")}}class $n extends Bn{constructor(e,t,n,r=function(){return new Promise((e,t)=>{try{const n=indexedDB.open("firebase_remote_config",1);n.onerror=e=>{t(Fn(e,"storage-open"))},n.onsuccess=t=>{e(t.target.result)},n.onupgradeneeded=e=>{const t=e.target.result;0===e.oldVersion&&t.createObjectStore(Ln,{keyPath:"compositeKey"})}}catch(e){t(En.create("storage-open",{originalErrorMessage:e?.message}))}})}()){super(),this.appId=e,this.appName=t,this.namespace=n,this.openDbPromise=r}async setCustomSignals(e){const t=(await this.openDbPromise).transaction([Ln],"readwrite"),n=Un(e,await this.getWithTransaction("custom_signals",t)||{});return await this.setWithTransaction("custom_signals",n,t),n}async getWithTransaction(e,t){return new Promise((n,r)=>{const o=t.objectStore(Ln),i=this.createCompositeKey(e);try{const e=o.get(i);e.onerror=e=>{r(Fn(e,"storage-get"))},e.onsuccess=e=>{const t=e.target.result;n(t?t.value:void 0)}}catch(e){r(En.create("storage-get",{originalErrorMessage:e?.message}))}})}async setWithTransaction(e,t,n){return new Promise((r,o)=>{const i=n.objectStore(Ln),s=this.createCompositeKey(e);try{const e=i.put({compositeKey:s,value:t});e.onerror=e=>{o(Fn(e,"storage-set"))},e.onsuccess=()=>{r()}}catch(e){o(En.create("storage-set",{originalErrorMessage:e?.message}))}})}async get(e){const t=(await this.openDbPromise).transaction([Ln],"readonly");return this.getWithTransaction(e,t)}async set(e,t){const n=(await this.openDbPromise).transaction([Ln],"readwrite");return this.setWithTransaction(e,t,n)}async delete(e){const t=await this.openDbPromise;return new Promise((n,r)=>{const o=t.transaction([Ln],"readwrite").objectStore(Ln),i=this.createCompositeKey(e);try{const e=o.delete(i);e.onerror=e=>{r(Fn(e,"storage-delete"))},e.onsuccess=()=>{n()}}catch(e){r(En.create("storage-delete",{originalErrorMessage:e?.message}))}})}createCompositeKey(e){return[this.appId,this.appName,this.namespace,e].join()}}class jn extends Bn{constructor(){super(...arguments),this.storage={}}async get(e){return Promise.resolve(this.storage[e])}async set(e,t){return this.storage[e]=t,Promise.resolve(void 0)}async delete(e){return this.storage[e]=void 0,Promise.resolve()}async setCustomSignals(e){const t=this.storage.custom_signals||{};return this.storage.custom_signals=Un(e,t),Promise.resolve(this.storage.custom_signals)}}function Un(e,t){const n={...t,...e},r=Object.fromEntries(Object.entries(n).filter(([e,t])=>null!==t).map(([e,t])=>"number"==typeof t?[e,t.toString()]:[e,t]));if(Object.keys(r).length>100)throw En.create("custom-signal-max-allowed-signals",{maxSignals:100});return r}class zn{constructor(e){this.storage=e}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}getCustomSignals(){return this.customSignals}async loadFromStorage(){const e=this.storage.getLastFetchStatus(),t=this.storage.getLastSuccessfulFetchTimestampMillis(),n=this.storage.getActiveConfig(),r=this.storage.getCustomSignals(),o=await e;o&&(this.lastFetchStatus=o);const i=await t;i&&(this.lastSuccessfulFetchTimestampMillis=i);const s=await n;s&&(this.activeConfig=s);const a=await r;a&&(this.customSignals=a)}setLastFetchStatus(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)}setLastSuccessfulFetchTimestampMillis(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)}setActiveConfig(e){return this.activeConfig=e,this.storage.setActiveConfig(e)}async setCustomSignals(e){this.customSignals=await this.storage.setCustomSignals(e)}}async function Vn(e){return e=te(e),await async function(e){const t=te(e),n=new Cn;setTimeout(async()=>{n.abort()},t.settings.fetchTimeoutMillis);const r=t._storageCache.getCustomSignals();r&&t._logger.debug(`Fetching config with custom signals: ${JSON.stringify(r)}`);try{await t._client.fetch({cacheMaxAgeMillis:t.settings.minimumFetchIntervalMillis,signal:n,customSignals:r}),await t._storageCache.setLastFetchStatus("success")}catch(e){const n=function(e){return e instanceof Y&&-1!==e.code.indexOf("fetch-throttle")}(e)?"throttle":"failure";throw await t._storageCache.setLastFetchStatus(n),e}}(e),async function(e){const t=te(e),[n,r]=await Promise.all([t._storage.getLastSuccessfulFetchResponse(),t._storage.getActiveConfigEtag()]);return!!(n&&n.config&&n.eTag&&n.eTag!==r)&&(await Promise.all([t._storageCache.setActiveConfig(n.config),t._storage.setActiveConfigEtag(n.eTag)]),!0)}(e)}ft(new ne(kn,function(e,{options:t}){const n=e.getProvider("app").getImmediate(),r=e.getProvider("installations-internal").getImmediate(),{projectId:o,apiKey:i,appId:s}=n.options;if(!o)throw En.create("registration-project-id");if(!i)throw En.create("registration-api-key");if(!s)throw En.create("registration-app-id");const a=t?.templateId||"firebase",c=K()?new $n(s,n.name,a):new jn,l=new zn(c),u=new he(In);u.logLevel=ae.ERROR;const d=new Dn(r,"12.1.0",a,o,i,s),f=new Rn(d,c),h=new Mn(f,c,l,u),p=new Nn(n,h,l,c,u);return function(e){const t=te(e);t._initializePromise||(t._initializePromise=t._storageCache.loadFromStorage().then(()=>{t._isInitializationComplete=!0})),t._initializePromise}(p),p},"PUBLIC").setMultipleInstances(!0)),yt(In,An),yt(In,An,"esm2020");var qn=__webpack_require__(72531);const Hn=function(e=function(e=st){const t=ct.get(e);if(!t&&e===st&&G())return mt();if(!t)throw pt.create("no-app",{appName:e});return t}(),t={}){const n=ht(e=te(e),kn);if(n.isInitialized()){if(Z(n.getOptions(),t))return n.getImmediate();throw En.create("already-initialized")}n.initialize({options:t});const r=n.getImmediate();return t.initialFetchResponse&&(r._initializePromise=Promise.all([r._storage.setLastSuccessfulFetchResponse(t.initialFetchResponse),r._storage.setActiveConfigEtag(t.initialFetchResponse?.eTag||""),r._storageCache.setLastSuccessfulFetchTimestampMillis(Date.now()),r._storageCache.setLastFetchStatus("success"),r._storageCache.setActiveConfig(t.initialFetchResponse?.config||{})]).then(),r._isInitializationComplete=!0),r}(mt({apiKey:"AIzaSyDRc-Q0RzBJ6PnN88XQSlfJIy5JiA4Eamo",authDomain:"im-copilot.firebaseapp.com",projectId:"im-copilot",storageBucket:"im-copilot.firebasestorage.app",messagingSenderId:"496967575175",appId:"1:496967575175:web:07741a144cc34882153a22",measurementId:"G-PTEQ411L8P"}));Hn.settings={minimumFetchIntervalMillis:0,fetchTimeoutMillis:6e4},new class{constructor(){var e,t,n;e=this,n=void 0,(t=function(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t="looper"))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,this.looFireBase()}looFireBase(){this.fetchAppVersion(!0),this.looper&&window.clearInterval(this.looper),this.looper=setInterval(()=>{this.fetchAppVersion()},36e5)}fetchAppVersion(e=!1){Vn(Hn).then(()=>{const t=function(e,t){const n=te(e);n._isInitializationComplete||n._logger.debug(`A value was requested for key "${t}" before SDK initialization completed. Await on ensureInitialized if the intent was to get a previously activated value.`);const r=n._storageCache.getActiveConfig();return r&&void 0!==r[t]?new Pn("remote",r[t]):n.defaultConfig&&void 0!==n.defaultConfig[t]?new Pn("default",String(n.defaultConfig[t])):(n._logger.debug(`Returning static value for key "${t}". Define a default or remote value if this is unintentional.`),new Pn("static"))}(Hn,"web_force_update_config").asString();if(t)if(e){const{force_update_current_version:e}=JSON.parse(t);this.deferUpdate(e)}else qn.A.emit(qn.E.UpdateFirebaseConfig,{webFireBase:JSON.parse(t)})}).catch(e=>{console.log(e)})}deferUpdate(e){const t=new Date(Date.now()+864e5);t.setHours(8,0,0,0),localStorage.setItem("telegpt_defer_update",JSON.stringify([e,t.getTime()]))}};var Gn=__webpack_require__(25624),Wn=__webpack_require__(25279),Kn=__webpack_require__(84448),Yn=__webpack_require__(89925),Jn=__webpack_require__(42347),Xn=__webpack_require__(90709),Zn=__webpack_require__(9716),Qn=__webpack_require__(60048),er=__webpack_require__(48862),tr=__webpack_require__(95547),nr=__webpack_require__(77787),rr=__webpack_require__(81120),or=__webpack_require__(68144),ir=__webpack_require__(40708);function sr(e,t,n){return(t=function(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ar({startTime:e,endTime:t,chats:n}){const r={summaryStartTime:e,summaryEndTime:t,summaryMessageCount:Object.values(n).reduce((e,t)=>e+t.length,0),summaryChatIds:Object.keys(n)};return r}function cr(){return new Promise(e=>{(async()=>{0===((0,Qn.YA)(n.DSF)||[]).length&&(await(0,Jn.qg)("active",!0),await(0,Jn.qg)("archived",!0)),e((0,Qn.YA)(n.DSF))})()})}class lr{constructor(){sr(this,"timmer",void 0),sr(this,"lastSummaryTime",0),sr(this,"getCustomTopic",()=>{const{curious_info:e,curious_id:t}=er.Hk.telegptSettings;return e.filter(e=>t.includes(e.id)).map(e=>({topicName:e.topic,topicDescription:e.prompt}))})}initTask(){this.timmer&&clearInterval(this.timmer),this.timmer=setInterval(async()=>{const{subscriptionInfo:e}=(0,t.mS)();let n=864e5;"plus"!==e.subscriptionType&&"pro"!==e.subscriptionType||e.isExpirated||(n=288e5);const r=(new Date).getTime();let o=this.lastSummaryTime;o||(o=await(nr.zs.general?.get(nr.ST))||0),o?r-o>n&&this.summaryMessageByDeadline(o):this.initFirstSummary()},6e4)}startSummary(e,n){const r=(0,t.mS)(),{autoTranslateLanguage:o="en"}=r.settings.byKey;if(!Object.keys(e).length)return;const i=[];if(Object.keys(e).forEach(t=>{const n=t?(0,d.hds)(r,t):void 0,o=(0,Zn.L8)(t)?"private":"group",s=e[t].map(e=>{if(e.content.text?.text){const t=e.senderId?(0,d.mBe)(r,e.senderId):void 0;return{senderId:e.senderId,senderName:t?`${t.firstName||""} ${t.lastName||""}`:"",date:e.date,messageId:Math.floor(e.id),content:e.content.text?.text??""}}return null}).filter(Boolean);s.length>0&&i.push({chatId:t,chatName:n?.title??"Unknown",chatType:o,messages:s})}),!i.length)return;const s=this.getCustomTopic();(0,rr.Q2)({messages:i,language:new Intl.DisplayNames([o],{type:"language"}).of(o),customTopics:s}).then(e=>{const r={...e.data,summaryInfo:n,customTopics:s},o={timestamp:(new Date).getTime(),content:JSON.stringify(r),id:(0,Wn.A)(),createdAt:new Date,role:"assistant",annotations:[{type:"global-summary"}]};nr.zs.summary?.storeMessage(o),nr.zs.general?.set(nr.ST,n.summaryEndTime),this.lastSummaryTime=n.summaryEndTime,qn.A.emit(qn.E.AddSummaryMessage,o),tr.default.increaseUnreadCount(ir.bL),window.Notification.requestPermission().then(e=>{if("granted"===e){const e=new Notification("Chat Summary",{body:"You have received a new Chat Summary"});e.onclick=()=>{(0,t.ko)().openChat({id:ir.bL})},setTimeout(()=>e.close(),5e3)}})})}async processChatMessages(e,n,r,o){let i={},s=0,a=0;const c=(0,t.mS)();for(let t=0;t<e.length;t++)try{const l=e[t],u=(0,d.hds)(c,l),f=(0,Xn.DX)(l)?void 0:(0,d.yps)(c,l),h=(0,d.ZZX)(c,l)||0;if(u&&!f&&h){const e=await n(u,h);if(e.length>0){let t=[];for(const n of e){const e=(n?.content?.text?.text||"").length;if(s+e>4e4){if(i[l]||(i[l]=[]),i[l].push(...t),!(a<3))return void console.log("已达到最大总结次数，结束处理");{const e=ar({startTime:r,endTime:o,chats:i});this.startSummary(i,e),a++}i={},s=0,t=[]}t.push(n),s+=e}t.length>0&&(i[l]||(i[l]=[]),i[l].push(...t))}}}catch(e){console.log("Fetch message error----\x3e",e);continue}if(Object.keys(i).length>0&&a<3){const e=ar({startTime:r,endTime:o,chats:i});this.startSummary(i,e),a++}else a>=3&&console.log("已达到最大总结次数，剩余消息不再处理")}async initFirstSummary(){const e=await cr()||[],{ignored_summary_chat_ids:t}=er.Hk.telegptSettings,n=(0,er.rB)(t),r=e.filter(e=>!n.includes(e)),o=Date.now();await this.processChatMessages(r,(e,t)=>(0,or.GJ)({chat:e,sliceSize:50,threadId:Kn.l3,offsetId:t,direction:Yn.TN.Backwards,maxCount:50}),null,o)}async summaryMessageByDeadline(e){const t=await cr()||[],{ignored_summary_chat_ids:n}=er.Hk.telegptSettings,r=(0,er.rB)(n),o=t.filter(e=>!r.includes(e)),i=(new Date).getTime();await this.processChatMessages(o,(t,n)=>(0,or.Rq)({chat:t,deadline:e/1e3,offsetId:n,addOffset:-1,sliceSize:30,threadId:Kn.l3,maxCount:100}),e,i)}static getInstance(){return lr.instance||(lr.instance=new lr),lr.instance}}sr(lr,"instance",void 0);const ur=lr.getInstance();var dr=__webpack_require__(9390),fr=__webpack_require__(97676),hr=__webpack_require__(84051),pr=__webpack_require__(87357),gr=__webpack_require__(4029),mr=__webpack_require__(70934),yr=__webpack_require__(43503),br=__webpack_require__(80025),vr=__webpack_require__(43874),_r=__webpack_require__(37661),wr=__webpack_require__(73767),Sr=(__webpack_require__(88742),__webpack_require__(11117),__webpack_require__(48544),__webpack_require__(26943),__webpack_require__(4990),__webpack_require__(14)),xr=__webpack_require__(77523),Ir=__webpack_require__(26072),Ar=__webpack_require__(41036),Cr=__webpack_require__(80464),kr=__webpack_require__(52745);const Er=()=>{const e=(0,Cr.A)(I.ar.Auth,"AuthCode");return e?hr.Ay.createElement(e,null):hr.Ay.createElement(kr.A,null)},Tr=()=>{const e=(0,Cr.A)(I.ar.Auth,"AuthPassword");return e?hr.Ay.createElement(e,null):hr.Ay.createElement(kr.A,null)},Pr=["400 1em Roboto","500 1em Roboto","500 1em 'Numbers Rounded'"];function Mr(){if("fonts"in document)return Promise.all(Pr.map(e=>document.fonts.load(e)))}var Or=__webpack_require__(6e4),Dr=__webpack_require__(64713);function Rr(){const e=new URL(window.location.href),t=document.referrer?new URL(document.referrer):void 0;if(t?.origin===e.origin&&t.pathname===e.pathname&&t.searchParams.get("account")!==e.searchParams.get("account"))return void window.location.assign(t);const n=(0,$.Nv)(1);window.location.href=n}function Nr(){let e=navigator.language.toLowerCase();return e&&"pt-br"!==e&&(e=e.substr(0,2)),e}var Fr=__webpack_require__(39351),Lr=__webpack_require__(51580),Br=__webpack_require__(17712);function $r(e,t){const[r,o]=(0,hr.J0)(void 0),i=(0,Br.A)(async()=>{if(!t)return;const r=await(0,Lr.px)("fetchLangStrings",{langCode:t,langPack:n.rgX,keys:[e]}),o=r?.strings[e];return o&&"string"==typeof o?o:void 0});return(0,hr.vJ)(()=>{i().then(o)},[e,t]),r}var jr=__webpack_require__(93855),Ur=__webpack_require__(54746),zr=__webpack_require__(64493),Vr=__webpack_require__(19806),qr=__webpack_require__(40664),Hr=__webpack_require__(52491),Gr=__webpack_require__(529),Wr=__webpack_require__(4961),Kr=__webpack_require__(35297),Yr=__webpack_require__(22699),Jr=__webpack_require__(24433),Xr=__webpack_require__(57474);const Zr=200+n.xB5;function Qr(e,t=""){if(!t.length)return e;const n=(0,Gr.l)(t);return e.filter(e=>n(e.defaultName)||e.name&&n(e.name))}const eo=(0,hr.ph)((0,t.EK)(e=>{const{countryList:{phoneCodes:t}}=e;return{phoneCodeList:t}})(({id:e,value:t,isLoading:n,onChange:o,phoneCodeList:i})=>{const s=(0,Fr.A)(),a=(0,hr.li)(),[c,l]=(0,hr.J0)(),[u,d]=(0,hr.J0)([]),f=(0,hr.hb)(e=>{l(e),d(Qr(i,e))},[i]);(0,Kr.A)(([e])=>{!e?.length&&i.length&&d(Qr(i,c))},[i,c]);const h=(0,hr.hb)(e=>{o(e),setTimeout(()=>f(void 0),Zr)},[o,f]),p=(0,hr.hb)(e=>{f(e.currentTarget.value)},[f]),g=(0,hr.hb)(e=>{if(8!==e.keyCode)return;const n=e.currentTarget;t&&void 0===c&&(n.value=""),f(n.value)},[c,f,t]),m=(0,hr.hb)(({onTrigger:o,isOpen:i})=>{const l=()=>{if(i)return;setTimeout(()=>{a.current.select()},50),o();const e=document.getElementById("auth-phone-number-form");e.scrollTo({top:e.scrollHeight,behavior:"smooth"})},u=t&&r.TL&&(0,Hr.D0)(t.iso2),d=c??[u,t?.name||t?.defaultName||""].filter(Boolean).join(" ");return hr.Ay.createElement("div",{className:(0,pr.A)("input-group",t&&"touched")},hr.Ay.createElement("input",{ref:a,className:(0,pr.A)("form-control",i&&"focus"),type:"text",id:e,value:d,autoComplete:"off",onClick:l,onFocus:l,onInput:e=>{p(e),l()},onKeyDown:g}),hr.Ay.createElement("label",null,s("LoginSelectCountryTitle")),n?hr.Ay.createElement(Xr.A,{color:"black"}):hr.Ay.createElement("i",{onClick:l,className:(0,pr.A)("css-icon-down",i&&"open")}))},[c,p,g,e,n,s,t]);return hr.Ay.createElement(Yr.A,{className:"CountryCodeInput",trigger:m},u.map(e=>hr.Ay.createElement(Jr.A,{key:`${e.iso2}-${e.countryCode}`,className:t&&e.iso2===t.iso2?"selected":"",onClick:()=>h(e)},hr.Ay.createElement("span",{className:"country-flag"},(0,Wr.A)((0,Hr.D0)(e.iso2),["hq_emoji"])),hr.Ay.createElement("span",{className:"country-name"},e.name||e.defaultName),hr.Ay.createElement("span",{className:"country-code"},"+",e.countryCode))),!u.length&&hr.Ay.createElement(Jr.A,{key:"no-results",className:"no-results",disabled:!0},hr.Ay.createElement("span",null,s("CountryNone"))))})),to=__webpack_require__.p+"monkey.a3d5fcdc50b18dc55695.svg";let no=!1;const ro=(0,hr.ph)((0,t.EK)(e=>{const{sharedState:{settings:{language:t}},countryList:{phoneCodes:n},config:r}=e;return{...(0,_.Up)(e,["connectionState","authState","authPhoneNumber","authIsLoading","authIsLoadingQrCode","authErrorKey","authRememberMe","authNearestCountry"]),language:t,phoneCodeList:n,isTestServer:r?.isTestServer}})(({connectionState:e,authState:n,authPhoneNumber:o,authIsLoading:s,authIsLoadingQrCode:a,authErrorKey:c,authRememberMe:l,authNearestCountry:u,phoneCodeList:d,language:f,isTestServer:h})=>{const{setAuthPhoneNumber:p,setAuthRememberMe:g,loadNearestCountry:m,loadCountryList:y,clearAuthErrorKey:b,goToAuthQrCode:v,setSharedSettingOption:_}=(0,t.ko)(),w=(0,Fr.A)(),S=(0,hr.li)(),x=Nr(),I="connectionStateReady"===e,A=$r("AuthContinueOnThisLanguage",x),[C,k]=(0,hr.J0)(),[E,T]=(0,hr.J0)(),[P,O]=(0,hr.J0)(!1),[D,R]=(0,hr.J0)(),[N,F,L]=(0,_r.A)(),B=(0,jr.A)(),j=Object.values(B).length>0,U=(0,hr.Kr)(()=>Object.entries(B).filter(([,e])=>e.isTest===h).reduce((e,[t,{phone:n}])=>(n&&(e[n]=Number(t)),e),{}),[B,h]),z=C?`+${C.countryCode} ${E||""}`:E,V=z&&z.replace(/[^\d]+/g,"").length>=7;(0,hr.vJ)(()=>{r.TF||S.current.focus()},[C]),(0,hr.vJ)(()=>{I&&!u&&m()},[I,u]),(0,hr.vJ)(()=>{I&&y({langCode:f})},[I,f]),(0,hr.vJ)(()=>{u&&d&&!C&&!P&&k((0,Dr.gH)(d,u))},[C,u,P,d]);const q=(0,Br.A)(e=>{e.length||T("");const t=d&&(0,Dr.oL)(d,e),n=!C||t&&t.iso2!==C.iso2||!t&&e.length?t:C;(!C||!n||n&&n.iso2!==C.iso2)&&k(n),T((0,Dr.n4)(e,n))}),H=(0,Br.A)(()=>{F(),(0,Or.wT)(x,()=>{L(),_({language:x})})});(0,hr.vJ)(()=>{void 0===E&&o&&q(o)},[o,E,q]),(0,hr.Nf)(()=>{S.current&&D&&S.current.setSelectionRange(...D)},[D]);const G=(0,hr.li)(!1),W=(0,Br.A)(()=>{G.current=!0,(0,M.YS)(()=>{G.current=!1})}),K=(0,Br.A)(()=>{Rr()}),Y=(0,Br.A)(e=>{k(e),T("")}),J=(0,Br.A)(e=>{c&&b(),no||(no=!0,Mr(),(0,i.NN)(to));const{value:t,selectionStart:n,selectionEnd:o}=e.target;R(n&&o&&o<t.length?[n,o]:void 0),O(!0);const s=r.Yw&&C&&void 0!==z&&t.length-z.length>1&&!G.current;q(s?`${C.countryCode} ${t}`:t)}),X=(0,Br.A)(e=>{g({value:e.target.checked})}),Z=(0,Br.A)(()=>{v()}),Q="authorizationStateWaitPhoneNumber"===n;return hr.Ay.createElement("div",{id:"auth-phone-number-form",className:"custom-scroll"},j&&hr.Ay.createElement(zr.A,{size:"smaller",round:!0,color:"translucent",className:"auth-close",onClick:K},hr.Ay.createElement(Ur.A,{name:"close"})),hr.Ay.createElement("div",{className:"auth-form"},hr.Ay.createElement("div",{id:"logo"}),hr.Ay.createElement("h1",null,w("AuthTitle")),hr.Ay.createElement("p",{className:"note"},w("StartText")),hr.Ay.createElement("form",{className:"form",action:"",onSubmit:function(e){if(e.preventDefault(),s)return;const t=z?.replace(/[^\d]/g,"");t&&U[t]?window.location.replace((0,$.Nv)(U[t])):V&&p({phoneNumber:z})}},hr.Ay.createElement(eo,{id:"sign-in-phone-code",value:C,isLoading:!u&&!C,onChange:Y}),hr.Ay.createElement(qr.A,{ref:S,id:"sign-in-phone-number",label:w("LoginPhonePlaceholder"),value:z,error:c&&w.withRegular(c),inputMode:"tel",onChange:J,onPaste:r.Yw?W:void 0}),hr.Ay.createElement(Vr.A,{id:"sign-in-keep-session",label:w("AuthKeepSignedIn"),checked:Boolean(l),onChange:X}),V&&(Q?hr.Ay.createElement(zr.A,{className:"auth-button",type:"submit",ripple:!0,isLoading:s},w("LoginNext")):hr.Ay.createElement(kr.A,null)),Q&&hr.Ay.createElement(zr.A,{className:"auth-button",isText:!0,ripple:!0,isLoading:a,onClick:Z},w("LoginQRLogin")),x&&x!==f&&A&&hr.Ay.createElement(zr.A,{className:"auth-button",isText:!0,isLoading:N,onClick:H},A),x&&x!==f&&A&&hr.Ay.createElement(zr.A,{size:"smaller",isText:!0,isLoading:N,onClick:H},A))))}));var oo=__webpack_require__(75357),io=__webpack_require__(8235),so=__webpack_require__(58443),ao=__webpack_require__(56863),co=__webpack_require__(83057),lo=__webpack_require__(4438),uo=__webpack_require__(61911);let fo;const ho=(0,hr.ph)((0,t.EK)(e=>{const{connectionState:t,authState:n,authQrCode:r}=e,{language:o}=(0,O.l)(e);return{connectionState:t,authState:n,authQrCode:r,language:o}})(({connectionState:e,authState:r,authQrCode:o,language:i})=>{const{returnToAuthPhoneNumber:s,setSharedSettingOption:a}=(0,t.ko)(),c=Nr(),l=(0,Fr.A)(),u=(0,hr.li)(),d="connectionStateReady"===e,f=$r("AuthContinueOnThisLanguage",c),[h,p,g]=(0,_r.A)(),[m,y,b]=(0,_r.A)(),v=(0,jr.A)(),_=Object.values(v).length>0,{result:w}=(0,ao.A)(async()=>new(0,(await(fo||(fo=__webpack_require__.e(7283).then(__webpack_require__.t.bind(__webpack_require__,97283,23))),fo)).default)({width:280,height:280,image:uo,margin:10,type:"svg",dotsOptions:{type:"rounded"},cornersSquareOptions:{type:"extra-rounded"},imageOptions:{imageSize:.4,margin:8},qrOptions:{errorCorrectionLevel:"M"}}),[]),S=(0,co.A)(m);(0,hr.Nf)(()=>{if(!o||!w)return()=>{b()};if(!d)return;const e=u.current,t=`tg://login?token=${o.token}`;n.rkj&&(0,oo.oA)(),w.update({data:t}),m||(w.append(e),y()),n.rkj&&setTimeout(()=>{(0,oo.Z3)()},50)},[d,o,m,y,b,w]);const x=(0,Br.A)(()=>{Rr()}),I=(0,Br.A)(()=>{p(),(0,Or.wT)(c,()=>{g(),a({language:c})})}),A=(0,Br.A)(()=>{s()}),C="authorizationStateWaitQrCode"===r;return hr.Ay.createElement("div",{id:"auth-qr-form",className:"custom-scroll pt-[5vh]"},_&&hr.Ay.createElement(zr.A,{size:"smaller",round:!0,color:"translucent",className:"auth-close",onClick:x},hr.Ay.createElement(Ur.A,{name:"close"})),hr.Ay.createElement("div",{className:"flex flex-col items-center max-w-[48rem] mx-auto mb-[1.5rem]"},hr.Ay.createElement("img",{src:io,alt:"",className:"w-[104px] h-[100px] mb-[36px]"}),hr.Ay.createElement("div",{className:"text-[55px] leading-[66px] font-bold mb-[20px]"},"TelyAI "),hr.Ay.createElement("div",{className:"text-[28px] leading-[27px] font-medium mb-[30px]"},"Message Smarter with AI. Achieve More."),hr.Ay.createElement("p",{className:"text-[18px] text-[#666666] text-center"},"Welcome to the official TelyAI web client. Built for speed, performance, and privacy. Your conversations remain yours — we never read or save any messages. Feel safe using it.")),hr.Ay.createElement("div",{className:"auth-form flex flex-row items-center gap-[2rem] rounded-[1rem] px-[48px] py-[26px] bg-[#FFFBFF66] max-w-[60rem] mx-auto"},hr.Ay.createElement("div",{className:"qr-outer"},hr.Ay.createElement("div",{className:(0,pr.A)("qr-inner",S),key:"qr-inner"},hr.Ay.createElement("div",{key:"qr-container",className:"qr-container",ref:u,style:"width: 280px; height: 280px"}),hr.Ay.createElement(lo.A,{tgsUrl:so.w.QrPlane,size:54,className:"qr-plane",nonInteractive:!0,noLoop:!1})),!m&&hr.Ay.createElement("div",{className:"qr-loading"},hr.Ay.createElement(kr.A,null))),hr.Ay.createElement("div",null,hr.Ay.createElement("h1",null,l("LoginQRTitle")),hr.Ay.createElement("ol",null,hr.Ay.createElement("li",null,hr.Ay.createElement("span",null,l("LoginQRHelp1"))),hr.Ay.createElement("li",null,hr.Ay.createElement("span",null,l("LoginQRHelp2",void 0,{withNodes:!0,withMarkdown:!0}))),hr.Ay.createElement("li",null,hr.Ay.createElement("span",null,l("LoginQRHelp3")))),C&&hr.Ay.createElement(zr.A,{size:"smaller",isText:!0,onClick:A},l("LoginQRCancel")),c&&c!==i&&f&&hr.Ay.createElement(zr.A,{size:"smaller",isText:!0,isLoading:h,onClick:I},f))))})),po=()=>{const e=(0,Cr.A)(I.ar.Auth,"AuthRegister");return e?hr.Ay.createElement(e,null):hr.Ay.createElement(kr.A,null)},go=(0,hr.ph)((0,t.EK)(e=>({authState:e.authState}))(({authState:e})=>{const{returnToAuthPhoneNumber:n,goToAuthQrCode:o}=(0,t.ko)(),i="iOS"===r.Aw||"Android"===r.Aw;(0,Ir.A)({isActive:!i&&"authorizationStateWaitPhoneNumber"===e||i&&"authorizationStateWaitQrCode"===e,onBack:()=>{i?n():o()}});const s=(0,hr.li)();(0,xr.A)(s);const a=(0,Sr.A)("authorizationStateReady"!==e?e:void 0,!0);return hr.Ay.createElement(Ar.Ay,{activeKey:function(){switch(a){case"authorizationStateWaitCode":return 0;case"authorizationStateWaitPassword":return 1;case"authorizationStateWaitRegistration":return 2;case"authorizationStateWaitPhoneNumber":return 3;case"authorizationStateWaitQrCode":return 4;default:return i?3:4}}(),name:"fade",className:"Auth",ref:s},function(){switch(a){case"authorizationStateWaitCode":return hr.Ay.createElement(Er,null);case"authorizationStateWaitPassword":return hr.Ay.createElement(Tr,null);case"authorizationStateWaitRegistration":return hr.Ay.createElement(po,null);case"authorizationStateWaitPhoneNumber":return hr.Ay.createElement(ro,null);case"authorizationStateWaitQrCode":return hr.Ay.createElement(ho,null);default:return i?hr.Ay.createElement(ro,null):hr.Ay.createElement(ho,null)}}())}));var mo=__webpack_require__(23174),yo=__webpack_require__(62214),bo=__webpack_require__(58554),vo=__webpack_require__(15283),_o=__webpack_require__(50680);const wo="ThfRMqwq",So="kN2M6u9m";var xo=__webpack_require__(89704);const Io=__webpack_require__.p+"mask.c474db1e76529489b940.svg",Ao=__webpack_require__.p+"telegram-logo.1b2bb5b107f046ea9325.svg";function Co(){const{listIds:e,byId:n}=(0,t.mS)().chats;if(e.active)return Promise.all(e.active.slice(0,10).map(e=>{const t=n[e];if(!t)return;const r=(0,yo.cP)(t);return r?bo.hd(r,mo.qZ.BlobUrl):void 0}))}const ko={main:()=>Promise.all([(0,I.Vw)(I.ar.Main).then(Mr),Co(),(0,i.NN)(Io),B.CO]),authPhoneNumber:()=>Promise.all([Mr(),(0,i.NN)(Ao)]),authCode:()=>(0,i.NN)(to),authPassword:()=>(0,i.NN)(to),authQrCode:Mr,lock:()=>Promise.all([Mr(),(0,i.NN)(xo)]),inactive:()=>{}},Eo=(0,t.EK)((e,{isMobile:t})=>{const n=(0,d.nTw)(e);return{shouldSkipHistoryAnimations:n.shouldSkipHistoryAnimations,uiReadyState:n.uiReadyState,isRightColumnShown:(0,d.gjV)(e,t),leftColumnWidth:e.leftColumnWidth}})(({page:e,children:n,isRightColumnShown:r,shouldSkipHistoryAnimations:o,leftColumnWidth:i})=>{const{setIsUiReady:s}=(0,t.ko)(),[a,c]=(0,_r.A)(),{shouldRender:l,transitionClassNames:u}=(0,_o.A)(!a,void 0,!0);return(0,vo.A)(()=>{let t;return Promise.race([(0,R.v7)(700),e?(async()=>{try{await ko[e]()}catch(e){}})():Promise.resolve()]).then(()=>{c(),s({uiReadyState:1}),t=window.setTimeout(()=>{s({uiReadyState:2})},1e3)}),()=>{t&&(clearTimeout(t),t=void 0),s({uiReadyState:0})}}),hr.Ay.createElement(hr.Ay.Fragment,null,n,l&&!o&&Boolean(e)&&hr.Ay.createElement("div",{className:(0,pr.A)("U9MowLv_",u)},"main"===e?hr.Ay.createElement("div",{className:"RcG6eRZw"},hr.Ay.createElement("div",{className:"oL7XcRwI",style:i?`width: ${i}px`:void 0}),hr.Ay.createElement("div",{className:(0,pr.A)("LYe7IaQO",wo)}),r&&hr.Ay.createElement("div",{className:"wYSGQZXX"})):"inactive"===e||"lock"===e?hr.Ay.createElement("div",{className:(0,pr.A)(So,wo)}):hr.Ay.createElement("div",{className:So})))}),To=__webpack_require__.p+"app-inactive.da3925145f0a7111c0f1.png",Po=()=>{const e=(0,hr.hb)(()=>{window.location.reload()},[]);return(0,Ir.A)({isActive:!0,onBack:e,shouldResetUrlHash:!0}),hr.Ay.createElement("div",{id:"AppInactive"},hr.Ay.createElement("div",{className:"content"},hr.Ay.createElement("img",{src:To,alt:""}),hr.Ay.createElement("h3",{className:"title"},"Such error, many tabs"),hr.Ay.createElement("div",{className:"description"},"Telegram supports only one active tab with the app.",hr.Ay.createElement("br",null),"Please reload this page to continue using this tab or close it."),hr.Ay.createElement("div",{className:"actions"},hr.Ay.createElement(zr.A,{isText:!0,ripple:!0,onClick:e},"Reload app"))))},Mo=e=>{const{isLocked:t}=e,n=(0,Cr.A)(I.ar.Main,"LockScreen",!t);return n?hr.Ay.createElement(n,e):void 0},Oo=e=>{const t=(0,Cr.A)(I.ar.Main,"Main");return t?hr.Ay.createElement(t,e):void 0};var Do=function(e){return e[e.auth=0]="auth",e[e.main=1]="main",e[e.lock=2]="lock",e[e.inactive=3]="inactive",e}(Do||{});const Ro=Object.keys(Do).length/2,No=`${n.j0M} ${n.LaL}`,Fo=(0,t.EK)(e=>{const{currentUserId:t}=e;return t&&(0,br.Q)(t),{authState:e.authState,isScreenLocked:e.passcode?.isScreenLocked,hasPasscode:e.passcode?.hasPasscode,isInactiveAuth:(0,d.nTw)(e).isInactive,hasWebAuthTokenFailed:e.hasWebAuthTokenFailed||e.hasWebAuthTokenPasswordRequired,theme:(0,d.SJA)(e),isTestServer:e.config?.isTestServer}})(({authState:e,isScreenLocked:t,hasPasscode:o,isInactiveAuth:i,hasWebAuthTokenFailed:s,isTestServer:a,theme:c})=>{const[l,u,d]=(0,_r.A)(!1),{isMobile:f}=(0,vr.Ay)(),h="iOS"===r.Aw||"Android"===r.Aw;let p,g;if((0,hr.vJ)(()=>{r.nB&&(0,gr.a)()},[]),(0,hr.vJ)(()=>{const e=(0,A.cA)();if(!(0,w.wr)()&&!$.Xz&&!e){const t=(0,$.zk)();Object.keys(t).map(Number).sort((e,t)=>t-e).forEach(n=>{const r=Number(n);if(t[r]){const t=(0,$.Nv)(r);window.location.href=`${t}#${e||"login"}`}})}(async()=>{if((0,w.$m)()&&$.Xz&&await(0,mr.H)()){const e=(0,$.Nv)(1);window.location.href=e}})()},[]),(0,hr.vJ)(()=>{const e=document.body,t=e=>{e.preventDefault(),e.dataTransfer&&(e.target.dataset.dropzone?e.dataTransfer.dropEffect="copy":e.dataTransfer.dropEffect="none")},n=e=>{e.preventDefault()};return e.addEventListener("drop",n),e.addEventListener("dragover",t),e.addEventListener("dragenter",t),()=>{e.removeEventListener("drop",n),e.removeEventListener("dragover",t),e.removeEventListener("dragenter",t)}},[]),l)p=Do.inactive;else if(t)g="lock",p=Do.lock;else if(e)switch(e){case"authorizationStateWaitPhoneNumber":g="authPhoneNumber",p=Do.auth;break;case"authorizationStateWaitCode":g="authCode",p=Do.auth;break;case"authorizationStateWaitPassword":g="authPassword",p=Do.auth;break;case"authorizationStateWaitRegistration":p=Do.auth;break;case"authorizationStateWaitQrCode":g="authQrCode",p=Do.auth;break;case"authorizationStateClosed":case"authorizationStateClosing":case"authorizationStateLoggingOut":case"authorizationStateReady":g="main",p=Do.main}else(0,w.wr)()?(g="main",p=Do.main):o?p=Do.lock:(g=h?"authPhoneNumber":"authQrCode",p=Do.auth);p!==Do.lock&&p!==Do.inactive&&p!==Do.main&&(0,A.f4)()?.tgWebAuthToken&&!s&&(g="main",p=Do.main),(0,hr.vJ)(()=>{(0,yr.u)()},[]),(0,hr.vJ)(()=>{i?(document.title=No,u()):(document.title=n.j0M,d())},[i,u,d]);const m=(0,wr.A)(p);function y(){switch(p){case Do.auth:return hr.Ay.createElement(go,null);case Do.main:return hr.Ay.createElement(Oo,{isMobile:f});case Do.lock:return hr.Ay.createElement(Mo,{isLocked:t});case Do.inactive:return hr.Ay.createElement(Po,null)}}return(0,hr.Nf)(()=>{document.body.classList.add(wo)},[]),(0,hr.Nf)(()=>{document.body.style.setProperty("--theme-background-color","dark"===c?n.PqE:n.XLD)},[c]),hr.Ay.createElement(Eo,{page:g,isMobile:f},hr.Ay.createElement(Ar.Ay,{name:"fade",activeKey:p,shouldCleanup:!0,className:(0,pr.A)("full-height",(p===Do.auth||m===Do.auth)&&"is-auth"),renderCount:Ro},y),p===Do.auth&&a&&hr.Ay.createElement("div",{className:"test-server-badge"},"Test server"))});n.rkj&&(0,M.Z3)(),async function(){if(n.Oig&&console.log(">>> INIT"),!window.isCompatTestPassed)return;(0,j.Tq)(),await(window.electron?.restoreLocalStorage()),(0,L.mY)(),await(0,L.Ld)("0.0.20"),localStorage.setItem($.pn,"1"),(0,R.yu)(()=>{const e=(0,t.mS)();1===Object.keys(e.byTabId).length&&localStorage.removeItem($.pn)}),await S(),(0,t.ko)().init(),(0,t.ko)().updateShouldEnableDebugLog(),(0,t.ko)().updateShouldDebugExportedSenders();const o=(0,t.mS)();(0,B.S7)((0,O.l)(o).language,!0),ur.initTask(),dr.n.initTask(),fr.J.initTask(),Gn.x.initTask(),(0,y.wr)(e=>{(0,t.ko)().switchMultitabRole({isMasterTab:e},{forceSyncOnIOs:!0})});const i="authorizationStateReady"!==(0,t.mS)().authState;(0,y.UJ)(i),n.Oig&&console.log(">>> START INITIAL RENDER"),(0,M.RK)(()=>{!function(){if(!r.MP)return;const e=document.getElementById("the-manifest-placeholder");if(!e)return;const t=`site_apple${n.Oig?"_dev":""}.webmanifest`;e.setAttribute("href",t)}(),P.Ay.render(e.Ay.createElement(Fo,null),document.getElementById("root")),function(){if(!r.pz)return;let e,t=Date.now();function n(){e||N||(e=window.setInterval(F,5e3))}window.addEventListener("focus",()=>{const e=Date.now();e-t<100||(t=e,n(),F())}),window.addEventListener("blur",()=>{clearInterval(e),e=void 0}),document.hasFocus()&&(n(),F())}()}),n.Oig&&console.log(">>> FINISH INITIAL RENDER"),n.Oig&&document.addEventListener("dblclick",()=>{console.warn("TAB STATE",(0,d.nTw)((0,t.mS)())),console.warn("GLOBAL STATE",(0,t.mS)())})}(),(0,R.yu)(()=>{const e=(0,t.ko)();e.leaveGroupCall?.({isPageUnload:!0}),e.hangUp?.({isPageUnload:!0})})})()})();
//# sourceMappingURL=main.0065e50fe9c18efe6924.js.map