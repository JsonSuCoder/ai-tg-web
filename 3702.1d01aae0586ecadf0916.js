(self.webpackChunkTeleGPT=self.webpackChunkTeleGPT||[]).push([[3702],{45:(e,t,a)=>{"use strict";a.d(t,{A:()=>i});var n=a(84051),s=a(41036),r=a(54746),o=function(e){return e[e.failed=0]="failed",e[e.pending=1]="pending",e[e.succeeded=2]="succeeded",e[e.read=3]="read",e}(o||{});const i=(0,n.ph)(({status:e})=>n.Ay.createElement("div",{className:"MessageOutgoingStatus"},n.Ay.createElement(s.Ay,{name:"reveal",activeKey:o[e]},"failed"===e?n.Ay.createElement("div",{className:"MessageOutgoingStatus--failed"},n.Ay.createElement(r.A,{name:"message-failed"})):n.Ay.createElement(r.A,{name:`message-${e}`}))))},285:(e,t,a)=>{"use strict";a.a(e,async(e,n)=>{try{a.d(t,{A:()=>p});var s=a(84051),r=a(13439),o=a(90709),i=a(60919),c=a(4961),l=a(59030),d=a(94189),m=e([l,d]);[l,d]=m.then?(await m)():m;const u=({isOpen:e,chat:t,userId:a,contactName:n,onClose:o})=>{const{deleteChatMember:i}=(0,r.ko)(),m=(0,l.A)(),u=(0,s.hb)(()=>{i({chatId:t.id,userId:a}),o()},[t,i,o,a]);if(t&&a)return s.Ay.createElement(d.A,{isOpen:e,onClose:o,title:m("GroupRemoved.Remove"),textParts:(0,c.A)(m("PeerInfo.Confirm.RemovePeer",n)),confirmLabel:m("lng_box_remove"),confirmHandler:u,confirmIsDestructive:!0})},p=(0,s.ph)((0,r.EK)((e,{userId:t})=>{const a=(0,i.meB)(e),n=t&&(0,i.mBe)(e,t);return{chat:a,contactName:n?(0,o.u0)(n):void 0}})(u));n()}catch(e){n(e)}})},409:(e,t,a)=>{"use strict";a.a(e,async(e,n)=>{try{a.d(t,{A:()=>y});var s=a(84051),r=a(13439),o=a(90709),i=a(70636),c=a(60919),l=a(87357),d=a(4961),m=a(21488),u=a(17712),p=a(62587),h=a(59030),A=e([i,p,h]);function g({message:e,story:t,peer:a,isUnread:n,targetUser:c}){const{openStoryViewer:A}=(0,r.ko)(),g=(0,h.A)(),{storyData:y}=e.content,f=(0,u.A)(()=>{A({peerId:t.peerId,storyId:t.id,isSinglePeer:!0,isSingleStory:!0})}),v=t&&"isDeleted"in t,E=t&&"content"in t,b=E?t.content.video:void 0,w=E?(0,o.EN)(t,"pictogram"):void 0,x=(0,p.A)(w)||b?.thumbnail?.dataUri;return(0,m.A)(y.peerId,y.id,t),s.Ay.createElement("div",{className:(0,l.A)("action-message-story-mention",n&&"is-unread",E&&"with-preview"),tabIndex:0,role:"button",onClick:E?f:void 0},E&&s.Ay.createElement("span",{className:"story-media-wrapper"},x&&s.Ay.createElement("img",{src:x,alt:"",className:"story-media"})),s.Ay.createElement("span",{className:"story-title"},(0,d.A)(a&&"isSelf"in a&&a.isSelf?g(v?"ExpiredStoryMentioned":"StoryYouMentionedTitle",(0,o.u0)(c)):v?g("ExpiredStoryMention"):g("StoryMentionedTitle",(0,i.F9)(g,a)),["emoji","simple_markdown"])))}[i,p,h]=A.then?(await A)():A;const y=(0,s.ph)((0,r.EK)((e,{message:t})=>{const{id:a,peerId:n}=t.content.storyData,s=(0,c._bp)(e,n)?.lastReadId;return{story:(0,c.Msb)(e,n,a),peer:(0,c.PVB)(e,n),targetUser:(0,c.mBe)(e,t.chatId),isUnread:Boolean(s&&s<a)}})(g));n()}catch(f){n(f)}})},563:(e,t,a)=>{"use strict";a.a(e,async(e,n)=>{try{a.d(t,{A:()=>E});var s=a(84051),r=a(13439),o=a(60919),i=a(87357),c=a(14242),l=a(39351),d=a(17712),m=a(59030),u=a(93809),p=a(4421),h=a(21849),A=a(54746),g=a(57474),y=e([l,m,p,h]);[l,m,p,h]=y.then?(await y)():y;const f=450,v=({isCustomShape:e,threadInfo:t,disabled:a,isLoading:n,asActionButton:y})=>{const{openThread:v,openFrozenAccountModal:E}=(0,r.ko)(),b=(0,u.A)([n],f),w=(0,m.A)(),x=(0,l.A)(),{originMessageId:C,chatId:N,messagesCount:I,lastMessageId:S,lastReadInboxMessageId:M,recentReplierIds:k,originChannelId:T}=t,P=(0,d.A)(()=>{const e=(0,r.mS)();(0,o.trm)(e)?E():v({isComments:!0,chatId:N,originMessageId:C,originChannelId:T})}),L=(0,s.Kr)(()=>{if(!k?.length)return;const e=(0,r.mS)();return k.map(t=>(0,o.PVB)(e,t)).filter(Boolean)},[k]);if(void 0===I)return;const B=Boolean(M&&S&&M<S),R=I?w("CommentsCount","%COMMENTS_COUNT%",void 0,I).split("%").map(e=>"COMMENTS_COUNT"===e?s.Ay.createElement(p.A,{text:(0,c.Vw)(x,I)}):e):void 0;return s.Ay.createElement("div",{"data-cnt":(0,c.Vw)(x,I),className:(0,i.A)("CommentButton",B&&"has-unread",a&&"disabled",e&&"CommentButton-custom-shape",n&&"loading",y&&"as-action-button"),dir:w.isRtl?"rtl":"ltr",onClick:P,role:"button",tabIndex:0},s.Ay.createElement(A.A,{name:"comments-sticker",className:(0,i.A)("CommentButton_icon-comments",n&&b&&"CommentButton_hidden")}),!L?.length&&s.Ay.createElement(A.A,{name:"comments"}),Boolean(L?.length)&&s.Ay.createElement("div",{className:"recent-repliers",dir:w.isRtl?"rtl":"ltr"},L.map(e=>s.Ay.createElement(h.A,{key:e.id,size:"small",peer:e}))),s.Ay.createElement("div",{className:"label",dir:"auto"},I?R:w("LeaveAComment")),s.Ay.createElement("div",{className:"CommentButton_right"},n&&s.Ay.createElement(g.A,{className:(0,i.A)("CommentButton_loading",!b&&"CommentButton_hidden"),color:e?"white":"blue"}),s.Ay.createElement(A.A,{name:"next",className:(0,i.A)("CommentButton_icon-open",n&&b&&"CommentButton_hidden")})))},E=(0,s.ph)(v);n()}catch(e){n(e)}})},821:(e,t,a)=>{"use strict";a.d(t,{A:()=>n});const n={root:"kxMIqtqr",wrapper:"D6Yajvjx",media:"cV_QL3N5",expiredIcon:"cq7jTRkg",overlayIcon:"NOCaj4mx",pinnedIcon:"GTWFQyJx",viewsCount:"g09Rb4Ps",duration:"lM_2MMyQ",contextMenu:"UAfI9izT"}},1023:(e,t,a)=>{"use strict";function n(e){switch(e){case"telegram_channel_request":case"telegram_megagroup_request":case"telegram_chat_request":return"ViewButtonRequestJoin";case"telegram_message":return"ViewButtonMessage";case"telegram_bot":return"ViewButtonBot";case"telegram_voicechat":return"ViewButtonVoiceChat";case"telegram_livestream":return"ViewButtonVoiceChatChannel";case"telegram_megagroup":case"telegram_chat":return"ViewButtonGroup";case"telegram_channel":return"ViewButtonChannel";case"telegram_user":return"ViewButtonUser";case"telegram_botapp":return"ViewButtonBotApp";case"telegram_chatlist":return"ViewChatList";case"telegram_story":return"ViewButtonStory";case"telegram_channel_boost":case"telegram_group_boost":return"ViewButtonBoost";case"telegram_stickerset":return"ViewButtonStickerset";case"telegram_emojiset":return"ViewButtonEmojiset";case"telegram_nft":return"ViewButtonGiftUnique";default:return}}a.d(t,{T:()=>n})},1237:(e,t,a)=>{"use strict";a.d(t,{A:()=>o});var n=a(84051),s=a(80089),r=a(80464);const o=e=>{const{isOpen:t}=e,a=(0,r.A)(s.ar.Extra,"ChatCommandTooltip",!t);return a?n.Ay.createElement(a,e):void 0}},1344:(e,t,a)=>{"use strict";a.d(t,{P:()=>l});var n=a(96540),s=a(17965),r=a.n(s),o=a(13439),i=a(87205),c=a(70809);const l=({message:e})=>{const{showNotification:t}=(0,o.ko)(),{isSpeaking:a,speak:s,stop:l}=(0,i.H)(e.id);return n.createElement("div",{className:"message-actions flex items-center gap-[8px]"},n.createElement("div",{className:"w-[24px] h-[24px] text-[#676B74] cursor-pointer",onClick:()=>{r()(e.content),t({message:"TextCopied"})}},n.createElement(c.Td,{size:24})),a?n.createElement("div",{className:"w-[24px] h-[24px] text-[#676B74] cursor-pointer",onClick:l},n.createElement(c.ON,{size:24})):n.createElement("div",{className:"w-[24px] h-[24px] text-[#676B74] cursor-pointer",onClick:()=>{const t=e.content;a?l():s(t)}},n.createElement(c.S,{size:24})))}},1396:(e,t,a)=>{"use strict";a.a(e,async(e,n)=>{try{a.d(t,{A:()=>E});var s=a(84051),r=a(13439),o=a(90709),i=a(60919),c=a(85982),l=a(64713),d=a(17712),m=a(59030),u=a(21849),p=a(93700),h=a(64493),A=a(93846),g=e([m,u,p,h]);[m,u,p,h]=g.then?(await g)():g;const y="0",f=({contact:e,user:t,phoneCodeList:a,noUserColors:n})=>{const i=(0,m.A)(),{openChat:g,openAddContactDialog:f,showNotification:E,openChatWithInfo:b}=(0,r.ko)(),{phoneNumber:w,userId:x}=e,C=x!==y,N=C&&t&&(0,o.Gh)(t),I=(0,d.A)(()=>{g({id:x})}),S=(0,d.A)(()=>{f({userId:t?.id})}),M=(0,d.A)(()=>{t?b({id:x}):((0,c.eM)(w),E({message:i("PhoneCopied")}))});return s.Ay.createElement(p.A,{noUserColors:n,peer:t,emojiIconClassName:A.A.emojiIconBackground,className:A.A.root},s.Ay.createElement("div",{className:A.A.infoContainer,onClick:M},s.Ay.createElement(u.A,{size:"medium",peer:t,text:v(e)}),s.Ay.createElement("div",{className:A.A.info},s.Ay.createElement("div",{className:A.A.name},t?(0,o.Yg)(t):v(e)),s.Ay.createElement("div",{className:A.A.phone},(0,l.Ox)(a,w)))),C&&s.Ay.createElement(s.Ay.Fragment,null,s.Ay.createElement("div",{className:A.A.divider}),s.Ay.createElement("div",{className:A.A.buttons},s.Ay.createElement(h.A,{isText:!0,color:"translucent",ripple:!0,size:"tiny",onClick:I,className:A.A.button},i("SharedContactMessage")),N&&s.Ay.createElement(h.A,{isText:!0,color:"translucent",ripple:!0,size:"tiny",onClick:S,className:A.A.button},i("SharedContactAdd")))))};function v(e){return e.firstName&&e.lastName?`${e.firstName} ${e.lastName}`:e.firstName?e.firstName:e.lastName?e.lastName:""}const E=(0,r.EK)((e,{contact:t})=>{const{countryList:{phoneCodes:a}}=e;return{user:(0,i.mBe)(e,t.userId),phoneCodeList:a}})(f);n()}catch(b){n(b)}})},1430:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});var n=a(84051);const s=()=>n.Ay.createElement("div",{className:"input-translate-tip"},n.Ay.createElement("span",null,"Enter your native language, and it will auto-translate to the set language upon sending."),n.Ay.createElement("div",{className:"input-translate-tip-arrow"}))},1671:()=>{},2178:(e,t,a)=>{"use strict";a.d(t,{v:()=>i});var n=a(84051),s=a(46536);const r=new Set(["INPUT","TEXTAREA","SELECT"]),o=(0,s.h)();function i(e){(0,n.vJ)(()=>{if(!e)return;const t=Object.entries(e);return o.addCallback(function(e){(function(e){return!(e.target instanceof HTMLElement)||!r.has(e.target.tagName)})(e)&&t.forEach(([t,a])=>{(function(e){return t=>function(e,t){const{alt:a,ctrl:n,meta:s,mod:r,shift:o,key:i}=e,{altKey:c,ctrlKey:l,metaKey:d,shiftKey:m,key:u}=t;if(a!==c)return!1;if(r){if(!l&&!d)return!1}else{if(n!==l)return!1;if(s!==d)return!1}return o===m&&Boolean(i&&(u.toLowerCase()===i.toLowerCase()||t.code.replace("Key","").toLowerCase()===i.toLowerCase()))}(function(e){const t=e.toLowerCase().split("+").map(e=>e.trim()),a={alt:t.includes("alt"),ctrl:t.includes("ctrl"),meta:t.includes("meta"),mod:t.includes("mod"),shift:t.includes("shift")},n=["alt","ctrl","meta","shift","mod"];return{...a,key:t.find(e=>!n.includes(e))}}(e),t)})(t)(e)&&a(e)})})},[e])}document.documentElement.addEventListener("keydown",o.runCallbacks)},2429:(e,t,a)=>{"use strict";a.d(t,{A:()=>n});const n={root:"CdTfL4f7",fadeIn:"MyeHARy0",closing:"EZbKn_M3",peer:"kW0xpExG",name:"BDZrSTO_",name_hasUnreadStory:"OoUm5AUZ",nameHasUnreadStory:"OoUm5AUZ",hidden:"lnVtxMZI",contextMenu:"N1sagA0s"}},3039:(e,t,a)=>{"use strict";a.d(t,{A:()=>n});const n={root:"dCK8GQ_8",duration:"CWT8ZMwV",buy:"C38zhCDM",spoiler:"CG55VZP1"}},3225:(e,t,a)=>{"use strict";a.a(e,async(e,n)=>{try{a.d(t,{A:()=>x});var s=a(84051),r=a(13439),o=a(31481),i=a(66644),c=a(98221),l=a(96454),d=a(36353),m=a(39074),u=a(58734),p=a(63988),h=a(83414),A=a(19129),g=a(37661),y=a(17712),f=e([u]),v=f.then?(await f)():f;u=v[0];const E=300,b=new RegExp(`(${c.A.source})$`,"g"),w=new RegExp(`${o.bpX.source}$`,"g");function x(e,t,a,n,f,v){const{loadCustomEmojiForEmoji:x,clearCustomEmojiForEmoji:C}=(0,r.ko)(),[N,I,S]=(0,g.A)(!1),M=(0,p.gs)(()=>{const a=t();if(!e||!a||!n()?.collapsed)return;if(!a.match(l.TL?c.A:o.bpX))return;const s=(0,m.LV)(f.current);return s.match(l.TL?b:w)?.[0]},[t,n,f,e],E),k=(0,h.A)(M,[M,t,n],!0),T=(0,A.A)(()=>Boolean(k()),[k]),P=Boolean(v?.length);(0,s.vJ)(()=>{if(!e||!T)return;const t=k();if(t){if(!P){const e=l.TL?t:t.match(/.+alt="(.+)"/)?.[1];e&&x({emoji:e})}}else C()},[e,T,k,P,C,x]);const L=(0,y.A)(t=>{const n=k();if(!e||!n)return;const s=f.current,r=(0,m.LV)(s),o=l.TL?n:n.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&"),c=new RegExp(`(${o})\\1*$`,""),p=r.match(c)[0].length/n.length,h=r.replace(c,(0,u.hB)(t).repeat(p)),A=s.innerHTML.substring(r.length);a(`${h}${A}`),(0,i.Uz)(()=>{(0,d.A)(s,!0,!0)})});return(0,s.vJ)(S,[S,t]),{isCustomEmojiTooltipOpen:Boolean(T&&P&&!N),closeCustomEmojiTooltip:I,insertCustomEmoji:L}}n()}catch(C){n(C)}})},4825:(e,t,a)=>{"use strict";a.d(t,{q:()=>r});var n=a(96540),s=a(70809);const r=({attachment:e,isUploading:t=!1})=>{const{name:a,url:r,contentType:o}=e;return n.createElement("div",{className:"flex flex-col gap-2"},n.createElement("div",{className:"w-20 h-16 aspect-video bg-muted rounded-md relative flex flex-col items-center justify-center"},o&&o.startsWith("image")?n.createElement("img",{key:r,src:r,alt:a??"An image attachment",className:"rounded-md size-full object-cover"}):n.createElement("div",{className:""}),t&&n.createElement("div",{className:"animate-spin absolute text-zinc-500"},n.createElement(s.hz,null))),n.createElement("div",{className:"text-xs text-zinc-500 max-w-16 truncate"},a))}},4955:(e,t,a)=>{"use strict";a.d(t,{$:()=>r});var n=a(96540),s=a(22199);const r=({className:e,disabled:t,onClick:a,children:r})=>n.createElement("button",{className:(0,s.cn)("w-[40px] h-[40px] p-[5px] border-none rounded-full box-border flex items-center justify-center hover:bg-[var(--color-interactive-element-hover)]",e),onClick:a,disabled:t},r)},5082:(e,t,a)=>{"use strict";a.d(t,{A:()=>n});const n={root:"fOmerTkM",title:"URLYINJA",subtitle:"mCFsx7Tv"}},5130:(e,t,a)=>{"use strict";a.d(t,{U:()=>i});var n=a(14235),s=a(37836);function r(e,t,a){return(t=function(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var a=t.call(e,"string");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class o{constructor(e,t,a){this.target=e,this.onUpdate=t,this.channel=a,r(this,"requestStates",new Map),r(this,"requestStatesByCallback",new Map),r(this,"pendingPayloads",[]),r(this,"pendingTransferables",[]),r(this,"postMessagesOnTickEnd",(0,s.Fe)(()=>{const{channel:e}=this,t=this.pendingPayloads,a=this.pendingTransferables;this.pendingPayloads=[],this.pendingTransferables=[],this.target.postMessage({channel:e,payloads:t},a)}))}destroy(){}init(...e){this.postMessageOnTickEnd({type:"init",args:e})}request(e){const{requestStates:t,requestStatesByCallback:a}=this,{transferables:s,...r}=e,o=(0,n.A)(),i={type:"callMethod",messageId:o,...r},c={messageId:o},l=new Promise((e,t)=>{Object.assign(c,{resolve:e,reject:t})});if("function"==typeof i.args[i.args.length-1]){i.withCallback=!0;const e=i.args.pop();c.callback=e,a.set(e,c)}return t.set(o,c),l.catch(()=>{}).finally(()=>{t.delete(o),c.callback&&a.delete(c.callback)}),this.postMessageOnTickEnd(i,s),l}cancelCallback(e){e.isCanceled=!0;const{messageId:t}=this.requestStatesByCallback.get(e)||{};t&&this.postMessageOnTickEnd({type:"cancelProgress",messageId:t})}onMessage(e){const{requestStates:t,channel:a}=this;e.channel===a&&e.payloads.forEach(e=>{if("update"===e.type&&this.onUpdate&&this.onUpdate(e.update),"methodResponse"===e.type){const a=t.get(e.messageId);a&&(e.error?a.reject(e.error):a.resolve(e.response))}else if("methodCallback"===e.type){const a=t.get(e.messageId);a?.callback?.(...e.callbackArgs)}else if("unhandledError"===e.type)throw new Error(e.error?.message)})}postMessageOnTickEnd(e,t){this.pendingPayloads.push(e),t&&this.pendingTransferables.push(...t),this.postMessagesOnTickEnd()}}function i(e,t,a){const n=new o(e,t,a);function s({data:e}){n.onMessage(e)}return e.addEventListener("message",s),n.destroy=()=>{e.removeEventListener("message",s)},n}},5331:(e,t,a)=>{"use strict";a.a(e,async(e,n)=>{try{a.d(t,{A:()=>E});var s=a(84051),r=a(13439),o=a(31481),i=a(66644),c=a(87357),l=a(95807),d=a(39751),m=a(31307),u=a(6215),p=a(83563),h=e([m,u]);[m,u]=h.then?(await h)():h;const A=9/16,g=100,y=new Set(["channelPost","uniqueGift"]),f=({story:e,isActive:t,className:a,isStoryPlaying:n})=>{const{openMapModal:l,openUniqueGiftBySlug:h,focusMessage:g,closeStoryViewer:f,openUrl:E}=(0,r.ko)(),b=(0,s.li)(),[w,x]=(0,s.J0)(0),C=(0,d.A)();(0,s.vJ)(()=>{if(!b.current)return;const e=b.current;if(x(e.clientWidth),C.width>o.c2m)return void(0,i.RK)(()=>{e.style.removeProperty("--media-width"),e.style.removeProperty("--media-height")});const t=C.width/C.height,a=t<A?e.clientHeight*A:e.clientWidth,n=t<A?e.clientHeight:e.clientWidth/A;(0,i.RK)(()=>{e.style.setProperty("--media-width",`${a}px`),e.style.setProperty("--media-height",`${n}px`)})},[t,C]);const N=e.mediaAreas;return s.Ay.createElement("div",{className:(0,c.A)(p.A.overlay,!t&&p.A.preview,a),ref:b},N?.map((a,r)=>{switch(a.type){case"geoPoint":case"venue":case"channelPost":case"url":case"uniqueGift":{const e=t&&!y.has(a.type);return s.Ay.createElement("div",{className:(0,c.A)(p.A.mediaArea,e&&p.A.shiny),style:v(a),onClick:()=>(e=>{switch(e.type){case"geoPoint":case"venue":l({geoPoint:e.geo});break;case"channelPost":g({chatId:e.channelId,messageId:e.messageId}),f();break;case"url":E({url:e.url});break;case"uniqueGift":h({slug:e.slug})}})(a)})}case"suggestedReaction":return s.Ay.createElement(m.A,{key:`${a.type}-${r}`,story:e,mediaArea:a,index:r,isPreview:!t,className:p.A.mediaArea,style:v(a)});case"weather":return s.Ay.createElement(u.A,{key:`${a.type}-${r}`,mediaArea:a,className:p.A.mediaArea,style:v(a,w),isPreview:!t||n});default:return}}))};function v(e,t){const{x:a,y:n,width:s,height:r,rotation:o,radius:i}=e.coordinates;let c="";if(t&&i&&t>0){const e=t*(s/g),a=t*(r/g);c=Math.min(e,a)*(i/g)+"px"}return(0,l.A)(`left: ${a}%`,`top: ${n}%`,`width: ${s}%`,`height: ${r}%`,`transform: rotate(${o}deg) translate(-50%, -50%)`,c&&`border-radius: ${c}`)}const E=(0,s.ph)(f);n()}catch(b){n(b)}})},5844:(e,t,a)=>{"use strict";a.d(t,{A:()=>c});var n=a(96540),s=a(21468),r=a(69893),o=a(99083),i=a(75175);const c=e=>{const{text:t,setHtml:a,onClose:c}=e,[l,d]=n.useState(!0),[m,u]=n.useState([]);(0,n.useEffect)(()=>{(0,r.FG)(t).then(e=>{if(!e.data.errors)throw new Error("No errors found in the text");u(e.data.errors),d(!1)}).catch(e=>{console.error("Error checking grammar:",e),d(!1),u([])})},[]);const p=(0,n.useCallback)(()=>{if(m){const e=(0,r.Zm)(t,m);a(e),c()}},[m]);return n.createElement("div",null,n.createElement("h2",{className:"grammar-tool-tab-content-title"},"Enhance clarity and fluency"),l?n.createElement(o.A,null):n.createElement(n.Fragment,null,n.createElement(i.A,{text:t,errors:m}),n.createElement(s.Ay,{color:"default",variant:"outlined",onClick:p},"Accept")))}},6025:(e,t,a)=>{"use strict";a.d(t,{A:()=>d});var n=a(84051),s=a(87357),r=a(15283),o=a(37661),i=a(17712),c=a(93545),l=a(54746);const d=(0,n.ph)(({isQuick:e,isGeneric:t,onFileSelect:a})=>{const d=(0,n.li)(),m=(0,n.li)(),[u,p,h]=(0,o.A)(),A=(0,i.A)(e=>{const{relatedTarget:t}=e;t&&e.stopPropagation(),h()}),g=(0,i.A)(()=>{const e=m.current;if(!e)return;const{width:t,height:a}=e.getBoundingClientRect();e.viewBox.baseVal.width=t,e.viewBox.baseVal.height=a});(0,c.A)(d,g),(0,r.A)(g);const y=(0,s.A)("DropTarget",u&&"hovered");return n.Ay.createElement("div",{className:y,ref:d,onDrop:a,onDragEnter:p,onDragLeave:A,"data-dropzone":!0},n.Ay.createElement("svg",{className:"target-outline-container"},n.Ay.createElement("rect",{className:"target-outline",x:"0",y:"0",width:"100%",height:"100%",rx:"8"})),n.Ay.createElement("div",{className:"target-content"},n.Ay.createElement(l.A,{name:e?"photo":"document"}),n.Ay.createElement("div",{className:"title"},"Drop files here to send them"),!t&&n.Ay.createElement("div",{className:"description"},e?"in a quick way":"without compression")))})},6070:(e,t,a)=>{"use strict";a.d(t,{A:()=>o});var n=a(84051),s=a(80089),r=a(80464);const o=e=>{const{isOpen:t}=e,a=(0,r.A)(s.ar.Extra,"CustomSendMenu",!t);return a?n.Ay.createElement(a,e):void 0}},6096:(e,t,a)=>{"use strict";a.d(t,{A:()=>o});var n=a(66644),s=a(41733);function r(e,t,a){return(t=function(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var a=t.call(e,"string");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class o{constructor(e,t,a){this.container=t,this.options=a,r(this,"video",void 0),r(this,"isPlaying",!1),this.video=document.createElement("video"),this.video.src=e,this.video.disablePictureInPicture=!0,this.video.muted=!0,a.style&&this.video.setAttribute("style",a.style),this.video.style.position="absolute",this.video.load(),this.options.noLoop||(this.video.loop=!0),(0,n.RK)(()=>{this.container.appendChild(this.video),this.recalculatePositionAndSize()})}play(){!this.isPlaying&&this.video&&(this.recalculatePositionAndSize(),this.video.paused&&(0,s.A)(this.video),this.isPlaying=!0)}pause(){this.isPlaying&&this.video&&(this.video.paused||this.video.pause(),this.isPlaying=!1)}destroy(){this.pause(),this.video?.remove(),this.video=void 0}updatePosition(e){this.options.position=e,this.recalculatePositionAndSize()}recalculatePositionAndSize(){const{size:e,position:{x:t,y:a}}=this.options;(0,n.YS)(()=>{if(!this.video)return;const s=this.video,{width:r,height:o}=this.container.getBoundingClientRect();(0,n.RK)(()=>{s.style.left=`${Math.round(t*r)}px`,s.style.top=`${Math.round(a*o)}px`,s.style.width=`${e}px`,s.style.height=`${e}px`})})}}},6196:(e,t,a)=>{"use strict";a.d(t,{A:()=>o});var n=a(96540),s=a(73297);const r="text-[15px] text-[var(--color-text)]",o=()=>n.createElement("div",{className:"rounded-[16px] w-[488px] bg-[var(--color-background)]"},n.createElement("img",{src:s,alt:"",className:"w-[490px] h-[259px]"}),n.createElement("div",{className:"py-[14px] px-[12px]"},n.createElement("h3",null,"ðŸ”¥ Message Summarization ðŸ”¥"),n.createElement("p",{className:r},"The Message Summarization feature uses AI to automatically extract key content from IM conversations and periodically generate summary reports. It helps users efficiently grasp important group updates, improve information retrieval, and avoid missing critical messages."),n.createElement("h3",null,"ðŸ”‘ Key Capabilities:"),n.createElement("ul",{className:"pl-[24px] list-disc"},n.createElement("li",{className:r},"ðŸ” Automatically extracts topics, key figures, time references, and user insights from chat messages"),n.createElement("li",{className:r},"ðŸ§  Intelligently identifies and groups content by chat, ensuring clarity and structure"),n.createElement("li",{className:r},"ðŸ•’ Automatically generates summary reports during active hours, adapting to peak and off-peak periods"),n.createElement("li",{className:r},"ðŸŽ¯ Supports personalized summary customization, allowing users to focus on specific chats or content types"))))},6215:(e,t,a)=>{"use strict";a.a(e,async(e,n)=>{try{a.d(t,{A:()=>w});var s=a(84051),r=a(61433),o=a(13439),i=a(66644),c=a(60919),l=a(87357),d=a(95807),m=a(48894),u=a(67051),p=a(17712),h=a(93545),A=a(46402),g=a(83563),y=e([A]),f=y.then?(await y)():y;A=f[0];const v=.7,E=32,b=({mediaArea:e,className:t,style:a,restrictedEmoji:n,isPreview:o})=>{const c=(0,s.li)(),[y,f]=(0,s.J0)(0),{temperatureC:b,color:w}=e,x=(0,m.Bz)(w),C=(0,m.vG)(w),N=(0,p.A)(e=>{if(!c.current)return;const t=c.current,a=t.clientHeight,n=Math.round(a*v);f(n);const s=()=>{(0,r.Tv)(t,{"--custom-emoji-size":`${n}px`,"font-size":a/E+"rem"})};if(e)return s;(0,i.RK)(s)});return(0,s.Nf)(()=>{(0,i.gm)(()=>N(!0))},[]),(0,h.A)(c,()=>N()),s.Ay.createElement("div",{ref:c,className:(0,l.A)(g.A.weather,t),style:(0,d.A)(a,`--custom-background-color: ${x}`,`color: ${C}`)},s.Ay.createElement("div",{className:g.A.weatherInner},n&&s.Ay.createElement(A.A,{key:n.id,documentId:n.id,size:y,noPlay:o,withTranslucentThumb:!0,forceAlways:!0}),s.Ay.createElement("p",{className:g.A.temperature},(0,u.c)(b))))},w=(0,s.ph)((0,o.EK)((e,t)=>{const{mediaArea:a}=t;return{restrictedEmoji:(0,c.GHK)(e,a.emoji)}})(b));n()}catch(e){n(e)}})},7971:(e,t,a)=>{"use strict";a.a(e,async(e,n)=>{try{a.d(t,{Ah:()=>M,Al:()=>x,ER:()=>k,LW:()=>w,WE:()=>y,_b:()=>b,aT:()=>S,mu:()=>E,tg:()=>f,ur:()=>v});var s=a(25279),r=a(72531),o=a(77787),i=a(59577),c=a(96140),l=a(90709),d=a(74167),m=a(69036),u=a(30020),p=a(13439),h=a(60919),A=e([c,d]);[c,d]=A.then?(await A)():A,u.GlobalWorkerOptions.workerSrc="pdf.worker.min.js";const g=a(70306);async function y(e,t=!1){if(!e.isMentioned||!e.content?.text?.text)return;let a={chatId:e.chatId,timestamp:(new Date).getTime(),id:(0,s.A)(),createdAt:new Date,role:"assistant",annotations:[{type:"room-ai-reply-mention"}],content:JSON.stringify({messageId:e.id,content:e.content.text?.text,isAuto:t,status:"loading"})};await C(a),(0,i.Rx)({message:e.content.text?.text,language:P()}).then(n=>{n.text?(a={...a,content:JSON.stringify({messageId:e.id,content:e.content.text?.text,replys:n.text,isAuto:t,status:"success"})},C(a)):T(a,e,t)}).catch(n=>{console.log("error",n),T(a,e,t)})}async function f(e,t=!1){const a=e.content?.photo;if(!a)return;const n=(0,l.VO)(a,"download");if(!n)return;let r={chatId:e.chatId,timestamp:(new Date).getTime(),id:(0,s.A)(),createdAt:new Date,role:"assistant",annotations:[{type:"room-ai-media-summary"}],content:JSON.stringify({message:e,isAuto:t,status:"loading"})};await C(r),await I({mimeType:"image/jpeg",mediaHash:n,message:e,newMessage:r,isAuto:t})}async function v(e,t=!1){const a=(0,p.mS)(),n=(0,h.Pn$)(a,e),r=n?n?.url:e.content?.text?.text;if(!r||""===r)return;let o={chatId:e.chatId,timestamp:(new Date).getTime(),id:(0,s.A)(),createdAt:new Date,role:"assistant",annotations:[{type:"room-ai-media-summary"}],content:JSON.stringify({message:e,isAuto:t,status:"loading"})};await C(o),(0,i.U$)({url:r,text:e.content?.text?.text||"",language:P()}).then(a=>{a?.text?(o={...o,content:JSON.stringify({message:e,summaryInfo:a?.text,isAuto:t,status:"success"})},C(o)):T(o,e,t)}).catch(a=>{console.log("error",a),T(o,e,t)})}async function E(e,t=!1){const a=e.content?.document;if(!a)return;const n=(0,l.VO)(a,"download");if(!n)return;if(k(a.mimeType)&&t)return;let r={chatId:e.chatId,timestamp:(new Date).getTime(),id:(0,s.A)(),createdAt:new Date,role:"assistant",annotations:[{type:"room-ai-media-summary"}],content:JSON.stringify({message:e,isAuto:t,status:"loading"})};if(await C(r),k(a.mimeType))return void I({mimeType:a.mimeType,mediaHash:n,message:e,newMessage:r,isAuto:t});if(o=a.mimeType,["video/mp4"].indexOf(o)>=0)return void await N({mediaHash:n,mimeType:a?.mimeType,filename:a?.fileName,size:a?.size,newMessage:r,message:e,isAuto:t});var o;await d.hd(n,0);const c=d.Ih(n);if(!c)return;const m=await fetch(c),p=await m.blob(),h=await p.arrayBuffer();let A="";switch(a.mimeType){case"text/plain":A=(new TextDecoder).decode(h);break;case"application/vnd.openxmlformats-officedocument.wordprocessingml.document":case"application/msword":A=(await g.extractRawText({arrayBuffer:h})).value;break;case"application/pdf":const a=await u.getDocument({data:h}).promise;let n="";for(let e=1;e<=a.numPages;e++){const t=await a.getPage(e);n+=(await t.getTextContent()).items.map(e=>e.str).join(" ")+"\n"}A=n;break;default:return void await T(r,e,t)}""!==A?(0,i.OJ)({content:A,language:P()}).then(a=>{a?.text?(r={...r,content:JSON.stringify({message:e,summaryInfo:a?.text,isAuto:t,status:"success"})},C(r)):T(r,e,t)}).catch(a=>{console.log("error",a),T(r,e,t)}):await T(r,e,t)}async function b(e,t=!1){const a=e.content?.voice;if(!a)return;const n=(0,l.VO)(a,"download");if(!n)return;const r=Math.floor(4194304);if(e.content.audio?.size&&e.content.audio?.size*(4/3)>r)return void m.Ay.info("File size exceeds limit (4 MB)");let o={chatId:e.chatId,timestamp:(new Date).getTime(),id:(0,s.A)(),createdAt:new Date,role:"assistant",annotations:[{type:"room-ai-media-summary"}],content:JSON.stringify({message:e,isAuto:t,status:"loading"})};await C(o),await N({mediaHash:n,mimeType:"audio/ogg",filename:a?.id+".ogg",size:a?.size,newMessage:o,message:e,isAuto:t})}async function w(e,t=!1){const a=e.content?.audio;if(!a)return;const n=(0,l.VO)(a,"download");if(!n)return;let r={chatId:e.chatId,timestamp:(new Date).getTime(),id:(0,s.A)(),createdAt:new Date,role:"assistant",annotations:[{type:"room-ai-media-summary"}],content:JSON.stringify({message:e,isAuto:t,status:"loading"})};await C(r),await N({mediaHash:n,mimeType:a?.mimeType,filename:a?.fileName,size:a?.size,newMessage:r,message:e,isAuto:t})}async function x(e,t=!1){const a=e.content?.video;if(!a)return;const n=(0,l.VO)(a,"download");if(!n)return;let r={chatId:e.chatId,timestamp:(new Date).getTime(),id:(0,s.A)(),createdAt:new Date,role:"assistant",annotations:[{type:"room-ai-media-summary"}],content:JSON.stringify({message:e,isAuto:t,status:"loading"})};await C(r),"video/mp4"===a?.mimeType?await N({mediaHash:n,mimeType:a?.mimeType,filename:a?.fileName,size:a?.size,newMessage:r,message:e,isAuto:t}):await T(r,e,t)}async function C(e){await(o.zs.message?.storeMessage(e)),await r.A.emit(r.E.AddRoomAIMessage,e)}async function N({mediaHash:e,mimeType:t,filename:a,size:n,newMessage:s,message:r,isAuto:o}){try{if(n&&n>4718592)return m.Ay.info("File size exceeds limit (4.5 MB)"),s={...s,content:JSON.stringify({message:r,errorMsg:"File size exceeds limit (4.5 MB)",isAuto:o,status:"error"})},void await C(s);await d.hd(e,0);const c=d.Ih(e);if(!c)return void T(s,r,o);const l=await fetch(c),u=await l.blob(),p=new FormData;p.append("file",u,a||"audio.ogg"),p.append("language",P()),t&&p.append("mimeType",t);const h=await(0,i.DF)(p);h?.text?C(s={...s,content:JSON.stringify({message:r,summaryInfo:h?.text,isAuto:o,status:"success"})}):T(s,r,o)}catch(e){console.log("error",e),T(s,r,o)}}async function I({mimeType:e,mediaHash:t,message:a,newMessage:n,isAuto:s}){await d.hd(t,0);const r=d.Ih(t);if(!r)return void T(n,a,s);const o=await fetch(r),c=await o.blob(),l=new FileReader;l.onloadend=function(){const t=l.result?.toString().split(",")[1]||"";(0,i.IT)({image:`data:${e};base64,`+t,language:P()}).then(e=>{e?.text?C(n={...n,content:JSON.stringify({message:a,summaryInfo:JSON.stringify({text:e?.text}),isAuto:s,status:"success"})}):T(n,a,s)}).catch(e=>{console.log("error",e),T(n,a,s)})},l.readAsDataURL(c)}function S(e){const{photo:t,document:a,webPage:n,voice:s,audio:r,text:o,video:i}=e?.content,c=M(o?.text),l=o?.text&&""!==o.text.trim();return t||a||n&&!l||s||r||c||i}function M(e){return"string"==typeof e&&/^https?:\/\/[\w\-._~:/?#[\]@!$&'()*+,;=%]+$/i.test(e)}function k(e){return e.startsWith("image/")}async function T(e,t,a){e={...e,content:JSON.stringify({message:t,isAuto:a,status:"error"})},await C(e)}function P(){const e=(0,p.mS)(),{autoTranslateLanguage:t="en"}=e.settings.byKey;return new Intl.DisplayNames([t],{type:"language"}).of(t)||"en"}n()}catch(L){n(L)}})},7985:(e,t,a)=>{"use strict";a.d(t,{A:()=>u});var n=a(84051),s=a(66644),r=a(96454),o=a(9718),i=a(16581),c=a(17712);const l=250,d=1,m=100;function u(e,t,a,u){const p=(0,n.li)(),h=(0,n.li)(!1),A=(0,n.li)(0),g=(0,n.li)(!1),y=(0,n.li)(!0),f=(0,n.li)(0),v=(0,n.li)(!1),E=(0,c.A)((t=!1)=>{g.current||p.current&&e.current&&(p.current.style.display="block",e.current.scrollTop=d,r.Yw||t||(0,o.E)(e.current),h.current=!0,A.current=d,g.current=!0,y.current=!0)}),b=(0,c.A)(()=>{g.current&&p.current&&(p.current.style.display="none",g.current=!1)}),w=(0,c.A)(()=>{if(!e.current)return;if(h.current)return void(h.current=!1);const n=e.current.scrollTop,r=n>A.current,o=n<A.current,i=0===n,c=Date.now()-f.current;if(p.current){if(i&&!g.current)return void(0,s.dL)(E,[e.current,p.current]);(0,s.dL)(b,p.current)}o&&(y.current&&c>m||n<0&&v.current)?t?.():r&&n>0&&a?.(),A.current=n,y.current=i,f.current=Date.now(),v.current=r&&n<0}),x=(0,i.A)(n=>{if(!e.current)return;const s=e.current;s.scrollHeight>s.offsetHeight||0===n.deltaY||(n.deltaY<0?t?.():a?.())},[e,t,a],l);return(0,n.vJ)(()=>{const t=e.current;if(t)return 0===t.scrollTop&&(0,s.RK)(()=>{E(!0)}),t.addEventListener("scroll",w,{passive:!0}),t.addEventListener("wheel",x,{passive:!0}),()=>{t.removeEventListener("scroll",w),t.removeEventListener("wheel",x)}},[e,x]),r.pz||u?void 0:n.Ay.createElement("div",{ref:p,className:"overscroll-trigger",key:"overscroll-trigger"})}},8079:(e,t,a)=>{"use strict";a.d(t,{A:()=>n});const n={checkBox:"eScpikxM"}},8101:(e,t,a)=>{"use strict";a.a(e,async(e,n)=>{try{a.d(t,{A:()=>S});var s=a(84051),r=a(13439),o=a(23174),i=a(90709),c=a(96454),l=a(87357),d=a(76023),m=a(43874),u=a(37661),p=a(5912),h=a(17712),A=a(62587),g=a(59030),y=a(10221),f=a(18104),v=a(46256),E=a(66618),b=a(80146),w=a(3325),x=a(65035),C=e([A,g,v,E,b]);[A,g,v,E,b]=C.then?(await C)():C;const N=1.49,I=({message:e,shouldLoop:t,shouldPlayEffect:a,withEffect:n,isMediaNsfw:C,onStopEffect:I,observeIntersection:S,observeIntersectionForPlaying:M,needsAgeVerification:k})=>{const{showNotification:T,openStickerSet:P,updateContentSettings:L,openAgeVerificationModal:B}=(0,r.ko)(),R=(0,g.A)(),{isMobile:D}=(0,m.Ay)(),F=(0,s.li)(),O=(0,s.li)(),z=e.content.sticker,{stickerSetInfo:U,isVideo:j,hasEffect:V}=z,J=!e.isOutgoing,[H,$,K]=(0,u.A)(),[G,_]=(0,s.J0)(!1),q=C,[W,Z,Y]=(0,u.A)(q);(0,s.vJ)(()=>{q?Z():Y()},[q]);const Q=(0,h.A)(()=>{K(),Y(),G&&L({isSensitiveEnabled:!0})}),X=z.isPreloadedGlobally?void 0:(0,i.Mw)(z,j&&!c.OF?"pictogram":"inline"),ee=(0,p.Vz)(F,S),te=(0,p.Vz)(F,M),ae=`sticker${z.id}?size=f`,ne=(0,A.A)(ae,!ee||!V||!n,o.qZ.BlobUrl),[se,re,oe]=(0,u.A)(),ie=(0,i.VD)(z),ce=(0,h.A)(()=>{oe(),I?.()});(0,s.vJ)(()=>{V&&n&&te&&a&&re()},[V,te,a,re,n]);const le=V&&n&&ne&&se;(0,y.A)({anchorRef:F,overlayRef:O,isMirrored:J,isDisabled:!le});const de=(0,h.A)(()=>{P({stickerSetInfo:z.stickerSetInfo})}),me=(0,h.A)(()=>{if(W)return C?k?void B():void $():void Y();if(V){if(se||!n)return void T({message:R("PremiumStickerTooltip"),action:{action:"openStickerSet",payload:{stickerSetInfo:z.stickerSetInfo}},actionText:R("ViewAction")});if(n)return void re()}de()}),ue="isMissing"in U,{width:pe,height:he}=(0,d.bu)(z,D),Ae=(0,l.A)("media-inner",x.A.root,ue&&x.A.inactive,V&&J&&x.A.mirrored);return s.Ay.createElement("div",{ref:F,className:Ae,style:`width: ${pe}px; height: ${he}px;`,onClick:ue?void 0:me},s.Ay.createElement(b.A,{containerRef:F,sticker:z,fullMediaHash:X,fullMediaClassName:"full-media",size:pe,shouldLoop:t,noLoad:!ee,noPlay:!te,withSharedAnimation:!0}),s.Ay.createElement(v.A,{isVisible:W,withAnimation:!0,thumbDataUri:ie,width:pe,height:he,className:"media-spoiler",isNsfw:C}),le&&s.Ay.createElement(w.A,null,s.Ay.createElement(f.A,{ref:O,key:ae,className:(0,l.A)(x.A.effect,J&&x.A.mirrored),tgsUrl:ne,size:pe*N,play:!0,isLowPriority:!0,noLoop:!0,onEnded:ce})),s.Ay.createElement(E.A,{isOpen:H,onClose:K,shouldAlwaysShow:G,onAlwaysShowChanged:_,confirmHandler:Q}),le&&s.Ay.createElement(w.A,null,s.Ay.createElement(f.A,{ref:O,key:ae,className:(0,l.A)(x.A.effect,J&&x.A.mirrored),tgsUrl:ne,size:pe*N,play:!0,isLowPriority:!0,noLoop:!0,onEnded:ce})))},S=(0,s.ph)((0,r.EK)(e=>{const t=e.appConfig,a=t?.needAgeVideoVerification;return{needsAgeVerification:a}})(I));n()}catch(e){n(e)}})},8420:(e,t,a)=>{"use strict";a.d(t,{A:()=>c});var n=a(96540),s=a(21468),r=a(69893),o=a(99083),i=a(75175);const c=e=>{const{text:t,setHtml:a,onClose:c}=e,[l,d]=n.useState(!0),[m,u]=n.useState([]);(0,n.useEffect)(()=>{(0,r.Nz)(t).then(e=>{if(!e.data.errors)throw new Error("No errors found in the text");u(e.data.errors),d(!1)}).catch(e=>{console.error("Error checking grammar:",e),d(!1),u([])})},[]);const p=(0,n.useCallback)(()=>{if(m){const e=(0,r.Zm)(t,m);a(e),c()}},[m]);return n.createElement("div",null,n.createElement("h2",{className:"grammar-tool-tab-content-title"},"Fix grammar errors"),l?n.createElement(o.A,null):n.createElement(n.Fragment,null,n.createElement(i.A,{text:t,errors:m}),n.createElement(s.Ay,{color:"default",variant:"outlined",onClick:p},"Accept")))}},8524:(e,t,a)=>{"use strict";a.d(t,{A:()=>n});const n={minimized:"lTOui0dp",root:"yEkGgZVL",title:"VhAJDrnz",info:"WmyL1NJ8",buttons:"_40UGD1Y",button:"pedMJD_v"}},9403:(e,t,a)=>{"use strict";a.a(e,async(e,n)=>{try{a.d(t,{A:()=>m});var s=a(84051),r=a(13439),o=a(60919),i=a(89382),c=e([i]),l=c.then?(await c)():c;function d({message:e,story:t,isProtected:a,isConnected:n}){const{storyData:r}=e.content;return s.Ay.createElement(i.A,{story:t||r,isProtected:a,isConnected:n})}i=l[0];const m=(0,s.ph)((0,r.EK)((e,{message:t})=>{const{id:a,peerId:n}=t.content.storyData;return{story:(0,o.Msb)(e,n,a),isConnected:"connectionStateReady"===e.connectionState}})(d));n()}catch(u){n(u)}})},9442:(e,t,a)=>{"use strict";a.a(e,async(e,n)=>{try{a.d(t,{A:()=>w});var s=a(84051),r=a(13439),o=a(23174),i=a(66644),c=a(90709),l=a(70636),d=a(36353),m=a(87894),u=a(39074),p=a(17778),h=a(63988),A=a(83414),g=a(37661),y=a(39351),f=a(17712),v=e([l,y]);[l,y]=v.then?(await v)():v;const E=300;let b;try{b=/(^|\s)@[-_\p{L}\p{M}\p{N}]*$/giu}catch(C){b=/(^|\s)@[-_\d\wÐ°-ÑÑ‘Ò‘Ñ”Ñ–Ñ—]*$/gi}function w(e,t,a,n,v,w,C,N){const I=(0,y.A)(),[S,M]=(0,s.J0)(),[k,T,P]=(0,g.A)(!1),L=(0,h.gs)(()=>{const a=t();if(!e||!n()?.collapsed||!a.includes("@"))return;const s=(0,u.LV)(v.current);return(0,p.S)(s).match(b)?.[0].trim()},[e,t,n,v],E),B=(0,A.A)(L,[L,t,n],!0),R=(0,A.A)(()=>e&&t().startsWith("@"),[t,e]);(0,s.vJ)(()=>{const e=B();if(!e||!w&&!C)return void M(void 0);const t=(0,r.mS)().users.byId;if(!t)return void M(void 0);const a=w?.reduce((e,t)=>(t.userId!==N&&e.push(t.userId),e),[]),n=e.substring(1),s=(0,l.PU)({ids:(0,m.Am)([...R()&&C||[],...a||[]]),query:n,type:"user"});M(Object.values((0,m._E)(t,s)))},[N,w,C,B,R]);const D=(0,f.A)((e,t=!1,n=!1)=>{if(!e.hasUsername&&!(0,l.F9)(I,e))return;const s=(0,c.Kl)(e),r=(0,l.F9)(I,e)||"",m=s?`@${s}`:`<a\n          class="text-entity-link"\n          data-entity-type="${o.C7.MentionName}"\n          data-user-id="${e.id}"\n          contenteditable="false"\n          dir="auto"\n        >${r}</a>`,p=v.current,h=x((0,u.LV)(p)),A=n?h.length:h.lastIndexOf("@"),g=(s?s.length+1:r.length)-(h.length-A);if(-1!==A){const e=`${h.substr(0,A)}${m}&nbsp;`,n=x(p.innerHTML).substring(h.length),s=(0,u.JC)(p);a(`${e}${n}`),(0,i.Uz)(()=>{const e=s+g+1;(0,d.A)(p,t),e>=0&&(0,u.vZ)(p,e)})}M(void 0)});return(0,s.vJ)(P,[P,t]),{isMentionTooltipOpen:Boolean(S?.length&&!k),closeMentionTooltip:T,insertMention:D,mentionFilteredUsers:S}}function x(e){return e.replace(/<div>(<br>|<br\s?\/>)?<\/div>/gi,"<br>")}n()}catch(N){n(N)}})},9626:(e,t,a)=>{"use strict";e.exports=a.p+"danger.7dcfa39ea30ab887338e.png"},9717:(e,t,a)=>{"use strict";a.d(t,{A:()=>i});var n=a(84051),s=a(87894),r=a(79882),o=a(73767);function i(e,t){const a=(0,n.Kr)(()=>{if(e)return e.reduce((e,t,a)=>(e[t]=a,e),{})},[e]),i=(0,o.A)(a),c=(0,o.A)(t),l=(0,n.Kr)(()=>a&&i&&t===c?(0,s.LG)(a,(e,t)=>void 0!==i[t]?e-i[t]:-1/0):{},[t,a,c,i]);return{orderDiffById:l,getAnimationType:(0,r.W)(l)}}},9743:(e,t,a)=>{"use strict";a.d(t,{l:()=>I,A:()=>k});var n=a(96540),s=a(92629),r=a(39875),o=a(5131),i=a(42754),c=a(91393),l=a(21468),d=a(74353),m=a.n(d),u=a(13439),p=a(72531),h=a(60919),A=a(70809),g=a(85325),y=a(80395),f=a(95533),v=a(71847);const E={"Pacific/Midway":"Midway Island, Samoa","Pacific/Honolulu":"Hawaii","America/Juneau":"Alaska","America/Boise":"Mountain Time","America/Dawson":"Dawson, Yukon","America/Chihuahua":"Chihuahua, La Paz, Mazatlan","America/Phoenix":"Arizona","America/Chicago":"Central Time","America/Regina":"Saskatchewan","America/Mexico_City":"Guadalajara, Mexico City, Monterrey","America/Belize":"Central America","America/Detroit":"Eastern Time","America/Bogota":"Bogota, Lima, Quito","America/Caracas":"Caracas, La Paz","America/Santiago":"Santiago","America/St_Johns":"Newfoundland and Labrador","America/Sao_Paulo":"Brasilia","America/Tijuana":"Tijuana","America/Montevideo":"Montevideo","America/Argentina/Buenos_Aires":"Buenos Aires, Georgetown","America/Godthab":"Greenland","America/Los_Angeles":"Pacific Time","Atlantic/Azores":"Azores","Atlantic/Cape_Verde":"Cape Verde Islands",GMT:"UTC","Europe/London":"Edinburgh, London","Europe/Dublin":"Dublin","Europe/Lisbon":"Lisbon","Africa/Casablanca":"Casablanca, Monrovia","Atlantic/Canary":"Canary Islands","Europe/Belgrade":"Belgrade, Bratislava, Budapest, Ljubljana, Prague","Europe/Sarajevo":"Sarajevo, Skopje, Warsaw, Zagreb","Europe/Brussels":"Brussels, Copenhagen, Madrid, Paris","Europe/Amsterdam":"Amsterdam, Berlin, Bern, Rome, Stockholm, Vienna","Africa/Algiers":"West Central Africa","Europe/Bucharest":"Bucharest","Africa/Cairo":"Cairo","Europe/Helsinki":"Helsinki, Kyiv, Riga, Sofia, Tallinn, Vilnius","Europe/Athens":"Athens","Asia/Jerusalem":"Jerusalem","Africa/Harare":"Harare, Pretoria","Europe/Moscow":"Istanbul, Minsk, Moscow, St. Petersburg, Volgograd","Asia/Kuwait":"Kuwait, Riyadh","Africa/Nairobi":"Nairobi","Asia/Baghdad":"Baghdad","Asia/Tehran":"Tehran","Asia/Dubai":"Abu Dhabi, Muscat","Asia/Baku":"Baku, Tbilisi, Yerevan","Asia/Kabul":"Kabul","Asia/Yekaterinburg":"Ekaterinburg","Asia/Karachi":"Islamabad, Karachi, Tashkent","Asia/Kolkata":"Chennai, Kolkata, Mumbai, New Delhi","Asia/Kathmandu":"Kathmandu","Asia/Dhaka":"Astana, Dhaka","Asia/Colombo":"Sri Jayawardenepura","Asia/Almaty":"Almaty, Novosibirsk","Asia/Rangoon":"Yangon Rangoon","Asia/Bangkok":"Bangkok, Hanoi, Jakarta","Asia/Krasnoyarsk":"Krasnoyarsk","Asia/Shanghai":"Beijing, Chongqing, Hong Kong SAR, Urumqi","Asia/Kuala_Lumpur":"Kuala Lumpur, Singapore","Asia/Taipei":"Taipei","Australia/Perth":"Perth","Asia/Irkutsk":"Irkutsk, Ulaanbaatar","Asia/Seoul":"Seoul","Asia/Tokyo":"Osaka, Sapporo, Tokyo","Asia/Yakutsk":"Yakutsk","Australia/Darwin":"Darwin","Australia/Adelaide":"Adelaide","Australia/Sydney":"Canberra, Melbourne, Sydney","Australia/Brisbane":"Brisbane","Australia/Hobart":"Hobart","Asia/Vladivostok":"Vladivostok","Pacific/Guam":"Guam, Port Moresby","Asia/Magadan":"Magadan, Solomon Islands, New Caledonia","Asia/Kamchatka":"Kamchatka, Marshall Islands","Pacific/Fiji":"Fiji Islands","Pacific/Auckland":"Auckland, Wellington","Pacific/Tongatapu":"Nuku'alofa"};var b=a(11553);const w=a.p+"default-avatar.37bfde946e6829d2e5a8.png";var x=a(49804),C=a(40842),N=a(30934);const I=e=>{const[t,a]=(0,n.useState)(""),[s,r]=(0,n.useState)(""),{lable:o}=e;return(0,n.useEffect)(()=>{switch(o){case"title":r(N),a("Title");break;case"time":r(b),a("Time");break;case"guests":r(C),a("Guests");break;case"meet":r(x),a("Meeting link")}},[o]),n.createElement("div",{className:"flex items-center gap-[8px]"},n.createElement("img",{src:s,alt:"",className:"w-[16px] h-[16px]"}),n.createElement("span",{className:"text-[14px] font-semibold"},t))},S=({message:e})=>n.createElement("div",{className:"text-[12px] leading-[18px] text-red-400"},e),M=({email:e,onDelete:t})=>n.createElement("div",{className:"flex items-center gap-[8px] py-[10px]"},n.createElement("img",{className:"w-[24px] h-[24px] rounded-full",src:w,alt:""}),n.createElement("span",{className:"text-[14px] text-black"},e),n.createElement("div",{className:"ml-auto cursor-pointer w-[20px] h-[20px] rounded-full text-[#979797] bg-[#F3F3F3] flex items-center justify-center",onClick:()=>t(e)},n.createElement(A.US,{size:14}))),k=({message:e})=>{const t=(0,n.useCallback)(e=>e&&e<m()().startOf("day"),[]),{options:a,parseTimezone:d}=function(){const e=E,t=(0,n.useMemo)(()=>Object.entries(e).map(e=>{let t,a,n,s;try{const r=f.A.now().goto(e[0]),o=r.isDST()?"daylight":"standard",i=r.timezone(),c=(0,v.A)(e[0]),l=null==(a=null==(t=null==c?void 0:c[0])?void 0:t[o])?void 0:a.abbr,d=null==(s=null==(n=null==c?void 0:c[0])?void 0:n[o])?void 0:s.name,m=60*i.current.offset,u=`${Math.floor(m/60)}:${m%60==0?"00":Math.abs(m%60)}`,p=`(GMT${u.includes("-")?u:`+${u}`}) ${e[1]}`;return{value:i.name,label:p,offset:i.current.offset,abbrev:l,altName:d}}catch(e){return null}}).filter(Boolean).sort((e,t)=>e.offset-t.offset),[e]);return{options:t,parseTimezone:e=>{return"string"==typeof e?t.find(t=>t.value===e)||-1!==e.indexOf("/")&&(e=>{let a,n,s;try{s=f.A.now().goto(e)}catch(e){s=f.A.now().goto("GMT")}return null==(n=null==(a=t.filter(e=>e.offset===s.timezone().current.offset).map(e=>{let t=0;return s.timezones[e.value.toLowerCase()]&&Boolean(s.timezones[e.value.toLowerCase()].dst)===s.timezone().hasDst?(-1!==e.value.toLowerCase().indexOf(s.tz.substring(s.tz.indexOf("/")+1))&&(t+=8),-1!==e.label.toLowerCase().indexOf(s.tz.substring(s.tz.indexOf("/")+1))&&(t+=4),-1!==e.value.toLowerCase().indexOf(s.tz.substring(0,s.tz.indexOf("/")))&&(t+=2),t+=1):"GMT"===e.value&&(t+=1),{tz:e,score:t}}).sort((e,t)=>t.score-e.score))?void 0:a[0])?void 0:n.tz})(e):"object"!=typeof(a=e)||Array.isArray(a)||null===a||e.label?e:t.find(t=>t.value===e.value);var a}}}(),{RangePicker:A}=s.A,[b,w]=(0,n.useState)(""),[x,C]=(0,n.useState)(""),[N,k]=(0,n.useState)(""),[T,P]=(0,n.useState)(""),[L,B]=(0,n.useState)([]),[R,D]=(0,n.useState)(""),[F,O]=(0,n.useState)(""),[z,U]=(0,n.useState)(""),[j,V]=(0,n.useState)(!1),[J,H]=(0,n.useState)(Intl.DateTimeFormat().resolvedOptions().timeZone),$=(0,u.mS)(),K=(0,h.SJA)($);(0,n.useEffect)(()=>{console.log("selectedTimezone",J)},[J]);const G=e=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e),_=(0,n.useCallback)(e=>{w(e.target.value),e.target.value&&U("")},[]),q=(0,n.useCallback)(e=>{H(e)},[]),W=(0,n.useCallback)((e,t)=>{e&&(console.log("From: ",e[0],", to: ",e[1]),console.log("From: ",t[0],", to: ",t[1]),k(t[0]),P(t[1]),O(""))},[]),Z=(0,n.useCallback)(e=>{C(e.target.value)},[]),Y=(0,n.useCallback)(e=>{const t=e.target.value;t?G(t)?(B(e=>[...e,t]),C(""),D("")):D("Please enter the correct email address"):C("")},[]),Q=(0,n.useCallback)(e=>{const t=e.currentTarget.value;t?G(t)?(B(e=>[...e,t]),C(""),D("")):D("Please enter the correct email address"):C("")},[]),X=(0,n.useCallback)(e=>{B(t=>t.filter(t=>t!==e))},[]),ee=(0,n.useCallback)(()=>{if(j)return;if(!b)return void U("Please enter the title");if(!N||!T)return void O("Please select the date");if(!L.length)return void D("Please enter the email");V(!0);const t=(0,y.IM)(),a=[];L.length&&L.forEach(e=>{a.push({email:e})}),(0,g.FG)({title:b,startDate:new Date(N),endDate:new Date(T),selectedTimezone:J,emails:L,googleToken:t?.accessToken}).then(t=>{p.A.emit(p.E.CreateCalendarSuccess,{message:e,response:t})}).catch(e=>{console.log(e)}).finally(()=>{V(!1)})},[L,T,j,e,J,N,b]);return n.createElement(r.Ay,{theme:{algorithm:"dark"===K?o.A.darkAlgorithm:o.A.defaultAlgorithm}},n.createElement("div",{className:"google-event-create-message px-[12px]"},n.createElement("div",{className:"p-[10px] border border-solid border-[#D9D9D9] rounded-[16px] w-[326px] bg-white dark:bg-[#292929] dark:border-[#292929]"},n.createElement("span",{className:"text-[14px] font-semibold mb-[16px]"},"Please tell me the event details. "),n.createElement("div",{className:"flex flex-col gap-[8px] mb-[12px]"},n.createElement(I,{lable:"title"}),n.createElement(i.A,{value:b,onChange:_}),z&&n.createElement(S,{message:z})),n.createElement("div",{className:"flex flex-col gap-[8px] mb-[12px]"},n.createElement(I,{lable:"time"}),n.createElement("div",{className:"flex flex-col items-center gap-[8px]"},n.createElement(A,{disabledDate:t,presets:[{label:n.createElement("span",{"aria-label":"Current Time to End of Day"},"Now ~ EOD"),value:()=>[m()(),m()().endOf("day")]}],showTime:!0,format:"YYYY/MM/DD HH:mm",onChange:W}),n.createElement(c.A,{className:"w-full",placeholder:"Please select",onChange:q,options:a,value:d(J)})),F&&n.createElement(S,{message:F})),n.createElement("div",{className:"flex flex-col gap-[8px] mb-[12px]"},n.createElement(I,{lable:"guests"}),n.createElement(i.A,{value:x,onChange:Z,onBlur:Y,onPressEnter:Q}),R&&n.createElement(S,{message:R}),L.length>0&&L.map(e=>n.createElement(M,{email:e,key:e,onDelete:X}))),n.createElement(l.Ay,{type:"primary",className:"!bg-[#8C42F0] w-full",htmlType:"submit",onClick:ee,loading:j,disabled:j},"Confirm"))))}},10221:(e,t,a)=>{"use strict";a.d(t,{A:()=>c});var n=a(84051),s=a(66644),r=a(76023),o=a(17712);const i=r.$;function c({anchorRef:e,overlayRef:t,isMirrored:a,isForMessageEffect:r,isDisabled:c,id:l}){const d=(0,o.A)(()=>{const n=t.current,o=e.current;if(!n||!o)return;const c=o.getBoundingClientRect(),l=n.getBoundingClientRect(),d=window.innerWidth;(0,s.RK)(()=>{const e=c.top+c.height/2,t=c.bottom,s=r?t:e;n.style.top=s-l.height/2+"px",a?n.style.left=c.left-i+"px":n.style.right=d-c.right-i+"px"})});return(0,n.vJ)(()=>{c||d()},[c,l]),(0,n.vJ)(()=>{if(c)return;const t=e.current.closest(".MessageList");return t?(t.addEventListener("scroll",d,{passive:!0}),()=>{t.removeEventListener("scroll",d)}):void 0},[c,e]),d}},10359:(e,t,a)=>{"use strict";a.d(t,{A:()=>n});const n={root:"Gi8Nokbl",header:"H01lE7mv",title:"VQbs04hT",caption:"X7bBlGdi",table:"s5beXqqL",tableCell:"gvrp3KoR",tableHeading:"IHb3ZATQ",tableValue:"zAPFdKbZ",tableSecondaryValue:"_mYEmh_u",value:"idLrmbhS",negative:"SLfwGHQC",decimalPart:"ZAfXkuWL",decimalUsdPart:"HRXb_S2M",toncoin:"it39BC_c"}},10587:(e,t,a)=>{"use strict";a.d(t,{X:()=>o});var n=a(96540),s=a(22199);function r(){return r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},r.apply(null,arguments)}const o=n.forwardRef(({className:e,...t},a)=>n.createElement("textarea",r({className:(0,s.cn)("flex min-h-[45px] w-full border-box rounded-md border border-input bg-white px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm dark:bg-black dark:placeholder:text-[#888888]",e),ref:a},t)));o.displayName="Textarea"},11098:(e,t,a)=>{"use strict";a.d(t,{A:()=>o});var n=a(84051),s=a(80089),r=a(80464);const o=e=>{const{isOpen:t}=e,a=(0,r.A)(s.ar.Extra,"TextFormatter",!t);return a?n.Ay.createElement(a,e):void 0}},11226:(e,t,a)=>{"use strict";a.a(e,async(e,n)=>{try{a.d(t,{A:()=>g});var s=a(84051),r=a(13439),o=a(60919),i=a(87357),c=a(22066),l=a(95547),d=a(40708),m=a(22720),u=a(26607),p=a(8235),h=e([l,m]);[l,m]=h.then?(await h)():h;const A=e=>{const{isSelected:t,offsetTop:a}=e,{openChat:n}=(0,r.ko)(),o=(0,i.A)("Chat chat-item-clickable",t&&"selected"),h=(0,c.c)();return s.Ay.createElement(m.A,{className:o,key:d.bL,style:`top: ${a}px`,onClick:()=>{n({id:d.bL}),l.A.updateRoomAIData(d.bL,"unreadCount",0)},withPortalForMenu:!0},s.Ay.createElement("img",{className:"w-[54px] h-[54px] rounded-full mr-[12px]",src:p,alt:"Tely AI"}),s.Ay.createElement("div",{className:"info"},s.Ay.createElement("div",{className:"info-row"},s.Ay.createElement("div",{className:"title FullNameTitle-module__root"},s.Ay.createElement("h3",{dir:"auto",role:"button",className:"fullName FullNameTitle-module__fullName"},"Tely AI"))),s.Ay.createElement("div",{className:"subtitle"},s.Ay.createElement("p",{className:"last-message shared-canvas-container",dir:"ltr"},"Chat Summary"),s.Ay.createElement(u.A,{isCustom:!0,className:"ChatBadge-transition",isOpen:h>0},s.Ay.createElement("div",{className:"ChatBadge unread"},h)))))},g=(0,s.ph)((0,r.EK)(e=>{const t=(0,o.meB)(e);return{isSelected:d.bL===t?.id}})(A));n()}catch(e){n(e)}})},11359:(e,t,a)=>{"use strict";a.d(t,{L:()=>s});const n=5;function s(e,t){const{commonAncestorContainer:a}=e;let s=a,r=1;for(;s&&s.id!==t&&r<n;)s=s.parentElement,r++;return Boolean(s&&s.id===t)}},11462:(e,t,a)=>{"use strict";a.d(t,{A:()=>i});var n=a(84051),s=a(30857),r=a(17712),o=a(35297);function i(e=!1){const t=(0,n.li)(e),a=(0,n.li)(!1),i=(0,s.A)();(0,o.A)(()=>{e&&(t.current=!0)},[e]);const c=(0,r.A)(()=>{t.current=!1,a.current=!1,i()}),l=(0,r.A)(()=>{a.current=!0,i()});return{shouldRenderForumPanel:t.current,isAnimationStarted:a.current,handleForumPanelAnimationEnd:c,handleForumPanelAnimationStart:l}}},11779:(e,t,a)=>{"use strict";a.d(t,{A:()=>p});var n=a(84051),s=a(13439),r=a(23174),o=a(31481),i=a(80539),c=a(63988),l=a(83414),d=a(35297);const m=300,u=new RegExp(o.kNZ,"i");function p({getHtml:e,chatId:t,threadId:a}){const{loadWebPagePreview:o,clearWebPagePreview:p,toggleMessageWebPage:h}=(0,s.ko)(),A=(0,n.li)(),g=(0,c.tF)(()=>{const t=(0,i.Ay)(e()),a=t.entities?.find(e=>e.type===r.C7.TextUrl);return A.current=t,a?.url||t.text.match(u)?.[0]},[e],m,!0),y=(0,l.A)(g,[g,e],!0);(0,n.vJ)(()=>{const e=y(),n=A.current;e?o({text:n}):(p(),h({chatId:t,threadId:a}))},[y,t,a]),(0,d.A)(()=>{p(),h({chatId:t,threadId:a})},[t,p,a,h])}},11951:(e,t,a)=>{"use strict";a.d(t,{_:()=>f});var n=a(23174),s=a(31481);const r=/id="docs-internal-guid/i,o={BOLD:"700",ITALIC:"italic",UNDERLINE:"underline",STRIKETHROUGH:"line-through",SUPERSCRIPT:"super",SUBSCRIPT:"sub"},i={ANCHOR:"a",BOLD:"strong",ITALIC:"em",UNDERLINE:"u",BLOCKQUOTE:"blockquote",STRIKETHROUGH:"del",SUPERSCRIPT:"sup",SUBSCRIPT:"sub"},c=["H1","H2","H3","H4","H5","H6"];function l(e){return(new DOMParser).parseFromString(e,"text/html").body}function d(e,t){const a=document.createElement(i.ANCHOR);return a.href=t,a.appendChild(e.cloneNode(!0)),a}function m(e,t){const a=document.createElement(t);return a.appendChild(e.cloneNode(!0)),a}function u(e,t){let a=t.cloneNode(!0);return e?(e.style&&e.style.fontWeight===o.BOLD&&(a=m(a,i.BOLD)),e.style&&e.style.fontStyle===o.ITALIC&&(a=m(a,i.ITALIC)),e.style&&e.style.textDecoration===o.UNDERLINE&&(a=m(a,i.UNDERLINE)),e.style&&e.style.textDecoration===o.STRIKETHROUGH&&(a=m(a,i.STRIKETHROUGH)),e.style&&e.style.verticalAlign===o.SUPERSCRIPT&&(a=m(a,i.SUPERSCRIPT)),e.style&&e.style.verticalAlign===o.SUBSCRIPT&&(a=m(a,i.SUBSCRIPT)),a):a}function p(e){const t=e.cloneNode(!0);let a=document.createTextNode(t.textContent||""),n=t;return"A"===t.nodeName&&(a=d(a,t.href),"style"in t.childNodes[0]&&Boolean(t.childNodes[0].style)&&(n=t.childNodes[0])),a=u(n,a),a}function h(e){if(e.childNodes&&(e.childNodes.length<=1||"OL"===e.nodeName||"UL"===e.nodeName)){let t,a=document.createTextNode(e.textContent||"");if("UL"===e.nodeName||"OL"===e.nodeName||"LI"===e.nodeName){t=document.createElement(e.nodeName),a=document.createDocumentFragment();const n=[];for(let t=0;t<e.childNodes.length;t++)n.push(...h(e.childNodes[t]));n.map(e=>a.appendChild(e))}else-1!==c.indexOf(e.nodeName)?(t=document.createElement(e.nodeName),a=p(e.childNodes[0])):"P"===e.nodeName?(t=document.createElement("p"),a=function(e){const t=e.cloneNode(!0);let a=document.createTextNode(t.textContent||""),n=document.createTextNode("");return"style"in t.childNodes[0]&&Boolean(t.childNodes[0].style)&&(n=t.childNodes[0]),t.childNodes[0]&&"A"===t.childNodes[0].nodeName&&(a=d(a.cloneNode(!0),t.childNodes[0].href),n=t.childNodes[0].childNodes[0]),a=u(n,a),a}(e)):"BR"===e.nodeName?a=e:(t=document.createElement("span"),a=p(e));return t?(t.appendChild(a),[t]):[e.cloneNode(!0)]}if(e.childNodes){const t=[];for(let a=0;a<e.childNodes.length;a++)t.push(...h(e.childNodes[a]));return t}return[e]}function A(e){return 8!==e.nodeType}var g=a(80539);const y=/<style>(.*?)<\/style>/gs;function f(e){let t=document.createElement("div");try{e=(a=e).match(r)?function(e){const t=document.createElement("body"),a=e.childNodes,n=Array.from(a).filter(A),s=[];for(const e of n)s.push(...h(e));for(let e=0;e<s.length;e++)t.appendChild(s[e].cloneNode(!0));return t}(l(a.replace(/(\r\n|\n|\r)/,""))).innerHTML:l(a.replace(/(\r\n|\n|\r)/,"")).innerHTML}catch(e){s.Oig&&console.error(e)}var a;t.innerHTML=e.replace(/\u00a0/g," ").replace(y,"");const o=t.querySelectorAll(".text-content");return o.length&&(t=o[o.length-1]),Array.from(t.getElementsByTagName("*")).forEach(e=>{if(e instanceof HTMLElement)switch(e.removeAttribute("style"),"BR"===e.tagName&&e.replaceWith("\n"),"P"===e.tagName&&e.appendChild(document.createTextNode("\n")),"IMG"!==e.tagName||e.dataset.entityType||e.replaceWith(e.getAttribute("alt")||""),e.dataset.ignoreOnPaste&&e.remove(),g.qh[e.tagName]&&e.setAttribute("data-entity-type",g.qh[e.tagName]),e.dataset.entityType||e.textContent!==e.innerText||e.replaceWith(e.textContent),e.dataset.alt&&e.setAttribute("alt",e.dataset.alt),e.dataset.entityType){case n.C7.MentionName:e.replaceWith(e.textContent||"");break;case n.C7.CustomEmoji:e.textContent=e.dataset.alt||""}else e.remove()}),t.innerHTML.trimEnd()}},12083:(e,t,a)=>{"use strict";a.a(e,async(e,n)=>{try{a.d(t,{A:()=>T});var s=a(84051),r=a(13439),o=a(90709),i=a(70636),c=a(60919),l=a(87357),d=a(17663),m=a(52491),u=a(80140),p=a(24021),h=a(58443),A=a(4961),g=a(17712),y=a(59030),f=a(79577),v=a(64489),E=a(99952),b=a(64493),w=a(94189),x=a(84640),C=a(89091),N=e([i,p,y,f,E,b,w,x]);[i,p,y,f,E,b,w,x]=N.then?(await N)():N;const I="Â ",S=175,M=150,k=({chat:e,sender:t,message:a,canPlayAnimatedEmojis:n,giftSticker:c})=>{const{openChat:N}=(0,r.ko)(),k=(0,s.li)(!1),[T,P]=(0,s.J0)(),L=(0,y.A)(),{giveaway:B,giveawayResults:R}=a.content,D=Boolean(R),{months:F,untilDate:O,prizeDescription:z,stars:U}=B||R,j=(0,o.Ie)(a),V=D?R.winnersCount:B.quantity,J=(0,u.Fm)()>O,H=(0,s.Kr)(()=>{if(D)return;const e=new Intl.DisplayNames([L.code,"en"].filter(Boolean),{type:"region"});return B?.countries?.map(t=>`${(0,m.D0)(t)}${I}${e.of(t)}`).join(", ")},[B,D,L.code]),$=(0,g.A)(e=>{N({id:e})}),K=(0,g.A)(async()=>{if(k.current)return;k.current=!0;const t=await(0,p.px)("fetchGiveawayInfo",{peer:e,messageId:a.id});P(t),k.current=!1}),G=(0,g.A)(()=>{P(void 0)}),_=(0,s.Kr)(()=>{if(T)return L("results"===T.type?"BoostingGiveawayEnd":"BoostingGiveAwayAbout")},[T,L]);return s.Ay.createElement("div",{className:C.A.root},s.Ay.createElement("div",{className:(0,l.A)(C.A.sticker,D&&C.A.resultSticker)},D?s.Ay.createElement(v.A,{size:M,tgsUrl:h.w.PartyPopper,nonInteractive:!0,noLoop:!0}):s.Ay.createElement(f.A,{sticker:c,play:n&&J,noLoop:!0,nonInteractive:!0,size:S}),s.Ay.createElement("span",{className:C.A.count},`x${V}`)),D?function(e){const t=e.winnerIds;return s.Ay.createElement(s.Ay.Fragment,null,s.Ay.createElement("div",{className:C.A.section},s.Ay.createElement("strong",{className:C.A.title},(0,A.A)(L("BoostingGiveawayResultsMsgWinnersSelected"),["simple_markdown"])),s.Ay.createElement("p",{className:C.A.description},(0,A.A)(L("BoostingGiveawayResultsMsgWinnersTitle",t.length),["simple_markdown"])),s.Ay.createElement("strong",{className:C.A.title},L("lng_prizes_results_winners")),s.Ay.createElement("div",{className:C.A.peers},t.map(e=>s.Ay.createElement(E.A,{peerId:e,forceShowSelf:!0,withPeerColors:!j,className:C.A.peer,clickArg:e,onClick:$})))),s.Ay.createElement("div",{className:C.A.section},s.Ay.createElement("p",{className:C.A.description},L("BoostingGiveawayResultsMsgAllWinnersReceivedLinks"))))}(R):function(e){const t=e.channelIds;return s.Ay.createElement(s.Ay.Fragment,null,s.Ay.createElement("div",{className:C.A.section},s.Ay.createElement("strong",{className:C.A.title},(0,A.A)(L("BoostingGiveawayPrizes"),["simple_markdown"])),z&&s.Ay.createElement(s.Ay.Fragment,null,s.Ay.createElement("p",{className:C.A.description},(0,A.A)(L("BoostingGiveawayMsgPrizes",[V,z],void 0,V),["simple_markdown"])),s.Ay.createElement(x.A,null,L("BoostingGiveawayMsgWithDivider"))),s.Ay.createElement("p",{className:C.A.description},a?.content?.giveaway?.stars?s.Ay.createElement(s.Ay.Fragment,null,(0,A.A)(L("Chat.Giveaway.Message.Stars.PrizeText",L("Stars",a?.content?.giveaway?.stars)),["simple_markdown"]),s.Ay.createElement("br",null),(0,A.A)(L("AmongWinners",V),["simple_markdown"])):s.Ay.createElement(s.Ay.Fragment,null,(0,A.A)(L("Chat.Giveaway.Info.Subscriptions",V),["simple_markdown"]),s.Ay.createElement("br",null),(0,A.A)(L("ActionGiftPremiumSubtitle",L("Chat.Giveaway.Info.Months",F)),["simple_markdown"])))),s.Ay.createElement("div",{className:C.A.section},s.Ay.createElement("strong",{className:C.A.title},(0,A.A)(L("BoostingGiveawayMsgParticipants"),["simple_markdown"])),s.Ay.createElement("p",{className:C.A.description},(0,A.A)(L("BoostingGiveawayMsgAllSubsPlural",t.length),["simple_markdown"])),s.Ay.createElement("div",{className:C.A.peers},t.map(e=>s.Ay.createElement(E.A,{peerId:e,forceShowSelf:!0,withPeerColors:!j,className:C.A.peer,clickArg:e,onClick:$}))),H&&s.Ay.createElement("span",null,(0,A.A)(L("Chat.Giveaway.Message.CountriesFrom",H)))),s.Ay.createElement("div",{className:C.A.section},s.Ay.createElement("strong",{className:C.A.title},(0,A.A)(L("BoostingWinnersDate"),["simple_markdown"])),s.Ay.createElement("p",{className:C.A.description},(0,d.L2)(1e3*O,L.code,!0))))}(B),s.Ay.createElement(b.A,{className:C.A.button,color:"adaptive",size:"smaller",onClick:K},L("BoostingHowItWork")),s.Ay.createElement(w.A,{isOpen:Boolean(T),isOnlyConfirm:!0,title:_,confirmHandler:G,onClose:G},function(){if(!t||!T)return;const e="results"===T.type,a=(0,i.vj)(t)?(0,o.Js)(L,t):(0,o.Yg)(t),n=(0,d.U)(L,1e3*O),c=B?.channelIds?B.channelIds.length-1:0,l=L("Chat.Giveaway.Info.OtherChannels",c),m=c>0,u=e?"BoostingGiveawayHowItWorksTextEnd":"BoostingGiveawayHowItWorksText",p=e?L("Chat.Giveaway.Info.Months",F):L("Stars",U,"i"),h=L(u,[a,V,p],void 0,V),g=z?L("BoostingGiveawayHowItWorksIncludeText",[a,V,z],void 0,V):void 0;let y="";y=e?m?"BoostingGiveawayHowItWorksSubTextSeveralEnd":"BoostingGiveawayHowItWorksSubTextEnd":m?"BoostingGiveawayHowItWorksSubTextSeveral":"BoostingGiveawayHowItWorksSubText";let f=L(y,[n,V,a,c],void 0,V);e&&T.activatedCount&&(f+=` ${L("BoostingGiveawayUsedLinksPlural",T.activatedCount)}`);let v="";e&&(v=T.isRefunded?L("BoostingGiveawayCanceledByPayment"):L(T.isWinner?"BoostingGiveawayYouWon":"BoostingGiveawayYouNotWon"));let E="";if(e);else if(T.disallowedCountry)E=L("BoostingGiveawayNotEligibleCountry");else if(T.adminDisallowedChatId){const e=(0,r.mS)().chats.byId[T.adminDisallowedChatId],t=e&&(0,o.Js)(L,e);E=L("BoostingGiveawayNotEligibleAdmin",t)}else if(T.joinedTooEarlyDate){const e=(0,d.U)(L,1e3*T.joinedTooEarlyDate);E=L("BoostingGiveawayNotEligible",e)}else E=T.isParticipating?m?L("Chat.Giveaway.Info.ParticipatingMany",[a,c]):L("Chat.Giveaway.Info.Participating",a):m?L("Chat.Giveaway.Info.NotQualifiedMany",[a,l,n]):L("Chat.Giveaway.Info.NotQualified",[a,n]);return s.Ay.createElement(s.Ay.Fragment,null,v&&s.Ay.createElement("p",{className:C.A.result},(0,A.A)(v,["simple_markdown"])),s.Ay.createElement("p",null,(0,A.A)(h,["simple_markdown"])),g&&s.Ay.createElement("p",null,(0,A.A)(g,["simple_markdown"])),s.Ay.createElement("p",null,(0,A.A)(f,["simple_markdown"])),E&&s.Ay.createElement("p",null,(0,A.A)(E,["simple_markdown"])))}()))},T=(0,s.ph)((0,r.EK)((e,{message:t})=>{const{giveaway:a}=t.content,n=(0,c.hds)(e,t.chatId);return{chat:n,sender:(a?.channelIds[0]?(0,c.hds)(e,a.channelIds[0]):void 0)||(0,c.Szq)(e,t)||n,giftSticker:a&&(0,c.t0O)(e,a.months),canPlayAnimatedEmojis:(0,c.BWX)(e)}})(k));n()}catch(e){n(e)}})},12544:(e,t,a)=>{"use strict";a.a(e,async(e,n)=>{try{a.d(t,{A:()=>m});var s=a(84051),r=a(23174),o=a(90709),i=a(74167),c=e([i]),l=c.then?(await c)():c;i=l[0];const d=4;function m(e,t){(0,s.vJ)(()=>{e.slice(t,t+d).forEach(e=>{const t=(0,o.mU)(e);i.Ih(t)||i.hd(t,r.qZ.BlobUrl)})},[t,e])}n()}catch(u){n(u)}})},12643:(e,t,a)=>{"use strict";a.a(e,async(e,n)=>{try{a.d(t,{A:()=>d,I:()=>i.I});var s=a(84051),r=a(80089),o=a(80464),i=a(70361),c=e([i]),l=c.then?(await c)():c;i=l[0];const d=e=>{const{isOpen:t}=e,a=(0,o.A)(r.ar.Extra,"DropArea",!t);return a?s.Ay.createElement(a,e):void 0};n()}catch(e){n(e)}})},12724:(e,t,a)=>{"use strict";a.d(t,{A:()=>n});const n={root:"HMB5LgeX",title:"vZnCPl3t",content:"k_dGolcu",separator:"qRaSs5iA",footnote:"EDmr0wJG",collapsed:"hYzpXwTM",cutoutWrapper:"nfCzKu78",collapseIcon:"mxPizZpR",clickable:"Cj2cLczd"}},12928:(e,t,a)=>{"use strict";a.a(e,async(e,n)=>{try{a.d(t,{A:()=>f});var s=a(84051),r=a(13439),o=a(87357),i=a(85982),c=a(43874),l=a(17712),d=a(59030),m=a(64493),u=a(22699),p=a(24433),h=a(54746),A=a(76774),g=e([d,m,u,p]);[d,m,u,p]=g.then?(await g)():g;const y=({title:e,link:t,isDisabled:a,className:n,withShare:g,onRevoke:y})=>{const f=(0,d.A)(),{showNotification:v,openChatWithDraft:E}=(0,r.ko)(),{isMobile:b}=(0,c.Ay)(),w=!y,x=(0,l.A)(()=>{(0,i.eM)(t),v({message:{key:"LinkCopied"}})}),C=(0,l.A)(()=>{a||x()}),N=(0,l.A)(()=>{E({text:{text:t}})}),I=(0,s.Kr)(()=>({onTrigger:e,isOpen:t})=>s.Ay.createElement(m.A,{round:!0,ripple:!b,size:"smaller",color:"translucent",className:t?"active":"",onClick:e,ariaLabel:f("AccDescrOpenMenu2")},s.Ay.createElement(h.A,{name:"more"})),[b,f]);return s.Ay.createElement("div",{className:n},s.Ay.createElement("p",{className:A.A.title},f(e||"InviteLink.InviteLink")),s.Ay.createElement("div",{className:A.A.primaryLink},s.Ay.createElement("input",{className:(0,o.A)("form-control",A.A.input),value:t,readOnly:!0,onClick:C}),w?s.Ay.createElement(m.A,{color:"translucent",className:A.A.copy,size:"smaller",round:!0,disabled:a,onClick:C},s.Ay.createElement(h.A,{name:"copy"})):s.Ay.createElement(u.A,{className:A.A.moreMenu,trigger:I,positionX:"right"},s.Ay.createElement(p.A,{icon:"copy",onClick:C,disabled:a},f("Copy")),y&&s.Ay.createElement(p.A,{icon:"delete",onClick:y,destructive:!0},f("RevokeButton")))),g&&s.Ay.createElement(m.A,{size:"smaller",disabled:a,onClick:N,className:A.A.share},f("FolderLinkScreen.LinkActionShare")))},f=(0,s.ph)(y);n()}catch(e){n(e)}})},13150:(e,t,a)=>{"use strict";a.a(e,async(e,n)=>{try{a.d(t,{A:()=>u});var s=a(84051),r=a(31481),o=a(85449),i=a(59030),c=a(54746),l=a(64493),d=e([i,l]);[i,l]=d.then?(await d)():d;const m=({message:e,onClick:t})=>{const a=(0,i.A)(),n=(0,s.Kr)(()=>{const t=[];return e.inlineButtons.forEach(e=>{t.push(e.map(e=>(0,o.A)(a,e)))}),t},[a,e.inlineButtons]);return s.Ay.createElement("div",{className:"InlineButtons"},e.inlineButtons.map((a,o)=>s.Ay.createElement("div",{className:"row"},a.map((a,i)=>s.Ay.createElement(l.A,{size:"tiny",ripple:!0,disabled:"unsupported"===a.type||"suggestedMessage"===a.type&&a.disabled,onClick:()=>t({chatId:e.chatId,messageId:e.id,button:a})},(e=>{const{type:t}=e;switch(t){case"url":if(!r.OFc.test(e.url))return s.Ay.createElement(c.A,{className:"corner-icon",name:"arrow-right"});break;case"urlAuth":return s.Ay.createElement(c.A,{className:"corner-icon",name:"arrow-right"});case"buy":case"receipt":return s.Ay.createElement(c.A,{className:"corner-icon",name:"card"});case"switchBotInline":return s.Ay.createElement(c.A,{className:"corner-icon",name:"share-filled"});case"webView":case"simpleWebView":return s.Ay.createElement(c.A,{className:"corner-icon",name:"webapp"});case"copy":return s.Ay.createElement(c.A,{className:"corner-icon",name:"copy"});case"suggestedMessage":if("suggestChanges"===e.buttonType)return s.Ay.createElement(c.A,{className:"left-icon",name:"edit"});if("approve"===e.buttonType)return s.Ay.createElement(c.A,{className:"left-icon",name:"check"});if("decline"===e.buttonType)return s.Ay.createElement(c.A,{className:"left-icon",name:"close"})}})(a),s.Ay.createElement("span",{className:"inline-button-text"},n[o][i]))))))},u=(0,s.ph)(m);n()}catch(e){n(e)}})},13208:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});var n=a(96540);const s=a.p+"actions.c00bd19afbf93bdda994.png",r=()=>n.createElement("div",{className:"rounded-[16px] w-[488px] bg-[var(--color-background)]"},n.createElement("img",{src:s,alt:"",className:"w-[490px] h-[259px]"}),n.createElement("div",{className:"py-[14px] px-[12px]"},n.createElement("h3",null,"âœ…  Action Items"),n.createElement("p",{className:"text-[15px] text-[var(--color-text)]"},"During message summarization, the AI assistant automatically identifies actionable tasks and follow-ups from your chats. No need to take notesâ€”your to-do list is generated in real time, helping you stay organized and never miss a beat.")))},13352:(e,t,a)=>{"use strict";a.a(e,async(e,n)=>{try{a.d(t,{A:()=>u});var s=a(84051),r=a(13439),o=a(17712),i=a(34201),c=a(20785),l=e([c]),d=l.then?(await l)():l;c=d[0];const m=({isOpen:e,randomId:t,sponsorInfo:a,additionalInfo:n,canReport:l,anchor:d,triggerRef:m,shouldSkipAbout:u,onItemClick:p,onClose:h,onCloseAnimationEnd:A})=>{const{openAboutAdsModal:g,showDialog:y,reportSponsored:f,hideSponsored:v}=(0,r.ko)(),{ref:E}=(0,i.A)({isOpen:e,onCloseAnimationEnd:A}),b=(0,o.A)(()=>{p?.(),h()}),w=(0,o.A)(()=>{g({randomId:t,additionalInfo:n,canReport:l,sponsorInfo:a}),b()}),x=(0,o.A)(()=>{v(),b()}),C=(0,o.A)(()=>{y({data:{message:[a,n].filter(Boolean).join("\n")}}),b()}),N=(0,o.A)(()=>{f({randomId:t}),b()});if(d)return s.Ay.createElement("div",{ref:E,className:"ContextMenuContainer"},s.Ay.createElement(c.A,{isOpen:e,anchor:d,triggerRef:m,canReport:l,sponsorInfo:a,shouldSkipAbout:u,onClose:h,onCloseAnimationEnd:h,onAboutAdsClick:w,onSponsoredHide:x,onSponsorInfo:C,onSponsoredReport:N}))},u=(0,s.ph)(m);n()}catch(e){n(e)}})},13753:(e,t,a)=>{"use strict";function n(e){const t=document.createElement("div");t.contentEditable="true",t.style.position="absolute",t.style.left="-10000px",t.style.top="-10000px",t.innerHTML=e,t.className="allow-selection",document.body.appendChild(t);let a=t.lastChild;if(a.lastChild)for(;a.lastChild;)a=a.lastChild;const n=a.textContent.length,s=document.createRange(),r=window.getSelection();s.setStart(a,n),s.setEnd(a,n),r.removeAllRanges(),r.addRange(s),document.execCommand("delete",!1);const o=t.innerHTML;return document.body.removeChild(t),o}a.d(t,{A:()=>n})},13841:(e,t,a)=>{"use strict";a.a(e,async(e,n)=>{try{a.d(t,{A:()=>T});var s=a(84051),r=a(13439),o=a(60919),i=a(17663),c=a(60343),l=a(80140),d=a(15384),m=a(17712),u=a(59030),p=a(67693),h=a(54746),A=a(64493),g=a(77561),y=a(1087),f=a(32074),v=e([d,u,p,A,g,y,f]);[d,u,p,A,g,y,f]=v.then?(await v)():v;const E="#middle-column-portals",b=5e3,w=6,x=2*w*Math.PI,C=1e3,N="Â ",I=({message:e,poll:t,observeIntersectionForLoading:a,observeIntersectionForPlaying:n,onSendVote:v})=>{const{loadMessage:N,openPollResults:I,requestConfetti:T,showNotification:P}=(0,r.ko)(),{id:L,chatId:B}=e,{summary:R,results:D}=t,[F,O]=(0,s.J0)(!1),[z,U]=(0,s.J0)([]),[j,V]=(0,s.J0)(!1),[J,H]=(0,s.J0)(!R.closed&&R.closeDate&&R.closeDate>0?Math.min(R.closeDate-(0,l.Fm)(),R.closePeriod):0),$=(0,s.li)(),K=(0,s.li)(),{results:G,totalVoters:_}=D,q=G&&G.some(e=>e.isChosen),W=!R.closed&&!q,Z=!W&&R.isPublic&&Number(D.totalVoters)>0,Y=W&&R.multipleChoice,Q=D.recentVoterIds,X=G?Math.max(...G.map(e=>e.votersCount)):_,ee=(0,s.Kr)(()=>G?.filter(e=>e.isCorrect).map(e=>e.option)||[],[G]),te=(0,s.Kr)(()=>R.answers.map(e=>({label:(0,d.fd)({text:e.text.text,entities:e.text.entities,observeIntersectionForLoading:a,observeIntersectionForPlaying:n}),value:e.option,hidden:Boolean(R.quiz&&R.closePeriod&&J<=0)})),[J,a,n,R.answers,R.closePeriod,R.quiz]);(0,s.vJ)(()=>{const e=t.results.results?.find(e=>e.isChosen);F&&e&&(e.isCorrect&&T({}),O(!1))},[F,t.results.results,T]),(0,s.Nf)(()=>{if(J>0&&setTimeout(()=>H(J-1),C),!K.current)return;J<=5&&$.current.classList.add("hurry-up");const e=(R.closePeriod-J)/R.closePeriod*x;K.current.setAttribute("stroke-dashoffset",`-${e}`)},[J,R.closePeriod]),(0,s.vJ)(()=>{R.quiz&&(J<=0||q&&!R.closed)&&N({chatId:B,messageId:L})},[B,J,q,N,L,R.closed,R.quiz]),(0,s.vJ)(()=>{let e;return R.quiz&&!R.closed&&R.closePeriod&&R.closePeriod>0&&(e=window.setTimeout(()=>{N({chatId:B,messageId:L})},1e3*R.closePeriod)),()=>{e&&window.clearTimeout(e)}},[W,B,N,L,R.closePeriod,R.closed,R.quiz]);const ae=(0,s.Kr)(()=>{const e=(0,r.mS)();return Q?Q.reduce((t,a)=>{const n=(0,o.PVB)(e,a);return n&&t.push(n),t},[]):[]},[Q]),ne=(0,m.A)(e=>{U([e]),O(!0),V(!0),v([e])}),se=(0,m.A)(e=>{U(e)}),re=(0,m.A)(()=>{O(!0),V(!0),v(z)}),oe=(0,m.A)(()=>{I({chatId:B,messageId:L})}),ie=(0,m.A)(()=>{P({localId:(0,c.bj)(e),message:(0,d.fd)({text:t.results.solution,entities:t.results.solutionEntities}),duration:b,containerSelector:E})});(0,s.vJ)(()=>{j&&q&&R.quiz&&D.results&&t.results.solution&&(D.results.find(e=>e.isChosen&&e.isCorrect)||ie())},[q,j,D.results,R.quiz,t.results.solution]);const ce=(0,u.A)();return s.Ay.createElement("div",{className:"Poll",dir:ce.isRtl?"auto":"ltr"},s.Ay.createElement("div",{className:"poll-question"},(0,d.fd)({text:R.question.text,entities:R.question.entities,observeIntersectionForLoading:a,observeIntersectionForPlaying:n})),s.Ay.createElement("div",{className:"poll-type"},ce(S(R)),ae.length>0&&s.Ay.createElement("div",{className:"poll-recent-voters"},s.Ay.createElement(p.A,{size:"micro",peers:ae})),J>0&&W&&s.Ay.createElement("div",{ref:$,className:"poll-countdown"},s.Ay.createElement("span",null,(0,i.QO)(J)),s.Ay.createElement("svg",{width:"16px",height:"16px"},s.Ay.createElement("circle",{ref:K,cx:"8",cy:"8",r:w,className:"poll-countdown-progress",transform:"rotate(-90, 8, 8)","stroke-dasharray":x,"stroke-dashoffset":"0"}))),R.quiz&&t.results.solution&&!W&&s.Ay.createElement(A.A,{round:!0,size:"tiny",color:"translucent",className:"poll-quiz-help",onClick:ie,ariaLabel:"Show Solution"},s.Ay.createElement(h.A,{name:"lamp"}))),W&&s.Ay.createElement("div",{className:"poll-answers",onClick:k},Y?s.Ay.createElement(g.A,{options:te,selected:z,onChange:se,disabled:e.isScheduled||F,loadingOptions:F?z:void 0,isRound:!0}):s.Ay.createElement(y.A,{name:`poll-${L}`,options:te,onChange:ne,disabled:e.isScheduled||F,loadingOption:F?z[0]:void 0})),!W&&s.Ay.createElement("div",{className:"poll-results"},R.answers.map(function(e){return s.Ay.createElement(f.A,{key:e.option,shouldAnimate:j||!W,answer:e,voteResults:G,totalVoters:_,maxVotersCount:X,correctResults:ee})})),!Z&&!Y&&s.Ay.createElement("div",{className:"poll-voters-count"},M(ce,R.quiz,D.totalVoters)),Y&&s.Ay.createElement(A.A,{isText:!0,disabled:0===z.length,size:"tiny",onClick:re},ce("PollSubmitVotes")),Z&&s.Ay.createElement(A.A,{isText:!0,size:"tiny",onClick:oe},ce("PollViewResults")))};function S(e){return void 0===e.isPublic?N:e.closed?"FinalResults":e.quiz?e.isPublic?"QuizPoll":"AnonymousQuizPoll":e.isPublic?"PublicPoll":"AnonymousPoll"}function M(e,t,a){return a?e(t?"Answer":"Vote",a,"i"):e(t?"Chat.Quiz.TotalVotesEmpty":"Chat.Poll.TotalVotesResultEmpty")}function k(e){e.stopPropagation()}const T=(0,s.ph)(I);n()}catch(P){n(P)}})},14367:(e,t,a)=>{"use strict";a.d(t,{A:()=>d});var n=a(96540),s=a(13439),r=a(90709),o=a(60919),i=a(77787),c=a(95815),l=a(5556);const d=({message:e})=>{const{chatId:t,messageId:a,emailConfirmed:d,calendlyConfirmed:m,suggestType:u}=JSON.parse(e.content)||{},[p,h]=(0,n.useState)(d),[A,g]=(0,n.useState)(m),{emails:y,calendlyUrls:f}=l.s.informations,v=(0,s.mS)();if(("both"!==u||f.length||y.length)&&("email"!==u||y.length)&&("time"!==u||f.length))return n.createElement("div",{className:"px-[12px] text-[15px]"},n.createElement("div",{className:"p-[10px] border border-solid border-[#D9D9D9] rounded-[16px] w-full bg-white dark:bg-[#292929] dark:border-[#292929]"},n.createElement("p",null,"ðŸ”” ",(()=>{const e=(0,o.mBe)(v,t);return e?(0,r.Yg)(e):""})()," would like to schedule a meeting with you. Would you like to send your calendar link or email address?"),n.createElement("ul",{className:"list-disc pl-[18px] mb-[4px]"},("both"===u||"time"===u)&&f.length>0&&n.createElement(n.Fragment,null,n.createElement("b",{className:"ml-[-18px]"},"Calendars:"),f.map(r=>n.createElement("li",{className:"word-break break-all"},n.createElement("span",null,n.createElement("span",{className:"text-[12px] mr-[4px]"},"ðŸ“…"),r),!A&&n.createElement("span",{className:"mx-[2px] font-semibold cursor-pointer ml-[4px] outline-none border-none focus:outline-none focus:ring-0 underline decoration-2",onClick:()=>(n=>{A||((0,s.ko)().sendMessage({messageList:{chatId:t,threadId:"-1",type:"thread"},text:n}),g(!0),e.content=JSON.stringify({chatId:t,messageId:a,emailConfirmed:d,calendlyConfirmed:!0,suggestType:u}),i.zs?.message?.storeMessage((0,c.Jr)(t,[e])[0]))})(r)},"SendðŸ‘‰")))),("both"===u||"email"===u)&&y.length>0&&n.createElement(n.Fragment,null,n.createElement("b",{className:"ml-[-18px]"},"Emails:"),y.map(r=>n.createElement("li",{className:"word-break break-all"},n.createElement("span",null,n.createElement("span",{className:"text-[12px] mr-[4px]"},"âœ‰ï¸"),r),!p&&n.createElement("span",{className:"mx-[2px] font-semibold cursor-pointer ml-[4px] outline-none border-none focus:outline-none focus:ring-0 underline decoration-2",onClick:()=>(n=>{p||((0,s.ko)().sendMessage({messageList:{chatId:t,threadId:"-1",type:"thread"},text:n}),h(!0),e.content=JSON.stringify({chatId:t,messageId:a,emailConfirmed:!0,calendlyConfirmed:m,suggestType:u}),i.zs?.message?.storeMessage((0,c.Jr)(t,[e])[0]))})(r)},"SendðŸ‘‰")))))))}},14792:(e,t,a)=>{"use strict";e.exports=a.p+"ai-translate.0aa5d916daa46257d410.png"},15006:(e,t,a)=>{"use strict";a.d(t,{U:()=>p,A:()=>u});var n=a(84051),s=a(13439),r=a(31481),o=a(60919),i=a(6842),c=a(14235);const l={root:"AN8wkEiR",ghost:"ANWk2pWP",scale:"kMHxyoSt",elementContainer:"UDCMfXxs"},d=50,m=1e3,u=(0,n.ph)(()=>n.Ay.createElement("div",{className:l.root,id:r.Lj4}));function p(e){const t=(0,s.mS)();if(!(0,o.Rwe)(t))return!1;const a=e.getBoundingClientRect(),u=a.left+window.scrollX,p=a.top+window.scrollY,h=a.width,A=a.height;if(u+h+d<0||u-d>window.innerWidth||p+A+d<0||p-d>window.innerHeight)return!1;const g=Math.floor(Date.now()/1e3),y=`${r.xcU}-${(0,c.A)()}`,f=n.Ay.createElement("svg",{className:l.ghost,width:h,height:A,style:`left: ${u}px; top: ${p}px;`,viewBox:`0 0 ${h} ${A}`},n.Ay.createElement("defs",null,function(e,t,a=42){return n.Ay.createElement("filter",{xmlns:r.jNX,id:e,x:"-150%",y:"-150%",width:"400%",height:"400%","color-interpolation-filters":"sRGB"},n.Ay.createElement("feTurbulence",{type:"fractalNoise",baseFrequency:"0.5",numOctaves:"1",result:"dustNoise",seed:a}),n.Ay.createElement("feComponentTransfer",{in:"dustNoise",result:"dustNoiseMask"},n.Ay.createElement("feFuncA",{type:"linear",slope:"5",intercept:"0"},n.Ay.createElement("animate",{attributeName:"slope",values:"5; 2; 1; 0",dur:`${m}ms`,fill:"freeze"}))),n.Ay.createElement("feComposite",{in:"SourceGraphic",in2:"dustNoiseMask",operator:"in",result:"dustySource"}),n.Ay.createElement("feTurbulence",{type:"fractalNoise",baseFrequency:"0.015",numOctaves:"1",result:"displacementNoise1",seed:a+1}),n.Ay.createElement("feTurbulence",{type:"fractalNoise",baseFrequency:"1",numOctaves:"2",result:"displacementNoise2",seed:a+2}),n.Ay.createElement("feMerge",{result:"combinedNoise"},n.Ay.createElement("feMergeNode",{in:"displacementNoise1"}),n.Ay.createElement("feMergeNode",{in:"displacementNoise2"})),n.Ay.createElement("feDisplacementMap",{in:"dustySource",in2:"combinedNoise",scale:"0",xChannelSelector:"R",yChannelSelector:"G"},n.Ay.createElement("animate",{attributeName:"scale",values:"0; "+3*t,dur:`${m}ms`,fill:"freeze"})))}(y,Math.min(h,A),g)),n.Ay.createElement("g",{filter:`url(#${y})`},n.Ay.createElement("foreignObject",{className:l.elementContainer,width:h,height:A}))),v=(0,i.A)(f)[0],E=v.querySelector("foreignObject"),b=window.getComputedStyle(e),w=e.cloneNode(!0);Array.from(b).forEach(e=>w.style.setProperty(e,b.getPropertyValue(e),"important")),E.appendChild(w);const x=document.getElementById(r.Lj4);return x.appendChild(v),v.addEventListener("animationend",()=>{x.removeChild(v)},{once:!0}),!0}},15365:()=>{},15524:(e,t,a)=>{"use strict";a.d(t,{A:()=>E});var n=a(84051),s=a(13439),r=a(66644),o=a(96454),i=a(50442),c=a(83868),l=a(43503),d=a(76023),m=a(54464),u=a(37661),p=a(672);const h=350,A=150,g=200,y=3*d.$,f=Number(d.$),v="data-is-document-group-hover";function E(e,t,a,d,E,x,C,N,I,S,M,k,T){const{updateDraftReplyInfo:P,sendDefaultReaction:L}=(0,s.ko)(),[B,R,D]=(0,u.A)(),[F,O,z]=(0,u.A)(),U=(0,n.li)(),j=(0,p.A)(e=>{const t=M.current;if(!t)return;const{clientX:a,clientY:n}=e,{x:s,width:r,y:o,height:i}=t.getBoundingClientRect(),c=s+r/2,l=o+i/2,d=Math.abs(c-a)<y,m=Math.abs(l-n)<f;d&&m?R():D()},[M],r.YS);return(0,n.vJ)(()=>{if(!o.TF||d||!E||S||!T?.())return;let e;return(0,i.wJ)(t.current,{selectorToPreventScroll:".MessageList",excludedClosestSelector:".no-word-wrap",onSwipe:(t,a)=>a===i.ez.Left&&(e||(e=Date.now()),O(),!0),onRelease:()=>{e&&E&&(P({replyToMsgId:a}),setTimeout(z,Math.max(0,A-(Date.now()-e))),e=void 0)}})},[t,d,a,O,z,E,S,T]),{handleMouseDown:d?void 0:function(e){(0,m.l)(e),N(e)},handleClick:function(t){if(d)e(t);else if(o.TF)return U.current?(clearInterval(U.current),U.current=void 0,void L({chatId:I,messageId:a})):void(U.current=setTimeout(()=>{U.current=void 0,function(e){if(o.Ni){const t=e.target;if(!t.classList.contains("text-content")&&!t.classList.contains("Message"))return;l.A.getIsKeyboardVisible()?setTimeout(()=>{C(e)},h):C(e)}}(t)},g))},handleContextMenu:d?x?c.A:void 0:function(t){if(o.Ni){if(t.target.matches("a[href]")||S)return;t.preventDefault(),e()}else C(t)},handleDoubleClick:d?void 0:function(){!o.TF&&E&&P({replyToMsgId:a,replyToPeerId:void 0,quoteText:void 0,quoteOffset:void 0})},handleContentDoubleClick:o.TF?void 0:function(e){e.stopPropagation()},handleMouseMove:j,handleSendQuickReaction:function(e){e.stopPropagation(),L({chatId:I,messageId:a})},handleMouseLeave:function(e){(0,r.YS)(D),k&&function(e){const t=w(e.currentTarget);t&&t.removeAttribute(v)}(e)},isSwiped:F,isQuickReactionVisible:B,handleDocumentGroupMouseEnter:b}}function b(e){const t=w(e.currentTarget);t&&t.setAttribute(v,"")}function w(e){let t=e;do{t=t.nextElementSibling}while(t&&!t.classList.contains("last-in-document-group"));return t}},15895:(e,t,a)=>{"use strict";a.a(e,async(e,n)=>{try{a.d(t,{A:()=>b});var s=a(84051),r=a(87357),o=a(17663),i=a(14242),c=a(39351),l=a(59030),d=a(54746),m=a(10359),u=e([c,l]);[c,l]=u.then?(await u)():u;const p=[[{name:"followers",title:"ChannelStats.Overview.Followers"},{name:"enabledNotifications",title:"ChannelStats.Overview.EnabledNotifications",isPercentage:!0}],[{name:"viewsPerPost",title:"ChannelStats.Overview.ViewsPerPost"},{name:"viewsPerStory",title:"ChannelStats.Overview.ViewsPerStory"}],[{name:"sharesPerPost",title:"ChannelStats.Overview.SharesPerPost"},{name:"sharesPerStory",title:"ChannelStats.Overview.SharesPerStory"}],[{name:"reactionsPerPost",title:"ChannelStats.Overview.ReactionsPerPost"},{name:"reactionsPerStory",title:"ChannelStats.Overview.ReactionsPerStory"}]],h=[[{name:"members",title:"Stats.GroupMembers"},{name:"messages",title:"Stats.GroupMessages"}],[{name:"viewers",title:"Stats.GroupViewers"},{name:"posters",title:"Stats.GroupPosters"}]],A=[[{name:"viewsCount",title:"Stats.Message.Views",isPlain:!0},{name:"publicForwards",title:"Stats.Message.PublicShares",isPlain:!0}],[{name:"reactionsCount",title:"Channel.Stats.Overview.Reactions",isPlain:!0},{name:"forwardsCount",title:"Stats.Message.PrivateShares",isPlain:!0,isApproximate:!0}]],g=[[{name:"viewsCount",title:"Channel.Stats.Overview.Views",isPlain:!0},{name:"publicForwards",title:"PublicShares",isPlain:!0}],[{name:"reactionsCount",title:"Channel.Stats.Overview.Reactions",isPlain:!0},{name:"forwardsCount",title:"PrivateShares",isPlain:!0}]],y=[[{name:"level",title:"Stats.Boosts.Level",isPlain:!0},{name:"premiumSubscribers",title:"Stats.Boosts.PremiumSubscribers",isPercentage:!0,isApproximate:!0,withAbsoluteValue:!0}],[{name:"boosts",title:"Stats.Boosts.ExistingBoosts",isPlain:!0},{name:"remainingBoosts",title:"Stats.Boosts.BoostsToLevelUp",isPlain:!0}]],f=0,v=({title:e,type:t,statistics:a,isToncoin:n,className:u,subtitle:p})=>{const h=(0,l.A)(),A=(0,c.A)(),g=(e,t,a)=>{const[n,r]=e.toFixed(4).split("."),[o,i]=(e*t).toFixed(2).split(".");return s.Ay.createElement("div",null,s.Ay.createElement(d.A,{className:m.A.toncoin,name:"toncoin"}),s.Ay.createElement("b",{className:m.A.tableValue},n,s.Ay.createElement("span",{className:m.A.decimalPart},".",r))," ",s.Ay.createElement("span",{className:m.A.tableHeading},"â‰ˆ $",o,s.Ay.createElement("span",{className:m.A.decimalUsdPart},".",i)),s.Ay.createElement("h3",{className:m.A.tableHeading},h(a)))},{period:y}=a,{balances:v,usdRate:b}=a,w=E(t);return s.Ay.createElement("div",{className:(0,r.A)(m.A.root,u)},s.Ay.createElement("div",{className:m.A.header},e&&s.Ay.createElement("div",{className:m.A.title},e),y&&s.Ay.createElement("div",{className:m.A.caption},(0,o.Lu)(h,1e3*y.minDate)," ","â€”",(0,o.Lu)(h,1e3*y.maxDate))),s.Ay.createElement("table",{className:m.A.table},n?s.Ay.createElement("tr",null,s.Ay.createElement("td",{className:m.A.tableCell},g(v?.availableBalance||0,b||0,"lng_channel_earn_available"),g(v?.currentBalance||0,b||0,"lng_channel_earn_reward"),g(v?.overallRevenue||0,b||0,"lng_channel_earn_total"))):w.map(e=>s.Ay.createElement("tr",null,e.map(e=>{const t=a?.[e.name];if(e.isPlain)return s.Ay.createElement("td",{className:m.A.tableCell},s.Ay.createElement("b",{className:m.A.tableValue},`${e.isApproximate?"â‰ˆ ":""}${(0,i.Sm)(t??f)}`),s.Ay.createElement("h3",{className:m.A.tableHeading},h(e.title)));if(e.isPercentage){const a=t?.part??f,n=t?.percentage??f;return s.Ay.createElement("td",{className:m.A.tableCell},e.withAbsoluteValue&&s.Ay.createElement("span",{className:m.A.tableValue},`${e.isApproximate?"â‰ˆ ":""}${(0,i.Sm)(a)}`),s.Ay.createElement("span",{className:e.withAbsoluteValue?m.A.tableSecondaryValue:m.A.tableValue},n,"%"),s.Ay.createElement("h3",{className:m.A.tableHeading},h(e.title)))}return s.Ay.createElement("td",{className:m.A.tableCell},s.Ay.createElement("b",{className:m.A.tableValue},(0,i.Vw)(A,t?.current??f))," ",(({change:e,percentage:t})=>{if(!e)return;const a=Number(e)<0;return s.Ay.createElement("span",{className:(0,r.A)(m.A.value,a&&m.A.negative)},a?`-${(0,i.Vw)(A,Math.abs(e))}`:`+${(0,i.Vw)(A,e)}`,t&&s.Ay.createElement(s.Ay.Fragment,null," ","(",t,"%)"))})(t),s.Ay.createElement("h3",{className:m.A.tableHeading},h(e.title)))})))),p)};function E(e){switch(e){case"group":return h;case"message":return A;case"boost":return y;case"story":return g;default:return p}}const b=(0,s.ph)(v);n()}catch(w){n(w)}})},16541:(e,t,a)=>{"use strict";a.a(e,async(e,n)=>{try{a.d(t,{A:()=>C});var s=a(84051),r=a(66644),o=a(96454),i=a(87357),c=a(17663),l=a(45302),d=a(98255),m=a(32625),u=a(19129),p=a(37661),h=a(30857),A=a(17712),g=a(59030),y=a(22720),f=a(41036),v=a(54746),E=a(76251),b=e([g,y]);[g,y]=b.then?(await b)():b;const w=Array.from({length:7},(e,t)=>t),x=({businessHours:e})=>{const t=(0,s.li)(),[a,n,b]=(0,p.A)(!1),[x,C,N]=(0,p.A)(!1),I=(0,g.A)(),S=(0,h.A)();(0,m.A)(S,6e4);const M=(0,d.A)(e=>e.timezones?.byId),k=(0,u.A)(M,[M]),T=(0,s.Kr)(()=>{if(!k)return 0;const t=k[e.timezoneId];return((0,l.o9)()-t.utcOffset)/60},[e.timezoneId,k]),P=(0,s.Kr)(()=>{const t=(0,l.rL)(),a=(0,l.wF)(e.workHours,x?T:0),n=(0,l.GY)(a),s={};return w.forEach(e=>{const a=n[e];s[e]=a?a.map(({startMinute:e,endMinute:a})=>a-e===1440?I("BusinessHoursDayFullOpened"):`${(0,c.fU)(I,t+60*e*1e3)} â€“ ${(0,c.fU)(I,t+60*a*1e3)}`):[I("BusinessHoursDayClosed")]}),s},[e.workHours,x,I,T]),L=(0,s.Kr)(()=>{const t=(0,l.wF)(e.workHours,T),a=(0,l.rL)(),n=((new Date).getTime()-a)/1e3/60;return t.some(({startMinute:e,endMinute:t})=>e<=n&&n<=t)},[e.workHours,T]),B=(0,s.Kr)(()=>(new Date(Date.now()-(x?0:60*T*1e3)).getDay()+6)%7,[x,T]),R=(0,A.A)(()=>{a?b():n()}),D=(0,A.A)(e=>{e.stopPropagation(),x?N():C()});(0,s.vJ)(()=>{if(!a)return;const e=document.querySelector(`.${f.uo} > .${E.A.timetable}`);if(!e)return;const n=e.offsetHeight;(0,r.RK)(()=>{t.current.style.height=`${n}px`})},[a]);const F=(0,A.A)(()=>{const e=document.querySelector(`.${f.VY} > .${E.A.timetable}`);(0,r.YS)(()=>{const a=e.offsetHeight;(0,r.RK)(()=>{t.current.style.height=`${a}px`})})});return s.Ay.createElement(y.A,{icon:"clock",iconClassName:E.A.icon,multiline:!0,className:E.A.root,isStatic:a,ripple:!0,narrow:!0,withColorTransition:!0,onClick:R},s.Ay.createElement("div",{className:E.A.top},s.Ay.createElement("div",{className:E.A.left},s.Ay.createElement("div",null,I("BusinessHoursProfile")),s.Ay.createElement("div",{className:(0,i.A)(E.A.status,L&&E.A.statusOpen)},I(L?"BusinessHoursProfileNowOpen":"BusinessHoursProfileNowClosed"))),s.Ay.createElement(v.A,{className:E.A.arrow,name:a?"up":"down"})),a&&s.Ay.createElement("div",{className:E.A.bottom},Boolean(T)&&s.Ay.createElement("div",{className:E.A.offsetTrigger,role:"button",tabIndex:0,onMouseDown:o.TF?void 0:D,onClick:o.TF?D:void 0},I(x?"BusinessHoursProfileSwitchMy":"BusinessHoursProfileSwitchLocal")),s.Ay.createElement(f.Ay,{className:E.A.transition,ref:t,name:"fade",activeKey:Number(x),onStart:F},s.Ay.createElement("dl",{className:E.A.timetable},w.map(e=>s.Ay.createElement(s.Ay.Fragment,null,s.Ay.createElement("dt",{className:(0,i.A)(E.A.weekday,e===B&&E.A.currentDay)},(0,c.wv)(I,6===e?0:e+1)),s.Ay.createElement("dd",{className:E.A.schedule},P[e].map(e=>s.Ay.createElement("div",null,e)))))))))},C=(0,s.ph)(x);n()}catch(e){n(e)}})},17169:(e,t,a)=>{"use strict";a.d(t,{A:()=>n});const n={name:"BDZrSTO_",root:"QOz6fQFU",avatar:"dXSy0i2c",avatarHidden:"n0vJEdNW",ghost:"E1IeDpeb",ghostAnimateName:"HMp3KTKQ",ghostRevealName:"unYkDic1",ghostLast:"dZJGfaXC"}},17703:(e,t,a)=>{"use strict";a.d(t,{A:()=>o});var n=a(84051),s=a(87357);const r="AA5s1Pu4",o=(0,n.ph)(({isSelected:e,isActive:t,isMobile:a})=>n.Ay.createElement("div",{className:(0,s.A)("byPckqUT",t&&"IsUWP16T",e&&!a&&"qy2i51dM")},n.Ay.createElement("div",{className:"nl36F75B"},n.Ay.createElement("div",{className:r}),n.Ay.createElement("div",{className:r}),n.Ay.createElement("div",{className:r}))))},17751:(e,t,a)=>{"use strict";a.a(e,async(e,n)=>{try{a.d(t,{A:()=>x});var s=a(84051),r=a(13439),o=a(89925),i=a(90709),c=a(60919),l=a(87357),d=a(4961),m=a(54699),u=a(17712),p=a(59030),h=a(42452),A=a(21849),g=a(80999),y=a(35384),f=a(54746),v=a(80477),E=e([p,A,g,y,v]);[p,A,g,y,v]=E.then?(await E)():E;const b=6e4,w=({customPeer:e,typingStatus:t,avatarSize:a="medium",status:n,statusIcon:c,withDots:E,withMediaViewer:w,withUsername:x,withStory:C,withFullInfo:N,withUpdatingStatus:I,emojiStatusSize:S,noStatusOrTyping:M,noEmojiStatus:k,noFake:T,noVerified:P,noRtl:L,user:B,userStatus:R,self:D,isSavedMessages:F,isSavedDialog:O,areMessagesLoaded:z,adminMember:U,ripple:j,className:V,storyViewerOrigin:J,isSynced:H,onEmojiStatusClick:$,iconElement:K,rightElement:G})=>{const{loadFullUser:_,openMediaViewer:q,loadMoreProfilePhotos:W}=(0,r.ko)(),Z=(0,p.A)(),{id:Y}=B||{},Q=w&&!F;(0,s.vJ)(()=>{Y&&(N&&H&&_({userId:Y}),w&&W({peerId:Y,isPreload:!0}))},[Y,N,w,H]),(0,m.A)(b);const X=(0,u.A)((e,t)=>{B&&t&&(e.stopPropagation(),q({isAvatarView:!0,chatId:B.id,mediaIndex:0,origin:"jumbo"===a?o.TQ.ProfileAvatar:o.TQ.MiddleHeaderAvatar}))}),ee=(0,s.Kr)(()=>B&&x&&(0,i.Kl)(B),[B,x]);if(!B&&!e)return;const te=U?U.customTitle||Z(U.isOwner?"GroupInfo.LabelOwner":"GroupInfo.LabelAdmin"):void 0;return s.Ay.createElement("div",{className:(0,l.A)("ChatInfo",V),dir:!L&&Z.isRtl?"rtl":void 0},O&&D&&s.Ay.createElement(A.A,{key:"saved-messages",size:a,peer:D,isSavedMessages:!0,className:"saved-dialog-avatar"}),s.Ay.createElement(A.A,{key:B?.id,size:a,peer:e||B,className:(0,l.A)(O&&"overlay-avatar"),isSavedMessages:F,isSavedDialog:O,withStory:C,storyViewerOrigin:J,storyViewerMode:"single-peer",onClick:Q?X:void 0}),s.Ay.createElement("div",{className:"info"},te?s.Ay.createElement("div",{className:"info-name-title"},s.Ay.createElement(y.A,{peer:B,withEmojiStatus:!k,emojiStatusSize:S,isSavedMessages:F,isSavedDialog:O,onEmojiStatusClick:$}),te&&s.Ay.createElement("span",{className:"custom-title"},te)):s.Ay.createElement(y.A,{peer:e||B,noFake:T,noVerified:P,withEmojiStatus:!k,emojiStatusSize:S,isSavedMessages:F,isSavedDialog:O,onEmojiStatusClick:$,iconElement:K}),(n||!F&&!M)&&function(){if(n)return E?s.Ay.createElement(g.A,{className:"status",content:n}):s.Ay.createElement("span",{className:"status",dir:"auto"},c&&s.Ay.createElement(f.A,{className:"status-icon",name:c}),(0,d.A)(n));if(I&&!z)return s.Ay.createElement(g.A,{className:"status",content:Z("Updating")});if(e?.subtitleKey)return s.Ay.createElement("span",{className:"status",dir:"auto"},s.Ay.createElement("span",{className:"user-status",dir:"auto"},Z(e.subtitleKey)));if(!B)return;if(t)return s.Ay.createElement(v.A,{typingStatus:t});if((0,i.DX)(B.id))return;const a=(0,i.CD)(Z,B,R),r=(0,l.A)("handle",a&&"withStatus");return s.Ay.createElement("span",{className:(0,l.A)("status",(0,i.PF)(B,R,!0)&&"online")},ee&&s.Ay.createElement("span",{className:r},ee),a&&s.Ay.createElement("span",{className:"user-status",dir:"auto"},a))}()),j&&s.Ay.createElement(h.A,null),G)},x=(0,s.ph)((0,r.EK)((e,{userId:t,forceShowSelf:a})=>{const{isSynced:n}=e,s=t?(0,c.mBe)(e,t):void 0,r=t?(0,c.K0y)(e,t):void 0,o=!a&&s&&s.isSelf,i=o?s:(0,c.mBe)(e,e.currentUserId);return{user:s,userStatus:r,isSavedMessages:o,areMessagesLoaded:Boolean(t&&(0,c.zeq)(e,t)),self:i,isSynced:n}})(w));n()}catch(e){n(e)}})},17778:(e,t,a)=>{"use strict";a.d(t,{S:()=>i});const n=/(<br>|<br\s?\/>)/g,s=/(&nbsp;|\u00A0)/g,r=/(<div>|<\/div>)/gi,o=/\n$/i;function i(e){return e.replace(s," ").replace(n,"\n").replace(r,"").replace(o,"")}},18874:(e,t,a)=>{"use strict";a.a(e,async(e,n)=>{try{a.d(t,{A:()=>d});var s=a(84051),r=a(39351),o=a(5082),i=e([r]),c=i.then?(await i)():i;r=c[0];const l=({onClick:e})=>{const t=(0,r.A)();return s.Ay.createElement("div",{className:o.A.root,onClick:e},s.Ay.createElement("div",{className:o.A.title},t("TitleFrozenAccount")),s.Ay.createElement("div",{className:o.A.subtitle},t("SubtitleFrozenAccount")))},d=(0,s.ph)(l);n()}catch(e){n(e)}})},19343:(e,t,a)=>{"use strict";a.d(t,{A:()=>c});var n=a(96540),s=a(21468),r=a(69893),o=a(99083),i=a(75175);const c=e=>{const{text:t,setHtml:a,onClose:c}=e,[l,d]=n.useState(!0),[m,u]=n.useState([]);(0,n.useEffect)(()=>{(0,r.s2)(t).then(e=>{if(!e.data.errors)throw new Error("No errors found in the text");u(e.data.errors),d(!1)}).catch(e=>{console.error("Error checking grammar:",e),d(!1),u([])})},[]);const p=(0,n.useCallback)(()=>{if(m){const e=(0,r.Zm)(t,m);a(e),c()}},[m]);return n.createElement("div",null,n.createElement("h2",{className:"grammar-tool-tab-content-title"},"Use professional wording"),l?n.createElement(o.A,null):n.createElement(n.Fragment,null,n.createElement(i.A,{text:t,errors:m}),n.createElement(s.Ay,{color:"default",variant:"outlined",onClick:p},"Accept")))}},19381:(e,t,a)=>{"use strict";a.d(t,{A:()=>o});var n=a(84051),s=a(80089),r=a(80464);const o=e=>{const{isOpen:t}=e,a=(0,r.A)(s.ar.Extra,"ContextMenuContainer",!t);return a?n.Ay.createElement(a,e):void 0}},19967:(e,t,a)=>{"use strict";a.d(t,{A:()=>n});const n={root:"MlF2n1nb",rtl:"Xs2y1fCE","no-animation":"kmDMv6D8",noAnimation:"kmDMv6D8",notch:"hGeb3TQJ",scrolled:"SZ24u3cn","scroll-top-handler":"ERz3fcar",scrollTopHandler:"ERz3fcar",info:"Sf633zAP"}},20247:(e,t,a)=>{"use strict";a.d(t,{A:()=>i});var n=a(84051),s=a(13439),r=a(31481),o=a(17712);function i(e,t,a){const{shouldPaidMessageAutoApprove:i}=(0,s.mS)().settings.byKey,[c,l]=(0,n.J0)(Boolean(i)),[d,m]=(0,n.J0)(!1),u=(0,n.li)(void 0),p=(0,o.A)(()=>{(0,s.ko)().closePaymentMessageConfirmDialogOpen()});(0,n.vJ)(()=>{d&&!t&&(m(!1),a>e&&u?.current?.())},[d,t,a,e]);const h=(0,o.A)(()=>{(0,s.ko)().openStarsBalanceModal({topup:{balanceNeeded:e,purpose:r.D3m}}),m(!0)});return{closeConfirmDialog:p,handleWithConfirmation:(t,...n)=>{if(e){if(u.current=()=>t(...n),!i)return void(0,s.ko)().openPaymentMessageConfirmDialogOpen();if(e>a)return void h()}t(...n)},dialogHandler:(0,o.A)(()=>{e>a?h():u?.current?.(),(0,s.ko)().closePaymentMessageConfirmDialogOpen(),c&&(0,s.ko)().setPaidMessageAutoApprove()}),shouldAutoApprove:c,setAutoApprove:l}}},20604:(e,t,a)=>{"use strict";a.d(t,{A:()=>i});var n=a(96540),s=a(13439),r=a(87205),o=a(70809);const i=({message:e,canCopy:t,canVoice:a,canShare:i,canDelete:c,onClickShare:l,onDelete:d})=>{const{showNotification:m}=(0,s.ko)(),{isSpeaking:u,speak:p,stop:h}=(0,r.H)(e.id),A=(0,n.useRef)(void 0),g=(0,n.useCallback)(()=>{if(!A.current)return"";const e=A.current.closest("[data-message-container]");if(!e)return"";const t=e.querySelectorAll("[data-readable], [data-readable-inline]"),a=[];let n="";return t.forEach(e=>{const t=e.textContent?.trim();t&&(e.hasAttribute("data-readable-inline")?n=n?`${n} ${t}`:t:(n&&(a.push(n),n=""),a.push(t)))}),n&&a.push(n),a.join("\n")},[]);return n.createElement("div",{ref:A,className:"flex items-center gap-[8px] py-[6px]"},t&&n.createElement("div",{className:"w-[24px] h-[24px] text-[#676B74] cursor-pointer",onClick:()=>{const e=g();e?navigator.clipboard.writeText(e).then(()=>{m({message:"Copy successful"})}).catch(()=>{m({message:"Copy failed"})}):m({message:"No text to copy"})}},n.createElement(o.Td,{size:24})),a&&n.createElement("div",{className:"w-[24px] h-[24px] text-[#676B74] cursor-pointer",onClick:()=>{const e=g();if(u)h();else if(e)try{p(e)}catch(e){m({message:"è¯­éŸ³æ’­æ”¾å¤±è´¥"})}else m({message:"æ²¡æœ‰å¯æ’­æ”¾çš„å†…å®¹"})}},u?n.createElement(o.ON,{size:24}):n.createElement(o.S,{size:24})),i&&n.createElement("div",{className:"w-[24px] h-[24px] text-[#676B74] cursor-pointer",onClick:l},n.createElement(o.A,{size:24})),c&&n.createElement("div",{className:"w-[20px] h-[20px] cursor-pointer",onClick:d},n.createElement(o.d7,{size:20})))}},20785:(e,t,a)=>{"use strict";a.a(e,async(e,n)=>{try{a.d(t,{A:()=>u});var s=a(84051),r=a(17712),o=a(59030),i=a(71429),c=a(24433),l=a(60859),d=e([o,c]);[o,c]=d.then?(await d)():d;const m=({isOpen:e,sponsorInfo:t,canReport:a,anchor:n,triggerRef:d,shouldSkipAbout:m,onClose:u,onCloseAnimationEnd:p,onAboutAdsClick:h,onSponsoredHide:A,onSponsorInfo:g,onSponsoredReport:y})=>{const f=(0,s.li)(),v=(0,o.A)(),E=(0,r.A)(()=>d.current),b=(0,r.A)(()=>({withPortal:!0})),w=(0,r.A)(()=>f.current),x=(0,r.A)(()=>document.body),C=t||!m||a;return s.Ay.createElement(i.A,{ref:f,isOpen:e,anchor:n,withPortal:!0,className:"with-menu-transitions",getLayout:b,getTriggerElement:E,getMenuElement:w,getRootElement:x,onClose:u,onCloseAnimationEnd:p},t&&g&&s.Ay.createElement(c.A,{icon:"channel",onClick:g},v("SponsoredMessageSponsor")),!m&&s.Ay.createElement(c.A,{icon:"info",onClick:h},v(a?"AboutRevenueSharingAds":"SponsoredMessageInfo")),a&&y&&s.Ay.createElement(c.A,{icon:"hand-stop",onClick:y},v("ReportAd")),C&&s.Ay.createElement(l.A,null),s.Ay.createElement(c.A,{icon:"close-circle",onClick:A},v("HideAd")))},u=(0,s.ph)(m);n()}catch(e){n(e)}})},21488:(e,t,a)=>{"use strict";a.d(t,{A:()=>o});var n=a(84051),s=a(13439),r=a(37836);const o=function(e,t,a){const{loadPeerStoriesByIds:o}=(0,s.ko)(),i=(0,n.Kr)(()=>{const a=(0,r.nF)(o,200,!0);return()=>{a({peerId:e,storyIds:[t]})}},[t,e]);(0,n.vJ)(()=>{e&&t&&(!a||!("content"in a)&&!("isDeleted"in a))&&i()},[i,a,t,e])}},22066:(e,t,a)=>{"use strict";a.d(t,{c:()=>i});var n=a(84051),s=a(72531),r=a(40708),o=a(17712);function i(){const[e,t]=(0,n.J0)(0),a=(0,o.A)(e=>{e.chatId===r.bL&&t(e.count)});return(0,n.vJ)(()=>{const e=localStorage.getItem("room-ai-data"),n=e&&JSON.parse(e)?.[r.bL]?.unreadCount||0;return t(n),s.A.on(s.E.UpdateRoomAIUnreadCount,a),()=>{s.A.off(s.E.UpdateRoomAIUnreadCount,a)}},[]),e}},22555:(e,t,a)=>{"use strict";e.exports=a.p+"check.0abcdabedcbc8ca0f4e8.png"},22980:(e,t,a)=>{"use strict";a.a(e,async(e,n)=>{try{a.d(t,{A:()=>A});var s=a(84051),r=a(13439),o=a(60919),i=a(96454),c=a(85449),l=a(36680),d=a(59030),m=a(64493),u=a(71429),p=e([d,m]);[d,m]=p.then?(await p)():p;const h=({isOpen:e,message:t,onClose:a})=>{const{clickBotInlineButton:n}=(0,r.ko)(),o=(0,d.A)(),[p,h]=(0,l.A)(e,a),{isKeyboardSingleUse:A}=t||{},g=(0,s.Kr)(()=>{const e=[];return t?.keyboardButtons.forEach(t=>{e.push(t.map(e=>(0,c.A)(o,e)))}),e},[o,t?.keyboardButtons]);if(t&&t.keyboardButtons)return s.Ay.createElement(u.A,{isOpen:e,autoClose:A,positionX:"right",positionY:"bottom",onClose:a,className:"BotKeyboardMenu",onCloseAnimationEnd:a,onMouseEnter:i.TF?void 0:p,onMouseLeave:i.TF?void 0:h,noCompact:!0},s.Ay.createElement("div",{className:"content custom-scroll"},t.keyboardButtons.map((e,a)=>s.Ay.createElement("div",{className:"row"},e.map((e,r)=>s.Ay.createElement(m.A,{ripple:!0,disabled:"unsupported"===e.type,onClick:()=>n({chatId:t.chatId,messageId:t.id,button:e})},g?.[a][r]))))))},A=(0,s.ph)((0,r.EK)((e,{messageId:t})=>{const{chatId:a}=(0,o.Xf0)(e)||{};return a?{message:(0,o.O5q)(e,a,t)}:{}})(h));n()}catch(e){n(e)}})},23459:(e,t,a)=>{"use strict";a.d(t,{A:()=>p});var n=a(84051),s=a(13439),r=a(90709),o=a(60919),i=a(9716),c=a(37836);const l=36e5,d=new Map;let m=new Set;const u=(0,c.nF)(()=>{const e=Array.from(m),t=e.slice(0,100),a=e.slice(101);(0,s.ko)().loadStoriesMaxIds({peerIds:t}),t.forEach(e=>d.set(e,Date.now())),m=new Set(a),m.size&&u()},500);function p(e){const t=(0,n.Kr)(()=>{const t=(0,s.mS)();return e?.map(e=>(0,o.PVB)(t,e)).filter(Boolean)},[e]),a=(0,n.Kr)(()=>{const e=(0,s.mS)();return t?.filter(t=>{const a=d.get(t.id)||0;if(Date.now()-a<l)return!1;if((0,i.L8)(t.id)){const a=t,n=(0,o.K0y)(e,a.id),s=n&&"userStatusEmpty"!==n.type;return!a.isContact&&!a.isSelf&&!(0,r.tv)(a)&&!t.isSupport&&s}{const a=t,n=(0,o._ls)(e,a.id);return(0,r.WX)(a)&&!n}}).map(e=>e.id)},[t]);(0,n.vJ)(()=>{a?.length&&(a.forEach(e=>m.add(e)),u())},[a])}},23550:(e,t,a)=>{"use strict";a.d(t,{A:()=>n});const n={root:"LFiEK79A","list-item":"_VgXA3ZV",listItem:"_VgXA3ZV",title:"RITxpjRP",subtitle:"TsAsFkJP",languages:"WPdg2YHh"}},23565:(e,t,a)=>{"use strict";a.d(t,{A:()=>i});var n=a(84051),s=a(30857),r=a(73767),o=a(35297);function i(e,t){const a=(0,r.A)(e,!0),i=(0,n.li)(),c=(0,s.A)(),l=null!=e,d=null!=a;return l&&i.current&&(clearTimeout(i.current),i.current=void 0),(0,o.A)(()=>{t&&!l&&d&&!i.current&&(i.current=window.setTimeout(()=>{i.current=void 0,c()},t))},[t,c,l,d]),i.current&&t&&!l?a:e}},23814:(e,t,a)=>{"use strict";e.exports=a.p+"message.772cf7cc443d60210a5e.png"},23845:(e,t,a)=>{"use strict";a.a(e,async(e,n)=>{try{a.d(t,{A:()=>y});var s=a(84051),r=a(13439),o=a(96454),i=a(87357),c=a(17663),l=a(4262),d=a(17712),m=a(59030),u=a(54746),p=a(64493),h=a(61321),A=e([m,p]);[m,p]=A.then?(await A)():A;const g=({phoneCall:e,message:t,chatId:a})=>{const{requestMasterAndRequestCall:n}=(0,r.ko)(),A=(0,m.A)(),{isVideo:g,reason:y,duration:f}=e,v=t.isOutgoing,E="missed"===y,b="busy"===y||void 0===f,w=(0,d.A)(()=>{n({isVideo:g,userId:a})}),x=(0,s.Kr)(()=>e.duration?(0,c.zA)(A,e.duration):void 0,[A,e.duration]),C=(0,c.fU)(A,1e3*t.date);return s.Ay.createElement("div",{className:h.A.root},s.Ay.createElement(p.A,{size:"smaller",color:"translucent",round:!0,ripple:!0,onClick:w,className:h.A.button,disabled:!o.OL,ariaLabel:A(v?"CallAgain":"CallBack")},s.Ay.createElement(u.A,{name:g?"video-outlined":"phone"})),s.Ay.createElement("div",{className:h.A.info},s.Ay.createElement("div",{className:h.A.reason},A((0,l.fB)(e,t.isOutgoing))),s.Ay.createElement("div",{className:h.A.meta},s.Ay.createElement(u.A,{name:"arrow-right",className:(0,i.A)(h.A.arrow,E&&h.A.missed,b&&h.A.canceled,!v&&h.A.incoming)}),s.Ay.createElement("span",{className:h.A.duration},x?A("CallMessageWithDuration",[C,x]):C))))},y=(0,s.ph)(g);n()}catch(e){n(e)}})},23964:(e,t,a)=>{"use strict";a.a(e,async(e,n)=>{try{a.d(t,{A:()=>C});var s=a(84051),r=a(31481),o=a(66644),i=a(90709),c=a(70636),l=a(87357),d=a(4961),m=a(15384),u=a(79882),p=a(35749),h=a(2338),A=a(21488),g=a(62587),y=a(59030),f=a(27552),v=a(54746),E=a(18653),b=a(80477),w=e([c,m,g,y,f,E,b]);[c,m,g,y,f,E,b]=w.then?(await w)():w;const x=200;function C({chat:e,topics:t,lastMessage:a,statefulMediaContent:n,chatId:l,typingStatus:E,draft:w,lastMessageTopic:C,lastMessageSender:I,observeIntersection:S,animationType:M,orderDiff:k,withInterfaceAnimations:T,isTopic:P,isSavedDialog:L,isPreview:B}){const R=(0,y.A)(),D=(0,s.li)(),F=a?.content.storyData,O=n&&!n.story;(0,A.A)(O?F?.peerId:void 0,F?.id,n?.story);const z=n?.story||a,U=z&&!(0,i.fP)(z),j=(0,h.A)(z),V=U?j:void 0,J=(0,p.A)(z,"micro"),H=(0,g.A)(U?J:void 0),$=Boolean(a&&(0,i.lk)(a)),K=(0,s.hb)(()=>{if(!L&&!B&&E&&a&&E.timestamp>1e3*a.date)return s.Ay.createElement(b.A,{typingStatus:E});const t=w&&w.replyInfo?.replyToMsgId===C?.id,n=w?.replyInfo&&!w.text&&w.isLocal;if(!e?.isForum&&!L&&!B&&w&&!n&&(!P||!t))return s.Ay.createElement("p",{className:"last-message",dir:R.isRtl?"auto":"ltr"},s.Ay.createElement("span",{className:"draft"},R("Draft")),s.Ay.createElement("span",{className:"last-message-summary",dir:"auto"},(0,m.fd)({text:w.text?.text||"",entities:w.text?.entities,asPreview:!0,withTranslucentThumbs:!0})));if(!a)return;const r=I?(0,c.Q5)(R,l,I):void 0;return s.Ay.createElement("p",{className:"last-message shared-canvas-container",dir:R.isRtl?"auto":"ltr"},r&&s.Ay.createElement(s.Ay.Fragment,null,s.Ay.createElement("span",{className:"sender-name"},(0,d.A)(r)),s.Ay.createElement("span",{className:"colon"},":")),!L&&a.forwardInfo&&s.Ay.createElement(v.A,{name:"share-filled",className:"chat-prefix-icon"}),"story"===a.replyInfo?.type&&s.Ay.createElement(v.A,{name:"story-reply",className:"chat-prefix-icon"}),s.Ay.createElement("span",{className:"last-message-summary",dir:"auto"},N(a,S,H||V,$)))},[e,l,w,$,P,R,a,I,C,H,V,S,E,L,B]);return(0,s.Nf)(()=>{const e=D.current;if(T&&e){if(M===u.I.Opacity)e.style.opacity="0",(0,o.RK)(()=>{e.classList.add("animate-opacity"),e.style.opacity="1"});else{if(M!==u.I.Move)return;e.style.transform=`translate3d(0, ${-k*r.yq1}px, 0)`,(0,o.RK)(()=>{e.classList.add("animate-transform"),e.style.transform=""})}setTimeout(()=>{(0,o.RK)(()=>{e.classList.remove("animate-opacity","animate-transform"),e.style.opacity="",e.style.transform=""})},x+r.xB5)}},[T,k,M]),{renderSubtitle:function(){return e?.isForum&&!P?s.Ay.createElement(f.A,{chat:e,renderLastMessage:K,observeIntersection:S,topics:t}):K()},ref:D}}function N(e,t,a,n){const r=s.Ay.createElement(E.A,{message:e,noEmoji:Boolean(a),observeIntersectionForLoading:t,inChatList:!0});if(!a)return r;const o=(0,i.y2)(e);return s.Ay.createElement("span",{className:"media-preview"},s.Ay.createElement("img",{src:a,alt:"",className:(0,l.A)("media-preview--image",n&&"round",o&&"media-preview-spoiler"),draggable:!1}),(0,i.zX)(e)&&s.Ay.createElement(v.A,{name:"play"}),r)}n()}catch(I){n(I)}})},24124:(e,t,a)=>{"use strict";a.d(t,{A:()=>o});var n=a(84051),s=a(80089),r=a(80464);const o=e=>{const{isOpen:t}=e,a=(0,r.A)(s.ar.Extra,"MentionTooltip",!t);return a?n.Ay.createElement(a,e):void 0}},24182:(e,t,a)=>{"use strict";a.d(t,{A:()=>m});var n=a(96540),s=a(66644),r=a(96454),o=a(87357),i=a(41402),c=a(4961),l=a(11217);const d="Tab--active",m=({className:e,title:t,isActive:a,badgeCount:m,isBadgeActive:u,previousActiveTab:p,onClick:h,clickArg:A})=>{const g=(0,n.useRef)(void 0);(0,n.useLayoutEffect)(()=>{a&&void 0===p&&g.current&&g.current.classList.add(d)},[a,p]),(0,n.useEffect)(()=>{if(!a||void 0===p)return;const e=g.current,t=e.parentElement.children[p];if(!t)return void(a&&!e.classList.contains(d)&&(0,s.RK)(()=>{e.classList.add(d)}));const n=e.querySelector(".platform"),r=t.querySelector(".platform"),o=r.parentElement.offsetLeft-n.parentElement.offsetLeft,c=r.clientWidth/n.clientWidth;(0,s.RK)(()=>{r.classList.remove("animate"),n.classList.remove("animate"),n.style.transform=`translate3d(${o}px, 0, 0) scale3d(${c}, 1, 1)`,(0,s.gm)(()=>((0,i.A)(n),()=>{n.classList.add("animate"),n.style.transform="none",t.classList.remove(d),e.classList.add(d)}))})},[a,p]);const{handleClick:y,handleMouseDown:f}=(0,l.Q)(e=>{"mousedown"===e.type&&e.button!==r.w3.Main||h?.(A)});return n.createElement("div",{className:(0,o.A)("Tab",h&&"Tab--interactive",e),onClick:y,onMouseDown:f,ref:g},n.createElement("span",{className:"Tab_inner"},(0,c.A)(t),Boolean(m)&&n.createElement("span",{className:(0,o.A)("badge",u&&"Tab__badge--active")},m),n.createElement("i",{className:"platform"})))}},24807:(e,t,a)=>{"use strict";a.a(e,async(e,n)=>{try{a.d(t,{A:()=>b});var s=a(84051),r=a(13439),o=a(87357),i=a(80140),c=a(22237),l=a(14242),d=a(59852),m=a(19129),u=a(39351),p=a(17712),h=a(59030),A=a(4421),g=a(54746),y=a(64493),f=a(26607),v=e([u,h,A,y]);[u,h,A,y]=v.then?(await v)():v;const E=({topic:e,topics:t,chat:a,isPinned:n,isMuted:v,shouldShowOnlyMostImportant:E,wasTopicOpened:b,forceHidden:w,isSavedDialog:x,hasMiniApp:C,isSelected:N})=>{const{requestMainWebView:I}=(0,r.ko)(),S=(0,h.A)(),M=(0,u.A)(),{unreadMentionsCount:k=0,unreadReactionsCount:T=0}=a.isForum?{}:a,P=!n&&e&&!b,L=a.isForum&&!e,B=(0,s.Kr)(()=>L&&t?Object.values(t).filter(({unreadCount:e})=>e):void 0,[t,L]),R=(0,s.Kr)(()=>L?B?.length:(e||a).unreadCount,[a,e,B,L]),D=(0,s.Kr)(()=>{if(!L)return!v||0===e?.notifySettings.mutedUntil;if(v)return B?.some(e=>0===e.notifySettings.mutedUntil);const t=B?.every(e=>e.notifySettings.mutedUntil&&e.notifySettings.mutedUntil>(0,i.Fm)());return!t},[L,v,B,e?.notifySettings.mutedUntil]),F=!e&&a.hasUnreadMark,O=!(0,m.A)(()=>(0,c.Hp)(w)?w():w,[w])&&Boolean(R||k||F||n||T||P||C),z=Boolean((R||F)&&!x),U=(0,o.A)("ChatBadge",!D&&"muted",!z&&n&&"pinned",z&&"unread"),j=(0,p.A)(e=>{e.stopPropagation();const t=(0,d.A)();I({botId:a.id,peerId:a.id,theme:t})});return s.Ay.createElement(f.A,{isCustom:!0,className:"ChatBadge-transition",isOpen:O},function(){const e=T&&s.Ay.createElement("div",{className:(0,o.A)("ChatBadge reaction",!D&&"muted")},s.Ay.createElement(g.A,{name:"heart"})),t=k&&s.Ay.createElement("div",{className:"ChatBadge mention"},s.Ay.createElement(g.A,{name:"mention"})),a=P&&s.Ay.createElement("div",{className:(0,o.A)("ChatBadge unopened",!D&&"muted")}),r=F||R?s.Ay.createElement("div",{className:U},!F&&s.Ay.createElement(A.A,{text:(0,l.Vw)(M,R)})):void 0,i=n&&s.Ay.createElement("div",{className:U},s.Ay.createElement(g.A,{name:"pinned-chat"})),c=C&&s.Ay.createElement(y.A,{color:N?"secondary":"primary",className:"ChatBadge miniapp",pill:!0,size:"tiny",onClick:j},S("BotOpen")),d=!r&&!t&&!e&&i,m=[a,e,t,r,d].filter(Boolean);return x?i:C&&(0===m.length||d)?c:0!==m.length?1===m.length?m[0]:E?[t,r,e,i].filter(Boolean)[0]:s.Ay.createElement("div",{className:"ChatBadge-wrapper"},m):void 0}())},b=(0,s.ph)(E);n()}catch(e){n(e)}})},24845:(e,t,a)=>{"use strict";a.d(t,{A:()=>n});const n={fallbackPhoto:"Wm9Ygb23",fallbackPhotoContents:"nflKKT3R",fallbackPhotoVisible:"tFkRrvxe",fallbackPhotoAvatar:"R7w3H5eC",photoWrapper:"GBGLnrA7",photoDashes:"uyvKpR3B",photoDash:"wB4yjvei",photoDash_current:"aZmp9FLh",photoDashCurrent:"aZmp9FLh",navigation:"ZZRcBh8v",navigation_prev:"RQITz4WQ",navigationPrev:"RQITz4WQ",navigation_next:"_0F1Txru",navigationNext:"_0F1Txru",info:"UcyW7tVh",status:"cpyXyZDl","user-status":"_HDVUj4P",userStatus:"_HDVUj4P","get-status":"Qga38M20",getStatus:"Qga38M20",topicContainer:"yzg267rr",topicTitle:"umOuiu3K",topicIcon:"ZCxp0_t4",topicIconTitle:"lkfZNWOm",topicMessagesCounter:"tLTzQ2ks"}},24899:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});var n=a(31481);function s(e,t){return t?`${n.jsp}${e}`:`@${e}`}},24920:(e,t,a)=>{"use strict";a.d(t,{A:()=>o});var n=a(84051),s=a(30857),r=a(73767);function o(e){const t=(0,s.A)(),a=(0,n.li)(e),o=(0,r.A)(e);return!1===e&&o!==e&&(a.current=!1),{shouldDisableDropdownMenuTransitionRef:a,handleDropdownMenuTransitionEnd:function(){a.current=Boolean(e),t()}}}},25352:()=>{},25477:(e,t,a)=>{"use strict";a.a(e,async(e,n)=>{try{a.d(t,{A:()=>T});var s=a(84051),r=a(13439),o=a(90709),i=a(87357),c=a(17663),l=a(74167),d=a(76023),m=a(35127),u=a(84313),p=a(43874),h=a(37661),A=a(5912),g=a(17712),y=a(62587),f=a(37960),v=a(69419),E=a(73767),b=a(34201),w=a(61097),x=a(54746),C=a(46256),N=a(66618),I=a(65843),S=a(35913),M=e([l,u,y,v,C,N]);[l,u,y,v,C,N]=M.then?(await M)():M;const k=({id:e,video:t,isOwn:a,isInWebPage:n,noAvatars:M,canAutoLoad:k,canAutoPlay:T,uploadProgress:P,forcedWidth:L,dimensions:B,asForwarded:R,isDownloading:D,isProtected:F,className:O,lastPlaybackTimestamp:z,clickArg:U,isMediaNsfw:j,observeIntersectionForLoading:V,observeIntersectionForPlaying:J,onClick:H,onCancelUpload:$,needsAgeVerification:K})=>{const{cancelMediaDownload:G,updateContentSettings:_,openAgeVerificationModal:q}=(0,r.ko)(),W=(0,s.li)(),Z=(0,s.li)(),[Y,Q,X]=(0,h.A)(),[ee,te]=(0,s.J0)(!1),ae="extendedMediaPreview"===t.mediaType,ne=ae?void 0:t.blobUrl,se=ae||t.isSpoiler||j,[re,oe,ie]=(0,h.A)(se);(0,s.vJ)(()=>{se?oe():ie()},[se]);const ce=(0,g.A)(()=>{X(),ie(),ee&&_({isSensitiveEnabled:!0})}),le=(0,A.Vz)(W,V),de=(0,A.Vz)(W,J)&&le,me=(0,s.li)(le);de&&!me.current&&(me.current=!0);const{isMobile:ue}=(0,p.Ay)(),[pe,he]=(0,s.J0)(k),Ae=Boolean(pe&&le&&!ae),[ge,ye]=(0,s.J0)(Boolean(T&&!re)),fe=ae?void 0:(0,o.sC)(t,"inline"),[ve]=(0,s.J0)(Boolean(fe&&l.Ih(fe))),{mediaData:Ee,loadProgress:be}=(0,v.A)(fe,!Ae,ae?void 0:(0,o.Cz)(t,"inline")),we=ne||Ee,[xe,Ce]=(0,h.A)(),Ne=(0,o.VD)(t),Ie=Boolean(Ne),Se=Boolean(L),Me=we&&me.current,ke=(0,u.A)(Z,!0,!Me),Te=ae?void 0:(0,o.sC)(t,"preview"),[Pe]=(0,s.J0)(Boolean(Te&&l.Ih(Te))),Le=le,Be=(0,y.A)(Te,!Le),Re=xe&&!ke,{ref:De}=(0,f.A)({hasMediaData:Boolean((Ie||Be)&&!Re)}),Fe=Boolean(!Ie||Be||xe),Oe=(0,w.A)(t,Fe);(0,f.A)({ref:Oe,hasMediaData:!Fe});const ze=(0,w.A)(t,!Se),{loadProgress:Ue}=(0,v.A)(ae?void 0:(0,o.sC)(t,"download"),!D,ae?void 0:(0,o.Cz)(t,"download")),{isUploading:je,isTransferring:Ve,transferProgress:Je}=(0,o.LK)(P||(D?Ue:be),Ae&&!xe&&!ve||D,void 0!==P),He=!1===(0,E.A)(pe),{ref:$e,shouldRender:Ke}=(0,b.A)({isOpen:Ve&&!ke,noMountTransition:He,withShouldRender:!0}),{ref:Ge}=(0,b.A)({isOpen:Boolean((pe||we)&&!ge&&!Ke)}),[_e,qe]=(0,s.J0)(0),We=(0,g.A)(e=>{qe(Math.max(0,e.currentTarget.currentTime-1))}),Ze=(Number.isFinite(Z.current?.duration)&&!ke?Z.current?.duration:t.duration)||0,{width:Ye,height:Qe}=B||(ae?(0,d.ri)(t,Boolean(a),R,n,M,ue):(0,d.rO)(t,Boolean(a),R,n,M,ue)),Xe=(0,g.A)((e,a)=>{if(je)$?.(U);else if(ae||!D){if(we)return we&&!ge&&ye(!0),re?j?K?void q():void Q():void ie():a&&Ae&&!xe&&!ve?(he(!1),void e.stopPropagation()):void H?.(U,e);he(e=>!e)}else G({media:t})}),et=(0,g.A)(e=>{Xe(e,!0)}),tt=(0,i.A)("media-inner dark",!je&&"interactive",Qe<m.ej&&"fix-min-height",O),at=`height: ${Qe}px;${B?` width: ${Ye}px; left: ${B.x}px; top: ${B.y}px;`:""}`;return s.Ay.createElement("div",{ref:W,id:e,className:tt,style:at,onClick:je?void 0:e=>Xe(e)},Se&&s.Ay.createElement("canvas",{ref:ze,className:"thumbnail blurred-bg"}),Me&&s.Ay.createElement(I.A,{ref:Z,src:we,className:(0,i.A)("full-media",Se&&"with-blurred-bg"),canPlay:ge&&de&&!ke,defaultMuted:!0,muted:!0,loop:!0,playsInline:!0,disablePictureInPicture:!0,draggable:!F,onTimeUpdate:We,onReady:Ce,style:L?`width: ${L}px`:void 0}),s.Ay.createElement("img",{ref:De,src:Be,className:(0,i.A)("thumbnail",Se&&"with-blurred-bg"),alt:"",style:L?`width: ${L}px;`:void 0,draggable:!F}),Ie&&!Pe&&s.Ay.createElement("canvas",{ref:Oe,className:"thumbnail"}),F&&s.Ay.createElement("span",{className:"protector"}),s.Ay.createElement(x.A,{ref:Ge,name:"large-play"}),s.Ay.createElement(C.A,{isVisible:re,withAnimation:!0,thumbDataUri:Ne,isNsfw:j,width:Ye,height:Qe,className:"media-spoiler"}),Ke&&s.Ay.createElement("div",{ref:$e,className:"media-loading"},s.Ay.createElement(S.A,{progress:Je,onClick:et})),!pe&&!we&&s.Ay.createElement(x.A,{name:"download"}),!Ve||ke&&!D?s.Ay.createElement("div",{className:"message-media-duration"},!ae&&t.isGif?"GIF":(0,c.QO)(Math.max(Ze-_e,0)),ke&&s.Ay.createElement(x.A,{name:"message-failed",className:"playback-failed"})):s.Ay.createElement("span",{className:"message-transfer-progress"},je||D?`${Math.round(100*Je)}%`:"..."),Boolean(z)&&s.Ay.createElement("div",{className:"message-media-last-progress",style:`--_progress: ${Math.floor(z/Ze*100)}%`}),s.Ay.createElement(N.A,{isOpen:Y,onClose:X,shouldAlwaysShow:ee,onAlwaysShowChanged:te,confirmHandler:ce}))},T=(0,s.ph)((0,r.EK)(e=>{const t=e.appConfig,a=t?.needAgeVideoVerification;return{needsAgeVerification:a}})(k));n()}catch(e){n(e)}})},25498:(e,t,a)=>{"use strict";a.a(e,async(e,n)=>{try{a.d(t,{A:()=>R});var s=a(84051),r=a(13439),o=a(31481),i=a(66644),c=a(60919),l=a(52491),d=a(36353),m=a(87894),u=a(79824),p=a(37830),h=a(4961),A=a(58734),g=a(17778),y=a(63988),f=a(83414),v=a(37661),E=a(17712),b=e([A]),w=b.then?(await b)():b;let x,C,N,I,S;A=w[0];const M=36,k=2,T=300,P=(0,p.A)(F),L=(0,p.A)(O),B=(0,p.A)(z);try{I=/(^|\s):(?!\s)[-+_:'\s\p{L}\p{N}]*$/giu,S=/\p{Ll}/u}catch(U){I=/(^|\s):(?!\s)[-+_:'\s\d\wÐ°-ÑÑ‘Ò‘Ñ”Ñ–Ñ—]*$/gi,S=/[a-zÑÑ‘Ò‘Ñ”Ñ–Ñ—]/}function R(e,t,a,n=o.CfG,l,p,b){const[w,x,C]=(0,v.A)(!1),[R,F]=(0,s.J0)(),[O,z]=(0,s.J0)(u.p),[U,j]=(0,s.J0)(u.p);(0,s.vJ)(()=>{function t(){F(N.emojis)}e&&(N?t():D().then(t))},[e]);const V=(0,y.gs)(()=>{const a=t();return e&&a.includes(":")?(0,g.S)(a).match(I)?.[0].trim():void 0},[t,e],T),J=(0,f.A)(V,[V,t],!0),H=(0,E.A)(e=>{if(z(e),e===u.p)return void j(u.p);const t=e.map(e=>e.native),a=(0,m.Xd)((0,c.oZ0)((0,r.mS)(),t),"id");j(a)}),$=(0,E.A)((e,s=!1)=>{const r=t();if(!r)return;const c=r.lastIndexOf(":",s?r.lastIndexOf(":")-1:void 0);if(-1!==c){const t="string"==typeof e?(0,h.A)(e,["emoji_html"])[0]:(0,A.hB)(e);a(`${r.substring(0,c)}${t}`);const s=n===o.CfG?document.querySelector(o.m$5):document.getElementById(n);(0,i.Uz)(()=>{(0,d.A)(s,!0,!0)})}H(u.p)});return(0,s.vJ)(()=>{const e=J();if(!e||!R)return void H(u.p);const t=e.length>2&&e.endsWith(":"),a=e.substring(1,t?1+e.length-2:void 0);let n=u.p;if(a){if(1===a.length&&S.test(a)||a.length>=k){const e=L(R,p,b);n=B(e,a.toLowerCase(),M)}}else n=P(R,l,M);n.length?t?$(n[0].native,!0):H(n):H(u.p)},[p,R,J,b,$,l,H]),(0,s.vJ)(C,[C,t]),{isEmojiTooltipOpen:Boolean(O.length||U.length)&&!w,closeEmojiTooltip:x,filteredEmojis:O,filteredCustomEmojis:U,insertEmoji:$}}async function D(){return x||(x=a.e(996).then(a.t.bind(a,20996,19)),C=(await x).default,N=(0,l.cp)(C)),x}function F(e,t,a){return e&&t.length?Object.values((0,m._E)(e,t)).slice(0,a):u.p}function O(e,t,a){const n=Object.values(e),s=(0,m.dU)(n,"native"),r=t?(0,m.LG)(t,e=>Object.values((0,m._E)(s,e))):{},o=a?(0,m.LG)(a,e=>Object.values((0,m._E)(s,e))):{},i={...r,...o},c=[].concat(Object.keys(r),Object.keys(o)),l=n.reduce((e,t)=>(t.names.forEach(a=>{e[a]||(e[a]=[]),e[a].push(t)}),e),{}),d=Object.keys(l),u=c.reduce((e,t)=>Math.max(e,t.length),0);return{byKeyword:i,keywords:c,byName:l,names:d,maxKeyLength:u}}function z(e,t,a){const{byKeyword:n,keywords:s,byName:r,names:o,maxKeyLength:i}=e;let c=[];if(t.length>i)return u.p;const l=s.filter(e=>e.startsWith(t)).sort();c=c.concat(Object.values((0,m._E)(n,l)).flat());const d=o.filter(e=>e.startsWith(t));return c=c.concat(Object.values((0,m._E)(r,d)).flat()),c=(0,m.Am)(c),c.length?c.slice(0,a):u.p}n()}catch(j){n(j)}})},25508:(e,t,a)=>{"use strict";a.a(e,async(e,n)=>{try{a.d(t,{A:()=>C});var s=a(84051),r=a(46942),o=a.n(r),i=a(13439),c=a(72531),l=a(90709),d=a(60919),m=a(9716),u=a(7971),p=a(59577),h=a(85325),A=a(80395),g=a(48799),y=a(40459),f=a(10858),v=a(17712),E=a(8235),b=e([u,y,f]);[u,y,f]=b.then?(await b)():b;const w="w-[20px] h-[20px] text-[16px] cursor-pointer flex items-center justify-center",x=({message:e,position:t,canScheduleMeeting:a,canAISummarize:n,canSmartReply:r,canTranslate:l})=>{const d=a||n||r||l,[b,x]=(0,s.J0)(!1),C=(0,v.A)(async()=>{if(b)return;const t=e.chatId;if(f.Ay.get(t))return;x(!0);const a=(0,m.L8)(t)?void 0:e.senderId,n=(0,A.IM)(),s=()=>{f.Ay.create({chatId:t,targetUserId:a}).handleTargetMessage(e),setTimeout(()=>x(!1),2e3)};n&&await(0,A.G6)(n)?s():(0,h.wG)({onOk:s,onCancel:()=>x(!1)})}),N=(0,v.A)(async()=>{if(e.content.text?.text){(0,i.ko)().updateDraftReplyInfo({replyToMsgId:e.id,replyToPeerId:void 0,quoteText:void 0,quoteOffset:void 0});const t=await(0,y.G)(e.content.text.text);t&&t.score>.8?c.A.emit("update-input-text",t.answer):(c.A.emit("update-input-spiner",!0),(0,p.g4)({data:{messages:[{role:"system",content:"ä½ æ˜¯ä¸€ä¸ªå¤šè¯­ç§æ™ºèƒ½åŠ©æ‰‹ã€‚æŽ¥æ”¶ç”¨æˆ·æ¶ˆæ¯åŽï¼Œè‡ªåŠ¨è¯†åˆ«å…¶ä½¿ç”¨çš„è¯­è¨€ï¼Œå¹¶ç”¨ç›¸åŒçš„è¯­è¨€è¿›è¡Œè‡ªç„¶ã€å¾—ä½“çš„å›žå¤ã€‚ä½ åº”è¯¥ç†è§£æ¶ˆæ¯çš„è¯­å¢ƒï¼Œç¡®ä¿å›žå¤ç®€æ´ã€å‹å¥½ä¸”ç¬¦åˆè¯­è¨€ä¹ æƒ¯ã€‚",id:"1"},{role:"user",content:`è¯·å›žå¤ä¸‹é¢çš„æ¶ˆæ¯: ${e.content.text?.text}`,id:"2"}]},onResponse:e=>{c.A.emit("update-input-text",e)},onFinish:()=>{console.log("Finish")}}))}}),I=(0,v.A)(()=>{const{photo:t,document:a,webPage:n,voice:s,audio:r,text:o,video:c}=e.content,l=(0,u.Ah)(o?.text);(0,i.ko)().openChatAIWithInfo({chatId:e.chatId}),t?(0,u.tg)(e):n&&!o?.text||l?(0,u.ur)(e):a?(0,u.mu)(e):s?(0,u._b)(e):r?(0,u.LW)(e):c&&(0,u.Al)(e)}),S=(0,v.A)(()=>{(0,i.ko)().requestMessageTranslation({chatId:e.chatId,id:e.id})});if(d)return s.Ay.createElement("div",{className:o()("message-gpt-menu","top"===t?"top-[-32px]":"bottom-[-32px]")},s.Ay.createElement("div",{className:"message-gpt-menu-inner"},s.Ay.createElement("div",{className:o()("!cursor-auto",w)},s.Ay.createElement("img",{className:"w-[20px] h-[20px] mt-[-4px]",src:E,alt:""})),l&&s.Ay.createElement("div",{className:w,onClick:S,title:"Translate"},s.Ay.createElement(g.wE,{size:16})),a&&s.Ay.createElement("div",{className:w,onClick:C,title:"Schedule meeting"},s.Ay.createElement(g.Nn,{size:16})),n&&s.Ay.createElement("div",{className:w,onClick:I,title:"Summarize"},s.Ay.createElement(g.hD,{size:16})),r&&s.Ay.createElement("div",{className:w,onClick:N,title:"Smart Reply"},s.Ay.createElement(g.o9,{size:16}))))},C=(0,s.ph)((0,i.EK)((e,{message:t,messageListType:a,detectedLanguage:n})=>{const s=(0,l.Ie)(t),r=(0,l.XR)(t),o=(0,u.aT)(t),i="pinned"===a,c="scheduled"===a,p=(0,d.hds)(e,t.chatId),h=p&&(0,m.L8)(p.id)?void 0:(0,d.AWZ)(e,t.chatId),{threadId:A}=(0,d.Xf0)(e)||{},{canReplyGlobally:g}=A&&(0,d.WAX)(e,t,A)||{},y=p&&!(0,l.Sq)(p,"sendPlain",h),f=(0,d.Rny)(e,t.chatId,t.id);return{message:t,canScheduleMeeting:!s&&r,canAISummarize:o,canSmartReply:!s&&!i&&!c&&g&&y&&r,canTranslate:!(f?Boolean((0,d.a_$)(e,t.chatId,f)[t.id]?.text):void 0)&&(0,d.S86)(e,t,n)}})(x));n()}catch(e){n(e)}})},25897:(e,t,a)=>{"use strict";a.d(t,{A:()=>o});var n=a(84051),s=a(80089),r=a(80464);const o=e=>{const{isOpen:t}=e,a=(0,r.A)(s.ar.Extra,"CustomEmojiTooltip",!t);return a?n.Ay.createElement(a,e):void 0}},26959:()=>{},27263:(e,t,a)=>{"use strict";a.d(t,{A:()=>m});var n=a(96540),s=a(13439),r=a(72531),o=a(60919),i=a(87357),c=a(58324),l=a(75304),d=a(77787);const m=()=>{const e=(0,s.mS)(),{currentUserId:t}=e,a=t?(0,o.mBe)(e,t):void 0,{scrollToBottom:m}=(0,l.R)();return n.createElement("div",{className:"global-summary-introduce"},n.createElement("h3",null,"Hi ",[a?.firstName,a?.lastName].filter(Boolean).join(" ")," ðŸ‘‹"),n.createElement("h3",null,"How can I help you todayï¼"),n.createElement("div",{className:"rounded-[16px] p-[15px] grid grid-cols-2 gap-[12px] w-[743px] mt-[10px] mb-[20px] bg-[var(--color-background)]"},n.createElement("div",{className:(0,i.A)("rf6B3If7","global-summary-introduce-item"),onClick:()=>{const e=(0,c.n5)();d.zs.summary?.storeMessage(e),r.A.emit(r.E.AddSummaryMessage,e),m()}},n.createElement("div",{className:"text-[18px] font-bold mb-[10px] text-[var(--color-text)]"},"ðŸ“ AI Summary"),n.createElement("div",{className:"text-[14px] leading-[18px] text-[var(--color-text-secondary)] pr-[120px]"},"Get instant, clear takeaways during the chat")),n.createElement("div",{className:(0,i.A)("dJsvi1dH","global-summary-introduce-item"),onClick:()=>{const e=(0,c.sh)();d.zs.summary?.storeMessage(e),r.A.emit(r.E.AddSummaryMessage,e),m()}},n.createElement("div",{className:"text-[18px] font-bold mb-[10px] text-[var(--color-text)]"},"âœ… Action Items"),n.createElement("div",{className:"text-[14px] leading-[18px] text-[var(--color-text-secondary)] pr-[120px]"},"Automatically capture next steps and assignments.")),n.createElement("div",{className:(0,i.A)("o3wMHYSu","global-summary-introduce-item"),onClick:()=>{const e=(0,c.w7)();d.zs.summary?.storeMessage(e),r.A.emit(r.E.AddSummaryMessage,e),m()}},n.createElement("div",{className:"text-[18px] font-bold mb-[10px] text-[var(--color-text)]"},"ðŸ“šï¸ Translation & Grammar Check"),n.createElement("div",{className:"text-[14px] leading-[18px] text-[var(--color-text-secondary)] pr-[120px]"},"Communicate effortlessly, in any language.")),n.createElement("div",{className:(0,i.A)("rhP7CCVz","global-summary-introduce-item"),onClick:()=>{const e=(0,c.i9)();d.zs.summary?.storeMessage(e),r.A.emit(r.E.AddSummaryMessage,e),m()}},n.createElement("div",{className:"text-[18px] font-bold mb-[10px] text-[var(--color-text)]"},"ðŸš€ Meeting Scheduler"),n.createElement("div",{className:"text-[14px] leading-[18px] text-[var(--color-text-secondary)] pr-[120px]"},"Book and organize meetings with ease."))),n.createElement("div",null,n.createElement("h5",{className:"text-[16px] font-normal mb-[16px]"}," You can also ask me like this"),n.createElement("div",{className:"flex flex-row flex-wrap gap-[12px]"},n.createElement("div",{className:"p-[8px] rounded-[16px] text-[14px] text-[var(--color-text)] bg-[var(--color-background)]"},"Summarize unread messages"),n.createElement("div",{className:"p-[8px] rounded-[16px] text-[14px] text-[var(--color-text)] bg-[var(--color-background)]"},"What are the most discussed crypto today?"),n.createElement("div",{className:"p-[8px] rounded-[16px] text-[14px] text-[var(--color-text)] bg-[var(--color-background)]"},"Help me schedule a meeting for 10 AM tomorrow"))))}},27270:(e,t,a)=>{"use strict";a.a(e,async(e,n)=>{try{a.d(t,{eL:()=>H,qo:()=>$});var s=a(96540),r=a(46942),o=a.n(r),i=a(32017),c=a.n(i),l=a(66221),d=a(92508),m=a(57674),u=a(27263),p=a(30988),h=a(9743),A=a(36056),g=a(77719),y=a(14367),f=a(31930),v=a(64210),E=a(90672),b=a(13208),w=a(99455),x=a(6196),C=a(73229),N=a(38113),I=a(78211),S=a(73803),M=a(70978),k=a(60410),T=a(28120),P=a(42486),L=a(64206),B=a(70809),R=a(88316),D=a(1344),F=a(62857),O=a(4825),z=a(99299),U=e([p,A,f,v,E,N,S,M,k,T,P,L]);[p,A,f,v,E,N,S,M,k,T,P,L]=U.then?(await U)():U;let j=function(e){return e.GlobalSummary="global-summary",e.UrgentCheck="urgent-message-check",e.GroupSearch="group-search",e.UserSearch="user-search",e.GoogleAuth="google-auth",e.GoogleEventInsert="google-event-insert",e.GoogleEventDetail="google-event-detail",e.GoogleMeetTimeConfirm="google-meet-time-confirm",e.GoogleMeetMention="google-meet-mention",e.GoogleMeetInformationSuggest="google-meet-information-suggest",e.RoomSummary="room-summary",e.RoomActions="room-actions",e.MeetingIntroduce="global-meeting-introduce",e.SummaryIntroduce="global-summary-introduce",e.TranslationIntroduce="global-translation-introduce",e.ActionsIntroduce="global-actions-introduce",e.GlobalIntroduce="global-introduce",e.RoomAIDescription="room-ai-description",e.AISearchSugesstion="ai-search-sugesstion",e.AIReplyMention="room-ai-reply-mention",e.AIMediaSummary="room-ai-media-summary",e.UserPortrait="user-portrait",e.Default="default",e}({});const V=({message:e,isLoading:t})=>s.createElement(d.P.div,{className:"w-full px-[12px] group/message",initial:{y:5,opacity:0},animate:{y:0,opacity:1},"data-role":e.role},s.createElement("div",{className:"flex gap-4 w-full group-data-[role=user]/message:ml-auto group-data-[role=user]/message:max-w-2xl"},s.createElement("div",{className:"flex flex-col gap-4 w-full"},e.experimental_attachments&&s.createElement("div",{className:"flex flex-row justify-end gap-2"},e.experimental_attachments.map(e=>s.createElement(O.q,{key:e.url,attachment:e}))),e.reasoning&&s.createElement(F.A,{isLoading:t,reasoning:e.reasoning}),(e.content||e.reasoning)&&s.createElement("div",{className:"flex flex-row gap-2 items-start w-full"},s.createElement("div",{className:(0,m.cn)("w-auto flex flex-col gap-4 bg-white text-[var(--color-text)] px-3 py-2 rounded-xl dark:bg-[#292929]",{"!bg-[#E8D7FF] text-black ml-auto":"user"===e.role})},s.createElement(R.o,null,e.content),"user"!==e.role&&s.createElement(D.P,{message:e})))))),J=({message:e,isLoading:t,deleteMessage:a})=>{const n=(0,s.useMemo)(()=>{const t=e?.annotations?.find(e=>e&&"object"==typeof e&&"type"in e&&Object.values(j).includes(e.type));return t?.type||j.Default},[e]);return s.createElement(l.N,null,(()=>{switch(n){case j.GlobalSummary:return s.createElement(z.A,null,s.createElement(p.A,{message:e,deleteMessage:()=>a?.(e.id)}));case j.UrgentCheck:return s.createElement(P.A,{message:e,deleteMessage:()=>a?.(e.id)});case j.GroupSearch:return s.createElement(E.N,{message:e});case j.UserSearch:return s.createElement(L.n,{message:e});case j.GoogleAuth:return s.createElement(g.A,{deleteMessage:()=>a?.(e.id)});case j.GoogleEventInsert:return s.createElement(h.A,{message:e});case j.GoogleEventDetail:return s.createElement(A.A,{message:e});case j.GoogleMeetTimeConfirm:return s.createElement(v.A,{message:e});case j.GoogleMeetMention:return s.createElement(f.A,{message:e});case j.GoogleMeetInformationSuggest:return s.createElement(y.A,{message:e});case j.RoomSummary:return s.createElement(T.A,{message:e});case j.RoomActions:return s.createElement(N.A,{message:e});case j.MeetingIntroduce:return s.createElement(w.A,null);case j.SummaryIntroduce:return s.createElement(x.A,null);case j.TranslationIntroduce:return s.createElement(C.A,null);case j.ActionsIntroduce:return s.createElement(b.A,null);case j.GlobalIntroduce:return s.createElement(u.A,null);case j.RoomAIDescription:return s.createElement(I.A,{message:e});case j.AIReplyMention:return s.createElement(M.A,{message:e});case j.AIMediaSummary:return s.createElement(S.Ay,{message:e});case j.UserPortrait:return s.createElement(k.A,{userId:e?.content});case j.Default:default:return s.createElement(V,{message:e,isLoading:t})}})())},H=(0,s.memo)(J,(e,t)=>e.isLoading===t.isLoading&&e.message.reasoning===t.message.reasoning&&e.message.content===t.message.content&&!!c()(e.message.toolInvocations,t.message.toolInvocations)),$=()=>s.createElement(d.P.div,{className:"w-full px-[12px] group/message ",initial:{y:5,opacity:0},animate:{y:0,opacity:1,transition:{delay:1}},"data-role":"assistant"},s.createElement("div",{className:o()("flex gap-4 group-data-[role=user]/message:px-3 w-full group-data-[role=user]/message:w-fit group-data-[role=user]/message:ml-auto group-data-[role=user]/message:max-w-2xl group-data-[role=user]/message:py-2 rounded-xl",{"group-data-[role=user]/message:bg-muted":!0})},s.createElement(B.mP,{size:40})));n()}catch(e){n(e)}})},27552:(e,t,a)=>{"use strict";a.a(e,async(e,n)=>{try{a.d(t,{A:()=>v});var s=a(84051),r=a(13439),o=a(90709),i=a(87357),c=a(76023),l=a(4961),d=a(43874),m=a(11217),u=a(59030),p=a(38102),h=a(75472),A=e([u,p]);[u,p]=A.then?(await A)():A;const g=Number(c.$),y=3,f=({chat:e,topics:t,renderLastMessage:a,observeIntersection:n})=>{const{openThread:c}=(0,r.ko)(),A=(0,s.li)(),f=(0,s.li)(),v=(0,u.A)(),[E,...b]=(0,s.Kr)(()=>t?(0,o.CO)(Object.values(t),void 0,!0).slice(0,y):[],[t]),[w,x]=(0,s.J0)(!1),[C,N]=(0,s.J0)(void 0),{handleClick:I,handleMouseDown:S}=(0,m.Q)(t=>{0===E.unreadCount||e.isForumAsMessages||(t.stopPropagation(),t.preventDefault(),c({chatId:e.id,threadId:E.id,shouldReplaceHistory:!0,noForumTopicPanel:(0,d.Ny)()}))});return(0,s.vJ)(()=>{const e=A.current,t=f.current;if(!e||!t)return;const a=e.offsetWidth,n=t.offsetWidth;Math.abs(a-n)<g?N(Math.max(a,n)):N(void 0),x(a>n)},[E,a]),s.Ay.createElement("div",{className:(0,i.A)(h.A.root,w&&h.A.reverseCorner,C&&h.A.overwrittenWidth),dir:v.isRtl?"rtl":void 0,style:C?`--overwritten-width: ${C}px`:void 0},E&&s.Ay.createElement("div",{className:h.A.titleRow},s.Ay.createElement("div",{className:(0,i.A)(h.A.mainColumn,E.unreadCount&&h.A.unread),ref:f,onClick:I,onMouseDown:S},s.Ay.createElement(p.A,{topic:E,observeIntersection:n}),s.Ay.createElement("div",{className:h.A.title},(0,l.A)(E.title)),!C&&w&&s.Ay.createElement("div",{className:h.A.afterWrapper},s.Ay.createElement("div",{className:h.A.after}))),s.Ay.createElement("div",{className:h.A.otherColumns},b.map(e=>s.Ay.createElement("div",{className:(0,i.A)(h.A.otherColumn,e.unreadCount&&h.A.unread),key:e.id},s.Ay.createElement(p.A,{topic:e,className:h.A.otherColumnIcon,observeIntersection:n}),s.Ay.createElement("span",{className:h.A.otherColumnTitle},(0,l.A)(e.title))))),s.Ay.createElement("div",{className:h.A.ellipsis})),!E&&s.Ay.createElement("div",{className:(0,i.A)(h.A.titleRow,h.A.loading)},v("Loading")),s.Ay.createElement("div",{className:(0,i.A)(h.A.lastMessage,E?.unreadCount&&h.A.unread),ref:A,onClick:I,onMouseDown:S},a(),!C&&!w&&s.Ay.createElement("div",{className:h.A.afterWrapper},s.Ay.createElement("div",{className:h.A.after}))))},v=(0,s.ph)(f);n()}catch(e){n(e)}})},28120:(e,t,a)=>{"use strict";a.a(e,async(e,n)=>{try{a.d(t,{A:()=>k});var s=a(96540),r=a(10777),o=a(13439),i=a(60919),c=a(22199),l=a(20604),d=a(15972),m=a(99299),u=a(73474),p=a(11553),h=a(22555),A=a(23814),g=a(8235),y=a(11780),f=a(40842),v=a(30934),E=a(9716),b=e([d]),w=b.then?(await b)():b;d=w[0];const x=({chatId:e,classNames:t,size:a,style:n})=>{if(!e)return null;const r=(0,o.mS)();let l;return l=(0,E.L8)(e)?(0,i.mBe)(r,e):(0,i.hds)(r,e),s.createElement(d.A,{style:n,key:e,className:(0,c.cn)(t,"overlay-avatar inline-block cursor-pointer"),size:a,peer:l})},C=({topicItem:e,index:t})=>{const{title:a,summaryItems:n}=e;return n.length&&a?s.createElement(m.A,null,s.createElement("div",null,s.createElement("div",{className:"flex flex-row items-center flex-wrap"},s.createElement("span",{className:"text-[16px] font-bold mr-[24px]","data-readable":!0},t+1,". ",a)),s.createElement("ul",{className:"list-disc pl-[2px] text-[16px] list-inside"},n.map(e=>{const{content:t}=e;return t?s.createElement("li",{role:"button",className:"cursor-pointer text-[15px] break-words","data-readable":!0},t):null})))):null},N=({pendingItem:e})=>s.createElement(m.A,null,s.createElement("div",{className:"flex gap-[8px] my-[4px] cursor-pointer"},s.createElement("img",{className:"w-[18px] h-[18px] mt-[2px]",src:h,alt:""}),s.createElement("span",{className:"text-[15px]","data-readable":!0},e.summary))),I=({summaryInfo:e,title:t=s.createElement(s.Fragment,null,"Chat Summary")})=>s.createElement(m.A,null,s.createElement("div",null,s.createElement("p",{className:"text-[22px] font-bold mb-[16px]","data-readable":!0},t),s.createElement("div",{className:"flex items-center flex-wrap"},s.createElement("p",{className:"flex items-center gap-[8px] pr-[20px]"},s.createElement("img",{className:"w-[16px] h-[16px]",src:p,alt:""}),s.createElement("div",{className:"flex items-center gap-[4px]"},s.createElement("span",{className:"mr-[4px] font-bold text-[14px]","data-readable-inline":!0},"Time:"),e?.summaryTime?s.createElement("p",{className:"text-[14px] text-[#A8A6AC] whitespace-nowrap","data-readable-inline":!0},(0,c.Ey)(e.summaryTime)):null)),s.createElement("p",{className:"flex items-center gap-[8px]"},s.createElement("img",{className:"w-[16px] h-[16px]",src:A,alt:""}),s.createElement("div",{className:"flex items-center gap-[4px]"},s.createElement("span",{className:"font-bold text-[14px]","data-readable":!0,"data-readable-inline":!0},"Messages:"),e?.messageCount?s.createElement("span",{"data-readable":!0,"data-readable-inline":!0},e?.messageCount):null))),e?.userIds?s.createElement("div",{className:"flex items-center gap-[8px] mb-[18px]"},s.createElement("img",{className:"w-[16px] h-[16px]",src:f,alt:""}),s.createElement("span",{className:"font-bold text-[14px]"},"Main speakers: "),s.createElement("div",{className:"flex items-center"},e.userIds.slice(0,5).map((t,a)=>s.createElement(x,{style:{zIndex:`${String(e.userIds.length-a)};`},chatId:t,size:24,classNames:"summary-avatar-group !border-solid-[2px] !border-white ml-[-4px]",key:t})),e.userIds.length>10?s.createElement("div",{className:"w-[24px] h-[24px] rounded-full bg-[#979797] text-[12px] whitespace-nowrap flex items-center justify-center"},e.userIds.length-10,"+"):null)):null)),S=({messageId:e,summaryInfo:t,mainTopic:a,pendingMatters:n})=>{const[r,c]=(0,s.useState)(!1),d=(0,o.mS)(),{chatId:m}=(0,i.Xf0)(d)||{},p=(0,i.hds)(d,m);return s.createElement("div",{className:"mx-auto rounded-[10px] px-3 py-2 dark:bg-[#292929] bg-white","data-message-container":!0},t&&s.createElement(I,{summaryInfo:t}),a.length>0&&s.createElement("div",null,s.createElement("p",{className:"flex items-center gap-[8px] mb-[16px]"},s.createElement("span",{className:"text-[18px] font-bold","data-readable":!0},"Key Topics"),s.createElement("img",{className:"w-[16px] h-[16px]",src:v,alt:""})),a.map((e,t)=>s.createElement(C,{topicItem:e,index:t}))),n.length>0&&s.createElement("div",null,s.createElement("p",{className:"flex items-center gap-[8px] mb-[16px]"},s.createElement("span",{className:"text-[18px] font-bold","data-readable":!0},"Actions Items"),s.createElement("img",{className:"w-[16px] h-[16px]",src:u,alt:""})),n.map(e=>s.createElement(N,{pendingItem:e}))),s.createElement(l.A,{canCopy:!0,canVoice:!0,canShare:!0,message:{id:e},onClickShare:()=>{c(!0)}}),s.createElement(M,{capturing:r,captureCallback:()=>{c(!1)}},t&&s.createElement(I,{summaryInfo:t,title:s.createElement(s.Fragment,null,"Chat Summary",s.createElement("span",{className:"ml-2 text-xs text-[#979797]"},"[",p?.title,"]"))}),a.length>0&&s.createElement("div",null,s.createElement("p",{className:"flex items-center gap-[8px]"},s.createElement("span",{className:"text-[18px] font-bold","data-readable":!0},"Key Topics"),s.createElement("img",{className:"w-[16px] h-[16px]",src:v,alt:""})),a.map((e,t)=>s.createElement(C,{topicItem:e,index:t}))),n.length>0&&s.createElement("div",null,s.createElement("p",{className:"flex items-center gap-[8px]"},s.createElement("span",{className:"text-[18px] font-bold","data-readable":!0},"Actions Items"),s.createElement("img",{className:"w-[16px] h-[16px]",src:u,alt:""})),n.map(e=>s.createElement(N,{pendingItem:e})))))};function M({capturing:e=!1,children:t,captureCallback:a=()=>{}}){const n=(0,s.useRef)(void 0),c=(0,o.mS)(),{currentUserId:l}=c,m=(0,i.mBe)(c,l);return(0,s.useEffect)(()=>{n.current&&setTimeout(()=>{(0,r.ZR)(n.current,{pixelRatio:2,quality:1}).then(e=>{const t=new File([e],"telegpt.org.png",{type:"image/png"});globalThis?.p__handleFileSelect?.([t],!0),a()})},100)},[e,a]),e?s.createElement("div",{className:"fixed top-0 left-0 translate-x-[-1000000px] translate-y-[-100000px]"},s.createElement("div",{ref:n,className:"relative w-[390px] box-content overflow-hidden bg-white text-black"},s.createElement("div",{className:"absolute top-0 left-0 w-full blur-xl pointer-events-none"},s.createElement("img",{src:y,alt:"",className:"w-full"})),s.createElement("div",{className:"relative py-3 px-4 flex flex-col gap-2"},s.createElement("div",{className:"flex flex-row justify-end items-center gap-2 text-xs text-[#979797]"},s.createElement(d.A,{className:"w-[20px] h-[20px]",peer:m}),s.createElement("span",null,m?.firstName),s.createElement("span",null,m?.lastName)),t),s.createElement("section",{className:"flex flex-row gap-1 items-center justify-center py-2 text-xs bg-[#F7FAFF]"},s.createElement("img",{className:"inline w-[20px] h-[20px] rounded-full",src:g,alt:"Serena"}),"Powered by",s.createElement("span",{className:"text-[#2996FF]"},"telepgt.org")))):null}const k=e=>{const{message:t}=e,[a,n]=(0,s.useState)(null),[r,o]=(0,s.useState)([]),[i,c]=(0,s.useState)([]),l=(0,s.useCallback)(e=>{const t=JSON.parse(e),{mainTopic:a,pendingMatters:s,summaryInfo:r}=t;a&&o(a),s&&c(s),r&&n(r)},[]);return(0,s.useEffect)(()=>{try{l(t.content)}catch(e){console.error(e)}},[t,l]),a?s.createElement("div",{className:"px-[12px] w-full"},r.length||i.length?s.createElement(S,{messageId:t.id,summaryInfo:a,mainTopic:r,pendingMatters:i}):null):null};n()}catch(T){n(T)}})},29758:(e,t,a)=>{"use strict";a.a(e,async(e,n)=>{try{a.d(t,{A:()=>h});var s=a(84051),r=a(45227),o=a(11778),i=a(80539),c=a(37661),l=a(22802),d=a(87595),m=a(66115),u=e([d]),p=u.then?(await u)():u;d=p[0];const h=e=>{const[t,a,n]=(0,c.A)(),u=(0,s.li)(),{getHtml:p,setHtml:h}=e,A=(0,r.P)({component:d.A,props:{getHtml:p,setHtml:h,onClose:n}});return(0,s.vJ)(()=>{let e;return u.current&&t&&(e=A(u.current)),()=>{e?.unmount()}},[t,n,p,h]),(0,s.vJ)(()=>t?(0,o.A)(n):void 0,[t,n]),(0,l.A)(t,u,n,void 0,void 0),s.Ay.createElement("div",{className:"input-ai-actions flex-shrink-0 mr-[8px]"},s.Ay.createElement("button",{className:"Button input-ai-actions-button",onClick:()=>{if(t)n();else{const{text:e}=(0,i.Ay)(p());if(""===e.trim())return;a()}}},s.Ay.createElement("img",{src:m,alt:"Chat AI Logo"})),t&&s.Ay.createElement("div",{className:"grammar-tool-wrapper open",ref:u}))};n()}catch(e){n(e)}})},29924:(e,t,a)=>{"use strict";a.a(e,async(e,n)=>{try{a.d(t,{A:()=>D});var s=a(84051),r=a(13439),o=a(89925),i=a(96454),c=a(87357),l=a(49763),d=a(80140),m=a(11226),u=a(40708),p=a(31481),h=a(23459),A=a(7985),g=a(16581),y=a(74984),f=a(2178),v=a(96374),E=a(5912),b=a(17712),w=a(9717),x=a(46222),C=a(52745),N=a(67098),I=a(65152),S=a(44851),M=a(18874),k=a(52006),T=e([m,y,N,I,S,M,k]);[m,y,N,I,S,M,k]=T.then?(await T)():T;const P=200,L=500,B=new Set(["9","0"]),R=({className:e,folderType:t,folderId:a,isActive:n,isForumPanelOpen:T,canDisplayArchive:R,archiveSettings:D,sessions:F,foldersDispatch:O,onSettingsScreenSelect:z,onLeftColumnContentChange:U,isAccountFrozen:j,isMainList:V})=>{const{openChat:J,openNextChat:H,closeForumPanel:$,toggleStoryRibbon:K,openFrozenAccountModal:G,openLeftColumnContent:_}=(0,r.ko)(),q=(0,s.li)(),W=(0,s.li)(!1),[Z,Y]=(0,s.J0)(0),Q="archived"===t,X="all"===t,ee="saved"===t,te="preset"===t,ae="unread"===t,ne="ai"===t,se=X?p.DSF:Q?p._E9:ee?p.pX9:te?p.LFk:ae?p.j7l:ne?p.Sab:a,re=X&&R&&D,oe=j&&X,ie=(0,y.Rh)(se);(0,h.A)(ie);const ce=(ie?.length||0)*p.yq1,le=re?D?.isMinimized?p.eqO:p.yq1:0,de=oe?68:0,{orderDiffById:me,getAnimationType:ue}=(0,w.A)(ie),[pe,he]=(0,v.A)(void 0,ie,void 0,p.T7t),Ae=(0,s.Kr)(()=>{const e=Object.values(F||{}),t=e.find(e=>e.isCurrent);return!(!t||(0,d.Fm)()-t.dateCreated<p.C7Y)&&!j&&X&&e.some(e=>e.isUnconfirmed)},[X,F,j]);(0,s.vJ)(()=>{Ae||Y(0)},[Ae]),(0,f.v)((0,s.Kr)(()=>n&&ie?.length?{"Alt+ArrowUp":e=>{e.preventDefault(),H({targetIndexDelta:-1,orderedIds:ie})},"Alt+ArrowDown":e=>{e.preventDefault(),H({targetIndexDelta:1,orderedIds:ie})}}:void 0,[n,ie])),(0,s.vJ)(()=>{if(n&&!ee&&ie&&i.lE)return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)};function e(e){if((i.MP&&e.metaKey||!i.MP&&e.ctrlKey)&&e.code.startsWith("Digit")){const[,t]=e.code.match(/Digit(\d)/)||[];if(!t||B.has(t))return;const a=re&&D&&!D.isMinimized,n=a?-1:0,s=Number(t)+n-1;if(a&&-1===s)return void(V&&_({contentKey:o.Bn.Archived}));if(s>ie.length-1)return;J({id:ie[s],shouldReplaceHistory:!0})}}},[D,ee,n,J,H,ie,re,V]);const{observe:ge}=(0,E.BL)({rootRef:q,throttleMs:P}),ye=(0,b.A)(()=>{_({contentKey:o.Bn.Archived}),$()}),fe=(0,b.A)(()=>{G()}),ve=(0,b.A)(()=>{W.current?W.current=!1:ye()}),Ee=(0,g.A)(e=>{W.current?W.current=!1:J({id:e,shouldReplaceHistory:!0})},[J],L,!0),be=(0,b.A)(e=>{const t=e.currentTarget.getBoundingClientRect(),a=e.clientX-t.left,n=e.clientY-t.top;a<t.width||n<t.y||(W.current=!0)}),we=(0,b.A)(()=>{K({isShown:!0,isArchived:Q})}),xe=(0,b.A)(()=>{K({isShown:!1,isArchived:Q})}),Ce=(0,A.A)(q,we,xe,ee);return s.Ay.createElement(x.A,{className:(0,c.A)("chat-list custom-scroll",T&&"forum-panel-open",e),ref:q,items:pe,itemSelector:".ListItem:not(.chat-item-archive)",preloadBackwards:p.T7t,withAbsolutePositioning:!0,beforeChildren:Ce,maxHeight:ce+le+de+Z,onLoadMore:he,onDragLeave:be},Ae&&s.Ay.createElement(k.A,{key:"unconfirmed",sessions:F,onHeightChange:Y}),oe&&s.Ay.createElement(M.A,{key:"frozen",onClick:fe}),re&&s.Ay.createElement(N.A,{key:"archive",archiveSettings:D,onClick:ye,onDragEnter:ve}),pe?.length?function(){const e=ie.indexOf(pe[0]),t=(0,l.zm)(se)||0;return pe.map((n,r)=>{const o=e+r<t,i=Z+le+de+(e+r)*p.yq1;return n===u.bL?s.Ay.createElement(m.A,{key:"serena",offsetTop:i}):s.Ay.createElement(I.A,{key:n,teactOrderKey:o?r:(0,l.uk)(n,ee),chatId:n,isPinned:o,folderId:a,isSavedDialog:ee,animationType:ue(n),orderDiff:me[n],offsetTop:i,observeIntersection:ge,onDragEnter:Ee})})}():!pe||pe.length||ee?s.Ay.createElement(C.A,{key:"loading"}):s.Ay.createElement(S.A,{folderId:a,folderType:t,foldersDispatch:O}))},D=(0,s.ph)(R);n()}catch(e){n(e)}})},29983:(e,t,a)=>{"use strict";a.a(e,async(e,n)=>{try{a.d(t,{A:()=>f});var s=a(84051),r=a(13439),o=a(96454),i=a(95807),c=a(41733),l=a(76023),d=a(17712),m=a(62587),u=e([m]),p=u.then?(await u)():u;m=p[0];const h=7*l.$,A=1e3,g=1e3,y=0;function f(e,t,a,n,l,u,p){const{interactWithAnimatedEmoji:f,sendEmojiInteraction:v,sendWatchingEmojiInteraction:E}=(0,r.ko)(),b=(0,s.li)(),w=(0,s.li)(),x=(0,m.A)(a?`document${a}`:void 0,!a),C=p||h,N=(0,i.A)(`width: ${C}px`,`height: ${C}px`,u&&!o.cp&&"cursor: pointer"),I=(0,s.li)(void 0),S=(0,s.li)(void 0),M=(0,d.A)(()=>{b.current&&(v({chatId:e,messageId:t,emoji:u,interactions:I.current}),S.current=void 0,I.current=void 0)}),k=(0,d.A)(()=>{const e=w.current;x&&(e&&(e.pause(),e.remove()),w.current=new Audio,w.current.src=x,(0,c.A)(w.current),w.current.addEventListener("ended",()=>{w.current=void 0},{once:!0}))}),T=(0,d.A)(()=>{k();const a=b.current;if(!(u&&a&&t&&e))return;const{x:n,y:s}=a.getBoundingClientRect();f({emoji:u,x:n,y:s,startSize:C,isReversed:!l}),I.current||(I.current=[],S.current=performance.now(),setTimeout(M,A)),I.current.push(S.current?(performance.now()-S.current)/g:y)});return(0,s.vJ)(()=>{const a=b.current;a&&n&&n.forEach(({id:n,startSize:s,messageId:r})=>{if(s||t!==r)return;const{x:o,y:i}=a.getBoundingClientRect();E({id:n,chatId:e,emoticon:u,startSize:C,x:o,y:i,isReversed:!l}),k()})},[n,e,u,l,t,k,E,C]),{ref:b,size:C,style:N,handleClick:T}}n()}catch(v){n(v)}})},30056:(e,t,a)=>{"use strict";a.a(e,async(e,n)=>{try{a.d(t,{A:()=>v});var s=a(84051),r=a(13439),o=a(31481),i=a(87357),c=a(48775),l=a(98607),d=a(83868),m=a(39351),u=a(17712),p=a(59030),h=a(9267),A=a(64493),g=a(63896),y=e([m,p,A]);[m,p,A]=y.then?(await y)():y;const f=({paidMedia:e,chatId:t,messageId:a,isOutgoing:n,children:y})=>{const{openInvoice:f}=(0,r.ko)(),v=(0,p.A)(),E=(0,m.A)(),b=!e.isBought,w=(0,s.Kr)(()=>{const t=v("UnlockPaidContent",e.starsAmount);return(0,l.i)(t,o.Cyx,s.Ay.createElement(h.A,{className:g.A.star,type:"gold",size:"adaptive"}))},[v,e]),x=(0,u.A)(e=>{f({type:"message",chatId:t,messageId:a}),(0,d.A)(e)});return s.Ay.createElement("div",{className:g.A.root,onClick:b?x:void 0},y,b&&s.Ay.createElement(A.A,{className:g.A.buyButton,color:"dark",size:"tiny",fluid:!0,pill:!0},s.Ay.createElement("span",{className:g.A.buttonText},w)),e.isBought&&s.Ay.createElement("div",{className:(0,i.A)("message-paid-media-status",g.A.boughtStatus)},n?(0,c.U2)(E,e.starsAmount):v("Chat.PaidMedia.Purchased")))},v=(0,s.ph)(f);n()}catch(e){n(e)}})},30234:(e,t,a)=>{"use strict";a.a(e,async(e,n)=>{try{a.d(t,{A:()=>v});var s=a(84051),r=a(13439),o=a(87357),i=a(17663),c=a(48775),l=a(14242),d=a(4961),m=a(37661),u=a(39351),p=a(59030),h=a(4421),A=a(54746),g=a(45),y=e([u,p,h]);[u,p,h]=y.then?(await y)():y;const f=({message:e,outgoingStatus:t,signature:a,withReactionOffset:n,repliesThreadInfo:y,renderQuickReactionButton:f,noReplies:v,isTranslated:E,isPinned:b,withFullDate:w,effectEmoji:x,onClick:C,onTranslationClick:N,onEffectClick:I,onOpenThread:S,paidMessageStars:M})=>{const{showNotification:k}=(0,r.ko)(),[T,P]=(0,m.A)(),L=(0,p.A)(),B=(0,u.A)();function R(e){e.stopPropagation(),k({message:{key:"ImportedInfo"}})}const D=(0,s.Kr)(()=>{if(!T)return;const t=(0,i.L2)(1e3*e.date,L.code,void 0,L.timeFormat),a=e.isEdited&&(0,i.L2)(1e3*e.editDate,L.code,void 0,L.timeFormat),n=e.forwardInfo&&(0,i.L2)(1e3*(e.forwardInfo.savedDate||e.forwardInfo.date),L.code,void 0,L.timeFormat);let s=t;return a&&(s+="\n",s+=B("MessageTooltipEditedDate",{date:a})),n&&(s+="\n",s+=B("MessageTooltipForwardedDate",{date:n})),s},[T,L,e,L.timeFormat]),F=(0,s.Kr)(()=>{if(!e.viewsCount)return;let t=B("MessageTooltipViews",{count:B.number(e.viewsCount)},{pluralValue:e.viewsCount});return e.forwardsCount&&(t+="\n",t+=B("MessageTooltipForwards",{count:B.number(e.forwardsCount)},{pluralValue:e.forwardsCount})),t},[B,e.forwardsCount,e.viewsCount]),O=(0,s.Kr)(()=>{const e=y?.messagesCount;if(e)return B("MessageTooltipReplies",{count:e},{pluralValue:e})},[B,y]),z=(0,s.Kr)(()=>{const t=(0,i.fU)(L,1e3*e.date);return w?(0,i.be)(L,1e3*(e.forwardInfo?.date||e.date),!0):t},[L,e.date,e.forwardInfo?.date,w]),U=(0,o.A)("MessageMeta",n&&"reactions-offset",e.forwardInfo?.isImported&&"is-imported");return s.Ay.createElement("span",{className:U,dir:B.isRtl?"rtl":"ltr",onClick:C,"data-ignore-on-paste":!0},x&&s.Ay.createElement("span",{className:"message-effect-icon",onClick:I},(0,d.A)(x)),E&&s.Ay.createElement(A.A,{name:"language",className:"message-translated",onClick:N}),Boolean(e.viewsCount)&&s.Ay.createElement(s.Ay.Fragment,null,s.Ay.createElement("span",{className:"message-views",title:F},(0,l.Vw)(B,e.viewsCount)),s.Ay.createElement(A.A,{name:"channelviews"})),!v&&Boolean(y?.messagesCount)&&s.Ay.createElement("span",{onClick:function(e){e.stopPropagation(),S()},className:"message-replies-wrapper",title:O},s.Ay.createElement("span",{className:"message-replies"},s.Ay.createElement(h.A,{text:(0,l.Vw)(B,y.messagesCount)})),s.Ay.createElement(A.A,{name:"reply-filled"})),b&&s.Ay.createElement(A.A,{name:"pinned-message",className:"message-pinned"}),a&&s.Ay.createElement("span",{className:"message-signature"},(0,d.A)(a)),Boolean(M)&&s.Ay.createElement("span",{className:"message-price"},(0,c.U2)(B,M,{asFont:!0,className:"message-price-star-icon",containerClassName:"message-price-stars-container"})),s.Ay.createElement("span",{className:"message-time",title:D,onMouseEnter:P},e.forwardInfo?.isImported&&s.Ay.createElement(s.Ay.Fragment,null,s.Ay.createElement("span",{className:"message-imported",onClick:R},(0,i.L2)(1e3*e.forwardInfo.date,B.code,!0)),s.Ay.createElement("span",{className:"message-imported",onClick:R},B("MessageMetaImported"))),e.isEdited&&`${B("MessageMetaEdited")} `,e.isVideoProcessingPending&&`${B("MessageMetaApproximate")} `,z),t&&s.Ay.createElement(g.A,{status:t}),f&&f())},v=(0,s.ph)(f);n()}catch(e){n(e)}})},30770:(e,t,a)=>{"use strict";a.d(t,{A:()=>n});const n={root:"wCp6TBYF",number:"lQeU96Fj",float:"nKt3QDc_","show-up":"ZaSLCV2k",showUp:"ZaSLCV2k",dissapear:"jA50ot3v",shiftOrigin:"e1ezfWJb",effect:"cFEXGUih",giftIcon:"c4HDQNGJ"}},30988:(e,t,a)=>{"use strict";a.a(e,async(e,n)=>{try{a.d(t,{A:()=>D});var s=a(96540),r=a(89027),o=a(13439),i=a(60919),c=a(48862),l=a(22199),d=a(20604),m=a(15972),u=a(29356),p=a(99299),h=a(89116),A=a(73474),g=a(11553),y=a(22555),f=a(23814),v=a(8235),E=a(40842),b=a(30934),w=a(9716),x=e([m]),C=x.then?(await x)():x;function N(e,t){const a=e=>e.toString().length<=10?1e3*e:e,n=e?new Date(a(e)):void 0,s=t?new Date(a(t)):void 0,r=new Date,o=e=>{return a=r,(t=e).getFullYear()===a.getFullYear()&&t.getMonth()===a.getMonth()&&t.getDate()===a.getDate();var t,a},i=e=>{const t=e=>String(e).padStart(2,"0");return`${t(e.getHours())}:${t(e.getMinutes())}`},c=e=>{return`${["January","February","March","April","May","June","July","August","September","October","November","December"][e.getMonth()]} ${t=e.getDate(),String(t).padStart(2,"0")} / ${i(e)}`;var t};return n||s?!n&&s?`${c(s)}`:n&&!s?`${c(n)}`:n&&s?o(n)&&o(s)?`${i(n)} - ${i(s)}`:`${c(n)} - ${c(s)}`:"":""}function I(e,t){const a=new Map;if(e.length>0)for(const t of e){const e=t.chatId;a.has(e)?a.get(e).mainTopics.push(...t.summaryItems||[]):a.set(e,{chatId:t.chatId,chatRoomName:t.chatRoomName,mainTopics:t.summaryItems||[],customTopics:[]})}if(t.length>0)for(const e of t){const t=e.chatId;a.has(t)?a.get(t).customTopics.push({topicName:e.topicName,summaryItems:e.summaryItems||[]}):a.set(t,{chatId:e.chatId,chatRoomName:e.chatRoomName,mainTopics:[],customTopics:[{topicName:e.topicName,summaryItems:e.summaryItems||[]}]})}return Array.from(a.values())}m=C[0];const S=({chatId:e,classNames:t,size:a,style:n,tooltip:r})=>{const c=(0,o.mS)();let d;return d=(0,w.L8)(e)?(0,i.mBe)(c,e):(0,i.hds)(c,e),s.createElement(m.A,{style:n,key:e,className:(0,l.cn)(t,"overlay-avatar inline-block cursor-pointer"),size:a,peer:d,tooltip:r})},M=({chatId:e,topicItem:t})=>{const{openDrawer:a}=(0,h.S)();return s.createElement(p.A,null,s.createElement("ul",{className:"list-disc pl-[18px] text-[16px] list-inside"},t.map(t=>{const{content:n,relevantMessageIds:r}=t;return n?s.createElement("li",{role:"button",className:"cursor-pointer text-[15px] break-words",onClick:()=>((e,t)=>{a(h.N.OriginalMessages,{relevantMessages:[{chatId:e,messageIds:t}]})})(e,r),"data-readable":!0},n):null})))},k=({pendingItem:e})=>{const{openDrawer:t}=(0,h.S)();return s.createElement(p.A,null,s.createElement("div",{className:"flex gap-[8px] my-[4px] cursor-pointer",key:e.chatId,onClick:()=>{t(h.N.OriginalMessages,{relevantMessages:[{chatId:e.chatId,messageIds:e.relevantMessageIds}]})}},s.createElement("img",{className:"w-[18px] h-[18px] mt-[2px]",src:y,alt:""}),s.createElement("span",{className:"text-[15px]","data-readable":!0},e.summary),s.createElement(S,{size:20,chatId:e.chatId})))},T=({garBageItem:e})=>{const{chatId:t,chatRoomName:a,level:n,summary:r,relevantMessageIds:o}=e,{openDrawer:i}=(0,h.S)();if((0,w.L8)(t))return s.createElement(p.A,null,s.createElement("div",{className:"flex justify-start gap-[8px] my-[16px]",key:e.chatId,onClick:()=>{((e,t)=>{i(h.N.OriginalMessages,{relevantMessages:[{chatId:e,messageIds:t}]})})(t,o)}},s.createElement(S,{chatId:t,size:44}),s.createElement("div",null,s.createElement("p",{className:"text-[16px] font-semibold leading-[20px] mb-[4px]"},a),s.createElement("div",{className:"flex justify-start gap-[4px]"},"high"===n?s.createElement("span",{className:"text-[#FF543D] text-[14px] whitespace-nowrap"},"ðŸ”´ High-Risk"):s.createElement("span",{className:"text-[#FF9B05] text-[14px] whitespace-nowrap"},"ðŸŸ¡ Low-Risk"),s.createElement("span",{className:"text-[14px] text-[var(--color-text-secondary)]"},r)))))},P=({summaryInfo:e})=>s.createElement(p.A,null,s.createElement("div",{className:"mb-[6px]"},s.createElement("div",{className:"flex items-center gap-[8px]"},s.createElement("img",{className:"w-[52px] h-[52px] rounded-full ml-[-60px]",src:v,alt:""}),s.createElement("div",null,s.createElement("p",{className:"text-[16px] font-semibold"},"Tely AI"),e?.summaryEndTime?s.createElement("p",{className:"text-[14px] text-[#A8A6AC]"},(0,l.Ey)(e.summaryEndTime)):null)),s.createElement("p",{className:"text-[22px] font-bold mb-[16px]","data-readable":!0},"Chat Summary"),s.createElement("div",{className:"flex items-center gap-[20px]"},s.createElement("p",{className:"flex items-center gap-[8px]"},s.createElement("img",{className:"w-[16px] h-[16px]",src:g,alt:""}),s.createElement("div",{className:"flex items-center gap-[4px]"},s.createElement("span",{className:"mr-[4px] font-bold text-[14px]","data-readable":!0,"data-readable-inline":!0},"Time range:"),s.createElement("span",{"data-readable":!0,"data-readable-inline":!0},N(e?.summaryStartTime,e?.summaryEndTime)))),s.createElement("p",{className:"flex items-center gap-[8px]"},s.createElement("img",{className:"w-[16px] h-[16px]",src:f,alt:""}),s.createElement("div",{className:"flex items-center gap-[4px]"},s.createElement("span",{className:"font-bold text-[14px]","data-readable":!0,"data-readable-inline":!0},"Messages:"),e?.summaryMessageCount?s.createElement("span",{"data-readable":!0,"data-readable-inline":!0},e?.summaryMessageCount):null))),e?.summaryChatIds?s.createElement("div",{className:"flex items-center gap-[8px]"},s.createElement("img",{className:"w-[16px] h-[16px]",src:E,alt:""}),s.createElement("span",{className:"font-bold text-[14px]"},"Groups/friends: "),s.createElement("div",{className:"flex items-center"},e.summaryChatIds.slice(0,10).map((t,a)=>s.createElement(S,{style:{zIndex:`${String(e.summaryChatIds.length-a)};`},chatId:t,size:24,classNames:"summary-avatar-group !border-solid-[2px] !border-white ml-[-4px]",key:t})),e.summaryChatIds.length>10?s.createElement("div",{className:"w-[24px] h-[24px] rounded-full bg-[#979797] text-[12px] whitespace-nowrap flex items-center justify-center"},e.summaryChatIds.length-10,"+"):null)):null)),L=({chatId:e,handleIgnore:t})=>s.createElement("div",{className:"flex items-center gap-[4px] cursor-pointer transition-colors duration-200 text-[14px] text-[var(--color-text)]",onClick:()=>t(e)},s.createElement(u.A,{name:"eye-crossed"}),s.createElement("span",{className:"font-semibold"},"Ignore this chat")),B=({messageId:e,summaryInfo:t,summaryTopic:a,pendingMatters:n,deleteMessage:i})=>{const{ignored_summary_chat_ids:l}=c.Hk.telegptSettings,m=(0,c.rB)(l),[u,p]=(0,s.useState)(m),h=(0,s.useCallback)(e=>{const t=[...new Set([...u,e])],a=(0,c.EM)(t);p(t),c.Hk.setSettingOption({ignored_summary_chat_ids:a},e=>{0===e.code&&(0,o.ko)().showNotification({message:"This chat will no longer be included in future summaries."})})},[u]);return s.createElement("div",{className:"w-max-[693px] rounded-[10px] pl-[82px] pr-[25px] pt-[20px] pb-[25px] bg-[var(--color-background)]","data-message-container":!0},t&&s.createElement(P,{summaryInfo:t}),a.length>0&&s.createElement("div",null,s.createElement("p",{className:"flex items-center gap-[8px] mb-[16px]"},s.createElement("span",{className:"text-[18px] font-bold","data-readable":!0},"Key Topics"),s.createElement("img",{className:"w-[16px] h-[16px]",src:b,alt:""})),a.map((e,t)=>s.createElement("div",null,s.createElement("div",{className:"flex items-center justify-between gap-[8px]"},u.includes(e.chatId)?s.createElement("div",{className:"flex items-center gap-[8px]"},s.createElement("p",{className:"text-[16px] font-bold","data-readable":!0},t+1,".",e.chatRoomName),s.createElement(S,{size:20,chatId:e.chatId})):s.createElement(r.A,{className:"room-info-popover",placement:"top",content:s.createElement(L,{chatId:e.chatId,handleIgnore:h})},s.createElement("div",{className:"flex items-center gap-[8px]"},s.createElement("p",{className:"text-[16px] font-bold","data-readable":!0},t+1,".",e.chatRoomName),s.createElement(S,{size:20,chatId:e.chatId})))),s.createElement("ul",{className:"list-disc pl-[2px] text-[16px] list-inside"},e.mainTopics.length>0&&s.createElement("li",null,s.createElement("span",{className:"text-[16px] font-bold","data-readable":!0},"Key Points"),s.createElement(M,{chatId:e.chatId,topicItem:e.mainTopics})),e.customTopics.length>0&&e.customTopics.map(t=>s.createElement("li",null,s.createElement("span",{className:"text-[16px] font-bold","data-readable":!0},t.topicName),s.createElement(M,{chatId:e.chatId,topicItem:t.summaryItems}))))))),n.length>0&&s.createElement("div",null,s.createElement("p",{className:"flex items-center gap-[8px] mb-[16px]"},s.createElement("span",{className:"text-[18px] font-bold","data-readable":!0},"Actions Items"),s.createElement("img",{className:"w-[16px] h-[16px]",src:A,alt:""})),n.map(e=>s.createElement(k,{pendingItem:e}))),s.createElement(d.A,{canCopy:!0,canVoice:!0,canDelete:!0,onDelete:i,message:{id:e}}))},R=({messageId:e,summaryInfo:t,summaryTopic:a,pendingMatters:n,garbageMessage:r,deleteMessage:o})=>s.createElement(s.Fragment,null,a.length||n.length?s.createElement(B,{messageId:e,summaryInfo:t,summaryTopic:a,pendingMatters:n,deleteMessage:o}):null,r&&r.length>0&&s.createElement("div",{className:"w-max-[693px] rounded-[10px] bg-[var(--color-background)] pl-[82px] pr-[25px] pt-[20px] pb-[25px] mt-[10px]"},s.createElement("div",{className:"flex items-center gap-[8px]"},s.createElement("img",{className:"w-[52px] h-[52px] rounded-full ml-[-60px]",src:v,alt:""}),s.createElement("div",null,s.createElement("p",{className:"text-[16px] font-semibold"},"Tely AI"),t?.summaryEndTime?s.createElement("p",{className:"text-[14px] text-[#A8A6AC]"},(0,l.Ey)(t.summaryEndTime)):null)),s.createElement("p",{className:"text-[22px] font-bold mb-[16px]"},"Spam Filtering"),s.createElement("div",{className:"flex items-center gap-[20px]"},s.createElement("p",{className:"flex items-center gap-[8px]"},s.createElement("img",{className:"w-[16px] h-[16px]",src:g,alt:""}),s.createElement("div",{className:"flex items-center"},s.createElement("span",{className:"mr-[4px]"},"Time range:"),N(t?.summaryStartTime,t?.summaryEndTime)))),r.map(e=>s.createElement(T,{garBageItem:e})))),D=e=>{const{message:t,deleteMessage:a}=e,[n,r]=(0,s.useState)(null),[o,i]=(0,s.useState)([]),[c,l]=(0,s.useState)([]),[d,m]=(0,s.useState)([]),u=(0,s.useCallback)(e=>{const t=JSON.parse(e),{mainTopic:a=[],pendingMatters:n,garbageMessage:s,customTopic:o=[],summaryInfo:c}=t;n&&i(n),s&&l(s),c&&r(c);const d=I(a,o);m(d)},[]);return(0,s.useEffect)(()=>{try{u(t.content)}catch(e){console.error(e)}},[t,u]),n?s.createElement(R,{messageId:t.id,summaryInfo:n,summaryTopic:d,pendingMatters:o,garbageMessage:c,deleteMessage:a}):null};n()}catch(F){n(F)}})},31203:(e,t,a)=>{"use strict";a.a(e,async(e,n)=>{try{a.d(t,{A:()=>z});var s=a(84051),r=a(13439),o=a(89925),i=a(90709),c=a(60919),l=a(87357),d=a(46275),m=a(58849),u=a(4961),p=a(1023),h=a(87094),A=a(21488),g=a(39351),y=a(17712),f=a(59030),v=a(55378),E=a(44589),b=a(29404),w=a(93700),x=a(84685),C=a(80146),N=a(64493),I=a(89382),S=a(51644),M=a(25477),k=a(33840),T=e([g,f,v,E,b,w,C,N,I,S,M,k]);[g,f,v,E,b,w,C,N,I,S,M,k]=T.then?(await T)():T;const P=170,L="telegram_story",B="telegram_nft",R=80,D=38,F=({messageWebPage:e,webPage:t,message:a,noAvatars:n,canAutoLoad:i,canAutoPlay:c,asForwarded:T,isDownloading:F=!1,isProtected:z,isConnected:U,story:j,theme:V,backgroundEmojiId:J,shouldWarnAboutSvg:H,autoLoadFileMaxSizeMb:$,lastPlaybackTimestamp:K,observeIntersectionForLoading:G,observeIntersectionForPlaying:_,onMediaClick:q,onDocumentClick:W,onContainerClick:Z,onAudioPlay:Y,onCancelMediaTransfer:Q})=>{const{openUrl:X,openTelegramLink:ee}=(0,r.ko)(),te=(0,s.li)(),ae=(0,f.A)(),ne=(0,g.A)(),se=(0,y.A)(()=>{q()}),re=(0,y.A)(e=>{Z?.(e)}),oe="full"===t?.webpageType?t:void 0,{story:ie,stickers:ce}=oe||{};(0,A.A)(ie?.peerId,ie?.id,j);const le=ce?.isWithTextColor||ce?.documents?.[0]?.shouldUseTextColor,de=(0,h.A)(te,void 0,!le),me=(0,s.Kr)(()=>{const e=t?.url&&(0,d.vG)(t?.url);if(e&&"timestamp"in e)return e.timestamp},[t?.url]);if("full"!==t?.webpageType)return;const ue=(0,y.A)(()=>{ee({url:t.url})}),{siteName:pe,url:he,displayUrl:Ae,title:ge,description:ye,photo:fe,video:ve,audio:Ee,type:be,document:we}=t,{mediaSize:xe}=e,Ce=be===L,Ne=be===B,Ie=j&&"isDeleted"in j,Se=ce?.isEmoji?"telegram_emojiset":be,Me=Ie?void 0:(0,p.T)(Se),ke=Me&&ne(Me),Te=(0,m.A)(ye,P),Pe=Boolean(Te||ge||pe);let Le=Boolean(ce);Pe&&t?.photo&&!t.video&&!t.document&&(Le=O(t,xe));const Be=(fe||ve)&&q&&!Le,Re=(0,l.A)("WebPage",Le&&"with-square-photo",!fe&&!ve&&"without-media",ve&&"with-video",!Pe&&"no-article",we&&"with-document",ke&&"with-quick-button",Ne&&"with-gift");return s.Ay.createElement(w.A,{className:Re,"data-initial":(pe||Ae)[0],dir:ae.isRtl?"rtl":"auto",onClick:re},s.Ay.createElement("div",{className:(0,l.A)("WebPage--content",Ce&&"is-story",Ne&&"is-gift")},J&&s.Ay.createElement(b.A,{emojiDocumentId:J,className:"WebPage--background-icons"}),Ce&&s.Ay.createElement(I.A,{story:j,isProtected:z,isConnected:U,isPreview:!0}),Ne&&s.Ay.createElement(k.A,{gift:t.gift,observeIntersectionForLoading:G,observeIntersectionForPlaying:_,onClick:ue}),Pe&&s.Ay.createElement("div",{className:(0,l.A)("WebPage-text","WebPage-text_interactive"),onClick:()=>X({url:he,shouldSkipModal:e.isSafe})},s.Ay.createElement(x.A,{className:"site-name",url:he,text:pe||Ae}),ge&&s.Ay.createElement("p",{className:"site-title"},(0,u.A)(ge)),Te&&!Ne&&s.Ay.createElement("p",{className:"site-description"},(0,u.A)(Te,["emoji","br"]))),fe&&!Ne&&!ve&&!we&&s.Ay.createElement(S.A,{photo:fe,isOwn:a?.isOutgoing,isInWebPage:!0,observeIntersection:G,noAvatars:n,canAutoLoad:i,size:Le?"pictogram":"inline",asForwarded:T,nonInteractive:!Be,isDownloading:F,isProtected:z,theme:V,onClick:Be?se:void 0,onCancelUpload:Q}),ve&&s.Ay.createElement(M.A,{video:ve,isOwn:a?.isOutgoing,isInWebPage:!0,observeIntersectionForLoading:G,noAvatars:n,canAutoLoad:i,canAutoPlay:c,asForwarded:T,isDownloading:F,isProtected:z,lastPlaybackTimestamp:K||me,onClick:Be?se:void 0,onCancelUpload:Q}),Ee&&s.Ay.createElement(v.Ay,{theme:V,message:a,origin:o.d9.Inline,noAvatars:n,isDownloading:F,onPlay:Y,onCancelUpload:Q}),we&&s.Ay.createElement(E.A,{document:we,message:a,observeIntersection:G,autoLoadFileMaxSizeMb:$,onMediaClick:W,onCancelUpload:Q,isDownloading:F,shouldWarnAboutSvg:H}),ce&&s.Ay.createElement("div",{ref:te,className:(0,l.A)("media-inner","square-image",ce.isEmoji&&"WebPage--emoji-grid","WebPage--stickers")},ce.documents.map(e=>s.Ay.createElement("div",{key:e.id,className:"WebPage--sticker"},s.Ay.createElement(C.A,{containerRef:te,sticker:e,shouldLoop:!0,size:ce.isEmoji?D:R,customColor:de,observeIntersectionForPlaying:_,observeIntersectionForLoading:G}))))),ke&&(De=ke,s.Ay.createElement(N.A,{className:"WebPage--quick-button",size:"tiny",color:"translucent",isRectangular:!0,noForcedUpperCase:!0,onClick:ue},De)));var De};function O(e,t){if(!e?.photo)return!1;if("small"===t)return!0;if("large"===t)return!1;const{width:a,height:n}=(0,i.Xn)(e.photo)||{};return!(!a||!n||a!==n||e.hasLargeMedia)}const z=(0,s.ph)((0,r.EK)(e=>({canPlayAnimatedEmojis:(0,c.BWX)(e)}))(F));n()}catch(U){n(U)}})},31307:(e,t,a)=>{"use strict";a.a(e,async(e,n)=>{try{a.d(t,{A:()=>b});var s=a(84051),r=a(13439),o=a(90709),i=a(87357),c=a(95807),l=a(9716),d=a(76023),m=a(82117),u=a(17712),p=a(93545),h=a(11241),A=a(83563),g=e([h]),y=g.then?(await g)():g;h=y[0];const f=.6,v=4,E=({story:e,mediaArea:t,index:a,className:n,style:g,isPreview:y})=>{const{sendStoryReaction:E}=(0,r.ko)(),b=(0,s.li)(),[w,x]=(0,s.J0)(1.5*d.$),{peerId:C,id:N,views:I}=e,{reactions:S}=I||{},{reaction:M,isDark:k,isFlipped:T}=t,P=!(0,l.L8)(C),L=`${(0,o.$_)(C,N)}-${a}-${y?"preview":"viewer"}`,B=(0,s.Kr)(()=>S?.find(e=>(0,o.a0)(e.reaction,M))?.count,[M,S]),R=!y&&Boolean(B)&&P,D=(0,u.A)(()=>{if(!b.current)return;const e=b.current.clientHeight;x(Math.round(e*f))});(0,m.A)(([e])=>{Boolean(B)!==Boolean(e)&&D()},[B]),(0,p.A)(b,D);const F=(0,u.A)(()=>{E({peerId:C,storyId:N,containerId:L,reaction:M})});return s.Ay.createElement("div",{ref:b,className:(0,i.A)(k?A.A.dark:A.A.light,n),style:(0,c.A)(g,`--custom-emoji-size: ${w}px`),onClick:F},s.Ay.createElement("div",{className:(0,i.A)(A.A.reactionBackground,T&&A.A.flipped)}),Boolean(w)&&s.Ay.createElement(h.A,{className:(0,i.A)(A.A.reaction,R&&A.A.withCount),reaction:M,containerId:L,size:w,effectSize:w*v,shouldPause:y,shouldLoop:!y}),R&&s.Ay.createElement("span",{className:A.A.reactionCount},B))},b=(0,s.ph)(E);n()}catch(e){n(e)}})},31450:(e,t,a)=>{"use strict";a.a(e,async(e,n)=>{try{a.d(t,{A:()=>v});var s=a(84051),r=a(87357),o=a(37661),i=a(5912),c=a(17712),l=a(62587),d=a(10221),m=a(18104),u=a(3325),p=a(93668),h=e([l]),A=h.then?(await h)():h;l=A[0];const g=256,y=({messageId:e,isMirrored:t,effect:a,shouldPlay:n,observeIntersectionForLoading:h,observeIntersectionForPlaying:A,onStop:y})=>{const v=(0,s.li)(),E=(0,s.li)(),b=(0,i.Vz)(v,h),w=(0,i.Vz)(v,A),[x,C,N]=(0,o.A)(),[I,S,M]=(0,o.A)(),k=f(a),T=(0,l.A)(k,!b),P=(0,c.A)(()=>{N(),y?.()}),L=(0,d.A)({anchorRef:v,overlayRef:E,isMirrored:t,isDisabled:!x,isForMessageEffect:!0,id:a.id});(0,s.vJ)(()=>{I&&L(),M()},[L,M,I]),(0,s.vJ)(()=>{w&&n&&T&&(C(),S())},[w,T,n,L]);const B=(0,r.A)(p.A.root,t&&p.A.mirror);return s.Ay.createElement("div",{className:(0,r.A)(p.A.anchor,t&&p.A.mirrorAnchor),ref:v},x&&s.Ay.createElement(u.A,null,s.Ay.createElement(m.A,{ref:E,key:`effect-${e??a.id}`,className:B,tgsUrl:T,size:g,play:!0,isLowPriority:!0,noLoop:!0,forceAlways:!0,onEnded:P})))};function f(e){return e.effectAnimationId?`sticker${e.effectAnimationId}`:`sticker${e.effectStickerId}?size=f`}const v=(0,s.ph)(y);n()}catch(E){n(E)}})},31791:(e,t,a)=>{"use strict";a.d(t,{v:()=>n});let n=function(e){return e.FULLSCREEN_CHANGE="fullscreen-change",e.UPDATE_ERROR="update-error",e.UPDATE_AVAILABLE="update-available",e.DEEPLINK="deeplink",e}({})},31880:(e,t,a)=>{"use strict";a.d(t,{A:()=>p,a:()=>l});var n=a(13439),s=a(60919),r=a(87894),o=a(42215);const i=["includedChatIds","bots","channels","groups","contacts","nonContacts"],c=["excludedChatIds","excludeArchived","excludeMuted","excludeRead"];function l(e,t,a){let o=[],l=[];if("included"===t){const{includedChatIds:t,...n}=a?e.includeFilters||{}:(0,r.Up)(e.folder,i);o=t||[],l=Object.keys(n).filter(e=>Boolean(n[e]))}else{const{excludedChatIds:t,...n}=a?e.excludeFilters||{}:(0,r.Up)(e.folder,c);o=t||[],l=Object.keys(n).filter(e=>Boolean(n[e]))}const d=(0,n.mS)();return{selectedChatIds:o.filter(e=>(0,s.hds)(d,e)),selectedChatTypes:l}}function d(e){if(e){const{includedChatIds:t,...a}=e;if(Object.values(a).filter(Boolean).length>1||t?.length)return"";if(a.bots)return"Bots";if(a.groups)return"Groups";if(a.channels)return"Channels";if(a.contacts)return"Contacts";if(a.nonContacts)return"Non-Contacts"}return""}const m={mode:"create",chatFilter:"",folder:{title:{text:""},includedChatIds:[],excludedChatIds:[]}},u=(e,t)=>{switch(t.type){case"setTitle":return{...e,folder:{...e.folder,title:{text:t.payload}},isTouched:!0};case"setFolderId":return{...e,folderId:t.payload,mode:"edit"};case"editIncludeFilters":return{...e,includeFilters:(0,r.Up)(e.folder,i)};case"editExcludeFilters":return{...e,excludeFilters:(0,r.Up)(e.folder,c)};case"setIncludeFilters":return{...e,includeFilters:t.payload,chatFilter:""};case"setExcludeFilters":return{...e,excludeFilters:t.payload,chatFilter:""};case"saveFilters":return e.includeFilters?{...e,folder:{...(0,r.cJ)(e.folder,i),title:e.folder.title?e.folder.title:{text:d(e.includeFilters)},...e.includeFilters},includeFilters:void 0,chatFilter:"",isTouched:!0}:e.excludeFilters?{...e,folder:{...(0,r.cJ)(e.folder,c),...e.excludeFilters},excludeFilters:void 0,chatFilter:"",isTouched:!0}:e;case"editFolder":{const{id:e,...a}=t.payload;return{mode:"edit",folderId:e,folder:a,chatFilter:""}}case"setChatFilter":return{...e,chatFilter:t.payload};case"setIsTouched":return{...e,isTouched:t.payload};case"setIsLoading":return{...e,isLoading:t.payload};case"setError":return{...e,isLoading:!1,error:t.payload};case"setIsChatlist":return{...e,folder:{...e.folder,isChatList:t.payload}};case"reset":return m;default:return e}},p=()=>(0,o.A)(u,m)},31930:(e,t,a)=>{"use strict";a.a(e,async(e,n)=>{try{a.d(t,{A:()=>y});var s=a(96540),r=a(46942),o=a.n(r),i=a(13439),c=a(90709),l=a(60919),d=a(77787),m=a(95815),u=a(85325),p=a(80395),h=a(10858),A=e([h]),g=A.then?(await A)():A;h=g[0];const y=({message:e})=>{const{chatId:t,messageId:a,messageText:n,isConfirmed:r}=JSON.parse(e.content)||{},[A,g]=(0,s.useState)(r),y=async()=>{const s=h.Ay.create({chatId:t}),{email:r,startTime:o,duration:i,timeZone:c}=await(0,h.UR)(n);s.confirmCallback({startTime:o?[o]:null,email:r,duration:i||1800,timeZone:c}),g(!0),e.content=JSON.stringify({chatId:t,messageId:a,isConfirmed:!0}),d.zs?.message?.storeMessage((0,m.Jr)(t,[e])[0])};return s.createElement("div",{className:"px-[12px] text-[15px]"},s.createElement("div",{className:"p-[10px] border border-solid border-[#D9D9D9] rounded-[16px] w-full bg-white dark:bg-[#292929] dark:border-[#292929]"},s.createElement("div",null,"ðŸ”” I noticed that"," ",(()=>{const e=(0,i.mS)(),a=(0,l.mBe)(e,t);return a?(0,c.Yg)(a):""})()," ","wants to schedule a meeting with you. Would you like me to help set it up?"),s.createElement("div",null,"ðŸ‘‰ Click",s.createElement("span",{className:o()("mx-[2px] outline-none border-none focus:outline-none focus:ring-0",{"underline decoration-2":!A}),onClick:async()=>{if(A)return;if(!t||!a)return;const e=(0,p.IM)();e&&await(0,p.G6)(e)?y():(0,u.wG)({onOk:()=>{y()}})}},'"Yes"'),"to proceed, or ignore this message.")))};n()}catch(e){n(e)}})},32074:(e,t,a)=>{"use strict";a.a(e,async(e,n)=>{try{a.d(t,{A:()=>m});var s=a(84051),r=a(87357),o=a(15384),i=a(39351),c=a(54746),l=e([o,i]);function d(e,t){return t>0?(e/t*100).toFixed():0}[o,i]=l.then?(await l)():l;const m=({answer:e,voteResults:t,totalVoters:a,maxVotersCount:n,correctResults:l,shouldAnimate:m})=>{const u=(0,i.A)(),p=t&&t.find(t=>t.option===e.option),h=0===l.length||-1!==l.indexOf(e.option),A=l.length>0&&h||p?.isChosen,g=p?d(p.votersCount,a||0):0,[y,f]=(0,s.J0)(m?0:g),v=p?d(p.votersCount,n||0):0,E=y!==g;if((0,s.vJ)(()=>{m&&f(g)},[m,g]),!t||!p)return;const b=`width: ${v}%; transform:scaleX(${E?0:1})`;return s.Ay.createElement("div",{className:"PollOption",dir:u.isRtl?"rtl":void 0},s.Ay.createElement("div",{className:"poll-option-share "+("100"===g?"limit-width":"")},g,"%",A&&s.Ay.createElement("span",{className:(0,r.A)("poll-option-chosen",!h&&"wrong",m&&"animate")},s.Ay.createElement(c.A,{name:h?"check":"close",className:"poll-option-icon"}))),s.Ay.createElement("div",{className:"poll-option-right"},s.Ay.createElement("div",{className:"poll-option-text",dir:"auto"},(0,o.fd)({text:e.text.text,entities:e.text.entities})),s.Ay.createElement("div",{className:(0,r.A)("poll-option-answer",A&&!h&&"wrong")},m&&s.Ay.createElement("svg",{className:"poll-line",style:E?"":"stroke-dasharray: 100% 200%; stroke-dashoffset: -44"},s.Ay.createElement("path",{d:"M4.47 5.33v13.6a9 9 0 009 9h13"})),s.Ay.createElement("div",{className:"poll-option-line",style:b}))))};n()}catch(u){n(u)}})},32555:(e,t,a)=>{"use strict";a.a(e,async(e,n)=>{try{a.d(t,{A:()=>A});var s=a(84051),r=a(13439),o=a(60919),i=a(87357),c=a(76023),l=a(5912),d=a(29983),m=a(79577),u=e([d,m]);[d,m]=u.then?(await u)():u;const p=1,h=({isOwn:e,observeIntersection:t,forceLoadPreview:a,messageId:n,chatId:r,activeEmojiInteractions:o,sticker:u,effect:h,soundId:A})=>{const{ref:g,size:y,style:f,handleClick:v}=(0,d.A)(r,n,A,o,e,h?.emoji),E=(0,l.Vz)(g,t);return s.Ay.createElement(m.A,{sticker:u,size:y,quality:p,noLoad:!E,forcePreview:a,play:E,forceAlways:!0,ref:g,className:(0,i.A)("AnimatedEmoji media-inner",u?.id===c.AC&&"like-sticker-thumb"),style:f,onClick:v})},A=(0,s.ph)((0,r.EK)((e,{emoji:t,withEffects:a})=>({sticker:(0,o.oei)(e,t),effect:a?(0,o.Nr8)(e,t):void 0,soundId:(0,o.tKM)(e,t)}))(h));n()}catch(e){n(e)}})},33108:(e,t,a)=>{"use strict";a.d(t,{A:()=>o});var n=a(84051),s=a(80089),r=a(80464);const o=e=>{const{isOpen:t}=e,a=(0,r.A)(s.ar.Extra,"BotCommandMenu",!t);return a?n.Ay.createElement(a,e):void 0}},33213:(e,t,a)=>{"use strict";a.a(e,async(e,n)=>{try{a.d(t,{A:()=>O});var s=a(84051),r=a(13439),o=a(23174),i=a(31481),c=a(66644),l=a(90709),d=a(60919),m=a(96454),u=a(87357),p=a(11778),h=a(50442),A=a(25903),g=a(43874),y=a(26072),f=a(96374),v=a(5912),E=a(17712),b=a(59030),w=a(73767),x=a(9717),C=a(63744),N=a(51083),I=a(54746),S=a(59148),M=a(64493),k=a(46222),T=a(52745),P=a(46372),L=a(90009),B=a(19967),R=e([b,C,N,S,M,P,L]);[b,C,N,S,M,P,L]=R.then?(await R)():R;const D=200,F=({chat:e,currentTopicId:t,isOpen:a,isHidden:n,topicsInfo:d,onTopicSearch:R,onCloseAnimationEnd:F,onOpenAnimationStart:O,withInterfaceAnimations:z})=>{const{closeForumPanel:U,openChatWithInfo:j,loadTopics:V}=(0,r.ko)(),J=(0,s.li)(),H=(0,s.li)(),$=(0,s.li)(),{isMobile:K}=(0,g.Ay)(),G=e?.id;(0,s.vJ)(()=>{G&&!d&&V({chatId:G})},[d,G]);const[_,q]=(0,s.J0)(!1),W=(0,b.A)(),Z=(0,E.A)(()=>{U()});(0,s.vJ)(()=>{z||a||F?.()},[z,a,F]);const Y=(0,E.A)(()=>{e&&j({id:e.id,shouldReplaceHistory:!0})}),{observe:Q}=(0,v.BL)({rootRef:H,throttleMs:D});(0,v.mv)($,Q,({isIntersecting:e})=>{q(!e)});const X=(0,s.Kr)(()=>d?(0,l.CO)(Object.values(d.topicsById),d.orderedPinnedTopicIds).map(({id:e})=>e):[],[d]),{orderDiffById:ee,getAnimationType:te}=(0,x.A)(X,e?.id),[ae,ne]=(0,f.A)(()=>{e&&V({chatId:e.id})},X,!d?.totalCount||X.length>=d.totalCount,i.iIc),se=(0,s.li)(!1),re=a&&!n,oe=(0,w.A)(re);oe!==re&&(se.current=!1),(0,y.A)({isActive:re,onBack:Z}),(0,s.vJ)(()=>re?(0,p.A)(Z):void 0,[Z,re]),(0,s.vJ)(()=>{oe!==re&&(0,c.Uz)(()=>{if(!J.current)return;const e=(0,s.VK)();(0,A.j)(J.current,e),O?.(),re?(se.current=!0,J.current.style.transform="none"):(se.current=!1,J.current.style.transform="")})},[re,O,oe]),(0,s.vJ)(()=>{if(m.TF)return(0,h.wJ)(J.current,{selectorToPreventScroll:".chat-list",onSwipe:(e,t)=>t===(W.isRtl?h.ez.Left:h.ez.Right)&&(U(),!0)})},[U,W.isRtl]);const ie=void 0===d;return s.Ay.createElement("div",{ref:J,className:(0,u.A)(B.A.root,_&&B.A.scrolled,W.isRtl&&B.A.rtl,!z&&B.A.noAnimation),onTransitionEnd:a?void 0:F},s.Ay.createElement("div",{id:"TopicListHeader",className:"left-header"},s.Ay.createElement(M.A,{round:!0,size:"smaller",color:"translucent",onClick:Z,ariaLabel:W("Close")},s.Ay.createElement(I.A,{name:"close"})),e&&s.Ay.createElement(N.A,{noAvatar:!0,className:B.A.info,chatId:e.id,onClick:Y}),e&&s.Ay.createElement(S.A,{chatId:e.id,threadId:o.l3,messageListType:"thread",canExpandActions:!1,isForForum:!0,isMobile:K,onTopicSearch:R})),e&&s.Ay.createElement(C.A,{chatId:e.id}),s.Ay.createElement("div",{className:B.A.notch}),s.Ay.createElement(k.A,{className:"chat-list custom-scroll",ref:H,items:ae,preloadBackwards:i.iIc,withAbsolutePositioning:!0,maxHeight:(X?.length||0)*i.HGU,onLoadMore:ne,sensitiveArea:i.C$_,beforeChildren:s.Ay.createElement("div",{ref:$,className:B.A.scrollTopHandler})},Boolean(ae?.length)&&function(){const a=X.indexOf(ae[0]);return ae?.map((n,r)=>s.Ay.createElement(L.A,{key:n,chatId:e.id,topic:d.topicsById[n],style:`top: ${(a+r)*i.HGU}px;`,isSelected:t===n,observeIntersection:Q,animationType:te(n),orderDiff:ee[n]}))}(),ie&&!ae?.length&&s.Ay.createElement(T.A,{key:"loading"})),!ie&&1===ae?.length&&ae[0]===i.HxB&&s.Ay.createElement(P.A,{chatId:G}))},O=(0,s.ph)((0,r.EK)(e=>{const t=(0,d.nTw)(e).forumPanelChatId,a=t?(0,d.hds)(e,t):void 0,{chatId:n,threadId:s}=(0,d.Xf0)(e)||{},r=t?(0,d.xyP)(e,t):void 0;return{chat:a,currentTopicId:t===n?Number(s):void 0,withInterfaceAnimations:(0,d.PKK)(e),topicsInfo:r}},e=>(0,d.clw)(e))(F));n()}catch(e){n(e)}})},33776:(e,t,a)=>{"use strict";a.a(e,async(e,n)=>{try{a.d(t,{A:()=>M});var s=a(84051),r=a(13439),o=a(90709),i=a(60919),c=a(56494),l=a(87357),d=a(11778),m=a(87894),u=a(35049),p=a(10722),h=a(14),A=a(39351),g=a(17712),y=a(59030),f=a(50680),v=a(91930),E=a(54746),b=a(64493),w=a(71429),x=a(24433),C=a(60859),N=e([A,y,v,b,x]);[A,y,v,b,x]=N.then?(await N)():N;const I=350,S=({replyInfo:e,suggestedPostInfo:t,editingId:a,message:n,sender:c,shouldAnimate:N,forwardedMessagesCount:S,noAuthors:M,noCaptions:k,forwardsHaveCaptions:T,shouldForceShowEditing:P,isCurrentUserPremium:L,isContextMenuDisabled:B,isReplyToDiscussion:R,isInChangingRecipientMode:D,shouldPreventComposerAnimation:F,senderChat:O,chatId:z,currentUserId:U,isSenderChannel:j,forwardMessageIds:V,fromChatId:J,isMediaNsfw:H,onClear:$})=>{const{resetDraftReplyInfo:K,resetDraftSuggestedPostInfo:G,updateDraftReplyInfo:_,setEditingId:q,focusMessage:W,changeRecipient:Z,openChatOrTopicWithReplyInDraft:Y,setForwardNoAuthors:Q,setForwardNoCaptions:X,exitForwardMode:ee,setShouldPreventComposerAnimation:te,openSuggestMessageModal:ae}=(0,r.ko)(),ne=(0,s.li)(),se=(0,y.A)(),re=(0,A.A)(),oe="topicCreate"===n?.content.action?.type,ie=e&&!P,ce=Boolean(e?.quoteText),le=Boolean(t)&&!P,de=Boolean(S),me=(0,g.A)(e=>{const t=(0,r.mS)();return(c=(0,i.Szq)(t,e))||(c=(0,i.Y7C)(t,e)),c}),ue=(0,s.Kr)(()=>{if(!de)return;const e=V?.map(e=>(0,i.O5q)((0,r.mS)(),J,e)).filter(Boolean),t=e?.map(e=>me(e)).filter(Boolean);return t?(0,m.Am)(t):void 0},[de,V,J]),pe=!(D||(!n||!e&&!a)&&(!ue||!de)&&!le),{shouldRender:he,transitionClassNames:Ae}=(0,f.A)(pe&&!oe&&!R,void 0,!N,void 0,!N,I,!N);(0,s.vJ)(()=>{F&&te({shouldPreventComposerAnimation:!1})});const ge=(0,g.A)(()=>{a?q({messageId:void 0}):S?ee():le?(G(),K()):e&&!P&&K(),$?.()});(0,s.vJ)(()=>pe?(0,d.A)(ge):void 0,[pe,ge]);const{isContextMenuOpen:ye,contextMenuAnchor:fe,handleContextMenu:ve,handleContextMenuClose:Ee,handleContextMenuHide:be}=(0,p.A)(ne),we=(0,g.A)(e=>{t?ae({chatId:z}):ve(e)}),xe=(0,g.A)(e=>{e.stopPropagation(),ge(),be()}),Ce=e=>()=>{Ee(),e()},Ne=(0,g.A)(Ce(Z)),Ie=(0,g.A)(Ce(()=>{W({chatId:n.chatId,messageId:n.id,noForumTopicPanel:!0})})),Se=(0,g.A)(Ce(()=>_({quoteText:void 0}))),Me=(0,g.A)(Ce(Z)),ke=(0,g.A)(()=>{Ee(),c&&Y({chatId:c.id})}),Te=(0,g.A)(Ce(ge)),Pe=(0,g.A)(()=>ne.current),Le=(0,g.A)(()=>ne.current),Be=(0,g.A)(()=>ne.current.querySelector(".forward-context-menu .bubble"));(0,s.vJ)(()=>{he||(Ee(),be())},[Ee,be,he]);const Re=(0,l.A)("ComposerEmbeddedMessage",Ae),De=(0,h.A)(c,!0),Fe=(0,l.A)("ComposerEmbeddedMessage_inner",(0,u.y)(De)),Oe=(0,s.Kr)(()=>a?"edit":le?"cash-circle":de?"forward":ie?"reply":void 0,[a,de,ie,le]),ze=S&&S>1?se("ForwardedMessageCount",S):void 0,Ue=(0,s.Kr)(()=>{if(!n||!de||!n.content.text||!M||L)return n;const e=(0,o.m4)(n.content.text);return{...n,content:{...n.content,text:e}}},[L,de,n,M]),je=(0,h.A)(Oe,!0);if(!he)return;const Ve=c&&!j&&z!==c.id&&c.id!==U;return s.Ay.createElement("div",{className:Re,ref:ne,onContextMenu:ve},s.Ay.createElement("div",{className:Fe},s.Ay.createElement("div",{className:"embedded-left-icon",onClick:ve},je&&s.Ay.createElement(E.A,{name:je}),Boolean(e?.quoteText)&&s.Ay.createElement(E.A,{name:"quote",className:"quote-reply"})),s.Ay.createElement(v.b,{isOpen:pe,className:"inside-input",replyInfo:e,suggestedPostInfo:t,isMediaNsfw:H,isInComposer:!0,message:Ue,sender:M?void 0:c,composerForwardSenders:ue,customText:ze,title:a&&!ie?se("EditMessage"):M?se("HiddenSendersNameDescription"):void 0,onClick:we,senderChat:O}),s.Ay.createElement(b.A,{className:"embedded-cancel",round:!0,faded:!0,color:"translucent",ariaLabel:se("Cancel"),onClick:xe},s.Ay.createElement(E.A,{name:"close"})),(ie||de)&&!B&&s.Ay.createElement(w.A,{isOpen:ye,anchor:fe,getTriggerElement:Pe,getRootElement:Le,getMenuElement:Be,className:"forward-context-menu",onClose:Ee,onCloseAnimationEnd:be},de&&s.Ay.createElement(s.Ay.Fragment,null,s.Ay.createElement(x.A,{icon:M?void 0:"message-succeeded",customIcon:M?s.Ay.createElement(E.A,{name:"placeholder"}):void 0,onClick:()=>Q({noAuthors:!1})},se(S>1?"ShowSenderNames":"ShowSendersName")),s.Ay.createElement(x.A,{icon:M?"message-succeeded":void 0,customIcon:M?void 0:s.Ay.createElement(E.A,{name:"placeholder"}),onClick:()=>Q({noAuthors:!0})},se(S>1?"HideSenderNames":"HideSendersName")),T&&s.Ay.createElement(s.Ay.Fragment,null,s.Ay.createElement(C.A,null),s.Ay.createElement(x.A,{icon:k?void 0:"message-succeeded",customIcon:k?s.Ay.createElement(E.A,{name:"placeholder"}):void 0,onClick:()=>X({noCaptions:!1})},se(S>1?"Conversation.ForwardOptions.ShowCaption":"ShowCaption")),s.Ay.createElement(x.A,{icon:k?"message-succeeded":void 0,customIcon:k?void 0:s.Ay.createElement(E.A,{name:"placeholder"}),onClick:()=>X({noCaptions:!0})},se(S>1?"Conversation.ForwardOptions.HideCaption":"HideCaption"))),s.Ay.createElement(C.A,null),s.Ay.createElement(x.A,{icon:"replace",onClick:Ne},se("ForwardAnotherChat"))),ie&&s.Ay.createElement(s.Ay.Fragment,null,s.Ay.createElement(x.A,{icon:"show-message",onClick:Ie},se("Message.Context.Goto")),ce&&s.Ay.createElement(x.A,{icon:"remove-quote",onClick:Se},se("RemoveQuote")),Ve&&s.Ay.createElement(x.A,{icon:"user",onClick:ke},re("ReplyInPrivateMessage")),s.Ay.createElement(x.A,{icon:"replace",onClick:Me},se("ReplyToAnotherChat")),s.Ay.createElement(x.A,{icon:"delete",onClick:Te},se("DoNotReply"))))))},M=(0,s.ph)((0,r.EK)((e,{shouldForceShowEditing:t,chatId:a,threadId:n,messageListType:s})=>{const{forwardMessages:{fromChatId:r,toChatId:l,messageIds:d,noAuthors:u,noCaptions:p},isShareMessageModalShown:h,shouldPreventComposerAnimation:A}=(0,i.nTw)(e),g="scheduled"===s?(0,i.VlN)(e,a):(0,i.Ys6)(e,a,n),y=(0,i.PKK)(e)&&!A,f=l===a,v=d?.map(t=>(0,i.O5q)(e,r,t)),E=(0,i.GA4)(e,a,n),b=E?.replyInfo,w=E?.suggestedPostInfo,x=b?.replyToPeerId,C=x?(0,i.hds)(e,x):void 0;let N,I;if(g?N=(0,i.KLw)(e,a,n,s):f&&1===d.length?N=v?.[0]:b&&!t&&(N=(0,i.O5q)(e,b.replyToPeerId||a,b.replyToMsgId)),g&&N)I=(0,i.Y7C)(e,N);else if(f){let t=v?.map(t=>{return a=t,I=(0,i.Szq)(e,a),I||(I=(0,i.Y7C)(e,a)),I;var a}).filter(Boolean);t=t?(0,m.Am)(t):void 0,I=1===t?.length?t?.[0]:void 0}else if(b&&N&&!t){const{forwardInfo:t}=N,n=(0,i.nZ4)(e,a);t&&(t.isChannelPost||n)&&(I=(0,i.Szq)(e,N)),I||t?.hiddenUserName&&!Boolean(b.quoteText)||(I=(0,i.Y7C)(e,N))}const S=I&&(0,i.hds)(e,I.id),M=S&&(0,o.WX)(S),k=v?.some(e=>e?.content.text&&Object.keys(e.content).length>1),T=f&&1===d.length&&Boolean(N?.content.storyData),P=b?.replyToMsgId===n&&!b.replyToPeerId,L=N&&(0,c.B9)(e,N);return{replyInfo:b,suggestedPostInfo:w,editingId:g,message:N,sender:I,shouldAnimate:y,forwardedMessagesCount:f?d.length:void 0,noAuthors:u,noCaptions:p,forwardsHaveCaptions:k,isCurrentUserPremium:(0,i.g29)(e),isContextMenuDisabled:T,isReplyToDiscussion:P,isInChangingRecipientMode:h,shouldPreventComposerAnimation:A,senderChat:C,currentUserId:e.currentUserId,isSenderChannel:M,forwardMessageIds:d,fromChatId:r,isMediaNsfw:L}})(S));n()}catch(e){n(e)}})},33840:(e,t,a)=>{"use strict";a.a(e,async(e,n)=>{try{a.d(t,{A:()=>A});var s=a(84051),r=a(96454),o=a(87357),i=a(66833),c=a(37661),l=a(52647),d=a(80146),m=a(40566),u=e([l,d]);[l,d]=u.then?(await u)():u;const p=120,h=({gift:e,observeIntersectionForLoading:t,observeIntersectionForPlaying:a,onClick:n})=>{const u=(0,s.li)(),{backdrop:h,model:A,pattern:g}=(0,i.uc)(e),[y,f,v]=(0,c.A)(),E=[h.centerColor,h.edgeColor];return s.Ay.createElement("div",{className:(0,o.A)("interactive-gift",m.A.root),onClick:n,onMouseEnter:r.TF?void 0:f,onMouseLeave:r.TF?void 0:v},s.Ay.createElement("div",{className:m.A.backgroundWrapper},s.Ay.createElement(l.A,{className:m.A.background,backgroundColors:E,patternColor:h.patternColor,patternIcon:g.sticker})),s.Ay.createElement("div",{ref:u,className:m.A.stickerWrapper},s.Ay.createElement(d.A,{containerRef:u,sticker:A.sticker,size:p,shouldLoop:y,observeIntersectionForPlaying:a,observeIntersectionForLoading:t})))},A=(0,s.ph)(h);n()}catch(e){n(e)}})},34458:(e,t,a)=>{"use strict";a.d(t,{$:()=>y,UG:()=>d,wV:()=>g});var n=a(31481),s=a(66644),r=a(19822),o=a(83868),i=a(76023),c=a(2429),l=a(17169);const d=250,m=.25*i.$,u=11,p=.1875*i.$,h=.125*i.$,A=new Set;function g(e){x();const{container:t,toggler:a,leftMainHeader:o,ribbonPeers:i,toggleAvatars:c}=f(e);if(!(a&&c&&i&&t&&o))return;const{bottom:h,right:g}=o.getBoundingClientRect(),y=h+m,C=c[0],N=c[c.length-1],I=E(C);Array.from(i).reverse().forEach((e,o,{length:i})=>{const c=E(e);if(!c)return;const m=c===I;let h=b(a,c),f=u+o+1;if(h||(h=o===i-1?N:C,f=u),!h)return;let{top:x,left:S,width:M}=h.getBoundingClientRect();const{left:k,width:T}=e.getBoundingClientRect();if(k>g)return;S-=p,M+=2*p;const P=S-k,L=x-y,B=M/T;x-=p;const R=k-S+2*p,D=y-x+p,F=T/(M+2*p);(0,s.RK)(()=>{if(!h)return;const a=v(e);let o;f>u?(o=v(h),m&&o.classList.add(l.A.ghostLast)):a.classList.add(l.A.ghostAnimateName),(0,r.ZM)(a,{top:`${y}px`,left:`${k}px`,zIndex:String(f),opacity:o?"0":"",transform:`translate3d(${P}px, ${L}px, 0) scale(${B})`}),o&&(0,r.ZM)(o,{top:`${x}px`,left:`${S}px`,zIndex:String(f)}),t.appendChild(a),o&&t.appendChild(o),h.classList.add("animating"),e.classList.add("animating"),(0,s.RK)(()=>{(0,r.ZM)(a,{opacity:"",transform:""}),o?(0,r.ZM)(o,{opacity:"0",transform:`translate3d(${R}px, ${D}px, 0) scale(${F})`}):a.classList.add(l.A.ghostRevealName);const i=w(()=>{(0,s.RK)(()=>{t.contains(a)&&t.removeChild(a),o&&t.contains(o)&&t.removeChild(o),h?.classList.remove("animating"),e.classList.remove("animating"),A.delete(i)})},d+n.xB5);A.add(i)})})})}function y(e){x();const{container:t,toggler:a,toggleAvatars:o,ribbonPeers:i,leftMainHeader:c}=f(e);if(!(a&&o&&i&&t&&c))return;const{right:m}=c.getBoundingClientRect(),g=o[0],y=o[o.length-1],C=E(g);Array.from(i).reverse().forEach((e,o,{length:i})=>{const c=E(e);if(!c)return;const f=c===C;let x=b(a,c),N=u+o+1;if(x||(x=o===i-1?y:g,N=u),!x)return;const{top:I,left:S,width:M}=e.getBoundingClientRect();let{left:k,width:T,top:P}=x.getBoundingClientRect();if(S>m)return;k-=p,T+=2*p;const L=k-S,B=P-I-h,R=T/M;P-=p;const D=S-k+2*p,F=I-P+p,O=M/(T+2*p);(0,s.RK)(()=>{const a=v(e);let o;N>u?(o=v(x),f&&o.classList.add(l.A.ghostLast)):a.classList.add(l.A.ghostAnimateName,l.A.ghostRevealName),(0,r.ZM)(a,{top:`${I}px`,left:`${S}px`,width:`${M}px`,zIndex:String(N)}),o&&(0,r.ZM)(o,{top:`${P}px`,left:`${k}px`,zIndex:String(N),opacity:"0",transform:`translate3d(${D}px, ${F}px, 0) scale(${O})`}),e.classList.add("animating"),x.classList.add("animating"),t.appendChild(a),o&&t.appendChild(o),(0,s.RK)(()=>{(0,r.ZM)(a,{opacity:o?"0":"",transform:`translate3d(${L}px, ${B}px, 0) scale(${R})`}),o?(0,r.ZM)(o,{opacity:"",transform:""}):a.classList.remove(l.A.ghostRevealName);const i=w(()=>{(0,s.RK)(()=>{t.contains(a)&&t.removeChild(a),o&&t.contains(o)&&t.removeChild(o),e.classList.remove("animating"),x.classList.remove("animating")}),A.delete(i)},d+n.xB5);A.add(i)})})})}function f(e){let t=document.getElementById("LeftColumn");if(t&&e&&(t=t.querySelector(".ArchivedChats")),!t)return{};const a=t.querySelector("#StoryToggler"),n=t.querySelector("#StoryRibbon"),s=t.querySelector(".left-header"),r=n?.querySelectorAll(`.${c.A.peer}`),o=a?.querySelectorAll(".Avatar");return{container:t,toggler:a,leftMainHeader:s,ribbonPeers:r,toggleAvatars:o}}function v(e){const t=e.cloneNode(!0);t.classList.add(l.A.ghost),t.classList.remove("animating"),t.draggable=!1,t.oncontextmenu=o.A;const a=e.querySelector("canvas");if(a){const e=t.querySelector("canvas");e?.getContext("2d")?.drawImage(a,0,0)}return t}function E(e){return e?.getAttribute("data-peer-id")}function b(e,t){return e?.querySelector(`[data-peer-id="${t}"]`)}function w(e,t){const a=setTimeout(e,t);return()=>{clearTimeout(a),e()}}function x(){A.forEach(e=>e()),A.clear()}},35127:(e,t,a)=>{"use strict";a.d(t,{MC:()=>o,ej:()=>c,nP:()=>l,yA:()=>d});var n=a(76023);const s=12,r=40,o=20*n.$,i=s*n.$,c=5*n.$;function l(e,t){return(e?.length??0)>r||t?o:i}function d({media:e,messageText:t,isOwn:a,isInWebPage:r,asForwarded:o,noAvatars:i,isMobile:d}){const m="photo"===e.mediaType,u="video"===e.mediaType,p=m&&r,h=u&&r,{width:A,height:g}=m?(0,n.ck)(e,a,o,p,i,d):u?(0,n.rO)(e,a,o,h,i,d):(0,n.ri)(e,a,o,r,i,d),y=l(t);let f=1;A<y&&y-A<s&&(f=y/A),g*f<c&&c-g*f<s&&(f=c/g);const v=Math.round(A*f),E=Math.round(g*f);return{width:v,height:E,isSmall:v<y||E<c}}},35749:(e,t,a)=>{"use strict";a.d(t,{A:()=>o});var n=a(77312),s=a(63527);function r(e){return e.messages.webPageById}function o(e,t){const a=(0,s.A)(r);if(!e)return;const o=e.content.webPage?.id,i=o?a[o]:void 0;return(0,n.EO)(e,{webPage:i},t)}},36056:(e,t,a)=>{"use strict";a.a(e,async(e,n)=>{try{a.d(t,{A:()=>g});var s=a(96540),r=a(10777),o=a(13439),i=a(60919),c=a(64602),l=a(9743),d=a(20604),m=a(15972),u=a(8235),p=a(11780),h=e([c,m]);function A({capturing:e=!1,children:t,captureCallback:a=()=>{}}){const n=(0,s.useRef)(void 0),c=(0,o.mS)(),{currentUserId:l}=c,d=(0,i.mBe)(c,l);return(0,s.useEffect)(()=>{n.current&&setTimeout(()=>{(0,r.ZR)(n.current,{width:330,pixelRatio:2,quality:1}).then(e=>{const t=new File([e],"telegpt.org.png",{type:"image/png"});globalThis?.p__handleFileSelect?.([t],!0),a()})},100)},[e,a]),e?s.createElement("div",{className:"fixed top-0 left-0 translate-x-[-1000000px] translate-y-[-100000px]"},s.createElement("div",{ref:n,className:"relative w-[330px] box-content overflow-hidden bg-white text-black"},s.createElement("div",{className:"absolute top-0 left-0 w-full blur-xl pointer-events-none"},s.createElement("img",{src:p,alt:"",className:"w-full"})),s.createElement("div",{className:"relative py-3 px-4 flex flex-col gap-2"},s.createElement("div",{className:"flex flex-row justify-end items-center gap-2 text-xs text-[#979797]"},s.createElement(m.A,{className:"w-[20px] h-[20px]",peer:d}),s.createElement("span",null,d?.firstName),s.createElement("span",null,d?.lastName)),s.createElement("div",{className:"text-[20px] font-bold"},"Meeting Invitation"),t),s.createElement("section",{className:"flex flex-row gap-1 items-center justify-center py-2 text-xs bg-[#F7FAFF]"},s.createElement("img",{className:"inline w-[20px] h-[20px] rounded-full",src:u,alt:"Serena"}),"Powered by",s.createElement("span",{className:"text-[#2996FF]"},"telepgt.org")))):null}[c,m]=h.then?(await h)():h;const g=({message:e})=>{const[t,a]=(0,s.useState)(null),[n,r]=(0,s.useState)(!1);if((0,s.useEffect)(()=>{try{const t=JSON.parse(e.content);a(t)}catch(e){console.error("Error parsing message content:",e)}},[e]),!t)return null;const o=s.createElement(s.Fragment,null,s.createElement("div",null,s.createElement(l.l,{lable:"title","data-readable":!0}),s.createElement("span",{className:"text-[14px]","data-readable":!0},t?.summary)),s.createElement("div",null,s.createElement(l.l,{lable:"time","data-readable":!0}),s.createElement("div",{className:"flex flex-col"},s.createElement("span",{className:"text-[14px]","data-readable":!0},(0,c.bK)(t.start.dateTime,t.end.dateTime)),s.createElement("span",{className:"text-[14px] text-[#979797]","data-readable":!0},t.start.timeZone))),t?.attendees?.length>0&&s.createElement("div",null,s.createElement(l.l,{lable:"guests","data-readable":!0}),t?.attendees?.map(e=>s.createElement("div",{className:"text-[14px]",key:e.email,"data-readable":!0},e.email))),s.createElement("div",null,s.createElement(l.l,{lable:"meet","data-readable":!0}),s.createElement("span",{className:"text-[14px]","data-readable":!0},t?.hangoutLink)));return s.createElement("div",{className:"px-[12px]"},s.createElement("div",{className:"flex-col gap-[12px] p-[10px] border border-solid  border-[#D9D9D9] rounded-[16px] w-[326px] bg-white dark:bg-[#292929] dark:border-[#292929]","data-message-container":!0},s.createElement("div",{className:"text-[14px] font-semibold","data-readable":!0},"Event details"),o,s.createElement(d.A,{canCopy:!0,canVoice:!0,canShare:!0,message:e,onClickShare:()=>{r(!0)}})),s.createElement(A,{capturing:n,captureCallback:()=>{r(!1)}},o))};n()}catch(y){n(y)}})},36353:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});var n=a(96454);function s(e,t,a){if(!t&&e===document.activeElement)return;const s=window.getSelection(),r=document.createRange(),o=e.lastChild||e;n.TF||a||o&&o.nodeValue?(r.selectNodeContents(a?e:o),r.collapse(!1),s.removeAllRanges(),s.addRange(r)):e.focus()}},36680:(e,t,a)=>{"use strict";a.d(t,{A:()=>c});var n=a(84051),s=a(96454),r=a(17712);const o=250;let i;function c(e,t,a=o,c=!1){const l=(0,n.li)(!1),d=(0,r.A)(()=>{l.current=!0});return(0,n.vJ)(()=>{i&&(clearTimeout(i),i=void 0),!e||s.TF||c||(i=window.setTimeout(()=>{l.current||t()},2*a))},[c,e,a,t]),[(0,r.A)(()=>{l.current=!0}),(0,r.A)(()=>{l.current=!1,i&&(clearTimeout(i),i=void 0),i=window.setTimeout(()=>{l.current||t()},a)}),d]}},37143:(e,t,a)=>{"use strict";a.a(e,async(e,n)=>{try{a.d(t,{A:()=>x});var s=a(84051),r=a(13439),o=a(90709),i=a(60919),c=a(87357),l=a(17663),d=a(83868),m=a(54464),u=a(10722),p=a(17712),h=a(62587),A=a(59030),g=a(54746),y=a(71429),f=a(24433),v=a(5331),E=a(821),b=e([h,A,f,v]);function w({story:e,isProtected:t,isArchive:a,isPinned:n,canPin:i}){const{openStoryViewer:b,loadPeerSkippedStories:w,toggleStoryInProfile:x,toggleStoryPinnedToTop:C,showNotification:N}=(0,r.ko)(),I=(0,A.A)(),S=(0,s.li)(),M=(0,p.A)(()=>S.current),k=(0,p.A)(()=>document.body),T=(0,p.A)(()=>document.querySelector("#portals .story-context-menu .bubble")),P=(0,p.A)(()=>({withPortal:!0,isDense:!0})),L=e&&e.peerId,B=e&&"content"in e,R=B&&e.isOut,D=e&&"isDeleted"in e,F=B?e.content.video:void 0,O=F&&(0,l.QO)(F.duration),z=B?(0,o.EN)(e):void 0,U=(0,h.A)(z)||F?.thumbnail?.dataUri;(0,s.vJ)(()=>{!e||B||D||w({peerId:e.peerId})},[D,B,e]);const{isContextMenuOpen:j,contextMenuAnchor:V,handleBeforeContextMenu:J,handleContextMenu:H,handleContextMenuClose:$,handleContextMenuHide:K}=(0,u.A)(S,!R),G=(0,s.hb)(()=>{b({peerId:e.peerId,storyId:e.id,isSinglePeer:!0,isPrivate:!0,isArchive:a})},[a,e.id,e.peerId]),_=(0,p.A)(e=>{(0,m.u)(e),J(e)}),q=(0,p.A)(t=>{(0,d.A)(t),x({peerId:L,storyId:e.id,isInProfile:!0}),N({message:I("Story.ToastSavedToProfileText")}),$()}),W=(0,p.A)(t=>{(0,d.A)(t),x({peerId:L,storyId:e.id,isInProfile:!1}),N({message:I("Story.ToastRemovedFromProfileText")}),$()}),Z=(0,p.A)(()=>{C({peerId:L,storyId:e.id}),$()});return s.Ay.createElement("div",{ref:S,className:(0,c.A)(E.A.root,"scroll-item"),onMouseDown:_,onClick:G,onContextMenu:H},D&&s.Ay.createElement("span",null,s.Ay.createElement(g.A,{className:E.A.expiredIcon,name:"story-expired"}),I("ExpiredStory")),n&&s.Ay.createElement(g.A,{className:(0,c.A)(E.A.overlayIcon,E.A.pinnedIcon),name:"pin-badge"}),B&&Boolean(e.views?.viewsCount)&&s.Ay.createElement("span",{className:(0,c.A)(E.A.overlayIcon,E.A.viewsCount)},s.Ay.createElement(g.A,{name:"eye"}),e.views.viewsCount),O&&s.Ay.createElement("span",{className:(0,c.A)(E.A.overlayIcon,E.A.duration)},O),s.Ay.createElement("div",{className:E.A.wrapper},U&&s.Ay.createElement("img",{src:U,alt:"",className:E.A.media,draggable:!1}),B&&s.Ay.createElement(v.A,{story:e}),t&&s.Ay.createElement("span",{className:"protector"})),void 0!==V&&s.Ay.createElement(y.A,{isOpen:j,anchor:V,getTriggerElement:M,getRootElement:k,getMenuElement:T,getLayout:P,className:(0,c.A)(E.A.contextMenu,"story-context-menu"),autoClose:!0,onClose:$,onCloseAnimationEnd:K,withPortal:!0},a&&s.Ay.createElement(f.A,{icon:"archive",onClick:q},I("StoryList.SaveToProfile")),!a&&s.Ay.createElement(f.A,{icon:"archive",onClick:W},I("Story.Context.RemoveFromProfile")),!a&&!n&&i&&s.Ay.createElement(f.A,{icon:"pin",onClick:Z},I("StoryList.ItemAction.Pin")),!a&&n&&s.Ay.createElement(f.A,{icon:"unpin",onClick:Z},I("StoryList.ItemAction.Unpin"))))}[h,A,f,v]=b.then?(await b)():b;const x=(0,s.ph)((0,r.EK)((e,{story:t})=>{const a=(0,i.hds)(e,t.peerId),n=a?.isProtected,{maxPinnedStoriesCount:s}=e.appConfig||{},r="isOut"in t&&t.isOut,o=(0,i.gVx)(e,t.peerId),c=o?.some(e=>e.id===t.id);return{isProtected:n,isPinned:c,canPin:r&&(!s||(o?.length||0)<s)}})(w));n()}catch(C){n(C)}})},37378:(e,t,a)=>{"use strict";a.a(e,async(e,n)=>{try{a.d(t,{A:()=>b});var s=a(84051),r=a(13439),o=a(90709),i=a(60919),c=a(87357),l=a(17663),d=a(58849),m=a(49086),u=a(4961),p=a(17712),h=a(59030),A=a(96530),g=a(81524),y=a(84685),f=e([m,h,g]);[m,h,g]=f.then?(await f)():f;const v=170,E=({message:e,webPage:t,senderTitle:a,isProtected:n,observeIntersection:r,onMessageClick:i})=>{const f=(0,h.A)();let E=t;if(!E){const t=(0,o.ZD)(e);if(t){const{url:a,domain:n}=t;E={siteName:n.replace(/^www./,""),url:a.includes("://")?a:a.includes("@")?`mailto:${a}`:`http://${a}`,formattedDescription:(0,o.P5)(e)?.text!==a?(0,m.C)(f,e,void 0,void 0,v):void 0}}}const b=(0,p.A)(()=>{i(e)});if("full"!==E?.webpageType)return;const{siteName:w,url:x,displayUrl:C,title:N,description:I,formattedDescription:S,photo:M,video:k}=E,T=!a&&I&&(0,d.A)(I,v),P=(0,c.A)("WebLink scroll-item",!M&&!k&&"without-media"),L=x.replace("mailto:","")||C;return s.Ay.createElement("div",{className:P,"data-initial":(w||C)[0],dir:f.isRtl?"rtl":void 0},M&&s.Ay.createElement(g.A,{message:e,isProtected:n,observeIntersection:r}),s.Ay.createElement("div",{className:"content"},s.Ay.createElement(A.A,{isRtl:f.isRtl,className:"site-title",onClick:b},(0,u.A)(N||w||C)),(T||S)&&s.Ay.createElement(A.A,{isRtl:f.isRtl,className:"site-description",onClick:b},S||T&&(0,u.A)(T)),s.Ay.createElement(y.A,{url:x,className:"site-name",text:L,isRtl:f.isRtl}),a&&s.Ay.createElement("div",{className:"sender-name"},(0,u.A)(a))),a&&s.Ay.createElement("div",{className:"message-date"},s.Ay.createElement(A.A,{className:"date",onClick:b,isRtl:f.isRtl},(0,l.be)(f,1e3*e.date))))},b=(0,s.ph)((0,r.EK)((e,{message:t})=>({webPage:(0,i.Pn$)(e,t)}))(E));n()}catch(e){n(e)}})},37480:(e,t,a)=>{"use strict";a.a(e,async(e,n)=>{try{a.d(t,{A:()=>p});var s=a(84051),r=a(13439),o=a(90709),i=a(62587),c=a(55158),l=e([i]),d=l.then?(await l)():l;i=d[0];const m={width:480,height:270},u=({message:e,canAutoLoadMedia:t})=>{const{clickBotInlineButton:a}=(0,r.ko)(),n=e.content.game,{title:l,description:d}=n,u=(0,o.zb)(n),p=(0,o.ih)(n),h=(0,i.A)(u,!t),A=(0,i.A)(p,!t);return s.Ay.createElement("div",{className:"Game"},s.Ay.createElement("div",{className:"preview",style:`width: ${m.width}px; height: ${m.height}px`,onClick:()=>{a({chatId:e.chatId,messageId:e.id,button:e.inlineButtons[0][0]})}},!h&&!A&&s.Ay.createElement(c.A,{className:"skeleton preview-content"}),h&&s.Ay.createElement("img",{className:"preview-content",src:h,alt:l,draggable:!1}),A&&s.Ay.createElement("video",{className:"preview-content",playsInline:!0,muted:!0,disablePictureInPicture:!0,autoPlay:!0,loop:!0,src:A})),s.Ay.createElement("div",{className:"title"},l),!(0,o.P5)(e)&&s.Ay.createElement("div",{className:"description"},d))},p=(0,s.ph)(u);n()}catch(e){n(e)}})},37524:(e,t,a)=>{"use strict";let n;function s(e){n.focus(),e.focus()}a.d(t,{A:()=>s}),a(96454).pz&&(n=document.createElement("input"),n.classList.add("for-ios-autocapitalization-fix"),document.body.appendChild(n))},37698:(e,t,a)=>{"use strict";a.d(t,{A:()=>n});const n={root:"sG8AAzvK",minimized:"lTOui0dp",button:"bNkLqJf1",title:"rMTpNazX","unread-count":"O7esHjyC",unreadCount:"O7esHjyC",info:"OS2LWzdu",name:"bkCtPuPQ",icon:"f4LUPgr4",avatarWrapper:"RMY__Znz",avatar:"qeb0Aox1",chatsPreview:"_1817Hwgd",unread:"SS39xuL3"}},37830:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});var n=a(87894);const s=new WeakMap;function r(e){return(...t)=>{const a=s.get(e);if(a&&(0,n.k)(a.lastArgs,t))return a.lastResult;const r=e(...t);return s.set(e,{lastArgs:t,lastResult:r}),r}}},37959:(e,t,a)=>{"use strict";a.d(t,{I:()=>n.I});var n=a(79882)},38102:(e,t,a)=>{"use strict";a.a(e,async(e,n)=>{try{a.d(t,{A:()=>u});var s=a(84051),r=a(46402),o=a(76471),i=e([r]),c=i.then?(await i)():i;r=c[0];const l=2,d="0",m=({topic:e,className:t,letterClassName:a,size:n,noLoopLimit:i,observeIntersection:c,onClick:m})=>e.iconEmojiId&&e.iconEmojiId!==d?s.Ay.createElement(r.A,{documentId:e.iconEmojiId,className:t,size:n,observeIntersectionForPlaying:c,loopLimit:i?void 0:l,onClick:m}):s.Ay.createElement(o.A,{iconColor:e.iconColor,title:e.title,topicId:e.id,className:t,letterClassName:a,onClick:m}),u=(0,s.ph)(m);n()}catch(e){n(e)}})},38113:(e,t,a)=>{"use strict";a.a(e,async(e,n)=>{try{a.d(t,{A:()=>x});var s=a(96540),r=a(13439),o=a(60919),i=a(9716),c=a(22199),l=a(20604),d=a(15972),m=a(99299),u=a(73474),p=a(11553),h=a(22555),A=a(23814),g=a(40842),y=e([d]),f=y.then?(await y)():y;d=f[0];const v=({chatId:e,classNames:t,size:a,style:n})=>{if(!e)return null;const l=(0,r.mS)();let m;return m=(0,i.L8)(e)?(0,o.mBe)(l,e):(0,o.hds)(l,e),s.createElement(d.A,{style:n,key:e,className:(0,c.cn)(t,"overlay-avatar inline-block cursor-pointer"),size:a,peer:m})},E=({pendingItem:e})=>s.createElement(m.A,null,s.createElement("div",{className:"flex gap-[8px] my-[4px] cursor-pointer"},s.createElement("img",{className:"w-[18px] h-[18px] mt-[2px]",src:h,alt:""}),s.createElement("span",{className:"text-[15px]","data-readable":!0},e.summary))),b=({messageId:e})=>s.createElement(l.A,{canCopy:!0,canVoice:!0,message:{id:e}}),w=({summaryInfo:e})=>s.createElement(m.A,null,s.createElement("div",null,s.createElement("p",{className:"flex items-center gap-[8px] mb-[16px]"},s.createElement("span",{className:"text-[18px] font-bold","data-readable":!0},"Actions Items"),s.createElement("img",{className:"w-[16px] h-[16px]",src:u,alt:""})),s.createElement("div",{className:"flex items-center gap-[20px]"},s.createElement("p",{className:"flex items-center gap-[8px]"},s.createElement("img",{className:"w-[16px] h-[16px]",src:p,alt:""}),s.createElement("div",{className:"flex items-center gap-[4px]"},s.createElement("span",{className:"mr-[4px] font-bold text-[14px]","data-readable-inline":!0},"Time:"),e?.summaryTime?s.createElement("p",{className:"text-[14px] text-[#A8A6AC]","data-readable-inline":!0},(0,c.Ey)(e.summaryTime)):null)),s.createElement("p",{className:"flex items-center gap-[8px]"},s.createElement("img",{className:"w-[16px] h-[16px]",src:A,alt:""}),s.createElement("div",{className:"flex items-center gap-[4px]"},s.createElement("span",{className:"font-bold text-[14px]","data-readable-inline":!0},"Messages:"),e?.messageCount?s.createElement("span",{"data-readable-inline":!0},e?.messageCount):null))),e?.userIds?s.createElement("div",{className:"flex items-center gap-[8px] mb-[18px]"},s.createElement("img",{className:"w-[16px] h-[16px]",src:g,alt:""}),s.createElement("span",{className:"font-bold text-[14px]","data-readable":!0},"Groups/friends: "),s.createElement("div",{className:"flex items-center"},e.userIds.slice(0,5).map((t,a)=>s.createElement(v,{style:{zIndex:`${String(e.userIds.length-a)};`},chatId:t,size:24,classNames:"summary-avatar-group !border-solid-[2px] !border-white ml-[-4px]",key:t})),e.userIds.length>10?s.createElement("div",{className:"w-[24px] h-[24px] rounded-full bg-[#979797] text-[12px] whitespace-nowrap flex items-center justify-center","data-readable":!0},e.userIds.length-10,"+"):null)):null)),x=e=>{const{message:t}=e,[a,n]=(0,s.useState)(null),[r,o]=(0,s.useState)([]),i=(0,s.useCallback)(e=>{const t=JSON.parse(e),{pendingMatters:a,summaryInfo:s}=t;a&&o(a),s&&n(s)},[]);return(0,s.useEffect)(()=>{try{i(t.content)}catch(e){console.error(e)}},[t,i]),a?s.createElement("div",{className:"px-[12px] w-full"},r.length?s.createElement("div",{className:"mx-auto rounded-[10px] px-3 py-2 bg-white dark:bg-[#292929]","data-message-container":!0},a&&s.createElement(w,{summaryInfo:a}),r.length>0&&s.createElement("div",null,r.map(e=>s.createElement(E,{pendingItem:e}))),s.createElement(b,{messageId:t.id})):null):null};n()}catch(e){n(e)}})},38218:(e,t,a)=>{"use strict";a.d(t,{A:()=>o});var n=a(84051),s=a(31481),r=a(17712);const o=function({onClick:e,onStart:t,onEnd:a,threshold:o=250}){const i=(0,n.li)(!1),c=(0,n.li)(!1),l=(0,n.li)(void 0),d=(0,r.A)(e=>{const a="button"in e&&0===e.button||"touches"in e&&e.touches.length>0;!c.current&&a&&(c.current=!0,l.current=window.setTimeout(()=>{t?.(),i.current=!0},o))}),m=(0,r.A)(t=>{c.current&&(i.current?a?.():e?.(t),u())}),u=(0,r.A)(()=>{i.current=!1,c.current=!1,window.clearTimeout(l.current)});return(0,n._W)(()=>{window.clearTimeout(l.current)}),(0,n.vJ)(()=>(document.body.addEventListener(s.D2Y,u),()=>{document.body.removeEventListener(s.D2Y,u)}),[]),{onMouseDown:d,onMouseUp:m,onMouseLeave:m,onTouchStart:d,onTouchEnd:m}}},38678:(e,t,a)=>{"use strict";a.a(e,async(e,n)=>{try{a.d(t,{A:()=>U});var s=a(84051),r=a(13439),o=a(23174),i=a(31481),c=a(90709),l=a(27109),d=a(60919),m=a(85982),u=a(64713),p=a(83868),h=a(59852),A=a(37959),g=a(24899),y=a(4961),f=a(82117),v=a(39351),E=a(17712),b=a(62587),w=a(59030),x=a(38691),C=a(65152),N=a(64493),I=a(22720),S=a(55158),M=a(63152),k=a(46402),T=a(84685),P=a(16541),L=a(93045),B=a(65458),R=a(57532),D=e([v,b,w,C,N,I,k,P,L,B]);[v,b,w,C,N,I,k,P,L,B]=D.then?(await D)():D;const F={width:64,height:64,zoom:15},O=16,z=({chatOrUserId:e,user:t,chat:a,userFullInfo:n,isInSettings:l,canInviteUsers:D,isMuted:z,phoneCodeList:U,topicId:j,description:V,chatInviteLink:J,topicLink:H,hasSavedMessages:$,personalChannel:K,hasMainMiniApp:G,isBotCanManageEmojiStatus:_,botAppPermissions:q,botVerification:W})=>{const{showNotification:Z,updateChatMutedState:Y,updateTopicMutedState:Q,loadPeerStories:X,openSavedDialog:ee,openMapModal:te,requestCollectibleInfo:ae,requestMainWebView:ne,toggleUserEmojiStatusPermission:se,toggleUserLocationPermission:re}=(0,r.ko)(),{id:oe,usernames:ie,phoneNumber:ce,isSelf:le}=t||{},{id:de,usernames:me}=a||{},ue=oe||de,{businessLocation:pe,businessWorkHours:he,personalChannelMessageId:Ae,birthday:ge}=n||{},ye=(0,w.A)(),fe=(0,v.A)();(0,f.A)(([e])=>{ue&&e!==ue&&(t||a&&(0,c.WX)(a))&&X({peerId:ue})},[ue,a,t]);const{width:ve,height:Ee,zoom:be}=F,we=(0,x.A)(),xe=pe?.geo&&(0,c.rt)(pe.geo,ve,Ee,be,we),Ce=(0,b.A)(xe),Ne=(0,s.Kr)(()=>{if(pe?.geo)return Ce?s.Ay.createElement("img",{src:Ce,alt:"",className:R.A.businessLocation}):s.Ay.createElement(S.A,{className:R.A.businessLocation})},[pe,Ce]),Ie=Boolean(j&&j!==o.l3),Se=a&&(0,c.WX)(a)||t?.isPremium,Me=(0,s.Kr)(()=>{const e=ie?.filter(e=>e.isActive);return e?.length?e:void 0},[ie]),ke=(0,s.Kr)(()=>{const e=t?void 0:me?.filter(e=>e.isActive);return e?.length?e:void 0},[me,t]),Te=(0,s.Kr)(()=>{if(a)return Ie?H:(0,c.L7)(a)||J},[a,Ie,H,J]),Pe=(0,E.A)(()=>{const{address:e,geo:t}=pe;if(!t)return(0,m.eM)(e),void Z({message:ye("BusinessLocationCopied")});te({geoPoint:t,zoom:be})}),Le=(0,E.A)(()=>{Ie?Q({chatId:de,topicId:j,isMuted:!z}):Y({chatId:de,isMuted:!z})}),Be=(0,E.A)(()=>{t&&se({botId:t.id,isEnabled:!_})}),Re=(0,E.A)(()=>{t&&re({botId:t.id,isAccessGranted:!q?.geolocation})}),De=(0,E.A)(()=>{ee({chatId:e})});function Fe(e,t){(0,m.eM)(e),Z({message:`${t} was copied`})}const Oe=ce&&(0,u.Ox)(U,ce),ze=(0,E.A)(()=>{ce?.length===i.PGI&&ce.startsWith(i._Bb)?ae({collectible:ce,peerId:ue,type:"phone"}):Fe(Oe,ye("Phone"))}),Ue=(0,E.A)((e,t)=>{e.isEditable?Fe((0,g.A)(e.username,t),ye(t?"Link":"Username")):ae({collectible:e.username,peerId:ue,type:"username"})}),je=(0,E.A)(()=>{const e=t?.id;if(!e)return;const a=(0,h.A)();ne({botId:e,peerId:e,theme:a,shouldMarkBotTrusted:!0})}),Ve=fe("ProfileOpenAppAbout",{terms:s.Ay.createElement(T.A,{text:fe("ProfileOpenAppTerms"),url:fe("ProfileBotOpenAppInfoLink")})},{withNodes:!0});if(!(de&&(0,d._ls)((0,r.mS)(),de)||le&&!l))return s.Ay.createElement("div",{className:"ChatExtra"},K&&s.Ay.createElement("div",{className:R.A.personalChannel},s.Ay.createElement("h3",{className:R.A.personalChannelTitle},ye("ProfileChannel")),s.Ay.createElement("span",{className:R.A.personalChannelSubscribers},ye("Subscribers",K.membersCount,"i")),s.Ay.createElement(C.A,{chatId:K.id,orderDiff:0,animationType:A.I.None,isPreview:!0,previewMessageId:Ae,className:R.A.personalChannelItem})),Boolean(Oe?.length)&&s.Ay.createElement(I.A,{icon:"phone",multiline:!0,narrow:!0,ripple:!0,onClick:ze},s.Ay.createElement("span",{className:"title",dir:fe.isRtl?"rtl":void 0},Oe),s.Ay.createElement("span",{className:"subtitle"},ye("Phone"))),Me&&s.Ay.createElement(s.Ay.Fragment,null,Je(Me),t&&s.Ay.createElement(L.A,{user:t})),V&&Boolean(V.length)&&s.Ay.createElement(I.A,{icon:"info",multiline:!0,narrow:!0,isStatic:!0,allowSelection:!0},s.Ay.createElement("span",{className:"title word-break allow-selection",dir:fe.isRtl?"rtl":void 0},(0,y.A)(V,["br",Se?"links":"tg_links","emoji"])),s.Ay.createElement("span",{className:"subtitle"},ye(oe?"UserBio":"Info"))),ke&&!Ie&&Je(ke,!0),(!ke&&D||Ie)&&Te&&s.Ay.createElement(I.A,{icon:"link",multiline:!0,narrow:!0,ripple:!0,onClick:()=>Fe(Te,ye("SetUrlPlaceholder"))},s.Ay.createElement("div",{className:"title"},Te),s.Ay.createElement("span",{className:"subtitle"},ye("SetUrlPlaceholder"))),ge&&s.Ay.createElement(B.A,{key:ue,birthday:ge,user:t,isInSettings:l}),G&&s.Ay.createElement(I.A,{multiline:!0,isStatic:!0,narrow:!0},s.Ay.createElement(N.A,{className:R.A.openAppButton,size:"smaller",onClick:je},ye("ProfileBotOpenApp")),s.Ay.createElement("div",{className:R.A.sectionInfo},Ve)),!l&&s.Ay.createElement(I.A,{icon:"unmute",narrow:!0,ripple:!0,onClick:Le},s.Ay.createElement("span",null,ye("Notifications")),s.Ay.createElement(M.A,{id:"group-notifications",label:oe?"Toggle User Notifications":"Toggle Chat Notifications",checked:!z,inactive:!0})),he&&s.Ay.createElement(P.A,{businessHours:he}),pe&&s.Ay.createElement(I.A,{icon:"location",ripple:!0,multiline:!0,narrow:!0,rightElement:Ne,onClick:Pe},s.Ay.createElement("div",{className:"title"},pe.address),s.Ay.createElement("span",{className:"subtitle"},ye("BusinessProfileLocation"))),$&&!l&&s.Ay.createElement(I.A,{icon:"saved-messages",narrow:!0,ripple:!0,onClick:De},s.Ay.createElement("span",null,ye("SavedMessagesTab"))),n&&"isBotAccessEmojiGranted"in n&&s.Ay.createElement(I.A,{icon:"user",narrow:!0,ripple:!0,onClick:Be},s.Ay.createElement("span",null,ye("BotProfilePermissionEmojiStatus")),s.Ay.createElement(M.A,{label:ye("BotProfilePermissionEmojiStatus"),checked:_,inactive:!0})),void 0!==q?.geolocation&&s.Ay.createElement(I.A,{icon:"location",narrow:!0,ripple:!0,onClick:Re},s.Ay.createElement("span",null,ye("BotProfilePermissionLocation")),s.Ay.createElement(M.A,{label:ye("BotProfilePermissionLocation"),checked:q?.geolocation,inactive:!0})),W&&s.Ay.createElement("div",{className:R.A.botVerificationSection},s.Ay.createElement(k.A,{className:R.A.botVerificationIcon,documentId:W.iconId,size:O}),W.description));function Je(e,t){const[a,...n]=e,r=n.length?ye("UsernameAlso","%USERNAMES%").split("%").map(e=>"USERNAMES"===e?s.Ay.createElement(s.Ay.Fragment,null,n.map((e,a)=>s.Ay.createElement(s.Ay.Fragment,null,a>0?", ":"",s.Ay.createElement("a",{key:e.username,href:(0,g.A)(e.username,!0),onMouseDown:p.A,onClick:a=>{(0,p.A)(a),Ue(e,t)},className:"text-entity-link username-link"},(0,g.A)(e.username))))):e):void 0;return s.Ay.createElement(I.A,{icon:t?"link":"mention",multiline:!0,narrow:!0,ripple:!0,onClick:()=>{Ue(a,t)}},s.Ay.createElement("span",{className:"title",dir:fe.isRtl?"rtl":void 0},(0,g.A)(a.username,t)),s.Ay.createElement("span",{className:"subtitle"},r&&s.Ay.createElement("span",{className:"other-usernames"},r),ye(t?"Link":"Username")))}},U=(0,s.ph)((0,r.EK)((e,{chatOrUserId:t,isSavedDialog:a})=>{const{countryList:{phoneCodes:n}}=e,s=t?(0,d.hds)(e,t):void 0,r=t?(0,d.mBe)(e,t):void 0,o=t?(0,d.XOs)(e,t):void 0,i=s?.isForum,m=s&&(0,l.If)(s,(0,d.K52)(e),(0,d.P5N)(e,s.id)),{threadId:u}=(0,d.Xf0)(e)||{},p=i&&u?Number(u):void 0,h=s&&(0,d.AWZ)(e,s.id),A=r&&(0,d.vGo)(e,r.id),g=A?.botVerification||h?.botVerification,y=h?.inviteLink,f=A?.bio||h?.about,v=s&&!r&&(!(0,c.WX)(s)&&!(0,c.Sq)(s,"inviteUsers")||(0,c.ub)(s,"inviteUsers")),E=p?(0,d.sZk)(e,t,p):void 0,b=!a&&e.chats.listIds.saved?.includes(t),w=A?.personalChannelId?(0,d.hds)(e,A.personalChannelId):void 0,x=r?.hasMainMiniApp;return{phoneCodeList:n,chat:s,user:r,userFullInfo:A,canInviteUsers:v,botAppPermissions:o,isMuted:m,topicId:p,chatInviteLink:y,description:f,topicLink:E,hasSavedMessages:b,personalChannel:w,hasMainMiniApp:x,isBotCanManageEmojiStatus:A?.isBotCanManageEmojiStatus,botVerification:g}})(z));n()}catch(e){n(e)}})},39074:(e,t,a)=>{"use strict";a.d(t,{DY:()=>c,JC:()=>o,LV:()=>r,oR:()=>s,vZ:()=>i});const n=document.createElement("div");function s(e){const t=window.getSelection();if(t?.getRangeAt&&t.rangeCount){const a=t.getRangeAt(0);a.deleteContents();const n=a.createContextualFragment(e),s=n.lastChild;a.insertNode(n),s?(a.setStartAfter(s),a.setEndAfter(s)):a.collapse(!1),t.removeAllRanges(),t.addRange(a)}}function r(e,t){if(!e)return"";const a=window.getSelection();if(!a||!a.rangeCount)return e.innerHTML;const s=a.getRangeAt(0).cloneRange();return s.intersectsNode(e)?t||e.contains(s.commonAncestorContainer)?(s.collapse(!0),s.setStart(e,0),n.innerHTML="",n.appendChild(s.cloneContents()),n.innerHTML):"":e.innerHTML}function o(e){let t=0;const a=window.getSelection();if(!a||0===a.rangeCount)return t;const n=a.getRangeAt(0),s=n.cloneRange();return s.selectNodeContents(e),s.setEnd(n.endContainer,n.endOffset),t=s.toString().length,t}function i(e,t){for(const a of e.childNodes)if(a.nodeType===Node.TEXT_NODE){if(a.length>=t){const e=document.createRange(),n=window.getSelection();return e.setStart(a,t),e.collapse(!0),n.removeAllRanges(),n.addRange(e),-1}t-="length"in a?a.length:0}else if(-1===(t=i(a,t)))return-1;return t}function c(){const e=window.getSelection();e?.removeAllRanges()}},39325:(e,t,a)=>{"use strict";a.a(e,async(e,n)=>{try{a.d(t,{A:()=>v});var s=a(84051),r=a(13439),o=a(90709),i=a(87357),c=a(17663),l=a(17142),d=a(32625),m=a(17712),u=a(59030),p=a(54746),h=a(46256),A=a(3039),g=e([u,h]);[u,h]=g.then?(await g)():g;const y=3e4,f=({message:e,isConnected:t})=>{const{openInvoice:a,loadExtendedMedia:n}=(0,r.ko)(),g=(0,u.A)(),f=(0,o.NO)(e),{chatId:v,id:E}=e,b=(0,m.A)(()=>{n({chatId:v,ids:[E]})});(0,d.A)(b,t?y:void 0);const{amount:w,currency:x,extendedMedia:C}=f,{width:N,height:I,thumbnail:S,duration:M}=C,k=(0,m.A)(()=>{a({type:"message",chatId:v,messageId:E,isExtendedMedia:!0})});return s.Ay.createElement("div",{className:(0,i.A)(A.A.root,"media-inner"),onClick:k},s.Ay.createElement(h.A,{thumbDataUri:S?.dataUri,width:N,height:I,isVisible:!0,className:A.A.spoiler}),Boolean(M)&&s.Ay.createElement("div",{className:A.A.duration},(0,c.QO)(M)),s.Ay.createElement("div",{className:A.A.buy},s.Ay.createElement(p.A,{name:"lock",className:A.A.lock}),g("Checkout.PayPrice",(0,l.Ad)(w,x))))},v=(0,s.ph)(f);n()}catch(e){n(e)}})},39355:(e,t,a)=>{"use strict";a.a(e,async(e,n)=>{try{a.d(t,{A:()=>u});var s=a(84051),r=a(87357),o=a(4961),i=a(54746),c=a(64493),l=e([c]),d=l.then?(await l)():l;c=d[0];const m=({isOpen:e,onClick:t,text:a,isDisabled:n})=>{const l=(0,s.li)();return(0,s.vJ)(()=>{const e=l.current;if(!e)return;const t=e.scrollWidth+1;e.closest(".Composer").style.setProperty("--bot-menu-text-width",`${t}px`)},[e,a]),(0,s.vJ)(()=>{const e=l.current;if(!e)return;const t=e.closest(".Composer");return()=>{t.style.removeProperty("--bot-menu-text-width")}},[]),s.Ay.createElement(c.A,{className:(0,r.A)("composer-action-button bot-menu",e&&"open"),round:!0,color:"translucent",disabled:n,onClick:t,ariaLabel:"Open bot command keyboard"},s.Ay.createElement(i.A,{name:"webapp",className:(0,r.A)("bot-menu-icon",e&&"open")}),s.Ay.createElement("span",{ref:l,className:"bot-menu-text"},(0,o.A)(a)))},u=(0,s.ph)(m);n()}catch(e){n(e)}})},39988:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});var n=a(84051);const s=e=>{const[t,a]=(0,n.J0)(!1),[s,r]=(0,n.J0)("bottom"),[o,i]=(0,n.J0)(!1);return(0,n.vJ)(()=>{let e=null;const t=()=>{i(!0),e&&window.clearTimeout(e),e=window.setTimeout(()=>{i(!1)},200)};return window.addEventListener("scroll",t,!0),()=>{window.removeEventListener("scroll",t,!0),e&&window.clearTimeout(e)}},[]),(0,n.vJ)(()=>{const t=e?.current;if(!t)return;const n=()=>{if(o)return;const e=t.getBoundingClientRect(),n=window.innerHeight-e.bottom;r(n<150?"top":"bottom"),a(!0)},s=()=>a(!1);return t.addEventListener("mouseenter",n),t.addEventListener("mouseleave",s),()=>{t.removeEventListener("mouseenter",n),t.removeEventListener("mouseleave",s)}},[e,o]),{isGptMenuOpen:t,gptMenuPosition:s}}},40175:(e,t,a)=>{"use strict";a.a(e,async(e,n)=>{try{a.d(t,{A:()=>y});var s=a(84051),r=a(13439),o=a(31481),i=a(60919),c=a(34458),l=a(59030),d=a(34201),m=a(92111),u=a(21849),p=a(17169),h=e([l,m,u]);[l,m,u]=h.then?(await h)():h;const A=5;function g({currentUserId:e,orderedPeerIds:t,usersById:a,chatsById:n,canShow:i,isShown:h,isForumPanelOpen:g,isArchived:y,withAnimation:f,peerStories:v}){const{toggleStoryRibbon:E}=(0,r.ko)(),b=(0,l.A)(),w=(0,s.Kr)(()=>1===t.length?[a[t[0]]||n[t[0]]]:t.map(e=>a[e]||n[e]).filter(t=>t&&t.id!==e).slice(0,o.dqH).reverse(),[e,t,a,n]),x=(0,s.Kr)(()=>w?.length?w.reduce((e,t)=>{const a=v[t.id];if(!a)return e;const n=a.orderedIds.some(e=>{const t=a.byId[e];if(!t||!("isForCloseFriends"in t))return!1;const n=a.lastReadId&&t.id<=a.lastReadId;return t.isForCloseFriends&&!n});return e[t.id]=n,e},{}):{},[v,w]),C=(0,s.Kr)(()=>t.slice(0,A),[t]);(0,m.A)(C);const N=i&&h,{ref:I,shouldRender:S}=(0,d.A)({isOpen:N,className:"slow",withShouldRender:!0});if((0,s.vJ)(()=>{f&&!g&&(N?((0,s.VK)(c.UG+o.xB5),(0,c.$)(y)):((0,s.VK)(c.UG+o.xB5),(0,c.wV)(y)))},[y,N,f,g]),S)return s.Ay.createElement("button",{ref:I,type:"button",id:"StoryToggler",className:p.A.root,"aria-label":b("Chat.Context.Peer.OpenStory"),onClick:()=>E({isShown:!0,isArchived:y}),dir:b.isRtl?"rtl":void 0},w.map(e=>s.Ay.createElement(u.A,{key:e.id,peer:e,size:"tiny",className:p.A.avatar,withStorySolid:!0,forceFriendStorySolid:x[e.id]})))}const y=(0,s.ph)((0,r.EK)((e,{isArchived:t})=>{const{orderedPeerIds:{archived:a,active:n},byPeerId:s}=e.stories,{storyViewer:{isRibbonShown:r,isArchivedRibbonShown:o}}=(0,i.nTw)(e),c=(0,i.clw)(e),l=(0,i.xYJ)(e,"storyRibbonAnimations");return{currentUserId:e.currentUserId,orderedPeerIds:t?a:n,isShown:t?!o:!r,isForumPanelOpen:c,withAnimation:l,usersById:e.users.byId,chatsById:e.chats.byId,peerStories:s}})(g));n()}catch(f){n(f)}})},40435:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});var n=a(41074);const s={dark:{outgoing:"rgb(135,116,225)",incoming:"rgb(33,33,33)"},light:{outgoing:"rgb(238,255,222)",incoming:"rgb(255,255,255)"}};function r(e,t,a,r,o){return r?Promise.resolve(s[o||"light"][t?"outgoing":"incoming"]):(0,n.M1)({name:"offscreen-canvas:getAppendixColorFromImage",args:[e,t]},Math.round(a)%n.bP)}},40516:(e,t,a)=>{"use strict";a.a(e,async(e,n)=>{try{a.d(t,{A:()=>b});var s=a(84051),r=a(13439),o=a(90709),i=a(70636),c=a(87357),l=a(76023),d=a(4961),m=a(11217),u=a(5912),p=a(17712),h=a(62587),A=a(59030),g=a(54746),y=a(93700),f=e([i,h,A,y]);[i,h,A,y]=f.then?(await f)():f;const v="Â ";function E(e,t){const{width:a,height:n}=(0,l.mr)();return s.Ay.createElement("div",{className:"embedded-thumb"},s.Ay.createElement("img",{src:e,width:a,height:n,alt:"",className:"pictogram",draggable:!1}),t&&s.Ay.createElement("span",{className:"protector"}))}const b=({story:e,sender:t,noUserColors:a,isProtected:n,observeIntersectionForLoading:l,onClick:f})=>{const{showNotification:b}=(0,r.ko)(),w=(0,A.A)(),x=(0,s.li)(),C=(0,u.Vz)(x,l),N=e&&"content"in e,I=e&&"isDeleted"in e,S=N&&Boolean(e.content.video),M=N?"Story":I?"ExpiredStory":"Loading",k=(0,h.A)(N&&(0,o.EN)(e,"pictogram"),!C),T=S?e.content.video.thumbnail?.dataUri:void 0,P=k||T,L=t?(0,i.F9)(w,t):void 0,B=(0,p.A)(()=>{e&&!I?f():b({message:w("StoryNotFound")})}),{handleClick:R,handleMouseDown:D}=(0,m.Q)(B);return s.Ay.createElement(y.A,{ref:x,peerColor:t?.color,noUserColors:a,shouldReset:!0,className:(0,c.A)("EmbeddedMessage",P&&"with-thumb"),onClick:R,onMouseDown:D},P&&E(P,n),s.Ay.createElement("div",{className:"message-text with-message-color"},s.Ay.createElement("p",{className:"embedded-text-wrapper"},I&&s.Ay.createElement(g.A,{name:"story-expired",className:"embedded-origin-icon"}),N&&s.Ay.createElement(g.A,{name:"story-reply",className:"embedded-origin-icon"}),w(M)),s.Ay.createElement("div",{className:"message-title"},(0,d.A)(L||v))))};n()}catch(w){n(w)}})},40566:(e,t,a)=>{"use strict";a.d(t,{A:()=>n});const n={root:"LaOdPURl",backgroundWrapper:"zDnMa37m",background:"EdXfeKWY",stickerWrapper:"o_DYZEMV"}},40918:(e,t,a)=>{"use strict";a.a(e,async(e,n)=>{try{a.d(t,{A:()=>h});var s=a(84051),r=a(13439),o=a(76526),i=a(96140),c=a(77787),l=a(7971),d=a(59577),m=e([i,l]);[i,l]=m.then?(await m)():m;const u="\n  ä½ æ˜¯ä¸€ä¸ªä¸“ä¸šçš„æ•°æ®åˆ†æžå¸ˆ, æ ¹æ®æä¾›çš„æ¶ˆæ¯å†…å®¹è¿›è¡Œåˆ†æž, å¹¶è¿”å›žJSONæ ¼å¼æ•°æ®;\n  # æ ¼å¼è¦æ±‚\n    ## åŽ»é™¤æ‰€æœ‰æ¢è¡Œç¬¦,ç¡®ä¿ JSON ç»“æž„ç´§å‡‘\n    ## ä¸¥æ ¼éµä»ŽJSONè§„èŒƒ,ç¡®ä¿æ‰€æœ‰çš„JSONæ•°æ®æ­£ç¡®\n  # æ•°æ®å­—æ®µè§£æž\n    ## langs: æ ¹æ®æä¾›çš„å†…å®¹ï¼Œåˆ¤æ–­å‡ºç”¨çš„æ˜¯å“ªç§è¯­è¨€ï¼Œå¦‚Chinese, Englishç­‰; æœ€å¤šç»™å‡ºä¸¤ç§ï¼ŒæŒ‰ä½¿ç”¨é¢‘çŽ‡æŽ’åº\n    ## tags: æ ¹æ®æä¾›çš„å†…å®¹ï¼Œåˆ†æžå‡ºç”¨æˆ·çš„èŒä¸šæˆ–æ¶‰åŠçš„è¡Œä¸š, ç»™å‡ºæœ€å¤š5ä¸ªæ ‡ç­¾;\n  # è¿”å›žçš„JSONæ ¼å¼ç¤ºä¾‹\n    {\n      langs: ['Chinese', 'English'],\n      tags: ['Analytical Investor', 'DAO Governance'],\n    }\n",p="\n## è¾“å…¥å­—æ®µè§£é‡Š\n   - chatGroups: èŠå¤©ç»„\n    - chatId: ç¾¤èŠID\n    - messages: èŠå¤©è®°å½•\n     - content: æ¶ˆæ¯å†…å®¹\n   - time: æ—¥æœŸ\n   - timeRange: æ—¶é—´èŒƒå›´\n# è¾“å‡ºæ ¼å¼è¦æ±‚\n    ## åŽ»é™¤æ‰€æœ‰æ¢è¡Œç¬¦,ç¡®ä¿ JSON ç»“æž„ç´§å‡‘\n    ## ä¸¥æ ¼éµä»ŽJSONè§„èŒƒ,ç¡®ä¿æ‰€æœ‰çš„JSONæ•°æ®æ­£ç¡®\n## å„æ¨¡å—è¾“å‡ºè¦æ±‚\n  ## mainTopic(ä¸»è¦è¯é¢˜)\n  - ç›®æ ‡ï¼šæå–å„ç¾¤èŠçš„ä¸»è¦è¯é¢˜ã€å…³é”®æ•°æ®ã€æ—¶é—´èŠ‚ç‚¹ã€è§‚ç‚¹ä¸Žè¡ŒåŠ¨å»ºè®®ï¼Œå½¢æˆâ€œæ—¥æŠ¥é£Žæ ¼â€çš„ç»“æž„åŒ–æ‘˜è¦ã€‚\n    - titleï¼šè¯¥ç¾¤èŠæ¶ˆæ¯çš„ä¸»è¦è¯é¢˜ç®€è¿°ï¼Œéœ€ç®€æ´ã€æ˜Žç¡®ã€è´´è¿‘ç¾¤å†…è®¨è®ºæ ¸å¿ƒ\n    - contentï¼šåªæå–æœ‰å®žé™…ä»·å€¼çš„ä¿¡æ¯ï¼ŒåŒ…æ‹¬ä½†ä¸é™äºŽï¼š\n           - è¡Œæƒ…æ•°æ®ã€äº¤æ˜“è®°å½•ã€è´¨æŠ¼é‡‘é¢ã€åŒºå—ä¿¡æ¯ç­‰\n           - æ¶‰åŠæ•°å­—ã€ä»·æ ¼ã€ç½‘å€ã€æ—¶é—´ç­‰è¦ç´ çš„å†…å®¹\n           - ç”¨æˆ·çš„è§‚ç‚¹ã€ç»éªŒåˆ†äº«ã€æ“ä½œå»ºè®®ã€è¶‹åŠ¿åˆ¤æ–­ç­‰\n    - content å¿…é¡»å‰”é™¤ä¸‹åˆ—å†…å®¹ï¼š\n      - å•ç‹¬çš„çŸ­è¯­ã€é—®å€™ã€æ— æ„ä¹‰çš„è¡¨æƒ…æˆ–å•å­—å›žå¤ï¼ˆå¦‚â€œæ¥äº†â€â€œå“ˆâ€â€œå¥½â€ï¼‰\n      - æ— æ³•å•ç‹¬ä½“çŽ°ä»·å€¼çš„é—²èŠç¢Žç‰‡\n    - å¦‚æžœå¤šæ¡çŸ­å¥è¿žè´¯æž„æˆæœ‰ä»·å€¼çš„è§‚ç‚¹æˆ–è®¨è®ºï¼Œè¯·åˆå¹¶åŽä¿ç•™\n    - å¦‚æžœæŸä¸ªç¾¤èŠ**æ²¡æœ‰ä»»ä½•æœ‰ä»·å€¼çš„å†…å®¹**ï¼Œåˆ™**å®Œå…¨çœç•¥è¯¥ç¾¤èŠï¼Œä¸åœ¨è¾“å‡ºä¸­æ˜¾ç¤º**\n    - è¾“å‡ºæ ¼å¼åŠå­—æ®µè¯´æ˜Žï¼š\n      [\n        {\n          time: æ—¥æœŸ, // åŽŸæ ·è¿”å›ž\n          timeRange: 'æ—¶é—´èŒƒå›´', // åŽŸæ ·è¿”å›ž\n          chatGroups: [{\n            chatId: ç¾¤èŠID, // åŽŸæ ·è¿”å›ž\n            title: '8-15å­—æ ¸å¿ƒè®®é¢˜',\n            summaryItems: {       // è‡³å°‘1æ¡ï¼Œæœ€å¤š5æ¡\n              content: å­è¯é¢˜ï¼šæ•°æ®+è¡Œä¸º+å»ºè®®\"ç»“æž„'; å¦‚æ— æ€»ç»“å†…å®¹ï¼Œåˆ™ç›´æŽ¥è¿”å›žåŽŸä¿¡æ¯\n              relevantMessageIds: [æ¶ˆæ¯ID1, æ¶ˆæ¯ID2, ...], // åŽŸæ ·è¿”å›ž\n            }[]\n          }]\n        }\n      ]\n";function h({userId:e}){const[t,a]=(0,s.J0)(!1),[n,m]=(0,s.J0)([]),[h,A]=(0,s.J0)(void 0),[g,y]=(0,s.J0)(void 0),[f,v]=(0,s.J0)([]),[E,b]=(0,s.J0)([]),w=(0,s.hb)(async e=>{a(!0);const t=await(0,o.cZ)(e);m(t?.filter(e=>!(0,l.Ah)(e?.content))),a(!1)},[m]),x=(0,s.hb)(async e=>{const t=await(c.zs.userPortrait?.getUserPortrait(e));t?(A(t),y(t)):(A(void 0),y(void 0));const a=await(c.zs.userPortraitMessage?.searchMessageBySenderId(e));v(a)},[]),C=(0,s.hb)(()=>{if(0===n?.length)return;const t=Math.max(...n.map(e=>e.messageId));if((!h||!h?.lastMsgId||h&&h?.lastMsgId<t)&&e===n?.[0]?.senderId){const s=h?.lastMsgId??0,l=n.reduce((e,t)=>(e[t.chatId]=(e[t.chatId]||0)+1,e),{}),m=Object.entries(l).sort((e,t)=>t[1]-e[1]).map(e=>e[0]);(0,d.g4)({data:{messages:[{role:"system",content:u},{role:"user",content:n?.slice(0,100)?.map(e=>e.content).join(" ")}]},onResponse:a=>{const n=(0,i.CQ)(a),s={...h,id:e,lastMsgId:t,langs:n?.langs,tags:n?.tags,chatCount:Object.keys(l).length,chatIds:m};c.zs.userPortrait?.addUserPortrait(s),y(s)}});const A=(0,o.kU)(n.filter(e=>e.messageId>s));if(0===A.length)return;a(!0);const g=(0,r.mS)(),{autoTranslateLanguage:f="en"}=g.settings.byKey;(0,d.g4)({data:{messages:[{role:"system",content:p},{role:"system",content:`å“åº”å¿…é¡»å®Œå…¨ç”¨ä»¥ä¸‹ç›®æ ‡è¯­è¨€ç¼–å†™:${f},ä¸è¦ä½¿ç”¨å…¶ä»–è¯­è¨€ã€‚`},{role:"user",content:JSON.stringify(A)}]},onResponse:t=>{const n=(0,i.CQ)(t),s=[];n?.forEach(t=>{const a=A.find(e=>e?.timeRange===t?.timeRange&&e?.time===t?.time),n={id:`${e}-(${t?.time})-(${t?.timeRange})`,senderId:e,isSummary:!0,time:t?.time,timeRange:t?.timeRange,summaryTime:(new Date).getTime(),messageCount:a?.chatGroups?.reduce((e,t)=>e+((t?.messages||[])?.length??0),0)??0,chatGroups:t?.chatGroups?.map(e=>({chatId:e?.chatId,title:e?.title,summaryItems:e?.summaryItems}))};c.zs.userPortraitMessage?.addUserPortraitMessage(n),s.push(n)}),v(e=>[...e,...s]),a(!1)},onFinish:()=>{a(!1)}})}},[n,e,h]),N=(0,s.hb)(()=>{const e=[];g?.chatIds&&g?.chatIds?.length>0&&g?.chatIds?.slice(0,5).forEach(async t=>{const a=await(c.zs.aIChatFolders?.getAIChatFolder(t));e.push(a?.summary)}),b(e)},[g?.chatIds]);return(0,s.vJ)(()=>{C()},[n?.length,h?.lastMsgId,C]),(0,s.vJ)(()=>{N()},[N,g?.chatIds]),(0,s.vJ)(()=>{a(!1),m([]),v([]),y({}),b([]),x(e),w(e)},[e,w,x]),{userPortraitInfo:g,chatTags:E,portraitMessage:f,loading:t}}n()}catch(A){n(A)}})},41074:(e,t,a)=>{"use strict";a.d(t,{Ay:()=>i,M1:()=>c,bP:()=>r});var n=a(31481),s=a(5130);const r=Math.min(navigator.hardwareConcurrency||4,4);let o;function i(){return n.W75?[]:(o||(o=new Array(r).fill(void 0).map(()=>{const e=new Worker(new URL(a.p+a.u(9722),a.b));return{worker:e,connector:(0,s.U)(e,void 0,"media")}})),o)}function c(e,t){return i()[t].connector.request(e)}},41263:(e,t,a)=>{"use strict";a.a(e,async(e,n)=>{try{a.d(t,{A:()=>I});var s=a(84051),r=a(13439),o=a(66644),i=a(88458),c=a(60919),l=a(6096),d=a(53307),m=a(43336),u=a(71322),p=a(76023),h=a(37479),A=a(87094),g=a(82117),y=a(17712),f=a(93545),v=a(672),E=a(61157),b=a(38691),w=e([d]),x=w.then?(await w)():w;d=x[0];const C=1.25*p.$,N=300;function I(e,t,a,n,i,l,u,p,w){const x=(0,A.A)(t,void 0,!p),C=(0,h.A)(x,!0),I=(0,b.A)(),M=(0,s.li)(new Map),k=(0,y.A)(e=>{e.forEach(e=>{const t=M.current.get(e);t&&(t.destroy(),M.current.delete(e))})}),T=(0,y.A)(()=>{if(!(p&&t.current&&a.current&&n.current))return;const e=(0,r.mS)(),s=new Set(M.current.keys());Array.from(t.current.querySelectorAll(".custom-emoji")).forEach(t=>{if(!t.dataset.uniqueId)return;const r=`${l}${t.dataset.uniqueId}${x||""}`,o=t.dataset.documentId;s.delete(r);const p=(0,d.ZR)(o);if(!p)return;const h=a.current.getBoundingClientRect(),A=t.getBoundingClientRect(),g=(0,m.LI)((A.left-h.left)/h.width,4),y=(0,m.LI)((A.top-h.top)/h.height,4);if(M.current.has(r))return void M.current.get(r).updatePosition(g,y);const f=e.customEmojis.byId[o];if(!f)return;const v=f?.stickerSetInfo&&(0,c.CzR)(e,f.stickerSetInfo),E=[l,o,x,I].filter(Boolean).join("_");S({customEmoji:f,sharedCanvasRef:a,sharedCanvasHqRef:n,absoluteContainerRef:i,renderId:E,viewId:r,mediaUrl:p,isHq:v,position:{x:g,y},textColor:x,colorFilter:C}).then(e=>{u&&e.play(),M.current.set(r,e)})}),k(Array.from(s))});(0,s.vJ)(()=>(0,d.K3)(T),[T]),(0,s.vJ)(()=>{const e=M.current;return()=>{k(Array.from(e.keys()))}},[]),(0,s.vJ)(()=>{e()&&t.current&&a.current&&w&&p?(0,o.YS)(()=>{T()}):k(Array.from(M.current.keys()))},[e,T,t,k,a,w,p]),(0,s.Nf)(()=>{document.documentElement.style.setProperty("--input-custom-emoji-filter",C||"none")},[C]),(0,g.A)(([e])=>{void 0!==e&&x!==e&&T()},[x,T]);const P=(0,v.A)(T,[T],N,!1);(0,f.A)(a,P),(0,g.A)(([e])=>{I!==e&&(k(Array.from(M.current.keys())),T())},[I,T]);const L=(0,y.A)(()=>{M.current.forEach(e=>{e.pause()})}),B=(0,y.A)(()=>{u&&M.current?.forEach(e=>{e.play()})}),R=(0,y.A)(()=>{(0,o.YS)(B)});(0,E.Ay)(L,R)}async function S({customEmoji:e,sharedCanvasRef:t,sharedCanvasHqRef:a,absoluteContainerRef:n,renderId:s,viewId:r,mediaUrl:o,position:c,isHq:d,textColor:m,colorFilter:p}){if(e.isLottie){const n=e.shouldUseTextColor&&m?(0,u.E2)(m):void 0,l=(await(0,i.Y)()).init(o,d?a.current:t.current,s,{size:C,coords:c,isLowPriority:!d},r,n?[n.r,n.g,n.b]:void 0);return{play:()=>l.play(),pause:()=>l.pause(),destroy:()=>l.removeView(r),updatePosition:(e,t)=>l.setSharedCanvasCoords(r,{x:e,y:t})}}if(e.isVideo){const t=e.shouldUseTextColor&&p?`filter: ${p};`:void 0,a=new l.A(o,n.current,{size:C,position:c,style:t});return{play:()=>a.play(),pause:()=>a.pause(),destroy:()=>a.destroy(),updatePosition:(e,t)=>a.updatePosition({x:e,y:t})}}throw new Error("Unsupported custom emoji type")}n()}catch(M){n(M)}})},41316:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});var n=a(84051);function s(e){const[t,a]=(0,n.Ul)();return(0,n.vJ)(()=>{function t(){const t=window.getSelection();if(!t?.rangeCount)return;const n=t.getRangeAt(0);if(!n)return;if(!document.querySelector(e))return;const{commonAncestorContainer:s}=n;(s instanceof Element?s:s.parentElement).closest(e)&&a(n)}return document.addEventListener("selectionchange",t),()=>document.removeEventListener("selectionchange",t)},[e,a]),t}},42215:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});var n=a(84051),s=a(30857);function r(e,t){const a=(0,s.A)(),r=(0,n.li)(e),o=(0,n.li)(t),i=(0,n.hb)(e=>(o.current=r.current(o.current,e),a(),o.current),[]);return[o.current,i]}},42390:(e,t,a)=>{"use strict";a.d(t,{A:()=>o});var n=a(84051),s=a(80089),r=a(80464);const o=e=>{const{isOpen:t}=e,a=(0,r.A)(s.ar.Extra,"SymbolMenu",!t);return a?n.Ay.createElement(a,e):void 0}},42444:(e,t,a)=>{"use strict";a.a(e,async(e,n)=>{try{a.d(t,{A:()=>rt});var s=a(84051),r=a(13439),o=a(23174),i=a(31481),c=a(66644),l=a(90709),d=a(27109),m=a(70636),u=a(60919),p=a(64520),h=a(30708),A=a(96454),g=a(87357),y=a(17663),f=a(55148),v=a(46275),E=a(13753),b=a(53307),w=a(9716),x=a(36353),C=a(48775),N=a(79824),I=a(80539),S=a(39074),M=a(80140),k=a(43503),T=a(24021),P=a(67086),L=a(95547),B=a(5556),R=a(37524),D=a(55153),F=a(58734),O=a(11359),z=a(35049),U=a(4961),j=a(15384),V=a(32625),J=a(14737),H=a(10722),$=a(19129),K=a(82117),G=a(37661),_=a(41316),q=a(39351),W=a(17712),Z=a(59030),Y=a(29886),Q=a(73767),X=a(11186),ee=a(73172),te=a(50680),ae=a(41257),ne=a(35297),se=a(52253),re=a(46053),oe=a(98474),ie=a(3225),ce=a(75092),le=a(85287),de=a(25498),me=a(87610),ue=a(11779),pe=a(9442),he=a(20247),Ae=a(57773),ge=a(86507),ye=a(29758),fe=a(72531),ve=a(45325),Ee=a(71671),be=a(33108),we=a(22980),xe=a(39355),Ce=a(1237),Ne=a(33776),Ie=a(25897),Se=a(6070),Me=a(12643),ke=a(49068),Te=a(61876),Pe=a(24124),Le=a(62530),Be=a(57001),Re=a(89596),De=a(60173),Fe=a(49240),Oe=a(79028),ze=a(98512),Ue=a(31450),je=a(81879),Ve=a(64493),Je=a(66469),He=a(57474),$e=a(41036),Ke=a(4421),Ge=a(21849),_e=a(54746),qe=a(93053),We=a(11241),Ze=e([m,b,T,P,L,F,j,q,Z,X,se,oe,ie,ce,le,de,pe,ye,Ee,we,xe,Ne,Me,Le,Fe,ze,Ue,je,Ve,Je,Ke,Ge,qe,We]);[m,b,T,P,L,F,j,q,Z,X,se,oe,ie,ce,le,de,pe,ye,Ee,we,xe,Ne,Me,Le,Fe,ze,Ue,je,Ve,Je,Ke,Ge,qe,We]=Ze.then?(await Ze)():Ze;var Ye=function(e){return e.Send="send",e.Record="record",e.Edit="edit",e.Schedule="schedule",e.Forward="forward",e.SendOneTime="sendOneTime",e}(Ye||{});const Qe="wonderful-voice-message.ogg",Xe=600,et=100,tt=200,at=350,nt=430,st=({type:e,isOnActiveTab:t,dropAreaState:a,isInScheduledList:n,canScheduleUntilOnline:d,isReady:p,isMobile:h,editingMessage:w,chatId:Ze,threadId:st,storyId:rt,currentMessageList:ot,messageListType:it,draft:ct,chat:lt,chatFullInfo:dt,replyToTopic:mt,isForCurrentMessageList:ut,isCurrentUserPremium:pt,canSendVoiceByPrivacy:ht,isChatWithBot:At,isChatWithSelf:gt,isChannel:yt,fileSizeLimit:ft,isRightColumnShown:vt,isSelectModeActive:Et,isReactionPickerOpen:bt,shouldDisplayGiftsButton:wt,isForwarding:xt,isReplying:Ct,hasSuggestedPost:Nt,forwardedMessagesCount:It,pollModal:St,todoListModal:Mt,botKeyboardMessageId:kt,botKeyboardPlaceholder:Tt,inputPlaceholder:Pt,withScheduledButton:Lt,stickersForEmoji:Bt,customEmojiForEmoji:Rt,topInlineBotIds:Dt,currentUserId:Ft,currentUser:Ot,captionLimit:zt,contentToBeScheduled:Ut,shouldSuggestStickers:jt,shouldSuggestCustomEmoji:Vt,baseEmojiKeywords:Jt,emojiKeywords:Ht,recentEmojis:$t,inlineBots:Kt,isInlineBotLoading:Gt,botCommands:_t,sendAsPeer:qt,sendAsId:Wt,editingDraft:Zt,requestedDraft:Yt,requestedDraftFiles:Qt,botMenuButton:Xt,attachBots:ea,attachMenuPeerType:ta,attachmentSettings:aa,theme:na,slowMode:sa,shouldUpdateStickerSetOrder:ra,editableInputCssSelector:oa,editableInputId:ia,inputId:ca,className:la,availableReactions:da,topReactions:ma,canBuyPremium:ua,canPlayAnimatedEmojis:pa,shouldCollectDebugLogs:ha,sentStoryReaction:Aa,stealthMode:ga,canSendOneTimeMedia:ya,quickReplyMessages:fa,quickReplies:va,canSendQuickReplies:Ea,webPagePreview:ba,noWebPage:wa,isContactRequirePremium:xa,paidMessagesStars:Ca,effect:Na,effectReactions:Ia,areEffectsSupported:Sa,canPlayEffect:Ma,shouldPlayEffect:ka,maxMessageLength:Ta,isSilentPosting:Pa,isPaymentMessageConfirmDialogOpen:La,starsBalance:Ba,isStarsBalanceModalOpen:Ra,disallowedGifts:Da,isAccountFrozen:Fa,isAppConfigLoaded:Oa,insertingPeerIdMention:za,pollMaxAnswers:Ua,onDropHide:ja,onFocus:Va,onBlur:Ja,onForward:Ha})=>{const{sendMessage:$a,clearDraft:Ka,showDialog:Ga,openPollModal:_a,closePollModal:qa,openTodoListModal:Wa,closeTodoListModal:Za,loadScheduledHistory:Ya,openThread:Qa,addRecentEmoji:Xa,sendInlineBotResult:en,loadSendAs:tn,resetOpenChatWithDraft:an,callAttachBot:nn,addRecentCustomEmoji:sn,showNotification:rn,showAllowedMessageTypesNotification:on,openStoryReactionPicker:cn,openGiftModal:ln,closeReactionPicker:dn,sendStoryReaction:mn,editMessage:un,updateAttachmentSettings:pn,saveEffectInDraft:hn,setReactionEffect:An,hideEffectInComposer:gn,updateChatSilentPosting:yn,updateInsertingPeerIdMention:fn,updateDraftSuggestedPostInfo:vn}=(0,r.ko)(),En=(0,Z.A)(),bn=(0,q.A)(),wn=(0,s.li)(),xn=(0,s.li)(),Cn=(0,s.li)(),[Nn,In]=(0,s.Ul)(""),[Sn,Mn]=(0,s.J0)(!1),kn=(0,_.A)(oa),Tn=(0,s.li)(),Pn=(0,Q.A)(a),{width:Ln}=k.A.get(),Bn="messageList"===e,Rn="story"===e,Dn=Bn?lt?.sendAsPeerIds:void 0,Fn=Boolean(Dn?.length),[On,zn,Un]=(0,G.A)(),jn=(0,ee.A)(Ze,st),[Vn,Jn,Hn]=(0,G.A)(),[$n,Kn,Gn]=(0,G.A)(),[_n,qn]=(0,s.J0)(!1),Wn=w&&(0,l.ZV)(w),Zn=lt?.isMonoforum,{emojiSet:Yn,members:Qn,botCommands:Xn}=dt||{},es=Yn?.id,ts=!Ca&&!Zn,as=Aa&&(0,l.a0)(Aa,i.tNZ);(0,s.vJ)(b.VU,[Nn]);const ns=(0,s.li)(0),[ss,rs]=(0,X.A)(Bn&&d,Un);(0,J.A)(()=>{Mn(!0)},nt),(0,s.vJ)(()=>{Bn||dn()},[Bn,rt]),(0,s.vJ)(()=>{Tn.current=void 0},[Ze]),(0,s.vJ)(()=>{Oa&&Ze&&p&&!Rn&&!Zn&&Ya({chatId:Ze})},[p,Ze,st,Rn,Oa,Zn]),(0,s.vJ)(()=>{const e=yt&&lt?.areProfilesShown,t=lt&&(0,l.Vs)(lt)&&Boolean((0,l.gA)(lt)||lt.isLinkedInDiscussion||lt.hasGeo);!Dn&&p&&(t||e)&&tn({chatId:Ze})},[lt,Ze,yt,p,tn,Dn]);const os=(0,s.li)(!1);(0,ne.A)(([e,t])=>{os.current=Boolean(Ze===e&&Dn&&!t)},[Ze,Dn]);const[is,cs]=(0,s.J0)([]),ls=Boolean(is.length),[ds,ms]=(0,s.J0)(void 0),{canSendStickers:us,canSendGifs:ps,canAttachMedia:hs,canAttachPolls:As,canAttachEmbedLinks:gs,canAttachToDoLists:ys,canSendVoices:fs,canSendPlainText:vs,canSendAudios:Es,canSendVideos:bs,canSendPhotos:ws,canSendDocuments:xs}=(0,s.Kr)(()=>(0,l.Q_)(lt,dt,At,gt,Rn,Ca,n),[lt,dt,At,gt,Rn,Ca,n]),Cs=xa&&Rn,Ns=Cs||!vs,Is=(0,$.A)(()=>{if(ls)return is.length;const e=Nn()||ls?1:0;return xt&&It?It+e:e||1},[Nn,ls,is,xt,It]),Ss=Ca?Is*Ca:0,{closeConfirmDialog:Ms,dialogHandler:ks,shouldAutoApprove:Ts,setAutoApprove:Ps,handleWithConfirmation:Ls}=(0,he.A)(Ss,Ra,Ba),Bs=!ls&&gs&&!wa&&Boolean(ba),Rs=Ns&&!w;(0,s.vJ)(()=>{Bs||pn({isInvertedMedia:void 0})},[Bs]);const Ds=(0,W.A)((e,t=ia)=>{if(t===ia&&Rs)return;const a=window.getSelection();let n;if(n=t===ia?document.querySelector(oa):document.getElementById(t),a.rangeCount){const s=a.getRangeAt(0);if((0,O.L)(s,t))return(0,S.oR)(e),void n.dispatchEvent(new Event("input",{bubbles:!0}))}In(`${Nn()}${e}`),(0,c.Uz)(()=>{(0,x.A)(n)})}),Fs=(0,W.A)((e,t=ia)=>{const a=(0,U.A)(e,["escape_html","emoji_html","br_html"]).join("").replace(/\u200b+/g,"â€‹");Ds(a,t)}),Os=(0,W.A)((e,t=ia)=>{const a=(0,j.QY)(e);Ds(a,t)}),zs=(0,W.A)((e,t=ia)=>{Ds((0,F.hB)(e),t)}),Us=(0,W.A)(()=>{ds&&(Os(ds,ia),ms(void 0))}),{shouldForceCompression:js,shouldForceAsFile:Vs,handleAppendFiles:Js,handleFileSelect:Hs,onCaptionUpdate:$s,handleClearAttachments:Ks,handleSetAttachments:Gs}=(0,se.A)({attachments:is,setHtml:In,setAttachments:cs,fileSizeLimit:ft,chatId:Ze,canSendAudios:Es,canSendVideos:bs,canSendPhotos:ws,canSendDocuments:xs,insertNextText:Us,editedMessage:w,shouldSendInHighQuality:aa.shouldSendInHighQuality});(0,s.vJ)(()=>(globalThis.p__handleFileSelect=Hs,()=>{globalThis.p__handleFileSelect=void 0,delete globalThis.p__handleFileSelect}),[Hs]);const[_s,qs,Ws]=(0,G.A)(),[Zs,Ys,Qs]=(0,G.A)(),[Xs,er,tr]=(0,G.A)(),[ar,nr,sr]=(0,G.A)(),[rr,or,ir]=(0,G.A)(),{startRecordingVoice:cr,stopRecordingVoice:lr,pauseRecordingVoice:dr,activeVoiceRecording:mr,currentRecordTime:ur,recordButtonRef:pr,startRecordTimeRef:hr,isViewOnceEnabled:Ar,setIsViewOnceEnabled:gr,toogleViewOnceEnabled:yr}=(0,ge.A)(),fr=ut&&!Rn;(0,V.A)(()=>{jn({type:"recordAudio"})},fr?mr&&i.cqp:void 0),(0,s.vJ)(()=>{ut&&!Rn&&(mr||jn({type:"cancel"}))},[mr,ut,Rn,jn]);const vr=(0,ae.i)(Boolean(w)),Er=(0,W.A)(e=>{qn(e)}),br=(0,W.A)(e=>{qn(!1),In(e)});(0,s.vJ)(()=>{ut&&!Rn&&Nn()&&!vr.current&&jn({type:"typing"})},[Nn,vr,ut,Rn,jn]),(0,s.vJ)(()=>(fe.A.on("update-input-text",br),fe.A.on("update-input-spiner",Er),()=>{fe.A.off("update-input-text",br),fe.A.off("update-input-spiner",Er)}),[]);const wr=lt&&(0,l.SJ)(lt),{isEmojiTooltipOpen:xr,closeEmojiTooltip:Cr,filteredEmojis:Nr,filteredCustomEmojis:Ir,insertEmoji:Sr}=(0,de.A)(Boolean(p&&t&&(Rn||ut)&&jt&&!ls),Nn,In,void 0,$t,Jt,Ht),{isCustomEmojiTooltipOpen:Mr,closeCustomEmojiTooltip:kr,insertCustomEmoji:Tr}=(0,ie.A)(Boolean(p&&t&&(Rn||ut)&&Vt&&!ls),Nn,In,kn,wn,Rt),{isStickerTooltipOpen:Pr,closeStickerTooltip:Lr}=(0,Ae.A)(Boolean(p&&t&&(Rn||ut)&&jt&&us&&!ls),Nn,Bt),{isMentionTooltipOpen:Br,closeMentionTooltip:Rr,insertMention:Dr,mentionFilteredUsers:Fr}=(0,pe.A)(Boolean(Bn&&p&&ut&&!ls),Nn,In,kn,wn,Qn,Dt,Ft);(0,s.vJ)(()=>{if(!za)return;const e=(0,u.PVB)((0,r.mS)(),za);e&&Dr(e,!0,!0),fn({peerId:void 0})},[za,Dr]);const{isOpen:Or,botId:zr,isGallery:Ur,switchPm:jr,switchWebview:Vr,results:Jr,closeTooltip:Hr,help:$r,loadMore:Kr}=(0,me.A)(Boolean(Bn&&p&&ut&&!ls),Ze,Nn,Kt),Gr=Boolean(va&&Object.keys(va).length),{isOpen:_r,close:qr,filteredBotCommands:Wr,filteredQuickReplies:Zr}=(0,re.A)(Boolean(Bn&&p&&ut&&(_t&&_t?.length||Xn?.length||Gr&&Ea)),Nn,_t,Xn,Ea?va:void 0);(0,ce.A)({draft:ct,chatId:Ze,threadId:st,getHtml:Nn,setHtml:In,editedMessage:w,isDisabled:Rn||Boolean(Yt)||!Nt&&Zn}),(0,ue.A)({chatId:Ze,threadId:st,getHtml:Nn});const Yr=(0,W.A)((e=!1)=>{e||In(""),cs(N.p),ms(void 0),Cr(),kr(),Lr(),Rr(),h?setTimeout(()=>tr(),at):tr()}),[Qr,Xr,eo]=(0,le.A)(Nn,In,w,Yr,Ze,st,it,ct,Zt),to=(0,ae.i)(Yr),ao=(0,ae.i)(lr);(0,s.vJ)(()=>()=>{ao.current(),to.current()},[Ze,st,to,ao]);const no=(0,s.Kr)(()=>{if(Da)return Object.values(Da).every(Boolean)},[Da]),so=Boolean(!gt&&wt&&!no),ro=Zn&&!w&&!xt&&!Ct&&!ct?.suggestedPostInfo,oo=(0,W.A)(()=>{const e=ns.current;rn(e?{message:En("UnlockPremiumEmojiHint2"),action:{action:"openChat",payload:{id:Ft,shouldReplaceHistory:!0}},actionText:En("Open")}:{message:En("UnlockPremiumEmojiHint"),action:{action:"openPremiumModal",payload:{initialSection:"animated_emoji"}},actionText:En("PremiumMore")}),ns.current=Number(!e)}),io=(0,$.A)(()=>Vn||!Ha||Nn()&&!ls?w&&eo?Ye.Edit:!A.pW||mr||xt||Nn()&&!ls?n?Ye.Schedule:Ye.Send:Ye.Record:Ye.Forward,[mr,w,Nn,ls,xt,Vn,Ha,eo,n]),co=!n,{isContextMenuOpen:lo,handleContextMenu:mo,handleContextMenuClose:uo,handleContextMenuHide:po}=(0,H.A)(pr,!(io===Ye.Send&&co)),{contextMenuAnchor:ho,handleContextMenu:Ao,handleBeforeContextMenu:go,handleContextMenuHide:yo}=(0,H.A)(Cn,!Rn);(0,s.vJ)(()=>{bt||ho&&(cn({peerId:Ze,storyId:rt,position:ho}),yo())},[Ze,yo,bt,rt,ho]),(0,oe.A)(ut||Rn,Os,Gs,ms,w,!pt&&!gt,oo);const fo=(0,W.A)(()=>{w&&Xr()}),vo=(0,W.A)((e,t)=>{const a=t?zt:Ta;if(e?.length>a){const t=e.length-a;return Ga({data:{message:"MESSAGE_TOO_LONG_PLEASE_REMOVE_CHARACTERS",textParams:{"{EXTRA_CHARS_COUNT}":t.toString(),"{PLURAL_S}":t>1?"s":""},hasErrorKey:!0}}),!1}return!0}),Eo=(0,W.A)(()=>{if(sa&&!wr){const e=document.querySelector(oa),t=(0,M.Fm)(),a=Tn.current&&Math.floor(t-Tn.current),n=sa.nextSendDate&&sa.nextSendDate>t;if(a&&a<sa.seconds||n){const s=n?sa.nextSendDate-t:sa.seconds-a;return Ga({data:{message:En("SlowModeHint",(0,y.QO)(s)),isSlowMode:!0,hasErrorKey:!1}}),e?.blur(),!1}}return!0}),bo=e=>{if(!ot&&!rt)return!1;const{text:t}=(0,I.Ay)(Nn());return!(!t&&!e.length||!vo(t,!0)||!Eo())},wo=(0,W.A)(({attachments:e,sendCompressed:t=aa.shouldCompress,sendGrouped:a=aa.shouldSendGrouped,isSilent:n,scheduledAt:s,isInvertedMedia:r})=>{if(!ot&&!rt)return;n=n||Pa;const{text:o,entities:i}=(0,I.Ay)(Nn());r=o&&t&&a?r:void 0,w?un({messageList:ot,text:o,entities:i,attachments:(0,D.L)(e,t)}):$a({messageList:ot,text:o,entities:i,scheduledAt:s,isSilent:n,shouldUpdateStickerSetOrder:ra,attachments:(0,D.L)(e,t),shouldGroupMessages:a,isInvertedMedia:r}),Tn.current=(0,M.Fm)(),Ka({chatId:Ze,isLocalOnly:!0}),(0,c.YS)(()=>{Yr()})}),xo=(0,W.A)((e,t,a)=>{if(bo(is)){if(w)return void wo({attachments:is,sendCompressed:e,sendGrouped:t,isInvertedMedia:a});Ls(wo,{attachments:is,sendCompressed:e,sendGrouped:t,isInvertedMedia:a})}}),Co=(0,W.A)((e,t,a,n,s)=>{bo(is)&&wo({attachments:is,sendCompressed:e,sendGrouped:t,isSilent:a,scheduledAt:n,isInvertedMedia:s})}),No=(0,W.A)((e,t=!1,a)=>{const{text:n,entities:s}=(0,I.Ay)(Nn());if(e.length)return void(bo(e)&&wo({attachments:e,scheduledAt:a,isSilent:t}));if(!n&&!xt)return;if(!vo(n))return;const r=document.querySelector(oa),o=Na?.id;if(n||xt){if(!Eo())return;const e=Bs?aa.isInvertedMedia:void 0;Sa&&hn({chatId:Ze,threadId:st,effectId:void 0}),$a({messageList:ot,text:n,entities:s,scheduledAt:a,isSilent:t,shouldUpdateStickerSetOrder:ra,isInvertedMedia:e,effectId:o,webPageMediaSize:aa.webPageMediaSize,webPageUrl:Bs?ba.url:void 0,isForwarding:xt})}Tn.current=(0,M.Fm)(),Ka({chatId:Ze,threadId:st,isLocalOnly:!0,shouldKeepReply:xt}),A.pz&&r&&r===document.activeElement&&(0,R.A)(r),(0,c.YS)(()=>{Yr()})}),Io=(0,W.A)(async(e=!1,t)=>{if(!ot&&!rt)return;e=e||Pa;let a=is;if(mr){const e=await lr(),t=Ar?i.dxe:void 0;if(e){const{blob:n,duration:s,waveform:r}=e;a=[await(0,D.A)(Qe,n,{voice:{duration:s,waveform:r},ttlSeconds:t})]}}const{text:n}=(0,I.Ay)(Nn()),s=L.A.getRoomTranslateLanguage(Ze);if(s&&n){qn(!0);try{const e=await(0,T.px)("translateTextByTencent",{text:[{text:n}],toLanguageCode:s,userId:Ft,userName:(0,l.Yg)(Ot)});e&&e[0].text&&In(e[0].text)}catch(e){console.log(e)}qn(!1)}No(a,e,t),B.s.collectInformation(n)}),So=(0,W.A)((e=!1,t)=>{Ls(Io,e,t)}),Mo=(0,W.A)(()=>{pt?Wa({chatId:Ze}):rn({message:bn("SubscribeToTelegramPremiumForCreateToDo"),action:{action:"openPremiumModal",payload:{initialSection:"todo"}},actionText:bn("PremiumMore")})}),ko=(0,W.A)(()=>{if("webApp"!==Xt?.type)return;const e=(0,v.vG)(Xt.url);"publicUsernameOrBotLink"===e?.type&&e.appName?(0,f._)(Xt.url):nn({chatId:Ze,url:Xt.url,threadId:st})}),To=(0,W.A)(()=>{tr(),Ys()}),Po=(0,W.A)((e,t,a,n)=>{if(e&&"queryId"in e){const{id:a,queryId:n,isSilent:s}=e;return void en({id:a,chatId:Ze,threadId:st,queryId:n,scheduledAt:t,isSilent:s||Pa})}const{isSilent:s,...r}=e||{};if(e&&0!==Object.keys(r).length)if(void 0!==e.sendCompressed||void 0!==e.sendGrouped){const{sendCompressed:a=!1,sendGrouped:n=!1,isInvertedMedia:r}=e;Co(a,n,s,t,r)}else $a({...e,messageList:a,scheduledAt:t,effectId:n});else Io(Boolean(s),t)});(0,K.A)(([e])=>{ot&&Ut&&Ut!==e&&ss(e=>{Po(Ut,e,ot)})},[Ut,ot,Po,ss]),(0,s.vJ)(()=>{Yt&&(Os(Yt),an(),(0,c.Uz)(()=>{const e=document.getElementById(ia);(0,x.A)(e,!0)}))},[ia,Yt,an,In]),(0,s.vJ)(()=>{Qt?.length&&(Hs(Qt),an())},[Hs,Qt,an]);const Lo=(0,W.A)((e,t)=>{const a="id"in e.stickerSetInfo&&e.stickerSetInfo.id;e.isFree||pt||gt||a===es?zs(e,t):oo()}),Bo=(0,W.A)(e=>{Lo(e,i.e0F)}),Ro=(0,W.A)((e,t,a)=>{(ot||rt)&&(t=t||Pa,n||a?(zn(),ss(a=>{Un(),Ls(Po,{gif:e,isSilent:t},a,ot),(0,c.YS)(()=>{Yr(!0)})})):(Ls($a,{messageList:ot,gif:e,isSilent:t}),(0,c.YS)(()=>{Yr(!0)})))}),Do=(0,W.A)((e,t,a,s=!1,r)=>{(ot||rt)&&(t=t||Pa,e={...e,isPreloadedGlobally:!0},n||a?(zn(),ss(a=>{Un(),Ls(Po,{sticker:e,isSilent:t},a,ot),(0,c.YS)(()=>{Yr(s)})})):(Ls($a,{messageList:ot,sticker:e,isSilent:t,shouldUpdateStickerSetOrder:ra&&r}),Ka({chatId:Ze,threadId:st,isLocalOnly:!0}),(0,c.YS)(()=>{Yr(s)})))}),Fo=(0,W.A)((e,t,a)=>{if(!ot&&!rt)return;t=t||Pa,n||a?ss(a=>{Ls(Po,{id:e.id,queryId:e.queryId,isSilent:t},a,ot)}):Ls(en,{id:e.id,queryId:e.queryId,threadId:st,chatId:Ze,isSilent:t});const s=document.querySelector(oa);A.pz&&s&&s===document.activeElement&&(0,R.A)(s),Ka({chatId:Ze,isLocalOnly:!0}),(0,c.YS)(()=>{Yr()})}),Oo=(0,W.A)(()=>{Ka({chatId:Ze,isLocalOnly:!0}),(0,c.YS)(()=>{Yr()})}),zo=(0,W.A)(e=>{ot&&(n?(ss(t=>{Ls(Po,{poll:e},t,ot)}),qa()):(Ls($a,{messageList:ot,poll:e,isSilent:Pa}),qa()))}),Uo=(0,W.A)(e=>{ot&&(n?ss(t=>{Ls(Po,{todo:e},t,ot)}):Ls($a,{messageList:ot,todo:e,isSilent:Pa}))}),jo=(0,W.A)(e=>{if(n)ss(t=>{Po({...e,isSilent:!0},t,ot)});else if(e&&("sendCompressed"in e||"sendGrouped"in e)){const{sendCompressed:t=!1,sendGrouped:a=!1,isInvertedMedia:n}=e;Co(t,a,!0,void 0,n)}else Io(!0)}),Vo=(0,W.A)(()=>{const e=document.querySelector(oa);if(!h||e!==document.activeElement)return Qs(),tr(),void nr();e?.blur(),setTimeout(()=>{Qs(),tr(),nr()},et)});(0,s.vJ)(()=>{Rs&&In("")},[Rs,In,is]);const Jo=(0,W.A)(e=>{Fs(e,i.e0F)}),Ho=(0,W.A)((e=ia)=>{const t=window.getSelection();if(t.rangeCount){const a=t.getRangeAt(0);if((0,O.L)(a,e))return void document.execCommand("delete",!1)}In((0,E.A)(Nn()))}),$o=(0,W.A)(()=>{Ho(i.e0F)}),Ko=(0,W.A)(()=>{Qa({chatId:Ze,threadId:st,type:"scheduled",noForumTopicPanel:!0})}),Go=(0,W.A)(()=>{ln({forUserId:Ze})}),_o=(0,W.A)(()=>{vn({price:{currency:i.OUy,amount:0,nanos:0}})}),qo=(0,W.A)(()=>{const e=!Pa;yn({chatId:Ze,isEnabled:e}),rn({localId:"silentPosting",icon:e?"mute":"unmute",message:bn(`ComposerSilentPosting${e?"Enabled":"Disabled"}Tootlip`)})});(0,s.vJ)(()=>{vt&&h&&tr()},[vt,tr,h]),(0,s.vJ)(()=>{p&&(Et?or():setTimeout(()=>{ir()},tt))},[Et,ir,or,p]);const Wo=(0,$.A)(()=>Boolean(Nn()),[Nn]),Zo=At&&"webApp"===Xt?.type&&!w&&"thread"===it,Yo=Zo&&!Wo&&!mr,[Qo,Xo]=(0,s.Kr)(()=>sa?.nextSendDate?["SlowModeWait",sa.nextSendDate]:ga?.activeUntil&&Rn?["StealthModeActiveHint",ga.activeUntil]:[],[Rn,sa?.nextSendDate,ga?.activeUntil]),ei=_s||Xs||xr||ar||Br||Or||Zs||$n||Pr||_r||Mr||Yo||lo||Boolean(mr)||is.length>0||Vn,ti=ei&&!bt&&Rn&&!$n&&!Xs,ai=(0,s.Kr)(()=>mr&&Ln<=Xe?"":Rs?bn(Rn?"ComposerStoryPlaceholderLocked":"ComposerPlaceholderNoText"):Tt||Pt||(Ca?bn("ComposerPlaceholderPaidMessage",{amount:(0,C.U2)(bn,Ca,{asFont:!0,className:"placeholder-star-icon"})},{withNodes:!0}):Ct&&Nt?bn("ComposerPlaceholderCaption"):lt?.adminRights?.anonymous?bn("ComposerPlaceholderAnonymous"):lt?.isForum&&lt?.isForumAsMessages&&st===o.l3?mt?bn("ComposerPlaceholderTopic",{topic:mt.title}):bn("ComposerPlaceholderTopicGeneral"):bn(yt?Pa?"ComposerPlaceholderBroadcastSilent":"ComposerPlaceholderBroadcast":"ComposerPlaceholder")),[mr,Tt,lt,Pt,yt,Rs,Rn,Pa,bn,mt,Ct,st,Ln,Ca,Nt]);(0,s.vJ)(()=>{ei?Va?.():Ja?.()},[ei,Ja,Va]);const{shouldRender:ni,transitionClassNames:si}=(0,te.A)(ti),ri=!(io!==Ye.Record||hs&&ht&&fs),oi=(0,W.A)(()=>{switch(io){case Ye.Forward:Ha?.();break;case Ye.Send:So();break;case Ye.Record:ri?ht?fs||on({chatId:Ze,messageListType:it}):rn({message:En("VoiceMessagesRestrictedByPrivacy",lt?.title)}):(gr(!1),cr());break;case Ye.Edit:Qr();break;case Ye.Schedule:if(mr&&dr(),!ot)return;ss(e=>{Po({},e,ot,Na?.id)})}}),ii=new Date;ii.setSeconds(0),ii.setMilliseconds(0);const ci=new Date;ci.setFullYear(ci.getFullYear()+1);let li="SendMessage";switch(io){case Ye.Forward:li="Forward";break;case Ye.Edit:li="Save edited message";break;case Ye.Record:li=hs?"AccDescrVoiceMessage":"Conversation.DefaultRestrictedMedia"}const di=(0,g.A)("Composer",!Et&&"shown",rr&&"hover-disabled",Sn&&"mounted",la),mi=(0,W.A)(e=>{let t,a;if("emoji"===e.type&&(t=e.emoticon),"custom"===e.type){const n=(0,r.mS)().customEmojis.byId[e.documentId];if(!n)return;if(!n.isFree&&!pt&&!gt)return void oo();const s=(0,I.Ay)((0,F.hB)(n));t=s.text,a=s.entities}Ls($a,{text:t,entities:a,isReaction:!0}),dn()}),ui=(0,W.A)(e=>{An({chatId:Ze,threadId:st,reaction:e}),dn()}),pi=(0,W.A)(e=>{cn({peerId:Ze,storyId:rt,position:e,sendAsMessage:!0})}),hi=(0,W.A)(()=>{const e=Aa?void 0:i.tNZ;mn({peerId:Ze,storyId:rt,containerId:(0,l.$_)(Ze,rt),reaction:e})}),Ai=(0,W.A)(()=>{ss(e=>{Po({},e,ot)})}),gi=(0,W.A)(()=>{Ls(jo)}),yi=(0,W.A)(()=>{Ls(Po,{},i.NkL,ot,Na?.id)}),fi=(0,W.A)((e,t,a)=>{ss(n=>{Ls(Po,{sendCompressed:e,sendGrouped:t,isInvertedMedia:a},n,ot)})}),vi=(0,W.A)((e,t,a)=>{Ls(jo,{sendCompressed:e,sendGrouped:t,isInvertedMedia:a})}),Ei=(0,W.A)(()=>{hn({chatId:Ze,threadId:st,effectId:void 0})}),bi=(0,W.A)(()=>{gn({})}),wi=(0,s.Kr)(()=>{switch(io){case Ye.Edit:return Qr;case Ye.Schedule:return Ai;default:return So}},[io,Qr,So]),xi=At&&"commands"===Xt?.type&&!w&&!1!==_t&&!mr,Ci=Sa&&Na?.emoticon,Ni=Boolean(Ca&&io===Ye.Send),Ii=(0,Y.A)(Ni);return s.Ay.createElement("div",{className:di},Bn&&hs&&p&&s.Ay.createElement(Me.A,{isOpen:a!==Me.I.None,withQuick:a===Me.I.QuickFile||Pn===Me.I.QuickFile,onHide:ja,onFileSelect:Hs,editingMessage:w}),ni&&!Cs&&s.Ay.createElement(je.A,{topReactions:ma,allAvailableReactions:da,onToggleReaction:mi,isPrivate:!0,isReady:p,canBuyPremium:ua,isCurrentUserPremium:pt,isInSavedMessages:gt,isInStoryViewer:Rn,canPlayAnimatedEmojis:pa,onShowMore:pi,className:si}),s.Ay.createElement(ve.A,{chatId:Ze,threadId:st,canShowCustomSendMenu:co,attachments:is,getHtml:Nn,isReady:p,shouldForceCompression:js,shouldForceAsFile:Vs,isForCurrentMessageList:ut,isForMessage:Bn,shouldSchedule:ts&&n,canSchedule:ts,forceDarkTheme:Rn,onCaptionUpdate:$s,onSendSilent:vi,onSend:xo,onSendScheduled:fi,onFileAppend:Js,onClear:Ks,onAttachmentsUpdate:Gs,onCustomEmojiSelect:Bo,onRemoveSymbol:$o,onEmojiSelect:Jo,editingMessage:w,onSendWhenOnline:yi,canScheduleUntilOnline:d&&!Ar,paidMessagesStars:Ca}),s.Ay.createElement(Be.A,{isOpen:St.isOpen,isQuiz:St.isQuiz,shouldBeAnonymous:yt,maxOptionsCount:Ua,onClear:qa,onSend:zo}),s.Ay.createElement(Oe.A,{modal:Mt,onClear:Za,onSend:Uo}),s.Ay.createElement(Re.A,{isOpen:ar,onClose:sr,chatId:Ze,selectedSendAsId:Wt,sendAsPeerIds:Dn,isCurrentUserPremium:pt}),s.Ay.createElement(Pe.A,{isOpen:Br,filteredUsers:Fr,onInsertUserName:Dr,onClose:Rr}),s.Ay.createElement(Ce.A,{isOpen:_r,chatId:Ze,withUsername:Boolean(Xn),botCommands:Wr,quickReplies:Zr,getHtml:Nn,self:Ot,quickReplyMessages:fa,onClick:Oo,onClose:qr}),s.Ay.createElement("div",{className:(0,g.A)("composer-wrapper",Rn&&"with-story-tweaks",Cs&&"is-need-premium")},!Cs&&s.Ay.createElement("svg",{className:"svg-appendix",width:"9",height:"20"},s.Ay.createElement("defs",null,s.Ay.createElement("filter",{x:"-50%",y:"-14.7%",width:"200%",height:"141.2%",filterUnits:"objectBoundingBox",id:"composerAppendix"},s.Ay.createElement("feOffset",{dy:"1",in:"SourceAlpha",result:"shadowOffsetOuter1"}),s.Ay.createElement("feGaussianBlur",{stdDeviation:"1",in:"shadowOffsetOuter1",result:"shadowBlurOuter1"}),s.Ay.createElement("feColorMatrix",{values:"0 0 0 0 0.0621962482 0 0 0 0 0.138574144 0 0 0 0 0.185037364 0 0 0 0.15 0",in:"shadowBlurOuter1"}))),s.Ay.createElement("g",{fill:"none","fill-rule":"evenodd"},s.Ay.createElement("path",{d:"M6 17H0V0c.193 2.84.876 5.767 2.05 8.782.904 2.325 2.446 4.485 4.625 6.48A1 1 0 016 17z",fill:"#000",filter:"url(#composerAppendix)"}),s.Ay.createElement("path",{d:"M6 17H0V0c.193 2.84.876 5.767 2.05 8.782.904 2.325 2.446 4.485 4.625 6.48A1 1 0 016 17z",fill:"#FFF",className:"corner"}))),Bn&&s.Ay.createElement(s.Ay.Fragment,null,s.Ay.createElement(Te.A,{isOpen:Or,botId:zr,isGallery:Ur,inlineBotResults:Jr,switchPm:jr,switchWebview:Vr,loadMore:Kr,isSavedMessages:gt,canSendGifs:ps,isCurrentUserPremium:pt,onSelectResult:Fo,onClose:Hr}),s.Ay.createElement(Ne.A,{onClear:fo,shouldForceShowEditing:Boolean(eo&&w),chatId:Ze,threadId:st,messageListType:it}),s.Ay.createElement(ze.A,{chatId:Ze,threadId:st,isDisabled:!gs||ls||!Wo,isEditing:Boolean(w)})),s.Ay.createElement("div",{className:(0,g.A)("message-input-wrapper",(0,z.y)(Ot))},Bn&&s.Ay.createElement(s.Ay.Fragment,null,Zo&&s.Ay.createElement(xe.A,{isOpen:Yo,text:Xt.text,isDisabled:Boolean(mr),onClick:ko}),xi&&s.Ay.createElement(Je.A,{className:(0,g.A)("bot-commands","composer-action-button"),round:!0,disabled:void 0===_t,color:"translucent",onActivate:To,ariaLabel:"Open bot command keyboard"},s.Ay.createElement(_e.A,{name:"bot-commands-filled"})),Fn&&qt&&s.Ay.createElement(Ve.A,{round:!0,color:"translucent",onClick:ar?sr:Vo,ariaLabel:En("SendMessageAsTitle"),className:(0,g.A)("send-as-button","composer-action-button",os.current&&"appear-animation")},s.Ay.createElement(Ge.A,{peer:qt,size:"tiny"}))),(!Rs||ps||us)&&!Cs&&!Fa&&s.Ay.createElement(Fe.A,{chatId:Ze,threadId:st,isMobile:h,isReady:p,isSymbolMenuOpen:Xs,openSymbolMenu:er,closeSymbolMenu:tr,canSendStickers:us,canSendGifs:ps,isMessageComposer:Bn,onGifSelect:Ro,onStickerSelect:Do,onCustomEmojiSelect:Lo,onRemoveSymbol:Ho,onEmojiSelect:Fs,closeBotCommandMenu:Qs,closeSendAsMenu:sr,isSymbolMenuForced:On,canSendPlainText:!Rs,inputCssSelector:oa,idPrefix:e,forceDarkTheme:Rn}),s.Ay.createElement(Le.A,{ref:wn,id:ca,editableInputId:ia,customEmojiPrefix:e,isStoryInput:Rn,chatId:Ze,canSendPlainText:!Rs,threadId:st,isReady:p,isActive:!ls,getHtml:Nn,placeholder:ai,timedPlaceholderDate:Xo,timedPlaceholderLangKey:Qo,forcedPlaceholder:$r,canAutoFocus:p&&ut&&!ls&&Bn,noFocusInterception:ls,shouldSuppressFocus:h&&Xs,shouldSuppressTextFormatter:xr||Br||Or,onUpdate:In,onSend:wi,onSuppressedFocus:tr,onFocus:Jn,onBlur:Hn,isNeedPremium:Cs,messageListType:it}),Bn&&s.Ay.createElement(s.Ay.Fragment,null,(Gt&&Boolean(zr)||_n)&&s.Ay.createElement(He.A,{color:"gray",className:"flex-shrink-0"}),s.Ay.createElement($e.Ay,{className:"composer-action-buttons-container",slideClassName:"composer-action-buttons",activeKey:Number(Wo),direction:"inverse",name:"slideFadeAndroid"},!Wo&&s.Ay.createElement(s.Ay.Fragment,null,yt&&s.Ay.createElement($e.Ay,{className:"composer-action-button",name:"reveal",activeKey:Number(Pa)},s.Ay.createElement(Ve.A,{round:!0,faded:!0,className:"composer-action-button",color:"translucent",onClick:qo,ariaLabel:bn(Pa?"AriaComposerSilentPostingDisable":"AriaComposerSilentPostingEnable")},s.Ay.createElement(_e.A,{name:Pa?"mute":"unmute"}))),Lt&&s.Ay.createElement(Ve.A,{round:!0,faded:!0,className:"composer-action-button scheduled-button",color:"translucent",onClick:Ko,ariaLabel:bn("AriaComposerOpenScheduled")},s.Ay.createElement(_e.A,{name:"schedule"})),so&&s.Ay.createElement(Ve.A,{round:!0,faded:!0,className:"composer-action-button",color:"translucent",onClick:Go},s.Ay.createElement(_e.A,{name:"gift"})),ro&&s.Ay.createElement(Ve.A,{round:!0,faded:!0,className:"composer-action-button",color:"translucent",onClick:_o},s.Ay.createElement(_e.A,{name:"cash-circle"})),Boolean(kt)&&!mr&&!w&&s.Ay.createElement(Je.A,{className:(0,g.A)("composer-action-button",_s&&"activated"),round:!0,color:"translucent",onActivate:qs,ariaLabel:bn("AriaComposerBotKeyboard")},s.Ay.createElement(_e.A,{name:"bot-command"}))))),mr&&Boolean(ur)&&s.Ay.createElement("span",{className:"recording-state"},(0,y.JW)(ur-hr.current)),s.Ay.createElement(ye.A,{getHtml:Nn,setHtml:In}),s.Ay.createElement(P.A,{chatId:Ze}),!Cs&&s.Ay.createElement(Ee.A,{chatId:Ze,threadId:st,editingMessage:w,canEditMedia:Wn,isButtonVisible:!mr,canAttachMedia:hs,canAttachPolls:As,canAttachToDoLists:ys,canSendPhotos:ws,canSendVideos:bs,canSendDocuments:xs,canSendAudios:Es,onFileSelect:Hs,onPollCreate:_a,onTodoListCreate:Mo,isScheduled:n,attachBots:Bn?ea:void 0,peerType:ta,shouldCollectDebugLogs:ha,theme:na,onMenuOpen:Kn,onMenuClose:Gn,messageListType:it,paidMessagesStars:Ca}),Bn&&Boolean(kt)&&s.Ay.createElement(we.A,{messageId:kt,isOpen:_s,onClose:Ws}),Bn&&_t&&s.Ay.createElement(be.A,{isOpen:Zs,botCommands:_t,onClose:Qs}),s.Ay.createElement(Ie.A,{key:`custom-emoji-tooltip-${ia}`,chatId:Ze,isOpen:Mr,onCustomEmojiSelect:Tr,addRecentCustomEmoji:sn,onClose:kr}),s.Ay.createElement(De.A,{key:`sticker-tooltip-${ia}`,chatId:Ze,threadId:st,isOpen:Pr,onStickerSelect:Do,onClose:Lr}),s.Ay.createElement(ke.A,{key:`emoji-tooltip-${ia}`,isOpen:xr,emojis:Nr,customEmojis:Ir,addRecentEmoji:Xa,addRecentCustomEmoji:sn,onEmojiSelect:Sr,onCustomEmojiSelect:Sr,onClose:Cr}))),ya&&mr&&s.Ay.createElement(Ve.A,{className:(0,g.A)("view-once",Ar&&"active"),round:!0,color:"secondary",ariaLabel:En("Chat.PlayOnceVoiceMessageTooltip"),onClick:yr},s.Ay.createElement(_e.A,{name:"view-once"}),s.Ay.createElement(_e.A,{name:"one-filled"})),mr&&s.Ay.createElement(Ve.A,{round:!0,color:"danger",className:"cancel",onClick:lr,ariaLabel:"Cancel voice recording"},s.Ay.createElement(_e.A,{name:"delete"})),Rn&&!mr&&s.Ay.createElement(Ve.A,{round:!0,className:"story-reaction-button",color:"secondary",onClick:hi,onContextMenu:Ao,onMouseDown:go,ariaLabel:En("AccDescrLike"),ref:Cn},Aa&&s.Ay.createElement(We.A,{key:(0,l.Jj)(Aa),containerId:(0,l.$_)(Ze,rt),reaction:Aa,withEffectOnly:as}),(!Aa||as)&&s.Ay.createElement(_e.A,{name:"heart",className:(0,g.A)(as&&"story-reaction-heart")})),s.Ay.createElement(Ve.A,{ref:pr,round:!0,color:"secondary",className:(0,g.A)(io,"main-button",!p&&"not-ready",mr&&"recording"),disabled:ri,allowDisabledClick:!0,noFastClick:!0,ariaLabel:En(li),onClick:oi,onContextMenu:io===Ye.Send&&co?mo:void 0},s.Ay.createElement(_e.A,{name:"send"}),s.Ay.createElement(_e.A,{name:"microphone-alt"}),Ha&&s.Ay.createElement(_e.A,{name:"forward"}),Bn&&s.Ay.createElement(_e.A,{name:"schedule"}),Bn&&s.Ay.createElement(_e.A,{name:"check"}),s.Ay.createElement(Ve.A,{className:(0,g.A)("paidStarsBadge",Ni&&"visible",Ii&&!Ni&&"hiding",!Ii&&!Ni&&"hidden"),nonInteractive:!0,size:"tiny",color:"stars",pill:!0,fluid:!0},s.Ay.createElement("div",{className:"paidStarsBadgeText"},s.Ay.createElement(_e.A,{name:"star",className:(0,g.A)("star-amount-icon",la)}),s.Ay.createElement(Ke.A,{ref:xn,text:bn.number(Ss)})))),Ci&&s.Ay.createElement("span",{className:"effect-icon",onClick:Ei},(0,U.A)(Ci)),Na&&Ma&&s.Ay.createElement(Ue.A,{shouldPlay:ka,effect:Na,onStop:bi}),co&&s.Ay.createElement(Se.A,{isOpen:lo,canSchedule:ts&&Bn&&!Ar,canScheduleUntilOnline:d&&!Ar,onSendSilent:gt?void 0:gi,onSendSchedule:n?void 0:Ai,onSendWhenOnline:yi,onRemoveEffect:Ei,onClose:uo,onCloseAnimationEnd:po,isSavedMessages:gt,chatId:Ze,withEffects:Sa,hasCurrentEffect:Boolean(Na),effectReactions:Ia,allAvailableReactions:da,onToggleReaction:ui,isCurrentUserPremium:pt,isInSavedMessages:gt,isInStoryViewer:Rn,canPlayAnimatedEmojis:pa}),rs,s.Ay.createElement(qe.A,{isOpen:La,onClose:Ms,userName:lt?(0,m.F9)(bn,lt):void 0,messagePriceInStars:Ca||0,messagesCount:Is,shouldAutoApprove:Ts,setAutoApprove:Ps,confirmHandler:ks}))},rt=(0,s.ph)((0,r.EK)((e,{chatId:t,threadId:a,storyId:n,messageListType:s,isMobile:r,type:c})=>{const m=e.appConfig,A=(0,u.hds)(e,t),g=(0,l.DX)(t)?void 0:(0,u.yps)(e,t),y=Boolean(g),f=(0,u.nZ4)(e,t),v=(0,w.L8)(t),E=v?(0,u.vGo)(e,t):void 0,b=(0,u.WA9)(e,t),x=v?void 0:(0,u.AWZ)(e,t),C=(y||!v)&&(0,u.tVS)(e,t,a),{shouldSuggestStickers:N,shouldSuggestCustomEmoji:I,shouldUpdateStickerSetOrder:S,shouldPaidMessageAutoApprove:M}=e.settings.byKey,{language:k,shouldCollectDebugLogs:T}=(0,h.l)(e),{forwardMessages:{messageIds:P}}=(0,u.nTw)(e),L=e.emojiKeywords[i.cUY],B=k!==i.cUY?e.emojiKeywords[k]:void 0,R=C?C.id:void 0,D=R?(0,u.O5q)(e,t,R):void 0,{currentUserId:F}=e,O=(0,u.mBe)(e,F),z=x?x?.sendAsId||F:void 0,U=z?(0,u.PVB)(e,z):void 0,j=(0,u.sam)(e,t),V=(0,u.p6T)(e,t),J=(0,u.nTw)(e),H=Boolean(J.storyViewer.storyId),$=(0,u.Xf0)(e),K=t===$?.chatId&&a===$?.threadId&&s===$?.type&&!H,G=((0,u.mBe)(e,t)&&!E?.noVoiceMessages)??!0,_=x?.slowMode,q=(0,u.g29)(e),W="scheduled"===s?(0,u.dkp)(e,t):(0,u.U0A)(e,t,a),Z=n&&(0,u.Msb)(e,t,n),Y=Z&&"sentReaction"in Z?Z.sentReaction:void 0,Q=(0,u.GA4)(e,t,a),X=Q?.replyInfo?(0,u.O5q)(e,t,Q.replyInfo.replyToMsgId):void 0,ee=A?.isForum&&A.isForumAsMessages&&a===o.l3&&X?(0,u.nkm)(e,X):void 0,te="scheduled"===s,ae=v&&!y&&!te&&!f,ne=(0,u.rQx)(e,t,a),se=A&&(0,d.RY)(A,(0,u.K52)(e),(0,u.P5N)(e,t))?.isSilentPosting,re=v&&!y&&!te&&!f&&"story"!==c&&t!==i.zv8,oe=(0,u.xYJ)(e,"stickerEffects"),ie=J.shouldPlayEffectInComposer,ce=re&&Q?.effectId,le=ce?e.availableEffectById[ce]:void 0,de=e.reactions.effectReactions,me=e.config?.maxMessageLength||i.YfK,ue=t===J.forwardMessages.toChatId,pe=Boolean(Q?.replyInfo),he=Boolean(Q?.suggestedPostInfo),Ae=e.stars?.balance.amount||0,ge=Boolean(J.starsBalanceModal),ye=(0,u.trm)(e),fe=e.isAppConfigLoaded,ve=J.insertingPeerIdMention,Ee=J.webPagePreviewId?(0,u.kgA)(e,J.webPagePreviewId):void 0;return{availableReactions:e.reactions.availableReactions,topReactions:"story"===c?e.reactions.topReactions:void 0,isOnActiveTab:!J.isBlurred,editingMessage:(0,u.KLw)(e,t,a,s),draft:Q,chat:A,isChatWithBot:y,isChatWithSelf:f,isForCurrentMessageList:K,canScheduleUntilOnline:(0,u.RBq)(e,t),isChannel:A?(0,l.WX)(A):void 0,isRightColumnShown:(0,u.gjV)(e,r),isSelectModeActive:(0,u.rTV)(e),withScheduledButton:"thread"===s&&(E||x)?.hasScheduledMessages,isInScheduledList:te,botKeyboardMessageId:R,botKeyboardPlaceholder:D?.keyboardPlaceholder,isForwarding:ue,isReplying:pe,hasSuggestedPost:he,forwardedMessagesCount:ue?P.length:void 0,pollModal:J.pollModal,todoListModal:J.todoListModal,stickersForEmoji:e.stickers.forEmoji.stickers,customEmojiForEmoji:e.customEmojis.forEmoji.stickers,chatFullInfo:x,topInlineBotIds:e.topInlineBots?.userIds,currentUserId:F,currentUser:O,contentToBeScheduled:J.contentToBeScheduled,shouldSuggestStickers:N,shouldSuggestCustomEmoji:I,shouldUpdateStickerSetOrder:S,recentEmojis:e.recentEmojis,baseEmojiKeywords:L?.keywords,emojiKeywords:B?.keywords,inlineBots:J.inlineBots.byUsername,isInlineBotLoading:J.inlineBots.isLoading,botCommands:E?E.botInfo?.commands||!1:void 0,botMenuButton:E?.botInfo?.menuButton,sendAsPeer:U,sendAsId:z,editingDraft:W,requestedDraft:j,requestedDraftFiles:V,attachBots:e.attachMenu.bots,attachMenuPeerType:(0,u.dfQ)(e,t),theme:(0,u.SJA)(e),fileSizeLimit:(0,p.d)(e,"uploadMaxFileparts")*i.dK5,captionLimit:(0,p.d)(e,"captionLength"),isCurrentUserPremium:q,canSendVoiceByPrivacy:G,attachmentSettings:e.attachmentSettings,slowMode:_,currentMessageList:$,isReactionPickerOpen:(0,u.Ani)(e),canBuyPremium:!q&&!(0,u.n_C)(e),canPlayAnimatedEmojis:(0,u.BWX)(e),canSendOneTimeMedia:!f&&v&&!y&&!te,shouldCollectDebugLogs:T,sentStoryReaction:Y,stealthMode:e.stories.stealthMode,replyToTopic:ee,quickReplyMessages:e.quickReplies.messagesById,quickReplies:e.quickReplies.byId,canSendQuickReplies:ae,noWebPage:ne,webPagePreview:Ee,isContactRequirePremium:E?.isContactRequirePremium,effect:le,effectReactions:de,areEffectsSupported:re,canPlayEffect:oe,shouldPlayEffect:ie,maxMessageLength:me,paidMessagesStars:b,shouldPaidMessageAutoApprove:M,isSilentPosting:se,isPaymentMessageConfirmDialogOpen:J.isPaymentMessageConfirmDialogOpen,starsBalance:Ae,isStarsBalanceModalOpen:ge,shouldDisplayGiftsButton:E?.shouldDisplayGiftsButton,disallowedGifts:E?.disallowedGifts,isAccountFrozen:ye,isAppConfigLoaded:fe,insertingPeerIdMention:ve,pollMaxAnswers:m?.pollMaxAnswers}})(st));n()}catch(e){n(e)}})},42479:(e,t,a)=>{"use strict";a.a(e,async(e,n)=>{try{a.d(t,{A:()=>y});var s=a(84051),r=a(87357),o=a(90603),i=a(76023),c=a(4961),l=a(59030),d=a(54746),m=a(38102),u=a(88785),p=a(61911),h=e([l,m]);[l,m]=h.then?(await h)():h;const A=1.125*i.$,g=({topic:e,className:t,onClick:a})=>{const n=(0,l.A)();return s.Ay.createElement("div",{className:(0,r.A)(u.A.root,t),style:`--topic-button-accent-color: var(${(0,o.Mt)(e?.iconColor)})`,onClick:a},e?s.Ay.createElement(m.A,{topic:e,size:A}):s.Ay.createElement("img",{src:p,alt:"",draggable:!1}),e?.title?(0,c.A)(e.title):n("Loading"),e?.isClosed&&s.Ay.createElement(d.A,{name:"lock"}),s.Ay.createElement(d.A,{name:"next"}))},y=(0,s.ph)(g);n()}catch(e){n(e)}})},42486:(e,t,a)=>{"use strict";a.a(e,async(e,n)=>{try{a.d(t,{A:()=>p});var s=a(96540),r=a(22199),o=a(20604),i=a(75606),c=a(89116),l=a(9626),d=a(8235),m=e([i]),u=m.then?(await m)():m;i=u[0];const p=e=>{const{message:t,deleteMessage:a}=e,[n,m]=(0,s.useState)([]),{openDrawer:u}=(0,c.S)();return(0,s.useEffect)(()=>{const e=JSON.parse(t.content);e&&"object"==typeof e&&e.length>0&&m(e)},[t]),n&&0!==n.length?s.createElement("div",{className:"w-max-[693px] rounded-[10px] bg-[var(--color-urgent-message-bg)] pl-[82px] pr-[25px] pt-[20px] pb-[25px] border-[1px] border-[#FFC7C7] dark:border-none","data-message-container":!0},s.createElement("div",{className:"flex items-center gap-[8px]"},s.createElement("img",{className:"w-[52px] h-[52px] rounded-full ml-[-60px]",src:d,alt:""}),s.createElement("div",null,s.createElement("p",{className:"text-[16px] font-semibold"},"Tely AI"),t.createdAt&&s.createElement("p",{className:"text-[14px] text-[#A8A6AC]"},(0,r.Ey)(new Date(t.createdAt).getTime())))),s.createElement("div",{className:"flex flex-row items-center gap-[8px] mb-[10px]"},s.createElement("img",{src:l,alt:"",className:"w-[26px] h-[26px]"}),s.createElement("span",{className:"text-[20px] text-[#FF543D] font-bold","data-readable":!0},"Urgent Alert")),s.createElement("ul",{className:"list-disc pl-[24px]"},n.map(e=>s.createElement("li",{className:"flex flex-row items-top gap-[8px]"},s.createElement("span",{className:"text-[15px] break-words","data-readable":!0,onClick:()=>(e=>{u(c.N.OriginalMessages,{relevantMessages:[{chatId:e.chatId,messageIds:[e.messageId]}]})})(e)},e.content),s.createElement(i.A,{size:20,chatId:e.chatId})))),s.createElement(o.A,{canCopy:!0,canVoice:!0,canDelete:!0,onDelete:a,message:t})):null};n()}catch(e){n(e)}})},42827:(e,t,a)=>{"use strict";a.a(e,async(e,n)=>{try{a.d(t,{A:()=>A});var s=a(84051),r=a(87357),o=a(58443),i=a(4961),c=a(59030),l=a(50680),d=a(64489),m=e([c]),u=m.then?(await m)():m;c=u[0];const p="Nothing found.",h=({text:e=p,description:t,withSticker:a})=>{const n=(0,c.A)(),{transitionClassNames:m}=(0,l.A)(!0);return s.Ay.createElement("div",{className:(0,r.A)("NothingFound",m,t&&"with-description",a&&"with-sticker")},a&&s.Ay.createElement(d.A,{className:"sticker",size:120,tgsUrl:o.w.DuckNothingFound,previewUrl:o.d.DuckNothingFound,nonInteractive:!0,noLoop:!1}),e,t&&s.Ay.createElement("p",{className:"description"},(0,i.A)(n(t),["br"])))},A=(0,s.ph)(h);n()}catch(e){n(e)}})},43955:(e,t,a)=>{"use strict";a.a(e,async(e,n)=>{try{a.d(t,{A:()=>u});var s=a(84051),r=a(13439),o=a(9716),i=a(60919),c=a(22199),l=a(21849),d=e([l]),m=d.then?(await d)():d;l=m[0];const u=({chatId:e,showName:t,size:a})=>{const{openChat:n}=(0,r.ko)(),d=(0,r.mS)(),m=(0,o.L8)(e);let u;return u=m?(0,i.mBe)(d,e):(0,i.hds)(d,e),s.Ay.createElement("div",{className:"flex items-center gap-2 cursor-pointer",onClick:()=>{n({id:e})}},s.Ay.createElement(l.A,{key:e,className:(0,c.cn)("overlay-avatar inline-block"),size:a??20,peer:u}),t&&s.Ay.createElement("div",null,m?`${u?.firstName??""} ${u?.lastName??""}`:u?.title))};n()}catch(e){n(e)}})},44589:(e,t,a)=>{"use strict";a.a(e,async(e,n)=>{try{a.d(t,{A:()=>b});var s=a(84051),r=a(13439),o=a(31481),i=a(90709),c=a(91525),l=a(37661),d=a(5912),m=a(17712),u=a(62587),p=a(69419),h=a(59030),A=a(19806),g=a(94189),y=a(52988),f=e([u,p,h,A,g,y]);[u,p,h,A,g,y]=f.then?(await f)():f;const v=1048576,E=({document:e,observeIntersection:t,smaller:a,canAutoLoad:n,autoLoadFileMaxSizeMb:f,uploadProgress:E,withDate:b,datetime:w,className:x,sender:C,isSelected:N,isSelectable:I,shouldWarnAboutSvg:S,isDownloading:M,message:k,onSelect:T,onCancelUpload:P,onMediaClick:L,onDateClick:B})=>{const{cancelMediaDownload:R,downloadMedia:D,setSharedSettingOption:F}=(0,r.ko)(),O=(0,s.li)(),z=(0,h.A)(),[U,j,V]=(0,l.A)(),[J,H]=(0,s.J0)(!1),{fileName:$,size:K,timestamp:G}=e,_=(0,c.rK)(e)||"",q=(0,d.Vz)(O,t),[W,Z]=(0,l.A)();(0,s.vJ)(()=>{q&&Z()},[q,Z]);const[Y,Q]=(0,s.J0)(n&&(!f||K<=f*v)),X=Boolean(M||Y&&W),ee=(0,i.mr)(e,"download"),{loadProgress:te,mediaData:ae}=(0,p.A)(ee,!X,(0,i.Cz)(e,"download"),void 0,!0),ne=Boolean(ae),{isUploading:se,isTransferring:re,transferProgress:oe}=(0,i.LK)(E||te,X&&!ne,void 0!==E),ie=(0,c.ON)(e),ce=ie?(0,i.VD)(e):void 0,le=ie?e.previewBlobUrl:void 0,de=(0,u.A)((0,i.mr)(e,"pictogram"),!q),me=L&&e.innerMediaType,ue=(0,m.A)(()=>{D({media:e,originMessage:k})}),pe=(0,m.A)(()=>{se?P&&P():M?R({media:e}):re?Q(!1):me?L():o.c59.has(_)&&S?j():ue()}),he=(0,m.A)(()=>{F({shouldWarnAboutSvg:!J}),V(),ue()}),Ae=(0,m.A)(()=>{B?.(k)});return s.Ay.createElement(s.Ay.Fragment,null,s.Ay.createElement(y.A,{ref:O,name:$,extension:_,size:K,timestamp:b?w||G:void 0,thumbnailDataUri:ce,previewData:le||de,smaller:a,isTransferring:re,isUploading:se,transferProgress:oe,className:x,sender:C,isSelectable:I,isSelected:N,actionIcon:me?(0,i.hr)(e)?"play":"eye":"download",onClick:pe,onSelect:T,onDateClick:B?Ae:void 0}),s.Ay.createElement(g.A,{isOpen:U,onClose:V,confirmHandler:he},z("lng_launch_svg_warning"),s.Ay.createElement(A.A,{className:"dialog-checkbox",checked:J,label:z("lng_launch_exe_dont_ask"),onCheck:H})))},b=(0,s.ph)(E);n()}catch(e){n(e)}})},44851:(e,t,a)=>{"use strict";a.a(e,async(e,n)=>{try{a.d(t,{A:()=>y});var s=a(84051),r=a(13439),o=a(89925),i=a(60919),c=a(43874),l=a(59030),d=a(79577),m=a(54746),u=a(64493),p=a(57415),h=e([l,d,u]);[l,d,u]=h.then?(await h)():h;const A=96,g=({chatFolder:e,animatedEmoji:t,foldersDispatch:a})=>{const{openSettingsScreen:n}=(0,r.ko)(),i=(0,l.A)(),{isMobile:h}=(0,c.Ay)(),g=(0,s.hb)(()=>{a({type:"editFolder",payload:e}),n({screen:o.VS.FoldersEditFolderFromChatList})},[e,a]);return s.Ay.createElement("div",{className:p.A.root},s.Ay.createElement("div",{className:p.A.sticker},t&&s.Ay.createElement(d.A,{sticker:t,size:A})),s.Ay.createElement("h3",{className:p.A.title,dir:"auto"},i("FilterNoChatsToDisplay")),s.Ay.createElement("p",{className:p.A.description,dir:"auto"},i(e?"ChatList.EmptyChatListFilterText":"Chat.EmptyChat")),e&&s.Ay.createElement(u.A,{ripple:!h,fluid:!0,pill:!0,onClick:g,size:"smaller",isRtl:i.isRtl},s.Ay.createElement(m.A,{name:"settings"}),s.Ay.createElement("div",{className:p.A.buttonText},i("ChatList.EmptyChatListEditFilter"))))},y=(0,s.ph)((0,r.EK)((e,{folderId:t,folderType:a})=>({chatFolder:t&&"folder"===a?(0,i.$aQ)(e,t):void 0,animatedEmoji:(0,i.oei)(e,"ðŸ“‚")}))(g));n()}catch(e){n(e)}})},45227:(e,t,a)=>{"use strict";a.d(t,{P:()=>r});var n=a(96540),s=a(5338);function r({component:e,props:t}){return a=>{if(!a)return{unmount:()=>{}};a._reactRoot||(a._reactRoot=s.createRoot(a));try{a._reactRoot.render(n.createElement(e,t))}catch(e){return console.error("Failed to render React component:",e),{unmount:()=>{}}}return{unmount:()=>{a._reactRoot?.unmount(),a._reactRoot=null}}}}},45302:(e,t,a)=>{"use strict";a.d(t,{GY:()=>c,o9:()=>o,rL:()=>r,wF:()=>i});const n=1440,s=10080;function r(){const e=new Date;e.setHours(0,0,0,0);const t=e.getDay(),a=e.getDate()-t+(0===t?-6:1);return new Date(e.setDate(a)).getTime()}function o(){return-60*(new Date).getTimezoneOffset()}function i(e,t){if(0===t)return e;const a=[];for(const n of e){let e=(n.startMinute+t)%s,r=(n.endMinute+t)%s;e<0&&(e+=s),r<=0&&(r+=s),e>r?(a.push({startMinute:e,endMinute:s-1}),a.push({startMinute:0,endMinute:r})):a.push({startMinute:e,endMinute:r})}return a.sort((e,t)=>e.startMinute-t.startMinute),a.reduce((e,t)=>{const a=e[e.length-1];return a&&a.endMinute>=t.startMinute?a.endMinute=Math.max(a.endMinute,t.endMinute):e.push(t),e},[])}function c(e){const t={};for(const a of e){const e=a.startMinute,s=a.endMinute,r=Math.floor(e/n),o=Math.floor((s-1)/n);for(let a=r;a<=o;a++)t[a]||(t[a]=[]),t[a].push({startMinute:Math.max(0,e-a*n),endMinute:Math.min(n,s-a*n)})}return t}},45318:(e,t,a)=>{"use strict";e.exports=a.p+"GiftStar.59a3e3598fdbab13b181.svg"},45325:(e,t,a)=>{"use strict";a.d(t,{A:()=>o});var n=a(84051),s=a(80089),r=a(80464);const o=e=>{const{attachments:t}=e,a=(0,r.A)(s.ar.Extra,"AttachmentModal",!t.length);return a?n.Ay.createElement(a,e):void 0}},45761:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});var n=a(87679);async function s(e){const t=[];function a(e,n){return new Promise(s=>{if(e instanceof File)t.push(e),s(e);else if(e.isFile){const a=n.getAsFile();e.file(e=>{t.push(e),s(e)},()=>{a&&t.push(a),s(a)})}else e.isDirectory&&e.createReader().readEntries(e=>{const t=[];for(let s=0;s<e.length;s++)t.push(a(e[s],n));s(Promise.all(t))})})}const s=[];for(let t=0;t<e.length;t++){const n=e[t];if("file"===n.kind){const e=n.webkitGetAsEntry()||n.getAsFile();e&&s.push(a(e,n))}}return await Promise.all(s),(0,n.kc)(t)}},46051:(e,t,a)=>{"use strict";a.d(t,{G:()=>n,w:()=>s});const n="video/mp4; codecs=hvc1.1.6.L63.00",s="video/mp4; codecs=avc1.64001E"},46053:(e,t,a)=>{"use strict";a.d(t,{A:()=>d});var n=a(84051),s=a(17778),r=a(63988),o=a(83414),i=a(37661);const c=/^\/([\w@]{1,32})?$/i,l=300;function d(e,t,a,d,m){const[u,p]=(0,n.J0)(),[h,A]=(0,n.J0)(),[g,y,f]=(0,i.A)(!1),v=(0,r.gs)(()=>{const a=t();return e&&a.startsWith("/")?(0,s.S)(a).match(c)?.[0].trim():void 0},[t,e],l),E=(0,o.A)(v,[v,t],!0);return(0,n.vJ)(()=>{const e=E(),t=a||d;if(!e||!t&&!m)return p(void 0),void A(void 0);const n=e.substring(1),s=t?.filter(e=>!n||e.command.startsWith(n));p(s?.length?s:void 0);const r=Object.values(m||{}).filter(e=>!n||e.shortcut.startsWith(n));A(r?.length?r:void 0)},[E,a,d,m]),(0,n.vJ)(f,[f,t]),{isOpen:Boolean((u?.length||h?.length)&&!g),close:y,filteredBotCommands:u,filteredQuickReplies:h}}},46372:(e,t,a)=>{"use strict";a.a(e,async(e,n)=>{try{a.d(t,{A:()=>f});var s=a(84051),r=a(13439),o=a(90709),i=a(60919),c=a(87357),l=a(76023),d=a(43874),m=a(59030),u=a(79577),p=a(64493),h=a(56294),A=e([m,u,p]);[m,u,p]=A.then?(await A)():A;const g=7*l.$,y=({chatId:e,animatedEmoji:t,canManageTopics:a})=>{const{openCreateTopicPanel:n}=(0,r.ko)(),o=(0,m.A)(),{isMobile:i}=(0,d.Ay)(),l=(0,s.hb)(()=>{n({chatId:e})},[e,n]);return s.Ay.createElement("div",{className:h.A.root},s.Ay.createElement("div",{className:h.A.sticker},t&&s.Ay.createElement(u.A,{sticker:t,size:g})),s.Ay.createElement("h3",{className:h.A.title,dir:"auto"},o("ChatList.EmptyTopicsTitle")),s.Ay.createElement("p",{className:(0,c.A)(h.A.description,h.A.centered),dir:"auto"},o("ChatList.EmptyTopicsDescription")),a&&s.Ay.createElement(p.A,{ripple:!i,fluid:!0,onClick:l,size:"smaller",isRtl:o.isRtl},s.Ay.createElement("div",{className:h.A.buttonText},o("ChatList.EmptyTopicsCreate"))))},f=(0,s.ph)((0,r.EK)((e,{chatId:t})=>{const a=(0,i.hds)(e,t),n=a&&(a.isCreator||(0,o.ub)(a,"manageTopics"));return{animatedEmoji:(0,i.oei)(e,"ðŸ£"),canManageTopics:n}})(y));n()}catch(e){n(e)}})},47067:(e,t,a)=>{"use strict";a.a(e,async(e,n)=>{try{a.d(t,{A:()=>h});var s=a(84051),r=a(13439),o=a(31481),i=a(90709),c=a(96454),l=a(9716),d=a(87894),m=a(39351),u=e([m]),p=u.then?(await u)():u;m=p[0];const h=({chat:e,user:t,folderId:a,isPinned:n,isMuted:u,canChangeFolder:p,isSavedDialog:h,currentUserId:A,isPreview:g,topics:y,handleDelete:f,handleMute:v,handleChatFolderChange:E,handleReport:b},w=!1)=>{const x=(0,m.A)(),{isSelf:C}=t||{},N=t?.id===o.zv8,I=(0,s.Kr)(()=>{if(e)return h?x("Delete"):(0,l.L8)(e.id)||(0,i.IC)(e)?x("DeleteChat"):(0,i.WX)(e)?x("ChannelLeave"):x("GroupLeaveGroup")},[e,h,x]);return(0,s.Kr)(()=>{if(!e||g)return;const{toggleChatPinned:s,toggleSavedDialogPinned:o,updateChatMutedState:m,toggleChatArchived:S,markChatMessagesRead:M,markChatUnread:k,openChatInNewTab:T,openUserPortrait:P}=(0,r.ko)(),L=(0,l.L8)(e.id)?{title:"User Portrait",icon:"portrait-icon",handler:()=>{P({chatId:e.id,userId:e.id})}}:void 0,B=c.OS&&{title:c.cp?x("ChatListOpenInNewWindow"):x("ChatListOpenInNewTab"),icon:"open-in-new-tab",handler:()=>{T(h?{chatId:A,threadId:e.id}:{chatId:e.id})}},R=()=>{h?o({id:e.id}):s({id:e.id,folderId:a})},D=n?{title:x("ChatListUnpinFromTop"),icon:"unpin",handler:R}:{title:x("ChatListPinToTop"),icon:"pin",handler:R},F={title:I,icon:"delete",destructive:!0,handler:f};if(h)return(0,d.oE)([B,D,F]);const O=p?{title:x("ChatListContextAddToFolder"),icon:"folder",handler:E}:void 0,z=u?{title:x("ChatsUnmute"),icon:"unmute",handler:()=>m({chatId:e.id,isMuted:!1})}:{title:`${x("ChatsMute")}...`,icon:"mute",handler:v};if(w)return(0,d.oE)([B,D,O,z]);const U=e.unreadCount||e.hasUnreadMark||Object.values(y||{}).some(({unreadCount:e})=>e)?{title:x("ChatListContextMaskAsRead"),icon:"readchats",handler:()=>M({id:e.id})}:void 0,j=e.unreadCount||e.hasUnreadMark||e.isForum?void 0:{title:x("ChatListContextMaskAsUnread"),icon:"unread",handler:()=>k({id:e.id})},V=(0,i.TJ)(e)?{title:x("Unarchive"),icon:"unarchive",handler:()=>S({id:e.id})}:{title:x("Archive"),icon:"archive",handler:()=>S({id:e.id})},J=b&&!t&&((0,i.WX)(e)||(0,i.YE)(e))?{title:x("ReportPeerReport"),icon:"flag",handler:b}:void 0,H=void 0!==a;return(0,d.oE)([L,B,O,U,j,D,!C&&z,!C&&!N&&!H&&V,J,F])},[e,t,p,x,E,n,w,u,A,f,v,b,a,C,N,h,I,g,y])};n()}catch(e){n(e)}})},47491:(e,t,a)=>{"use strict";a.a(e,async(e,n)=>{try{a.d(t,{A:()=>D});var s=a(84051),r=a(13439),o=a(89925),i=a(90709),c=a(60919),l=a(30708),d=a(96454),m=a(87357),u=a(50442),p=a(79824),h=a(31460),A=a(4961),g=a(54699),y=a(39351),f=a(17712),v=a(59030),E=a(73767),b=a(12544),w=a(41036),x=a(21849),C=a(35384),N=a(99587),I=a(38102),S=a(24845),M=e([y,v,b,x,C,N,I]);[y,v,b,x,C,N,I]=M.then?(await M)():M;const k=24,T=120,P=3,L=30,B=6e4,R=({forceShowSelf:e,canPlayVideo:t,user:a,userStatus:n,chat:c,mediaIndex:l,avatarOwnerId:M,topic:R,messagesCount:D,animationLevel:F,emojiStatusSticker:O,emojiStatusSlug:z,profilePhotos:U,peerId:j,isForMonoforum:V})=>{const{openMediaViewer:J,openPremiumModal:H,openStickerSet:$,openPrivacySettingsNoticeModal:K,loadMoreProfilePhotos:G,openUniqueGiftBySlug:_}=(0,r.ko)(),q=(0,v.A)(),W=(0,y.A)();(0,g.A)(a?B:void 0);const Z=U?.photos||p.p,Y=(0,E.A)(l),Q=(0,E.A)(M),[X,ee]=(0,s.J0)(!0),[te,ae]=(0,s.J0)(0),ne=Z.length<=1||0===te,se=Z.length<=1||te===Z.length-1;(0,s.vJ)(()=>{Z.length-te<=P&&G({peerId:j})},[te,j,Z.length]),(0,s.vJ)(()=>{Q&&void 0!==Y&&void 0===l&&(ee(!1),ae(Y))},[l,Y,Q]),(0,s.vJ)(()=>{te>Z.length&&(ee(!1),ae(Math.max(0,Z.length-1)))},[te,Z.length]),(0,b.A)(Z,te);const re=(0,f.A)(()=>{J({isAvatarView:!0,chatId:j,mediaIndex:te,origin:e?o.TQ.SettingsAvatar:o.TQ.ProfileAvatar})}),oe=(0,f.A)(()=>{z?_({slug:z}):j?H({fromUserId:j}):$({stickerSetInfo:O.stickerSetInfo})}),ie=(0,f.A)(()=>{ne||(ee(!0),ae(te-1))}),ce=(0,f.A)(()=>{se||(ee(!0),ae(te+1))}),le=(0,f.A)(()=>{K({chatId:c.id,isReadDate:!1})});if((0,s.vJ)(()=>{const e=document.querySelector(`.${S.A.photoWrapper}`);if(e)return(0,u.wJ)(e,{selectorToPreventScroll:".Profile, .settings-content",onSwipe:d.TF?(e,t)=>t===u.ez.Right?(ie(),!0):t===u.ez.Left&&(ce(),!0):void 0})},[ce,ie]),a||c)return R?s.Ay.createElement("div",{className:S.A.topicContainer},s.Ay.createElement(I.A,{topic:R,size:T,className:S.A.topicIcon,letterClassName:S.A.topicIconTitle,noLoopLimit:!0}),s.Ay.createElement("h3",{className:S.A.topicTitle,dir:q.isRtl?"rtl":void 0},(0,A.A)(R.title)),s.Ay.createElement("p",{className:S.A.topicMessagesCounter},D?q("Chat.Title.Topic",D,"i"):q("lng_forum_no_messages"))):s.Ay.createElement("div",{className:(0,m.A)("ProfileInfo"),dir:q.isRtl?"rtl":void 0},s.Ay.createElement("div",{className:S.A.photoWrapper},function(){const e=Math.max(Z.length,U?.count||0);if(!Z||e<=1)return;const t=Array.from({length:Math.min(e,L)}),a=te>=L?L-1:te;return s.Ay.createElement("div",{className:S.A.photoDashes},t.map((e,t)=>s.Ay.createElement("span",{className:(0,m.A)(S.A.photoDash,t===a&&S.A.photoDash_current)})))}(),!e&&U?.personalPhoto&&s.Ay.createElement("div",{className:(0,m.A)(S.A.fallbackPhoto,ne&&S.A.fallbackPhotoVisible)},s.Ay.createElement("div",{className:S.A.fallbackPhotoContents},q(U.personalPhoto.isVideo?"UserInfo.CustomVideo":"UserInfo.CustomPhoto"))),e&&U?.fallbackPhoto&&s.Ay.createElement("div",{className:(0,m.A)(S.A.fallbackPhoto,(ne||se)&&S.A.fallbackPhotoVisible)},s.Ay.createElement("div",{className:S.A.fallbackPhotoContents,onClick:function(){ne&&(ee(!0),ae(Z.length-1))}},!se&&s.Ay.createElement(x.A,{photo:U.fallbackPhoto,className:S.A.fallbackPhotoAvatar,size:"mini"}),q(U.fallbackPhoto.isVideo?"UserInfo.PublicVideo":"UserInfo.PublicPhoto"))),s.Ay.createElement(w.Ay,{activeKey:te,name:(0,h.P)("slide",F,!X,q.isRtl)},de),!ne&&s.Ay.createElement("button",{type:"button",dir:q.isRtl?"rtl":void 0,className:(0,m.A)(S.A.navigation,S.A.navigation_prev),"aria-label":q("AccDescrPrevious"),onClick:ie}),!se&&s.Ay.createElement("button",{type:"button",dir:q.isRtl?"rtl":void 0,className:(0,m.A)(S.A.navigation,S.A.navigation_next),"aria-label":q("Next"),onClick:ce})),s.Ay.createElement("div",{className:S.A.info,dir:q.isRtl?"rtl":"auto"},(a||c)&&s.Ay.createElement(C.A,{peer:a||c,withEmojiStatus:!0,emojiStatusSize:k,onEmojiStatusClick:oe,noLoopLimit:!0,canCopyTitle:!0}),function(){const e=(0,i.Qe)(j),t=(0,i.DX)(j);if(!e&&!t)return V?s.Ay.createElement("span",{className:(0,m.A)(S.A.status,"status"),dir:"auto"},W("MonoforumStatus")):a?s.Ay.createElement("div",{className:(0,m.A)(S.A.status,"status",(0,i.PF)(a,n)&&"online")},s.Ay.createElement("span",{className:S.A.userStatus,dir:"auto"},(0,i.CD)(q,a,n)),n?.isReadDateRestrictedByMe&&s.Ay.createElement("span",{className:S.A.getStatus,onClick:le},s.Ay.createElement("span",null,q("StatusHiddenShow")))):s.Ay.createElement("span",{className:(0,m.A)(S.A.status,"status"),dir:"auto"},(0,i.WX)(c)?q("Subscribers",c.membersCount??0,"i"):q("Members",c.membersCount??0,"i"))}()));function de(e){const n=Z.length>0?Z[te]:void 0;return s.Ay.createElement(N.A,{key:te,user:a,chat:c,photo:n,canPlayVideo:Boolean(e&&t),onClick:re})}},D=(0,s.ph)((0,r.EK)((e,{peerId:t})=>{const a=(0,c.mBe)(e,t),n=(0,c.K0y)(e,t),s=(0,c.hds)(e,t),r=(0,c.IVq)(e,t),{mediaIndex:o,chatId:i}=(0,c.nTw)(e).mediaViewer,d=s?.isForum,{threadId:m}=(0,c.Xf0)(e)||{},u=d&&m?(0,c.S0q)(e,t,m):void 0,{animationLevel:p}=(0,l.l)(e),h=(a||s)?.emojiStatus;return{user:a,userStatus:n,chat:s,mediaIndex:o,avatarOwnerId:i,animationLevel:p,emojiStatusSticker:h?e.customEmojis.byId[h.documentId]:void 0,emojiStatusSlug:"collectible"===h?.type?h.slug:void 0,profilePhotos:r,...u&&{topic:u,messagesCount:(0,c.QbG)(e,t,m)}}})(R));n()}catch(e){n(e)}})},47526:(e,t,a)=>{"use strict";a.d(t,{KE:()=>c,PP:()=>l,_u:()=>i,zS:()=>o});const n={google:"https://maps.google.com/maps",bing:"https://bing.com/maps/default.aspx",osm:"https://www.openstreetmap.org",apple:"https://maps.apple.com"},s=new Map(Object.entries({"building/medical":"#43b3f4","building/gym":"#43b3f4","education/cafeteria":"#f7943f","travel/bedandbreakfast":"#9987ff","travel/hotel":"#9987ff","travel/hostel":"#9987ff","travel/resort":"#9987ff","travel/hotel_bar":"#e56dd6",arts_entertainment:"#e56dd6",building:"#6e81b2",education:"#a57348",event:"#959595",food:"#f7943f",home:"#00aeef",nightlife:"#e56dd6",parks_outdoors:"#6cc039",shops:"#ffb300",travel:"#1c9fff",work:"#ad7854"})),r=["#e56cd5","#f89440","#9986ff","#44b3f5","#6dc139","#ff5d5a","#f87aad","#6e82b3","#f5ba21"];function o(e,t,a=15){const{lat:s,long:r}=t,o=n[e];switch(e){case"google":return`${o}/place/${s}+${r}/@${s},${r},${a}z`;case"bing":return`${o}?cp=${s}~${r}&lvl=${a}&sp=point.${s}_${r}`;case"apple":return`${o}?q=${s},${r}`;default:return`${o}/?mlat=${s}&mlon=${r}&zoom=${a}`}}function i(e,t){return 156543.03392*Math.cos(e*(Math.PI/180))/2**t}function c(e){return e?`https://ss3.4sqi.net/img/categories_v2/${e}_88.png`:""}function l(e){return e?s.get(e)||s.get(e.split("/")[0])||r[(t=e,t.split("").reduce((e,t)=>(e<<5)-e+t.charCodeAt(0)|0,0)%r.length)]:"#008df2";var t}},47778:(e,t,a)=>{"use strict";a.d(t,{A:()=>n});const n={rightPanelBg:"ZfJHpS2Q"}},47976:(e,t,a)=>{"use strict";a.a(e,async(e,n)=>{try{a.d(t,{A:()=>A});var s=a(84051),r=a(31481),o=a(87357),i=a(4961),c=a(17712),l=a(59030),d=a(40664),m=a(22720),u=a(8410),p=a(23550),h=e([l,d,m,u]);[l,d,m,u]=h.then?(await h)():h;const A=({isOpen:e,translateLanguage:t,closeInputLanguageModal:a,updateTranslateLanguage:n})=>{const[h,A]=(0,s.J0)(""),g=(0,l.A)(),y=(0,c.A)(e=>{n(e===t?void 0:e),a()}),f=(0,c.A)(e=>{A(e.target.value)}),v=(0,s.Kr)(()=>r.N89.map(e=>({langCode:e,translatedName:new Intl.DisplayNames([t||"en"],{type:"language"}).of(e),originalName:new Intl.DisplayNames([e],{type:"language"}).of(e)})),[t]);(0,s.vJ)(()=>{e||A("")},[e]);const E=(0,s.Kr)(()=>h.trim()?v.filter(({langCode:e,translatedName:t,originalName:a})=>t.toLowerCase().includes(h.toLowerCase())||a.toLowerCase().includes(h.toLowerCase())||e.toLowerCase().includes(h.toLowerCase())):v,[v,h]);return s.Ay.createElement(u.A,{className:p.A.root,isSlim:!0,isOpen:e,hasCloseButton:!0,title:g("Language"),onClose:a},s.Ay.createElement(d.A,{key:"search",value:h,onChange:f,placeholder:g("Search")}),s.Ay.createElement("div",{className:(0,o.A)(p.A.languages,"custom-scroll")},E.map(({langCode:e,originalName:a,translatedName:n})=>s.Ay.createElement(m.A,{key:e,className:(0,o.A)(p.A.listItem,"no-icon"),secondaryIcon:t===e?"check":void 0,disabled:t===e,multiline:!0,narrow:!0,allowDisabledClick:!0,onClick:()=>y(e)},s.Ay.createElement("span",{className:(0,o.A)("title",p.A.title)},(0,i.A)(a,["highlight"],{highlight:h})),s.Ay.createElement("span",{className:(0,o.A)("subtitle",p.A.subtitle)},(0,i.A)(n,["highlight"],{highlight:h}))))))};n()}catch(e){n(e)}})},48885:(e,t,a)=>{"use strict";a.d(t,{A:()=>u,S:()=>p});var n=a(84051),s=a(61433),r=a(66644),o=a(14737),i=a(17712),c=a(93545),l=a(672);const d=450,m=100;function u({ref:e,isOpen:t,isDisabled:a,withResizeObserver:s,onStateChange:u}){const[p,h]=(0,n.J0)(t),A=(0,n.li)(),g=e||A,y=(0,n.li)(0),f=(0,i.A)(()=>{h(!0),u?.({element:void 0,height:0,isOpen:!1})});(0,n.vJ)(()=>{a&&f()},[a]),(0,n.vJ)(()=>{t&&h(!0)},[t]),(0,n._W)(f),(0,o.A)(()=>{h(!1),u?.({height:0,isOpen:!1})},t?void 0:d);const v=(0,n.hb)(()=>{const e=g.current;!a&&e&&p&&(t?(0,r.gm)(()=>{const a=e.offsetHeight;return y.current=a,()=>{u?.({element:e,height:a,isOpen:t})}}):u?.({element:e,height:0,isOpen:!1}))},[t,p,a,g,u]),E=(0,l.A)(()=>{const e=g.current;e&&e.offsetHeight!==y.current&&v()},[v,g],m,!0);return(0,n.Nf)(v,[v]),(0,c.A)(g,E,!s||!p),{shouldRender:p,ref:g}}function p(e,t=!1){let a=0;for(let n=0;n<e.length;n++){const o=e[n],i=o.element;if(!i)continue;const c=`${a}px`,l=()=>{(0,s.Tv)(i,{transform:`translateY(${o.isOpen?c:`calc(${c} - 100%)`})`,zIndex:String(-n),transition:t?"none":""})};i.dataset.isPanelOpen||!o.isOpen||t?l():((0,s.Tv)(i,{transform:`translateY(calc(${c} - 100%))`,zIndex:String(-n),transition:"none"}),i.dataset.isPanelOpen="true",(0,r.Uz)(l)),a+=o.height}}},48906:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});var n=a(84051);const s=function({isOwn:e}){const t=e?"M6 17H0V0c.193 2.84.876 5.767 2.05 8.782.904 2.325 2.446 4.485 4.625 6.48A1 1 0 016 17z":"M3 17h6V0c-.193 2.84-.876 5.767-2.05 8.782-.904 2.325-2.446 4.485-4.625 6.48A1 1 0 003 17z";return n.Ay.createElement("svg",{width:"9",height:"20",className:"svg-appendix"},n.Ay.createElement("defs",null,n.Ay.createElement("filter",{x:"-50%",y:"-14.7%",width:"200%",height:"141.2%",filterUnits:"objectBoundingBox",id:"messageAppendix"},n.Ay.createElement("feOffset",{dy:"1",in:"SourceAlpha",result:"shadowOffsetOuter1"}),n.Ay.createElement("feGaussianBlur",{stdDeviation:"1",in:"shadowOffsetOuter1",result:"shadowBlurOuter1"}),n.Ay.createElement("feColorMatrix",{values:"0 0 0 0 0.0621962482 0 0 0 0 0.138574144 0 0 0 0 0.185037364 0 0 0 0.15 0",in:"shadowBlurOuter1"}))),n.Ay.createElement("g",{fill:"none","fill-rule":"evenodd"},n.Ay.createElement("path",{d:t,fill:"#000",filter:"url(#messageAppendix)"}),n.Ay.createElement("path",{d:t,fill:e?"#EEFFDE":"FFF",className:"corner"})))}},49068:(e,t,a)=>{"use strict";a.d(t,{A:()=>o});var n=a(84051),s=a(80089),r=a(80464);const o=e=>{const{isOpen:t}=e,a=(0,r.A)(s.ar.Extra,"EmojiTooltip",!t);return a?n.Ay.createElement(a,e):void 0}},49240:(e,t,a)=>{"use strict";a.a(e,async(e,n)=>{try{a.d(t,{A:()=>f});var s=a(84051),r=a(13439),o=a(31481),i=a(87357),c=a(37661),l=a(17712),d=a(54746),m=a(64493),u=a(66469),p=a(57474),h=a(42390),A=e([m,u]);[m,u]=A.then?(await A)():A;const g=100,y=({chatId:e,threadId:t,isMobile:a,canSendGifs:n,canSendStickers:A,isMessageComposer:y,isReady:f,isSymbolMenuOpen:v,idPrefix:E,isAttachmentModal:b,canSendPlainText:w,isSymbolMenuForced:x,className:C,forceDarkTheme:N,inputCssSelector:I=o.m$5,openSymbolMenu:S,closeSymbolMenu:M,onCustomEmojiSelect:k,onStickerSelect:T,onGifSelect:P,onRemoveSymbol:L,onEmojiSelect:B,closeBotCommandMenu:R,closeSendAsMenu:D})=>{const{setStickerSearchQuery:F,setGifSearchQuery:O,addRecentEmoji:z,addRecentCustomEmoji:U}=(0,r.ko)(),j=(0,s.li)(),[V,J]=(0,c.A)(),[H,$]=(0,s.J0)(void 0),K=(0,i.A)("composer-action-button mobile-symbol-menu-button",!f&&"not-ready",V?v&&"menu-opened":v&&"is-loading"),G=(0,l.A)(()=>{R?.(),D?.(),S();const e=j.current;if(!e)return;const{x:t,y:a}=e.getBoundingClientRect();$({x:t,y:a})}),_=(0,l.A)(e=>{"stickers"===e?(F({query:""}),O({query:void 0})):(O({query:""}),F({query:void 0}))}),q=(0,l.A)(()=>{const e=document.querySelector(b?o.wVm:I);a&&e===document.activeElement?(e?.blur(),setTimeout(()=>{R?.(),S()},g)):S()}),W=(0,l.A)(()=>j.current),Z=(0,l.A)(()=>j.current?.closest(".custom-scroll, .no-scrollbar")),Y=(0,l.A)(()=>document.querySelector("#portals .SymbolMenu .bubble")),Q=(0,l.A)(()=>({withPortal:!0}));return s.Ay.createElement(s.Ay.Fragment,null,a?s.Ay.createElement(m.A,{className:K,round:!0,color:"translucent",onClick:v?M:q,ariaLabel:"Choose emoji, sticker or GIF"},s.Ay.createElement(d.A,{name:"smile"}),s.Ay.createElement(d.A,{name:"keyboard"}),v&&!V&&s.Ay.createElement(p.A,{color:"gray"})):s.Ay.createElement(u.A,{className:(0,i.A)("composer-action-button symbol-menu-button",v&&"activated"),round:!0,color:"translucent",onActivate:G,ariaLabel:"Choose emoji, sticker or GIF"},s.Ay.createElement("div",{ref:j,className:"symbol-menu-trigger"}),s.Ay.createElement(d.A,{name:"smile"})),s.Ay.createElement(h.A,{chatId:e,threadId:t,isOpen:v||Boolean(x),canSendGifs:n,canSendStickers:A,isMessageComposer:y,idPrefix:E,onLoad:J,onClose:M,onEmojiSelect:B,onStickerSelect:T,onCustomEmojiSelect:k,onGifSelect:P,onRemoveSymbol:L,onSearchOpen:_,addRecentEmoji:z,addRecentCustomEmoji:U,isAttachmentModal:b,canSendPlainText:w,className:(0,i.A)(C,N&&"component-theme-dark"),anchor:b?H:void 0,getTriggerElement:b?W:void 0,getRootElement:b?Z:void 0,getMenuElement:b?Y:void 0,getLayout:b?Q:void 0}))},f=(0,s.ph)(y);n()}catch(e){n(e)}})},49642:(e,t,a)=>{"use strict";a.d(t,{D5:()=>r,Eg:()=>i,HW:()=>c,MV:()=>s,hm:()=>l,wp:()=>d});const n={play:void 0,pause:void 0,seekbackward:void 0,seekforward:void 0,previoustrack:void 0,nexttrack:void 0,stop:void 0,seekTo:void 0};function s(e,t){const{mediaSession:a}=window.navigator;a?(e&&r(e),t&&o(t)):console.warn("MediaSession API not supported in this browser")}function r(e){const{mediaSession:t}=window.navigator;t&&(t.metadata=e??null)}function o(e){const{mediaSession:t}=window.navigator;t&&Object.entries({...n,...e}).forEach(([e,a])=>{try{t.setActionHandler(e,a)}catch(e){}})}function i(){const{mediaSession:e}=window.navigator;e&&(e.metadata=null,o(n),e.playbackState&&(e.playbackState="none"),e.setPositionState?.())}function c(e="none"){const{mediaSession:t}=window.navigator;t&&t.playbackState&&(t.playbackState=e)}function l(e){if(!e||void 0===e.position||void 0===e.duration)return;e.position=Math.min(e.position,e.duration);const{mediaSession:t}=window.navigator;t?.setPositionState?.(e)}function d({title:e,artist:t,album:a,artwork:n}){if("MediaMetadata"in window)return new window.MediaMetadata({title:e,artist:t,album:a,artwork:n})}},50425:(e,t,a)=>{"use strict";a.a(e,async(e,n)=>{try{a.d(t,{A:()=>h});var s=a(84051),r=a(13439),o=a(87357),i=a(43874),c=a(36838),l=a(59030),d=a(76593),m=a(2429),u=e([l,d]);function p({isArchived:e,className:t,orderedPeerIds:a,usersById:n,chatsById:r,isClosing:u}){const p=(0,l.A)(),h=(0,o.A)(m.A.root,!a.length&&m.A.hidden,u&&m.A.closing,t,"no-scrollbar"),A=(0,s.li)();return(0,c.A)(A,(0,i.Ny)()),s.Ay.createElement("div",{ref:A,id:"StoryRibbon",className:h,dir:p.isRtl?"rtl":void 0},a.map(t=>{const a=n[t]||r[t];if(a)return s.Ay.createElement(d.A,{key:t,peer:a,isArchived:e})}))}[l,d]=u.then?(await u)():u;const h=(0,s.ph)((0,r.EK)((e,{isArchived:t})=>{const{orderedPeerIds:{active:a,archived:n}}=e.stories;return{orderedPeerIds:t?n:a,usersById:e.users.byId,chatsById:e.chats.byId}})(p));n()}catch(A){n(A)}})},50577:(e,t,a)=>{"use strict";function n(e){if(!e||1!==e.extendedMedia.length)return{photo:void 0,video:void 0};const t=e.extendedMedia[0],a="mediaType"in t;return{photo:a?t.duration?void 0:t:t.photo,video:a?t.duration?t:void 0:t.video}}a.d(t,{A:()=>n})},51083:(e,t,a)=>{"use strict";a.a(e,async(e,n)=>{try{a.d(t,{A:()=>N});var s=a(84051),r=a(13439),o=a(89925),i=a(90709),c=a(60919),l=a(87357),d=a(76023),m=a(4961),u=a(39351),p=a(17712),h=a(59030),A=a(41036),g=a(21849),y=a(80999),f=a(35384),v=a(54746),E=a(38102),b=a(80477),w=e([u,h,g,y,f,E,b]);[u,h,g,y,f,E,b]=w.then?(await w)():w;const x=2.5*d.$,C=({typingStatus:e,className:t,statusIcon:a,avatarSize:n="medium",noAvatar:d,status:w,withDots:C,withMediaViewer:N,withUsername:I,withFullInfo:S,withUpdatingStatus:M,withChatType:k,threadInfo:T,noRtl:P,chat:L,onlineCount:B,areMessagesLoaded:R,topic:D,messagesCount:F,noStatusOrTyping:O,withStory:z,storyViewerOrigin:U,noEmojiStatus:j,emojiStatusSize:V,isSavedDialog:J,self:H,withMonoforumStatus:$,monoforumChannel:K,onClick:G,onEmojiStatusClick:_})=>{const{loadFullChat:q,openMediaViewer:W,loadMoreProfilePhotos:Z}=(0,r.ko)(),Y=!$&&K?K:L,Q=(0,h.A)(),X=(0,u.A)(),ee=Y&&(0,i.Vs)(Y),te=Boolean(Y?.isForum&&T&&D),{id:ae,isMin:ne}=Y||{},se=(0,c._ls)((0,r.mS)(),ae);(0,s.vJ)(()=>{ae&&!ne&&(S&&q({chatId:ae}),N&&Z({peerId:ae,isPreload:!0}))},[ae,ne,S,ee,N]);const re=(0,p.A)((e,t)=>{Y&&t&&(e.stopPropagation(),W({isAvatarView:!0,chatId:Y.id,mediaIndex:0,origin:"jumbo"===n?o.TQ.ProfileAvatar:o.TQ.MiddleHeaderAvatar}))}),oe=(0,s.Kr)(()=>Y&&I&&(0,i.Kl)(Y),[Y,I]);if(Y)return s.Ay.createElement("div",{className:(0,l.A)("ChatInfo",t),dir:!P&&Q.isRtl?"rtl":void 0,onClick:G},!d&&!te&&s.Ay.createElement(s.Ay.Fragment,null,J&&H&&s.Ay.createElement(g.A,{key:"saved-messages",size:n,peer:H,isSavedMessages:!0,className:"saved-dialog-avatar"}),s.Ay.createElement(g.A,{key:Y.id,className:(0,l.A)(J&&"overlay-avatar"),size:n,peer:Y,withStory:z,asMessageBubble:Boolean(K),storyViewerOrigin:U,storyViewerMode:"single-peer",isSavedDialog:J,onClick:N?re:void 0})),te&&s.Ay.createElement(E.A,{topic:D,className:"topic-header-icon",size:x}),s.Ay.createElement("div",{className:"info"},D?s.Ay.createElement("h3",{dir:"auto",className:"fullName"},(0,m.A)(D.title)):s.Ay.createElement(f.A,{peer:Y,isMonoforum:!$&&Boolean(K),emojiStatusSize:V,withEmojiStatus:!j,isSavedDialog:J,onEmojiStatusClick:_}),!O&&function(){if(w)return C?s.Ay.createElement(y.A,{className:"status",content:w}):s.Ay.createElement("span",{className:"status",dir:"auto"},a&&s.Ay.createElement(v.A,{className:"status-icon",name:a}),(0,m.A)(w));if(M&&!R&&!se)return s.Ay.createElement(y.A,{className:"status",content:Q("Updating")});if($)return s.Ay.createElement("span",{className:"status",dir:"auto"},X("MonoforumStatus"));if(L?.isMonoforum)return;if(w)return C?s.Ay.createElement(y.A,{className:"status",content:w}):s.Ay.createElement("span",{className:"status",dir:"auto"},a&&s.Ay.createElement(v.A,{className:"status-icon",name:a}),(0,m.A)(w));if(!Y)return;if(e)return s.Ay.createElement(b.A,{typingStatus:e});if(te)return s.Ay.createElement("span",{className:"status",dir:"auto"},s.Ay.createElement(A.Ay,{name:"fade",shouldRestoreHeight:!0,activeKey:void 0!==F?1:2,className:"message-count-transition"},void 0!==F&&Q("messages",F,"i")));if(k)return s.Ay.createElement("span",{className:"status",dir:"auto"},Q((0,i.Gg)(Y)));const t=(0,i.sT)(Q,Y),n=B?`, ${Q("OnlineCount",B,"i")}`:void 0;return s.Ay.createElement("span",{className:"status"},oe&&s.Ay.createElement("span",{className:"handle withStatus"},oe),s.Ay.createElement("span",{className:"group-status"},t),n&&s.Ay.createElement("span",{className:"online-status"},n))}()))},N=(0,s.ph)((0,r.EK)((e,{chatId:t,threadId:a})=>{const n=(0,c.hds)(e,t),s=a?(0,c.Vw0)(e,t,a):void 0,r=n?(0,c.ToO)(e,n):void 0,o=Boolean((0,c.zeq)(e,t)),i=a?(0,c.S0q)(e,t,a):void 0;return{chat:n,threadInfo:s,onlineCount:r,topic:i,areMessagesLoaded:o,messagesCount:i&&(0,c.QbG)(e,t,a),self:(0,c.mBe)(e,e.currentUserId),monoforumChannel:(0,c.k2W)(e,t)}})(C));n()}catch(e){n(e)}})},51644:(e,t,a)=>{"use strict";a.a(e,async(e,n)=>{try{a.d(t,{A:()=>k});var s=a(84051),r=a(13439),o=a(31481),i=a(66644),c=a(90709),l=a(87357),d=a(40435),m=a(35127),u=a(43874),p=a(37661),h=a(5912),A=a(17712),g=a(37859),y=a(37960),f=a(69419),v=a(29886),E=a(73767),b=a(34201),w=a(61097),x=a(54746),C=a(46256),N=a(66618),I=a(35913),S=e([f,C,N]);[f,C,N]=S.then?(await S)():S;const M=({id:e,photo:t,messageText:a,isOwn:n,noAvatars:S,canAutoLoad:M,isInSelectMode:k,isSelected:T,uploadProgress:P,forcedWidth:L,size:B="inline",dimensions:R,asForwarded:D,nonInteractive:F,shouldAffectAppendix:O,isDownloading:z,isProtected:U,theme:j,isInWebPage:V,clickArg:J,className:H,isMediaNsfw:$,observeIntersection:K,onClick:G,onCancelUpload:_,needsAgeVerification:q})=>{const W=(0,s.li)(),Z="extendedMediaPreview"===t.mediaType,Y=Z?void 0:t.blobUrl,Q=(0,h.Vz)(W,K),{isMobile:X}=(0,u.Ay)(),[ee,te]=(0,s.J0)(M),ae=ee&&Q&&!Z,{mediaData:ne,loadProgress:se}=(0,f.A)(Z?void 0:(0,c.rI)(t,B),!ae),re=(0,v.A)(ne),oe=Y||ne,{ref:ie,shouldRender:ce}=(0,y.A)({hasMediaData:Boolean(oe),withShouldRender:!0}),le=Boolean(L),[de]=(0,s.J0)(!oe),me=Boolean(oe),ue=(0,w.A)(t,me);(0,y.A)({ref:ue,hasMediaData:!me});const pe=(0,w.A)(t,!le),he=(0,c.VD)(t),{updateContentSettings:Ae,openAgeVerificationModal:ge}=(0,r.ko)(),[ye,fe,ve]=(0,p.A)(),[Ee,be]=(0,s.J0)(!1),we=Z||t.isSpoiler||$,[xe,Ce,Ne]=(0,p.A)(we);(0,s.vJ)(()=>{we?Ce():Ne()},[we]);const Ie=(0,A.A)(()=>{ve(),Ne(),Ee&&Ae({isSensitiveEnabled:!0})}),{loadProgress:Se}=(0,f.A)(Z?void 0:(0,c.rI)(t,"download"),!z,Z?void 0:(0,c.Cz)(t,"download")),{isUploading:Me,isTransferring:ke,transferProgress:Te}=(0,c.LK)(P||(z?Se:se),ae&&!oe,void 0!==P),Pe=!1===(0,E.A)(ee),{ref:Le,shouldRender:Be}=(0,b.A)({isOpen:ke,noMountTransition:Pe,className:"slow",withShouldRender:!0}),{ref:Re,shouldRender:De}=(0,b.A)({isOpen:!oe&&!ee,withShouldRender:!0}),Fe=(0,A.A)(e=>{if(Me)_?.(J);else{if(oe)return xe?$?q?void ge():void fe():void Ne():void G?.(J,e);te(e=>!e)}});(0,g.A)(([e])=>{if(!O)return void(e&&W.current.closest(o.KFG).removeAttribute(o.D3G));const t=W.current.closest(o.KFG);if(oe){const e=Number(t.closest(".Message").dataset.messageId);(0,d.A)(oe,Boolean(n),e,T,j).then(e=>{(0,i.RK)(()=>{t.style.setProperty("--appendix-bg",e),t.setAttribute(o.D3G,"")})})}else t.classList.add("has-appendix-thumb")},[O,oe,n,k,T,j]);const{width:Oe,height:ze,isSmall:Ue}=R||(0,m.yA)({media:t,isOwn:n,asForwarded:D,noAvatars:S,isMobile:X,messageText:a,isInWebPage:V}),je=(0,l.A)("media-inner",!Me&&!F&&"interactive",Ue&&"small-image",(Oe===ze||"pictogram"===B)&&"square-image",ze<m.ej&&"fix-min-height",H),Ve=R?` width: ${Oe}px; left: ${R.x}px; top: ${R.y}px;`:"",Je="inline"===B?`height: ${ze}px;${Ve}`:void 0;return s.Ay.createElement("div",{id:e,ref:W,className:je,style:Je,onClick:Me?void 0:Fe},le&&s.Ay.createElement("canvas",{ref:pe,className:"thumbnail blurred-bg"}),oe&&s.Ay.createElement("img",{ref:ie,src:oe||re,className:(0,l.A)("full-media",le&&"with-blurred-bg"),alt:"",style:L?`width: ${L}px`:void 0,draggable:!U}),de&&s.Ay.createElement("canvas",{ref:ue,className:"thumbnail"}),U&&s.Ay.createElement("span",{className:"protector"}),Be&&!De&&s.Ay.createElement("div",{ref:Le,className:"media-loading"},s.Ay.createElement(I.A,{progress:Te,onClick:Me?Fe:void 0})),De&&s.Ay.createElement(x.A,{ref:Re,name:"download"}),s.Ay.createElement(C.A,{isVisible:xe,withAnimation:!0,thumbDataUri:he,width:Oe,height:ze,className:"media-spoiler",isNsfw:$}),ke&&s.Ay.createElement("span",{className:"message-transfer-progress"},Math.round(100*Te),"%"),s.Ay.createElement(N.A,{isOpen:ye,onClose:ve,shouldAlwaysShow:Ee,onAlwaysShowChanged:be,confirmHandler:Ie}))},k=(0,s.ph)((0,r.EK)(e=>{const t=e.appConfig,a=t?.needAgeVideoVerification;return{needsAgeVerification:a}})(M));n()}catch(e){n(e)}})},51763:(e,t,a)=>{"use strict";a.d(t,{A:()=>d});var n=a(13439),s=a(23174),r=a(89925),o=a(90709),i=a(26129),c=a(46275),l=a(17712);function d({lang:e,selectMessage:t,message:a,webPage:d,chatId:m,threadId:u,isInDocumentGroup:p,asForwarded:h,isScheduled:A,album:g,senderPeer:y,botSender:f,messageTopic:v,isTranslatingChat:E,story:b,isReplyPrivate:w,isRepliesChat:x,isSavedMessages:C,lastPlaybackTimestamp:N}){const{openChat:I,showNotification:S,focusMessage:M,openMediaViewer:k,openAudioPlayer:T,markMessagesRead:P,cancelUploadMedia:L,sendPollVote:B,openForwardMenu:R,openChatLanguageModal:D,openThread:F,openStoryViewer:O,searchChatMediaMessages:z}=(0,n.ko)(),{id:U,forwardInfo:j,groupedId:V,content:{paidMedia:J,video:H}}=a,{replyToMsgId:$,replyToPeerId:K,replyToTopId:G,isQuote:_,quoteText:q,quoteOffset:W}=(0,i.Q)(a)||{},Z=(0,l.A)(()=>{y?h&&j?.channelPostId?M({chatId:y.id,messageId:j.channelPostId}):I({id:y.id}):S({message:e("HidAccount")})}),Y=(0,l.A)(()=>{f&&I({id:f.id})}),Q=(0,l.A)(()=>{$&&!w?x&&K&&G?F({isComments:!0,originChannelId:K,originMessageId:G,focusMessageId:$}):M({chatId:K||m,threadId:x?G:u,messageId:$,replyMessageId:K?void 0:U,noForumTopicPanel:!K,..._&&{quote:q?.text,quoteOffset:W}}):S({message:e(_?"QuotePrivate":"ReplyPrivate")})}),X=(0,l.A)(()=>{k({chatId:m,threadId:u,messageId:U,origin:A?r.TQ.ScheduledInline:r.TQ.Inline})}),ee=(0,l.A)(e=>{if(J&&!J.isBought)return;e&&z({chatId:m,threadId:u,currentMediaMessageId:U});const t=d?.url&&(0,c.vG)(d.url),a=H||(0,o.rU)(d),n=t&&"timestamp"in t?t.timestamp:void 0;k({chatId:m,threadId:u,messageId:U,origin:A?r.TQ.ScheduledInline:r.TQ.Inline,timestamp:N||a?.timestamp||n,withDynamicLoading:e})}),te=(0,l.A)(()=>{ee(!A&&!J)}),ae=(0,l.A)(()=>{const e=a.content?.video?.isGif;ee(!e&&!A&&!J)}),ne=(0,l.A)(()=>{((0,o.yl)(a)||(0,o.eY)(d))&&te(),ae()}),se=(0,l.A)(()=>{T({chatId:m,messageId:U})}),re=(0,l.A)((e,t)=>{J&&!J.isBought||(z({chatId:m,threadId:u,currentMediaMessageId:U}),k({chatId:m,threadId:u,messageId:e,mediaIndex:t,origin:A?r.TQ.ScheduledAlbum:r.TQ.Album,withDynamicLoading:!J}))}),oe=(0,l.A)(()=>{P({messageIds:[U]})}),ie=(0,l.A)(()=>{L({chatId:m,messageId:U})}),ce=(0,l.A)(e=>{B({chatId:m,messageId:U,options:e})}),le=(0,l.A)(()=>{R({fromChatId:m,groupedId:V})}),de=(0,l.A)(()=>{if(g&&g.messages){const e=g.messages.map(({id:e})=>e);R({fromChatId:m,messageIds:e})}else R({fromChatId:m,messageIds:[U]})}),me=(0,l.A)(()=>{M({chatId:m,threadId:s.l3,messageId:U})}),ue=(0,l.A)(()=>{const e=C&&j.savedFromPeerId||j.fromChatId;p?M({chatId:e,groupedId:V,groupedChatId:m,messageId:j.fromMessageId}):K&&G?x?F({isComments:!0,originChannelId:K,originMessageId:G,focusMessageId:j.fromMessageId}):M({chatId:K,threadId:G,messageId:j.fromMessageId}):M({chatId:e,messageId:j.fromMessageId})}),pe=(0,l.A)(e=>{e.stopPropagation(),t(e,V)}),he=(0,l.A)(e=>{e.stopPropagation(),D({chatId:m,messageId:E?void 0:U})}),Ae=(0,l.A)(()=>{F({chatId:a.chatId,threadId:a.id})}),ge=(0,l.A)(()=>{v&&M({chatId:K||m,threadId:v.id,messageId:U})}),ye=(0,l.A)(()=>{b&&O({peerId:b.peerId,storyId:b.id,isSingleStory:!0})});return{handleSenderClick:Z,handleViaBotClick:Y,handleReplyClick:Q,handleDocumentClick:X,handleMediaClick:ne,handleAudioPlay:se,handleAlbumMediaClick:re,handlePhotoMediaClick:te,handleVideoMediaClick:ae,handleMetaClick:pe,handleTranslationClick:he,handleOpenThread:Ae,handleReadMedia:oe,handleCancelUpload:ie,handleVoteSend:ce,handleGroupForward:le,handleForward:de,handleFocus:me,handleFocusForwarded:ue,handleDocumentGroupSelectAll:pe,handleTopicChipClick:ge,handleStoryClick:ye}}},52006:(e,t,a)=>{"use strict";a.a(e,async(e,n)=>{try{a.d(t,{A:()=>p});var s=a(84051),r=a(13439),o=a(17712),i=a(59030),c=a(93545),l=a(64493),d=a(8524),m=e([i,l]);[i,l]=m.then?(await m)():m;const u=({sessions:e,onHeightChange:t})=>{const{changeSessionSettings:a,terminateAuthorization:n,showNotification:m}=(0,r.ko)(),u=(0,s.li)(),p=(0,i.A)();(0,c.A)(u,e=>{const a=e.borderBoxSize?.[0]?.blockSize||e.contentRect.height;t(a)});const h=(0,s.Kr)(()=>Object.values(e).sort((e,t)=>t.dateCreated-e.dateCreated).find(e=>e.isUnconfirmed),[e]),A=(0,s.Kr)(()=>[h.deviceModel,h.region,h.country].filter(Boolean).join(", "),[h]),g=(0,o.A)(()=>{a({hash:h.hash,isConfirmed:!0})}),y=(0,o.A)(()=>{n({hash:h.hash}),m({title:p("UnconfirmedAuthDeniedTitle",1),message:p("UnconfirmedAuthDeniedMessageSingle",A)})});return s.Ay.createElement("div",{className:d.A.root,ref:u},s.Ay.createElement("h2",{className:d.A.title},p("UnconfirmedAuthTitle")),s.Ay.createElement("p",{className:d.A.info},p("UnconfirmedAuthSingle",A)),s.Ay.createElement("div",{className:d.A.buttons},s.Ay.createElement(l.A,{fluid:!0,isText:!0,size:"smaller",className:d.A.button,onClick:g},p("UnconfirmedAuthConfirm")),s.Ay.createElement(l.A,{fluid:!0,isText:!0,size:"smaller",color:"danger",onClick:y,className:d.A.button},p("UnconfirmedAuthDeny"))))},p=(0,s.ph)(u);n()}catch(e){n(e)}})},52253:(e,t,a)=>{"use strict";a.a(e,async(e,n)=>{try{a.d(t,{A:()=>p});var s=a(84051),r=a(13439),o=a(90709),i=a(79824),c=a(55153),l=a(39351),d=a(17712),m=e([l]),u=m.then?(await m)():m;function p({attachments:e,fileSizeLimit:t,setHtml:a,setAttachments:n,chatId:m,canSendAudios:u,canSendVideos:p,canSendPhotos:h,canSendDocuments:A,insertNextText:g,editedMessage:y,shouldSendInHighQuality:f}){const v=(0,l.A)(),{openLimitReachedModal:E,showAllowedMessageTypesNotification:b,showNotification:w}=(0,r.ko)(),[x,C]=(0,s.J0)(!1),[N,I]=(0,s.J0)(!1),S=(0,d.A)(()=>{n(i.p),g()}),M=(0,d.A)(a=>{const s="function"==typeof a?a(e):a;if(s.length)if(s.some(e=>{const t=(0,o.ES)(e);return"audio"===t&&!u&&!A||"video"===t&&!p&&!A||"photo"===t&&!h&&!A||"file"===t&&!A}))b({chatId:m});else if(s.some(({size:e})=>e>t))E({limit:"uploadMaxFileparts"});else{n(s);const e=s.some(e=>{const t=(0,o.ES)(e);return"audio"===t&&!u||"video"===t&&!p||"photo"===t&&!h});C(Boolean(e&&A)),I(!A)}else S()}),k=(0,d.A)(async(t,a)=>{if(y){const e=await(0,c.A)(t[0].name,t[0]),a=y&&(0,o.eh)(y,e);y?.groupedId?a?M([e]):w({message:v("MediaReplaceInvalidError",void 0,{pluralValue:t.length})}):M([e])}else{const n=await Promise.all(t.map(e=>(0,c.A)(e.name,e,{shouldSendAsSpoiler:a||void 0,shouldSendInHighQuality:f})));M([...e,...n])}}),T=(0,d.A)(async e=>{if(y){const t=await(0,c.A)(e[0].name,e[0]),a=y&&(0,o.eh)(y,t);y?.groupedId?a?M([t]):w({message:v("MediaReplaceInvalidError",void 0,{pluralValue:e.length})}):M([t])}else{const t=await Promise.all(e.map(e=>(0,c.A)(e.name,e,{shouldSendInHighQuality:f})));M(t)}}),P=(0,d.A)(async()=>{const t=await Promise.all(e.map(e=>(0,c.A)(e.filename,e.blob,{shouldSendInHighQuality:f})));M(t)});return(0,s.vJ)(()=>{P()},[f]),{handleAppendFiles:k,handleFileSelect:T,onCaptionUpdate:a,handleClearAttachments:S,handleSetAttachments:M,shouldForceCompression:N,shouldForceAsFile:x}}l=u[0],n()}catch(h){n(h)}})},52603:(e,t,a)=>{"use strict";a.d(t,{A:()=>d});var n=a(84051),s=a(96454),r=a(9705),o=a(5130);const i=.2;let c;const l=new r.A;function d(e,t,a){const[s,r]=(0,n.J0)();return(0,n.vJ)(()=>{t||a&&!a()||(e?async function(e,t=i){return c||await l.promise,await c.request({name:"detectLanguage",args:[e,t]})}(e).then(r):r(void 0))},[t,e,a]),s}s.CM&&setTimeout(function(){c||(c=(0,o.U)(new Worker(new URL(a.p+a.u(8590),a.b))),l.resolve())},4e3)},52844:(e,t,a)=>{"use strict";let n;function s(e="*",t,a=!1){n||(n=document.createElement("input"),n.setAttribute("type","file")),n.setAttribute("accept",e),a?n.removeAttribute("multiple"):n.setAttribute("multiple","multiple"),n.onchange=null,n.value="",n.onchange=t,n.click()}a.d(t,{p:()=>s})},52988:(e,t,a)=>{"use strict";a.a(e,async(e,n)=>{try{a.d(t,{A:()=>w});var s=a(84051),r=a(96454),o=a(87357),i=a(17663),c=a(91525),l=a(76023),d=a(4961),m=a(43874),u=a(45470),p=a(83057),h=a(59030),A=a(50680),g=a(96530),y=a(35913),f=a(54746),v=e([h]),E=v.then?(await v)():v;h=E[0];const b=({ref:e,name:t,size:a,extension:n="",timestamp:v,sender:E,thumbnailDataUri:b,previewData:w,className:x,smaller:C,isTransferring:N,isUploading:I,isSelectable:S,isSelected:M,transferProgress:k,actionIcon:T,onClick:P,onSelect:L,onDateClick:B})=>{const R=(0,h.A)();let D=(0,s.li)();e&&(D=e);const{isMobile:F}=(0,m.Ay)(),[O]=(0,s.J0)(!w),z=Boolean(w),U=(0,u.A)(b,z,F&&!r.QH),j=(0,p.A)(!z),{shouldRender:V,transitionClassNames:J}=(0,A.A)(N,void 0,!0),H=(0,c.fE)(n),$=(0,c.zV)(a),K=(0,s.Kr)(()=>N&&k?`${(0,c.zV)(a*k)} / ${$}`:$,[N,a,$,k]),{width:G,height:_}=(0,l.tP)(C),q=(0,o.A)("File",x,C&&"smaller",P&&!I&&"interactive",M&&"file-is-selected");return s.Ay.createElement("div",{ref:D,className:q,dir:R.isRtl?"rtl":void 0,onClick:L},S&&s.Ay.createElement("div",{className:"message-select-control no-selection"},M&&s.Ay.createElement(f.A,{name:"select"})),s.Ay.createElement("div",{className:"file-icon-container",onClick:I?void 0:P},b||w?s.Ay.createElement("div",{className:"file-preview media-inner"},s.Ay.createElement("img",{src:w,className:"full-media",width:G,height:_,draggable:!1,alt:""}),O&&s.Ay.createElement("canvas",{ref:U,className:(0,o.A)("thumbnail",j)})):s.Ay.createElement("div",{className:`file-icon ${H}`},n.length<=4&&s.Ay.createElement("span",{className:"file-ext",dir:"auto"},n)),V&&s.Ay.createElement("div",{className:(0,o.A)("file-progress",H,J)},s.Ay.createElement(y.A,{progress:k,size:C?"s":"m",onClick:I?P:void 0})),P&&s.Ay.createElement(f.A,{name:T||"download",className:(0,o.A)("action-icon",V&&"hidden")})),s.Ay.createElement("div",{className:"file-info"},s.Ay.createElement("div",{className:"file-title",dir:"auto",title:t},(0,d.A)(t)),s.Ay.createElement("div",{className:"file-subtitle",dir:"auto"},s.Ay.createElement("span",null,K),E&&s.Ay.createElement("span",{className:"file-sender"},(0,d.A)(E)),!E&&Boolean(v)&&s.Ay.createElement(s.Ay.Fragment,null,s.Ay.createElement("span",{className:"bullet"}),s.Ay.createElement(g.A,{onClick:B},(0,i.fS)(R,1e3*v,!0))))),E&&Boolean(v)&&s.Ay.createElement(g.A,{onClick:B},(0,i.be)(R,1e3*v)))},w=(0,s.ph)(b);n()}catch(e){n(e)}})},53827:(e,t,a)=>{"use strict";a.d(t,{_K:()=>g,dj:()=>v,kz:()=>y});var n=a(13439),s=a(89925),r=a(66644),o=a(60919),i=a(96454),c=a(60343),l=a(80853),d=a(41733);const m=new Map;let u,p=[],h=[];function A(e,t){const a=u&&m.get(u);a&&(a.audio.pause(),a.audio.currentTime=0,a.onTrackChange&&a.onTrackChange());const r=f(e,(0,o.nTw)((0,n.mS)()).audioPlayer.origin||s.d9.Inline,t);if(!r)return;if(!m.has(r))return void(0,n.ko)().openAudioPlayer((0,c.ES)(E(r).messageKey));const i=m.get(r);i.onForcePlay&&i.onForcePlay(),u=r,i.audio.src&&(0,d.A)(i.audio)}function g(){const e=u&&m.get(u);e&&e.audio.pause()}function y(e,t,a,g,y){if(!m.has(e)){const a=function(e,t,a,n){const s=new Audio;function r(t){return a=>{m.has(e)&&((0,l.f)(s)||m.get(e).handlers.forEach(e=>{e(t,a)}))}}return s.addEventListener("timeupdate",r("onTimeUpdate")),s.addEventListener("play",r("onPlay")),s.addEventListener("pause",r("onPause")),s.addEventListener("loadstart",r("onLoadStart")),s.addEventListener("loadeddata",r("onLoadedData")),s.addEventListener("playing",r("onPlaying")),s.addEventListener("ended",()=>{m.has(e)&&((0,l.f)(s)||A(e))}),{audio:s,type:t,proxy:new Proxy(s,{get:(e,t)=>e[t]}),handlers:[],onForcePlay:a,onTrackChange:n}}(e,t,g,y);m.set(e,a),function(e,t){"audio"!==e.type||h.includes(t)||(h.push(t),h.sort(b)),"voice"!==e.type||p.includes(t)||(p.push(t),p.sort(b))}(a,e)}const{audio:v,proxy:w,handlers:x}=m.get(e);return x.push(a),{play(a){if(!v.paused)return;const r=u&&m.get(u);r&&u!==e&&(r.audio.pause(),r.audio.currentTime=0,(0,l.f)(r.audio)&&(r.audio.dataset.preventPlayAfterPatch="true"),r.onTrackChange&&r.onTrackChange()),u=e,v.src||(v.src=a,v.preload="auto",a.includes("/progressive/")&&i.Yw&&(delete v.dataset.preventPlayAfterPatch,(0,l.C)(v))),(0,d.A)(v),function(e,t){if((0,o.nTw)((0,n.mS)()).globalSearch.currentContent===s.$C.Music)return;const{chatId:a}=(0,c.ES)(E(t).messageKey),r=(0,o.Xf0)((0,n.mS)())?.chatId,i=e=>e.startsWith(`msg${a}`)||r&&e.startsWith(`msg${r}`);"audio"===e&&(h=h.filter(i)),"voice"===e&&(p=p.filter(i))}(t,e)},pause(){u===e&&v.pause()},stop(){if(u===e){const e=v.src;v.pause(),(0,r.Uz)(()=>{v.src="",v.src=e})}},setCurrentTime(t){u===e&&(v.fastSeek?v.fastSeek(t):v.currentTime=t)},setVolume(t){u===e&&(v.volume=t,v.muted=!1)},setPlaybackRate(t){u===e&&(v.playbackRate=t)},toggleMuted(e){v.muted=void 0===e?!v.muted:e},proxy:w,requestNextTrack(){A(e)},isLast:()=>!f(e,(0,o.nTw)((0,n.mS)()).audioPlayer.origin),isFirst:()=>!f(e,(0,o.nTw)((0,n.mS)()).audioPlayer.origin,!0),requestPreviousTrack(){A(e,!0)},destroy(t=!1){const n=m.get(e);n&&(n.handlers=n.handlers.filter(e=>e!==a),n.handlers.length||(n.audio.pause(),m.delete(e),t&&function(e,t){const a=e=>e!==t;"audio"===e.type&&(h=h.filter(a)),"voice"===e.type&&(p=p.filter(a))}(n,e),e===u&&(u=void 0)))}}}function f(e,t=s.d9.Inline,a){const n=function(e){switch(e.type){case"audio":return h;case"voice":return p;default:return}}(m.get(e));if(!n)return;if(t===s.d9.Search){const t=n.indexOf(e);if(t<0)return;return n[t+(a?-1:1)]}const{chatId:r}=(0,c.ES)(E(e).messageKey),o=n.filter(e=>e.startsWith(`msg${r}`)),i=o.indexOf(e);if(i<0)return;let l=t===s.d9.Inline?-1:1;return a&&(l*=-1),o[i+l]}function v(e){const t=(0,c.AD)(e);if(t)return`${t}-${e.date}`}function E(e){return{messageKey:e.match(/^msg(-?\d+)-(\d+)/)[0],date:Number(e.split("-").pop())}}function b(e,t){if(!e||!t)return 0;const{date:a,messageKey:n}=E(e),{date:s,messageKey:r}=E(t),o=s-a;return 0===o?r.localeCompare(n):o}},54314:(e,t,a)=>{"use strict";a.a(e,async(e,n)=>{try{a.d(t,{A:()=>y});var s=a(84051),r=a(13439),o=a(90709),i=a(60919),c=a(9716),l=a(4961),d=a(17712),m=a(59030),u=a(64493),p=a(8410),h=a(21849),A=e([m,u,p,h]);[m,u,p,h]=A.then?(await A)():A;const g=({isOpen:e,chat:t,isSavedDialog:a,isChannel:n,isPrivateChat:i,isChatWithSelf:c,isBot:A,isBasicGroup:g,isSuperGroup:y,currentUserId:f,canDeleteForAll:v,contactName:E,onClose:b,onCloseAnimationEnd:w})=>{const{leaveChannel:x,deleteHistory:C,deleteSavedHistory:N,deleteChannel:I,deleteChatUser:S,blockUser:M,deleteChat:k}=(0,r.ko)(),T=(0,m.A)(),P=(0,o.Js)(T,t),L=(0,d.A)(()=>{C({chatId:t.id,shouldDeleteForAll:!0}),b()}),B=(0,d.A)(()=>{C({chatId:t.id,shouldDeleteForAll:!0}),M({userId:t.id}),b()}),R=(0,d.A)(()=>{a?N({chatId:t.id}):i?C({chatId:t.id,shouldDeleteForAll:!1}):g?t.isCreator?(C({chatId:t.id,shouldDeleteForAll:!0}),k({chatId:t.id})):(C({chatId:t.id,shouldDeleteForAll:!1}),S({chatId:t.id,userId:f})):!n&&!y||t.isCreator?(n||y)&&t.isCreator&&I({chatId:t.id}):x({chatId:t.id}),b()}),D=(0,d.A)(()=>{n||y?(x({chatId:t.id}),b()):g&&t.isCreator?(C({chatId:t.id,shouldDeleteForAll:!1}),S({chatId:t.id,userId:f})):R()});return s.Ay.createElement(p.A,{isOpen:e,className:"DeleteChatModal",header:s.Ay.createElement("div",{className:"modal-header",dir:T.isRtl?"rtl":void 0},s.Ay.createElement(h.A,{size:"tiny",peer:t,isSavedMessages:c}),s.Ay.createElement("h3",{className:"modal-title"},T(a?c?"ClearHistoryMyNotesTitle":"ClearHistoryTitleSingle2":n&&!t.isCreator?"LeaveChannel":n&&t.isCreator?"ChannelDelete":g||y?"Group.LeaveGroup":"DeleteChatUser"))),onClose:b,onCloseAnimationEnd:w},a?s.Ay.createElement("p",null,(0,l.A)(c?T("ClearHistoryMyNotesMessage"):T("ClearHistoryMessageSingle",P),["simple_markdown","emoji"])):n&&t.isCreator?s.Ay.createElement("p",null,(0,l.A)(T("ChatList.DeleteAndLeaveGroupConfirmation",P),["simple_markdown","emoji"])):n&&!t.isCreator||g||y?s.Ay.createElement("p",null,(0,l.A)(T("ChannelLeaveAlertWithName",P),["simple_markdown","emoji"])):s.Ay.createElement("p",null,(0,l.A)(T("ChatList.DeleteChatConfirmation",E),["simple_markdown","emoji"])),s.Ay.createElement("div",{className:"dialog-buttons-column"},A&&!a&&s.Ay.createElement(u.A,{color:"danger",className:"confirm-dialog-button",isText:!0,onClick:B},T("DeleteAndStop")),v&&s.Ay.createElement(u.A,{color:"danger",className:"confirm-dialog-button",isText:!0,onClick:L},E?(0,l.A)(T("ChatList.DeleteForEveryone",E)):T("DeleteForAll")),!i&&t.isCreator&&!a&&s.Ay.createElement(u.A,{color:"danger",className:"confirm-dialog-button",isText:!0,onClick:R},T("DeleteForAll")),s.Ay.createElement(u.A,{color:"danger",className:"confirm-dialog-button",isText:!0,onClick:i||a?R:D},T(a?"Delete":n&&!t.isCreator?"LeaveChannel":n&&t.isCreator?"Chat.Input.Delete":g||y?"Group.LeaveGroup":v?"ChatList.DeleteForCurrentUser":"Delete")),s.Ay.createElement(u.A,{className:"confirm-dialog-button",isText:!0,onClick:b},T("Cancel"))))},y=(0,s.ph)((0,r.EK)((e,{chat:t,isSavedDialog:a})=>{const n=(0,c.L8)(t.id),s=(0,i.nZ4)(e,t.id),r=n&&(0,i.mBe)(e,(0,o.e7)(t)),l=r&&(0,o.tv)(r)&&!t.isSupport,d=n&&!s&&!l&&!a,m=n?(0,o.u0)((0,i.mBe)(e,(0,o.e7)(t))):void 0;return{isPrivateChat:n,isChatWithSelf:s,isBot:l,isChannel:(0,o.WX)(t),isBasicGroup:(0,o.yn)(t),isSuperGroup:(0,o.Vs)(t),currentUserId:e.currentUserId,canDeleteForAll:d,contactName:m}})(g));n()}catch(e){n(e)}})},54699:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});var n=a(30857),s=a(32625);function r(e){const t=(0,n.A)();(0,s.A)(t,e,!0)}},55317:(e,t,a)=>{"use strict";function n(e,t){const{level:a,boosts:n,currentLevelBoosts:s,nextLevelBoosts:r,hasMyBoost:o,prepaidGiveaways:i}=e,c=t&&n===s&&o;return{currentLevel:c?a-1:a,hasNextLevel:Boolean(r),boosts:n,levelProgress:!r||c?1:(n-s)/(r-s),remainingBoosts:r?r-n:0,isMaxLevel:void 0===r,prepaidGiveaways:i}}a.d(t,{z:()=>n})},55378:(e,t,a)=>{"use strict";a.a(e,async(e,n)=>{try{a.d(t,{Ay:()=>$,lz:()=>J});var s=a(84051),r=a(13439),o=a(23174),i=a(89925),c=a(90709),l=a(60919),d=a(56494),m=a(53827),u=a(87357),p=a(50442),h=a(17663),A=a(70497),g=a(58443),y=a(91525),f=a(4961),v=a(86327),E=a(43874),b=a(88792),w=a(71533),x=a(17712),C=a(62587),N=a(69419),I=a(59030),S=a(50680),M=a(64493),k=a(96530),T=a(35913),P=a(4438),L=a(54746),B=e([C,N,I,M]);[C,N,I,M]=B.then?(await B)():B;const R=window.matchMedia("(max-width: 375px)"),D=window.matchMedia("(max-width: 410px)"),F=10,O=!0,z=({theme:e,message:t,senderTitle:a,uploadProgress:n,origin:l,date:d,noAvatars:A,className:y,isSelectable:v,isSelected:B,isDownloading:R,isTranscribing:D,isTranscriptionHidden:F,isTranscribed:z,isTranscriptionError:U,canDownload:$,canTranscribe:K,autoPlay:G,webPage:_,mediaDuration:q,onHideTranscription:W,onPlay:Z,onPause:Y,onReadMedia:Q,onCancelUpload:X,onDateClick:ee})=>{const{cancelMediaDownload:te,downloadMedia:ae,transcribeAudio:ne,openOneTimeMediaModal:se}=(0,r.ko)(),{content:{audio:re,voice:oe,video:ie},isMediaUnread:ce}=t,le=re||(0,c.y3)(_),de=oe||ie||le,me=oe||ie,ue=Boolean(oe||ie),pe=(0,s.li)(!1),he=(0,s.li)(),Ae=(0,I.A)(),{isRtl:ge}=Ae,{isMobile:ye}=(0,E.Ay)(),[fe,ve]=(0,s.J0)(!1),Ee=fe||O,be=(0,c.VO)(de,"pictogram"),we=(0,C.A)(be,!1,o.qZ.BlobUrl),xe=(0,c.G5)(t),Ce=l===i.d9.OneTimeModal,Ne=ue?xe?"oneTimeVoice":"voice":"audio",Ie=(0,C.A)((0,c.VO)(de,"inline"),!Ee,(0,c.Cz)(de,"inline")),{loadProgress:Se}=(0,N.A)((0,c.VO)(de,"download"),!R,(0,c.Cz)(de,"download")),Me=(0,x.A)(()=>{ve(!0),Z?.(t.id,t.chatId)}),ke=(0,x.A)(()=>{ve(!1)}),{isBuffered:Te,bufferedRanges:Pe,bufferingHandlers:Le,checkBuffering:Be}=(0,w.A)(),Re=Ce,{isPlaying:De,playProgress:Fe,playPause:Oe,setCurrentTime:ze,duration:Ue}=(0,b.A)((0,m.dj)(t),q,Ne,Ie,Le,void 0,Be,Boolean(fe||G),Me,ke,(0,c.Nb)(t)||xe,void 0,Y,Re,xe&&!Ce),je=1-Fe,Ve=(0,c.Ie)(t),Je=xe&&Ce,He=J(e,me,!ce||Ve||Je?Fe:1,Ve,!A,ye,Je),$e=De||Fe>0&&Fe<1;(0,s.vJ)(()=>{ve(De)},[De]);const Ke=fe&&!Te,{isUploading:Ge,isTransferring:_e,transferProgress:qe}=(0,c.LK)(n||Se,Ke||R,void 0!==n),{shouldRender:We,transitionClassNames:Ze}=(0,S.A)(_e),Ye=We&&(Ke||Ge),Qe=(0,x.A)(()=>{if(Ge)X?.();else{if(xe)return se({message:t}),void Q?.();De||Z?.(t.id,t.chatId),(0,r.ko)().setAudioPlayerOrigin({origin:l}),ve(!fe),Oe()}});(0,s.vJ)(()=>{Q&&ce&&De&&Q()},[De,ce,Q]);const Xe=(0,x.A)(()=>{R?te({media:de}):ae({media:de,originMessage:t})}),et=(0,x.A)(e=>{if(pe.current&&he.current){const{width:t,left:a}=he.current.getBoundingClientRect(),n=e instanceof MouseEvent?e.clientX:e.targetTouches[0].clientX;e.stopPropagation(),ze(Math.max(Math.min(Ue*((n-a)/t),Ue-.1),.001))}}),tt=(0,x.A)(e=>{e instanceof MouseEvent&&2===e.button||(pe.current=!0,et(e))}),at=(0,x.A)(()=>{pe.current=!1}),nt=(0,x.A)(()=>{ee(t)}),st=(0,x.A)(()=>{ne({chatId:t.chatId,messageId:t.id})});function rt(){if(ue)return a||"Voice";const{title:e,fileName:t}=le;return e||t}(0,s.vJ)(()=>{if(he.current&&$e&&!Ce)return(0,p.wJ)(he.current,{onCapture:tt,onRelease:at,onClick:at,onDrag:et})},[$e,tt,et,at,Ce]);const ot=(0,u.A)("Audio",y,Ce&&"non-interactive",l===i.d9.Inline&&"inline",Ve&&l===i.d9.Inline&&"own",(l===i.d9.Search||l===i.d9.SharedMedia)&&"bigger",B&&"audio-is-selected"),it=["toogle-play-wrapper"];Ye?it.push("loading"):it.push(De?"pause":"play");const ct=(0,u.A)("content",$e&&"with-seekline");function lt(){return s.Ay.createElement("div",{className:ct},s.Ay.createElement("div",{className:"content-row"},s.Ay.createElement("p",{className:"title",dir:"auto",title:rt()},(0,f.A)(rt())),s.Ay.createElement("div",{className:"message-date"},Boolean(d)&&s.Ay.createElement(k.A,{className:"date",onClick:nt},(0,h.be)(Ae,1e3*d)))),$e&&s.Ay.createElement("div",{className:"meta search-result",dir:ge?"rtl":void 0},s.Ay.createElement("span",{className:"duration with-seekline",dir:"auto"},Fe<1&&(0,h.QO)(Ue*Fe,Ue)),H(Fe,Pe,he)),!$e&&function(){if(ue)return s.Ay.createElement("div",{className:"meta",dir:ge?"rtl":void 0},(0,h.QO)((oe||ie).duration));const{performer:e}=le;return s.Ay.createElement("div",{className:"meta",dir:ge?"rtl":void 0},(0,h.QO)(Ue),s.Ay.createElement("span",{className:"bullet"},"â€¢"),e&&s.Ay.createElement("span",{className:"performer",title:e},(0,f.A)(e)),e&&a&&s.Ay.createElement("span",{className:"bullet"},"â€¢"),a&&s.Ay.createElement("span",{title:a},(0,f.A)(a)))}())}return s.Ay.createElement("div",{className:ot,dir:Ae.isRtl?"rtl":"ltr"},v&&s.Ay.createElement("div",{className:"message-select-control no-selection"},B&&s.Ay.createElement(L.A,{name:"select"})),s.Ay.createElement("div",{className:(0,u.A)(...it)},s.Ay.createElement(M.A,{round:!0,ripple:!ye,size:"smaller",className:"toggle-play",color:we?"translucent-white":"primary",ariaLabel:De?"Pause audio":"Play audio",onClick:Qe,isRtl:Ae.isRtl,backgroundImage:we,nonInteractive:Ce},!Ce&&s.Ay.createElement(L.A,{name:"play"}),!Ce&&s.Ay.createElement(L.A,{name:"pause"}),Ce&&s.Ay.createElement(P.A,{className:"flame",tgsUrl:g.w.Flame,nonInteractive:!0,noLoop:!1,size:40})),xe&&!Ce&&s.Ay.createElement(L.A,{name:"view-once"})),We&&s.Ay.createElement("div",{className:(0,u.A)("media-loading",Ze,Ye&&"interactive")},s.Ay.createElement(T.A,{progress:qe,transparent:!0,withColor:!0,size:"m",onClick:Ye?Qe:void 0,noCross:!Ye})),Ce&&!We&&s.Ay.createElement("div",{className:(0,u.A)("media-loading")},s.Ay.createElement(T.A,{progress:Fe,transparent:!0,size:"m",noCross:!0,rotationOffset:3/4})),le&&$&&!Ge&&s.Ay.createElement(M.A,{round:!0,size:"tiny",className:"download-button",ariaLabel:R?"Cancel download":"Download",onClick:Xe},s.Ay.createElement(L.A,{name:R?"close":"arrow-down"})),l===i.d9.Search&&lt(),l!==i.d9.Search&&le&&j(Ae,le,Ue,De,Fe,Pe,he,R||Ge,d,qe,ee?nt:void 0),l===i.d9.SharedMedia&&me&&lt(),(l===i.d9.Inline||Ce||z)&&me&&V(me,he,He,xe?je:Fe,ce,D,F,z,U,K?st:void 0,W,l))};function U(e,t){return{MIN_SPIKES:e?R.matches?16:20:25,MAX_SPIKES:e?R.matches?35:t&&D.matches?40:45:75}}function j(e,t,a,n,r,o,i,c,l,d,m){const{title:u,performer:p,fileName:A}=t,g=n||r>0&&r<1,{isRtl:v}=e;return s.Ay.createElement("div",{className:"content"},s.Ay.createElement("p",{className:"title",dir:"auto",title:u},(0,f.A)(u||A)),g&&s.Ay.createElement("div",{className:"meta",dir:v?"rtl":void 0},s.Ay.createElement("span",{className:"duration with-seekline",dir:"auto"},(0,h.QO)(a*r,a)),H(r,o,i)),!g&&c&&s.Ay.createElement("div",{className:"meta",dir:v?"rtl":void 0},d?`${(0,y.zV)(t.size*d)} / `:void 0,(0,y.zV)(t.size)),!g&&!c&&s.Ay.createElement("div",{className:"meta",dir:v?"rtl":void 0},s.Ay.createElement("span",{className:"duration",dir:"auto"},(0,h.QO)(a)),p&&s.Ay.createElement(s.Ay.Fragment,null,s.Ay.createElement("span",{className:"bullet"},"â€¢"),s.Ay.createElement("span",{className:"performer",dir:"auto",title:p},(0,f.A)(p))),Boolean(l)&&s.Ay.createElement(s.Ay.Fragment,null,s.Ay.createElement("span",{className:"bullet"},"â€¢"),s.Ay.createElement(k.A,{className:"date",onClick:m},(0,h.fS)(e,1e3*l,!0)))))}function V(e,t,a,n,r,o,c,l,d,m,p,A){return s.Ay.createElement("div",{className:"content"},s.Ay.createElement("div",{className:"waveform-wrapper"},s.Ay.createElement("div",{className:"waveform",draggable:!1,ref:t},s.Ay.createElement("canvas",{ref:a})),m&&s.Ay.createElement(M.A,{onClick:()=>{(l||d)&&p?p(!c):o||m()}},s.Ay.createElement(L.A,{name:l||d?"down":"transcribe",className:(0,u.A)("transcribe-icon",(l||d)&&!c&&"transcribe-shown")}),o&&s.Ay.createElement("svg",{viewBox:"0 0 32 24",className:"loading-svg"},s.Ay.createElement("rect",{className:"loading-rect",fill:"transparent",width:"32",height:"24","stroke-width":"3","stroke-linejoin":"round",rx:"6",ry:"6",stroke:"white","stroke-dashoffset":"1","stroke-dasharray":"32,68"})))),s.Ay.createElement("p",{className:(0,u.A)("voice-duration",A!==i.d9.OneTimeModal&&r&&"unread"),dir:"auto"},0===n||1===n?(0,h.QO)(e.duration):(0,h.QO)(e.duration*n)))}function J(e,t,a=0,n=!1,r=!1,o=!1,i=!1){const c=(0,s.li)(),{data:l,peak:d}=(0,s.Kr)(()=>{if(!t)return;const{waveform:e,duration:a}=t;if(!e)return{data:new Array(Math.min(a,v.r)).fill(0),peak:0};const{MIN_SPIKES:n,MAX_SPIKES:s}=U(o,r),i=Math.min(a/F,1),c=Math.round(n+(s-n)*i),l=(0,A.e)(new Uint8Array(e));return(0,A.p)(l,c)},[o,t,r])||{};return(0,s.Nf)(()=>{const t=c.current;if(!t||!l||void 0===d)return;const s=n?"dark"===e?"#B7ABED":"#AEDFA4":"dark"===e?"#494A78":"#ADD3F7",r=n?"dark"===e?"#FFFFFF":"#4FAE4E":"dark"===e?"#8774E1":"#3390EC";(0,v.u)(t,l,i?1-a:a,{peak:d,fillStyle:s,progressFillStyle:r})},[n,d,a,l,e,i]),c}function H(e,t,a){return s.Ay.createElement("div",{className:"seekline",ref:a},t.map(({start:e,end:t})=>s.Ay.createElement("div",{className:"seekline-buffered-progress",style:`left: ${100*e}%; right: ${100-100*t}%`})),s.Ay.createElement("span",{className:"seekline-play-progress"},s.Ay.createElement("i",{className:"seekline-play-progress-inner",style:`transform: translateX(${100*e}%)`})),s.Ay.createElement("span",{className:"seekline-thumb"},s.Ay.createElement("i",{className:"seekline-thumb-inner",style:`transform: translateX(${100*e}%)`})))}const $=(0,s.ph)((0,r.EK)((e,{message:t})=>({webPage:(0,l.Pn$)(e,t),mediaDuration:(0,d.Y9)(e,t)}))(z));n()}catch(K){n(K)}})},55429:(e,t,a)=>{"use strict";a.a(e,async(e,n)=>{try{a.d(t,{N:()=>l});var s=a(90709),r=a(70636),o=a(9716),i=e([r]),c=i.then?(await i)():i;function l(e,t,a,n){const{senderId:i}=t;if(!i)return;const c=(0,o.L8)(i)?n[i]:a[i];let l=(0,r.F9)(e,c);const d=a[t.chatId];return d&&("isSelf"in c&&c.isSelf?l=`${e("FromYou")} â†’ ${(0,s.Js)(e,d)}`:(0,s.YE)(d)&&(l+=` â†’ ${(0,s.Js)(e,d)}`)),l}r=c[0],n()}catch(d){n(d)}})},56294:(e,t,a)=>{"use strict";a.d(t,{A:()=>n});const n={root:"Ky16H_sV","button-text":"W01t9CIf",buttonText:"W01t9CIf",sticker:"c8lE3XW5",title:"wlwD1B1Q",description:"V8OCFHmp","is-ios":"IxW_z_r0",isIos:"IxW_z_r0","is-macos":"OFxKGCEJ",isMacos:"OFxKGCEJ"}},56534:(e,t,a)=>{"use strict";e.exports=a.p+"map-pin.899635f6fe777c28998a.svg"},57001:(e,t,a)=>{"use strict";a.d(t,{A:()=>o});var n=a(84051),s=a(80089),r=a(80464);const o=e=>{const{isOpen:t}=e,a=(0,r.A)(s.ar.Extra,"PollModal",!t);return a?n.Ay.createElement(a,e):void 0}},57291:(e,t,a)=>{"use strict";a.a(e,async(e,n)=>{try{a.d(t,{B:()=>A});var s=a(96540),r=a(32017),o=a.n(r),i=a(92508),c=a(66969),l=a(22199),d=a(27270),m=a(95547),u=a(40708),p=e([d,m]);function h({chatId:e,className:t,isLoading:a,status:n,messages:r,hasMore:o,deleteMessage:p,loadMore:h}){const A=(0,s.useRef)(!1),g=(0,s.useRef)(null),{containerRef:y,endRef:f,isAtBottom:v,onViewportEnter:E,onViewportLeave:b}=(0,c.o)({chatId:e,status:n});return v&&m.A.updateRoomAIData(u.bL,"unreadCount",0),s.createElement("div",{ref:y,onScroll:()=>{const e=y.current;if(!e||A.current)return;const{scrollTop:t}=e;if(0===t&&o){A.current=!0;const t=e.firstChild?.firstChild||null;g.current=t,h().finally(()=>{A.current=!1,g.current&&g.current.scrollIntoView({behavior:"instant",block:"start"})})}},className:(0,l.cn)("ai-message-container custom-scroll flex flex-col min-w-0 gap-[10px] h-full overflow-y-auto relative pt-4 overflow-x-hidden",t)},r.map((e,t)=>(e=>e?.annotations?.some(e=>e&&"object"==typeof e&&"isAuxiliary"in e&&!0===e.isAuxiliary)??!1)(e)?null:s.createElement(d.eL,{message:e,deleteMessage:p,key:e.id,isLoading:"streaming"===n&&r.length-1===t})),("submitted"===n&&r.length>0&&"user"===r[r.length-1].role||a)&&s.createElement(d.qo,null),s.createElement(i.P.div,{ref:f,className:"shrink-0 min-w-[24px] min-h-[24px]",onViewportLeave:b,onViewportEnter:E}))}[d,m]=p.then?(await p)():p;const A=(0,s.memo)(h,(e,t)=>!(e.status!==t.status||e.status&&t.status||e.messages.length!==t.messages.length||!o()(e.messages,t.messages)));n()}catch(g){n(g)}})},57415:(e,t,a)=>{"use strict";a.d(t,{A:()=>n});const n={root:"yftKUVDQ",sticker:"UCBfMOiz",title:"dB9cHelg",description:"TJ_liZcJ","is-ios":"z51XfrFn",isIos:"z51XfrFn","is-macos":"tiLqJXxs",isMacos:"tiLqJXxs","button-text":"aL7e0w4t",buttonText:"aL7e0w4t",centered:"NefQ8HbN"}},57532:(e,t,a)=>{"use strict";a.d(t,{A:()=>n});const n={businessLocation:"UZbkeFDB",personalChannel:"HP5EJx7s",personalChannelTitle:"cHyTGri2",botVerificationSection:"RWFu5ENh",sectionInfo:"IrqRJFxm",botVerificationIcon:"b32hsSPS",personalChannelSubscribers:"kYd2GrmU",personalChannelItem:"qOJwhXMC",openAppButton:"x925YeS3"}},57674:(e,t,a)=>{"use strict";a.d(t,{cn:()=>r,y8:()=>o});var n=a(34164),s=a(50856);function r(...e){return(0,s.QP)((0,n.$)(e))}function o(e){return e.map(e=>{if("assistant"!==e.role)return e;if(!e.toolInvocations)return e;const t=[];for(const a of e.toolInvocations)"result"===a.state&&t.push(a.toolCallId);const a=e.toolInvocations.filter(e=>"result"===e.state||t.includes(e.toolCallId));return{...e,toolInvocations:a}}).filter(e=>e.content.length>0||e.toolInvocations&&e.toolInvocations.length>0)}},57729:(e,t,a)=>{"use strict";a.a(e,async(e,n)=>{try{a.d(t,{A:()=>g,X:()=>y});var s=a(74353),r=a.n(s),o=a(84051),i=a(13439),c=a(87357),l=a(11553),d=a(23814),m=a(8235),u=a(37143),p=a(43955),h=e([u,p]);[u,p]=h.then?(await h)():h;const A=({topicItem:e,index:t,chatId:a})=>{const{title:n,summaryItems:s}=e;if(!n||!a)return;const{focusMessage:r}=(0,i.ko)();return o.Ay.createElement("div",{className:"px-3"},o.Ay.createElement("div",{className:"flex flex-row items-center flex-wrap"},o.Ay.createElement("span",{className:"font-[700] mr-[14px]"},t+1,". ",n),o.Ay.createElement(p.A,{chatId:a})),o.Ay.createElement("ul",{className:"list-disc pl-1 list-inside"},s.map(e=>{const{content:t,relevantMessageIds:n}=e;if(t)return o.Ay.createElement("li",{role:"button",className:"cursor-pointer break-words",onClick:()=>function(e){if(!a)return;const t=Math.min(...e);t&&r({chatId:a,messageId:t})}(n)},t)})))},g=({data:e,isLast:t})=>o.Ay.createElement("div",{className:(0,c.A)("flex flex-col border-b-[1px]",t?"border-[transparent]":"border-[#EDEDED]")},o.Ay.createElement("div",{className:"flex items-center justify-between gap-1 px-3"},o.Ay.createElement("div",{className:"flex items-center gap-2"},o.Ay.createElement("img",{src:m,className:"w-[22px] h-[22px]",alt:""}),o.Ay.createElement("div",{className:"font-[600]"},"Tely AI")),o.Ay.createElement("div",{className:"text-[12px] text-[#979797]"},r()(e?.time).format("MMM D"),", ",e?.timeRange?.split("-")?.[1])),o.Ay.createElement("div",{className:"my-2 px-3"},o.Ay.createElement("div",{className:"flex items-center gap-[8px]"},o.Ay.createElement("img",{className:"w-[16px] h-[16px]",src:l,alt:""}),o.Ay.createElement("div",{className:"flex items-center gap-[4px]"},o.Ay.createElement("span",{className:"mr-[4px] font-bold text-[14px]"},"Time range: "),r()(e?.time).format("MMM D"),", ",e?.timeRange)),o.Ay.createElement("div",{className:"flex items-center gap-[8px]"},o.Ay.createElement("img",{className:"w-[16px] h-[16px]",src:d,alt:""}),o.Ay.createElement("div",{className:"flex items-center gap-[4px]"},o.Ay.createElement("span",{className:"font-bold text-[14px]"},"Messages: "),e?.messageCount?o.Ay.createElement("span",null,e?.messageCount):void 0))),e?.chatGroups?.map((e,t)=>o.Ay.createElement(A,{key:e?.chatId,chatId:e?.chatId,topicItem:e,index:t}))),y=({user:e,data:t,isLast:a})=>o.Ay.createElement("div",{className:(0,c.A)("flex flex-col pb-3 border-b-[1px]",a?"border-[transparent]":"border-[#EDEDED]")},o.Ay.createElement("div",{className:"flex items-center justify-between gap-1 px-3"},o.Ay.createElement("div",{className:"flex items-center gap-2"},o.Ay.createElement("img",{src:m,className:"w-[22px] h-[22px]",alt:""}),o.Ay.createElement("div",{className:"font-[600]"},"Tely AI")),o.Ay.createElement("div",{className:"text-[12px] text-[#979797]"},r()(t?.time).format("MMM D, HH:mm"))),o.Ay.createElement("div",{className:"ml-[25px] mt-2 px-3"},o.Ay.createElement("div",{className:"mb-1"},o.Ay.createElement("span",{className:"font-[600]"},e?.firstName||""," ",e?.lastName||""),"Post a Story"),o.Ay.createElement(u.A,{story:t.message,isArchive:!1})));n()}catch(e){n(e)}})},57773:(e,t,a)=>{"use strict";a.d(t,{A:()=>A});var n=a(84051),s=a(13439),r=a(31481),o=a(98221),i=a(96454),c=a(17237),l=a(17778),d=a(83414),m=a(19129),u=a(37661);const p=8,h=new RegExp(`^${r.bpX.source}$`,"g");function A(e,t,a){const{loadStickersForEmoji:A,clearStickersForEmoji:g}=(0,s.ko)(),[y,f,v]=(0,u.A)(!1),E=(0,d.A)(()=>{const a=t();if(!e||!a||i.TL&&a.length>p)return;if(!a.match(i.TL?o.A:r.bpX))return;const n=(0,l.S)(a);return n&&(i.TL&&1===(0,c.A)(n)||!i.TL&&Boolean(a.match(h)))?i.TL?n:n.match(/alt="(.+)"/)?.[1]:void 0},[t,e]),b=(0,m.A)(()=>Boolean(E()),[E]),w=Boolean(a?.length);return(0,n.vJ)(()=>{if(!e||!b)return;const t=E();t?w||A({emoji:t}):g()},[e,b,E,w,A,g]),(0,n.vJ)(v,[v,t]),{isStickerTooltipOpen:Boolean(b&&w&&!y),closeStickerTooltip:f}}},58324:(e,t,a)=>{"use strict";a.d(t,{i9:()=>s,ku:()=>c,n5:()=>r,sh:()=>i,w7:()=>o});var n=a(25279);const s=()=>({timestamp:(new Date).getTime(),content:"",id:(0,n.A)(),createdAt:new Date,role:"assistant",annotations:[{type:"global-meeting-introduce"}]}),r=()=>({timestamp:(new Date).getTime(),content:"",id:(0,n.A)(),createdAt:new Date,role:"assistant",annotations:[{type:"global-summary-introduce"}]}),o=()=>({timestamp:(new Date).getTime(),content:"",id:(0,n.A)(),createdAt:new Date,role:"assistant",annotations:[{type:"global-translation-introduce"}]}),i=()=>({timestamp:(new Date).getTime(),content:"",id:(0,n.A)(),createdAt:new Date,role:"assistant",annotations:[{type:"global-actions-introduce"}]}),c=()=>({timestamp:(new Date).getTime(),content:"",id:(0,n.A)(),createdAt:new Date,role:"assistant",annotations:[{type:"global-introduce"}]})},59148:(e,t,a)=>{"use strict";a.a(e,async(e,n)=>{try{a.d(t,{A:()=>w});var s=a(84051),r=a(13439),o=a(23174),i=a(89925),c=a(66644),l=a(90709),d=a(60919),m=a(96454),u=a(9716),p=a(2178),h=a(17712),A=a(59030),g=a(54746),y=a(64493),f=a(86377),v=e([A,y]);[A,y]=v.then?(await v)():v;const E=320,b=({chatId:e,threadId:t,noMenu:a,isMobile:n,isChannel:o,canStartBot:l,canRestartBot:d,canUnblock:u,canSubscribe:v,canSearch:b,canCall:w,canMute:C,canViewStatistics:N,canViewMonetization:I,canViewBoosts:S,canShowBoostModal:M,canLeave:k,canEnterVoiceChat:T,canCreateVoiceChat:P,channelMonoforumId:L,pendingJoinRequests:B,isRightColumnShown:R,isForForum:D,canExpandActions:F,shouldJoinToSend:O,shouldSendJoinRequest:z,noAnimation:U,onTopicSearch:j,isAccountFrozen:V})=>{const{joinChannel:J,sendBotCommand:H,openMiddleSearch:$,restartBot:K,requestMasterAndRequestCall:G,requestNextManagementScreen:_,showNotification:q,openChat:W,unblockUser:Z,setViewForumAsMessages:Y}=(0,r.ko)(),Q=(0,s.li)(),X=(0,A.A)(),[ee,te]=(0,s.J0)(!1),[ae,ne]=(0,s.J0)(void 0),se=(0,h.A)(()=>{te(!0);const e=Q.current.getBoundingClientRect();ne({x:e.right,y:e.bottom})}),re=(0,h.A)(()=>{te(!1)}),oe=(0,h.A)(()=>{ne(void 0)}),ie=(0,h.A)(()=>{J({chatId:e}),z&&q({message:X(o?"RequestToJoinChannelSentDescription":"RequestToJoinGroupSentDescription")})}),ce=(0,h.A)(()=>{H({command:"/start"})}),le=(0,h.A)(()=>{K({chatId:e})}),de=(0,h.A)(()=>{Z({userId:e})}),me=(0,h.A)(()=>{_({screen:i.je.JoinRequests})}),ue=(0,h.A)(()=>{D?j?.():($(),n?x():U?(0,c.YS)(()=>{(0,c.Uz)(x)}):setTimeout(x,E))}),pe=(0,h.A)(()=>{W({id:e}),Y({chatId:e,isEnabled:!0})}),he=(0,h.A)(()=>{V||G({userId:e})}),Ae=(0,h.A)(e=>{b&&m.lE&&!e.shiftKey&&(e.preventDefault(),ue())});return(0,p.v)((0,s.Kr)(()=>({"Mod+F":Ae}),[])),s.Ay.createElement("div",{className:"HeaderActions"},!n&&s.Ay.createElement(s.Ay.Fragment,null,F&&!z&&(v||O)&&s.Ay.createElement(y.A,{size:"tiny",ripple:!0,fluid:!0,onClick:ie},X(o?"ProfileJoinChannel":"ProfileJoinGroup")),F&&z&&s.Ay.createElement(y.A,{size:"tiny",ripple:!0,fluid:!0,onClick:ie},X("ChannelJoinRequest")),F&&l&&s.Ay.createElement(y.A,{size:"tiny",ripple:!0,fluid:!0,onClick:ce},X("BotStart")),F&&d&&s.Ay.createElement(y.A,{size:"tiny",ripple:!0,fluid:!0,onClick:le},X("BotRestart")),F&&u&&s.Ay.createElement(y.A,{size:"tiny",ripple:!0,fluid:!0,onClick:de},X("Unblock")),b&&s.Ay.createElement(y.A,{round:!0,ripple:R,color:"translucent",size:"smaller",onClick:ue,ariaLabel:X("Conversation.SearchPlaceholder")},s.Ay.createElement(g.A,{name:"search"})),w&&s.Ay.createElement(y.A,{round:!0,color:"translucent",size:"smaller",onClick:he,ariaLabel:"Call"},s.Ay.createElement(g.A,{name:"phone"}))),!D&&Boolean(B)&&s.Ay.createElement(y.A,{round:!0,className:"badge-button",ripple:R,color:"translucent",size:"smaller",onClick:me,ariaLabel:X(o?"SubscribeRequests":"MemberRequests")},s.Ay.createElement(g.A,{name:"user"}),s.Ay.createElement("div",{className:"badge"},B)),s.Ay.createElement(y.A,{ref:Q,className:ee?"active":"",round:!0,ripple:!n,size:"smaller",color:"translucent",disabled:a,ariaLabel:"More actions",onClick:se},s.Ay.createElement(g.A,{name:"more"})),ae&&s.Ay.createElement(f.A,{chatId:e,threadId:t,isOpen:ee,anchor:ae,withExtraActions:n||!F,isChannel:o,canStartBot:l,canSubscribe:v,canSearch:b,canCall:w,canMute:C,canViewStatistics:N,canViewBoosts:S,canViewMonetization:I,canShowBoostModal:M,canLeave:k,canEnterVoiceChat:T,canCreateVoiceChat:P,pendingJoinRequests:B,onJoinRequestsClick:me,withForumActions:D,channelMonoforumId:L,onSubscribeChannel:ie,onSearchClick:ue,onAsMessagesClick:pe,onClose:re,onCloseAnimationEnd:oe}))},w=(0,s.ph)((0,r.EK)((e,{chatId:t,threadId:a,messageListType:n,isMobile:s})=>{const r=(0,d.hds)(e,t),i=Boolean(r&&(0,l.WX)(r)),c=Boolean(r&&(0,l.Vs)(r)),p=(0,d.wmb)(e),h=(0,d.Qq_)(e),A=(0,u.L8)(t),{doNotTranslate:g}=e.settings.byKey,y=(0,d._ls)(e,t);if(!r||y||(0,d.rTV)(e))return{noMenu:!0,language:p,translationLanguage:h,doNotTranslate:g};const f=(0,d.yps)(e,t),v=A?void 0:(0,d.AWZ)(e,t),E=A?(0,d.vGo)(e,t):void 0,b=v||E,w=(0,d.nZ4)(e,t),x="thread"===n&&a===o.l3,C="thread"===n&&a!==o.l3,N=(0,d.gjV)(e,s),I=(0,l.cG)(t,a,e.currentUserId),S=!!A&&(0,d.apd)(e,t),M=Boolean(f&&S),k=!M&&Boolean((0,d.I_m)(e,t)),T=S&&!f,P=Boolean((x||r.isForum)&&(i||c)&&r.isNotJoined&&!r.isMonoforum),L=x||C,B=m.OL&&(0,u.L8)(r.id)&&!w&&!f&&!r.isSupport&&!(0,l.Qe)(r.id),R=x&&!w&&!P,D=I||x&&!P,F=m.OL&&x&&r.isCallActive,O=m.OL&&x&&!r.isCallActive&&(r.adminRights?.manageCall||r.isCreator&&(0,l.yn)(r))&&!r.isMonoforum,z=x&&v?.canViewStatistics,U=x&&v?.canViewMonetization,j=x&&!r.isMonoforum&&(c||i)&&(z||(0,l.ub)(r,"postStories")),V=!j&&(c||i)&&!r.isMonoforum,J=x?v?.requestsPending:void 0,H=Boolean(r?.isNotJoined&&r.isJoinToSend),$=Boolean(r?.isNotJoined&&r.isJoinRequest),K=!(0,d.PKK)(e),G=(0,d.trm)(e),_=(0,l.WX)(r)?r.linkedMonoforumId:void 0,q=Boolean((0,d.qZq)(e,t));return{noMenu:!1,isChannel:i,isRightColumnShown:N,canStartBot:k,canRestartBot:M,canSubscribe:P,canSearch:L,canCall:B,canMute:R,canViewStatistics:z,canViewMonetization:U,canViewBoosts:j,canShowBoostModal:V,canLeave:D,canEnterVoiceChat:F,canCreateVoiceChat:O,pendingJoinRequests:J,shouldJoinToSend:H,shouldSendJoinRequest:$,noAnimation:K,canTranslate:(0,d.jGY)(e,t)&&!b?.isTranslationDisabled,isTranslating:q,translationLanguage:h,language:p,doNotTranslate:g,detectedChatLanguage:r.detectedLanguage,canUnblock:T,isAccountFrozen:G,channelMonoforumId:_}})(b));function x(){const e=document.querySelector("#MiddleSearch input");e?.focus()}n()}catch(C){n(C)}})},60138:(e,t,a)=>{"use strict";a.d(t,{A:()=>o});var n=a(84051),s=a(37836),r=a(17712);function o(e){const t=(0,r.A)(e);(0,n.vJ)(()=>(0,s.yu)(t),[t])}},60173:(e,t,a)=>{"use strict";a.d(t,{A:()=>o});var n=a(84051),s=a(80089),r=a(80464);const o=e=>{const{isOpen:t}=e,a=(0,r.A)(s.ar.Extra,"StickerTooltip",!t);return a?n.Ay.createElement(a,e):void 0}},60195:()=>{},60406:(e,t,a)=>{"use strict";a.d(t,{A:()=>i});var n=a(84051),s=a(61433),r=a(66644),o=a(37836);const i=({containerRef:e,selector:t},a)=>{(0,n.Nf)(()=>{const a=e.current?.querySelectorAll(t);if(!a?.length)return;const n=(0,o.nF)(e=>{const t=e.target,a=t.scrollTop>0;(0,r.RK)(()=>{(0,s.dH)(t,"scrolled",a)})},100);return a.forEach(e=>{(0,s.YM)(e,"with-notch"),e.addEventListener("scroll",n,{passive:!0})}),()=>{a.forEach(e=>{e.removeEventListener("scroll",n),(0,s.HW)(e,"with-notch")})}},[e,t,...a]),(0,n.vJ)(()=>{const a=e.current?.querySelectorAll(t);a?.length&&a.forEach(e=>{const t=e.scrollTop>0;(0,r.RK)(()=>{(0,s.dH)(e,"scrolled",t)})})},[e,t,...a])}},60410:(e,t,a)=>{"use strict";a.a(e,async(e,n)=>{try{a.d(t,{A:()=>u});var s=a(96540),r=a(13439),o=a(60919),i=a(8235),c=a(17712),l=a(15972),d=e([l]),m=d.then?(await d)():d;l=m[0];const u=e=>{const t=(0,r.mS)(),{openUserPortrait:a}=(0,r.ko)(),n=e?.userId,d=n?(0,o.mBe)(t,n):void 0,m=(0,c.A)(()=>{a({userId:n})});return s.createElement("div",{className:"flex flex-col gap-2 px-3 text-[14px]"},s.createElement("div",{className:"rounded-[16px] bg-[var(--color-ai-room-media-bg)] text-[var(--color-text)] p-3 text-[14px]"},s.createElement("div",{className:"flex items-center gap-2"},s.createElement("img",{src:i,className:"w-[18px] h-[18px]"}),"Tely AI"),d?s.createElement("div",{onClick:m,className:"flex flex-row items-center gap-2 mt-2 cursor-pointer hover:opacity-80"},s.createElement(l.A,{peer:d,size:"small"}),`${d?.firstName||""} ${d?.lastName||""}`," 's Portrait"):s.createElement("div",null,"Couldn't find the user.")))};n()}catch(e){n(e)}})},61097:(e,t,a)=>{"use strict";a.d(t,{A:()=>u});var n=a(90709),s=a(84051),r=a(66644),o=a(67054),i=a(87679),c=a(41074),l=a(17712);const d=.1;let m=-1;function u(e,t){return function(e,t=!1){const a=(0,s.li)(),n=(0,s.Kr)(()=>(0,o.A)(c.bP,++m),[]),u=(0,s.li)(),p=(0,l.A)(async(e,t)=>{const a=await(0,i.NN)(t);a&&(0,r.RK)(()=>{e.width=a.width,e.height=a.height,u.current=e.transferControlToOffscreen();const s=Math.ceil(Math.min(a.width,a.height)*d);(0,c.M1)({name:"offscreen-canvas:blurThumb",args:[u.current,t,s],transferables:[u.current]},n)})});return(0,s.Nf)(()=>{if(!e||t||u.current)return;const n=a.current;n&&p(n,e)},[p,t,e]),a}(e?"string"==typeof e?e:(0,n.VD)(e):void 0,t)}},61321:(e,t,a)=>{"use strict";a.d(t,{A:()=>n});const n={root:"wqsZyy8u",button:"NGmo4ADz",info:"iFn6m6hd",reason:"l8QfocIQ",arrow:"ONmpzmUS",incoming:"BfgDXljM",missed:"Alra_BWu",canceled:"J7xsuCAm",meta:"rF5tkx92",duration:"kKPKwFzu"}},61407:(e,t,a)=>{"use strict";a.a(e,async(e,n)=>{try{a.d(t,{A:()=>T});var s=a(84051),r=a(13439),o=a(66644),i=a(90709),c=a(87357),l=a(17663),d=a(47526),m=a(80140),u=a(32625),p=a(14737),h=a(30857),A=a(17712),g=a(62587),y=a(59030),f=a(73767),v=a(38691),E=a(21849),b=a(55158),w=a(56534),x=e([g,y,E]);[g,y,E]=x.then?(await x)():x;const C=12,N=2*C*Math.PI,I=1e-4,S={width:400,height:300,zoom:16},M=({message:e,peer:t})=>{const{openMapModal:a}=(0,r.ko)(),n=(0,s.li)(),x=(0,s.li)(),M=(0,y.A)(),T=(0,h.A)(),P=(0,i.fB)(e),{mediaType:L,geo:B}=P,R=(0,m.Fm)(),D=(0,i.vz)(e),F="geoLive"!==L||D?void 0:e.date+P.period-R,[O,z]=(0,s.J0)(B),U="venue"===L||"geoLive"===L&&!D,{width:j,height:V,zoom:J}=S,H=(0,v.A)(),$=(0,i.rt)(O,j,V,J,H),K=(0,g.A)($),G=(0,f.A)(K,!0),_=K||G,q=(0,s.Kr)(()=>{if("geoLive"!==L||!O.accuracyRadius)return 0;const{lat:e,accuracyRadius:t}=O;return t/(0,d._u)(e,J)},[L,O,J]),W=(0,A.A)(t=>{if("geoLive"!==L)return;const a=t.lastElementChild,n=t.firstElementChild,s=e.date+P.period-(0,m.Fm)(),r=(1-s/P.period)*N,o=(0,l.dq)(M,1e3*s);n.textContent=o,a.firstElementChild.setAttribute("stroke-dashoffset",`-${r}`)});return(0,s.Nf)(()=>{x.current&&W(x.current)},[W]),(0,s.vJ)(()=>{Math.abs(B.lat-O.lat)<I&&Math.abs(B.long-O.long)<I?O.accuracyRadius!==B.accuracyRadius&&z({...O,accuracyRadius:B.accuracyRadius}):z(B)},[B,O]),(0,p.A)(()=>{T()},D?void 0:1e3*(F||0)),(0,u.A)(()=>{(0,o.RK)(()=>{const e=x.current;e&&W(e)})},F?1e3:void 0),s.Ay.createElement("div",{ref:n,className:"Location media-inner interactive",onClick:()=>{a({geoPoint:O,zoom:J})}},s.Ay.createElement("div",{className:"map-wrapper"},_?s.Ay.createElement("img",{className:"full-media map",src:_,alt:"Location on a map",draggable:!1,style:`width: ${S.width}px; height: ${S.height}px;`}):s.Ay.createElement(b.A,{width:j,height:V}),function(){if(_)return s.Ay.createElement(s.Ay.Fragment,null,Boolean(q)&&!D&&s.Ay.createElement("div",{className:"location-accuracy",style:`width: ${2*q}px; height: ${2*q}px`}),function(){const e=(0,c.A)("pin",L,D&&"expired");if("geoLive"===L)return s.Ay.createElement("div",{className:e},s.Ay.createElement(k,null),s.Ay.createElement(E.A,{peer:t,className:"location-avatar"}),void 0!==P.heading&&s.Ay.createElement("div",{className:"direction",style:`--direction: ${P.heading}deg`}));if("venue"===L){const t=(0,d.PP)(P.venueType),a=(0,d.KE)(P.venueType);if(a)return s.Ay.createElement("div",{className:e,style:`--pin-color: ${t}`},s.Ay.createElement(k,null),s.Ay.createElement("img",{src:a,draggable:!1,className:"venue-icon",alt:""}))}return s.Ay.createElement("img",{className:e,draggable:!1,src:w,alt:""})}())}()),function(){if(U)return"venue"===L?s.Ay.createElement("div",{className:"location-info"},s.Ay.createElement("div",{className:"location-info-title"},P.title),s.Ay.createElement("div",{className:"location-info-subtitle"},P.address)):"geoLive"===L?s.Ay.createElement("div",{className:"location-info"},s.Ay.createElement("div",{className:"location-info-title"},M("AttachLiveLocation")),s.Ay.createElement("div",{className:"location-info-subtitle"},(0,l.IF)(M,R,e.editDate)),!D&&s.Ay.createElement("div",{className:"geo-countdown",ref:x},s.Ay.createElement("span",{className:"geo-countdown-text"}),s.Ay.createElement("svg",{width:"32px",height:"32px"},s.Ay.createElement("circle",{cx:"16",cy:"16",r:C,className:"geo-countdown-progress",transform:"rotate(-90, 16, 16)","stroke-dasharray":N,"stroke-dashoffset":"0"})))):void 0}())};function k(){return s.Ay.createElement("svg",{className:"round-pin",style:"enable-background:new 0 0 64 64",viewBox:"0 0 64 64"},s.Ay.createElement("circle",{cx:"32",cy:"32",r:"24.5"}),s.Ay.createElement("path",{d:"M32 8c13.23 0 24 10.77 24 24S45.23 56 32 56 8 45.23 8 32 18.77 8 32 8m0-1C18.19 7 7 18.19 7 32s11.19 25 25 25 25-11.19 25-25S45.81 7 32 7z"}),s.Ay.createElement("path",{d:"m29.38 57.67-1.98-1.59 3.02-1.66L32 51.54l1.58 2.88 3.02 1.66-1.91 1.53L32 60.73z"}),s.Ay.createElement("path",{d:"m32 52.58 1.07 1.95.14.26.26.14 2.24 1.22-1.33 1.06-.07.06-.06.07L32 59.96l-2.24-2.61-.06-.07-.07-.06-1.33-1.06 2.24-1.22.26-.14.14-.26L32 52.58m0-2.08-1.94 3.56L26.5 56l2.5 2 3 3.5 3-3.5 2.5-2-3.56-1.94L32 50.5z"}))}const T=(0,s.ph)(M);n()}catch(P){n(P)}})},61876:(e,t,a)=>{"use strict";a.d(t,{A:()=>o});var n=a(84051),s=a(80089),r=a(80464);const o=e=>{const{isOpen:t}=e,a=(0,r.A)(s.ar.Extra,"InlineBotTooltip",!t);return a?n.Ay.createElement(a,e):void 0}},62504:(e,t,a)=>{"use strict";a.a(e,async(e,n)=>{try{a.d(t,{A:()=>C,s:()=>w});var s=a(84051),r=a(74353),o=a.n(r),i=a(2543),c=a(13439),l=a(60919),d=a(87357),m=a(59030),u=a(40918),p=a(21849),h=a(35384),A=a(46222),g=a(57474),y=a(73966),f=a(43955),v=a(47778),E=a(24845),b=e([m,u,p,h,y,f]);[m,u,p,h,y,f]=b.then?(await b)():b;const w=["#E5D9FF","#CCD6FF","#B6FFCE","#FFD9D9","#FFD9FF"],x=({theme:e,userId:t,user:a})=>{const{loading:n,userPortraitInfo:r,chatTags:c,portraitMessage:l}=(0,u.A)({userId:t}),b=(0,s.li)(),x=(0,m.A)();return(0,s.vJ)(()=>{b?.current?.scrollTo({top:0,behavior:"smooth"})},[t]),s.Ay.createElement(A.A,{ref:b,className:(0,d.A)(v.A.rightPanelBg,"Portrait custom-scroll"),noFastList:!0},s.Ay.createElement(s.Ay.Fragment,null,s.Ay.createElement("div",{className:"flex flex-col gap-2 items-center justify-center"},s.Ay.createElement(p.A,{peer:a,className:E.A.fallbackPhotoAvatar,size:"giant"}),s.Ay.createElement(h.A,{peer:a,canCopyTitle:!0})),s.Ay.createElement("div",{className:"rounded-[16px] bg-[var(--color-ai-room-media-bg)] p-3 text-[14px]"},s.Ay.createElement("div",{className:"text-[16px] font-[700] mb-2"},"Basic Description"),s.Ay.createElement("div",{className:"flex flex-col gap-1"},a?.usernames?.[0]?.username&&s.Ay.createElement("div",null,s.Ay.createElement("span",{className:"font-[600]"},"Username: "),a?.usernames?.[0]?.username),s.Ay.createElement("div",null,s.Ay.createElement("span",{className:"font-[600]"},"Alias/Nickname: "),a?.firstName," ",a?.lastName),r?.langs&&s.Ay.createElement("div",null,s.Ay.createElement("span",{className:"font-[600]"},"Language: "),`${r?.langs?.[0]?`${r?.langs?.[0]}(Primary)`:""} ${r?.langs?.[1]?`, ${r?.langs?.[1]}(Secondary)`:""}`),r?.tags&&r?.tags?.length>0&&s.Ay.createElement(s.Ay.Fragment,null,s.Ay.createElement("div",null,s.Ay.createElement("span",{className:"font-[600]"},"Tags: ")),s.Ay.createElement("div",{className:"flex flex-row flex-wrap items-center gap-2"},r?.tags?.map((e,t)=>s.Ay.createElement("div",{className:"flex items-center justify-center px-2 rounded-[4px] h-[28px] text-[12px] font-[500] text-black",style:`background: ${w[t]}`},e))))))),r?s.Ay.createElement("div",{className:"rounded-[16px] bg-[var(--color-ai-room-media-bg)] p-3 text-[14px]"},s.Ay.createElement("div",{className:"text-[16px] font-[700] mb-2"},"Behavioral Features & Group Participation"),r?.chatCount&&r?.chatCount>0&&s.Ay.createElement("div",null,s.Ay.createElement("div",{className:"font-[600]"},"Group Coverage"),s.Ay.createElement("div",null,"Participates in ",r?.chatCount," TG groups"," ",c?.length>0&&c?.filter(Boolean).length>0&&`(${(0,i.uniq)(c).join(",")})`)),r?.chatIds?.length&&s.Ay.createElement("div",{className:"mt-2"},s.Ay.createElement("div",{className:"font-[600]"},"Key Groups"),s.Ay.createElement("div",{className:"flex flex-col gap-2 mt-2"},r?.chatIds?.map(e=>s.Ay.createElement(f.A,{key:e,chatId:e,size:24,showName:!0}))))):void 0,s.Ay.createElement("div",{className:"rounded-[16px] bg-[var(--color-ai-room-media-bg)] text-[14px]"},s.Ay.createElement("div",{className:" rounded-t-[16px] text-[16px] font-[700] p-3 sticky top-[-10px] z-10 bg-[var(--color-ai-room-media-bg)] "},"Activity Stream"),n&&s.Ay.createElement("div",{className:"flex items-center justify-center p-3"},s.Ay.createElement(g.A,{className:"w-[18px] h-[18px] ml-2",color:"dark"===e?"white":"black"})),l?.length&&a?s.Ay.createElement("div",{className:"flex flex-col gap-2"},l?.sort((e,t)=>o()(!1===t?.isSummary?t?.time:`${t?.time} ${t?.timeRange?.split("-")[1]}`).unix()-o()(!1===e?.isSummary?e?.time:`${e?.time} ${e?.timeRange?.split("-")[1]}`).unix())?.map((e,t)=>s.Ay.createElement(y.A,{user:a,data:e,isLast:t===l.length-1,key:e?.id}))):!n&&s.Ay.createElement("div",{className:"empty"},x("NoMessages"))))},C=(0,s.ph)((0,c.EK)(e=>{const{userPortraitUserId:t}=(0,l.nTw)(e);return{user:t?(0,l.mBe)(e,t):void 0,theme:(0,l.SJA)(e)}})(x));n()}catch(e){n(e)}})},62530:(e,t,a)=>{"use strict";a.a(e,async(e,n)=>{try{a.d(t,{A:()=>K});var s=a(84051),r=a(13439),o=a(31481),i=a(66644),c=a(60919),l=a(30708),d=a(96454),m=a(87357),u=a(52674),p=a(14680),h=a(17237),A=a(36353),g=a(37836),y=a(4961),f=a(11359),v=a(43874),E=a(19129),b=a(37661),w=a(17712),x=a(59030),C=a(41263),N=a(54746),I=a(64493),S=a(61361),M=a(11098),k=a(84499),T=e([x,C,I,S]);[x,C,I,S]=T.then?(await T)():T;const P=100,L=350,B=50,R="input-scroller",D="message-input-wrapper",F=160,O=128,z=2e3,U=260,j=140,V="<br>",J=["Esc","Escape","Enter","PageUp","PageDown","Meta","Alt","Ctrl","ArrowDown","ArrowUp","Control","Shift"];function H(){const e=window.getSelection();e&&(e.removeAllRanges?e.removeAllRanges():e.empty&&e.empty())}const $=({ref:e,id:t,chatId:a,captionLimit:n,isAttachmentModalInput:c,isStoryInput:l,customEmojiPrefix:T,editableInputId:$,isReady:K,isActive:G,getHtml:_,placeholder:q,timedPlaceholderLangKey:W,timedPlaceholderDate:Z,forcedPlaceholder:Y,canSendPlainText:Q,canAutoFocus:X,noFocusInterception:ee,shouldSuppressFocus:te,shouldSuppressTextFormatter:ae,replyInfo:ne,isSelectModeActive:se,canPlayAnimatedEmojis:re,messageSendKeyCombo:oe,onUpdate:ie,onSuppressedFocus:ce,onSend:le,onScroll:de,onFocus:me,onBlur:ue,isNeedPremium:pe,messageListType:he})=>{const{editLastMessage:Ae,replyToNextMessage:ge,showAllowedMessageTypesNotification:ye,openPremiumModal:fe}=(0,r.ko)();let ve=(0,s.li)();e&&(ve=e);const Ee=(0,s.li)(),be=(0,s.li)(),we=(0,s.li)(),xe=(0,s.li)(),Ce=(0,s.li)(),Ne=(0,s.li)(),Ie=(0,x.A)(),Se=(0,s.li)(!1),[Me,ke,Te]=(0,b.A)(),[Pe,Le]=(0,s.J0)(),[Be,Re]=(0,s.J0)(),[De,Fe]=(0,s.J0)(!1),{isMobile:Oe}=(0,v.Ay)(),ze=Oe&&(d.pz||d.Ni),[Ue,je]=(0,s.J0)(!1);(0,s.vJ)(()=>{je(Boolean(W&&Z))},[Z,W]);const Ve=(0,w.A)(()=>{je(!1)});(0,C.A)(_,ve,xe,Ce,Ne,T,re,K,G);const Je=c?F:l?O:Oe?256:416,He=(0,w.A)((e=!1)=>{(0,g.IJ)(()=>{(0,i.gm)(()=>{const t=ve.current.closest(`.${R}`),a=Number(t.style.height.replace("px","")),n=we.current,{scrollHeight:s}=n,r=Math.min(s,Je);if(r===a)return;const o=s>Je;function c(){const e=Math.round(B*Math.log(Math.abs(r-a)));t.style.height=`${r}px`,t.style.transitionDuration=`${e}ms`,t.classList.toggle("overflown",o)}return e?void(0,i.RK)(c):c})})});(0,s.Nf)(()=>{c&&He(!1)},[c,He]);const $e=(0,s.li)(_());(0,s.Nf)(()=>{const e=G?_():"";e!==ve.current.innerHTML&&(ve.current.innerHTML=e),e!==be.current.innerHTML&&(be.current.innerHTML=e),e!==$e.current&&($e.current=e,He(!e))},[_,G,He]),(0,s.li)(a).current=a;const Ke=(0,w.A)(()=>{ve.current&&!pe&&((0,s.OV)()?setTimeout(Ke,L):(0,A.A)(ve.current))}),Ge=(0,w.A)(()=>{Te(),H()});function _e(){if(d.pz)return!1;const e=window.getSelection();if(!e||!e.rangeCount||Se.current)return Te(),d.Ni&&Fe(!1),!1;const t=e.getRangeAt(0),a=t.toString().trim();return!(ae||!(0,f.L)(t,$||o.CfG)||!a||(0,h.A)(a)||!t.START_TO_END)||(Te(),!1)}function qe(){if(!_e())return;if(De)return;const e=window.getSelection().getRangeAt(0),t=e.getBoundingClientRect(),a=ve.current.closest(`.${R}`).getBoundingClientRect();let n=t.left+t.width/2-a.left;n<j?n=j:n>a.width-j&&(n=a.width-j),Le({x:n,y:t.top-a.top}),Re(e),ke()}function We(){Ee.current&&window.clearTimeout(Ee.current),Ee.current=window.setTimeout(qe,U)}const Ze=(0,w.A)(()=>fe());(0,s.vJ)(()=>{d.TF||X&&Ke()},[a,Ke,ne,X]),(0,s.vJ)(()=>{if(!a||$!==o.CfG||ee||ze||se)return;const e=e=>{if((0,p.ZJ)())return;const{key:t}=e,a=e.target;if(!a||J.includes(t))return;const n=ve.current,s=document.getSelection()?.isCollapsed;if(!((t.startsWith("Arrow")||e.shiftKey&&"Shift"===t)&&!s||"KeyC"===e.code&&(e.ctrlKey||e.metaKey)&&"INPUT"!==a.tagName)&&n&&a!==n&&"INPUT"!==a.tagName&&"TEXTAREA"!==a.tagName&&!a.isContentEditable){(0,A.A)(n,!0,!0);const t=new KeyboardEvent(e.type,e);n.dispatchEvent(t)}};return document.addEventListener("keydown",e,!0),()=>{document.removeEventListener("keydown",e,!0)}},[a,$,ze,se,ee]),(0,s.vJ)(()=>{const e=(0,g.sg)(e=>{"Tab"!==e.key||(0,p.ZJ)()||(e.preventDefault(),(0,i.RK)(Ke))},z,!0,!1);return(0,u.A)({onTab:e})},[Ke]),(0,s.vJ)(()=>{const e=ve.current;function t(){e.blur()}return te&&e.addEventListener("focus",t),()=>{e.removeEventListener("focus",t)}},[te]);const Ye=(0,E.A)(()=>Boolean(G&&_()),[G,_]),Qe=(0,m.A)("form-control allow-selection",Ye&&"touched",te&&"focus-disabled"),Xe=(0,m.A)("input-scroller-content",pe&&"is-need-premium"),et="string"==typeof q?q:void 0;return s.Ay.createElement("div",{id:t,onClick:te?ce:void 0,dir:Ie.isRtl?"rtl":void 0},s.Ay.createElement("div",{className:(0,m.A)("custom-scroll",R,pe&&"is-need-premium"),onScroll:de,onClick:c||Q?void 0:function(){c||Q||l&&pe||ye({chatId:a,messageListType:he})}},s.Ay.createElement("div",{className:Xe},s.Ay.createElement(k.A,{inputRef:ve,getHtml:_,setHtml:ie}),s.Ay.createElement("div",{ref:ve,id:$||o.CfG,className:Qe,contentEditable:c||Q,role:"textbox",dir:"auto",tabIndex:0,onClick:Ke,onChange:function(e){const{innerHTML:t,textContent:a}=e.currentTarget;if(ie(t===V?"":t),!d.TF&&(!a||!a.length)&&(d.TL||!t.includes("emoji-small"))&&!t.includes("custom-emoji")){const e=window.getSelection();e&&(ve.current.blur(),e.removeAllRanges(),(0,A.A)(ve.current,!0))}},onKeyDown:function(e){const{isComposing:t}=e,a=_();if(!t&&!a&&(e.metaKey||e.ctrlKey)){const t="ArrowDown"===e.key?1:"ArrowUp"===e.key?-1:void 0;if(t)return e.preventDefault(),void ge({targetIndexDelta:t})}t||"Enter"!==e.key||e.shiftKey?t||"ArrowUp"!==e.key||a||e.metaKey||e.ctrlKey||e.altKey?e.target.addEventListener("keyup",We,{once:!0}):(e.preventDefault(),Ae()):!ze&&("enter"===oe&&!e.shiftKey||"ctrl-enter"===oe&&(e.ctrlKey||e.metaKey))&&(e.preventDefault(),Te(),le())},onMouseDown:function(e){function t(e){e instanceof KeyboardEvent&&"Esc"!==e.key&&"Escape"!==e.key||(setTimeout(()=>{Se.current=!1},P),window.removeEventListener("keydown",t),window.removeEventListener("mousedown",t))}2===e.button?Se.current||(Se.current=!0,document.addEventListener("mousedown",t),document.addEventListener("keydown",t)):(e.currentTarget.closest(`.${D}`)||e.target).addEventListener("mouseup",We,{once:!0})},onContextMenu:d.Ni?function(e){_e()&&(Fe(!De),De?Te():(e.preventDefault(),e.stopPropagation(),qe()))}:void 0,onTouchCancel:d.Ni?We:void 0,"aria-label":et,onFocus:pe?void 0:me,onBlur:pe?void 0:ue}),!Y&&s.Ay.createElement("span",{className:(0,m.A)("placeholder-text",!c&&!Q&&"with-icon",pe&&"is-need-premium"),dir:"auto"},!c&&!Q&&s.Ay.createElement(N.A,{name:"lock-badge",className:"placeholder-icon"}),Ue?s.Ay.createElement(S.A,{langKey:W,endsAt:Z,onEnd:Ve}):q,l&&pe&&s.Ay.createElement(I.A,{className:"unlock-button",size:"tiny",color:"adaptive",onClick:Ze},Ie("StoryRepliesLockedButton"))),s.Ay.createElement("canvas",{ref:xe,className:"shared-canvas"}),s.Ay.createElement("canvas",{ref:Ce,className:"shared-canvas"}),s.Ay.createElement("div",{ref:Ne,className:"absolute-video-container"}))),s.Ay.createElement("div",{ref:we,className:(0,m.A)("custom-scroll",R,"clone",pe&&"is-need-premium")},s.Ay.createElement("div",{className:Xe},s.Ay.createElement("div",{ref:be,className:(0,m.A)(Qe,"clone"),dir:"auto"}))),void 0!==n&&s.Ay.createElement("div",{className:"max-length-indicator",dir:"auto"},n),s.Ay.createElement(M.A,{isOpen:Me,anchorPosition:Pe,selectedRange:Be,setSelectedRange:Re,onClose:Ge}),Y&&s.Ay.createElement("span",{className:"forced-placeholder"},(0,y.A)(Y)))},K=(0,s.ph)((0,r.EK)((e,{chatId:t,threadId:a})=>{const{messageSendKeyCombo:n}=(0,l.l)(e);return{messageSendKeyCombo:n,replyInfo:t&&a?(0,c.GA4)(e,t,a)?.replyInfo:void 0,isSelectModeActive:(0,c.rTV)(e),canPlayAnimatedEmojis:(0,c.BWX)(e)}})($));n()}catch(G){n(G)}})},62857:(e,t,a)=>{"use strict";a.d(t,{A:()=>c});var n=a(96540),s=a(66221),r=a(92508),o=a(70809),i=a(88316);function c({isLoading:e,reasoning:t}){const[a,c]=(0,n.useState)(!0);return n.createElement("div",{className:"flex flex-col"},e?n.createElement("div",{className:"flex flex-row gap-2 items-center"},n.createElement("div",{className:"font-medium"},"Reasoning"),n.createElement("div",{className:"animate-spin"},n.createElement(o.hz,null))):n.createElement("div",{className:"flex flex-row gap-2 items-center"},n.createElement("div",{className:"font-medium"},"Reasoned for a few seconds"),n.createElement("div",{className:"cursor-pointer",onClick:()=>{c(!a)}},n.createElement(o.D3,null))),n.createElement(s.N,{initial:!1},a&&n.createElement(r.P.div,{key:"content",initial:"collapsed",animate:"expanded",exit:"collapsed",variants:{collapsed:{height:0,opacity:0,marginTop:0,marginBottom:0},expanded:{height:"auto",opacity:1,marginTop:"1rem",marginBottom:"0.5rem"}},transition:{duration:.2,ease:"easeInOut"},className:"pl-4 text-zinc-600 dark:text-zinc-400 border-l flex flex-col gap-4 overflow-hidden"},n.createElement(i.o,null,t))))}},63744:(e,t,a)=>{"use strict";a.a(e,async(e,n)=>{try{a.d(t,{A:()=>y});var s=a(84051),r=a(13439),o=a(60919),i=a(71331),c=a(87357),l=a(14),d=a(59030),m=a(48885),u=a(67693),p=a(64493),h=e([d,u,p]);[d,u,p]=h.then?(await h)():h;const A=3,g=({chatId:e,isActive:t,className:a,groupCall:n,onPaneStateChange:o})=>{const{requestMasterAndJoinGroupCall:i}=(0,r.ko)(),h=(0,d.A)(),g=(0,s.hb)(()=>{i({chatId:e})},[i,e]),y=n?.participants,f=(0,s.Kr)(()=>{if(!y)return[];const e=(0,r.mS)().users.byId,t=(0,r.mS)().chats.byId;return Object.values(y).slice(0,A).map(({id:a})=>e[a]||t[a]).filter(Boolean)},[y]),v=(0,l.A)(n?.participantsCount,!0),E=(0,l.A)(f,!0),b=Boolean(n&&t),{ref:w,shouldRender:x}=(0,m.A)({isOpen:b,onStateChange:o});if(x)return s.Ay.createElement("div",{ref:w,className:(0,c.A)("GroupCallTopPane",a),onClick:g},s.Ay.createElement("div",{className:"info"},s.Ay.createElement("span",{className:"title"},h("VoipGroupVoiceChat")),s.Ay.createElement("span",{className:"participants"},h("Participants",v??0,"i"))),Boolean(E?.length)&&s.Ay.createElement(u.A,{size:"small",peers:E,className:"avatars"}),s.Ay.createElement(p.A,{round:!0,className:"join"},h("VoipChatJoin")))},y=(0,s.ph)((0,r.EK)((e,{chatId:t})=>{const a=(0,o.hds)(e,t),n=(0,i.mD)(e,t);return{groupCall:n,isActive:((0,o.nTw)(e).isMasterTab?e.groupCalls.activeGroupCallId:void 0)!==n?.id&&Boolean(n?n.participantsCount>0&&n.isLoaded:a&&a.isCallNotEmpty&&a.isCallActive)}})(g));n()}catch(e){n(e)}})},63896:(e,t,a)=>{"use strict";a.d(t,{A:()=>n});const n={root:"mVaSjZRJ",buyButton:"GnKGu6D9",boughtStatus:"IGXW5hWr",star:"ywiOugiH",buttonText:"gLaaVQXr"}},63988:(e,t,a)=>{"use strict";a.d(t,{D7:()=>l,aG:()=>i,gs:()=>o,tF:()=>c});var n=a(16581),s=a(83414),r=a(672);function o(e,t,a,n=!1){return(0,r.A)(t=>{t(e())},t,a,n)}function i(e,t,a=!1){const n=o(()=>e(),[e],t,a);return(0,s.A)(n,[n,e],!0)}function c(e,t,a,s=!1,r=!1){return(0,n.A)(t=>{t(e())},t,a,s,r)}function l(e,t,a=!1,n=!1){const r=c(()=>e(),[e],t,a,n);return(0,s.A)(r,[r,e],!0)}},64154:(e,t,a)=>{"use strict";a.d(t,{A:()=>i});var n=a(84051),s=a(13439),r=a(37836);const o=new Map;function i(e,t,a,r){const i=r&&a?e?.byLangCode[r]?.[a]:void 0,{isPending:l,text:d}=i||{};return(0,n.vJ)(()=>{t&&a&&!d&&void 0===l&&r&&function(e,t,a){const n=o.get(a)||new Map,r=n.get(e)||[];r.includes(t)||(r.push(t),n.set(e,r),o.set(a,n),(0,s.ko)().markMessagesTranslationPending({chatId:e,messageIds:r,toLanguageCode:a})),c()}(t,a,r)},[t,d,l,a,r]),t&&a?{isPending:l,translatedText:d}:{isPending:!1,translatedText:void 0}}const c=(0,r.nF)(function(){const{translateMessagesByTencent:e}=(0,s.ko)();let t=!1;o.forEach((a,n)=>{a.forEach((a,s)=>{const r=a.slice(0,20);r.length<a.length&&(t=!0),e({chatId:s,messageIds:r,toLanguageCode:n}),function(e,t,a){const n=o.get(a);if(!n?.size)return void o.delete(a);const s=n.get(e);if(!s?.length)return void n.delete(e);const r=s.filter(e=>!t.includes(e));if(!r?.length)return n.delete(e),void(n.size||o.delete(a));n.set(e,r)}(s,r,n)})}),t&&c()},500)},64206:(e,t,a)=>{"use strict";a.a(e,async(e,n)=>{try{a.d(t,{n:()=>u});var s=a(96540),r=a(13439),o=a(90709),i=a(60919),c=a(15972),l=a(9716),d=e([c]),m=d.then?(await d)():d;c=m[0];const u=({message:e})=>{const[t,a]=(0,s.useState)([]),n=(0,r.mS)();return(0,s.useEffect)(()=>{try{const t=JSON.parse(e.content);a(t||[])}catch(e){console.log(e)}},[e]),0===t.length?null:s.createElement("div",{className:"p-[10px] mx-[22px] rounded-[16px] border-[1px] border-[#D9D9D9] bg-white dark:bg-[#292929]"},s.createElement("div",{className:"flex flex-col gap-[12px]"},t.splice(0,10).map(e=>s.createElement(s.Fragment,null,(e=>{if(!(0,l.L8)(e))return null;let t;const a=(0,i.mBe)(n,e);return a?(t=(0,o.Yg)(a),s.createElement("div",{className:"flex flex-row items-center gap-[8px] cursor-pointer px-[12px] py-[8px] rounded-[12px] hover:bg-[#D9D9D9]",onClick:()=>{(e=>{(0,i.hds)(n,e)&&(0,r.ko)().openChat({id:e})})(e)}},s.createElement(c.A,{key:e,className:"overlay-avatar inline-block cursor-pointer",size:44,peer:a}),s.createElement("div",{className:"flex flex-col justify-center gap-[4px]"},s.createElement("span",{className:"text-[15px] font-semibold text-black leading-[18px]"},t)))):null})(e)))))};n()}catch(e){n(e)}})},64210:(e,t,a)=>{"use strict";a.a(e,async(e,n)=>{try{a.d(t,{A:()=>g});var s=a(96540),r=a(46942),o=a.n(r),i=a(13439),c=a(77787),l=a(95815),d=a(85325),m=a(80395),u=a(64602),p=a(10858),h=e([u,p]);function A(e,t=1800){const a=new Date(e),n=new Date(new Date(e).getTime()+1e3*t),s=new Date;s.setHours(0,0,0,0);const r=new Date(s);r.setDate(r.getDate()+1);const o=new Intl.DateTimeFormat("en-US",{hour:"numeric",minute:"2-digit",hour12:!0}),i=o.format(a),c=o.format(n);let l="";const d=new Date(a);if(d.setHours(0,0,0,0),d.getTime()===s.getTime())l="Today";else if(d.getTime()===r.getTime())l="Tomorrow";else{const e=Math.floor((d.getTime()-s.getTime())/864e5);l=e>=0&&e<7?new Intl.DateTimeFormat("en-US",{weekday:"long"}).format(a):`${new Intl.DateTimeFormat("en-US",{month:"long"}).format(a)} ${a.getDate()}`}return`${l} ${i}â€“${c}`}[u,p]=h.then?(await h)():h;const g=({message:e})=>{const{content:t}=e,{chatId:a,startTime:n,duration:r,email:h,timeZone:g,isConfirmed:y}=JSON.parse(t||"{}")||{},[f,v]=(0,s.useState)(y),E=({token:e,start:t,end:n,email:s})=>{(0,i.ko)().sendMessage({messageList:{chatId:a,threadId:"-1",type:"thread"},text:p.oS}),(0,d.FG)({startDate:new Date(t),endDate:new Date(n),selectedTimezone:g,emails:s,googleToken:e}).then(e=>{e&&(0,u.Qg)(e,a)})};return s.createElement("div",{className:"px-[12px] text-[14px]"},s.createElement("div",{className:"p-[10px] border border-solid border-[#D9D9D9] rounded-[16px] w-[326px] bg-white dark:bg-[#292929] dark:border-[#292929]"},s.createElement("div",null,"ðŸ“… Iâ€™ve checked your calendar. Here are some available time slots in the coming days:"),s.createElement("ul",{className:"list-decimal pl-[18px] mb-[4px]"},n&&n.map((t,i)=>s.createElement("li",{key:i},s.createElement("div",{className:o()("font-semibold cursor-pointer bg-transparent border-none p-0",{"underline decoration-2":!f}),onClick:()=>(async t=>{if(!f){if(h.length>0&&g&&r){const e=(0,m.IM)(),a={token:e?.accessToken||"",start:t,end:new Date(new Date(t).getTime()+1e3*r).toISOString(),email:h};e&&await(0,m.G6)(e)?E(a):(0,d.wG)({onOk:e=>{a.token=e,E(a)}})}else{const e=p.Ay.create({chatId:a}),n={startTime:[t],email:h,timeZone:g,duration:r,timeConfirmed:!0},s=(0,m.IM)();s&&await(0,m.G6)(s)?e.confirmCallback(n):(0,d.wG)({onOk:()=>{e.confirmCallback(n)}})}e.content=JSON.stringify({chatId:a,startTime:n,email:h,isConfirmed:!0}),c.zs?.message?.storeMessage((0,l.Jr)(a,[e])[0]),v(!0)}})(t)},A(t,r))))),s.createElement("div",null,s.createElement("span",null,"Which time would you like to choose? Or ðŸ“† "),s.createElement("a",{href:"https://calendar.google.com/",target:"_blank",className:"underline decoration-2 font-semibold",rel:"noreferrer"},"View Full Calendar"))))};n()}catch(y){n(y)}})},65035:(e,t,a)=>{"use strict";a.d(t,{A:()=>n});const n={root:"FPceNkgD",inactive:"hruUWBuj",mirrored:"GydRBA08",effect:"WMMaWlOL"}},65152:(e,t,a)=>{"use strict";a.a(e,async(e,n)=>{try{a.d(t,{A:()=>O});var s=a(84051),r=a(13439),o=a(23174),i=a(89925),c=a(90709),l=a(27109),d=a(60919),m=a(96454),u=a(87357),p=a(9716),h=a(66414),A=a(98255),g=a(43874),y=a(47067),f=a(49746),v=a(37661),E=a(5912),b=a(17712),w=a(50680),x=a(23964),C=a(21849),N=a(54314),I=a(35384),S=a(54746),M=a(9267),k=a(81642),T=a(22720),P=a(97967),L=a(97046),B=a(24807),R=a(17703),D=e([y,x,C,N,I,k,T,B]);[y,x,C,N,I,k,T,B]=D.then?(await D)():D;const F=({chatId:e,folderId:t,orderDiff:a,animationType:n,isPinned:l,listedTopicIds:D,topics:F,observeIntersection:O,chat:z,monoforumChannel:U,lastMessageStory:j,isMuted:V,user:J,userStatus:H,lastMessageSender:$,lastMessageOutgoingStatus:K,offsetTop:G,draft:_,withInterfaceAnimations:q,isSelected:W,isSelectedForum:Z,isForumPanelOpen:Y,canScrollDown:Q,canChangeFolder:X,lastMessageTopic:ee,typingStatus:te,lastMessageId:ae,lastMessage:ne,isSavedDialog:se,currentUserId:re,isPreview:oe,previewMessageId:ie,className:ce,isSynced:le,onDragEnter:de,isAccountFrozen:me})=>{const{openChat:ue,openSavedDialog:pe,toggleChatInfo:he,focusLastMessage:Ae,focusMessage:ge,loadTopics:ye,openForumPanel:fe,closeForumPanel:ve,setShouldCloseRightColumn:Ee,reportMessages:be,openFrozenAccountModal:we}=(0,r.ko)(),{isMobile:xe}=(0,g.Ay)(),[Ce,Ne,Ie]=(0,v.A)(),[Se,Me,ke]=(0,v.A)(),[Te,Pe,Le]=(0,v.A)(),[Be,Re,De]=(0,v.A)(),[Fe,Oe,ze]=(0,v.A)(),[Ue,je,Ve]=(0,v.A)(),{isForum:Je,isForumAsMessages:He,isMonoforum:$e}=z||{};(0,f.A)(se?re:e,ae,ne);const{renderSubtitle:Ke,ref:Ge}=(0,x.A)({chat:z,chatId:e,lastMessage:ne,typingStatus:te,draft:_,statefulMediaContent:(0,c.FE)({story:j}),lastMessageTopic:ee,lastMessageSender:$,observeIntersection:O,animationType:n,withInterfaceAnimations:q,orderDiff:a,isSavedDialog:se,isPreview:oe,topics:F}),_e=(0,A.A)(d.sRo),qe=(0,b.A)(()=>{const t=xe&&He;if(xe&&Ee({value:!0}),oe)ge({chatId:e,messageId:ie});else{if(se)return pe({chatId:e,noForumTopicPanel:!0},{forceOnHeavyAnimation:!0}),void(xe&&he({force:!1}));if(Je){if(Y)return void ve(void 0,{forceOnHeavyAnimation:!0});if(t||fe({chatId:e},{forceOnHeavyAnimation:!0}),!He)return}ue({id:e,noForumTopicPanel:t,shouldReplaceHistory:!0},{forceOnHeavyAnimation:!0}),W&&Q&&Ae()}}),We=(0,b.A)(t=>{t.preventDefault(),de?.(e)}),Ze=(0,b.A)(()=>{me?we():(Re(),Ne())}),Ye=(0,b.A)(()=>{me?we():(Oe(),Me())}),Qe=(0,b.A)(()=>{je(),Pe()}),Xe=(0,b.A)(()=>{me?we():z&&be({chatId:z.id,messageIds:[]})}),et=(0,y.A)({chat:z,user:J,handleDelete:Ze,handleMute:Ye,handleChatFolderChange:Qe,handleReport:Xe,folderId:t,isPinned:l,isMuted:V,canChangeFolder:X,isSavedDialog:se,currentUserId:re,isPreview:oe,topics:F}),tt=(0,E.Vz)(Ge,z?O:void 0);(0,s.vJ)(()=>{tt&&Je&&le&&void 0===D&&ye({chatId:e})},[e,D,le,Je,tt]);const at=J&&H&&(0,c.PF)(J,H),{hasShownClass:nt}=(0,w.A)(at),st=(0,s.Kr)(()=>{if(m.OS)return se?`#${(0,h.az)(re,"thread",e)}`:`#${(0,h.az)(e,"thread",o.l3)}`},[e,re,se]);if(!z)return;const rt=J||z,ot=(0,u.A)("Chat chat-item-clickable",(0,p.L8)(e)?"private":"group",Je&&"forum",W&&"selected",Z&&"selected-forum",oe&&"standalone",ce);return s.Ay.createElement(T.A,{ref:Ge,className:ot,href:st,style:`top: ${G}px`,ripple:!Je&&!xe,contextActions:et,onClick:qe,onDragEnter:We,withPortalForMenu:!0},s.Ay.createElement("div",{className:(0,u.A)("status","status-clickable")},s.Ay.createElement(C.A,{peer:$e?U:rt,isSavedMessages:J?.isSelf,isSavedDialog:se,size:oe?"medium":"large",asMessageBubble:$e,withStory:!J?.isSelf&&!$e,withStoryGap:nt||Boolean(z.subscriptionUntil),storyViewerOrigin:i.G9.ChatList,storyViewerMode:"single-peer"}),s.Ay.createElement("div",{className:"avatar-badge-wrapper"},s.Ay.createElement("div",{className:(0,u.A)("avatar-online","avatar-badge",nt&&"avatar-online-shown")}),!nt&&Boolean(z.subscriptionUntil)&&s.Ay.createElement(M.A,{type:"gold",className:"avatar-badge avatar-subscription",size:"adaptive"}),s.Ay.createElement(B.A,{chat:z,isMuted:V,shouldShowOnlyMostImportant:!0,forceHidden:_e,topics:F,isSelected:W})),z.isCallActive&&z.isCallNotEmpty&&s.Ay.createElement(R.A,{isMobile:xe,isSelected:W,isActive:q})),s.Ay.createElement("div",{className:"info"},s.Ay.createElement("div",{className:"info-row"},s.Ay.createElement(I.A,{peer:$e?U:rt,isMonoforum:$e,monoforumBadgeClassName:"monoforum-badge",withEmojiStatus:!0,isSavedMessages:e===J?.id&&J?.isSelf,isSavedDialog:se,observeIntersection:O}),V&&!se&&s.Ay.createElement(S.A,{name:"muted"}),s.Ay.createElement("div",{className:"separator"}),ne&&s.Ay.createElement(k.A,{message:ne,outgoingStatus:se?void 0:K,draftDate:_?.date})),s.Ay.createElement("div",{className:"subtitle"},Ke(),!oe&&s.Ay.createElement(B.A,{chat:z,isPinned:l,isMuted:V,isSavedDialog:se,hasMiniApp:J?.hasMainMiniApp,topics:F,isSelected:W}))),Be&&s.Ay.createElement(N.A,{isOpen:Ce,onClose:Ie,onCloseAnimationEnd:De,chat:z,isSavedDialog:se}),Fe&&s.Ay.createElement(L.A,{isOpen:Se,onClose:ke,onCloseAnimationEnd:ze,chatId:e}),Ue&&s.Ay.createElement(P.A,{isOpen:Te,onClose:Le,onCloseAnimationEnd:Ve,chatId:e}))},O=(0,s.ph)((0,r.EK)((e,{chatId:t,isSavedDialog:a,isPreview:n,previewMessageId:s})=>{const r=(0,d.hds)(e,t),i=(0,d.mBe)(e,t);if(!r)return{currentUserId:e.currentUserId};const c=s||(0,d.ZZX)(e,t,a?"saved":"all"),m=s?(0,d.O5q)(e,t,s):(0,d.yHC)(e,t,a?"saved":"all"),{isOutgoing:u,forwardInfo:p}=m||{},h=a&&p?.fromId?(0,d.PVB)(e,p.fromId):void 0,A=m?(0,d.Y7C)(e,m):void 0,g=h||A,{chatId:y,threadId:f,type:v}=(0,d.Xf0)(e)||{},E=!n&&t===y&&(a?t===f:f===o.l3),b=r.isForum&&t===y||t===(0,d.nTw)(e).forumPanelChatId,w=(0,d.K0y)(e,t),x=m&&(0,d.nkm)(e,m),C=(0,d.C5H)(e,t,o.l3,"typingStatus"),N=(0,d.xyP)(e,t),I=m?.content.storyData,S=I&&(0,d.Msb)(e,I.peerId,I.id),M=(0,d.trm)(e),k=(0,d.k2W)(e,t);return{chat:r,isMuted:(0,l.If)(r,(0,d.K52)(e),(0,d.P5N)(e,r.id)),lastMessageSender:g,draft:(0,d.GA4)(e,t,o.l3),isSelected:E,isSelectedForum:b,isForumPanelOpen:(0,d.clw)(e),canScrollDown:E&&"thread"===v,canChangeFolder:(e.chatFolders.orderedIds?.length||0)>1,...u&&m&&{lastMessageOutgoingStatus:(0,d.Tl2)(e,m)},user:i,userStatus:w,lastMessageTopic:x,typingStatus:C,withInterfaceAnimations:(0,d.PKK)(e),lastMessage:m,lastMessageId:c,currentUserId:e.currentUserId,listedTopicIds:N?.listedTopicIds,topics:N?.topicsById,isSynced:e.isSynced,lastMessageStory:S,isAccountFrozen:M,monoforumChannel:k}})(F));n()}catch(e){n(e)}})},65458:(e,t,a)=>{"use strict";a.a(e,async(e,n)=>{try{a.d(t,{A:()=>T});var s=a(84051),r=a(13439),o=a(23174),i=a(66644),c=a(90709),l=a(60919),d=a(96454),m=a(87357),u=a(17663),p=a(87894),h=a(74167),A=a(4961),g=a(14737),y=a(37661),f=a(17712),v=a(59030),E=a(22720),b=a(80146),w=a(30770),x=e([h,v,E,b]);[h,v,E,b]=x.then?(await x)():x;const C="ï¸âƒ£",N=128,I=["ðŸŽ‰","ðŸŽ†","ðŸŽˆ"],S=288,M=3e3,k=({user:e,birthday:t,isPremiumPurchaseBlocked:a,birthdayNumbers:n,animatedEmojiEffects:l,isInSettings:x})=>{const{openGiftModal:k,requestConfetti:T}=(0,r.ko)(),L=(0,s.li)(),B=(0,s.li)(!1),[R,D,F]=(0,y.A)(),O=(0,v.A)(),{formattedDate:z,isToday:U,age:j}=(0,s.Kr)(()=>{const e=new Date,a=new Date;return t.year&&a.setFullYear(t.year),a.setMonth(t.month-1),a.setDate(t.day),a.setHours(0,0,0,0),{formattedDate:(0,u.A)(a,O.code,!0,"long"),isToday:a.getDate()===e.getDate()&&a.getMonth()===e.getMonth(),age:t.year&&P(a)}},[t,O]),V=(0,s.Kr)(()=>{if(!j||!U)return;const e=n?.stickers?.filter(({emoji:e})=>e?.endsWith(C));if(!e)return;const t=(0,p.dU)(e,"emoji");return j.toString().split("").map(e=>t[e+C])},[j,n?.stickers,U]),J=(0,s.Kr)(()=>{if(!U)return;const e=I[Math.floor(Math.random()*I.length)];return l?.stickers?.find(({emoji:t})=>t===e)},[l?.stickers,U]);(0,s.vJ)(()=>{if(U&&V&&(V.forEach(e=>{const t=(0,c.Mw)(e,"preview");h.hd(t,o.qZ.BlobUrl)}),J)){const e=(0,c.Mw)(J,"preview");h.hd(e,o.qZ.BlobUrl)}},[J,U,V]),(0,g.A)(F,R?M:void 0),(0,s.vJ)(()=>{if(R){B.current=!0;const e=document.getElementById(x?"LeftColumn":"RightColumn");if(!e)return;(0,i.YS)(()=>{const{top:t,left:a,width:n,height:s}=e.getBoundingClientRect();T({top:t,left:a,width:n,height:s,style:"top-down"})})}},[x,R]);const H=`ProfileBirthday${U?"Today":""}Value${j?"Year":""}`,$=U&&!e.isPremium&&!e.isSelf&&!a,K=(0,f.A)(()=>{k({forUserId:e.id})}),G=(0,f.A)(()=>{U&&($&&B.current?K():D())}),_=!U&&!$;return s.Ay.createElement("div",{className:w.A.root},s.Ay.createElement(E.A,{icon:"calendar",secondaryIcon:$?"gift":void 0,secondaryIconClassName:w.A.giftIcon,multiline:!0,narrow:!0,ref:L,ripple:!_,onClick:G,isStatic:_,onSecondaryIconClick:K},s.Ay.createElement("div",{className:"title",dir:O.isRtl?"rtl":void 0},(0,A.A)(O(H,[z,j],void 0,j))),s.Ay.createElement("span",{className:"subtitle"},O(U?"ProfileBirthdayToday":"ProfileBirthday"))),R&&d.ol&&V?.map((e,t)=>s.Ay.createElement("div",{className:(0,m.A)(w.A.number,t>0&&w.A.shiftOrigin),style:`--digit-offset: ${t}`},s.Ay.createElement(b.A,{containerRef:L,sticker:e,size:N,forceAlways:!0}))),R&&J&&s.Ay.createElement("div",{className:w.A.effect},s.Ay.createElement(b.A,{containerRef:L,sticker:J,size:S,shouldLoop:!0,forceAlways:!0})))},T=(0,s.ph)((0,r.EK)(e=>{const{birthdayNumbers:t,animatedEmojiEffects:a}=e;return{birthdayNumbers:t,animatedEmojiEffects:a,isPremiumPurchaseBlocked:(0,l.n_C)(e)}})(k));function P(e){const t=new Date;let a=t.getFullYear()-e.getFullYear();const n=t.getMonth()-e.getMonth();return(n<0||0===n&&t.getDate()<e.getDate())&&a--,a}n()}catch(L){n(L)}})},65741:(e,t,a)=>{"use strict";e.exports=a.p+"GiftRedRound.a86b78b0b99e07f69a70.svg"},66115:(e,t,a)=>{"use strict";e.exports=a.p+"grammar-input.fdc085b56253a7bdf2ac.png"},66618:(e,t,a)=>{"use strict";a.a(e,async(e,n)=>{try{a.d(t,{A:()=>p});var s=a(84051),r=a(13439),o=a(31481),i=a(39351),c=a(19806),l=a(94189),d=a(68466),m=e([i,c,l]);[i,c,l]=m.then?(await m)():m;const u=({isOpen:e,onClose:t,shouldAlwaysShow:a,onAlwaysShowChanged:n,confirmHandler:r,verifyAgeMin:o})=>{const m=(0,i.A)();return s.Ay.createElement(l.A,{title:m("TitleSensitiveModal",{years:o}),confirmLabel:m("ButtonSensitiveView"),isOpen:e,onClose:t,confirmHandler:r},m("TextSensitiveModal"),s.Ay.createElement(c.A,{className:d.A.checkBox,label:m("ButtonSensitiveAlways",{years:o}),checked:a,onCheck:n}))},p=(0,s.ph)((0,r.EK)(e=>{const t=e.appConfig,a=t?.verifyAgeMin;return{verifyAgeMin:a||o.lYi}})(u));n()}catch(e){n(e)}})},66969:(e,t,a)=>{"use strict";a.d(t,{o:()=>r});var n=a(96540),s=a(75304);function r({chatId:e,status:t}){const{containerRef:a,endRef:r,isAtBottom:o,scrollToBottom:i,onViewportEnter:c,onViewportLeave:l}=(0,s.R)(),d=(0,n.useRef)(!1),[m,u]=(0,n.useState)(!1);return(0,n.useEffect)(()=>{"submitted"===t&&u(!0)},[t]),(0,n.useEffect)(()=>{!d.current&&a.current&&(function({container:e,scrollToBottom:t,maxAttempts:a=30,interval:n=50}){let s=e.scrollHeight,r=0;const o=()=>{const i=e.scrollHeight;i!==s?(t("instant"),s=i,r=0):r++,r<a&&requestAnimationFrame(()=>setTimeout(o,n))};o()}({container:a.current,scrollToBottom:i}),d.current=!0)},[a,i]),{containerRef:a,endRef:r,isAtBottom:o,scrollToBottom:i,onViewportEnter:c,onViewportLeave:l,hasSentMessage:m}}},66991:(e,t,a)=>{"use strict";a.a(e,async(e,n)=>{try{a.d(t,{Y:()=>h,c:()=>A});var s=a(84051),r=a(31481),o=a(66644),i=a(19822),c=a(39761),l=a(96454),d=a(95704),m=e([d]),u=m.then?(await m)():m;d=u[0];const p=100;function h(e,t,a){return(0,s.vJ)(()=>{if(!t||!e.current)return;const n=f(),s=e.current;if(!l.Yw||!a||!n?.isTypeSupported(a))return;const r=new n;function m(){if(!t||!a)return;const e=r.addSourceBuffer(a),n=(0,d.h)(t);e.addEventListener("updateend",function(){n.next().then(({value:t,done:a})=>{"open"===r.readyState&&(a?y(r):g(e,t))})}),n.next().then(({value:t,done:a})=>{a||"open"!==r.readyState||((0,o.RK)(()=>{s.style.display="block",setTimeout(()=>{(0,o.RK)(()=>{(0,i.ZM)(s,{opacity:"1"})})},p)}),g(e,t))})}return r.addEventListener("sourceopen",m,{once:!0}),(0,o.RK)(()=>{(0,i.ZM)(s,{display:"none",opacity:"0"}),s.src=URL.createObjectURL(r)}),()=>{(0,o.RK)(()=>{const e=s.src;(0,c.A)(s),r.removeEventListener("sourceopen",m),"open"===r.readyState&&y(r),URL.revokeObjectURL(e)})}},[a,t,e]),A(a)}function A(e){return!(!l.Yw||!e)&&Boolean(f()?.isTypeSupported(e))}function g(e,t){try{e.appendBuffer(t)}catch(e){r.Oig&&console.warn("[Stream] failed to append buffer",e)}}function y(e){try{e.endOfStream()}catch(e){r.Oig&&console.warn("[Stream] failed to end stream",e)}}function f(){return"ManagedMediaSource"in window?ManagedMediaSource:"MediaSource"in window?MediaSource:void 0}n()}catch(v){n(v)}})},67051:(e,t,a)=>{"use strict";a.d(t,{c:()=>n});const n=e=>Boolean("en-US"===navigator.language)?`${Math.round(9*e/5+32)}Â°F`:`${Math.round(e)}Â°C`},67054:(e,t,a)=>{"use strict";function n(e,t){return t-Math.floor(t/e)*e}a.d(t,{A:()=>n})},67086:(e,t,a)=>{"use strict";a.a(e,async(e,n)=>{try{a.d(t,{A:()=>m});var s=a(84051),r=a(95547),o=a(47976),i=a(1430),c=a(37661),l=a(14792),d=e([r,o]);[r,o]=d.then?(await d)():d;const m=e=>{const{chatId:t}=e,[a,n,d]=(0,c.A)(),[m,u]=(0,s.J0)(void 0),[p,h,A]=(0,c.A)();(0,s.vJ)(()=>{u(r.A.getRoomTranslateLanguage(t))},[t]);const g=(0,s.hb)(e=>{r.A.updateRoomTranslateLanguage(t,e),u(e),!m&&e&&(h(),setTimeout(()=>{A()},5e3))},[t,m]);return s.Ay.createElement("div",{className:"input-ai-actions"},s.Ay.createElement("button",{className:"Button input-ai-actions-button",onClick:n},m?s.Ay.createElement("span",{className:"text-[var(--color-text-secondary)] text-[14px] font-bold"},m.toUpperCase()):s.Ay.createElement("img",{src:l,alt:"Chat AI Logo"})),p&&s.Ay.createElement(i.A,null),s.Ay.createElement(o.A,{translateLanguage:m,isOpen:a,closeInputLanguageModal:d,updateTranslateLanguage:g}))};n()}catch(e){n(e)}})},67098:(e,t,a)=>{"use strict";a.a(e,async(e,n)=>{try{a.d(t,{A:()=>x});var s=a(84051),r=a(13439),o=a(31481),i=a(90709),c=a(87357),l=a(87894),d=a(14242),m=a(4961),u=a(74984),p=a(39351),h=a(21849),A=a(54746),g=a(5228),y=a(22720),f=a(37698),v=e([u,p,h,g,y]);[u,p,h,g,y]=v.then?(await v)():v;const E=5,b={isCustomPeer:!0,title:"Archived Chats",avatarIcon:"archive-filled",customPeerAvatarColor:"#9EAAB5"},w=({archiveSettings:e,onDragEnter:t,onClick:a})=>{const{updateArchiveSettings:n}=(0,r.ko)(),v=(0,p.A)(),w=(0,u.Rh)(o._E9),x=(0,u.ic)(),C=x[o._E9]?.chatsCount,N=(0,s.Kr)(()=>{if(!w?.length)return v("Loading");const e=(0,r.mS)().chats.byId;return w.slice(0,E).map((t,a,n)=>{const r=a===n.length-1,o=e[t];if(!o)return;const l=(0,i.Js)(v,o);return s.Ay.createElement(s.Ay.Fragment,null,s.Ay.createElement("span",{className:(0,c.A)(f.A.chat,C&&o.unreadCount&&f.A.unread)},(0,m.A)(l)),r?"":", ")})},[w,v,C]),I=(0,s.Kr)(()=>{const t=!e.isMinimized&&{title:v("ContextArchiveCollapse"),icon:"collapse",handler:()=>{n({isMinimized:!0})}},a=e.isMinimized&&{title:v("ContextArchiveExpand"),icon:"expand",handler:()=>{n({isMinimized:!1})}},s={title:v("ContextArchiveToMenu"),icon:"archive-to-main",handler:()=>{n({isHidden:!0})}};return(0,l.oE)([t,a,s])},[e.isMinimized,v,n]),S=(0,s.hb)(e=>{e.preventDefault(),t?.()},[t]);return s.Ay.createElement(y.A,{onClick:a,onDragEnter:S,className:(0,c.A)(f.A.root,e.isMinimized&&f.A.minimized,"chat-item-clickable","chat-item-archive"),buttonClassName:f.A.button,contextActions:I,withPortalForMenu:!0},e.isMinimized?s.Ay.createElement("div",{className:(0,c.A)(f.A.info,"info")},s.Ay.createElement("div",{className:"info-row"},s.Ay.createElement("div",{className:(0,c.A)("title",f.A.title)},s.Ay.createElement("h3",{dir:"auto",className:(0,c.A)(f.A.name,"fullName")},s.Ay.createElement(A.A,{name:"archive-filled",className:f.A.icon}),v("ArchivedChats"))),s.Ay.createElement(g.A,{className:f.A.unreadCount,text:C?(0,d.Vw)(v,C):void 0}))):s.Ay.createElement(s.Ay.Fragment,null,s.Ay.createElement("div",{className:(0,c.A)("status",f.A.avatarWrapper)},s.Ay.createElement(h.A,{peer:b})),s.Ay.createElement("div",{className:(0,c.A)(f.A.info,"info")},s.Ay.createElement("div",{className:"info-row"},s.Ay.createElement("div",{className:(0,c.A)("title",f.A.title)},s.Ay.createElement("h3",{dir:"auto",className:(0,c.A)(f.A.name,"fullName")},v("ArchivedChats")))),s.Ay.createElement("div",{className:"subtitle"},s.Ay.createElement("div",{className:(0,c.A)("status",f.A.chatsPreview)},N),s.Ay.createElement(g.A,{className:f.A.unreadCount,text:C?(0,d.Vw)(v,C):void 0})))))},x=(0,s.ph)(w);n()}catch(e){n(e)}})},68153:(e,t,a)=>{"use strict";e.exports=a.p+"GiftGreenRound.f66f0acd5d3dda1c7baf.svg"},68466:(e,t,a)=>{"use strict";a.d(t,{A:()=>n});const n={checkBox:"mYXi2mIC"}},69419:(e,t,a)=>{"use strict";a.a(e,async(e,n)=>{try{a.d(t,{A:()=>f});var s=a(84051),r=a(23174),o=a(60919),i=a(96454),c=a(74167),l=a(37836),d=a(63527),m=a(30857),u=a(14745),p=e([c]),h=p.then?(await p)():p;c=h[0];const A=.75,g=1500,y=500;function f(e,t=!1,a=r.qZ.BlobUrl,n,p=!1){const h=e?c.Ih(e):void 0,f=i.Uz&&a===r.qZ.Progressive,v=(0,m.A)(),E=(0,d.A)(o.nIz),b=(0,u.A)(),[w,x]=(0,s.J0)(h&&!f?1:0),C=(0,s.li)(),N=(0,s.Kr)(()=>(0,l.nF)(e=>{C.current&&(!n||Date.now()-C.current>n)&&x(e)},y,!0),[n]);return(0,s.vJ)(()=>{!t&&e&&(h?f&&setTimeout(()=>{x(A)},g):(x(0),C.current&&c.ch(N),C.current=Date.now(),c.hd(e,a,p,N,b).then(()=>{const e=Date.now()-C.current;C.current=void 0,!n||e>=n?v():setTimeout(v,n-e)})))},[t,e,h,a,f,n,N,p,b,E]),(0,s.vJ)(()=>{t&&C.current&&(c.ch(N),x(0),C.current=void 0)},[N,t]),(0,s.vJ)(()=>()=>{e&&c.Cn(e,b)},[b,e]),{mediaData:h,loadProgress:w}}n()}catch(v){n(v)}})},69893:(e,t,a)=>{"use strict";a.d(t,{FG:()=>u,Nz:()=>c,Y_:()=>l,Zm:()=>p,gs:()=>m,s2:()=>d});var n=a(13439),s=a(31481),r=a(90709),o=a(60919);function i(){const e=(0,n.mS)(),{currentUserId:t}=e,a=(0,o.mBe)(e,t);return{userId:t,userName:(0,r.Yg)(a)}}const c=e=>{const{userId:t,userName:a}=i();return new Promise((n,r)=>{fetch(`${s.Vjs}/grammarly-check`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({text:e,userId:t,userName:a})}).then(e=>e.json()).then(e=>n(e)).catch(e=>{r(e)})})},l=e=>{const{userId:t,userName:a}=i();return new Promise((n,r)=>{fetch(`${s.Vjs}/grammarly-shorten`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({text:e,userId:t,userName:a})}).then(e=>e.json()).then(e=>n(e)).catch(e=>{r(e)})})},d=e=>{const{userId:t,userName:a}=i();return new Promise((n,r)=>{fetch(`${s.Vjs}/grammarly-formal`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({text:e,userId:t,userName:a})}).then(e=>e.json()).then(e=>n(e)).catch(e=>{r(e)})})},m=e=>{const{userId:t,userName:a}=i();return new Promise((n,r)=>{fetch(`${s.Vjs}/grammarly-friendly`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({text:e,userId:t,userName:a})}).then(e=>e.json()).then(e=>n(e)).catch(e=>{r(e)})})},u=e=>{const{userId:t,userName:a}=i();return new Promise((n,r)=>{fetch(`${s.Vjs}/grammarly-rephrase`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({text:e,userId:t,userName:a})}).then(e=>e.json()).then(e=>n(e)).catch(e=>{r(e)})})};function p(e,t){if(!t.length)return e;const a=[...t].sort((e,t)=>t.offset-e.offset);for(const{offset:t,length:n,suggestions:s}of a){const a=s[0]||"";e=e.slice(0,t)+a+e.slice(t+n)}return e}},70195:(e,t,a)=>{"use strict";a.d(t,{A:()=>l});var n=a(84051),s=a(13439),r=a(84947),o=a(37836);const i=150,c=new Map;function l(e,t,a,s){(0,n.vJ)(()=>{if(a||s&&!s())return;const n=Boolean(e.content.text?.text.length);!function({chatId:e,id:t,isTranslatable:a,detectedLanguage:n}){const s=c.get(e)||new r.A(i),o=s.get(t);o&&o.detectedLanguage===n&&o.isTranslatable===a||(s.set(t,{id:t,isTranslatable:a,detectedLanguage:n}),c.set(e,s),d(e))}({chatId:e.chatId,id:e.id,isTranslatable:n,detectedLanguage:t})},[e,t,a,s])}const d=(0,o.nF)(function(e){const{updateChatDetectedLanguage:t}=(0,s.ko)(),a=c.get(e);if(!a)return;const n=a.size;if(n<8)return;let r=0,o=0;const i=new Map;for(const e of a.values()){e.isTranslatable&&r++,e.detectedLanguage&&o++;const t=e.detectedLanguage;if(t){const e=i.get(t)||0;i.set(t,e+1)}}if(r/n<.3||o/r<.6)return;t({chatId:e,detectedLanguage:Array.from(i.entries()).sort(([,e],[,t])=>t-e)[0][0]})},1e3)},70361:(e,t,a)=>{"use strict";a.a(e,async(e,n)=>{try{a.d(t,{A:()=>w,I:()=>v});var s=a(84051),r=a(13439),o=a(90709),i=a(87357),c=a(11778),l=a(55153),d=a(45761),m=a(39351),u=a(17712),p=a(73767),h=a(50680),A=a(3325),g=a(6025),y=e([m]),f=y.then?(await y)():y;m=f[0];let v=function(e){return e.None="none",e.Document="document",e.QuickFile="quick_file",e}({});const E=150,b=({isOpen:e,withQuick:t,editingMessage:a,onHide:n,onFileSelect:y})=>{const f=(0,m.A)(),{showNotification:v,updateAttachmentSettings:b}=(0,r.ko)(),w=(0,s.li)(),x=(0,p.A)(t),{shouldRender:C,transitionClassNames:N}=(0,h.A)(e);(0,s.vJ)(()=>e?(0,c.A)(n):void 0,[e,n]);const I=(0,u.A)(async e=>{const{dataTransfer:s}=e;let r=[];if(!(s.files&&s.files.length>0)||s.items&&s.items.length){if(s.items&&s.items.length>0){const e=await(0,d.A)(s.items);e?.length&&(r=r.concat(e))}}else r=r.concat(Array.from(s.files));if(a){if(r.length>1)return void v({message:f("MediaReplaceInvalidError",void 0,{pluralValue:r.length})});if(1===r.length){const e=await(0,l.A)(r[0].name,r[0]);if(!(a&&e&&(0,o.eh)(a,e)))return void v({message:f("MediaReplaceInvalidError",void 0,{pluralValue:r.length})})}}n(),b({shouldCompress:!t&&void 0}),y(r)}),S=(0,u.A)(async e=>{const{dataTransfer:t}=e;if(t.files&&t.files.length>0){const e=Array.from(t.files);if(a){if(e.length>1)return void v({message:f("MediaReplaceInvalidError",void 0,{pluralValue:e.length})});if(1===e.length){const t=await(0,l.A)(e[0].name,e[0]);if(!(a&&t&&(0,o.eh)(a,t)))return void v({message:f("MediaReplaceInvalidError",void 0,{pluralValue:e.length})})}}n(),b({shouldCompress:!0}),y(e)}}),M=(0,u.A)(e=>{e.stopPropagation();const{target:t,relatedTarget:a}=e;!t.matches(".DropTarget, .DropArea")||a&&a.matches(".DropTarget, .DropArea")||(w.current=window.setTimeout(()=>{n()},E))});if(!C)return;const k=t||x,T=(0,i.A)("DropArea",N);return s.Ay.createElement(A.A,{containerSelector:"#middle-column-portals"},s.Ay.createElement("div",{className:T,onDragLeave:M,onDragOver:()=>{w.current&&window.clearTimeout(w.current)},onDrop:n,onClick:n},s.Ay.createElement(g.A,{onFileSelect:I,isGeneric:!k}),k&&s.Ay.createElement(g.A,{onFileSelect:S,isQuick:!0})))},w=(0,s.ph)(b);n()}catch(e){n(e)}})},70497:(e,t,a)=>{"use strict";function n(e){const t=8*e.length,a=Math.floor(t/5);if(!a)return[];const n=Array(a),s=e;for(let e=0,t=a-1;e!==t;++e){const t=Math.floor(5*e/8),a=Math.floor(5*e%8),r=s[t]+(s[t+1]<<8);n[e]=r>>a&31}const r=Math.floor(5*(a-1)/8),o=Math.floor(5*(a-1)%8),i=s[r]+(s[r+1]<<8);return n[a-1]=i>>o&31,n}function s(e,t){let a=0;const n=new Array(t),s=e.length/t,r=e[0],o=e[e.length-1];for(let i=0;i<t;i++){const t=Math.floor(i*s),c=((e[t-1]??r)+(e[t]??r)+(e[t+1]??o))/3;n[i]=c,a<c&&(a=c)}return{data:n,peak:a}}a.d(t,{e:()=>n,p:()=>s})},70726:(e,t,a)=>{"use strict";a.a(e,async(e,n)=>{try{a.d(t,{A:()=>y});var s=a(84051),r=a(13439),o=a(70636),i=a(60919),c=a(87357),l=a(15384),d=a(39351),m=a(17712),u=a(4421),p=a(54746),h=a(77561),A=e([o,l,d,u,h]);[o,l,d,u,h]=A.then?(await A)():A;const g=({message:e,todoList:t,sender:a,isCurrentUserPremium:n,isSynced:A})=>{const{toggleTodoCompleted:g,showNotification:y,requestConfetti:f}=(0,r.ko)(),{todo:v,completions:E}=t,{title:b,items:w,othersCanComplete:x}=v,[C,N]=(0,s.J0)([]),I=(0,s.Kr)(()=>new Set(C),[C]),S=!e.isScheduled&&n&&A;(0,s.Nf)(()=>{const e=E?.map(e=>e.itemId.toString())||[];N(e)},[E]);const M=(0,d.A)(),k=(0,m.A)(e=>{e.preventDefault(),e.stopPropagation(),n||y({message:M("SubscribeToTelegramPremiumForToggleTask"),action:{action:"openPremiumModal",payload:{initialSection:"todo"}},actionText:M("PremiumMore")})}),T=(0,m.A)(t=>{const a=t.find(e=>!I.has(e)),n=Array.from(I).find(e=>!t.includes(e));g({chatId:e.chatId,messageId:e.id,completedIds:a?[Number(a)]:[],incompletedIds:n?[Number(n)]:[]}),t.length===w.length&&f({})}),P=Boolean(e.forwardInfo)||!x&&!e.isOutgoing,L=e.isOutgoing,B=(0,s.Kr)(()=>w.map(e=>{const t=x?(0,i.mBe)((0,r.mS)(),E?.find(t=>t.itemId===e.id)?.completedBy||""):void 0,a=t?(0,o.em)(M,t):void 0;return{label:(0,l.fd)(e.title),value:e.id.toString(),user:t,subLabel:a}}),[w,x,E,M]);return s.Ay.createElement("div",{className:"todo-list",dir:M.isRtl?"auto":"ltr"},s.Ay.createElement("div",{className:"todo-list-header"},s.Ay.createElement("div",{className:"todo-list-title"},(0,l.fd)(b)),s.Ay.createElement("div",{className:"list-type"},e.forwardInfo?M("TitleToDoList"):x?M("TitleGroupToDoList"):L?M("TitleYourToDoList"):a?M("TitleUserToDoList",{peer:(0,o.F9)(M,a)},{withNodes:!0}):M("TitleToDoList"))),s.Ay.createElement("div",{className:"todo-list-items"},P?s.Ay.createElement("div",{className:"todo-list-items"},B.map(e=>s.Ay.createElement("div",{key:e.value,className:"todo-list-readonly-item"},s.Ay.createElement("div",{className:"todo-readonly-item-checkbox"},I.has(e.value)?s.Ay.createElement(p.A,{name:"check"}):s.Ay.createElement("div",{className:"todo-item-bullet-point"})),s.Ay.createElement("div",{className:(0,c.A)("readonly-item-label",I.has(e.value)&&"completed-label")},e.label)))):s.Ay.createElement(h.A,{options:B,selected:C,onChange:T,onClickLabel:n?void 0:k,disabled:!S,isRound:!0})),s.Ay.createElement("div",{className:"completed-tasks-count"},s.Ay.createElement(u.A,{text:M("DescriptionCompletedToDoTasks",{number:C.length,count:B.length})})))},y=(0,s.ph)((0,r.EK)((e,{message:t})=>({sender:(0,i.Y7C)(e,t),isCurrentUserPremium:(0,i.g29)(e),isSynced:e.isSynced}))(g));n()}catch(e){n(e)}})},70809:(e,t,a)=>{"use strict";a.d(t,{A:()=>c,D3:()=>i,ON:()=>A,S:()=>h,Td:()=>o,US:()=>l,Xq:()=>u,Yy:()=>m,d7:()=>g,fl:()=>d,hz:()=>s,mP:()=>f,qx:()=>p,sY:()=>y,wF:()=>r});var n=a(96540);const s=({size:e=16})=>n.createElement("svg",{height:e,strokeLinejoin:"round",viewBox:"0 0 16 16",width:e,style:{color:"currentcolor"}},n.createElement("g",{clipPath:"url(#clip0_2393_1490)"},n.createElement("path",{d:"M8 0V4",stroke:"currentColor",strokeWidth:"1.5"}),n.createElement("path",{opacity:"0.5",d:"M8 16V12",stroke:"currentColor",strokeWidth:"1.5"}),n.createElement("path",{opacity:"0.9",d:"M3.29773 1.52783L5.64887 4.7639",stroke:"currentColor",strokeWidth:"1.5"}),n.createElement("path",{opacity:"0.1",d:"M12.7023 1.52783L10.3511 4.7639",stroke:"currentColor",strokeWidth:"1.5"}),n.createElement("path",{opacity:"0.4",d:"M12.7023 14.472L10.3511 11.236",stroke:"currentColor",strokeWidth:"1.5"}),n.createElement("path",{opacity:"0.6",d:"M3.29773 14.472L5.64887 11.236",stroke:"currentColor",strokeWidth:"1.5"}),n.createElement("path",{opacity:"0.2",d:"M15.6085 5.52783L11.8043 6.7639",stroke:"currentColor",strokeWidth:"1.5"}),n.createElement("path",{opacity:"0.7",d:"M0.391602 10.472L4.19583 9.23598",stroke:"currentColor",strokeWidth:"1.5"}),n.createElement("path",{opacity:"0.3",d:"M15.6085 10.4722L11.8043 9.2361",stroke:"currentColor",strokeWidth:"1.5"}),n.createElement("path",{opacity:"0.8",d:"M0.391602 5.52783L4.19583 6.7639",stroke:"currentColor",strokeWidth:"1.5"})),n.createElement("defs",null,n.createElement("clipPath",{id:"clip0_2393_1490"},n.createElement("rect",{width:"16",height:"16",fill:"white"})))),r=({size:e=16})=>n.createElement("svg",{height:e,viewBox:"0 0 16 16",width:e,style:{color:"currentcolor"}},n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3 3H13V13H3V3Z",fill:"currentColor"})),o=({size:e=24})=>n.createElement("svg",{height:e,viewBox:"0 0 24 24",width:e,fill:"none"},n.createElement("path",{d:"M0 4C0 1.79086 1.79086 0 4 0H20C22.2091 0 24 1.79086 24 4V20C24 22.2091 22.2091 24 20 24H4C1.79086 24 0 22.2091 0 20V4Z"}),n.createElement("path",{d:"M9.60016 14.3991C9.60016 12.137 9.60016 11.0051 10.3033 10.3027C11.0056 9.59961 12.1375 9.59961 14.3997 9.59961H15.1996C17.4618 9.59961 18.5937 9.59961 19.296 10.3027C19.9992 11.0051 19.9992 12.137 19.9992 14.3991V15.1991C19.9992 17.4612 19.9992 18.5931 19.296 19.2955C18.5937 19.9986 17.4618 19.9986 15.1996 19.9986H14.3997C12.1375 19.9986 11.0056 19.9986 10.3033 19.2955C9.60016 18.5931 9.60016 17.4612 9.60016 15.1991V14.3991Z",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),n.createElement("path",{d:"M15.9988 9.59946C15.9964 7.23409 15.9612 6.00861 15.2725 5.16949C15.1396 5.00762 14.9912 4.85919 14.8294 4.72633C13.943 4 12.6296 4 9.99942 4C7.37007 4 6.055 4 5.16949 4.72633C5.00762 4.85919 4.85919 5.00762 4.72633 5.16949C4 6.0558 4 7.36927 4 9.99942C4 12.6288 4 13.9438 4.72633 14.8294C4.85919 14.9912 5.00762 15.1396 5.16949 15.2725C6.00941 15.9604 7.23329 15.9972 9.59946 15.9988",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"})),i=({size:e=16})=>n.createElement("svg",{height:e,strokeLinejoin:"round",viewBox:"0 0 16 16",width:e,style:{color:"currentcolor"}},n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12.0607 6.74999L11.5303 7.28032L8.7071 10.1035C8.31657 10.4941 7.68341 10.4941 7.29288 10.1035L4.46966 7.28032L3.93933 6.74999L4.99999 5.68933L5.53032 6.21966L7.99999 8.68933L10.4697 6.21966L11 5.68933L12.0607 6.74999Z",fill:"currentColor"}));function c({size:e=16}){return n.createElement("svg",{height:e,strokeLinejoin:"round",viewBox:"0 0 24 24",width:e,fill:"none"},n.createElement("path",{d:"M8.6125 10.8083L14.3875 7.69167M8.6125 13.1917L14.3875 16.3083M3.625 12C3.625 12.7293 3.90156 13.4288 4.39384 13.9445C4.88613 14.4603 5.55381 14.75 6.25 14.75C6.94619 14.75 7.61387 14.4603 8.10616 13.9445C8.59844 13.4288 8.875 12.7293 8.875 12C8.875 11.2707 8.59844 10.5712 8.10616 10.0555C7.61387 9.53973 6.94619 9.25 6.25 9.25C5.55381 9.25 4.88613 9.53973 4.39384 10.0555C3.90156 10.5712 3.625 11.2707 3.625 12ZM14.125 6.5C14.125 7.22935 14.4016 7.92882 14.8938 8.44454C15.3861 8.96027 16.0538 9.25 16.75 9.25C17.4462 9.25 18.1139 8.96027 18.6062 8.44454C19.0984 7.92882 19.375 7.22935 19.375 6.5C19.375 5.77065 19.0984 5.07118 18.6062 4.55546C18.1139 4.03973 17.4462 3.75 16.75 3.75C16.0538 3.75 15.3861 4.03973 14.8938 4.55546C14.4016 5.07118 14.125 5.77065 14.125 6.5ZM14.125 17.5C14.125 18.2293 14.4016 18.9288 14.8938 19.4445C15.3861 19.9603 16.0538 20.25 16.75 20.25C17.4462 20.25 18.1139 19.9603 18.6062 19.4445C19.0984 18.9288 19.375 18.2293 19.375 17.5C19.375 16.7707 19.0984 16.0712 18.6062 15.5555C18.1139 15.0397 17.4462 14.75 16.75 14.75C16.0538 14.75 15.3861 15.0397 14.8938 15.5555C14.4016 16.0712 14.125 16.7707 14.125 17.5Z",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}))}const l=({size:e=24})=>n.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:e,height:e,viewBox:"0 0 24 24",fill:"currentColor"},n.createElement("path",{d:"M7 17L17 7M7 7L17 17",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"})),d=({size:e=24})=>n.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:e,height:e,viewBox:"0 0 24 24",fill:"none"},n.createElement("path",{d:"M20.3635 12.7068C20.5509 12.5193 20.6562 12.265 20.6562 11.9998C20.6562 11.7347 20.5509 11.4803 20.3635 11.2928L14.7065 5.63582C14.5179 5.45366 14.2653 5.35287 14.0031 5.35515C13.7409 5.35742 13.4901 5.46259 13.3046 5.648C13.1192 5.83341 13.0141 6.08422 13.0118 6.34642C13.0095 6.60862 13.1103 6.86122 13.2925 7.04982L17.2425 10.9998L3.99946 10.9998C3.73425 10.9998 3.47989 11.1052 3.29236 11.2927C3.10482 11.4803 2.99946 11.7346 2.99946 11.9998C2.99946 12.265 3.10482 12.5194 3.29236 12.7069C3.47989 12.8945 3.73425 12.9998 3.99946 12.9998L17.2425 12.9998L13.2925 16.9498C13.1103 17.1384 13.0095 17.391 13.0118 17.6532C13.0141 17.9154 13.1192 18.1662 13.3046 18.3516C13.4901 18.537 13.7409 18.6422 14.0031 18.6445C14.2653 18.6468 14.5179 18.546 14.7065 18.3638L20.3635 12.7068Z",fill:"currentColor"})),m=({size:e=24})=>n.createElement("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.createElement("path",{d:"M14 7L9 12L14 17",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"})),u=({size:e=24})=>n.createElement("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.createElement("path",{d:"M10 17L15 12L10 7",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"})),p=({size:e=24})=>n.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:e,height:e,viewBox:"0 0 15 15",fill:"none"},n.createElement("path",{d:"M0 15L1.56 8.055L10.185 7.515L1.56 6.93L0 0L15 7.5L0 15Z",fill:"currentColor"})),h=({size:e=24})=>n.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:e,height:e,viewBox:"0 0 24 24",fill:"none"},n.createElement("path",{d:"M0 4C0 1.79086 1.79086 0 4 0H20C22.2091 0 24 1.79086 24 4V20C24 22.2091 22.2091 24 20 24H4C1.79086 24 0 22.2091 0 20V4Z"}),n.createElement("path",{d:"M13.5996 14.3449V9.65499C13.5996 7.03422 13.5996 5.72426 12.8596 5.3976C12.1187 5.07177 11.2475 5.99758 9.50496 7.8517C8.60251 8.81168 8.08807 9.02418 6.804 9.02418C5.68153 9.02418 5.11989 9.02418 4.71587 9.31084C3.87902 9.90582 4.00702 11.0683 4.00702 11.9999C4.00702 12.9316 3.87982 14.0941 4.71747 14.689C5.12069 14.9757 5.68233 14.9757 6.8048 14.9757C8.08887 14.9757 8.60331 15.1882 9.50576 16.1482C11.2483 18.0015 12.1195 18.9281 12.8604 18.6023C13.6004 18.2756 13.6004 16.9657 13.6004 14.344M15.9998 9.5C16.4998 10.1833 16.7998 11.0525 16.7998 11.9999C16.7998 12.9474 16.4998 13.8166 15.9998 14.4999M18.3999 7.83337C19.4 8.97168 20 10.4216 20 11.9999C20 13.5782 19.4 15.0282 18.3999 16.1665",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"})),A=({size:e=24})=>n.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:e,height:e,viewBox:"0 0 24 24",fill:"none"},n.createElement("path",{d:"M12 4V20M8 9V15M20 10V14M4 10V14M16 7V17",stroke:"#4C72FF","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"})),g=({size:e=20})=>n.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:e,height:e,viewBox:"0 0 20 20",fill:"none"},n.createElement("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M7.29183 3.58321C7.29183 3.55495 7.30346 3.51147 7.35734 3.46432C7.41246 3.41609 7.50317 3.37488 7.61921 3.37488H12.3811C12.4972 3.37488 12.5879 3.41609 12.643 3.46432C12.6969 3.51147 12.7085 3.55495 12.7085 3.58321V4.62488H7.29183V3.58321ZM6.04183 4.62488V3.58321C6.04183 2.70201 6.82905 2.12488 7.61921 2.12488H12.3811C13.1713 2.12488 13.9585 2.70201 13.9585 3.58321V4.62488H15.6274H16.6699C17.0151 4.62488 17.2949 4.9047 17.2949 5.24988C17.2949 5.59506 17.0151 5.87488 16.6699 5.87488H16.2064L15.4459 15.8191C15.3457 17.122 14.2592 18.1283 12.9525 18.1283H7.04765C5.7409 18.1283 4.65446 17.1222 4.55423 15.8194L3.7937 5.87488H3.33105C2.98588 5.87488 2.70605 5.59506 2.70605 5.24988C2.70605 4.9047 2.98588 4.62488 3.33105 4.62488H4.37272H6.04183ZM13.3335 5.87488H6.66683H5.04735L5.80055 15.7235C5.85081 16.375 6.39416 16.8783 7.04765 16.8783H12.9525C13.606 16.8783 14.1493 16.3753 14.1996 15.7238L14.9528 5.87488H13.3335ZM11.6416 8.43754C11.9868 8.43754 12.2666 8.71736 12.2666 9.06254V13.752C12.2666 14.0972 11.9868 14.377 11.6416 14.377C11.2964 14.377 11.0166 14.0972 11.0166 13.752V9.06254C11.0166 8.71736 11.2964 8.43754 11.6416 8.43754ZM8.98372 9.06254C8.98372 8.71736 8.7039 8.43754 8.35872 8.43754C8.01355 8.43754 7.73372 8.71736 7.73372 9.06254V13.752C7.73372 14.0972 8.01355 14.377 8.35872 14.377C8.7039 14.377 8.98372 14.0972 8.98372 13.752V9.06254Z",fill:"#FF543D"})),y=({size:e=20})=>n.createElement("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.createElement("path",{d:"M22 6.5H16",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),n.createElement("path",{d:"M6 6.5H2",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),n.createElement("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M10 10C8.067 10 6.5 8.433 6.5 6.5C6.5 4.567 8.067 3 10 3C11.933 3 13.5 4.567 13.5 6.5C13.5 8.433 11.933 10 10 10Z",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),n.createElement("path",{d:"M22 17.5H18",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),n.createElement("path",{d:"M8 17.5H2",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),n.createElement("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M14 21C12.067 21 10.5 19.433 10.5 17.5C10.5 15.567 12.067 14 14 14C15.933 14 17.5 15.567 17.5 17.5C17.5 19.433 15.933 21 14 21Z",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"})),f=({size:e=20})=>n.createElement("svg",{width:e,height:e,viewBox:"0 0 40 40",xmlns:"http://www.w3.org/2000/svg",fill:"#3498db"},n.createElement("circle",{cx:"10",cy:"20",r:"4"},n.createElement("animate",{attributeName:"opacity",from:"0.3",to:"1",dur:"1.2s",begin:"0s",repeatCount:"indefinite"}),n.createElement("animate",{attributeName:"r",from:"3",to:"4",dur:"1.2s",begin:"0s",repeatCount:"indefinite"})),n.createElement("circle",{cx:"20",cy:"20",r:"4"},n.createElement("animate",{attributeName:"opacity",from:"0.3",to:"1",dur:"1.2s",begin:"0.2s",repeatCount:"indefinite"}),n.createElement("animate",{attributeName:"r",from:"3",to:"4",dur:"1.2s",begin:"0.2s",repeatCount:"indefinite"})),n.createElement("circle",{cx:"30",cy:"20",r:"4"},n.createElement("animate",{attributeName:"opacity",from:"0.3",to:"1",dur:"1.2s",begin:"0.4s",repeatCount:"indefinite"}),n.createElement("animate",{attributeName:"r",from:"3",to:"4",dur:"1.2s",begin:"0.4s",repeatCount:"indefinite"})))},70958:(e,t,a)=>{"use strict";a.a(e,async(e,n)=>{try{a.d(t,{A:()=>y});var s=a(96540),r=a(57446),o=a(96454),i=a(87357),c=a(4146),l=a(36838),d=a(59030),m=a(24182),u=e([d]),p=u.then?(await u)():u;d=p[0];const h=16,A=o.pz?450:o.Ni?400:300,g=({tabs:e,activeTab:t,onSwitchTab:a,className:n,tabClassName:o,inversion:u})=>{const p=(0,s.useRef)(void 0),g=(0,c.A)(t);(0,l.A)(p,void 0,!0),(0,s.useEffect)(()=>{const e=p.current,{scrollWidth:a,offsetWidth:n,scrollLeft:s}=e;if(a<=n)return;const o=e.childNodes[t];if(!o)return;const{offsetLeft:i,offsetWidth:c}=o,l=i-n/2+c/2;Math.abs(l-s)<h||(0,r.A)(e,l,A)},[t]);const y=(0,d.A)();return s.createElement("div",{className:(0,i.A)("TabList","no-scrollbar",u&&"inversion",n),ref:p,dir:y.isRtl?"rtl":void 0},e.map((e,n)=>s.createElement(m.A,{key:e.id,title:e.title,isActive:n===t,badgeCount:e.badgeCount,isBadgeActive:e.isBadgeActive,previousActiveTab:g,onClick:a,clickArg:n,className:o})))},y=(0,s.memo)(g);n()}catch(e){n(e)}})},70978:(e,t,a)=>{"use strict";a.a(e,async(e,n)=>{try{a.d(t,{A:()=>u});var s=a(96540),r=a(13439),o=a(60919),i=a(77787),c=a(87357),l=a(27270),d=e([l]),m=d.then?(await d)():d;l=m[0];const u=e=>{const{message:t}=e;let a={},n=0,d="loading",m=[];try{a=JSON.parse(t.content),n=a?.messageId,d=a?.status;try{m=JSON.parse(a?.replys?.replace(/'/g,'"')?.replace(/,\s+/g,","))}catch(e){}}catch(e){}const[u,p]=(0,s.useState)(!1);return(0,s.useEffect)(()=>{p(a?.disabled)},[t]),s.createElement("div",{className:"rounded-[16px] bg-[var(--color-background)] text-[var(--color-text)] mx-2 p-3 w-full text-[14px]"},s.createElement("div",{className:"font-[600]"},"You were mentioned:"),s.createElement("div",null,'"',a?.content,'"'),"loading"==d?s.createElement(l.qo,null):"error"===d?s.createElement("div",{className:"rounded-[16px] bg-[#FFF9F9] text-[#000] p-3 text-[14px] border-[1px] border-[#FFC7C7]"},a?.errorMsg):s.createElement(s.Fragment,null,s.createElement("div",null,"Here are a few reply suggestions for you ðŸ‘‡"),s.createElement("div",{className:"flex flex-col gap-[6px] mt-2"},m?.map((e,l)=>s.createElement("div",{className:(0,c.A)("bg-[var(--color-ai-room-mention-reply-bg)] rounded-[6px] p-[6px] ",u?"cursor-not-allowed opacity-50":"cursor-pointer hover:opacity-80"),key:l,onClick:()=>function(e){if(u)return;const s=(0,r.mS)(),{saveReplyDraft:c,sendMessage:l,clearDraft:d}=(0,r.ko)(),m=(0,o.meB)(s);if(m&&n){const s=m.id,r=-1;c({chatId:s,threadId:r,draft:{replyInfo:{type:"message",replyToMsgId:n,replyToPeerId:void 0}},isLocalOnly:!0}),l({messageList:{chatId:s,threadId:r,type:"thread"},text:e}),d({chatId:s,isLocalOnly:!0}),p(!0),i.zs.message?.storeMessage({...t,chatId:s,timestamp:(new Date).getTime(),content:JSON.stringify({disabled:!0,...a})})}}(e)},'"',e,'"')))))};n()}catch(e){n(e)}})},71671:(e,t,a)=>{"use strict";a.a(e,async(e,n)=>{try{a.d(t,{A:()=>N});var s=a(84051),r=a(13439),o=a(31481),i=a(90709),c=a(96454),l=a(87357),d=a(61182),m=a(87679),u=a(52844),p=a(37661),h=a(39351),A=a(17712),g=a(36680),y=a(59030),f=a(54746),v=a(71429),E=a(24433),b=a(66469),w=a(83594),x=e([h,y,E,b,w]);[h,y,E,b,w]=x.then?(await x)():x;const C=({chatId:e,threadId:t,isButtonVisible:a,canAttachMedia:n,canAttachPolls:x,canAttachToDoLists:C,canSendPhotos:N,canSendVideos:I,canSendDocuments:S,canSendAudios:M,attachBots:k,peerType:T,isScheduled:P,theme:L,shouldCollectDebugLogs:B,canEditMedia:R,editingMessage:D,messageListType:F,paidMessagesStars:O,onFileSelect:z,onMenuOpen:U,onMenuClose:j,onPollCreate:V,onTodoListCreate:J})=>{const{updateAttachmentSettings:H}=(0,r.ko)(),[$,K,G]=(0,p.A)(),[_,q,W]=(0,g.A)($,G),Z=N&&I,Y=N||I,[Q,X,ee]=(0,p.A)(),te=$||Q,ae=D&&D?.groupedId&&Boolean((0,i.yl)(D)||Boolean((0,i.zX)(D))),ne=D&&D?.groupedId&&Boolean((0,i.wp)(D)||(0,i.gB)(D)||(0,i.zC)(D));(0,s.vJ)(()=>{$&&W()},[$,W]),(0,s.vJ)(()=>{te?U():j()},[te,j,U]);const se=(0,A.A)(()=>{$?G():K()}),re=(0,A.A)(e=>{const{files:t}=e.target,a=(0,m.kc)(t);a?.length&&z(a)}),oe=(0,A.A)(()=>{H({shouldCompress:!0}),(0,u.p)(Array.from(Z?o.mxD:N?o.gex:o.fNs).join(","),e=>re(e))}),ie=(0,A.A)(()=>{H({shouldCompress:!1}),(0,u.p)(!S&&M?Array.from(o.IH3).join(","):"*",e=>re(e))}),ce=(0,A.A)(()=>{const e=new File([(0,d.F8)()],o.lFE,{type:"text/plain"});z([e])}),le=(0,s.Kr)(()=>k?Object.values(k).filter(t=>!(!T||!t.isForAttachMenu)&&(!("bots"!==T||t.id!==e||!t.attachMenuPeerTypes||!t.attachMenuPeerTypes.includes("self"))||t.attachMenuPeerTypes.includes(T))):void 0,[k,e,T]),de=(0,y.A)(),me=(0,h.A)();if(a)return s.Ay.createElement("div",{className:"AttachMenu"},D&&R?s.Ay.createElement(b.A,{id:"replace-menu-button",className:(0,l.A)("AttachMenu--button composer-action-button",$&&"activated"),round:!0,color:"translucent",onActivate:se,ariaLabel:"Replace an attachment",ariaControls:"replace-menu-controls",hasPopup:!0},s.Ay.createElement(f.A,{name:"replace"})):s.Ay.createElement(b.A,{id:"attach-menu-button",disabled:Boolean(D),className:(0,l.A)("AttachMenu--button composer-action-button",$&&"activated"),round:!0,color:"translucent",onActivate:se,ariaLabel:"Add an attachment",ariaControls:"attach-menu-controls",hasPopup:!0},s.Ay.createElement(f.A,{name:"attach"})),s.Ay.createElement(v.A,{id:"attach-menu-controls",isOpen:te,autoClose:!0,positionX:"right",positionY:"bottom",onClose:G,className:"AttachMenu--menu fluid",onCloseAnimationEnd:G,onMouseEnter:c.TF?void 0:_,onMouseLeave:c.TF?void 0:q,noCloseOnBackdrop:!c.TF,ariaLabelledBy:"attach-menu-button"},!n&&s.Ay.createElement(E.A,{className:"media-disabled",disabled:!0},me("scheduled"===F&&O?"DescriptionScheduledPaidMediaNotAllowed":"DescriptionRestrictedMedia")),n&&s.Ay.createElement(s.Ay.Fragment,null,Y&&!ne&&s.Ay.createElement(E.A,{icon:"photo",onClick:oe},de(Z?"AttachmentMenu.PhotoOrVideo":N?"InputAttach.Popover.Photo":"InputAttach.Popover.Video")),(S||M)&&!ae&&s.Ay.createElement(E.A,{icon:"document",onClick:ie},de(!S&&M?"InputAttach.Popover.Music":"AttachDocument")),S&&B&&s.Ay.createElement(E.A,{icon:"bug",onClick:ce},de("DebugSendLogs"))),x&&!D&&s.Ay.createElement(E.A,{icon:"poll",onClick:V},de("Poll")),C&&!D&&s.Ay.createElement(E.A,{icon:"select",onClick:J},me("TitleToDoList")),!D&&!R&&!P&&le?.map(a=>s.Ay.createElement(w.A,{bot:a,chatId:e,threadId:t,theme:L,onMenuOpened:X,onMenuClosed:ee}))))},N=(0,s.ph)(C);n()}catch(e){n(e)}})},72078:(e,t,a)=>{"use strict";e.exports=a.p+"GiftBlueRound.90e369f0f350cdfb20d4.svg"},72969:(e,t,a)=>{"use strict";a.d(t,{A:()=>c});var n=a(96540),s=a(21468),r=a(69893),o=a(99083),i=a(75175);const c=e=>{const{text:t,setHtml:a,onClose:c}=e,[l,d]=n.useState(!0),[m,u]=n.useState([]);(0,n.useEffect)(()=>{(0,r.Y_)(t).then(e=>{if(!e.data.errors)throw new Error("No errors found in the text");u(e.data.errors),d(!1)}).catch(e=>{console.error("Error checking grammar:",e),d(!1),u([])})},[]);const p=(0,n.useCallback)(()=>{if(m){const e=(0,r.Zm)(t,m);a(e),c()}},[m]);return n.createElement("div",null,n.createElement("h2",{className:"grammar-tool-tab-content-title"},"Condense wordy sections"),l?n.createElement(o.A,null):n.createElement(n.Fragment,null,n.createElement(i.A,{text:t,errors:m}),n.createElement(s.Ay,{color:"default",variant:"outlined",onClick:p},"Accept")))}},73172:(e,t,a)=>{"use strict";a.d(t,{A:()=>i});var n=a(84051),s=a(13439),r=a(31481),o=a(37836);const i=(e,t)=>(0,n.Kr)(()=>(0,o.nF)(a=>{e&&t&&(0,s.ko)().sendMessageAction({chatId:e,threadId:t,action:a})},r.cqp),[e,t])},73229:(e,t,a)=>{"use strict";a.d(t,{A:()=>o});var n=a(96540),s=a(73297);const r="text-[15px] text-[var(--color-text)]",o=()=>n.createElement("div",{className:"rounded-[16px] w-[488px] bg-[var(--color-background)]"},n.createElement("img",{src:s,alt:"",className:"w-[490px] h-[259px]"}),n.createElement("div",{className:"py-[14px] px-[12px]"},n.createElement("h3",null,"ðŸ”¥ Real-time Translation ðŸ”¥"),n.createElement("ul",{className:"pl-[24px] list-disc"},n.createElement("li",{className:r},n.createElement("b",null,"Instant Translation While Typing:")," Automatically detects the source language and translates it into the target language in real time."),n.createElement("li",{className:r},n.createElement("b",null,"Multi-language Support:")," Covers major languages, including English, Chinese, Japanese, French, German, Spanish, and more."),n.createElement("li",{className:r},n.createElement("b",null,"Context-aware Translation:")," Enhances accuracy and fluency by leveraging message context and chat history.")),n.createElement("h3",null,"ðŸ”¥ Grammar & Style Check ðŸ”¥"),n.createElement("ul",{className:"pl-[24px] list-disc"},n.createElement("li",{className:r},n.createElement("b",null,"Automatic Error Detection:")," Identifies spelling, grammar, and sentence structure issues."),n.createElement("li",{className:r},n.createElement("b",null,"Expression Optimization:")," Suggests more natural and professional phrasing suitable for business or formal messages."),n.createElement("li",{className:r},n.createElement("b",null,"Multilingual Correction:")," Supports grammar checks not only in English but also in other languages, such as Chinese."))))},73297:(e,t,a)=>{"use strict";e.exports=a.p+"summarize.9cfdcaba3ebe53c6ba08.png"},73298:(e,t,a)=>{"use strict";a.d(t,{A:()=>n});const n={root:"O3di3ULC","no-page-transitions":"UDdgVrUQ",noPageTransitions:"UDdgVrUQ","select-mode-active":"Y5TInySi",selectModeActive:"Y5TInySi","middle-column-footer":"XlGyc4tC",middleColumnFooter:"XlGyc4tC","no-message-composer-animations":"eDMArdYq",noMessageComposerAnimations:"eDMArdYq",ComposerEmbeddedMessage:"z4RvByc2",composerEmbeddedMessage:"z4RvByc2",inner:"m3DBx9f5",contextMenu:"zqTOc7LU",clear:"yhxytYkd","left-icon":"vFWsMwfP",leftIcon:"vFWsMwfP",preview:"otSxF62k",previewText:"itmZe2qi",previewImageContainer:"VvwZOug9",previewImage:"b0A9Zfoa",siteName:"ER149gdz",siteDescription:"FSYSqC60",interactive:"G5_7x_Hn"}},73474:(e,t,a)=>{"use strict";e.exports=a.p+"actions.c226eff441fdabe1f4ee.png"},73768:(e,t,a)=>{"use strict";a.d(t,{A:()=>n});const n={root:"EVLTkrt1",preview:"V3HabdKr",linkPreview:"ClGe8yij",media:"WAItYc5d",nonInteractive:"AQWPv0bP",expired:"tprkr7qf",expiredIcon:"nLA7VEhv"}},73803:(e,t,a)=>{"use strict";a.a(e,async(e,n)=>{try{a.d(t,{Ay:()=>v});var s=a(96540),r=a(27270),o=a(87357),i=a(23174),c=a(90709),l=a(13439),d=a(60919),m=a(55378),u=a(78104),p=a(89925),h=a(8235),A=a(7971),g=a(20604),y=e([r,m,u,A]);function f(){return f=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},f.apply(null,arguments)}[r,m,u,A]=y.then?(await y)():y;const v=e=>{const t=(0,l.mS)(),a=(0,d.SJA)(t);let n,y,f={},v=!1,b="loading";try{f=JSON.parse(e?.message.content),n=f?.message;try{y=JSON.parse(f?.summaryInfo)}catch(e){}v=f?.isAuto,b=f?.status}catch(e){}const x=!!n&&(0,c.Ie)(n),C=n?.content?.voice?(0,m.lz)(a,n?.content?.voice,1,x):void 0,N=n?.content?.photo?(0,u.A)(n?.content?.photo?(0,c.rI)(n?.content?.photo,"inline"):void 0,!1,i.qZ.BlobUrl):void 0,I=n?.content?.photo?.blobUrl||N,S=n?.content?.photo?.thumbnail?.width,M=Boolean(S);function k(){if(!n)return"";const{webPage:e,photo:t,document:a,audio:s,voice:r,video:o}=n?.content,i=(0,A.Ah)(n?.content?.text?.text),c=!!a&&(0,A.ER)(a?.mimeType);return e||i?"website page":t||c?"image":a?"file":s?"audio":r?"voice":o?"video":""}function T(){const{openMediaViewer:e}=(0,l.ko)();e({chatId:n?.chatId,threadId:-1,messageId:n?.id,origin:p.TQ.Inline,withDynamicLoading:!0})}return s.createElement("div",{className:"flex flex-col gap-2 px-3 text-[14px]","data-message-container":!0},!v&&s.createElement("div",{className:"text-right"},s.createElement(E,null,"Summarize this ",k())),function(){if(!n)return"";const{photo:e,document:t,audio:a,voice:r,video:i}=n?.content,c=(0,l.mS)(),m=(0,d.Pn$)(c,n),u=(0,A.Ah)(n?.content?.text?.text);return m||u?s.createElement("div",{className:(0,o.A)("flex",v?"":"justify-end")},s.createElement("div",{className:"rounded-[16px] bg-[var(--color-ai-room-media-bg)] p-3 text-[var(--color-text)] break-all"},m?m?.url:n?.content?.text?.text)):e?I&&s.createElement("div",{className:(0,o.A)("flex",v?"":"justify-end")},s.createElement("img",{src:I,className:(0,o.A)("full-media cursor-pointer",M&&"with-blurred-bg"),alt:"",style:{width:`${S??0}px`},onClick:T})):t?s.createElement("div",{className:(0,o.A)("flex",v?"":"justify-end")},s.createElement("div",{className:"rounded-[16px] bg-[var(--color-ai-room-media-bg)] p-3 text-[var(--color-text)] break-all"},n?.content.document?.fileName)):a?s.createElement("div",{className:(0,o.A)("flex",v?"":"justify-end")},s.createElement("div",{className:"rounded-[16px] bg-[var(--color-ai-room-media-bg)] p-3 text-[var(--color-text)] break-all"},n?.content.audio?.fileName)):r?s.createElement("div",{className:(0,o.A)("flex",v?"":"justify-end")},s.createElement("div",{className:"rounded-[16px] bg-[var(--color-ai-room-media-bg)] p-3 text-[var(--color-text)] break-all"},n?.content?.voice&&s.createElement("div",{className:"waveform-wrapper"},s.createElement("div",{className:"waveform",draggable:!1},s.createElement("canvas",{ref:C}))),n?.content?.audio&&s.createElement("p",{className:"title",dir:"auto",title:n?.content?.audio?.title},n?.content?.audio?.title))):i?s.createElement("div",{className:(0,o.A)("flex",v?"":"justify-end")},s.createElement("div",{className:"rounded-[16px] bg-[var(--color-ai-room-media-bg)] p-3 text-[var(--color-text)] break-all"},n?.content.video?.fileName)):void 0}(),"loading"===b?s.createElement(r.qo,null):"error"===b?s.createElement(w,{content:k()||"",message:e.message}):function(){if(!n)return"";const{webPage:t,photo:a,document:r}=n?.content,o=(0,A.Ah)(n?.content?.text?.text),i=!!r&&(0,A.ER)(r?.mimeType);return t||o?y?.title?s.createElement("div",{className:"rounded-[16px] bg-[var(--color-ai-room-media-bg)] p-3 text-[var(--color-text)]"},s.createElement("div",{className:"font-[600] text-[16px]","data-readable":!0},'Summary of the Article: "',y?.title,'"'),s.createElement("div",{className:"flex flex-col gap-[6px] mt-3"},s.createElement("div",{className:"font-[600]","data-readable":!0},"Key Highlights:"),s.createElement("div",{className:"flex flex-col"},y?.highlights?.map((e,t)=>s.createElement("div",{className:"flex flex-col",key:t},s.createElement("div",{className:"flex flex-row items-center flex-wrap"},s.createElement("span",{className:"mr-[24px]","data-readable":!0},t+1,". ",e?.title)),s.createElement("ul",{className:"list-disc list-inside ml-3 mb-1"},e?.content?.map((e,t)=>s.createElement("li",{className:"break-word",key:t,"data-readable":!0},e))))))),s.createElement(g.A,{canCopy:!0,canVoice:!0,message:e.message})):s.createElement(w,{content:"website page",message:e.message}):a||i?s.createElement("div",{className:"rounded-[16px] bg-[var(--color-ai-room-media-bg)] text-[var(--color-text)] p-3 text-[14px]"},v?s.createElement("div",{className:"font-[600]","data-readable":!0},"Image summarize"):s.createElement("div",{className:"flex items-center gap-2","data-readable":!0},s.createElement("img",{src:h,className:"w-[18px] h-[18px]"}),"Tely AI"),s.createElement("div",{className:"flex flex-col gap-[6px] mt-2","data-readable":!0},y?.text),s.createElement(g.A,{canCopy:!0,canVoice:!0,message:e.message})):s.createElement("div",{className:"rounded-[16px] bg-[var(--color-ai-room-media-bg)] p-3 text-[var(--color-text)]"},s.createElement("div",{className:"font-[600] text-[16px]","data-readable":!0},"Key Highlights:"),s.createElement("div",{className:"flex flex-col mt-2"},y?.map((e,t)=>s.createElement("div",{className:"flex flex-col",key:t},s.createElement("div",{className:"flex flex-row items-center flex-wrap"},s.createElement("span",{className:"mr-[24px] font-[600]","data-readable":!0},e?.title)),s.createElement("ul",{className:"list-disc list-inside ml-3 mb-1"},e?.content?.map((e,t)=>s.createElement("li",{className:"break-word",key:t,"data-readable":!0},e)))))),s.createElement(g.A,{canCopy:!0,canVoice:!0,message:e.message}))}())},E=({children:e})=>s.createElement("div",{className:"bg-[var(--color-ai-room-bubble-bg)] py-2 px-3 rounded-t-[16px] rounded-bl-[16px] text-right inline-flex relative"},e,s.createElement("div",{className:"absolute bottom-[-3px] right-[-9px] text-[var(--color-ai-room-bubble-bg)]"},s.createElement(b,null))),b=e=>s.createElement("svg",f({width:9,height:20},e),s.createElement("defs",null,s.createElement("filter",{id:"a",width:"200%",height:"141.2%",x:"-50%",y:"-14.7%",filterUnits:"objectBoundingBox"},s.createElement("feOffset",{dy:1,in:"SourceAlpha",result:"shadowOffsetOuter1"}),s.createElement("feGaussianBlur",{in:"shadowOffsetOuter1",result:"shadowBlurOuter1",stdDeviation:1}),s.createElement("feColorMatrix",{in:"shadowBlurOuter1",values:"0 0 0 0 0.0621962482 0 0 0 0 0.138574144 0 0 0 0 0.185037364 0 0 0 0.15 0"}))),s.createElement("g",{fill:"none",fillRule:"evenodd"},s.createElement("path",{fill:"currentColor",d:"M6 17H0V0c.193 2.84.876 5.767 2.05 8.782.904 2.325 2.446 4.485 4.625 6.48A1 1 0 0 1 6 17z",filter:"url(#a)"}),s.createElement("path",{fill:"currentColor",d:"M6 17H0V0c.193 2.84.876 5.767 2.05 8.782.904 2.325 2.446 4.485 4.625 6.48A1 1 0 0 1 6 17z"}))),w=({content:e,message:t})=>s.createElement("div",{className:"rounded-[16px] bg-[var(--color-ai-room-media-bg)] p-3 text-[var(--color-text)]"},s.createElement("span",{"data-readable":!0},"I couldn't find any accessible content from the ",e," you provided. It appears the search query didn't return any results. Could you please paste the text you want summarized? That way, I can give you a clear and accurate summary!"),s.createElement(g.A,{canCopy:!0,canVoice:!0,message:t}));n()}catch(x){n(x)}})},73874:(e,t,a)=>{"use strict";a.a(e,async(e,n)=>{try{a.d(t,{A:()=>f});var s=a(84051),r=a(87357),o=a(15384),i=a(57675),c=a(17712),l=a(59030),d=a(54746),m=a(93700),u=a(84640),p=a(12724),h=e([o,l,m,u]);[o,l,m,u]=h.then?(await h)():h;const A={color:0},g=4,y=({factCheck:e,isToggleDisabled:t})=>{const a=(0,l.A)(),n=(0,s.li)(),h=(0,s.li)(),{isCollapsed:y,isCollapsible:f,setIsCollapsed:v}=(0,i.A)(n,g,h),E=(0,s.Kr)(()=>{if(e.countryCode&&a.code)return new Intl.DisplayNames([a.code],{type:"region"}).of(e.countryCode)},[e.countryCode,a.code]),b=!t&&y,w=(0,c.A)(()=>{v(!1)}),x=(0,c.A)(()=>{v(e=>!e)});if(e.text)return s.Ay.createElement(m.A,{peerColor:A,className:p.A.root,onClick:b?w:void 0},s.Ay.createElement("div",{ref:h,className:(0,r.A)(p.A.cutoutWrapper,y&&p.A.collapsed)},s.Ay.createElement("div",{className:p.A.title},a("FactCheck")),s.Ay.createElement("div",{ref:n,className:p.A.content},(0,o.fd)({text:e.text.text,entities:e.text.entities})),s.Ay.createElement(u.A,{className:p.A.separator}),s.Ay.createElement("div",{className:p.A.footnote},a("FactCheckFooter",E))),f&&s.Ay.createElement("div",{className:(0,r.A)(p.A.collapseIcon,!t&&p.A.clickable),onClick:t?void 0:x,"aria-hidden":!0},s.Ay.createElement(d.A,{name:y?"down":"up"})))},f=(0,s.ph)(y);n()}catch(e){n(e)}})},73966:(e,t,a)=>{"use strict";a.a(e,async(e,n)=>{try{a.d(t,{A:()=>l});var s=a(84051),r=a(57729),o=e([r]),i=o.then?(await o)():o;function c({user:e,data:t,isLast:a}){const n=!1!==t.isSummary,o=!n&&"story"===t?.id?.split("-")[1];return n?s.Ay.createElement(r.A,{data:t,isLast:a}):o?s.Ay.createElement(r.X,{data:t,isLast:a,user:e}):void 0}r=i[0];const l=c;n()}catch(d){n(d)}})},75092:(e,t,a)=>{"use strict";a.a(e,async(e,n)=>{try{a.d(t,{A:()=>b});var s=a(84051),r=a(13439),o=a(23174),i=a(31481),c=a(66644),l=a(36353),d=a(80539),m=a(15384),u=a(17712),p=a(37859),h=a(56133),A=a(41257),g=a(61157),y=a(60138),f=e([m]),v=f.then?(await f)():f;m=v[0];let E=!1;const b=({draft:e,chatId:t,threadId:a,getHtml:n,setHtml:f,editedMessage:v,isDisabled:b})=>{const{saveDraft:w,clearDraft:x,loadCustomEmojis:C}=(0,r.ko)(),N=(0,s.li)(!1);(0,s.vJ)(()=>{const t=n(),a=void 0!==e?.isLocal;(0,m.QY)(e?.text)!==t||a?N.current=!0:N.current=!1},[e,n]),(0,s.vJ)(()=>{N.current=!1},[t,a]);const I=Boolean(v),S=(0,u.A)((e={})=>{if(b||I||!N.current)return;const s=n();s?(0,c.YS)(()=>{w({chatId:e.chatId??t,threadId:e.threadId??a,text:(0,d.Ay)(s)})}):x({chatId:e.chatId??t,threadId:e.threadId??a,shouldKeepReply:!0,shouldKeepSuggestedPost:!0})}),M=(0,h.A)(i.mPG,!0,void 0,[t,a]);(0,p.A)(([n,s,r])=>{if(b)return;const d=N.current,u=e?.suggestedPostInfo&&!r?.suggestedPostInfo;if(t===n&&a===s){if(d&&!e)return;if(!e&&r&&f(""),d&&!u)return}if(v||!e)return;f((0,m.QY)(e.text)),u&&(0,c.Uz)(()=>{const e=document.querySelector(i.m$5);e&&(0,l.A)(e,!0)});const p=e.text?.entities?.map(e=>e.type===o.C7.CustomEmoji&&e.documentId).filter(Boolean)||[];p.length&&C({ids:p})},[t,a,e,n,f,v,b]),(0,s.Nf)(()=>{if(!b)return()=>{I||S({chatId:t,threadId:a}),E=!0,(0,c.YS)(()=>{E=!1})}},[t,a,I,S,b]);const k=(0,A.i)(t),T=(0,A.i)(a);(0,s.vJ)(()=>{if(b||E)return;if(!n())return void S();const e=k.current,t=T.current;M(()=>{k.current===e&&T.current===t&&S()})},[k,n,b,M,T,S]),(0,g.Ay)(S),(0,y.A)(S)};n()}catch(e){n(e)}})},75175:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});var n=a(96540);const s=({text:e,errors:t})=>{if(!t.length)return n.createElement("p",null,n.createElement("span",null,e));const a=[];let s=0;return t.sort((e,t)=>e.offset-t.offset).forEach((t,r)=>{const{offset:o,length:i,suggestions:c}=t;o>s&&a.push(n.createElement("span",{key:`normal-${r}`,className:"text-[var(--color-text)]"},e.slice(s,o)));const l=e.slice(o,o+i),d=c[0]||"";a.push(n.createElement("span",{key:`error-${r}`,className:"bg-black/15 line-through mr-[4px] text-[var(--color-text)]"},l)),a.push(n.createElement("span",{key:`suggestion-${r}`,className:"bg-[#8C42F033] mr-[4px] text-[#8C42F0]"},d)),s=o+i}),s<e.length&&a.push(n.createElement("span",{key:"end",className:"text-[var(--color-text)]"},e.slice(s))),n.createElement("p",null,a)}},75304:(e,t,a)=>{"use strict";a.d(t,{R:()=>r});var n=a(96540),s=a(20427);function r(){const e=(0,n.useRef)(null),t=(0,n.useRef)(null),{data:a=!1,mutate:r}=(0,s.Ay)("messages:is-scroll-lock",null,{fallbackData:!1}),{data:o=!1,mutate:i}=(0,s.Ay)("messages:is-at-bottom",null,{fallbackData:!1}),{data:c=!1,mutate:l}=(0,s.Ay)("messages:should-scroll",null,{fallbackData:!1});(0,n.useEffect)(()=>{c&&!a&&requestAnimationFrame(()=>{requestAnimationFrame(()=>{t.current?.scrollIntoView({behavior:c}),l(!1)})})},[l,c,a]);const d=(0,n.useCallback)((e="smooth")=>{r(!1),l(e)},[r,l]);return{containerRef:e,endRef:t,isAtBottom:o,isScrollLock:a,scrollToBottom:d,onViewportEnter:function(){i(!0)},onViewportLeave:function(){i(!1)},scrollLocked:()=>{r(!0)},scrollUnLocked:()=>{r(!1)}}}},75319:(e,t,a)=>{"use strict";function n(e){return"object"==typeof e&&null!==e&&"graphType"in e}a.d(t,{R:()=>n})},75472:(e,t,a)=>{"use strict";a.d(t,{A:()=>n});const n={root:"Ow6Ij9O5","title-row":"CBda1UmC",titleRow:"CBda1UmC",loading:"L4Zk0yMN","other-column":"d0hTIVJn",otherColumn:"d0hTIVJn","main-column":"lEbV6HrI",mainColumn:"lEbV6HrI",unread:"BhS75ocD","last-message":"KJ16dBus",lastMessage:"KJ16dBus","after-wrapper":"uWo2dhui",afterWrapper:"uWo2dhui",after:"g3XnC73g",title:"k3Ch25ZQ",otherColumnIcon:"oknhG11L","other-column-title":"ZUj3xAjs",otherColumnTitle:"ZUj3xAjs","other-columns":"IkuCBmvA",otherColumns:"IkuCBmvA",ellipsis:"_m_2xcPW","reverse-corner":"U_yhhC0w",reverseCorner:"U_yhhC0w","overwritten-width":"HV0wCR4O",overwrittenWidth:"HV0wCR4O"}},75606:(e,t,a)=>{"use strict";a.a(e,async(e,n)=>{try{a.d(t,{A:()=>u});var s=a(96540),r=a(13439),o=a(60919),i=a(9716),c=a(22199),l=a(15972),d=e([l]),m=d.then?(await d)():d;l=m[0];const u=({chatId:e,classNames:t,size:a,style:n})=>{const d=(0,r.mS)();let m;return m=(0,i.L8)(e)?(0,o.mBe)(d,e):(0,o.hds)(d,e),s.createElement(l.A,{style:n,key:e,className:(0,c.cn)(t,"overlay-avatar inline-block cursor-pointer"),size:a,peer:m})};n()}catch(e){n(e)}})},76251:(e,t,a)=>{"use strict";a.d(t,{A:()=>n});const n={root:"Ef_0p5Qm",top:"nHSmCUNs",icon:"rlM4Mbnn",left:"JTZ8UnnP",bottom:"lp9VIV1o",status:"JVL7ZnnJ","status-open":"segAfYXs",statusOpen:"segAfYXs",arrow:"dYxw2cFn","offset-trigger":"gVwflFhz",offsetTrigger:"gVwflFhz",transition:"WKgL_XiP",timetable:"MPBKHdZL",schedule:"Rs0VPgpq",weekday:"cmxPqAof","current-day":"YZVvP_56",currentDay:"YZVvP_56"}},76593:(e,t,a)=>{"use strict";a.a(e,async(e,n)=>{try{a.d(t,{A:()=>b});var s=a(84051),r=a(13439),o=a(89925),i=a(70636),c=a(87357),l=a(9716),d=a(54464),m=a(10722),u=a(17712),p=a(59030),h=a(92111),A=a(21849),g=a(71429),y=a(24433),f=a(2429),v=e([i,p,h,A,y]);function E({peer:e,isArchived:t}){const{openChat:a,openChatWithInfo:n,openStoryViewer:v,toggleStoriesHidden:E}=(0,r.ko)(),b=(0,p.A)(),w=(0,s.li)(),x="isSelf"in e&&e.isSelf,C=!(0,l.L8)(e.id);(0,h.A)(e.id);const{isContextMenuOpen:N,contextMenuAnchor:I,handleBeforeContextMenu:S,handleContextMenu:M,handleContextMenuClose:k,handleContextMenuHide:T}=(0,m.A)(w),P=(0,u.A)(()=>w.current),L=(0,u.A)(()=>document.body),B=(0,u.A)(()=>w.current.querySelector(".story-peer-context-menu .bubble")),R=(0,u.A)(()=>({withPortal:!0,isDense:!0})),D=(0,u.A)(()=>{N||v({peerId:e.id,origin:o.G9.StoryRibbon})}),F=(0,u.A)(e=>{(0,d.u)(e),S(e)}),O=(0,u.A)(()=>{n({id:e.id,shouldReplaceHistory:!0,profileTab:"stories"})}),z=(0,u.A)(()=>{n({id:e.id,shouldReplaceHistory:!0,profileTab:"storiesArchive"})}),U=(0,u.A)(()=>{a({id:e.id,shouldReplaceHistory:!0})}),j=(0,u.A)(()=>{n({id:e.id,shouldReplaceHistory:!0})}),V=(0,u.A)(()=>{E({peerId:e.id,isHidden:!t})});return s.Ay.createElement("div",{ref:w,role:"button","data-peer-id":e.id,tabIndex:0,className:f.A.peer,onMouseDown:F,onClick:D,onContextMenu:M},s.Ay.createElement(A.A,{peer:e,withStory:!0,storyViewerOrigin:o.G9.StoryRibbon,storyViewerMode:"full"}),s.Ay.createElement("div",{className:(0,c.A)(f.A.name,e.hasUnreadStories&&f.A.name_hasUnreadStory)},x?b("MyStory"):(0,i.F9)(b,e)),void 0!==I&&s.Ay.createElement(g.A,{isOpen:N,anchor:I,getTriggerElement:P,getRootElement:L,getMenuElement:B,getLayout:R,className:(0,c.A)("story-peer-context-menu",f.A.contextMenu),autoClose:!0,withPortal:!0,onClose:k,onCloseAnimationEnd:T},x?s.Ay.createElement(s.Ay.Fragment,null,s.Ay.createElement(y.A,{onClick:O,icon:"play-story"},b("StoryList.Context.SavedStories")),s.Ay.createElement(y.A,{onClick:z,icon:"archive"},b("StoryList.Context.ArchivedStories"))):s.Ay.createElement(s.Ay.Fragment,null,!C&&s.Ay.createElement(y.A,{onClick:U,icon:"message"},b("SendMessageTitle")),C?s.Ay.createElement(y.A,{onClick:j,icon:"channel"},b("ChatList.ContextOpenChannel")):s.Ay.createElement(y.A,{onClick:j,icon:"user"},b("StoryList.Context.ViewProfile")),s.Ay.createElement(y.A,{onClick:V,icon:t?"unarchive":"archive"},b(t?"StoryList.Context.Unarchive":"StoryList.Context.Archive")))))}[i,p,h,A,y]=v.then?(await v)():v;const b=(0,s.ph)(E);n()}catch(w){n(w)}})},76774:(e,t,a)=>{"use strict";a.d(t,{A:()=>n});const n={primaryLink:"xNjJHI7j",input:"Ag6k_p7b",moreMenu:"p7t3macG",copy:"obuPXobw",title:"vCMpiQTJ",share:"Sbagy_Tm"}},77293:(e,t,a)=>{"use strict";a.d(t,{A:()=>n});const n={root:"Fn34Vu_9","closed-icon":"MB7Gomjn",closedIcon:"MB7Gomjn","topic-icon":"oXJl4tra",topicIcon:"oXJl4tra"}},77719:(e,t,a)=>{"use strict";a.d(t,{A:()=>m});var n=a(96540),s=a(69036),r=a(21468),o=a(72531),i=a(96454),c=a(85325),l=a(80395);const d=a.p+"google.5f147c0a9dbb2590b20d.png",m=e=>{const{deleteMessage:t}=e,a=(0,n.useCallback)(()=>{i.cp?window.electron.googleLogin().then(e=>{const a={isLoggedIn:!0,accessToken:e.access_token,idToken:e.id_token,grantedScopes:e.scope,expiresAt:e.expiry_date};(0,l.UA)(a),o.A.emit(o.E.GoogleAuthSuccess),t()}).catch(e=>{console.error("Google login failed:",e)}):(0,c.XL)().then(e=>{console.log(e),o.A.emit(o.E.GoogleAuthSuccess),t()}).catch(e=>{console.error("Google login failed:",e),s.Ay.info("Google login failed")})},[t]);return n.createElement("div",{className:"px-[12px]"},n.createElement("div",{className:"p-[10px] border-solid border-[#D9D9D9] rounded-[16px] w-[316px] bg-white dark:bg-[#292929]"},n.createElement("span",null,"This service requires access to your Google Calendar."),n.createElement(r.Ay,{className:"w-auto mt-[4px] flex items-center cursor-pointer hover:opacity-80 hover:!bg-[#F3F3F3]  gap-[8px] bg-[#F3F3F3] px-[12px] py-[10px] rounded-[6px] dark:!bg-[#383838] h-[36px] border-none",onClick:a},n.createElement("img",{src:d,alt:"",className:"w-[16px] h-[16px]"}),n.createElement("span",{className:"text-[var(--color-text)]"},"Google authorization"))))}},78211:(e,t,a)=>{"use strict";a.d(t,{A:()=>c});var n=a(96540),s=a(13439),r=a(72531),o=a(60919);const i="h-[40px] w-fit px-[12px] py-[8px] rounded-[6px] bg-[#F5F1FF] text-[14px] text-[var(--color-text)] dark:bg-[#383838]",c=({message:e})=>{const{content:t}=e,a=(0,s.mS)(),c=(0,o.hds)(a,t),l=()=>{r.A.emit(r.E.RoomAIActions,{chatId:t,action:"new-feature"})};return n.createElement("div",{className:"px-[12px]"},n.createElement("div",{className:"px-3 py-2 rounded-xl text-[var(--color-text)] bg-white dark:bg-[#292929]"},n.createElement("p",{className:"text-[14px]"},"ðŸ‘‹ Hi, welcome to ã€",c?.title,"ã€‘! Iâ€™m Tely AI ðŸ¤–, your smart assistant here."),n.createElement("div",{className:"mt-[0.5rem]"},n.createElement("h3",{className:"text-[14px] font-semibold"},"ðŸš€ Hereâ€™s what I can help you with:"),n.createElement("div",{className:"flex flex-col gap-[8px] mt-[0.5rem]"},n.createElement("div",{className:i,onClick:()=>{r.A.emit(r.E.RoomAIActions,{chatId:t,action:"summary"})}},"ðŸ§  Chat Summary"),n.createElement("div",{className:i,onClick:()=>{r.A.emit(r.E.RoomAIActions,{chatId:t,action:"schedule-meet"})}},"ðŸ“… Schedule Meeting"),n.createElement("div",{className:i,onClick:()=>{r.A.emit(r.E.RoomAIActions,{chatId:t,action:"todo"})}},"âœ… Action Items"),n.createElement("div",{className:i,onClick:l},"ðŸ” Group Search"),n.createElement("div",{className:i,onClick:l},"ðŸ‘® User Portrait"),n.createElement("div",{className:i,onClick:l},"ðŸŽ¯ Project Tracking"))),n.createElement("div",{className:"mt-[0.5rem]"},n.createElement("h3",{className:"text-[14px] font-semibold"},"ðŸ“ You can ask me things like:"),n.createElement("ul",{className:"list-disc pl-[24px] text-[14px] text-[var(--color-text)]"},n.createElement("li",null,"What was discussed in the group yesterday?"),n.createElement("li",null,"Has there been any mention of client feedback in the group?")))))}},79028:(e,t,a)=>{"use strict";a.d(t,{A:()=>o});var n=a(84051),s=a(80089),r=a(80464);const o=e=>{const{modal:t}=e,a=(0,r.A)(s.ar.Extra,"ToDoListModal",!t);return a?n.Ay.createElement(a,e):void 0}},79882:(e,t,a)=>{"use strict";a.d(t,{I:()=>s,W:()=>r});var n=a(84051);let s=function(e){return e[e.Move=0]="Move",e[e.Opacity=1]="Opacity",e[e.None=2]="None",e}({});function r(e){return(0,n.Kr)(()=>{const t=Object.values(e),a=t.filter(e=>e<0).length,n=t.filter(e=>e>0).length;return t=>{const r=e[t];return 0===r?s.None:r===1/0||r===-1/0||a<=n&&r<0||n<a&&r>0?s.Opacity:s.Move}},[e])}},80477:(e,t,a)=>{"use strict";a.a(e,async(e,n)=>{try{a.d(t,{A:()=>p});var s=a(84051),r=a(13439),o=a(90709),i=a(60919),c=a(4961),l=a(59030),d=a(80999),m=e([l,d]);[l,d]=m.then?(await m)():m;const u=({typingStatus:e,typingUser:t})=>{const a=(0,l.A)(),n=t&&!t.isSelf&&(0,o.u0)(t),r=a(e.action).replace("{user}","").replace("{emoji}",e.emoji||"").trim();return s.Ay.createElement("p",{className:"typing-status",dir:a.isRtl?"rtl":"auto"},n&&s.Ay.createElement("span",{className:"sender-name",dir:"auto"},(0,c.A)(n)),s.Ay.createElement(d.A,{content:r}))},p=(0,s.ph)((0,r.EK)((e,{typingStatus:t})=>t.userId?{typingUser:(0,i.mBe)(e,t.userId)}:{})(u));n()}catch(e){n(e)}})},80878:(e,t,a)=>{"use strict";a.d(t,{Ag:()=>p,qX:()=>u});var n=a(60602);function s(e,t){let a=e;return t&&(t.include&&(a=a.filter(e=>r(e,t.include))),t.exclude&&(a=a.filter(e=>!r(e,t.exclude)))),a}function r(e,t){if(t.metadata)for(const a in t.metadata)if(e.metadata[a]!==t.metadata[a])return!1;return!(t.text&&!(Array.isArray(t.text)?t.text:[t.text]).includes(e.text))}function o(e,t,a){return(t=function(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var a=t.call(e,"string");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class i{constructor(e){o(this,"db",void 0),o(this,"documents",[]),o(this,"maxSizeInMB",void 0),o(this,"debounceTime",void 0),o(this,"openaiModel",void 0),o(this,"openaiApiKey",void 0),o(this,"embedTextsFn",void 0),o(this,"dbName",void 0),o(this,"dbVersion",void 0),this.dbName=e.dbName??"VectorStorage",this.dbVersion=e.dbVersion??1,this.maxSizeInMB=e.maxSizeInMB??128,this.debounceTime=e.debounceTime??0,this.openaiModel=e.openaiModel??"text-embedding-ada-002",this.embedTextsFn=e.embedTextsFn,this.openaiApiKey=e.openAIApiKey,this.openaiApiKey||e.embedTextsFn?this.startPeriodicCleanup():console.error("VectorStorage: pass as an option either an OpenAI API key or a custom embedTextsFn function.")}async addText(e,t,a){const n={metadata:a,text:e,id:t,timestamp:Date.now(),vector:[],vectorMag:0};return await this.addDocuments(n)}async updateText(e,t,a){const n={metadata:a,text:e,id:t,timestamp:Date.now(),vector:[],vectorMag:0};return await this.updateDocument(n)}async deleteText(e){this.db||(this.db=await this.initDB());try{const t=this.db.transaction("documents","readwrite");t.objectStore("documents").delete(e),await t.done}catch(e){console.error("Error deleting text:",e)}}async getText(e){this.db||(this.db=await this.initDB());const t=this.db.transaction("documents","readonly");return await t.objectStore("documents").get(e)}async similaritySearch(e){const{query:t,k:a=4,filterOptions:n,includeValues:r}=e;let{queryEmbedding:o}=e;o&&0!==o.length||(o=await this.embedText(t));const i=this.calculateMagnitude(o),c=s(await this.loadFromIndexDbStorage(),n),l=this.calculateSimilarityScores(c,o,i).sort((e,t)=>t[1]-e[1]).slice(0,a).map(e=>({...e[0],score:e[1]}));return this.updateHitCounters(l),r||l.forEach(e=>{delete e.vector,delete e.vectorMag}),{query:{embedding:o,text:t},similarItems:l}}async documentSearch(e){const{filterOptions:t}=e;return s(await this.loadAllFromIndexDbStorage(),t)}async initDB(){return(0,n.P2)(this.dbName,this.dbVersion,{upgrade(e){for(const t of e.objectStoreNames)e.deleteObjectStore(t);const t=e.createObjectStore("documents",{autoIncrement:!0,keyPath:"id"});t.createIndex("text","text",{unique:!1}),t.createIndex("metadata","metadata"),t.createIndex("timestamp","timestamp"),t.createIndex("vector","vector"),t.createIndex("vectorMag","vectorMag"),t.createIndex("hits","hits"),t.createIndex("id","id",{unique:!0})}})}async addDocuments(e){const t=await this.embedTextsFn(e.text);return e.vector=t,e.vectorMag=c(e),await this.addToIndexDbStorage([e]),e}async updateDocument(e){const t=await this.embedTextsFn(e.text);return e.vector=t,e.vectorMag=c(e),await this.addToIndexDbStorage([e]),e}async embedTexts(e){const t=await fetch("https://api.openai.com/v1/embeddings",{body:JSON.stringify({input:e,model:this.openaiModel}),headers:{Authorization:`Bearer ${this.openaiApiKey}`,"Content-Type":"application/json"},method:"POST"});if(!t.ok)throw new Error(`HTTP error! status: ${t.status}`);return(await t.json()).data.map(e=>e.embedding)}async embedText(e){return await this.embedTextsFn(e)}calculateMagnitude(e){return Math.sqrt(e.reduce((e,t)=>e+t*t,0))}calculateSimilarityScores(e,t,a){return e.map(e=>{let n=(s=e.vector.reduce((e,a,n)=>e+a*t[n],0),r=e.vectorMag,s/(r*a));var s,r;return n=function(e){return(e+1)/2}(n),[e,n]})}updateHitCounters(e){e.forEach(e=>{e.hits=(e.hits??0)+1})}async loadFromIndexDbStorage(){this.db||(this.db=await this.initDB());const e=this.db.transaction("documents","readonly"),t=e.store.index("timestamp"),a=[];let n=0;for await(const e of t.iterate(null,"prev"))if(a.push(e.value),n++,n>=3e3)break;return await e.done,a}async loadAllFromIndexDbStorage(){this.db||(this.db=await this.initDB());const e=this.db.transaction("documents","readonly"),t=e.store.index("timestamp"),a=[];for await(const e of t.iterate(null,"prev"))a.push(e.value);return await e.done,a}async addToIndexDbStorage(e){this.db||(this.db=await this.initDB());try{const t=this.db.transaction("documents","readwrite");for(const a of e)await t.objectStore("documents").put(a);await t.done}catch(e){console.error("Failed to save to IndexedDB:",e.message)}}startPeriodicCleanup(){this.checkAndCleanupData(),setInterval(()=>{this.checkAndCleanupData()},36e5)}async checkAndCleanupData(){try{this.db||(this.db=await this.initDB());const e=this.db.transaction("documents","readwrite"),t=e.objectStore("documents"),a=t.index("timestamp"),n=await t.count();if(n>4e4){console.log(`VectorStorage: æ£€æµ‹åˆ°æ•°æ®é‡è¶…è¿‡é™åˆ¶ (${n} > 40000)ï¼Œå¼€å§‹æ¸…ç†è€æ•°æ®...`);const s=[];for await(const e of a.iterate(null,"prev"))s.push(e.value);const r=s.slice(0,35e3),o=s.slice(35e3);await t.clear();for(const e of r)await t.put(e);await e.done,console.log(`VectorStorage: æ¸…ç†å®Œæˆï¼Œåˆ é™¤äº† ${o.length} æ¡è€æ•°æ®ï¼Œä¿ç•™äº† ${r.length} æ¡æœ€æ–°æ•°æ®`)}else console.log(`VectorStorage: æ•°æ®é‡æ£€æŸ¥å®Œæˆï¼Œå½“å‰æ•°æ®é‡: ${n}`)}catch(e){console.error("VectorStorage: æ•°æ®æ¸…ç†è¿‡ç¨‹ä¸­å‘ç”Ÿé”™è¯¯:",e)}}async manualCleanup(){await this.checkAndCleanupData()}async getDocumentCount(){try{this.db||(this.db=await this.initDB());const e=this.db.transaction("documents","readonly"),t=await e.objectStore("documents").count();return await e.done,t}catch(e){return console.error("VectorStorage: èŽ·å–æ–‡æ¡£æ•°é‡æ—¶å‘ç”Ÿé”™è¯¯:",e),0}}}function c(e){return Math.sqrt(e.vector.reduce((e,t)=>e+t*t,0))}async function l(e){const t=await fetch("http://47.85.96.140:8100/v1/embeddings",{body:JSON.stringify({dimensions:null,encoding_format:"float",input:e,model:"null",user:"null"}),headers:{"Content-Type":"application/json"},method:"POST"});if(!t.ok)throw new Error(`HTTP error! status: ${t.status}`);const a=await t.json();return a.data?.[0]?.embedding}const d=new Map;function m(e,t){return d.has(e)||d.set(e,new i({embedTextsFn:l,dbName:e,dbVersion:t})),d.get(e)}const u=m("tools-embedding",2),p=m("message-embedding",2);m("knowledge-embedding"),window.toolsEmbeddingStore=u},80999:(e,t,a)=>{"use strict";a.a(e,async(e,n)=>{try{a.d(t,{A:()=>d});var s=a(84051),r=a(87357),o=a(4961),i=a(59030),c=e([i]),l=c.then?(await c)():c;i=l[0];const d=({content:e,className:t})=>{const a=(0,i.A)();return s.Ay.createElement("span",{className:(0,r.A)("DotAnimation",t),dir:a.isRtl?"rtl":"auto"},(0,o.A)(e),s.Ay.createElement("span",{className:"ellipsis"}))};n()}catch(e){n(e)}})},81524:(e,t,a)=>{"use strict";a.a(e,async(e,n)=>{try{a.d(t,{A:()=>v});var s=a(84051),r=a(90709),o=a(87357),i=a(17663),c=a(83868),l=a(35749),d=a(2338),m=a(37661),u=a(5912),p=a(17712),h=a(62587),A=a(83057),g=a(46256),y=e([h,g]);[h,g]=y.then?(await y)():y;const f=({message:e,idPrefix:t="shared-media",isProtected:a,observeIntersection:n,onClick:y})=>{const f=(0,s.li)(),v=(0,u.Vz)(f,n),E=(0,d.A)(e),b=(0,l.A)(e,"pictogram"),w=(0,h.A)(b,!v),x=(0,A.A)(w),C=(0,r.zX)(e),N=(0,r.y2)(e),[I,,S]=(0,m.A)(N),M=(0,p.A)(()=>{S(),y(e.id,e.chatId)});return s.Ay.createElement("div",{ref:f,id:`${t}${(0,r.GZ)(e.id)}`,className:"Media scroll-item",onClick:y?M:void 0},s.Ay.createElement("img",{src:E,className:"media-miniature",alt:"",draggable:!a,decoding:"async",onContextMenu:a?c.A:void 0}),s.Ay.createElement("img",{src:w,className:(0,o.A)("full-media","media-miniature",x),alt:"",draggable:!a,decoding:"async",onContextMenu:a?c.A:void 0}),N&&s.Ay.createElement(g.A,{thumbDataUri:w||E,isVisible:I,className:"media-spoiler"}),C&&s.Ay.createElement("span",{className:"video-duration"},C.isGif?"GIF":(0,i.QO)(C.duration)),a&&s.Ay.createElement("span",{className:"protector"}))},v=(0,s.ph)(f);n()}catch(e){n(e)}})},81642:(e,t,a)=>{"use strict";a.a(e,async(e,n)=>{try{a.d(t,{A:()=>u});var s=a(84051),r=a(87357),o=a(17663),i=a(59030),c=a(45),l=e([i]),d=l.then?(await l)():l;i=d[0];const m=({className:e,message:t,outgoingStatus:a,draftDate:n})=>{const l=(0,i.A)(),d=n&&n>t.date;return s.Ay.createElement("div",{className:(0,r.A)("LastMessageMeta",e)},a&&!d&&s.Ay.createElement(c.A,{status:a}),s.Ay.createElement("span",{className:"time"},(0,o.be)(l,1e3*(d?n:t.date))))},u=(0,s.ph)(m);n()}catch(e){n(e)}})},83563:(e,t,a)=>{"use strict";a.d(t,{A:()=>n});const n={overlay:"RXAMu4VD",mediaArea:"pruw1nLm",preview:"_5HkplWee",shiny:"xFjJpeOA",wave:"Ux0tlNbE",light:"_7esBA3m",dark:"eic2vQ8c",reactionBackground:"c3ajA3hg",flipped:"furSXGdL",reaction:"Et3MvYmN",withCount:"mFTLUHm2",reactionCount:"Tr8mYyDk",weather:"KBjMtRUS",weatherInner:"IFChB3tD",temperature:"_ke1UBIl"}},83594:(e,t,a)=>{"use strict";a.a(e,async(e,n)=>{try{a.d(t,{A:()=>h});var s=a(84051),r=a(13439),o=a(37661),i=a(17712),c=a(59030),l=a(71429),d=a(24433),m=a(88464),u=e([c,d,m]);[c,d,m]=u.then?(await u)():u;const p=({bot:e,theme:t,chatId:a,threadId:n,isInSideMenu:u,canShowNew:p,onMenuOpened:h,onMenuClosed:A})=>{const{callAttachBot:g,toggleAttachBot:y}=(0,r.ko)(),f=(0,c.A)(),v=(0,s.Kr)(()=>e.icons.find(({name:e})=>"default_static"===e)?.document,[e.icons]),[E,b,w]=(0,o.A)(),[x,C]=(0,s.J0)(void 0),N=(0,i.A)(e=>{e.preventDefault();const t=e.currentTarget.getBoundingClientRect();C({x:t.right,y:t.bottom}),h(),b()}),I=(0,i.A)(()=>{g(u?{bot:e,isFromSideMenu:!0}:{bot:e,chatId:a,threadId:n})}),S=(0,i.A)(()=>{w(),A()}),M=(0,i.A)(()=>{C(void 0)}),k=(0,i.A)(()=>{y({botId:e.id,isEnabled:!1})});return s.Ay.createElement(d.A,{key:e.id,customIcon:v&&s.Ay.createElement(m.A,{icon:v,theme:t}),icon:v?void 0:"bots",onClick:I,onContextMenu:N},e.shortName,p&&e.isDisclaimerNeeded&&s.Ay.createElement("span",{className:"menu-item-badge"},f("New")),x&&s.Ay.createElement(l.A,{isOpen:E,positionX:"right",style:`left: ${x.x}px;top: ${x.y}px;`,className:"bot-attach-context-menu",autoClose:!0,withPortal:!0,onClose:S,onCloseAnimationEnd:M},s.Ay.createElement(d.A,{icon:"stop",destructive:!0,onClick:k},f("WebApp.RemoveBot"))))},h=(0,s.ph)(p);n()}catch(e){n(e)}})},84313:(e,t,a)=>{"use strict";a.a(e,async(e,n)=>{try{a.d(t,{A:()=>u});var s=a(84051),r=a(13439),o=a(96454),i=a(17712),c=a(59030),l=e([c]),d=l.then?(await l)():l;c=d[0];const m=8e3;function u(e,t,a){const{showNotification:n}=(0,r.ko)(),l=(0,c.A)(),[d,u]=(0,s.J0)(!1),p=(0,i.A)(()=>{u(!0),t||n({message:o.yS?l("Video.Unsupported.Mobile"):l("Video.Unsupported.Desktop"),duration:m})}),h=(0,i.A)(e=>{const t=e.currentTarget,{error:a}=t;a&&(3!==a.code&&4!==a.code||p())}),A=(0,i.A)(e=>{const t=e.currentTarget;t.videoHeight&&t.videoWidth||p()});return(0,s.vJ)(()=>{if(a)return;const{current:t}=e;return t?(t.addEventListener("error",h),t.addEventListener("canplay",A),()=>{t.removeEventListener("error",h),t.removeEventListener("canplay",A)}):void 0},[a,e]),d}n()}catch(p){n(p)}})},84425:(e,t,a)=>{"use strict";a.a(e,async(e,n)=>{try{a.d(t,{A:()=>E});var s=a(84051),r=a(31481),o=a(66644),i=a(90709),c=a(95807),l=a(17142),d=a(4961),m=a(40435),u=a(39351),p=a(37859),h=a(62587),A=a(59030),g=a(61097),y=a(55158),f=e([u,h,A]);[u,h,A]=f.then?(await f)():f;const v=({message:e,shouldAffectAppendix:t,isInSelectMode:a,isSelected:n,theme:f,forcedWidth:v})=>{const E=(0,s.li)(),b=(0,A.A)(),w=(0,u.A)(),x=(0,i.NO)(e),{title:C,description:N,amount:I,currency:S,isTest:M,photo:k}=x,T=(0,h.A)((0,i.cy)(k)),P=Boolean(v),L=(0,g.A)(T,!P),B=e.id;(0,p.A)(([e])=>{if(t){if(T){const e=E.current.closest(r.KFG);(0,m.A)(T,!1,B,n,f).then(t=>{(0,o.RK)(()=>{e.style.setProperty("--appendix-bg",t),e.setAttribute(r.D3G,"")})})}}else e&&E.current.closest(r.KFG).removeAttribute(r.D3G)},[t,T,a,n,f,B]);const R=v||k?.dimensions?.width,D=(0,c.A)(k?.dimensions&&`width: ${R}px`,k?.dimensions&&`aspect-ratio: ${k.dimensions.width} / ${k.dimensions.height}`,Boolean(!k?.dimensions&&v)&&`width: ${v}px`);return s.Ay.createElement("div",{ref:E,className:"Invoice"},C&&s.Ay.createElement("p",{className:"title"},(0,d.A)(C)),N&&s.Ay.createElement("div",{className:"info"},(0,d.A)(N,["emoji","br"])),s.Ay.createElement("div",{className:"description "+(k?"has-image":"")},Boolean(k)&&s.Ay.createElement("div",{className:"invoice-image-container"},P&&s.Ay.createElement("canvas",{ref:L,className:"thumbnail blurred-bg"}),T&&s.Ay.createElement("img",{className:"invoice-image",src:T,alt:"",style:D,crossOrigin:"anonymous",draggable:!1}),!T&&k&&s.Ay.createElement(y.A,{width:R,height:k.dimensions?.height,forceAspectRatio:!0})),s.Ay.createElement("p",{className:"description-text"},(0,l.vv)(w,I,S,{iconClassName:"invoice-currency-icon"}),M&&s.Ay.createElement("span",{className:"test-invoice"},b("PaymentTestInvoice")))))},E=(0,s.ph)(v);n()}catch(e){n(e)}})},84499:(e,t,a)=>{"use strict";a.d(t,{A:()=>N});var n=a(84051),s=a(45227),r=a(96540),o=a(94697),i=a(21468),c=a(70809),l=a(2189),d=a(20181),m=a.n(d),u=a(80539);class p{constructor(){var e,t,a;e=this,a=void 0,(t=function(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var a=t.call(e,"string");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t="languageToolURL"))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,this.languageToolURL="https://api.languagetoolplus.com/v2/check"}async saplingEditOverview(e){const t=new URLSearchParams({text:e,language:"en-US",useragent:"standalone",disabledRules:"WHITESPACE_RULE",mode:"allButTextLevelOnly",allowIncompleteResults:"true"});try{const a=await fetch(this.languageToolURL,{headers:{accept:"application/json","Content-Type":"application/x-www-form-urlencoded"},body:t.toString(),method:"POST"}),n=await a.json();return console.log("LanguageTool response:",JSON.stringify(n)),n.matches.map(t=>{if(t.replacements&&t.replacements.length)return{description:t.rule.description,start:t.offset,end:t.offset+t.length,id:t.rule.id,general_error_type:t.rule.category.id.toLowerCase(),error_type:p.classifyTypeGramma(t.rule),replacement:t.replacements[0]?.value||"",isPremium:!!t.rule?.isPremium,shortMessage:t.shortMessage||"",original_text:e.substring(t.offset,t.offset+t.length),sentence:t.sentence,sentence_start:e.indexOf(t.sentence)}}).filter(Boolean)}catch(e){return console.log(e),[]}}static classifyTypeGramma(e){return e?.category?.id?.toLowerCase()||""}async check(e){return await this.saplingEditOverview(e)}}const h=new p,A=new l.diff_match_patch;function g(e,t){let a=t;for(const t of e){if(t.nodeType!==Node.TEXT_NODE)continue;const e=t.length;if(a<=e)return{node:t,offset:a};a-=e}return{node:null,offset:0}}function y(e,t,a){const n=getComputedStyle(a),s=parseFloat(n.lineHeight||"16");return{left:e.left-t.left,top:e.top-t.top,width:e.width,height:s}}var f=a(89027);const v=({replacement:e,errorIndex:t,handleFixError:a})=>r.createElement("div",{className:"text-[var(--color-text)]"},r.createElement("div",null,"ReplaceMent"),r.createElement("div",{className:"max-w-[min(30vw,400px)] px-[12px] py-[10px] rounded-[8px] cursor-pointer hover:bg-[var(--color-primary)] hover:text-white",onClick:()=>{a(t)}},e)),E=e=>{const{top:t,left:a,width:n,height:s,replacement:o,generalErrorType:i,errorIndex:c,handleFixError:l}=e,d=(0,r.useRef)(null);return r.createElement("div",{className:"absolute pointer-events-none",style:{left:`${a}px`,top:`${t}px`,width:`${n}px`,height:`${s}px`}},r.createElement(f.A,{placement:"top",content:r.createElement(v,{replacement:o,errorIndex:c,handleFixError:l})},r.createElement("div",{ref:d,className:"absolute bottom-[-2px] h-[6px] w-full border-b-[2px] pointer-events-auto "+("typos"===i.toLocaleLowerCase()?"border-red-500/60":"border-[#FFD633]")})))},b=(0,r.memo)(E);var w=a(75175);const x=({errorRanges:e,onClose:t,handleFixAllErrors:a,handleFixError:n})=>{const[s,o]=(0,r.useState)(0),[l,d]=(0,r.useState)(e[0]),[m,u]=(0,r.useState)([]),[p,h]=(0,r.useState)("");(0,r.useEffect)(()=>{const t=e[s];t&&(d(t),u([{description:t.description,offset:t.start-t.sentence_start,length:t.end-t.start,originalText:t.original_text,remove_segment:!1,suggestions:[t.replacement]}]),h(t.sentence))},[s,e]);const A=(0,r.useCallback)(()=>{n(s),1===e.length&&t(),s===e.length-1&&t()},[s,l]),g=(0,r.useCallback)(()=>{a(),t()},[a,t]);return r.createElement("div",{className:"h-[190px] flex flex-col overflow-hidden"},r.createElement("div",{className:"flex flex-row items-center justify-between"},r.createElement("h3",{className:"text-[var(--color-text)]"},"Review suggestions"),r.createElement("div",{className:"h-[26px] rounded-[6px] overflow-hidden flex flex-row"},r.createElement("div",{className:"w-[21px] bg-[#F1F1F1] cursor-pointer",onClick:()=>{s>0&&o(s-1)}},r.createElement(c.Yy,null)),r.createElement("div",{className:"px-[5px] text-[#979797]"},s+1,"/",e.length),r.createElement("div",{className:"w-[21px] bg-[#F1F1F1] cursor-pointer",onClick:()=>{s<e.length-1&&o(s+1)}},r.createElement(c.Xq,null)))),r.createElement("div",{className:"flex-1 overflow-hidden flex flex-col"},r.createElement("div",{className:"flex flex-row items-center gap-[8px]"},r.createElement("div",{className:"w-[8px] h-[8px] rounded-full bg-[#FF9900]"}),r.createElement("span",{className:"text-[14px] text-[#959595]"},"Improve your text")),r.createElement("div",{className:"flex-1 overflow-auto"},m?r.createElement(w.A,{text:p,errors:m}):void 0)),r.createElement("div",{className:"flex flex-row items-center justify-between  pt-[10px] border-t-[1px] border-black/10"},r.createElement("div",{className:"text-[#7D40FF] border-[1px] border-[#7D40FF] rounded-[6px] px-[8px] py-[5px]",onClick:g},"Accept all (",e.length,")"),r.createElement("div",{className:"flex flex-row items-center gap-[8px]"},r.createElement(i.Ay,{color:"purple",variant:"solid",onClick:A},"Accept"))))},C=e=>{const{inputRef:t,getHtml:a,setHtml:n}=e,[s,i]=(0,r.useState)(!1),[c,l]=(0,r.useState)({left:0,top:0}),{corrections:d,spalingLoading:p,errorMarkers:f,fixError:v,fixAllErrors:E}=function(e,t,a,{delay:n=1e3}){const[s,o]=(0,r.useState)([]),[i,c]=(0,r.useState)(!1),[l,d]=(0,r.useState)([]),p=(0,r.useRef)(""),f=(0,r.useRef)(Date.now()),v=(0,r.useCallback)(()=>{const t=e.current;if(!t)return;const a=t.textContent||"",n=function(e){const t=document.createTreeWalker(e,NodeFilter.SHOW_TEXT,null),a=[];for(;t.nextNode();)a.push(t.currentNode);return a}(t);if(!n)return;d([]);const r=(o=a,s.filter(({start:e,end:t,original_text:a})=>{if(t>o.length)return!1;const n=o.slice(e,t);return n===a&&/\S/.test(n)}));var o;const i=[];for(const e of r){const{start:a,end:s,replacement:r,general_error_type:o}=e,{node:c,offset:l}=g(n,a),{node:d,offset:m}=g(n,s);if(!c||!d)continue;const u=document.createRange();u.setStart(c,l),u.setEnd(d,m);const p=u.getClientRects(),h=t.getBoundingClientRect();for(const e of p)i.push({...y(e,h,t),start:a,end:s,replacement:r,general_error_type:o})}d(i)},[s,e]),E=(0,r.useRef)(m()(async()=>{const t=e.current?.innerText||"";c(!0);const a=await h.check(t);p.current=t,f.current=Date.now();const n=function(e,t,a){const n=A.diff_main(e,t);A.diff_cleanupSemantic(n);const s=[];let r=0;for(const e of a){const t=e.start,a=e.end;let o=!0,i=0;r=0;for(const[e,s]of n){const n=s.length;if(0===e)r+=n;else if(-1===e){if(r+n<=t)i-=n,r+=n;else if(r<a){o=!1;break}}else if(1===e)if(r<=t)i+=n;else if(r<a){o=!1;break}}o&&s.push({...e,start:t+i,end:a+i})}return s}(p.current,t,a);o(n),0===n.length&&d([]),c(!1)},n,{leading:!1,trailing:!0})).current,b=(0,r.useMemo)(()=>m()(v,n,{leading:!1,trailing:!0}),[v,n]),w=t();return(0,r.useEffect)(()=>{if(e.current){const{text:e}=(0,u.Ay)(w);if(0===e.trim().length)return o([]),void d([]);E()}},[w,E,e]),(0,r.useEffect)(()=>{const e=()=>{b()};return window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}},[b]),(0,r.useEffect)(()=>{v()},[s,v]),{corrections:s,spalingLoading:i,errorMarkers:l,fixError:t=>{const n=s[t],r=e.current;if(!n||!r||!n.replacement)return;const{start:i,end:c,replacement:l}=n,d=r.innerText||"",m=d.slice(0,i)+l+d.slice(c);r.innerText=m;const u=[],h=l.length-(c-i);for(let e=0;e<s.length;e++){if(e===t)continue;const a=s[e];a.start>=c?u.push({...a,start:a.start+h,end:a.end+h}):u.push(a)}o(u),p.current=m,a(m)},fixAllErrors:()=>{const t=e.current;if(!t||0===s.length)return;let n=t.innerText||"";const r=[...s].sort((e,t)=>e.start-t.start);let i=0;for(const{start:e,end:t,replacement:a}of r){if(!a)continue;const s=e+i,r=t+i;n=n.slice(0,s)+a+n.slice(r),i+=a.length-(t-e)}t.innerText=n,p.current=n,a(n),o([]),d([]),E()}}}(t,a,n,{}),w=(0,r.useCallback)(()=>{i(!1)},[]);return r.createElement(r.Fragment,null,r.createElement("div",{className:"absolute left-0 top-0 pointer-events-auto"},f.map((e,t)=>r.createElement(b,{left:e.left,top:e.top,width:e.width,height:e.height,replacement:e.replacement,errorIndex:t,generalErrorType:e.general_error_type,handleFixError:v}))),r.createElement("div",{className:"sapling-badge-container"},r.createElement("div",{className:"sapling-status-container"},r.createElement("div",{className:"sapling-badge-errors"},f.length>0&&r.createElement("div",{className:"sapling-badge-errors-count",onClick:()=>{if(t&&t.current){const e=t.current.getBoundingClientRect(),{left:a,top:n}=e;l({left:a,top:n-240}),i(!0)}}},f.length)),p&&r.createElement("div",{className:"sapling-badge-spinner"}))),r.createElement(o.A,{className:"sapling-errors-modal",closable:!1,footer:null,open:s,onCancel:w,destroyOnClose:!0,style:{top:c.top,left:c.left}},r.createElement(x,{errorRanges:d,handleFixError:v,handleFixAllErrors:E,onClose:w})))},N=e=>{const{inputRef:t,getHtml:a,setHtml:r}=e,o=(0,s.P)({component:C,props:{inputRef:t,getHtml:a,setHtml:r}});return n.Ay.createElement("div",{className:"absolute left-0 top-0 w-full h-full pointer-events-none",ref:o})}},84555:(e,t,a)=>{"use strict";a.a(e,async(e,n)=>{try{a.d(t,{A:()=>R});var s=a(84051),r=a(13439),o=a(23174),i=a(90709),c=a(53827),l=a(87357),d=a(17663),m=a(41733),u=a(76023),p=a(2338),h=a(63988),A=a(37661),g=a(5912),y=a(17712),f=a(37960),v=a(69419),E=a(73767),b=a(34201),w=a(61097),x=a(54746),C=a(46256),N=a(64493),I=a(65843),S=a(35913),M=e([v,C,N]);[v,C,N]=M.then?(await M)():M;const k=u.Wd/2,T=6,P=2*(k-T)*Math.PI,L=16;let B;const R=({message:e,className:t,canAutoLoad:a,isDownloading:n,origin:M,observeIntersection:R,onStop:D,onReadMedia:F,isTranscriptionError:O,isTranscribed:z,canTranscribe:U,onHideTranscription:j,isTranscriptionHidden:V,isTranscribing:J})=>{const H=(0,s.li)(),$=(0,s.li)(),K=(0,s.li)(),{cancelMediaDownload:G,openOneTimeMediaModal:_,transcribeAudio:q}=(0,r.ko)(),W=(0,g.Vz)(H,R),Z=e.content.video,Y=e.isMediaUnread,[Q,X]=(0,s.J0)(a),ee=Boolean(Q&&W),{mediaData:te,loadProgress:ae}=(0,v.A)((0,i.sC)(Z,"inline"),!ee,(0,i.Cz)(Z,"inline")),{loadProgress:ne}=(0,v.A)((0,i.sC)(Z,"download"),!n,o.qZ.BlobUrl),[se,re]=(0,A.A)(),oe=(0,i.G5)(e),ie="oneTimeModal"===M,ce=oe&&!ie,le=(0,p.A)(e),de=!Boolean(le)||se||ce,me=(0,w.A)(Z,de);(0,f.A)({hasMediaData:!de,ref:me});const ue=Q&&!se||n,pe=!1===(0,E.A)(Q),{ref:he,shouldRender:Ae}=(0,b.A)({isOpen:ue,noMountTransition:pe,withShouldRender:!0}),[ge,ye]=(0,s.J0)(!1),[fe,ve]=(0,s.J0)(0),[Ee,be]=(0,s.Ul)(0),we=(0,h.aG)(Ee,L);(0,s.vJ)(()=>{if(!ge)return;const e=$.current;be(e.currentTime/e.duration)},[be,ge,we]),(0,s.Nf)(()=>{if(!ge||!K.current)return;const e=P-we()*P;K.current.setAttribute("stroke-dashoffset",e.toString())},[ge,we]);const xe=Boolean(te&&W),Ce=(0,y.A)(()=>{$.current&&(ye(!1),be(0),(0,m.A)($.current))}),Ne=(0,y.A)(()=>{B?.(),B=Ce}),Ie=(0,y.A)(()=>{const e=$.current;ge?e.paused?((0,m.A)(e),(0,c._K)()):e.pause():(Ne(),e.pause(),e.currentTime=0,(0,m.A)(e),(0,c._K)(),ye(!0))});(0,s.vJ)(()=>{ie&&Ie()},[ie]);const Se=(0,y.A)(t=>{if(!t.target.closest(".transcribe-button"))if(te){if(!n)return oe&&!ie?(_({message:e}),void F?.()):void Ie();G({media:Z})}else X(e=>!e)});(0,s.vJ)(()=>{F&&Y&&ge&&F()},[ge,Y,F]);const Me=(0,y.A)(e=>{const t=e.currentTarget;be(t.currentTime/t.duration),ve(Math.floor(t.currentTime))}),ke=(0,y.A)(()=>{q({chatId:e.chatId,messageId:e.id})}),Te=(0,y.A)(()=>{(z||O)&&j?j(!V):J||ke()});return s.Ay.createElement("div",{ref:H,className:(0,l.A)("RoundVideo","media-inner",ie&&"non-interactive",t),onClick:Se},te&&s.Ay.createElement("div",{className:"video-wrapper"},ce&&s.Ay.createElement(C.A,{isVisible:!0,thumbDataUri:le,width:u.Wd,height:u.Wd,className:"media-spoiler"}),s.Ay.createElement(I.A,{canPlay:xe,ref:$,src:te,className:"full-media",width:u.Wd,height:u.Wd,autoPlay:!ce,disablePictureInPicture:!0,muted:!ge,defaultMuted:!0,loop:!ge,playsInline:!0,isPriority:!0,onEnded:ge?D??Ce:void 0,onTimeUpdate:ge?Me:void 0,onReady:re})),!ce&&s.Ay.createElement("canvas",{ref:me,className:"thumbnail",style:`width: ${u.Wd}px; height: ${u.Wd}px`}),s.Ay.createElement("div",{className:"progress"},ge&&s.Ay.createElement("svg",{width:u.Wd,height:u.Wd},s.Ay.createElement("circle",{ref:K,cx:k,cy:k,r:k-T,className:"progress-circle",transform:`rotate(-90, ${k}, ${k})`,"stroke-dasharray":P,"stroke-dashoffset":P}))),Ae&&s.Ay.createElement("div",{ref:he,className:"media-loading"},s.Ay.createElement(S.A,{progress:n?ne:ae})),ce&&!Ae&&s.Ay.createElement("div",{className:"play-wrapper"},s.Ay.createElement(N.A,{color:"dark",round:!0,size:"smaller",className:"play",nonInteractive:!0},s.Ay.createElement(x.A,{name:"play"})),s.Ay.createElement(x.A,{name:"view-once"})),!te&&!Q&&s.Ay.createElement(x.A,{name:"download"}),!ie&&s.Ay.createElement("div",{className:(0,l.A)("message-media-duration",Y&&"unread")},ge?(0,d.QO)(fe):(0,d.QO)(Z.duration),(!ge||$.current.paused)&&s.Ay.createElement(x.A,{name:"muted"})),U&&s.Ay.createElement(N.A,{onClick:Te,className:"transcribe-button"},z||O?s.Ay.createElement(x.A,{name:"down"}):s.Ay.createElement(x.A,{name:"transcribe"}),J&&s.Ay.createElement("svg",{viewBox:"0 0 32 24",className:"loading-svg"},s.Ay.createElement("rect",{className:"loading-rect",fill:"transparent",width:"32",height:"24","stroke-width":"3","stroke-linejoin":"round",rx:"6",ry:"6",stroke:"white","stroke-dashoffset":"1","stroke-dasharray":"32,68"}))))};n()}catch(e){n(e)}})},84793:(e,t,a)=>{"use strict";a.a(e,async(e,n)=>{try{a.d(t,{A:()=>qe});var s=a(84051),r=a(13439),o=a(23174),i=a(89925),c=a(31481),l=a(90709),d=a(70636),m=a(26129),u=a(60919),p=a(56494),h=a(30708),A=a(96454),g=a(87357),y=a(9716),f=a(60343),v=a(80140),E=a(83868),b=a(41512),w=a(25508),x=a(39988),C=a(76023),N=a(35049),I=a(4961),S=a(58734),M=a(86698),k=a(87469),T=a(50577),P=a(35127),L=a(43874),B=a(10722),R=a(49746),D=a(21488),F=a(37661),O=a(5912),z=a(39351),U=a(17712),j=a(59030),V=a(73767),J=a(14622),H=a(34201),$=a(52603),K=a(70195),G=a(79519),_=a(51763),q=a(64154),W=a(15524),Z=a(55378),Y=a(21849),Q=a(46402),X=a(44589),ee=a(80999),te=a(91930),ae=a(40516),ne=a(2578),se=a(54746),re=a(9267),oe=a(74936),ie=a(17794),ce=a(42479),le=a(15006),de=a(64493),me=a(94189),ue=a(40664),pe=a(91289),he=a(93452),Ae=a(32555),ge=a(563),ye=a(1396),fe=a(19381),ve=a(73874),Ee=a(37480),be=a(12083),we=a(13150),xe=a(84425),Ce=a(39325),Ne=a(61407),Ie=a(48906),Se=a(31450),Me=a(30234),ke=a(23845),Te=a(30056),Pe=a(51644),Le=a(13841),Be=a(41537),Re=a(84555),De=a(8101),Fe=a(9403),Oe=a(409),ze=a(70726),Ue=a(25477),je=a(31203),Ve=e([d,w,S,z,j,Z,Y,Q,X,ee,te,ae,ne,oe,ie,ce,de,me,ue,pe,he,Ae,ge,ye,ve,Ee,be,we,xe,Ce,Ne,Se,Me,ke,Te,Pe,Le,Be,Re,De,Fe,Oe,ze,Ue,je]);[d,w,S,z,j,Z,Y,Q,X,ee,te,ae,ne,oe,ie,ce,de,me,ue,pe,he,Ae,ge,ye,ve,Ee,be,we,xe,Ce,Ne,Se,Me,ke,Te,Pe,Le,Be,Re,De,Fe,Oe,ze,Ue,je]=Ve.then?(await Ve)():Ve;const Je="Â ",He=18,$e=1.75*C.$,Ke=2.25*C.$,Ge=200,_e=({message:e,observeIntersectionForBottom:t,observeIntersectionForLoading:a,observeIntersectionForPlaying:n,album:o,noAvatars:u,withAvatar:p,withSenderName:h,noComments:y,noReplies:f,appearanceOrder:Ve,isJustAdded:_e,isFirstInGroup:qe,isPremium:We,isLastInGroup:Ze,isFirstInDocumentGroup:Ye,isLastInDocumentGroup:Qe,isTranscribing:Xe,transcribedText:et,hasTranslation:tt,isLastInList:at,theme:nt,forceSenderName:st,sender:rt,canShowSender:ot,originSender:it,botSender:ct,isThreadTop:lt,shouldHideReply:dt,replyMessage:mt,replyMessageSender:ut,replyMessageForwardSender:pt,replyMessageChat:ht,replyStory:At,isReplyPrivate:gt,storySender:yt,outgoingStatus:ft,uploadProgress:vt,isInDocumentGroup:Et,isLoadingComments:bt,isProtected:wt,isChatProtected:xt,isFocused:Ct,focusDirection:Nt,focusedQuote:It,focusedQuoteOffset:St,noFocusHighlight:Mt,scrollTargetPosition:kt,isResizingContainer:Tt,isForwarding:Pt,isChatWithSelf:Lt,isRepliesChat:Bt,isAnonymousForwards:Rt,isChannel:Dt,isGroup:Ft,canReply:Ot,highlight:zt,animatedEmoji:Ut,animatedCustomEmoji:jt,hasActiveReactions:Vt,hasLinkedChat:Jt,isInSelectMode:Ht,isSelected:$t,isGroupSelected:Kt,threadId:Gt,reactionMessage:_t,availableReactions:qt,defaultReaction:Wt,activeEmojiInteractions:Zt,messageListType:Yt,isPinnedList:Qt,isPinned:Xt,isDownloading:ea,canAutoLoadMedia:ta,canAutoPlayMedia:aa,shouldLoopStickers:na,autoLoadFileMaxSizeMb:sa,repliesThreadInfo:ra,hasUnreadReaction:oa,memoFirstUnreadIdRef:ia,senderAdminMember:ca,messageTopic:la,hasTopicChip:da,chatTranslations:ma,areTranslationsEnabled:ua,shouldDetectChatLanguage:pa,requestedTranslationLanguage:ha,requestedChatTranslationLanguage:Aa,withAnimatedEffects:ga,webPageStory:ya,isConnected:fa,getIsMessageListReady:va,shouldWarnAboutSvg:Ea,senderBoosts:ba,tags:wa,canTranscribeVoice:xa,viaBusinessBot:Ca,effect:Na,poll:Ia,maxTimestamp:Sa,lastPlaybackTimestamp:Ma,isMediaNsfw:ka,isReplyMediaNsfw:Ta,paidMessageStars:Pa,isChatWithUser:La,isAccountFrozen:Ba,minFutureTime:Ra,webPage:Da,onIntersectPinnedMessage:Fa})=>{const{toggleMessageSelection:Oa,clickBotInlineButton:za,clickSuggestedMessageButton:Ua,rejectSuggestedPost:ja,openSuggestedPostApprovalModal:Va,disableContextMenuHint:Ja,animateUnreadReaction:Ha,focusLastMessage:$a,markMentionsRead:Ka}=(0,r.ko)(),Ga=(0,s.li)(),_a=(0,s.li)(),qa=(0,s.li)(),Wa=(0,s.li)(),Za=(0,j.A)(),Ya=(0,z.A)(),[Qa,Xa]=(0,s.J0)(!1),[en,tn]=(0,s.J0)(!1),[an,nn]=(0,s.J0)(!1),[sn,rn,on]=(0,F.A)(),[cn,ln,dn]=(0,F.A)(),[mn,un]=(0,s.J0)(""),{isMobile:pn,isTouchScreen:hn}=(0,L.Ay)();(0,O.mv)(_a,t);const{isContextMenuOpen:An,contextMenuAnchor:gn,contextMenuTarget:yn,handleBeforeContextMenu:fn,handleContextMenu:vn,handleContextMenuClose:En,handleContextMenuHide:bn}=(0,B.A)(Ga,hn&&Ht||Ba,!A.cp,A.Ni,va),{isGptMenuOpen:wn,gptMenuPosition:xn}=(0,x.A)(Wa);(0,s.vJ)(()=>{An&&Ja()},[An,Ja]);const Cn=Ve<=0,[Nn,In]=(0,F.A)(Cn);(0,s.vJ)(()=>{Cn||setTimeout(In,Ve*c.zq7)},[Ve,In,Cn]),(0,H.A)({ref:Ga,isOpen:Nn||_e,noMountTransition:Cn&&!_e,className:!1});const{id:Sn,chatId:Mn,forwardInfo:kn,viaBotId:Tn,isTranscriptionError:Pn,factCheck:Ln}=e;(0,s._W)(()=>{if(e.isPinned){const e=o?o.mainMessage.id:Sn;Fa?.({viewportPinnedIdsToRemove:[e]})}});const Bn=(0,l.Nb)(e),Rn=(0,l.Ie)(e),Dn="scheduled"===Yt||e.isScheduled,Fn=(0,l.Tv)(e)&&!dt,{paidMedia:On}=(0,l.r_)(e),{photo:zn,video:Un}=(0,T.A)(On),{photo:jn=zn,video:Vn=Un,audio:Jn,voice:Hn,document:$n,sticker:Kn,contact:Gn,invoice:_n,location:qn,action:Wn,game:Zn,storyData:Yn,giveaway:Qn,giveawayResults:Xn,todo:es}=(0,l.r_)(e),ts=(0,m.Q)(e),as=(0,m.W)(e),ns=Boolean(!Qa&&(Pn||et)),ss=Boolean(as),rs=Boolean(ra)&&"thread"===Yt,os=!ns&&(0,l.aN)(e),is=os&&(Ut||jt),cs=_t?.reactions&&!(0,l.G)(_t.reactions),ls=kn&&(!Lt||Dn)&&!Bt&&!kn.isLinkedChannelPost&&!Rt&&!ct||Boolean(Yn&&!Yn.isMention),ds=Boolean(ba)&&!ls&&qe,ms=Yn?.isMention,us="video"===Vn?.mediaType&&Vn.isRound,ps=Boolean(o)&&(o.isPaidMedia&&On.extendedMedia.length>1||o.messages.length>1)&&!o.messages.some(e=>0===Object.keys(e.content).length),hs=Et&&!Ye,As=Et&&!Qe,gs=void 0!==gn,ys=!(gs||Ht||Pt||As||ms||(Kn||is)&&ls),fs=Dt&&!Dn&&e.isForwardingAllowed&&!xt,vs=Boolean(Qt||kn&&(kn.isChannelPost||Lt||Bt||Rt)&&kn.fromMessageId),Es=Boolean(Ln?.text),bs=ls&&os,ws=da||Fn||ss||bs,xs=(0,U.A)((e,t)=>{Ba||Oa({messageId:Sn,groupedId:t,...e?.shiftKey&&{withShift:!0},...ps&&{childMessageIds:o.messages.map(({id:e})=>e)}})}),Cs=ot?rt:void 0,Ns=kn&&(Lt||Bt||Rt||!Cs)?it:Cs,Is=ls?it:rt,Ss=Rn&&!os,Ms=kn||Yn?it:Cs,ks=(0,l.G5)(e),{handleMouseDown:Ts,handleClick:Ps,handleContextMenu:Ls,handleDoubleClick:Bs,handleContentDoubleClick:Rs,handleMouseMove:Ds,handleSendQuickReaction:Fs,handleMouseLeave:Os,isSwiped:zs,isQuickReactionVisible:Us,handleDocumentGroupMouseEnter:js}=(0,W.A)(xs,Ga,Sn,Boolean(Ht),Boolean(Ot),Boolean(wt),vn,fn,Mn,gs,qa,As,va),{handleSenderClick:Vs,handleViaBotClick:Js,handleReplyClick:Hs,handleMediaClick:$s,handleDocumentClick:Ks,handleAudioPlay:Gs,handleAlbumMediaClick:_s,handlePhotoMediaClick:qs,handleVideoMediaClick:Ws,handleMetaClick:Zs,handleTranslationClick:Ys,handleOpenThread:Qs,handleReadMedia:Xs,handleCancelUpload:er,handleVoteSend:tr,handleGroupForward:ar,handleForward:nr,handleFocus:sr,handleFocusForwarded:rr,handleDocumentGroupSelectAll:or,handleTopicChipClick:ir,handleStoryClick:cr}=(0,_.A)({lang:Za,selectMessage:xs,message:e,webPage:Da,chatId:Mn,threadId:Gt,isInDocumentGroup:Et,asForwarded:ls,isScheduled:Dn,album:o,avatarPeer:Ns,senderPeer:Ms,botSender:ct,messageTopic:la,isTranslatingChat:Boolean(Aa),story:At&&"content"in At?At:void 0,isReplyPrivate:gt,isRepliesChat:Bt,isSavedMessages:Lt,lastPlaybackTimestamp:Ma}),lr=(0,U.A)(e=>{e.stopPropagation(),rn()});(0,s.vJ)(()=>{at&&ns&&et&&$a()},[$a,at,et,ns]),(0,s.vJ)(()=>{const t=Ga.current,a=e.isInAlbum&&o?.messages.some(e=>!e.isDeleting);e.isDeleting&&t&&!a&&((0,le.U)(t)?tn(!0):nn(!0))},[e.isDeleting]);const dr=o?.hasMultipleCaptions?void 0:o?.captionMessage||e,mr=dr&&(0,l.XR)(dr),ur=mr||Es,pr=(0,g.A)("Message message-list-item",qe&&"first-in-group",wt&&"hide-on-print",wt&&!mr?"is-protected":"allow-selection",Ze&&"last-in-group",Ye&&"first-in-document-group",Qe&&"last-in-document-group",at&&"last-in-list",Rn&&"own",Boolean(e.viewsCount)&&"has-views",e.isEdited&&"was-edited",Fn&&"has-reply",An&&"has-menu-open",Ct&&!Mt&&"focused",Pt&&"is-forwarding",an&&"is-deleting",en&&"is-dissolving",Et&&"is-in-document-group",ps&&"is-album",e.hasUnreadMention&&"has-unread-mention",$t&&"is-selected",Ht&&"is-in-selection-mode",lt&&!p&&"is-thread-top",Boolean(e.inlineButtons)&&"has-inline-buttons",zs&&"is-swiped",_e&&"is-just-added",(Vt||sn)&&"has-active-effect",ms&&"is-story-mention",!ys&&"no-action-button"),hr=dr&&(0,l.r_)(dr).text,Ar=Boolean(e.isInvertedMedia),{replyToMsgId:gr,replyToPeerId:yr}=ts||{},{peerId:fr,storyId:vr}=as||{};(0,s.vJ)(()=>{(Kn?.hasEffect||Na)&&(ia?.current&&Sn>=ia.current||Bn)&&rn()},[Na,Bn,ia,Sn,Kn?.hasEffect]);const Er=(0,$.A)(hr?.text,!(ua||pa),va);(0,K.A)(e,Er,!pa,va);const br=(0,l.ZR)(e,!0),{isPending:wr,translatedText:xr}=(0,q.A)(ma,Mn,br?Sn:void 0,ha),Cr=(0,V.A)(xr,Boolean(br)),Nr=xr||Cr,Ir="phoneCall"===Wn?.type?Wn:void 0,Sr=(ra||Jt&&Dt&&Bn)&&!As&&"thread"===Yt&&!y,Mr=ra?.isCommentsInfo&&!As&&"thread"===Yt&&!y,kr=!hn&&!Ir&&!Ht&&Wt&&!As&&!ms&&!ks&&!Ba,Tr=!ns&&cs&&(os||(jn||Vn||Yn||"geo"===qn?.mediaType)&&!ur),Pr=(0,M.H)(e,o,{poll:Ia,webPage:Da,hasSubheader:ws,isCustomShape:os,isLastInGroup:Ze,asForwarded:ls,hasThread:rs&&!y,forceSenderName:st,hasCommentCounter:rs&&ra.messagesCount>0,hasCommentButton:Mr,hasActionButton:fs||vs,hasReactions:cs,isGeoLiveActive:"geoLive"===qn?.mediaType&&!(0,l.vz)(e),withVoiceTranscription:ns,peerColorClass:(0,N.y)(Is,Ss,!0),hasOutsideReactions:Tr}),Lr=Pr.includes("has-appendix"),Br=(0,S.Rr)(e.emojiOnlyCount),Rr=La?void 0:ps&&Pa?o.messages.length*Pa:Pa;let Dr,Fr;Dr=Ir||As?"none":!ur||Da||Br||Ar?Ar&&!Br&&(Es||Da)?"in-text":"standalone":"in-text",cs?Tr?Fr="outside":ls?(Dr="standalone",Fr="inside"):Fr="inside":Fr="none";const Or=os?"in-meta":"in-content";(0,R.A)(yr||Mn,gr,mt,e.id,dt||gt),(0,D.A)(fr||Mn,vr,At),(0,G.A)({elementRef:Ga,chatId:Mn,isFocused:Ct,focusDirection:Nt,noFocusHighlight:Mt,isResizingContainer:Tt,isJustAdded:_e,isQuote:Boolean(It),scrollTargetPosition:kt});const zr=Ca?(0,d.em)(Za,Ca):void 0,Ur=!e.senderId,jr=zr||Ur&&e.postAuthorTitle||(ls||Lt)&&kn?.postAuthorTitle||void 0;(0,J.A)(Ga,at),(0,s.vJ)(()=>{const t=_a.current;if(!t||!(0,b.Y)(t))return;oa&&Ha({messageIds:[Sn]});let a=[];e.hasUnreadMention&&(a=[Sn]),o&&(a=o.messages.filter(e=>e.hasUnreadMention).map(e=>e.id)),a.length&&Ka({chatId:Mn,messageIds:a})},[oa,o,Mn,Sn,Ha,e.hasUnreadMention]);const Vr=(0,s.Kr)(()=>ps?(0,k.a)(Rn,Boolean(u),o,pn):void 0,[ps,Rn,u,o,pn]),Jr=ls&&!os?28:0,Hr=(0,s.Kr)(()=>{let e,t,a,n=!1,s="";if(!ps&&(jn||Vn||_n?.extendedMedia)){let a;if(jn||Vn){const e=jn||Vn;e&&!us&&(a=(0,P.yA)({media:e,isOwn:Rn,asForwarded:ls,noAvatars:u,isMobile:pn}).width)}else if(_n?.extendedMedia&&_n.extendedMedia.width&&_n.extendedMedia.height){const{width:e,height:t}=_n.extendedMedia;a=(0,C.kn)({width:e,height:t,fromOwnMessage:Rn,asForwarded:ls,noAvatars:u,isMobile:pn}).width}a&&(a<P.MC&&(t=a),e=Math.max((0,P.nP)(hr?.text,Sr),a),!ls&&_n?.extendedMedia&&e-a>He&&(n=!0))}else Vr&&(e=Math.max((0,P.nP)(hr?.text,Sr),Vr.containerStyle.width),e-Vr.containerStyle.width>He&&(n=!0));if(e)s=`width: ${e}px`,a=e+Ke;else if(Kn&&!ws){const{width:e}=(0,C.bu)(Kn,pn);s=`width: ${e+Jr}px`,a=e+Ke}return{contentWidth:t,noMediaCorners:n,style:s,reactionsMaxWidth:a}},[Vr,ls,Jr,ws,_n?.extendedMedia,ps,Sr,pn,Rn,u,jn,Kn,hr?.text,Vn,us]),{contentWidth:$r,noMediaCorners:Kr,style:Gr,reactionsMaxWidth:_r}=Hr;function qr(e){if(dr)return s.Ay.createElement(oe.A,{messageOrStory:dr,translatedText:ha||tt?Nr:void 0,isForAnimation:e,focusedQuote:It,focusedQuoteOffset:St,emojiSize:Br,highlight:zt,isProtected:wt,observeIntersectionForLoading:a,observeIntersectionForPlaying:n,withTranslucentThumbs:os,isInSelectMode:Ht,canBeEmpty:Es,maxTimestamp:Sa,threadId:Gt})}const Wr=(0,s.hb)(()=>{if(Wt)return s.Ay.createElement("div",{className:(0,g.A)("quick-reaction","no-selection",Us&&!Vt&&"visible"),onClick:Fs,ref:qa},s.Ay.createElement(ie.A,{reaction:Wt,size:$e,availableReactions:qt,observeIntersection:n}))},[Vt,qt,Wt,Fs,Us,n]);function Zr(){const t=s.Ay.createElement(Me.A,{message:e,isPinned:Xt,withFullDate:Lt&&!Rn,noReplies:f,repliesThreadInfo:ra,outgoingStatus:ft,signature:jr,withReactionOffset:"inside"===Fr,renderQuickReactionButton:kr&&"in-meta"===Or?Wr:void 0,availableReactions:qt,isTranslated:Boolean(ha?Nr:void 0),effectEmoji:Na?.emoticon,onClick:Zs,onEffectClick:lr,onTranslationClick:Ys,onOpenThread:Qs,paidMessageStars:Rr});return"inside"!==Fr?t:s.Ay.createElement(Be.A,{message:_t,threadId:Gt,metaChildren:t,observeIntersection:n,noRecentReactors:Dt,tags:wa,isCurrentUserPremium:We,isAccountFrozen:Ba})}function Yr(){const t=(0,l.T_)(e);if(t&&Da)return s.Ay.createElement(je.A,{messageWebPage:t,webPage:Da,message:e,observeIntersectionForLoading:a,observeIntersectionForPlaying:n,noAvatars:u,canAutoLoad:ta,canAutoPlay:aa,asForwarded:ls,isDownloading:ea,isProtected:wt,theme:nt,story:ya,isConnected:fa,lastPlaybackTimestamp:Ma,backgroundEmojiId:Is?.color?.backgroundEmojiId,shouldWarnAboutSvg:Ea,autoLoadFileMaxSizeMb:sa,onAudioPlay:Gs,onMediaClick:$s,onDocumentClick:Ks,onCancelMediaTransfer:er})}function Qr(e){const t=s.Ay.createElement(s.Ay.Fragment,null,ps&&a&&s.Ay.createElement(pe.A,{album:o,albumLayout:Vr,observeIntersection:a,isOwn:Rn,isProtected:wt,hasCustomAppendix:e,onMediaClick:_s}),!ps&&jn&&s.Ay.createElement(Pe.A,{messageText:hr?.text,photo:jn,isOwn:Rn,observeIntersection:a,noAvatars:u,canAutoLoad:ta,uploadProgress:vt,shouldAffectAppendix:e,isDownloading:ea,isProtected:wt,asForwarded:ls,theme:nt,isMediaNsfw:ka,forcedWidth:$r,onClick:qs,onCancelUpload:er}),!ps&&Vn&&!us&&s.Ay.createElement(Ue.A,{video:Vn,isOwn:Rn,observeIntersectionForLoading:a,observeIntersectionForPlaying:n,forcedWidth:$r,noAvatars:u,canAutoLoad:ta,canAutoPlay:aa,uploadProgress:vt,isDownloading:ea,isProtected:wt,asForwarded:ls,isMediaNsfw:ka,lastPlaybackTimestamp:Ma,onClick:Ws,onCancelUpload:er}));return On?s.Ay.createElement(Te.A,{chatId:Mn,messageId:Sn,paidMedia:On,isOutgoing:Rn},t):t}function Xr(){return!(os&&!Tn)&&(h&&(!(jn||Vn||qn||On)||da)||ls||Tn||st)&&!hs&&!(Fn&&os)}function eo(){return s.Ay.createElement("span",{className:"forward-title-container"},ls&&s.Ay.createElement(se.A,{name:kn?.hiddenUserName?"forward":"share-filled"}),ls&&s.Ay.createElement("span",{className:"forward-title"},Za("ForwardedFrom")))}const to=(0,U.A)(t=>{"suggestedMessage"===t.button.type&&("approve"!==t.button.buttonType?"decline"!==t.button.buttonType?Ua({...t,button:t.button}):ln():Va({chatId:Mn,messageId:e.id}))}),ao=(0,U.A)(e=>{un(e.target.value)}),no=(0,U.A)(()=>{ja({chatId:Mn,messageId:e.id,rejectComment:mn.trim()||void 0}),dn(),un("")});function so(t=!1,r=!1){let o;!Ms||os&&Tn?kn?.hiddenUserName?o=kn.hiddenUserName:Yn&&it&&(o=(0,d.em)(Za,it)):o=(0,d.em)(Za,Ms);const i=Ms&&"emojiStatus"in Ms&&Ms.emojiStatus,m=Ms&&"isPremium"in Ms&&Ms.isPremium,u=ls&&Ms,p=ct?.hasUsername;return s.Ay.createElement("div",{className:"message-title",dir:"ltr"},o||ls?s.Ay.createElement("span",{className:(0,g.A)("message-title-name-container",kn?.hiddenUserName?"sender-hidden":"interactive",void 0),dir:"ltr"},!t&&eo(),s.Ay.createElement("span",{className:"message-title-name"},Yn&&s.Ay.createElement(se.A,{name:"play-story"}),u&&s.Ay.createElement(Y.A,{className:"forward-avatar",peer:Ms,size:"micro"}),s.Ay.createElement("span",{className:"sender-title",onClick:Vs},o?(0,I.A)(o):ls?Je:void 0),!ls&&i&&s.Ay.createElement(Q.A,{documentId:i.documentId,className:"no-selection",loopLimit:c.J$1,observeIntersectionForLoading:a,observeIntersectionForPlaying:n}),!ls&&!i&&m&&s.Ay.createElement(re.A,null),Ms?.fakeType&&s.Ay.createElement(ne.A,{fakeType:Ms.fakeType}))):ct?void 0:Je,ct?.hasUsername&&s.Ay.createElement("span",{className:"interactive"},s.Ay.createElement("span",{className:"via"},Za("ViaBot")),s.Ay.createElement("span",{className:"sender-title",onClick:Js},(0,I.A)(`@${(0,l.Kl)(ct)}`))),s.Ay.createElement("div",{className:"title-spacer"}),r||p?void 0:kn?.isLinkedChannelPost?s.Ay.createElement("span",{className:"admin-title",dir:"auto"},Za("DiscussChannel")):e.postAuthorTitle&&Ft&&!ls?s.Ay.createElement("span",{className:"admin-title",dir:"auto"},e.postAuthorTitle):!ca||ls||Tn?void 0:s.Ay.createElement("span",{className:"admin-title",dir:"auto"},ca.customTitle||Za(ca.isOwner?"GroupInfo.LabelOwner":"GroupInfo.LabelAdmin")),ds&&s.Ay.createElement("span",{className:"sender-boosts","aria-hidden":!0},s.Ay.createElement(se.A,{name:ba>1?"boosts":"boost"}),ba>1?ba:void 0))}const ro=Ft&&ls?e.postAuthorTitle:void 0,oo=e.suggestedPostInfo&&!e.isOutgoing&&!e.suggestedPostInfo.isAccepted&&!e.suggestedPostInfo.isRejected,io=(0,s.Kr)(()=>{if(!e.suggestedPostInfo?.scheduleDate||!Ra)return!1;const t=(0,v.Fm)();return e.suggestedPostInfo.scheduleDate<=t+Ra},[e.suggestedPostInfo,Ra]);return s.Ay.createElement("div",{ref:Ga,id:(0,l.GZ)(e.id),className:pr,"data-message-id":Sn,onCopy:wt?E.A:void 0,onMouseDown:Ts,onClick:Ps,onContextMenu:Ls,onDoubleClick:Bs,onMouseEnter:As?js:void 0,onMouseMove:kr?Ds:void 0,onMouseLeave:kr||As?Os:void 0},s.Ay.createElement("div",{ref:_a,className:"bottom-marker","data-message-id":Sn,"data-last-message-id":o?o.messages[o.messages.length-1].id:void 0,"data-album-main-id":o?o.mainMessage.id:void 0,"data-has-unread-mention":e.hasUnreadMention||void 0,"data-has-unread-reaction":oa||void 0,"data-is-pinned":Xt||void 0,"data-should-update-views":void 0!==e.viewsCount}),!Et&&s.Ay.createElement("div",{className:"message-select-control no-selection"},$t&&s.Ay.createElement(se.A,{name:"select"})),Qe&&s.Ay.createElement("div",{className:(0,g.A)("message-select-control group-select no-selection",Kt&&"is-selected"),onClick:or},Kt&&s.Ay.createElement(se.A,{name:"select"})),s.Ay.createElement("div",{ref:Wa,className:(0,g.A)("message-content-wrapper",Pr.includes("text")&&"can-select-text",Pr.includes("giveaway")&&"giveaway-result-content")},s.Ay.createElement("div",{className:Pr,style:Gr,dir:"auto"},ls&&!hs&&s.Ay.createElement(s.Ay.Fragment,null,Xr()&&so(),ro&&s.Ay.createElement("span",{className:"admin-title",dir:"auto"},ro)),function(){const t=(0,g.A)("content-inner",ls&&"forwarded-message",bs&&"forwarded-custom-shape",ws&&"with-subheader",Kr&&"no-media-corners"),r=Ze&&(!ur||Ar&&!Es&&!cs)&&!Mr,o=(0,g.A)("text-content","clearfix","in-text"===Dr&&"with-meta",ft&&"with-outgoing-icon"),c=!ks||!Rn||Lt;return s.Ay.createElement("div",{className:t,onDoubleClick:Rs,dir:"auto"},!ls&&Xr()&&so(),ws&&s.Ay.createElement("div",{className:"message-subheader"},da&&s.Ay.createElement(ce.A,{topic:la,onClick:ir,className:"message-topic"}),bs&&s.Ay.createElement("div",{className:"forward-custom-shape-subheader"},s.Ay.createElement("div",{className:"message-title"},eo()),so(!0,!0)),Fn&&s.Ay.createElement(te.A,{message:mt,replyInfo:ts,noUserColors:Ss,isProtected:wt,sender:ut,senderChat:ht,forwardSender:pt,chatTranslations:ma,isMediaNsfw:Ta,requestedChatTranslationLanguage:Aa,observeIntersectionForLoading:a,observeIntersectionForPlaying:n,onClick:Hs}),ss&&s.Ay.createElement(ae.A,{story:At,sender:yt,noUserColors:Ss,isProtected:wt,observeIntersectionForLoading:a,onClick:cr})),Kn&&a&&n&&s.Ay.createElement(De.A,{message:e,observeIntersection:a,observeIntersectionForPlaying:n,shouldLoop:na,shouldPlayEffect:sn,withEffect:ga,isMediaNsfw:ka,onStopEffect:on}),is&&jt&&s.Ay.createElement(he.A,{customEmojiId:jt,withEffects:ga&&La&&!Na,isOwn:Rn,observeIntersection:a,forceLoadPreview:Bn,messageId:Sn,chatId:Mn,activeEmojiInteractions:Zt}),is&&Ut&&s.Ay.createElement(Ae.A,{emoji:Ut,withEffects:ga&&La&&!Na,isOwn:Rn,observeIntersection:a,forceLoadPreview:Bn,messageId:Sn,chatId:Mn,activeEmojiInteractions:Zt}),ga&&Na&&!Bn&&s.Ay.createElement(Se.A,{shouldPlay:sn,messageId:e.id,isMirrored:!e.isOutgoing,effect:Na,observeIntersectionForLoading:a,observeIntersectionForPlaying:n,onStop:on}),Ir&&s.Ay.createElement(ke.A,{message:e,phoneCall:Ir,chatId:Mn}),!ps&&us&&!ns&&s.Ay.createElement(Re.A,{message:e,observeIntersection:a,canAutoLoad:ta,isDownloading:ea,onReadMedia:c?Xs:void 0,onHideTranscription:Xa,isTranscriptionError:Pn,isTranscribed:Boolean(et),canTranscribe:xa&&!ks,isTranscriptionHidden:Qa,isTranscribing:Xe}),(Jn||Hn||ns)&&s.Ay.createElement(Z.Ay,{theme:nt,message:e,origin:i.d9.Inline,uploadProgress:vt,isSelectable:Et,isSelected:$t,noAvatars:u,onPlay:Gs,onReadMedia:Hn&&c?Xs:void 0,onCancelUpload:er,isDownloading:ea,isTranscribing:Xe,isTranscriptionHidden:Qa,isTranscribed:Boolean(et),isTranscriptionError:Pn,canDownload:!wt,onHideTranscription:Xa,canTranscribe:xa&&!ks}),$n&&s.Ay.createElement(X.A,{document:$n,message:e,observeIntersection:a,canAutoLoad:ta,autoLoadFileMaxSizeMb:sa,uploadProgress:vt,isSelectable:Et,isSelected:$t,onMediaClick:Ks,onCancelUpload:er,isDownloading:ea,shouldWarnAboutSvg:Ea}),Yn&&!ms&&s.Ay.createElement(Fe.A,{message:e,isProtected:wt}),ms&&s.Ay.createElement(Oe.A,{message:e}),Gn&&s.Ay.createElement(ye.A,{contact:Gn,noUserColors:Rn}),Ia&&s.Ay.createElement(Le.A,{message:e,poll:Ia,onSendVote:tr}),es&&s.Ay.createElement(ze.A,{message:e,todoList:es}),(Qn||Xn)&&s.Ay.createElement(be.A,{message:e}),Zn&&s.Ay.createElement(Ee.A,{message:e,canAutoLoadMedia:ta}),_n?.extendedMedia&&s.Ay.createElement(Ce.A,{message:e,isConnected:fa}),ns&&s.Ay.createElement("p",{className:(0,g.A)("transcription",!Qa&&Pn&&"transcription-error"),dir:"auto"},Pn?Za("NoWordsRecognized"):Xe&&et?s.Ay.createElement(ee.A,{content:et}):et),Ar&&function(e){const t=(0,g.A)("text-content","clearfix"),a=(0,g.A)("text-content","clearfix","in-text"===Dr&&"with-meta",ft&&"with-outgoing-icon"),n=ps||!ps&&jn||!ps&&Vn&&!us||!is&&Es,r="in-text"===Dr;return s.Ay.createElement(s.Ay.Fragment,null,Yr(),ur&&!is&&s.Ay.createElement("div",{className:t,dir:"auto"},qr(),wr&&s.Ay.createElement("div",{className:"translation-animation"},s.Ay.createElement("div",{className:"text-loading"},qr(!0))),!n&&r&&Zr()),n&&s.Ay.createElement(s.Ay.Fragment,null,Qr(e),!is&&s.Ay.createElement("div",{className:a,dir:"auto"},Es&&s.Ay.createElement(ve.A,{factCheck:Ln,isToggleDisabled:Ht}),r&&Zr())))}(r),!Ar&&s.Ay.createElement(s.Ay.Fragment,null,Qr(r),ur&&!is&&s.Ay.createElement("div",{className:o,dir:"auto"},qr(),wr&&s.Ay.createElement("div",{className:"translation-animation"},s.Ay.createElement("div",{className:"text-loading"},qr(!0))),Es&&s.Ay.createElement(ve.A,{factCheck:Ln,isToggleDisabled:Ht}),"in-text"===Dr&&Zr()),Yr()),_n&&!_n.extendedMedia&&s.Ay.createElement(xe.A,{message:e,shouldAffectAppendix:r&&!cs,isInSelectMode:Ht,isSelected:$t,theme:nt,forcedWidth:$r}),qn&&s.Ay.createElement(Ne.A,{message:e,isInSelectMode:Ht,isSelected:$t,theme:nt,peer:rt}))}(),!As&&"standalone"===Dr&&!ms&&Zr(),ys&&s.Ay.createElement("div",{className:(0,g.A)("message-action-buttons",bt&&"message-action-buttons-shown")},Mr&&os&&s.Ay.createElement(ge.A,{threadInfo:ra,disabled:y,isLoading:bt,isCustomShape:!0,asActionButton:!0}),fs&&s.Ay.createElement(de.A,{className:"message-action-button",color:"translucent-white",round:!0,size:"tiny",ariaLabel:Za("lng_context_forward_msg"),onClick:Qe?ar:nr},s.Ay.createElement(se.A,{name:"share-filled"})),vs&&s.Ay.createElement(de.A,{className:"message-action-button",color:"translucent-white",round:!0,size:"tiny",ariaLabel:"Focus message",onClick:Qt?sr:rr},s.Ay.createElement(se.A,{name:"arrow-right"}))),Mr&&!(ys&&os)&&s.Ay.createElement(ge.A,{threadInfo:ra,disabled:y,isLoading:bt}),Lr&&s.Ay.createElement(Ie.A,{isOwn:Rn}),kr&&"in-content"===Or&&Wr(),wn&&s.Ay.createElement(w.A,{position:xn,message:e,messageListType:Yt,detectedLanguage:Er})),e.inlineButtons&&s.Ay.createElement(we.A,{message:e,onClick:za}),oo&&s.Ay.createElement(we.A,{message:{...e,inlineButtons:[[{type:"suggestedMessage",buttonType:"decline",text:Ya("SuggestedPostDecline")},{type:"suggestedMessage",buttonType:"approve",text:Ya("SuggestedPostApprove"),disabled:io}],[{type:"suggestedMessage",buttonType:"suggestChanges",text:Ya("SuggestedPostSuggestChanges")}]]},onClick:to}),"outside"===Fr&&!ms&&s.Ay.createElement(Be.A,{message:_t,threadId:Gt,isOutside:!0,isCurrentUserPremium:We,maxWidth:_r,observeIntersection:n,noRecentReactors:Dt,tags:wa,isAccountFrozen:Ba})),gn&&s.Ay.createElement(fe.A,{isOpen:An,anchor:gn,targetHref:yn?.matches("a[href]")?yn.href:void 0,message:e,album:o,messageListType:Yt,onClose:En,onCloseAnimationEnd:bn,repliesThreadInfo:ra,noReplies:f,detectedLanguage:Er}),cn&&s.Ay.createElement(me.A,{isOpen:cn,onClose:dn,title:Ya("SuggestedPostDecline"),confirmLabel:Ya("SuggestedPostDecline"),confirmHandler:no,confirmIsDestructive:!0},s.Ay.createElement("div",{className:"decline-dialog-question"},(0,I.A)(Ya("DeclinePostDialogQuestion",{sender:rt?(0,d.em)(Za,rt):""},{withNodes:!0,withMarkdown:!0}))),s.Ay.createElement(ue.A,{placeholder:Ya("DeclineReasonPlaceholder"),value:mn,onChange:ao,maxLength:Ge})))},qe=(0,s.ph)((0,r.EK)((e,t)=>{const{focusedMessage:a,forwardMessages:n,activeReactions:s,activeEmojiInteractions:r,loadingThread:i}=(0,u.nTw)(e),{message:d,album:g,withSenderName:v,withAvatar:E,threadId:b,messageListType:w,isLastInDocumentGroup:x,isFirstInGroup:C}=t,{id:N,chatId:I,viaBotId:S,isOutgoing:M,forwardInfo:k,transcriptionId:T,isPinned:P,viaBusinessBotId:L,effectId:B,paidMessageStars:R}=d,D=(0,u.k9R)(e,d),{shouldWarnAboutSvg:F}=(0,h.l)(e),O=(0,y.L8)(I),z=(0,u.hds)(e,I),U=(0,u.nZ4)(e,I),j=(0,l.DX)(I),V=(0,l.Qe)(I),J=z&&(0,l.WX)(z),H=z&&(0,l.YE)(z),$=O?void 0:(0,u.AWZ)(e,I),K=D?.story,G=K?(0,u.Msb)(e,K.peerId,K.id):void 0,_=n.messageIds&&n.messageIds.includes(N),q=!U&&(0,l.zP)(d),W=v||E||q,Z=(0,u.Y7C)(e,d),Y=(0,u.Szq)(e,d),Q=S?(0,u.mBe)(e,S):void 0,X=Z?.id&&H?$?.adminMembersById?.[Z?.id]:void 0,ee=d.id===b,{replyToMsgId:te,replyToPeerId:ae,replyFrom:ne}=(0,m.Q)(d)||{},{peerId:se,storyId:re}=(0,m.W)(d)||{},oe=te&&te===b,ie=(0,u.gMr)(e,d),ce=k||ne,le=ie?(0,u.Y7C)(e,ie):!ce||j||V?void 0:(0,u.HdA)(e,ce),de=ie&&(0,u.Szq)(e,ie),me=ae?(0,u.hds)(e,ae):void 0,ue=!j&&!V&&me&&!(0,l.gA)(me)&&(me.isNotJoined||(0,u._ls)(e,me.id)),pe="topicCreate"===ie?.content.action?.type,he=re&&se?(0,u.Msb)(e,se,re):void 0,Ae=se?(0,u.PVB)(e,se):void 0,ge=(0,u.ldX)(e,d),ye="thread"===w&&(g?g.messages.some(t=>(0,u.nJv)(e,t,b)):(0,u.nJv)(e,d,b)),{direction:fe,noHighlight:ve,isResizingContainer:Ee,quote:be,quoteOffset:we,scrollTargetPosition:xe}=ye&&a||{},Ce=(0,u.TCk)(e),Ne=Ce?.results?.query&&`${Ce.isHashtag?"#":""}${Ce.results.query}`,Ie=(0,l.wb)(d),Se=Ie&&(0,u.oei)(e,Ie)?Ie:void 0,Me=(0,l.Jw)(d);let ke;ke=g?.messages?g.messages.every(({id:t})=>(0,u.H1_)(e,t)):(0,u.H1_)(e,N);const Te="thread"===w&&(0,u.tOf)(e,d,b),Pe=(0,u.yuw)(e),Le=(0,p.iS)(e,d),Be=Le&&(0,l.$r)(Pe,Le),Re=(0,u.Vw0)(e,I,g?.commentsMessage?.id||N),De=Boolean(d.groupedId)&&!d.isInAlbum,Fe=De?(0,u.D_S)(e,I,d.groupedId)[0]:void 0,Oe=De?x?(0,u.O5q)(e,I,Fe):void 0:d,ze=z?.unreadReactions?.includes(d.id),Ue=b===o.l3&&z?.isForum&&C,je=Ue?(0,u.nkm)(e,d):void 0,Ve=(0,u.RnX)(e,I),Je=(0,u.Rny)(e,I,d.id),He=(0,u.qZq)(e,I),$e=A.CM&&e.settings.byKey.canTranslate&&!He,Ke="connectionStateReady"===e.connectionState,Ge=Boolean(Oe&&s[(0,f.bj)(Oe)]?.length),_e=(0,u.g29)(e),qe=Z&&(0,u.nZ4)(e,Z.id)?$?.boostsApplied??d.senderBoosts:d.senderBoosts,We=z?.boostLevel||0,Ze=e.appConfig?.groupTranscribeLevelMin,Ye=(_e||Boolean(Ze&&We>=Ze),L?(0,u.mBe)(e,L):void 0),Qe=B?e.availableEffectById[B]:void 0,Xe=(0,u.zcZ)(e,d),et=(0,p.me)(e,d),tt=(0,p.xd)(e,I,d.id),at=Je?Boolean((0,u.a_$)(e,d.chatId,Je)[d.id]?.text):void 0,nt=(0,u.trm)(e),st=e.appConfig?.starsSuggestedPostFutureMin||c.WHU,rt=(0,p.B9)(e,d),ot=ie&&(0,p.B9)(e,ie);return{theme:(0,u.SJA)(e),forceSenderName:q,sender:Z,canShowSender:W,originSender:Y,botSender:Q,shouldHideReply:oe||pe,isThreadTop:ee,replyMessage:ie,replyMessageSender:le,replyMessageForwardSender:de,replyMessageChat:me,replyStory:he,isReplyPrivate:ue,storySender:Ae,isInDocumentGroup:De,isProtected:(0,u.ynf)(e,d),isChatProtected:(0,u.ryq)(e,I),isFocused:ye,isForwarding:_,reactionMessage:Oe,isChatWithSelf:U,isRepliesChat:j,isAnonymousForwards:V,isChannel:J,isGroup:H,canReply:Te,highlight:Ne,animatedEmoji:Se,animatedCustomEmoji:Me,isInSelectMode:(0,u.rTV)(e),isSelected:ke,isGroupSelected:Boolean(d.groupedId)&&!d.isInAlbum&&(0,u.SLS)(e,I,d.groupedId),threadId:b,isDownloading:Be,isPinnedList:"pinned"===w,isPinned:P,canAutoLoadMedia:(0,u.wwb)(e,d),canAutoPlayMedia:(0,u.OEt)(e,d),autoLoadFileMaxSizeMb:e.settings.byKey.autoLoadFileMaxSizeMb,shouldLoopStickers:(0,u.ML4)(e),repliesThreadInfo:Re,availableReactions:e.reactions.availableReactions,defaultReaction:(0,l.Nb)(d)||"scheduled"===w?void 0:(0,u.nTJ)(e,I),hasActiveReactions:Ge,activeEmojiInteractions:r,hasUnreadReaction:ze,isTranscribing:void 0!==T&&e.transcriptions[T]?.isPending,transcribedText:void 0!==T?e.transcriptions[T]?.text:void 0,hasTranslation:at,isPremium:_e,senderAdminMember:X,messageTopic:je,hasTopicChip:Ue,chatTranslations:Ve,areTranslationsEnabled:$e,shouldDetectChatLanguage:(0,u.LRV)(e,I),requestedTranslationLanguage:Je,requestedChatTranslationLanguage:He,hasLinkedChat:Boolean($?.linkedChatId),withAnimatedEffects:(0,u.xYJ)(e,"stickerEffects"),webPageStory:G,isConnected:Ke,isLoadingComments:Re?.isCommentsInfo&&i?.loadingChatId===Re?.originChannelId&&i?.loadingMessageId===Re?.originMessageId,shouldWarnAboutSvg:F,...M&&{outgoingStatus:(0,u.Tl2)(e,d,"scheduled"===w)},..."number"==typeof ge&&{uploadProgress:ge},...ye&&{focusDirection:fe,noFocusHighlight:ve,isResizingContainer:Ee,focusedQuote:be,focusedQuoteOffset:we,scrollTargetPosition:xe},senderBoosts:qe,tags:e.savedReactionTags?.byKey,canTranscribeVoice:!0,viaBusinessBot:Ye,minFutureTime:st,effect:Qe,poll:Xe,maxTimestamp:et,lastPlaybackTimestamp:tt,paidMessageStars:R,isChatWithUser:O,isAccountFrozen:nt,isMediaNsfw:rt,isReplyMediaNsfw:ot,webPage:D}})(_e));n()}catch(e){n(e)}})},85287:(e,t,a)=>{"use strict";a.a(e,async(e,n)=>{try{a.d(t,{A:()=>x});var s=a(84051),r=a(13439),o=a(23174),i=a(31481),c=a(66644),l=a(90709),d=a(36353),m=a(80539),u=a(15384),p=a(63988),h=a(83414),A=a(82117),g=a(17712),y=a(61157),f=a(60138),v=e([u]),E=v.then?(await v)():v;u=E[0];const b=new Set([o.C7.TextUrl,o.C7.Url]),w=300,x=(e,t,a,n,o,v,E,x,C)=>{const{editMessage:N,setEditingDraft:I,toggleMessageWebPage:S,openDeleteMessageModal:M}=(0,r.ko)(),[k,T]=(0,s.J0)(!1),P=x?.replyInfo?.replyToMsgId;(0,A.A)(([e,n])=>{if(!a)return;if(P&&n!==P)return t(""),void T(!1);if(e?.id===a.id&&P===n)return;const s=!e&&C?.text.length?C:a.content.text,r=(0,u.QY)(s);t(r),T(!0),(0,c.Uz)(()=>{const e=document.querySelector(i.m$5);e&&(0,d.A)(e,!0)})},[a,P,C,t]),(0,s.vJ)(()=>{if(!a)return;const e=!("webPage"in a.content)&&a.content.text?.entities?.some(e=>b.has(e.type));S({chatId:o,threadId:v,noWebPage:e})},[o,v,a]),(0,s.vJ)(()=>{if(a)return()=>{const t=(0,m.Ay)(e()),a=t.text.length?t:void 0;I({chatId:o,threadId:v,type:E,text:a})}},[o,a,e,I,v,E]);const L=(0,p.tF)(()=>{if(!a)return!1;const t=(0,m.Ay)(e());return!("webPage"in a.content)&&a.content.text?.entities?.some(e=>b.has(e.type))&&!t.entities?.some(e=>b.has(e.type))},[a,e],w,!0),B=(0,h.A)(L,[L,e],!0);(0,A.A)(([e])=>{a&&e?.id===a.id&&B()&&S({chatId:o,threadId:v,noWebPage:!1})},[a,o,e,v,B]);const R=(0,g.A)(()=>{x&&(0,c.YS)(()=>{t((0,u.QY)(x.text)),(0,c.Uz)(()=>{const e=document.querySelector(i.m$5);e&&(0,d.A)(e,!0)})})}),D=(0,g.A)(()=>{n(),R()}),F=(0,g.A)(()=>{const{text:t,entities:s}=(0,m.Ay)(e());a&&(t||(0,l.mR)(a)?(N({messageList:{chatId:o,threadId:v,type:E},text:t,entities:s}),n(),R()):M({chatId:o,messageIds:[a.id],isSchedule:"scheduled"===E}))}),O=(0,g.A)(()=>{if(!a)return;const t=(0,m.Ay)(e()),n=t.text.length?t:void 0;I({chatId:o,threadId:v,type:E,text:n})});return(0,y.Ay)(O),(0,f.A)(O),[F,D,k]};n()}catch(e){n(e)}})},85449:(e,t,a)=>{"use strict";a.d(t,{A:()=>c});var n=a(84051),s=a(31481),r=a(98607),o=a(4961),i=a(54746);function c(e,t){return"receipt"===t.type?e("PaymentReceipt"):"buy"===t.type?(0,r.i)(t.text,s.Cyx,n.Ay.createElement(i.A,{className:"star-currency-icon",name:"star"})):(0,o.A)(t.text)}},86327:(e,t,a)=>{"use strict";a.d(t,{r:()=>n,u:()=>c});const n=30,s=2,r=4,o=1,i=23;function c(e,t,a,{peak:n,fillStyle:c,progressFillStyle:l}){const d=t.length*r,m=i;e.width=2*d,e.height=2*m,e.style.width=`${d}px`,e.style.height=`${m}px`;const u=e.getContext("2d");u.scale(2,2),t.forEach((e,d)=>{u.globalAlpha=d/t.length>=a?.5:1,u.fillStyle=a>d/t.length?l:c;const p=Math.max(2,i*(e/Math.max(1,n)));!function(e,t,a,n,s,r){n<2*r&&(r=n/2),s<2*r&&(r=s/2),e.beginPath(),e.moveTo(t+r,a),e.arcTo(t+n,a,t+n,a-s,r),e.arcTo(t+n,a-s,t,a-s,r),e.arcTo(t,a-s,t,a,r),e.arcTo(t,a,t+n,a,r),e.closePath()}(u,d*r,(m+p)/2,s,p,o),u.fill()})}},86377:(e,t,a)=>{"use strict";a.d(t,{A:()=>o});var n=a(84051),s=a(80089),r=a(80464);const o=e=>{const{isOpen:t}=e,a=(0,r.A)(s.ar.Extra,"HeaderMenuContainer",!t);return a?n.Ay.createElement(a,e):void 0}},86507:(e,t,a)=>{"use strict";a.d(t,{A:()=>A});var n=a(84051),s=a(66644),r=a(96454),o=a(11778);const i={encoderPath:new URL(a(89755),a.b).href,reuseWorker:!0},c={type:"audio/ogg"};let l,d,m;async function u(){return l||(l=a.e(4550).then(a.t.bind(a,14550,23)),d=(await l).default,m=new d(i)),l}async function p(e){await async function(){await u(),await m.start()}();const t=Date.now();let a;const n=[],r=[];m.ondataavailable=e=>{n.push(e)};const o=function(t){const a=t.sourceNode,n=a.context.createAnalyser();n.fftSize=64,a.connect(n);const o=n.frequencyBinCount,i=new Uint8Array(o);let c=!1;return function t(){if(c)return;n.getByteFrequencyData(i);const a=i.reduce((e,t)=>e+t,0)/o/255;(t=>{r.push(255*t),e(t)})(a<.1?0:a),(0,s.YS)(t)}(),()=>{c=!0}}(m);return{stop:()=>new Promise((e,s)=>{m.onstop=()=>{e({blob:new Blob(n,c),duration:Math.round(((a||Date.now())-t)/1e3),waveform:r})},m.onerror=s;const i=Math.max(0,t+1e3-Date.now());setTimeout(()=>{m.stop(),o()},i)}),pause:()=>{const e=Math.max(0,t+1e3-Date.now());setTimeout(()=>{m.pause(),a=Date.now(),o()},e)}}}var h=a(17712);const A=()=>{const e=(0,n.li)(),[t,a]=(0,n.J0)(),i=(0,n.li)(),[c,l]=(0,n.J0)(),[d,m]=(0,n.J0)(!1);(0,n.vJ)(()=>{r.Yw&&r.pW&&u()},[]);const A=(0,h.A)(async()=>{try{const{stop:t,pause:n}=await p(t=>{e.current&&(i.current&&Date.now()%4==0&&(0,s.RK)(()=>{e.current&&(e.current.style.boxShadow=`0 0 0 ${50*(t||0)}px rgba(0,0,0,.15)`)}),l(Date.now()))});i.current=Date.now(),l(Date.now()),a({stop:t,pause:n})}catch(e){console.error(e)}}),g=(0,h.A)(()=>{if(t){(0,s.RK)(()=>{e.current&&(e.current.style.boxShadow="none")});try{return t.pause()}catch(e){return void console.error(e)}}}),y=(0,h.A)(()=>{if(t){a(void 0),i.current=void 0,l(void 0),(0,s.RK)(()=>{e.current&&(e.current.style.boxShadow="none")});try{return t.stop()}catch(e){return void console.error(e)}}});(0,n.vJ)(()=>t?(0,o.A)(y):void 0,[t,y]);const f=(0,h.A)(()=>{m(!d)});return{startRecordingVoice:A,pauseRecordingVoice:g,stopRecordingVoice:y,activeVoiceRecording:t,currentRecordTime:c,recordButtonRef:e,startRecordTimeRef:i,isViewOnceEnabled:d,setIsViewOnceEnabled:m,toogleViewOnceEnabled:f}}},86698:(e,t,a)=>{"use strict";a.d(t,{H:()=>o});var n=a(31481),s=a(90709),r=a(50577);function o(e,t,{poll:a,webPage:o,hasSubheader:i,isCustomShape:c,isLastInGroup:l,asForwarded:d,hasThread:m,forceSenderName:u,hasCommentCounter:p,hasCommentButton:h,hasActionButton:A,hasReactions:g,isGeoLiveActive:y,withVoiceTranscription:f,peerColorClass:v,hasOutsideReactions:E}={}){const{paidMedia:b}=(0,s.r_)(e),{photo:w,video:x}=(0,r.A)(b),C=(0,s.r_)(e),{photo:N=w,video:I=x,audio:S,voice:M,document:k,contact:T,location:P,invoice:L,storyData:B,giveaway:R,giveawayResults:D}=C,F=t?.hasMultipleCaptions?void 0:(0,s.r_)(t?.captionMessage||e).text,O=Boolean(e.factCheck?.text),z="video"===I?.mediaType&&I.isRound,U=e.isInvertedMedia,j=N||I&&!z||t||o,V=[n.zPk],J=B||N||I||P||L?.extendedMedia||b,H=F||"venue"===P?.mediaType||y||O,$=J&&!H,K=Boolean(e.inlineButtons),G=Boolean(e.viaBotId),_=U&&j?!(!g||E)||!!O||!(!o||!H):H;return v&&V.push(v),!J&&e.emojiOnlyCount?(V.push("emoji-only"),e.emojiOnlyCount<=n.Apc&&V.push(`emoji-only-${e.emojiOnlyCount}`)):H?V.push("text"):V.push("no-text"),Object.keys(C).length||V.push("unsupported"),A&&V.push("has-action-button"),c&&(V.push("custom-shape"),z&&V.push("round"),p&&V.push("has-comment-counter")),J&&!f?V.push("media"):I?V.push("video"):S?V.push("audio"):M?(V.push("voice"),f&&V.push("with-voice-transcription")):k?V.push("document"):T?V.push("contact"):a?V.push("poll"):R||D?V.push("giveaway"):"full"===o?.webpageType&&(V.push("web-page"),(o.photo||o.video)&&V.push("media"),o.document&&V.push("document"),o.gift&&V.push("gift")),L&&!L.extendedMedia&&V.push("invoice"),L&&L.photo&&V.push("has-photo"),B&&V.push("story"),d&&V.push("is-forwarded"),i&&V.push("has-subheader"),m&&V.push("has-replies"),g&&V.push("has-reactions"),E&&V.push("has-outside-reactions"),G&&V.push("is-via-bot"),u&&V.push("force-sender-name"),c||(V.push("has-shadow"),J&&m&&V.push("has-background"),(i||d||G||!$||u||O||f)&&V.push("has-solid-background"),O&&V.push("has-fact-check"),!l||K||!N&&$&&!h||V.push("has-appendix")),j&&U&&V.push("is-inverted-media"),_?V.push("has-footer"):V.push("no-footer"),V.join(" ")}},87205:(e,t,a)=>{"use strict";a.d(t,{H:()=>o});var n=a(96540);let s=null;const r={};function o(e){const[t,a]=(0,n.useState)(!1),o=(0,n.useRef)(null);return(0,n.useEffect)(()=>(r[e]=e=>a(e),()=>{delete r[e]}),[e]),{isSpeaking:t,speak:(t,a={})=>{(speechSynthesis.speaking||speechSynthesis.pending)&&speechSynthesis.cancel();const n=new SpeechSynthesisUtterance(t);Object.assign(n,a),s=e,o.current=n,n.onend=()=>{s===e&&(r[e]?.(!1),s=null)},n.onerror=()=>{s===e&&(r[e]?.(!1),s=null)},Object.entries(r).forEach(([t,a])=>a(t===e)),speechSynthesis.speak(n)},stop:()=>{s===e&&(speechSynthesis.speaking||speechSynthesis.pending)&&(speechSynthesis.cancel(),r[e]?.(!1),s=null)}}}},87469:(e,t,a)=>{"use strict";a.d(t,{Z:()=>i,a:()=>d});var n=a(90709),s=a(43336),r=a(76023),o=a(35127);const i={None:0,Top:1,Right:2,Bottom:4,Left:8};function c(e,t){return e.reduce((e,t)=>e+t,t)}function l(e){const t={width:0,height:0};return e.forEach(({dimensions:e,sides:a})=>{a&i.Right&&(t.width=e.width+e.x),a&i.Bottom&&(t.height=e.height+e.y)}),t}function d(e,t,a,d){const m=function(e,t,a){const s=e[0].isOutgoing;return(t?e[0].content.paidMedia.extendedMedia.map(e=>"mediaType"in e?e:e.photo||e.video):e.map(e=>(0,n.r_)(e).photo||(0,n.r_)(e).video)).filter(Boolean).map(e=>{const t=(0,o.yA)({media:e,isOwn:s,isMobile:a});return t.width/t.height})}(a.messages,a.isPaidMedia,d),u=function(e){return e.map(e=>e>1.2?"w":e<.8?"n":"q").join("")}(m),p=function(e){return e.reduce((e,t)=>t+e,1)/e.length}(m),h=m.length,A=m.some(e=>e>2),g=(0,r.w4)(e,!1,t,d);let y;const f={ratios:m,proportions:u,averageRatio:p,maxWidth:g,minWidth:100,maxHeight:g,spacing:2};return y=h>=5||A?function({ratios:e,averageRatio:t,maxWidth:a,minWidth:n,spacing:r,maxHeight:o=4*a/3}){const l=function(e,t){return e.map(e=>t>1.1?(0,s.qE)(e,1,2.75):(0,s.qE)(e,.6667,1))}(e,t),d=e.length,m=new Array(d),u=[],p=e=>{const t=[];let n=0;e.forEach(e=>{t.push(((e,t)=>{const n=c(l.slice(e,e+t),0);return(a-(t-1)*r)/n})(n,e)),n+=e}),u.push({lineCounts:e,heights:t})};for(let e=1;e!==d;++e){const t=d-e;e<=3&&t<=3&&p([e,t])}for(let e=1;e!==d-1;++e)for(let a=1;a!==d-e;++a){const n=d-e-a;e<=3&&a<=(t<.85?4:3)&&n<=3&&p([e,a,n])}for(let e=1;e!==d-1;++e)for(let t=1;t!==d-e;++t)for(let a=1;a!==d-e-t;++a){const n=d-e-t-a;e<=3&&t<=3&&a<=3&&n<=4&&p([e,t,a,n])}let h,A=0;for(let e=0;e<u.length;e++){const{heights:t,lineCounts:a}=u[e],s=a.length,i=c(t,0)+r*(s-1),l=Math.min(...t)<n?1.5:1,d=(()=>{for(let e=1;e!==s;++e)if(a[e-1]>a[e])return 1.5;return 1})(),m=Math.abs(i-o)*l*d;(!h||m<A)&&(h=u[e],A=m)}const g=h.lineCounts,y=h.heights,f=g.length;let v=0,E=0;for(let e=0;e!==f;++e){const t=g[e],n=y[e],s=Math.round(n);let o=0;for(let c=0;c!==t;++c){const d=i.None|(0===e?i.Top:i.None)|(e===f-1?i.Bottom:i.None)|(0===c?i.Left:i.None)|(c===t-1?i.Right:i.None),u=l[v],p=c===t-1?a-o:Math.round(u*n);m[v]={dimensions:{x:o,y:E,width:p,height:s},sides:d},o+=p+r,++v}E+=s+r}return m}(f):2===h?function(e){const{ratios:t,proportions:a,averageRatio:n}=e;return"ww"===a&&n>1.4&&t[1]-t[0]<.2?function(e){const{ratios:t,maxWidth:a,spacing:n,maxHeight:s}=e,r=Math.round(Math.min(a/t[0],Math.min(a/t[1],(s-n)/2)));return[{dimensions:{x:0,y:0,width:a,height:r},sides:i.Left|i.Top|i.Right},{dimensions:{x:0,y:r+n,width:a,height:r},sides:i.Left|i.Bottom|i.Right}]}(e):"ww"===a||"qq"===a?function(e){const{ratios:t,maxWidth:a,spacing:n,maxHeight:s}=e,r=(a-n)/2,o=Math.round(Math.min(r/t[0],Math.min(r/t[1],s)));return[{dimensions:{x:0,y:0,width:r,height:o},sides:i.Top|i.Left|i.Bottom},{dimensions:{x:r+n,y:0,width:r,height:o},sides:i.Top|i.Right|i.Bottom}]}(e):function(e){const{ratios:t,minWidth:a,maxWidth:n,spacing:s,maxHeight:r}=e,o=Math.round(1.5*a),c=Math.min(Math.round(Math.max(.4*(n-s),(n-s)/t[0]/(1/t[0]+1/t[1]))),n-s-o),l=n-c-s,d=Math.min(r,Math.round(Math.min(l/t[0],c/t[1])));return[{dimensions:{x:0,y:0,width:l,height:d},sides:i.Top|i.Left|i.Bottom},{dimensions:{x:l+s,y:0,width:c,height:d},sides:i.Top|i.Right|i.Bottom}]}(e)}(f):3===h?function(e){const{proportions:t}=e;return"n"===t[0]?function(e){const{maxHeight:t,spacing:a,ratios:n,maxWidth:s,minWidth:r}=e,o=t,c=Math.round(Math.min((t-a)/2,n[1]*(s-a)/(n[2]+n[1]))),l=o-c-a,d=Math.max(r,Math.round(Math.min((s-a)/2,Math.min(c*n[2],l*n[1])))),m=Math.min(Math.round(o*n[0]),s-a-d);return[{dimensions:{x:0,y:0,width:m,height:o},sides:i.Top|i.Left|i.Bottom},{dimensions:{x:m+a,y:0,width:d,height:l},sides:i.Top|i.Right},{dimensions:{x:m+a,y:l+a,width:d,height:c},sides:i.Bottom|i.Right}]}(e):function(e){const{maxWidth:t,ratios:a,maxHeight:n,spacing:s}=e,r=t,o=Math.round(Math.min(r/a[0],.66*(n-s))),c=(t-s)/2,l=Math.min(n-o-s,Math.round(Math.min(c/a[1],c/a[2]))),d=r-c-s;return[{dimensions:{x:0,y:0,width:r,height:o},sides:i.Left|i.Top|i.Right},{dimensions:{x:0,y:o+s,width:c,height:l},sides:i.Bottom|i.Left},{dimensions:{x:c+s,y:o+s,width:d,height:l},sides:i.Bottom|i.Right}]}(e)}(f):function(e){const{proportions:t}=e;return"w"===t[0]?function({maxWidth:e,ratios:t,spacing:a,maxHeight:n,minWidth:s}){const r=e,o=Math.round(Math.min(r/t[0],.66*(n-a))),c=Math.round((e-2*a)/(t[1]+t[2]+t[3])),l=Math.max(s,Math.round(Math.min(.4*(e-2*a),c*t[1]))),d=Math.round(Math.max(Math.max(s,.33*(e-2*a)),c*t[3])),m=r-l-d-2*a,u=Math.min(n-o-a,c);return[{dimensions:{x:0,y:0,width:r,height:o},sides:i.Left|i.Top|i.Right},{dimensions:{x:0,y:o+a,width:l,height:u},sides:i.Bottom|i.Left},{dimensions:{x:l+a,y:o+a,width:m,height:u},sides:i.Bottom},{dimensions:{x:l+a+m+a,y:o+a,width:d,height:u},sides:i.Right|i.Bottom}]}(e):function({maxHeight:e,ratios:t,maxWidth:a,spacing:n,minWidth:s}){const r=e,o=Math.round(Math.min(r*t[0],.6*(a-n))),c=Math.round((e-2*n)/(1/t[1]+1/t[2]+1/t[3])),l=Math.round(c/t[1]),d=Math.round(c/t[2]),m=r-l-d-2*n,u=Math.max(s,Math.min(a-o-n,c));return[{dimensions:{x:0,y:0,width:o,height:r},sides:i.Top|i.Left|i.Bottom},{dimensions:{x:o+n,y:0,width:u,height:l},sides:i.Top|i.Right},{dimensions:{x:o+n,y:l+n,width:u,height:d},sides:i.Right},{dimensions:{x:o+n,y:l+d+2*n,width:u,height:m},sides:i.Bottom|i.Right}]}(e)}(f),{layout:y,containerStyle:l(y)}}},87595:(e,t,a)=>{"use strict";a.a(e,async(e,n)=>{try{a.d(t,{A:()=>h});var s=a(96540),r=a(80539),o=a(70958),i=a(19343),c=a(89075),l=a(8420),d=a(5844),m=a(72969),u=e([o]),p=u.then?(await u)():u;o=p[0];const h=e=>{const{getHtml:t,setHtml:a,onClose:n}=e,{text:u}=(0,r.Ay)(t()),[p,h]=(0,s.useState)(0);return s.createElement(s.Fragment,null,s.createElement("div",{className:"px-[20px] py-[13px]"},(()=>{switch(p){case 0:return s.createElement(l.A,{text:u,setHtml:a,onClose:n});case 1:return s.createElement(d.A,{text:u,setHtml:a,onClose:n});case 2:return s.createElement(m.A,{text:u,setHtml:a,onClose:n});case 3:return s.createElement(c.A,{text:u,setHtml:a,onClose:n});case 4:return s.createElement(i.A,{text:u,setHtml:a,onClose:n});default:return}})()),s.createElement(o.A,{activeTab:p,tabs:[{title:"Improve"},{title:"Rephrase"},{title:"Shorten"},{title:"Friendly"},{title:"Formal"}],onSwitchTab:h,inversion:!0}))};n()}catch(e){n(e)}})},87610:(e,t,a)=>{"use strict";a.d(t,{A:()=>g});var n=a(84051),s=a(13439),r=a(37830),o=a(63988),i=a(19129),c=a(37661),l=a(17712),d=a(35297);const m=300,u=/^@([a-z0-9_]{1,32})[\u00A0\u0020]+(.*)/is,p=/^@([a-z0-9_]{1,32})[\u00A0\u0020]+\n{2,}/i,h={username:"",query:"",canShowHelp:!1,usernameLowered:""},A=document.createElement("div");function g(e,t,a,r){const{queryInlineBot:g,resetInlineBot:f,resetAllInlineBots:v}=(0,s.ko)(),[E,b,w]=(0,c.A)(!1),x=(0,o.gs)(()=>{const t=a();return e&&t.startsWith("@")?function(e){if(!e.startsWith("@"))return h;const t=function(e){return A.innerHTML=e.replace(/<br>/g,"\n"),A.querySelectorAll("[alt]").forEach(e=>{e.innerText||(e.innerText=e.getAttribute("alt"))}),A.innerText}(e),a=t.match(u);return a?y(a[1],a[2],""===a[2]&&!t.match(p)):h}(t):h},[a,e],m),{username:C,query:N,canShowHelp:I,usernameLowered:S}=(0,i.A)(x,[x,a],!0);(0,d.A)(([e])=>{e&&f({username:e})},[C,f]),(0,n.vJ)(()=>{S&&g({chatId:t,username:S,query:N})},[t,N,g,S]),(0,n.vJ)(w,[w,a]);const{id:M,switchPm:k,switchWebview:T,offset:P,results:L,isGallery:B,help:R}=S&&r?.[S]||{},D=Boolean((L?.length||k)&&!E);(0,n.vJ)(()=>{D||C||v()},[D,v,C]);const F=(0,l.A)(()=>{S&&g({chatId:t,username:S,query:N,offset:P})});return{isOpen:D,botId:M,isGallery:B,switchPm:k,switchWebview:T,results:L,closeTooltip:b,help:I&&R?`@${C} ${R}`:void 0,loadMore:F}}const y=(0,r.A)((e,t,a)=>({username:e,query:t,canShowHelp:a,usernameLowered:e.toLowerCase()}))},88316:(e,t,a)=>{"use strict";a.d(t,{o:()=>m});var n=a(96540),s=a(2391),r=a(93250);function o(){return o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},o.apply(null,arguments)}function i(){return i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},i.apply(null,arguments)}const c={code:function({node:e,inline:t,className:a,children:s,...r}){return t?n.createElement("code",o({className:`${a} text-sm bg-zinc-100 dark:bg-zinc-800 py-0.5 px-1 rounded-md`},r),s):n.createElement("div",{className:"not-prose flex flex-col"},n.createElement("pre",o({},r,{className:"text-sm w-full overflow-x-auto dark:bg-zinc-900 p-4 border border-zinc-200 dark:border-zinc-700 rounded-xl dark:text-zinc-50 text-zinc-900"}),n.createElement("code",{className:"whitespace-pre-wrap break-words"},s)))},pre:({children:e})=>n.createElement(n.Fragment,null,e),ol:({node:e,children:t,...a})=>n.createElement("ol",i({className:"list-decimal list-outside ml-4"},a),t),li:({node:e,children:t,...a})=>n.createElement("li",i({className:"py-1"},a),t),ul:({node:e,children:t,...a})=>n.createElement("ul",i({className:"list-decimal list-outside ml-4"},a),t),strong:({node:e,children:t,...a})=>n.createElement("span",i({className:"font-semibold"},a),t),a:({node:e,children:t,...a})=>n.createElement("a",{className:"text-blue-500 hover:underline",target:"_blank",rel:"noreferrer"},t),h1:({node:e,children:t,...a})=>n.createElement("h1",i({className:"text-3xl font-semibold mt-6 mb-2"},a),t),h2:({node:e,children:t,...a})=>n.createElement("h2",i({className:"text-2xl font-semibold mt-6 mb-2"},a),t),h3:({node:e,children:t,...a})=>n.createElement("h3",i({className:"text-xl font-semibold mt-6 mb-2"},a),t),h4:({node:e,children:t,...a})=>n.createElement("h4",i({className:"text-lg font-semibold mt-6 mb-2"},a),t),h5:({node:e,children:t,...a})=>n.createElement("h5",i({className:"text-base font-semibold mt-6 mb-2"},a),t),h6:({node:e,children:t,...a})=>n.createElement("h6",i({className:"text-sm font-semibold mt-6 mb-2"},a),t)},l=[r.A],d=({children:e})=>n.createElement(s.oz,{remarkPlugins:l,components:c},e),m=(0,n.memo)(d,(e,t)=>e.children===t.children)},88464:(e,t,a)=>{"use strict";a.a(e,async(e,n)=>{try{a.d(t,{A:()=>f});var s=a(84051),r=a(23174),o=a(90709),i=a(87357),c=a(43874),l=a(62587),d=a(92608),m=e([l]),u=m.then?(await m)():m;l=u[0];const p="0.5px",h="rgb(170, 170, 170)",A="rgb(112, 117, 121)",g=/#fff/gi,y=({icon:e,theme:t})=>{const{isTouchScreen:a}=(0,c.Ay)(),n=(0,l.A)((0,o.mr)(e,"full"),!1,r.qZ.Text),m=(0,s.Kr)(()=>{if(!n)return"";const e="dark"===t?h:A,a=n.replace(g,e),s=(new DOMParser).parseFromString(a,"image/svg+xml");return s.querySelectorAll("path").forEach(t=>{t.style.stroke=e,t.style.strokeWidth=p}),`data:image/svg+xml;utf8,${s.documentElement.outerHTML}`},[n,t]);return s.Ay.createElement("i",{className:(0,i.A)(d.A.root,"icon",!a&&d.A.compact)},s.Ay.createElement("img",{src:m,alt:"",className:(0,i.A)(d.A.image,!a&&d.A.compact),draggable:!1}))},f=(0,s.ph)(y);n()}catch(e){n(e)}})},88785:(e,t,a)=>{"use strict";a.d(t,{A:()=>n});const n={root:"JldIqqof"}},88792:(e,t,a)=>{"use strict";a.d(t,{A:()=>p});var n=a(84051),s=a(13439),r=a(31481),o=a(60919),i=a(53827),c=a(49642),l=a(80853),d=a(82117),m=a(17712),u=a(35297);const p=(e,t,a,p,h,A,g,y=!1,f,v,E=!1,b=!1,w,x=!1,C=!1)=>{const N=(0,n.li)(),[I,S]=(0,n.J0)(!1);let M=I;const[k,T]=(0,n.J0)(0),P=(0,m.A)(()=>{S(!1),v&&v()});(0,u.A)(()=>{if(!e)return;N.current=(0,i.kz)(e,a,(e,n)=>{if(!C){switch(e){case"onPlay":{const{setVolume:e,setPlaybackRate:n,toggleMuted:i,proxy:l}=N.current;S(!0),"oneTimeVoice"!==a&&(0,c.MV)(A,function(e){let t={};if(e&&e.current){const{play:a,pause:n,setCurrentTime:r,proxy:o,requestNextTrack:i,requestPreviousTrack:c,isFirst:l,isLast:d}=e.current;t={play:()=>{a(o.src)},pause:()=>{n()},stop:()=>{n(),r(0),(0,s.ko)().closeAudioPlayer()},seekbackward:e=>{const t=e.seekOffset||10;r(Math.max(o.currentTime-t,0))},seekforward:e=>{const t=e.seekOffset||10;r(Math.min(o.currentTime+t,o.duration))},seekTo:e=>{e.seekTime&&r(e.seekTime)}},d()||(t.nexttrack=()=>{i()}),l()||(t.previoustrack=()=>{c()})}return t}(N)),(0,c.HW)("playing");const{audioPlayer:d}=(0,o.nTw)((0,s.mS)());e(d.volume),i(Boolean(d.isMuted));const m=l.duration&&Number.isFinite(l.duration)?l.duration:t;("voice"===a||m>r.CVm)&&n(d.playbackRate),(0,c.hm)({duration:l.duration||0,playbackRate:l.playbackRate,position:l.currentTime});break}case"onRateChange":{const{proxy:e}=N.current;(0,c.hm)({duration:e.duration||0,playbackRate:e.playbackRate,position:e.currentTime});break}case"onPause":S(!1),(0,c.HW)("paused"),w?.();break;case"onTimeUpdate":{const{proxy:e}=N.current;if(x&&0===e.currentTime)break;const a=e.duration&&Number.isFinite(e.duration)?e.duration:t;b||T(e.currentTime/a);break}case"onEnded":(0,c.HW)("paused")}h?.[e]?.(n)}},f,P);const{proxy:n}=N.current;I||n.paused||(S(!0),M=!0),g&&!C&&g(n)},[e]),(0,n.vJ)(()=>{I&&A&&(0,c.D5)(A)},[A,I]);const{play:L,pause:B,setCurrentTime:R,proxy:D,destroy:F,setVolume:O,stop:z,isFirst:U,isLast:j,requestNextTrack:V,requestPreviousTrack:J,setPlaybackRate:H,toggleMuted:$}=N.current??{},K=(0,n.Kr)(()=>D?.duration&&Number.isFinite(D.duration)?D.duration:t,[D?.duration,t]);(0,n.vJ)(()=>{D&&(x&&0===D.currentTime||!K||(0,l.f)(D)||b||T(D.currentTime/K))},[K,k,D,b,x]),(0,n.vJ)(()=>()=>{F?.(E)},[F,E]),(0,d.A)(([e,t])=>{e===y&&p===t||D?.src&&D?.paused||y&&p&&!I&&L?.(p)},[y,p,I,L,D?.src,D?.paused,a]);const G=(0,m.A)(()=>{p&&L?.(p)}),_=(0,m.A)(()=>{I?B?.():G()}),q=(0,m.A)(e=>{R?.(e),K&&D&&T(D.currentTime/K)});return{isPlaying:M,playProgress:k,playPause:_,pause:B,play:G,stop:z,setCurrentTime:q,setVolume:O,audioProxy:D,duration:K,requestNextTrack:V,requestPreviousTrack:J,isFirst:U,isLast:j,setPlaybackRate:H,toggleMuted:$}}},89075:(e,t,a)=>{"use strict";a.d(t,{A:()=>c});var n=a(96540),s=a(21468),r=a(69893),o=a(99083),i=a(75175);const c=e=>{const{text:t,setHtml:a,onClose:c}=e,[l,d]=n.useState(!0),[m,u]=n.useState([]);(0,n.useEffect)(()=>{(0,r.gs)(t).then(e=>{if(!e.data.errors)throw new Error("No errors found in the text");u(e.data.errors),d(!1)}).catch(e=>{console.error("Error checking grammar:",e),d(!1),u([])})},[]);const p=(0,n.useCallback)(()=>{if(m){const e=(0,r.Zm)(t,m);a(e),c()}},[m]);return n.createElement("div",null,n.createElement("h2",{className:"grammar-tool-tab-content-title"},"Use more personal language"),l?n.createElement(o.A,null):n.createElement(n.Fragment,null,n.createElement(i.A,{text:t,errors:m}),n.createElement(s.Ay,{color:"default",variant:"outlined",onClick:p},"Accept")))}},89091:(e,t,a)=>{"use strict";a.d(t,{A:()=>n});const n={root:"CbpKtOey",title:"ogvcv3mr",sticker:"hjjKhvVv",resultSticker:"JEiR48jJ",count:"n_QCMv_A",section:"MSFa9BPf",description:"HfZ6SuLI",peers:"rPyyNYxK",peer:"FV70u896",button:"jMBw7STU",result:"ZQ4aVVkI",separator:"ao0x1YnS"}},89116:(e,t,a)=>{"use strict";a.d(t,{N:()=>s,S:()=>r});var n=a(71511);let s=function(e){return e.PersonalizeSettings="PersonalizeSettings",e.OriginalMessages="OriginalMessages",e.CustomizationPrompt="CustomizationPrompt",e.ChatPicker="ChatPicker",e.AddTopicPanel="AddTopicPanel",e}({});const r=(0,n.v)(e=>({isOpen:!1,drawerKey:void 0,drawerParams:void 0,openDrawer:(t,a)=>e(()=>({isOpen:!0,drawerKey:t,drawerParams:a})),closeDrawer:()=>e(()=>({isOpen:!1,drawerKey:void 0,drawerParams:void 0}))}))},89382:(e,t,a)=>{"use strict";a.a(e,async(e,n)=>{try{a.d(t,{A:()=>w});var s=a(84051),r=a(13439),o=a(90709),i=a(96454),c=a(87357),l=a(17663),d=a(43874),m=a(45470),u=a(14),p=a(17712),h=a(62587),A=a(59030),g=a(50680),y=a(54746),f=a(5331),v=a(73768),E=e([h,A,f]);function b({story:e,isPreview:t,isProtected:a,isConnected:n}){const{openStoryViewer:E,loadPeerStoriesByIds:b,showNotification:w}=(0,r.ko)(),x=(0,A.A)(),{isMobile:C}=(0,d.Ay)(),N=e&&"isDeleted"in e,I=e&&"content"in e,S=I?e.content.video:void 0,M=I?(0,o.EN)(e):void 0,k=(0,h.A)(M),T=I?S?S.thumbnail?.dataUri:e.content.photo?.thumbnail?.dataUri:void 0,P=(0,u.A)(k,!0),{shouldRender:L,transitionClassNames:B}=(0,g.A)(Boolean(P)),R=(0,m.A)(T,N&&!t,C&&!i.QH),D=(0,c.A)(v.A.root,"media-inner",(!n||N)&&v.A.nonInteractive,N&&v.A.expired,t&&v.A.preview);(0,s.vJ)(()=>{!e||I||N||b({peerId:e.peerId,storyIds:[e.id]})},[e,N,I]);const F=(0,p.A)(()=>{N?w({message:x("StoryNotFound")}):E({peerId:e.peerId,storyId:e.id,isSinglePeer:!0,isSingleStory:!0})});return s.Ay.createElement("div",{className:D,onClick:n?F:void 0},!N&&t&&s.Ay.createElement("canvas",{ref:R,className:"thumbnail blurred-bg"}),L&&s.Ay.createElement(s.Ay.Fragment,null,s.Ay.createElement("img",{src:P,alt:"",className:(0,c.A)(v.A.media,t&&v.A.linkPreview,B),draggable:!1}),I&&s.Ay.createElement(f.A,{story:e,className:B})),N&&s.Ay.createElement("span",null,s.Ay.createElement(y.A,{name:"story-expired",className:v.A.expiredIcon}),x("StoryExpiredSubtitle")),Boolean(S?.duration)&&s.Ay.createElement("div",{className:"message-media-duration"},(0,l.QO)(S.duration)),a&&s.Ay.createElement("span",{className:"protector"}))}[h,A,f]=E.then?(await E)():E;const w=(0,s.ph)(b);n()}catch(x){n(x)}})},89596:(e,t,a)=>{"use strict";a.d(t,{A:()=>o});var n=a(84051),s=a(80089),r=a(80464);const o=e=>{const{isOpen:t}=e,a=(0,r.A)(s.ar.Extra,"SendAsMenu",!t);return a?n.Ay.createElement(a,e):void 0}},90009:(e,t,a)=>{"use strict";a.a(e,async(e,n)=>{try{a.d(t,{A:()=>M});var s=a(84051),r=a(13439),o=a(90709),i=a(27109),c=a(60919),l=a(96454),d=a(87357),m=a(66414),u=a(4961),p=a(37661),h=a(17712),A=a(59030),g=a(23964),y=a(90571),f=a(54746),v=a(81642),E=a(38102),b=a(94189),w=a(22720),x=a(97046),C=a(24807),N=a(77293),I=e([A,g,y,v,E,b,w,C]);[A,g,y,v,E,b,w,C]=I.then?(await I)():I;const S=({topic:e,isSelected:t,chatId:a,chat:n,isChatMuted:i,style:c,lastMessage:I,lastMessageStory:S,canScrollDown:M,lastMessageOutgoingStatus:k,observeIntersection:T,canDelete:P,lastMessageSender:L,animationType:B,withInterfaceAnimations:R,orderDiff:D,typingStatus:F,draft:O,wasTopicOpened:z,topics:U})=>{const{openThread:j,deleteTopic:V,focusLastMessage:J,setViewForumAsMessages:H}=(0,r.ko)(),$=(0,A.A)(),[K,G,_]=(0,p.A)(),[q,W,Z]=(0,p.A)(),[Y,Q,X]=(0,p.A)(),[ee,te,ae]=(0,p.A)(),{isPinned:ne,isClosed:se,notifySettings:re}=e,oe=Boolean(re.mutedUntil||void 0===re.mutedUntil&&i),ie=(0,h.A)(()=>{Q(),G()}),ce=(0,h.A)(()=>{V({chatId:n.id,topicId:e.id})}),le=(0,h.A)(()=>{te(),W()}),{renderSubtitle:de,ref:me}=(0,g.A)({chat:n,chatId:a,lastMessage:I,draft:O,lastMessageSender:L,lastMessageTopic:e,observeIntersection:T,isTopic:!0,typingStatus:F,topics:U,statefulMediaContent:(0,o.FE)({story:S}),animationType:B,withInterfaceAnimations:R,orderDiff:D}),ue=(0,h.A)(()=>{j({chatId:a,threadId:e.id,shouldReplaceHistory:!0}),H({chatId:a,isEnabled:!1}),M&&J()}),pe=(0,y.A)({topic:e,chat:n,isChatMuted:i,wasOpened:z,canDelete:P,handleDelete:ie,handleMute:le});return s.Ay.createElement(w.A,{className:(0,d.A)(N.A.root,"Chat",t&&"selected","chat-item-clickable"),onClick:ue,style:c,href:l.OS?`#${(0,m.az)(a,"thread",e.id)}`:void 0,contextActions:pe,withPortalForMenu:!0,ref:me},s.Ay.createElement("div",{className:"info"},s.Ay.createElement("div",{className:"info-row"},s.Ay.createElement("div",{className:(0,d.A)("title")},s.Ay.createElement(E.A,{topic:e,className:N.A.topicIcon,observeIntersection:T}),s.Ay.createElement("h3",{dir:"auto",className:"fullName"},(0,u.A)(e.title))),Boolean(re.mutedUntil)&&s.Ay.createElement(f.A,{name:"muted"}),s.Ay.createElement("div",{className:"separator"}),se&&s.Ay.createElement(f.A,{name:"lock-badge",className:N.A.closedIcon}),I&&s.Ay.createElement(v.A,{message:I,outgoingStatus:k})),s.Ay.createElement("div",{className:"subtitle"},de(),s.Ay.createElement(C.A,{chat:n,isPinned:ne,isMuted:oe,topic:e,wasTopicOpened:z,topics:U}))),Y&&s.Ay.createElement(b.A,{isOpen:K,onClose:_,onCloseAnimationEnd:X,confirmIsDestructive:!0,confirmHandler:ce,text:$("lng_forum_topic_delete_sure"),confirmLabel:$("Delete")}),ee&&s.Ay.createElement(x.A,{isOpen:q,onClose:Z,onCloseAnimationEnd:ae,chatId:a,topicId:e.id}))},M=(0,s.ph)((0,r.EK)((e,{chatId:t,topic:a,isSelected:n})=>{const s=(0,c.hds)(e,t),r=(0,c.O5q)(e,t,a.lastMessageId),{isOutgoing:o}=r||{},l=r&&(0,c.Y7C)(e,r),d=(0,c.C5H)(e,t,a.id,"typingStatus"),m=(0,c.GA4)(e,t,a.id),u=(0,c.Vw0)(e,t,a.id),p=Boolean(u?.lastReadInboxMessageId),h=(0,c.pSx)(e,t),{chatId:A,threadId:g}=(0,c.Xf0)(e)||{},y=r?.content.storyData,f=y&&(0,c.Msb)(e,y.peerId,y.id);return{chat:s,lastMessage:r,lastMessageSender:l,typingStatus:d,isChatMuted:s&&(0,i.If)(s,(0,c.K52)(e),(0,c.P5N)(e,s.id)),canDelete:(0,c.DBV)(e,t,a.id),withInterfaceAnimations:(0,c.PKK)(e),draft:m,...o&&r&&{lastMessageOutgoingStatus:(0,c.Tl2)(e,r)},canScrollDown:n&&s?.id===A&&g===a.id,wasTopicOpened:p,topics:h,lastMessageStory:f}})(S));n()}catch(e){n(e)}})},90423:(e,t,a)=>{"use strict";a.d(t,{Ay:()=>i,j9:()=>d,zk:()=>c});var n=a(84051),s=a(31791),r=a(96454);const o=l();function i(e,t,a){const[s,i]=(0,n.J0)(Boolean(o&&document[o]));return(0,n.Nf)(()=>{const n=e.current,s=()=>{const e=Boolean(o&&document[o]);i(e),e?a?.(!1):t?.(!1),n instanceof HTMLVideoElement&&(n.controls=e)},r=()=>{i(!0),a&&a(!0)},c=()=>{i(!1),t&&t(!1)};return document.addEventListener("fullscreenchange",s,!1),document.addEventListener("webkitfullscreenchange",s,!1),document.addEventListener("mozfullscreenchange",s,!1),n&&(n.addEventListener("webkitbeginfullscreen",r,!1),n.addEventListener("webkitendfullscreen",c,!1)),()=>{document.removeEventListener("fullscreenchange",s,!1),document.removeEventListener("webkitfullscreenchange",s,!1),document.removeEventListener("mozfullscreenchange",s,!1),n&&(n.removeEventListener("webkitbeginfullscreen",r,!1),n.removeEventListener("webkitendfullscreen",c,!1))}},[]),o||r.pz?[s,()=>{var t;e.current&&(o||r.pz)&&!s&&((t=e.current).requestFullscreen?t.requestFullscreen():t.webkitRequestFullscreen?t.webkitRequestFullscreen():t.webkitEnterFullscreen?t.webkitEnterFullscreen():t.mozRequestFullScreen&&t.mozRequestFullScreen(),i(!0))},()=>{e.current&&(document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitCancelFullScreen?document.webkitCancelFullScreen():document.webkitExitFullscreen&&document.webkitExitFullscreen(),i(!1))}]:[!1]}const c=()=>{const[e,t]=(0,n.J0)(!1);return(0,n.vJ)(()=>{const e=()=>{t(d())},a=window.electron?.on(s.v.FULLSCREEN_CHANGE,t);return window.electron?.isFullscreen().then(t),document.addEventListener("fullscreenchange",e,!1),document.addEventListener("webkitfullscreenchange",e,!1),document.addEventListener("mozfullscreenchange",e,!1),()=>{a?.(),document.removeEventListener("fullscreenchange",e,!1),document.removeEventListener("webkitfullscreenchange",e,!1),document.removeEventListener("mozfullscreenchange",e,!1)}},[]),e};function l(){return void 0!==document.fullscreenElement?"fullscreenElement":void 0!==document.mozFullScreenElement?"mozFullScreenElement":void 0!==document.webkitFullscreenElement?"webkitFullscreenElement":""}function d(){const e=l();return Boolean(e&&document[e])}},90571:(e,t,a)=>{"use strict";a.a(e,async(e,n)=>{try{a.d(t,{A:()=>u});var s=a(84051),r=a(13439),o=a(90709),i=a(96454),c=a(87894),l=a(59030),d=e([l]),m=d.then?(await d)():d;function u({topic:e,chat:t,isChatMuted:a,wasOpened:n,canDelete:d,handleDelete:m,handleMute:u}){const p=(0,l.A)();return(0,s.Kr)(()=>{const{isPinned:s,notifySettings:l,isClosed:h,id:A}=e,g=t.id,{editTopic:y,toggleTopicPinned:f,markTopicRead:v,updateTopicMutedState:E,openChatInNewTab:b}=(0,r.ko)(),w=(0,o.l1)(t,e),x=t.isCreator||(0,o.ub)(t,"manageTopics"),C=i.OS&&{title:"Open in new tab",icon:"open-in-new-tab",handler:()=>{b({chatId:t.id,threadId:A})}},N=e.unreadCount||!n?{title:p("MarkAsRead"),icon:"readchats",handler:()=>{v({chatId:g,topicId:A})}}:void 0,I=x?s?{title:p("UnpinFromTop"),icon:"unpin",handler:()=>f({chatId:g,topicId:A,isPinned:!1})}:{title:p("PinToTop"),icon:"pin",handler:()=>f({chatId:g,topicId:A,isPinned:!0})}:void 0,S=a&&void 0===l.mutedUntil||l.mutedUntil?{title:p("ChatList.Unmute"),icon:"unmute",handler:()=>E({chatId:g,topicId:A,isMuted:!1})}:{title:`${p("ChatList.Mute")}...`,icon:"mute",handler:u},M=w?h?{title:p("lng_forum_topic_reopen"),icon:"reopen-topic",handler:()=>y({chatId:g,topicId:A,isClosed:!1})}:{title:p("lng_forum_topic_close"),icon:"close-topic",handler:()=>y({chatId:g,topicId:A,isClosed:!0})}:void 0,k=d?{title:p("lng_forum_topic_delete"),icon:"delete",destructive:!0,handler:m}:void 0;return(0,c.oE)([C,I,N,S,M,k])},[e,t,a,n,p,d,m,u])}l=m[0],n()}catch(p){n(p)}})},90672:(e,t,a)=>{"use strict";a.a(e,async(e,n)=>{try{a.d(t,{N:()=>u});var s=a(96540),r=a(13439),o=a(90709),i=a(60919),c=a(81885),l=a(15972),d=a(9716),m=e([c,l]);[c,l]=m.then?(await m)():m;const u=({message:e})=>{const[t,a]=(0,s.useState)([]),n=(0,r.mS)(),m=(0,c.A)();return(0,s.useEffect)(()=>{try{const t=JSON.parse(e.content);a(t||[])}catch(e){console.log(e)}},[e]),0===t.length?s.createElement("span",null,"æœªæ‰¾åˆ°ç›¸å…³ç¾¤ç»„"):s.createElement("div",{className:"p-[10px] mx-[22px] rounded-[16px] border-[1px] border-[#D9D9D9] bg-white dark:bg-[#292929]"},s.createElement("div",{className:"flex flex-col gap-[12px]"},t.splice(0,10).map(e=>s.createElement(s.Fragment,null,(e=>{if((0,d.L8)(e))return null;let t,a;const c=(0,i.hds)(n,e);return c?(t=c?.membersCount,a=(0,o.Js)(m,c),s.createElement("div",{className:"flex flex-row items-center gap-[8px] cursor-pointer px-[12px] py-[8px] rounded-[12px] hover:bg-[#D9D9D9]",onClick:()=>{(e=>{(0,i.hds)(n,e)&&(0,r.ko)().openChat({id:e})})(e)}},s.createElement(l.A,{key:e,className:"overlay-avatar inline-block cursor-pointer",size:44,peer:c}),s.createElement("div",{className:"flex flex-col justify-center gap-[4px]"},s.createElement("span",{className:"text-[15px] font-semibold text-black leading-[18px]"},a),s.createElement("span",{className:"text-[14px] text-[#5E6272] leading-[18px]"},t," Members")))):null})(e)))))};n()}catch(e){n(e)}})},91289:(e,t,a)=>{"use strict";a.a(e,async(e,n)=>{try{a.d(t,{A:()=>f});var s=a(84051),r=a(13439),o=a(90709),i=a(60919),c=a(60343),l=a(87469),d=a(94617),m=a(17712),u=a(51644),p=a(25477),h=e([u,p]);[u,p]=h.then?(await h)():h;const A=(0,d.A)(u.A),g=(0,d.A)(p.A),y=({album:e,observeIntersection:t,hasCustomAppendix:a,isOwn:n,isProtected:d,albumLayout:u,onMediaClick:p,uploadsByKey:h,activeDownloads:y,theme:f})=>{const{cancelUploadMedia:v}=(0,r.ko)(),{content:{paidMedia:E}}=e.mainMessage,b=e.isPaidMedia?E.extendedMedia.length:e.messages.length,w=(0,m.A)(t=>{p(e.mainMessage.id,t)}),x=(0,m.A)(e=>{p(e)}),C=(0,m.A)(t=>{v({chatId:e.mainMessage.chatId,messageId:t})}),N=(0,s.Kr)(()=>e.isPaidMedia?e.mainMessage.content.paidMedia.extendedMedia.map(()=>e.mainMessage):e.messages,[e]),{width:I,height:S}=u.containerStyle;return s.Ay.createElement("div",{className:"Album",style:`width: ${I}px; height: ${S}px;`},N.map(function(m,p){const v=e.isPaidMedia?m.content.paidMedia?.extendedMedia[p]:void 0,E=v&&"mediaType"in v?v:v?.photo,N=v&&"mediaType"in v?v:v?.video,I=E||(0,o.yl)(m),S=N||(0,o.r_)(m).video,M=h[(0,c.bj)(m)],k=M?.progress,{dimensions:T,sides:P}=u.layout[p],L=(0,i.wwb)((0,r.mS)(),m),B=(0,i.OEt)((0,r.mS)(),m);if(I){const r=a&&(n?p===b-1:Boolean(P&l.Z.Left&&P&l.Z.Bottom));return s.Ay.createElement(A,{id:`album-media-${(0,o.GZ)(m.id,e.isPaidMedia?p:void 0)}`,photo:I,isOwn:n,observeIntersectionForLoading:t,canAutoLoad:L,shouldAffectAppendix:r,uploadProgress:k,dimensions:T,isProtected:d,clickArg:e.isPaidMedia?p:m.id,onClick:e.isPaidMedia?w:x,onCancelUpload:C,isDownloading:"extendedMediaPreview"!==I.mediaType&&(0,o.$r)(y,I),theme:f,noSelectControls:e.isPaidMedia})}if(S)return s.Ay.createElement(g,{id:`album-media-${(0,o.GZ)(m.id)}`,video:S,observeIntersectionForLoading:t,canAutoLoad:L,canAutoPlay:B,uploadProgress:k,dimensions:T,isProtected:d,clickArg:e.isPaidMedia?p:m.id,onClick:e.isPaidMedia?w:x,onCancelUpload:C,isDownloading:"extendedMediaPreview"!==S.mediaType&&(0,o.$r)(y,S),theme:f,noSelectControls:e.isPaidMedia})}))},f=(0,r.EK)(e=>{const t=(0,i.SJA)(e),a=(0,i.yuw)(e);return{theme:t,uploadsByKey:e.fileUploads.byMessageKey,activeDownloads:a}})(y);n()}catch(e){n(e)}})},91930:(e,t,a)=>{"use strict";a.a(e,async(e,n)=>{try{a.d(t,{A:()=>F,b:()=>D});var s=a(84051),r=a(31481),o=a(90709),i=a(3544),c=a(70636),l=a(87357),d=a(17663),m=a(9716),u=a(91034),p=a(48775),h=a(76023),A=a(4961),g=a(15384),y=a(35749),f=a(2338),v=a(11217),E=a(5912),b=a(39351),w=a(62587),x=a(59030),C=a(64154),N=a(42452),I=a(54746),S=a(46256),M=a(18653),k=a(93700),T=e([i,c,g,b,w,x,S,M,k]);[i,c,g,b,w,x,S,M,k]=T.then?(await T)():T;const P="Â ",L=17,B=({className:e,message:t,replyInfo:a,suggestedPostInfo:n,sender:u,senderChat:h,forwardSender:S,composerForwardSenders:T,title:B,customText:D,isProtected:F,isInComposer:O,noUserColors:z,chatTranslations:U,requestedChatTranslationLanguage:j,isMediaNsfw:V,observeIntersectionForLoading:J,observeIntersectionForPlaying:H,onClick:$})=>{const K=(0,s.li)(),G=(0,E.Vz)(K,J),_=(0,s.Kr)(()=>{const e="message"===a?.type&&a.replyMedia||t?.content;if(e)return{content:e}},[t,a]),q=_?.content?.video?.isGif?_.content.video:void 0,W=Boolean(q&&!q.previewPhotoSizes?.length),Z=(0,y.A)(_,W?"full":"pictogram"),Y=(0,w.A)(Z,!G),Q=(0,f.A)(_),X=Boolean(_&&(0,o.lk)(_)),ee=Boolean(_&&(0,o.y2)(_))||V,te=Boolean("message"===a?.type&&a.isQuote),ae="message"===a?.type?a.replyFrom:void 0,ne=t&&(0,o.ZR)(t),{translatedText:se}=(0,C.A)(U,t?.chatId,ne?t?.id:void 0,j),re=(0,x.A)(),oe=(0,b.A)(),ie=u?(0,c.F9)(re,u):ae?.hiddenUserName||t?.forwardInfo?.hiddenUserName,ce=(0,s.Kr)(()=>{if(!T)return;const e=T.map(e=>(0,c.F9)(oe,e)).filter(Boolean);return oe.conjunction(e)},[T,oe]),le=h?(0,c.F9)(re,h):void 0,de=S?(0,c.F9)(re,S):t?.forwardInfo?.hiddenUserName,me=u&&u.id===S?.id,{handleClick:ue,handleMouseDown:pe}=(0,v.Q)($);return s.Ay.createElement(k.A,{peer:u,emojiIconClassName:"EmbeddedMessage--background-icons",ref:K,shouldReset:!0,noUserColors:z,className:(0,l.A)("EmbeddedMessage",e,te&&"is-quote",Q&&"with-thumb","no-selection",T&&"is-input-forward",n&&"is-suggested-post"),dir:oe.isRtl?"rtl":void 0,onClick:ue,onMouseDown:pe},s.Ay.createElement("div",{className:"hover-effect"}),s.Ay.createElement(N.A,null),Q&&R(Q,Y,W,X,F,ee),s.Ay.createElement("div",{className:"message-text"},s.Ay.createElement("p",{className:(0,l.A)("embedded-text-wrapper",te&&"multiline")},function(){if(n){if(!n?.price?.amount&&!n.scheduleDate)return oe("ComposerEmbeddedMessageSuggestedPostDescription");const e=n.price?n.price.currency===r.ykW?(0,p.Ms)(oe,n.price.amount,{className:"suggested-price-ton-icon",shouldConvertFromNanos:!0}):(0,p.U2)(oe,n.price.amount,{className:"suggested-price-star-icon"}):"",t=n.scheduleDate?(0,d.e0)(n.scheduleDate,oe,re):"";return e&&!t?s.Ay.createElement("span",{className:"suggested-post-price-wrapper"},oe("TitleSuggestedPostAmountForAnyTime",{amount:e},{withNodes:!0,withMarkdown:!0})):s.Ay.createElement("span",{className:"suggested-post-price-wrapper"},e,t?` â€¢ ${t}`:"")}return"message"===a?.type&&a.quoteText?(0,g.fd)({text:a.quoteText.text,entities:a.quoteText.entities,asPreview:!0,emojiSize:L}):t?s.Ay.createElement(M.A,{message:t,noEmoji:Boolean(Q),translatedText:se,observeIntersectionForLoading:J,observeIntersectionForPlaying:H,emojiSize:L}):D||function(e){if(!e||e.content.text)return P;const t=(0,i.GG)(re,e.content,{});return t&&t!==r.bVP?s.Ay.createElement("span",null,(0,A.A)(t)):P}(_)||P}()),s.Ay.createElement("div",{className:"message-title"},function(){if(B)return(0,A.A)(B);if(n&&a)return oe("TitleSuggestedChanges");if(n)return oe("ComposerEmbeddedMessageSuggestedPostTitle");if(!ie&&!ce)return P;let e;h&&((0,o.WX)(h)&&(e="channel-filled"),(0,o.YE)(h)&&(e="group-filled"));const t=O&&Boolean(a&&"quoteText"in a&&a?.quoteText);return s.Ay.createElement("span",{className:"embedded-sender-wrapper"},(!h||!!(0,m.L8)(h?.id)||h.id!==u?.id)&&s.Ay.createElement("span",{className:"embedded-sender"},!T&&ie&&(0,A.A)(t?re("ReplyToQuote",ie):ie),ce&&(0,A.A)(oe("ComposerTitleForwardFrom",{users:ce},{withNodes:!0,withMarkdown:!0}))),e&&s.Ay.createElement(I.A,{name:e,className:"embedded-chat-icon"}),e&&le&&s.Ay.createElement("span",{className:"embedded-sender-chat"},(0,A.A)(le)))}(),de&&!me&&s.Ay.createElement("span",{className:"embedded-forward-sender-wrapper"},s.Ay.createElement(I.A,{name:S?"share-filled":"forward",className:"embedded-origin-icon"}),s.Ay.createElement("span",{className:"forward-sender-title"},(0,A.A)(de))))))};function R(e,t,a,n,r,o){const{width:i,height:c}=(0,h.mr)(),d=t||e,m=a&&t;return s.Ay.createElement("div",{className:(0,l.A)("embedded-thumb",n&&"round")},!o&&!m&&s.Ay.createElement("img",{src:d,width:i,height:c,alt:"",className:"pictogram",draggable:!1}),!o&&m&&s.Ay.createElement("video",{src:t,width:i,height:c,playsInline:!0,disablePictureInPicture:!0,className:"pictogram"}),s.Ay.createElement(S.A,{thumbDataUri:m?e:d,isVisible:Boolean(o),width:i,height:c}),r&&s.Ay.createElement("span",{className:"protector"}))}const D=(0,u.A)(B),F=B;n()}catch(O){n(O)}})},92111:(e,t,a)=>{"use strict";a.a(e,async(e,n)=>{try{a.d(t,{A:()=>M});var s=a(84051),r=a(13439),o=a(23174),i=a(90709),c=a(60919),l=a(39761),d=a(87679),m=a(74167),u=a(95704),p=a(37836),h=a(46051),A=a(66991),g=e([m,u,A]);[m,u,A]=g.then?(await g)():g;const y={},f=5,v=1e3,E=2097152,b=1e3,w=(0,p.v7)(b);function x(e,t){(0,s.vJ)(()=>{void 0!==e&&(Array.isArray(e)?e:[e]).forEach(e=>{const a=t||(0,r.mS)().stories.byPeerId[e]?.orderedIds?.[0];a&&(async e=>{await w,e.forEach(({hash:e,format:t,isStream:a})=>{a?S(e):m.hd(e,t).then(e=>{e&&(t===o.qZ.Progressive&&I(e),t===o.qZ.BlobUrl&&(0,d.NN)(e))})})})(N(e,a))})},[t,e])}function C(e,t,a){const n=e.indexOf(t),s=Math.max(n-a,0),r=Math.min(n+a,e.length);return e.slice(s,r)}function N(e,t){const a=(0,c._bp)((0,r.mS)(),e);if(!a||!a.orderedIds?.length)return[];const n=C(a.orderedIds,t,f),s=[];return n.forEach(t=>{if(y[e]?.has(t))return;const n=a.byId[t];if(!n||!("content"in n))return;const r=Boolean(n.content.video);s.push({hash:(0,i.EN)(n,"full"),format:r?o.qZ.Progressive:o.qZ.BlobUrl,isStream:r&&(0,A.c)(h.G)}),s.push({hash:(0,i.EN)(n),format:o.qZ.BlobUrl}),n.content.altVideos&&s.push({hash:(0,i.EN)(n,"full",!0),format:o.qZ.Progressive}),y[e]=(y[e]||new Set).add(t)}),s}function I(e){const t=document.head,a=document.createElement("video");a.preload="auto",a.src=e,a.muted=!0,a.autoplay=!0,a.disableRemotePlayback=!0,a.style.display="none",t.appendChild(a),a.load(),setTimeout(()=>{(0,l.A)(a),t.removeChild(a)},v)}async function S(e){const t=(0,u.h)((0,m.RB)(e));let a=0;for await(const e of t)if(a+=e.byteLength,a>=E)break}const M=x;n()}catch(k){n(k)}})},92608:(e,t,a)=>{"use strict";a.d(t,{A:()=>n});const n={root:"mklnEg0s",compact:"VGmPJoga",image:"tT8KQwg0"}},93045:(e,t,a)=>{"use strict";a.a(e,async(e,n)=>{try{a.d(t,{A:()=>A});var s=a(84051),r=a(13439),o=a(87357),i=a(77787),c=a(17712),l=a(59030),d=a(62504),m=a(22720),u=e([l,d,m]);[l,d,m]=u.then?(await u)():u;const p=()=>s.Ay.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:12,height:3,fill:"none"},s.Ay.createElement("path",{fill:"currentColor",d:"M1.268 0a1.267 1.267 0 1 1-.002 2.534A1.267 1.267 0 0 1 1.268 0Zm4.435 0a1.268 1.268 0 1 1 0 2.536 1.268 1.268 0 0 1 0-2.536Zm4.437 0a1.268 1.268 0 1 1 0 2.535 1.268 1.268 0 0 1 0-2.535Z"})),h=({user:e})=>{const t=(0,l.A)(),{openUserPortrait:a}=(0,r.ko)(),[n,u]=(0,s.J0)(),h=(0,c.A)(()=>{a({userId:e?.id})}),A=(0,s.hb)(async e=>{if(!e)return;const t=await(i.zs.userPortrait?.getUserPortrait(e));u(t||void 0)},[]);return(0,s.vJ)(()=>{A(e?.id)},[e?.id,A]),s.Ay.createElement(m.A,{icon:"portrait-large-icon",iconClassName:(0,o.A)(n?.tags?.length?"pb-[40px]":""),multiline:!0,narrow:!0,ripple:!0,onClick:h},s.Ay.createElement("span",{className:"title"},s.Ay.createElement("span",{className:"font-[600]"},(e?.firstName||"")+(e?.lastName||"")),"â€˜s portrait"),n?.tags&&n?.tags?.length>0&&s.Ay.createElement("div",{className:"flex items-center gap-1 my-1"},n?.tags?.slice(0,1)?.map((e,t)=>s.Ay.createElement("div",{className:"flex items-center justify-center px-2 rounded-[4px] h-[24px] text-[12px] font-[500]",style:`background: ${d.s[t]}`},e)),n?.tags?.length>1&&s.Ay.createElement("div",{className:"flex items-center justify-center px-2 rounded-[4px] h-[24px]",style:`background: ${d.s[1]}`},s.Ay.createElement(p,null))),s.Ay.createElement("span",{className:"subtitle"},t("User Portrait")))},A=(0,s.ph)(h);n()}catch(e){n(e)}})},93053:(e,t,a)=>{"use strict";a.a(e,async(e,n)=>{try{a.d(t,{A:()=>u});var s=a(84051),r=a(48775),o=a(39351),i=a(19806),c=a(94189),l=a(8079),d=e([o,i,c]);[o,i,c]=d.then?(await d)():d;const m=({isOpen:e,onClose:t,userName:a,messagePriceInStars:n,messagesCount:d,shouldAutoApprove:m,setAutoApprove:u,confirmHandler:p})=>{const h=(0,o.A)(),A=h("ConfirmationModalPaymentForMessage",{user:a,amount:(0,r.Kk)(h,n),totalAmount:(0,r.Kk)(h,n*d),count:d},{withMarkdown:!0,withNodes:!0,pluralValue:d}),g=h("PayForMessage",{count:d},{withNodes:!0,pluralValue:d});return s.Ay.createElement(c.A,{title:h("TitleConfirmPayment"),confirmLabel:g,isOpen:e,onClose:t,confirmHandler:p},A,s.Ay.createElement(i.A,{className:l.A.checkBox,label:h("DoNotAskAgain"),checked:m,onCheck:u}))},u=(0,s.ph)(m);n()}catch(e){n(e)}})},93452:(e,t,a)=>{"use strict";a.a(e,async(e,n)=>{try{a.d(t,{A:()=>h});var s=a(84051),r=a(13439),o=a(60919),i=a(87357),c=a(76023),l=a(58734),d=a(29983),m=a(46402),u=e([l,d,m]);[l,d,m]=u.then?(await u)():u;const p=({isOwn:e,customEmojiId:t,messageId:a,chatId:n,activeEmojiInteractions:r,sticker:o,effect:u,soundId:p,noPlay:h,observeIntersection:A})=>{const{ref:g,size:y,style:f,handleClick:v}=(0,d.A)(n,a,p,r,e,u?.emoji,(0,l.Rr)(1));return s.Ay.createElement(m.A,{ref:g,documentId:t,className:(0,i.A)("AnimatedEmoji media-inner",o?.id===c.AC&&"like-sticker-thumb"),style:f,size:y,isBig:!0,noPlay:h,withSharedAnimation:!0,forceOnHeavyAnimation:Boolean(u&&r?.length),observeIntersectionForLoading:A,onClick:v})},h=(0,s.ph)((0,r.EK)((e,{customEmojiId:t,withEffects:a})=>{const n=e.customEmojis.byId[t];return{sticker:n,effect:n?.emoji&&a?(0,o.Nr8)(e,n.emoji):void 0,soundId:n?.emoji&&(0,o.tKM)(e,n.emoji),noPlay:!(0,o.BWX)(e)}})(p));n()}catch(e){n(e)}})},93668:(e,t,a)=>{"use strict";a.d(t,{A:()=>n});const n={anchor:"IYu2f7FM",mirrorAnchor:"GsTZawTE",root:"McmbiWZE",mirror:"wNvU2uqi"}},93809:(e,t,a)=>{"use strict";a.d(t,{A:()=>o});var n=a(84051),s=a(30857),r=a(35297);function o(e,t){const a=void 0===t,o=(0,n.li)(a),i=(0,n.li)(),c=(0,s.A)();return(0,r.A)(()=>{a||(o.current=!1,i.current&&(clearTimeout(i.current),i.current=void 0))},e),(0,n.vJ)(()=>{if(a||o.current)return;const e=()=>{o.current=!0,c()};t>0?i.current=window.setTimeout(e,t):e()},e),o.current}},93846:(e,t,a)=>{"use strict";a.d(t,{A:()=>n});const n={root:"AAHWWWvU","info-container":"tpDpg82n",infoContainer:"tpDpg82n",info:"fpYynE5s",name:"_PNTJc_V",phone:"JP_3wes8",divider:"_OSJcuqH",buttons:"Blui4M4G",button:"ReDHhQHm",disabled:"XAeKpuIZ","emoji-icon-background":"SjZYi3sJ",emojiIconBackground:"SjZYi3sJ"}},94617:(e,t,a)=>{"use strict";a.d(t,{A:()=>l});var n=a(84051),s=a(13439),r=a(60919),o=a(87357),i=a(17712),c=a(54746);function l(e){return(0,n.ph)((0,s.EK)((e,t)=>{const{clickArg:a,noSelectControls:n}=t;return{isInSelectMode:!n&&(0,r.rTV)(e),isSelected:!n&&(0,r.H1_)(e,a)}})(t=>{const{isInSelectMode:a,isSelected:r,dimensions:l,clickArg:d}=t,{toggleMessageSelection:m}=(0,s.ko)(),u=(0,i.A)(e=>{e.stopPropagation(),m({messageId:d,withShift:e?.shiftKey})}),p=(0,n.Kr)(()=>{const{dimensions:e,onClick:n}=t;return{...t,isInSelectMode:a,isSelected:r,dimensions:{...e,x:0,y:0},onClick:a?void 0:n}},[t,a,r]);return n.Ay.createElement("div",{className:(0,o.A)("album-item-select-wrapper",r&&"is-selected"),style:l?`left: ${l.x}px; top: ${l.y}px;`:"",onClick:a?u:void 0},a&&n.Ay.createElement("div",{className:"message-select-control"},r&&n.Ay.createElement(c.A,{name:"select"})),n.Ay.createElement(e,p))}))}},95362:(e,t,a)=>{"use strict";a.d(t,{A:()=>c});var n=a(37836);const s=10,r=1e3;let o=[],i=!1;function c(e,t){o.push({url:e,filename:t}),i||(i=!0,setTimeout(async()=>{await async function(){let e=0;for(const t of o)l(t),e++,e===s&&(await(0,n.v7)(r),e=0);o=[]}(),i=!1},r))}function l({url:e,filename:t}){const a=document.createElement("a");a.href=e,a.target="_blank",a.rel="noopener noreferrer",a.download=t;try{a.click()}catch(e){console.error(e)}}},95704:(e,t,a)=>{"use strict";a.a(e,async(e,n)=>{try{a.d(t,{h:()=>h});var s=a(23174),r=a(24021),o=e([r]),i=o.then?(await o)():o;r=i[0];const c=1048576,l=.25*c,d=5*c-1,m=new Map,u=new Map,p=new Map;async function*h(e,t=0,a=l){const n=e.match(/fileSize=(\d+)/);let o;for(o=n?n&&Number(n[1]):u.get(e);;){if(o&&t>=o)return;let n=t+a-1;o&&n>o&&(n=o-1);const i=`${e}:${t}-${n}`;let c=m.get(i);if(!c){let a=p.get(i);a||(a=(0,r.px)("downloadMedia",{mediaFormat:s.qZ.Progressive,url:e,start:t,end:n}),p.set(i,a));const l=await a.finally(()=>{p.delete(i)});if(!l?.arrayBuffer)return;l.fullSize&&!o&&(o=l.fullSize,u.set(e,l.fullSize)),c=l.arrayBuffer,n<=d&&m.set(i,l.arrayBuffer)}yield c,t=n+1}}n()}catch(A){n(A)}})},97046:(e,t,a)=>{"use strict";a.d(t,{A:()=>o});var n=a(84051),s=a(80089),r=a(80464);const o=e=>{const{isOpen:t}=e,a=(0,r.A)(s.ar.Extra,"MuteChatModal",!t);return a?n.Ay.createElement(a,e):void 0}},97967:(e,t,a)=>{"use strict";a.d(t,{A:()=>o});var n=a(84051),s=a(80089),r=a(80464);const o=e=>{const{isOpen:t}=e,a=(0,r.A)(s.ar.Extra,"ChatFolderModal",!t);return a?n.Ay.createElement(a,e):void 0}},98196:()=>{},98474:(e,t,a)=>{"use strict";a.a(e,async(e,n)=>{try{a.d(t,{A:()=>b});var s=a(84051),r=a(13439),o=a(31481),i=a(90709),c=a(78396),l=a(80539),d=a(55153),m=a(11951),u=a(45761),p=a(39351),h=e([p]),A=h.then?(await h)():h;p=A[0];const g="text/html",y="urn:schemas-microsoft-com:office:word",f="xmlns:w",v=new Set([o.CfG,o.e0F,o.YVZ]),E="div[contenteditable]",b=(e,t,a,n,o,h,A)=>{const{showNotification:b}=(0,r.ko)(),w=(0,p.A)();(0,s.vJ)(()=>{if(e)return document.addEventListener("paste",s,!1),()=>{document.removeEventListener("paste",s,!1)};async function s(e){if(!e.clipboardData)return;const s=e.target?.closest(E);if(!s||!v.has(s.id))return;if(e.preventDefault(),document.activeElement!==s)return;const r=e.clipboardData.getData("text"),p=e.clipboardData.getData("text/html");let x=p?(0,l.Ay)((0,m._)(p),void 0,!0):void 0;x&&(0,c.T8)(x)&&h&&(x=(0,c.m4)(x),A?.());const{items:C}=e.clipboardData;let N=[];if(C.length>0&&(N=await(0,u.A)(C),o&&(N=N?.slice(0,1))),!N?.length&&!r)return;const I=x?.entities?.length?x:{text:r};let S=!1;try{S=(new DOMParser).parseFromString(p,g).documentElement.getAttribute(f)===y}catch(e){}const M=I&&I.text;let k=N?.length&&!S;const T=N?await Promise.all(N.map(e=>(0,d.A)(e.name,e))):[],P=o&&T?.length&&(0,i.eh)(o,T[0])||Boolean(M),L=(0,i.NK)(T[0]),B=o&&o?.groupedId;o&&T?.length>1?b({message:w("MediaReplaceInvalidError",void 0,{pluralValue:T.length})}):o&&L?b({message:w("MediaReplaceInvalidError",void 0,{pluralValue:1})}):!B||(k=P,k)?(k&&a(o?T:e=>e.concat(T)),M&&(k?n(I):t(I,s?.id))):b({message:w("MediaReplaceInvalidError",void 0,{pluralValue:T.length})})}},[t,o,a,e,h,A,n,w])};n()}catch(e){n(e)}})},98512:(e,t,a)=>{"use strict";a.a(e,async(e,n)=>{try{a.d(t,{A:()=>C});var s=a(84051),r=a(13439),o=a(90709),i=a(60919),c=a(87357),l=a(2338),d=a(10722),m=a(19129),u=a(39351),p=a(17712),h=a(62587),A=a(34201),g=a(54746),y=a(93700),f=a(64493),v=a(71429),E=a(24433),b=a(73298),w=e([u,h,y,f,E]);[u,h,y,f,E]=w.then?(await w)():w;const x=({chatId:e,threadId:t,isDisabled:a,webPagePreview:n,noWebPage:i,attachmentSettings:w,isEditing:x})=>{const{toggleMessageWebPage:C,updateAttachmentSettings:N}=(0,r.ko)(),I=(0,u.A)(),S=(0,s.li)(),M=w.isInvertedMedia,k="small"===w.webPageMediaSize,T=(0,m.A)(()=>Boolean(n&&!i&&!a),[a,i,n]),{shouldRender:P}=(0,A.A)({isOpen:T,ref:S,withShouldRender:!0}),L="full"===n?.webpageType&&n.hasLargeMedia,B=(0,s.li)(n);n&&n!==B.current&&(B.current=n);const R=n||B.current,D="full"===R?.webpageType,F=(0,l.A)(D?{content:R}:void 0),O=(0,o.eY)(R)||(0,o.rU)(R)||(0,o.y3)(R)||(0,o.rj)(R),z=O&&(0,o.VO)(O,"pictogram"),U=(0,h.A)(z),{shouldRender:j,ref:V}=(0,A.A)({isOpen:Boolean(U),withShouldRender:!0,noCloseTransition:!0}),J=Boolean(U||j),H=(0,p.A)(()=>{C({chatId:e,threadId:t,noWebPage:!0})}),{isContextMenuOpen:$,contextMenuAnchor:K,handleContextMenu:G,handleContextMenuClose:_,handleContextMenuHide:q,handleBeforeContextMenu:W}=(0,d.A)(S,x,!0),Z=(0,p.A)(()=>S.current),Y=(0,p.A)(()=>S.current),Q=(0,p.A)(()=>S.current.querySelector(`.${b.A.contextMenu} .bubble`)),X=(0,p.A)(e=>{G(e)});function ee(e){N({isInvertedMedia:e})}function te(e){N({webPageMediaSize:e})}if((0,s.vJ)(()=>{P&&R||(_(),q())},[_,q,P,R]),P&&R)return s.Ay.createElement("div",{className:(0,c.A)(b.A.root,!x&&b.A.interactive),ref:S},s.Ay.createElement("div",{className:b.A.inner},s.Ay.createElement("div",{className:b.A.leftIcon,onClick:X},s.Ay.createElement(g.A,{name:"link"})),R&&"empty"!==R.webpageType&&s.Ay.createElement(y.A,{noUserColors:!0,className:b.A.preview,onContextMenu:G,onMouseDown:W,onClick:X},J&&s.Ay.createElement("div",{className:b.A.previewImageContainer},F&&s.Ay.createElement("img",{src:F,alt:"",className:b.A.previewImage}),j&&s.Ay.createElement("img",{ref:V,src:U,alt:"",className:b.A.previewImage})),s.Ay.createElement("div",{className:b.A.previewText},s.Ay.createElement("span",{className:b.A.siteName},D?R.siteName||R.url:I("Loading")),s.Ay.createElement("span",{className:b.A.siteDescription},D?R.description||I((ae=R).photo?"AttachPhoto":ae.video?"AttachVideo":ae.audio?"AttachMusic":ae.document?"AttachDocument":ae.story?"AttachStory":"LinkPreview"):R.url))),s.Ay.createElement(f.A,{className:b.A.clear,round:!0,faded:!0,color:"translucent",ariaLabel:I("AccLinkRemovePreview"),onClick:H},s.Ay.createElement(g.A,{name:"close"})),!x&&s.Ay.createElement(v.A,{isOpen:$,anchor:K,getTriggerElement:Z,getRootElement:Y,getMenuElement:Q,className:b.A.contextMenu,onClose:_,onCloseAnimationEnd:q,autoClose:!0},s.Ay.createElement(s.Ay.Fragment,null,M?s.Ay.createElement(E.A,{icon:"move-caption-up",onClick:()=>ee(void 0)},I("ContextMoveTextUp")):s.Ay.createElement(E.A,{icon:"move-caption-down",onClick:()=>ee(!0)},I("ContextMoveTextDown")),L&&(k?s.Ay.createElement(E.A,{icon:"expand",onClick:()=>te("large")},I("ContextLinkLargerMedia")):s.Ay.createElement(E.A,{icon:"collapse",onClick:()=>te("small")},I("ContextLinkSmallerMedia"))),s.Ay.createElement(E.A,{icon:"delete",onClick:H},I("ContextLinkRemovePreview"))))));var ae};const C=(0,s.ph)((0,r.EK)((e,{chatId:t,threadId:a})=>{const n=(0,i.nTw)(e),s=(0,i.rQx)(e,t,a),{attachmentSettings:r}=e,o=n.webPagePreviewId?(0,i.kgA)(e,n.webPagePreviewId):void 0;return{webPagePreview:"empty"===o?.webpageType?void 0:o,noWebPage:s,attachmentSettings:r}})(x));n()}catch(e){n(e)}})},99083:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});var n=a(96540);const s=()=>n.createElement("div",{className:"skeleton-wrapper"},n.createElement("div",{className:"skeleton-text skeleton-line"}),n.createElement("div",{className:"skeleton-text skeleton-line"}),n.createElement("div",{className:"skeleton-text skeleton-line"}))},99299:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});var n=a(96540);class s extends n.Component{constructor(e){super(e),this.state={hasError:!1}}static getDerivedStateFromError(){return{hasError:!0}}componentDidCatch(e,t){console.error("Error caught by ErrorBoundary:",e,t)}render(){const{hasError:e}=this.state,{children:t}=this.props;return e?null:t}}const r=s},99455:(e,t,a)=>{"use strict";a.d(t,{A:()=>o});var n=a(96540);const s=a.p+"schedule-meeting.84e2b3273614570bd641.png",r="text-[15px] text-[var(--color-text)]",o=()=>n.createElement("div",{className:"rounded-[16px] w-[488px] bg-[var(--color-background)]"},n.createElement("img",{src:s,alt:"",className:"w-[490px] h-[259px]"}),n.createElement("div",{className:"py-[14px] px-[12px]"},n.createElement("h3",null,"ðŸ”¥ Meeting Scheduler ðŸ”¥"),n.createElement("ul",{className:"pl-[24px] list-disc"},n.createElement("li",{className:r},"Automatic Detection & Smart Coordination The AI assistant instantly recognizes meeting-related messages, asks for time, participants, and other detailsâ€”all through natural chat flow."),n.createElement("li",{className:r},"Instant Invite Delivery Once confirmed, it auto-generates and sends calendar invites, keeping everyone in sync without ever leaving the conversation."))))},99587:(e,t,a)=>{"use strict";a.a(e,async(e,n)=>{try{a.d(t,{A:()=>x});var s=a(84051),r=a(90709),o=a(96454),i=a(87357),c=a(9716),l=a(14242),d=a(35049),m=a(4961),u=a(43874),p=a(45470),h=a(37661),A=a(62587),g=a(83057),y=a(59030),f=a(65843),v=a(57474),E=a(54746),b=e([A,y]);[A,y]=b.then?(await b)():b;const w=({chat:e,user:t,photo:a,isSavedMessages:n,isSavedDialog:b,canPlayVideo:w,onClick:x})=>{const C=(0,s.li)(),N=(0,y.A)(),{isMobile:I}=(0,u.Ay)(),S=t&&(0,r.PL)(t),M=e&&(0,r.kE)(e.id),k=e&&(0,r.Qe)(e.id),T=t||e,P=T&&!n&&!S&&!M&&!k,{isVideo:L}=a||{},B=(!a||a.id===T.avatarPhotoId)&&(0,r.cP)(T,"normal"),R=P&&a&&!B&&(0,r.rI)(a,"pictogram"),D=(0,A.A)(R||B),F=P&&a&&!L&&(0,r.mU)(a),O=(0,A.A)(F),z=P&&a&&L&&(0,r.Pg)(a),U=(0,A.A)(z)||O,[j,V]=(0,h.A)(),J=Boolean(U&&(!L||j)),H=(0,g.A)(J),$=P&&!J&&!D&&a?.thumbnail?.dataUri,K=(0,p.A)(a?.thumbnail?.dataUri,!$,I&&!o.QH),G=a||D||$;(0,s.vJ)(()=>{C.current&&!w&&(C.current.currentTime=0)},[w]);const _=(0,s.Kr)(()=>n?b?"my-notes":"avatar-saved-messages":S?"avatar-deleted-account":M?"reply-filled":k?"author-hidden":void 0,[k,S,b,M,n]);let q;if(_)q=s.Ay.createElement(E.A,{name:_,role:"img"});else if(G)q=s.Ay.createElement(s.Ay.Fragment,null,$?s.Ay.createElement("canvas",{ref:K,className:"thumb"}):s.Ay.createElement("img",{src:D,draggable:!1,className:"thumb",alt:""}),a&&(L?s.Ay.createElement(f.A,{canPlay:w,ref:C,src:U,className:(0,i.A)("avatar-media",H),muted:!0,disablePictureInPicture:!0,loop:!0,playsInline:!0,onReady:V}):s.Ay.createElement("img",{src:U,className:(0,i.A)("avatar-media",H),alt:""})));else if(t){const e=(0,r.Yg)(t);q=e?(0,l.Qh)(e,2):void 0}else if(e){const t=(0,r.Js)(N,e);q=t&&(0,l.Qh)(t,(0,c.L8)(e.id)?2:1)}else q=s.Ay.createElement("div",{className:"spinner-wrapper"},s.Ay.createElement(v.A,{color:"white"}));const W=(0,i.A)("ProfilePhoto",(0,d.y)(T),n&&"saved-messages",k&&"anonymous-forwards",S&&"deleted-account",M&&"replies-bot-account",!n&&!G&&"no-photo");return s.Ay.createElement("div",{className:W,onClick:G?x:void 0},"string"==typeof q?(0,m.A)(q,["hq_emoji"]):q)},x=(0,s.ph)(w);n()}catch(e){n(e)}})}}]);
//# sourceMappingURL=3702.1d01aae0586ecadf0916.js.map