"use strict";(self.webpackChunkTeleGPT=self.webpackChunkTeleGPT||[]).push([[4565],{537:(e,t,a)=>{a.d(t,{A:()=>r});var n=a(84051);function r(e,t){const a=(0,n.li)(0);return(0,n.Kr)(()=>{t||(a.current+=1)},[...e]),a.current}},1626:(e,t,a)=>{a.d(t,{A:()=>n});const n={content:"KYHkJ9Qf",title:"AwnUe4Qk",value:"JGH6P9Az",table:"DFRB0Ad4",noFooter:"cSamlkt9",cell:"Cnh5ENvm",fullWidth:"UssCZwgy",avatar:"SHQbPR5Y",chatItem:"aS9U4hiQ"}},12418:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.d(t,{A:()=>v});var r=a(84051),i=a(87357),o=a(17142),s=a(14242),c=a(4961),l=a(37661),m=a(39351),f=a(59030),u=a(54746),d=a(9267),A=a(64493),h=a(55560),p=e([m,f,A]);[m,f,A]=p.then?(await p)():p;const b=6,y=({isActive:e,className:t,options:a,selectedStarOption:n,selectedStarCount:p,starsNeeded:y,onClick:v})=>{const g=(0,f.A)(),w=(0,m.A)(),[_,R,T]=(0,l.A)();(0,r.vJ)(()=>{e||T()},[e]);const[S,E]=(0,r.Kr)(()=>{if(!a)return[void 0,!1];const e=a.reduce((e,t)=>e.stars>t.stars?e:t),t=y&&e.stars<y,n=[];let r=0,i=!1;return a.forEach((e,o)=>{e.isExtended||r++,y&&!t&&e.stars<y||(_||!e.isExtended?n.push({option:e,starsCount:Math.min(r,b),isWide:o===a.length-1}):i=!0)}),[n,i]},[_,a,y]);return r.Ay.createElement("div",{className:(0,i.A)(h.A.options,t)},S?.map(({option:e,starsCount:t,isWide:a})=>{const l=S?.length,m=l%2==0,f=e===n;let u;if(e&&"winners"in e){const t=e.winners.find(e=>e.users===p)||e.winners.reduce((e,t)=>t.users>e.users?t:e,e.winners[0]);u=t?.perUserStars}return r.Ay.createElement("div",{className:(0,i.A)(h.A.option,!m&&a&&h.A.wideOption,f&&h.A.active),key:e.stars,onClick:()=>v?.(e)},r.Ay.createElement("div",{className:h.A.optionTop},"+",(0,s.Sm)(e.stars),r.Ay.createElement("div",{className:h.A.stackedStars,dir:w.isRtl?"ltr":"rtl"},Array.from({length:t}).map(()=>r.Ay.createElement(d.A,{className:h.A.stackedStar,type:"gold",size:"big"})))),r.Ay.createElement("div",{className:h.A.optionBottom},(0,o.vv)(w,e.amount,e.currency)),(f||n&&"winners"in n)&&Boolean(u)&&r.Ay.createElement("div",{className:h.A.optionBottom},r.Ay.createElement("div",{className:h.A.perUserStars},(0,c.A)(g("BoostGift.Stars.PerUser",(0,s.Sm)(u))))))}),!_&&E&&r.Ay.createElement(A.A,{className:h.A.moreOptions,isText:!0,noForcedUpperCase:!0,onClick:R},g("Stars.Purchase.ShowMore"),r.Ay.createElement(u.A,{className:h.A.iconDown,name:"down"})))},v=(0,r.ph)(y);n()}catch(e){n(e)}})},23739:(e,t,a)=>{a.d(t,{A:()=>n});const n={root:"hyRfEyRz",top:"p_Ny8jqJ",badge:"QRrryqp4",text:"I5jdPgFL"}},29772:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.d(t,{A:()=>h});var r=a(84051),i=a(13439),o=a(87357),s=a(17712),c=a(21849),l=a(99952),m=a(64493),f=a(8410),u=a(1626),d=e([c,l,m,f]);[c,l,m,f]=d.then?(await d)():d;const A=({isOpen:e,title:t,tableData:a,headerAvatarPeer:n,header:d,modalHeader:A,footer:h,buttonText:p,className:b,hasBackdrop:y,onClose:v,onButtonClick:g,withBalanceBar:w,isLowStackPriority:_,currencyInBalanceBar:R})=>{const{openChat:T}=(0,i.ko)(),S=(0,s.A)(e=>{T({id:e}),v()});return r.Ay.createElement(f.A,{isOpen:e,hasCloseButton:Boolean(t),hasAbsoluteCloseButton:!t,absoluteCloseButtonColor:y?"translucent-white":void 0,isSlim:!0,header:A,title:t,className:b,contentClassName:u.A.content,onClose:v,withBalanceBar:w,currencyInBalanceBar:R,isLowStackPriority:_},n&&r.Ay.createElement(c.A,{peer:n,size:"jumbo",className:u.A.avatar}),d,r.Ay.createElement("div",{className:u.A.table},a?.map(([e,t])=>r.Ay.createElement(r.Ay.Fragment,null,Boolean(e)&&r.Ay.createElement("div",{className:(0,o.A)(u.A.cell,u.A.title)},e),r.Ay.createElement("div",{className:(0,o.A)(u.A.cell,u.A.value,!e&&u.A.fullWidth)},"object"==typeof t&&"chatId"in t?r.Ay.createElement(l.A,{peerId:t.chatId,className:u.A.chatItem,forceShowSelf:!0,withEmojiStatus:t.withEmojiStatus,clickArg:t.chatId,onClick:S}):t)))),h,p&&r.Ay.createElement(m.A,{className:h?void 0:u.A.noFooter,size:"smaller",onClick:g||v},p))},h=(0,r.ph)(A);n()}catch(e){n(e)}})},35307:(e,t,a)=>{a.d(t,{A:()=>n});const n={content:"FuFYE0AA",fixedHeight:"CrEsDylb",withSearch:"WGSZ8u75",header:"iEptOmIp",buttonWrapper:"HqeDTaSr"}},38705:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.d(t,{A:()=>u});var r=a(84051),i=a(87357),o=a(39351),s=a(21849),c=a(54746),l=a(23739),m=e([o,s]);[o,s]=m.then?(await m)():m;const f=({peer:e,avatarWebPhoto:t,avatarSize:a,text:n,badgeText:m,badgeIcon:f,className:u,badgeClassName:d,badgeIconClassName:A,textClassName:h,onClick:p})=>{const b=(0,o.A)();return r.Ay.createElement("div",{className:(0,i.A)(l.A.root,p&&l.A.clickable,u),onClick:p},r.Ay.createElement("div",{className:l.A.top},r.Ay.createElement(s.A,{size:a,peer:e,webPhoto:t}),m&&r.Ay.createElement("div",{className:(0,i.A)(l.A.badge,d),dir:b.isRtl?"rtl":"ltr"},f&&r.Ay.createElement(c.A,{name:f,className:A}),m)),n&&r.Ay.createElement("p",{className:(0,i.A)(l.A.text,h)},n))},u=(0,r.ph)(f);n()}catch(e){n(e)}})},45681:(e,t,a)=>{a.d(t,{A:()=>n});const n={root:"gibpMWRW",particles:"ptK2PtrY",title:"uHi7dzFK",description:"y4GHVbyq",stickerWrapper:"Kjblw3yb"}},52165:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.d(t,{A:()=>y});var r=a(84051),i=a(87357),o=a(76023),s=a(17712),c=a(97040),l=a(80146),m=a(88467),f=a(84034),u=a(45681),d=e([l]),A=d.then?(await d)():d;l=A[0];const h=8*o.$,p={centerShift:[0,-36]};function b({model:e,sticker:t,color:a,title:n,description:o,isDisabled:d,className:A}){const b=(0,r.li)(),y=(0,r.li)(),v=(0,s.A)(()=>{y.current?.()}),g=(0,s.A)(e=>{y.current=e});return r.Ay.createElement("div",{className:(0,i.A)(u.A.root,A)},r.Ay.createElement(c.A,{color:a,centerShift:p.centerShift,isDisabled:d,className:u.A.particles,onRequestAnimation:g}),"swaying-star"===e?r.Ay.createElement(f.A,{color:a,centerShift:p.centerShift,onMouseMove:v}):"speeding-diamond"===e?r.Ay.createElement(m.A,{onMouseMove:v}):"sticker"===e&&t&&r.Ay.createElement("div",{ref:b,className:u.A.stickerWrapper,style:`width: ${h}px; height: ${h}px`,onMouseMove:v},r.Ay.createElement(l.A,{containerRef:b,sticker:t,size:h,shouldPreloadPreview:!0,shouldLoop:!0})),r.Ay.createElement("h2",{className:u.A.title},n),r.Ay.createElement("div",{className:u.A.description},o))}const y=(0,r.ph)(b);n()}catch(v){n(v)}})},55560:(e,t,a)=>{a.d(t,{A:()=>n});const n={options:"OnCj9kef",option:"tpTHQAUF",active:"U_9MXPG5",wideOption:"dJcJl33b",optionTop:"x9G4lqMf",stackedStars:"etXLebjM",stackedStar:"swttXv9P",optionBottom:"tK7La7L2",moreOptions:"AWXBaWLW",iconDown:"zWYHZJmd"}},63401:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.d(t,{A:()=>d});var r=a(84051),i=a(87357),o=a(59030),s=a(64493),c=a(8410),l=a(35307),m=e([o,s,c]);function f(){return f=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},f.apply(null,arguments)}[o,s,c]=m.then?(await m)():m;const u=({confirmButtonText:e,isConfirmDisabled:t,shouldAdaptToSearch:a,withFixedHeight:n,onConfirm:m,withPremiumGradient:u,...d})=>{const A=(0,o.A)(),h=Boolean(e||m);return r.Ay.createElement(c.A,f({},d,{isSlim:!0,className:(0,i.A)(a&&l.A.withSearch,n&&l.A.fixedHeight,d.className),contentClassName:(0,i.A)(l.A.content,d.contentClassName),headerClassName:(0,i.A)(l.A.header,d.headerClassName)}),d.children,h&&r.Ay.createElement("div",{className:l.A.buttonWrapper},r.Ay.createElement(s.A,{withPremiumGradient:u,onClick:m||d.onClose,color:"primary",size:"smaller",disabled:t},e||A("Confirm"))))},d=(0,r.ph)(u);n()}catch(A){n(A)}})},65461:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.d(t,{A:()=>A});var r=a(84051),i=a(87357),o=a(54746),s=a(64493),c=a(22720),l=a(8410),m=a(84640),f=a(79797),u=e([s,c,l,m]);[s,c,l,m]=u.then?(await u)():u;const d=({isOpen:e,listItemData:t,headerIconName:a,header:n,footer:u,buttonText:d,hasBackdrop:A,withSeparator:h,onClose:p,onButtonClick:b,contentClassName:y})=>r.Ay.createElement(l.A,{isOpen:e,className:(0,i.A)(f.A.root,y),contentClassName:f.A.content,hasAbsoluteCloseButton:!0,absoluteCloseButtonColor:A?"translucent-white":void 0,onClose:p},a&&r.Ay.createElement("div",{className:f.A.topIcon},r.Ay.createElement(o.A,{name:a})),n,r.Ay.createElement("div",null,t?.map(([e,t,a])=>r.Ay.createElement(c.A,{isStatic:!0,multiline:!0,icon:e,iconClassName:f.A.listItemIcon},r.Ay.createElement("span",{className:"title"},t),r.Ay.createElement("span",{className:"subtitle"},a)))),h&&r.Ay.createElement(m.A,{className:f.A.separator}),u,d&&r.Ay.createElement(s.A,{size:"smaller",onClick:b||p},d)),A=(0,r.ph)(d);n()}catch(e){n(e)}})},79797:(e,t,a)=>{a.d(t,{A:()=>n});const n={root:"LAh8evux",title:"yfODVQ1M",description:"QaQn08BX",secondary:"sQZslvAr",topIcon:"jySLtQNG",listItemIcon:"hQbEPsTU",content:"hrizpMDe",separator:"En1zD2cT"}},84034:(e,t,a)=>{a.d(t,{A:()=>c});var n=a(84051),r=a(66644),i=a(87357),o=a(17712);const s={root:"KQ61en7j",star:"no11eFNA",star_purple:"NXn1Bbql",starPurple:"NXn1Bbql"},c=(0,n.ph)(function({color:e,centerShift:t,onMouseMove:a}){const c=(0,n.li)(),l=(0,o.A)(e=>{const n=e.currentTarget.getBoundingClientRect(),i=n.left+n.width/2+t[0],o=n.top+n.height/2+t[1],s=e.clientX-i,l=e.clientY-o,m=Math.max(-1,Math.min(1,s/50)),f=Math.max(-1,Math.min(1,l/50)),u=40*m,d=40*-f;(0,r.RK)(()=>{c.current.style.transform=`scale(1.1) rotateX(${d}deg) rotateY(${u}deg)`}),a()}),m=(0,o.A)(()=>{(0,r.RK)(()=>{c.current.style.transform=""})});return n.Ay.createElement("div",{className:s.root,onMouseMove:l,onMouseLeave:m},n.Ay.createElement("div",{ref:c,className:(0,i.A)(s.star,s[`star_${e}`]),role:"img","aria-label":"Telegram Stars"}))})},88467:(e,t,a)=>{a.d(t,{A:()=>u});var n=a(84051),r=a(66644),i=a(19822),o=a(58443),s=a(17712),c=a(64489);const l=a.p+"diamond.9926e8364655a28cecf3.png";let m,f=!0;const u=(0,n.ph)(function({onMouseMove:e}){const[t,a]=(0,n.J0)(1),u=(0,s.A)(()=>{m&&(clearTimeout(m),m=void 0),m=window.setTimeout(()=>{const e=Date.now();f=!0,(0,i.S0)(()=>{if(!f)return!1;const t=Math.min((Date.now()-e)/1500,1),n=4*(1-function(e){return 1-(1-e)**2}(t));return a(n),f=t<1&&n>1,f},r.RK)},300),f=!1,a(5),e()});return n.Ay.createElement("div",{className:"lIc96mwM"},n.Ay.createElement("div",{className:"vIrSZr0L",onMouseMove:u},n.Ay.createElement(c.A,{speed:t,size:130,tgsUrl:o.w.Diamond,previewUrl:l,nonInteractive:!0,noLoop:!1})))})},97040:(e,t,a)=>{a.d(t,{A:()=>v});var n=a(84051),r=a(87357),i=a(14235),o=a(61157);const s={blue:[0,152/255,234/255],blueGradient:[[1/255,88/255,175/255],[103/255,208/255,1]],purple:[150/255,111/255,254/255],purpleGradient:[[107/255,147/255,1],[228/255,106/255,206/255]],gold:[1,191/255,10/255],goldGradient:[[253/255,235/255,50/255],[215/255,89/255,2/255]]},c={particleCount:5,distanceLimit:1,fadeInTime:.05,minLifetime:3,maxLifetime:3,maxStartTimeDelay:0,selfDestroyTime:3,minSpawnRadius:5,maxSpawnRadius:50},l={width:350,height:230,particleCount:100,color:[0,152/255,234/255],speed:18,baseSize:6,minSpawnRadius:35,maxSpawnRadius:70,distanceLimit:.7,fadeInTime:.25,fadeOutTime:1,minLifetime:4,maxLifetime:6,maxStartTimeDelay:3,edgeFadeZone:50,centerShift:[0,0],accelerationFactor:3,selfDestroyTime:0},m=new Map;function f(e,t){let a=m.get(e);return a||(a=function(e){const t=e.getContext("webgl",{alpha:!0,antialias:!1,preserveDrawingBuffer:!1});if(!t)throw new Error("WebGL not supported");const a=A(t,t.VERTEX_SHADER,u),n=A(t,t.FRAGMENT_SHADER,d);if(!a||!n)throw new Error("Failed to create shaders");const r=function(e,t,a){const n=e.createProgram();if(n){if(e.attachShader(n,t),e.attachShader(n,a),e.linkProgram(n),e.getProgramParameter(n,e.LINK_STATUS))return n;e.deleteProgram(n)}}(t,a,n);if(!r)throw new Error("Failed to create shader program");const s=window.devicePixelRatio||1,c=new Map,f={attributes:{startPosition:t.getAttribLocation(r,"a_startPosition"),velocity:t.getAttribLocation(r,"a_velocity"),startTime:t.getAttribLocation(r,"a_startTime"),lifetime:t.getAttribLocation(r,"a_lifetime"),size:t.getAttribLocation(r,"a_size"),baseOpacity:t.getAttribLocation(r,"a_baseOpacity"),color:t.getAttribLocation(r,"a_color")},uniforms:{resolution:t.getUniformLocation(r,"u_resolution"),time:t.getUniformLocation(r,"u_time"),canvasWidth:t.getUniformLocation(r,"u_canvasWidth"),canvasHeight:t.getUniformLocation(r,"u_canvasHeight"),accelerationFactor:t.getUniformLocation(r,"u_accelerationFactor"),fadeInTime:t.getUniformLocation(r,"u_fadeInTime"),fadeOutTime:t.getUniformLocation(r,"u_fadeOutTime"),edgeFadeZone:t.getUniformLocation(r,"u_edgeFadeZone"),rotationMatrices:t.getUniformLocation(r,"u_rotationMatrices"),spawnCenter:t.getUniformLocation(r,"u_spawnCenter")}};let y,v;function g(e){y&&(t.clear(t.COLOR_BUFFER_BIT),c.forEach(a=>{const n=(e-a.startTime)/1e3;t.uniform1f(f.uniforms.time,n),t.uniform1f(f.uniforms.canvasWidth,a.config.width*s),t.uniform1f(f.uniforms.canvasHeight,a.config.height*s),t.uniform1f(f.uniforms.accelerationFactor,a.config.accelerationFactor),t.uniform1f(f.uniforms.fadeInTime,a.config.fadeInTime),t.uniform1f(f.uniforms.fadeOutTime,a.config.fadeOutTime),t.uniform1f(f.uniforms.edgeFadeZone,a.config.edgeFadeZone*s),t.uniform2f(f.uniforms.spawnCenter,a.centerX*s,a.centerY*s),t.bindBuffer(t.ARRAY_BUFFER,a.buffers.startPosition),t.enableVertexAttribArray(f.attributes.startPosition),t.vertexAttribPointer(f.attributes.startPosition,2,t.FLOAT,!1,0,0),t.bindBuffer(t.ARRAY_BUFFER,a.buffers.velocity),t.enableVertexAttribArray(f.attributes.velocity),t.vertexAttribPointer(f.attributes.velocity,2,t.FLOAT,!1,0,0),t.bindBuffer(t.ARRAY_BUFFER,a.buffers.startTime),t.enableVertexAttribArray(f.attributes.startTime),t.vertexAttribPointer(f.attributes.startTime,1,t.FLOAT,!1,0,0),t.bindBuffer(t.ARRAY_BUFFER,a.buffers.lifetime),t.enableVertexAttribArray(f.attributes.lifetime),t.vertexAttribPointer(f.attributes.lifetime,1,t.FLOAT,!1,0,0),t.bindBuffer(t.ARRAY_BUFFER,a.buffers.size),t.enableVertexAttribArray(f.attributes.size),t.vertexAttribPointer(f.attributes.size,1,t.FLOAT,!1,0,0),t.bindBuffer(t.ARRAY_BUFFER,a.buffers.baseOpacity),t.enableVertexAttribArray(f.attributes.baseOpacity),t.vertexAttribPointer(f.attributes.baseOpacity,1,t.FLOAT,!1,0,0),t.bindBuffer(t.ARRAY_BUFFER,a.buffers.color),t.enableVertexAttribArray(f.attributes.color),t.vertexAttribPointer(f.attributes.color,3,t.FLOAT,!1,0,0),t.drawArrays(t.POINTS,0,a.config.particleCount)}),y=requestAnimationFrame(g))}function w(i){const o=c.get(i);o&&(o.selfDestroyTimeout&&clearTimeout(o.selfDestroyTimeout),Object.values(o.buffers).forEach(e=>{e&&t.deleteBuffer(e)}),c.delete(i),0===c.size&&(void 0!==y&&(cancelAnimationFrame(y),y=void 0),v?.(),c.clear(),t.deleteProgram(r),t.deleteShader(a),t.deleteShader(n),m.delete(e)))}return{addSystem:function(a){const n=(0,i.A)(),m={...l,...a},u={startPosition:t.createBuffer(),velocity:t.createBuffer(),startTime:t.createBuffer(),lifetime:t.createBuffer(),size:t.createBuffer(),baseOpacity:t.createBuffer(),color:t.createBuffer()},d={id:n,config:m,buffers:u,startTime:performance.now(),seed:Math.floor(1e6*Math.random()),centerX:m.width/2+m.centerShift[0],centerY:m.height/2+m.centerShift[1],avgDistance:(m.width/2+m.height/2)/2};return c.set(n,d),function(e){const a=new h(e.seed),{config:n}=e,r=new Float32Array(2*n.particleCount),i=new Float32Array(2*n.particleCount),o=new Float32Array(n.particleCount),c=new Float32Array(n.particleCount),l=new Float32Array(n.particleCount),m=new Float32Array(n.particleCount),f=new Float32Array(3*n.particleCount);for(let t=0;t<n.particleCount;t++){const u=a.next()*Math.PI*2,d=a.nextBetween(n.minSpawnRadius,n.maxSpawnRadius),A=Math.cos(u),h=Math.sin(u),p=e.centerX+A*d,y=e.centerY+h*d;r[2*t]=p*s,r[2*t+1]=y*s,c[t]=a.nextBetween(n.minLifetime,n.maxLifetime),o[t]=a.next()*n.maxStartTimeDelay;const v=a.nextBetween(e.avgDistance*n.distanceLimit*.5,e.avgDistance*n.distanceLimit)/c[t]*s;i[2*t]=A*v,i[2*t+1]=h*v;const g=a.next();l[t]=g<.3?.67*n.baseSize*s:g<.7?1.33*n.baseSize*s:2.2*n.baseSize*s,m[t]=a.nextBetween(.3,.8);const w=b(n.color,a);f[3*t]=w[0],f[3*t+1]=w[1],f[3*t+2]=w[2]}t.bindBuffer(t.ARRAY_BUFFER,e.buffers.startPosition),t.bufferData(t.ARRAY_BUFFER,r,t.STATIC_DRAW),t.bindBuffer(t.ARRAY_BUFFER,e.buffers.velocity),t.bufferData(t.ARRAY_BUFFER,i,t.STATIC_DRAW),t.bindBuffer(t.ARRAY_BUFFER,e.buffers.startTime),t.bufferData(t.ARRAY_BUFFER,o,t.STATIC_DRAW),t.bindBuffer(t.ARRAY_BUFFER,e.buffers.lifetime),t.bufferData(t.ARRAY_BUFFER,c,t.STATIC_DRAW),t.bindBuffer(t.ARRAY_BUFFER,e.buffers.size),t.bufferData(t.ARRAY_BUFFER,l,t.STATIC_DRAW),t.bindBuffer(t.ARRAY_BUFFER,e.buffers.baseOpacity),t.bufferData(t.ARRAY_BUFFER,m,t.STATIC_DRAW),t.bindBuffer(t.ARRAY_BUFFER,e.buffers.color),t.bufferData(t.ARRAY_BUFFER,f,t.STATIC_DRAW)}(d),function(){let a=0,n=0;c.forEach(e=>{a=Math.max(a,e.config.width),n=Math.max(n,e.config.height)}),0===c.size&&(a=l.width,n=l.height),e.width===a*s&&e.height===n*s||(e.width=a*s,e.height=n*s,e.style.width=a+"px",e.style.height=n+"px"),t.viewport(0,0,e.width,e.height)}(),m.selfDestroyTime&&(d.selfDestroyTimeout=window.setTimeout(()=>{w(n)},1e3*m.selfDestroyTime)),1===c.size&&(t.useProgram(r),t.uniform2f(f.uniforms.resolution,e.width,e.height),t.uniformMatrix2fv(f.uniforms.rotationMatrices,!1,function(){if(!p){const e=18,t=220;p=new Float32Array(4*e);for(let a=0;a<e;a++){const e=t*Math.PI/180*a,n=Math.cos(e),r=Math.sin(e);p[4*a]=n,p[4*a+1]=r,p[4*a+2]=-r,p[4*a+3]=n}}return p}()),t.enable(t.BLEND),t.blendFunc(t.ONE,t.ONE_MINUS_SRC_ALPHA),t.clearColor(0,0,0,0),v=o.GE.subscribe(()=>{const e=!(0,o.GE)();e&&!y?y=requestAnimationFrame(g):!e&&y&&(cancelAnimationFrame(y),y=void 0)}),y=requestAnimationFrame(g)),()=>w(n)}}}(e),m.set(e,a)),a.addSystem(t)}const u="\n    attribute vec2 a_startPosition;\n    attribute vec2 a_velocity;\n    attribute float a_startTime;\n    attribute float a_lifetime;\n    attribute float a_size;\n    attribute float a_baseOpacity;\n    attribute vec3 a_color;\n\n    uniform vec2 u_resolution;\n    uniform float u_time;\n    uniform float u_canvasWidth;\n    uniform float u_canvasHeight;\n    uniform float u_accelerationFactor;\n    uniform float u_fadeInTime;\n    uniform float u_fadeOutTime;\n    uniform float u_edgeFadeZone;\n    uniform mat2 u_rotationMatrices[18];\n    uniform vec2 u_spawnCenter;\n\n    varying float v_opacity;\n    varying vec3 v_color;\n\n    void main() {\n        float totalAge = u_time - a_startTime;\n        float age = mod(totalAge, a_lifetime);\n\n        // For the initial animation, fade in all particles\n        float globalFadeIn = min(u_time / u_fadeInTime, 1.0);\n\n        float lifeRatio = age / a_lifetime;\n\n        // Calculate rotation based on completed lifecycles\n        float lifecycleCount = floor(totalAge / a_lifetime);\n        int rotationIndex = int(mod(lifecycleCount, 18.0));\n\n        // Get rotation matrix\n        mat2 rotationMatrix = u_rotationMatrices[rotationIndex];\n\n        // Rotate start position around spawn center\n        vec2 startOffset = a_startPosition - u_spawnCenter;\n        vec2 rotatedStartOffset = rotationMatrix * startOffset;\n        vec2 rotatedStartPosition = u_spawnCenter + rotatedStartOffset;\n\n        // Apply rotation matrix to velocity\n        vec2 rotatedVelocity = rotationMatrix * a_velocity;\n\n        // Apply shoot-out effect: fast initial speed that slows down\n        float speedMultiplier = 1.0 + u_accelerationFactor * exp(-3.0 * lifeRatio);\n\n        vec2 position = rotatedStartPosition + rotatedVelocity * age * speedMultiplier;\n\n        float opacity = 1.0;\n        if (lifeRatio < u_fadeInTime / a_lifetime) {\n            opacity = (lifeRatio * a_lifetime) / u_fadeInTime;\n        } else if (lifeRatio > 1.0 - u_fadeOutTime / a_lifetime) {\n            opacity = (1.0 - lifeRatio) * a_lifetime / u_fadeOutTime;\n        }\n        opacity *= a_baseOpacity * globalFadeIn;\n\n        float distToLeft = position.x;\n        float distToRight = u_canvasWidth - position.x;\n        float distToTop = position.y;\n        float distToBottom = u_canvasHeight - position.y;\n        float distToEdge = min(min(distToLeft, distToRight), min(distToTop, distToBottom));\n\n        if (distToEdge < u_edgeFadeZone) {\n            opacity *= distToEdge / u_edgeFadeZone;\n        }\n\n        vec2 clipSpace = ((position / u_resolution) * 2.0 - 1.0) * vec2(1, -1);\n        gl_Position = vec4(clipSpace, 0, 1);\n        gl_PointSize = a_size;\n        v_opacity = opacity;\n        v_color = a_color;\n    }\n",d="\n    precision mediump float;\n\n    varying float v_opacity;\n    varying vec3 v_color;\n\n    void main() {\n        vec2 coord = gl_PointCoord - vec2(0.5);\n\n        // Create a four-pointed star\n        float absX = abs(coord.x);\n        float absY = abs(coord.y);\n\n        // Star parameters\n        float innerSize = 0.12;    // Size of center square\n        float armLength = 0.45;    // Length of star arms\n        float armWidth = 0.08;     // Half-width of star arms at base\n\n        float dist = 1.0; // Default to outside\n\n        // Center square\n        if (absX <= innerSize && absY <= innerSize) {\n            dist = max(absX, absY) - innerSize;\n        }\n        // Horizontal arms (left and right points)\n        else if (absY <= armWidth && absX <= armLength) {\n            // Taper the arms - they get narrower toward the tips\n            float normalizedX = (absX - innerSize) / (armLength - innerSize);\n            float taperFactor = 1.0 - normalizedX * 0.8; // Taper to 20% of original width\n            float currentArmWidth = armWidth * taperFactor;\n            dist = absY - currentArmWidth;\n        }\n        // Vertical arms (top and bottom points)\n        else if (absX <= armWidth && absY <= armLength) {\n            // Taper the arms - they get narrower toward the tips\n            float normalizedY = (absY - innerSize) / (armLength - innerSize);\n            float taperFactor = 1.0 - normalizedY * 0.8; // Taper to 20% of original width\n            float currentArmWidth = armWidth * taperFactor;\n            dist = absX - currentArmWidth;\n        }\n\n        // Use smoothstep for anti-aliasing to reduce subpixel artifacts\n        float alpha = 1.0 - smoothstep(-0.01, 0.01, dist);\n\n        if (alpha <= 0.0) {\n            discard;\n        }\n\n        gl_FragColor = vec4(v_color * v_opacity * alpha, v_opacity * alpha);\n    }\n";function A(e,t,a){const n=e.createShader(t);if(n){if(e.shaderSource(n,a),e.compileShader(n),e.getShaderParameter(n,e.COMPILE_STATUS))return n;e.deleteShader(n)}}class h{constructor(e){var t,a,n;t=this,n=void 0,(a=function(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var a=t.call(e,"string");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(a="seed"))in t?Object.defineProperty(t,a,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[a]=n,this.seed=e}next(){return this.seed=(9301*this.seed+49297)%233280,this.seed/233280}nextBetween(e,t){return e+(t-e)*this.next()}}let p;function b(e,t){if(Array.isArray(e[0])){const[a,n]=e;return[t.nextBetween(a[0],n[0]),t.nextBetween(a[1],n[1]),t.nextBetween(a[2],n[2])]}return e}const y=[0,-36],v=(0,n.ph)(({color:e="purple",centerShift:t=y,isDisabled:a,className:i,onRequestAnimation:o})=>{const l=(0,n.li)();return(0,n.Nf)(()=>{if(!a)return f(l.current,{color:s[`${e}Gradient`],centerShift:t})},[t,e,a]),(0,n.vJ)(()=>{o&&o(()=>{a||f(l.current,{color:s[`${e}Gradient`],centerShift:t,...c})})},[t,e,a,o]),n.Ay.createElement("canvas",{ref:l,className:(0,r.A)("hHHgpBRr",i)})})}}]);
//# sourceMappingURL=4565.b99a85173c46f2069001.js.map